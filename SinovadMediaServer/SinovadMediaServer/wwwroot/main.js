(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{3452:(bn,Ye,M)=>{"use strict";M.d(Ye,{m:()=>Me});var e=M(6814),y=M(1476),E=M(7700),R=M(2939),b=M(5313),F=M(2032),L=M(9157),S=M(3566),m=M(5986),h=M(5940),p=M(2596),v=M(3680),w=M(8525),V=M(8034),O=M(5879);let se=(()=>{class _e{static#e=this.\u0275fac=function(we){return new(we||_e)};static#t=this.\u0275mod=O.oAB({type:_e});static#n=this.\u0275inj=O.cJS({imports:[v.BQ,e.ez,v.BQ]})}return _e})(),De=(()=>{class _e{static#e=this.\u0275fac=function(we){return new(we||_e)};static#t=this.\u0275mod=O.oAB({type:_e});static#n=this.\u0275inj=O.cJS({imports:[e.ez,y.TU,E.Is,R.ZX,b.p0,F.c,L.lN,S.JX,m.p9,h.Cq,p.AV,v.Ng,w.LD,V.FA,v.XK,se,y.TU,E.Is,R.ZX,b.p0,F.c,L.lN,S.JX,m.p9,h.Cq,p.AV,v.Ng,w.LD,V.FA,v.XK,se]})}return _e})(),Me=(()=>{class _e{static#e=this.\u0275fac=function(we){return new(we||_e)};static#t=this.\u0275mod=O.oAB({type:_e});static#n=this.\u0275inj=O.cJS({imports:[e.ez,De,e.ez,De]})}return _e})()},3817:(bn,Ye,M)=>{"use strict";M.d(Ye,{U:()=>b});var e=M(6814),y=M(95),E=M(3452),R=M(5879);let b=(()=>{class F{static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275mod=R.oAB({type:F});static#n=this.\u0275inj=R.cJS({imports:[e.ez,y.u5,E.m]})}return F})()},7463:(bn,Ye,M)=>{"use strict";var e=M(5879),y=M(6814);class E extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R extends E{static makeCurrent(){(0,y.HT)(new R)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function F(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==t?null:function S(r){L=L||document.createElement("a"),L.setAttribute("href",r);const i=L.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,y.Mx)(document.cookie,i)}}let L,b=null,h=(()=>{class r{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const p=new e.OlP("EventManagerPlugins");let v=(()=>{class r{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,o){return this._findPluginFor(n).addEventListener(t,n,o)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(c=>c.supports(t)),!n)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(t,n),n}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(p),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();class w{constructor(i){this._doc=i}}const V="ng-app-id";let O=(()=>{class r{constructor(t,n,o,c={}){this.doc=t,this.appId=n,this.nonce=o,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(c),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(o=>o.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${V}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(o=>{null!=o.textContent&&n.set(o.textContent,o)}),n}return null}changeUsageCount(t,n){const o=this.styleRef;if(o.has(t)){const c=o.get(t);return c.usage+=n,c.usage}return o.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const o=this.styleNodesInDOM,c=o?.get(n);if(c?.parentNode===t)return o.delete(n),c.removeAttribute(V),c;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=n,this.platformIsServer&&u.setAttribute(V,this.appId),u}}addStyleToHost(t,n){const o=this.getStyleElement(t,n);t.appendChild(o);const c=this.styleRef,u=c.get(n)?.elements;u?u.push(o):c.set(n,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const G={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,P="%COMP%",x=`_nghost-${P}`,I=`_ngcontent-${P}`,N=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(r,i){return i.map(t=>t.replace(k,r))}let re=(()=>{class r{constructor(t,n,o,c,u,g,A,U=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=c,this.doc=u,this.platformId=g,this.ngZone=A,this.nonce=U,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(g),this.defaultRenderer=new ae(t,u,A,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===e.ifc.ShadowDom&&(n={...n,encapsulation:e.ifc.Emulated});const o=this.getOrCreateRenderer(t,n);return o instanceof ne?o.applyToHost(t):o instanceof me&&o.applyStyles(),o}getOrCreateRenderer(t,n){const o=this.rendererByCompId;let c=o.get(n.id);if(!c){const u=this.doc,g=this.ngZone,A=this.eventManager,U=this.sharedStylesHost,Z=this.removeStylesOnCompDestroy,ce=this.platformIsServer;switch(n.encapsulation){case e.ifc.Emulated:c=new ne(A,U,n,this.appId,Z,u,g,ce);break;case e.ifc.ShadowDom:return new H(A,U,t,n,u,g,this.nonce,ce);default:c=new me(A,U,n,Z,u,g,ce)}o.set(n.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(v),e.LFG(O),e.LFG(e.AFp),e.LFG(N),e.LFG(y.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();class ae{constructor(i,t,n,o){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(G[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(oe(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(oe(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new e.vHH(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,o){if(o){t=o+":"+t;const c=G[o];c?i.setAttributeNS(c,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const o=G[n];o?i.removeAttributeNS(o,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,o){o&(e.JOm.DashCase|e.JOm.Important)?i.style.setProperty(t,n,o&e.JOm.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&e.JOm.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){i[t]=n}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=(0,y.q)().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function oe(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class H extends ae{constructor(i,t,n,o,c,u,g,A){super(i,c,u,A),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const U=Y(o.id,o.styles);for(const Z of U){const ce=document.createElement("style");g&&ce.setAttribute("nonce",g),ce.textContent=Z,this.shadowRoot.appendChild(ce)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class me extends ae{constructor(i,t,n,o,c,u,g,A){super(i,c,u,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=A?Y(A,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ne extends me{constructor(i,t,n,o,c,u,g,A){const U=o+"-"+n.id;super(i,t,n,c,u,g,A,U),this.contentAttr=function C(r){return I.replace(k,r)}(U),this.hostAttr=function B(r){return x.replace(k,r)}(U)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let fe=(()=>{class r extends w{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,o){return t.addEventListener(n,o,!1),()=>this.removeEventListener(t,n,o)}removeEventListener(t,n,o){return t.removeEventListener(n,o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ee=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let De=(()=>{class r extends w{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,n,o){const c=r.parseEventName(n),u=r.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const n=t.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const c=r._normalizeKey(n.pop());let u="",g=n.indexOf("code");if(g>-1&&(n.splice(g,1),u="code."),Ee.forEach(U=>{const Z=n.indexOf(U);Z>-1&&(n.splice(Z,1),u+=U+".")}),u+=c,0!=n.length||0===c.length)return null;const A={};return A.domEventName=o,A.fullKey=u,A}static matchEventFullKeyCode(t,n){let o=Ae[t.key]||t.key,c="";return n.indexOf("code.")>-1&&(o=t.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ee.forEach(u=>{u!==o&&(0,se[u])(t)&&(c+=u+".")}),c+=o,c===n)}static eventCallback(t,n,o){return c=>{r.matchEventFullKeyCode(c,t)&&o.runGuarded(()=>n(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const xe=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:y.bD},{provide:e.g9A,useValue:function we(){R.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function We(){return(0,e.RDi)(document),document},deps:[]}]),be=new e.OlP(""),K=[{provide:e.rWj,useClass:class m{addToWindow(i){e.dqk.getAngularTestability=(n,o=!0)=>{const c=i.findTestabilityInTree(n,o);if(null==c)throw new e.vHH(5103,!1);return c},e.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(n=>{const o=e.dqk.getAllAngularTestabilities();let c=o.length,u=!1;const g=function(A){u=u||A,c--,0==c&&n(u)};o.forEach(A=>{A.whenStable(g)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?(0,y.q)().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],ie=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Fe(){return new e.qLn},deps:[]},{provide:p,useClass:fe,multi:!0,deps:[y.K0,e.R0b,e.Lbi]},{provide:p,useClass:De,multi:!0,deps:[y.K0]},re,O,v,{provide:e.FYo,useExisting:re},{provide:y.JF,useClass:h,deps:[]},[]];let he=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(be,12))};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[...ie,...K],imports:[y.ez,e.hGG]})}return r})(),X=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(n){let o=null;return o=n?new n:function te(){return new X((0,e.LFG)(y.K0))}(),o},providedIn:"root"})}return r})();typeof window<"u"&&window;let It=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(n){let o=null;return o=n?new(n||r):e.LFG(Xt),o},providedIn:"root"})}return r})(),Xt=(()=>{class r extends It{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case e.q3G.NONE:return n;case e.q3G.HTML:return(0,e.qzn)(n,"HTML")?(0,e.z3N)(n):(0,e.EiD)(this._doc,String(n)).toString();case e.q3G.STYLE:return(0,e.qzn)(n,"Style")?(0,e.z3N)(n):n;case e.q3G.SCRIPT:if((0,e.qzn)(n,"Script"))return(0,e.z3N)(n);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(n,"URL")?(0,e.z3N)(n):(0,e.mCW)(String(n));case e.q3G.RESOURCE_URL:if((0,e.qzn)(n,"ResourceURL"))return(0,e.z3N)(n);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,e.JVY)(t)}bypassSecurityTrustStyle(t){return(0,e.L6k)(t)}bypassSecurityTrustScript(t){return(0,e.eBb)(t)}bypassSecurityTrustUrl(t){return(0,e.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,e.pB0)(t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(n){let o=null;return o=n?new n:function Gt(r){return new Xt(r.get(y.K0))}(e.LFG(e.zs3)),o},providedIn:"root"})}return r})();var pt=M(2096),kt=M(7715),Bt=M(5592),Kt=M(1631),tn=M(4674);function en(r,i){return(0,tn.m)(i)?(0,Kt.z)(r,i,1):(0,Kt.z)(r,1)}var bt=M(2181),wt=M(7398),Zt=M(9360);function Wt(r){return(0,Zt.e)((i,t)=>{try{i.subscribe(t)}finally{t.add(r)}})}var dn=M(4664);class gn{}class En{}class Vn{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const o=t.slice(0,n),c=o.toLowerCase(),u=t.slice(n+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(u):this.headers.set(c,[u])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof Vn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new Vn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Vn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const o=("a"===i.op?this.headers.get(t):void 0)||[];o.push(...n),this.headers.set(t,o);break;case"d":const c=i.value;if(c){let u=this.headers.get(t);if(!u)return;u=u.filter(g=>-1===c.indexOf(g)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(c=>c.toString()),o=i.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class ei{encodeKey(i){return Vt(i)}encodeValue(i){return Vt(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const gt=/%(\d[a-f0-9])/gi,rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vt(r){return encodeURIComponent(r).replace(gt,(i,t)=>rt[t]??i)}function je(r){return`${r}`}class Qe{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new ei,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _i(r,i){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[u,g]=-1==c?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,c)),i.decodeValue(o.slice(c+1))],A=t.get(u)||[];A.push(g),t.set(u,A)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],o=Array.isArray(n)?n.map(je):[je(n)];this.map.set(t,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const o=i[n];Array.isArray(o)?o.forEach(c=>{t.push({param:n,value:c,op:"a"})}):t.push({param:n,value:o,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Qe({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(je(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const o=n.indexOf(je(i.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Pt{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function hn(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function xt(r){return typeof Blob<"u"&&r instanceof Blob}function St(r){return typeof FormData<"u"&&r instanceof FormData}class $t{constructor(i,t,n,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function rn(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,c=o):c=n,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Vn),this.context||(this.context=new Pt),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+u}}else this.params=new Qe,this.urlWithParams=t}serializeBody(){return null===this.body?null:hn(this.body)||xt(this.body)||St(this.body)||function Rt(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||St(this.body)?null:xt(this.body)?this.body.type||null:hn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,o=i.responseType||this.responseType,c=void 0!==i.body?i.body:this.body,u=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,g=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let A=i.headers||this.headers,U=i.params||this.params;const Z=i.context??this.context;return void 0!==i.setHeaders&&(A=Object.keys(i.setHeaders).reduce((ce,Pe)=>ce.set(Pe,i.setHeaders[Pe]),A)),i.setParams&&(U=Object.keys(i.setParams).reduce((ce,Pe)=>ce.set(Pe,i.setParams[Pe]),U)),new $t(t,n,c,{params:U,headers:A,context:Z,reportProgress:g,responseType:o,withCredentials:u})}}var ln=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(ln||{});class An{constructor(i,t=200,n="OK"){this.headers=i.headers||new Vn,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class st extends An{constructor(i={}){super(i),this.type=ln.ResponseHeader}clone(i={}){return new st({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Yt extends An{constructor(i={}){super(i),this.type=ln.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new Yt({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class ve extends An{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function tt(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let $e=(()=>{class r{constructor(t){this.handler=t}request(t,n,o={}){let c;if(t instanceof $t)c=t;else{let A,U;A=o.headers instanceof Vn?o.headers:new Vn(o.headers),o.params&&(U=o.params instanceof Qe?o.params:new Qe({fromObject:o.params})),c=new $t(t,n,void 0!==o.body?o.body:null,{headers:A,context:o.context,params:U,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const u=(0,pt.of)(c).pipe(en(A=>this.handler.handle(A)));if(t instanceof $t||"events"===o.observe)return u;const g=u.pipe((0,bt.h)(A=>A instanceof Yt));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,wt.U)(A=>{if(null!==A.body&&!(A.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return A.body}));case"blob":return g.pipe((0,wt.U)(A=>{if(null!==A.body&&!(A.body instanceof Blob))throw new Error("Response is not a Blob.");return A.body}));case"text":return g.pipe((0,wt.U)(A=>{if(null!==A.body&&"string"!=typeof A.body)throw new Error("Response is not a string.");return A.body}));default:return g.pipe((0,wt.U)(A=>A.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Qe).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,o={}){return this.request("PATCH",t,tt(o,n))}post(t,n,o={}){return this.request("POST",t,tt(o,n))}put(t,n,o={}){return this.request("PUT",t,tt(o,n))}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(gn))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();function zr(r,i){return i(r)}function Io(r,i){return(t,n)=>i.intercept(t,{handle:o=>r(o,n)})}const Oo=new e.OlP(""),Zn=new e.OlP(""),ji=new e.OlP("");function hr(){let r=null;return(i,t)=>{null===r&&(r=((0,e.f3M)(Oo,{optional:!0})??[]).reduceRight(Io,zr));const n=(0,e.f3M)(e.HDt),o=n.add();return r(i,t).pipe(Wt(()=>n.remove(o)))}}let Lr=(()=>{class r extends gn{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Zn),...this.injector.get(ji,[])]));this.chain=o.reduceRight((c,u)=>function lo(r,i,t){return(n,o)=>t.runInContext(()=>i(n,c=>r(c,o)))}(c,u,this.injector),zr)}const n=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Wt(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(En),e.LFG(e.lqb))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const jr=/^\)\]\}',?\n/;let Mr=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new e.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,kt.D)(n.\u0275loadImpl()):(0,pt.of)(null)).pipe((0,dn.w)(()=>new Bt.y(c=>{const u=n.build();if(u.open(t.method,t.urlWithParams),t.withCredentials&&(u.withCredentials=!0),t.headers.forEach((Je,ct)=>u.setRequestHeader(Je,ct.join(","))),t.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Je=t.detectContentTypeHeader();null!==Je&&u.setRequestHeader("Content-Type",Je)}if(t.responseType){const Je=t.responseType.toLowerCase();u.responseType="json"!==Je?Je:"text"}const g=t.serializeBody();let A=null;const U=()=>{if(null!==A)return A;const Je=u.statusText||"OK",ct=new Vn(u.getAllResponseHeaders()),Et=function er(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(u)||t.url;return A=new st({headers:ct,status:u.status,statusText:Je,url:Et}),A},Z=()=>{let{headers:Je,status:ct,statusText:Et,url:Ft}=U(),Lt=null;204!==ct&&(Lt=typeof u.response>"u"?u.responseText:u.response),0===ct&&(ct=Lt?200:0);let Qt=ct>=200&&ct<300;if("json"===t.responseType&&"string"==typeof Lt){const qt=Lt;Lt=Lt.replace(jr,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(fn){Lt=qt,Qt&&(Qt=!1,Lt={error:fn,text:Lt})}}Qt?(c.next(new Yt({body:Lt,headers:Je,status:ct,statusText:Et,url:Ft||void 0})),c.complete()):c.error(new ve({error:Lt,headers:Je,status:ct,statusText:Et,url:Ft||void 0}))},ce=Je=>{const{url:ct}=U(),Et=new ve({error:Je,status:u.status||0,statusText:u.statusText||"Unknown Error",url:ct||void 0});c.error(Et)};let Pe=!1;const Ne=Je=>{Pe||(c.next(U()),Pe=!0);let ct={type:ln.DownloadProgress,loaded:Je.loaded};Je.lengthComputable&&(ct.total=Je.total),"text"===t.responseType&&u.responseText&&(ct.partialText=u.responseText),c.next(ct)},ze=Je=>{let ct={type:ln.UploadProgress,loaded:Je.loaded};Je.lengthComputable&&(ct.total=Je.total),c.next(ct)};return u.addEventListener("load",Z),u.addEventListener("error",ce),u.addEventListener("timeout",ce),u.addEventListener("abort",ce),t.reportProgress&&(u.addEventListener("progress",Ne),null!==g&&u.upload&&u.upload.addEventListener("progress",ze)),u.send(g),c.next({type:ln.Sent}),()=>{u.removeEventListener("error",ce),u.removeEventListener("abort",ce),u.removeEventListener("load",Z),u.removeEventListener("timeout",ce),t.reportProgress&&(u.removeEventListener("progress",Ne),null!==g&&u.upload&&u.upload.removeEventListener("progress",ze)),u.readyState!==u.DONE&&u.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.JF))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const At=new e.OlP("XSRF_ENABLED"),Sn=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kn=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ti{}let ui=(()=>{class r{constructor(t,n,o){this.doc=t,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0),e.LFG(e.Lbi),e.LFG(Sn))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();function Xn(r,i){const t=r.url.toLowerCase();if(!(0,e.f3M)(At)||"GET"===r.method||"HEAD"===r.method||t.startsWith("http://")||t.startsWith("https://"))return i(r);const n=(0,e.f3M)(ti).getToken(),o=(0,e.f3M)(Kn);return null!=n&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,n)})),i(r)}var Gi=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Gi||{});function Fr(...r){const i=[$e,Mr,Lr,{provide:gn,useExisting:Lr},{provide:En,useExisting:Mr},{provide:Zn,useValue:Xn,multi:!0},{provide:At,useValue:!0},{provide:ti,useClass:ui}];for(const t of r)i.push(...t.\u0275providers);return(0,e.MR2)(i)}const Zr=new e.OlP("LEGACY_INTERCEPTOR_FN");function $r(){return function tr(r,i){return{\u0275kind:r,\u0275providers:i}}(Gi.LegacyInterceptors,[{provide:Zr,useFactory:hr},{provide:Zn,useExisting:Zr,multi:!0}])}let Br=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[Fr($r())]})}return r})();var Po=M(2664),br=M(5619),or=M(2572);const Ba=(0,M(2306).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var Vo=M(5211),Ds=M(4911),xs=M(8407);function va(r,i){const t=(0,tn.m)(r)?r:()=>r,n=o=>o.error(t());return new Bt.y(i?o=>i.schedule(n,0,o):n)}var co=M(6232),Ms=M(3168),Yi=M(8645),ur=M(8180),Sc=M(7921),yo=M(8251);function ya(r){return(0,Zt.e)((i,t)=>{let n=!1;i.subscribe((0,yo.x)(t,o=>{n=!0,t.next(o)},()=>{n||t.next(r),t.complete()}))})}function Ua(r=Bd){return(0,Zt.e)((i,t)=>{let n=!1;i.subscribe((0,yo.x)(t,o=>{n=!0,t.next(o)},()=>n?t.complete():t.error(r())))})}function Bd(){return new Ba}var ss=M(2737);function uo(r,i){const t=arguments.length>=2;return n=>n.pipe(r?(0,bt.h)((o,c)=>r(o,c,n)):ss.y,(0,ur.q)(1),t?ya(i):Ua(()=>new Ba))}var pr=M(9397),jo=M(4829);function Ro(r){return(0,Zt.e)((i,t)=>{let c,n=null,o=!1;n=i.subscribe((0,yo.x)(t,void 0,void 0,u=>{c=(0,jo.Xf)(r(u,Ro(r)(i))),n?(n.unsubscribe(),n=null,c.subscribe(t)):o=!0})),o&&(n.unsubscribe(),n=null,c.subscribe(t))})}function Ut(r){return r<=0?()=>co.E:(0,Zt.e)((i,t)=>{let n=[];i.subscribe((0,yo.x)(t,o=>{n.push(o),r<n.length&&n.shift()},()=>{for(const o of n)t.next(o);t.complete()},void 0,()=>{n=null}))})}var Be=M(6196),ft=M(7537);const Dt="primary",Fn=Symbol("RouteTitle");class si{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _r(r){return new si(r)}function Va(r,i,t){const n=t.path.split("/");if(n.length>r.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<r.length))return null;const o={};for(let c=0;c<n.length;c++){const u=n[c],g=r[c];if(u.startsWith(":"))o[u.substring(1)]=g;else if(u!==g.path)return null}return{consumed:r.slice(0,n.length),posParams:o}}function qi(r,i){const t=r?Object.keys(r):void 0,n=i?Object.keys(i):void 0;if(!t||!n||t.length!=n.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!sa(r[o],i[o]))return!1;return!0}function sa(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const t=[...r].sort(),n=[...i].sort();return t.every((o,c)=>n[c]===o)}return r===i}function nr(r){return r.length>0?r[r.length-1]:null}function fo(r){return(0,Po.b)(r)?r:(0,e.QGY)(r)?(0,kt.D)(Promise.resolve(r)):(0,pt.of)(r)}const Eb={exact:function Ff(r,i,t){if(!ls(r.segments,i.segments)||!Ac(r.segments,i.segments,t)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!r.children[n]||!Ff(r.children[n],i.children[n],t))return!1;return!0},subset:Mc},xc={exact:function ws(r,i){return qi(r,i)},subset:function Tb(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(t=>sa(r[t],i[t]))},ignored:()=>!0};function As(r,i,t){return Eb[t.paths](r.root,i.root,t.matrixParams)&&xc[t.queryParams](r.queryParams,i.queryParams)&&!("exact"===t.fragment&&r.fragment!==i.fragment)}function Mc(r,i,t){return Is(r,i,i.segments,t)}function Is(r,i,t,n){if(r.segments.length>t.length){const o=r.segments.slice(0,t.length);return!(!ls(o,t)||i.hasChildren()||!Ac(o,t,n))}if(r.segments.length===t.length){if(!ls(r.segments,t)||!Ac(r.segments,t,n))return!1;for(const o in i.children)if(!r.children[o]||!Mc(r.children[o],i.children[o],n))return!1;return!0}{const o=t.slice(0,r.segments.length),c=t.slice(r.segments.length);return!!(ls(r.segments,o)&&Ac(r.segments,o,n)&&r.children[Dt])&&Is(r.children[Dt],i,c,n)}}function Ac(r,i,t){return i.every((n,o)=>xc[t](r[o].parameters,n.parameters))}class ba{constructor(i=new Li([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return Ud.serialize(this)}}class Li{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Os(this)}}class wc{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return Go(this)}}function ls(r,i){return r.length===i.length&&r.every((t,n)=>t.path===i[n].path)}let El=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(){return new Ic},providedIn:"root"})}return r})();class Ic{parse(i){const t=new pn(i);return new ba(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Ps(i.root,!0)}`,n=function Hf(r){const i=Object.keys(r).map(t=>{const n=r[t];return Array.isArray(n)?n.map(o=>`${Tl(t)}=${Tl(o)}`).join("&"):`${Tl(t)}=${Tl(n)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function Vf(r){return encodeURI(r)}(i.fragment)}`:""}`}}const Ud=new Ic;function Os(r){return r.segments.map(i=>Go(i)).join("/")}function Ps(r,i){if(!r.hasChildren())return Os(r);if(i){const t=r.children[Dt]?Ps(r.children[Dt],!1):"",n=[];return Object.entries(r.children).forEach(([o,c])=>{o!==Dt&&n.push(`${o}:${Ps(c,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function Bf(r,i){let t=[];return Object.entries(r.children).forEach(([n,o])=>{n===Dt&&(t=t.concat(i(o,n)))}),Object.entries(r.children).forEach(([n,o])=>{n!==Dt&&(t=t.concat(i(o,n)))}),t}(r,(n,o)=>o===Dt?[Ps(r.children[Dt],!1)]:[`${o}:${Ps(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Dt]?`${Os(r)}/${t[0]}`:`${Os(r)}/(${t.join("//")})`}}function Uf(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(r){return Uf(r).replace(/%3B/gi,";")}function Vd(r){return Uf(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rs(r){return decodeURIComponent(r)}function jf(r){return Rs(r.replace(/\+/g,"%20"))}function Go(r){return`${Vd(r.path)}${function Gf(r){return Object.keys(r).map(i=>`;${Vd(i)}=${Vd(r[i])}`).join("")}(r.parameters)}`}const Ji=/^[^\/()?;#]+/;function cs(r){const i=r.match(Ji);return i?i[0]:""}const Ce=/^[^\/()?;=#]+/,Ke=/^[^=?&#]+/,Mt=/^[^&#]+/;class pn{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Li([],{}):new Li([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[Dt]=new Li(i,t)),n}parseSegment(){const i=cs(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(i),new wc(Rs(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function dt(r){const i=r.match(Ce);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=cs(this.remaining);o&&(n=o,this.capture(n))}i[Rs(t)]=Rs(n)}parseQueryParam(i){const t=function lt(r){const i=r.match(Ke);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const u=function nn(r){const i=r.match(Mt);return i?i[0]:""}(this.remaining);u&&(n=u,this.capture(n))}const o=jf(t),c=jf(n);if(i.hasOwnProperty(o)){let u=i[o];Array.isArray(u)||(u=[u],i[o]=u),u.push(c)}else i[o]=c}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=cs(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new e.vHH(4010,!1);let c;n.indexOf(":")>-1?(c=n.slice(0,n.indexOf(":")),this.capture(c),this.capture(":")):i&&(c=Dt);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[Dt]:new Li([],u),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new e.vHH(4011,!1)}}function Hn(r){return r.segments.length>0?new Li([],{[Dt]:r}):r}function ki(r){const i={};for(const n of Object.keys(r.children)){const c=ki(r.children[n]);if(n===Dt&&0===c.segments.length&&c.hasChildren())for(const[u,g]of Object.entries(c.children))i[u]=g;else(c.segments.length>0||c.hasChildren())&&(i[n]=c)}return function Ei(r){if(1===r.numberOfChildren&&r.children[Dt]){const i=r.children[Dt];return new Li(r.segments.concat(i.segments),i.children)}return r}(new Li(r.segments,i))}function vi(r){return r instanceof ba}function ir(r){let i;const n=function t(c){const u={};for(const A of c.children){const U=t(A);u[A.outlet]=U}const g=new Li(c.url,u);return c===r&&(i=g),g}(r.root),o=Hn(n);return i??o}function Fi(r,i,t,n){let o=r;for(;o.parent;)o=o.parent;if(0===i.length)return zn(o,o,o,t,n);const c=function ja(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new No(!0,0,r);let i=0,t=!1;const n=r.reduce((o,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Object.entries(c.outlets).forEach(([A,U])=>{g[A]="string"==typeof U?U.split("/"):U}),[...o,{outlets:g}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===u?(c.split("/").forEach((g,A)=>{0==A&&"."===g||(0==A&&""===g?t=!0:".."===g?i++:""!=g&&o.push(g))}),o):[...o,c]},[]);return new No(t,i,n)}(i);if(c.toRoot())return zn(o,o,new Li([],{}),t,n);const u=function ds(r,i,t){if(r.isAbsolute)return new Ho(i,!0,0);if(!t)return new Ho(i,!1,NaN);if(null===t.parent)return new Ho(t,!0,0);const n=ar(r.commands[0])?0:1;return function zp(r,i,t){let n=r,o=i,c=t;for(;c>o;){if(c-=o,n=n.parent,!n)throw new e.vHH(4005,!1);o=n.segments.length}return new Ho(n,!1,o-c)}(t,t.segments.length-1+n,r.numberOfDoubleDots)}(c,o,r),g=u.processChildren?Oc(u.segmentGroup,u.index,c.commands):Zp(u.segmentGroup,u.index,c.commands);return zn(o,u.segmentGroup,g,t,n)}function ar(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function bo(r){return"object"==typeof r&&null!=r&&r.outlets}function zn(r,i,t,n,o){let u,c={};n&&Object.entries(n).forEach(([A,U])=>{c[A]=Array.isArray(U)?U.map(Z=>`${Z}`):`${U}`}),u=r===i?t:Ea(r,i,t);const g=Hn(ki(u));return new ba(g,c,o)}function Ea(r,i,t){const n={};return Object.entries(r.children).forEach(([o,c])=>{n[o]=c===i?t:Ea(c,i,t)}),new Li(r.segments,n)}class No{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&ar(n[0]))throw new e.vHH(4003,!1);const o=n.find(bo);if(o&&o!==nr(n))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ho{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function Zp(r,i,t){if(r||(r=new Li([],{})),0===r.segments.length&&r.hasChildren())return Oc(r,i,t);const n=function Sb(r,i,t){let n=0,o=i;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(n>=t.length)return c;const u=r.segments[o],g=t[n];if(bo(g))break;const A=`${g}`,U=n<t.length-1?t[n+1]:null;if(o>0&&void 0===A)break;if(A&&U&&"object"==typeof U&&void 0===U.outlets){if(!Si(A,U,u))return c;n+=2}else{if(!Si(A,{},u))return c;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(r,i,t),o=t.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const c=new Li(r.segments.slice(0,n.pathIndex),{});return c.children[Dt]=new Li(r.segments.slice(n.pathIndex),r.children),Oc(c,0,o)}return n.match&&0===o.length?new Li(r.segments,{}):n.match&&!r.hasChildren()?Yf(r,i,t):n.match?Oc(r,0,o):Yf(r,i,t)}function Oc(r,i,t){if(0===t.length)return new Li(r.segments,{});{const n=function Cl(r){return bo(r[0])?r[0].outlets:{[Dt]:r}}(t),o={};if(!n[Dt]&&r.children[Dt]&&1===r.numberOfChildren&&0===r.children[Dt].segments.length){const c=Oc(r.children[Dt],i,t);return new Li(r.segments,c.children)}return Object.entries(n).forEach(([c,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(o[c]=Zp(r.children[c],i,u))}),Object.entries(r.children).forEach(([c,u])=>{void 0===n[c]&&(o[c]=u)}),new Li(r.segments,o)}}function Yf(r,i,t){const n=r.segments.slice(0,i);let o=0;for(;o<t.length;){const c=t[o];if(bo(c)){const A=Db(c.outlets);return new Li(n,A)}if(0===o&&ar(t[0])){n.push(new wc(r.segments[i].path,Tn(t[0]))),o++;continue}const u=bo(c)?c.outlets[Dt]:`${c}`,g=o<t.length-1?t[o+1]:null;u&&g&&ar(g)?(n.push(new wc(u,Tn(g))),o+=2):(n.push(new wc(u,{})),o++)}return new Li(n,{})}function Db(r){const i={};return Object.entries(r).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=Yf(new Li([],{}),0,n))}),i}function Tn(r){const i={};return Object.entries(r).forEach(([t,n])=>i[t]=`${n}`),i}function Si(r,i,t){return r==t.path&&qi(i,t.parameters)}const Sl="imperative";class la{constructor(i,t){this.id=i,this.url=t}}class wr extends la{constructor(i,t,n="imperative",o=null){super(i,t),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends la{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fs extends la{constructor(i,t,n,o){super(i,t),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Eo extends la{constructor(i,t,n,o){super(i,t),this.reason=n,this.code=o,this.type=16}}class Pc extends la{constructor(i,t,n,o){super(i,t),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kf extends la{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xb extends la{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HM extends la{constructor(i,t,n,o,c){super(i,t),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $p extends la{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends la{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ga{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qp{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dl{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ha{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mb{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jp{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qp{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wf{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ns,this.attachRef=null}}let Ns=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const o=this.getOrCreateContext(t);o.outlet=n,this.contexts.set(t,o)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Wf,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class zf{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=Rc(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=Rc(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=Zf(i,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return Zf(i,this._root).map(t=>t.value)}}function Rc(r,i){if(r===i.value)return i;for(const t of i.children){const n=Rc(r,t);if(n)return n}return null}function Zf(r,i){if(r===i.value)return[i];for(const t of i.children){const n=Zf(r,t);if(n.length)return n.unshift(i),n}return[]}class Ta{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function hs(r){const i={};return r&&r.children.forEach(t=>i[t.value.outlet]=t),i}class $f extends zf{constructor(i,t){super(i),this.snapshot=t,Ya(this,i)}toString(){return this.snapshot.toString()}}function qf(r,i){const t=function Xp(r,i){const u=new Gd([],{},{},"",{},Dt,i,null,{});return new Jr("",new Ta(u,[]))}(0,i),n=new br.X([new wc("",{})]),o=new br.X({}),c=new br.X({}),u=new br.X({}),g=new br.X(""),A=new Ir(n,o,u,g,c,Dt,i,t.root);return A.snapshot=t.root,new $f(new Ta(A,[]),t)}class Ir{constructor(i,t,n,o,c,u,g,A){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=c,this.outlet=u,this.component=g,this._futureSnapshot=A,this.title=this.dataSubject?.pipe((0,wt.U)(U=>U[Fn]))??(0,pt.of)(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=o,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(i=>_r(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(i=>_r(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jd(r,i="emptyOnly"){const t=r.pathFromRoot;let n=0;if("always"!==i)for(n=t.length-1;n>=1;){const o=t[n],c=t[n-1];if(o.routeConfig&&""===o.routeConfig.path)n--;else{if(c.component)break;n--}}return function Ab(r){return r.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class Gd{get title(){return this.data?.[Fn]}constructor(i,t,n,o,c,u,g,A,U){this.url=i,this.params=t,this.queryParams=n,this.fragment=o,this.data=c,this.outlet=u,this.component=g,this.routeConfig=A,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jr extends zf{constructor(i,t){super(t),this.url=i,Ya(this,t)}toString(){return sr(this._root)}}function Ya(r,i){i.value._routerState=r,i.children.forEach(t=>Ya(r,t))}function sr(r){const i=r.children.length>0?` { ${r.children.map(sr).join(", ")} } `:"";return`${r.value}${i}`}function Hd(r){if(r.snapshot){const i=r.snapshot,t=r._futureSnapshot;r.snapshot=t,qi(i.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),qi(i.params,t.params)||r.paramsSubject.next(t.params),function aa(r,i){if(r.length!==i.length)return!1;for(let t=0;t<r.length;++t)if(!qi(r[t],i[t]))return!1;return!0}(i.url,t.url)||r.urlSubject.next(t.url),qi(i.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Jf(r,i){const t=qi(r.params,i.params)&&function Cb(r,i){return ls(r,i)&&r.every((t,n)=>qi(t.parameters,i[n].parameters))}(r.url,i.url);return t&&!(!r.parent!=!i.parent)&&(!r.parent||Jf(r.parent,i.parent))}let Yd=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(Ns),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(Nc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:o}=t.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=t;const o=this.location,u=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,A=new wb(t,g,o.injector);this.activated=o.createComponent(u,{index:o.length,injector:A,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return r})();class wb{constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n}get(i,t){return i===Ir?this.route:i===Ns?this.childContexts:this.parent.get(i,t)}}const Nc=new e.OlP("");let Qf=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,o=(0,or.a)([n.queryParams,n.params,n.data]).pipe((0,dn.w)(([c,u,g],A)=>(g={...c,...u,...g},0===A?(0,pt.of)(g):Promise.resolve(g)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const u=(0,e.qFp)(n.component);if(u)for(const{templateName:g}of u.inputs)t.activatedComponentRef.setInput(g,c[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();function Yo(r,i,t){if(t&&r.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const o=function Ib(r,i,t){return i.children.map(n=>{for(const o of t.children)if(r.shouldReuseRoute(n.value,o.value.snapshot))return Yo(r,n,o);return Yo(r,n)})}(r,i,t);return new Ta(n,o)}{if(r.shouldAttach(i.value)){const c=r.retrieve(i.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=i.value,u.children=i.children.map(g=>Yo(r,g)),u}}const n=function Wd(r){return new Ir(new br.X(r.url),new br.X(r.params),new br.X(r.queryParams),new br.X(r.fragment),new br.X(r.data),r.outlet,r.component,r)}(i.value),o=i.children.map(c=>Yo(r,c));return new Ta(n,o)}}const xl="ngNavigationCancelingError";function Lc(r,i){const{redirectTo:t,navigationBehaviorOptions:n}=vi(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,o=zd(!1,0,i);return o.url=t,o.navigationBehaviorOptions=n,o}function zd(r,i,t){const n=new Error("NavigationCancelingError: "+(r||""));return n[xl]=!0,n.cancellationCode=i,t&&(n.url=t),n}function Xf(r){return eh(r)&&vi(r.url)}function eh(r){return r&&r[xl]}let eg=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},dependencies:[Yd],encapsulation:2})}return r})();function ng(r){const i=r.children&&r.children.map(ng),t=i?{...r,children:i}:{...r};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=eg),t}function Ko(r){return r.outlet||Dt}function kc(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let i=r.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class qd{constructor(i,t,n,o,c){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=c}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),Hd(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const o=hs(t);i.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,o[u],n),delete o[u]}),Object.values(o).forEach(c=>{this.deactivateRouteAndItsChildren(c,n)})}deactivateRoutes(i,t,n){const o=i.value,c=t?t.value:null;if(o===c)if(o.component){const u=n.getContext(o.outlet);u&&this.deactivateChildRoutes(i,t,u.children)}else this.deactivateChildRoutes(i,t,n);else c&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),o=n&&i.value.component?n.children:t,c=hs(i);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],o);if(n&&n.outlet){const u=n.outlet.detach(),g=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:u,route:i,contexts:g})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),o=n&&i.value.component?n.children:t,c=hs(i);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const o=hs(t);i.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],n),this.forwardEvent(new Jp(c.value.snapshot))}),i.children.length&&this.forwardEvent(new Ha(i.value.snapshot))}activateRoutes(i,t,n){const o=i.value,c=t?t.value:null;if(Hd(o),o===c)if(o.component){const u=n.getOrCreateContext(o.outlet);this.activateChildRoutes(i,t,u.children)}else this.activateChildRoutes(i,t,n);else if(o.component){const u=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(g.contexts),u.attachRef=g.componentRef,u.route=g.route.value,u.outlet&&u.outlet.attach(g.componentRef,g.route.value),Hd(g.route.value),this.activateChildRoutes(i,null,u.children)}else{const g=kc(o.snapshot);u.attachRef=null,u.route=o,u.injector=g,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(i,null,u.children)}}else this.activateChildRoutes(i,null,n)}}class Pb{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Fc{constructor(i,t){this.component=i,this.route=t}}function ig(r,i,t){const n=r._root;return Bc(n,i?i._root:null,t,[n.value])}function mo(r,i){const t=Symbol(),n=i.get(r,t);return n===t?"function"!=typeof r||(0,e.Z0I)(r)?i.get(r):r:n}function Bc(r,i,t,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=hs(i);return r.children.forEach(u=>{(function Jd(r,i,t,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=r.value,u=i?i.value:null,g=t?t.getContext(r.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const A=function ih(r,i,t){if("function"==typeof t)return t(r,i);switch(t){case"pathParamsChange":return!ls(r.url,i.url);case"pathParamsOrQueryParamsChange":return!ls(r.url,i.url)||!qi(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jf(r,i)||!qi(r.queryParams,i.queryParams);default:return!Jf(r,i)}}(u,c,c.routeConfig.runGuardsAndResolvers);A?o.canActivateChecks.push(new Pb(n)):(c.data=u.data,c._resolvedData=u._resolvedData),Bc(r,i,c.component?g?g.children:null:t,n,o),A&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Fc(g.outlet.component,u))}else u&&Al(i,g,o),o.canActivateChecks.push(new Pb(n)),Bc(r,null,c.component?g?g.children:null:t,n,o)})(u,c[u.value.outlet],t,n.concat([u.value]),o),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,g])=>Al(g,t.getContext(u),o)),o}function Al(r,i,t){const n=hs(r),o=r.value;Object.entries(n).forEach(([c,u])=>{Al(u,o.component?i?i.children.getContext(c):null:i,t)}),t.canDeactivateChecks.push(new Fc(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}function Ls(r){return"function"==typeof r}function ms(r){return r instanceof Ba||"EmptyError"===r?.name}const Xd=Symbol("INITIAL_VALUE");function ks(){return(0,dn.w)(r=>(0,or.a)(r.map(i=>i.pipe((0,ur.q)(1),(0,Sc.O)(Xd)))).pipe((0,wt.U)(i=>{for(const t of i)if(!0!==t){if(t===Xd)return Xd;if(!1===t||t instanceof ba)return t}return!0}),(0,bt.h)(i=>i!==Xd),(0,ur.q)(1)))}function Fs(r){return(0,xs.z)((0,pr.b)(i=>{if(vi(i))throw Lc(0,i)}),(0,wt.U)(i=>!0===i))}class Uc{constructor(i){this.segmentGroup=i||null}}class eu{constructor(i){this.urlTree=i}}function ca(r){return va(new Uc(r))}function Fb(r){return va(new eu(r))}class JM{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new e.vHH(4002,!1)}lineralizeSegments(i,t){let n=[],o=t.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return(0,pt.of)(n);if(o.numberOfChildren>1||!o.children[Dt])return va(new e.vHH(4e3,!1));o=o.children[Dt]}}applyRedirectCommands(i,t,n){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n)}applyRedirectCreateUrlTree(i,t,n,o){const c=this.createSegmentGroup(i,t.root,n,o);return new ba(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([o,c])=>{if("string"==typeof c&&c.startsWith(":")){const g=c.substring(1);n[o]=t[g]}else n[o]=c}),n}createSegmentGroup(i,t,n,o){const c=this.createSegments(i,t.segments,n,o);let u={};return Object.entries(t.children).forEach(([g,A])=>{u[g]=this.createSegmentGroup(i,A,n,o)}),new Li(c,u)}createSegments(i,t,n,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(i,c,o):this.findOrReturn(c,n))}findPosParam(i,t,n){const o=n[t.path.substring(1)];if(!o)throw new e.vHH(4001,!1);return o}findOrReturn(i,t){let n=0;for(const o of t){if(o.path===i.path)return t.splice(n),o;n++}return i}}const ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QM(r,i,t,n,o){const c=fg(r,i,t);return c.matched?(n=function Ml(r,i){return r.providers&&!r._injector&&(r._injector=(0,e.MMx)(r.providers,i,`Route: ${r.path}`)),r._injector??i}(i,n),function Ol(r,i,t,n){const o=i.canMatch;if(!o||0===o.length)return(0,pt.of)(!0);const c=o.map(u=>{const g=mo(u,r);return fo(function sg(r){return r&&Ls(r.canMatch)}(g)?g.canMatch(i,t):r.runInContext(()=>g(i,t)))});return(0,pt.of)(c).pipe(ks(),Fs())}(n,i,t).pipe((0,wt.U)(u=>!0===u?c:{...ug}))):(0,pt.of)(c)}function fg(r,i,t){if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||t.length>0)?{...ug}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(i.matcher||Va)(t,r,i);if(!o)return{...ug};const c={};Object.entries(o.posParams??{}).forEach(([g,A])=>{c[g]=A.path});const u=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function Ub(r,i,t,n){return t.length>0&&function jb(r,i,t){return t.some(n=>tu(r,i,n)&&Ko(n)!==Dt)}(r,t,n)?{segmentGroup:new Li(i,Vb(n,new Li(t,r.children))),slicedSegments:[]}:0===t.length&&function Or(r,i,t){return t.some(n=>tu(r,i,n))}(r,t,n)?{segmentGroup:new Li(r.segments,Pl(r,0,t,n,r.children)),slicedSegments:t}:{segmentGroup:new Li(r.segments,r.children),slicedSegments:t}}function Pl(r,i,t,n,o){const c={};for(const u of n)if(tu(r,t,u)&&!o[Ko(u)]){const g=new Li([],{});c[Ko(u)]=g}return{...o,...c}}function Vb(r,i){const t={};t[Dt]=i;for(const n of r)if(""===n.path&&Ko(n)!==Dt){const o=new Li([],{});t[Ko(n)]=o}return t}function tu(r,i,t){return(!(r.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class jc{constructor(i,t,n,o,c,u,g){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=o,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new JM(this.urlSerializer,this.urlTree)}noMatchError(i){return new e.vHH(4002,!1)}recognize(){const i=Ub(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,Dt).pipe(Ro(t=>{if(t instanceof eu)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Uc?this.noMatchError(t):t}),(0,wt.U)(t=>{const n=new Gd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,{}),o=new Ta(n,t),c=new Jr("",o),u=function gi(r,i,t=null,n=null){return Fi(ir(r),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(c._root),{state:c,tree:u}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,Dt).pipe(Ro(n=>{throw n instanceof Uc?this.noMatchError(n):n}))}inheritParamsAndData(i){const t=i.value,n=jd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),i.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(i,t,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n):this.processSegment(i,t,n,n.segments,o,!0)}processChildren(i,t,n){const o=[];for(const c of Object.keys(n.children))"primary"===c?o.unshift(c):o.push(c);return(0,kt.D)(o).pipe(en(c=>{const u=n.children[c],g=function $d(r,i){const t=r.filter(n=>Ko(n)===i);return t.push(...r.filter(n=>Ko(n)!==i)),t}(t,c);return this.processSegmentGroup(i,g,u,c)}),function Ki(r,i){return(0,Zt.e)(function Dc(r,i,t,n,o){return(c,u)=>{let g=t,A=i,U=0;c.subscribe((0,yo.x)(u,Z=>{const ce=U++;A=g?r(A,Z,ce):(g=!0,Z),n&&u.next(A)},o&&(()=>{g&&u.next(A),u.complete()})))}}(r,i,arguments.length>=2,!0))}((c,u)=>(c.push(...u),c)),ya(null),function Ge(r,i){const t=arguments.length>=2;return n=>n.pipe(r?(0,bt.h)((o,c)=>r(o,c,n)):ss.y,Ut(1),t?ya(i):Ua(()=>new Ba))}(),(0,Kt.z)(c=>{if(null===c)return ca(n);const u=Rl(c);return function hg(r){r.sort((i,t)=>i.value.outlet===Dt?-1:t.value.outlet===Dt?1:i.value.outlet.localeCompare(t.value.outlet))}(u),(0,pt.of)(u)}))}processSegment(i,t,n,o,c,u){return(0,kt.D)(t).pipe(en(g=>this.processSegmentAgainstRoute(g._injector??i,t,g,n,o,c,u).pipe(Ro(A=>{if(A instanceof Uc)return(0,pt.of)(null);throw A}))),uo(g=>!!g),Ro(g=>{if(ms(g))return function Gb(r,i,t){return 0===i.length&&!r.children[t]}(n,o,c)?(0,pt.of)([]):ca(n);throw g}))}processSegmentAgainstRoute(i,t,n,o,c,u,g){return function Vc(r,i,t,n){return!!(Ko(r)===n||n!==Dt&&tu(i,t,r))&&("**"===r.path||fg(i,r,t).matched)}(n,o,c,u)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,o,n,c,u,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,o,t,n,c,u):ca(o):ca(o)}expandSegmentAgainstRouteUsingRedirect(i,t,n,o,c,u){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,o,u):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,n,o,c,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,n,o){const c=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fb(c):this.applyRedirects.lineralizeSegments(n,c).pipe((0,Kt.z)(u=>{const g=new Li(u,{});return this.processSegment(i,t,g,u,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,n,o,c,u){const{matched:g,consumedSegments:A,remainingSegments:U,positionalParamSegments:Z}=fg(t,o,c);if(!g)return ca(t);const ce=this.applyRedirects.applyRedirectCommands(A,o.redirectTo,Z);return o.redirectTo.startsWith("/")?Fb(ce):this.applyRedirects.lineralizeSegments(o,ce).pipe((0,Kt.z)(Pe=>this.processSegment(i,n,t,Pe.concat(U),u,!1)))}matchSegmentAgainstRoute(i,t,n,o,c,u){let g;if("**"===n.path){const A=o.length>0?nr(o).parameters:{},U=new Gd(o,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hb(n),Ko(n),n.component??n._loadedComponent??null,n,mg(n));g=(0,pt.of)({snapshot:U,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=QM(t,n,o,i).pipe((0,wt.U)(({matched:A,consumedSegments:U,remainingSegments:Z,parameters:ce})=>A?{snapshot:new Gd(U,ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hb(n),Ko(n),n.component??n._loadedComponent??null,n,mg(n)),consumedSegments:U,remainingSegments:Z}:null));return g.pipe((0,dn.w)(A=>null===A?ca(t):this.getChildConfig(i=n._injector??i,n,o).pipe((0,dn.w)(({routes:U})=>{const Z=n._loadedInjector??i,{snapshot:ce,consumedSegments:Pe,remainingSegments:Ne}=A,{segmentGroup:ze,slicedSegments:Je}=Ub(t,Pe,Ne,U);if(0===Je.length&&ze.hasChildren())return this.processChildren(Z,U,ze).pipe((0,wt.U)(Et=>null===Et?null:[new Ta(ce,Et)]));if(0===U.length&&0===Je.length)return(0,pt.of)([new Ta(ce,[])]);const ct=Ko(n)===c;return this.processSegment(Z,U,ze,Je,ct?Dt:c,!0).pipe((0,wt.U)(Et=>[new Ta(ce,Et)]))}))))}getChildConfig(i,t,n){return t.children?(0,pt.of)({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?(0,pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Il(r,i,t,n){const o=i.canLoad;if(void 0===o||0===o.length)return(0,pt.of)(!0);const c=o.map(u=>{const g=mo(u,r);return fo(function Nb(r){return r&&Ls(r.canLoad)}(g)?g.canLoad(i,t):r.runInContext(()=>g(i,t)))});return(0,pt.of)(c).pipe(ks(),Fs())}(i,t,n).pipe((0,Kt.z)(o=>o?this.configLoader.loadChildren(i,t).pipe((0,pr.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function qM(r){return va(zd(!1,3))}())):(0,pt.of)({routes:[],injector:i})}}function nu(r){const i=r.value.routeConfig;return i&&""===i.path}function Rl(r){const i=[],t=new Set;for(const n of r){if(!nu(n)){i.push(n);continue}const o=i.find(c=>n.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...n.children),t.add(o)):i.push(n)}for(const n of t){const o=Rl(n.children);i.push(new Ta(n.value,o))}return i.filter(n=>!t.has(n))}function Hb(r){return r.data||{}}function mg(r){return r.resolve||{}}function Lo(r,i){return(0,Kt.z)(t=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,pt.of)(t);let c=0;return(0,kt.D)(o).pipe(en(u=>function sh(r,i,t,n){const o=r.routeConfig,c=r._resolve;return void 0!==o?.title&&!gg(o)&&(c[Fn]=o.title),function Nl(r,i,t,n){const o=function tA(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===o.length)return(0,pt.of)({});const c={};return(0,kt.D)(o).pipe((0,Kt.z)(u=>function pg(r,i,t,n){const o=kc(i)??n,c=mo(r,o);return fo(c.resolve?c.resolve(i,t):o.runInContext(()=>c(i,t)))}(r[u],i,t,n).pipe(uo(),(0,pr.b)(g=>{c[u]=g}))),Ut(1),function Xe(r){return(0,wt.U)(()=>r)}(c),Ro(u=>ms(u)?co.E:va(u)))}(c,r,i,n).pipe((0,wt.U)(u=>(r._resolvedData=u,r.data=jd(r,t).resolve,o&&gg(o)&&(r.data[Fn]=o.title),null)))}(u.route,n,r,i)),(0,pr.b)(()=>c++),Ut(1),(0,Kt.z)(u=>c===o.length?(0,pt.of)(t):co.E))})}function gg(r){return"string"==typeof r.title||null===r.title}function lh(r){return(0,dn.w)(i=>{const t=r(i);return t?(0,kt.D)(t).pipe((0,wt.U)(()=>i)):(0,pt.of)(i)})}const Ll=new e.OlP("ROUTES");let ch=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=fo(t.loadComponent()).pipe((0,wt.U)(_g),(0,pr.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),Wt(()=>{this.componentLoaders.delete(t)})),o=new Ms.c(n,()=>new Yi.x).pipe((0,Be.x)());return this.componentLoaders.set(t,o),o}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,pt.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const c=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe((0,wt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(n);let A,U;return Array.isArray(g)?U=g:(A=g.create(t).injector,U=A.get(Ll,[],e.XFs.Self|e.XFs.Optional).flat()),{routes:U.map(ng),injector:A}}),Wt(()=>{this.childrenLoaders.delete(n)})),u=new Ms.c(c,()=>new Yi.x).pipe((0,Be.x)());return this.childrenLoaders.set(n,u),u}loadModuleFactoryOrRoutes(t){return fo(t()).pipe((0,wt.U)(_g),(0,Kt.z)(n=>n instanceof e.YKP||Array.isArray(n)?(0,pt.of)(n):(0,kt.D)(this.compiler.compileModuleAsync(n))))}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function _g(r){return function Yb(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let kl=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yi.x,this.configLoader=(0,e.f3M)(ch),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(El),this.rootContexts=(0,e.f3M)(Ns),this.inputBindingEnabled=null!==(0,e.f3M)(Nc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new qp(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Ga(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t){return this.transitions=new br.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,bt.h)(n=>0!==n.id),(0,wt.U)(n=>({...n,extractedUrl:t.urlHandlingStrategy.extract(n.rawUrl)})),(0,dn.w)(n=>{let o=!1,c=!1;return(0,pt.of)(n).pipe((0,pr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dn.w)(u=>{const g=t.browserUrlTree.toString(),A=!t.navigated||u.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!A&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const Z="";return this.events.next(new Eo(u.id,t.serializeUrl(n.rawUrl),Z,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),co.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Gc(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,pt.of)(u).pipe((0,dn.w)(Z=>{const ce=this.transitions?.getValue();return this.events.next(new wr(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),ce!==this.transitions?.getValue()?co.E:Promise.resolve(Z)}),function eA(r,i,t,n,o,c){return(0,Kt.z)(u=>function Wo(r,i,t,n,o,c,u="emptyOnly"){return new jc(r,i,t,n,o,u,c).recognize()}(r,i,t,n,u.extractedUrl,o,c).pipe((0,wt.U)(({state:g,tree:A})=>({...u,targetSnapshot:g,urlAfterRedirects:A}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,pr.b)(Z=>{if(n.targetSnapshot=Z.targetSnapshot,n.urlAfterRedirects=Z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!Z.extras.skipLocationChange){const Pe=t.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl);t.setBrowserUrl(Pe,Z)}t.browserUrlTree=Z.urlAfterRedirects}const ce=new Kf(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(ce)}));if(A&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:Z,extractedUrl:ce,source:Pe,restoredState:Ne,extras:ze}=u,Je=new wr(Z,this.urlSerializer.serialize(ce),Pe,Ne);this.events.next(Je);const ct=qf(0,this.rootComponentType).snapshot;return n={...u,targetSnapshot:ct,urlAfterRedirects:ce,extras:{...ze,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(n)}{const Z="";return this.events.next(new Eo(u.id,t.serializeUrl(n.extractedUrl),Z,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),co.E}}),(0,pr.b)(u=>{const g=new xb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}),(0,wt.U)(u=>n={...u,guards:ig(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function lg(r,i){return(0,Kt.z)(t=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?(0,pt.of)({...t,guardsResult:!0}):function wl(r,i,t,n){return(0,kt.D)(r).pipe((0,Kt.z)(o=>function ah(r,i,t,n,o){const c=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,pt.of)(!0);const u=c.map(g=>{const A=kc(i)??o,U=mo(g,A);return fo(function ag(r){return r&&Ls(r.canDeactivate)}(U)?U.canDeactivate(r,i,t,n):A.runInContext(()=>U(r,i,t,n))).pipe(uo())});return(0,pt.of)(u).pipe(ks())}(o.component,o.route,t,i,n)),uo(o=>!0!==o,!0))}(u,n,o,r).pipe((0,Kt.z)(g=>g&&function rh(r){return"boolean"==typeof r}(g)?function Lb(r,i,t,n){return(0,kt.D)(i).pipe(en(o=>(0,Vo.z)(function oh(r,i){return null!==r&&i&&i(new Dl(r)),(0,pt.of)(!0)}(o.route.parent,n),function cg(r,i){return null!==r&&i&&i(new Mb(r)),(0,pt.of)(!0)}(o.route,n),function dg(r,i,t){const n=i[i.length-1],c=i.slice(0,i.length-1).reverse().map(u=>function Rb(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(u)).filter(u=>null!==u).map(u=>(0,Ds.P)(()=>{const g=u.guards.map(A=>{const U=kc(u.node)??t,Z=mo(A,U);return fo(function og(r){return r&&Ls(r.canActivateChild)}(Z)?Z.canActivateChild(n,r):U.runInContext(()=>Z(n,r))).pipe(uo())});return(0,pt.of)(g).pipe(ks())}));return(0,pt.of)(c).pipe(ks())}(r,o.path,t),function kb(r,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return(0,pt.of)(!0);const o=n.map(c=>(0,Ds.P)(()=>{const u=kc(i)??t,g=mo(c,u);return fo(function rg(r){return r&&Ls(r.canActivate)}(g)?g.canActivate(i,r):u.runInContext(()=>g(i,r))).pipe(uo())}));return(0,pt.of)(o).pipe(ks())}(r,o.route,t))),uo(o=>!0!==o,!0))}(n,c,r,i):(0,pt.of)(g)),(0,wt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,u=>this.events.next(u)),(0,pr.b)(u=>{if(n.guardsResult=u.guardsResult,vi(u.guardsResult))throw Lc(0,u.guardsResult);const g=new HM(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(g)}),(0,bt.h)(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),lh(u=>{if(u.guards.canActivateChecks.length)return(0,pt.of)(u).pipe((0,pr.b)(g=>{const A=new $p(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(A)}),(0,dn.w)(g=>{let A=!1;return(0,pt.of)(g).pipe(Lo(t.paramsInheritanceStrategy,this.environmentInjector),(0,pr.b)({next:()=>A=!0,complete:()=>{A||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,pr.b)(g=>{const A=new ho(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(A)}))}),lh(u=>{const g=A=>{const U=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&U.push(this.configLoader.loadComponent(A.routeConfig).pipe((0,pr.b)(Z=>{A.component=Z}),(0,wt.U)(()=>{})));for(const Z of A.children)U.push(...g(Z));return U};return(0,or.a)(g(u.targetSnapshot.root)).pipe(ya(),(0,ur.q)(1))}),lh(()=>this.afterPreactivation()),(0,wt.U)(u=>{const g=function Kd(r,i,t){const n=Yo(r,i._root,t?t._root:void 0);return new $f(n,i)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return n={...u,targetRouterState:g}}),(0,pr.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((r,i,t,n)=>(0,wt.U)(o=>(new qd(i,o.targetRouterState,o.currentRouterState,t,n).activate(r),o)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),(0,ur.q)(1),(0,pr.b)({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new us(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Wt(()=>{o||c||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),Ro(u=>{if(c=!0,eh(u)){Xf(u)||(t.navigated=!0,t.restoreHistory(n,!0));const g=new fs(n.id,this.urlSerializer.serialize(n.extractedUrl),u.message,u.cancellationCode);if(this.events.next(g),Xf(u)){const A=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),U={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Gc(n.source)};t.scheduleNavigation(A,Sl,null,U,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{t.restoreHistory(n,!0);const g=new Pc(n.id,this.urlSerializer.serialize(n.extractedUrl),u,n.targetSnapshot??void 0);this.events.next(g);try{n.resolve(t.errorHandler(u))}catch(A){n.reject(A)}}return co.E}))}))}cancelNavigationTransition(t,n,o){const c=new fs(t.id,this.urlSerializer.serialize(t.extractedUrl),n,o);this.events.next(c),t.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Gc(r){return r!==Sl}let vg=(()=>{class r{buildTitle(t){let n,o=t.root;for(;void 0!==o;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(c=>c.outlet===Dt);return n}getResolvedTitleForRoute(t){return t.data[Fn]}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(iu)},providedIn:"root"})}return r})(),iu=(()=>{class r extends vg{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(X))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Kb=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(Wb)},providedIn:"root"})}return r})();class ru{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let Wb=(()=>{class r extends ru{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(r)))(o||r)}}();static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Hc=new e.OlP("",{providedIn:"root",factory:()=>({})});let dh=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(ou)},providedIn:"root"})}return r})(),ou=(()=>{class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Fl=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Fl||{});function yg(r,i){r.events.pipe((0,bt.h)(t=>t instanceof us||t instanceof fs||t instanceof Pc||t instanceof Eo),(0,wt.U)(t=>t instanceof us||t instanceof Eo?Fl.COMPLETE:t instanceof fs&&(0===t.code||1===t.code)?Fl.REDIRECTING:Fl.FAILED),(0,bt.h)(t=>t!==Fl.REDIRECTING),(0,ur.q)(1)).subscribe(()=>{i()})}function zb(r){throw r}function Bl(r,i,t){return i.parse("/")}const Yc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(Hc,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||zb,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(dh),this.routeReuseStrategy=(0,e.f3M)(Kb),this.titleStrategy=(0,e.f3M)(vg),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Ll,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(kl),this.urlSerializer=(0,e.f3M)(El),this.location=(0,e.f3M)(y.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(Nc,{optional:!0}),this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ba,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qf(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,n,t.state)},0)}))}navigateToSyncWithBrowser(t,n,o){const c={replaceUrl:!0},u=o?.navigationId?o:null;if(o){const A={...o};delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(c.state=A)}const g=this.parseUrl(t);this.scheduleNavigation(g,n,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ng),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:o,queryParams:c,fragment:u,queryParamsHandling:g,preserveFragment:A}=n,U=A?this.currentUrlTree.fragment:u;let ce,Z=null;switch(g){case"merge":Z={...this.currentUrlTree.queryParams,...c};break;case"preserve":Z=this.currentUrlTree.queryParams;break;default:Z=c||null}null!==Z&&(Z=this.removeEmptyProps(Z));try{ce=ir(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),ce=this.currentUrlTree.root}return Fi(ce,t,Z,U??null)}navigateByUrl(t,n={skipLocationChange:!1}){const o=vi(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,Sl,null,n)}navigate(t,n={skipLocationChange:!1}){return function bg(r){for(let i=0;i<r.length;i++)if(null==r[i])throw new e.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(o){n=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return n}isActive(t,n){let o;if(o=!0===n?{...Yc}:!1===n?{...Zb}:n,vi(t))return As(this.currentUrlTree,t,o);const c=this.parseUrl(t);return As(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((n,o)=>{const c=t[o];return null!=c&&(n[o]=c),n},{})}scheduleNavigation(t,n,o,c,u){if(this.disposed)return Promise.resolve(!1);let g,A,U;u?(g=u.resolve,A=u.reject,U=u.promise):U=new Promise((ce,Pe)=>{g=ce,A=Pe});const Z=this.pendingTasks.add();return yg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Z))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:g,reject:A,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(ce=>Promise.reject(ce))}setBrowserUrl(t,n){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){const u={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(o,"",u)}else{const c={...n.extras.state,...this.generateNgRouterState(n.id,(this.browserPageId??0)+1)};this.location.go(o,"",c)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bs=(()=>{class r{constructor(t,n,o,c,u,g){this.router=t,this.route=n,this.tabIndexAttribute=o,this.renderer=c,this.el=u,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Yi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const A=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===A||"area"===A,this.isAnchorElement?this.subscription=t.events.subscribe(U=>{U instanceof us&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,n,o,c,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||n||o||c||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,n){const o=this.renderer,c=this.el.nativeElement;null!==n?o.setAttribute(c,t,n):o.removeAttribute(c,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(Ir),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(y.S$))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){1&n&&e.NdJ("click",function(u){return o.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&n&&e.uIk("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return r})();class Eg{}let Tg=(()=>{class r{constructor(t,n,o,c,u){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe((0,bt.h)(t=>t instanceof us),en(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const o=[];for(const c of n){c.providers&&!c._injector&&(c._injector=(0,e.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,g=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(g,c.children??c._loadedRoutes))}return(0,kt.D)(o).pipe((0,ft.J)())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let o;o=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):(0,pt.of)(null);const c=o.pipe((0,Kt.z)(u=>null===u?(0,pt.of)(void 0):(n._loadedRoutes=u.routes,n._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(n.loadComponent&&!n._loadedComponent){const u=this.loader.loadComponent(n);return(0,kt.D)([c,u]).pipe((0,ft.J)())}return c})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(Ti),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Eg),e.LFG(ch))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const fh=new e.OlP("");let hh=(()=>{class r{constructor(t,n,o,c,u={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=o,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof us?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Eo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();function ps(r,i){return{\u0275kind:r,\u0275providers:i}}function Jb(){const r=(0,e.f3M)(e.zs3);return i=>{const t=r.get(e.z2F);if(i!==t.components[0])return;const n=r.get(Ti),o=r.get(au);1===r.get(Sg)&&n.initialNavigation(),r.get(Qb,null,e.XFs.Optional)?.setUpPreloading(),r.get(fh,null,e.XFs.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const au=new e.OlP("",{factory:()=>new Yi.x}),Sg=new e.OlP("",{providedIn:"root",factory:()=>1}),Qb=new e.OlP("");function Xb(r){return ps(0,[{provide:Qb,useExisting:Tg},{provide:Eg,useExisting:r}])}const Us=new e.OlP("ROUTER_FORROOT_GUARD"),xg=[y.Ye,{provide:El,useClass:Ic},Ti,Ns,{provide:Ir,useFactory:function mh(r){return r.routerState.root},deps:[Ti]},ch,[]];function Mg(){return new e.PXZ("Router",Ti)}let zo=(()=>{class r{constructor(t){}static forRoot(t,n){return{ngModule:r,providers:[xg,[],{provide:Ll,multi:!0,useValue:t},{provide:Us,useFactory:iE,deps:[[Ti,new e.FiY,new e.tp0]]},{provide:Hc,useValue:n||{}},n?.useHash?{provide:y.S$,useClass:y.Do}:{provide:y.S$,useClass:y.b0},{provide:fh,useFactory:()=>{const r=(0,e.f3M)(y.EM),i=(0,e.f3M)(e.R0b),t=(0,e.f3M)(Hc),n=(0,e.f3M)(kl),o=(0,e.f3M)(El);return t.scrollOffset&&r.setOffset(t.scrollOffset),new hh(o,n,r,i,t)}},n?.preloadingStrategy?Xb(n.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Mg},n?.initialNavigation?rE(n):[],n?.bindToComponentInputs?ps(8,[Qf,{provide:Nc,useExisting:Qf}]).\u0275providers:[],[{provide:_h,useFactory:Jb},{provide:e.tb,multi:!0,useExisting:_h}]]}}static forChild(t){return{ngModule:r,providers:[{provide:Ll,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(Us,8))};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();function iE(r){return"guarded"}function rE(r){return["disabled"===r.initialNavigation?ps(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const i=(0,e.f3M)(Ti);return()=>{i.setUpLocationChangeListener()}}},{provide:Sg,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?ps(2,[{provide:Sg,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:i=>{const t=i.get(y.V_,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const o=i.get(Ti),c=i.get(au);yg(o,()=>{n(!0)}),i.get(kl).afterPreactivation=()=>(n(!0),c.closed?(0,pt.of)(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const _h=new e.OlP(""),To=[];let yh=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[zo.forRoot(To,{onSameUrlNavigation:"reload"}),zo]})}return r})();var Nt=M(95),Zo=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r}(Zo||{}),Ca=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r}(Ca||{}),Vs=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(Vs||{}),xn=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(xn||{}),Xr=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(Xr||{});class bh{}var cu,wg=new Uint8Array(16);function sE(){if(!cu&&!(cu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cu(wg)}const lE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Gr=[],js=0;js<256;++js)Gr.push((js+256).toString(16).substr(1));const dE=function cE(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Gr[r[i+0]]+Gr[r[i+1]]+Gr[r[i+2]]+Gr[r[i+3]]+"-"+Gr[r[i+4]]+Gr[r[i+5]]+"-"+Gr[r[i+6]]+Gr[r[i+7]]+"-"+Gr[r[i+8]]+Gr[r[i+9]]+"-"+Gr[r[i+10]]+Gr[r[i+11]]+Gr[r[i+12]]+Gr[r[i+13]]+Gr[r[i+14]]+Gr[r[i+15]]).toLowerCase();if(!function Eh(r){return"string"==typeof r&&lE.test(r)}(t))throw TypeError("Stringified UUID is invalid");return t},Pr=function Ig(r,i,t){var n=(r=r||{}).random||(r.rng||sE)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){t=t||0;for(var o=0;o<16;++o)i[t+o]=n[o];return i}return dE(n)};class Ch{}class Ul{}let fi=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new Ul,this.listProfiles=[],this.listMenus=[],this.pageNotFoundShowing=!1,this.mediaServers=[]}formatDate(t){const n=new Date(t);let o=""+(n.getMonth()+1),c=""+n.getDate();const u=n.getFullYear();return o.length<2&&(o="0"+o),c.length<2&&(c="0"+c),[u,o,c].join("-")}getInitials(t){return t.FullName.substring(0,1)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Hr=(()=>{class r{constructor(t,n){this.domSanitizer=t,this.sharedData=n}transform(t,...n){return new Promise((o,c)=>{let g;switch(null!=n[0]?n[0]:""){case"GetImageURLByKey":null!=t&&""!=t&&(g=this.sharedData.configurationData.developerMode?"assets/icon/"+t:this.sharedData.urlSinovadCdn+"/assets/icon/"+t,o(g));break;case"GetAvatarImageURLByProfileId":null!=t&&""!=t&&fetch(this.sharedData.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+t).then(U=>U.blob()).then(U=>{g=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(U)),o(g)});break;case"GetSoundUrlByKey":null!=t&&""!=t&&(g=this.sharedData.configurationData.developerMode?"assets/sound/"+t:this.sharedData.urlSinovadCdn+"/assets/sound/"+t,o(g))}})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(It,16),e.Y36(fi,16))};static#t=this.\u0275pipe=e.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})(),ni=(()=>{class r{constructor(t,n){this.http=t,this.sharedData=n}performExecuteMethod(t,n,o){return new Promise((c,u)=>{let g={responseType:"text"};if(this.sharedData.apiToken){const U=new Vn({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedData.apiToken});g.headers=U}t==xn.GET&&this.http.get(n,g).subscribe(A=>{c(A)},A=>{u(A)}),t==xn.POST&&this.http.post(n,o,g).subscribe(A=>{c(A)},A=>{u(A)}),t==xn.PUT&&this.http.put(n,o,g).subscribe(A=>{c(A)},A=>{u(A)}),t==xn.DELETE&&this.http.delete(n,g).subscribe(A=>{c(A)},A=>{u(A)})})}executeSinovadApiService(t,n,o){let c=this.sharedData.urlSinovadStreamWebApi+"/api/v1"+n;return new Promise((u,g)=>{this.performExecuteMethod(t,c,o).then(A=>{u(JSON.parse(A))},A=>{let U=A;if(null!=A.error){U=A.error;try{var Z=JSON.parse(U);if(Z.errors){let Pe=Z.errors,Ne=[];Object.keys(Pe).map(ze=>{var Je=Pe[ze].join("\n");Ne.push(Je)}),U=Ne.join("\n")}else Z.Errors?U=Z.Errors.map(Pe=>Pe.ErrorMessage).join("\n"):Z.Message&&(U=Z.Message)}catch{}}401==A.status&&this.sharedData.apiToken&&(this.sharedData.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(U),g(U)})})}executeHttpMethodByUrl(t,n,o){return new Promise((c,u)=>{this.performExecuteMethod(t,n,o).then(g=>{c(g)},g=>{u(g)})})}executeHttpPostMethodWithFormData(t,n){let o=this.sharedData.urlSinovadStreamWebApi+"/api/v1"+t;return new Promise((c,u)=>{let g={responseType:"text"};if(this.sharedData.apiToken){const U=new Vn({Accept:"*/*",Authorization:"Bearer "+this.sharedData.apiToken});g.headers=U}this.http.post(o,n,g).subscribe(A=>{c(A)},A=>{u(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG($e),e.LFG(fi))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),wi=(()=>{class r{constructor(t,n,o){this.restProvider=t,this.domSanitizer=n,this.sharedData=o,this.fdp=new Hr(this.domSanitizer,this.sharedData)}ngOnInit(){}formatDate(t){const n=new Date(t);let o=""+(n.getMonth()+1),c=""+n.getDate();const u=n.getFullYear();return o.length<2&&(o="0"+o),c.length<2&&(c="0"+c),[u,o,c].join("-")}isInvalidFormControl(t,n){return!(!t.controls[n].invalid||!t.controls[n].dirty&&!t.controls[n].touched)}hasRequireErrorFormControl(t,n){return!!t.controls[n].errors.required}hasErrorPatternFormControl(t,n){return!!t.controls[n].errors.pattern}getNewIndex(t,n,o){return t+1+(n-1)*o}delay(t){return new Promise(n=>setTimeout(n,t))}getTargetNumberValue(t){return t.value?Number(t.value):0}getTargetDateValue(t){return t.valueAsDate}getTargetValue(t){return t.value}CreateBuilderVideoFromItem(t,n){let o=Pr();var c=new Ch;c.VideoId=t.VideoId,c.Title=t.Subtitle?t.Title+" "+t.Subtitle:t.Title,c.PhysicalPath=t.PhysicalPath,c.MediaServerId=t.MediaServerId,c.MediaServerUrl=t.MediaServerUrl,c.CurrentTime=t.CurrentTime,c.ProcessGUID=o,c.TimeSpan=c.CurrentTime?c.CurrentTime.toString():"0",n.ListSeasons&&(n.CurrentSeason=n.ListSeasons.find(g=>g.SeasonNumber==t.SeasonNumber),n.CurrentEpisode=n.CurrentSeason.ListEpisodes.find(g=>g.EpisodeNumber==t.EpisodeNumber));var u=new bh;return u.TranscodePrepareVideo=c,u.ItemDetail=n,u}CreateBuilderVideoFromEpisode(t,n){var o=this.GetTranscodeVideoFromEpisode(t);n.ListSeasons&&(n.CurrentSeason=n.ListSeasons.find(u=>u.SeasonNumber==t.SeasonNumber),n.CurrentEpisode=n.CurrentSeason.ListEpisodes.find(u=>u.EpisodeNumber==t.EpisodeNumber));var c=new bh;return c.TranscodePrepareVideo=o,c.ItemDetail=n,c}GetTranscodeVideoFromEpisode(t){let n=Pr();var o=new Ch;return o.VideoId=t.VideoId,o.Title=t.TvSerieName+" T"+t.SeasonNumber+":E"+t.EpisodeNumber+" "+t.Name,o.PhysicalPath=t.PhysicalPath,o.MediaServerId=t.MediaServerId,o.MediaServerUrl=t.MediaServerUrl,o.ProcessGUID=n,o.CurrentTime=0,o.TimeSpan=o.CurrentTime?o.CurrentTime.toString():"0",o}getUser(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/users/GetUserData").then(o=>{this.sharedData.userData=o.Data,null==this.sharedData.userData?(this.sharedData.apiToken=void 0,localStorage.removeItem("apiToken")):t(!0)},o=>{console.error(o),n(o)})})}getMediaServers(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedData.userData.Id).then(o=>{this.sharedData.mediaServers=o.Data,this.checkSecureConnectionMediaServers(),t(!0)},o=>{n(o)})})}checkSecureConnectionMediaServers(){null!=this.sharedData.mediaServers&&this.sharedData.mediaServers.length>0&&this.sharedData.mediaServers.forEach(t=>{this.restProvider.executeHttpMethodByUrl(xn.GET,t.Url+"/api").then(n=>{t.isSecureConnection=!0,null==this.sharedData.selectedMediaServer&&(this.sharedData.selectedMediaServer=this.sharedData.mediaServers.find(o=>o.Id==t.Id))},n=>{t.isSecureConnection=!1})})}getProfiles(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedData.userData.Id).then(o=>{let c=o.Data;this.sharedData.listProfiles=c,this.sharedData.currentProfile=c[0],t(!0)},o=>{n(o)})})}getMenus(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/menus/GetByUserAsync/"+this.sharedData.userData.Id).then(o=>{this.sharedData.listMenus=o.Data,t(!0)},o=>{n(o)})})}isSmallDevice(){return window.innerWidth<=768}getInitials(t){return t.FullName.substring(0,1)}onResize(t){}isMobileDevice(){return"ontouchstart"in window}checkIfShowDisableItemsButton(t){return t.filter(o=>o.Active).length==t.length}focusContainer(t,n){let o=Array.from(t.querySelectorAll("section"));if(o&&o.length>0){let c=Array.from(t.querySelectorAll("input,button,section"));if(c&&c.length>0&&document.activeElement&&-1==c.indexOf(document.activeElement)){let g=o[0];this.sharedData.currentActiveSection=g,g.focus()}}else{let c=Array.from(t.querySelectorAll("input,button,textarea"));c&&c.length>0&&document.activeElement?-1==c.indexOf(document.activeElement)&&(this.sharedData.currentActiveSection=t,t.focus()):(this.sharedData.currentActiveSection=t,t.focus())}n.detectChanges()}focusInElementInContainer(t,n){let o=Array.from(t.querySelectorAll("section"));if(o&&o.length>0){let c=o[0];this.sharedData.currentActiveSection=c;let u=Array.from(c.querySelectorAll("button"));if(u&&u.length>0){let g=u[0];this.sharedData.currentSelectedElement=g,g.focus(),n.detectChanges()}}else{this.sharedData.currentActiveSection=t;let c=Array.from(t.querySelectorAll("button"));if(c&&c.length>0){let u=c[0];this.sharedData.currentSelectedElement=u,u.focus(),n.detectChanges()}}}setKeyboardActionsSectionVerticalButtonsHorizontal(t,n,o,c,u){var g=t.keyCode;let A=Array.from(n.nativeElement.querySelectorAll("section")),U=A.findIndex(ce=>ce.id==this.sharedData.currentActiveSection.id),Z=A[U];if(Z){let ce=Array.from(Z.querySelectorAll("button")),Pe=ce.length,Ne=ce.findIndex(ze=>ze.id==this.sharedData.currentSelectedElement.id);if(39==g){let ze=Ne+1;if(ze<Pe){let Je=ce[ze];Je.focus(),Je.scrollIntoView({block:"center"}),this.sharedData.currentSelectedElement=Je,c.detectChanges()}}if(37==g){let ze=Ne-1;if(ze>=0){let Je=ce[ze];Je.focus(),this.sharedData.currentSelectedElement=Je,Je.scrollIntoView({block:"center"}),c.detectChanges()}else if(o){let Je=Array.from(o.nativeElement.querySelectorAll("input, button"));if(Je&&Je.length>0){this.sharedData.currentActiveSection=o;let ct=Je[0];this.sharedData.currentSelectedElement=ct,ct.focus()}}}if(40==g){let ze=U+1;if(ze<A.length){let Je=A[ze];this.sharedData.currentActiveSection=Je;let ct=Array.from(Je.querySelectorAll("button")),Et=ct[0];ct[Ne]?Et=ct[Ne]:ct[Ne-1]&&(Et=ct[Ne-1]),Et.scrollIntoView({block:"center"}),this.sharedData.currentSelectedElement=Et,Et.focus()}}if(38==g){let ze=U-1;if(ze>=0){let Je=A[ze];this.sharedData.currentActiveSection=Je;let ct=Array.from(Je.querySelectorAll("button")),Et=ct[0];ct[Ne]?Et=ct[Ne]:ct[Ne-1]&&(Et=ct[Ne-1]),Et.scrollIntoView({block:"center"}),this.sharedData.currentSelectedElement=Et,Et.focus()}else if(u){let Je=Array.from(u.nativeElement.querySelectorAll("input, button"));if(Je&&Je.length>0){this.sharedData.currentActiveSection=u;let ct=Je[0];Je[Ne]?ct=Je[Ne]:Je[Ne-1]&&(ct=Je[Ne-1]),this.sharedData.currentSelectedElement=ct,ct.focus()}}}}}focusFullScreenContainer(t,n){let o=Array.from(t.querySelectorAll("section"));if(o&&o.length>0){let c=o[0];this.sharedData.currentActiveSection=c,c.focus();let u=Array.from(c.querySelectorAll("input,button"));if(u&&u.length>0){let g=u[0];g.focus(),this.sharedData.currentSelectedElement=g}}n.detectChanges()}setKeyboardActionsFullScreenPage(t,n,o){var c=t.keyCode;let u=Array.from(n.querySelectorAll("section")),g=u.findIndex(U=>U.id==this.sharedData.currentActiveSection.id),A=u[g];if(A){let U=Array.from(A.querySelectorAll("button,input")),Z=U.length,ce=U.findIndex(Pe=>Pe.id==this.sharedData.currentSelectedElement.id);if(39==c){let Pe=ce+1;if(Pe<Z){let Ne=U[Pe];Ne.focus(),Ne.scrollIntoView({block:"center"}),this.sharedData.currentSelectedElement=Ne,o.detectChanges()}}if(37==c){let Pe=ce-1;if(Pe>=0){let Ne=U[Pe];Ne.focus(),this.sharedData.currentSelectedElement=Ne,Ne.scrollIntoView({block:"center"}),o.detectChanges()}}if(40==c){let Pe=g+1;if(Pe<u.length){let Ne=u[Pe];this.sharedData.currentActiveSection=Ne;let ze=Array.from(Ne.querySelectorAll("button,input")),Je=ze[0];ze[ce]?Je=ze[ce]:ze[ce-1]&&(Je=ze[ce-1]),Je.scrollIntoView({block:"center"}),this.sharedData.currentSelectedElement=Je,Je.focus(),"INPUT"==Je.nodeName.toUpperCase()&&Je.click()}}if(38==c){let Pe=g-1;if(Pe>=0){let Ne=u[Pe];this.sharedData.currentActiveSection=Ne;let ze=Array.from(Ne.querySelectorAll("button,input")),Je=ze[0];ze[ce]?Je=ze[ce]:ze[ce-1]&&(Je=ze[ce-1]),Je.scrollIntoView({block:"center"}),this.sharedData.currentSelectedElement=Je,Je.focus(),"INPUT"==Je.nodeName.toUpperCase()&&Je.click()}}}}getUrlByItemDetailMovieDataBase(t){return null!=t.TmdbId&&t.TmdbId>0?this.sharedData.originalUrlImagesMovieDataBase+t.PosterPath:t.PosterPath}getUrlByItemMovieDataBase(t){return null!=t.TmdbId&&t.TmdbId>0?this.sharedData.originalUrlImagesMovieDataBase+t.PosterPath:t.PosterPath}getYearByDateFormat(t){return new Date(t).getFullYear()}sort_by(t,n,o){let c=o?u=>o(u[t]):u=>u[t];return n=n?-1:1,(u,g)=>(u=c(u),g=c(g),n*(+(u>g)-+(g>u)))}goToHeaderContainer(){let t=Array.from(document.getElementsByClassName("sinovad-custom-container")),n=t.findIndex(o=>-1!=o.className.indexOf("sinovad-header-container"));if(-1!=n){let c=Array.from(t[n].getElementsByClassName("sinovad-auxiliary-container"));c&&c.length>0&&c[0].click()}}validateEmailFormat(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-parent"]],hostBindings:function(n,o){1&n&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},decls:2,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"parent works!"),e.qZA())}})}return r})();function uE(r,i){if(1&r&&(e.TgZ(0,"div",13),e._UZ(1,"i",14),e._uU(2),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.hij("",t.serverErrorMessage," ")}}function fE(r,i){1&r&&e._UZ(0,"div",15)}const Sh=function(r){return{error:r}},hE=function(r){return{disable:r}};let mE=(()=>{class r extends wi{constructor(t,n,o,c,u){super(n,c,u),this.formBuilder=t,this.restProvider=n,this.http=o,this.domSanitizer=c,this.sharedData=u,this.serverErrorMessage=void 0,this.closeChangePassword=new e.vpe,this.changePasswordForm=this.formBuilder.group({password:new Nt.NI("",[Nt.kI.required]),confirmPassword:new Nt.NI("",[Nt.kI.required]),currentPassword:new Nt.NI("",[Nt.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedData.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.restProvider.executeSinovadApiService(xn.POST,"/users/ChangePassword",this.changePasswordData).then(t=>{this.loading=!1,this.closeChangePassword.emit(!0)},t=>{this.loading=!1,this.serverErrorMessage=t,console.error(t)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},features:[e.qOj],decls:24,vars:20,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",3,"ngClass"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.YNc(1,uE,3,1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),e._uU(5,"Cancelar"),e.qZA()(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return o.changePasword()}),e.TgZ(7,"div",6)(8,"label"),e._uU(9),e.qZA(),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"div",6)(12,"label"),e._uU(13),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"div",10)(20,"button",11)(21,"span"),e._uU(22,"Guardar Cambios"),e.qZA(),e.YNc(23,fE,1,0,"div",12),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",o.serverErrorMessage),e.xp6(5),e.Q6J("formGroup",o.changePasswordForm),e.xp6(1),e.Q6J("ngClass",e.VKq(12,Sh,o.isInvalidFormControl(o.changePasswordForm,"password"))),e.xp6(2),e.hij(" Contrase\xf1a",o.isInvalidFormControl(o.changePasswordForm,"password")&&o.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),e.xp6(2),e.Q6J("ngClass",e.VKq(14,Sh,o.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),e.xp6(2),e.hij("Confirme la nueva contrase\xf1a",o.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),e.xp6(2),e.Q6J("ngClass",e.VKq(16,Sh,o.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),e.xp6(2),e.hij("Contrase\xf1a actual",o.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),e.xp6(3),e.Q6J("ngClass",e.VKq(18,hE,o.loading)),e.xp6(1),e.Udp("visibility",o.loading?"hidden":"unset"),e.xp6(2),e.Q6J("ngIf",o.loading))},dependencies:[y.mk,y.O5,Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3);background:rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button.disable[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function pE(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isCollapsedChangePasswordSection=!1)}),e.TgZ(1,"div",3)(2,"div",8)(3,"button",9),e._uU(4,"Editar"),e.qZA()(),e.TgZ(5,"div",4)(6,"label"),e._uU(7,"Contrase\xf1a"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"*********"),e.qZA()()()()}}function Og(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-change-password",10),e.NdJ("closeChangePassword",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isCollapsedChangePasswordSection=!0)}),e.qZA()}}let du=(()=>{class r extends wi{constructor(t,n,o,c,u){super(n,c,u),this.router=t,this.restProvider=n,this.http=o,this.domSanitizer=c,this.sharedData=u,this.isCollapsedChangePasswordSection=!0}ngOnInit(){null==this.sharedData.apiToken&&this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-account"]],features:[e.qOj],decls:20,vars:4,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangePassword",4,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangePassword"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Cuenta"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"label"),e._uU(8,"Nombre de Usuario"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",2)(12,"div",3)(13,"div",4)(14,"label"),e._uU(15,"Correo electr\xf3nico"),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()()()(),e.YNc(18,pE,10,0,"div",5),e.YNc(19,Og,1,0,"app-change-password",6),e.qZA()),2&n&&(e.xp6(10),e.Oqu(o.sharedData.userData.UserName),e.xp6(7),e.Oqu(o.sharedData.userData.Email),e.xp6(1),e.Q6J("ngIf",o.isCollapsedChangePasswordSection),e.xp6(1),e.Q6J("ngIf",!o.isCollapsedChangePasswordSection))},dependencies:[y.O5,mE],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3)}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]{color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]:hover{background-color:#00000026}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container.showing[_ngcontent-%COMP%]{background:rgba(0,0,0,.3)}"]})}return r})();class Pg{}var Ui=M(1476),yi=M(7700);const gE=function(r){return{disabled:r}};let Er=(()=>{class r{constructor(t,n){this.dialog=t,this.options=n}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(yi.so),e.Y36(yi.WI))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){return o.closeDialog()}),e._UZ(6,"i",6),e.qZA(),e.TgZ(7,"div",7),e._uU(8),e.qZA(),e.TgZ(9,"div",8)(10,"div",9)(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"label",10),e._UZ(14,"input",11,12),e._uU(16),e.qZA()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"button",15),e.NdJ("click",function(){return o.closeDialog()}),e._uU(20,"Cancelar"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return o.confirmDialog()}),e.TgZ(22,"span",17),e._uU(23,"Eliminar"),e.qZA()()()()()()()()()),2&n){const c=e.MAs(15);e.xp6(8),e.hij(" ",o.options.title," "),e.xp6(4),e.Oqu(o.options.message),e.xp6(4),e.hij("",o.options.accordMessage," "),e.xp6(5),e.Q6J("ngClass",e.VKq(4,gE,!c.checked))}},dependencies:[y.mk,yi.uh,yi.xY,yi.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();var Ka=M(8337),Cn=M(5313);class Sa{constructor(i){this.matPaginatorIntl=i,this.showLoading=!0,this.dataSource=new Cn.by,this.selection=new Ka.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(i){this.itemsPerPage=i.pageSize,this.currentPage=i.pageIndex+1}getElementNumber(i,t,n){return i+1+(t-1)*n}onChangeCheckValue(i,t){let n=i.target.checked;if(n?this.selection.select(t):this.selection.deselect(t),i.shiftKey&&this.lastSelectedItem){let c=0;this.selection.hasValue()&&this.lastSelectedItem&&(c=this.listItems.indexOf(this.lastSelectedItem));let u=this.listItems.indexOf(t);if(n){var o;(o=this.listItems.filter(u>=c?g=>this.listItems.indexOf(g)<=u&&this.listItems.indexOf(g)>=c&&!this.selection.isSelected(g):g=>this.listItems.indexOf(g)>=u&&this.listItems.indexOf(g)<=c&&!this.selection.isSelected(g)))&&o.length>0&&this.selection.select(...o)}else{let g=[];g=this.listItems.filter(u>=c?A=>this.listItems.indexOf(A)<=u&&this.listItems.indexOf(A)>=c&&this.selection.isSelected(A):A=>this.listItems.indexOf(A)>=u&&this.listItems.indexOf(A)<=c&&this.selection.isSelected(A)),g&&g.length>0&&this.selection.deselect(...g)}}this.lastSelectedItem=t}}var Wi=M(3566),uu=M(2939);function fu(r,i){1&r&&e._UZ(0,"i",4)}function _E(r,i){1&r&&e._UZ(0,"i",5)}function Ng(r,i){1&r&&e._UZ(0,"i",6)}const Lg=function(r,i,t){return{success:r,info:i,error:t}};var $n=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}($n||{});let Fg=(()=>{class r{constructor(t){this.toastOptions=t,this.snackBarRef=(0,e.f3M)(uu.OX)}SnackBarType(){return $n}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(uu.qD))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[e.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.YNc(1,fu,1,0,"i",1),e.YNc(2,_E,1,0,"i",2),e.YNc(3,Ng,1,0,"i",3),e._uU(4),e.qZA()),2&n&&(e.Q6J("ngClass",e.kEZ(5,Lg,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),e.xp6(1),e.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),e.xp6(1),e.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),e.xp6(1),e.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),e.xp6(1),e.hij(" ",o.toastOptions.message,"\n"))},dependencies:[uu.ZX,y.ez,y.mk,y.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})();class $o{isErrorState(i,t){return!!(i&&i.invalid&&(i.dirty||i.touched||t&&t.submitted))}}var Rr=M(2438),Dh=M(4825);const{isArray:xh}=Array;function Kc(r){return 1===r.length&&xh(r[0])?r[0]:r}M(3019);var Bg=M(9940);function hu(...r){const i=(0,Bg.jO)(r),t=Kc(r);return t.length?new Bt.y(n=>{let o=t.map(()=>[]),c=t.map(()=>!1);n.add(()=>{o=c=null});for(let u=0;!n.closed&&u<t.length;u++)(0,jo.Xf)(t[u]).subscribe((0,yo.x)(n,g=>{if(o[u].push(g),o.every(A=>A.length)){const A=o.map(U=>U.shift());n.next(i?i(...A):A),o.some((U,Z)=>!U.length&&c[Z])&&n.complete()}},()=>{c[u]=!0,!o[u].length&&n.complete()}));return()=>{o=c=null}}):co.E}var Tr=M(9773),Ug=M(2420);function mu(...r){const i=(0,Bg.jO)(r);return(0,Zt.e)((t,n)=>{const o=r.length,c=new Array(o);let u=r.map(()=>!1),g=!1;for(let A=0;A<o;A++)(0,jo.Xf)(r[A]).subscribe((0,yo.x)(n,U=>{c[A]=U,!g&&!u[A]&&(u[A]=!0,(g=u.every(ss.y))&&(u=null))},Ug.Z));t.subscribe((0,yo.x)(n,A=>{if(g){const U=[A,...c];n.next(i?i(...U):U)}}))})}M(6321),M(3997),M(836),Math,Math,Math;const s_=["*"],aT=["dialog"];function $a(r){return"string"==typeof r}function Zs(r){return null!=r}function $s(r){return(r||document.body).getBoundingClientRect()}const Do={animation:!0,transitionTimerDelayMs:5},ST=()=>{},{transitionTimerDelayMs:DT}=Do,ku=new Map,ro=(r,i,t,n)=>{let o=n.context||{};const c=ku.get(i);if(c)switch(n.runningTransition){case"continue":return co.E;case"stop":r.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),ku.delete(i)}const u=t(i,n.animation,o)||ST;if(!n.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>u()),(0,pt.of)(void 0).pipe(function j_(r){return i=>new Bt.y(t=>i.subscribe({next:u=>r.run(()=>t.next(u)),error:u=>r.run(()=>t.error(u)),complete:()=>r.run(()=>t.complete())}))}(r));const g=new Yi.x,A=new Yi.x,U=g.pipe(function vE(...r){return i=>(0,Vo.z)(i,(0,pt.of)(...r))}(!0));ku.set(i,{transition$:g,complete:()=>{A.next(),A.complete()},context:o});const Z=function CT(r){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return r.runOutsideAngular(()=>{const ce=(0,Rr.R)(i,"transitionend").pipe((0,Tr.R)(U),(0,bt.h)(({target:Ne})=>Ne===i));(function Mh(...r){return 1===(r=Kc(r)).length?(0,jo.Xf)(r[0]):new Bt.y(function Ah(r){return i=>{let t=[];for(let n=0;t&&!i.closed&&n<r.length;n++)t.push((0,jo.Xf)(r[n]).subscribe((0,yo.x)(i,o=>{if(t){for(let c=0;c<t.length;c++)c!==n&&t[c].unsubscribe();t=null}i.next(o)})))}}(r))})((0,Dh.H)(Z+DT).pipe((0,Tr.R)(U)),ce,A).pipe((0,Tr.R)(U)).subscribe(()=>{ku.delete(i),r.run(()=>{u(),g.next(),g.complete()})})}),g.asObservable()};let Fu=(()=>{class r{constructor(){this.animation=Do.animation}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var zi=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(zi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ud=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rv(r){const i=Array.from(r.querySelectorAll(ud)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class al{constructor(i,t,n){this.nodes=i,this.viewRef=t,this.componentRef=n}}let pv=(()=>{class r{constructor(t,n){this._el=t,this._zone=n}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ur.q)(1)).subscribe(()=>{ro(this._zone,this._el.nativeElement,(t,n)=>{n&&$s(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ro(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){2&n&&(e.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),e.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return r})();class Kr{update(i){}close(i){}dismiss(i){}}const gv=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],hC=["animation","backdropClass"];class _v{_applyWindowOptions(i,t){gv.forEach(n=>{Zs(t[n])&&(i[n]=t[n])})}_applyBackdropOptions(i,t){hC.forEach(n=>{Zs(t[n])&&(i[n]=t[n])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Tr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Tr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,t,n,o){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new Yi.x,this._dismissed=new Yi.x,this._hidden=new Yi.x,i.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,u)=>{this._resolve=c,this._reject=u}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function zh(r){return r&&r.then}(t)?!1!==t&&this._dismiss(i):t.then(n=>{!1!==n&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pt.of)(void 0);i.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),hu(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sf=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(sf||{});let vm=(()=>{class r{constructor(t,n,o){this._document=t,this._elRef=n,this._zone=o,this._closed$=new Yi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new Yi.x,this.hidden=new Yi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":$a(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ur.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,n={animation:this.animation,runningTransition:"stop"},u=hu(ro(this._zone,t,()=>t.classList.remove("show"),n),ro(this._zone,this._dialogEl.nativeElement,()=>{},n));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};hu(ro(this._zone,this._elRef.nativeElement,(c,u)=>{u&&$s(c),c.classList.add("show")},t),ro(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Rr.R)(t,"keydown").pipe((0,Tr.R)(this._closed$),(0,bt.h)(o=>o.which===zi.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(sf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;(0,Rr.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Tr.R)(this._closed$),(0,pr.b)(()=>n=!1),(0,dn.w)(()=>(0,Rr.R)(t,"mouseup").pipe((0,Tr.R)(this._closed$),(0,ur.q)(1))),(0,bt.h)(({target:o})=>t===o)).subscribe(()=>{n=!0}),(0,Rr.R)(t,"click").pipe((0,Tr.R)(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(sf.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const n=t.querySelector("[ngbAutofocus]"),o=rv(t)[0];(n||o||t).focus()}}_restoreFocus(){const t=this._document.body,n=this._elWithFocus;let o;o=n&&n.focus&&t.contains(n)?n:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ro(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(y.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(1&n&&e.Gf(aT,7),2&n){let c;e.iGM(c=e.CRH())&&(o._dialogEl=c.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,o){2&n&&(e.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),e.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),e.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:s_,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,o){1&n&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&n&&e.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),lf=(()=>{class r{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:c,paddingRight:u}=o;if(t>0){const g=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${g+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=u),o.overflow=c}}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ym=(()=>{class r{constructor(t,n,o,c,u,g,A){this._applicationRef=t,this._injector=n,this._environmentInjector=o,this._document=c,this._scrollBar=u,this._rendererFactory=g,this._ngZone=A,this._activeWindowCmptHasChanged=new Yi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const U=this._windowCmpts[this._windowCmpts.length-1];((r,i,t,n=!1)=>{r.runOutsideAngular(()=>{const o=(0,Rr.R)(i,"focusin").pipe((0,Tr.R)(t),(0,wt.U)(c=>c.target));(0,Rr.R)(i,"keydown").pipe((0,Tr.R)(t),(0,bt.h)(c=>c.which===zi.Tab),mu(o)).subscribe(([c,u])=>{const[g,A]=rv(i);(u===g||u===i)&&c.shiftKey&&(A.focus(),c.preventDefault()),u===A&&!c.shiftKey&&(g.focus(),c.preventDefault())}),n&&(0,Rr.R)(i,"click").pipe((0,Tr.R)(t),mu(o),(0,wt.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,U.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(U.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,n,o){const c=o.container instanceof HTMLElement?o.container:Zs(o.container)?this._document.querySelector(o.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new Kr,A=(t=o.injector||t).get(e.lqb,null)||this._environmentInjector,U=this._getContentRef(t,A,n,g,o);let Z=!1!==o.backdrop?this._attachBackdrop(c):void 0,ce=this._attachWindowComponent(c,U.nodes),Pe=new _v(ce,U,Z,o.beforeDismiss);return this._registerModalRef(Pe),this._registerWindowCmpt(ce),Pe.hidden.pipe((0,ur.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=Ne=>{Pe.close(Ne)},g.dismiss=Ne=>{Pe.dismiss(Ne)},g.update=Ne=>{Pe.update(Ne)},Pe.update(o),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),Z&&Z.instance&&Z.changeDetectorRef.detectChanges(),ce.changeDetectorRef.detectChanges(),Pe}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(n=>n.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let n=(0,e.LMc)(pv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,n){let o=(0,e.LMc)(vm,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_getContentRef(t,n,o,c,u){return o?o instanceof e.Rgc?this._createFromTemplateRef(o,c):$a(o)?this._createFromString(o):this._createFromComponent(t,n,o,c,u):new al([])}_createFromTemplateRef(t,n){const c=t.createEmbeddedView({$implicit:n,close(u){n.close(u)},dismiss(u){n.dismiss(u)}});return this._applicationRef.attachView(c),new al([c.rootNodes],c)}_createFromString(t){const n=this._document.createTextNode(`${t}`);return new al([[n]])}_createFromComponent(t,n,o,c,u){const g=e.zs3.create({providers:[{provide:Kr,useValue:c}],parent:t}),A=(0,e.LMc)(o,{environmentInjector:n,elementInjector:g}),U=A.location.nativeElement;return u.scrollable&&U.classList.add("component-host-scrollable"),this._applicationRef.attachView(A.hostView),new al([[U]],A.hostView,A)}_setAriaHidden(t){const n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,n)=>{t?n.setAttribute("aria-hidden",t):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const n=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const n=this._windowCmpts.indexOf(t);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(y.K0),e.LFG(lf),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),vv=(()=>{class r{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(Fu))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),go=(()=>{class r{constructor(t,n,o){this._injector=t,this._modalStack=n,this._config=o}open(t,n={}){const o={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(e.zs3),e.LFG(ym),e.LFG(vv))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function kC(){return 100}});let Sr=(()=>{class r{constructor(t){this.snackBar=t}showSnackBar(t,n){var o=new uu.u_;o.duration=2e3,o.data={message:t,snackBarType:n},this.snackBar.openFromComponent(Fg,o)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(uu.ux))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),sc=(()=>{class r{constructor(t){this.restProvider=t}getAllGenres(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/genres/GetAllAsync").then(o=>{t(o)},o=>{console.error(o),n(o)})})}getItems(t,n,o,c,u,g){return new Promise((A,U)=>{let Z=Pr();this.lastCallGuid=Z;var ce="?page="+t.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+c+"&searchText="+u+"&searchBy="+g;this.restProvider.executeSinovadApiService(xn.GET,"/genres/GetAllWithPaginationAsync"+ce).then(Ne=>{this.lastCallGuid==Z&&A(Ne)},Ne=>{console.error(Ne),U(Ne)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/genres/Update":"/genres/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/genres/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/genres/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Im(r,i){1&r&&(e.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),e.qZA()()()()())}let Dr=(()=>{class r{constructor(t,n){this.ref=t,this.viewContainerRef=n,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(n,o){1&n&&e.YNc(0,Im,17,0,"div",0),2&n&&e.Q6J("ngIf",o.showLoading)},dependencies:[y.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();var Ur=M(2032),ii=M(9157);function lc(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Ew(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,lc,4,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",9)(13,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",11),e._uU(16,"Guardar"),e.qZA()()(),e._UZ(17,"app-custom-spinner",12)}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.genreFormGroup),e.xp6(3),e.Oqu(t.genre&&t.genre.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.genreFormGroup.controls.name.hasError("required")),e.xp6(4),e.Q6J("disabled",t.showLoading||!t.genreFormGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let Om=(()=>{class r{constructor(t,n,o,c){this.formBuilder=t,this.activeModal=n,this.snackbarService=o,this.genreService=c,this.showLoading=!1,this.matcher=new $o}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new Nt.NI(this.genre.Name,[Nt.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.genre));t.Name=this.genreFormGroup.value.name,this.genreService.saveItem(t).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",$n.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(sc))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,Ew,18,6,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var ts=M(5986),wa=M(5940),ys=M(2596);function Tw(r,i){1&r&&(e.TgZ(0,"div",32),e._UZ(1,"mat-spinner"),e.qZA())}function cc(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",33)(1,"mat-checkbox",34),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function zC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",35)(1,"mat-checkbox",36),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function ZC(r,i){1&r&&(e.TgZ(0,"th",37),e._uU(1,"N\xb0"),e.qZA())}function $C(r,i){if(1&r&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function dc(r,i){1&r&&(e.TgZ(0,"th",39),e._uU(1," Nombre "),e.qZA())}function qC(r,i){if(1&r&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Name," ")}}function ff(r,i){1&r&&e._UZ(0,"th",41)}function hf(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",42)(1,"div",43)(2,"button",44),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(3,"i",45),e.qZA(),e.TgZ(4,"button",46),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(5,"i",7),e.qZA()()()}}function xo(r,i){1&r&&e._UZ(0,"tr",47)}function Cw(r,i){1&r&&e._UZ(0,"tr",48)}function Bv(r,i){1&r&&(e.TgZ(0,"td",51),e._uU(1,"No se encontraron datos"),e.qZA())}function Uv(r,i){if(1&r&&(e.TgZ(0,"tr",49),e.YNc(1,Bv,2,0,"td",50),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const JC=function(r){return{disable:r}},Vv=function(){return[5,10,25,100]};let Pm=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(o),this.modalService=t,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=c,this.genreService=u,this.displayedColumns=["Select","Id","Name","Actions"]}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new Pg;this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(Om,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+t.Name+"?",accordMessage:"Si, eliminar el rol '"+t.Name+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.genreService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(Ui.ye),e.Y36(Sr),e.Y36(sc))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},features:[e.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," G\xe9neros"),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA()(),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Buscar"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(19,"div",12),e.YNc(20,Tw,2,0,"div",13),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,cc,2,2,"th",17),e.YNc(25,zC,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,ZC,2,0,"th",20),e.YNc(28,$C,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,dc,2,0,"th",23),e.YNc(31,qC,2,1,"td",24),e.BQk(),e.ynx(32,25),e.YNc(33,ff,1,0,"th",26),e.YNc(34,hf,6,0,"td",27),e.BQk(),e.YNc(35,xo,1,0,"tr",28),e.YNc(36,Cw,1,0,"tr",29),e.YNc(37,Uv,2,1,"tr",30),e.qZA()()()()(),e.TgZ(38,"div",1)(39,"div",9),e._UZ(40,"mat-paginator",31),e.qZA()()()()),2&n&&(e.xp6(9),e.Q6J("ngClass",e.VKq(7,JC,!o.selection.hasValue())),e.xp6(11),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(9,Vv)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();function Rm(r,i,t,n,o,c,u){try{var g=r[c](u),A=g.value}catch(U){return void t(U)}g.done?i(A):Promise.resolve(A).then(n,o)}function bd(r){return function(){var i=this,t=arguments;return new Promise(function(n,o){var c=r.apply(i,t);function u(A){Rm(c,n,o,u,g,"next",A)}function g(A){Rm(c,n,o,u,g,"throw",A)}u(void 0)})}}class QC{}var XC=M(4440),ll=M.n(XC);let Ed=(()=>{class r{constructor(t){this.restProvider=t}getDirectoriesByMediaServer(t){return new Promise((n,o)=>{this.restProvider.executeHttpMethodByUrl(xn.GET,t+"/api/directories").then(c=>{n(c)},c=>{console.error(c),o(c)})})}getSubdirectoriesByMediaServerAndDirectoryPath(t,n){return new Promise((o,c)=>{var u=ll().encode(n);this.restProvider.executeHttpMethodByUrl(xn.GET,t+"/api/directories/"+u).then(g=>{o(g)},g=>{console.error(g),c(g)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const jv=function(r){return{"sinovad-directory-selected":r}};function eS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.onClickMainDirectory(c))}),e._uU(1),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(2,jv,n.selectedMainDirectory&&t.name==n.selectedMainDirectory.name)),e.xp6(1),e.hij(" ",t.name," ")}}function tS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickBackFolder())}),e._uU(1," <= .. [Regresar] "),e.qZA()}}function mf(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.onClickSubDirectory(c))}),e._uU(1),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(2,jv,n.selectedSubdirectory&&t.name==n.selectedSubdirectory.name)),e.xp6(1),e.hij(" ",t.name," ")}}let Nm=(()=>{class r{constructor(t,n){this.directoryService=t,this.activeModal=n,this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(t=>{this.listMainDirectories=JSON.parse(t);let n=this.listMainDirectories[0];this.selectedMainDirectory=n,this.getSubdirectoriesByPath(n)})}getSubdirectoriesByPath(t){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,t.path).then(n=>{this.listSubdirectoriesTmp=JSON.parse(n)},n=>{console.error(n)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.path:this.selectedMainDirectory.path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.parentDirectory.isMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.parentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(t){this.selectedMainDirectory=t,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(t){if(null==this.selectedSubdirectory)this.selectedSubdirectory=t,this.selectedSubdirectory.parentDirectory=this.selectedMainDirectory;else{let n=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=t,this.selectedSubdirectory.parentDirectory=n}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ed),e.Y36(Kr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Seleccionar directorio"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,eS,2,4,"ng-template",7),e.qZA(),e.TgZ(9,"div",8),e.YNc(10,tS,2,0,"button",9),e.YNc(11,mf,2,4,"ng-template",7),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return o.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.saveDirectory()}),e._uU(16,"Guardar"),e.qZA()()),2&n&&(e.xp6(8),e.Q6J("ngForOf",o.listMainDirectories),e.xp6(2),e.Q6J("ngIf",o.selectedSubdirectory),e.xp6(1),e.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[y.mk,y.sg,y.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();function Gv(r,i){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("ngValue",t.Id),e.xp6(1),e.Oqu(t.Name)}}function Hv(r,i){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("ngValue",t.Id),e.xp6(1),e.Oqu(t.Name)}}const nS=function(r,i){return{load:r,disable:i}};function Td(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveTranscoder())}),e.TgZ(9,"div",5)(10,"label",7),e._uU(11,"M\xe9todo de transmisi\xf3n"),e.qZA(),e.TgZ(12,"select",8),e.YNc(13,Gv,2,2,"ng-template",9),e.qZA(),e.TgZ(14,"p",10),e._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),e.qZA()(),e.TgZ(16,"div",5)(17,"label",7),e._uU(18,"Carpeta temporal para el transcodificador"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showChooserDirectoryModal())}),e.qZA(),e.TgZ(20,"p",10),e._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),e.qZA()(),e.TgZ(22,"div",5)(23,"label",7),e._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),e.qZA(),e.TgZ(25,"select",12),e.YNc(26,Hv,2,2,"ng-template",9),e.qZA(),e.TgZ(27,"p",10),e._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),e.qZA()(),e.TgZ(29,"div",5)(30,"label",7),e._uU(31,"Factor de Tasa Constante"),e.qZA(),e._UZ(32,"input",13),e.TgZ(33,"p",10),e._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),e.qZA()(),e.TgZ(35,"div",14)(36,"button",15),e._UZ(37,"div",16),e.TgZ(38,"span",17),e._uU(39,"Guardar cambios"),e.qZA()(),e._UZ(40,"span",18),e.qZA()()()()()()()()}if(2&r){const t=e.oxw();e.xp6(2),e.hij("",t.mediaServer.FamilyName?t.mediaServer.FamilyName:t.mediaServer.DeviceName," - Transcodificador"),e.xp6(6),e.Q6J("formGroup",t.customForm),e.xp6(5),e.Q6J("ngForOf",t.transmissionMethodList),e.xp6(13),e.Q6J("ngForOf",t.presetList),e.xp6(10),e.Q6J("ngClass",e.WLB(5,nS,t.loading,t.customForm.pristine||t.customForm.invalid))}}let uc=(()=>{class r{constructor(t,n,o,c,u,g,A,U){this.modalService=t,this.snackBarService=n,this.formBuilder=o,this.router=c,this.activeRoute=u,this.restProvider=g,this.http=A,this.sharedService=U,this.transmissionMethodList=[],this.presetList=[],this.loading=!1}ngOnInit(){this.getCatalogDetails(),this.getMediaServerData()}getCatalogDetails(){this.restProvider.executeSinovadApiService(xn.GET,"/catalogs/GetAllCatalogDetailsWithPaginationByCatalogIdsAsync?catalogIds="+Zo.TranscoderPreset+","+Zo.VideoTransmissionType).then(n=>{let o=n.Data;this.transmissionMethodList=o.filter(c=>c.CatalogId==Zo.VideoTransmissionType),this.presetList=o.filter(c=>c.CatalogId==Zo.TranscoderPreset)},n=>{console.error(n)})}ngAfterViewInit(){}getMediaServerData(){var t=this;return bd(function*(){t.restProvider.executeSinovadApiService(xn.GET,"/mediaServers/GetByGuidAsync/"+t.activeRoute.snapshot.params.serverGuid).then(o=>{var c=o.Data,u=t.sharedService.mediaServers.find(g=>g.Id==c.Id);c.isSecureConnection=u.isSecureConnection,t.sharedService.selectedMediaServer=c,t.mediaServer=c,t.getTranscoderSettingss()},o=>{t.router.navigateByUrl("/404")})})()}getTranscoderSettingss(){this.restProvider.executeSinovadApiService(xn.GET,"/transcoderSettings/GetByMediaServerGuidAsync/"+this.mediaServer.Guid).then(t=>{if(this.currentTranscoderSettingss=t.Data,null==this.currentTranscoderSettingss){var n=new QC;n.TemporaryFolder="",n.ConstantRateFactor=18,n.VideoTransmissionTypeCatalogId=Zo.VideoTransmissionType,n.VideoTransmissionTypeCatalogDetailId=this.transmissionMethodList[0].Id,n.PresetCatalogId=Zo.TranscoderPreset,n.PresetCatalogDetailId=this.presetList[0].Id,n.MediaServerId=this.sharedService.selectedMediaServer.Id,this.currentTranscoderSettingss=n}this.customForm=this.formBuilder.group({temporaryFolder:new Nt.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new Nt.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new Nt.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new Nt.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},t=>{console.error(t)})}saveTranscoder(){this.loading=!0;var t=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));t.TemporaryFolder=this.customForm.value.temporaryFolder,t.ConstantRateFactor=this.customForm.value.constantRateFactor,t.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,t.PresetCatalogDetailId=this.customForm.value.preset,this.restProvider.executeSinovadApiService(this.currentTranscoderSettingss.Id>0?xn.PUT:xn.POST,this.currentTranscoderSettingss.Id>0?"/transcoderSettings/Update":"/transcoderSettings/Create",t).then(c=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",$n.Success)},c=>{this.loading=!1,this.snackBarService.showSnackBar(c,$n.Error),console.error(c)})}showChooserDirectoryModal(){var t=this,n=this.modalService.open(Nm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.mediaServer=this.sharedService.selectedMediaServer,n.closed.subscribe(o=>{t.customForm.controls.temporaryFolder.setValue(o),t.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(Sr),e.Y36(Nt.qu),e.Y36(Ti),e.Y36(Ir),e.Y36(ni),e.Y36($e),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"]],template:function(n,o){1&n&&e.YNc(0,Td,41,8,"div",0),2&n&&e.Q6J("ngIf",o.customForm)},dependencies:[y.mk,y.sg,y.O5,Nt._Y,Nt.YN,Nt.Kr,Nt.Fj,Nt.EJ,Nt.JJ,Nt.JL,Nt.sg,Nt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),iS=(()=>{class r extends wi{constructor(t,n,o,c,u){super(n,c,u),this.router=t,this.restProvider=n,this.http=o,this.domSanitizer=c,this.sharedData=u}ngOnInit(){this.sharedData.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedData.apiToken?"/home":"/landing").then(n=>{this.sharedData.pageNotFoundShowing=!1},n=>{console.error(n)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-not-found"]],features:[e.qOj],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"p",4),e._uU(7,"No encontramos la p\xe1gina que esta buscando"),e.qZA(),e.TgZ(8,"p",5),e._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return o.goInitialPage()}),e._uU(11,"Inicio"),e.qZA()()()),2&n&&(e.xp6(3),e.Q6J("src",e.lcZ(4,1,e.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH))},dependencies:[y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class rS{}function oS(r,i){if(1&r&&(e.TgZ(0,"h2",9),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function Yv(r,i){1&r&&(e.TgZ(0,"h2"),e._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),e.qZA())}let Kv=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.router=t,this.activeRoute=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let t=this.activeRoute.snapshot.params.base64Data;if(null!=t)try{let c=ll().decode(t);var n=JSON.parse(c);if(n.ConfirmEmailToken){this.showLoading=!0;var o=new rS;o.ConfirmEmailToken=n.ConfirmEmailToken,o.UserId=n.UserId,this.restProvider.executeSinovadApiService(xn.POST,"/users/ValidateConfirmEmailToken",o).then(u=>{this.showLoading=!1,this.showSuccessMessage=!0},u=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=u,console.error(u)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(Ir),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-confirm-email"]],features:[e.qOj],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.onClose()}),e._UZ(2,"img",2),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),e._UZ(9,"img",2),e.ALo(10,"async"),e.ALo(11,"formatDataPipe"),e.qZA(),e.TgZ(12,"div",7),e._uU(13," Confirmaci\xf3n de Email "),e.qZA(),e.YNc(14,oS,2,1,"ng-template",8),e.YNc(15,Yv,2,0,"ng-template",8),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("src",e.lcZ(3,4,e.xi3(4,6,"back-screen.png","GetImageURLByKey")),e.LSH),e.xp6(7),e.Q6J("src",e.lcZ(10,9,e.xi3(11,11,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(5),e.Q6J("ngIf",o.showInvalidTokenMessage),e.xp6(1),e.Q6J("ngIf",o.showSuccessMessage))},dependencies:[y.O5,y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})();class Wv{}class aS{}function zv(r,i){1&r&&(e.TgZ(0,"label",20),e._UZ(1,"i",21),e._uU(2,"Confirma que hayas agregado el password correctamente "),e.qZA())}function sS(r,i){1&r&&(e.TgZ(0,"label",20),e._UZ(1,"i",21),e._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),e.qZA())}const lS=function(r){return{disable:r}};function Sw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirm())}),e.TgZ(2,"div",10),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"div",11),e._uU(7," Cambiar contrase\xf1a "),e.qZA(),e.TgZ(8,"div",12)(9,"label",13),e._uU(10," Contrase\xf1a "),e.qZA(),e.TgZ(11,"div",14),e._UZ(12,"input",15),e.YNc(13,zv,3,0,"label",16),e.qZA()(),e.TgZ(14,"div",12)(15,"label",13),e._uU(16," Confirmaci\xf3n de contrase\xf1a "),e.qZA(),e.TgZ(17,"div",14),e._UZ(18,"input",17),e.YNc(19,sS,3,0,"label",16),e.qZA()(),e.TgZ(20,"div",12)(21,"button",18),e._uU(22,"Confirmar"),e.qZA()(),e.TgZ(23,"div",19),e._uU(24),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.resetPasswordForm),e.xp6(2),e.Q6J("src",e.lcZ(4,6,e.xi3(5,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(10),e.Q6J("ngIf",t.isInvalidFormControl(t.resetPasswordForm,"password")&&t.hasRequireErrorFormControl(t.resetPasswordForm,"password")),e.xp6(6),e.Q6J("ngIf",t.isInvalidFormControl(t.resetPasswordForm,"confirmPassword")&&t.hasRequireErrorFormControl(t.resetPasswordForm,"confirmPassword")),e.xp6(2),e.Q6J("ngClass",e.VKq(11,lS,t.showLoading)),e.xp6(3),e.hij(" ",t.errorMessage," ")}}function Dw(r,i){1&r&&(e.TgZ(0,"div",11),e._uU(1," Cambio de contrase\xf1a "),e.qZA(),e.TgZ(2,"h2"),e._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),e.qZA())}function xw(r,i){1&r&&(e.TgZ(0,"div",11),e._uU(1," Validaci\xf3n de Token "),e.qZA(),e.TgZ(2,"h2",25),e._uU(3,"Token inv\xe1lido"),e.qZA())}function Mw(r,i){if(1&r&&(e.TgZ(0,"div",22)(1,"div",23)(2,"div",10),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.YNc(6,Dw,4,0,"ng-template",24),e.YNc(7,xw,4,0,"ng-template",24),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("src",e.lcZ(4,3,e.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(3),e.Q6J("ngIf",t.showResetPasswordSuccessMessage),e.xp6(1),e.Q6J("ngIf",t.showInvalidTokenMessage)}}let Zv=(()=>{class r extends wi{constructor(t,n,o,c,u,g,A){super(c,g,A),this.formBuilder=t,this.router=n,this.activeRoute=o,this.restProvider=c,this.http=u,this.domSanitizer=g,this.sharedData=A,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Wv,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new Nt.NI("",[Nt.kI.required]),confirmPassword:new Nt.NI("",[Nt.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let t=this.activeRoute.snapshot.params.base64Data;if(null!=t)try{let c=ll().decode(t);var n=JSON.parse(c);if(this.resetPasswordToken=n.ResetPasswordToken,this.userId=n.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new aS;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(xn.POST,"/users/ValidateResetPasswordToken",o).then(u=>{this.showResetPasswordForm=!0,this.showLoading=!1},u=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=u,console.error(u)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(xn.POST,"/users/ResetPassword",this.resetPasswordModel).then(t=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Ti),e.Y36(Ir),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-reset-password"]],features:[e.qOj],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return o.onClickCloseButton()}),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,Sw,25,13,"div",5),e.YNc(8,Mw,8,8,"div",6),e.qZA(),e._UZ(9,"app-custom-spinner",7)),2&n&&(e.xp6(3),e.Q6J("src",e.lcZ(4,4,e.xi3(5,6,"back-screen.png","GetImageURLByKey")),e.LSH),e.xp6(4),e.Q6J("ngIf",o.showResetPasswordForm),e.xp6(1),e.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),e.xp6(1),e.Q6J("showLoading",o.showLoading))},dependencies:[y.mk,y.O5,Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Dr,Nt.sg,Nt.u,y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class pf{}function cS(r,i){if(1&r&&(e.TgZ(0,"label",19),e._UZ(1,"i",20),e._uU(2),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.hasRequireErrorFormControl(t.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":t.hasErrorPatternFormControl(t.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const dS=function(r){return{disable:r}};function $v(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.SendRecoverPasswordEmail())}),e.TgZ(2,"div",10),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"div",11),e._uU(7," Olvido su contrase\xf1a "),e.qZA(),e.TgZ(8,"div",12)(9,"label",13),e._uU(10," Correo electr\xf3nico "),e.qZA(),e.TgZ(11,"div",14),e._UZ(12,"input",15),e.YNc(13,cS,3,1,"label",16),e.qZA()(),e.TgZ(14,"div",12)(15,"button",17),e._uU(16,"Recuperar contrase\xf1a"),e.qZA()(),e.TgZ(17,"div",18),e._uU(18),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.recoverPasswordForm),e.xp6(2),e.Q6J("src",e.lcZ(4,5,e.xi3(5,7,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(10),e.Q6J("ngIf",t.isInvalidFormControl(t.recoverPasswordForm,"email")),e.xp6(2),e.Q6J("ngClass",e.VKq(10,dS,t.showLoading)),e.xp6(3),e.hij(" ",t.errorMessage," ")}}function Cd(r,i){1&r&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",10),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"div",11),e._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),e.qZA(),e.TgZ(8,"h2"),e._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),e.qZA()()()),2&r&&(e.xp6(3),e.Q6J("src",e.lcZ(4,1,e.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH))}let uS=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.formBuilder=t,this.router=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new pf,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new Nt.NI("",[Nt.kI.required,Nt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(xn.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(t=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-recover-password"]],features:[e.qOj],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return o.onClose()}),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,$v,19,12,"div",5),e.YNc(8,Cd,10,6,"div",6),e.qZA(),e._UZ(9,"app-custom-spinner",7)),2&n&&(e.xp6(3),e.Q6J("src",e.lcZ(4,4,e.xi3(5,6,"back-screen.png","GetImageURLByKey")),e.LSH),e.xp6(4),e.Q6J("ngIf",!o.sendedConfirmationEmail),e.xp6(1),e.Q6J("ngIf",o.sendedConfirmationEmail),e.xp6(1),e.Q6J("showLoading",o.showLoading))},dependencies:[y.mk,y.O5,Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Dr,Nt.sg,Nt.u,y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class fS{}function hS(r,i){1&r&&(e.TgZ(0,"label",19),e._UZ(1,"i",20),e._uU(2,"Confirma que hayas agregado el usuario correctamente "),e.qZA())}function mS(r,i){1&r&&(e.TgZ(0,"label",19),e._UZ(1,"i",20),e._uU(2,"Confirma que hayas agregado la contrase\xf1a correctamente "),e.qZA())}const pS=function(r){return{disable:r}};let gS=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.formBuilder=t,this.router=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this._window=window,this.showLoading=!1,this.user=new fS,this.loginForm=this.formBuilder.group({username:new Nt.NI("",[Nt.kI.required]),password:new Nt.NI("",[Nt.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}ngOnDestroy(){}ngAfterViewInit(){this.initializeLoginViewControls()}initializeLoginViewControls(){}login(){this.loginForm.valid?(this.user={UserName:this.loginForm.value.username,Password:this.loginForm.value.password},this.showLoading=!0,this.restProvider.executeSinovadApiService(xn.POST,"/users/Login",this.user).then(t=>{let n=t.Data;localStorage.setItem("apiToken",n),this.sharedData.apiToken=n,this.sharedData.showSplashScreen=!0,this.getUser().then(o=>{this.getMenus(),this.getMediaServers(),this.getProfiles().then(c=>{this.router.navigate(["select-profile"],{skipLocationChange:!1})},c=>{console.error(c)})},o=>{console.error(o)})},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.loginForm.markAllAsTouched())}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],features:[e.qOj],decls:37,vars:23,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","username"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","password"],["password",""],["type","submit",1,"enter",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"recover",3,"ngClass","click"],[3,"showLoading"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.onClose()}),e._UZ(2,"img",2),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return o.login()}),e.TgZ(8,"div",6),e._UZ(9,"img",2),e.ALo(10,"async"),e.ALo(11,"formatDataPipe"),e.qZA(),e.TgZ(12,"div",7),e._uU(13," Inicia sesi\xf3n "),e.qZA(),e.TgZ(14,"div",8)(15,"label",9),e._uU(16," Usuario "),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"input",11),e.YNc(19,hS,3,0,"label",12),e.qZA()(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22," Contrase\xf1a "),e.qZA(),e.TgZ(23,"div",10),e._UZ(24,"input",13,14),e.YNc(26,mS,3,0,"label",12),e.qZA()(),e.TgZ(27,"div",8)(28,"button",15),e._uU(29,"INGRESAR"),e.qZA()(),e.TgZ(30,"div",16),e._uU(31),e.qZA(),e.TgZ(32,"div",8)(33,"button",17),e.NdJ("click",function(){return o.showRecoverPasswordPage()}),e._uU(34,"OLVIDASTE TU CONTRASE\xd1A?"),e.qZA()()()()(),e._UZ(35,"app-custom-spinner",18),e._uU(36,"\n<\n")),2&n&&(e.xp6(2),e.Q6J("src",e.lcZ(3,9,e.xi3(4,11,"back-screen.png","GetImageURLByKey")),e.LSH),e.xp6(5),e.Q6J("formGroup",o.loginForm),e.xp6(2),e.Q6J("src",e.lcZ(10,14,e.xi3(11,16,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(10),e.Q6J("ngIf",o.isInvalidFormControl(o.loginForm,"username")&&o.hasRequireErrorFormControl(o.loginForm,"username")),e.xp6(7),e.Q6J("ngIf",o.isInvalidFormControl(o.loginForm,"password")&&o.hasRequireErrorFormControl(o.loginForm,"password")),e.xp6(2),e.Q6J("ngClass",e.VKq(19,pS,o.showLoading)),e.xp6(3),e.hij(" ",o.errorMessage," "),e.xp6(2),e.Q6J("ngClass",e.VKq(21,pS,o.showLoading)),e.xp6(2),e.Q6J("showLoading",o.showLoading))},dependencies:[y.mk,y.O5,Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Dr,Nt.sg,Nt.u,y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.enter[_ngcontent-%COMP%]{background-color:#007bff}button.recover[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class qv{}function _S(r,i){if(1&r&&(e.TgZ(0,"label",26),e._UZ(1,"i",27),e._uU(2),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.hasRequireErrorFormControl(t.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":t.hasErrorPatternFormControl(t.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function vS(r,i){1&r&&(e.TgZ(0,"label",26),e._UZ(1,"i",27),e._uU(2,"Confirma que hayas agregado los nombres correctamente "),e.qZA())}function Sd(r,i){1&r&&(e.TgZ(0,"label",26),e._UZ(1,"i",27),e._uU(2,"Confirma que hayas agregado los apellidos correctamente "),e.qZA())}function yS(r,i){1&r&&(e.TgZ(0,"label",26),e._UZ(1,"i",27),e._uU(2,"Confirma que hayas agregado el usuario correctamente "),e.qZA())}function Jv(r,i){1&r&&(e.TgZ(0,"label",26),e._UZ(1,"i",27),e._uU(2,"Confirma que hayas agregado el password correctamente "),e.qZA())}function bS(r,i){1&r&&(e.TgZ(0,"label",26),e._UZ(1,"i",27),e._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),e.qZA())}const cl=function(r){return{error:r}},ES=function(r){return{disable:r}};function Qv(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.register())}),e.TgZ(2,"div",11),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"div",12),e._uU(7," Reg\xedstrate "),e.qZA(),e.TgZ(8,"div",13)(9,"label",14),e._uU(10," Correo electr\xf3nico "),e.qZA(),e.TgZ(11,"div",15),e._UZ(12,"input",16),e.YNc(13,_S,3,1,"label",17),e.qZA()(),e.TgZ(14,"div",13)(15,"label",14),e._uU(16," Nombres "),e.qZA(),e.TgZ(17,"div",15),e._UZ(18,"input",18),e.YNc(19,vS,3,0,"label",17),e.qZA()(),e.TgZ(20,"div",13)(21,"label",14),e._uU(22," Apellidos "),e.qZA(),e.TgZ(23,"div",15),e._UZ(24,"input",19),e.YNc(25,Sd,3,0,"label",17),e.qZA()(),e.TgZ(26,"div",13)(27,"label",14),e._uU(28," Usuario "),e.qZA(),e.TgZ(29,"div",15),e._UZ(30,"input",20),e.YNc(31,yS,3,0,"label",17),e.qZA()(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34," Contrase\xf1a "),e.qZA(),e.TgZ(35,"div",15),e._UZ(36,"input",21),e.YNc(37,Jv,3,0,"label",17),e.qZA()(),e.TgZ(38,"div",13)(39,"label",14),e._uU(40," Confirmar contrase\xf1a "),e.qZA(),e.TgZ(41,"div",15),e._UZ(42,"input",22),e.YNc(43,bS,3,0,"label",17),e.qZA()(),e.TgZ(44,"div",23)(45,"button",24),e._uU(46,"Registrar"),e.qZA()(),e.TgZ(47,"div",25),e._uU(48),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.registerUserForm),e.xp6(2),e.Q6J("src",e.lcZ(4,16,e.xi3(5,18,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(5),e.Q6J("ngClass",e.VKq(21,cl,t.isInvalidFormControl(t.registerUserForm,"email"))),e.xp6(5),e.Q6J("ngIf",t.isInvalidFormControl(t.registerUserForm,"email")),e.xp6(1),e.Q6J("ngClass",e.VKq(23,cl,t.isInvalidFormControl(t.registerUserForm,"firstName"))),e.xp6(5),e.Q6J("ngIf",t.isInvalidFormControl(t.registerUserForm,"firstName")&&t.hasRequireErrorFormControl(t.registerUserForm,"firstName")),e.xp6(1),e.Q6J("ngClass",e.VKq(25,cl,t.isInvalidFormControl(t.registerUserForm,"lastName"))),e.xp6(5),e.Q6J("ngIf",t.isInvalidFormControl(t.registerUserForm,"lastName")&&t.hasRequireErrorFormControl(t.registerUserForm,"lastName")),e.xp6(1),e.Q6J("ngClass",e.VKq(27,cl,t.isInvalidFormControl(t.registerUserForm,"username"))),e.xp6(5),e.Q6J("ngIf",t.isInvalidFormControl(t.registerUserForm,"username")&&t.hasRequireErrorFormControl(t.registerUserForm,"username")),e.xp6(1),e.Q6J("ngClass",e.VKq(29,cl,t.isInvalidFormControl(t.registerUserForm,"password"))),e.xp6(5),e.Q6J("ngIf",t.isInvalidFormControl(t.registerUserForm,"password")&&t.hasRequireErrorFormControl(t.registerUserForm,"password")),e.xp6(1),e.Q6J("ngClass",e.VKq(31,cl,t.isInvalidFormControl(t.registerUserForm,"confirmPassword"))),e.xp6(5),e.Q6J("ngIf",t.isInvalidFormControl(t.registerUserForm,"confirmPassword")&&t.hasRequireErrorFormControl(t.registerUserForm,"confirmPassword")),e.xp6(2),e.Q6J("ngClass",e.VKq(33,ES,t.showLoading)),e.xp6(3),e.hij(" ",t.errorMessage," ")}}function TS(r,i){1&r&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",11),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"div",12),e._uU(7," Registro de Usuario "),e.qZA(),e.TgZ(8,"h2"),e._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),e.qZA()()()),2&r&&(e.xp6(3),e.Q6J("src",e.lcZ(4,1,e.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH))}let Lm=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.formBuilder=t,this.router=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new qv,this.registerUserForm=this.formBuilder.group({email:new Nt.NI("",[Nt.kI.required,Nt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new Nt.NI("",[Nt.kI.required]),lastName:new Nt.NI("",[Nt.kI.required]),username:new Nt.NI("",[Nt.kI.required]),password:new Nt.NI("",[Nt.kI.required]),confirmPassword:new Nt.NI("",[Nt.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1})}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(xn.POST,"/users/Register",this.registerUserModel).then(t=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register-user"]],features:[e.qOj],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return o.onClose()}),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,Qv,49,35,"div",6),e.YNc(9,TS,10,6,"div",7),e.qZA()(),e._UZ(10,"app-custom-spinner",8)),2&n&&(e.xp6(3),e.Q6J("src",e.lcZ(4,4,e.xi3(5,6,"back-screen.png","GetImageURLByKey")),e.LSH),e.xp6(5),e.Q6J("ngIf",!o.showSuccessMessage),e.xp6(1),e.Q6J("ngIf",o.showSuccessMessage),e.xp6(1),e.Q6J("showLoading",o.showLoading))},dependencies:[y.mk,y.O5,Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Dr,Nt.sg,Nt.u,y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();const CS=["loginFormContainer"];let Xv=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.router=t,this.activeRoute=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this._window=window,this.showLoading=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(Ir),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(n,o){if(1&n&&e.Gf(CS,5),2&n){let c;e.iGM(c=e.CRH())&&(o.loginFormContainer=c.first)}},features:[e.qOj],decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.ALo(5,"async"),e.ALo(6,"formatDataPipe"),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return o.showRegisterPage()}),e._uU(9,"REG\xcdSTRATE"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return o.showLoginPage()}),e._uU(11,"INICIA SESI\xd3N"),e.qZA()()()()()),2&n&&(e.xp6(4),e.Q6J("src",e.lcZ(5,1,e.xi3(6,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH))},dependencies:[y.Ov,Hr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})(),km=(()=>{class r{constructor(){this.video$=new Yi.x}showVideo(t){this.video$.next(t)}getVideoEvent(){return this.video$.asObservable()}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const DS=["container"];function xS(r,i){if(1&r&&(e.TgZ(0,"div",9)(1,"span",14),e._uU(2,"Director: "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(4),e.Oqu(t.detail.Directors)}}function Fm(r,i){if(1&r&&(e.TgZ(0,"div",9)(1,"span",14),e._uU(2,"Reparto: "),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(4),e.Oqu(t.detail.Actors)}}function MS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.continueVideo())}),e._uU(3,"Continuar"),e.qZA()(),e.TgZ(4,"div",17),e._UZ(5,"div",18),e.qZA(),e.TgZ(6,"div",19),e._uU(7),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(5),e.Udp("width",t.getWidthProgressItem(t.lastEpisodeWatched)),e.xp6(2),e.hij(" ",t.lastEpisodeWatched.Subtitle," ")}}function ey(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.showVideo())}),e._uU(1,"Ver desde el principio"),e.qZA(),e.TgZ(2,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.continueVideo())}),e._uU(3,"Continuar viendo"),e.qZA()}}function AS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.showVideo())}),e._UZ(1,"i",22),e._uU(2," Ver ahora "),e.qZA()}}function wS(r,i){if(1&r&&(e.YNc(0,ey,4,0,"ng-template",2),e.YNc(1,AS,3,0,"ng-template",2)),2&r){const t=e.oxw(2);e.Q6J("ngIf",t.itemUserData),e.xp6(1),e.Q6J("ngIf",!t.itemUserData)}}function IS(r,i){if(1&r&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.detail.Overview," ")}}function OS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"img",37),e.NdJ("error",function(){e.CHM(t),e.oxw();const o=e.MAs(12),c=e.MAs(7),u=e.MAs(18),g=e.oxw(2);return e.KtG(g.onInitializeItemsRow(o,c,u))}),e.qZA()}}const PS=function(r){return{selected:r}};function RS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",39),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.onClickSeason(c))}),e.TgZ(2,"span"),e._uU(3),e.qZA()()()}if(2&r){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.MGl("id","section_season_",t.SeasonNumber,""),e.Q6J("ngClass",e.VKq(3,PS,t.SeasonNumber==n.detail.CurrentSeason.SeasonNumber)),e.xp6(2),e.Oqu(t.Name)}}function NS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"section",40)(1,"button",41),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.onClickEpisode(c))}),e.TgZ(2,"div",42),e._UZ(3,"img",6),e.qZA(),e.TgZ(4,"div",43)(5,"div",44),e._uU(6),e.qZA(),e.TgZ(7,"div",45),e._uU(8),e.qZA()()()()}if(2&r){const t=i.$implicit,n=e.oxw(3);e.hYB("id","section_episode_s",t.SeasonNumber,"_e",t.EpisodeNumber,""),e.xp6(1),e.hYB("id","button_episode_s",t.SeasonNumber,"_e",t.EpisodeNumber,""),e.xp6(2),e.Q6J("src",n.getEpisodeImagePath(t),e.LSH),e.xp6(3),e.AsE(" ",t.EpisodeNumber,". ",t.Name," "),e.xp6(2),e.hij(" ",t.Overview," ")}}function LS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",24)(1,"div"),e._uU(2," EPISODIOS "),e.qZA(),e.TgZ(3,"div",25),e.YNc(4,OS,1,0,"img",26),e.TgZ(5,"div",3)(6,"div",27,28),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(12),c=e.MAs(7),u=e.MAs(18),g=e.oxw(2);return e.KtG(g.onClickButtonLeftScroll(o,c,u))}),e._UZ(8,"img",6),e.ALo(9,"async"),e.ALo(10,"formatDataPipe"),e.qZA()(),e.TgZ(11,"div",29,30)(13,"section",31,32),e.YNc(15,RS,4,5,"ng-template",33),e.qZA()(),e.TgZ(16,"div",3)(17,"div",34,35),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(12),c=e.MAs(7),u=e.MAs(18),g=e.oxw(2);return e.KtG(g.onClickButtonRightScroll(o,c,u))}),e._UZ(19,"img",6),e.ALo(20,"async"),e.ALo(21,"formatDataPipe"),e.qZA()()(),e.TgZ(22,"div",36),e.YNc(23,NS,9,8,"ng-template",33),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",!t.startResize),e.xp6(4),e.Q6J("src",e.lcZ(9,5,e.xi3(10,7,"left.png","GetImageURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngForOf",t.detail.ListSeasons),e.xp6(4),e.Q6J("src",e.lcZ(20,10,e.xi3(21,12,"right.png","GetImageURLByKey")),e.LSH),e.xp6(4),e.Q6J("ngForOf",t.detail.CurrentSeason.ListEpisodes)}}function ty(r,i){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e._UZ(3,"img",6),e.qZA()()(),e.TgZ(4,"div",7)(5,"div",8),e._uU(6),e.qZA(),e.TgZ(7,"div",9),e._uU(8),e.qZA(),e.YNc(9,xS,5,1,"div",10),e.YNc(10,Fm,5,1,"div",10),e.TgZ(11,"section",11),e.YNc(12,MS,8,3,"ng-template",2),e.YNc(13,wS,2,2,"ng-template",2),e.qZA(),e.YNc(14,IS,2,1,"div",12),e.YNc(15,LS,24,15,"div",13),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(1);e.xp6(2),e.Udp("width",n.clientWidth+"px"),e.xp6(1),e.Q6J("src",t.getUrlByItemDetailMovieDataBase(t.detail),e.LSH),e.xp6(3),e.hij(" ",t.detail.Title," "),e.xp6(2),e.hij(" ",t.detail.Genres," "),e.xp6(1),e.Q6J("ngIf",t.detail.Directors),e.xp6(1),e.Q6J("ngIf",t.detail.Actors),e.xp6(2),e.Q6J("ngIf",t.lastEpisodeWatched),e.xp6(1),e.Q6J("ngIf",!t.lastEpisodeWatched),e.xp6(1),e.Q6J("ngIf",!t.lastEpisodeWatched),e.xp6(1),e.Q6J("ngIf",t.detail.ListSeasons)}}let Bm=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(n,u,g),this.videoService=t,this.restProvider=n,this.ref=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this._window=window,this.startResize=!1}getEpisodeImagePath(t){return null!=this.detail.TmdbId&&0!=this.detail.TmdbId?t.StillPath?this.sharedData.urlEpisodeDataBase+t.StillPath:this.getUrlByItemDetailMovieDataBase(this.detail):t.StillPath}verifyIfShoOrHiddenScrollButtons(t,n,o){n.style.display=t.scrollLeft<=0?"none":"flex",o.style.display=t.scrollWidth==t.scrollLeft+t.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(t,n,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(t,n,o)},250)}onClickButtonLeftScroll(t,n,o){t.scrollLeft=t.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(t,n,o)}onClickButtonRightScroll(t,n,o){t.scrollLeft=t.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(t,n,o)}getWidthProgressItem(t){return t.CurrentTime/t.DurationTime*100+"%"}ngOnInit(){}continueVideo(){}showVideo(){if(this.detail.Item.MediaType==Ca.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let t=this.detail.ListSeasons[0];t.ListEpisodes&&t.ListEpisodes.length>0&&this.getVideoByEpisode(t.ListEpisodes[0])}}getVideosByItem(){this.videoService.showVideo({isShowing:!0,builderVideo:this.CreateBuilderVideoFromItem(this.detail.Item,this.detail)})}onClickSeason(t){this.detail.CurrentSeason=t}onClickEpisode(t){this.getVideoByEpisode(t)}getVideoByEpisode(t){this.videoService.showVideo({isShowing:!0,builderVideo:this.CreateBuilderVideoFromEpisode(t,this.detail)})}onResize(t){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(km),e.Y36(ni),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item-view"]],viewQuery:function(n,o){if(1&n&&e.Gf(DS,5),2&n){let c;e.iGM(c=e.CRH())&&(o.container=c.first)}},hostBindings:function(n,o){1&n&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},inputs:{detail:"detail"},features:[e.qOj],decls:3,vars:1,consts:[["tabindex","0",1,"sinovad-item-view-container","sinovad-custom-container"],["container",""],[3,"ngIf"],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],[3,"src"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,ty,16,11,"ng-template",2),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngIf",o.detail))},dependencies:[y.mk,y.sg,y.O5,y.Ov,Hr],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();function ny(r,i){if(1&r&&e._UZ(0,"app-item-view",1),2&r){const t=e.oxw();e.Q6J("detail",t.detail)}}let iy=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.activeRoute=t,this.router=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g}ngOnInit(){let t=this.activeRoute.snapshot.params.tvSerieId;t?this.getTvSerieDetail(t):this.router.navigate(["404"],{skipLocationChange:!1})}getTvSerieDetail(t){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetTvSerieDataByUser?userId="+this.sharedData.userData.Id+"&tvSerieId="+t).then(o=>{o.Data.ListSeasons&&o.Data.ListSeasons.length>0&&(o.Data.CurrentSeason=o.Data.ListSeasons[0]),this.detail=o.Data},o=>{console.error(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ir),e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-tvserie-detail"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"detail",4,"ngIf"],[3,"detail"]],template:function(n,o){1&n&&e.YNc(0,ny,1,1,"app-item-view",0),2&n&&e.Q6J("ngIf",o.detail)},dependencies:[y.O5,Bm]})}return r})();function ry(r,i){if(1&r&&e._UZ(0,"app-item-view",1),2&r){const t=e.oxw();e.Q6J("detail",t.detail)}}let oy=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.activeRoute=t,this.router=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g}ngOnInit(){let t=this.activeRoute.snapshot.params.movieId;t?this.getMovieDetail(t):this.router.navigate(["404"],{skipLocationChange:!1})}getMovieDetail(t){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetMovieDataByUser?userId="+this.sharedData.userData.Id+"&movieId="+t).then(n=>{this.detail=n.Data},n=>{console.error(n),this.router.navigate(["404"],{skipLocationChange:!1})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ir),e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-movie-detail"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"detail",4,"ngIf"],[3,"detail"]],template:function(n,o){1&n&&e.YNc(0,ry,1,1,"app-item-view",0),2&n&&e.Q6J("ngIf",o.detail)},dependencies:[y.O5,Bm]})}return r})();function kS(r,i){if(1&r&&(e.TgZ(0,"div",5)(1,"div"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.title," ")}}function FS(r,i){if(1&r&&(e.TgZ(0,"div",27)(1,"div",28),e._UZ(2,"div",29),e.qZA()()),2&r){const t=e.oxw().$implicit,n=e.MAs(2),o=e.oxw(3);e.xp6(1),e.Udp("width",n.clientWidth-8+"px"),e.xp6(1),e.Udp("width",o.getWidthProgressItem(t))}}function Um(r,i){if(1&r&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.Title)}}function Vm(r,i){if(1&r&&(e.TgZ(0,"div")(1,"div",31)(2,"span"),e._uU(3),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.AsE("",t.Title," ",t.Subtitle,"")}}function ay(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21,22),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.onClickItem(c))}),e._UZ(3,"img",23),e.YNc(4,FS,3,4,"ng-template",24),e.qZA(),e.YNc(5,Um,3,1,"div",25),e.YNc(6,Vm,4,2,"div",26),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.hYB("id","item_",t.TvSerieId?t.TvSerieId:t.MovieId,"_",t.MediaType,""),e.xp6(2),e.Q6J("src",n.getUrlByItemMovieDataBase(t),e.LSH),e.xp6(1),e.Q6J("ngIf",t.CurrentTime&&t.DurationTime),e.xp6(1),e.Q6J("ngIf",!t.Subtitle),e.xp6(1),e.Q6J("ngIf",t.Subtitle)}}function jm(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"section",7)(1,"div",8)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",9)(5,"div",10)(6,"div",11,12),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(12),c=e.MAs(7),u=e.MAs(18),g=e.oxw(2);return e.KtG(g.onClickButtonLeftScroll(o,c,u))}),e._UZ(8,"img",13),e.ALo(9,"async"),e.ALo(10,"formatDataPipe"),e.qZA()(),e.TgZ(11,"div",14,15)(13,"div",16,17),e.YNc(15,ay,7,6,"ng-template",4),e.qZA()(),e.TgZ(16,"div",10)(17,"div",18,19),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(12),c=e.MAs(7),u=e.MAs(18),g=e.oxw(2);return e.KtG(g.onClickButtonRightScroll(o,c,u))}),e._UZ(19,"img",13),e.ALo(20,"async"),e.ALo(21,"formatDataPipe"),e.qZA()()()()}if(2&r){const t=e.oxw().$implicit;e.MGl("id","section_",t.Id,""),e.xp6(3),e.Oqu(t.Name),e.xp6(5),e.Q6J("src",e.lcZ(9,5,e.xi3(10,7,"scroll-left.png","GetImageURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngForOf",t.ListItems),e.xp6(4),e.Q6J("src",e.lcZ(20,10,e.xi3(21,12,"scroll-right.png","GetImageURLByKey")),e.LSH)}}function BS(r,i){if(1&r&&e.YNc(0,jm,22,15,"section",6),2&r){const t=i.$implicit;e.Q6J("ngIf",t.ListItems&&t.ListItems.length>0)}}let Gm=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(n,u,g),this.videoService=t,this.restProvider=n,this.ref=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this.showItemView=new e.vpe,this.focus=new e.vpe,this.showLoadingApp=!0,this.itemsGroupList=[],this._window=window}getWidthProgressItem(t){return t.CurrentTime/t.DurationTime*100+"%"}onClickButtonLeftScroll(t,n,o){t.scrollLeft=t.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(t,n,o)}onClickButtonRightScroll(t,n,o){t.scrollLeft=t.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(t,n,o)}verifyIfShoOrHiddenScrollButtons(t,n,o){n.style.display=t.scrollLeft<=0?"none":"flex",o.style.display=t.scrollWidth==t.scrollLeft+t.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(t,n,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(t,n,o)},250)}onSelectItem(t){t.scrollIntoView({block:"center"}),this.ref.detectChanges()}getAllProgramsByUser(t,n){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetAllTvProgramsOrganized?userId="+this.sharedData.userData.Id+"&profileId="+this.sharedData.currentProfile.Id+"&searchMovies="+t+"&searchTvSeries="+n).then(c=>{this.itemsGroupList=c.Data,this.ref.detectChanges(),this.focus.emit()},c=>{console.error(c)})}onClickItem(t){null!=t.CurrentTime&&t.ContinueVideo?this.continueVideoByItem(t):t.MovieId?this.getMovieDetail(t):t.TvSerieId&&this.getTvSerieDetail(t)}continueVideoByItem(t){this.restProvider.executeSinovadApiService(xn.GET,t.TvSerieId?"/videos/GetTvSerieDetail?userId="+this.sharedData.userData.Id+"&tvSerieId="+t.TvSerieId:"/videos/GetMovieDetail?movieId="+t.MovieId).then(o=>{let c=o.Data;c.Item=t;var u=this.CreateBuilderVideoFromItem(t,c);this.videoService.showVideo({isShowing:!0,builderVideo:u})},o=>{console.error(o)})}getMovieDetail(t){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetMovieDetail?movieId="+t.MovieId).then(n=>{let o=n.Data;o.Item=t,this.setDataAndShowItemView(o)},n=>{console.error(n)})}getTvSerieDetail(t){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetTvSerieDetail?userId="+this.sharedData.userData.Id+"&tvSerieId="+t.TvSerieId).then(o=>{let c=o.Data;c.Item=t,this.setDataAndShowItemView(c)},o=>{console.error(o)})}setDataAndShowItemView(t){t.ListSeasons&&t.ListSeasons.length>0&&(t.CurrentSeason=t.ListSeasons[0]),this.showItemView.emit(t)}ngAfterViewInit(){this.sharedData.currentProfile&&(this.currentMediaTypeID==Ca.Movie?this.getAllProgramsByUser(!0,!1):this.getAllProgramsByUser(this.currentMediaTypeID!=Ca.TvSerie,!0))}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(km),e.Y36(ni),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-horizontal-item-list"]],inputs:{currentMediaTypeID:"currentMediaTypeID",title:"title"},outputs:{showItemView:"showItemView",focus:"focus"},features:[e.qOj],decls:5,vars:4,consts:[[1,"sinovadclient-principal-section"],[1,"sinovad-principal-item-list-container","sinovad-no-cordova"],["class","sinovad-media-title",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"sinovad-media-title"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,kS,3,1,"div",2),e.TgZ(3,"div",3),e.YNc(4,BS,1,1,"ng-template",4),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("ngIf",o.title),e.xp6(1),e.Udp("height",o.title?"calc(100% - 50px)":"100%"),e.xp6(1),e.Q6J("ngForOf",o.itemsGroupList))},dependencies:[y.sg,y.O5,y.Ov,Hr],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-principal-item-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.sinovadclient-principal-section[_ngcontent-%COMP%]{width:100%;background:#2d3744;color:#fff;height:100%}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovad-media-title[_ngcontent-%COMP%]{padding:10px 0;height:50px;font-size:30px;font-weight:700;font-family:sans-serif;display:flex;align-items:center;border-bottom:1px solid #dedede;margin-left:16px;margin-right:16px}.sinovad-media-title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px;padding:6px 10px;border-radius:5px;border:none;cursor:pointer;font-size:16px}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;padding:0;font-weight:700;font-family:sans-serif}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function Hm(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-horizontal-item-list",1),e.NdJ("showItemView",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.onSelectItem(o))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("currentMediaTypeID",t.currentMediaTypeID)("title",t.title)}}let sy=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(t,u,g),this.restProvider=t,this.router=n,this.ref=o,this.http=c,this.domSanitizer=u,this.sharedData=g}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.itemViewData=void 0,this.currentMediaTypeID=void 0}onSelectItem(t){t.Item.TvSerieId?this.router.navigateByUrl("/tvseriedetail/"+t.Item.TvSerieId):t.Item.MovieId&&this.router.navigateByUrl("/moviedetail/"+t.Item.MovieId)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36(Ti),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"currentMediaTypeID","title","showItemView",4,"ngIf"],[3,"currentMediaTypeID","title","showItemView"]],template:function(n,o){1&n&&e.YNc(0,Hm,1,2,"app-horizontal-item-list",0),2&n&&e.Q6J("ngIf",o.sharedData.currentProfile)},dependencies:[y.O5,Gm],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return r})();const ly=function(r,i){return{load:r,disable:i}};function fc(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),e._uU(10,"Privado"),e.qZA(),e.TgZ(11,"span",8)(12,"span",9),e._uU(13),e.qZA()()()(),e.TgZ(14,"div",5)(15,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateMediaServer())}),e.TgZ(16,"div",5)(17,"label",11),e._uU(18,"Nombre Familiar"),e.qZA(),e._UZ(19,"input",12),e.TgZ(20,"p",13),e._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),e.qZA()(),e.TgZ(22,"div",14)(23,"button",15),e._UZ(24,"div",16),e.TgZ(25,"span",17),e._uU(26,"Guardar cambios"),e.qZA()(),e._UZ(27,"span",18),e.qZA()()()()()()()()}if(2&r){const t=e.oxw();e.xp6(2),e.hij("",t.mediaServer.FamilyName?t.mediaServer.FamilyName:t.mediaServer.DeviceName," - General"),e.xp6(11),e.Oqu(t.mediaServer.Url),e.xp6(2),e.Q6J("formGroup",t.customForm),e.xp6(4),e.Q6J("placeholder",t.mediaServer.FamilyName?t.mediaServer.FamilyName:t.mediaServer.DeviceName),e.xp6(4),e.Q6J("ngClass",e.WLB(5,ly,t.loading,t.customForm.pristine||t.customForm.invalid))}}let Ym=(()=>{class r extends wi{constructor(t,n,o,c,u,g,A,U){super(u,A,U),this.snackBarService=t,this.formBuilder=n,this.router=o,this.activeRoute=c,this.restProvider=u,this.http=g,this.domSanitizer=A,this.sharedData=U,this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var t=this;return bd(function*(){t.restProvider.executeSinovadApiService(xn.GET,"/mediaServers/GetByGuidAsync/"+t.activeRoute.snapshot.params.serverGuid).then(o=>{var c=o.Data,u=t.sharedData.mediaServers.find(g=>g.Id==c.Id);c.isSecureConnection=u.isSecureConnection,t.sharedData.selectedMediaServer=c,t.mediaServer=c,t.customForm=t.formBuilder.group({familyName:new Nt.NI(t.mediaServer.FamilyName)})},o=>{t.router.navigateByUrl("/404")})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var n=JSON.parse(JSON.stringify(this.mediaServer));n.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(xn.PUT,"/mediaServers/Update",n).then(o=>{this.loading=!1,this.getMediaServers(),this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",$n.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Sr),e.Y36(Nt.qu),e.Y36(Ti),e.Y36(Ir),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-server-setttings-general"]],features:[e.qOj],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"]],template:function(n,o){1&n&&e.YNc(0,fc,28,8,"div",0),2&n&&e.Q6J("ngIf",o.mediaServer)},dependencies:[y.mk,y.O5,Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var Ia=M(3452),Aw=M(3817);let Km=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Ia.m,Nt.UX,zo]})}return r})(),Wm=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Ia.m,Nt.UX,zo,Km]})}return r})(),US=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Ia.m,Nt.UX,zo]})}return r})(),cy=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Ia.m,Nt.UX,zo]})}return r})(),dy=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Ia.m,Nt.UX]})}return r})(),VS=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Ia.m,dy,Nt.UX,zo]})}return r})(),uy=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Aw.U,VS,cy,Wm,US,Nt.UX,Ia.m,zo.forChild([])]})}return r})(),zm=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[y.ez,Nt.u5,Nt.UX,Ia.m]})}return r})(),Zm=(()=>{class r{constructor(t){this.restProvider=t}getMediaServerByGuid(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.GET,"/mediaServers/GetByGuidAsync/"+t).then(c=>{n(c)},c=>{console.error(c),o(c)})})}getItems(t,n,o,c,u,g,A){return new Promise((U,Z)=>{let ce=Pr();this.lastCallGuid=ce;var Pe="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+c+"&sortDirection="+u+"&searchText="+g+"&searchBy="+A;this.restProvider.executeSinovadApiService(xn.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+t+Pe).then(ze=>{this.lastCallGuid==ce&&U(ze)},ze=>{console.error(ze),Z(ze)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/mediaServers/Update":"/mediaServers/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/mediaServers/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/mediaServers/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function fy(r,i){1&r&&(e.TgZ(0,"div",27),e._UZ(1,"mat-spinner"),e.qZA())}function hy(r,i){1&r&&(e.TgZ(0,"th",28),e._uU(1,"N\xb0"),e.qZA())}function my(r,i){if(1&r&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function jS(r,i){1&r&&(e.TgZ(0,"th",30),e._uU(1,"Nombre del dispositivo"),e.qZA())}function GS(r,i){if(1&r&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.DeviceName," ")}}function HS(r,i){1&r&&(e.TgZ(0,"th",30),e._uU(1,"Nombre familiar"),e.qZA())}function YS(r,i){if(1&r&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.FamilyName," ")}}function py(r,i){1&r&&(e.TgZ(0,"th",32),e._uU(1,"IP Privada"),e.qZA())}function ww(r,i){if(1&r&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.IpAddress," ")}}function gy(r,i){1&r&&(e.TgZ(0,"th",34),e._uU(1,"Puerto"),e.qZA())}function KS(r,i){if(1&r&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Port," ")}}function WS(r,i){1&r&&e._UZ(0,"tr",36)}function Iw(r,i){1&r&&e._UZ(0,"tr",37)}function zS(r,i){1&r&&(e.TgZ(0,"td",40),e._uU(1,"No se encontraron datos"),e.qZA())}function ZS(r,i){if(1&r&&(e.TgZ(0,"tr",38),e.YNc(1,zS,2,0,"td",39),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const _y=function(){return[5,10,25,100]};let vy=(()=>{class r extends Sa{constructor(t,n,o,c){super(o),this.dialog=t,this.mediaServerService=n,this.matPaginatorIntl=o,this.snackbarService=c}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+t.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+t.DeviceName+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.mediaServerService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(yi.uw),e.Y36(Zm),e.Y36(Ui.ye),e.Y36(Sr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},inputs:{parentItem:"parentItem"},features:[e.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Buscar"),e.qZA(),e.TgZ(10,"input",4,5),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,fy,2,0,"div",7),e.TgZ(14,"div",8)(15,"table",9),e.ynx(16,10),e.YNc(17,hy,2,0,"th",11),e.YNc(18,my,2,1,"td",12),e.BQk(),e.ynx(19,13),e.YNc(20,jS,2,0,"th",14),e.YNc(21,GS,2,1,"td",15),e.BQk(),e.ynx(22,16),e.YNc(23,HS,2,0,"th",14),e.YNc(24,YS,2,1,"td",15),e.BQk(),e.ynx(25,17),e.YNc(26,py,2,0,"th",18),e.YNc(27,ww,2,1,"td",19),e.BQk(),e.ynx(28,20),e.YNc(29,gy,2,0,"th",21),e.YNc(30,KS,2,1,"td",22),e.BQk(),e.YNc(31,WS,1,0,"tr",23),e.YNc(32,Iw,1,0,"tr",24),e.YNc(33,ZS,2,1,"tr",25),e.qZA()()()()(),e.TgZ(34,"div",1)(35,"div",3),e._UZ(36,"mat-paginator",26),e.qZA()()()()),2&n&&(e.xp6(3),e.hij("",o.parentItem.UserName," : Servidores multimedia"),e.xp6(10),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(7,_y)))},dependencies:[y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,wa.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function yy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"h5",2),e.TgZ(2,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(3,"i",4),e.qZA()(),e.TgZ(4,"div",5),e._UZ(5,"app-media-server-list",6),e.qZA(),e.TgZ(6,"div",7)(7,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(8,"Close"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("parentItem",t.parent)}}let by=(()=>{class r{constructor(t){this.activeModal=t}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Kr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&e.YNc(0,yy,9,1,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.parent)},dependencies:[y.O5,vy]})}return r})(),hc=(()=>{class r{constructor(t){this.elementRef=t,this.clickOutside=new e.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(t,n){n&&(this.elementRef.nativeElement.contains(n)||this.clickOutside.emit(t))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(n,o){1&n&&e.NdJ("click",function(u){return o.onClick(u,u.target)},!1,e.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function $S(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw().$implicit;e.Q6J("src",t.imageUrl,e.LSH)}}function qS(r,i){if(1&r&&e._UZ(0,"i"),2&r){const t=e.oxw().$implicit;e.Tol(t.iconClass)}}function JS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.onClickContextMenuOption(c))}),e.TgZ(1,"div",3),e.YNc(2,$S,1,1,"img",4),e.YNc(3,qS,1,3,"i",5),e.qZA(),e.TgZ(4,"div",6),e._uU(5),e.qZA()()}if(2&r){const t=i.$implicit;e.Udp("border-bottom",t.showBorderBottom?"1px solid black":""),e.xp6(2),e.Q6J("ngIf",t.imageUrl),e.xp6(1),e.Q6J("ngIf",t.iconClass),e.xp6(2),e.hij(" ",t.text," ")}}let QS=(()=>{class r{constructor(t,n,o,c,u,g){this.ref=t,this.viewContainerRef=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this.hideContextMenu=new e.vpe,this.clickOption=new e.vpe}ngOnInit(){}ngOnDestroy(){this.hideContextMenu.emit(!0)}ngAfterViewInit(){}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(t){this.clickOption.emit(t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(e.s_b),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.NdJ("clickOutside",function(){return o.onClickOutside()}),e.YNc(1,JS,6,5,"ng-template",1),e.qZA()),2&n&&(e.Udp("top",o.top+"px")("left",o.left+"px"),e.xp6(1),e.Q6J("ngForOf",o.listOptions))},dependencies:[y.sg,y.O5,hc],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),Dd=(()=>{class r{constructor(t,n,o){this.factoryResolver=t,this.injector=n,this.applicationRef=o}show(t,n,o,c){return new Promise((u,g)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const U=this.factoryResolver.resolveComponentFactory(QS).create(this.injector);this.lastViewRef=U.hostView,this.applicationRef.attachView(U.hostView);let Z=this;U.instance.left=n,U.instance.top=o,U.instance.listOptions=c,U.instance.clickOption.subscribe(Ne=>{Z.applicationRef.detachView(U.hostView),Ne.eventOnSelectOption&&Ne.eventOnSelectOption.emit(!0),u(Ne)}),U.instance.hideContextMenu.subscribe(Ne=>{Z.applicationRef.detachView(U.hostView),g(!0)});const ce=U.hostView.rootNodes[0];document.getElementById(t).appendChild(ce)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ey=(()=>{class r{constructor(t){this.restProvider=t}getItems(t,n,o,c,u,g){return new Promise((A,U)=>{let Z=Pr();this.lastCallGuid=Z;var ce="?page="+t.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+c+"&searchText="+u+"&searchBy="+g;this.restProvider.executeSinovadApiService(xn.GET,"/users/GetAllWithPaginationAsync"+ce).then(Ne=>{this.lastCallGuid==Z&&A(Ne)},Ne=>{console.error(Ne),U(Ne)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/users/Update":"/users/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/users/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/users/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ty(r,i){1&r&&(e.TgZ(0,"div",23),e._UZ(1,"mat-spinner"),e.qZA())}function Cy(r,i){1&r&&(e.TgZ(0,"th",24),e._uU(1,"N\xb0"),e.qZA())}function Sy(r,i){if(1&r&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function Dy(r,i){1&r&&(e.TgZ(0,"th",26),e._uU(1," Usuario "),e.qZA())}function xy(r,i){if(1&r&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.UserName," ")}}function XS(r,i){1&r&&(e.TgZ(0,"th",26),e._uU(1," Correo "),e.qZA())}function Pw(r,i){if(1&r&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Email," ")}}function Rw(r,i){1&r&&(e.TgZ(0,"th",26),e._uU(1," Nombres "),e.qZA())}function My(r,i){if(1&r&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.FirstName," ")}}function Ay(r,i){1&r&&(e.TgZ(0,"th",26),e._uU(1," Apellidos "),e.qZA())}function eD(r,i){if(1&r&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.LastName," ")}}function tD(r,i){1&r&&e._UZ(0,"tr",28)}const nD=function(r){return{active:r}};function xd(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("contextmenu",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onContextMenuItem(o,u))}),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(1,nD,n.lastSelectedItem&&t.Id==n.lastSelectedItem.Id))}}function iD(r,i){1&r&&(e.TgZ(0,"td",32),e._uU(1,"No se encontraron datos"),e.qZA())}function $m(r,i){if(1&r&&(e.TgZ(0,"tr",30),e.YNc(1,iD,2,0,"td",31),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const Oa=function(){return[5,10,25,100]};let wy=(()=>{class r extends Sa{constructor(t,n,o,c,u,g){super(u),this.modalService=t,this.contextMenuService=n,this.dialog=o,this.userService=c,this.matPaginatorIntl=u,this.snackbarService=g}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el usuario "+t.UserName+"?",accordMessage:"Si, eliminar el usuario '"+t.UserName+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.userService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","UserName","Email","FirstName","LastName"]:window.innerWidth>475?["Id","UserName","Email","LastName"]:window.innerWidth>375?["Id","UserName","Email"]:["Id","UserName"]}onContextMenuItem(t,n){this.lastSelectedItem=n,t.preventDefault(),t.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(t.clientX,t.clientY,o,n)}renderContextMenuComponent(t,n,o,c){this.contextMenuService.show("sinovadMainContainer",t,n,o).then(u=>{"ShowMediaServers"==u.key&&this.showMediaServerListModal(c)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(t){var n=this,o=this.modalService.open(by,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=t,o.closed.subscribe(c=>{n.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(Dd),e.Y36(yi.uw),e.Y36(Ey),e.Y36(Ui.ye),e.Y36(Sr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},features:[e.qOj],decls:37,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Usuarios"),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Buscar"),e.qZA(),e.TgZ(10,"input",4,5),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,Ty,2,0,"div",7),e.TgZ(14,"div",8)(15,"table",9),e.ynx(16,10),e.YNc(17,Cy,2,0,"th",11),e.YNc(18,Sy,2,1,"td",12),e.BQk(),e.ynx(19,13),e.YNc(20,Dy,2,0,"th",14),e.YNc(21,xy,2,1,"td",15),e.BQk(),e.ynx(22,16),e.YNc(23,XS,2,0,"th",14),e.YNc(24,Pw,2,1,"td",15),e.BQk(),e.ynx(25,17),e.YNc(26,Rw,2,0,"th",14),e.YNc(27,My,2,1,"td",15),e.BQk(),e.ynx(28,18),e.YNc(29,Ay,2,0,"th",14),e.YNc(30,eD,2,1,"td",15),e.BQk(),e.YNc(31,tD,1,0,"tr",19),e.YNc(32,xd,1,3,"tr",20),e.YNc(33,$m,2,1,"tr",21),e.qZA()()()()(),e.TgZ(34,"div",1)(35,"div",3),e._UZ(36,"mat-paginator",22),e.qZA()()()()),2&n&&(e.xp6(13),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(6,Oa)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,wa.Ou]})}return r})();class gf{}let mc=(()=>{class r{constructor(t){this.restProvider=t}getItems(t,n,o,c,u,g){return new Promise((A,U)=>{let Z=Pr();this.lastCallGuid=Z;var ce="?page="+t.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+c+"&searchText="+u+"&searchBy="+g;this.restProvider.executeSinovadApiService(xn.GET,"/roles/GetAllWithPaginationAsync"+ce).then(Ne=>{this.lastCallGuid==Z&&A(Ne)},Ne=>{console.error(Ne),U(Ne)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/roles/Update":"/roles/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/roles/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/roles/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function rD(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function oD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,rD,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-checkbox",9),e._uU(13,"Activo"),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(16,"Close"),e.qZA(),e.TgZ(17,"button",12),e._uU(18,"Guardar"),e.qZA()()(),e._UZ(19,"app-custom-spinner",13)}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.roleFormGroup),e.xp6(3),e.Oqu(t.role&&t.role.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.roleFormGroup.controls.name.hasError("required")),e.xp6(6),e.Q6J("disabled",t.showLoading||!t.roleFormGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let aD=(()=>{class r{constructor(t,n,o,c){this.formBuilder=t,this.activeModal=n,this.snackbarService=o,this.roleService=c,this.showLoading=!1,this.matcher=new $o}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new Nt.NI(this.role.Name,[Nt.kI.required]),enabled:new Nt.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.role));t.Name=this.roleFormGroup.value.name,t.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(t).then(n=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",$n.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(mc))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,oD,20,6,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO,ts.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function _f(r,i){1&r&&(e.TgZ(0,"div",32),e._UZ(1,"mat-spinner"),e.qZA())}function Iy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",33)(1,"mat-checkbox",34),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function sD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",35)(1,"mat-checkbox",36),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function lD(r,i){1&r&&(e.TgZ(0,"th",37),e._uU(1,"N\xb0"),e.qZA())}function qm(r,i){if(1&r&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function cD(r,i){1&r&&(e.TgZ(0,"th",39),e._uU(1," Nombre "),e.qZA())}function dD(r,i){if(1&r&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Name," ")}}function Oy(r,i){1&r&&e._UZ(0,"th",41)}function uD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",42)(1,"div",43)(2,"button",44),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(3,"i",45),e.qZA(),e.TgZ(4,"button",46),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(5,"i",7),e.qZA()()()}}function fD(r,i){1&r&&e._UZ(0,"tr",47)}function Py(r,i){1&r&&e._UZ(0,"tr",48)}function vf(r,i){1&r&&(e.TgZ(0,"td",51),e._uU(1,"No se encontraron datos"),e.qZA())}function hD(r,i){if(1&r&&(e.TgZ(0,"tr",49),e.YNc(1,vf,2,0,"td",50),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const mD=function(r){return{disable:r}},Ry=function(){return[5,10,25,100]};let Jm=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(o),this.modalService=t,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=c,this.roleService=u,this.displayedColumns=["Select","Id","Name","Actions"]}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new gf;t.Enabled=!0,this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(aD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+t.Name+"?",accordMessage:"Si, eliminar el rol '"+t.Name+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.roleService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(Ui.ye),e.Y36(Sr),e.Y36(mc))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},features:[e.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," Roles"),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA()(),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Buscar"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(19,"div",12),e.YNc(20,_f,2,0,"div",13),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,Iy,2,2,"th",17),e.YNc(25,sD,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,lD,2,0,"th",20),e.YNc(28,qm,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,cD,2,0,"th",23),e.YNc(31,dD,2,1,"td",24),e.BQk(),e.ynx(32,25),e.YNc(33,Oy,1,0,"th",26),e.YNc(34,uD,6,0,"td",27),e.BQk(),e.YNc(35,fD,1,0,"tr",28),e.YNc(36,Py,1,0,"tr",29),e.YNc(37,hD,2,1,"tr",30),e.qZA()()()()(),e.TgZ(38,"div",1)(39,"div",9),e._UZ(40,"mat-paginator",31),e.qZA()()()()),2&n&&(e.xp6(9),e.Q6J("ngClass",e.VKq(7,mD,!o.selection.hasValue())),e.xp6(11),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(9,Ry)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM]})}return r})();class Qm{}let Xm=(()=>{class r{constructor(t,n){this.sharedData=t,this.restProvider=n}getAllMenus(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/menus/GetAllAsync").then(c=>{t(c)},c=>{console.error(c),n(c)})})}getMenusByUser(){return new Promise((t,n)=>{this.restProvider.executeSinovadApiService(xn.GET,"/menus/GetByUserAsync/"+this.sharedData.userData.Id).then(o=>{this.sharedData.listMenus=o.Data,t(!0)},o=>{n(o)})})}getItems(t,n,o,c,u,g){return new Promise((A,U)=>{let Z=Pr();this.lastCallGuid=Z;var ce="?page="+t.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+c+"&searchText="+u+"&searchBy="+g;this.restProvider.executeSinovadApiService(xn.GET,"/menus/GetAllWithPaginationAsync"+ce).then(Ne=>{this.lastCallGuid==Z&&A(Ne)},Ne=>{console.error(Ne),U(Ne)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/menus/Update":"/menus/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/menus/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/menus/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(fi),e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ny=M(3680),ep=M(8525);function Ly(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," T\xedtulo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function pD(r,i){if(1&r&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Name," ")}}function gD(r,i){if(1&r&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Title," ")}}function tp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"T\xedtulo"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,Ly,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Path"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18,"N\xfamero de Orden"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Tipo de \xcdcono"),e.qZA(),e.TgZ(23,"mat-select",11)(24,"mat-option",12),e._uU(25,"--"),e.qZA(),e.YNc(26,pD,2,2,"mat-option",13),e.qZA()(),e.TgZ(27,"mat-form-field")(28,"mat-label"),e._uU(29,"Icon Class"),e.qZA(),e._UZ(30,"input",14),e.qZA(),e.TgZ(31,"mat-form-field")(32,"mat-label"),e._uU(33,"Menu Padre"),e.qZA(),e.TgZ(34,"mat-select",15)(35,"mat-option",12),e._uU(36,"--"),e.qZA(),e.YNc(37,gD,2,2,"mat-option",13),e.qZA()(),e.TgZ(38,"mat-checkbox",16),e._uU(39,"Activo"),e.qZA()(),e.TgZ(40,"div",17)(41,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(42,"Cerrar"),e.qZA(),e.TgZ(43,"button",19),e._uU(44,"Guardar"),e.qZA()()(),e._UZ(45,"app-custom-spinner",20)}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.menuFormGroup),e.xp6(3),e.Oqu(t.menu.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.menuFormGroup.controls.title.hasError("required")),e.xp6(13),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",t.listIconTypes),e.xp6(9),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",t.listMenusSelectable),e.xp6(6),e.Q6J("disabled",t.showLoading||!t.menuFormGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let np=(()=>{class r{constructor(t,n,o,c,u,g){this.sharedData=t,this.restProvider=n,this.formBuilder=o,this.activeModal=c,this.snackbarService=u,this.menuService=g,this.showLoading=!1,this.matcher=new $o}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(t=>{this.listMenusSelectable=t.Data.filter(o=>o.Id!=this.menu.Id)},t=>{console.error(t)})}getIconTypes(){this.restProvider.executeSinovadApiService(xn.GET,"/catalogs/GetDetailsByCatalogAsync/"+Zo.IconTypes).then(n=>{this.listIconTypes=n.Data},n=>{console.error(n)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new Nt.NI(this.menu.Title,[Nt.kI.required]),path:new Nt.NI(this.menu.Path),iconType:new Nt.NI(this.menu.IconTypeCatalogDetailId),iconClass:new Nt.NI(this.menu.IconClass),sortOrder:new Nt.NI(this.menu.SortOrder),parentId:new Nt.NI(this.menu.ParentId),enabled:new Nt.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.menu));t.Title=this.menuFormGroup.value.title,t.Path=this.menuFormGroup.value.path,t.IconClass=this.menuFormGroup.value.iconClass,t.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(t.IconTypeCatalogId=Zo.IconTypes,t.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(t.IconTypeCatalogId=void 0,t.IconTypeCatalogDetailId=void 0),t.ParentId=this.menuFormGroup.value.parentId,t.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(t).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",$n.Success),this.menuService.getMenusByUser(),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(fi),e.Y36(ni),e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(Xm))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,tp,46,10,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.wV,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.sg,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO,ts.oG,Ny.ey,ep.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function ky(r,i){1&r&&(e.TgZ(0,"div",41),e._UZ(1,"mat-spinner"),e.qZA())}function ip(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",42)(1,"mat-checkbox",43),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function rp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",44)(1,"mat-checkbox",45),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function _D(r,i){1&r&&(e.TgZ(0,"th",46),e._uU(1,"N\xb0"),e.qZA())}function vD(r,i){if(1&r&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function yD(r,i){1&r&&(e.TgZ(0,"th",48),e._uU(1,"T\xedtulo"),e.qZA())}function bD(r,i){if(1&r&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Title," ")}}function Fy(r,i){1&r&&(e.TgZ(0,"th",50),e._uU(1,"Path"),e.qZA())}function op(r,i){if(1&r&&(e.TgZ(0,"td",51),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Path," ")}}function By(r,i){1&r&&(e.TgZ(0,"th",52),e._uU(1,"\xcdcono"),e.qZA())}function Uy(r,i){if(1&r&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.IconClass," ")}}function Vy(r,i){1&r&&(e.TgZ(0,"th",54),e._uU(1,"Orden"),e.qZA())}function jy(r,i){if(1&r&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.SortOrder," ")}}function ED(r,i){1&r&&e._UZ(0,"th",56)}function Gy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",57)(1,"div",58)(2,"button",59),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(3,"i",60),e.qZA(),e.TgZ(4,"button",61),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(5,"i",7),e.qZA()()()}}function Hy(r,i){1&r&&e._UZ(0,"tr",62)}function TD(r,i){1&r&&e._UZ(0,"tr",63)}function Yy(r,i){1&r&&(e.TgZ(0,"td",66),e._uU(1,"No se encontraron datos"),e.qZA())}function Ky(r,i){if(1&r&&(e.TgZ(0,"tr",64),e.YNc(1,Yy,2,0,"td",65),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const _o=function(r){return{disable:r}},pc=function(){return[5,10,25,100]};let Wy=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(o),this.modalService=t,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=c,this.menuService=u}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new Qm;t.Enabled=!0,this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(np,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+t.Title+"?",accordMessage:"Si, eliminar el menu '"+t.Title+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.menuService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(Ui.ye),e.Y36(Sr),e.Y36(Xm))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},features:[e.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Menus"),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA()(),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Buscar"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(19,"div",12),e.YNc(20,ky,2,0,"div",13),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,ip,2,2,"th",17),e.YNc(25,rp,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,_D,2,0,"th",20),e.YNc(28,vD,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,yD,2,0,"th",23),e.YNc(31,bD,2,1,"td",24),e.BQk(),e.ynx(32,25),e.YNc(33,Fy,2,0,"th",26),e.YNc(34,op,2,1,"td",27),e.BQk(),e.ynx(35,28),e.YNc(36,By,2,0,"th",29),e.YNc(37,Uy,2,1,"td",30),e.BQk(),e.ynx(38,31),e.YNc(39,Vy,2,0,"th",32),e.YNc(40,jy,2,1,"td",33),e.BQk(),e.ynx(41,34),e.YNc(42,ED,1,0,"th",35),e.YNc(43,Gy,6,0,"td",36),e.BQk(),e.YNc(44,Hy,1,0,"tr",37),e.YNc(45,TD,1,0,"tr",38),e.YNc(46,Ky,2,1,"tr",39),e.qZA()()()()(),e.TgZ(47,"div",1)(48,"div",9),e._UZ(49,"mat-paginator",40),e.qZA()()()()),2&n&&(e.xp6(9),e.Q6J("ngClass",e.VKq(7,_o,!o.selection.hasValue())),e.xp6(11),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(9,pc)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();function CD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-horizontal-item-list",1),e.NdJ("showItemView",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.onSelectMovie(o))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("currentMediaTypeID",t.currentMediaTypeID)("title",t.title)}}let SD=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(t,u,g),this.restProvider=t,this.router=n,this.ref=o,this.http=c,this.domSanitizer=u,this.sharedData=g}ngOnInit(){this.title="Pel\xedculas",this.currentMediaTypeID=Ca.Movie}onSelectMovie(t){this.router.navigateByUrl("/moviedetail/"+t.Item.MovieId)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36(Ti),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-media-movies"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"currentMediaTypeID","title","showItemView",4,"ngIf"],[3,"currentMediaTypeID","title","showItemView"]],template:function(n,o){1&n&&e.YNc(0,CD,1,2,"app-horizontal-item-list",0),2&n&&e.Q6J("ngIf",o.sharedData.currentProfile)},dependencies:[y.O5,Gm],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return r})();function Nw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-horizontal-item-list",1),e.NdJ("showItemView",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.onSelectTvSerie(o))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("currentMediaTypeID",t.currentMediaTypeID)("title",t.title)}}let ap=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(t,u,g),this.restProvider=t,this.router=n,this.ref=o,this.http=c,this.domSanitizer=u,this.sharedData=g}ngOnInit(){this.title="Series",this.currentMediaTypeID=Ca.TvSerie}onSelectTvSerie(t){this.router.navigateByUrl("/tvseriedetail/"+t.Item.TvSerieId)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36(Ti),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-media-tvseries"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"currentMediaTypeID","title","showItemView",4,"ngIf"],[3,"currentMediaTypeID","title","showItemView"]],template:function(n,o){1&n&&e.YNc(0,Nw,1,2,"app-horizontal-item-list",0),2&n&&e.Q6J("ngIf",o.sharedData.currentProfile)},dependencies:[y.O5,Gm],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return r})();class sp{}function Md(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"p")(1,"mat-checkbox",10),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.onChangeCheckValue(o,u))}),e._uU(2),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("checked",n.selection.isSelected(t)),e.xp6(1),e.Oqu(t.Name)}}function DD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,Md,3,2,"ng-template",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveSelection())}),e._uU(11,"Guardar"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu("G\xe9neros"),e.xp6(4),e.Q6J("ngForOf",t.listAllGenres)}}let yf=(()=>{class r{constructor(t){this.activeModal=t}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(t,n){t.target.checked?this.selection.select(n):this.selection.deselect(n)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Kr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(n,o){1&n&&(e.YNc(0,DD,12,2,"ng-template",0),e._uU(1," <\n")),2&n&&e.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[y.sg,y.O5,ts.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),zy=(()=>{class r{constructor(t){this.restProvider=t}getMovie(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.GET,"/movies/GetAsync/"+t).then(c=>{n(c)},c=>{console.error(c),o(c)})})}getItems(t,n,o,c,u,g){return new Promise((A,U)=>{let Z=Pr();this.lastCallGuid=Z;var ce="?page="+t.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+c+"&searchText="+u+"&searchBy="+g;this.restProvider.executeSinovadApiService(xn.GET,"/movies/GetAllWithPaginationAsync"+ce).then(Ne=>{this.lastCallGuid==Z&&A(Ne)},Ne=>{console.error(Ne),U(Ne)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/movies/Update":"/movies/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/movies/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/movies/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var dl=M(8034);function xD(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," T\xedtulo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function MD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"T\xedtulo"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,xD,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Fecha de Lanzamiento"),e.qZA(),e._UZ(15,"input",9),e.TgZ(16,"mat-hint"),e._uU(17,"MM/DD/YYYY"),e.qZA(),e._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),e.qZA(),e.TgZ(21,"mat-form-field")(22,"mat-label"),e._uU(23,"G\xe9neros"),e.qZA(),e.TgZ(24,"textarea",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showGenresSelectionModal())}),e.qZA()(),e.TgZ(25,"mat-form-field")(26,"mat-label"),e._uU(27,"Directores"),e.qZA(),e._UZ(28,"textarea",13),e.qZA(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Actores"),e.qZA(),e._UZ(32,"textarea",14),e.qZA(),e.TgZ(33,"mat-form-field")(34,"mat-label"),e._uU(35,"Resumen"),e.qZA(),e._UZ(36,"textarea",15),e.qZA(),e.TgZ(37,"mat-form-field")(38,"mat-label"),e._uU(39,"Im\xe1gen"),e.qZA(),e._UZ(40,"textarea",16),e.qZA()(),e.TgZ(41,"div",17)(42,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(43,"Close"),e.qZA(),e.TgZ(44,"button",19),e._uU(45,"Guardar"),e.qZA()()(),e._UZ(46,"app-custom-spinner",20)}if(2&r){const t=e.MAs(20),n=e.oxw();e.Q6J("formGroup",n.movieFormGroup),e.xp6(3),e.Oqu(n.movie.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",n.matcher),e.xp6(1),e.Q6J("ngIf",n.movieFormGroup.controls.title.hasError("required")),e.xp6(4),e.Q6J("matDatepicker",t),e.xp6(3),e.Q6J("for",t),e.xp6(6),e.Q6J("readonly",!0),e.xp6(20),e.Q6J("disabled",n.showLoading||!n.movieFormGroup.valid),e.xp6(2),e.Q6J("showLoading",n.showLoading)}}let AD=(()=>{class r{constructor(t,n,o,c,u,g,A){this.sharedDataService=t,this.modalService=n,this.genreService=o,this.formBuilder=c,this.activeModal=u,this.snackbarService=g,this.movieService=A,this.showLoading=!1,this.matcher=new $o}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(t=>{this.listGenres=t.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new Nt.NI(this.movie.Title,[Nt.kI.required]),releaseDate:new Nt.NI(this.sharedDataService.formatDate(this.movie.ReleaseDate)),directors:new Nt.NI(this.movie.Directors),actors:new Nt.NI(this.movie.Actors),overview:new Nt.NI(this.movie.Overview),posterPath:new Nt.NI(this.movie.PosterPath),selectedGenres:new Nt.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(t=>{this.movie=t.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.movie));t.Title=this.movieFormGroup.value.title,t.ReleaseDate=this.movieFormGroup.value.releaseDate,t.Directors=this.movieFormGroup.value.directors,t.Actors=this.movieFormGroup.value.actors,t.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(t).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",$n.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(n=>n.GenreName).join(", "):""}showGenresSelectionModal(){var t=this,n=this.modalService.open(yf,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.listAllGenres=this.listGenres,n.componentInstance.selection=new Ka.Ov(!0,this.getMovieGenres()),n.closed.subscribe(o=>{t.setMovieGenres(o)})}getMovieGenres(){var t=this.movie.ListItemGenres.map(n=>n.GenreId);return this.listGenres.filter(n=>-1!=t.indexOf(n.Id))}setMovieGenres(t){var n=[];t.forEach(o=>{n.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=n,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(fi),e.Y36(go),e.Y36(sc),e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(zy))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,MD,47,9,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.bx,ii.TO,ii.R9,dl.Mq,dl.hl,dl.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function lp(r,i){1&r&&(e.TgZ(0,"div",39),e._UZ(1,"mat-spinner"),e.qZA())}function Zy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",40)(1,"mat-checkbox",41),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function wD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",42)(1,"mat-checkbox",43),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function bf(r,i){1&r&&(e.TgZ(0,"th",44),e._uU(1,"N\xb0"),e.qZA())}function cp(r,i){if(1&r&&(e.TgZ(0,"td",45),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function Lw(r,i){1&r&&(e.TgZ(0,"th",46),e._uU(1,"T\xedtulo"),e.qZA())}function $y(r,i){if(1&r&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Title," ")}}function ID(r,i){1&r&&(e.TgZ(0,"th",48),e._uU(1,"Fecha"),e.qZA())}function qy(r,i){if(1&r&&(e.TgZ(0,"td",49),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.ReleaseDate,"dd-MM-YYYY")," ")}}function gc(r,i){1&r&&(e.TgZ(0,"th",50),e._uU(1,"Actores"),e.qZA())}function OD(r,i){if(1&r&&(e.TgZ(0,"td",51),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Actors," ")}}function Jy(r,i){1&r&&(e.TgZ(0,"th",50),e._uU(1,"Directores"),e.qZA())}function dp(r,i){if(1&r&&(e.TgZ(0,"td",51),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Directors," ")}}function kw(r,i){1&r&&e._UZ(0,"th",52)}function PD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",53)(1,"div",54)(2,"button",55),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(3,"i",56),e.qZA(),e.TgZ(4,"button",57),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(5,"i",7),e.qZA()()()}}function Fw(r,i){1&r&&e._UZ(0,"tr",58)}function RD(r,i){1&r&&e._UZ(0,"tr",59)}function ND(r,i){1&r&&(e.TgZ(0,"td",62),e._uU(1,"No se encontraron datos"),e.qZA())}function LD(r,i){if(1&r&&(e.TgZ(0,"tr",60),e.YNc(1,ND,2,0,"td",61),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const Qy=function(r){return{disable:r}},Xy=function(){return[5,10,25,100]};let up=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(o),this.modalService=t,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=c,this.movieService=u}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new sp;this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(AD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+t.Title+"?",accordMessage:"Si, eliminar el movie '"+t.Title+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.movieService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(Ui.ye),e.Y36(Sr),e.Y36(zy))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},features:[e.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," Pel\xedculas"),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA()(),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Buscar"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(19,"div",12),e.YNc(20,lp,2,0,"div",13),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,Zy,2,2,"th",17),e.YNc(25,wD,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,bf,2,0,"th",20),e.YNc(28,cp,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,Lw,2,0,"th",23),e.YNc(31,$y,2,1,"td",24),e.BQk(),e.ynx(32,25),e.YNc(33,ID,2,0,"th",26),e.YNc(34,qy,3,4,"td",27),e.BQk(),e.ynx(35,28),e.YNc(36,gc,2,0,"th",29),e.YNc(37,OD,2,1,"td",30),e.BQk(),e.ynx(38,31),e.YNc(39,Jy,2,0,"th",29),e.YNc(40,dp,2,1,"td",30),e.BQk(),e.ynx(41,32),e.YNc(42,kw,1,0,"th",33),e.YNc(43,PD,6,0,"td",34),e.BQk(),e.YNc(44,Fw,1,0,"tr",35),e.YNc(45,RD,1,0,"tr",36),e.YNc(46,LD,2,1,"tr",37),e.qZA()()()()(),e.TgZ(47,"div",1)(48,"div",9),e._UZ(49,"mat-paginator",38),e.qZA()()()()),2&n&&(e.xp6(9),e.Q6J("ngClass",e.VKq(7,Qy,!o.selection.hasValue())),e.xp6(11),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(9,Xy)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM,y.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class e0{}let fp=(()=>{class r{constructor(t){this.restProvider=t}getTvSerie(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.GET,"/tvseries/GetAsync/"+t).then(c=>{n(c)},c=>{console.error(c),o(c)})})}getItems(t,n,o,c,u,g){return new Promise((A,U)=>{let Z=Pr();this.lastCallGuid=Z;var ce="?page="+t.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+c+"&searchText="+u+"&searchBy="+g;this.restProvider.executeSinovadApiService(xn.GET,"/tvseries/GetAllWithPaginationAsync"+ce).then(Ne=>{this.lastCallGuid==Z&&A(Ne)},Ne=>{console.error(Ne),U(Ne)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/tvseries/Update":"/tvseries/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/tvseries/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/tvseries/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function kD(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function FD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,kD,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Primera fecha de emisi\xf3n"),e.qZA(),e._UZ(15,"input",9),e.TgZ(16,"mat-hint"),e._uU(17,"MM/DD/YYYY"),e.qZA(),e._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),e.qZA(),e.TgZ(21,"mat-form-field")(22,"mat-label"),e._uU(23,"\xdaltima fecha de emisi\xf3n"),e.qZA(),e._UZ(24,"input",12),e.TgZ(25,"mat-hint"),e._uU(26,"MM/DD/YYYY"),e.qZA(),e._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),e.qZA(),e.TgZ(30,"mat-form-field")(31,"mat-label"),e._uU(32,"G\xe9neros"),e.qZA(),e.TgZ(33,"textarea",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showGenresSelectionModal())}),e.qZA()(),e.TgZ(34,"mat-form-field")(35,"mat-label"),e._uU(36,"Directores"),e.qZA(),e._UZ(37,"textarea",14),e.qZA(),e.TgZ(38,"mat-form-field")(39,"mat-label"),e._uU(40,"Actores"),e.qZA(),e._UZ(41,"textarea",15),e.qZA(),e.TgZ(42,"mat-form-field")(43,"mat-label"),e._uU(44,"Resumen"),e.qZA(),e._UZ(45,"textarea",16),e.qZA(),e.TgZ(46,"mat-form-field")(47,"mat-label"),e._uU(48,"Im\xe1gen"),e.qZA(),e._UZ(49,"textarea",17),e.qZA()(),e.TgZ(50,"div",18)(51,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(52,"Close"),e.qZA(),e.TgZ(53,"button",20),e._uU(54,"Guardar"),e.qZA()()(),e._UZ(55,"app-custom-spinner",21)}if(2&r){const t=e.MAs(20),n=e.oxw();e.Q6J("formGroup",n.tvserieFormGroup),e.xp6(3),e.Oqu(n.tvserie.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",n.matcher),e.xp6(1),e.Q6J("ngIf",n.tvserieFormGroup.controls.name.hasError("required")),e.xp6(4),e.Q6J("matDatepicker",t),e.xp6(3),e.Q6J("for",t),e.xp6(6),e.Q6J("matDatepicker",t),e.xp6(3),e.Q6J("for",t),e.xp6(6),e.Q6J("readonly",!0),e.xp6(20),e.Q6J("disabled",n.showLoading||!n.tvserieFormGroup.valid),e.xp6(2),e.Q6J("showLoading",n.showLoading)}}let t0=(()=>{class r{constructor(t,n,o,c,u,g,A){this.sharedDataService=t,this.modalService=n,this.genreService=o,this.formBuilder=c,this.activeModal=u,this.snackbarService=g,this.tvserieService=A,this.showLoading=!1,this.matcher=new $o}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(t=>{this.listGenres=t.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new Nt.NI(this.tvserie.Name,[Nt.kI.required]),firstAirDate:new Nt.NI(this.sharedDataService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new Nt.NI(this.sharedDataService.formatDate(this.tvserie.LastAirDate)),directors:new Nt.NI(this.tvserie.Directors),actors:new Nt.NI(this.tvserie.Actors),overview:new Nt.NI(this.tvserie.Overview),posterPath:new Nt.NI(this.tvserie.PosterPath),selectedGenres:new Nt.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(t=>{this.tvserie=t.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.tvserie));t.Name=this.tvserieFormGroup.value.name,t.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,t.LastAirDate=this.tvserieFormGroup.value.lastAirDate,t.Directors=this.tvserieFormGroup.value.directors,t.Actors=this.tvserieFormGroup.value.actors,t.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(t).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",$n.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(n=>n.GenreName).join(", "):""}showGenresSelectionModal(){var t=this,n=this.modalService.open(yf,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.listAllGenres=this.listGenres,n.componentInstance.selection=new Ka.Ov(!0,this.getTvSerieGenres()),n.closed.subscribe(o=>{t.setTvSerieGenres(o)})}getTvSerieGenres(){var t=this.tvserie.ListItemGenres.map(n=>n.GenreId);return this.listGenres.filter(n=>-1!=t.indexOf(n.Id))}setTvSerieGenres(t){var n=[];t.forEach(o=>{n.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=n,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(fi),e.Y36(go),e.Y36(sc),e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(fp))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,FD,56,11,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.bx,ii.TO,ii.R9,dl.Mq,dl.hl,dl.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class BD{}let hp=(()=>{class r{constructor(t){this.restProvider=t}getItems(t,n,o,c,u,g,A){return new Promise((U,Z)=>{let ce=Pr();this.lastCallGuid=ce;var Pe="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+c+"&sortDirection="+u+"&searchText="+g+"&searchBy="+A;this.restProvider.executeSinovadApiService(xn.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+t+Pe).then(ze=>{this.lastCallGuid==ce&&U(ze)},ze=>{console.error(ze),Z(ze)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/seasons/Update":"/seasons/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/seasons/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/seasons/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function n0(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function r0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,n0,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"N\xfamero"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18,"Resumen"),e.qZA(),e._UZ(19,"textarea",10),e.qZA()(),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(22,"Close"),e.qZA(),e.TgZ(23,"button",13),e._uU(24,"Guardar"),e.qZA()()(),e._UZ(25,"app-custom-spinner",14)}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.seasonFormGroup),e.xp6(3),e.Oqu(t.season.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.seasonFormGroup.controls.name.hasError("required")),e.xp6(12),e.Q6J("disabled",t.showLoading||!t.seasonFormGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let o0=(()=>{class r{constructor(t,n,o,c){this.formBuilder=t,this.activeModal=n,this.snackbarService=o,this.seasonService=c,this.showLoading=!1,this.matcher=new $o}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new Nt.NI(this.season.Name,[Nt.kI.required]),seasonNumber:new Nt.NI(this.season.SeasonNumber),summary:new Nt.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.season));t.SeasonNumber=this.seasonFormGroup.value.seasonNumber,t.Name=this.seasonFormGroup.value.name,t.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(t).then(n=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",$n.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(hp))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,r0,26,6,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.wV,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class a0{}let mp=(()=>{class r{constructor(t){this.restProvider=t}getItems(t,n,o,c,u,g,A){return new Promise((U,Z)=>{let ce=Pr();this.lastCallGuid=ce;var Pe="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+c+"&sortDirection="+u+"&searchText="+g+"&searchBy="+A;this.restProvider.executeSinovadApiService(xn.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+t+Pe).then(ze=>{this.lastCallGuid==ce&&U(ze)},ze=>{console.error(ze),Z(ze)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/episodes/Update":"/episodes/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}createList(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.POST,"/episodes/CreateList",t).then(c=>{n(!0)},c=>{console.error(c),o(c)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/episodes/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/episodes/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Bw(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," T\xcdtulo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function s0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveItem())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"T\xcdtulo"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,Bw,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"N\xfamero"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18,"Resumen"),e.qZA(),e._UZ(19,"textarea",10),e.qZA()(),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(22,"Close"),e.qZA(),e.TgZ(23,"button",13),e._uU(24,"Guardar"),e.qZA()()(),e._UZ(25,"app-custom-spinner",14)}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.episodeFormGroup),e.xp6(3),e.Oqu(t.episode.Id>0?"Editar":"Nuevo"),e.xp6(7),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.episodeFormGroup.controls.title.hasError("required")),e.xp6(12),e.Q6J("disabled",t.showLoading||!t.episodeFormGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let Uw=(()=>{class r{constructor(t,n,o,c){this.formBuilder=t,this.activeModal=n,this.snackbarService=o,this.episodeService=c,this.showLoading=!1,this.matcher=new $o}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new Nt.NI(this.episode.Title,[Nt.kI.required]),episodeNumber:new Nt.NI(this.episode.EpisodeNumber),summary:new Nt.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.episode));t.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,t.Title=this.episodeFormGroup.value.title,t.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(t).then(n=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",$n.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(Kr),e.Y36(Sr),e.Y36(mp))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,s0,26,6,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.wV,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Vw(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," El campo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function jw(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," El campo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function Gw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3,"Rango de Episodios"),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Desde"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,Vw,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Hasta"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,jw,4,0,"mat-error",8),e.qZA()(),e.TgZ(17,"div",10)(18,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(19,"Close"),e.qZA(),e.TgZ(20,"button",12),e._uU(21,"Guardar"),e.qZA()(),e._UZ(22,"app-custom-spinner",13),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(11),e.Q6J("ngIf",t.formGroup.controls.initialEpisodeNumber.hasError("required")),e.xp6(5),e.Q6J("ngIf",t.formGroup.controls.lastEpisodeNumber.hasError("required")),e.xp6(4),e.Q6J("disabled",t.showLoading||!t.formGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let Hw=(()=>{class r{constructor(t,n,o){this.formBuilder=t,this.episodeService=n,this.activeModal=o,this.matcher=new $o,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new Nt.NI("",[Nt.kI.required]),lastEpisodeNumber:new Nt.NI("",[Nt.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let n=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var t=new a0;t.EpisodeNumber=o,t.SeasonId=this.parent.Id,t.Title="Episodio "+o,n.push(t)}this.episodeService.createList(n).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Nt.qu),e.Y36(mp),e.Y36(Kr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,Gw,23,5,"form",0),2&n&&e.Q6J("ngIf",o.formGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.wV,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Yw(r,i){1&r&&(e.TgZ(0,"div",32),e._UZ(1,"mat-spinner"),e.qZA())}function Kw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",33)(1,"mat-checkbox",34),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function Ww(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",35)(1,"mat-checkbox",36),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function zw(r,i){1&r&&(e.TgZ(0,"th",37),e._uU(1,"N\xb0"),e.qZA())}function l0(r,i){if(1&r&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.EpisodeNumber,"")}}function pp(r,i){1&r&&(e.TgZ(0,"th",39),e._uU(1,"T\xcdtulo"),e.qZA())}function c0(r,i){if(1&r&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Title," ")}}function UD(r,i){1&r&&e._UZ(0,"th",41)}function Ef(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",42)(1,"div",43)(2,"button",44),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(3,"i",45),e.qZA(),e.TgZ(4,"button",46),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(5,"i",7),e.qZA()()()}}function VD(r,i){1&r&&e._UZ(0,"tr",47)}function Zw(r,i){1&r&&e._UZ(0,"tr",48)}function $w(r,i){1&r&&(e.TgZ(0,"td",51),e._uU(1,"No se encontraron datos"),e.qZA())}function jD(r,i){if(1&r&&(e.TgZ(0,"tr",49),e.YNc(1,$w,2,0,"td",50),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const d0=function(r){return{disable:r}},GD=function(){return[5,10,25,100]};let HD=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(c),this.modalService=t,this.dialog=n,this.episodeService=o,this.matPaginatorIntl=c,this.snackbarService=u}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new a0;this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(Uw,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+t.Title+"?",accordMessage:"Si, eliminar el episodio '"+t.Title+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.episodeService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var t=this,n=this.modalService.open(Hw,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.parent=this.parentItem,n.closed.subscribe(o=>{t.getAllItems()})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(mp),e.Y36(Ui.ye),e.Y36(Sr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},inputs:{parentItem:"parentItem"},features:[e.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return o.showEpisodeRangeModal()}),e._uU(12," Agregar por Rango "),e.qZA()()(),e.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),e._uU(17,"Buscar"),e.qZA(),e.TgZ(18,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(20,"div",12),e.YNc(21,Yw,2,0,"div",13),e.TgZ(22,"div",14)(23,"table",15),e.ynx(24,16),e.YNc(25,Kw,2,2,"th",17),e.YNc(26,Ww,2,1,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,zw,2,0,"th",20),e.YNc(29,l0,2,1,"td",21),e.BQk(),e.ynx(30,22),e.YNc(31,pp,2,0,"th",23),e.YNc(32,c0,2,1,"td",24),e.BQk(),e.ynx(33,25),e.YNc(34,UD,1,0,"th",26),e.YNc(35,Ef,6,0,"td",27),e.BQk(),e.YNc(36,VD,1,0,"tr",28),e.YNc(37,Zw,1,0,"tr",29),e.YNc(38,jD,2,1,"tr",30),e.qZA()()()()(),e.TgZ(39,"div",1)(40,"div",9),e._UZ(41,"mat-paginator",31),e.qZA()()()()),2&n&&(e.xp6(3),e.hij("",o.parentItem.Name," :Episodios"),e.xp6(6),e.Q6J("ngClass",e.VKq(8,d0,!o.selection.hasValue())),e.xp6(12),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(10,GD)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function YD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e._UZ(6,"app-episode-list",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(9,"Close"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.hij("",t.parent.Name," :Episodios"),e.xp6(4),e.Q6J("parentItem",t.parent)}}let qw=(()=>{class r{constructor(t){this.activeModal=t}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Kr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&e.YNc(0,YD,10,2,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.parent)},dependencies:[y.O5,HD]})}return r})();function KD(r,i){1&r&&(e.TgZ(0,"div",32),e._UZ(1,"mat-spinner"),e.qZA())}function u0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",33)(1,"mat-checkbox",34),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function f0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",35)(1,"mat-checkbox",36),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function Jw(r,i){1&r&&(e.TgZ(0,"th",37),e._uU(1,"N\xb0"),e.qZA())}function ha(r,i){if(1&r&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.SeasonNumber,"")}}function h0(r,i){1&r&&(e.TgZ(0,"th",39),e._uU(1,"Nombre"),e.qZA())}function WD(r,i){if(1&r&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Name," ")}}function Qw(r,i){1&r&&e._UZ(0,"th",41)}function vo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",42)(1,"div",43)(2,"button",44),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.showEpisodeListModal(c))}),e._UZ(3,"i",45),e.qZA(),e.TgZ(4,"button",46),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(5,"i",47),e.qZA(),e.TgZ(6,"button",48),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(7,"i",7),e.qZA()()()}}function zD(r,i){1&r&&e._UZ(0,"tr",49)}function gp(r,i){1&r&&e._UZ(0,"tr",50)}function ZD(r,i){1&r&&(e.TgZ(0,"td",53),e._uU(1,"No se encontraron datos"),e.qZA())}function $D(r,i){if(1&r&&(e.TgZ(0,"tr",51),e.YNc(1,ZD,2,0,"td",52),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const _p=function(r){return{disable:r}},m0=function(){return[5,10,25,100]};let p0=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(c),this.modalService=t,this.dialog=n,this.seasonService=o,this.matPaginatorIntl=c,this.snackbarService=u}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new BD;this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(o0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+t.Name+"?",accordMessage:"Si, eliminar la temporada '"+t.Name+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.seasonService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(t){var o=this.modalService.open(qw,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=t,o.closed.subscribe(c=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(hp),e.Y36(Ui.ye),e.Y36(Sr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},inputs:{parentItem:"parentItem"},features:[e.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA()(),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Buscar"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(19,"div",12),e.YNc(20,KD,2,0,"div",13),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,u0,2,2,"th",17),e.YNc(25,f0,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,Jw,2,0,"th",20),e.YNc(28,ha,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,h0,2,0,"th",23),e.YNc(31,WD,2,1,"td",24),e.BQk(),e.ynx(32,25),e.YNc(33,Qw,1,0,"th",26),e.YNc(34,vo,8,0,"td",27),e.BQk(),e.YNc(35,zD,1,0,"tr",28),e.YNc(36,gp,1,0,"tr",29),e.YNc(37,$D,2,1,"tr",30),e.qZA()()()()(),e.TgZ(38,"div",1)(39,"div",9),e._UZ(40,"mat-paginator",31),e.qZA()()()()),2&n&&(e.xp6(3),e.hij("",o.parentItem.Name," :Temporadas"),e.xp6(6),e.Q6J("ngClass",e.VKq(8,_p,!o.selection.hasValue())),e.xp6(11),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(10,m0)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function qD(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e._UZ(6,"app-season-list",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(9,"Close"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.hij("",t.parent.Name," :Temporadas"),e.xp6(4),e.Q6J("parentItem",t.parent)}}let g0=(()=>{class r{constructor(t){this.activeModal=t}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Kr))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&e.YNc(0,qD,10,2,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.parent)},dependencies:[y.O5,p0]})}return r})();function _0(r,i){1&r&&(e.TgZ(0,"div",40),e._UZ(1,"mat-spinner"),e.qZA())}function v0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"th",41)(1,"mat-checkbox",42),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(o?c.toggleAllRows():null)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function y0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",43)(1,"mat-checkbox",44),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onChangeCheckValue(o,u))}),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function JD(r,i){1&r&&(e.TgZ(0,"th",45),e._uU(1,"N\xb0"),e.qZA())}function b0(r,i){if(1&r&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&r){const t=i.index,n=e.oxw();e.xp6(1),e.hij(" ",n.getElementNumber(t,n.currentPage,n.itemsPerPage),"")}}function QD(r,i){1&r&&(e.TgZ(0,"th",47),e._uU(1,"Nombre"),e.qZA())}function vp(r,i){if(1&r&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.Name," ")}}function bs(r,i){1&r&&(e.TgZ(0,"th",49),e._uU(1,"Primera emisi\xf3n"),e.qZA())}function E0(r,i){if(1&r&&(e.TgZ(0,"td",50),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.FirstAirDate,"dd-MM-YYYY")," ")}}function yp(r,i){1&r&&(e.TgZ(0,"th",49),e._uU(1,"\xdaltima emisi\xf3n"),e.qZA())}function bp(r,i){if(1&r&&(e.TgZ(0,"td",50),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.LastAirDate,"dd-MM-YYYY")," ")}}function XD(r,i){1&r&&(e.TgZ(0,"th",51),e._uU(1,"Actores"),e.qZA())}function Xw(r,i){if(1&r&&(e.TgZ(0,"td",52,53),e._uU(2),e.qZA()),2&r){const t=i.$implicit,n=e.MAs(1);e.Udp("cursor",n.offsetWidth<n.scrollWidth?"pointer":""),e.s9C("matTooltip",n.offsetWidth<n.scrollWidth?t.Actors:""),e.xp6(2),e.Oqu(t.Actors)}}function T0(r,i){1&r&&(e.TgZ(0,"th",51),e._uU(1,"Directores"),e.qZA())}function ex(r,i){if(1&r&&(e.TgZ(0,"td",52,53),e._uU(2),e.qZA()),2&r){const t=i.$implicit,n=e.MAs(1);e.Udp("cursor",n.offsetWidth<n.scrollWidth?"pointer":""),e.s9C("matTooltip",n.offsetWidth<n.scrollWidth?t.Directors:""),e.xp6(2),e.hij(" ",t.Directors," ")}}function tx(r,i){1&r&&e._UZ(0,"th",54)}function nx(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"td",55)(1,"div",56)(2,"button",57),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.showSeasonListModal(c))}),e._UZ(3,"i",58),e.qZA(),e.TgZ(4,"button",59),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editItem(c))}),e._UZ(5,"i",60),e.qZA(),e.TgZ(6,"button",61),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deleteItem(c))}),e._UZ(7,"i",7),e.qZA()()()}}function ix(r,i){1&r&&e._UZ(0,"tr",62)}function C0(r,i){1&r&&e._UZ(0,"tr",63)}function e1(r,i){1&r&&(e.TgZ(0,"td",66),e._uU(1,"No se encontraron datos"),e.qZA())}function S0(r,i){if(1&r&&(e.TgZ(0,"tr",64),e.YNc(1,e1,2,0,"td",65),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.showLoading)}}const rx=function(r){return{disable:r}},D0=function(){return[5,10,25,100]};let x0=(()=>{class r extends Sa{constructor(t,n,o,c,u){super(o),this.modalService=t,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=c,this.tvserieService=u}ngAfterViewInit(){this.paginator.page.subscribe(t=>{this.updatePageData(t),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(t=>{this.currentPage=1,this.sortBy=t.active,this.sortDirection=t.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(t){this.searchText=t.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var t=new e0;this.showModalForm(t)}editItem(t){this.showModalForm(t)}showModalForm(t){var n=this,o=this.modalService.open(t0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=t,o.closed.subscribe(c=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(t=>{this.showLoading=!1;var n=t.Data;this.totalCount=t.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},t=>{this.showLoading=!1})}deleteItem(t){var n=new yi.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+t.Name+"?",accordMessage:"Si, eliminar la serie '"+t.Name+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(t)})}executeDeleteItem(t){this.showLoading=!0,this.tvserieService.deleteItem(t.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var t=new yi.vA;t.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Er,t).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(t=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},t=>{this.showLoading=!1,this.snackbarService.showSnackBar(t,$n.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(t){var o=this.modalService.open(g0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=t,o.closed.subscribe(c=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(go),e.Y36(yi.uw),e.Y36(Ui.ye),e.Y36(Sr),e.Y36(fp))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ui.NW,5),e.Gf(Wi.YE,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.sort=c.first)}},features:[e.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Series"),e.qZA()(),e.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.showNewItem()}),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.deleteSelectedItems()}),e._UZ(10,"i",7),e.qZA()(),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Buscar"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("keyup",function(u){return o.applyFilter(u)}),e.qZA()(),e.TgZ(19,"div",12),e.YNc(20,_0,2,0,"div",13),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,v0,2,2,"th",17),e.YNc(25,y0,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,JD,2,0,"th",20),e.YNc(28,b0,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,QD,2,0,"th",23),e.YNc(31,vp,2,1,"td",24),e.BQk(),e.ynx(32,25),e.YNc(33,bs,2,0,"th",26),e.YNc(34,E0,3,4,"td",27),e.BQk(),e.ynx(35,28),e.YNc(36,yp,2,0,"th",26),e.YNc(37,bp,3,4,"td",27),e.BQk(),e.ynx(38,29),e.YNc(39,XD,2,0,"th",30),e.YNc(40,Xw,3,4,"td",31),e.BQk(),e.ynx(41,32),e.YNc(42,T0,2,0,"th",30),e.YNc(43,ex,3,4,"td",31),e.BQk(),e.ynx(44,33),e.YNc(45,tx,1,0,"th",34),e.YNc(46,nx,8,0,"td",35),e.BQk(),e.YNc(47,ix,1,0,"tr",36),e.YNc(48,C0,1,0,"tr",37),e.YNc(49,S0,2,1,"tr",38),e.qZA()()()()(),e.TgZ(50,"div",1)(51,"div",9),e._UZ(52,"mat-paginator",39),e.qZA()()()()),2&n&&(e.xp6(9),e.Q6J("ngClass",e.VKq(7,rx,!o.selection.hasValue())),e.xp6(11),e.Q6J("ngIf",o.showLoading),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.getDisplayedColumns()),e.xp6(1),e.Q6J("matRowDefColumns",o.getDisplayedColumns()),e.xp6(4),e.Q6J("color","primary")("pageSizeOptions",e.DdM(9,D0)))},dependencies:[y.mk,y.O5,Ui.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Ur.Nt,ii.KE,ii.hX,Wi.YE,Wi.nU,ts.oG,wa.Ou,ys.gM,y.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();const Ep=["itemListContainer"];function M0(r,i){if(1&r&&(e.TgZ(0,"div",14)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.Title)}}function A0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.onClickItem(c))}),e._UZ(2,"img",12),e.qZA(),e.YNc(3,M0,3,1,"div",13),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.hYB("id","item_",t.TvSerieId?t.TvSerie_ID:t.MovieId,"_",t.MediaType,""),e.xp6(1),e.Q6J("src",n.getUrlByItemMovieDataBase(t),e.LSH),e.xp6(1),e.Q6J("ngIf",!t.Subtitle)}}function ox(r,i){if(1&r&&(e.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),e.YNc(6,A0,4,4,"ng-template",3),e.qZA()()()()),2&r){const t=i.$implicit;e.MGl("id","section_search_",i.index,""),e.xp6(6),e.Q6J("ngForOf",t)}}let w0=(()=>{class r extends wi{constructor(t,n,o,c){super(t,o,c),this.restProvider=t,this.http=n,this.domSanitizer=o,this.sharedData=c,this.showItemView=new e.vpe,this.listItems=[],this.listGroupItems=[]}ngOnInit(){let t=this;this.executeSearch.subscribe(n=>{let o=Pr();t.lastCallGUID=o,t.getItemsBySearch(n,o)})}ngAfterViewInit(){}getItemsBySearch(t,n){""!=t.trim()?this.restProvider.executeSinovadApiService(xn.GET,"/videos/SearchTvPrograms?userId="+this.sharedData.userData.Id+"&searchMovies="+!0+"&searchTvSeries="+!0+"&searchText="+t).then(c=>{n==this.lastCallGUID&&(this.listItems=c.Data,this.buildGroupItems(this.listItems))},c=>{console.error(c)}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(t){if(t&&t.length>0){let u=window.innerWidth>=2048?250:180;var n=Math.floor(this.container.nativeElement.offsetWidth/u),o=t.reduce((g,A,U)=>{var Z=Math.floor(U/n)+1;return g[`row${Z}`]=g[`row${Z}`]||[],g[`row${Z}`].push(A),g},{}),c=Object.keys(o).map(function(g){return o[g]});this.listGroupItems=c}else this.listGroupItems=[]}onClickItem(t){t.MovieId?this.getMovieDetail(t):t.TvSerieId&&this.getTvSerieDetail(t)}getMovieDetail(t){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetMovieDetail?movieId="+t.MovieId).then(n=>{let o=n.Data;o.Item=t,this.setDataAndShowItemView(o)},n=>{console.error(n)})}setDataAndShowItemView(t){t.ListSeasons&&t.ListSeasons.length>0&&(t.CurrentSeason=t.ListSeasons[0]),this.showItemView.emit(t)}getTvSerieDetail(t){this.restProvider.executeSinovadApiService(xn.GET,"/videos/GetTvSerieDetail?userId="+this.sharedData.userData.Id+"&tvSerieId="+t.TvSerieId).then(o=>{let c=o.Data;c.Item=t,this.setDataAndShowItemView(c)},o=>{console.error(o)})}onResize(t){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(n,o){if(1&n&&e.Gf(Ep,5),2&n){let c;e.iGM(c=e.CRH())&&(o.container=c.first)}},hostBindings:function(n,o){1&n&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},inputs:{executeSearch:"executeSearch"},outputs:{showItemView:"showItemView"},features:[e.qOj],decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2),e.YNc(3,ox,7,2,"ng-template",3),e.qZA()()),2&n&&(e.Udp("height","100%"),e.xp6(3),e.Q6J("ngForOf",o.listGroupItems))},dependencies:[y.sg,y.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function I0(r,i){if(1&r&&(e.TgZ(0,"div",7)(1,"h2"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij('Resultados para "',t.searchText,'"')}}let ul=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.router=t,this.route=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this.executeSearch=new e.vpe,this.showItemView=new e.vpe,this.searchText=""}ngOnInit(){let t=this.route.snapshot.queryParams.text;null!=t&&""!=t?this.searchText=t:this.router.navigate(["home"],{skipLocationChange:!1})}ngAfterViewInit(){this.executeSearch.emit(this.searchText)}onSelectItem(t){t.Item.TvSerieId?this.router.navigateByUrl("/tvseriedetail/"+t.Item.TvSerieId):t.Item.MovieId&&this.router.navigateByUrl("/moviedetail/"+t.Item.MovieId)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(Ir),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-search-view"]],outputs:{executeSearch:"executeSearch",showItemView:"showItemView"},features:[e.qOj],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"executeSearch","showItemView"],[1,"sinovad-search-view-title-content"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0,1)(2,"div",2,3),e.YNc(4,I0,3,1,"div",4),e.qZA(),e.TgZ(5,"div",null,5)(7,"app-vertical-item-list",6),e.NdJ("showItemView",function(u){return o.onSelectItem(u)}),e.qZA()()()),2&n){const c=e.MAs(3);e.xp6(4),e.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),e.xp6(1),e.Udp("height","calc(100% - "+c.offsetHeight+"px)"),e.xp6(2),e.Q6J("executeSearch",o.executeSearch)}},dependencies:[y.O5,w0],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})();class Tf{}let Tp=(()=>{class r{constructor(t){this.restProvider=t}getItems(t,n,o,c,u,g,A){return new Promise((U,Z)=>{let ce=Pr();this.lastCallGuid=ce;var Pe="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+c+"&sortDirection="+u+"&searchText="+g+"&searchBy="+A;this.restProvider.executeSinovadApiService(xn.GET,"/storages/GetAllWithPaginationByMediaServerAsync/"+t+Pe).then(ze=>{this.lastCallGuid==ce&&U(ze)},ze=>{console.error(ze),Z(ze)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/storages/Update":"/storages/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/storages/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/storages/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function O0(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function ax(r,i){if(1&r&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Name," ")}}function sx(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Tipo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function t1(r,i){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Directorio es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function P0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveStorage())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,O0,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"mat-select",9)(16,"mat-option",10),e._uU(17,"--"),e.qZA(),e.YNc(18,ax,2,2,"mat-option",11),e.qZA(),e.YNc(19,sx,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Directorio"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showChooserDirectoryModal())}),e.qZA(),e.YNc(24,t1,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",13)(26,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",15),e._uU(29,"Guardar"),e.qZA()()(),e._UZ(30,"app-custom-spinner",16)}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.libraryFormGroup),e.xp6(3),e.Oqu(t.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),e.xp6(7),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.libraryFormGroup.controls.name.hasError("required")),e.xp6(5),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",t.mediaTypes),e.xp6(1),e.Q6J("ngIf",t.libraryFormGroup.controls.mediaType.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",t.libraryFormGroup.controls.physicalPath.hasError("required")),e.xp6(4),e.Q6J("disabled",t.showLoading||!t.libraryFormGroup.valid),e.xp6(2),e.Q6J("showLoading",t.showLoading)}}let lx=(()=>{class r{constructor(t,n,o,c,u){this.sharedDataService=t,this.libraryService=n,this.activeModal=o,this.formBuilder=c,this.modalService=u,this.showLoading=!1,this.matcher=new $o,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new Nt.NI(this.library.Name,[Nt.kI.required]),mediaType:new Nt.NI(this.library.MediaTypeCatalogDetailId,[Nt.kI.required]),physicalPath:new Nt.NI(this.library.PhysicalPath,[Nt.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var t=JSON.parse(JSON.stringify(this.library));t.Name=this.libraryFormGroup.value.name,t.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),t.MediaTypeCatalogId=Zo.MediaType,t.PhysicalPath=this.libraryFormGroup.value.physicalPath,t.MediaServerId=this.sharedDataService.selectedMediaServer.Id,this.libraryService.saveItem(t).then(n=>{this.showLoading=!1,this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var t=this,n=this.modalService.open(Nm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.mediaServer=this.sharedDataService.selectedMediaServer,n.closed.subscribe(o=>{t.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(fi),e.Y36(Tp),e.Y36(Kr),e.Y36(Nt.qu),e.Y36(go))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-library-form"]],inputs:{library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&e.YNc(0,P0,31,11,"ng-template",0),2&n&&e.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[Nt._Y,Nt.Fj,Nt.JJ,Nt.JL,Nt.sg,Nt.u,Dr,y.sg,y.O5,Ur.Nt,ii.KE,ii.hX,ii.TO,Ny.ey,ep.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})(),n1=(()=>{class r{constructor(t){this.restProvider=t}searchFilesInLibrariesByMediaServer(t,n){return new Promise((o,c)=>{let u=Pr();this.restProvider.executeHttpMethodByUrl(xn.POST,t+"/api/medias/UpdateVideosInListStorages",{ListStorages:n,LogIdentifier:u}).then(A=>{o(A)},A=>{console.error(A),c(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function cx(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.onSelectItem(c))}),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&r){const t=i.$implicit;e.xp6(1),e.Gre("",t.iconClass," me-2"),e.xp6(2),e.Oqu(t.title)}}function r1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("clickOutside",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickOutside())}),e.TgZ(2,"div",3),e.YNc(3,cx,4,4,"ng-template",4),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Udp("top",t.top+"px")("right",t.right+"px"),e.xp6(2),e.Q6J("ngForOf",t.options.listItems)}}let o1=(()=>{class r{constructor(t){this.ref=t,this.hide=new e.vpe,this.selectOption=new e.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(t){this.selectOption.emit(t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(n,o){1&n&&e.YNc(0,r1,4,5,"div",0),2&n&&e.Q6J("ngIf",o.showMenu)},dependencies:[y.sg,y.O5,hc],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),ux=(()=>{class r{constructor(t,n,o){this.factoryResolver=t,this.injector=n,this.applicationRef=o}show(t){return new Promise((n,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const u=this.factoryResolver.resolveComponentFactory(o1).create(this.injector);this.lastViewRef=u.hostView,this.applicationRef.attachView(u.hostView);const g=t.target.getBoundingClientRect();var A=window.innerWidth-g.right,U=g.top+g.height;let Z=this;u.instance.options=t,u.instance.right=A,u.instance.top=U,u.instance.selectOption.subscribe(Ne=>{Z.applicationRef.detachView(u.hostView),Ne.eventOnSelectItem&&Ne.eventOnSelectItem.emit(!0),n(Ne)}),u.instance.hide.subscribe(Ne=>{Z.applicationRef.detachView(u.hostView),o(!0)});const ce=u.hostView.rootNodes[0];document.getElementById(t.containerId).appendChild(ce)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function fx(r,i){1&r&&e._UZ(0,"i",16)}function s1(r,i){1&r&&e._UZ(0,"i",17)}const l1=function(r){return{selected:r}};function c1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8),e.YNc(3,fx,1,0,"i",9),e.YNc(4,s1,1,0,"i",10),e.qZA(),e.TgZ(5,"a"),e._uU(6),e.qZA(),e.TgZ(7,"div",11)(8,"div",12)(9,"button",13),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.showActions(o,u))}),e.TgZ(10,"span",14),e._UZ(11,"i",15),e.qZA()()()()()()}if(2&r){const t=i.$implicit,n=e.oxw(2);e.Q6J("ngClass",e.VKq(4,l1,n.currentLibrary&&n.currentLibrary.Id==t.Id)),e.xp6(3),e.Q6J("ngIf",1==t.MediaTypeCatalogDetailId),e.xp6(1),e.Q6J("ngIf",2==t.MediaTypeCatalogDetailId),e.xp6(2),e.Oqu(t.Name)}}function d1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNewLibrary())}),e._uU(7,"A\xf1adir biblioteca"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateVideoInAllLibraries())}),e._uU(9,"Buscar archivos en biblioteca"),e.qZA()(),e.YNc(10,c1,12,6,"ng-template",5),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.hij("",t.mediaServer.FamilyName?t.mediaServer.FamilyName:t.mediaServer.DeviceName," - Bibliotecas"),e.xp6(3),e.hij("",t.listLibraries?t.listLibraries.length:""," bibliotecas"),e.xp6(5),e.Q6J("ngForOf",t.listLibraries)}}let hx=(()=>{class r{constructor(t,n,o,c,u,g,A,U,Z,ce){this.mediaService=t,this.customMenuService=n,this.modalService=o,this.libraryService=c,this.mediaServerService=u,this.dialog=g,this.snackBarService=A,this.router=U,this.activeRoute=Z,this.sharedData=ce}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var t=this;return bd(function*(){t.mediaServerService.getMediaServerByGuid(t.activeRoute.snapshot.params.serverGuid).then(o=>{var c=o.Data,u=t.sharedData.mediaServers.find(g=>g.Id==c.Id);c.isSecureConnection=u.isSecureConnection,t.sharedData.selectedMediaServer=c,t.mediaServer=c,t.getAllItems()},o=>{t.router.navigateByUrl("/404")})})()}getAllItems(){this.libraryService.getItems(this.mediaServer.Id,1,100,"Id","asc","","").then(t=>{this.listLibraries=t.Data},t=>{console.error(t)})}openNewLibrary(){let t=new Tf;t.MediaServerId=this.sharedData.selectedMediaServer.Id,this.showModalForm(t)}editLibrary(t){this.showModalForm(JSON.parse(JSON.stringify(t)))}showModalForm(t){var n=this,o=this.modalService.open(lx,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=t,o.closed.subscribe(c=>{n.getAllItems()})}deleteLibrary(t){var n=new yi.vA;n.data={title:"Eliminar biblioteca",message:"La biblioteca '"+t.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+t.Name+"'"},this.dialog.open(Er,n).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(t)})}executeDeleteLibrary(t){this.libraryService.deleteItem(t.Id).then(n=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",$n.Success),this.getAllItems()},n=>{console.error(n),this.snackBarService.showSnackBar(n,$n.Error)})}showActions(t,n){this.currentLibrary=n;var o=JSON.parse(JSON.stringify(n)),c=t.currentTarget,u=[],g=new e.vpe;g.subscribe(Z=>{this.editLibrary(o)}),u.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:g});var A=new e.vpe;A.subscribe(Z=>{this.updateLibraryVideos(o)}),u.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:A});var U=new e.vpe;U.subscribe(Z=>{this.deleteLibrary(o)}),u.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:U}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:u,target:c}).then(Z=>{this.currentLibrary=void 0},Z=>{this.currentLibrary=void 0})}updateLibraryVideos(t){t.Id>0&&null!=t.PhysicalPath&&""!=t.PhysicalPath&&this.searchFilesInLibraries([t])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(t){this.mediaService.searchFilesInLibrariesByMediaServer(this.sharedData.selectedMediaServer.Url,t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(n1),e.Y36(ux),e.Y36(go),e.Y36(Tp),e.Y36(Zm),e.Y36(yi.uw),e.Y36(Sr),e.Y36(Ti),e.Y36(Ir),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-library-list"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"]],template:function(n,o){1&n&&e.YNc(0,d1,11,3,"div",0),2&n&&e.Q6J("ngIf",o.mediaServer)},dependencies:[y.mk,y.sg,y.O5],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-storage-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-storage-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-storage-container[_ngcontent-%COMP%]{display:block}.sinovad-storage-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-storage-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-storage-section[_ngcontent-%COMP%]   .sinovad-storage-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-storage-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})(),Cp=(()=>{class r{constructor(t){this.restProvider=t}getProfileByGuid(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.GET,"/profiles/GetByGuidAsync/"+t).then(c=>{n(c)},c=>{console.error(c),o(c)})})}getProfiles(t,n,o,c,u,g,A){return new Promise((U,Z)=>{let ce=Pr();this.lastCallGuid=ce;var Pe="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+c+"&sortDirection="+u+"&searchText="+g+"&searchBy="+A;this.restProvider.executeSinovadApiService(xn.GET,"/profiles/GetAllWithPaginationByUserAsync/"+t+Pe).then(ze=>{this.lastCallGuid==ce&&U(ze)},ze=>{console.error(ze),Z(ze)})})}saveItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(t.Id>0?xn.PUT:xn.POST,t.Id>0?"/profiles/Update":"/profiles/Create",t).then(g=>{n(!0)},g=>{console.error(g),o(g)})})}deleteItem(t){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(xn.DELETE,"/profiles/Delete/"+t).then(u=>{n(u)},u=>{console.error(u),o(u)})})}deleteItems(t){return new Promise((n,o)=>{let c=[];for(let A=0;A<t.length;A++)c.push(t[A].Id);var u=c.join(",");this.restProvider.executeSinovadApiService(xn.DELETE,"/profiles/DeleteList/"+u).then(A=>{n(A)},A=>{console.error(A),o(A)})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(ni))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Cf(r,i){if(1&r&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.sharedService.getInitials(t)," ")}}function mx(r,i){if(1&r&&(e._UZ(0,"img",23),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&r){const t=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,t.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function px(r,i){1&r&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",6),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()()),2&r&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,e.xi3(4,3,"edit-profile.png","GetImageURLByKey")),e.LSH))}function R0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.onSelectProfile(c))}),e.YNc(1,Cf,2,1,"div",20),e.YNc(2,mx,3,6,"img",20),e.YNc(3,px,5,6,"div",21),e.TgZ(4,"div",22),e._uU(5),e.qZA()()}if(2&r){const t=i.$implicit,n=e.oxw(2);e.MGl("id","profile_",t.Id,""),e.xp6(1),e.Q6J("ngIf",null==t.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=t.AvatarPath),e.xp6(1),e.Q6J("ngIf",n.enableEditMode),e.xp6(2),e.hij(" ",t.FullName," ")}}function fl(r,i){if(1&r&&e.YNc(0,R0,6,5,"ng-template",18),2&r){const t=e.oxw();e.Q6J("ngForOf",t.sharedService.listProfiles)}}function N0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeToEditMode())}),e._uU(1," EDITAR PERFILES "),e.qZA()}}function Sp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmEdit())}),e._uU(1," LISTO "),e.qZA()}}let Sf=(()=>{class r{constructor(t,n,o){this.profileService=t,this.router=n,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(t){this.router.navigateByUrl("/edit-profile/"+t.Guid)}onSelectProfile(t){this.enableEditMode?this.editProfile(t):this.enterProfile(t)}enterProfile(t){this.sharedService.currentProfile=t,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(t=>{let n=t.Data;this.sharedService.listProfiles=n,this.sharedService.currentProfile=n[0],this.showLoading=!1},t=>{this.showLoading=!1})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Cp),e.Y36(Ti),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11," \xbfQui\xe9n eres? "),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,fl,1,1,"ng-template",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return o.showNewProfile()}),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.ALo(17,"async"),e.ALo(18,"formatDataPipe"),e.qZA(),e.TgZ(19,"div",14),e._uU(20," Crear "),e.qZA()()()(),e.TgZ(21,"div",15,16),e.YNc(23,N0,2,0,"ng-template",10),e.YNc(24,Sp,2,0,"ng-template",10),e.qZA()()(),e._UZ(25,"app-custom-spinner",17)),2&n){const c=e.MAs(4),u=e.MAs(22);e.xp6(6),e.Q6J("src",e.lcZ(7,8,e.xi3(8,10,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(3),e.Udp("height",o._window.innerWidth<768?"calc(100% - "+(c.offsetHeight+u.offsetHeight)+"px)":""),e.xp6(4),e.Q6J("ngIf",o.sharedService.listProfiles),e.xp6(3),e.Q6J("src",e.lcZ(17,13,e.xi3(18,15,"plus.png","GetImageURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngIf",!o.enableEditMode),e.xp6(1),e.Q6J("ngIf",o.enableEditMode),e.xp6(1),e.Q6J("showLoading",o.showLoading)}},dependencies:[Dr,y.sg,y.O5,Hr,y.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class gx{}function Dp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onCloseProfileNew())}),e._uU(8,"CANCELAR"),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"h2"),e._uU(12,"Crear Perfil"),e.qZA(),e.TgZ(13,"div",9)(14,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.currentTmpProfile.FullName=o)}),e.qZA()(),e.TgZ(15,"div",9)(16,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProfile())}),e._uU(17,"GUARDAR"),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("src",e.lcZ(4,3,e.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(11),e.Q6J("placeholder",t.placeHolder)("ngModel",t.currentTmpProfile.FullName)}}let xp=(()=>{class r{constructor(t,n,o){this.router=t,this.sharedService=n,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.currentTmpProfile=new gx,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(t=>{this.router.navigateByUrl("/select-profile")},t=>{console.error(t)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(fi),e.Y36(Cp))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(n,o){1&n&&e.YNc(0,Dp,18,8,"div",0),2&n&&e.Q6J("ngIf",o.currentTmpProfile)},dependencies:[Nt.Fj,Nt.JJ,Nt.On,y.O5,Hr,y.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function Df(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProfile())}),e._uU(2,"Listo"),e.qZA()()}}function u1(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"El perfil principal no se puede eliminar"),e.qZA())}function f1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onClickDeleteButton())}),e._uU(1,"Eliminar Perfil"),e.qZA()}}function h1(r,i){if(1&r&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.sharedDataService.getInitials(t.currentTmpProfile)," ")}}function L0(r,i){if(1&r&&(e._UZ(0,"img",25),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&r){const t=e.oxw(2);e.uIk("src",e.lcZ(1,1,e.xi3(2,3,t.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function _x(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),e._uU(4,"Editar Perfil"),e.qZA(),e.YNc(5,u1,2,0,"p",12),e.qZA(),e.TgZ(6,"div",13)(7,"div",14)(8,"input",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.currentTmpProfile.FullName=o)}),e.qZA(),e.TgZ(9,"div",16),e.YNc(10,f1,2,0,"button",17),e.qZA()(),e.TgZ(11,"div",18)(12,"input",19,20),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.uploadAvatarImage(o))}),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(13);return e.KtG(o.click())}),e.YNc(15,h1,2,1,"div",21),e.YNc(16,L0,3,6,"img",21),e.TgZ(17,"div",22)(18,"div",23),e._UZ(19,"img",3),e.ALo(20,"async"),e.ALo(21,"formatDataPipe"),e.qZA()()()()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.currentTmpProfile&&t.currentTmpProfile.Id>0&&t.currentTmpProfile.Main),e.xp6(3),e.Q6J("ngModel",t.currentTmpProfile.FullName),e.xp6(2),e.Q6J("ngIf",t.currentTmpProfile&&t.currentTmpProfile.Id>0&&!t.currentTmpProfile.Main),e.xp6(5),e.Q6J("ngIf",null==t.currentTmpProfile.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=t.currentTmpProfile.AvatarPath&&!t.hideImage),e.xp6(3),e.Q6J("src",e.lcZ(20,6,e.xi3(21,8,"edit-profile.png","GetImageURLByKey")),e.LSH)}}const vx=[{path:"",children:[{path:"home",component:sy,loadChildren:()=>Promise.all([M.e(592),M.e(320)]).then(M.bind(M,4320)).then(r=>r.HomePageModule)},{path:"media/movies",component:SD,loadChildren:()=>Promise.all([M.e(592),M.e(988)]).then(M.bind(M,4988)).then(r=>r.MediaMoviesPageModule)},{path:"media/tvseries",component:ap,loadChildren:()=>Promise.all([M.e(592),M.e(882)]).then(M.bind(M,9882)).then(r=>r.MediaTvSeriesPageModule)},{path:"search",component:ul,loadChildren:()=>M.e(922).then(M.bind(M,5922)).then(r=>r.SearchViewPageModule)},{path:"select-profile",component:Sf,loadChildren:()=>M.e(931).then(M.bind(M,6931)).then(r=>r.ProfilesModule)},{path:"add-profile",component:xp,loadChildren:()=>M.e(931).then(M.bind(M,6931)).then(r=>r.ProfilesModule)},{path:"edit-profile/:profileGuid",component:(()=>{class r{constructor(t,n,o,c,u){this.router=t,this.activeRoute=n,this.profileService=o,this.restProvider=c,this.sharedDataService=u,this.hideImage=!1}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(n=>{null==n.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=n.Data},n=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(t=>{this.router.navigateByUrl("/select-profile")},t=>{console.error(t)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(t=>{this.router.navigateByUrl("/select-profile")},t=>{console.error(t)})}uploadAvatarImage(t){if(t.target.files&&t.target.files.length>0){let c=t.target.files[0];var n=new FormData;n.append("ProfileId",this.currentTmpProfile.Id.toString()),n.append("File",c,c.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",n).then(u=>{this.restProvider.executeSinovadApiService(xn.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(g=>{this.currentTmpProfile=g.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},g=>{console.error(g)})},u=>{console.error(u)})}}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(Ir),e.Y36(Cp),e.Y36(ni),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"async"),e.ALo(5,"formatDataPipe"),e.qZA(),e.YNc(6,Df,3,0,"div",4),e.qZA(),e.YNc(7,_x,22,11,"div",5),e.qZA()),2&n&&(e.xp6(3),e.Q6J("src",e.lcZ(4,3,e.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(3),e.Q6J("ngIf",o.currentTmpProfile),e.xp6(1),e.Q6J("ngIf",o.currentTmpProfile))},dependencies:[Nt.Fj,Nt.JJ,Nt.On,y.O5,Hr,y.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})(),loadChildren:()=>M.e(931).then(M.bind(M,6931)).then(r=>r.ProfilesModule)},{path:"moviedetail/:movieId",component:oy,loadChildren:()=>Promise.all([M.e(592),M.e(258)]).then(M.bind(M,6258)).then(r=>r.MovieDetailPageModule)},{path:"tvseriedetail/:tvSerieId",component:iy,loadChildren:()=>Promise.all([M.e(592),M.e(684)]).then(M.bind(M,4684)).then(r=>r.TvSerieDetailPageModule)},{path:"landing",component:Xv,loadChildren:()=>M.e(325).then(M.bind(M,7325)).then(r=>r.LandingPageModule)},{path:"register",component:Lm,loadChildren:()=>M.e(166).then(M.bind(M,166)).then(r=>r.RegisterAcccountPageModule)},{path:"login",component:gS,loadChildren:()=>M.e(660).then(M.bind(M,7660)).then(r=>r.LoginPageModule)},{path:"recover",component:uS,loadChildren:()=>M.e(264).then(M.bind(M,6264)).then(r=>r.RecoverPasswordPageModule)},{path:"reset/:base64Data",component:Zv,loadChildren:()=>M.e(334).then(M.bind(M,9334)).then(r=>r.ResetPasswordPageModule)},{path:"confirm/:base64Data",component:Kv,loadChildren:()=>M.e(271).then(M.bind(M,4271)).then(r=>r.ConfirmEmailPageModule)},{path:"404",component:iS,loadChildren:()=>M.e(170).then(M.bind(M,7170)).then(r=>r.NotFoundPageModule)},{path:"settings/server/:serverGuid/settings/general",component:Ym,loadChildren:()=>M.e(527).then(M.bind(M,1527)).then(r=>r.ServerSettingsGeneralPageModule)},{path:"settings/server/:serverGuid/manage/libraries",component:hx,loadChildren:()=>M.e(558).then(M.bind(M,7558)).then(r=>r.LibrariesModule)},{path:"settings/server/:serverGuid/settings/transcoder",component:uc,loadChildren:()=>M.e(211).then(M.bind(M,3211)).then(r=>r.TranscoderSettingssPageModule)},{path:"manage/movies",component:up,loadChildren:()=>M.e(369).then(M.bind(M,3369)).then(r=>r.MoviesModule)},{path:"manage/tvseries",component:x0,loadChildren:()=>M.e(425).then(M.bind(M,5425)).then(r=>r.TvSeriesModule)},{path:"manage/genres",component:Pm,loadChildren:()=>M.e(153).then(M.bind(M,7153)).then(r=>r.GenresModule)},{path:"manage/menus",component:Wy,loadChildren:()=>M.e(991).then(M.bind(M,3991)).then(r=>r.MenusModule)},{path:"manage/users",component:wy,loadChildren:()=>M.e(702).then(M.bind(M,1702)).then(r=>r.UsersModule)},{path:"manage/roles",component:Jm,loadChildren:()=>M.e(111).then(M.bind(M,6111)).then(r=>r.RolesPageModule)},{path:"settings/account",component:du,loadChildren:()=>M.e(294).then(M.bind(M,8294)).then(r=>r.AccountPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"web",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}]}];let yx=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[he,y.ez,Nt.u5,Ia.m,Nt.UX,uy,zm,zo.forChild(vx)]})}return r})();var hl=M(5094),xf=M(4753);function k0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var n,o,c,u,g,F0={exports:{}};n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,c=/(?:\/|^)\.(?=\/)/g,u=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,F0.exports=g={buildAbsoluteURL:function(A,U,Z){if(Z=Z||{},A=A.trim(),!(U=U.trim())){if(!Z.alwaysNormalize)return A;var ce=g.parseURL(A);if(!ce)throw new Error("Error trying to parse base URL.");return ce.path=g.normalizePath(ce.path),g.buildURLFromParts(ce)}var Pe=g.parseURL(U);if(!Pe)throw new Error("Error trying to parse relative URL.");if(Pe.scheme)return Z.alwaysNormalize?(Pe.path=g.normalizePath(Pe.path),g.buildURLFromParts(Pe)):U;var Ne=g.parseURL(A);if(!Ne)throw new Error("Error trying to parse base URL.");if(!Ne.netLoc&&Ne.path&&"/"!==Ne.path[0]){var ze=o.exec(Ne.path);Ne.netLoc=ze[1],Ne.path=ze[2]}Ne.netLoc&&!Ne.path&&(Ne.path="/");var Je={scheme:Ne.scheme,netLoc:Pe.netLoc,path:null,params:Pe.params,query:Pe.query,fragment:Pe.fragment};if(!Pe.netLoc&&(Je.netLoc=Ne.netLoc,"/"!==Pe.path[0]))if(Pe.path){var ct=Ne.path,Et=ct.substring(0,ct.lastIndexOf("/")+1)+Pe.path;Je.path=g.normalizePath(Et)}else Je.path=Ne.path,Pe.params||(Je.params=Ne.params,Pe.query||(Je.query=Ne.query));return null===Je.path&&(Je.path=Z.alwaysNormalize?g.normalizePath(Pe.path):Pe.path),g.buildURLFromParts(Je)},parseURL:function(A){var U=n.exec(A);return U?{scheme:U[1]||"",netLoc:U[2]||"",path:U[3]||"",params:U[4]||"",query:U[5]||"",fragment:U[6]||""}:null},normalizePath:function(A){for(A=A.split("").reverse().join("").replace(c,"");A.length!==(A=A.replace(u,"")).length;);return A.split("").reverse().join("")},buildURLFromParts:function(A){return A.scheme+A.netLoc+A.path+A.params+A.query+A.fragment}};var Mp=F0.exports;function Ap(r,i){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);i&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function ao(r){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Ap(Object(t),!0).forEach(function(n){p1(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ap(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function p1(r,i,t){return i=function bx(r){var i=function wp(r,i){if("object"!=typeof r||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,i||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(r)}(r,"string");return"symbol"==typeof i?i:String(i)}(i),i in r?Object.defineProperty(r,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[i]=t,r}function xr(){return xr=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},xr.apply(this,arguments)}const qn=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let mt=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),ri=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),un=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const ml=function(){},Ip={trace:ml,debug:ml,log:ml,warn:ml,info:ml,error:ml};let Ad=Ip;const Jt=Ad,Op=/^(\d+)x(\d+)$/,Pp=/(.+?)=(".*?"|.*?)(?:,|$)/g;class lr{constructor(i){"string"==typeof i&&(i=lr.parseAttrList(i));for(const t in i)i.hasOwnProperty(t)&&("X-"===t.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(t)),this[t]=i[t])}decimalInteger(i){const t=parseInt(this[i],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(i){if(this[i]){let t=(this[i]||"0x").slice(2);t=(1&t.length?"0":"")+t;const n=new Uint8Array(t.length/2);for(let o=0;o<t.length/2;o++)n[o]=parseInt(t.slice(2*o,2*o+2),16);return n}return null}hexadecimalIntegerAsNumber(i){const t=parseInt(this[i],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(i){return parseFloat(this[i])}optionalFloat(i,t){const n=this[i];return n?parseFloat(n):t}enumeratedString(i){return this[i]}bool(i){return"YES"===this[i]}decimalResolution(i){const t=Op.exec(this[i]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(i){let t;const n={};for(Pp.lastIndex=0;null!==(t=Pp.exec(i));){let c=t[2];0===c.indexOf('"')&&c.lastIndexOf('"')===c.length-1&&(c=c.slice(1,-1)),n[t[1].trim()]=c}return n}}function Rp(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class V0{constructor(i,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const n=t.attr;for(const o in n)if(Object.prototype.hasOwnProperty.call(i,o)&&i[o]!==n[o]){Jt.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${i.ID}"`),this._badValueForSameId=o;break}i=xr(new lr({}),n,i)}if(this.attr=i,this._startDate=new Date(i["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);qn(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const i=this.duration;return null!==i?new Date(this._startDate.getTime()+1e3*i):null}get duration(){if("DURATION"in this.attr){const i=this.attr.decimalFloatingPoint("DURATION");if(qn(i))return i}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&qn(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Mf{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Np{constructor(i){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=i}setByteRange(i,t){const n=i.split("@",2),o=[];o[0]=1===n.length?t?t.byteRangeEndOffset:0:parseInt(n[1]),o[1]=parseInt(n[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Mp.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(i){this._url=i}}class j0 extends Np{constructor(i,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Mf,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=i}get decryptdata(){const{levelkeys:i}=this;if(!i&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(1===n.length)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!qn(this.programDateTime))return null;const i=qn(this.duration)?this.duration:0;return this.programDateTime+1e3*i}get encrypted(){var i;if(null!=(i=this._decryptdata)&&i.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),n=t.length;if(n>1||1===n&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(i){if(this.levelkeys){const t=this.levelkeys[i];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var i,t;null==(i=this.loader)||i.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(i,t,n,o,c,u=!1){const{elementaryStreams:g}=this,A=g[i];A?(A.startPTS=Math.min(A.startPTS,t),A.endPTS=Math.max(A.endPTS,n),A.startDTS=Math.min(A.startDTS,o),A.endDTS=Math.max(A.endDTS,c)):g[i]={startPTS:t,endPTS:n,startDTS:o,endDTS:c,partial:u}}clearElementaryStreamInfo(){const{elementaryStreams:i}=this;i.audio=null,i.video=null,i.audiovideo=null}}class Tx extends Np{constructor(i,t,n,o,c){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Mf,this.duration=i.decimalFloatingPoint("DURATION"),this.gap=i.bool("GAP"),this.independent=i.bool("INDEPENDENT"),this.relurl=i.enumeratedString("URI"),this.fragment=t,this.index=o;const u=i.enumeratedString("BYTERANGE");u&&this.setByteRange(u,c),c&&(this.fragOffset=c.fragOffset+c.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:i}=this;return!!(i.audio||i.video||i.audiovideo)}}class _1{constructor(i){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=i}reloaded(i){if(!i)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-i.lastPartSn,n=this.lastPartIndex-i.lastPartIndex;this.updated=this.endSN!==i.endSN||!!n||!!t,this.advanced=this.endSN>i.endSN||t>0||0===t&&n>0,this.misses=this.updated||this.advanced?Math.floor(.6*i.misses):i.misses+1,this.availabilityDelay=i.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&qn(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const i=this.driftEndTime-this.driftStartTime;return i>0?1e3*(this.driftEnd-this.driftStart)/i:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var i;return null!=(i=this.fragments)&&i.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Lp(r){return Uint8Array.from(atob(r),i=>i.charCodeAt(0))}function Sx(r){return Uint8Array.from(unescape(encodeURIComponent(r)),i=>i.charCodeAt(0))}var gr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Bo_FAIRPLAY="com.apple.streamingkeydelivery",Bo_PLAYREADY="com.microsoft.playready",Bo_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Dx(r){switch(r){case Bo_FAIRPLAY:return gr.FAIRPLAY;case Bo_PLAYREADY:return gr.PLAYREADY;case Bo_WIDEVINE:return gr.WIDEVINE;case"org.w3.clearkey":return gr.CLEARKEY}}function Ax(r){switch(r){case gr.FAIRPLAY:return Bo_FAIRPLAY;case gr.PLAYREADY:return Bo_PLAYREADY;case gr.WIDEVINE:return Bo_WIDEVINE;case gr.CLEARKEY:return"org.w3.clearkey"}}function G0(r){const{drmSystems:i,widevineLicenseUrl:t}=r,n=i?[gr.FAIRPLAY,gr.WIDEVINE,gr.PLAYREADY,gr.CLEARKEY].filter(o=>!!i[o]):[];return!n[gr.WIDEVINE]&&t&&n.push(gr.WIDEVINE),n}const wx=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function pl(r,i,t){return Uint8Array.prototype.slice?r.slice(i,t):new Uint8Array(Array.prototype.slice.call(r,i,t))}const H0=(r,i)=>i+10<=r.length&&73===r[i]&&68===r[i+1]&&51===r[i+2]&&r[i+3]<255&&r[i+4]<255&&r[i+6]<128&&r[i+7]<128&&r[i+8]<128&&r[i+9]<128,l=(r,i)=>i+10<=r.length&&51===r[i]&&68===r[i+1]&&73===r[i+2]&&r[i+3]<255&&r[i+4]<255&&r[i+6]<128&&r[i+7]<128&&r[i+8]<128&&r[i+9]<128,d=(r,i)=>{const t=i;let n=0;for(;H0(r,i);)n+=10,n+=f(r,i+6),l(r,i+10)&&(n+=10),i+=n;if(n>0)return r.subarray(t,t+n)},f=(r,i)=>{let t=0;return t=(127&r[i])<<21,t|=(127&r[i+1])<<14,t|=(127&r[i+2])<<7,t|=127&r[i+3],t},_=(r,i)=>H0(r,i)&&f(r,i+6)+10<=r.length-i,j=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,ee=r=>{const i=String.fromCharCode(r[0],r[1],r[2],r[3]),t=f(r,4);return{type:i,size:t,data:r.subarray(10,10+t)}},ye=r=>{let i=0;const t=[];for(;H0(r,i);){const n=f(r,i+6);i+=10;const o=i+n;for(;i+8<o;){const c=ee(r.subarray(i)),u=Re(c);u&&t.push(u),i+=c.size+10}l(r,i)&&(i+=10)}return t},Re=r=>"PRIV"===r.type?et(r):"W"===r.type[0]?Tt(r):ht(r),et=r=>{if(r.size<2)return;const i=zt(r.data,!0),t=new Uint8Array(r.data.subarray(i.length+1));return{key:r.type,info:i,data:t.buffer}},ht=r=>{if(r.size<2)return;if("TXXX"===r.type){let t=1;const n=zt(r.data.subarray(t),!0);t+=n.length+1;const o=zt(r.data.subarray(t));return{key:r.type,info:n,data:o}}const i=zt(r.data.subarray(1));return{key:r.type,data:i}},Tt=r=>{if("WXXX"===r.type){if(r.size<2)return;let t=1;const n=zt(r.data.subarray(t),!0);t+=n.length+1;const o=zt(r.data.subarray(t));return{key:r.type,info:n,data:o}}const i=zt(r.data);return{key:r.type,data:i}},Ht=r=>{if(8===r.data.byteLength){const i=new Uint8Array(r.data);let n=(i[4]<<23)+(i[5]<<15)+(i[6]<<7)+i[7];return n/=45,1&i[3]&&(n+=47721858.84),Math.round(n)}},zt=(r,i=!1)=>{const t=function In(){return!mn&&typeof self.TextDecoder<"u"&&(mn=new self.TextDecoder("utf-8")),mn}();if(t){const U=t.decode(r);if(i){const Z=U.indexOf("\0");return-1!==Z?U.substring(0,Z):U}return U.replace(/\0/g,"")}const n=r.length;let o,c,u,g="",A=0;for(;A<n;){if(o=r[A++],0===o&&i)return g;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:g+=String.fromCharCode(o);break;case 12:case 13:c=r[A++],g+=String.fromCharCode((31&o)<<6|63&c);break;case 14:c=r[A++],u=r[A++],g+=String.fromCharCode((15&o)<<12|(63&c)<<6|(63&u)<<0)}}return g};let mn;const kn_hexDump=function(r){let i="";for(let t=0;t<r.length;t++){let n=r[t].toString(16);n.length<2&&(n="0"+n),i+=n}return i},Yn=Math.pow(2,32)-1,vn=[].push,li={video:1,audio:2,id3:3,text:4};function Jn(r){return String.fromCharCode.apply(null,r)}function Ci(r,i){const t=r[i]<<8|r[i+1];return t<0?65536+t:t}function Wn(r,i){const t=wd(r,i);return t<0?4294967296+t:t}function wd(r,i){return r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]}function kp(r,i,t){r[i]=t>>24,r[i+1]=t>>16&255,r[i+2]=t>>8&255,r[i+3]=255&t}function Mi(r,i){const t=[];if(!i.length)return t;const n=r.byteLength;for(let o=0;o<n;){const c=Wn(r,o),g=c>1?o+c:n;if(Jn(r.subarray(o+4,o+8))===i[0])if(1===i.length)t.push(r.subarray(o+8,g));else{const A=Mi(r.subarray(o+8,g),i.slice(1));A.length&&vn.apply(t,A)}o=g}return t}function oP(r){const i=[],t=r[0];let n=8;const o=Wn(r,n);n+=4,n+=0===t?8:16,n+=2;let g=r.length+0;const A=Ci(r,n);n+=2;for(let U=0;U<A;U++){let Z=n;const ce=Wn(r,Z);Z+=4;const Pe=2147483647&ce;if((2147483648&ce)>>>31==1)return Jt.warn("SIDX has hierarchical references (not supported)"),null;const ze=Wn(r,Z);Z+=4,i.push({referenceSize:Pe,subsegmentDuration:ze,info:{duration:ze/o,start:g,end:g+Pe-1}}),g+=Pe,Z+=4,n=Z}return{earliestPresentationTime:0,timescale:o,version:t,referencesCount:A,references:i}}function E1(r){const i=[],t=Mi(r,["moov","trak"]);for(let o=0;o<t.length;o++){const c=t[o],u=Mi(c,["tkhd"])[0];if(u){let g=u[0],A=0===g?12:20;const U=Wn(u,A),Z=Mi(c,["mdia","mdhd"])[0];if(Z){g=Z[0],A=0===g?12:20;const ce=Wn(Z,A),Pe=Mi(c,["mdia","hdlr"])[0];if(Pe){const ze={soun:"audio",vide:"video"}[Jn(Pe.subarray(8,12))];if(ze){const Je=Mi(c,["mdia","minf","stbl","stsd"])[0];let ct;Je&&(ct=Jn(Je.subarray(12,16))),i[U]={timescale:ce,type:ze},i[ze]={timescale:ce,id:U,codec:ct}}}}}}return Mi(r,["moov","mvex","trex"]).forEach(o=>{const c=Wn(o,4),u=i[c];u&&(u.default={duration:Wn(o,12),flags:Wn(o,20)})}),i}function T1(r){const i=Mi(r,["schm"])[0];if(i){const t=Jn(i.subarray(4,8));if("cbcs"===t||"cenc"===t)return Mi(r,["schi","tenc"])[0]}return Jt.error("[eme] missing 'schm' box"),null}function cP(r){const i=Wn(r,0);let t=8;1&i&&(t+=4),4&i&&(t+=4);let n=0;const o=Wn(r,4);for(let c=0;c<o;c++)256&i&&(n+=Wn(r,t),t+=4),512&i&&(t+=4),1024&i&&(t+=4),2048&i&&(t+=4);return n}function Id(r,i){const t=new Uint8Array(r.length+i.length);return t.set(r),t.set(i,r.length),t}function C1(r,i){const t=[],n=i.samples,o=i.timescale,c=i.id;let u=!1;return Mi(n,["moof"]).map(A=>{const U=A.byteOffset-8;Mi(A,["traf"]).map(ce=>{const Pe=Mi(ce,["tfdt"]).map(Ne=>{const ze=Ne[0];let Je=Wn(Ne,4);return 1===ze&&(Je*=Math.pow(2,32),Je+=Wn(Ne,8)),Je/o})[0];return void 0!==Pe&&(r=Pe),Mi(ce,["tfhd"]).map(Ne=>{const ze=Wn(Ne,4),Je=16777215&Wn(Ne,0);let Lt=0;const Qt=0!=(16&Je);let qt=0;const fn=0!=(32&Je);let an=8;ze===c&&(0!=(1&Je)&&(an+=8),0!=(2&Je)&&(an+=4),0!=(8&Je)&&(Lt=Wn(Ne,an),an+=4),Qt&&(qt=Wn(Ne,an),an+=4),fn&&(an+=4),"video"===i.type&&(u=function fP(r){if(!r)return!1;const i=r.indexOf("."),t=i<0?r:r.substring(0,i);return"hvc1"===t||"hev1"===t||"dvh1"===t||"dvhe"===t}(i.codec)),Mi(ce,["trun"]).map(_n=>{const wn=_n[0],sn=16777215&Wn(_n,0),Gn=0!=(1&sn);let Bn=0;const oi=0!=(4&sn),dr=0!=(256&sn);let Ai=0;const On=0!=(512&sn);let Ln=0;const yn=0!=(1024&sn),Nn=0!=(2048&sn);let ai=0;const bi=Wn(_n,4);let di=8;Gn&&(Bn=Wn(_n,di),di+=4),oi&&(di+=4);let Ri=Bn+U;for(let pi=0;pi<bi;pi++){if(dr?(Ai=Wn(_n,di),di+=4):Ai=Lt,On?(Ln=Wn(_n,di),di+=4):Ln=qt,yn&&(di+=4),Nn&&(ai=0===wn?Wn(_n,di):wd(_n,di),di+=4),"video"===i.type){let vr=0;for(;vr<Ln;){const Vr=Wn(n,Ri);Ri+=4,hP(u,n[Ri])&&S1(n.subarray(Ri,Ri+Vr),u?2:1,r+ai/o,t),Ri+=Vr,vr+=Vr+4}}r+=Ai/o}}))})})}),t}function hP(r,i){if(r){const t=i>>1&63;return 39===t||40===t}return 6==(31&i)}function S1(r,i,t,n){const o=D1(r);let c=0;c+=i;let u=0,g=0,A=!1,U=0;for(;c<o.length;){u=0;do{if(c>=o.length)break;U=o[c++],u+=U}while(255===U);g=0;do{if(c>=o.length)break;U=o[c++],g+=U}while(255===U);const Z=o.length-c;if(!A&&4===u&&c<o.length){if(A=!0,181===o[c++]){const Pe=Ci(o,c);if(c+=2,49===Pe){const Ne=Wn(o,c);if(c+=4,1195456820===Ne){const ze=o[c++];if(3===ze){const Je=o[c++],Et=64&Je,Ft=Et?2+3*(31&Je):0,Lt=new Uint8Array(Ft);if(Et){Lt[0]=Je;for(let Qt=1;Qt<Ft;Qt++)Lt[Qt]=o[c++]}n.push({type:ze,payloadType:u,pts:t,bytes:Lt})}}}}}else if(5===u&&g<Z){if(A=!0,g>16){const ce=[];for(let ze=0;ze<16;ze++){const Je=o[c++].toString(16);ce.push(1==Je.length?"0"+Je:Je),(3===ze||5===ze||7===ze||9===ze)&&ce.push("-")}const Pe=g-16,Ne=new Uint8Array(Pe);for(let ze=0;ze<Pe;ze++)Ne[ze]=o[c++];n.push({payloadType:u,pts:t,uuid:ce.join(""),userData:zt(Ne),userDataBytes:Ne})}}else if(g<Z)c+=g;else if(g>Z)break}}function D1(r){const i=r.byteLength,t=[];let n=1;for(;n<i-2;)0===r[n]&&0===r[n+1]&&3===r[n+2]?(t.push(n+2),n+=2):n++;if(0===t.length)return r;const o=i-t.length,c=new Uint8Array(o);let u=0;for(n=0;n<o;u++,n++)u===t[0]&&(u++,t.shift()),c[n]=r[u];return c}let Y0={};class Fp{static clearKeyUriToKeyIdMap(){Y0={}}constructor(i,t,n,o=[1],c=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=i,this.uri=t,this.keyFormat=n,this.keyFormatVersions=o,this.iv=c,this.encrypted=!!i&&"NONE"!==i,this.isCommonEncryption=this.encrypted&&"AES-128"!==i}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Bo_FAIRPLAY:case Bo_WIDEVINE:case Bo_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(i){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof i&&("AES-128"===this.method&&!this.iv&&Jt.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),i=0);const n=function vP(r){const i=new Uint8Array(16);for(let t=12;t<16;t++)i[t]=r>>8*(15-t)&255;return i}(i);return new Fp(this.method,this.uri,"identity",this.keyFormatVersions,n)}const t=function Cx(r){const i=r.split(":");let t=null;if("data"===i[0]&&2===i.length){const n=i[1].split(";"),o=n[n.length-1].split(",");if(2===o.length){const u=o[1];"base64"===o[0]?(n.splice(-1,1),t=Lp(u)):t=function v1(r){const i=Sx(r).subarray(0,16),t=new Uint8Array(16);return t.set(i,16-i.length),t}(u)}}return t}(this.uri);if(t)switch(this.keyFormat){case Bo_WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case Bo_PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function gP(r,i,t){if(16!==r.byteLength)throw new RangeError("Invalid system id");let n,o,c;if(i){n=1,o=new Uint8Array(16*i.length);for(let g=0;g<i.length;g++){const A=i[g];if(16!==A.byteLength)throw new RangeError("Invalid key");o.set(A,16*g)}}else n=0,o=new Uint8Array;n>0?(c=new Uint8Array(4),i.length>0&&new DataView(c.buffer).setUint32(0,i.length,!1)):c=new Uint8Array;const u=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(u.buffer).setUint32(0,t.byteLength,!1),function pP(r,...i){const t=i.length;let n=8,o=t;for(;o--;)n+=i[o].byteLength;const c=new Uint8Array(n);for(c[0]=n>>24&255,c[1]=n>>16&255,c[2]=n>>8&255,c[3]=255&n,c.set(r,4),o=0,n=8;o<t;o++)c.set(i[o],n),n+=i[o].byteLength;return c}([112,115,115,104],new Uint8Array([n,0,0,0]),r,c,o,u,t||new Uint8Array)}(n,null,t);const o=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),c=String.fromCharCode.apply(null,Array.from(o)),u=c.substring(c.indexOf("<"),c.length),U=(new DOMParser).parseFromString(u,"text/xml").getElementsByTagName("KID")[0];if(U){const Z=U.childNodes[0]?U.childNodes[0].nodeValue:U.getAttribute("VALUE");if(Z){const ce=Lp(Z).subarray(0,16);(function y1(r){const i=function(n,o,c){const u=n[o];n[o]=n[c],n[c]=u};i(r,0,3),i(r,1,2),i(r,4,5),i(r,6,7)})(ce),this.keyId=ce}}break}default:{let n=t.subarray(0,16);if(16!==n.length){const o=new Uint8Array(16);o.set(n,16-n.length),n=o}this.keyId=n;break}}if(!this.keyId||16!==this.keyId.byteLength){let n=Y0[this.uri];if(!n){const o=Object.keys(Y0).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,o),Y0[this.uri]=n}this.keyId=n}return this}}const x1=/\{\$([a-zA-Z0-9-_]+)\}/g;function M1(r){return x1.test(r)}function ea(r,i,t){if(null!==r.variableList||r.hasVariableRefs)for(let n=t.length;n--;){const o=t[n],c=i[o];c&&(i[o]=Ox(r,c))}}function Ox(r,i){if(null!==r.variableList||r.hasVariableRefs){const t=r.variableList;return i.replace(x1,n=>{const o=n.substring(2,n.length-1),c=t?.[o];return void 0===c?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),n):c})}return i}function A1(r,i,t){let o,c,n=r.variableList;if(n||(r.variableList=n={}),"QUERYPARAM"in i){o=i.QUERYPARAM;try{const u=new self.URL(t).searchParams;if(!u.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${t}"`);c=u.get(o)}catch(u){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${u.message}`))}}else o=i.NAME,c=i.VALUE;o in n?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):n[o]=c||""}function yP(r,i,t){const n=i.IMPORT;if(t&&n in t){let o=r.variableList;o||(r.variableList=o={}),o[n]=t[n]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function K0(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const bP={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},w1=K0();function Px(r,i){var t;return null!=(t=w1?.isTypeSupported(`${i||"video"}/mp4;codecs="${r}"`))&&t}const I1=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,O1=/#EXT-X-MEDIA:(.*)/g,TP=/^#EXT(?:INF|-X-TARGETDURATION):/m,P1=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),CP=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ns{static findGroup(i,t){for(let n=0;n<i.length;n++){const o=i[n];if(o.id===t)return o}}static convertAVC1ToAVCOTI(i){const t=i.split(".");if(t.length>2){let n=t.shift()+".";return n+=parseInt(t.shift()).toString(16),n+=("000"+parseInt(t.shift()).toString(16)).slice(-4),n}return i}static resolve(i,t){return Mp.buildAbsoluteURL(t,i,{alwaysNormalize:!0})}static isMediaPlaylist(i){return TP.test(i)}static parseMasterPlaylist(i,t){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:M1(i)},c=[];let u;for(I1.lastIndex=0;null!=(u=I1.exec(i));)if(u[1]){var g;const U=new lr(u[1]);ea(o,U,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const Z=Ox(o,u[2]),ce={attrs:U,bitrate:U.decimalInteger("AVERAGE-BANDWIDTH")||U.decimalInteger("BANDWIDTH"),name:U.NAME,url:ns.resolve(Z,t)},Pe=U.decimalResolution("RESOLUTION");Pe&&(ce.width=Pe.width,ce.height=Pe.height),SP((U.CODECS||"").split(/[ ,]+/).filter(Ne=>Ne),ce),ce.videoCodec&&-1!==ce.videoCodec.indexOf("avc1")&&(ce.videoCodec=ns.convertAVC1ToAVCOTI(ce.videoCodec)),null!=(g=ce.unknownCodecs)&&g.length||c.push(ce),o.levels.push(ce)}else if(u[3]){const Z=u[4];switch(u[3]){case"SESSION-DATA":{const ce=new lr(Z);ea(o,ce,["DATA-ID","LANGUAGE","VALUE","URI"]);const Pe=ce["DATA-ID"];Pe&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[Pe]=ce);break}case"SESSION-KEY":{const ce=R1(Z,t,o);ce.encrypted&&ce.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(ce)):Jt.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${Z}"`);break}case"DEFINE":{const ce=new lr(Z);ea(o,ce,["NAME","VALUE","QUERYPARAM"]),A1(o,ce,t)}break;case"CONTENT-STEERING":{const ce=new lr(Z);ea(o,ce,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:ns.resolve(ce["SERVER-URI"],t),pathwayId:ce["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=N1(Z)}}return o.levels=c.length>0&&c.length<o.levels.length?c:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(i,t,n){let o;const c={},u=n.levels,g={AUDIO:u.map(U=>({id:U.attrs.AUDIO,audioCodec:U.audioCodec})),SUBTITLES:u.map(U=>({id:U.attrs.SUBTITLES,textCodec:U.textCodec})),"CLOSED-CAPTIONS":[]};let A=0;for(O1.lastIndex=0;null!==(o=O1.exec(i));){const U=new lr(o[1]),Z=U.TYPE;if(Z){const ce=g[Z],Pe=c[Z]||[];c[Z]=Pe,ea(n,U,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const Ne={attrs:U,bitrate:0,id:A++,groupId:U["GROUP-ID"]||"",instreamId:U["INSTREAM-ID"],name:U.NAME||U.LANGUAGE||"",type:Z,default:U.bool("DEFAULT"),autoselect:U.bool("AUTOSELECT"),forced:U.bool("FORCED"),lang:U.LANGUAGE,url:U.URI?ns.resolve(U.URI,t):""};if(null!=ce&&ce.length){const ze=ns.findGroup(ce,Ne.groupId)||ce[0];L1(Ne,ze,"audioCodec"),L1(Ne,ze,"textCodec")}Pe.push(Ne)}}return c}static parseLevelPlaylist(i,t,n,o,c,u){const g=new _1(t),A=g.fragments;let ct,Et,Ft,U=null,Z=0,ce=0,Pe=0,Ne=0,ze=null,Je=new j0(o,t),Lt=-1,Qt=!1;for(P1.lastIndex=0,g.m3u8=i,g.hasVariableRefs=M1(i);null!==(ct=P1.exec(i));){Qt&&(Qt=!1,Je=new j0(o,t),Je.start=Pe,Je.sn=Z,Je.cc=Ne,Je.level=n,U&&(Je.initSegment=U,Je.rawProgramDateTime=U.rawProgramDateTime,U.rawProgramDateTime=null));const _n=ct[1];if(_n){Je.duration=parseFloat(_n);const wn=(" "+ct[2]).slice(1);Je.title=wn||null,Je.tagList.push(wn?["INF",_n,wn]:["INF",_n])}else if(ct[3]){if(qn(Je.duration)){Je.start=Pe,Ft&&B1(Je,Ft,g),Je.sn=Z,Je.level=n,Je.cc=Ne,Je.urlId=c,A.push(Je);const wn=(" "+ct[3]).slice(1);Je.relurl=Ox(g,wn),k1(Je,ze),ze=Je,Pe+=Je.duration,Z++,ce=0,Qt=!0}}else if(ct[4]){const wn=(" "+ct[4]).slice(1);ze?Je.setByteRange(wn,ze):Je.setByteRange(wn)}else if(ct[5])Je.rawProgramDateTime=(" "+ct[5]).slice(1),Je.tagList.push(["PROGRAM-DATE-TIME",Je.rawProgramDateTime]),-1===Lt&&(Lt=A.length);else{if(ct=ct[0].match(CP),!ct){Jt.warn("No matches on slow regex match for level playlist!");continue}for(Et=1;Et<ct.length&&!(typeof ct[Et]<"u");Et++);const wn=(" "+ct[Et]).slice(1),sn=(" "+ct[Et+1]).slice(1),Gn=ct[Et+2]?(" "+ct[Et+2]).slice(1):"";switch(wn){case"PLAYLIST-TYPE":g.type=sn.toUpperCase();break;case"MEDIA-SEQUENCE":Z=g.startSN=parseInt(sn);break;case"SKIP":{const Bn=new lr(sn);ea(g,Bn,["RECENTLY-REMOVED-DATERANGES"]);const oi=Bn.decimalInteger("SKIPPED-SEGMENTS");if(qn(oi)){g.skippedSegments=oi;for(let Ai=oi;Ai--;)A.unshift(null);Z+=oi}const dr=Bn.enumeratedString("RECENTLY-REMOVED-DATERANGES");dr&&(g.recentlyRemovedDateranges=dr.split("\t"));break}case"TARGETDURATION":g.targetduration=Math.max(parseInt(sn),1);break;case"VERSION":g.version=parseInt(sn);break;case"EXTM3U":break;case"ENDLIST":g.live=!1;break;case"#":(sn||Gn)&&Je.tagList.push(Gn?[sn,Gn]:[sn]);break;case"DISCONTINUITY":Ne++,Je.tagList.push(["DIS"]);break;case"GAP":Je.gap=!0,Je.tagList.push([wn]);break;case"BITRATE":Je.tagList.push([wn,sn]);break;case"DATERANGE":{const Bn=new lr(sn);ea(g,Bn,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),ea(g,Bn,Bn.clientAttrs);const oi=new V0(Bn,g.dateRanges[Bn.ID]);oi.isValid||g.skippedSegments?g.dateRanges[oi.id]=oi:Jt.warn(`Ignoring invalid DATERANGE tag: "${sn}"`),Je.tagList.push(["EXT-X-DATERANGE",sn]);break}case"DEFINE":{const Bn=new lr(sn);ea(g,Bn,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Bn?yP(g,Bn,u):A1(g,Bn,t)}break;case"DISCONTINUITY-SEQUENCE":Ne=parseInt(sn);break;case"KEY":{const Bn=R1(sn,t,g);if(Bn.isSupported()){if("NONE"===Bn.method){Ft=void 0;break}Ft||(Ft={}),Ft[Bn.keyFormat]&&(Ft=xr({},Ft)),Ft[Bn.keyFormat]=Bn}else Jt.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${sn}"`);break}case"START":g.startTimeOffset=N1(sn);break;case"MAP":{const Bn=new lr(sn);if(ea(g,Bn,["BYTERANGE","URI"]),Je.duration){const oi=new j0(o,t);F1(oi,Bn,n,Ft),U=oi,Je.initSegment=U,U.rawProgramDateTime&&!Je.rawProgramDateTime&&(Je.rawProgramDateTime=U.rawProgramDateTime)}else F1(Je,Bn,n,Ft),U=Je,Qt=!0;break}case"SERVER-CONTROL":{const Bn=new lr(sn);g.canBlockReload=Bn.bool("CAN-BLOCK-RELOAD"),g.canSkipUntil=Bn.optionalFloat("CAN-SKIP-UNTIL",0),g.canSkipDateRanges=g.canSkipUntil>0&&Bn.bool("CAN-SKIP-DATERANGES"),g.partHoldBack=Bn.optionalFloat("PART-HOLD-BACK",0),g.holdBack=Bn.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Bn=new lr(sn);g.partTarget=Bn.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Bn=g.partList;Bn||(Bn=g.partList=[]);const oi=ce>0?Bn[Bn.length-1]:void 0,dr=ce++,Ai=new lr(sn);ea(g,Ai,["BYTERANGE","URI"]);const On=new Tx(Ai,Je,t,dr,oi);Bn.push(On),Je.duration+=On.duration;break}case"PRELOAD-HINT":{const Bn=new lr(sn);ea(g,Bn,["URI"]),g.preloadHint=Bn;break}case"RENDITION-REPORT":{const Bn=new lr(sn);ea(g,Bn,["URI"]),g.renditionReports=g.renditionReports||[],g.renditionReports.push(Bn);break}default:Jt.warn(`line parsed but not handled: ${ct}`)}}}ze&&!ze.relurl?(A.pop(),Pe-=ze.duration,g.partList&&(g.fragmentHint=ze)):g.partList&&(k1(Je,ze),Je.cc=Ne,g.fragmentHint=Je,Ft&&B1(Je,Ft,g));const qt=A.length,fn=A[0],an=A[qt-1];if(Pe+=g.skippedSegments*g.targetduration,Pe>0&&qt&&an){g.averagetargetduration=Pe/qt;const _n=an.sn;g.endSN="initSegment"!==_n?_n:0,g.live||(an.endList=!0),fn&&(g.startCC=fn.cc)}else g.endSN=0,g.startCC=0;return g.fragmentHint&&(Pe+=g.fragmentHint.duration),g.totalduration=Pe,g.endCC=Ne,Lt>0&&function DP(r,i){let t=r[i];for(let n=i;n--;){const o=r[n];if(!o)return;o.programDateTime=t.programDateTime-1e3*o.duration,t=o}}(A,Lt),g}}function R1(r,i,t){var n,o;const c=new lr(r);ea(t,c,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const u=null!=(n=c.METHOD)?n:"",g=c.URI,A=c.hexadecimalInteger("IV"),U=c.KEYFORMATVERSIONS,Z=null!=(o=c.KEYFORMAT)?o:"identity";g&&c.IV&&!A&&Jt.error(`Invalid IV: ${c.IV}`);const ce=g?ns.resolve(g,i):"",Pe=(U||"1").split("/").map(Number).filter(Number.isFinite);return new Fp(u,ce,Z,Pe,A)}function N1(r){const t=new lr(r).decimalFloatingPoint("TIME-OFFSET");return qn(t)?t:null}function SP(r,i){["video","audio","text"].forEach(t=>{const n=r.filter(o=>function EP(r,i){const t=bP[i];return!!t&&!0===t[r.slice(0,4)]}(o,t));if(n.length){const o=n.filter(c=>0===c.lastIndexOf("avc1",0)||0===c.lastIndexOf("mp4a",0));i[`${t}Codec`]=o.length>0?o[0]:n[0],r=r.filter(c=>-1===n.indexOf(c))}}),i.unknownCodecs=r}function L1(r,i,t){const n=i[t];n&&(r[t]=n)}function k1(r,i){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=i&&i.programDateTime&&(r.programDateTime=i.endProgramDateTime),qn(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function F1(r,i,t,n){r.relurl=i.URI,i.BYTERANGE&&r.setByteRange(i.BYTERANGE),r.level=t,r.sn="initSegment",n&&(r.levelkeys=n),r.initSegment=null}function B1(r,i,t){r.levelkeys=i;const{encryptedFragments:n}=t;(!n.length||n[n.length-1].levelkeys!==i)&&Object.keys(i).some(o=>i[o].isCommonEncryption)&&n.push(r)}function U1(r){const{type:i}=r;switch(i){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Rx(r,i){let t=r.url;return(void 0===t||0===t.indexOf("data:"))&&(t=i.url),t}class xP{constructor(i){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=i,this.registerListeners()}startLoad(i){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:i}=this;i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.LEVEL_LOADING,this.onLevelLoading,this),i.on(mt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.on(mt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:i}=this;i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.LEVEL_LOADING,this.onLevelLoading,this),i.off(mt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.off(mt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(i){const t=this.hls.config,u=new(t.pLoader||t.loader)(t);return this.loaders[i.type]=u,u}getInternalLoader(i){return this.loaders[i.type]}resetInternalLoader(i){this.loaders[i]&&delete this.loaders[i]}destroyInternalLoaders(){for(const i in this.loaders){const t=this.loaders[i];t&&t.destroy(),this.resetInternalLoader(i)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(i,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:n,deliveryDirectives:null})}onLevelLoading(i,t){const{id:n,level:o,url:c,deliveryDirectives:u}=t;this.load({id:n,level:o,responseType:"text",type:"level",url:c,deliveryDirectives:u})}onAudioTrackLoading(i,t){const{id:n,groupId:o,url:c,deliveryDirectives:u}=t;this.load({id:n,groupId:o,level:null,responseType:"text",type:"audioTrack",url:c,deliveryDirectives:u})}onSubtitleTrackLoading(i,t){const{id:n,groupId:o,url:c,deliveryDirectives:u}=t;this.load({id:n,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:c,deliveryDirectives:u})}load(i){var t;const n=this.hls.config;let c,o=this.getInternalLoader(i);if(o){const U=o.context;if(U&&U.url===i.url)return void Jt.trace("[playlist-loader]: playlist request ongoing");Jt.log(`[playlist-loader]: aborting previous loader for type: ${i.type}`),o.abort()}if(c="manifest"===i.type?n.manifestLoadPolicy.default:xr({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(i),null!=(t=i.deliveryDirectives)&&t.part){let U;if("level"===i.type&&null!==i.level?U=this.hls.levels[i.level].details:"audioTrack"===i.type&&null!==i.id?U=this.hls.audioTracks[i.id].details:"subtitleTrack"===i.type&&null!==i.id&&(U=this.hls.subtitleTracks[i.id].details),U){const Z=U.partTarget,ce=U.targetduration;if(Z&&ce){const Pe=1e3*Math.max(3*Z,.8*ce);c=xr({},c,{maxTimeToFirstByteMs:Math.min(Pe,c.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Pe,c.maxTimeToFirstByteMs)})}}}const u=c.errorRetry||c.timeoutRetry||{};o.load(i,{loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:u.maxNumRetry||0,retryDelay:u.retryDelayMs||0,maxRetryDelay:u.maxRetryDelayMs||0},{onSuccess:(U,Z,ce,Pe)=>{const Ne=this.getInternalLoader(ce);this.resetInternalLoader(ce.type);const ze=U.data;0===ze.indexOf("#EXTM3U")?(Z.parsing.start=performance.now(),ns.isMediaPlaylist(ze)?this.handleTrackOrLevelPlaylist(U,Z,ce,Pe||null,Ne):this.handleMasterPlaylist(U,Z,ce,Pe)):this.handleManifestParsingError(U,ce,new Error("no EXTM3U delimiter"),Pe||null,Z)},onError:(U,Z,ce,Pe)=>{this.handleNetworkError(Z,ce,!1,U,Pe)},onTimeout:(U,Z,ce)=>{this.handleNetworkError(Z,ce,!0,void 0,U)}})}handleMasterPlaylist(i,t,n,o){const c=this.hls,u=i.data,g=Rx(i,n),A=ns.parseMasterPlaylist(u,g);if(A.playlistParsingError)return void this.handleManifestParsingError(i,n,A.playlistParsingError,o,t);const{contentSteering:U,levels:Z,sessionData:ce,sessionKeys:Pe,startTimeOffset:Ne,variableList:ze}=A;this.variableList=ze;const{AUDIO:Je=[],SUBTITLES:ct,"CLOSED-CAPTIONS":Et}=ns.parseMasterPlaylistMedia(u,g,A);Je.length&&!Je.some(Lt=>!Lt.url)&&Z[0].audioCodec&&!Z[0].attrs.AUDIO&&(Jt.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),Je.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new lr({}),bitrate:0,url:""})),c.trigger(mt.MANIFEST_LOADED,{levels:Z,audioTracks:Je,subtitles:ct,captions:Et,contentSteering:U,url:g,stats:t,networkDetails:o,sessionData:ce,sessionKeys:Pe,startTimeOffset:Ne,variableList:ze})}handleTrackOrLevelPlaylist(i,t,n,o,c){const u=this.hls,{id:g,level:A,type:U}=n,Z=Rx(i,n),ce=qn(g)?g:0,Pe=qn(A)?A:ce,Ne=U1(n),ze=ns.parseLevelPlaylist(i.data,Z,Pe,Ne,ce,this.variableList);if("manifest"===U){const Je={attrs:new lr({}),bitrate:0,details:ze,name:"",url:Z};u.trigger(mt.MANIFEST_LOADED,{levels:[Je],audioTracks:[],url:Z,stats:t,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=ze,this.handlePlaylistLoaded(ze,i,t,n,o,c)}handleManifestParsingError(i,t,n,o,c){this.hls.trigger(mt.ERROR,{type:ri.NETWORK_ERROR,details:un.MANIFEST_PARSING_ERROR,fatal:"manifest"===t.type,url:i.url,err:n,error:n,reason:n.message,response:i,context:t,networkDetails:o,stats:c})}handleNetworkError(i,t,n=!1,o,c){let u=`A network ${n?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${i.type}`;"level"===i.type?u+=`: ${i.level} id: ${i.id}`:("audioTrack"===i.type||"subtitleTrack"===i.type)&&(u+=` id: ${i.id} group-id: "${i.groupId}"`);const g=new Error(u);Jt.warn(`[playlist-loader]: ${u}`);let A=un.UNKNOWN,U=!1;const Z=this.getInternalLoader(i);switch(i.type){case"manifest":A=n?un.MANIFEST_LOAD_TIMEOUT:un.MANIFEST_LOAD_ERROR,U=!0;break;case"level":A=n?un.LEVEL_LOAD_TIMEOUT:un.LEVEL_LOAD_ERROR,U=!1;break;case"audioTrack":A=n?un.AUDIO_TRACK_LOAD_TIMEOUT:un.AUDIO_TRACK_LOAD_ERROR,U=!1;break;case"subtitleTrack":A=n?un.SUBTITLE_TRACK_LOAD_TIMEOUT:un.SUBTITLE_LOAD_ERROR,U=!1}Z&&this.resetInternalLoader(i.type);const ce={type:ri.NETWORK_ERROR,details:A,fatal:U,url:i.url,loader:Z,context:i,error:g,networkDetails:t,stats:c};o&&(ce.response=ao({url:t?.url||i.url,data:void 0},o)),this.hls.trigger(mt.ERROR,ce)}handlePlaylistLoaded(i,t,n,o,c,u){const g=this.hls,{type:A,level:U,id:Z,groupId:ce,deliveryDirectives:Pe}=o,Ne=Rx(t,o),ze=U1(o),Je="number"==typeof o.level&&"main"===ze?U:void 0;if(!i.fragments.length){const Et=new Error("No Segments found in Playlist");return void g.trigger(mt.ERROR,{type:ri.NETWORK_ERROR,details:un.LEVEL_EMPTY_ERROR,fatal:!1,url:Ne,error:Et,reason:Et.message,response:t,context:o,level:Je,parent:ze,networkDetails:c,stats:n})}i.targetduration||(i.playlistParsingError=new Error("Missing Target Duration"));const ct=i.playlistParsingError;if(ct)g.trigger(mt.ERROR,{type:ri.NETWORK_ERROR,details:un.LEVEL_PARSING_ERROR,fatal:!1,url:Ne,error:ct,reason:ct.message,response:t,context:o,level:Je,parent:ze,networkDetails:c,stats:n});else switch(i.live&&u&&(u.getCacheAge&&(i.ageHeader=u.getCacheAge()||0),(!u.getCacheAge||isNaN(i.ageHeader))&&(i.ageHeader=0)),A){case"manifest":case"level":g.trigger(mt.LEVEL_LOADED,{details:i,level:Je||0,id:Z||0,stats:n,networkDetails:c,deliveryDirectives:Pe});break;case"audioTrack":g.trigger(mt.AUDIO_TRACK_LOADED,{details:i,id:Z||0,groupId:ce||"",stats:n,networkDetails:c,deliveryDirectives:Pe});break;case"subtitleTrack":g.trigger(mt.SUBTITLE_TRACK_LOADED,{details:i,id:Z||0,groupId:ce||"",stats:n,networkDetails:c,deliveryDirectives:Pe})}}}function V1(r,i){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=r,i.dispatchEvent(t)}function j1(r,i){const t=r.mode;if("disabled"===t&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(i.id))try{if(r.addCue(i),!r.cues.getCueById(i.id))throw new Error(`addCue is failed for: ${i}`)}catch(n){Jt.debug(`[texttrack-utils]: ${n}`);try{const o=new self.TextTrackCue(i.startTime,i.endTime,i.text);o.id=i.id,r.addCue(o)}catch(o){Jt.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===t&&(r.mode=t)}function wf(r){const i=r.mode;if("disabled"===i&&(r.mode="hidden"),r.cues)for(let t=r.cues.length;t--;)r.removeCue(r.cues[t]);"disabled"===i&&(r.mode=i)}function Nx(r,i,t,n){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const c=function AP(r,i,t){const n=[],o=function MP(r,i){if(i<r[0].startTime)return 0;const t=r.length-1;if(i>r[t].endTime)return-1;let n=0,o=t;for(;n<=o;){const c=Math.floor((o+n)/2);if(i<r[c].startTime)o=c-1;else{if(!(i>r[c].startTime&&n<t))return c;n=c+1}}return r[n].startTime-i<i-r[o].startTime?n:o}(r,i);if(o>-1)for(let c=o,u=r.length;c<u;c++){const g=r[c];if(g.startTime>=i&&g.endTime<=t)n.push(g);else if(g.startTime>t)return n}return n}(r.cues,i,t);for(let u=0;u<c.length;u++)(!n||n(c[u]))&&r.removeCue(c[u])}"disabled"===o&&(r.mode=o)}var is_emsg="https://aomedia.org/emsg/ID3";function Lx(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const W0=(()=>{const r=Lx();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function kx(r,i){return r.getTime()/1e3-i}function IP(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class OP{constructor(i){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=i,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:i}=this;i.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.on(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(mt.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.off(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(mt.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(i,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(wf(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(i){const t=this.getID3Track(i.textTracks);return t.mode="hidden",t}getID3Track(i){if(this.media){for(let t=0;t<i.length;t++){const n=i[t];if("metadata"===n.kind&&"id3"===n.label)return V1(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(i,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:o}}}=this;if(!n&&!o)return;const{samples:c}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const u=Lx();for(let g=0;g<c.length;g++){const A=c[g].type;if(A===is_emsg&&!n||!o)continue;const U=ye(c[g].data);if(U){const Z=c[g].pts;let ce=Z+c[g].duration;ce>W0&&(ce=W0),ce-Z<=0&&(ce=Z+.25);for(let Ne=0;Ne<U.length;Ne++){const ze=U[Ne];if(!j(ze)){this.updateId3CueEnds(Z,A);const Je=new u(Z,ce,"");Je.value=ze,A&&(Je.type=A),this.id3Track.addCue(Je)}}}}}updateId3CueEnds(i,t){var n;const o=null==(n=this.id3Track)?void 0:n.cues;if(o)for(let c=o.length;c--;){const u=o[c];u.type===t&&u.startTime<i&&u.endTime===W0&&(u.endTime=i)}}onBufferFlushing(i,{startOffset:t,endOffset:n,type:o}){const{id3Track:c,hls:u}=this;if(!u)return;const{config:{enableEmsgMetadataCues:g,enableID3MetadataCues:A}}=u;if(c&&(g||A)){let U;U="audio"===o?Z=>"org.id3"===Z.type&&A:"video"===o?Z=>Z.type===is_emsg&&g:Z=>"org.id3"===Z.type&&A||Z.type===is_emsg&&g,Nx(c,t,n,U)}}onLevelUpdated(i,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:o}=this,{dateRanges:c}=t,u=Object.keys(c);if(o){const Z=Object.keys(n).filter(ce=>!u.includes(ce));for(let ce=Z.length;ce--;){const Pe=Z[ce];Object.keys(n[Pe].cues).forEach(Ne=>{o.removeCue(n[Pe].cues[Ne])}),delete n[Pe]}}const g=t.fragments[t.fragments.length-1];if(0===u.length||!qn(g?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const A=g.programDateTime/1e3-g.start,U=Lx();for(let Z=0;Z<u.length;Z++){const ce=u[Z],Pe=c[ce],Ne=n[ce],ze=Ne?.cues||{};let Je=Ne?.durationKnown||!1;const ct=kx(Pe.startDate,A);let Et=W0;const Ft=Pe.endDate;if(Ft)Et=kx(Ft,A),Je=!0;else if(Pe.endOnNext&&!Je){const Qt=u.reduce((qt,fn)=>{const an=c[fn];return an.class===Pe.class&&an.id!==fn&&an.startDate>Pe.startDate&&qt.push(an),qt},[]).sort((qt,fn)=>qt.startDate.getTime()-fn.startDate.getTime())[0];Qt&&(Et=kx(Qt.startDate,A),Je=!0)}const Lt=Object.keys(Pe.attr);for(let Qt=0;Qt<Lt.length;Qt++){const qt=Lt[Qt];if("ID"===(r=qt)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let fn=ze[qt];if(fn)Je&&!Ne.durationKnown&&(fn.endTime=Et);else{let an=Pe.attr[qt];fn=new U(ct,Et,""),Rp(qt)&&(an=IP(an)),fn.value={key:qt,data:an},fn.type="com.apple.quicktime.HLS",fn.id=ce,this.id3Track.addCue(fn),ze[qt]=fn}}n[ce]={cues:ze,dateRange:Pe,durationKnown:Je}}var r}}class PP{constructor(i){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=i,this.config=i.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:i,levelDetails:t}=this;return void 0!==i.liveMaxLatencyDuration?i.liveMaxLatencyDuration:t?i.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:i}=this;if(null===i)return null;const{holdBack:t,partHoldBack:n,targetduration:o}=i,{liveSyncDuration:c,liveSyncDurationCount:u,lowLatencyMode:g}=this.config,A=this.hls.userConfig;let U=g&&n||t;return(A.liveSyncDuration||A.liveSyncDurationCount||0===U)&&(U=void 0!==c?c:u*o),U+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const i=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===i||null===t||null===n)return null;const o=n.edge,g=o-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o-n.totalduration,i-t-this.edgeStalled),g)}get drift(){const{levelDetails:i}=this;return null===i?1:i.drift}get edgeStalled(){const{levelDetails:i}=this;return null===i?0:Math.max(i.age-3*(this.config.lowLatencyMode&&i.partTarget||i.targetduration),0)}get forwardBufferLength(){const{media:i,levelDetails:t}=this;if(!i||!t)return 0;const n=i.buffered.length;return(n?i.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(mt.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(mt.ERROR,this.onError,this)}onMediaAttached(i,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(i,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(i,t){var n;t.details===un.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&Jt.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:i,levelDetails:t}=this;if(!i||!t)return;this.currentTime=i.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:c}=this.config;if(!o||1===c)return;const u=this.targetLatency;if(null===u)return;const g=n-u,A=Math.min(this.maxLatency,u+t.targetduration);if(t.live&&g<A&&g>.05&&this.forwardBufferLength>1){const Z=Math.min(2,Math.max(1,c)),ce=Math.round(2/(1+Math.exp(-.75*g-this.edgeStalled))*20)/20;i.playbackRate=Math.min(Z,Math.max(1,ce))}else 1!==i.playbackRate&&0!==i.playbackRate&&(i.playbackRate=1)}estimateLiveEdge(){const{levelDetails:i}=this;return null===i?null:i.edge+i.age}computeLatency(){const i=this.estimateLiveEdge();return null===i?null:i-this.currentTime}}const Fx=["NONE","TYPE-0","TYPE-1",null];class G1{constructor(i,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=i,this.part=t,this.skip=n}addDirectives(i){const t=new self.URL(i);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Up{constructor(i){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[i.url],this._attrs=[i.attrs],this.bitrate=i.bitrate,i.details&&(this.details=i.details),this.id=i.id||0,this.name=i.name,this.width=i.width||0,this.height=i.height||0,this.audioCodec=i.audioCodec,this.videoCodec=i.videoCodec,this.unknownCodecs=i.unknownCodecs,this.codecSet=[i.videoCodec,i.audioCodec].filter(t=>t).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(i){const t=i%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}get audioGroupId(){var i;return null==(i=this.audioGroupIds)?void 0:i[this.urlId]}get textGroupId(){var i;return null==(i=this.textGroupIds)?void 0:i[this.urlId]}addFallback(i){this.url.push(i.url),this._attrs.push(i.attrs)}}function Bx(r,i){const t=i.startPTS;if(qn(t)){let o,n=0;i.sn>r.sn?(n=t-r.start,o=r):(n=r.start-t,o=i),o.duration!==n&&(o.duration=n)}else i.start=i.sn>r.sn?r.cc===i.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-i.duration,0)}function H1(r,i,t,n,o,c){n-t<=0&&(Jt.warn("Fragment should have a positive duration",i),n=t+i.duration,c=o+i.duration);let g=t,A=n;const U=i.startPTS,Z=i.endPTS;if(qn(U)){const ct=Math.abs(U-t);i.deltaPTS=qn(i.deltaPTS)?Math.max(ct,i.deltaPTS):ct,g=Math.max(t,U),t=Math.min(t,U),o=Math.min(o,i.startDTS),A=Math.min(n,Z),n=Math.max(n,Z),c=Math.max(c,i.endDTS)}const ce=t-i.start;0!==i.start&&(i.start=t),i.duration=n-i.start,i.startPTS=t,i.maxStartPTS=g,i.startDTS=o,i.endPTS=n,i.minEndPTS=A,i.endDTS=c;const Pe=i.sn;if(!r||Pe<r.startSN||Pe>r.endSN)return 0;let Ne;const ze=Pe-r.startSN,Je=r.fragments;for(Je[ze]=i,Ne=ze;Ne>0;Ne--)Bx(Je[Ne],Je[Ne-1]);for(Ne=ze;Ne<Je.length-1;Ne++)Bx(Je[Ne],Je[Ne+1]);return r.fragmentHint&&Bx(Je[Je.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,ce}function Y1(r,i){const t=i.startSN+i.skippedSegments-r.startSN,n=r.fragments;t<0||t>=n.length||Ux(i,n[t].start)}function Ux(r,i){if(i){const t=r.fragments;for(let n=r.skippedSegments;n<t.length;n++)t[n].start+=i;r.fragmentHint&&(r.fragmentHint.start+=i)}}function K1(r,i,t){var n;return null!=r&&r.details?W1(null==(n=r.details)?void 0:n.partList,i,t):null}function W1(r,i,t){if(r)for(let n=r.length;n--;){const o=r[n];if(o.index===t&&o.fragment.sn===i)return o}return null}function z0(r){switch(r.details){case un.FRAG_LOAD_TIMEOUT:case un.KEY_LOAD_TIMEOUT:case un.LEVEL_LOAD_TIMEOUT:case un.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function z1(r,i){const t=z0(i);return r.default[(t?"timeout":"error")+"Retry"]}function Vx(r,i){const t="linear"===r.backoff?1:Math.pow(2,i);return Math.min(t*r.retryDelayMs,r.maxRetryDelayMs)}function Z1(r){return ao(ao({},r),{errorRetry:null,timeoutRetry:null})}function Z0(r,i,t,n){return!!r&&i<r.maxNumRetry&&(function VP(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(n)||!!t)}const $1={search:function(r,i){let t=0,n=r.length-1,o=null,c=null;for(;t<=n;){o=(t+n)/2|0,c=r[o];const u=i(c);if(u>0)t=o+1;else{if(!(u<0))return c;n=o-1}}return null}};function Vp(r,i,t=0,n=0){let o=null;if(r?o=i[r.sn-i[0].sn+1]||null:0===t&&0===i[0].start&&(o=i[0]),o&&0===jx(t,n,o))return o;const c=$1.search(i,jx.bind(null,t,n));return!c||c===r&&o?o:c}function jx(r=0,i=0,t){if(t.start<=r&&t.start+t.duration>r)return 0;const n=Math.min(i,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-n<=r?1:t.start-n>r&&t.start?-1:0}function GP(r,i,t){const n=1e3*Math.min(i,t.duration+(t.deltaPTS?t.deltaPTS:0));return(t.endProgramDateTime||0)-n>r}function WP(r,i,t){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const n=r.details;if(i.details===un.FRAG_GAP&&n&&i.frag){const c=Vp(null,n.fragments,i.frag.start);if(c&&!c.gap)return!0}if(t&&r.errors.length<t.errors.length){const o=r.errors[r.errors.length-1];if(n&&o.frag&&i.frag&&Math.abs(o.frag.start-i.frag.start)>3*n.targetduration)return!0}return!1}class Gx{constructor(i,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Jt.log.bind(Jt,`${t}:`),this.warn=Jt.warn.bind(Jt,`${t}:`),this.hls=i}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(i,t){const n=t?.renditionReports;if(n){let o=-1;for(let c=0;c<n.length;c++){const u=n[c];let g;try{g=new self.URL(u.URI,t.url).href}catch(A){Jt.warn(`Could not construct new URL for Rendition Report: ${A}`),g=u.URI||""}if(g===i){o=c;break}g===i.substring(0,g.length)&&(o=c)}if(-1!==o){const c=n[o],u=parseInt(c["LAST-MSN"])||t?.lastPartSn;let g=parseInt(c["LAST-PART"])||t?.lastPartIndex;if(this.hls.config.lowLatencyMode){const A=Math.min(t.age-t.partTarget,t.targetduration);g>=0&&A>t.partTarget&&(g+=1)}return new G1(u,g>=0?g:void 0,"")}}}loadPlaylist(i){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(i){return this.canLoad&&!!i&&!!i.url&&(!i.details||i.details.live)}shouldReloadPlaylist(i){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(i)}playlistLoaded(i,t,n){const{details:o,stats:c}=t,u=self.performance.now(),g=c.loading.first?Math.max(0,u-c.loading.first):0;if(o.advancedDateTime=Date.now()-g,o.live||null!=n&&n.live){if(o.reloaded(n),n&&this.log(`live playlist ${i} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),n&&o.fragments.length>0&&function NP(r,i){let t=null;const n=r.fragments;for(let A=n.length-1;A>=0;A--){const U=n[A].initSegment;if(U){t=U;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let c,o=0;if(function FP(r,i,t){const n=i.skippedSegments,o=Math.max(r.startSN,i.startSN)-i.startSN,c=(r.fragmentHint?1:0)+(n?i.endSN:Math.min(r.endSN,i.endSN))-i.startSN,u=i.startSN-r.startSN,g=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments,A=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let U=o;U<=c;U++){const Z=A[u+U];let ce=g[U];n&&!ce&&U<n&&(ce=i.fragments[U]=Z),Z&&ce&&t(Z,ce)}}(r,i,(A,U)=>{A.relurl&&(o=A.cc-U.cc),qn(A.startPTS)&&qn(A.endPTS)&&(U.start=U.startPTS=A.startPTS,U.startDTS=A.startDTS,U.maxStartPTS=A.maxStartPTS,U.endPTS=A.endPTS,U.endDTS=A.endDTS,U.minEndPTS=A.minEndPTS,U.duration=A.endPTS-A.startPTS,U.duration&&(c=U),i.PTSKnown=i.alignedSliding=!0),U.elementaryStreams=A.elementaryStreams,U.loader=A.loader,U.stats=A.stats,U.urlId=A.urlId,A.initSegment&&(U.initSegment=A.initSegment,t=A.initSegment)}),t&&(i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments).forEach(U=>{var Z;(!U.initSegment||U.initSegment.relurl===(null==(Z=t)?void 0:Z.relurl))&&(U.initSegment=t)}),i.skippedSegments)if(i.deltaUpdateFailed=i.fragments.some(A=>!A),i.deltaUpdateFailed){Jt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let A=i.skippedSegments;A--;)i.fragments.shift();i.startSN=i.fragments[0].sn,i.startCC=i.fragments[0].cc}else i.canSkipDateRanges&&(i.dateRanges=function LP(r,i,t){const n=xr({},r);return t&&t.forEach(o=>{delete n[o]}),Object.keys(i).forEach(o=>{const c=new V0(i[o].attr,n[o]);c.isValid?n[o]=c:Jt.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(i[o].attr)}"`)}),n}(r.dateRanges,i.dateRanges,i.recentlyRemovedDateranges));const u=i.fragments;if(o){Jt.warn("discontinuity sliding from playlist, take drift into account");for(let A=0;A<u.length;A++)u[A].cc+=o}i.skippedSegments&&(i.startCC=i.fragments[0].cc),function kP(r,i,t){if(r&&i){let n=0;for(let o=0,c=r.length;o<=c;o++){const u=r[o],g=i[o+n];u&&g&&u.index===g.index&&u.fragment.sn===g.fragment.sn?t(u,g):n--}}}(r.partList,i.partList,(A,U)=>{U.elementaryStreams=A.elementaryStreams,U.stats=A.stats}),c?H1(i,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS):Y1(r,i),u.length&&(i.totalduration=i.edge-u[0].start),i.driftStartTime=r.driftStartTime,i.driftStart=r.driftStart;const g=i.advancedDateTime;if(i.advanced&&g){const A=i.edge;i.driftStart||(i.driftStartTime=g,i.driftStart=A),i.driftEndTime=g,i.driftEnd=A}else i.driftEndTime=r.driftEndTime,i.driftEnd=r.driftEnd,i.advancedDateTime=r.advancedDateTime}(n,o),!this.canLoad||!o.live)return;let A,U,Z;if(o.canBlockReload&&o.endSN&&o.advanced){const ct=this.hls.config.lowLatencyMode,Et=o.lastPartSn,Ft=o.endSN,Lt=o.lastPartIndex,qt=Et===Ft;-1!==Lt?(U=qt?Ft+1:Et,Z=qt?ct?0:Lt:Lt+1):U=Ft+1;const an=o.age;let wn=Math.min(an+o.ageHeader-o.partTarget,1.5*o.targetduration);if(wn>0){if(n&&wn>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${wn} with playlist age: ${o.age}`),wn=0;else{const sn=Math.floor(wn/o.targetduration);U+=sn,void 0!==Z&&(Z+=Math.round(wn%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${an.toFixed(2)}s goal: ${wn} skip sn ${sn} to part ${Z}`)}o.tuneInGoal=wn}if(A=this.getDeliveryDirectives(o,t.deliveryDirectives,U,Z),ct||!qt)return void this.loadPlaylist(A)}else o.canBlockReload&&(A=this.getDeliveryDirectives(o,t.deliveryDirectives,U,Z));const ce=this.hls.mainForwardBufferInfo,ze=function BP(r,i=1/0){let t=1e3*r.targetduration;if(r.updated){const n=r.fragments;if(n.length&&4*t>i){const c=1e3*n[n.length-1].duration;c<t&&(t=c)}}else t/=2;return Math.round(t)}(o,1e3*(o.edge-(ce?ce.end-ce.len:0)));o.updated&&u>this.requestScheduled+ze&&(this.requestScheduled=c.loading.start),void 0!==U&&o.canBlockReload?this.requestScheduled=c.loading.first+ze-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+ze<u?this.requestScheduled=u:this.requestScheduled-u<=0&&(this.requestScheduled+=ze);let Je=this.requestScheduled-u;Je=Math.max(0,Je),this.log(`reload live playlist ${i} in ${Math.round(Je)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(A),Je)}else this.clearTimer()}getDeliveryDirectives(i,t,n,o){let c=function RP(r,i){const{canSkipUntil:t,canSkipDateRanges:n,endSN:o}=r;return t&&(void 0!==i?i-o:0)<t?n?"v2":"YES":""}(i,n);return null!=t&&t.skip&&i.deltaUpdateFailed&&(n=t.msn,o=t.part,c=""),new G1(n,o,c)}checkRetry(i){const t=i.details,n=z0(i),o=i.errorAction,{action:c,retryCount:u=0,retryConfig:g}=o||{},A=!!o&&!!g&&(5===c||!o.resolved&&2===c);if(A){var U;if(this.requestScheduled=-1,u>=g.maxNumRetry)return!1;if(n&&null!=(U=i.context)&&U.deliveryDirectives)this.warn(`Retrying playlist loading ${u+1}/${g.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const Z=Vx(g,u);this.timer=self.setTimeout(()=>this.loadPlaylist(),Z),this.warn(`Retrying playlist loading ${u+1}/${g.maxNumRetry} after "${t}" in ${Z}ms`)}i.levelRetry=!0,o.resolved=!0}return A}}let Hx;class zP extends Gx{constructor(i,t){super(i,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(mt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(mt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(mt.FRAG_LOADED,this.onFragLoaded,this),i.on(mt.ERROR,this.onError,this)}_unregisterListeners(){const{hls:i}=this;i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(mt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(mt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(mt.FRAG_LOADED,this.onFragLoaded,this),i.off(mt.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(i,t){this.resetLevels()}onManifestLoaded(i,t){const n=[],o={};let c;t.levels.forEach(u=>{var g;const A=u.attrs;-1!==(null==(g=u.audioCodec)?void 0:g.indexOf("mp4a.40.34"))&&(Hx||(Hx=/chrome|firefox/i.test(navigator.userAgent)),Hx&&(u.audioCodec=void 0));const{AUDIO:U,CODECS:Z,"FRAME-RATE":ce,"PATHWAY-ID":Pe,RESOLUTION:Ne,SUBTITLES:ze}=A,ct=`${Pe||"."}-${u.bitrate}-${Ne}-${ce}-${Z}`;c=o[ct],c?c.addFallback(u):(c=new Up(u),o[ct]=c,n.push(c)),$0(c,"audio",U),$0(c,"text",ze)}),this.filterAndSortMediaOptions(n,t)}filterAndSortMediaOptions(i,t){let n=[],o=[],c=!1,u=!1,g=!1,A=i.filter(({audioCodec:Ne,videoCodec:ze,width:Je,height:ct,unknownCodecs:Et})=>(c||(c=!(!Je||!ct)),u||(u=!!ze),g||(g=!!Ne),!(null!=Et&&Et.length)&&(!Ne||Px(Ne,"audio"))&&(!ze||Px(ze,"video"))));if((c||u)&&g&&(A=A.filter(({videoCodec:Ne,width:ze,height:Je})=>!!Ne||!(!ze||!Je))),0===A.length)return void Promise.resolve().then(()=>{if(this.hls){const Ne=new Error("no level with compatible codecs found in manifest");this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:Ne,reason:Ne.message})}});t.audioTracks&&(n=t.audioTracks.filter(Ne=>!Ne.audioCodec||Px(Ne.audioCodec,"audio")),q1(n)),t.subtitles&&(o=t.subtitles,q1(o));const U=A.slice(0);A.sort((Ne,ze)=>Ne.attrs["HDCP-LEVEL"]!==ze.attrs["HDCP-LEVEL"]?(Ne.attrs["HDCP-LEVEL"]||"")>(ze.attrs["HDCP-LEVEL"]||"")?1:-1:Ne.bitrate!==ze.bitrate?Ne.bitrate-ze.bitrate:Ne.attrs["FRAME-RATE"]!==ze.attrs["FRAME-RATE"]?Ne.attrs.decimalFloatingPoint("FRAME-RATE")-ze.attrs.decimalFloatingPoint("FRAME-RATE"):Ne.attrs.SCORE!==ze.attrs.SCORE?Ne.attrs.decimalFloatingPoint("SCORE")-ze.attrs.decimalFloatingPoint("SCORE"):c&&Ne.height!==ze.height?Ne.height-ze.height:0);let Z=U[0];if(this.steering&&(A=this.steering.filterParsedLevels(A),A.length!==U.length))for(let Ne=0;Ne<U.length;Ne++)if(U[Ne].pathwayId===A[0].pathwayId){Z=U[Ne];break}this._levels=A;for(let Ne=0;Ne<A.length;Ne++)if(A[Ne]===Z){this._firstLevel=Ne,this.log(`manifest loaded, ${A.length} level(s) found, first bitrate: ${Z.bitrate}`);break}const Pe={levels:A,audioTracks:n,subtitleTracks:o,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:g,video:u,altAudio:!(g&&!u)&&n.some(Ne=>!!Ne.url)};this.hls.trigger(mt.MANIFEST_PARSED,Pe),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(i){const t=this._levels;if(0===t.length)return;if(i<0||i>=t.length){const Z=new Error("invalid level idx"),ce=i<0;if(this.hls.trigger(mt.ERROR,{type:ri.OTHER_ERROR,details:un.LEVEL_SWITCH_ERROR,level:i,fatal:ce,error:Z,reason:Z.message}),ce)return;i=Math.min(i,t.length-1)}const n=this.currentLevelIndex,o=this.currentLevel,c=o?o.attrs["PATHWAY-ID"]:void 0,u=t[i],g=u.attrs["PATHWAY-ID"];if(this.currentLevelIndex=i,this.currentLevel=u,n===i&&u.details&&o&&c===g)return;this.log(`Switching to level ${i}${g?" with Pathway "+g:""} from level ${n}${c?" with Pathway "+c:""}`);const A=xr({},u,{level:i,maxBitrate:u.maxBitrate,attrs:u.attrs,uri:u.uri,urlId:u.urlId});delete A._attrs,delete A._urlId,this.hls.trigger(mt.LEVEL_SWITCHING,A);const U=u.details;if(!U||U.live){const Z=this.switchParams(u.uri,o?.details);this.loadPlaylist(Z)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(i){this.manualLevelIndex=i,void 0===this._startLevel&&(this._startLevel=i),-1!==i&&(this.level=i)}get firstLevel(){return this._firstLevel}set firstLevel(i){this._firstLevel=i}get startLevel(){if(void 0===this._startLevel){const i=this.hls.config.startLevel;return void 0!==i?i:this._firstLevel}return this._startLevel}set startLevel(i){this._startLevel=i}onError(i,t){t.fatal||!t.context||"level"===t.context.type&&t.context.level===this.level&&this.checkRetry(t)}onFragLoaded(i,{frag:t}){if(void 0!==t&&"main"===t.type){const n=this._levels[t.level];void 0!==n&&(n.loadError=0)}}onLevelLoaded(i,t){var n;const{level:o,details:c}=t,u=this._levels[o];var g;if(!u)return this.warn(`Invalid level index ${o}`),void(null!=(g=t.deliveryDirectives)&&g.skip&&(c.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===u.fragmentError&&(u.loadError=0),this.playlistLoaded(o,t,u.details)):null!=(n=t.deliveryDirectives)&&n.skip&&(c.deltaUpdateFailed=!0)}onAudioTrackSwitched(i,t){const n=this.currentLevel;if(!n)return;const o=this.hls.audioTracks[t.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==o){let c=-1;for(let u=0;u<n.audioGroupIds.length;u++)if(n.audioGroupIds[u]===o){c=u;break}-1!==c&&c!==n.urlId&&(n.urlId=c,this.canLoad&&this.startLoad())}}loadPlaylist(i){super.loadPlaylist();const t=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){const o=n.urlId;let c=n.uri;if(i)try{c=i.addDirectives(c)}catch(g){this.warn(`Could not construct new URL with HLS Delivery Directives: ${g}`)}const u=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${void 0!==i?.msn?" at sn "+i.msn+" part "+i.part:""} with${u?" Pathway "+u:""} URI ${o+1}/${n.url.length} ${c}`),this.clearTimer(),this.hls.trigger(mt.LEVEL_LOADING,{url:c,level:t,id:o,deliveryDirectives:i||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(i){this.level=i,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=i)}removeLevel(i,t){const n=(c,u)=>u!==t,o=this._levels.filter((c,u)=>u!==i||(c.url.length>1&&void 0!==t?(c.url=c.url.filter(n),c.audioGroupIds&&(c.audioGroupIds=c.audioGroupIds.filter(n)),c.textGroupIds&&(c.textGroupIds=c.textGroupIds.filter(n)),c.urlId=0,!0):(this.steering&&this.steering.removeLevel(c),!1)));this.hls.trigger(mt.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(i,{levels:t}){t.forEach((n,o)=>{const{details:c}=n;null!=c&&c.fragments&&c.fragments.forEach(u=>{u.level=o})}),this._levels=t}}function $0(r,i,t){t&&("audio"===i?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=t):"text"===i&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=t))}function q1(r){const i={};r.forEach(t=>{const n=t.groupId||"";t.id=i[n]=i[n]||0,i[n]++})}class ZP{constructor(i){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=i,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(mt.BUFFER_APPENDED,this.onBufferAppended,this),i.on(mt.FRAG_BUFFERED,this.onFragBuffered,this),i.on(mt.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:i}=this;i.off(mt.BUFFER_APPENDED,this.onBufferAppended,this),i.off(mt.FRAG_BUFFERED,this.onFragBuffered,this),i.off(mt.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(i,t){const n=this.activePartLists[t];if(n)for(let o=n.length;o--;){const c=n[o];if(!c)break;const u=c.end;if(c.start<=i&&null!==u&&i<=u)return c}return this.getBufferedFrag(i,t)}getBufferedFrag(i,t){const{fragments:n}=this,o=Object.keys(n);for(let c=o.length;c--;){const u=n[o[c]];if(u?.body.type===t&&u.buffered){const g=u.body;if(g.start<=i&&i<=g.end)return g}}return null}detectEvictedFragments(i,t,n,o){this.timeRanges&&(this.timeRanges[i]=t);const c=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(u=>{const g=this.fragments[u];if(!g||c>=g.body.sn)return;if(!g.buffered&&!g.loaded)return void(g.body.type===n&&this.removeFragment(g.body));const A=g.range[i];A&&A.time.some(U=>{const Z=!this.isTimeBuffered(U.startPTS,U.endPTS,t);return Z&&this.removeFragment(g.body),Z})})}detectPartialFragments(i){const t=this.timeRanges,{frag:n,part:o}=i;if(!t||"initSegment"===n.sn)return;const c=If(n),u=this.fragments[c];if(!u||u.buffered&&n.gap)return;const g=!n.relurl;Object.keys(t).forEach(A=>{const U=n.elementaryStreams[A];U&&(u.range[A]=this.getBufferedTimes(n,o,g||!0===U.partial,t[A]))}),u.loaded=null,Object.keys(u.range).length?(u.buffered=!0,u.body.endList&&(this.endListFragments[u.body.type]=u),q0(u)||this.removeParts(n.sn-1,n.type)):this.removeFragment(u.body)}removeParts(i,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=n.filter(o=>o.fragment.sn>=i))}fragBuffered(i,t){const n=If(i);let o=this.fragments[n];!o&&t&&(o=this.fragments[n]={body:i,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},i.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(i,t,n,o){const c={time:[],partial:n},u=i.start,g=i.end,A=i.minEndPTS||g,U=i.maxStartPTS||u;for(let Z=0;Z<o.length;Z++){const ce=o.start(Z)-this.bufferPadding,Pe=o.end(Z)+this.bufferPadding;if(U>=ce&&A<=Pe){c.time.push({startPTS:Math.max(u,o.start(Z)),endPTS:Math.min(g,o.end(Z))});break}if(u<Pe&&g>ce)c.partial=!0,c.time.push({startPTS:Math.max(u,o.start(Z)),endPTS:Math.min(g,o.end(Z))});else if(g<=ce)break}return c}getPartialFragment(i){let n,o,c,t=null,u=0;const{bufferPadding:g,fragments:A}=this;return Object.keys(A).forEach(U=>{const Z=A[U];Z&&q0(Z)&&(o=Z.body.start-g,c=Z.body.end+g,i>=o&&i<=c&&(n=Math.min(i-o,c-i),u<=n&&(t=Z.body,u=n)))}),t}isEndListAppended(i){const t=this.endListFragments[i];return void 0!==t&&(t.buffered||q0(t))}getState(i){const t=If(i),n=this.fragments[t];return n?n.buffered?q0(n)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(i,t,n){let o,c;for(let u=0;u<n.length;u++){if(o=n.start(u)-this.bufferPadding,c=n.end(u)+this.bufferPadding,i>=o&&t<=c)return!0;if(t<=o)return!1}return!1}onFragLoaded(i,t){const{frag:n,part:o}=t;if("initSegment"===n.sn||n.bitrateTest)return;const c=o?null:t,u=If(n);this.fragments[u]={body:n,appendedPTS:null,loaded:c,buffered:!1,range:Object.create(null)}}onBufferAppended(i,t){const{frag:n,part:o,timeRanges:c}=t;if("initSegment"===n.sn)return;const u=n.type;if(o){let g=this.activePartLists[u];g||(this.activePartLists[u]=g=[]),g.push(o)}this.timeRanges=c,Object.keys(c).forEach(g=>{this.detectEvictedFragments(g,c[g],u,o)})}onFragBuffered(i,t){this.detectPartialFragments(t)}hasFragment(i){const t=If(i);return!!this.fragments[t]}hasParts(i){var t;return!(null==(t=this.activePartLists[i])||!t.length)}removeFragmentsInRange(i,t,n,o,c){o&&!this.hasGaps||Object.keys(this.fragments).forEach(u=>{const g=this.fragments[u];if(!g)return;const A=g.body;A.type!==n||o&&!A.gap||A.start<t&&A.end>i&&(g.buffered||c)&&this.removeFragment(A)})}removeFragment(i){const t=If(i);i.stats.loaded=0,i.clearElementaryStreamInfo();const n=this.activePartLists[i.type];if(n){const o=i.sn;this.activePartLists[i.type]=n.filter(c=>c.fragment.sn!==o)}delete this.fragments[t],i.endList&&delete this.endListFragments[i.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function q0(r){var i,t,n;return r.buffered&&(r.body.gap||(null==(i=r.range.video)?void 0:i.partial)||(null==(t=r.range.audio)?void 0:t.partial)||(null==(n=r.range.audiovideo)?void 0:n.partial))}function If(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const J1=Math.pow(2,17);class $P{constructor(i){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=i}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(i,t){const n=i.url;if(!n)return Promise.reject(new gl({type:ri.NETWORK_ERROR,details:un.FRAG_LOAD_ERROR,fatal:!1,frag:i,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,c=o.fLoader,u=o.loader;return new Promise((g,A)=>{if(this.loader&&this.loader.destroy(),i.gap){if(i.tagList.some(Ne=>"GAP"===Ne[0]))return void A(X1(i));i.gap=!1}const U=this.loader=i.loader=c?new c(o):new u(o),Z=Q1(i),ce=Z1(o.fragLoadPolicy.default),Pe={loadPolicy:ce,timeout:ce.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===i.sn?1/0:J1};i.stats=U.stats,U.load(Z,Pe,{onSuccess:(Ne,ze,Je,ct)=>{this.resetLoader(i,U);let Et=Ne.data;Je.resetIV&&i.decryptdata&&(i.decryptdata.iv=new Uint8Array(Et.slice(0,16)),Et=Et.slice(16)),g({frag:i,part:null,payload:Et,networkDetails:ct})},onError:(Ne,ze,Je,ct)=>{this.resetLoader(i,U),A(new gl({type:ri.NETWORK_ERROR,details:un.FRAG_LOAD_ERROR,fatal:!1,frag:i,response:ao({url:n,data:void 0},Ne),error:new Error(`HTTP Error ${Ne.code} ${Ne.text}`),networkDetails:Je,stats:ct}))},onAbort:(Ne,ze,Je)=>{this.resetLoader(i,U),A(new gl({type:ri.NETWORK_ERROR,details:un.INTERNAL_ABORTED,fatal:!1,frag:i,error:new Error("Aborted"),networkDetails:Je,stats:Ne}))},onTimeout:(Ne,ze,Je)=>{this.resetLoader(i,U),A(new gl({type:ri.NETWORK_ERROR,details:un.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,error:new Error(`Timeout after ${Pe.timeout}ms`),networkDetails:Je,stats:Ne}))},onProgress:(Ne,ze,Je,ct)=>{t&&t({frag:i,part:null,payload:Je,networkDetails:ct})}})})}loadPart(i,t,n){this.abort();const o=this.config,c=o.fLoader,u=o.loader;return new Promise((g,A)=>{if(this.loader&&this.loader.destroy(),i.gap||t.gap)return void A(X1(i,t));const U=this.loader=i.loader=c?new c(o):new u(o),Z=Q1(i,t),ce=Z1(o.fragLoadPolicy.default),Pe={loadPolicy:ce,timeout:ce.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:J1};t.stats=U.stats,U.load(Z,Pe,{onSuccess:(Ne,ze,Je,ct)=>{this.resetLoader(i,U),this.updateStatsFromPart(i,t);const Et={frag:i,part:t,payload:Ne.data,networkDetails:ct};n(Et),g(Et)},onError:(Ne,ze,Je,ct)=>{this.resetLoader(i,U),A(new gl({type:ri.NETWORK_ERROR,details:un.FRAG_LOAD_ERROR,fatal:!1,frag:i,part:t,response:ao({url:Z.url,data:void 0},Ne),error:new Error(`HTTP Error ${Ne.code} ${Ne.text}`),networkDetails:Je,stats:ct}))},onAbort:(Ne,ze,Je)=>{i.stats.aborted=t.stats.aborted,this.resetLoader(i,U),A(new gl({type:ri.NETWORK_ERROR,details:un.INTERNAL_ABORTED,fatal:!1,frag:i,part:t,error:new Error("Aborted"),networkDetails:Je,stats:Ne}))},onTimeout:(Ne,ze,Je)=>{this.resetLoader(i,U),A(new gl({type:ri.NETWORK_ERROR,details:un.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,part:t,error:new Error(`Timeout after ${Pe.timeout}ms`),networkDetails:Je,stats:Ne}))}})})}updateStatsFromPart(i,t){const n=i.stats,o=t.stats,c=o.total;if(n.loaded+=o.loaded,c){const A=Math.round(i.duration/t.duration),U=Math.min(Math.round(n.loaded/c),A),ce=(A-U)*Math.round(n.loaded/U);n.total=n.loaded+ce}else n.total=Math.max(n.loaded,n.total);const u=n.loading,g=o.loading;u.start?u.first+=g.first-g.start:(u.start=g.start,u.first=g.first),u.end=g.end}resetLoader(i,t){i.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function Q1(r,i=null){const t=i||r,n={frag:r,part:i,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},o=t.byteRangeStartOffset,c=t.byteRangeEndOffset;if(qn(o)&&qn(c)){var u;let g=o,A=c;if("initSegment"===r.sn&&"AES-128"===(null==(u=r.decryptdata)?void 0:u.method)){const U=c-o;U%16&&(A=c+(16-U%16)),0!==o&&(n.resetIV=!0,g=o-16)}n.rangeStart=g,n.rangeEnd=A}return n}function X1(r,i){const t=new Error(`GAP ${r.gap?"tag":"attribute"} found`),n={type:ri.MEDIA_ERROR,details:un.FRAG_GAP,fatal:!1,frag:r,error:t,networkDetails:null};return i&&(n.part=i),(i||r).stats.aborted=!0,new gl(n)}class gl extends Error{constructor(i){super(i.error.message),this.data=void 0,this.data=i}}class qP{constructor(i){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=i}abort(i){for(const t in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[t].loader;if(n){if(i&&i!==n.context.frag.type)return;n.abort()}}}detach(){for(const i in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[i];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[i]}}destroy(){this.detach();for(const i in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[i].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(i,t=un.KEY_LOAD_ERROR,n,o,c){return new gl({type:ri.NETWORK_ERROR,details:t,fatal:!1,frag:i,response:c,error:n,networkDetails:o})}loadClear(i,t){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:o}=i;for(let c=0;c<t.length;c++){const u=t[c];if(o<=u.cc&&("initSegment"===n||"initSegment"===u.sn||n<u.sn)){this.emeController.selectKeySystemFormat(u).then(g=>{u.setKeyFormat(g)});break}}}}load(i){return!i.decryptdata&&i.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(i).then(t=>this.loadInternal(i,t)):this.loadInternal(i)}loadInternal(i,t){var n,o;t&&i.setKeyFormat(t);const c=i.decryptdata;if(!c){const U=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(i,un.KEY_LOAD_ERROR,U))}const u=c.uri;if(!u)return Promise.reject(this.createKeyLoadError(i,un.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${u}"`)));let g=this.keyUriToKeyInfo[u];if(null!=(n=g)&&n.decryptdata.key)return c.key=g.decryptdata.key,Promise.resolve({frag:i,keyInfo:g});var A;if(null!=(o=g)&&o.keyLoadPromise)switch(null==(A=g.mediaKeySessionContext)?void 0:A.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return g.keyLoadPromise.then(U=>(c.key=U.keyInfo.decryptdata.key,{frag:i,keyInfo:g}))}switch(g=this.keyUriToKeyInfo[u]={decryptdata:c,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},c.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===c.keyFormat?this.loadKeyHTTP(g,i):this.loadKeyEME(g,i);case"AES-128":return this.loadKeyHTTP(g,i);default:return Promise.reject(this.createKeyLoadError(i,un.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${c.method}"`)))}}loadKeyEME(i,t){const n={frag:t,keyInfo:i};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(n);if(o)return(i.keyLoadPromise=o.then(c=>(i.mediaKeySessionContext=c,n))).catch(c=>{throw i.keyLoadPromise=null,c})}return Promise.resolve(n)}loadKeyHTTP(i,t){const n=this.config,c=new(0,n.loader)(n);return t.keyLoader=i.loader=c,i.keyLoadPromise=new Promise((u,g)=>{const A={keyInfo:i,frag:t,responseType:"arraybuffer",url:i.decryptdata.uri},U=n.keyLoadPolicy.default;c.load(A,{loadPolicy:U,timeout:U.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Pe,Ne,ze,Je)=>{const{frag:ct,keyInfo:Et,url:Ft}=ze;if(!ct.decryptdata||Et!==this.keyUriToKeyInfo[Ft])return g(this.createKeyLoadError(ct,un.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),Je));Et.decryptdata.key=ct.decryptdata.key=new Uint8Array(Pe.data),ct.keyLoader=null,Et.loader=null,u({frag:ct,keyInfo:Et})},onError:(Pe,Ne,ze,Je)=>{this.resetLoader(Ne),g(this.createKeyLoadError(t,un.KEY_LOAD_ERROR,new Error(`HTTP Error ${Pe.code} loading key ${Pe.text}`),ze,ao({url:A.url,data:void 0},Pe)))},onTimeout:(Pe,Ne,ze)=>{this.resetLoader(Ne),g(this.createKeyLoadError(t,un.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),ze))},onAbort:(Pe,Ne,ze)=>{this.resetLoader(Ne),g(this.createKeyLoadError(t,un.INTERNAL_ABORTED,new Error("key loading aborted"),ze))}})})}resetLoader(i){const{frag:t,keyInfo:n,url:o}=i,c=n.loader;t.keyLoader===c&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[o],c&&c.destroy()}}class JP{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(i){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,i),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const QP={length:0,start:()=>0,end:()=>0};class fr{static isBuffered(i,t){try{if(i){const n=fr.getBuffered(i);for(let o=0;o<n.length;o++)if(t>=n.start(o)&&t<=n.end(o))return!0}}catch{}return!1}static bufferInfo(i,t,n){try{if(i){const o=fr.getBuffered(i),c=[];let u;for(u=0;u<o.length;u++)c.push({start:o.start(u),end:o.end(u)});return this.bufferedInfo(c,t,n)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(i,t,n){t=Math.max(0,t),i.sort(function(U,Z){return U.start-Z.start||Z.end-U.end});let o=[];if(n)for(let U=0;U<i.length;U++){const Z=o.length;if(Z){const ce=o[Z-1].end;i[U].start-ce<n?i[U].end>ce&&(o[Z-1].end=i[U].end):o.push(i[U])}else o.push(i[U])}else o=i;let u,c=0,g=t,A=t;for(let U=0;U<o.length;U++){const Z=o[U].start,ce=o[U].end;if(t+n>=Z&&t<ce)g=Z,A=ce,c=A-t;else if(t+n<Z){u=Z;break}}return{len:c,start:g||0,end:A||0,nextStart:u}}static getBuffered(i){try{return i.buffered}catch(t){return Jt.log("failed to get media.buffered",t),QP}}}class Yx{constructor(i,t,n,o=0,c=-1,u=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=i,this.sn=t,this.id=n,this.size=o,this.part=c,this.partial=u}}function eI(r,i){let t=null;for(let n=0,o=r.length;n<o;n++){const c=r[n];if(c&&c.cc===i){t=c;break}}return t}function tI(r,i){if(r){const t=r.start+i;r.start=r.startPTS=t,r.endPTS=t+r.duration}}function Kx(r,i){const t=i.fragments;for(let n=0,o=t.length;n<o;n++)tI(t[n],r);i.fragmentHint&&tI(i.fragmentHint,r),i.alignedSliding=!0}function nI(r,i){if(!r.hasProgramDateTime||!i.hasProgramDateTime)return;const t=r.fragments,n=i.fragments;if(!t.length||!n.length)return;const c=n[Math.round(n.length/2)-1],u=eI(t,c.cc)||t[Math.round(t.length/2)-1],g=c.programDateTime,A=u.programDateTime;null!==g&&null!==A&&Kx((A-g)/1e3-(u.start-c.start),r)}class rR{constructor(i,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=t}decrypt(i,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,i)}}class oR{constructor(i,t){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class sR{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(i){const t=new DataView(i),n=new Uint32Array(4);for(let o=0;o<4;o++)n[o]=t.getUint32(4*o);return n}initTable(){const i=this.sBox,t=this.invSBox,n=this.subMix,o=n[0],c=n[1],u=n[2],g=n[3],A=this.invSubMix,U=A[0],Z=A[1],ce=A[2],Pe=A[3],Ne=new Uint32Array(256);let ze=0,Je=0,ct=0;for(ct=0;ct<256;ct++)Ne[ct]=ct<128?ct<<1:ct<<1^283;for(ct=0;ct<256;ct++){let Et=Je^Je<<1^Je<<2^Je<<3^Je<<4;Et=Et>>>8^255&Et^99,i[ze]=Et,t[Et]=ze;const Ft=Ne[ze],Lt=Ne[Ft],Qt=Ne[Lt];let qt=257*Ne[Et]^16843008*Et;o[ze]=qt<<24|qt>>>8,c[ze]=qt<<16|qt>>>16,u[ze]=qt<<8|qt>>>24,g[ze]=qt,qt=16843009*Qt^65537*Lt^257*Ft^16843008*ze,U[Et]=qt<<24|qt>>>8,Z[Et]=qt<<16|qt>>>16,ce[Et]=qt<<8|qt>>>24,Pe[Et]=qt,ze?(ze=Ft^Ne[Ne[Ne[Qt^Ft]]],Je^=Ne[Ne[Je]]):ze=Je=1}}expandKey(i){const t=this.uint8ArrayToUint32Array_(i);let n=!0,o=0;for(;o<t.length&&n;)n=t[o]===this.key[o],o++;if(n)return;this.key=t;const c=this.keySize=t.length;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size="+c);const u=this.ksRows=4*(c+6+1);let g,A;const U=this.keySchedule=new Uint32Array(u),Z=this.invKeySchedule=new Uint32Array(u),ce=this.sBox,Pe=this.rcon,Ne=this.invSubMix,ze=Ne[0],Je=Ne[1],ct=Ne[2],Et=Ne[3];let Ft,Lt;for(g=0;g<u;g++)g<c?Ft=U[g]=t[g]:(Lt=Ft,g%c==0?(Lt=Lt<<8|Lt>>>24,Lt=ce[Lt>>>24]<<24|ce[Lt>>>16&255]<<16|ce[Lt>>>8&255]<<8|ce[255&Lt],Lt^=Pe[g/c|0]<<24):c>6&&g%c==4&&(Lt=ce[Lt>>>24]<<24|ce[Lt>>>16&255]<<16|ce[Lt>>>8&255]<<8|ce[255&Lt]),U[g]=Ft=(U[g-c]^Lt)>>>0);for(A=0;A<u;A++)g=u-A,Lt=3&A?U[g]:U[g-4],Z[A]=A<4||g<=4?Lt:ze[ce[Lt>>>24]]^Je[ce[Lt>>>16&255]]^ct[ce[Lt>>>8&255]]^Et[ce[255&Lt]],Z[A]=Z[A]>>>0}networkToHostOrderSwap(i){return i<<24|(65280&i)<<8|(16711680&i)>>8|i>>>24}decrypt(i,t,n){const o=this.keySize+6,c=this.invKeySchedule,u=this.invSBox,g=this.invSubMix,A=g[0],U=g[1],Z=g[2],ce=g[3],Pe=this.uint8ArrayToUint32Array_(n);let Ne=Pe[0],ze=Pe[1],Je=Pe[2],ct=Pe[3];const Et=new Int32Array(i),Ft=new Int32Array(Et.length);let Lt,Qt,qt,fn,an,_n,wn,sn,Gn,Bn,oi,dr,Ai,On;const Ln=this.networkToHostOrderSwap;for(;t<Et.length;){for(Gn=Ln(Et[t]),Bn=Ln(Et[t+1]),oi=Ln(Et[t+2]),dr=Ln(Et[t+3]),an=Gn^c[0],_n=dr^c[1],wn=oi^c[2],sn=Bn^c[3],Ai=4,On=1;On<o;On++)Lt=A[an>>>24]^U[_n>>16&255]^Z[wn>>8&255]^ce[255&sn]^c[Ai],Qt=A[_n>>>24]^U[wn>>16&255]^Z[sn>>8&255]^ce[255&an]^c[Ai+1],qt=A[wn>>>24]^U[sn>>16&255]^Z[an>>8&255]^ce[255&_n]^c[Ai+2],fn=A[sn>>>24]^U[an>>16&255]^Z[_n>>8&255]^ce[255&wn]^c[Ai+3],an=Lt,_n=Qt,wn=qt,sn=fn,Ai+=4;Lt=u[an>>>24]<<24^u[_n>>16&255]<<16^u[wn>>8&255]<<8^u[255&sn]^c[Ai],Qt=u[_n>>>24]<<24^u[wn>>16&255]<<16^u[sn>>8&255]<<8^u[255&an]^c[Ai+1],qt=u[wn>>>24]<<24^u[sn>>16&255]<<16^u[an>>8&255]<<8^u[255&_n]^c[Ai+2],fn=u[sn>>>24]<<24^u[an>>16&255]<<16^u[_n>>8&255]<<8^u[255&wn]^c[Ai+3],Ft[t]=Ln(Lt^Ne),Ft[t+1]=Ln(fn^ze),Ft[t+2]=Ln(qt^Je),Ft[t+3]=Ln(Qt^ct),Ne=Gn,ze=Bn,Je=oi,ct=dr,t+=4}return Ft.buffer}}class Wx{constructor(i,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=i.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:i,remainderData:t}=this;if(!i||t)return this.reset(),null;const n=new Uint8Array(i);return this.reset(),this.removePKCS7Padding?function aR(r){const i=r.byteLength,t=i&&new DataView(r.buffer).getUint8(i-1);return t?pl(r,0,i-t):r}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(i,t,n){return this.useSoftware?new Promise((o,c)=>{this.softwareDecrypt(new Uint8Array(i),t,n);const u=this.flush();u?o(u.buffer):c(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(i),t,n)}softwareDecrypt(i,t,n){const{currentIV:o,currentResult:c,remainderData:u}=this;this.logOnce("JS AES decrypt"),u&&(i=Id(u,i),this.remainderData=null);const g=this.getValidChunk(i);if(!g.length)return null;o&&(n=o);let A=this.softwareDecrypter;A||(A=this.softwareDecrypter=new sR),A.expandKey(t);const U=c;return this.currentResult=A.decrypt(g.buffer,0,n),this.currentIV=pl(g,-16).buffer,U||null}webCryptoDecrypt(i,t,n){const o=this.subtle;return(this.key!==t||!this.fastAesKey)&&(this.key=t,this.fastAesKey=new oR(o,t)),this.fastAesKey.expandKey().then(c=>o?(this.logOnce("WebCrypto AES decrypt"),new rR(o,new Uint8Array(n)).decrypt(i.buffer,c)):Promise.reject(new Error("web crypto not initialized"))).catch(c=>(Jt.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${c.name}: ${c.message}`),this.onWebCryptoError(i,t,n)))}onWebCryptoError(i,t,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(i,t,n);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(i){let t=i;const n=i.length-i.length%16;return n!==i.length&&(t=pl(i,0,n),this.remainderData=pl(i,n)),t}logOnce(i){this.logEnabled&&(Jt.log(`[decrypter]: ${i}`),this.logEnabled=!1)}}class zx extends JP{constructor(i,t,n,o,c){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=c,this.logPrefix=o,this.log=Jt.log.bind(Jt,`${o}:`),this.warn=Jt.warn.bind(Jt,`${o}:`),this.hls=i,this.fragmentLoader=new $P(i.config),this.keyLoader=n,this.fragmentTracker=t,this.config=i.config,this.decrypter=new Wx(i.config),i.on(mt.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(i){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const i=this.fragCurrent;null!=i&&i.loader&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(i,t){if(t.live||i.nextStart||!i.end||!this.media)return!1;const n=t.partList;if(null!=n&&n.length){const c=n[n.length-1];return fr.isBuffered(this.media,c.start+c.duration/2)}return this.fragmentTracker.isEndListAppended(t.fragments[t.fragments.length-1].type)}getLevelDetails(){var i;if(this.levels&&null!==this.levelLastLoaded)return null==(i=this.levels[this.levelLastLoaded])?void 0:i.details}onMediaAttached(i,t){const n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const i=this.media;null!=i&&i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i&&this.onvseeking&&this.onvended&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:i,fragCurrent:t,media:n,mediaBuffer:o,state:c}=this,u=n?n.currentTime:0,g=fr.bufferInfo(o||n,u,i.maxBufferHole);if(this.log(`media seeking to ${qn(u)?u.toFixed(3):u}, state: ${c}`),"ENDED"===this.state)this.resetLoadingState();else if(t){const A=i.maxFragLookUpTolerance,U=t.start-A,Z=t.start+t.duration+A;if(!g.len||Z<g.start||U>g.end){const ce=u>Z;(u<U||ce)&&(ce&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(u,1/0,this.playlistType,!0),this.lastCurrentTime=u),!this.loadedmetadata&&!g.len&&(this.nextLoadPosition=this.startPosition=u),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(i,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(i,t,n){this._loadFragForPlayback(i,t,n)}_loadFragForPlayback(i,t,n){this._doFragLoad(i,t,n,c=>{if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${c.part?" p: "+c.part.index:""} of level ${i.level} was dropped during download.`),void this.fragmentTracker.removeFragment(i);i.stats.chunkCount++,this._handleFragmentLoadProgress(c)}).then(c=>{if(!c)return;const u=this.state;this.fragContextChanged(i)?("FRAG_LOADING"===u||!this.fragCurrent&&"PARSING"===u)&&(this.fragmentTracker.removeFragment(i),this.state="IDLE"):("payload"in c&&(this.log(`Loaded fragment ${i.sn} of level ${i.level}`),this.hls.trigger(mt.FRAG_LOADED,c)),this._handleFragmentLoadComplete(c))}).catch(c=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(c),this.resetFragmentLoading(i))})}clearTrackerIfNeeded(i){var t;const{fragmentTracker:n}=this;if("APPENDING"===n.getState(i)){const u=this.getFwdBufferInfo(this.mediaBuffer,i.type),g=Math.max(i.duration,u?u.len:this.config.maxBufferLength);this.reduceMaxBufferLength(g)&&n.removeFragment(i)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(i.type)&&(n.detectPartialFragments({frag:i,part:null,stats:i.stats,id:i.type}),"PARTIAL"===n.getState(i)&&n.removeFragment(i))}flushMainBuffer(i,t,n=null){i-t&&this.hls.trigger(mt.BUFFER_FLUSHING,{startOffset:i,endOffset:t,type:n})}_loadInitSegment(i,t){this._doFragLoad(i,t).then(n=>{if(!n||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:o}=this,{payload:c}=n,u=i.decryptdata;if(c&&c.byteLength>0&&u&&u.key&&u.iv&&"AES-128"===u.method){const g=self.performance.now();return this.decrypter.decrypt(new Uint8Array(c),u.key.buffer,u.iv.buffer).catch(A=>{throw o.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_DECRYPT_ERROR,fatal:!1,error:A,reason:A.message,frag:i}),A}).then(A=>{const U=self.performance.now();return o.trigger(mt.FRAG_DECRYPTED,{frag:i,payload:A,stats:{tstart:g,tdecrypt:U}}),n.payload=A,n})}return n}).then(n=>{const{fragCurrent:o,hls:c,levels:u}=this;if(!u)throw new Error("init load aborted, missing levels");const g=i.stats;this.state="IDLE",t.fragmentError=0,i.data=new Uint8Array(n.payload),g.parsing.start=g.buffering.start=self.performance.now(),g.parsing.end=g.buffering.end=self.performance.now(),n.frag===o&&c.trigger(mt.FRAG_BUFFERED,{stats:g,frag:o,part:null,id:i.type}),this.tick()}).catch(n=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(n),this.resetFragmentLoading(i))})}fragContextChanged(i){const{fragCurrent:t}=this;return!i||!t||i.level!==t.level||i.sn!==t.sn||i.urlId!==t.urlId}fragBufferedComplete(i,t){var n,o,c,u;const g=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${i.type} sn: ${i.sn}${t?" part: "+t.index:""} of ${"main"===this.playlistType?"level":"track"} ${i.level} (frag:[${(null!=(n=i.startPTS)?n:NaN).toFixed(3)}-${(null!=(o=i.endPTS)?o:NaN).toFixed(3)}] > buffer:${g?function(r){let i="";const t=r.length;for(let n=0;n<t;n++)i+=`[${r.start(n).toFixed(3)}-${r.end(n).toFixed(3)}]`;return i}(fr.getBuffered(g)):"(detached)"})`),this.state="IDLE",g&&(!this.loadedmetadata&&"main"==i.type&&g.buffered.length&&(null==(c=this.fragCurrent)?void 0:c.sn)===(null==(u=this.fragPrevious)?void 0:u.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(i){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:o,partsLoaded:c}=i,u=!c||0===c.length||c.some(A=>!A),g=new Yx(n.level,n.sn,n.stats.chunkCount+1,0,o?o.index:-1,!u);t.flush(g)}_handleFragmentLoadProgress(i){}_doFragLoad(i,t,n=null,o){var c;const u=t?.details;if(!this.levels||!u)throw new Error(`frag load aborted, missing level${u?"":" detail"}s`);let g=null;if(!i.encrypted||null!=(c=i.decryptdata)&&c.key?!i.encrypted&&u.encryptedFragments.length&&this.keyLoader.loadClear(i,u.encryptedFragments):(this.log(`Loading key for ${i.sn} of [${u.startSN}-${u.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${i.level}`),this.state="KEY_LOADING",this.fragCurrent=i,g=this.keyLoader.load(i).then(Z=>{if(!this.fragContextChanged(Z.frag))return this.hls.trigger(mt.KEY_LOADED,Z),"KEY_LOADING"===this.state&&(this.state="IDLE"),Z}),this.hls.trigger(mt.KEY_LOADING,{frag:i}),null===this.fragCurrent&&(g=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(i.start,n||0),this.config.lowLatencyMode&&"initSegment"!==i.sn){const Z=u.partList;if(Z&&o){n>i.end&&u.fragmentHint&&(i=u.fragmentHint);const ce=this.getNextPart(Z,i,n);if(ce>-1){const Pe=Z[ce];let Ne;return this.log(`Loading part sn: ${i.sn} p: ${Pe.index} cc: ${i.cc} of playlist [${u.startSN}-${u.endSN}] parts [0-${ce}-${Z.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=Pe.start+Pe.duration,this.state="FRAG_LOADING",Ne=g?g.then(ze=>!ze||this.fragContextChanged(ze.frag)?null:this.doFragPartsLoad(i,Pe,t,o)).catch(ze=>this.handleFragLoadError(ze)):this.doFragPartsLoad(i,Pe,t,o).catch(ze=>this.handleFragLoadError(ze)),this.hls.trigger(mt.FRAG_LOADING,{frag:i,part:Pe,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):Ne}if(!i.url||this.loadedEndOfParts(Z,n))return Promise.resolve(null)}}this.log(`Loading fragment ${i.sn} cc: ${i.cc} ${u?"of ["+u.startSN+"-"+u.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(n.toFixed(3))}`),qn(i.sn)&&!this.bitrateTest&&(this.nextLoadPosition=i.start+i.duration),this.state="FRAG_LOADING";const A=this.config.progressive;let U;return U=A&&g?g.then(Z=>!Z||this.fragContextChanged(Z?.frag)?null:this.fragmentLoader.load(i,o)).catch(Z=>this.handleFragLoadError(Z)):Promise.all([this.fragmentLoader.load(i,A?o:void 0),g]).then(([Z])=>(!A&&Z&&o&&o(Z),Z)).catch(Z=>this.handleFragLoadError(Z)),this.hls.trigger(mt.FRAG_LOADING,{frag:i,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):U}doFragPartsLoad(i,t,n,o){return new Promise((c,u)=>{var g;const A=[],U=null==(g=n.details)?void 0:g.partList,Z=ce=>{this.fragmentLoader.loadPart(i,ce,o).then(Pe=>{A[ce.index]=Pe;const Ne=Pe.part;this.hls.trigger(mt.FRAG_LOADED,Pe);const ze=K1(n,i.sn,ce.index+1)||W1(U,i.sn,ce.index+1);if(!ze)return c({frag:i,part:Ne,partsLoaded:A});Z(ze)}).catch(u)};Z(t)})}handleFragLoadError(i){if("data"in i){const t=i.data;i.data&&t.details===un.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(mt.ERROR,t)}else this.hls.trigger(mt.ERROR,{type:ri.OTHER_ERROR,details:un.INTERNAL_EXCEPTION,err:i,error:i,fatal:!0});return null}_handleTransmuxerFlush(i){const t=this.getCurrentContext(i);if(!t||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:n,part:o,level:c}=t,u=self.performance.now();n.stats.parsing.end=u,o&&(o.stats.parsing.end=u),this.updateLevelTiming(n,o,c,i.partial)}getCurrentContext(i){const{levels:t,fragCurrent:n}=this,{level:o,sn:c,part:u}=i;if(null==t||!t[o])return this.warn(`Levels object was unset while buffering fragment ${c} of level ${o}. The current chunk will not be buffered.`),null;const g=t[o],A=u>-1?K1(g,c,u):null,U=A?A.fragment:function UP(r,i,t){if(null==r||!r.details)return null;const n=r.details;let o=n.fragments[i-n.startSN];return o||(o=n.fragmentHint,o&&o.sn===i)?o:i<n.startSN&&t&&t.sn===i?t:null}(g,c,n);return U?(n&&n!==U&&(U.stats=n.stats),{frag:U,part:A,level:g}):null}bufferFragmentData(i,t,n,o,c){var u;if(!i||"PARSING"!==this.state)return;const{data1:g,data2:A}=i;let U=g;if(g&&A&&(U=Id(g,A)),null!=(u=U)&&u.length&&(this.hls.trigger(mt.BUFFER_APPENDING,{type:i.type,frag:t,part:n,chunkMeta:o,parent:t.type,data:U}),i.dropped&&i.independent&&!n)){if(c)return;this.flushBufferGap(t)}}flushBufferGap(i){const t=this.media;if(!t)return;if(!fr.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,i.start);const n=t.currentTime,o=fr.bufferInfo(t,n,0),u=Math.min(2*this.config.maxFragLookUpTolerance,.25*i.duration),g=Math.max(Math.min(i.start-u,o.end-u),n+u);i.start-g>u&&this.flushMainBuffer(g,i.start)}getFwdBufferInfo(i,t){const n=this.getLoadPosition();return qn(n)?this.getFwdBufferInfoAtPos(i,n,t):null}getFwdBufferInfoAtPos(i,t,n){const{config:{maxBufferHole:o}}=this,c=fr.bufferInfo(i,t,o);if(0===c.len&&void 0!==c.nextStart){const u=this.fragmentTracker.getBufferedFrag(t,n);if(u&&c.nextStart<u.end)return fr.bufferInfo(i,t,Math.max(c.nextStart,o))}return c}getMaxBufferLength(i){const{config:t}=this;let n;return n=i?Math.max(8*t.maxBufferSize/i,t.maxBufferLength):t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(i){const t=this.config;return t.maxMaxBufferLength>=(i||t.maxBufferLength)&&(t.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${t.maxMaxBufferLength}s`),!0)}getAppendedFrag(i,t="main"){const n=this.fragmentTracker.getAppendedFrag(i,"main");return n&&"fragment"in n?n.fragment:n}getNextFragment(i,t){const n=t.fragments,o=n.length;if(!o)return null;const{config:c}=this,u=n[0].start;let g;if(t.live){const A=c.initialLiveManifestSize;if(o<A)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${A})`),null;!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(g=this.getInitialLiveFragment(t,n),this.startPosition=g?this.hls.liveSyncPosition||g.start:i)}else i<=u&&(g=n[0]);return g||(g=this.getFragmentAtPosition(i,c.lowLatencyMode?t.partEnd:t.fragmentEnd,t)),this.mapToInitFragWhenRequired(g)}isLoopLoading(i,t){const n=this.fragmentTracker.getState(i);return("OK"===n||"PARTIAL"===n&&!!i.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(i,t,n,o,c){const u=i.gap,g=this.getNextFragment(this.nextLoadPosition,t);if(null===g)return g;if(i=g,u&&i&&!i.gap&&n.nextStart){const A=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,o);if(null!==A&&n.len+A.len>=c)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${i.sn}`),null}return i}mapToInitFragWhenRequired(i){return null==i||!i.initSegment||null!=i&&i.initSegment.data||this.bitrateTest?i:i.initSegment}getNextPart(i,t,n){let o=-1,c=!1,u=!0;for(let g=0,A=i.length;g<A;g++){const U=i[g];if(u=u&&!U.independent,o>-1&&n<U.start)break;const Z=U.loaded;Z?o=-1:(c||U.independent||u)&&U.fragment===t&&(o=g),c=Z}return o}loadedEndOfParts(i,t){const n=i[i.length-1];return n&&t>n.start&&n.loaded}getInitialLiveFragment(i,t){const n=this.fragPrevious;let o=null;if(n){if(i.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),o=function jP(r,i,t){if(null===i||!Array.isArray(r)||!r.length||!qn(i))return null;if(i<(r[0].programDateTime||0))return null;if(i>=(r[r.length-1].endProgramDateTime||0))return null;t=t||0;for(let c=0;c<r.length;++c){const u=r[c];if(GP(i,t,u))return u}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const c=n.sn+1;if(c>=i.startSN&&c<=i.endSN){const u=t[c-i.startSN];n.cc===u.cc&&(o=u,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function HP(r,i){return $1.search(r,t=>t.cc<i?1:t.cc>i?-1:0)}(t,n.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const c=this.hls.liveSyncPosition;null!==c&&(o=this.getFragmentAtPosition(c,this.bitrateTest?i.fragmentEnd:i.edge,i))}return o}getFragmentAtPosition(i,t,n){const{config:o}=this;let{fragPrevious:c}=this,{fragments:u,endSN:g}=n;const{fragmentHint:A}=n,U=o.maxFragLookUpTolerance,Z=n.partList,ce=!!(o.lowLatencyMode&&null!=Z&&Z.length&&A);let Pe;if(ce&&A&&!this.bitrateTest&&(u=u.concat(A),g=A.sn),Pe=i<t?Vp(c,u,i,i>t-U?0:U):u[u.length-1],Pe){const Ne=Pe.sn-n.startSN,ze=this.fragmentTracker.getState(Pe);if(("OK"===ze||"PARTIAL"===ze&&Pe.gap)&&(c=Pe),c&&Pe.sn===c.sn&&(!ce||Z[0].fragment.sn>Pe.sn)&&c&&Pe.level===c.level){const ct=u[Ne+1];Pe=Pe.sn<g&&"OK"!==this.fragmentTracker.getState(ct)?ct:null}}return Pe}synchronizeToLiveEdge(i){const{config:t,media:n}=this;if(!n)return;const o=this.hls.liveSyncPosition,c=n.currentTime,g=i.edge,A=c>=i.fragments[0].start-t.maxFragLookUpTolerance&&c<=g;null!==o&&n.duration>o&&(c<o||!A)&&(!A&&n.readyState<4||c<g-(void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*i.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),n.readyState&&(this.warn(`Playback: ${c.toFixed(3)} is located too far from the end of live sliding playlist: ${g}, reset currentTime to : ${o.toFixed(3)}`),n.currentTime=o))}alignPlaylists(i,t){const{levels:n,levelLastLoaded:o,fragPrevious:c}=this,u=null!==o?n[o]:null,g=i.fragments.length;if(!g)return this.warn("No fragments in live playlist"),0;const A=i.fragments[0].start,U=!t,Z=i.alignedSliding&&qn(A);if(U||!Z&&!A){!function tR(r,i,t){i&&(function nR(r,i,t){if(function XP(r,i,t){return!(!i.details||!(t.endCC>t.startCC||r&&r.cc<t.startCC))}(r,t,i)){const n=function eR(r,i,t=0){const n=r.fragments,o=i.fragments;if(!o.length||!n.length)return void Jt.log("No fragments to align");const c=eI(n,o[0].cc);if(c&&(!c||c.startPTS))return c;Jt.log("No frag in previous level to align on")}(t.details,i);n&&qn(n.start)&&(Jt.log(`Adjusting PTS using last level due to CC increase within current level ${i.url}`),Kx(n.start,i))}}(r,t,i),!t.alignedSliding&&i.details&&function iR(r,i){if(!i.fragments.length||!r.hasProgramDateTime||!i.hasProgramDateTime)return;const t=i.fragments[0].programDateTime,n=r.fragments[0].programDateTime,o=(n-t)/1e3+i.fragments[0].start;o&&qn(o)&&(Jt.log(`Adjusting PTS using programDateTime delta ${n-t}ms, sliding:${o.toFixed(3)} ${r.url} `),Kx(o,r))}(t,i.details),!t.alignedSliding&&i.details&&!t.skippedSegments&&Y1(i.details,t))}(c,u,i);const ce=i.fragments[0].start;return this.log(`Live playlist sliding: ${ce.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${i.startSN} prev-sn: ${c?c.sn:"na"} fragments: ${g}`),ce}return A}waitForCdnTuneIn(i){return i.live&&i.canBlockReload&&i.partTarget&&i.tuneInGoal>Math.max(i.partHoldBack,3*i.partTarget)}setStartPosition(i,t){let n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,c=o?this.startTimeOffset:i.startTimeOffset;null!==c&&qn(c)?(n=t+c,c<0&&(n+=i.totalduration),n=Math.min(Math.max(t,n),t+i.totalduration),this.log(`Start time offset ${c} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):i.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:i}=this;let t=0;return this.loadedmetadata&&i?t=i.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(i,t){this.transmuxer&&"initSegment"!==i.sn&&i.stats.aborted&&(this.warn(`Fragment ${i.sn}${t?" part "+t.index:""} of level ${i.level} was aborted`),this.resetFragmentLoading(i))}resetFragmentLoading(i){(!this.fragCurrent||!this.fragContextChanged(i)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(i,t){if(t.chunkMeta&&!t.frag){const ce=this.getCurrentContext(t.chunkMeta);ce&&(t.frag=ce.frag)}const n=t.frag;if(!n||n.type!==i||!this.levels)return;var o;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const c=t.details===un.FRAG_GAP;c&&this.fragmentTracker.fragBuffered(n,!0);const u=t.errorAction,{action:g,retryCount:A=0,retryConfig:U}=u||{};if(u&&5===g&&U){var Z;this.resetStartWhenNotLoaded(null!=(Z=this.levelLastLoaded)?Z:n.level);const ce=Vx(U,A);this.warn(`Fragment ${n.sn} of ${i} ${n.level} errored with ${t.details}, retrying loading ${A+1}/${U.maxNumRetry} in ${ce}ms`),u.resolved=!0,this.retryDate=self.performance.now()+ce,this.state="FRAG_LOADING_WAITING_RETRY"}else U&&u?(this.resetFragmentErrors(i),A<U.maxNumRetry?c||(u.resolved=!0):Jt.warn(`${t.details} reached or exceeded max retry (${A})`)):this.state=2===u?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(i){if("PARSING"===this.state||"PARSED"===this.state){const t=i.parent,n=this.getFwdBufferInfo(this.mediaBuffer,t),o=n&&n.len>.5;o&&this.reduceMaxBufferLength(n.len);const c=!o;return c&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${t} buffer`),i.frag&&(this.fragmentTracker.removeFragment(i.frag),this.nextLoadPosition=i.frag.start),this.resetLoadingState(),c}return!1}resetFragmentErrors(i){"audio"===i&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(i,t,n){if(!i)return;const o=fr.getBuffered(i);this.fragmentTracker.detectEvictedFragments(t,o,n),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(i){if(!this.loadedmetadata){this.startFragRequested=!1;const t=this.levels?this.levels[i].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(i){var t;this.warn(`The loading context changed while buffering fragment ${i.sn} of level ${i.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(t=this.levelLastLoaded)?t:i.level),this.resetLoadingState()}removeUnbufferedFrags(i=0){this.fragmentTracker.removeFragmentsInRange(i,1/0,this.playlistType,!1,!0)}updateLevelTiming(i,t,n,o){var c;const u=n.details;if(u){if(Object.keys(i.elementaryStreams).reduce((A,U)=>{const Z=i.elementaryStreams[U];if(Z){const ce=Z.endPTS-Z.startPTS;if(ce<=0)return this.warn(`Could not parse fragment ${i.sn} ${U} duration reliably (${ce})`),A||!1;const Pe=o?0:H1(u,i,Z.startPTS,Z.endPTS,Z.startDTS,Z.endDTS);return this.hls.trigger(mt.LEVEL_PTS_UPDATED,{details:u,level:n,drift:Pe,type:U,frag:i,start:Z.startPTS,end:Z.endPTS}),!0}return A},!1))n.fragmentError=0;else if(null===(null==(c=this.transmuxer)?void 0:c.error)){const A=new Error(`Found no media in fragment ${i.sn} of level ${i.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,i.gap=!0,this.fragmentTracker.removeFragment(i),this.fragmentTracker.fragBuffered(i,!0)),this.warn(A.message),this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_PARSING_ERROR,fatal:!1,error:A,frag:i,reason:`Found no media in msn ${i.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(mt.FRAG_PARSED,{frag:i,part:t})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(i){var t,n,o;"demuxerWorker"===i.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(t=null!=(n=this.levelLastLoaded)?n:null==(o=this.fragCurrent)?void 0:o.level)?t:0),this.resetLoadingState())}set state(i){const t=this._state;t!==i&&(this._state=i,this.log(`${t}->${i}`))}get state(){return this._state}}function iI(){return self.SourceBuffer||self.WebKitSourceBuffer}function Es(r="",i=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:i,sequenceNumber:-1,samples:[],dropped:0}}class rI{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(i,t,n,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(i){this.initPTS=i,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(i,t){return!1}appendFrame(i,t,n){}demux(i,t){this.cachedData&&(i=Id(this.cachedData,i),this.cachedData=null);let c,n=d(i,0),o=n?n.length:0;const u=this._audioTrack,g=this._id3Track,A=n?(r=>{const i=ye(r);for(let t=0;t<i.length;t++){const n=i[t];if(j(n))return Ht(n)}})(n):void 0,U=i.length;for((null===this.basePTS||0===this.frameIndex&&qn(A))&&(this.basePTS=pR(A,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&g.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<U;){if(this.canParse(i,o)){const Z=this.appendFrame(u,i,o);Z?(this.frameIndex++,this.lastPTS=Z.sample.pts,o+=Z.length,c=o):o=U}else _(i,o)?(n=d(i,o),g.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=n.length,c=o):o++;if(o===U&&c!==U){const Z=pl(i,c);this.cachedData=this.cachedData?Id(this.cachedData,Z):Z}}return{audioTrack:u,videoTrack:Es(),id3Track:g,textTrack:Es()}}demuxSampleAes(i,t,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(i){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Es(),id3Track:this._id3Track,textTrack:Es()}}destroy(){}}const pR=(r,i,t)=>qn(r)?90*r:9e4*i+(t?9e4*t.baseTime/t.timescale:0);function oI(r,i){return 255===r[i]&&240==(246&r[i+1])}function aI(r,i){return 1&r[i+1]?7:9}function Zx(r,i){return(3&r[i+3])<<11|r[i+4]<<3|(224&r[i+5])>>>5}function Q0(r,i){return i+1<r.length&&oI(r,i)}function yR(r,i){if(Q0(r,i)){const t=aI(r,i);if(i+t>=r.length)return!1;const n=Zx(r,i);if(n<=t)return!1;const o=i+n;return o===r.length||Q0(r,o)}return!1}function sI(r,i,t,n,o){if(!r.samplerate){const c=function gR(r,i,t,n){let o,c,u,g;const A=navigator.userAgent.toLowerCase(),U=n,Z=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&i[t+2])>>>6);const ce=(60&i[t+2])>>>2;if(!(ce>Z.length-1))return u=(1&i[t+2])<<2,u|=(192&i[t+3])>>>6,Jt.log(`manifest codec:${n}, ADTS type:${o}, samplingIndex:${ce}`),/firefox/i.test(A)?ce>=6?(o=5,g=new Array(4),c=ce-3):(o=2,g=new Array(2),c=ce):-1!==A.indexOf("android")?(o=2,g=new Array(2),c=ce):(o=5,g=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&ce>=6?c=ce-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(ce>=6&&1===u||/vivaldi/i.test(A))||!n&&1===u)&&(o=2,g=new Array(2)),c=ce)),g[0]=o<<3,g[0]|=(14&ce)>>1,g[1]|=(1&ce)<<7,g[1]|=u<<3,5===o&&(g[1]|=(14&c)>>1,g[2]=(1&c)<<7,g[2]|=8,g[3]=0),{config:g,samplerate:Z[ce],channelCount:u,codec:"mp4a.40."+o,manifestCodec:U};r.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${ce}`})}(i,t,n,o);if(!c)return;r.config=c.config,r.samplerate=c.samplerate,r.channelCount=c.channelCount,r.codec=c.codec,r.manifestCodec=c.manifestCodec,Jt.log(`parsed codec:${r.codec}, rate:${c.samplerate}, channels:${c.channelCount}`)}}function lI(r){return 9216e4/r}function cI(r,i,t,n,o){const u=n+o*lI(r.samplerate),g=function bR(r,i){const t=aI(r,i);if(i+t<=r.length){const n=Zx(r,i)-t;if(n>0)return{headerLength:t,frameLength:n}}}(i,t);let A;if(g){const{frameLength:ce,headerLength:Pe}=g,Ne=Pe+ce,ze=Math.max(0,t+Ne-i.length);ze?(A=new Uint8Array(Ne-Pe),A.set(i.subarray(t+Pe,i.length),0)):A=i.subarray(t+Pe,t+Ne);const Je={unit:A,pts:u};return ze||r.samples.push(Je),{sample:Je,length:Ne,missing:ze}}const U=i.length-t;return A=new Uint8Array(U),A.set(i.subarray(t,i.length),0),{sample:{unit:A,pts:u},length:U,missing:-1}}const TR=/\/emsg[-/]ID3/i;let X0=null;const SR=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],DR=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],xR=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],MR=[0,1,1,4];function dI(r,i,t,n,o){if(t+24>i.length)return;const c=uI(i,t);if(c&&t+c.frameLength<=i.length){const g=n+o*(9e4*c.samplesPerFrame/c.sampleRate),A={unit:i.subarray(t,t+c.frameLength),pts:g,dts:g};return r.config=[],r.channelCount=c.channelCount,r.samplerate=c.sampleRate,r.samples.push(A),{sample:A,length:c.frameLength,missing:0}}}function uI(r,i){const t=r[i+1]>>3&3,n=r[i+1]>>1&3,o=r[i+2]>>4&15,c=r[i+2]>>2&3;if(1!==t&&0!==o&&15!==o&&3!==c){const g=r[i+3]>>6,U=1e3*SR[14*(3===t?3-n:3===n?3:4)+o-1],ce=DR[3*(3===t?0:2===t?1:2)+c],Pe=3===g?1:2,Ne=xR[t][n],ze=MR[n],Je=8*Ne*ze,ct=Math.floor(Ne*U/ce+(r[i+2]>>1&1))*ze;if(null===X0){const Lt=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);X0=Lt?parseInt(Lt[1]):0}return!!X0&&X0<=87&&2===n&&U>=224e3&&0===g&&(r[i+3]=128|r[i+3]),{sampleRate:ce,channelCount:Pe,frameLength:ct,samplesPerFrame:Je}}}function $x(r,i){return 255===r[i]&&224==(224&r[i+1])&&0!=(6&r[i+1])}function fI(r,i){return i+1<r.length&&$x(r,i)}function wR(r,i){if(i+1<r.length&&$x(r,i)){const n=uI(r,i);let o=4;null!=n&&n.frameLength&&(o=n.frameLength);const c=i+o;return c===r.length||fI(r,c)}return!1}class hI{constructor(i){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=i,this.bytesAvailable=i.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const i=this.data,t=this.bytesAvailable,n=i.byteLength-t,o=new Uint8Array(4),c=Math.min(4,t);if(0===c)throw new Error("no bytes available");o.set(i.subarray(n,n+c)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*c,this.bytesAvailable-=c}skipBits(i){let t;i=Math.min(i,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>i?(this.word<<=i,this.bitsAvailable-=i):(t=(i-=this.bitsAvailable)>>3,i-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=i,this.bitsAvailable-=i)}readBits(i){let t=Math.min(this.bitsAvailable,i);const n=this.word>>>32-t;if(i>32&&Jt.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=i-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let i;for(i=0;i<this.bitsAvailable;++i)if(this.word&2147483648>>>i)return this.word<<=i,this.bitsAvailable-=i,i;return this.loadWord(),i+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const i=this.skipLZ();return this.readBits(i+1)-1}readEG(){const i=this.readUEG();return 1&i?1+i>>>1:-1*(i>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(i){let o,t=8,n=8;for(let c=0;c<i;c++)0!==n&&(o=this.readEG(),n=(t+o+256)%256),t=0===n?t:n}readSPS(){let c,u,g,i=0,t=0,n=0,o=0;const A=this.readUByte.bind(this),U=this.readBits.bind(this),Z=this.readUEG.bind(this),ce=this.readBoolean.bind(this),Pe=this.skipBits.bind(this),Ne=this.skipEG.bind(this),ze=this.skipUEG.bind(this),Je=this.skipScalingList.bind(this);A();const ct=A();if(U(5),Pe(3),A(),ze(),100===ct||110===ct||122===ct||244===ct||44===ct||83===ct||86===ct||118===ct||128===ct){const fn=Z();if(3===fn&&Pe(1),ze(),ze(),Pe(1),ce())for(u=3!==fn?8:12,g=0;g<u;g++)ce()&&Je(g<6?16:64)}ze();const Et=Z();if(0===Et)Z();else if(1===Et)for(Pe(1),Ne(),Ne(),c=Z(),g=0;g<c;g++)Ne();ze(),Pe(1);const Ft=Z(),Lt=Z(),Qt=U(1);0===Qt&&Pe(1),Pe(1),ce()&&(i=Z(),t=Z(),n=Z(),o=Z());let qt=[1,1];if(ce()&&ce())switch(A()){case 1:qt=[1,1];break;case 2:qt=[12,11];break;case 3:qt=[10,11];break;case 4:qt=[16,11];break;case 5:qt=[40,33];break;case 6:qt=[24,11];break;case 7:qt=[20,11];break;case 8:qt=[32,11];break;case 9:qt=[80,33];break;case 10:qt=[18,11];break;case 11:qt=[15,11];break;case 12:qt=[64,33];break;case 13:qt=[160,99];break;case 14:qt=[4,3];break;case 15:qt=[3,2];break;case 16:qt=[2,1];break;case 255:qt=[A()<<8|A(),A()<<8|A()]}return{width:Math.ceil(16*(Ft+1)-2*i-2*t),height:(2-Qt)*(Lt+1)*16-(Qt?2:4)*(n+o),pixelRatio:qt}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class IR{constructor(i,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Wx(t,{removePKCS7Padding:!1})}decryptBuffer(i){return this.decrypter.decrypt(i,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(i,t,n){const o=i[t].unit;if(o.length<=16)return;const c=o.subarray(16,o.length-o.length%16),u=c.buffer.slice(c.byteOffset,c.byteOffset+c.length);this.decryptBuffer(u).then(g=>{const A=new Uint8Array(g);o.set(A,16),this.decrypter.isSync()||this.decryptAacSamples(i,t+1,n)})}decryptAacSamples(i,t,n){for(;;t++){if(t>=i.length)return void n();if(!(i[t].unit.length<32||(this.decryptAacSample(i,t,n),this.decrypter.isSync())))return}}getAvcEncryptedData(i){const t=16*Math.floor((i.length-48)/160)+16,n=new Int8Array(t);let o=0;for(let c=32;c<i.length-16;c+=160,o+=16)n.set(i.subarray(c,c+16),o);return n}getAvcDecryptedUnit(i,t){const n=new Uint8Array(t);let o=0;for(let c=32;c<i.length-16;c+=160,o+=16)i.set(n.subarray(o,o+16),c);return i}decryptAvcSample(i,t,n,o,c){const u=D1(c.data),g=this.getAvcEncryptedData(u);this.decryptBuffer(g.buffer).then(A=>{c.data=this.getAvcDecryptedUnit(u,A),this.decrypter.isSync()||this.decryptAvcSamples(i,t,n+1,o)})}decryptAvcSamples(i,t,n,o){if(i instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=i.length)return void o();const c=i[t].units;for(;!(n>=c.length);n++){const u=c[n];if(!(u.data.length<=48||1!==u.type&&5!==u.type||(this.decryptAvcSample(i,t,n,o,u),this.decrypter.isSync())))return}}}}const Ao=188;class _c{constructor(i,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=i,this.config=t,this.typeSupported=n}static probe(i){const t=_c.syncOffset(i);return t>0&&Jt.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),-1!==t}static syncOffset(i){const t=i.length;let n=Math.min(940,i.length-Ao)+1,o=0;for(;o<n;){let c=!1,u=-1,g=0;for(let A=o;A<t;A+=Ao){if(71!==i[A]){if(g)return-1;break}if(g++,-1===u&&(u=A,0!==u&&(n=Math.min(u+18612,i.length-Ao)+1)),c||(c=0===qx(i,A)),c&&g>1&&(0===u&&g>2||A+Ao>n))return u}o++}return-1}static createTrack(i,t){return{container:"video"===i||"audio"===i?"video/mp2t":void 0,type:i,id:li[i],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===i?t:void 0}}resetInitSegment(i,t,n,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=_c.createTrack("video"),this._audioTrack=_c.createTrack("audio",o),this._id3Track=_c.createTrack("id3"),this._txtTrack=_c.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:i,_avcTrack:t,_id3Track:n}=this;i&&(i.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(i,t,n=!1,o=!1){let c;n||(this.sampleAes=null);const u=this._avcTrack,g=this._audioTrack,A=this._id3Track,U=this._txtTrack;let Z=u.pid,ce=u.pesData,Pe=g.pid,Ne=A.pid,ze=g.pesData,Je=A.pesData,ct=null,Et=this.pmtParsed,Ft=this._pmtId,Lt=i.length;if(this.remainderData&&(Lt=(i=Id(this.remainderData,i)).length,this.remainderData=null),Lt<Ao&&!o)return this.remainderData=i,{audioTrack:g,videoTrack:u,id3Track:A,textTrack:U};const Qt=Math.max(0,_c.syncOffset(i));Lt-=(Lt-Qt)%Ao,Lt<i.byteLength&&!o&&(this.remainderData=new Uint8Array(i.buffer,Lt,i.buffer.byteLength-Lt));let qt=0;for(let an=Qt;an<Lt;an+=Ao)if(71===i[an]){const _n=!!(64&i[an+1]),wn=qx(i,an);let Gn;if((48&i[an+3])>>4>1){if(Gn=an+5+i[an+4],Gn===an+Ao)continue}else Gn=an+4;switch(wn){case Z:_n&&(ce&&(c=Of(ce))&&this.parseAVCPES(u,U,c,!1),ce={data:[],size:0}),ce&&(ce.data.push(i.subarray(Gn,an+Ao)),ce.size+=an+Ao-Gn);break;case Pe:if(_n){if(ze&&(c=Of(ze)))switch(g.segmentCodec){case"aac":this.parseAACPES(g,c);break;case"mp3":this.parseMPEGPES(g,c)}ze={data:[],size:0}}ze&&(ze.data.push(i.subarray(Gn,an+Ao)),ze.size+=an+Ao-Gn);break;case Ne:_n&&(Je&&(c=Of(Je))&&this.parseID3PES(A,c),Je={data:[],size:0}),Je&&(Je.data.push(i.subarray(Gn,an+Ao)),Je.size+=an+Ao-Gn);break;case 0:_n&&(Gn+=i[Gn]+1),Ft=this._pmtId=OR(i,Gn);break;case Ft:{_n&&(Gn+=i[Gn]+1);const Bn=PR(i,Gn,this.typeSupported,n);Z=Bn.avc,Z>0&&(u.pid=Z),Pe=Bn.audio,Pe>0&&(g.pid=Pe,g.segmentCodec=Bn.segmentCodec),Ne=Bn.id3,Ne>0&&(A.pid=Ne),null!==ct&&!Et&&(Jt.warn(`MPEG-TS PMT found at ${an} after unknown PID '${ct}'. Backtracking to sync byte @${Qt} to parse all TS packets.`),ct=null,an=Qt-188),Et=this.pmtParsed=!0;break}case 17:case 8191:break;default:ct=wn}}else qt++;if(qt>0){const an=new Error(`Found ${qt} TS packet/s that do not start with 0x47`);this.observer.emit(mt.ERROR,mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_PARSING_ERROR,fatal:!1,error:an,reason:an.message})}u.pesData=ce,g.pesData=ze,A.pesData=Je;const fn={audioTrack:g,videoTrack:u,id3Track:A,textTrack:U};return o&&this.extractRemainingSamples(fn),fn}flush(){const{remainderData:i}=this;let t;return this.remainderData=null,t=i?this.demux(i,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(i){const{audioTrack:t,videoTrack:n,id3Track:o,textTrack:c}=i,u=n.pesData,g=t.pesData,A=o.pesData;let U;if(u&&(U=Of(u))?(this.parseAVCPES(n,c,U,!0),n.pesData=null):n.pesData=u,g&&(U=Of(g))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,U);break;case"mp3":this.parseMPEGPES(t,U)}t.pesData=null}else null!=g&&g.size&&Jt.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=g;A&&(U=Of(A))?(this.parseID3PES(o,U),o.pesData=null):o.pesData=A}demuxSampleAes(i,t,n){const o=this.demux(i,n,!0,!this.config.progressive),c=this.sampleAes=new IR(this.observer,this.config,t);return this.decrypt(o,c)}decrypt(i,t){return new Promise(n=>{const{audioTrack:o,videoTrack:c}=i;o.samples&&"aac"===o.segmentCodec?t.decryptAacSamples(o.samples,0,()=>{c.samples?t.decryptAvcSamples(c.samples,0,0,()=>{n(i)}):n(i)}):c.samples&&t.decryptAvcSamples(c.samples,0,0,()=>{n(i)})})}destroy(){this._duration=0}parseAVCPES(i,t,n,o){const c=this.parseAVCNALu(i,n.data);let g,u=this.avcSample,A=!1;n.data=null,u&&c.length&&!i.audFound&&(jp(u,i),u=this.avcSample=eb(!1,n.pts,n.dts,"")),c.forEach(U=>{var Z;switch(U.type){case 1:{let Pe=!1;g=!0;const Ne=U.data;if(A&&Ne.length>4){const ze=new hI(Ne).readSliceType();(2===ze||4===ze||7===ze||9===ze)&&(Pe=!0)}var ce;Pe&&null!=(ce=u)&&ce.frame&&!u.key&&(jp(u,i),u=this.avcSample=null),u||(u=this.avcSample=eb(!0,n.pts,n.dts,"")),u.frame=!0,u.key=Pe;break}case 5:g=!0,null!=(Z=u)&&Z.frame&&!u.key&&(jp(u,i),u=this.avcSample=null),u||(u=this.avcSample=eb(!0,n.pts,n.dts,"")),u.key=!0,u.frame=!0;break;case 6:g=!0,S1(U.data,1,n.pts,t.samples);break;case 7:if(g=!0,A=!0,!i.sps){const Pe=U.data,ze=new hI(Pe).readSPS();i.width=ze.width,i.height=ze.height,i.pixelRatio=ze.pixelRatio,i.sps=[Pe],i.duration=this._duration;const Je=Pe.subarray(1,4);let ct="avc1.";for(let Et=0;Et<3;Et++){let Ft=Je[Et].toString(16);Ft.length<2&&(Ft="0"+Ft),ct+=Ft}i.codec=ct}break;case 8:g=!0,i.pps||(i.pps=[U.data]);break;case 9:g=!1,i.audFound=!0,u&&jp(u,i),u=this.avcSample=eb(!1,n.pts,n.dts,"");break;case 12:g=!0;break;default:g=!1,u&&(u.debug+="unknown NAL "+U.type+" ")}u&&g&&u.units.push(U)}),o&&u&&(jp(u,i),this.avcSample=null)}getLastNalUnit(i){var t;let o,n=this.avcSample;if((!n||0===n.units.length)&&(n=i[i.length-1]),null!=(t=n)&&t.units){const c=n.units;o=c[c.length-1]}return o}parseAVCNALu(i,t){const n=t.byteLength;let o=i.naluState||0;const c=o,u=[];let A,U,Z,g=0,ce=-1,Pe=0;for(-1===o&&(ce=0,Pe=31&t[0],o=0,g=1);g<n;)if(A=t[g++],o)if(1!==o)if(A)if(1===A){if(ce>=0){const Ne={data:t.subarray(ce,g-o-1),type:Pe};u.push(Ne)}else{const Ne=this.getLastNalUnit(i.samples);if(Ne&&(c&&g<=4-c&&Ne.state&&(Ne.data=Ne.data.subarray(0,Ne.data.byteLength-c)),U=g-o-1,U>0)){const ze=new Uint8Array(Ne.data.byteLength+U);ze.set(Ne.data,0),ze.set(t.subarray(0,U),Ne.data.byteLength),Ne.data=ze,Ne.state=0}}g<n?(Z=31&t[g],ce=g,Pe=Z,o=0):o=-1}else o=0;else o=3;else o=A?0:2;else o=A?0:1;if(ce>=0&&o>=0){const Ne={data:t.subarray(ce,n),type:Pe,state:o};u.push(Ne)}if(0===u.length){const Ne=this.getLastNalUnit(i.samples);if(Ne){const ze=new Uint8Array(Ne.data.byteLength+t.byteLength);ze.set(Ne.data,0),ze.set(t,Ne.data.byteLength),Ne.data=ze}}return i.naluState=o,u}parseAACPES(i,t){let n=0;const o=this.aacOverFlow;let u,g,A,c=t.data;if(o){this.aacOverFlow=null;const ce=o.missing,Pe=o.sample.unit.byteLength;if(-1===ce){const Ne=new Uint8Array(Pe+c.byteLength);Ne.set(o.sample.unit,0),Ne.set(c,Pe),c=Ne}else{const Ne=Pe-ce;o.sample.unit.set(c.subarray(0,ce),Ne),i.samples.push(o.sample),n=o.missing}}for(u=n,g=c.length;u<g-1&&!Q0(c,u);u++);if(u!==n){let ce;const Pe=u<g-1;ce=Pe?`AAC PES did not start with ADTS header,offset:${u}`:"No ADTS header found in AAC PES";const Ne=new Error(ce);if(Jt.warn(`parsing error: ${ce}`),this.observer.emit(mt.ERROR,mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Pe,error:Ne,reason:ce}),!Pe)return}if(sI(i,this.observer,c,u,this.audioCodec),void 0!==t.pts)A=t.pts;else{if(!o)return void Jt.warn("[tsdemuxer]: AAC PES unknown PTS");{const ce=lI(i.samplerate);A=o.sample.pts+ce}}let Z,U=0;for(;u<g;){if(Z=cI(i,c,u,A,U),u+=Z.length,Z.missing){this.aacOverFlow=Z;break}for(U++;u<g-1&&!Q0(c,u);u++);}}parseMPEGPES(i,t){const n=t.data,o=n.length;let c=0,u=0;const g=t.pts;if(void 0!==g)for(;u<o;)if(fI(n,u)){const A=dI(i,n,u,g,c);if(!A)break;u+=A.length,c++}else u++;else Jt.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(i,t){if(void 0===t.pts)return void Jt.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=xr({},t,{type:this._avcTrack?is_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});i.samples.push(n)}}function eb(r,i,t,n){return{key:r,frame:!1,pts:i,dts:t,units:[],debug:n,length:0}}function qx(r,i){return((31&r[i+1])<<8)+r[i+2]}function OR(r,i){return(31&r[i+10])<<8|r[i+11]}function PR(r,i,t,n){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},u=i+3+((15&r[i+1])<<8|r[i+2])-4;for(i+=12+((15&r[i+10])<<8|r[i+11]);i<u;){const A=qx(r,i);switch(r[i]){case 207:if(!n){Jt.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=A);break;case 21:-1===o.id3&&(o.id3=A);break;case 219:if(!n){Jt.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=A);break;case 3:case 4:!0!==t.mpeg&&!0!==t.mp3?Jt.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=A,o.segmentCodec="mp3");break;case 36:Jt.warn("Unsupported HEVC stream type found")}i+=5+((15&r[i+3])<<8|r[i+4])}return o}function Of(r){let t,n,o,c,u,i=0;const g=r.data;if(!r||0===r.size)return null;for(;g[0].length<19&&g.length>1;){const U=new Uint8Array(g[0].length+g[1].length);U.set(g[0]),U.set(g[1],g[0].length),g[0]=U,g.splice(1,1)}if(t=g[0],(t[0]<<16)+(t[1]<<8)+t[2]===1){if(n=(t[4]<<8)+t[5],n&&n>r.size-6)return null;const U=t[7];192&U&&(c=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&U?(u=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,c-u>54e5&&(Jt.warn(`${Math.round((c-u)/9e4)}s delta between PTS and DTS, align them`),c=u)):u=c),o=t[8];let Z=o+9;if(r.size<=Z)return null;r.size-=Z;const ce=new Uint8Array(r.size);for(let Pe=0,Ne=g.length;Pe<Ne;Pe++){t=g[Pe];let ze=t.byteLength;if(Z){if(Z>ze){Z-=ze;continue}t=t.subarray(Z),ze-=Z,Z=0}ce.set(t,i),i+=ze}return n&&(n-=o+3),{data:ce,pts:c,dts:u,len:n}}return null}function jp(r,i){if(r.units.length&&r.frame){if(void 0===r.pts){const t=i.samples,n=t.length;if(!n)return void i.dropped++;{const o=t[n-1];r.pts=o.pts,r.dts=o.dts}}i.samples.push(r)}r.debug.length&&Jt.log(r.pts+"/"+r.dts+":"+r.debug)}class mI{static getSilentFrame(i,t){if("mp4a.40.2"===i){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const vc=Math.pow(2,32)-1;let Pf=(()=>{class r{static init(){let t;for(t in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(t)&&(r.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:n,audio:o};const c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),u=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=u,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const g=new Uint8Array([105,115,111,109]),A=new Uint8Array([97,118,99,49]),U=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,g,U,g,A),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,c))}static box(t,...n){let o=8,c=n.length;const u=c;for(;c--;)o+=n[c].byteLength;const g=new Uint8Array(o);for(g[0]=o>>24&255,g[1]=o>>16&255,g[2]=o>>8&255,g[3]=255&o,g.set(t,4),c=0,o=8;c<u;c++)g.set(n[c],o),o+=n[c].byteLength;return g}static hdlr(t){return r.box(r.types.hdlr,r.HDLR_TYPES[t])}static mdat(t){return r.box(r.types.mdat,t)}static mdhd(t,n){n*=t;const o=Math.floor(n/(vc+1)),c=Math.floor(n%(vc+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24,o>>16&255,o>>8&255,255&o,c>>24,c>>16&255,c>>8&255,255&c,85,196,0,0]))}static mdia(t){return r.box(r.types.mdia,r.mdhd(t.timescale,t.duration),r.hdlr(t.type),r.minf(t))}static mfhd(t){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return r.box(r.types.minf,"audio"===t.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(t))}static moof(t,n,o){return r.box(r.types.moof,r.mfhd(t),r.traf(o,n))}static moov(t){let n=t.length;const o=[];for(;n--;)o[n]=r.trak(t[n]);return r.box.apply(null,[r.types.moov,r.mvhd(t[0].timescale,t[0].duration)].concat(o).concat(r.mvex(t)))}static mvex(t){let n=t.length;const o=[];for(;n--;)o[n]=r.trex(t[n]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(t,n){n*=t;const o=Math.floor(n/(vc+1)),c=Math.floor(n%(vc+1)),u=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,o>>24,o>>16&255,o>>8&255,255&o,c>>24,c>>16&255,c>>8&255,255&c,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,u)}static sdtp(t){const n=t.samples||[],o=new Uint8Array(4+n.length);let c,u;for(c=0;c<n.length;c++)u=n[c].flags,o[c+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(t){return r.box(r.types.stbl,r.stsd(t),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(t){let c,u,g,n=[],o=[];for(c=0;c<t.sps.length;c++)u=t.sps[c],g=u.byteLength,n.push(g>>>8&255),n.push(255&g),n=n.concat(Array.prototype.slice.call(u));for(c=0;c<t.pps.length;c++)u=t.pps[c],g=u.byteLength,o.push(g>>>8&255),o.push(255&g),o=o.concat(Array.prototype.slice.call(u));const A=r.box(r.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(o))),U=t.width,Z=t.height,ce=t.pixelRatio[0],Pe=t.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,U>>8&255,255&U,Z>>8&255,255&Z,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),A,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([ce>>24,ce>>16&255,ce>>8&255,255&ce,Pe>>24,Pe>>16&255,Pe>>8&255,255&Pe])))}static esds(t){const n=t.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(t.config).concat([6,1,2]))}static mp4a(t){const n=t.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),r.box(r.types.esds,r.esds(t)))}static mp3(t){const n=t.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}static stsd(t){return r.box(r.types.stsd,r.STSD,"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?r.mp3(t):r.mp4a(t):r.avc1(t))}static tkhd(t){const n=t.id,o=t.duration*t.timescale,c=t.width,u=t.height,g=Math.floor(o/(vc+1)),A=Math.floor(o%(vc+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,g>>24,g>>16&255,g>>8&255,255&g,A>>24,A>>16&255,A>>8&255,255&A,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,c>>8&255,255&c,0,0,u>>8&255,255&u,0,0]))}static traf(t,n){const o=r.sdtp(t),c=t.id,u=Math.floor(n/(vc+1)),g=Math.floor(n%(vc+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,c>>24,c>>16&255,c>>8&255,255&c])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,u>>24,u>>16&255,u>>8&255,255&u,g>>24,g>>16&255,g>>8&255,255&g])),r.trun(t,o.length+16+20+8+16+8+8),o)}static trak(t){return t.duration=t.duration||4294967295,r.box(r.types.trak,r.tkhd(t),r.mdia(t))}static trex(t){const n=t.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,n){const o=t.samples||[],c=o.length,u=12+16*c,g=new Uint8Array(u);let A,U,Z,ce,Pe,Ne;for(g.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,(n+=8+u)>>>24&255,n>>>16&255,n>>>8&255,255&n],0),A=0;A<c;A++)U=o[A],Z=U.duration,ce=U.size,Pe=U.flags,Ne=U.cts,g.set([Z>>>24&255,Z>>>16&255,Z>>>8&255,255&Z,ce>>>24&255,ce>>>16&255,ce>>>8&255,255&ce,Pe.isLeading<<2|Pe.dependsOn,Pe.isDependedOn<<6|Pe.hasRedundancy<<4|Pe.paddingValue<<1|Pe.isNonSync,61440&Pe.degradPrio,15&Pe.degradPrio,Ne>>>24&255,Ne>>>16&255,Ne>>>8&255,255&Ne],12+16*A);return r.box(r.types.trun,g)}static initSegment(t){r.types||r.init();const n=r.moov(t),o=new Uint8Array(r.FTYP.byteLength+n.byteLength);return o.set(r.FTYP),o.set(n,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function Jx(r,i,t=1,n=!1){const o=r*i*t;return n?Math.round(o):o}function Gp(r,i=!1){return Jx(r,1e3,1/9e4,i)}let _l,tb=null,Qx=null;class Xx{constructor(i,t,n,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=i,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===tb){const u=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);tb=u?parseInt(u[1]):0}if(null===Qx){const c=navigator.userAgent.match(/Safari\/(\d+)/i);Qx=c?parseInt(c[1]):0}}destroy(){}resetTimeStamp(i){Jt.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=i}resetNextTimestamp(){Jt.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Jt.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(i){let t=!1;const n=i.reduce((o,c)=>{const u=c.pts-o;return u<-4294967296?(t=!0,Ra(o,c.pts)):u>0?o:c.pts},i[0].pts);return t&&Jt.debug("PTS rollover detected"),n}remux(i,t,n,o,c,u,g,A){let U,Z,ce,Pe,Ne,ze,Je=c,ct=c;const Ft=t.pid>-1,Lt=t.samples.length,Qt=i.samples.length>0,qt=g&&Lt>0||Lt>1;if((!(i.pid>-1)||Qt)&&(!Ft||qt)||this.ISGenerated||g){this.ISGenerated||(ce=this.generateIS(i,t,c,u));const an=this.isVideoContiguous;let wn,_n=-1;if(qt&&(_n=function BR(r){for(let i=0;i<r.length;i++)if(r[i].key)return i;return-1}(t.samples),!an&&this.config.forceKeyFrameOnDiscontinuity))if(ze=!0,_n>0){Jt.warn(`[mp4-remuxer]: Dropped ${_n} out of ${Lt} video samples due to a missing keyframe`);const sn=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(_n),t.dropped+=_n,ct+=(t.samples[0].pts-sn)/t.inputTimeScale,wn=ct}else-1===_n&&(Jt.warn(`[mp4-remuxer]: No keyframe found out of ${Lt} video samples`),ze=!1);if(this.ISGenerated){if(Qt&&qt){const sn=this.getVideoStartPts(t.samples),Bn=(Ra(i.samples[0].pts,sn)-sn)/t.inputTimeScale;Je+=Math.max(0,Bn),ct+=Math.max(0,-Bn)}if(Qt){if(i.samplerate||(Jt.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),ce=this.generateIS(i,t,c,u)),Z=this.remuxAudio(i,Je,this.isAudioContiguous,u,Ft||qt||"audio"===A?ct:void 0),qt){const sn=Z?Z.endPTS-Z.startPTS:0;t.inputTimeScale||(Jt.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),ce=this.generateIS(i,t,c,u)),U=this.remuxVideo(t,ct,an,sn)}}else qt&&(U=this.remuxVideo(t,ct,an,0));U&&(U.firstKeyFrame=_n,U.independent=-1!==_n,U.firstKeyFramePTS=wn)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(Ne=_I(n,c,this._initPTS,this._initDTS)),o.samples.length&&(Pe=vI(o,c,this._initPTS))),{audio:Z,video:U,initSegment:ce,independent:ze,text:Pe,id3:Ne}}generateIS(i,t,n,o){const c=i.samples,u=t.samples,g=this.typeSupported,A={},U=this._initPTS;let Pe,Ne,ze,Z=!U||o,ce="audio/mp4";if(Z&&(Pe=Ne=1/0),i.config&&c.length&&("mp3"===(i.timescale=i.samplerate,i.segmentCodec)&&(g.mpeg?(ce="audio/mpeg",i.codec=""):g.mp3&&(i.codec="mp3")),A.audio={id:"audio",container:ce,codec:i.codec,initSegment:"mp3"===i.segmentCodec&&g.mpeg?new Uint8Array(0):Pf.initSegment([i]),metadata:{channelCount:i.channelCount}},Z&&(ze=i.inputTimeScale,U&&ze===U.timescale?Z=!1:Pe=Ne=c[0].pts-Math.round(ze*n))),t.sps&&t.pps&&u.length&&(t.timescale=t.inputTimeScale,A.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Pf.initSegment([t]),metadata:{width:t.width,height:t.height}},Z))if(ze=t.inputTimeScale,U&&ze===U.timescale)Z=!1;else{const Je=this.getVideoStartPts(u),ct=Math.round(ze*n);Ne=Math.min(Ne,Ra(u[0].dts,Je)-ct),Pe=Math.min(Pe,Je-ct)}if(Object.keys(A).length)return this.ISGenerated=!0,Z?(this._initPTS={baseTime:Pe,timescale:ze},this._initDTS={baseTime:Ne,timescale:ze}):Pe=ze=void 0,{tracks:A,initPTS:Pe,timescale:ze}}remuxVideo(i,t,n,o){const c=i.inputTimeScale,u=i.samples,g=[],A=u.length,U=this._initPTS;let Ne,ze,Z=this.nextAvcDts,ce=8,Pe=this.videoSampleDuration,Je=Number.POSITIVE_INFINITY,ct=Number.NEGATIVE_INFINITY,Et=!1;n&&null!==Z||(Z=t*c-(u[0].pts-Ra(u[0].dts,u[0].pts)));const Ft=U.baseTime*c/U.timescale;for(let yn=0;yn<A;yn++){const Nn=u[yn];Nn.pts=Ra(Nn.pts-Ft,Z),Nn.dts=Ra(Nn.dts-Ft,Z),Nn.dts<u[yn>0?yn-1:yn].dts&&(Et=!0)}Et&&u.sort(function(yn,Nn){return yn.dts-Nn.dts||yn.pts-Nn.pts}),Ne=u[0].dts,ze=u[u.length-1].dts;const Lt=ze-Ne,Qt=Lt?Math.round(Lt/(A-1)):Pe||i.inputTimeScale/30;if(n){const yn=Ne-Z,Nn=yn>Qt,ai=yn<-1;if((Nn||ai)&&(Jt.warn(Nn?`AVC: ${Gp(yn,!0)} ms (${yn}dts) hole between fragments detected, filling it`:`AVC: ${Gp(-yn,!0)} ms (${yn}dts) overlapping between fragments detected`),!ai||Z>=u[0].pts)){Ne=Z;const bi=u[0].pts-yn;u[0].dts=Ne,u[0].pts=bi,Jt.log(`Video: First PTS/DTS adjusted: ${Gp(bi,!0)}/${Gp(Ne,!0)}, delta: ${Gp(yn,!0)} ms`)}}Ne=Math.max(0,Ne);let qt=0,fn=0;for(let yn=0;yn<A;yn++){const Nn=u[yn],ai=Nn.units,bi=ai.length;let di=0;for(let Ri=0;Ri<bi;Ri++)di+=ai[Ri].data.length;fn+=di,qt+=bi,Nn.length=di,Nn.dts=Math.max(Nn.dts,Ne),Je=Math.min(Nn.pts,Je),ct=Math.max(Nn.pts,ct)}ze=u[A-1].dts;const an=fn+4*qt+8;let _n;try{_n=new Uint8Array(an)}catch(yn){return void this.observer.emit(mt.ERROR,mt.ERROR,{type:ri.MUX_ERROR,details:un.REMUX_ALLOC_ERROR,fatal:!1,error:yn,bytes:an,reason:`fail allocating video mdat ${an}`})}const wn=new DataView(_n.buffer);wn.setUint32(0,an),_n.set(Pf.types.mdat,4);let sn=!1,Gn=Number.POSITIVE_INFINITY,Bn=Number.POSITIVE_INFINITY,oi=Number.NEGATIVE_INFINITY,dr=Number.NEGATIVE_INFINITY;for(let yn=0;yn<A;yn++){const Nn=u[yn],ai=Nn.units;let di,bi=0;for(let pi=0,vr=ai.length;pi<vr;pi++){const Vr=ai[pi],$i=Vr.data,Wr=Vr.data.byteLength;wn.setUint32(ce,Wr),ce+=4,_n.set($i,ce),ce+=Wr,bi+=4+Wr}if(yn<A-1)Pe=u[yn+1].dts-Nn.dts,di=u[yn+1].pts-Nn.pts;else{const pi=this.config,vr=yn>0?Nn.dts-u[yn-1].dts:Qt;if(di=yn>0?Nn.pts-u[yn-1].pts:Qt,pi.stretchShortVideoTrack&&null!==this.nextAudioPts){const Vr=Math.floor(pi.maxBufferHole*c),$i=(o?Je+o*c:this.nextAudioPts)-Nn.pts;$i>Vr?(Pe=$i-vr,Pe<0?Pe=vr:sn=!0,Jt.log(`[mp4-remuxer]: It is approximately ${$i/90} ms to the next segment; using duration ${Pe/90} ms for the last video frame.`)):Pe=vr}else Pe=vr}const Ri=Math.round(Nn.pts-Nn.dts);Gn=Math.min(Gn,Pe),oi=Math.max(oi,Pe),Bn=Math.min(Bn,di),dr=Math.max(dr,di),g.push(new yI(Nn.key,Pe,bi,Ri))}if(g.length)if(tb){if(tb<70){const yn=g[0].flags;yn.dependsOn=2,yn.isNonSync=0}}else if(Qx&&dr-Bn<oi-Gn&&Qt/oi<.025&&0===g[0].cts){Jt.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let yn=Ne;for(let Nn=0,ai=g.length;Nn<ai;Nn++){const bi=yn+g[Nn].duration;g[Nn].duration=Nn<ai-1?bi+g[Nn+1].cts-(yn+g[Nn].cts):Nn?g[Nn-1].duration:Qt,g[Nn].cts=0,yn=bi}}Pe=sn||!Pe?Qt:Pe,this.nextAvcDts=Z=ze+Pe,this.videoSampleDuration=Pe,this.isVideoContiguous=!0;const Ln={data1:Pf.moof(i.sequenceNumber++,Ne,xr({},i,{samples:g})),data2:_n,startPTS:Je/c,endPTS:(ct+Pe)/c,startDTS:Ne/c,endDTS:Z/c,type:"video",hasAudio:!1,hasVideo:!0,nb:g.length,dropped:i.dropped};return i.samples=[],i.dropped=0,Ln}remuxAudio(i,t,n,o,c){const u=i.inputTimeScale,A=u/(i.samplerate?i.samplerate:u),U="aac"===i.segmentCodec?1024:1152,Z=U*A,ce=this._initPTS,Pe="mp3"===i.segmentCodec&&this.typeSupported.mpeg,Ne=[],ze=void 0!==c;let Je=i.samples,ct=Pe?0:8,Et=this.nextAudioPts||-1;const Ft=t*u,Lt=ce.baseTime*u/ce.timescale;if(this.isAudioContiguous=n=n||Je.length&&Et>0&&(o&&Math.abs(Ft-Et)<9e3||Math.abs(Ra(Je[0].pts-Lt,Ft)-Et)<20*Z),Je.forEach(function(On){On.pts=Ra(On.pts-Lt,Ft)}),!n||Et<0){if(Je=Je.filter(On=>On.pts>=0),!Je.length)return;Et=0===c?0:o&&!ze?Math.max(0,Ft):Je[0].pts}if("aac"===i.segmentCodec){const On=this.config.maxAudioFramesDrift;for(let Ln=0,yn=Et;Ln<Je.length;Ln++){const Nn=Je[Ln],ai=Nn.pts,bi=ai-yn,di=Math.abs(1e3*bi/u);if(bi<=-On*Z&&ze)0===Ln&&(Jt.warn(`Audio frame @ ${(ai/u).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*bi/u)} ms.`),this.nextAudioPts=Et=yn=ai);else if(bi>=On*Z&&di<1e4&&ze){let Ri=Math.round(bi/Z);yn=ai-Ri*Z,yn<0&&(Ri--,yn+=Z),0===Ln&&(this.nextAudioPts=Et=yn),Jt.warn(`[mp4-remuxer]: Injecting ${Ri} audio frame @ ${(yn/u).toFixed(3)}s due to ${Math.round(1e3*bi/u)} ms gap.`);for(let pi=0;pi<Ri;pi++){const vr=Math.max(yn,0);let Vr=mI.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);Vr||(Jt.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Vr=Nn.unit.subarray()),Je.splice(Ln,0,{unit:Vr,pts:vr}),yn+=Z,Ln++}}Nn.pts=yn,yn+=Z}}let fn,Qt=null,qt=null,an=0,_n=Je.length;for(;_n--;)an+=Je[_n].unit.byteLength;for(let On=0,Ln=Je.length;On<Ln;On++){const yn=Je[On],Nn=yn.unit;let ai=yn.pts;if(null!==qt)Ne[On-1].duration=Math.round((ai-qt)/A);else{if(n&&"aac"===i.segmentCodec&&(ai=Et),Qt=ai,!(an>0))return;an+=ct;try{fn=new Uint8Array(an)}catch(di){return void this.observer.emit(mt.ERROR,mt.ERROR,{type:ri.MUX_ERROR,details:un.REMUX_ALLOC_ERROR,fatal:!1,error:di,bytes:an,reason:`fail allocating audio mdat ${an}`})}Pe||(new DataView(fn.buffer).setUint32(0,an),fn.set(Pf.types.mdat,4))}fn.set(Nn,ct);const bi=Nn.byteLength;ct+=bi,Ne.push(new yI(!0,U,bi,0)),qt=ai}const wn=Ne.length;if(!wn)return;this.nextAudioPts=Et=qt+A*Ne[Ne.length-1].duration;const Gn=Pe?new Uint8Array(0):Pf.moof(i.sequenceNumber++,Qt/A,xr({},i,{samples:Ne}));i.samples=[];const Bn=Qt/u,oi=Et/u,Ai={data1:Gn,data2:fn,startPTS:Bn,endPTS:oi,startDTS:Bn,endDTS:oi,type:"audio",hasAudio:!0,hasVideo:!1,nb:wn};return this.isAudioContiguous=!0,Ai}remuxEmptyAudio(i,t,n,o){const c=i.inputTimeScale,A=this.nextAudioPts,U=this._initDTS,Z=9e4*U.baseTime/U.timescale,ce=(null!==A?A:o.startDTS*c)+Z,Ne=c/(i.samplerate?i.samplerate:c)*1024,ze=Math.ceil((o.endDTS*c+Z-ce)/Ne),Je=mI.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);if(Jt.warn("[mp4-remuxer]: remux empty Audio"),!Je)return void Jt.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const ct=[];for(let Et=0;Et<ze;Et++){const Ft=ce+Et*Ne;ct.push({unit:Je,pts:Ft,dts:Ft})}return i.samples=ct,this.remuxAudio(i,t,n,!1)}}function Ra(r,i){let t;if(null===i)return r;for(t=i<r?-8589934592:8589934592;Math.abs(r-i)>4294967296;)r+=t;return r}function _I(r,i,t,n){const o=r.samples.length;if(!o)return;const c=r.inputTimeScale;for(let g=0;g<o;g++){const A=r.samples[g];A.pts=Ra(A.pts-t.baseTime*c/t.timescale,i*c)/c,A.dts=Ra(A.dts-n.baseTime*c/n.timescale,i*c)/c}const u=r.samples;return r.samples=[],{samples:u}}function vI(r,i,t){const n=r.samples.length;if(!n)return;const o=r.inputTimeScale;for(let u=0;u<n;u++){const g=r.samples[u];g.pts=Ra(g.pts-t.baseTime*o/t.timescale,i*o)/o}r.samples.sort((u,g)=>u.pts-g.pts);const c=r.samples;return r.samples=[],{samples:c}}class yI{constructor(i,t,n,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=o,this.flags=new UR(i)}}class UR{constructor(i){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=i?2:1,this.isNonSync=i?0:1}}function bI(r,i){const t=r?.codec;return t&&t.length>4?t:"hvc1"===t||"hev1"===t?"hvc1.1.6.L120.90":"av01"===t?"av01.0.04M.08":"avc1"===t||"video"===i?"avc1.42e01e":"mp4a.40.5"}try{_l=self.performance.now.bind(self.performance)}catch{Jt.debug("Unable to use Performance API on this environment"),_l=typeof self<"u"&&self.Date.now}const eM=[{demux:class CR{constructor(i,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(i,t,n,o){const c=this.videoTrack=Es("video",1),u=this.audioTrack=Es("audio",1),g=this.txtTrack=Es("text",1);if(this.id3Track=Es("id3",1),this.timeOffset=0,null==i||!i.byteLength)return;const A=E1(i);if(A.video){const{id:U,timescale:Z,codec:ce}=A.video;c.id=U,c.timescale=g.timescale=Z,c.codec=ce}if(A.audio){const{id:U,timescale:Z,codec:ce}=A.audio;u.id=U,u.timescale=Z,u.codec=ce}g.id=li.text,c.sampleDuration=0,c.duration=u.duration=o}resetContiguity(){this.remainderData=null}static probe(i){return Mi(i=i.length>16384?i.subarray(0,16384):i,["moof"]).length>0}demux(i,t){this.timeOffset=t;let n=i;const o=this.videoTrack,c=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Id(this.remainderData,i));const g=function uP(r){const i={valid:null,remainder:null},t=Mi(r,["moof"]);if(!t)return i;if(t.length<2)return i.remainder=r,i;const n=t[t.length-1];return i.valid=pl(r,0,n.byteOffset-8),i.remainder=pl(r,n.byteOffset-8),i}(n);this.remainderData=g.remainder,o.samples=g.valid||new Uint8Array}else o.samples=n;const u=this.extractID3Track(o,t);return c.samples=C1(t,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:u,textTrack:this.txtTrack}}flush(){const i=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(t,this.timeOffset);return n.samples=C1(i,t),{videoTrack:t,audioTrack:Es(),id3Track:o,textTrack:Es()}}extractID3Track(i,t){const n=this.id3Track;if(i.samples.length){const o=Mi(i.samples,["emsg"]);o&&o.forEach(c=>{const u=function mP(r){const i=r[0];let t="",n="",o=0,c=0,u=0,g=0,A=0,U=0;if(0===i){for(;"\0"!==Jn(r.subarray(U,U+1));)t+=Jn(r.subarray(U,U+1)),U+=1;for(t+=Jn(r.subarray(U,U+1)),U+=1;"\0"!==Jn(r.subarray(U,U+1));)n+=Jn(r.subarray(U,U+1)),U+=1;n+=Jn(r.subarray(U,U+1)),U+=1,o=Wn(r,12),c=Wn(r,16),g=Wn(r,20),A=Wn(r,24),U=28}else if(1===i){U+=4,o=Wn(r,U),U+=4;const ce=Wn(r,U);U+=4;const Pe=Wn(r,U);for(U+=4,u=2**32*ce+Pe,Number.isSafeInteger(u)||(u=Number.MAX_SAFE_INTEGER,Jt.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),g=Wn(r,U),U+=4,A=Wn(r,U),U+=4;"\0"!==Jn(r.subarray(U,U+1));)t+=Jn(r.subarray(U,U+1)),U+=1;for(t+=Jn(r.subarray(U,U+1)),U+=1;"\0"!==Jn(r.subarray(U,U+1));)n+=Jn(r.subarray(U,U+1)),U+=1;n+=Jn(r.subarray(U,U+1)),U+=1}return{schemeIdUri:t,value:n,timeScale:o,presentationTime:u,presentationTimeDelta:c,eventDuration:g,id:A,payload:r.subarray(U,r.byteLength)}}(c);if(TR.test(u.schemeIdUri)){const g=qn(u.presentationTime)?u.presentationTime/u.timeScale:t+u.presentationTimeDelta/u.timeScale;let A=4294967295===u.eventDuration?Number.POSITIVE_INFINITY:u.eventDuration/u.timeScale;A<=.001&&(A=Number.POSITIVE_INFINITY);const U=u.payload;n.samples.push({data:U,len:U.byteLength,dts:g,pts:g,type:is_emsg,duration:A})}})}return n}demuxSampleAes(i,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class VR{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(i){this.initPTS=i,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(i,t,n,o){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function aP(r,i){if(!r||!i)return r;const t=i.keyId;return t&&i.isCommonEncryption&&Mi(r,["moov","trak"]).forEach(o=>{const u=Mi(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let g=Mi(u,["enca"]);const A=g.length>0;A||(g=Mi(u,["encv"])),g.forEach(U=>{Mi(U.subarray(A?28:78),["sinf"]).forEach(Pe=>{const Ne=T1(Pe);if(Ne){const ze=Ne.subarray(8,24);ze.some(Je=>0!==Je)||(Jt.log(`[eme] Patching keyId in 'enc${A?"a":"v"}>sinf>>tenc' box: ${kn_hexDump(ze)} -> ${kn_hexDump(t)}`),Ne.set(t,8))}})})}),r}(i,o)),this.emitInitSegment=!0}generateInitSegment(i){let{audioCodec:t,videoCodec:n}=this;if(null==i||!i.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=E1(i);t||(t=bI(o.audio,"audio")),n||(n=bI(o.video,"video"));const c={};o.audio&&o.video?c.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:i,id:"main"}:o.audio?c.audio={container:"audio/mp4",codec:t,initSegment:i,id:"audio"}:o.video?c.video={container:"video/mp4",codec:n,initSegment:i,id:"main"}:Jt.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(i,t,n,o,c,u){var g,A;let{initPTS:U,lastEndTime:Z}=this;const ce={audio:void 0,video:void 0,text:o,id3:n,initSegment:void 0};qn(Z)||(Z=this.lastEndTime=c||0);const Pe=t.samples;if(null==Pe||!Pe.length)return ce;const Ne={initPTS:void 0,timescale:1};let ze=this.initData;if(null!=(g=ze)&&g.length||(this.generateInitSegment(Pe),ze=this.initData),null==(A=ze)||!A.length)return Jt.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),ce;this.emitInitSegment&&(Ne.tracks=this.initTracks,this.emitInitSegment=!1);const Je=function lP(r,i){let t=0,n=0,o=0;const c=Mi(r,["moof","traf"]);for(let u=0;u<c.length;u++){const g=c[u],A=Mi(g,["tfhd"])[0],Z=i[Wn(A,4)];if(!Z)continue;const ce=Z.default,Pe=Wn(A,0)|ce?.flags;let Ne=ce?.duration;8&Pe&&(Ne=Wn(A,2&Pe?12:8));const ze=Z.timescale||9e4,Je=Mi(g,["trun"]);for(let ct=0;ct<Je.length;ct++)t=cP(Je[ct]),!t&&Ne&&(t=Ne*Wn(Je[ct],4)),"video"===Z.type?n+=t/ze:"audio"===Z.type&&(o+=t/ze)}if(0===n&&0===o){let u=0;const g=Mi(r,["sidx"]);for(let A=0;A<g.length;A++){const U=oP(g[A]);null!=U&&U.references&&(u+=U.references.reduce((Z,ce)=>Z+ce.info.duration||0,0))}return u}return n||o}(Pe,ze),ct=function sP(r,i){return Mi(i,["moof","traf"]).reduce((t,n)=>{const o=Mi(n,["tfdt"])[0],c=o[0],u=Mi(n,["tfhd"]).reduce((g,A)=>{const U=Wn(A,4),Z=r[U];if(Z){let ce=Wn(o,4);if(1===c){if(ce===Yn)return Jt.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),g;ce*=Yn+1,ce+=Wn(o,8)}const Ne=ce/(Z.timescale||9e4);if(isFinite(Ne)&&(null===g||Ne<g))return Ne}return g},null);return null!==u&&isFinite(u)&&(null===t||u<t)?u:t},null)}(ze,Pe),Et=null===ct?c:ct;(function jR(r,i,t,n){if(null===r)return!0;const o=Math.max(n,1);return Math.abs(i-r.baseTime/r.timescale-t)>o}(U,Et,c,Je)||Ne.timescale!==U.timescale&&u)&&(Ne.initPTS=Et-c,U&&1===U.timescale&&Jt.warn("Adjusting initPTS by "+(Ne.initPTS-U.baseTime)),this.initPTS=U={baseTime:Ne.initPTS,timescale:1});const Ft=i?Et-U.baseTime/U.timescale:Z,Lt=Ft+Je;(function dP(r,i,t){Mi(i,["moof","traf"]).forEach(n=>{Mi(n,["tfhd"]).forEach(o=>{const c=Wn(o,4),u=r[c];if(!u)return;const g=u.timescale||9e4;Mi(n,["tfdt"]).forEach(A=>{const U=A[0];let Z=Wn(A,4);if(0===U)Z-=t*g,Z=Math.max(Z,0),kp(A,4,Z);else{Z*=Math.pow(2,32),Z+=Wn(A,8),Z-=t*g,Z=Math.max(Z,0);const ce=Math.floor(Z/(Yn+1)),Pe=Math.floor(Z%(Yn+1));kp(A,4,ce),kp(A,8,Pe)}})})})})(ze,Pe,U.baseTime/U.timescale),Je>0?this.lastEndTime=Lt:(Jt.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const Qt=!!ze.audio,qt=!!ze.video;let fn="";Qt&&(fn+="audio"),qt&&(fn+="video");const an={data1:Pe,startPTS:Ft,startDTS:Ft,endPTS:Lt,endDTS:Lt,type:fn,hasAudio:Qt,hasVideo:qt,nb:1,dropped:0};return ce.audio="audio"===an.type?an:void 0,ce.video="audio"!==an.type?an:void 0,ce.initSegment=Ne,ce.id3=_I(n,c,U,U),o.samples.length&&(ce.text=vI(o,c,U)),ce}}},{demux:_c,remux:Xx},{demux:class ER extends rI{constructor(i,t){super(),this.observer=void 0,this.config=void 0,this.observer=i,this.config=t}resetInitSegment(i,t,n,o){super.resetInitSegment(i,t,n,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:o,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let n=(d(i,0)||[]).length;for(let o=i.length;n<o;n++)if(yR(i,n))return Jt.log("ADTS sync word found !"),!0;return!1}canParse(i,t){return function vR(r,i){return function _R(r,i){return i+5<r.length}(r,i)&&oI(r,i)&&Zx(r,i)<=r.length-i}(i,t)}appendFrame(i,t,n){sI(i,this.observer,t,n,i.manifestCodec);const o=cI(i,t,n,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:Xx},{demux:class RR extends rI{resetInitSegment(i,t,n,o){super.resetInitSegment(i,t,n,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:o,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let n=(d(i,0)||[]).length;for(let o=i.length;n<o;n++)if(wR(i,n))return Jt.log("MPEG Audio sync word found !"),!0;return!1}canParse(i,t){return function AR(r,i){return $x(r,i)&&4<=r.length-i}(i,t)}appendFrame(i,t,n){if(null!==this.basePTS)return dI(i,t,n,this.basePTS,this.frameIndex)}},remux:Xx}];class EI{constructor(i,t,n,o,c){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=i,this.typeSupported=t,this.config=n,this.vendor=o,this.id=c}configure(i){this.transmuxConfig=i,this.decrypter&&this.decrypter.reset()}push(i,t,n,o){const c=n.transmuxing;c.executeStart=_l();let u=new Uint8Array(i);const{currentTransmuxState:g,transmuxConfig:A}=this;o&&(this.currentTransmuxState=o);const{contiguous:U,discontinuity:Z,trackSwitch:ce,accurateTimeOffset:Pe,timeOffset:Ne,initSegmentChange:ze}=o||g,{audioCodec:Je,videoCodec:ct,defaultInitPts:Et,duration:Ft,initSegmentData:Lt}=A,Qt=function GR(r,i){let t=null;return r.byteLength>0&&null!=i&&null!=i.key&&null!==i.iv&&null!=i.method&&(t=i),t}(u,t);if(Qt&&"AES-128"===Qt.method){const _n=this.getDecrypter();if(!_n.isSync())return this.decryptionPromise=_n.webCryptoDecrypt(u,Qt.key.buffer,Qt.iv.buffer).then(wn=>{const sn=this.push(wn,null,n);return this.decryptionPromise=null,sn}),this.decryptionPromise;{let wn=_n.softwareDecrypt(u,Qt.key.buffer,Qt.iv.buffer);if(n.part>-1&&(wn=_n.flush()),!wn)return c.executeEnd=_l(),tM(n);u=new Uint8Array(wn)}}const qt=this.needsProbing(Z,ce);if(qt){const _n=this.configureTransmuxer(u);if(_n)return Jt.warn(`[transmuxer] ${_n.message}`),this.observer.emit(mt.ERROR,mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_PARSING_ERROR,fatal:!1,error:_n,reason:_n.message}),c.executeEnd=_l(),tM(n)}(Z||ce||ze||qt)&&this.resetInitSegment(Lt,Je,ct,Ft,t),(Z||ze||qt)&&this.resetInitialTimestamp(Et),U||this.resetContiguity();const fn=this.transmux(u,Qt,Ne,Pe,n),an=this.currentTransmuxState;return an.contiguous=!0,an.discontinuity=!1,an.trackSwitch=!1,c.executeEnd=_l(),fn}flush(i){const t=i.transmuxing;t.executeStart=_l();const{decrypter:n,currentTransmuxState:o,decryptionPromise:c}=this;if(c)return c.then(()=>this.flush(i));const u=[],{timeOffset:g}=o;if(n){const ce=n.flush();ce&&u.push(this.push(ce,null,i))}const{demuxer:A,remuxer:U}=this;if(!A||!U)return t.executeEnd=_l(),[tM(i)];const Z=A.flush(g);return nb(Z)?Z.then(ce=>(this.flushRemux(u,ce,i),u)):(this.flushRemux(u,Z,i),u)}flushRemux(i,t,n){const{audioTrack:o,videoTrack:c,id3Track:u,textTrack:g}=t,{accurateTimeOffset:A,timeOffset:U}=this.currentTransmuxState;Jt.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const Z=this.remuxer.remux(o,c,u,g,U,A,!0,this.id);i.push({remuxResult:Z,chunkMeta:n}),n.transmuxing.executeEnd=_l()}resetInitialTimestamp(i){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetTimeStamp(i),n.resetTimeStamp(i))}resetContiguity(){const{demuxer:i,remuxer:t}=this;!i||!t||(i.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(i,t,n,o,c){const{demuxer:u,remuxer:g}=this;!u||!g||(u.resetInitSegment(i,t,n,o),g.resetInitSegment(i,t,n,c))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(i,t,n,o,c){let u;return u=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(i,t,n,o,c):this.transmuxUnencrypted(i,n,o,c),u}transmuxUnencrypted(i,t,n,o){const{audioTrack:c,videoTrack:u,id3Track:g,textTrack:A}=this.demuxer.demux(i,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(c,u,g,A,t,n,!1,this.id),chunkMeta:o}}transmuxSampleAes(i,t,n,o,c){return this.demuxer.demuxSampleAes(i,t,n).then(u=>({remuxResult:this.remuxer.remux(u.audioTrack,u.videoTrack,u.id3Track,u.textTrack,n,o,!1,this.id),chunkMeta:c}))}configureTransmuxer(i){const{config:t,observer:n,typeSupported:o,vendor:c}=this;let u;for(let ce=0,Pe=eM.length;ce<Pe;ce++)if(eM[ce].demux.probe(i)){u=eM[ce];break}if(!u)return new Error("Failed to find demuxer by probing fragment data");const g=this.demuxer,A=this.remuxer,U=u.remux,Z=u.demux;(!A||!(A instanceof U))&&(this.remuxer=new U(n,t,o,c)),(!g||!(g instanceof Z))&&(this.demuxer=new Z(n,t,o),this.probe=Z.probe)}needsProbing(i,t){return!this.demuxer||!this.remuxer||i||t}getDecrypter(){let i=this.decrypter;return i||(i=this.decrypter=new Wx(this.config)),i}}const tM=r=>({remuxResult:{},chunkMeta:r});function nb(r){return"then"in r&&r.then instanceof Function}class HR{constructor(i,t,n,o,c){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=i,this.videoCodec=t,this.initSegmentData=n,this.duration=o,this.defaultInitPts=c||null}}class YR{constructor(i,t,n,o,c,u){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=i,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=o,this.timeOffset=c,this.initSegmentChange=u}}var TI={exports:{}};!function(r){var i=Object.prototype.hasOwnProperty,t="~";function n(){}function o(A,U,Z){this.fn=A,this.context=U,this.once=Z||!1}function c(A,U,Z,ce,Pe){if("function"!=typeof Z)throw new TypeError("The listener must be a function");var Ne=new o(Z,ce||A,Pe),ze=t?t+U:U;return A._events[ze]?A._events[ze].fn?A._events[ze]=[A._events[ze],Ne]:A._events[ze].push(Ne):(A._events[ze]=Ne,A._eventsCount++),A}function u(A,U){0==--A._eventsCount?A._events=new n:delete A._events[U]}function g(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),g.prototype.eventNames=function(){var Z,ce,U=[];if(0===this._eventsCount)return U;for(ce in Z=this._events)i.call(Z,ce)&&U.push(t?ce.slice(1):ce);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(Z)):U},g.prototype.listeners=function(U){var ce=this._events[t?t+U:U];if(!ce)return[];if(ce.fn)return[ce.fn];for(var Pe=0,Ne=ce.length,ze=new Array(Ne);Pe<Ne;Pe++)ze[Pe]=ce[Pe].fn;return ze},g.prototype.listenerCount=function(U){var ce=this._events[t?t+U:U];return ce?ce.fn?1:ce.length:0},g.prototype.emit=function(U,Z,ce,Pe,Ne,ze){var Je=t?t+U:U;if(!this._events[Je])return!1;var Ft,Lt,ct=this._events[Je],Et=arguments.length;if(ct.fn){switch(ct.once&&this.removeListener(U,ct.fn,void 0,!0),Et){case 1:return ct.fn.call(ct.context),!0;case 2:return ct.fn.call(ct.context,Z),!0;case 3:return ct.fn.call(ct.context,Z,ce),!0;case 4:return ct.fn.call(ct.context,Z,ce,Pe),!0;case 5:return ct.fn.call(ct.context,Z,ce,Pe,Ne),!0;case 6:return ct.fn.call(ct.context,Z,ce,Pe,Ne,ze),!0}for(Lt=1,Ft=new Array(Et-1);Lt<Et;Lt++)Ft[Lt-1]=arguments[Lt];ct.fn.apply(ct.context,Ft)}else{var qt,Qt=ct.length;for(Lt=0;Lt<Qt;Lt++)switch(ct[Lt].once&&this.removeListener(U,ct[Lt].fn,void 0,!0),Et){case 1:ct[Lt].fn.call(ct[Lt].context);break;case 2:ct[Lt].fn.call(ct[Lt].context,Z);break;case 3:ct[Lt].fn.call(ct[Lt].context,Z,ce);break;case 4:ct[Lt].fn.call(ct[Lt].context,Z,ce,Pe);break;default:if(!Ft)for(qt=1,Ft=new Array(Et-1);qt<Et;qt++)Ft[qt-1]=arguments[qt];ct[Lt].fn.apply(ct[Lt].context,Ft)}}return!0},g.prototype.on=function(U,Z,ce){return c(this,U,Z,ce,!1)},g.prototype.once=function(U,Z,ce){return c(this,U,Z,ce,!0)},g.prototype.removeListener=function(U,Z,ce,Pe){var Ne=t?t+U:U;if(!this._events[Ne])return this;if(!Z)return u(this,Ne),this;var ze=this._events[Ne];if(ze.fn)ze.fn===Z&&(!Pe||ze.once)&&(!ce||ze.context===ce)&&u(this,Ne);else{for(var Je=0,ct=[],Et=ze.length;Je<Et;Je++)(ze[Je].fn!==Z||Pe&&!ze[Je].once||ce&&ze[Je].context!==ce)&&ct.push(ze[Je]);ct.length?this._events[Ne]=1===ct.length?ct[0]:ct:u(this,Ne)}return this},g.prototype.removeAllListeners=function(U){var Z;return U?this._events[Z=t?t+U:U]&&u(this,Z):(this._events=new n,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=t,g.EventEmitter=g,r.exports=g}(TI);var nM=k0(TI.exports);const iM=K0()||{isTypeSupported:()=>!1};class CI{constructor(i,t,n,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const c=i.config;this.hls=i,this.id=t,this.useWorker=!!c.enableWorker,this.onTransmuxComplete=n,this.onFlush=o;const u=(U,Z)=>{(Z=Z||{}).frag=this.frag,Z.id=this.id,U===mt.ERROR&&(this.error=Z.error),this.hls.trigger(U,Z)};this.observer=new nM,this.observer.on(mt.FRAG_DECRYPTED,u),this.observer.on(mt.ERROR,u);const g={mp4:iM.isTypeSupported("video/mp4"),mpeg:iM.isTypeSupported("audio/mpeg"),mp3:iM.isTypeSupported('audio/mp4; codecs="mp3"')},A=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(c.workerPath||function fR(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{c.workerPath?(Jt.log(`loading Web Worker ${c.workerPath} for "${t}"`),this.workerContext=function mR(r){const i=new self.URL(r,self.location.href).href;return{worker:new self.Worker(i),scriptURL:i}}(c.workerPath)):(Jt.log(`injecting Web Worker for "${t}"`),this.workerContext=function hR(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),i=self.URL.createObjectURL(r);return{worker:new self.Worker(i),objectURL:i}}()),this.onwmsg=ce=>this.onWorkerMessage(ce);const{worker:Z}=this.workerContext;Z.addEventListener("message",this.onwmsg),Z.onerror=ce=>{const Pe=new Error(`${ce.message}  (${ce.filename}:${ce.lineno})`);c.enableWorker=!1,Jt.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(mt.ERROR,{type:ri.OTHER_ERROR,details:un.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Pe})},Z.postMessage({cmd:"init",typeSupported:g,vendor:A,id:t,config:JSON.stringify(c)})}catch(Z){Jt.warn(`Error setting up "${t}" Web Worker, fallback to inline`,Z),this.resetWorker(),this.error=null,this.transmuxer=new EI(this.observer,g,c,A,t)}else this.transmuxer=new EI(this.observer,g,c,A,t)}resetWorker(){if(this.workerContext){const{worker:i,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),i.removeEventListener("message",this.onwmsg),i.onerror=null,i.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const i=this.observer;i&&i.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(i,t,n,o,c,u,g,A,U,Z){var ce,Pe;U.transmuxing.start=self.performance.now();const{transmuxer:Ne}=this,ze=u?u.start:c.start,Je=c.decryptdata,ct=this.frag,Et=!(ct&&c.cc===ct.cc),Ft=!(ct&&U.level===ct.level),Lt=ct?U.sn-ct.sn:-1,Qt=this.part?U.part-this.part.index:-1,fn=!Ft&&(1===Lt||0===Lt&&(1===Qt||0===Lt&&U.id>1&&U.id===ct?.stats.chunkCount&&Qt<=0)),an=self.performance.now();(Ft||Lt||0===c.stats.parsing.start)&&(c.stats.parsing.start=an),u&&(Qt||!fn)&&(u.stats.parsing.start=an);const _n=!(ct&&(null==(ce=c.initSegment)?void 0:ce.url)===(null==(Pe=ct.initSegment)?void 0:Pe.url)),wn=new YR(Et,fn,A,Ft,ze,_n);if(!fn||Et||_n){Jt.log(`[transmuxer-interface, ${c.type}]: Starting new transmux session for sn: ${U.sn} p: ${U.part} level: ${U.level} id: ${U.id}\n        discontinuity: ${Et}\n        trackSwitch: ${Ft}\n        contiguous: ${fn}\n        accurateTimeOffset: ${A}\n        timeOffset: ${ze}\n        initSegmentChange: ${_n}`);const sn=new HR(n,o,t,g,Z);this.configureTransmuxer(sn)}if(this.frag=c,this.part=u,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:i,decryptdata:Je,chunkMeta:U,state:wn},i instanceof ArrayBuffer?[i]:[]);else if(Ne){const sn=Ne.push(i,Je,U,wn);nb(sn)?(Ne.async=!0,sn.then(Gn=>{this.handleTransmuxComplete(Gn)}).catch(Gn=>{this.transmuxerError(Gn,U,"transmuxer-interface push error")})):(Ne.async=!1,this.handleTransmuxComplete(sn))}}flush(i){i.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:i});else if(t){let n=t.flush(i);nb(n)||t.async?(nb(n)||(n=Promise.resolve(n)),n.then(c=>{this.handleFlushResult(c,i)}).catch(c=>{this.transmuxerError(c,i,"transmuxer-interface flush error")})):this.handleFlushResult(n,i)}}transmuxerError(i,t,n){this.hls&&(this.error=i,this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:i,err:i,reason:n}))}handleFlushResult(i,t){i.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(t)}onWorkerMessage(i){const t=i.data,n=this.hls;switch(t.event){case"init":{var o;const c=null==(o=this.workerContext)?void 0:o.objectURL;c&&self.URL.revokeObjectURL(c);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":Jt[t.data.logType]&&Jt[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}configureTransmuxer(i){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:i}):t&&t.configure(i)}handleTransmuxComplete(i){i.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(i)}}class $R{constructor(i,t,n,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=i,this.media=t,this.fragmentTracker=n,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(i,t){const{config:n,media:o,stalled:c}=this;if(null===o)return;const{currentTime:u,seeking:g}=o,A=this.seeking&&!g,U=!this.seeking&&g;if(this.seeking=g,u!==i){if(this.moved=!0,null!==c){if(this.stallReported){const Et=self.performance.now()-c;Jt.warn(`playback not stuck anymore @${u}, after ${Math.round(Et)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(U||A)return void(this.stalled=null);if(o.paused&&!g||o.ended||0===o.playbackRate||!fr.getBuffered(o).length)return;const Z=fr.bufferInfo(o,u,0),Pe=Z.nextStart||0;if(!(Z.len>0||Pe))return;if(g){const Et=Z.len>2,Ft=!Pe||t&&t.start<=u||Pe-u>2&&!this.fragmentTracker.getPartialFragment(u);if(Et||Ft)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var Ne;const Et=Math.max(Pe,Z.start||0)-u,Ft=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,Qt=(null==Ft||null==(Ne=Ft.details)?void 0:Ne.live)?2*Ft.details.targetduration:2,qt=this.fragmentTracker.getPartialFragment(u);if(Et>0&&(Et<=Qt||qt))return void this._trySkipBufferHole(qt)}const ze=self.performance.now();if(null===c)return void(this.stalled=ze);const Je=ze-c;if(!g&&Je>=250&&(this._reportStall(Z),!this.media))return;const ct=fr.bufferInfo(o,u,n.maxBufferHole);this._tryFixBufferStall(ct,Je)}_tryFixBufferStall(i,t){const{config:n,fragmentTracker:o,media:c}=this;if(null===c)return;const u=c.currentTime,g=o.getPartialFragment(u);g&&(this._trySkipBufferHole(g)||!this.media)||(i.len>n.maxBufferHole||i.nextStart&&i.nextStart-u<n.maxBufferHole)&&t>1e3*n.highBufferWatchdogPeriod&&(Jt.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(i){const{hls:t,media:n,stallReported:o}=this;if(!o&&n){this.stallReported=!0;const c=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(i)})`);Jt.warn(c.message),t.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_STALLED_ERROR,fatal:!1,error:c,buffer:i.len})}}_trySkipBufferHole(i){const{config:t,hls:n,media:o}=this;if(null===o)return 0;const c=o.currentTime,u=fr.bufferInfo(o,c,0),g=c<u.start?u.start:u.nextStart;if(g){const Z=g-c;if(Z>0&&(u.len<=t.maxBufferHole||u.len>0&&u.len<1&&o.readyState<3)){if(Z>t.maxBufferHole){const{fragmentTracker:Pe}=this;let Ne=!1;if(0===c){const ze=Pe.getAppendedFrag(0,"main");ze&&g<ze.end&&(Ne=!0)}if(!Ne){const ze=i||Pe.getAppendedFrag(c,"main");if(ze){let Je=!1,ct=ze.end;for(;ct<g;){const Et=Pe.getPartialFragment(ct);if(!Et){Je=!0;break}ct+=Et.duration}if(Je)return 0}}}const ce=Math.max(g+.05,c+.1);if(Jt.warn(`skipping hole, adjusting currentTime from ${c} to ${ce}`),this.moved=!0,this.stalled=null,o.currentTime=ce,i&&!i.gap){const Pe=new Error(`fragment loaded with buffer holes, seeking from ${c} to ${ce}`);n.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Pe,reason:Pe.message,frag:i})}return ce}}return 0}_tryNudgeBuffer(){const{config:i,hls:t,media:n,nudgeRetry:o}=this;if(null===n)return;const c=n.currentTime;if(this.nudgeRetry++,o<i.nudgeMaxRetry){const u=c+(o+1)*i.nudgeOffset,g=new Error(`Nudging 'currentTime' from ${c} to ${u}`);Jt.warn(g.message),n.currentTime=u,t.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_NUDGE_ON_STALL,error:g,fatal:!1})}else{const u=new Error(`Playhead still not moving while enough data buffered @${c} after ${i.nudgeMaxRetry} nudges`);Jt.error(u.message),t.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_STALLED_ERROR,error:u,fatal:!0})}}}class JR extends zx{constructor(i,t,n){super(i,t,n,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(mt.LEVEL_LOADING,this.onLevelLoading,this),i.on(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(mt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.on(mt.ERROR,this.onError,this),i.on(mt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(mt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(mt.BUFFER_CREATED,this.onBufferCreated,this),i.on(mt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(mt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(mt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(mt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.off(mt.ERROR,this.onError,this),i.off(mt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(mt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(mt.BUFFER_CREATED,this.onBufferCreated,this),i.off(mt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(mt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(mt.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(i){if(this.levels){const{lastCurrentTime:t,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=n.startLevel;-1===o&&(n.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=n.nextAutoLevel),this.level=n.nextLoadLevel=o,this.loadedmetadata=!1}t>0&&-1===i&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),i=t),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var i;const{levels:n,level:o}=this,c=null==n||null==(i=n[o])?void 0:i.details;if(c&&(!c.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(c))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var t;const n=self.performance.now(),o=this.retryDate;(!o||n>=o||null!=(t=this.media)&&t.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:i,levelLastLoaded:t,levels:n,media:o}=this,{config:c,nextLoadLevel:u}=i;if(null===t||!o&&(this.startFragRequested||!c.startFragPrefetch)||this.altAudio&&this.audioOnly||null==n||!n[u])return;const g=n[u],A=this.getMainFwdBufferInfo();if(null===A)return;const U=this.getLevelDetails();if(U&&this._streamEnded(A,U)){const ct={};return this.altAudio&&(ct.type="video"),this.hls.trigger(mt.BUFFER_EOS,ct),void(this.state="ENDED")}i.loadLevel!==u&&-1===i.manualLevel&&this.log(`Adapting to level ${u} from level ${this.level}`),this.level=i.nextLoadLevel=u;const Z=g.details;if(!Z||"WAITING_LEVEL"===this.state||Z.live&&this.levelLastLoaded!==u)return this.level=u,void(this.state="WAITING_LEVEL");const ce=A.len,Pe=this.getMaxBufferLength(g.maxBitrate);if(ce>=Pe)return;this.backtrackFragment&&this.backtrackFragment.start>A.end&&(this.backtrackFragment=null);const Ne=this.backtrackFragment?this.backtrackFragment.start:A.end;let ze=this.getNextFragment(Ne,Z);if(this.couldBacktrack&&!this.fragPrevious&&ze&&"initSegment"!==ze.sn&&"OK"!==this.fragmentTracker.getState(ze)){var Je;const Et=(null!=(Je=this.backtrackFragment)?Je:ze).sn-Z.startSN,Ft=Z.fragments[Et-1];Ft&&ze.cc===Ft.cc&&(ze=Ft,this.fragmentTracker.removeFragment(Ft))}else this.backtrackFragment&&A.len&&(this.backtrackFragment=null);if(ze&&this.isLoopLoading(ze,Ne)){if(!ze.gap){const Et=this.audioOnly&&!this.altAudio?"audio":"video",Ft=("video"===Et?this.videoBuffer:this.mediaBuffer)||this.media;Ft&&this.afterBufferFlushed(Ft,Et,"main")}ze=this.getNextFragmentLoopLoading(ze,Z,A,"main",Pe)}ze&&(ze.initSegment&&!ze.initSegment.data&&!this.bitrateTest&&(ze=ze.initSegment),this.loadFragment(ze,g,Ne))}loadFragment(i,t,n){const o=this.fragmentTracker.getState(i);this.fragCurrent=i,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===i.sn?this._loadInitSegment(i,t):this.bitrateTest?(this.log(`Fragment ${i.sn} of level ${i.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(i,t)):(this.startFragRequested=!0,super.loadFragment(i,t,n)):this.clearTrackerIfNeeded(i)}getBufferedFrag(i){return this.fragmentTracker.getBufferedFrag(i,"main")}followingBufferedFrag(i){return i?this.getBufferedFrag(i.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:i,media:t}=this;if(null!=t&&t.readyState){let n;const o=this.getAppendedFrag(t.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const c=this.getLevelDetails();if(null!=c&&c.live){const g=this.getMainFwdBufferInfo();if(!g||g.len<2*c.targetduration)return}if(!t.paused&&i){const U=this.fragLastKbps;n=U&&this.fragCurrent?this.fragCurrent.duration*i[this.hls.nextLoadLevel].maxBitrate/(1e3*U)+1:0}else n=0;const u=this.getBufferedFrag(t.currentTime+n);if(u){const g=this.followingBufferedFrag(u);if(g){this.abortCurrentFrag();const U=g.duration,Z=Math.max(u.end,(g.maxStartPTS?g.maxStartPTS:g.start)+Math.min(Math.max(U-this.config.maxFragLookUpTolerance,.5*U),.75*U));this.flushMainBuffer(Z,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const i=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,i&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(i,t){super.flushMainBuffer(i,t,this.altAudio?"video":null)}onMediaAttached(i,t){super.onMediaAttached(i,t);const n=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new $R(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:i}=this;i&&this.onvplaying&&this.onvseeked&&(i.removeEventListener("playing",this.onvplaying),i.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const i=this.media,t=i?i.currentTime:null;qn(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(mt.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(i,t){let c,n=!1,o=!1;t.levels.forEach(u=>{c=u.audioCodec,c&&(-1!==c.indexOf("mp4a.40.2")&&(n=!0),-1!==c.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=n&&o&&!function uR(){var r;const i=iI();return"function"==typeof(null==i||null==(r=i.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(i,t){const{levels:n}=this;if(!n||"IDLE"!==this.state)return;const o=n[t.level];(!o.details||o.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(i,t){var n;const{levels:o}=this,c=t.level,u=t.details,g=u.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${c}`);this.log(`Level ${c} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""}, cc [${u.startCC}, ${u.endCC}] duration:${g}`);const A=o[c],U=this.fragCurrent;U&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(U.level!==t.level||U.urlId!==A.urlId)&&U.loader&&this.abortCurrentFrag();let Z=0;if(u.live||null!=(n=A.details)&&n.live){if(u.fragments[0]||(u.deltaUpdateFailed=!0),u.deltaUpdateFailed)return;Z=this.alignPlaylists(u,A.details)}if(A.details=u,this.levelLastLoaded=c,this.hls.trigger(mt.LEVEL_UPDATED,{details:u,level:c}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(u))return;this.state="IDLE"}this.startFragRequested?u.live&&this.synchronizeToLiveEdge(u):this.setStartPosition(u,Z),this.tick()}_handleFragmentLoadProgress(i){var t;const{frag:n,part:o,payload:c}=i,{levels:u}=this;if(!u)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const g=u[n.level],A=g.details;if(!A)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const U=g.videoCodec,Z=A.PTSKnown||!A.live,ce=null==(t=n.initSegment)?void 0:t.data,Pe=this._getAudioCodec(g),Ne=this.transmuxer=this.transmuxer||new CI(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),ze=o?o.index:-1,ct=new Yx(n.level,n.sn,n.stats.chunkCount,c.byteLength,ze,-1!==ze);Ne.push(c,ce,Pe,U,n,o,A.totalduration,Z,ct,this.initPTS[n.cc])}onAudioTrackSwitching(i,t){const n=this.altAudio;if(!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const u=this.fragCurrent;u&&(this.log("Switching to main audio track, cancel main fragment load"),u.abortRequests(),this.fragmentTracker.removeFragment(u)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const c=this.hls;n&&(c.trigger(mt.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),c.trigger(mt.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(i,t){const o=!!this.hls.audioTracks[t.id].url;if(o){const c=this.videoBuffer;c&&this.mediaBuffer!==c&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=c)}this.altAudio=o,this.tick()}onBufferCreated(i,t){const n=t.tracks;let o,c,u=!1;for(const g in n){const A=n[g];if("main"===A.id){if(c=g,o=A,"video"===g){const U=n[g];U&&(this.videoBuffer=U.buffer)}}else u=!0}u&&o?(this.log(`Alternate track found, use ${c}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(i,t){const{frag:n,part:o}=t;if(n&&"main"!==n.type)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${o?" p: "+o.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const c=o?o.stats:n.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,o)}onError(i,t){var n;if(t.fatal)this.state="ERROR";else switch(t.details){case un.FRAG_GAP:case un.FRAG_PARSING_ERROR:case un.FRAG_DECRYPT_ERROR:case un.FRAG_LOAD_ERROR:case un.FRAG_LOAD_TIMEOUT:case un.KEY_LOAD_ERROR:case un.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",t);break;case un.LEVEL_LOAD_ERROR:case un.LEVEL_LOAD_TIMEOUT:case un.LEVEL_PARSING_ERROR:!t.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(n=t.context)?void 0:n.type)&&(this.state="IDLE");break;case un.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case un.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:i,gapController:t}=this;i&&t&&i.readyState&&(!this.loadedmetadata&&fr.getBuffered(i).length||t.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=i.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(i,{type:t}){("audio"!==t||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===t?this.videoBuffer:this.mediaBuffer)||this.media,t,"main")}onLevelsUpdated(i,t){this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:i}=this;if(!i)return;const t=i.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(i.seeking)return void this.log(`could not seek to ${n}, already seeking at ${t}`);const o=fr.getBuffered(i),u=(o.length?o.start(0):0)-n;u>0&&(u<this.config.maxBufferHole||u<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${u} to match buffer start`),n+=u,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${t}`),i.currentTime=n}}_getAudioCodec(i){let t=this.config.defaultAudioCodec||i.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(i,t){i.bitrateTest=!0,this._doFragLoad(i,t).then(n=>{const{hls:o}=this;if(!n||this.fragContextChanged(i))return;t.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const c=i.stats;c.parsing.start=c.parsing.end=c.buffering.start=c.buffering.end=self.performance.now(),o.trigger(mt.FRAG_LOADED,n),i.bitrateTest=!1})}_handleTransmuxComplete(i){var t;const n="main",{hls:o}=this,{remuxResult:c,chunkMeta:u}=i,g=this.getCurrentContext(u);if(!g)return void this.resetWhenMissingContext(u);const{frag:A,part:U,level:Z}=g,{video:ce,text:Pe,id3:Ne,initSegment:ze}=c,{details:Je}=Z,ct=this.altAudio?void 0:c.audio;if(this.fragContextChanged(A))this.fragmentTracker.removeFragment(A);else{if(this.state="PARSING",ze){if(null!=ze&&ze.tracks){const Lt=A.initSegment||A;this._bufferInitSegment(Z,ze.tracks,Lt,u),o.trigger(mt.FRAG_PARSING_INIT_SEGMENT,{frag:Lt,id:n,tracks:ze.tracks})}const Et=ze.initPTS,Ft=ze.timescale;qn(Et)&&(this.initPTS[A.cc]={baseTime:Et,timescale:Ft},o.trigger(mt.INIT_PTS_FOUND,{frag:A,id:n,initPTS:Et,timescale:Ft}))}if(ce&&Je&&"initSegment"!==A.sn){const Et=Je.fragments[A.sn-1-Je.startSN],Ft=A.sn===Je.startSN,Lt=!Et||A.cc>Et.cc;if(!1!==c.independent){const{startPTS:Qt,endPTS:qt,startDTS:fn,endDTS:an}=ce;if(U)U.elementaryStreams[ce.type]={startPTS:Qt,endPTS:qt,startDTS:fn,endDTS:an};else if(ce.firstKeyFrame&&ce.independent&&1===u.id&&!Lt&&(this.couldBacktrack=!0),ce.dropped&&ce.independent){const _n=this.getMainFwdBufferInfo(),wn=(_n?_n.end:this.getLoadPosition())+this.config.maxBufferHole;if(!Ft&&wn<(ce.firstKeyFramePTS?ce.firstKeyFramePTS:Qt)-this.config.maxBufferHole&&!Lt)return void this.backtrack(A);Lt&&(A.gap=!0),A.setElementaryStreamInfo(ce.type,A.start,qt,A.start,an,!0)}A.setElementaryStreamInfo(ce.type,Qt,qt,fn,an),this.backtrackFragment&&(this.backtrackFragment=A),this.bufferFragmentData(ce,A,U,u,Ft||Lt)}else{if(!Ft&&!Lt)return void this.backtrack(A);A.gap=!0}}if(ct){const{startPTS:Et,endPTS:Ft,startDTS:Lt,endDTS:Qt}=ct;U&&(U.elementaryStreams.audio={startPTS:Et,endPTS:Ft,startDTS:Lt,endDTS:Qt}),A.setElementaryStreamInfo("audio",Et,Ft,Lt,Qt),this.bufferFragmentData(ct,A,U,u)}Je&&null!=Ne&&null!=(t=Ne.samples)&&t.length&&o.trigger(mt.FRAG_PARSING_METADATA,{id:n,frag:A,details:Je,samples:Ne.samples}),Je&&Pe&&o.trigger(mt.FRAG_PARSING_USERDATA,{id:n,frag:A,details:Je,samples:Pe.samples})}}_bufferInitSegment(i,t,n,o){if("PARSING"!==this.state)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:c,video:u,audiovideo:g}=t;if(c){let A=i.audioCodec;const U=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(A&&(A=-1!==A.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==c.metadata.channelCount&&-1===U.indexOf("firefox")&&(A="mp4a.40.5")),-1!==U.indexOf("android")&&"audio/mpeg"!==c.container&&(A="mp4a.40.2",this.log(`Android: force audio codec to ${A}`)),i.audioCodec&&i.audioCodec!==A&&this.log(`Swapping manifest audio codec "${i.audioCodec}" for "${A}"`),c.levelCodec=A,c.id="main",this.log(`Init audio buffer, container:${c.container}, codecs[selected/level/parsed]=[${A||""}/${i.audioCodec||""}/${c.codec}]`)}u&&(u.levelCodec=i.videoCodec,u.id="main",this.log(`Init video buffer, container:${u.container}, codecs[level/parsed]=[${i.videoCodec||""}/${u.codec}]`)),g&&this.log(`Init audiovideo buffer, container:${g.container}, codecs[level/parsed]=[${i.attrs.CODECS||""}/${g.codec}]`),this.hls.trigger(mt.BUFFER_CODECS,t),Object.keys(t).forEach(A=>{const Z=t[A].initSegment;null!=Z&&Z.byteLength&&this.hls.trigger(mt.BUFFER_APPENDING,{type:A,data:Z,frag:n,part:null,chunkMeta:o,parent:n.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(i){this.couldBacktrack=!0,this.backtrackFragment=i,this.resetTransmuxer(),this.flushBufferGap(i),this.fragmentTracker.removeFragment(i),this.fragPrevious=null,this.nextLoadPosition=i.start,this.state="IDLE"}checkFragmentChanged(){const i=this.media;let t=null;if(i&&i.readyState>1&&!1===i.seeking){const n=i.currentTime;if(fr.isBuffered(i,n)?t=this.getAppendedFrag(n):fr.isBuffered(i,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const o=this.fragPlaying,c=t.level;(!o||t.sn!==o.sn||o.level!==c||t.urlId!==o.urlId)&&(this.fragPlaying=t,this.hls.trigger(mt.FRAG_CHANGED,{frag:t}),(!o||o.level!==c)&&this.hls.trigger(mt.LEVEL_SWITCHED,{level:c}))}}}get nextLevel(){const i=this.nextBufferedFrag;return i?i.level:-1}get currentFrag(){const i=this.media;return i?this.fragPlaying||this.getAppendedFrag(i.currentTime):null}get currentProgramDateTime(){const i=this.media;if(i){const t=i.currentTime,n=this.currentFrag;if(n&&qn(t)&&qn(n.programDateTime))return new Date(n.programDateTime+1e3*(t-n.start))}return null}get currentLevel(){const i=this.currentFrag;return i?i.level:-1}get nextBufferedFrag(){const i=this.currentFrag;return i?this.followingBufferedFrag(i):null}get forceStartLoad(){return this._forceStartLoad}}class Rf{constructor(i,t=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=i,this.alpha_=i?Math.exp(Math.log(.5)/i):0,this.estimate_=t,this.totalWeight_=n}sample(i,t){const n=Math.pow(this.alpha_,i);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=i}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const i=1-Math.pow(this.alpha_,this.totalWeight_);if(i)return this.estimate_/i}return this.estimate_}}class QR{constructor(i,t,n,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Rf(i),this.fast_=new Rf(t),this.defaultTTFB_=o,this.ttfb_=new Rf(i)}update(i,t){const{slow_:n,fast_:o,ttfb_:c}=this;n.halfLife!==i&&(this.slow_=new Rf(i,n.getEstimate(),n.getTotalWeight())),o.halfLife!==t&&(this.fast_=new Rf(t,o.getEstimate(),o.getTotalWeight())),c.halfLife!==i&&(this.ttfb_=new Rf(i,c.getEstimate(),c.getTotalWeight()))}sample(i,t){const o=(i=Math.max(i,this.minDelayMs_))/1e3,c=8*t/o;this.fast_.sample(o,c),this.slow_.sample(o,c)}sampleTTFB(i){const t=i/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(i,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class SI{constructor(){this.chunks=[],this.dataLength=0}push(i){this.chunks.push(i),this.dataLength+=i.length}flush(){const{chunks:i,dataLength:t}=this;let n;return i.length?(n=1===i.length?i[0]:function eN(r,i){const t=new Uint8Array(i);let n=0;for(let o=0;o<r.length;o++){const c=r[o];t.set(c,n),n+=c.length}return t}(i,t),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function xI(r,i){if(r.length!==i.length)return!1;for(let t=0;t<r.length;t++)if(!iN(r[t].attrs,i[t].attrs))return!1;return!0}function iN(r,i){const t=r["STABLE-RENDITION-ID"];return t?t===i["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(n=>r[n]!==i[n])}class oN{constructor(i){this.buffered=void 0;const t=(n,o,c)=>{if((o>>>=0)>c-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${c})`);return i[o][n]};this.buffered={get length(){return i.length},end:n=>t("end",n,i.length),start:n=>t("start",n,i.length)}}}function oM(r){const i=[];for(let t=0;t<r.length;t++){const n=r[t];("subtitles"===n.kind||"captions"===n.kind)&&n.label&&i.push(r[t])}return i}class sN{constructor(i){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=i}append(i,t){const n=this.queues[t];n.push(i),1===n.length&&this.buffers[t]&&this.executeNext(t)}insertAbort(i,t){this.queues[t].unshift(i),this.executeNext(t)}appendBlocker(i){let t;const n=new Promise(c=>{t=c});return this.append({execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}},i),n}executeNext(i){const{buffers:t,queues:n}=this,o=t[i],c=n[i];if(c.length){const u=c[0];try{u.execute()}catch(g){Jt.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),u.onError(g),null!=o&&o.updating||(c.shift(),this.executeNext(i))}}}shiftAndExecuteNext(i){this.queues[i].shift(),this.executeNext(i)}current(i){return this.queues[i][0]}}const AI=K0(),wI=/([ha]vc.)(?:\.[^.,]+)+/,II={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},OI=function(i){let t=i;return II.hasOwnProperty(i)&&(t=II[i]),String.fromCharCode(t)},vl=100,cN={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},dN={17:2,18:4,21:6,22:8,23:10,19:13,20:15},uN={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},fN={25:2,26:4,29:6,30:8,31:10,27:13,28:15},hN=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class mN{constructor(){this.time=null,this.verboseLevel=0}log(i,t){if(this.verboseLevel>=i){const n="function"==typeof t?t():t;Jt.log(`${this.time} [${i}] ${n}`)}}}const Od=function(i){const t=[];for(let n=0;n<i.length;n++)t.push(i[n].toString(16));return t};class PI{constructor(i,t,n,o,c){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=i||"white",this.underline=t||!1,this.italics=n||!1,this.background=o||"black",this.flash=c||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(i){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const o=t[n];i.hasOwnProperty(o)&&(this[o]=i[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(i){return this.foreground===i.foreground&&this.underline===i.underline&&this.italics===i.italics&&this.background===i.background&&this.flash===i.flash}copy(i){this.foreground=i.foreground,this.underline=i.underline,this.italics=i.italics,this.background=i.background,this.flash=i.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class pN{constructor(i,t,n,o,c,u){this.uchar=void 0,this.penState=void 0,this.uchar=i||" ",this.penState=new PI(t,n,o,c,u)}reset(){this.uchar=" ",this.penState.reset()}setChar(i,t){this.uchar=i,this.penState.copy(t)}setPenState(i){this.penState.copy(i)}equals(i){return this.uchar===i.uchar&&this.penState.equals(i.penState)}copy(i){this.uchar=i.uchar,this.penState.copy(i.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class gN{constructor(i){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let t=0;t<vl;t++)this.chars.push(new pN);this.logger=i,this.pos=0,this.currPenState=new PI}equals(i){let t=!0;for(let n=0;n<vl;n++)if(!this.chars[n].equals(i.chars[n])){t=!1;break}return t}copy(i){for(let t=0;t<vl;t++)this.chars[t].copy(i.chars[t])}isEmpty(){let i=!0;for(let t=0;t<vl;t++)if(!this.chars[t].isEmpty()){i=!1;break}return i}setCursor(i){this.pos!==i&&(this.pos=i),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>vl&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=vl)}moveCursor(i){const t=this.pos+i;if(i>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(i){i>=144&&this.backSpace();const t=OI(i);this.pos>=vl?this.logger.log(0,()=>"Cannot insert "+i.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(i){let t;for(t=i;t<vl;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const i=[];let t=!0;for(let n=0;n<vl;n++){const o=this.chars[n].uchar;" "!==o&&(t=!1),i.push(o)}return t?"":i.join("")}setPenStyles(i){this.currPenState.setStyles(i),this.chars[this.pos].setPenState(this.currPenState)}}class aM{constructor(i){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let t=0;t<15;t++)this.rows.push(new gN(i));this.logger=i,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let i=0;i<15;i++)this.rows[i].clear();this.currRow=14}equals(i){let t=!0;for(let n=0;n<15;n++)if(!this.rows[n].equals(i.rows[n])){t=!1;break}return t}copy(i){for(let t=0;t<15;t++)this.rows[t].copy(i.rows[t])}isEmpty(){let i=!0;for(let t=0;t<15;t++)if(!this.rows[t].isEmpty()){i=!1;break}return i}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(i){this.rows[this.currRow].insertChar(i)}setPen(i){this.rows[this.currRow].setPenStyles(i)}moveCursor(i){this.rows[this.currRow].moveCursor(i)}setCursor(i){this.logger.log(2,"setCursor: "+i),this.rows[this.currRow].setCursor(i)}setPAC(i){this.logger.log(2,()=>"pacData = "+JSON.stringify(i));let t=i.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let g=0;g<15;g++)this.rows[g].clear();const c=this.currRow+1-this.nrRollUpRows,u=this.lastOutputScreen;if(u){const g=u.rows[c].cueStartTime,A=this.logger.time;if(g&&null!==A&&g<A)for(let U=0;U<this.nrRollUpRows;U++)this.rows[t-this.nrRollUpRows+U+1].copy(u.rows[c+U])}}this.currRow=t;const n=this.rows[this.currRow];if(null!==i.indent){const u=Math.max(i.indent-1,0);n.setCursor(i.indent),i.color=n.chars[u].penState.foreground}this.setPen({foreground:i.color,underline:i.underline,italics:i.italics,background:"black",flash:!1})}setBkgData(i){this.logger.log(2,()=>"bkgData = "+JSON.stringify(i)),this.backSpace(),this.setPen(i),this.insertChar(32)}setRollUpRows(i){this.nrRollUpRows=i}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const t=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(i){i=i||!1;const t=[];let n="",o=-1;for(let c=0;c<15;c++){const u=this.rows[c].getTextString();u&&(o=c+1,t.push(i?"Row "+o+": '"+u+"'":u.trim()))}return t.length>0&&(n=i?"["+t.join(" | ")+"]":t.join("\n")),n}getTextAndFormat(){return this.rows}}class RI{constructor(i,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=i,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new aM(n),this.nonDisplayedMemory=new aM(n),this.lastOutputScreen=new aM(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(i){this.outputFilter=i}setPAC(i){this.writeScreen.setPAC(i)}setBkgData(i){this.writeScreen.setBkgData(i)}setMode(i){i!==this.mode&&(this.mode=i,this.logger.log(2,()=>"MODE="+i),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=i)}insertChars(i){for(let n=0;n<i.length;n++)this.writeScreen.insertChar(i[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(i){this.logger.log(2,"RU("+i+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(i)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const i=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=i,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(i){this.logger.log(2,"TO("+i+") - Tab Offset"),this.writeScreen.moveCursor(i)}ccMIDROW(i){const t={flash:!1};if(t.underline=i%2==1,t.italics=i>=46,t.italics)t.foreground="white";else{const n=Math.floor(i/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(i=!1){const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),i&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(i){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,i,this.displayedMemory),this.cueStartTime=i))}}class NI{constructor(i,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new mN;this.channels=[null,new RI(i,t,o),new RI(i+1,n,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(i){return this.channels[i].getHandler()}setHandler(i,t){this.channels[i].setHandler(t)}addData(i,t){let n,o,c,u=!1;this.logger.time=i;for(let g=0;g<t.length;g+=2)if(o=127&t[g],c=127&t[g+1],0!==o||0!==c){if(this.logger.log(3,"["+Od([t[g],t[g+1]])+"] -> ("+Od([o,c])+")"),n=this.parseCmd(o,c),n||(n=this.parseMidrow(o,c)),n||(n=this.parsePAC(o,c)),n||(n=this.parseBackgroundAttributes(o,c)),!n&&(u=this.parseChars(o,c),u)){const A=this.currentChannel;A&&A>0?this.channels[A].insertChars(u):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!n&&!u&&this.logger.log(2,"Couldn't parse cleaned data "+Od([o,c])+" orig: "+Od([t[g],t[g+1]]))}}parseCmd(i,t){const{cmdHistory:n}=this;if(!((20===i||28===i||21===i||29===i)&&t>=32&&t<=47||(23===i||31===i)&&t>=33&&t<=35))return!1;if(LI(i,t,n))return Nf(null,null,n),this.logger.log(3,"Repeated command ("+Od([i,t])+") is dropped"),!0;const u=20===i||21===i||23===i?1:2,g=this.channels[u];return 20===i||21===i||28===i||29===i?32===t?g.ccRCL():33===t?g.ccBS():34===t?g.ccAOF():35===t?g.ccAON():36===t?g.ccDER():37===t?g.ccRU(2):38===t?g.ccRU(3):39===t?g.ccRU(4):40===t?g.ccFON():41===t?g.ccRDC():42===t?g.ccTR():43===t?g.ccRTD():44===t?g.ccEDM():45===t?g.ccCR():46===t?g.ccENM():47===t&&g.ccEOC():g.ccTO(t-32),Nf(i,t,n),this.currentChannel=u,!0}parseMidrow(i,t){let n=0;if((17===i||25===i)&&t>=32&&t<=47){if(n=17===i?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[n];return!!o&&(o.ccMIDROW(t),this.logger.log(3,"MIDROW ("+Od([i,t])+")"),!0)}return!1}parsePAC(i,t){let n;const o=this.cmdHistory;if(!((i>=17&&i<=23||i>=25&&i<=31)&&t>=64&&t<=127||(16===i||24===i)&&t>=64&&t<=95))return!1;if(LI(i,t,o))return Nf(null,null,o),!0;const g=i<=23?1:2;n=t>=64&&t<=95?1===g?cN[i]:uN[i]:1===g?dN[i]:fN[i];const A=this.channels[g];return!!A&&(A.setPAC(this.interpretPAC(n,t)),Nf(i,t,o),this.currentChannel=g,!0)}interpretPAC(i,t){let n;const o={color:null,italics:!1,indent:null,underline:!1,row:i};return n=t>95?t-96:t-64,o.underline=1==(1&n),n<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((n-16)/2),o}parseChars(i,t){let n,o=null,c=null;if(i>=25?(n=2,c=i-8):(n=1,c=i),c>=17&&c<=19){let u;u=17===c?t+80:18===c?t+112:t+144,this.logger.log(2,"Special char '"+OI(u)+"' in channel "+n),o=[u]}else i>=32&&i<=127&&(o=0===t?[i]:[i,t]);if(o){const u=Od(o);this.logger.log(3,"Char codes =  "+u.join(",")),Nf(i,t,this.cmdHistory)}return o}parseBackgroundAttributes(i,t){if(!((16===i||24===i)&&t>=32&&t<=47||(23===i||31===i)&&t>=45&&t<=47))return!1;let c;const u={};return 16===i||24===i?(c=Math.floor((t-32)/2),u.background=hN[c],t%2==1&&(u.background=u.background+"_semi")):45===t?u.background="transparent":(u.foreground="black",47===t&&(u.underline=!0)),this.channels[i<=23?1:2].setBkgData(u),Nf(i,t,this.cmdHistory),!0}reset(){for(let i=0;i<Object.keys(this.channels).length;i++){const t=this.channels[i];t&&t.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(i){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(i)}}}function Nf(r,i,t){t.a=r,t.b=i}function LI(r,i,t){return t.a===r&&t.b===i}class ib{constructor(i,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=i,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(i,t,n){(null===this.startTime||this.startTime>i)&&(this.startTime=i),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var sM=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],i=["start","middle","end","left","right"];function t(g,A){if("string"!=typeof A||!Array.isArray(g))return!1;const U=A.toLowerCase();return!!~g.indexOf(U)&&U}function o(g){return t(i,g)}function c(g,...A){let U=1;for(;U<arguments.length;U++){const Z=arguments[U];for(const ce in Z)g[ce]=Z[ce]}return g}function u(g,A,U){const Z=this,ce={enumerable:!0};Z.hasBeenReset=!1;let Pe="",Ne=!1,ze=g,Je=A,ct=U,Et=null,Ft="",Lt=!0,Qt="auto",qt="start",fn=50,an="middle",_n=50,wn="middle";Object.defineProperty(Z,"id",c({},ce,{get:function(){return Pe},set:function(sn){Pe=""+sn}})),Object.defineProperty(Z,"pauseOnExit",c({},ce,{get:function(){return Ne},set:function(sn){Ne=!!sn}})),Object.defineProperty(Z,"startTime",c({},ce,{get:function(){return ze},set:function(sn){if("number"!=typeof sn)throw new TypeError("Start time must be set to a number.");ze=sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"endTime",c({},ce,{get:function(){return Je},set:function(sn){if("number"!=typeof sn)throw new TypeError("End time must be set to a number.");Je=sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"text",c({},ce,{get:function(){return ct},set:function(sn){ct=""+sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"region",c({},ce,{get:function(){return Et},set:function(sn){Et=sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"vertical",c({},ce,{get:function(){return Ft},set:function(sn){const Gn=function n(g){return t(r,g)}(sn);if(!1===Gn)throw new SyntaxError("An invalid or illegal string was specified.");Ft=Gn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"snapToLines",c({},ce,{get:function(){return Lt},set:function(sn){Lt=!!sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"line",c({},ce,{get:function(){return Qt},set:function(sn){if("number"!=typeof sn&&"auto"!==sn)throw new SyntaxError("An invalid number or illegal string was specified.");Qt=sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"lineAlign",c({},ce,{get:function(){return qt},set:function(sn){const Gn=o(sn);if(!Gn)throw new SyntaxError("An invalid or illegal string was specified.");qt=Gn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"position",c({},ce,{get:function(){return fn},set:function(sn){if(sn<0||sn>100)throw new Error("Position must be between 0 and 100.");fn=sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"positionAlign",c({},ce,{get:function(){return an},set:function(sn){const Gn=o(sn);if(!Gn)throw new SyntaxError("An invalid or illegal string was specified.");an=Gn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"size",c({},ce,{get:function(){return _n},set:function(sn){if(sn<0||sn>100)throw new Error("Size must be between 0 and 100.");_n=sn,this.hasBeenReset=!0}})),Object.defineProperty(Z,"align",c({},ce,{get:function(){return wn},set:function(sn){const Gn=o(sn);if(!Gn)throw new SyntaxError("An invalid or illegal string was specified.");wn=Gn,this.hasBeenReset=!0}})),Z.displayState=void 0}return u.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},u}();class _N{decode(i,t){if(!i)return"";if("string"!=typeof i)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(i))}}function FI(r){function i(n,o,c,u){return 3600*(0|n)+60*(0|o)+(0|c)+parseFloat(u||0)}const t=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?i(t[2],t[3],0,t[4]):i(t[1],t[2],t[3],t[4]):null}class vN{constructor(){this.values=Object.create(null)}set(i,t){!this.get(i)&&""!==t&&(this.values[i]=t)}get(i,t,n){return n?this.has(i)?this.values[i]:t[n]:this.has(i)?this.values[i]:t}has(i){return i in this.values}alt(i,t,n){for(let o=0;o<n.length;++o)if(t===n[o]){this.set(i,t);break}}integer(i,t){/^-?\d+$/.test(t)&&this.set(i,parseInt(t,10))}percent(i,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(i,n),!0}return!1}}function BI(r,i,t,n){const o=n?r.split(n):[r];for(const c in o){if("string"!=typeof o[c])continue;const u=o[c].split(t);2===u.length&&i(u[0],u[1])}}const lM=new sM(0,0,""),rb="middle"===lM.align?"middle":"center";function yN(r,i,t){const n=r;function o(){const g=FI(r);if(null===g)throw new Error("Malformed timestamp: "+n);return r=r.replace(/^[^\sa-zA-Z-]+/,""),g}function u(){r=r.replace(/^\s+/,"")}if(u(),i.startTime=o(),u(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);r=r.slice(3),u(),i.endTime=o(),u(),function c(g,A){const U=new vN;BI(g,function(Pe,Ne){let ze;switch(Pe){case"region":for(let Je=t.length-1;Je>=0;Je--)if(t[Je].id===Ne){U.set(Pe,t[Je].region);break}break;case"vertical":U.alt(Pe,Ne,["rl","lr"]);break;case"line":ze=Ne.split(","),U.integer(Pe,ze[0]),U.percent(Pe,ze[0])&&U.set("snapToLines",!1),U.alt(Pe,ze[0],["auto"]),2===ze.length&&U.alt("lineAlign",ze[1],["start",rb,"end"]);break;case"position":ze=Ne.split(","),U.percent(Pe,ze[0]),2===ze.length&&U.alt("positionAlign",ze[1],["start",rb,"end","line-left","line-right","auto"]);break;case"size":U.percent(Pe,Ne);break;case"align":U.alt(Pe,Ne,["start",rb,"end","left","right"])}},/:/,/\s/),A.region=U.get("region",null),A.vertical=U.get("vertical","");let Z=U.get("line","auto");"auto"===Z&&-1===lM.line&&(Z=-1),A.line=Z,A.lineAlign=U.get("lineAlign","start"),A.snapToLines=U.get("snapToLines",!0),A.size=U.get("size",100),A.align=U.get("align",rb);let ce=U.get("position","auto");"auto"===ce&&50===lM.position&&(ce="start"===A.align||"left"===A.align?0:"end"===A.align||"right"===A.align?100:50),A.position=ce}(r,i)}function UI(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class bN{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new _N,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(i){const t=this;function n(){let c=t.buffer,u=0;for(c=UI(c);u<c.length&&"\r"!==c[u]&&"\n"!==c[u];)++u;const g=c.slice(0,u);return"\r"===c[u]&&++u,"\n"===c[u]&&++u,t.buffer=c.slice(u),g}function o(c){BI(c,function(u,g){},/:/)}i&&(t.buffer+=t.decoder.decode(i,{stream:!0}));try{let c="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;c=n();const g=c.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==g||!g[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let u=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(u?u=!1:c=n(),t.state){case"HEADER":/:/.test(c)?o(c):c||(t.state="ID");continue;case"NOTE":c||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){t.state="NOTE";break}if(!c)continue;if(t.cue=new sM(0,0,""),t.state="CUE",-1===c.indexOf("--\x3e")){t.cue.id=c;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{yN(c,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const g=-1!==c.indexOf("--\x3e");if(!c||g&&(u=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=c}continue;case"BADCUE":c||(t.state="ID")}}}catch{"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const i=this;try{if((i.cue||"HEADER"===i.state)&&(i.buffer+="\n\n",i.parse()),"INITIAL"===i.state||"BADWEBVTT"===i.state)throw new Error("Malformed WebVTT signature.")}catch(t){i.onparsingerror&&i.onparsingerror(t)}return i.onflush&&i.onflush(),this}}const EN=/\r\n|\n\r|\n|\r/g,cM=function(i,t,n=0){return i.slice(n,n+t.length)===t},dM=function(i){let t=5381,n=i.length;for(;n;)t=33*t^i.charCodeAt(--n);return(t>>>0).toString()};function uM(r,i,t){return dM(r.toString())+dM(i.toString())+dM(t)}const fM="stpp.ttml.im1t",VI=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,jI=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,DN={left:"start",center:"center",right:"end",start:"start",end:"end"};function GI(r,i,t,n){const o=Mi(new Uint8Array(r),["mdat"]);if(0===o.length)return void n(new Error("Could not parse IMSC1 mdat"));const c=o.map(g=>zt(g)),u=function NR(r,i,t=1,n=!1){return Jx(r,i,1/t,n)}(i.baseTime,1,i.timescale);try{c.forEach(g=>t(function xN(r,i){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const c={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},u=Object.keys(c).reduce((ce,Pe)=>(ce[Pe]=o.getAttribute(`ttp:${Pe}`)||c[Pe],ce),{}),g="preserve"!==o.getAttribute("xml:space"),A=HI(hM(o,"styling","style")),U=HI(hM(o,"layout","region")),Z=hM(o,"body","[begin]");return[].map.call(Z,ce=>{const Pe=YI(ce,g);if(!Pe||!ce.hasAttribute("begin"))return null;const Ne=pM(ce.getAttribute("begin"),u),ze=pM(ce.getAttribute("dur"),u);let Je=pM(ce.getAttribute("end"),u);if(null===Ne)throw KI(ce);if(null===Je){if(null===ze)throw KI(ce);Je=Ne+ze}const ct=new sM(Ne-i,Je-i,Pe);ct.id=uM(ct.startTime,ct.endTime,ct.text);const Lt=function MN(r,i,t){const n="http://www.w3.org/ns/ttml#styling";let o=null;const u=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return u&&t.hasOwnProperty(u)&&(o=t[u]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((g,A)=>{const U=mM(i,n,A)||mM(r,n,A)||mM(o,n,A);return U&&(g[A]=U),g},{})}(U[ce.getAttribute("region")],A[ce.getAttribute("style")],A),{textAlign:Qt}=Lt;if(Qt){const qt=DN[Qt];qt&&(ct.lineAlign=qt),ct.align=Qt}return xr(ct,Lt),ct}).filter(ce=>null!==ce)}(g,u)))}catch(g){n(g)}}function hM(r,i,t){const n=r.getElementsByTagName(i)[0];return n?[].slice.call(n.querySelectorAll(t)):[]}function HI(r){return r.reduce((i,t)=>{const n=t.getAttribute("xml:id");return n&&(i[n]=t),i},{})}function YI(r,i){return[].slice.call(r.childNodes).reduce((t,n,o)=>{var c;return"br"===n.nodeName&&o?t+"\n":null!=(c=n.childNodes)&&c.length?YI(n,i):i?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent},"")}function mM(r,i,t){return r&&r.hasAttributeNS(i,t)?r.getAttributeNS(i,t):null}function KI(r){return new Error(`Could not parse ttml timestamp ${r}`)}function pM(r,i){if(!r)return null;let t=FI(r);return null===t&&(VI.test(r)?t=function AN(r,i){const t=VI.exec(r);return 3600*(0|t[1])+60*(0|t[2])+(0|t[3])+((0|t[4])+(0|t[5])/i.subFrameRate)/i.frameRate}(r,i):jI.test(r)&&(t=function wN(r,i){const t=jI.exec(r),n=Number(t[1]);switch(t[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/i.frameRate;case"t":return n/i.tickRate}return n}(r,i))),t}function ON(r,i){return!!r&&r.label===i.name&&!(r.textTrack1||r.textTrack2)}function PN(r,i,t,n){return Math.min(i,n)-Math.max(r,t)}class gM{constructor(i){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=i,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(i){this.streamController=i}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:i}=this;i.on(mt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.on(mt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(mt.BUFFER_CODECS,this.onBufferCodecs,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:i}=this;i.off(mt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.off(mt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(mt.BUFFER_CODECS,this.onBufferCodecs,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(i,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(i,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null}onManifestParsed(i,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onBufferCodecs(i,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const i=this.hls.levels;if(i.length){const t=this.hls;t.autoLevelCapping=this.getMaxLevel(i.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(i){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter((o,c)=>this.isLevelAllowed(o)&&c<=i);return this.clientRect=null,gM.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const i=this.media,t={width:0,height:0};if(i){const n=i.getBoundingClientRect();t.width=n.width,t.height=n.height,!t.width&&!t.height&&(t.width=n.right-n.left||i.width||0,t.height=n.bottom-n.top||i.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let i=1;if(!this.hls.config.ignoreDevicePixelRatio)try{i=self.devicePixelRatio}catch{}return i}isLevelAllowed(i){return!this.restrictedLevels.some(n=>i.bitrate===n.bitrate&&i.width===n.width&&i.height===n.height)}static getMaxLevelByMediaSize(i,t,n){if(null==i||!i.length)return-1;const o=(u,g)=>!g||u.width!==g.width||u.height!==g.height;let c=i.length-1;for(let u=0;u<i.length;u+=1){const g=i[u];if((g.width>=t||g.height>=n)&&o(g,i[u+1])){c=u;break}}return c}}const ob="[eme]";let NN=(()=>{class r{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Jt.debug.bind(Jt,ob),this.log=Jt.log.bind(Jt,ob),this.warn=Jt.warn.bind(Jt,ob),this.error=Jt.error.bind(Jt,ob),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mt.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mt.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:n,widevineLicenseUrl:o}=this.config,c=n[t];if(c)return c.licenseUrl;if(t===gr.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:n}=this.config,o=n[t];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const n=this.hls.levels,o=(g,A,U)=>!!g&&U.indexOf(g)===A,c=n.map(g=>g.audioCodec).filter(o),u=n.map(g=>g.videoCodec).filter(o);return c.length+u.length===0&&u.push("avc1.42e01e"),new Promise((g,A)=>{const U=Z=>{const ce=Z.shift();this.getMediaKeysPromise(ce,c,u).then(Pe=>g({keySystem:ce,mediaKeys:Pe})).catch(Pe=>{Z.length?U(Z):A(Pe instanceof Na?Pe:new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_NO_ACCESS,error:Pe,fatal:!0},Pe.message))})};U(t)})}requestMediaKeySystemAccess(t,n){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let c=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===wx&&"http:"===self.location.protocol&&(c=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(c))}return o(t,n)}getMediaKeysPromise(t,n,o){const c=function b1(r,i,t,n){let o;switch(r){case gr.FAIRPLAY:o=["cenc","sinf"];break;case gr.WIDEVINE:case gr.PLAYREADY:o=["cenc"];break;case gr.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function Ix(r,i,t,n){return[{initDataTypes:r,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:i.map(c=>({contentType:`audio/mp4; codecs="${c}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:t.map(c=>({contentType:`video/mp4; codecs="${c}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}(o,i,t,n)}(t,n,o,this.config.drmSystemOptions),u=this.keySystemAccessPromises[t];let g=u?.keySystemAccess;if(!g){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(c)}`),g=this.requestMediaKeySystemAccess(t,c);const A=this.keySystemAccessPromises[t]={keySystemAccess:g};return g.catch(U=>{this.log(`Failed to obtain access to key-system "${t}": ${U}`)}),g.then(U=>{this.log(`Access for key-system "${U.keySystem}" obtained`);const Z=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),A.mediaKeys=U.createMediaKeys().then(ce=>(this.log(`Media-keys created for "${t}"`),Z.then(Pe=>Pe?this.setMediaKeysServerCertificate(ce,t,Pe):ce))),A.mediaKeys.catch(ce=>{this.error(`Failed to create media-keys for "${t}"}: ${ce}`)}),A.mediaKeys})}return g.then(()=>u.mediaKeys)}createMediaKeySessionContext({decryptdata:t,keySystem:n,mediaKeys:o}){this.log(`Creating key-system session "${n}" keyId: ${kn_hexDump(t.keyId||[])}`);const c=o.createSession(),u={decryptdata:t,keySystem:n,mediaKeys:o,mediaKeysSession:c,keyStatus:"status-pending"};return this.mediaKeySessions.push(u),u}renewKeySession(t){const n=t.decryptdata;if(n.pssh){const o=this.createMediaKeySessionContext(t),c=this.getKeyIdString(n);this.keyIdToKeySessionPromise[c]=this.generateRequestWithPreferredKeySession(o,"cenc",n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return kn_hexDump(t.keyId)}updateKeySession(t,n){var o;const c=t.mediaKeysSession;return this.log(`Updating key-session "${c.sessionId}" for keyID ${kn_hexDump((null==(o=t.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${n&&n.byteLength})`),c.update(n)}selectKeySystemFormat(t){const n=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise((n,o)=>{const c=G0(this.config),u=t.map(Dx).filter(g=>!!g&&-1!==c.indexOf(g));return this.getKeySystemSelectionPromise(u).then(({keySystem:g})=>{const A=Ax(g);A?n(A):o(new Error(`Unable to find format for key-system "${g}"`))}).catch(o)})}loadKey(t){const n=t.keyInfo.decryptdata,o=this.getKeyIdString(n),c=`(keyId: ${o} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${c}`);let u=this.keyIdToKeySessionPromise[o];return u||(u=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(n).then(({keySystem:g,mediaKeys:A})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${c}`),this.attemptSetMediaKeys(g,A).then(()=>{this.throwIfDestroyed();const U=this.createMediaKeySessionContext({keySystem:g,mediaKeys:A,decryptdata:n});return this.generateRequestWithPreferredKeySession(U,"cenc",n.pssh,"playlist-key")}))),u.catch(g=>this.handleError(g))),u}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),this.hls.trigger(mt.ERROR,t instanceof Na?t.data:{type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const n=this.getKeyIdString(t),o=this.keyIdToKeySessionPromise[n];if(!o){const c=Dx(t.keyFormat),u=c?[c]:G0(this.config);return this.attemptKeySystemAccess(u)}return o}getKeySystemSelectionPromise(t){if(t.length||(t=G0(this.config)),0===t.length)throw new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:n,initData:o}=t;if(this.debug(`"${t.type}" event: init data type: "${n}"`),null===o)return;let c,u;if("sinf"===n&&this.config.drmSystems[gr.FAIRPLAY]){const ce=Jn(new Uint8Array(o));try{const Pe=Lp(JSON.parse(ce).sinf),Ne=T1(new Uint8Array(Pe));if(!Ne)return;c=Ne.subarray(8,24),u=gr.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const ce=function _P(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const i={version:0,systemId:"",kids:null,data:null},t=new DataView(r),n=t.getUint32(0);if(r.byteLength!==n&&n>44||1886614376!==t.getUint32(4)||(i.version=t.getUint32(8)>>>24,i.version>1))return null;i.systemId=kn_hexDump(new Uint8Array(r,12,16));const c=t.getUint32(28);if(0===i.version){if(n-32<c)return null;i.data=new Uint8Array(r,32,c)}else if(1===i.version){i.kids=[];for(let u=0;u<c;u++)i.kids.push(new Uint8Array(r,32+16*u,16))}return i}(o);if(null===ce)return;0===ce.version&&"edef8ba979d64acea3c827dcd51d21ed"===ce.systemId&&ce.data&&(c=ce.data.subarray(8,24)),u=function Mx(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return gr.WIDEVINE}(ce.systemId)}if(!u||!c)return;const g=kn_hexDump(c),{keyIdToKeySessionPromise:A,mediaKeySessions:U}=this;let Z=A[g];for(let ce=0;ce<U.length;ce++){const Pe=U[ce],Ne=Pe.decryptdata;if(Ne.pssh||!Ne.keyId)continue;const ze=kn_hexDump(Ne.keyId);if(g===ze||-1!==Ne.uri.replace(/-/g,"").indexOf(g)){Z=A[ze],delete A[ze],Ne.pssh=new Uint8Array(o),Ne.keyId=c,Z=A[g]=Z.then(()=>this.generateRequestWithPreferredKeySession(Pe,n,o,"encrypted-event-key-match"));break}}Z||(Z=A[g]=this.getKeySystemSelectionPromise([u]).then(({keySystem:ce,mediaKeys:Pe})=>{var Ne;this.throwIfDestroyed();const ze=new Fp("ISO-23001-7",g,null!=(Ne=Ax(ce))?Ne:"");return ze.pssh=new Uint8Array(o),ze.keyId=c,this.attemptSetMediaKeys(ce,Pe).then(()=>{this.throwIfDestroyed();const Je=this.createMediaKeySessionContext({decryptdata:ze,keySystem:ce,mediaKeys:Pe});return this.generateRequestWithPreferredKeySession(Je,n,o,"encrypted-event-no-match")})})),Z.catch(ce=>this.handleError(ce))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,n){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const c=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(c),c.then(()=>{this.log(`Media-keys set for "${t}"`),o.push(c),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(u=>-1===o.indexOf(u))})}generateRequestWithPreferredKeySession(t,n,o,c){var u,g;const A=null==(u=this.config.drmSystems)||null==(g=u[t.keySystem])?void 0:g.generateRequest;if(A)try{const Ne=A.call(this.hls,n,o,t);if(!Ne)throw new Error("Invalid response from configured generateRequest filter");n=Ne.initDataType,o=t.decryptdata.pssh=Ne.initData?new Uint8Array(Ne.initData):null}catch(Ne){var U;if(this.warn(Ne.message),null!=(U=this.hls)&&U.config.debug)throw Ne}if(null===o)return this.log(`Skipping key-session request for "${c}" (no initData)`),Promise.resolve(t);const Z=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${c}": ${Z} (init data type: ${n} length: ${o?o.byteLength:null})`);const ce=new nM;t.mediaKeysSession.onmessage=Ne=>{const ze=t.mediaKeysSession;if(!ze)return void ce.emit("error",new Error("invalid state"));const{messageType:Je,message:ct}=Ne;this.log(`"${Je}" message event for session "${ze.sessionId}" message size: ${ct.byteLength}`),"license-request"===Je||"license-renewal"===Je?this.renewLicense(t,ct).catch(Et=>{this.handleError(Et),ce.emit("error",Et)}):"license-release"===Je?t.keySystem===gr.FAIRPLAY&&(this.updateKeySession(t,Sx("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${Je}"`)},t.mediaKeysSession.onkeystatuseschange=Ne=>{if(!t.mediaKeysSession)return void ce.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const Je=t.keyStatus;ce.emit("keyStatus",Je),"expired"===Je&&(this.warn(`${t.keySystem} expired for key ${Z}`),this.renewKeySession(t))};const Pe=new Promise((Ne,ze)=>{ce.on("error",ze),ce.on("keyStatus",Je=>{Je.startsWith("usable")?Ne():"output-restricted"===Je?ze(new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===Je?ze(new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${Je}"`)):"expired"===Je?ze(new Error("key expired while generating request")):this.warn(`unhandled key status change "${Je}"`)})});return t.mediaKeysSession.generateRequest(n,o).then(()=>{var Ne;this.log(`Request generated for key-session "${null==(Ne=t.mediaKeysSession)?void 0:Ne.sessionId}" keyId: ${Z}`)}).catch(Ne=>{throw new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_NO_SESSION,error:Ne,fatal:!1},`Error generating key-session request: ${Ne}`)}).then(()=>Pe).catch(Ne=>{throw ce.removeAllListeners(),this.removeSession(t),Ne}).then(()=>(ce.removeAllListeners(),t))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach((n,o)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${kn_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${kn_hexDump(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=n})}fetchServerCertificate(t){const n=this.config,c=new(0,n.loader)(n),u=this.getServerCertificateUrl(t);return u?(this.log(`Fetching serverCertificate for "${t}"`),new Promise((g,A)=>{const U={responseType:"arraybuffer",url:u},Z=n.certLoadPolicy.default;c.load(U,{loadPolicy:Z,timeout:Z.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ne,ze,Je,ct)=>{g(Ne.data)},onError:(Ne,ze,Je,ct)=>{A(new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Je,response:ao({url:U.url,data:void 0},Ne)},`"${t}" certificate request failed (${u}). Status: ${Ne.code} (${Ne.text})`))},onTimeout:(Ne,ze,Je)=>{A(new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Je,response:{url:U.url,data:void 0}},`"${t}" certificate request timed out (${u})`))},onAbort:(Ne,ze,Je)=>{A(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(t,n,o){return new Promise((c,u)=>{t.setServerCertificate(o).then(g=>{this.log(`setServerCertificate ${g?"success":"not supported by CDM"} (${o?.byteLength}) on "${n}"`),c(t)}).catch(g=>{u(new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:g,fatal:!0},g.message))})})}renewLicense(t,n){return this.requestLicense(t,new Uint8Array(n)).then(o=>this.updateKeySession(t,new Uint8Array(o)).catch(c=>{throw new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:c,fatal:!0},c.message)}))}setupLicenseXHR(t,n,o,c){const u=this.config.licenseXhrSetup;return u?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return u.call(this.hls,t,n,o,c)}).catch(g=>{if(!o.decryptdata)throw g;return t.open("POST",n,!0),u.call(this.hls,t,n,o,c)}).then(g=>(t.readyState||t.open("POST",n,!0),{xhr:t,licenseChallenge:g||c})):(t.open("POST",n,!0),Promise.resolve({xhr:t,licenseChallenge:c}))}requestLicense(t,n){const o=this.config.keyLoadPolicy.default;return new Promise((c,u)=>{const g=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${g}`);const A=new XMLHttpRequest;A.responseType="arraybuffer",A.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return u(new Error("invalid state"));if(4===A.readyState)if(200===A.status){this._requestLicenseFailureCount=0;let U=A.response;this.log(`License received ${U instanceof ArrayBuffer?U.byteLength:U}`);const Z=this.config.licenseResponseCallback;if(Z)try{U=Z.call(this.hls,A,g,t)}catch(ce){this.error(ce)}c(U)}else{const U=o.errorRetry,Z=U?U.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>Z||A.status>=400&&A.status<500?u(new Na({type:ri.KEY_SYSTEM_ERROR,details:un.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:A,response:{url:g,data:void 0,code:A.status,text:A.statusText}},`License Request XHR failed (${g}). Status: ${A.status} (${A.statusText})`)):(this.warn(`Retrying license request, ${Z-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(t,n).then(c,u))}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=A,this.setupLicenseXHR(A,g,t,n).then(({xhr:U,licenseChallenge:Z})=>{U.send(Z)})})}onMediaAttached(t,n){if(!this.config.emeEnabled)return;const o=n.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,n=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Fp.clearKeyUriToKeyIdMap();const o=n.length;r.CDMCleanupPromise=Promise.all(n.map(c=>this.removeSession(c)).concat(t?.setMediaKeys(null).catch(c=>{this.log(`Could not clear media keys: ${c}. media.src: ${t?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(c=>{this.log(`Could not close sessions and clear media keys: ${c}. media.src: ${t?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:n}){if(n&&this.config.emeEnabled&&!this.keyFormatPromise){const o=n.reduce((c,u)=>(-1===c.indexOf(u.keyFormat)&&c.push(u.keyFormat),c),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(t){const{mediaKeysSession:n,licenseXhr:o}=t;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),n.onmessage=null,n.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const c=this.mediaKeySessions.indexOf(t);return c>-1&&this.mediaKeySessions.splice(c,1),n.remove().catch(u=>{this.log(`Could not remove session: ${u}`)}).then(()=>n.close()).catch(u=>{this.log(`Could not close session: ${u}`)})}}}return r.CDMCleanupPromise=void 0,r})();class Na extends Error{constructor(i,t){super(t),this.data=void 0,i.error||(i.error=new Error(t)),this.data=i,i.err=i.error}}class yc{constructor(i){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(c){Jt.warn("Could not generate manifest CMCD data.",c)}},this.applyFragmentData=o=>{try{const c=o.frag,u=this.hls.levels[c.level],g=this.getObjectType(c),A={d:1e3*c.duration,ot:g};("v"===g||"a"===g||"av"==g)&&(A.br=u.bitrate/1e3,A.tb=this.getTopBandwidth(g)/1e3,A.bl=this.getBufferLength(g)),this.apply(o,A)}catch(c){Jt.warn("Could not generate segment CMCD data.",c)}},this.hls=i;const t=this.config=i.config,{cmcd:n}=t;null!=n&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||yc.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}registerListeners(){const i=this.hls;i.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(mt.MEDIA_DETACHED,this.onMediaDetached,this),i.on(mt.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const i=this.hls;i.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(mt.MEDIA_DETACHED,this.onMediaDetached,this),i.off(mt.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(i,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(i,t){var n,o;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(o=t.tracks.video)?void 0:o.buffer}createData(){var i;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(i=this.media)?void 0:i.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(i,t={}){if(xr(t,this.createData()),this.starved&&("i"===t.ot||"v"===t.ot||"av"===t.ot)&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering),this.useHeaders){const o=yc.toHeaders(t);if(!Object.keys(o).length)return;i.headers||(i.headers={}),xr(i.headers,o)}else{const o=yc.toQuery(t);if(!o)return;i.url=yc.appendQueryToUri(i.url,o)}}getObjectType(i){const{type:t}=i;return"subtitle"===t?"tt":"initSegment"===i.sn?"i":"audio"===t?"a":"main"===t?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(i){let n,t=0;const o=this.hls;if("a"===i)n=o.audioTracks;else{const c=o.maxAutoLevel;n=o.levels.slice(0,c>-1?c+1:o.levels.length)}for(const c of n)c.bitrate>t&&(t=c.bitrate);return t>0?t:NaN}getBufferLength(i){const t=this.hls.media,n="a"===i?this.audioBuffer:this.videoBuffer;return n&&t?1e3*fr.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:i}=this.config,t=this.applyPlaylistData,n=i||this.config.loader;return class{constructor(c){this.loader=void 0,this.loader=new n(c)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(c,u,g){t(c),this.loader.load(c,u,g)}}}createFragmentLoader(){const{fLoader:i}=this.config,t=this.applyFragmentData,n=i||this.config.loader;return class{constructor(c){this.loader=void 0,this.loader=new n(c)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(c,u,g){t(c),this.loader.load(c,u,g)}}}static uuid(){const i=URL.createObjectURL(new Blob),t=i.toString();return URL.revokeObjectURL(i),t.slice(t.lastIndexOf("/")+1)}static serialize(i){const t=[],n=U=>!Number.isNaN(U)&&null!=U&&""!==U&&!1!==U,o=U=>Math.round(U),c=U=>100*o(U/100),g={br:o,d:o,bl:c,dl:c,mtp:c,nor:U=>encodeURIComponent(U),rtp:c,tb:o},A=Object.keys(i||{}).sort();for(const U of A){let Z=i[U];if(!n(Z)||"v"===U&&1===Z||"pr"==U&&1===Z)continue;const ce=g[U];ce&&(Z=ce(Z));const Pe=typeof Z;let Ne;Ne="ot"===U||"sf"===U||"st"===U?`${U}=${Z}`:"boolean"===Pe?U:"number"===Pe?`${U}=${Z}`:`${U}=${JSON.stringify(Z)}`,t.push(Ne)}return t.join(",")}static toHeaders(i){const t=Object.keys(i),n={},o=["Object","Request","Session","Status"],c=[{},{},{},{}],u={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const g of t)c[null!=u[g]?u[g]:1][g]=i[g];for(let g=0;g<c.length;g++){const A=yc.serialize(c[g]);A&&(n[`CMCD-${o[g]}`]=A)}return n}static toQuery(i){return`CMCD=${encodeURIComponent(yc.serialize(i))}`}static appendQueryToUri(i,t){if(!t)return i;const n=i.includes("?")?"&":"?";return`${i}${n}${t}`}}function zI(r,i,t,n){r&&Object.keys(i).forEach(o=>{const c=r.filter(u=>u.groupId===o).map(u=>{const g=xr({},u);return g.details=void 0,g.attrs=new lr(g.attrs),g.url=g.attrs.URI=ZI(u.url,u.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),g.groupId=g.attrs["GROUP-ID"]=i[o],g.attrs["PATHWAY-ID"]=n,g});r.push(...c)})}function ZI(r,i,t,n){const{HOST:o,PARAMS:c,[t]:u}=n;let g;i&&(g=u?.[i],g&&(r=g));const A=new self.URL(r);return o&&!g&&(A.host=o),c&&Object.keys(c).sort().forEach(U=>{U&&A.searchParams.set(U,c[U])}),A.href}const UN=/^age:\s*[\d.]+\s*$/im;class $I{constructor(i){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=i&&i.xhrSetup||null,this.stats=new Mf,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const i=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),i&&(i.onreadystatechange=null,i.onprogress=null,4!==i.readyState&&(this.stats.aborted=!0,i.abort()))}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(i,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=i,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:i,context:t}=this;if(!i)return;const n=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const c=this.xhrSetup;c?Promise.resolve().then(()=>{if(!this.stats.aborted)return c(n,t.url)}).catch(u=>(n.open("GET",t.url,!0),c(n,t.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(n,t,i)}).catch(u=>{this.callbacks.onError({code:n.status,text:u.message},t,n,o)}):this.openAndSendXhr(n,t,i)}openAndSendXhr(i,t,n){i.readyState||i.open("GET",t.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=n.loadPolicy;if(o)for(const g in o)i.setRequestHeader(g,o[g]);t.rangeEnd&&i.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),i.onreadystatechange=this.readystatechange.bind(this),i.onprogress=this.loadprogress.bind(this),i.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=c&&qn(c)?c:u,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),i.send()}readystatechange(){const{context:i,loader:t,stats:n}=this;if(!i||!t)return;const o=t.readyState,c=this.config;if(!n.aborted&&o>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),c.timeout!==c.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),c.timeout=c.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),c.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const u=t.status,g="text"!==t.responseType;if(u>=200&&u<300&&(g&&t.response||null!==t.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const A=g?t.response:t.responseText;if(n.loaded=n.total="arraybuffer"===t.responseType?A.byteLength:A.length,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const Z=this.callbacks.onProgress;if(Z&&Z(n,i,A,t),!this.callbacks)return;this.callbacks.onSuccess({url:t.responseURL,data:A,code:u},n,i,t)}else{const A=c.loadPolicy.errorRetry;Z0(A,n.retry,!1,u)?this.retry(A):(Jt.error(`${u} while loading ${i.url}`),this.callbacks.onError({code:u,text:t.statusText},i,t,n))}}}loadtimeout(){var i;const t=null==(i=this.config)?void 0:i.loadPolicy.timeoutRetry;if(Z0(t,this.stats.retry,!0))this.retry(t);else{Jt.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(i){const{context:t,stats:n}=this;this.retryDelay=Vx(i,n.retry),n.retry++,Jt.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t.url}, retrying ${n.retry}/${i.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(i){const t=this.stats;t.loaded=i.loaded,i.lengthComputable&&(t.total=i.total)}getCacheAge(){let i=null;if(this.loader&&UN.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");i=t?parseFloat(t):null}return i}getResponseHeader(i){return this.loader&&new RegExp(`^${i}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(i):null}}const jN=/(\d+)-(\d+)\/(\d+)/;class qI{constructor(i){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=i.fetchSetup||KN,this.controller=new self.AbortController,this.stats=new Mf}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const i=this.response;null!=i&&i.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(i,t,n){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const c=function GN(r,i){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:i,headers:new self.Headers(xr({},r.headers))};return r.rangeEnd&&t.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),t}(i,this.controller.signal),u=n.onProgress,g="arraybuffer"===i.responseType,A=g?"byteLength":"length",{maxTimeToFirstByteMs:U,maxLoadTimeMs:Z}=t.loadPolicy;this.context=i,this.config=t,this.callbacks=n,this.request=this.fetchSetup(i,c),self.clearTimeout(this.requestTimeout),t.timeout=U&&qn(U)?U:Z,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(o,i,this.response)},t.timeout),self.fetch(this.request).then(ce=>{this.response=this.loader=ce;const Pe=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=Z,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(o,i,this.response)},Z-(Pe-o.loading.start)),!ce.ok){const{status:Ne,statusText:ze}=ce;throw new WN(ze||"fetch, bad network response",Ne,ce)}return o.loading.first=Pe,o.total=function YN(r){const i=r.get("Content-Range");if(i){const n=function HN(r){const i=jN.exec(r);if(i)return parseInt(i[2])-parseInt(i[1])+1}(i);if(qn(n))return n}const t=r.get("Content-Length");if(t)return parseInt(t)}(ce.headers)||o.total,u&&qn(t.highWaterMark)?this.loadProgressively(ce,o,i,t.highWaterMark,u):g?ce.arrayBuffer():"json"===i.responseType?ce.json():ce.text()}).then(ce=>{const{response:Pe}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const Ne=ce[A];Ne&&(o.loaded=o.total=Ne);const ze={url:Pe.url,data:ce,code:Pe.status};u&&!qn(t.highWaterMark)&&u(o,i,ce,Pe),n.onSuccess(ze,o,i,Pe)}).catch(ce=>{self.clearTimeout(this.requestTimeout),o.aborted||n.onError({code:ce&&ce.code||0,text:ce?ce.message:null},i,ce?ce.details:null,o)})}getCacheAge(){let i=null;if(this.response){const t=this.response.headers.get("age");i=t?parseFloat(t):null}return i}getResponseHeader(i){return this.response?this.response.headers.get(i):null}loadProgressively(i,t,n,o=0,c){const u=new SI,g=i.body.getReader(),A=()=>g.read().then(U=>{if(U.done)return u.dataLength&&c(t,n,u.flush(),i),Promise.resolve(new ArrayBuffer(0));const Z=U.value,ce=Z.length;return t.loaded+=ce,ce<o||u.dataLength?(u.push(Z),u.dataLength>=o&&c(t,n,u.flush(),i)):c(t,n,Z,i),A()}).catch(()=>Promise.reject());return A()}}function KN(r,i){return new self.Request(r.url,i)}class WN extends Error{constructor(i,t,n){super(i),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const zN=/\s/,ZN={newCue(r,i,t,n){const o=[];let c,u,g,A,U;const Z=self.VTTCue||self.TextTrackCue;for(let Pe=0;Pe<n.rows.length;Pe++)if(c=n.rows[Pe],g=!0,A=0,U="",!c.isEmpty()){var ce;for(let Je=0;Je<c.chars.length;Je++)zN.test(c.chars[Je].uchar)&&g?A++:(U+=c.chars[Je].uchar,g=!1);c.cueStartTime=i,i===t&&(t+=1e-4),A>=16?A--:A++;const Ne=UI(U.trim()),ze=uM(i,t,Ne);null!=r&&null!=(ce=r.cues)&&ce.getCueById(ze)||(u=new Z(i,t,Ne),u.id=ze,u.line=Pe+1,u.align="left",u.position=10+Math.min(80,10*Math.floor(8*A/32)),o.push(u))}return r&&o.length&&(o.sort((Pe,Ne)=>"auto"===Pe.line||"auto"===Ne.line?0:Pe.line>8&&Ne.line>8?Ne.line-Pe.line:Pe.line-Ne.line),o.forEach(Pe=>j1(r,Pe))),o}},qN=ao(ao({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:$I,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class XR{constructor(i){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=i;const t=i.config;this.bwEstimator=new QR(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(mt.FRAG_LOADING,this.onFragLoading,this),i.on(mt.FRAG_LOADED,this.onFragLoaded,this),i.on(mt.FRAG_BUFFERED,this.onFragBuffered,this),i.on(mt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(mt.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:i}=this;i.off(mt.FRAG_LOADING,this.onFragLoading,this),i.off(mt.FRAG_LOADED,this.onFragLoaded,this),i.off(mt.FRAG_BUFFERED,this.onFragBuffered,this),i.off(mt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(mt.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(i,t){var n;const o=t.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(n=t.part)?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(i,t){this.clearTimer()}getTimeToLoadFrag(i,t,n,o){return i+n/t+(o?this.lastLevelLoadSec:0)}onLevelLoaded(i,t){const n=this.hls.config,{total:o,bwEstimate:c}=t.stats;qn(o)&&qn(c)&&(this.lastLevelLoadSec=8*o/c),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:i,partCurrent:t,hls:n}=this,{autoLevelEnabled:o,media:c}=n;if(!i||!c)return;const u=performance.now(),g=t?t.stats:i.stats,A=t?t.duration:i.duration,U=u-g.loading.start;if(g.aborted||g.loaded&&g.loaded===g.total||0===i.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||c.paused||!c.playbackRate||!c.readyState)return;const Z=n.mainForwardBufferInfo;if(null===Z)return;const ce=this.bwEstimator.getEstimateTTFB(),Pe=Math.abs(c.playbackRate);if(U<=Math.max(ce,A/(2*Pe)*1e3))return;const Ne=Z.len/Pe;if(Ne>=2*A/Pe)return;const ze=g.loading.first?g.loading.first-g.loading.start:-1,Je=g.loaded&&ze>-1,ct=this.bwEstimator.getEstimate(),{levels:Et,minAutoLevel:Ft}=n,Qt=g.total||Math.max(g.loaded,Math.round(A*Et[i.level].maxBitrate/8));let qt=U-ze;qt<1&&Je&&(qt=Math.min(U,8*g.loaded/ct));const fn=Je?1e3*g.loaded/qt:0,an=fn?(Qt-g.loaded)/fn:8*Qt/ct+ce/1e3;if(an<=Ne)return;const _n=fn?8*fn:ct;let sn,wn=Number.POSITIVE_INFINITY;for(sn=i.level-1;sn>Ft&&(wn=this.getTimeToLoadFrag(ce/1e3,_n,A*Et[sn].maxBitrate,!Et[sn].details),!(wn<Ne));sn--);wn>=an||wn>10*A||(n.nextLoadLevel=sn,Je?this.bwEstimator.sample(U-Math.min(ce,ze),g.loaded):this.bwEstimator.sampleTTFB(U),this.clearTimer(),Jt.warn(`[abr] Fragment ${i.sn}${t?" part "+t.index:""} of level ${i.level} is loading too slowly;\n      Time to underbuffer: ${Ne.toFixed(3)} s\n      Estimated load time for current fragment: ${an.toFixed(3)} s\n      Estimated load time for down switch fragment: ${wn.toFixed(3)} s\n      TTFB estimate: ${ze}\n      Current BW estimate: ${qn(ct)?(ct/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${sn}`),i.loader&&(this.fragCurrent=this.partCurrent=null,i.abortRequests()),n.trigger(mt.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:t,stats:g}))}onFragLoaded(i,{frag:t,part:n}){const o=n?n.stats:t.stats;if("main"===t.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const u=this.hls.levels[t.level],g=(u.loaded?u.loaded.bytes:0)+o.loaded,A=(u.loaded?u.loaded.duration:0)+(n?n.duration:t.duration);u.loaded={bytes:g,duration:A},u.realBitrate=Math.round(8*g/A)}t.bitrateTest&&(this.onFragBuffered(mt.FRAG_BUFFERED,{stats:o,frag:t,part:n,id:t.type}),t.bitrateTest=!1)}}onFragBuffered(i,t){const{frag:n,part:o}=t,c=null!=o&&o.stats.loaded?o.stats:n.stats;if(c.aborted||this.ignoreFragment(n))return;const u=c.parsing.end-c.loading.start-Math.min(c.loading.first-c.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(u,c.loaded),c.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=n.bitrateTest?u/1e3:0}ignoreFragment(i){return"main"!==i.type||"initSegment"===i.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const i=this._nextAutoLevel;if(-1!==i&&!this.bwEstimator.canEstimate())return i;let n=this.getNextABRAutoLevel();if(-1!==i){const o=this.hls.levels;if(o.length>Math.max(i,n)&&o[i].loadError<=o[n].loadError)return i}return-1!==i&&(n=Math.min(i,n)),n}getNextABRAutoLevel(){const{fragCurrent:i,partCurrent:t,hls:n}=this,{maxAutoLevel:o,config:c,minAutoLevel:u,media:g}=n,A=t?t.duration:i?i.duration:0,U=g&&0!==g.playbackRate?Math.abs(g.playbackRate):1,Z=this.bwEstimator?this.bwEstimator.getEstimate():c.abrEwmaDefaultEstimate,ce=n.mainForwardBufferInfo,Pe=(ce?ce.len:0)/U;let Ne=this.findBestLevel(Z,u,o,Pe,c.abrBandWidthFactor,c.abrBandWidthUpFactor);if(Ne>=0)return Ne;Jt.trace(`[abr] ${Pe?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let ze=A?Math.min(A,c.maxStarvationDelay):c.maxStarvationDelay,Je=c.abrBandWidthFactor,ct=c.abrBandWidthUpFactor;if(!Pe){const Et=this.bitrateTestDelay;Et&&(ze=(A?Math.min(A,c.maxLoadingDelay):c.maxLoadingDelay)-Et,Jt.trace(`[abr] bitrate test took ${Math.round(1e3*Et)}ms, set first fragment max fetchDuration to ${Math.round(1e3*ze)} ms`),Je=ct=1)}return Ne=this.findBestLevel(Z,u,o,Pe+ze,Je,ct),Math.max(Ne,0)}findBestLevel(i,t,n,o,c,u){var g;const{fragCurrent:A,partCurrent:U,lastLoadedFragLevel:Z}=this,{levels:ce}=this.hls,Pe=ce[Z],Ne=!(null==Pe||null==(g=Pe.details)||!g.live),ze=Pe?.codecSet,Je=U?U.duration:A?A.duration:0,ct=this.bwEstimator.getEstimateTTFB()/1e3;let Et=t,Ft=-1;for(let Lt=n;Lt>=t;Lt--){const Qt=ce[Lt];if(!Qt||ze&&Qt.codecSet!==ze){Qt&&(Et=Math.min(Lt,Et),Ft=Math.max(Lt,Ft));continue}-1!==Ft&&Jt.trace(`[abr] Skipped level(s) ${Et}-${Ft} with CODECS:"${ce[Ft].attrs.CODECS}"; not compatible with "${Pe.attrs.CODECS}"`);const qt=Qt.details,fn=(U?qt?.partTarget:qt?.averagetargetduration)||Je;let an;an=Lt<=Z?c*i:u*i;const _n=ce[Lt].maxBitrate,wn=this.getTimeToLoadFrag(ct,an,_n*fn,void 0===qt);if(Jt.trace(`[abr] level:${Lt} adjustedbw-bitrate:${Math.round(an-_n)} avgDuration:${fn.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${wn.toFixed(1)}`),an>_n&&(0===wn||!qn(wn)||Ne&&!this.bitrateTestDelay||wn<o))return Lt}return-1}set nextAutoLevel(i){this._nextAutoLevel=i}},bufferController:class lN{constructor(i){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:t,mediaSource:n}=this;Jt.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(mt.MEDIA_ATTACHED,{media:t})),n&&n.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{Jt.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{Jt.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:t,_objectUrl:n}=this;t&&t.src!==n&&Jt.error(`Media element src was set while attaching MediaSource (${n} > ${t.src})`)},this.hls=i,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:i}=this;i.on(mt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(mt.BUFFER_RESET,this.onBufferReset,this),i.on(mt.BUFFER_APPENDING,this.onBufferAppending,this),i.on(mt.BUFFER_CODECS,this.onBufferCodecs,this),i.on(mt.BUFFER_EOS,this.onBufferEos,this),i.on(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(mt.LEVEL_UPDATED,this.onLevelUpdated,this),i.on(mt.FRAG_PARSED,this.onFragParsed,this),i.on(mt.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(mt.BUFFER_RESET,this.onBufferReset,this),i.off(mt.BUFFER_APPENDING,this.onBufferAppending,this),i.off(mt.BUFFER_CODECS,this.onBufferCodecs,this),i.off(mt.BUFFER_EOS,this.onBufferEos,this),i.off(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(mt.LEVEL_UPDATED,this.onLevelUpdated,this),i.off(mt.FRAG_PARSED,this.onFragParsed,this),i.off(mt.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new sN(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(i,t){let n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,Jt.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(i,t){const n=this.media=t.media;if(n&&AI){const o=this.mediaSource=new AI;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(o),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:i,mediaSource:t,_objectUrl:n}=this;if(t){if(Jt.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(o){Jt.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),i&&(i.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),i.src===n?(i.removeAttribute("src"),i.load()):Jt.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(mt.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(i=>{const t=this.sourceBuffer[i];try{t&&(this.removeBufferListeners(i),this.mediaSource&&this.mediaSource.removeSourceBuffer(t),this.sourceBuffer[i]=void 0)}catch(n){Jt.warn(`[buffer-controller]: Failed to reset the ${i} buffer`,n)}}),this._initSourceBuffer()}onBufferCodecs(i,t){const n=this.getSourceBufferTypes().length;Object.keys(t).forEach(o=>{if(n){const c=this.tracks[o];if(c&&"function"==typeof c.buffer.changeType){const{id:u,codec:g,levelCodec:A,container:U,metadata:Z}=t[o],ce=(c.levelCodec||c.codec).replace(wI,"$1"),Pe=(A||g).replace(wI,"$1");ce!==Pe&&(this.appendChangeType(o,`${U};codecs=${A||g}`),Jt.log(`[buffer-controller]: switching codec ${ce} to ${Pe}`),this.tracks[o]={buffer:c.buffer,codec:g,container:U,levelCodec:A,metadata:Z,id:u})}}else this.pendingTracks[o]=t[o]}),!n&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(i,t){const{operationQueue:n}=this,o={execute:()=>{const c=this.sourceBuffer[i];c&&(Jt.log(`[buffer-controller]: changing ${i} sourceBuffer type to ${t}`),c.changeType(t)),n.shiftAndExecuteNext(i)},onStart:()=>{},onComplete:()=>{},onError:c=>{Jt.warn(`[buffer-controller]: Failed to change ${i} SourceBuffer type`,c)}};n.append(o,i)}onBufferAppending(i,t){const{hls:n,operationQueue:o,tracks:c}=this,{data:u,type:g,frag:A,part:U,chunkMeta:Z}=t,ce=Z.buffering[g],Pe=self.performance.now();ce.start=Pe;const Ne=A.stats.buffering,ze=U?U.stats.buffering:null;0===Ne.start&&(Ne.start=Pe),ze&&0===ze.start&&(ze.start=Pe);const Je=c.audio;let ct=!1;"audio"===g&&"audio/mpeg"===Je?.container&&(ct=!this.lastMpegAudioChunk||1===Z.id||this.lastMpegAudioChunk.sn!==Z.sn,this.lastMpegAudioChunk=Z);const Et=A.start;o.append({execute:()=>{if(ce.executeStart=self.performance.now(),ct){const Lt=this.sourceBuffer[g];if(Lt){const Qt=Et-Lt.timestampOffset;Math.abs(Qt)>=.1&&(Jt.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Et} (delta: ${Qt}) sn: ${A.sn})`),Lt.timestampOffset=Et)}}this.appendExecutor(u,g)},onStart:()=>{},onComplete:()=>{const Lt=self.performance.now();ce.executeEnd=ce.end=Lt,0===Ne.first&&(Ne.first=Lt),ze&&0===ze.first&&(ze.first=Lt);const{sourceBuffer:Qt}=this,qt={};for(const fn in Qt)qt[fn]=fr.getBuffered(Qt[fn]);this.appendError=0,this.hls.trigger(mt.BUFFER_APPENDED,{type:g,frag:A,part:U,chunkMeta:Z,parent:A.type,timeRanges:qt})},onError:Lt=>{Jt.error(`[buffer-controller]: Error encountered while trying to append to the ${g} SourceBuffer`,Lt);const Qt={type:ri.MEDIA_ERROR,parent:A.type,details:un.BUFFER_APPEND_ERROR,frag:A,part:U,chunkMeta:Z,error:Lt,err:Lt,fatal:!1};Lt.code===DOMException.QUOTA_EXCEEDED_ERR?Qt.details=un.BUFFER_FULL_ERROR:(this.appendError++,Qt.details=un.BUFFER_APPEND_ERROR,this.appendError>n.config.appendErrorMaxRetry&&(Jt.error(`[buffer-controller]: Failed ${n.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),Qt.fatal=!0)),n.trigger(mt.ERROR,Qt)}},g)}onBufferFlushing(i,t){const{operationQueue:n}=this,o=c=>({execute:this.removeExecutor.bind(this,c,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(mt.BUFFER_FLUSHED,{type:c})},onError:u=>{Jt.warn(`[buffer-controller]: Failed to remove from ${c} SourceBuffer`,u)}});t.type?n.append(o(t.type),t.type):this.getSourceBufferTypes().forEach(c=>{n.append(o(c),c)})}onFragParsed(i,t){const{frag:n,part:o}=t,c=[],u=o?o.elementaryStreams:n.elementaryStreams;u.audiovideo?c.push("audiovideo"):(u.audio&&c.push("audio"),u.video&&c.push("video")),0===c.length&&Jt.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(()=>{const A=self.performance.now();n.stats.buffering.end=A,o&&(o.stats.buffering.end=A),this.hls.trigger(mt.FRAG_BUFFERED,{frag:n,part:o,stats:o?o.stats:n.stats,id:n.type})},c)}onFragChanged(i,t){this.flushBackBuffer()}onBufferEos(i,t){this.getSourceBufferTypes().reduce((o,c)=>{const u=this.sourceBuffer[c];return u&&(!t.type||t.type===c)&&(u.ending=!0,u.ended||(u.ended=!0,Jt.log(`[buffer-controller]: ${c} sourceBuffer now EOS`))),o&&!(u&&!u.ended)},!0)&&(Jt.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(c=>{const u=this.sourceBuffer[c];u&&(u.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(Jt.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&Jt.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(i,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:i,details:t,media:n,sourceBuffer:o}=this;if(!n||null===t)return;const c=this.getSourceBufferTypes();if(!c.length)return;const u=t.live&&null!==i.config.liveBackBufferLength?i.config.liveBackBufferLength:i.config.backBufferLength;if(!qn(u)||u<0)return;const g=n.currentTime,A=t.levelTargetDuration,U=Math.max(u,A),Z=Math.floor(g/A)*A-U;c.forEach(ce=>{const Pe=o[ce];if(Pe){const Ne=fr.getBuffered(Pe);if(Ne.length>0&&Z>Ne.start(0)){if(i.trigger(mt.BACK_BUFFER_REACHED,{bufferEnd:Z}),t.live)i.trigger(mt.LIVE_BACK_BUFFER_REACHED,{bufferEnd:Z});else if(Pe.ended&&Ne.end(Ne.length-1)-g<2*A)return void Jt.info(`[buffer-controller]: Cannot flush ${ce} back buffer while SourceBuffer is in ended state`);i.trigger(mt.BUFFER_FLUSHING,{startOffset:0,endOffset:Z,type:ce})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:i,hls:t,media:n,mediaSource:o}=this,c=i.fragments[0].start+i.totalduration,u=n.duration,g=qn(o.duration)?o.duration:0;i.live&&t.config.liveDurationInfinity?(Jt.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(i)):(c>g&&c>u||!qn(u))&&(Jt.log(`[buffer-controller]: Updating Media Source duration to ${c.toFixed(3)}`),o.duration=c)}updateSeekableRange(i){const t=this.mediaSource,n=i.fragments;if(n.length&&i.live&&null!=t&&t.setLiveSeekableRange){const c=Math.max(0,n[0].start),u=Math.max(c,c+i.totalduration);t.setLiveSeekableRange(c,u)}}checkPendingTracks(){const{bufferCodecEventsExpected:i,operationQueue:t,pendingTracks:n}=this,o=Object.keys(n).length;if(o&&!i||2===o){this.createSourceBuffers(n),this.pendingTracks={};const c=this.getSourceBufferTypes();if(c.length)this.hls.trigger(mt.BUFFER_CREATED,{tracks:this.tracks}),c.forEach(u=>{t.executeNext(u)});else{const u=new Error("could not create source buffer for media codec(s)");this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:u,reason:u.message})}}}createSourceBuffers(i){const{sourceBuffer:t,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const o in i)if(!t[o]){const c=i[o];if(!c)throw Error(`source buffer exists for track ${o}, however track does not`);const u=c.levelCodec||c.codec,g=`${c.container};codecs=${u}`;Jt.log(`[buffer-controller]: creating sourceBuffer(${g})`);try{const A=t[o]=n.addSourceBuffer(g),U=o;this.addBufferListener(U,"updatestart",this._onSBUpdateStart),this.addBufferListener(U,"updateend",this._onSBUpdateEnd),this.addBufferListener(U,"error",this._onSBUpdateError),this.tracks[o]={buffer:A,codec:u,container:c.container,levelCodec:c.levelCodec,metadata:c.metadata,id:c.id}}catch(A){Jt.error(`[buffer-controller]: error while trying to add sourceBuffer: ${A.message}`),this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:A,mimeType:g})}}}_onSBUpdateStart(i){const{operationQueue:t}=this;t.current(i).onStart()}_onSBUpdateEnd(i){const{operationQueue:t}=this;t.current(i).onComplete(),t.shiftAndExecuteNext(i)}_onSBUpdateError(i,t){const n=new Error(`${i} SourceBuffer error`);Jt.error(`[buffer-controller]: ${n}`,t),this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.BUFFER_APPENDING_ERROR,error:n,fatal:!1});const o=this.operationQueue.current(i);o&&o.onError(t)}removeExecutor(i,t,n){const{media:o,mediaSource:c,operationQueue:u,sourceBuffer:g}=this,A=g[i];if(!o||!c||!A)return Jt.warn(`[buffer-controller]: Attempting to remove from the ${i} SourceBuffer, but it does not exist`),void u.shiftAndExecuteNext(i);const U=qn(o.duration)?o.duration:1/0,Z=qn(c.duration)?c.duration:1/0,ce=Math.max(0,t),Pe=Math.min(n,U,Z);Pe>ce&&!A.ending?(A.ended=!1,Jt.log(`[buffer-controller]: Removing [${ce},${Pe}] from the ${i} SourceBuffer`),A.remove(ce,Pe)):u.shiftAndExecuteNext(i)}appendExecutor(i,t){const{operationQueue:n,sourceBuffer:o}=this,c=o[t];if(!c)return Jt.warn(`[buffer-controller]: Attempting to append to the ${t} SourceBuffer, but it does not exist`),void n.shiftAndExecuteNext(t);c.ended=!1,c.appendBuffer(i)}blockBuffers(i,t=this.getSourceBufferTypes()){if(!t.length)return Jt.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(i);const{operationQueue:n}=this,o=t.map(c=>n.appendBlocker(c));Promise.all(o).then(()=>{i(),t.forEach(c=>{const u=this.sourceBuffer[c];null!=u&&u.updating||n.shiftAndExecuteNext(c)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(i,t,n){const o=this.sourceBuffer[i];if(!o)return;const c=n.bind(this,i);this.listeners[i].push({event:t,listener:c}),o.addEventListener(t,c)}removeBufferListeners(i){const t=this.sourceBuffer[i];t&&this.listeners[i].forEach(n=>{t.removeEventListener(n.event,n.listener)})}},capLevelController:gM,errorController:class KP{constructor(i){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=i,this.log=Jt.log.bind(Jt,"[info]:"),this.warn=Jt.warn.bind(Jt,"[warning]:"),this.error=Jt.error.bind(Jt,"[error]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(mt.ERROR,this.onError,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const i=this.hls;i&&(i.off(mt.ERROR,this.onError,this),i.off(mt.ERROR,this.onErrorOut,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(i){this.playlistError=0}stopLoad(){}getVariantLevelIndex(i){return"main"===i?.type?i.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(i,t){var n,o;if(t.fatal)return;const c=this.hls,u=t.context;switch(t.details){case un.FRAG_LOAD_ERROR:case un.FRAG_LOAD_TIMEOUT:case un.KEY_LOAD_ERROR:case un.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case un.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction={action:0,flags:0});case un.FRAG_GAP:case un.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=2);case un.LEVEL_EMPTY_ERROR:case un.LEVEL_PARSING_ERROR:{var g,A;const U="main"===t.parent?t.level:c.loadLevel;t.details===un.LEVEL_EMPTY_ERROR&&null!=(g=t.context)&&null!=(A=g.levelDetails)&&A.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,U):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,U))}return;case un.LEVEL_LOAD_ERROR:case un.LEVEL_LOAD_TIMEOUT:return void("number"==typeof u?.level&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,u.level)));case un.AUDIO_TRACK_LOAD_ERROR:case un.AUDIO_TRACK_LOAD_TIMEOUT:case un.SUBTITLE_LOAD_ERROR:case un.SUBTITLE_TRACK_LOAD_TIMEOUT:if(u){const U=c.levels[c.loadLevel];if(U&&("audioTrack"===u.type&&u.groupId===U.audioGroupId||"subtitleTrack"===u.type&&u.groupId===U.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,c.loadLevel),t.errorAction.action=2,void(t.errorAction.flags=1)}return;case un.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const U=c.levels[c.loadLevel],Z=U?.attrs["HDCP-LEVEL"];Z&&(t.errorAction={action:2,flags:2,hdcpLevel:Z})}return;case un.BUFFER_ADD_CODEC_ERROR:case un.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(o=t.level)?o:c.loadLevel));case un.INTERNAL_EXCEPTION:case un.BUFFER_APPENDING_ERROR:case un.BUFFER_APPEND_ERROR:case un.BUFFER_FULL_ERROR:case un.LEVEL_SWITCH_ERROR:case un.BUFFER_STALLED_ERROR:case un.BUFFER_SEEK_OVER_HOLE:case un.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:0,flags:0})}if(t.type===ri.KEY_SYSTEM_ERROR){const U=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,U))}}getPlaylistRetryOrSwitchAction(i,t){var n;const c=z1(this.hls.config.playlistLoadPolicy,i),u=this.playlistError++,g=null==(n=i.response)?void 0:n.code;if(Z0(c,u,z0(i),g))return{action:5,flags:0,retryConfig:c,retryCount:u};const U=this.getLevelSwitchAction(i,t);return c&&(U.retryConfig=c,U.retryCount=u),U}getFragRetryOrSwitchAction(i){const t=this.hls,n=this.getVariantLevelIndex(i.frag),o=t.levels[n],{fragLoadPolicy:c,keyLoadPolicy:u}=t.config,g=z1(i.details.startsWith("key")?u:c,i),A=t.levels.reduce((ce,Pe)=>ce+Pe.fragmentError,0);if(o){var U;i.details!==un.FRAG_GAP&&o.fragmentError++;const ce=null==(U=i.response)?void 0:U.code;if(Z0(g,A,z0(i),ce))return{action:5,flags:0,retryConfig:g,retryCount:A}}const Z=this.getLevelSwitchAction(i,n);return g&&(Z.retryConfig=g,Z.retryCount=A),Z}getLevelSwitchAction(i,t){const n=this.hls;null==t&&(t=n.loadLevel);const o=this.hls.levels[t];if(o&&(o.loadError++,n.autoLevelEnabled)){var c,u;let g=-1;const{levels:A,loadLevel:U,minAutoLevel:Z,maxAutoLevel:ce}=n,Pe=null==(c=i.frag)?void 0:c.type,{type:Ne,groupId:ze}=null!=(u=i.context)?u:{};for(let Je=A.length;Je--;){const ct=(Je+U)%A.length;if(ct!==U&&ct>=Z&&ct<=ce&&0===A[ct].loadError){const Et=A[ct];if(i.details===un.FRAG_GAP&&i.frag){const Ft=A[ct].details;if(Ft){const Lt=Vp(i.frag,Ft.fragments,i.frag.start);if(null!=Lt&&Lt.gap)continue}}else{if("audioTrack"===Ne&&ze===Et.audioGroupId||"subtitleTrack"===Ne&&ze===Et.textGroupId)continue;if("audio"===Pe&&o.audioGroupId===Et.audioGroupId||"subtitle"===Pe&&o.textGroupId===Et.textGroupId)continue}g=ct;break}}if(g>-1&&n.loadLevel!==g)return i.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:g}}return{action:2,flags:1}}onErrorOut(i,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==un.FRAG_GAP&&(t.fatal=!0)}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(i){const t=this.hls,n=i.errorAction;if(!n)return;const{flags:o,hdcpLevel:c,nextAutoLevel:u}=n;switch(o){case 0:this.switchLevel(i,u);break;case 1:n.resolved||(n.resolved=this.redundantFailover(i));break;case 2:c&&(t.maxHdcpLevel=Fx[Fx.indexOf(c)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(i,u)}switchLevel(i,t){void 0!==t&&i.errorAction&&(this.warn(`switching to level ${t} after ${i.details}`),this.hls.nextAutoLevel=t,i.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(i){const{hls:t,penalizedRenditions:n}=this,o="main"===i.parent?i.level:t.loadLevel,c=t.levels[o],u=c.url.length,g=i.frag?i.frag.urlId:c.urlId;c.urlId===g&&(!i.frag||c.details)&&this.penalizeRendition(c,i);for(let A=1;A<u;A++){const U=(g+A)%u,Z=n[U];if(!Z||WP(Z,i,n[g]))return this.warn(`Switching to Redundant Stream ${U+1}/${u}: "${c.url[U]}" after ${i.details}`),this.playlistError=0,t.levels.forEach(ce=>{ce.urlId=U}),t.nextLoadLevel=o,!0}return!1}penalizeRendition(i,t){const{penalizedRenditions:n}=this,o=n[i.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(t),o.details=i.details,n[i.urlId]=o}},fpsController:class RN{constructor(i){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=i,this.registerListeners()}setStreamController(i){this.streamController=i}registerListeners(){this.hls.on(mt.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(mt.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(i,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const o=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(i,t,n){const o=performance.now();if(t){if(this.lastTime){const u=n-this.lastDroppedFrames,g=t-this.lastDecodedFrames,A=1e3*u/(o-this.lastTime),U=this.hls;if(U.trigger(mt.FPS_DROP,{currentDropped:u,currentDecoded:g,totalDroppedFrames:n}),A>0&&u>U.config.fpsDroppedMonitoringThreshold*g){let Z=U.currentLevel;Jt.warn("drop FPS ratio greater than max allowed value for currentLevel: "+Z),Z>0&&(-1===U.autoLevelCapping||U.autoLevelCapping>=Z)&&(Z-=1,U.trigger(mt.FPS_DROP_LEVEL_CAPPING,{level:Z,droppedLevel:U.currentLevel}),U.autoLevelCapping=Z,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const i=this.media;if(i)if(this.isVideoPlaybackQualityAvailable){const t=i.getVideoPlaybackQuality();this.checkFPS(i,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(i,i.webkitDecodedFrameCount,i.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:wx,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function JN(){return{cueHandler:ZN,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class rN extends zx{constructor(i,t,n){super(i,t,n,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:i}=this;i.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(mt.ERROR,this.onError,this),i.on(mt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(mt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.on(mt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(mt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.on(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(mt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(mt.ERROR,this.onError,this),i.off(mt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(mt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.off(mt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(mt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.off(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(mt.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(i){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(i,t){this.mainDetails=t.details}onSubtitleFragProcessed(i,t){const{frag:n,success:o}=t;if(this.fragPrevious=n,this.state="IDLE",!o)return;const c=this.tracksBuffered[this.currentTrackId];if(!c)return;let u;const g=n.start;for(let U=0;U<c.length;U++)if(g>=c[U].start&&g<=c[U].end){u=c[U];break}const A=n.start+n.duration;u?u.end=A:(u={start:g,end:A},c.push(u)),this.fragmentTracker.fragBuffered(n)}onBufferFlushing(i,t){const{startOffset:n,endOffset:o}=t;if(0===n&&o!==Number.POSITIVE_INFINITY){const c=o-1;if(c<=0)return;t.endOffsetSubtitles=Math.max(0,c),this.tracksBuffered.forEach(u=>{for(let g=0;g<u.length;)if(u[g].end<=c)u.shift();else{if(!(u[g].start<c))break;u[g].start=c,g++}}),this.fragmentTracker.removeFragmentsInRange(n,c,"subtitle")}}onFragBuffered(i,t){var n;this.loadedmetadata||"main"!==t.frag.type||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(i,t){const n=t.frag;"subtitle"===n?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(i,{subtitleTracks:t}){xI(this.levels,t)?this.levels=t.map(n=>new Up(n)):(this.tracksBuffered=[],this.levels=t.map(n=>{const o=new Up(n);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(i,t){if(this.currentTrackId=t.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const n=this.levels[this.currentTrackId];this.mediaBuffer=null!=n&&n.details?this.mediaBufferTimeRanges:null,n&&this.setInterval(500)}onSubtitleTrackLoaded(i,t){var n;const{details:o,id:c}=t,{currentTrackId:u,levels:g}=this;if(!g.length)return;const A=g[u];if(c>=g.length||c!==u||!A)return;this.mediaBuffer=this.mediaBufferTimeRanges;let U=0;if(o.live||null!=(n=A.details)&&n.live){const Z=this.mainDetails;if(o.deltaUpdateFailed||!Z)return;const ce=Z.fragments[0];A.details?(U=this.alignPlaylists(o,A.details),0===U&&ce&&(U=ce.start,Ux(o,U))):o.hasProgramDateTime&&Z.hasProgramDateTime?(nI(o,Z),U=o.fragments[0].start):ce&&(U=ce.start,Ux(o,U))}A.details=o,this.levelLastLoaded=c,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(A.details,U),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(Vp(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),A.details=void 0))}_handleFragmentLoadComplete(i){const{frag:t,payload:n}=i,o=t.decryptdata,c=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const u=performance.now();this.decrypter.decrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer).catch(g=>{throw c.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.FRAG_DECRYPT_ERROR,fatal:!1,error:g,reason:g.message,frag:t}),g}).then(g=>{const A=performance.now();c.trigger(mt.FRAG_DECRYPTED,{frag:t,payload:g,stats:{tstart:u,tdecrypt:A}})}).catch(g=>{this.warn(`${g.name}: ${g.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:i,levels:t}=this,n=t[i];if(!t.length||!n||!n.details)return;const{config:o}=this,c=this.getLoadPosition(),u=fr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],c,o.maxBufferHole),{end:g,len:A}=u,U=this.getFwdBufferInfo(this.media,"main"),Z=n.details;if(A>this.getMaxBufferLength(U?.len)+Z.levelTargetDuration)return;const Pe=Z.fragments,Ne=Pe.length,ze=Z.edge;let Je=null;const ct=this.fragPrevious;if(g<ze){const Et=o.maxFragLookUpTolerance,Ft=g>ze-Et?0:Et;Je=Vp(ct,Pe,Math.max(Pe[0].start,g),Ft),!Je&&ct&&ct.start<Pe[0].start&&(Je=Pe[0])}else Je=Pe[Ne-1];if(!Je)return;if(Je=this.mapToInitFragWhenRequired(Je),"initSegment"!==Je.sn){const Ft=Pe[Je.sn-Z.startSN-1];Ft&&Ft.cc===Je.cc&&"NOT_LOADED"===this.fragmentTracker.getState(Ft)&&(Je=Ft)}"NOT_LOADED"===this.fragmentTracker.getState(Je)&&this.loadFragment(Je,n,g)}}else this.state="IDLE"}getMaxBufferLength(i){const t=super.getMaxBufferLength();return i?Math.max(t,i):t}loadFragment(i,t,n){this.fragCurrent=i,"initSegment"===i.sn?this._loadInitSegment(i,t):(this.startFragRequested=!0,super.loadFragment(i,t,n))}get mediaBufferTimeRanges(){return new oN(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class aN extends Gx{constructor(i){super(i,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(i){this._subtitleDisplay=i,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:i}=this;i.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(mt.LEVEL_LOADING,this.onLevelLoading,this),i.on(mt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(mt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(mt.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(mt.LEVEL_LOADING,this.onLevelLoading,this),i.off(mt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(mt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(mt.ERROR,this.onError,this)}onMediaAttached(i,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(i){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,i)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),oM(this.media.textTracks).forEach(t=>{wf(t)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(i,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(i,t){const{id:n,details:o}=t,{trackId:c}=this,u=this.tracksInGroup[c];if(!u)return void this.warn(`Invalid subtitle track id ${n}`);const g=u.details;u.details=t.details,this.log(`subtitle track ${n} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,g)}onLevelLoading(i,t){this.switchLevel(t.level)}onLevelSwitching(i,t){this.switchLevel(t.level)}switchLevel(i){const t=this.hls.levels[i];if(null==t||!t.textGroupIds)return;const n=t.textGroupIds[t.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){const c=this.tracks.filter(A=>!n||A.groupId===n);this.tracksInGroup=c;const u=this.findTrackId(o?.name)||this.findTrackId();this.groupId=n||null;const g={subtitleTracks:c};this.log(`Updating subtitle tracks, ${c.length} track(s) found in "${n}" group-id`),this.hls.trigger(mt.SUBTITLE_TRACKS_UPDATED,g),-1!==u&&this.setSubtitleTrack(u,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(i){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const o=t[n];if((!this.selectDefaultTrack||o.default)&&(!i||i===o.name))return o.id}return-1}onError(i,t){t.fatal||!t.context||"subtitleTrack"===t.context.type&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(i){this.selectDefaultTrack=!1,this.setSubtitleTrack(i,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(i){super.loadPlaylist();const t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){const n=t.id,o=t.groupId;let c=t.url;if(i)try{c=i.addDirectives(c)}catch(u){this.warn(`Could not construct new URL with HLS Delivery Directives: ${u}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(mt.SUBTITLE_TRACK_LOADING,{url:c,id:n,groupId:o,deliveryDirectives:i||null})}}toggleTrackModes(i){const{media:t,trackId:n}=this;if(!t)return;const o=oM(t.textTracks),c=o.filter(g=>g.groupId===this.groupId);if(-1===i)[].slice.call(o).forEach(g=>{g.mode="disabled"});else{const g=c[n];g&&(g.mode="disabled")}const u=c[i];u&&(u.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(i,t){var n;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=i);if(this.trackId!==i&&this.toggleTrackModes(i),this.trackId===i&&(-1===i||null!=(n=o[i])&&n.details)||i<-1||i>=o.length)return;this.clearTimer();const c=o[i];if(this.log(`Switching to subtitle-track ${i}`+(c?` "${c.name}" lang:${c.lang} group:${c.groupId}`:"")),this.trackId=i,c){const{id:u,groupId:g="",name:A,type:U,url:Z}=c;this.hls.trigger(mt.SUBTITLE_TRACK_SWITCH,{id:u,groupId:g,name:A,type:U,url:Z});const ce=this.switchParams(c.url,t?.details);this.loadPlaylist(ce)}else this.hls.trigger(mt.SUBTITLE_TRACK_SWITCH,{id:i})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let i=-1;const t=oM(this.media.textTracks);for(let n=0;n<t.length;n++)if("hidden"===t[n].mode)i=n;else if("showing"===t[n].mode){i=n;break}this.subtitleTrack!==i&&(this.subtitleTrack=i)}},timelineController:class IN{constructor(i){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=i,this.config=i.config,this.Cues=i.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const t=new ib(this,"textTrack1"),n=new ib(this,"textTrack2"),o=new ib(this,"textTrack3"),c=new ib(this,"textTrack4");this.cea608Parser1=new NI(1,t,n),this.cea608Parser2=new NI(3,o,c)}i.on(mt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(mt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(mt.FRAG_LOADING,this.onFragLoading,this),i.on(mt.FRAG_LOADED,this.onFragLoaded,this),i.on(mt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.on(mt.FRAG_DECRYPTED,this.onFragDecrypted,this),i.on(mt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(mt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.on(mt.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(mt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(mt.FRAG_LOADING,this.onFragLoading,this),i.off(mt.FRAG_LOADED,this.onFragLoaded,this),i.off(mt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.off(mt.FRAG_DECRYPTED,this.onFragDecrypted,this),i.off(mt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(mt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.off(mt.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(i,t,n,o,c){let u=!1;for(let g=c.length;g--;){const A=c[g],U=PN(A[0],A[1],t,n);if(U>=0&&(A[0]=Math.min(A[0],t),A[1]=Math.max(A[1],n),u=!0,U/(n-t)>.5))return}if(u||c.push([t,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[i],t,n,o);else{const g=this.Cues.newCue(null,t,n,o);this.hls.trigger(mt.CUES_PARSED,{type:"captions",cues:g,track:i})}}onInitPtsFound(i,{frag:t,id:n,initPTS:o,timescale:c}){const{unparsedVttFrags:u}=this;"main"===n&&(this.initPTS[t.cc]={baseTime:o,timescale:c}),u.length&&(this.unparsedVttFrags=[],u.forEach(g=>{this.onFragLoaded(mt.FRAG_LOADED,g)}))}getExistingTrack(i){const{media:t}=this;if(t)for(let n=0;n<t.textTracks.length;n++){const o=t.textTracks[n];if(o[i])return o}return null}createCaptionsTrack(i){this.config.renderTextTracksNatively?this.createNativeTrack(i):this.createNonNativeTrack(i)}createNativeTrack(i){if(this.captionsTracks[i])return;const{captionsProperties:t,captionsTracks:n,media:o}=this,{label:c,languageCode:u}=t[i],g=this.getExistingTrack(i);if(g)n[i]=g,wf(n[i]),V1(n[i],o);else{const A=this.createTextTrack("captions",c,u);A&&(A[i]=!0,n[i]=A)}}createNonNativeTrack(i){if(this.nonNativeCaptionsTracks[i])return;const t=this.captionsProperties[i];if(!t)return;const o={_id:i,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[i]=o,this.hls.trigger(mt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(i,t,n){const o=this.media;if(o)return o.addTextTrack(i,t,n)}onMediaAttaching(i,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:i}=this;Object.keys(i).forEach(t=>{wf(i[t]),delete i[t]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:i}=this;if(!i)return;const t=i.textTracks;if(t)for(let n=0;n<t.length;n++)wf(t[n])}onSubtitleTracksUpdated(i,t){const n=t.subtitleTracks||[],o=n.some(c=>c.textCodec===fM);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(xI(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const u=this.media?this.media.textTracks:null;this.tracks.forEach((g,A)=>{let U;if(u&&A<u.length){let Z=null;for(let ce=0;ce<u.length;ce++)if(ON(u[ce],g)){Z=u[ce];break}Z&&(U=Z)}if(U)wf(U);else{const Z=this._captionsOrSubtitlesFromCharacteristics(g);U=this.createTextTrack(Z,g.name,g.lang),U&&(U.mode="disabled")}U&&(U.groupId=g.groupId,this.textTracks.push(U))})}else if(this.tracks.length){const u=this.tracks.map(g=>({label:g.name,kind:g.type.toLowerCase(),default:g.default,subtitleTrack:g}));this.hls.trigger(mt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:u})}}}_captionsOrSubtitlesFromCharacteristics(i){if(i.attrs.CHARACTERISTICS){const t=/transcribes-spoken-dialog/gi.test(i.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(i.attrs.CHARACTERISTICS);if(t&&n)return"captions"}return"subtitles"}onManifestLoaded(i,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(n=>{const o=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!o)return;const u=this.captionsProperties[`textTrack${o[1]}`];u&&(u.label=n.name,n.lang&&(u.languageCode=n.lang),u.media=n)})}closedCaptionsForLevel(i){const t=this.hls.levels[i.level];return t?.attrs["CLOSED-CAPTIONS"]}onFragLoading(i,t){const{cea608Parser1:n,cea608Parser2:o,lastSn:c,lastPartIndex:u}=this;if(this.enabled&&n&&o&&"main"===t.frag.type){var g,A;const U=t.frag.sn,Z=null!=(g=null==t||null==(A=t.part)?void 0:A.index)?g:-1;U===c+1||U===c&&Z===u+1||(n.reset(),o.reset()),this.lastSn=U,this.lastPartIndex=Z}}onFragLoaded(i,t){const{frag:n,payload:o}=t;if("subtitle"===n.type)if(o.byteLength){const c=n.decryptdata;if(null==c||!c.encrypted||"stats"in t){const g=this.tracks[n.level],A=this.vttCCs;A[n.cc]||(A[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),g&&g.textCodec===fM?this._parseIMSC1(n,o):this._parseVTTs(t)}}else this.hls.trigger(mt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(i,t){const n=this.hls;GI(t,this.initPTS[i.cc],o=>{this._appendCues(o,i.level),n.trigger(mt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},o=>{Jt.log(`Failed to parse IMSC1: ${o}`),n.trigger(mt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:o})})}_parseVTTs(i){var t;const{frag:n,payload:o}=i,{initPTS:c,unparsedVttFrags:u}=this,g=c.length-1;if(!c[n.cc]&&-1===g)return void u.push(i);const A=this.hls;!function SN(r,i,t,n,o,c,u){const g=new bN,A=zt(new Uint8Array(r)).trim().replace(EN,"\n").split("\n"),U=[],Z=i?function LR(r,i=1){return Jx(r,9e4,1/i)}(i.baseTime,i.timescale):0;let ze,ce="00:00.000",Pe=0,Ne=0,Je=!0;g.oncue=function(ct){const Et=t[n];let Ft=t.ccOffset;const Lt=(Pe-Z)/9e4;if(null!=Et&&Et.new&&(void 0!==Ne?Ft=t.ccOffset=Et.start:function(i,t,n){let o=i[t],c=i[o.prevCC];if(!c||!c.new&&o.new)return i.ccOffset=i.presentationOffset=o.start,void(o.new=!1);for(;null!=(u=c)&&u.new;){var u;i.ccOffset+=o.start-c.start,o.new=!1,o=c,c=i[o.prevCC]}i.presentationOffset=n}(t,n,Lt)),Lt){if(!i)return void(ze=new Error("Missing initPTS for VTT MPEGTS"));Ft=Lt-t.presentationOffset}const Qt=ct.endTime-ct.startTime,qt=Ra(9e4*(ct.startTime+Ft-Ne),9e4*o)/9e4;ct.startTime=Math.max(qt,0),ct.endTime=Math.max(qt+Qt,0);const fn=ct.text.trim();ct.text=decodeURIComponent(encodeURIComponent(fn)),ct.id||(ct.id=uM(ct.startTime,ct.endTime,fn)),ct.endTime>0&&U.push(ct)},g.onparsingerror=function(ct){ze=ct},g.onflush=function(){ze?u(ze):c(U)},A.forEach(ct=>{if(Je){if(cM(ct,"X-TIMESTAMP-MAP=")){Je=!1,ct.slice(16).split(",").forEach(Et=>{cM(Et,"LOCAL:")?ce=Et.slice(6):cM(Et,"MPEGTS:")&&(Pe=parseInt(Et.slice(7)))});try{Ne=function(i){let t=parseInt(i.slice(-3));const n=parseInt(i.slice(-6,-4)),o=parseInt(i.slice(-9,-7)),c=i.length>9?parseInt(i.substring(0,i.indexOf(":"))):0;if(!(qn(t)&&qn(n)&&qn(o)&&qn(c)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${i}`);return t+=1e3*n,t+=6e4*o,t+=36e5*c,t}(ce)/1e3}catch(Et){ze=Et}return}""===ct&&(Je=!1)}g.parse(ct+"\n")}),g.flush()}(null!=(t=n.initSegment)&&t.data?Id(n.initSegment.data,new Uint8Array(o)):o,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,Z=>{this._appendCues(Z,n.level),A.trigger(mt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},Z=>{const ce="Missing initPTS for VTT MPEGTS"===Z.message;ce?u.push(i):this._fallbackToIMSC1(n,o),Jt.log(`Failed to parse VTT cue: ${Z}`),!(ce&&g>n.cc)&&A.trigger(mt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:Z})})}_fallbackToIMSC1(i,t){const n=this.tracks[i.level];n.textCodec||GI(t,this.initPTS[i.cc],()=>{n.textCodec=fM,this._parseIMSC1(i,t)},()=>{n.textCodec="wvtt"})}_appendCues(i,t){const n=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[t];if(!o||"disabled"===o.mode)return;i.forEach(c=>j1(o,c))}else{const o=this.tracks[t];if(!o)return;n.trigger(mt.CUES_PARSED,{type:"subtitles",cues:i,track:o.default?"default":"subtitles"+t})}}onFragDecrypted(i,t){const{frag:n}=t;"subtitle"===n.type&&this.onFragLoaded(mt.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(i,t){const{cea608Parser1:n,cea608Parser2:o}=this;if(!this.enabled||!n||!o)return;const{frag:c,samples:u}=t;if("main"!==c.type||"NONE"!==this.closedCaptionsForLevel(c))for(let g=0;g<u.length;g++){const A=u[g].bytes;if(A){const U=this.extractCea608Data(A);n.addData(u[g].pts,U[0]),o.addData(u[g].pts,U[1])}}}onBufferFlushing(i,{startOffset:t,endOffset:n,endOffsetSubtitles:o,type:c}){const{media:u}=this;if(u&&!(u.currentTime<n)){if(!c||"video"===c){const{captionsTracks:g}=this;Object.keys(g).forEach(A=>Nx(g[A],t,n))}if(this.config.renderTextTracksNatively&&0===t&&void 0!==o){const{textTracks:g}=this;Object.keys(g).forEach(A=>Nx(g[A],t,o))}}}extractCea608Data(i){const t=[[],[]],n=31&i[0];let o=2;for(let c=0;c<n;c++){const u=i[o++],g=127&i[o++],A=127&i[o++];if((0!==g||0!==A)&&0!=(4&u)){const Z=3&u;(0===Z||1===Z)&&(t[Z].push(g),t[Z].push(A))}}return t}},audioStreamController:class tN extends zx{constructor(i,t,n){super(i,t,n,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:i}=this;i.on(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(mt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.on(mt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(mt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(mt.ERROR,this.onError,this),i.on(mt.BUFFER_RESET,this.onBufferReset,this),i.on(mt.BUFFER_CREATED,this.onBufferCreated,this),i.on(mt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(mt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(mt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(mt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(mt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(mt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.off(mt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(mt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(mt.ERROR,this.onError,this),i.off(mt.BUFFER_RESET,this.onBufferReset,this),i.off(mt.BUFFER_CREATED,this.onBufferCreated,this),i.off(mt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(mt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(mt.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(i,{frag:t,id:n,initPTS:o,timescale:c}){if("main"===n){const u=t.cc;this.initPTS[t.cc]={baseTime:o,timescale:c},this.log(`InitPTS for cc: ${u} found from main: ${o}`),this.videoTrackCC=u,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(i){if(!this.levels)return this.startPosition=i,void(this.state="STOPPED");const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===i?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),i=t,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var i;const{levels:n,trackId:o}=this,c=null==n||null==(i=n[o])?void 0:i.details;if(c){if(this.waitForCdnTuneIn(c))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var t;const n=performance.now(),o=this.retryDate;(!o||n>=o||null!=(t=this.media)&&t.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const n=this.waitingData;if(n){const{frag:o,part:c,cache:u,complete:g}=n;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const U={frag:o,part:c,payload:u.flush(),networkDetails:null};this._handleFragmentLoadProgress(U),g&&super._handleFragmentLoadComplete(U)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const A=this.getLoadPosition(),U=fr.bufferInfo(this.mediaBuffer,A,this.config.maxBufferHole);jx(U.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${U.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const i=this.waitingData;i&&(this.fragmentTracker.removeFragment(i.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:i}=this;null!=i&&i.readyState&&(this.lastCurrentTime=i.currentTime)}doTickIdle(){const{hls:i,levels:t,media:n,trackId:o}=this;if(null==t||!t[o]||!n&&(this.startFragRequested||!i.config.startFragPrefetch))return;const u=t[o],g=u.details;if(!g||g.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(g))return void(this.state="WAITING_TRACK");const A=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&A&&(this.bufferFlushed=!1,this.afterBufferFlushed(A,"audio","audio"));const U=this.getFwdBufferInfo(A,"audio");if(null===U)return;const{bufferedTrack:Z,switchingTrack:ce}=this;if(!ce&&this._streamEnded(U,g))return i.trigger(mt.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Pe=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),Ne=U.len,ze=this.getMaxBufferLength(Pe?.len);if(Ne>=ze&&!ce)return;const ct=g.fragments[0].start;let Et=U.end;if(ce&&n){const qt=this.getLoadPosition();Z&&ce.attrs!==Z.attrs&&(Et=qt),g.PTSKnown&&qt<ct&&(U.end>ct||U.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=ct+.05)}let Ft=this.getNextFragment(Et,g),Lt=!1;if(Ft&&this.isLoopLoading(Ft,Et)&&(Lt=!!Ft.gap,Ft=this.getNextFragmentLoopLoading(Ft,g,U,"main",ze)),!Ft)return void(this.bufferFlushed=!0);const Qt=Pe&&Ft.start>Pe.end+g.targetduration;if(Qt||(null==Pe||!Pe.len)&&U.len){const qt=this.getAppendedFrag(Ft.start,"main");if(null===qt||(Lt||(Lt=!!qt.gap||!!Qt&&0===Pe.len),Qt&&!Lt||Lt&&U.nextStart&&U.nextStart<qt.end))return}this.loadFragment(Ft,u,Et)}getMaxBufferLength(i){const t=super.getMaxBufferLength();return i?Math.min(Math.max(t,i),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(i,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(n=>new Up(n))}onAudioTrackSwitching(i,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=t,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=t,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(i,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(mt.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(i,t){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:o}=this,{details:c,id:u}=t;if(!o)return void this.warn(`Audio tracks were reset while loading level ${u}`);this.log(`Track ${u} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""},duration:${c.totalduration}`);const g=o[u];let A=0;if(c.live||null!=(n=g.details)&&n.live){const U=this.mainDetails;if(c.fragments[0]||(c.deltaUpdateFailed=!0),c.deltaUpdateFailed||!U)return;!g.details&&c.hasProgramDateTime&&U.hasProgramDateTime?(nI(c,U),A=c.fragments[0].start):A=this.alignPlaylists(c,g.details)}g.details=c,this.levelLastLoaded=u,!this.startFragRequested&&(this.mainDetails||!c.live)&&this.setStartPosition(g.details,A),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(c)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(i){var t;const{frag:n,part:o,payload:c}=i,{config:u,trackId:g,levels:A}=this;if(!A)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const U=A[g];if(!U)return void this.warn("Audio track is undefined on fragment load progress");const Z=U.details;if(!Z)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const ce=u.defaultAudioCodec||U.audioCodec||"mp4a.40.2";let Pe=this.transmuxer;Pe||(Pe=this.transmuxer=new CI(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const Ne=this.initPTS[n.cc],ze=null==(t=n.initSegment)?void 0:t.data;if(void 0!==Ne){const ct=o?o.index:-1,Ft=new Yx(n.level,n.sn,n.stats.chunkCount,c.byteLength,ct,-1!==ct);Pe.push(c,ze,ce,"",n,o,Z.totalduration,!1,Ft,Ne)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${Z.startSN} ,${Z.endSN}],track ${g}`);const{cache:Je}=this.waitingData=this.waitingData||{frag:n,part:o,cache:new SI,complete:!1};Je.push(new Uint8Array(c)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(i){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(i)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(i,t){const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(i,t){const{frag:n,part:o}=t;if("audio"===n.type)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${o?" p: "+o.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const c=this.switchingTrack;c&&(this.bufferedTrack=c,this.switchingTrack=null,this.hls.trigger(mt.AUDIO_TRACK_SWITCHED,ao({},c)))}this.fragBufferedComplete(n,o)}else if(!this.loadedmetadata&&"main"===n.type){const c=this.videoBuffer||this.media;c&&fr.getBuffered(c).length&&(this.loadedmetadata=!0)}}onError(i,t){var n;if(t.fatal)this.state="ERROR";else switch(t.details){case un.FRAG_GAP:case un.FRAG_PARSING_ERROR:case un.FRAG_DECRYPT_ERROR:case un.FRAG_LOAD_ERROR:case un.FRAG_LOAD_TIMEOUT:case un.KEY_LOAD_ERROR:case un.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",t);break;case un.AUDIO_TRACK_LOAD_ERROR:case un.AUDIO_TRACK_LOAD_TIMEOUT:case un.LEVEL_PARSING_ERROR:!t.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(n=t.context)?void 0:n.type)&&(this.state="IDLE");break;case un.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case un.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushed(i,{type:t}){"audio"===t&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(i){var t;const n="audio",{hls:o}=this,{remuxResult:c,chunkMeta:u}=i,g=this.getCurrentContext(u);if(!g)return void this.resetWhenMissingContext(u);const{frag:A,part:U,level:Z}=g,{details:ce}=Z,{audio:Pe,text:Ne,id3:ze,initSegment:Je}=c;if(!this.fragContextChanged(A)&&ce){if(this.state="PARSING",this.switchingTrack&&Pe&&this.completeAudioSwitch(this.switchingTrack),null!=Je&&Je.tracks){const ct=A.initSegment||A;this._bufferInitSegment(Je.tracks,ct,u),o.trigger(mt.FRAG_PARSING_INIT_SEGMENT,{frag:ct,id:n,tracks:Je.tracks})}if(Pe){const{startPTS:ct,endPTS:Et,startDTS:Ft,endDTS:Lt}=Pe;U&&(U.elementaryStreams.audio={startPTS:ct,endPTS:Et,startDTS:Ft,endDTS:Lt}),A.setElementaryStreamInfo("audio",ct,Et,Ft,Lt),this.bufferFragmentData(Pe,A,U,u)}if(null!=ze&&null!=(t=ze.samples)&&t.length){const ct=xr({id:n,frag:A,details:ce},ze);o.trigger(mt.FRAG_PARSING_METADATA,ct)}if(Ne){const ct=xr({id:n,frag:A,details:ce},Ne);o.trigger(mt.FRAG_PARSING_USERDATA,ct)}}else this.fragmentTracker.removeFragment(A)}_bufferInitSegment(i,t,n){if("PARSING"!==this.state)return;i.video&&delete i.video;const o=i.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(mt.BUFFER_CODECS,i);const c=o.initSegment;null!=c&&c.byteLength&&this.hls.trigger(mt.BUFFER_APPENDING,{type:"audio",frag:t,part:null,chunkMeta:n,parent:t.type,data:c}),this.tick()}loadFragment(i,t,n){const o=this.fragmentTracker.getState(i);var c;this.fragCurrent=i,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===i.sn?this._loadInitSegment(i,t):null!=(c=t.details)&&c.live&&!this.initPTS[i.cc]?(this.log(`Waiting for video PTS in continuity counter ${i.cc} of live stream before loading audio fragment ${i.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(i,t,n)):this.clearTrackerIfNeeded(i)}completeAudioSwitch(i){const{hls:t,media:n,bufferedTrack:o}=this,c=o?.attrs,u=i.attrs;n&&c&&(c.CHANNELS!==u.CHANNELS||c.NAME!==u.NAME||c.LANGUAGE!==u.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=i,this.switchingTrack=null,t.trigger(mt.AUDIO_TRACK_SWITCHED,ao({},i))}},audioTrackController:class nN extends Gx{constructor(i){super(i,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(mt.LEVEL_LOADING,this.onLevelLoading,this),i.on(mt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(mt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(mt.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(mt.LEVEL_LOADING,this.onLevelLoading,this),i.off(mt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(mt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(mt.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(i,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(i,t){const{id:n,groupId:o,details:c}=t,u=this.tracksInGroup[n];if(!u||u.groupId!==o)return void this.warn(`Track with id:${n} and group:${o} not found in active group ${u.groupId}`);const g=u.details;u.details=t.details,this.log(`audio-track ${n} "${u.name}" lang:${u.lang} group:${o} loaded [${c.startSN}-${c.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,g)}onLevelLoading(i,t){this.switchLevel(t.level)}onLevelSwitching(i,t){this.switchLevel(t.level)}switchLevel(i){const t=this.hls.levels[i];if(null==t||!t.audioGroupIds)return;const n=t.audioGroupIds[t.urlId];if(this.groupId!==n){this.groupId=n||null;const o=this.tracks.filter(u=>!n||u.groupId===n);this.selectDefaultTrack&&!o.some(u=>u.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const c={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${n}`),this.hls.trigger(mt.AUDIO_TRACKS_UPDATED,c),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(i,t){t.fatal||!t.context||"audioTrack"===t.context.type&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(i){this.selectDefaultTrack=!1,this.setAudioTrack(i)}setAudioTrack(i){const t=this.tracksInGroup;if(i<0||i>=t.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const n=this.currentTrack,o=t[i],{groupId:c,name:u}=o;if(this.log(`Switching to audio-track ${i} "${u}" lang:${o.lang} group:${c}`),this.trackId=i,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(mt.AUDIO_TRACK_SWITCHING,ao({},o)),o.details&&!o.details.live)return;const g=this.switchParams(o.url,n?.details);this.loadPlaylist(g)}selectInitialTrack(){const i=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{const n=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${i.length}`);this.warn(n.message),this.hls.trigger(mt.ERROR,{type:ri.MEDIA_ERROR,details:un.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}findTrackId(i){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const o=t[n];if((!this.selectDefaultTrack||o.default)&&(!i||void 0!==i.attrs["STABLE-RENDITION-ID"]&&i.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||i.name===o.name&&i.lang===o.lang))return o.id}return-1}loadPlaylist(i){super.loadPlaylist();const t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){const n=t.id,o=t.groupId;let c=t.url;if(i)try{c=i.addDirectives(c)}catch(u){this.warn(`Could not construct new URL with HLS Delivery Directives: ${u}`)}this.log(`loading audio-track playlist ${n} "${t.name}" lang:${t.lang} group:${o}`),this.clearTimer(),this.hls.trigger(mt.AUDIO_TRACK_LOADING,{url:c,id:n,groupId:o,deliveryDirectives:i||null})}}},emeController:NN,cmcdController:yc,contentSteeringController:class BN{constructor(i){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=i,this.log=Jt.log.bind(Jt,"[content-steering]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(mt.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(mt.ERROR,this.onError,this)}unregisterListeners(){const i=this.hls;i&&(i.off(mt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(mt.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(mt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(mt.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const i=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,i)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(i){const t=this.levels;t&&(this.levels=t.filter(n=>n!==i))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(i,t){const{contentSteering:n}=t;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(i,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(i,t){const{errorAction:n}=t;if(2===n?.action&&1===n.flags){let o=this.pathwayPriority;const c=this.pathwayId;this.penalizedPathways[c]||(this.penalizedPathways[c]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((u,g)=>(-1===u.indexOf(g.pathwayId)&&u.push(g.pathwayId),u),[])),o&&o.length>1&&(this.updatePathwayPriority(o),n.resolved=this.pathwayId!==c)}}filterParsedLevels(i){this.levels=i;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const n=i[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==i.length?(this.log(`Found ${t.length}/${i.length} levels in Pathway "${this.pathwayId}"`),t):i}getLevelsForPathway(i){return null===this.levels?[]:this.levels.filter(t=>i===t.pathwayId)}updatePathwayPriority(i){let t;this.pathwayPriority=i;const n=this.penalizedPathways,o=performance.now();Object.keys(n).forEach(c=>{o-n[c]>3e5&&delete n[c]});for(let c=0;c<i.length;c++){const u=i[c];if(n[u])continue;if(u===this.pathwayId)return;const g=this.hls.nextLoadLevel,A=this.hls.levels[g];if(t=this.getLevelsForPathway(u),t.length>0){this.log(`Setting Pathway to "${u}"`),this.pathwayId=u,this.hls.trigger(mt.LEVELS_UPDATED,{levels:t});const U=this.hls.levels[g];A&&U&&this.levels&&(U.attrs["STABLE-VARIANT-ID"]!==A.attrs["STABLE-VARIANT-ID"]&&U.bitrate!==A.bitrate&&this.log(`Unstable Pathways change from bitrate ${A.bitrate} to ${U.bitrate}`),this.hls.nextLoadLevel=g);break}}}clonePathways(i){const t=this.levels;if(!t)return;const n={},o={};i.forEach(c=>{const{ID:u,"BASE-ID":g,"URI-REPLACEMENT":A}=c;if(t.some(Z=>Z.pathwayId===u))return;const U=this.getLevelsForPathway(g).map(Z=>{const ce=xr({},Z);ce.details=void 0,ce.url=ZI(Z.uri,Z.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",A);const Pe=new lr(Z.attrs);Pe["PATHWAY-ID"]=u;const Ne=Pe.AUDIO&&`${Pe.AUDIO}_clone_${u}`,ze=Pe.SUBTITLES&&`${Pe.SUBTITLES}_clone_${u}`;Ne&&(n[Pe.AUDIO]=Ne,Pe.AUDIO=Ne),ze&&(o[Pe.SUBTITLES]=ze,Pe.SUBTITLES=ze),ce.attrs=Pe;const Je=new Up(ce);return $0(Je,"audio",Ne),$0(Je,"text",ze),Je});t.push(...U),zI(this.audioTracks,n,A,u),zI(this.subtitleTracks,o,A,u)})}loadSteeringManifest(i){const t=this.hls.config,n=t.loader;let o;this.loader&&this.loader.destroy(),this.loader=new n(t);try{o=new self.URL(i)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${i}`)}if("data:"!==o.protocol){const Z=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+Z)}const c={responseType:"json",url:o.href},u=t.steeringManifestLoadPolicy.default,g=u.errorRetry||u.timeoutRetry||{},A={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:g.maxNumRetry||0,retryDelay:g.retryDelayMs||0,maxRetryDelay:g.maxRetryDelayMs||0},U={onSuccess:(Z,ce,Pe,Ne)=>{this.log(`Loaded steering manifest: "${o}"`);const ze=Z.data;if(1!==ze.VERSION)return void this.log(`Steering VERSION ${ze.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=ze.TTL;const{"RELOAD-URI":Je,"PATHWAY-CLONES":ct,"PATHWAY-PRIORITY":Et}=ze;if(Je)try{this.uri=new self.URL(Je,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${Je}`)}this.scheduleRefresh(this.uri||Pe.url),ct&&this.clonePathways(ct),Et&&this.updatePathwayPriority(Et)},onError:(Z,ce,Pe,Ne)=>{if(this.log(`Error loading steering manifest: ${Z.code} ${Z.text} (${ce.url})`),this.stopLoad(),410===Z.code)return this.enabled=!1,void this.log(`Steering manifest ${ce.url} no longer available`);let ze=1e3*this.timeToLoad;if(429!==Z.code)this.scheduleRefresh(this.uri||ce.url,ze);else{const Je=this.loader;if("function"==typeof Je?.getResponseHeader){const ct=Je.getResponseHeader("Retry-After");ct&&(ze=1e3*parseFloat(ct))}this.log(`Steering manifest ${ce.url} rate limited`)}},onTimeout:(Z,ce,Pe)=>{this.log(`Timeout loading steering manifest (${ce.url})`),this.scheduleRefresh(this.uri||ce.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(c,A,U)}scheduleRefresh(i,t=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(i)},t)}}});function _M(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(_M):Object.keys(r).reduce((i,t)=>(i[t]=_M(r[t]),i),{}):r}let Pd=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function dR(){const r=K0();if(!r)return!1;const i=iI();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||i&&(!i.prototype||"function"!=typeof i.prototype.appendBuffer||"function"!=typeof i.prototype.remove))}()}static get Events(){return mt}static get ErrorTypes(){return ri}static get ErrorDetails(){return un}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:qN}static set DefaultConfig(t){r.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new nM,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function g1(r,i){if(self.console&&!0===r||"object"==typeof r){!function U0(r,...i){i.forEach(function(t){Ad[t]=r[t]?r[t].bind(r):function B0(r){const i=self.console[r];return i?i.bind(self.console,`[${r}] >`):ml}(t)})}(r,"debug","log","info","warn","error");try{Ad.log(`Debug logs enabled for "${i}" in hls.js version 1.4.10`)}catch{Ad=Ip}}else Ad=Ip}(t.debug||!1,"Hls instance");const n=this.config=function QN(r,i){if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==i.liveMaxLatencyDurationCount&&(void 0===i.liveSyncDurationCount||i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(void 0===i.liveSyncDuration||i.liveMaxLatencyDuration<=i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const t=_M(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(c=>{const u=`${"level"===c?"playlist":c}LoadPolicy`,g=void 0===i[u],A=[];o.forEach(U=>{const Z=`${c}Loading${U}`,ce=i[Z];if(void 0!==ce&&g){A.push(Z);const Pe=t[u].default;switch(i[u]={default:Pe},U){case"TimeOut":Pe.maxLoadTimeMs=ce,Pe.maxTimeToFirstByteMs=ce;break;case"MaxRetry":Pe.errorRetry.maxNumRetry=ce,Pe.timeoutRetry.maxNumRetry=ce;break;case"RetryDelay":Pe.errorRetry.retryDelayMs=ce,Pe.timeoutRetry.retryDelayMs=ce;break;case"MaxRetryTimeout":Pe.errorRetry.maxRetryDelayMs=ce,Pe.timeoutRetry.maxRetryDelayMs=ce}}}),A.length&&Jt.warn(`hls.js config: "${A.join('", "')}" setting(s) are deprecated, use "${u}": ${JSON.stringify(i[u])}`)}),ao(ao({},t),i)}(r.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,n.progressive&&function XN(r){const i=r.loader;i!==qI&&i!==$I?(Jt.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function VN(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=qI,r.progressive=!0,r.enableSoftwareAES=!0,Jt.log("[config]: Progressive streaming enabled, using FetchLoader"))}(n);const{abrController:o,bufferController:c,capLevelController:u,errorController:g,fpsController:A}=n,U=new g(this),Z=this.abrController=new o(this),ce=this.bufferController=new c(this),Pe=this.capLevelController=new u(this),Ne=new A(this),ze=new xP(this),Je=new OP(this),ct=n.contentSteeringController,Et=ct?new ct(this):null,Ft=this.levelController=new zP(this,Et),Lt=new ZP(this),Qt=new qP(this.config),qt=this.streamController=new JR(this,Lt,Qt);Pe.setStreamController(qt),Ne.setStreamController(qt);const fn=[ze,Ft,qt];Et&&fn.splice(1,0,Et),this.networkControllers=fn;const an=[Z,ce,Pe,Ne,Je,Lt];this.audioTrackController=this.createController(n.audioTrackController,fn);const _n=n.audioStreamController;_n&&fn.push(new _n(this,Lt,Qt)),this.subtitleTrackController=this.createController(n.subtitleTrackController,fn);const wn=n.subtitleStreamController;wn&&fn.push(new wn(this,Lt,Qt)),this.createController(n.timelineController,an),Qt.emeController=this.emeController=this.createController(n.emeController,an),this.cmcdController=this.createController(n.cmcdController,an),this.latencyController=this.createController(PP,an),this.coreComponents=an,fn.push(U);const sn=U.onErrorOut;"function"==typeof sn&&this.on(mt.ERROR,sn,U)}createController(t,n){if(t){const o=new t(this);return n&&n.push(o),o}return null}on(t,n,o=this){this._emitter.on(t,n,o)}once(t,n,o=this){this._emitter.once(t,n,o)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,n,o=this,c){this._emitter.off(t,n,o,c)}listeners(t){return this._emitter.listeners(t)}emit(t,n,o){return this._emitter.emit(t,n,o)}trigger(t,n){if(this.config.debug)return this.emit(t,t,n);try{return this.emit(t,t,n)}catch(o){Jt.error("An internal error happened while handling event "+t+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(mt.ERROR,{type:ri.OTHER_ERROR,details:un.INTERNAL_EXCEPTION,fatal:!1,event:t,error:o})}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){Jt.log("destroy"),this.trigger(mt.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){Jt.log("attachMedia"),this._media=t,this.trigger(mt.MEDIA_ATTACHING,{media:t})}detachMedia(){Jt.log("detachMedia"),this.trigger(mt.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const n=this.media,o=this.url,c=this.url=Mp.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});Jt.log(`loadSource:${c}`),n&&o&&(o!==c||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(mt.MANIFEST_LOADING,{url:t})}startLoad(t=-1){Jt.log(`startLoad(${t})`),this.networkControllers.forEach(n=>{n.startLoad(t)})}stopLoad(){Jt.log("stopLoad"),this.networkControllers.forEach(t=>{t.stopLoad()})}swapAudioCodec(){Jt.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Jt.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t,n=0){this.levelController.removeLevel(t,n)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){Jt.log(`set currentLevel:${t}`),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){Jt.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){Jt.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){Jt.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){return this.levelController.startLevel}set startLevel(t){Jt.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const n=!!t;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(Jt.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){Fx.indexOf(t)>-1&&(this._maxHdcpLevel=t)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:n}}=this;if(!t)return 0;const o=t.length;for(let c=0;c<o;c++)if(t[c].maxBitrate>=n)return c;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:n,maxHdcpLevel:o}=this;let c;if(c=-1===n&&t&&t.length?t.length-1:n,o)for(let u=c;u--;){const g=t[u].attrs["HDCP-LEVEL"];if(g&&g<=o)return u}return c}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const n=this.audioTrackController;n&&(n.audioTrack=t)}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const n=this.subtitleTrackController;n&&(n.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();function eL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.onClickDialogAction(c))}),e._uU(1),e.qZA()}if(2&r){const t=i.$implicit;e.xp6(1),e.Oqu(t.text)}}let tL=(()=>{class r{constructor(t,n){this.dialog=t,this.options=n}onClickDialogAction(t){this.dialog.close(t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(yi.so),e.Y36(yi.WI))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,eL,2,1,"ng-template",6),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(o.options.title),e.xp6(3),e.hij(" ",o.options.message," "),e.xp6(3),e.Q6J("ngForOf",o.options.actions))},dependencies:[y.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const nL=["controlsContainer"],iL=["settingsContainer"],rL=["videoPrincipalContainer"],oL=["videoTarget"];function aL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.goToPreviousEpisode())}),e._UZ(1,"i",56),e.qZA()}}function sL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.goToNextEpisode())}),e._UZ(1,"i",58),e.qZA()}}function lL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",59,60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.playOrPauseVideo())}),e.TgZ(2,"img",8),e.NdJ("error",function(){e.CHM(t);const o=e.MAs(1),c=e.oxw(2);return e.KtG(c.focusButton(o))}),e.qZA(),e._UZ(3,"i",61),e.qZA()}}function cL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",62,63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.playOrPauseVideo())}),e.TgZ(2,"img",8),e.NdJ("error",function(){e.CHM(t);const o=e.MAs(1),c=e.oxw(2);return e.KtG(c.focusButton(o))}),e.qZA(),e._UZ(3,"i",64),e.qZA()}}const dL=function(r){return{"show-controls":r}};function uL(r,i){if(1&r&&(e.TgZ(0,"div",65),e._uU(1," Cargando video... "),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,dL,t.showControls))}}const JI=function(r){return{selected:r}};function fL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.onClickPrincipalSettingsOption(c))}),e._uU(1),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw(3);e.MGl("id","stream_option_",t.index,""),e.Q6J("ngClass",e.VKq(3,JI,n.currentSelectedPrincipalSettingOption&&t.index==n.currentSelectedPrincipalSettingOption.index)),e.xp6(1),e.hij(" ",t.name," ")}}function hL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(4);return e.KtG(u.onClickStreamOption(c))}),e._uU(1),e.qZA()}if(2&r){const t=i.$implicit,n=e.oxw(4);e.hYB("id","stream_option_",n.currentSelectedPrincipalSettingOption.id,"_suboption_",t.index,""),e.Q6J("ngClass",e.VKq(4,JI,n.currentSelectedPrincipalSettingOption.selectedOption&&n.currentSelectedPrincipalSettingOption.selectedOption.index==t.index)),e.xp6(1),e.hij(" ",t.name," ")}}function mL(r,i){if(1&r&&(e.TgZ(0,"section",77),e.YNc(1,hL,2,6,"ng-template",74),e.qZA()),2&r){const t=e.oxw(3);e.MGl("id","streams_suboptions_section_",t.currentSelectedPrincipalSettingOption.index,""),e.xp6(1),e.Q6J("ngForOf",t.currentSelectedPrincipalSettingOption.listOptions)}}function pL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"section",66,67)(2,"img",8),e.NdJ("error",function(){e.CHM(t);const o=e.MAs(1),c=e.oxw(2);return e.KtG(c.initializeSettingsContainer(o))}),e.qZA(),e.TgZ(3,"div",68)(4,"section",69)(5,"div",70)(6,"div",71)(7,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hideSettings())}),e._UZ(8,"i",11),e.qZA()()()(),e.TgZ(9,"section",73),e.YNc(10,fL,2,5,"ng-template",74),e.qZA(),e.YNc(11,mL,2,2,"section",75),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(10),e.Q6J("ngForOf",t.listPrincipalSettingsOptions),e.xp6(1),e.Q6J("ngIf",t.currentSelectedPrincipalSettingOption)}}function gL(r,i){if(1&r&&e._UZ(0,"div",78),2&r){const t=i.$implicit,n=e.oxw(3);e.Udp("display",n.checkIfDisplaySubtitles(t)?"block":"none"),e.Q6J("innerHtml",t.text,e.oJD)}}function _L(r,i){if(1&r&&e.YNc(0,gL,1,3,"ng-template",74),2&r){const t=e.oxw(2);e.Q6J("ngForOf",t.currentSubtitleData)}}function vL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"video",79,80),e.NdJ("error",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onErrorVideo())})("loadedmetadata",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onLoadedMetadata())})("loadeddata",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onLoadedData())})("ended",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.OnEndedVideo())}),e.qZA()}}const yL=function(r){return{show:r}};function bL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(1),c=e.oxw();return e.KtG(!c.isMobileDevice()&&c.onClickVideoContainer(o))})("touchstart",function(){e.CHM(t);const o=e.MAs(1),c=e.oxw();return e.KtG(c.isMobileDevice()&&c.onTouchVideoContainer(o))})("mousemove",function(){e.CHM(t);const o=e.MAs(1),c=e.oxw();return e.KtG(c.onMouseMoveVideoContainer(o))}),e.TgZ(2,"div",5)(3,"section",6,7)(5,"img",8),e.NdJ("error",function(){e.CHM(t);const o=e.MAs(4),c=e.oxw();return e.KtG(c.initializeControlsContainer(o))}),e.qZA(),e.TgZ(6,"section",9)(7,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeVideo())}),e._UZ(8,"i",11),e.qZA(),e.TgZ(9,"div",12),e._uU(10),e.qZA()(),e.TgZ(11,"div",13)(12,"div",14)(13,"section",15)(14,"button",16)(15,"div",17,18),e._uU(17),e.qZA(),e.TgZ(18,"div",19)(19,"div",20),e.NdJ("contextmenu",function(){e.CHM(t);const o=e.MAs(24),c=e.oxw();return e.KtG(!c.isMobileDevice()&&c.onClickSlider(o))})("click",function(){e.CHM(t);const o=e.MAs(24),c=e.oxw();return e.KtG(c.onClickSlider(o))})("touchend",function(){e.CHM(t);const o=e.MAs(24),c=e.oxw();return e.KtG(c.isMobileDevice()&&c.onClickSlider(o))})("touchstart",function(o){e.CHM(t);const c=e.MAs(24),u=e.MAs(16),g=e.oxw();return e.KtG(g.isMobileDevice()&&g.onTouchStartSlider(o,c,u))})("touchmove",function(o){e.CHM(t);const c=e.MAs(24),u=e.MAs(16),g=e.oxw();return e.KtG(g.isMobileDevice()&&g.onTouchMoveSlider(o,c,u))})("mousedown",function(o){e.CHM(t);const c=e.MAs(24),u=e.oxw();return e.KtG(u.onMouseDownSlider(o,c))})("mousemove",function(o){e.CHM(t);const c=e.MAs(24),u=e.oxw();return e.KtG(u.onMouseMoveSlider(o,c))}),e._UZ(20,"div",21,22),e.TgZ(22,"div",23)(23,"div",24,25)(25,"div",26,25),e._UZ(27,"div",27,28),e.qZA()()()()(),e.TgZ(29,"div",17,29),e._uU(31),e.qZA()()(),e.TgZ(32,"section",30)(33,"div",31),e.YNc(34,aL,2,0,"button",32),e.qZA(),e.TgZ(35,"div",33)(36,"div",34),e.YNc(37,sL,2,0,"button",35),e.TgZ(38,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeObjectContain())}),e._UZ(39,"i",37),e.qZA(),e.TgZ(40,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleFullScreenVideo())}),e._UZ(41,"i",39),e.qZA(),e.TgZ(42,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showSettings())}),e._UZ(43,"i",41),e.qZA()()()(),e.TgZ(44,"div",42)(45,"div",43)(46,"section",44)(47,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.rewindVideo())}),e._UZ(48,"i",46),e.qZA(),e.YNc(49,lL,4,0,"button",47),e.YNc(50,cL,4,0,"button",48),e.TgZ(51,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.forwardVideo())}),e._UZ(52,"i",50),e.qZA()()()()()()(),e.YNc(53,uL,2,3,"div",51),e.YNc(54,pL,12,2,"section",52),e.YNc(55,_L,1,1,"ng-template",53),e.YNc(56,vL,2,0,"video",54),e.qZA()()}if(2&r){const t=e.MAs(16),n=e.MAs(21),o=e.MAs(30),c=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(22,yL,c.showControls)),e.xp6(7),e.hij(" ",c.builderVideo.TranscodePrepareVideo.Title," "),e.xp6(5),e.Udp("visibility",c.showControls?"":"hidden"),e.xp6(2),e.hij(" ",c.getVideoTime()," "),e.xp6(1),e.Udp("width","calc(100% - "+(t.offsetWidth+o.offsetWidth)+"px)"),e.xp6(5),e.Udp("width",n.offsetWidth+"px"),e.xp6(4),e.Udp("width",c.getSliderPogressWidth()),e.xp6(2),e.Udp("visibility",c.showControls?"":"hidden"),e.xp6(2),e.hij(" ",c.getDurationTime()," "),e.xp6(3),e.Q6J("ngIf",c.isEnablePreviousEpisodeButton()),e.xp6(3),e.Q6J("ngIf",c.isEnableNextEpisodeButton()),e.xp6(12),e.Q6J("ngIf",!c.isPlayingVideo()),e.xp6(1),e.Q6J("ngIf",c.isPlayingVideo()),e.xp6(3),e.Q6J("ngIf",!c.loadedData),e.xp6(1),e.Q6J("ngIf",c.showingSettings),e.xp6(1),e.Q6J("ngIf",c.currentSubtitleData),e.xp6(1),e.Q6J("ngIf",c.showVideoTarget)}}let EL=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(n,o,c),this.dialog=t,this.restProvider=n,this.domSanitizer=o,this.sharedData=c,this.ref=u,this.http=g,this.fullscreen=new e.vpe,this.outputCloseVideo=new e.vpe,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1}ngOnInit(){let t=this;this.customMouseOutEvent=function(o){t.sliderContainer&&t.sliderContainer.startMove&&t.onClickSlider(t.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){t.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){t.ref.detectChanges()},0),this.updateVideoProfileInterval=window.setInterval(function(){t.UpdateVideoProfile()},1e4),this.initializeVideoData()}ngOnDestroy(){this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateVideoProfileInterval&&window.clearInterval(this.updateVideoProfileInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedData.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=Xr.Empty,this.restProvider.executeHttpMethodByUrl(xn.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(n=>{this.builderVideo.LoadStatus=Xr.Generated;const o=ll().decode(n);let c=JSON.parse(o);this.builderVideo.TranscodeRunVideo=c,this.builderVideo.TranscodePrepareVideo=c.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},n=>{this.showLoadVideoErrorActionsDialog(),console.error(n)})}onTouchVideoContainer(t){this.showingSettings?this.initializeSettingsContainer(this.settingsContainer.nativeElement):(this.initializeControlsContainer(this.controlsContainer.nativeElement),this.isMobileDevice()&&this.showControlsTemporarily(t))}onClickVideoContainer(t){this.showingSettings?this.initializeSettingsContainer(this.settingsContainer.nativeElement):(this.initializeControlsContainer(this.controlsContainer.nativeElement),t.clicked=!0,setTimeout(()=>{t.clicked=!1},2e3),this.isMobileDevice()||this.showControlsTemporarily(t))}onTouchStartSlider(t,n,o){this.sliderContainer=n,n.startMove=!0,this.lastTmpVideoTime=(t.changedTouches[0].clientX-o.offsetWidth-8-4)/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(t,n,o){n.startMove&&(this.lastTmpVideoTime=(t.changedTouches[0].clientX-o.offsetWidth-8-4)/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let t=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,c=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(u=>u.EpisodeNumber==o);if(-1!=c)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[c]);else{let u=t+1,g=this.builderVideo.ItemDetail.ListSeasons.findIndex(A=>A.SeasonNumber==u);if(-1!=g){let A=this.builderVideo.ItemDetail.ListSeasons[g];this.builderVideo.ItemDetail.CurrentSeason=A,A&&A.ListEpisodes&&A.ListEpisodes.length&&this.getVideoByEpisode(A.ListEpisodes[0])}}}}getVideoByEpisode(t){this.deleteAllProcessesAndDirectories();var n=this.GetTranscodeVideoFromEpisode(t);this.builderVideo.TranscodePrepareVideo=n,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(c=>c.SeasonNumber==t.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(c=>c.EpisodeNumber==t.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedData.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=Xr.Empty,this.restProvider.executeHttpMethodByUrl(xn.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(c=>{this.builderVideo.LoadStatus=Xr.Generated;const u=ll().decode(c);let g=JSON.parse(u);this.builderVideo.TranscodeRunVideo=g,this.builderVideo.TranscodePrepareVideo=g.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},c=>{this.showLoadVideoErrorActionsDialog(),console.error(c)})}goToPreviousEpisode(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let t=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,c=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(u=>u.EpisodeNumber==o);if(-1!=c)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[c]);else{let u=t+1,g=this.builderVideo.ItemDetail.ListSeasons.findIndex(A=>A.SeasonNumber==u);if(-1!=g){let A=this.builderVideo.ItemDetail.ListSeasons[g];this.builderVideo.ItemDetail.CurrentSeason=A,A&&A.ListEpisodes&&A.ListEpisodes.length&&this.getVideoByEpisode(A.ListEpisodes[A.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let t=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(u=>u.EpisodeNumber==o))return!0;{let u=t-1,g=this.builderVideo.ItemDetail.ListSeasons.findIndex(A=>A.SeasonNumber==u);if(-1!=g){let A=this.builderVideo.ItemDetail.ListSeasons[g];return!!(A&&A.ListEpisodes&&A.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let t=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(u=>u.EpisodeNumber==o))return!0;{let u=t+1,g=this.builderVideo.ItemDetail.ListSeasons.findIndex(A=>A.SeasonNumber==u);if(-1!=g){let A=this.builderVideo.ItemDetail.ListSeasons[g];return!!(A&&A.ListEpisodes&&A.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}initializeControlsContainer(t){let n=this;this.customKeyboardControlsEvent&&t.removeEventListener("keydown",this.customKeyboardControlsEvent),this.showingSettings=!1,this.focusContainer(t,this.ref),this.customKeyboardControlsEvent=function(c){461==c.keyCode||27==c.keyCode?n.closeVideo():n.loadedData&&(n.showControlsTemporarily(t),n.setKeyActionsInBrowser(c,t,!0))},t.addEventListener("keydown",this.customKeyboardControlsEvent)}initializeSettingsContainer(t){let n=this;this.customKeyboardSettingsEvent&&t.removeEventListener("keydown",this.customKeyboardSettingsEvent),this.focusContainer(t,this.ref),this.customKeyboardSettingsEvent=function(c){461==c.keyCode||27==c.keyCode?n.hideSettings():n.setKeyActionsInBrowser(c,t)},t.addEventListener("keydown",this.customKeyboardSettingsEvent)}hideSettings(){this.showingSettings=!1,this.ref.detectChanges(),this.initializeControlsContainer(this.controlsContainer.nativeElement)}onClickPrincipalSettingsOption(t){this.currentSelectedPrincipalSettingOption=t}onClickStreamOption(t){this.currentSelectedPrincipalSettingOption.selectedOption=t,this.showingSettings=!1,this.ref.detectChanges(),this.initializeControlsContainer(this.controlsContainer.nativeElement),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=t.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==t.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=t.index,this.hls.subtitleDisplay=!0))}getSubtitle(t){let n=this;this.http.get(t,{responseType:"text"}).subscribe(o=>{o&&(0,xf.Q)(o)&&(0,xf.Q)(o).entries?(n.currentSubtitleData=(0,xf.Q)(o).entries,0==n.currentSubtitleData.length?setTimeout(()=>{n.getSubtitle(t)},1e3):n.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{n.getSubtitle(t)},1e3))},o=>{console.error(o),setTimeout(()=>{n.getSubtitle(t)},1e3)})}showSubtitle(){}closeVideo(){this.deleteAllProcessesAndDirectories(),this.outputCloseVideo.emit(!0)}focusButton(t){t.focus(),this.sharedData.currentSelectedElement=t}setKeyActionsInBrowser(t,n,o){var c=t.keyCode;let u=Array.from(n.querySelectorAll("section")),g=u.findIndex(Pe=>Pe.id==this.sharedData.currentActiveSection.id),U=Array.from(u[g].querySelectorAll("button")),Z=U.length,ce=U.findIndex(Pe=>Pe.id==this.sharedData.currentSelectedElement.id);if(39==c){let Pe=ce+1;if(console.log(":::::::::::"),console.log("currentSectionIndex::"+g),console.log("currentElementIndex::"+ce),console.log("newElementIndex::"+Pe),Pe<Z){let Ne=U[Pe];this.sharedData.currentSelectedElement=Ne,Ne.focus()}else"sliderButton"==this.sharedData.currentSelectedElement.id&&this.forwardVideo()}if(37==c){let Pe=ce-1;if(console.log(":::::::::::"),console.log("currentSectionIndex::"+g),console.log("currentElementIndex::"+ce),console.log("newElementIndex::"+Pe),Pe>=0){let Ne=U[Pe];this.sharedData.currentSelectedElement=Ne,Ne.focus()}else"sliderButton"==this.sharedData.currentSelectedElement.id&&this.rewindVideo()}if(40==c){let Pe=g+1;if(Pe<u.length){let Ne=u[Pe];this.sharedData.currentActiveSection=Ne;let Je=Array.from(Ne.querySelectorAll("button"))[0];this.sharedData.currentSelectedElement=Je,Je.focus()}}if(38==c){let Pe=g-1;if(Pe>=0){let Ne=u[Pe];this.sharedData.currentActiveSection=Ne;let Je=Array.from(Ne.querySelectorAll("button"))[0];this.sharedData.currentSelectedElement=Je,Je.focus()}}}ngAfterViewInit(){}getConfirmMessage(){var t="Vacio";switch(this.builderVideo.LoadStatus){case Xr.Empty:t="Vac\xedo";break;case Xr.Generated:t="Generado";break;case Xr.Initialized:t="Inicializado";break;case Xr.LoadedMetada:t="Cargado Metadata";break;case Xr.LoadedData:t="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+t+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(t=>{let n="";"spa"==t.language&&(n="Espa\xf1ol"),"eng"==t.language&&(n="Ingles"),t.title&&(n=n+" ("+t.title+")"),t.name=n}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(t=>1==t.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let c="";"spa"==o.language&&(c="Espa\xf1ol"),"eng"==o.language&&(c="Ingles"),o.title&&(c=c+" ("+o.title+")"),o.name=c});let t=[];t.push({index:1e6,name:"Ninguno"}),t=t.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=t;let n=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==n&&(n=t.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=n}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}UpdateVideoProfile(){if(null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var t=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((t=this.getCurrentVideoTime())-20<0?t=0:t-=20),this.restProvider.executeSinovadApiService(xn.PUT,"/videos/UpdateVideoProfile",{VideoId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedData.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:t}).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(t){var n=parseInt(t,10),o=Math.floor(n/3600),c=Math.floor((n-3600*o)/60),u=n-3600*o-60*c;return o<10&&(o="0"+o),c<10&&(c="0"+c),u<10&&(u="0"+u),o+":"+c+":"+u}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let t=this.getCurrentVideoTime();return null!=t&&t>0?this.getFormatTime(t):"00:00:00"}}onMouseDownSlider(t,n){this.sliderContainer=n,n.startMove=!0,this.calculateNewTimeToGo(t,n)}onMouseMoveSlider(t,n){n.startMove&&this.calculateNewTimeToGo(t,n)}calculateNewTimeToGo(t,n){this.lastTmpVideoTime=t.offsetX/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(t){if(this.lastTmpVideoTime){if(t.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let n=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(n)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let n=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(n)}this.lastTmpVideoTime=void 0}}updateVideoData(t){this.deleteAllProcessesAndDirectories();let n=Pr();this.sharedData.listProcessGUIDs.push(n),this.builderVideo.TranscodePrepareVideo.TimeSpan=t.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=n,this.builderVideo.LoadStatus=Xr.Empty,this.restProvider.executeHttpMethodByUrl(xn.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(c=>{this.builderVideo.LoadStatus=Xr.Generated;const u=ll().decode(c);let g=JSON.parse(u);this.builderVideo.TranscodeRunVideo=g,this.updateAudioAndVideoList(),this.getVideoSource()},c=>{this.showLoadVideoErrorActionsDialog(),console.error(c)})}deleteAllProcessesAndDirectories(){this.sharedData.listProcessGUIDs&&this.sharedData.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var t=this.sharedData.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(xn.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos?guids="+t).then(o=>{const c=ll().decode(o);let u=JSON.parse(c);if(u&&u.length>0&&this.sharedData.listProcessGUIDs.length>0)for(var g=0;g<u.length;g++){let A=u[g],U=this.sharedData.listProcessGUIDs.findIndex(Z=>Z==A);-1!=U&&this.sharedData.listProcessGUIDs.splice(U,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let t=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/t*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Vs.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Vs.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.fullscreen.emit(!0)}toggleFullScreenVideo(){document.fullscreenElement||this.showVideoInFullScreen()}displayVideoUsingDash(t){let n=this;this.dashMediaPlayer=hl.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,t),this.dashMediaPlayer.on(hl.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(hl.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(hl.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(hl.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(hl.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),n.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Vs.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(t){let o=1e3*(this.getCurrentVideoTime()-1);return t.from<=o&&t.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=Xr.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=Xr.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(t=>{this.builderVideo.LoadStatus=Xr.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},t=>{console.error(t),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(t){let n=this;setTimeout(()=>{n.builderVideo.LoadStatus!=Xr.LoadedData&&n.showLoadVideoErrorActionsDialog()},1e4,n),this.showVideoInFullScreen(),Pd.isSupported()?(this.hls=new Pd,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(t),this.hls.on(Pd.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(Pd.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(Pd.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(Pd.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(Pd.Events.ERROR,function(o){n.videoTarget.nativeElement.CurrentTime=n.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=t,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(t){let n=Pr();this.lastTimeSpanChangeGUID=n,setTimeout(()=>{n==this.lastTimeSpanChangeGUID&&this.updateVideoData(t)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(t){this.initializeVideo=!1;let n=0;n=this.getCurrentVideoTime()-t>=0?t:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Vs.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>n?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-n):(this.lastRealVideoTime=this.getCurrentVideoTime()-n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>n?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-n:(this.lastRealVideoTime=this.getCurrentVideoTime()-n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(t){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let n=0;n=this.getCurrentVideoTime()+t>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:t,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Vs.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=n?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+n):(this.lastRealVideoTime=this.getCurrentVideoTime()+n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=n?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+n:(this.lastRealVideoTime=this.getCurrentVideoTime()+n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(t){!this.showControls&&!t.clicked&&!this.showingSettings&&this.showControlsTemporarily(t)}executeShowControlsTemporarily(t,n){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{t.guid==n&&this.executeHideControls()},2e3)}showControlsTemporarily(t){if(!this.showControls){let n=Pr();t.guid=n,this.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(t,n)},250):this.executeShowControlsTemporarily(t,n)}}toogleVideoControls(t){this.showControls?this.showControls=!0:this.showControlsTemporarily(t)}showLoadVideoErrorActionsDialog(){var t=new yi.vA;t.disableClose=!0,t.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(tL,t).afterClosed().subscribe(n=>{"Si"==n.key&&this.onConfirmReplyVideo(),"No"==n.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(yi.uw),e.Y36(ni),e.Y36(It),e.Y36(fi),e.Y36(e.sBO),e.Y36($e))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(n,o){if(1&n&&(e.Gf(nL,5),e.Gf(iL,5),e.Gf(rL,5),e.Gf(oL,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.controlsContainer=c.first),e.iGM(c=e.CRH())&&(o.settingsContainer=c.first),e.iGM(c=e.CRH())&&(o.videoPrincipalContainer=c.first),e.iGM(c=e.CRH())&&(o.videoTarget=c.first)}},inputs:{builderVideo:"builderVideo"},outputs:{fullscreen:"fullscreen",outputCloseVideo:"outputCloseVideo"},features:[e.qOj],decls:3,vars:1,consts:[["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["src","",2,"display","none",3,"error"],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,bL,57,24,"div",2),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngIf",o.showVideo))},dependencies:[y.mk,y.sg,y.O5],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})();function TL(r,i){if(1&r&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.getInitials(t.sharedData.currentProfile)," ")}}function CL(r,i){if(1&r&&(e._UZ(0,"img",13),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&r){const t=e.oxw(3);e.uIk("src",e.lcZ(1,1,e.xi3(2,3,t.sharedData.currentProfile.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function SL(r,i){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.qZA(),e.YNc(2,TL,2,1,"div",12),e.YNc(3,CL,3,6,"img",12)),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.sharedData.currentProfile.FullName," "),e.xp6(1),e.Q6J("ngIf",null==t.sharedData.currentProfile.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=t.sharedData.currentProfile.AvatarPath)}}function DL(r,i){if(1&r&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.getInitials(t)," ")}}function xL(r,i){if(1&r&&(e._UZ(0,"img",13),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&r){const t=e.oxw(2).$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,t.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function ML(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",3)(1,"a",15,5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.onSelectProfile(o))}),e.YNc(3,DL,2,1,"div",12),e.YNc(4,xL,3,6,"img",12),e.TgZ(5,"span",11),e._uU(6),e.qZA()()()}if(2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",null==t.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=t.AvatarPath),e.xp6(2),e.hij(" ",t.FullName," ")}}function AL(r,i){if(1&r&&e.YNc(0,ML,7,3,"li",10),2&r){const t=i.$implicit,n=e.oxw(3);e.Q6J("ngIf",n.sharedData.currentProfile&&t.Id!=n.sharedData.currentProfile.Id)}}function wL(r,i){if(1&r&&e.YNc(0,AL,1,1,"ng-template",14),2&r){const t=e.oxw(2);e.Q6J("ngForOf",t.sharedData.listProfiles)}}function IL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",3)(1,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onClickAdminMode())}),e.TgZ(2,"span"),e._uU(3,"Mantenimiento"),e.qZA()()()}}function OL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),e.YNc(5,SL,4,3,"ng-template",6),e.qZA()(),e._UZ(6,"div",7),e.TgZ(7,"div",8),e.YNc(8,wL,1,1,"ng-template",6),e.TgZ(9,"li",3)(10,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickEditProfilesButton())}),e.TgZ(11,"span"),e._uU(12,"Editar perfiles"),e.qZA()()(),e.TgZ(13,"li",3)(14,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickAccountOption())}),e.TgZ(15,"span"),e._uU(16,"Cuenta"),e.qZA()()(),e.YNc(17,IL,4,0,"li",10),e.TgZ(18,"li",3)(19,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.logout.emit(!0))}),e.TgZ(20,"span"),e._uU(21,"Cerrar Sesi\xf3n"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.sharedData.currentProfile),e.xp6(3),e.Q6J("ngIf",t.sharedData.listProfiles&&t.sharedData.listProfiles.length>0),e.xp6(9),e.Q6J("ngIf",t.sharedData.listMenus&&t.sharedData.listMenus.length>0)}}let PL=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.ref=t,this.router=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this.showAdminMode=new e.vpe,this.changeProfile=new e.vpe,this.logout=new e.vpe}ngOnInit(){}onClickChangeProfileButton(){this.sharedData.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedData.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(t){this.sharedData.currentProfile=t,this.changeProfile.emit(!0)}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedData.listMenus[0].ChildMenus[0].Path)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-dropdown-user"]],outputs:{showAdminMode:"showAdminMode",changeProfile:"changeProfile",logout:"logout"},features:[e.qOj],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(n,o){1&n&&e.YNc(0,OL,22,3,"div",0),2&n&&e.Q6J("ngIf",!o.sharedData.showSplashScreen)},dependencies:[y.sg,y.O5,y.Ov,Hr],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const RL=["searchTarget"],QI=function(){return["/home"]};function NL(r,i){1&r&&(e.TgZ(0,"a",12),e._UZ(1,"i",13),e.qZA()),2&r&&e.Q6J("routerLink",e.DdM(1,QI))}const XI=function(r){return{focused:r}};function LL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"input",6,7),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.searchText=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeSearchValue())})("focus",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isFocusSearch=!0)})("blur",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isFocusSearch=!1)}),e.qZA(),e.TgZ(4,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickSearchButton())}),e._UZ(5,"i",9),e.qZA()(),e.TgZ(6,"div",16)(7,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showNavbarSearch=!1)}),e._UZ(8,"i",17),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,XI,t.isFocusSearch)),e.xp6(1),e.Q6J("ngModel",t.searchText)}}let kL=(()=>{class r extends wi{constructor(t,n,o,c,u){super(n,c,u),this.router=t,this.restProvider=n,this.http=o,this.domSanitizer=c,this.sharedData=u,this.goHome=new e.vpe,this.toggleSidebar=new e.vpe,this.selectOption=new e.vpe,this.logout=new e.vpe,this.executeSearch=new e.vpe,this.toggleMenu=new e.vpe,this.showAdminMode=new e.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const t=document.getElementById("userDropDown");document.addEventListener("click",n=>{this.showDropDown=!!n.composedPath().includes(t)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(t){this.selectOption.emit(t)}onSelectProfile(t){this.sharedData.currentProfile=t,this.goHome.emit(!0)}onClickChangeProfileButton(){this.sharedData.showSplashScreen=!0}onChangeSearchValue(){this.executeSearch.emit(this.searchText),this.searchText=""}onClickToggleSidebarButton(t){t.preventDefault(),t.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],viewQuery:function(n,o){if(1&n&&e.Gf(RL,5),2&n){let c;e.iGM(c=e.CRH())&&(o.searchTarget=c.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{goHome:"goHome",toggleSidebar:"toggleSidebar",selectOption:"selectOption",logout:"logout",executeSearch:"executeSearch",toggleMenu:"toggleMenu",showAdminMode:"showAdminMode"},features:[e.qOj],decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],[3,"showAdminMode","logout","changeProfile"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(n,o){1&n&&(e.TgZ(0,"header")(1,"nav")(2,"a",0),e.NdJ("click",function(u){return o.onClickToggleSidebarButton(u)}),e._UZ(3,"i",1),e.qZA(),e.YNc(4,NL,2,2,"a",2),e.TgZ(5,"a",3),e._UZ(6,"img",4),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA(),e.TgZ(9,"div",5)(10,"input",6,7),e.NdJ("ngModelChange",function(u){return o.searchText=u})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return o.onClickSearchButton()}),e._UZ(13,"i",9),e.qZA()(),e.TgZ(14,"app-dropdown-user",10),e.NdJ("showAdminMode",function(u){return o.showAdminMode.emit(u)})("logout",function(){return o.logout.emit(!0)})("changeProfile",function(){return o.goHome.emit(!0)}),e.qZA()(),e.YNc(15,LL,9,4,"div",11),e.qZA()),2&n&&(e.xp6(4),e.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),e.xp6(1),e.Q6J("routerLink",e.DdM(11,QI)),e.xp6(1),e.Q6J("src",e.lcZ(7,6,e.xi3(8,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH),e.xp6(3),e.Q6J("ngClass",e.VKq(12,XI,o.isFocusSearch&&!o.isSmallDevice())),e.xp6(1),e.Q6J("ngModel",o.searchText),e.xp6(5),e.Q6J("ngIf",o.isSmallDevice()&&o.showNavbarSearch))},dependencies:[y.mk,y.O5,Nt.Fj,Nt.JJ,Nt.On,PL,Bs,y.Ov,Hr],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 1024px){.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:none}}"]})}return r})();function FL(r,i){1&r&&e._UZ(0,"i",9)}function BL(r,i){1&r&&e._UZ(0,"i",10)}function UL(r,i){if(1&r&&e._UZ(0,"i"),2&r){const t=e.oxw().$implicit;e.Tol(t.IconClass)}}const VL=function(r){return[r]},jL=function(r){return{active:r}};function GL(r,i){if(1&r&&(e.TgZ(0,"li",12)(1,"a",13),e.YNc(2,UL,1,3,"i",14),e.TgZ(3,"span",7),e._uU(4),e.qZA()()()),2&r){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(4,VL,t.Path))("ngClass",e.VKq(6,jL,n.isSelectedMenu(t))),e.xp6(1),e.Q6J("ngIf",t.IconClass),e.xp6(2),e.Oqu(t.Title)}}function HL(r,i){if(1&r&&(e.TgZ(0,"div")(1,"ul",11),e.YNc(2,GL,5,8,"ng-template",2),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.ChildMenus)}}function YL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",3)(1,"button",4),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onClickModule(u,o))}),e.YNc(2,FL,1,0,"i",5),e.YNc(3,BL,1,0,"i",6),e.TgZ(4,"span",7),e._uU(5),e.qZA()(),e.YNc(6,HL,3,1,"div",8),e.qZA()}if(2&r){const t=i.$implicit;e.xp6(2),e.Q6J("ngIf",t.isCollapsed),e.xp6(1),e.Q6J("ngIf",!t.isCollapsed),e.xp6(2),e.Oqu(t.Title),e.xp6(1),e.Q6J("ngIf",!t.isCollapsed)}}let KL=(()=>{class r extends wi{constructor(t,n,o,c,u){super(n,c,u),this.ref=t,this.restProvider=n,this.http=o,this.domSanitizer=c,this.sharedData=u,this.refreshSidebarOption=new e.vpe,this.prepareRouterOutlet=new e.vpe,this.collapseSidebar=new e.vpe}ngOnInit(){let t=this;this.selectHomeUserOption.subscribe(n=>{t.selectDefaultOption()}),this.unselectSidebarOption.subscribe(n=>{t.selectedSidebarOption=void 0,t.selectedSidebarModule=void 0})}ngAfterViewInit(){setTimeout(()=>{this.setSelectedOptionByPathname()},500)}selectDefaultOption(){this.selectedSidebarModule=this.sharedData.listMenus[0],this.selectedSidebarOption=this.selectedSidebarModule.ChildMenus[0]}setSelectedOptionByPathname(){this.sharedData.listMenus.forEach(t=>{t.ChildMenus.forEach(n=>{-1!=window.location.pathname.indexOf(n.Path)&&(this.selectedSidebarModule=t,this.selectedSidebarOption=n)})})}onClickModule(t,n){n.preventDefault(),n.stopPropagation(),t.isCollapsed=!t.isCollapsed}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}isSelectedMenu(t){return-1!=t.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sidebar-administrator"]],inputs:{selectHomeUserOption:"selectHomeUserOption",unselectSidebarOption:"unselectSidebarOption",refreshSidebarOption:"refreshSidebarOption"},outputs:{prepareRouterOutlet:"prepareRouterOutlet",collapseSidebar:"collapseSidebar"},features:[e.qOj],decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.NdJ("clickOutside",function(u){return o.onClickOutsideSidebar(u)}),e.TgZ(1,"ul",1),e.YNc(2,YL,7,4,"ng-template",2),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",o.sharedData.listMenus))},dependencies:[y.mk,y.sg,y.O5,hc,Bs],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function WL(r,i){1&r&&e._UZ(0,"i",12)}const zL=function(r){return{selected:r}};function ZL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.onClickDropDownMenuOption(c))}),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6),e._uU(4),e.qZA(),e.TgZ(5,"div",7),e._uU(6),e.qZA()(),e.TgZ(7,"div",8)(8,"div",9),e.YNc(9,WL,1,0,"i",10),e.qZA(),e.TgZ(10,"div",11),e._UZ(11,"i"),e.qZA()()()()}if(2&r){const t=i.$implicit;e.Q6J("ngClass",e.VKq(7,zL,t.isSelected)),e.xp6(4),e.hij(" ",t.title," "),e.xp6(2),e.hij(" ",t.subtitle," "),e.xp6(3),e.Q6J("ngIf",t.isSelected),e.xp6(2),e.Tol(t.iconClass)}}function $L(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("clickOutside",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickOutside())}),e.YNc(1,ZL,12,9,"ng-template",2),e.qZA()}if(2&r){const t=e.oxw();e.Udp("width",t.width+"px")("top",t.top+"px")("left",t.left+"px"),e.xp6(1),e.Q6J("ngForOf",t.dropDownMenuOptions.listItems)}}let qL=(()=>{class r extends wi{constructor(t,n,o,c,u,g,A){super(c,g,A),this.router=t,this.ref=n,this.viewContainerRef=o,this.restProvider=c,this.http=u,this.domSanitizer=g,this.sharedData=A,this.hideContextMenu=new e.vpe,this.clickItem=new e.vpe,this.show=!1}ngOnInit(){}ngOnDestroy(){this.hideContextMenu.emit(!0)}ngAfterViewInit(){this.showContent()}showContent(){var t=this;return bd(function*(){yield t.delay(100),t.show=!0})()}onClickOutside(){this.hideContextMenu.emit(!0)}onClickDropDownMenuOption(t){this.clickItem.emit(t),this.router.navigateByUrl(t.path)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(e.sBO),e.Y36(e.s_b),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-drop-down-menu-content"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hideContextMenu:"hideContextMenu",clickItem:"clickItem"},features:[e.qOj],decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(n,o){1&n&&e.YNc(0,$L,2,7,"div",0),2&n&&e.Q6J("ngIf",o.show)},dependencies:[y.mk,y.sg,y.O5,hc],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})();const JL=["dropDownMenuContent"];function QL(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-drop-down-menu-content",2),e.NdJ("hideContextMenu",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onHide())})("clickItem",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onClickDropDownMenuItem(o))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("dropDownMenuOptions",t.dropDownMenuOptions)("left",t.left)("top",t.top)("width",t.width)}}function XL(r,i){if(1&r&&e.YNc(0,QL,1,4,"app-drop-down-menu-content",1),2&r){const t=e.oxw();e.Q6J("ngIf",t.isShowing)}}let ek=(()=>{class r{constructor(t,n){this.ref=t,this.viewContainerRef=n,this.clickItem=new e.vpe,this.isShowing=!1}show(){this.isShowing=!0,this.ref.detectChanges();const t=this.dropDownMenuOptions.target.getBoundingClientRect();this.left=t.left,this.top=t.top+t.height,this.width=t.width,this.container=document.getElementById(this.dropDownMenuOptions.containerId);var n=this.viewContainerRef.createEmbeddedView(this.dropDownMenuContent);this.renderedHtml=n.rootNodes[0],this.container.appendChild(this.renderedHtml)}onHide(){this.isShowing=!1,this.container.contains(this.renderedHtml)&&this.container.removeChild(this.renderedHtml)}onClickDropDownMenuItem(t){this.isShowing=!1,this.container.contains(this.renderedHtml)&&this.container.removeChild(this.renderedHtml),this.clickItem.emit(t),this.ref.detectChanges()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-drop-down-menu"]],viewQuery:function(n,o){if(1&n&&e.Gf(JL,5),2&n){let c;e.iGM(c=e.CRH())&&(o.dropDownMenuContent=c.first)}},inputs:{dropDownMenuOptions:"dropDownMenuOptions"},outputs:{clickItem:"clickItem"},decls:2,vars:0,consts:[["dropDownMenuContent",""],[3,"dropDownMenuOptions","left","top","width","hideContextMenu","clickItem",4,"ngIf"],[3,"dropDownMenuOptions","left","top","width","hideContextMenu","clickItem"]],template:function(n,o){1&n&&e.YNc(0,XL,1,1,"ng-template",null,0,e.W1O)},dependencies:[y.O5,qL],encapsulation:2})}return r})();const tk=["dropDownMenuPage"],nk=["mediaServerButton"];function ik(r,i){1&r&&e._UZ(0,"i",25)}function rk(r,i){1&r&&e._UZ(0,"i",26)}function ok(r,i){1&r&&e._UZ(0,"i",27)}function ak(r,i){1&r&&e._UZ(0,"i",28)}const vM=function(r){return{selected:r}},sk=function(r,i){return{"icon-secure":r,"icon-alert":i}};function lk(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",15,16),e.NdJ("click",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.togleDropDownMediaServers(o))}),e.TgZ(2,"div",17)(3,"div",18)(4,"span",19),e._uU(5),e.qZA(),e.YNc(6,ik,1,0,"i",20),e.YNc(7,rk,1,0,"i",21),e.qZA(),e.TgZ(8,"div",22),e.YNc(9,ok,1,0,"i",23),e.YNc(10,ak,1,0,"i",24),e.qZA()()()}if(2&r){const t=e.oxw(),n=e.MAs(16);e.Q6J("ngClass",e.VKq(7,vM,t.isSelectedServerOption())),e.xp6(5),e.hij(" ",t.sharedData.selectedMediaServer.FamilyName?t.sharedData.selectedMediaServer.FamilyName:t.sharedData.selectedMediaServer.DeviceName," "),e.xp6(1),e.Q6J("ngIf",n.isShowing),e.xp6(1),e.Q6J("ngIf",!n.isShowing),e.xp6(1),e.Q6J("ngClass",e.WLB(9,sk,t.sharedData.selectedMediaServer.isSecureConnection,!t.sharedData.selectedMediaServer.isSecureConnection)),e.xp6(1),e.Q6J("ngIf",t.sharedData.selectedMediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",!t.sharedData.selectedMediaServer.isSecureConnection)}}const ck=function(r){return[r]};function dk(r,i){if(1&r&&(e.TgZ(0,"div",6)(1,"a",7)(2,"div",8),e._UZ(3,"div",9),e.TgZ(4,"div",10),e._uU(5),e.qZA()()()()),2&r){const t=i.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(3,vM,n.isSelectedSidebarOption(t))),e.xp6(1),e.Q6J("routerLink",e.VKq(5,ck,n.getOptionPath(t))),e.xp6(4),e.hij(" ",t.name," ")}}function uk(r,i){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e._uU(3),e.qZA()(),e.YNc(4,dk,6,7,"ng-template",29),e.qZA()),2&r){const t=i.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngForOf",t.listOptions)}}function fk(r,i){if(1&r&&e.YNc(0,uk,5,2,"ng-template",29),2&r){const t=e.oxw();e.Q6J("ngForOf",t.serverModules)}}const hk=function(){return["/settings/account"]};let mk=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.activeRoute=t,this.ref=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this.prepareRouterOutlet=new e.vpe,this.collapseSidebar=new e.vpe,this.serverModules=[{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}]}ngOnInit(){this.setSelectedMediaServer()}setSelectedMediaServer(){if(this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var t=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,n=this.sharedData.mediaServers.find(o=>o.Guid==t);n&&(this.sharedData.selectedMediaServer=n)}null==this.sharedData.selectedMediaServer&&this.sharedData.mediaServers&&this.sharedData.mediaServers.length>0&&(this.sharedData.selectedMediaServer=this.sharedData.mediaServers[0])}ngAfterViewInit(){}getOptionPath(t){return t.path.replace("{serverGuid}",this.sharedData.selectedMediaServer.Guid)}onClickModule(t){t.isCollapsed=!t.isCollapsed}togleDropDownMediaServers(t){this.showMediaServerMenuOptions(t)}showMediaServerMenuOptions(t){this.dropDownMenuPage.show()}getDropDownMenuOptions(){var t=void 0;if(this.mediaServerButton){let n=[];this.sharedData.mediaServers.forEach(c=>{n.push({title:c.FamilyName?c.FamilyName:c.DeviceName,subtitle:c.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:c.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+c.Guid+"/settings/general",isSelected:this.sharedData.selectedMediaServer.Id==c.Id})}),t={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:n}}return t}isSelectedSidebarOption(t){return-1!=this.getOptionPath(t).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ir),e.Y36(e.sBO),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(n,o){if(1&n&&(e.Gf(tk,5),e.Gf(nk,5)),2&n){let c;e.iGM(c=e.CRH())&&(o.dropDownMenuPage=c.first),e.iGM(c=e.CRH())&&(o.mediaServerButton=c.first)}},outputs:{prepareRouterOutlet:"prepareRouterOutlet",collapseSidebar:"collapseSidebar"},features:[e.qOj],decls:17,vars:10,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],[3,"dropDownMenuOptions"],["dropDownMenuPage",""],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],["ngFor","",3,"ngForOf"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.NdJ("clickOutside",function(u){return o.onClickOutsideSidebar(u)}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"a",7)(9,"div",8),e._UZ(10,"div",9),e.TgZ(11,"div",10),e._uU(12," Cuenta "),e.qZA()()()()(),e.YNc(13,lk,11,12,"button",11),e.YNc(14,fk,1,1,"ng-template",12),e.qZA()()(),e._UZ(15,"app-drop-down-menu",13,14)),2&n&&(e.xp6(6),e.AsE(" ",o.sharedData.userData.FirstName," ",o.sharedData.userData.LastName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(7,vM,o.isSelectedAccountOption())),e.xp6(1),e.Q6J("routerLink",e.DdM(9,hk)),e.xp6(5),e.Q6J("ngIf",o.sharedData.selectedMediaServer),e.xp6(1),e.Q6J("ngIf",o.sharedData.selectedMediaServer&&o.serverModules&&o.serverModules.length>0),e.xp6(1),e.Q6J("dropDownMenuOptions",o.getDropDownMenuOptions()))},dependencies:[y.mk,y.sg,y.O5,hc,Bs,ek],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function pk(r,i){1&r&&e._UZ(0,"i",10)}function gk(r,i){1&r&&e._UZ(0,"i",11)}function _k(r,i){if(1&r&&e._UZ(0,"i"),2&r){const t=e.oxw().$implicit;e.Tol(t.IconClass)}}function vk(r,i){if(1&r&&e._UZ(0,"i"),2&r){const t=e.oxw().$implicit;e.Tol(t.IconClass)}}const eO=function(r){return[r]},tO=function(r){return{active:r}};function yk(r,i){if(1&r&&(e.TgZ(0,"li",13)(1,"a",14),e.YNc(2,vk,1,3,"i",7),e.TgZ(3,"span",8),e._uU(4),e.qZA()()()),2&r){const t=i.$implicit,n=e.oxw(2).$implicit,o=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(4,eO,t.Path))("ngClass",e.VKq(6,tO,o.isSelectedMenu(n))),e.xp6(1),e.Q6J("ngIf",t.IconClass),e.xp6(2),e.Oqu(t.Title)}}function bk(r,i){if(1&r&&(e.TgZ(0,"div")(1,"ul",12),e.YNc(2,yk,5,8,"ng-template",2),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.ChildMenus)}}function Ek(r,i){if(1&r&&(e.TgZ(0,"li",3)(1,"button",4),e.YNc(2,pk,1,0,"i",5),e.YNc(3,gk,1,0,"i",6),e.YNc(4,_k,1,3,"i",7),e.TgZ(5,"span",8),e._uU(6),e.qZA()(),e.YNc(7,bk,3,1,"div",9),e.qZA()),2&r){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(7,eO,t.Path))("ngClass",e.VKq(9,tO,n.isSelectedMenu(t))),e.xp6(1),e.Q6J("ngIf",!t.IconClass&&t.isCollapsed),e.xp6(1),e.Q6J("ngIf",!t.IconClass&&!t.isCollapsed),e.xp6(1),e.Q6J("ngIf",t.IconClass),e.xp6(2),e.Oqu(t.Title),e.xp6(1),e.Q6J("ngIf",!t.isCollapsed)}}let Tk=(()=>{class r extends wi{constructor(t,n,o,c,u,g){super(o,u,g),this.router=t,this.ref=n,this.restProvider=o,this.http=c,this.domSanitizer=u,this.sharedData=g,this.collapseSidebar=new e.vpe,this.mediaOptions=[{Id:1,SortOrder:1,Title:"Inicio",Path:"/home",IconClass:"fa-house fa-solid"},{Id:2,SortOrder:2,Title:"Peliculas",Path:"/media/movies",IconClass:"fa-film fa-solid"},{Id:3,SortOrder:3,Title:"Series",Path:"/media/tvseries",IconClass:"fa-solid fa-tv"}]}ngOnInit(){}ngAfterViewInit(){}selectDefaultOption(){}onClickModule(t){t.isCollapsed=!t.isCollapsed}onClickSidebarOption(t,n){this.router.navigateByUrl(t.Path).then(o=>{},o=>{console.error(o)})}isSelectedMenu(t){return-1!=t.Path.indexOf(window.location.pathname)}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Ti),e.Y36(e.sBO),e.Y36(ni),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},features:[e.qOj],decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.NdJ("clickOutside",function(u){return o.onClickOutsideSidebar(u)}),e.TgZ(1,"ul",1),e.YNc(2,Ek,8,11,"ng-template",2),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",o.mediaOptions))},dependencies:[y.mk,y.sg,y.O5,hc,Bs],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function Ck(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-header",12),e.NdJ("showAdminMode",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showAdminMode())})("goHome",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showHome())})("executeSearch",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onSearchMedia(o))})("toggleSidebar",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onClickToggleSidebarButton())})("logout",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.logOut())})("showHomeUser",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.showHome())})("logout",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.logOut())}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("showingSidebarAccount",t.showingSidebarAccount)("showingSidebarAdminMode",t.showingSidebarAdminMode)}}function Sk(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-sidebar-administrator",17),e.NdJ("prepareRouterOutlet",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.prepareRouterOutlet())})("collapseSidebar",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.isCollapsedSidebar=!0)}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("unselectSidebarOption",t.unselectSidebarOption)("selectHomeUserOption",t.selectHomeUserOption)}}function Dk(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-sidebar-account",18),e.NdJ("collapseSidebar",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.isCollapsedSidebar=!0)}),e.qZA()}}function xk(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-sidebar-media",18),e.NdJ("collapseSidebar",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.isCollapsedSidebar=!0)}),e.qZA()}}function Mk(r,i){if(1&r&&(e.TgZ(0,"section",13,14),e.YNc(2,Sk,1,2,"app-sidebar-administrator",15),e.YNc(3,Dk,1,0,"app-sidebar-account",16),e.YNc(4,xk,1,0,"app-sidebar-media",16),e.qZA()),2&r){const t=e.oxw(2);e.Udp("height","100%"),e.xp6(2),e.Q6J("ngIf",t.showingSidebarAdminMode),e.xp6(1),e.Q6J("ngIf",t.showingSidebarAccount),e.xp6(1),e.Q6J("ngIf",t.showingSidebarMedia)}}function Ak(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"router-outlet",19),e.NdJ("activate",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onActivate(o))}),e.qZA()}}const wk=function(r){return{locked:r}};function Ik(r,i){if(1&r&&(e.TgZ(0,"div",2)(1,"div",null,3),e.YNc(3,Ck,1,2,"app-header",4),e.qZA(),e.TgZ(4,"div",5)(5,"div",null,6),e.YNc(7,Mk,5,5,"section",7),e.qZA(),e.TgZ(8,"section",8,9),e.YNc(10,Ak,1,0,"ng-template",10),e.qZA()(),e._UZ(11,"div",null,11),e.qZA()),2&r){const t=e.MAs(2),n=e.MAs(6),o=e.MAs(12),c=e.oxw();e.xp6(3),e.Q6J("ngIf",!c.showRouterChildWithFullDimentions),e.xp6(1),e.Udp("height","calc(100% - "+(t.offsetHeight+o.offsetHeight)+"px)"),e.xp6(3),e.Q6J("ngIf",!(c.showRouterChildWithFullDimentions||c.isSmallDevice()&&c.isCollapsedSidebar)),e.xp6(1),e.Udp("width","calc(100% - "+n.offsetWidth+"px)"),e.Q6J("ngClass",e.VKq(8,wk,c.isSmallDevice()&&!c.isCollapsedSidebar)),e.xp6(2),e.Q6J("ngIf",!c.hideContent)}}function Ok(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"router-outlet",19),e.NdJ("activate",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.onActivate(o))}),e.qZA()()}}function Pk(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"section",20)(1,"app-video",21),e.NdJ("fullscreen",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showVideoInFullScreen())})("outputCloseVideo",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeVideo())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("builderVideo",t.currentVideo)}}let nO=(()=>{class r extends wi{constructor(t,n,o,c,u,g,A,U){super(o,A,U),this.videoService=t,this.route=n,this.restProvider=o,this.router=c,this.ref=u,this.http=g,this.domSanitizer=A,this.sharedData=U,this.toggleVideo=new e.vpe,this.showVideoPopUp=!1,this.hideContent=!1,this._window=window,this.isCollapsedSidebar=!1,this.selectHomeUserOption=new e.vpe,this.unselectSidebarOption=new e.vpe,this.refreshSidebarOption=new e.vpe,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0,this.subscriptionVideo=this.videoService.getVideoEvent().subscribe(Z=>{Z.isShowing?(this.currentVideo=Z.builderVideo,this.toggleVideo.emit(!0)):(this.currentVideo=void 0,this.toggleVideo.emit(!1))})}showVideoInFullScreen(){this.toggleVideo.emit(!0)}ngOnInit(){}ngOnDestroy(){this.subscriptionVideo.unsubscribe()}logOut(){this.sharedData.currentProfile=void 0,this.sharedData.userData=void 0,this.sharedData.apiToken=void 0,localStorage.removeItem("apiToken"),this.router.navigate(["landing"],{skipLocationChange:!1})}toogleMenu(){this.ref.detectChanges()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}prepareRouterOutlet(){this.hideContent=!0,this.ref.detectChanges(),this.hideContent=!1,this.ref.detectChanges()}refresh(){this.refreshSidebarOption.emit(!0)}showAdminMode(){this.showingSidebarAdminMode=!0,this.showingSidebarAccount=!1,this.showingSidebarMedia=!1}showHome(){this.showingSidebarAccount=!1,this.router.navigateByUrl("/home").then(t=>{this.isSmallDevice()&&(this.isCollapsedSidebar=!0),this.prepareRouterOutlet(),this.selectHomeUserOption.emit(!0)},t=>{console.error(t)})}onSearchMedia(t){null!=t&&""!=t?(this.unselectSidebarOption.emit(!0),this.hideContent=!0,this.ref.detectChanges(),this.router.navigateByUrl("/search?text="+t).then(n=>{this.hideContent=!1,this.ref.detectChanges()})):this.showHome()}closeVideo(){this.currentVideo=void 0,this.showHome(),this.toggleVideo.emit(!1)}onActivate(t){this.isCollapsedSidebar=!0,this.sharedData.showSplashScreen=!1,t instanceof ul&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(t instanceof SD||t instanceof ap||t instanceof sy||t instanceof oy||t instanceof iy)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),t instanceof Sf&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),t instanceof du&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),t instanceof uc&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),t instanceof Ym&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),t instanceof hx&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(t instanceof up||t instanceof x0)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1,this.ref.detectChanges()),(t instanceof Wy||t instanceof x0||t instanceof up||t instanceof Pm||t instanceof wy||t instanceof Jm)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(km),e.Y36(Ir),e.Y36(ni),e.Y36(Ti),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-web-container"]],outputs:{toggleVideo:"toggleVideo"},features:[e.qOj],decls:3,vars:3,consts:[["class","sinovad-page-container",4,"ngIf"],["class","sinovad-container-video",4,"ngIf"],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","showAdminMode","goHome","executeSearch","toggleSidebar","logout","showHomeUser",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"ngIf"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","showAdminMode","goHome","executeSearch","toggleSidebar","logout","showHomeUser"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[3,"unselectSidebarOption","selectHomeUserOption","prepareRouterOutlet","collapseSidebar",4,"ngIf"],[3,"collapseSidebar",4,"ngIf"],[3,"unselectSidebarOption","selectHomeUserOption","prepareRouterOutlet","collapseSidebar"],[3,"collapseSidebar"],[1,"small",3,"activate"],[1,"sinovad-container-video"],[3,"builderVideo","fullscreen","outputCloseVideo"]],template:function(n,o){1&n&&(e.YNc(0,Ik,13,10,"div",0),e.YNc(1,Ok,2,0,"div",0),e.YNc(2,Pk,2,1,"section",1)),2&n&&(e.Q6J("ngIf",null!=o.sharedData.apiToken&&null!=o.sharedData.userData&&!o.sharedData.pageNotFoundShowing),e.xp6(1),e.Q6J("ngIf",null==o.sharedData.apiToken&&null==o.sharedData.userData||o.sharedData.pageNotFoundShowing),e.xp6(1),e.Q6J("ngIf",o.currentVideo))},dependencies:[y.mk,y.O5,EL,kL,KL,mk,Tk,Yd],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})();function Rk(r,i){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),e._UZ(5,"img",6),e.ALo(6,"async"),e.ALo(7,"formatDataPipe"),e.qZA()()()()),2&r){const t=e.MAs(2);e.xp6(5),e.Udp("width",t.offsetWidth/3+"px"),e.Q6J("src",e.lcZ(6,3,e.xi3(7,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),e.LSH)}}let Nk=(()=>{class r extends wi{constructor(t,n,o){super(t,n,o),this.restProvider=t,this.domSanitizer=n,this.sharedData=o}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-splash-screen"]],features:[e.qOj],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(n,o){1&n&&e.YNc(0,Rk,8,8,"div",0),2&n&&e.Q6J("ngIf",o.sharedData.showSplashScreen)},dependencies:[y.O5,y.Ov,Hr],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function Lk(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"app-web-container",3),e.NdJ("toggleVideo",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.executeToggleVideo(o))}),e.qZA()}}let kk=(()=>{class r extends wi{constructor(t,n,o,c,u){super(t,c,u),this.restProvider=t,this.ref=n,this.http=o,this.domSanitizer=c,this.sharedData=u,this.showRootPage=!1}ngOnInit(){const t=window.location.search;if(""!=t){var n=new URLSearchParams(t).get("apiToken");null!=n&&localStorage.setItem("apiToken",n)}window.configurationData&&(this.sharedData.configurationData=window.configurationData),this.intervalCheckMediaServers=window.setInterval(function(){},15e3),localStorage.getItem("apiToken")?(this.sharedData.apiToken=localStorage.getItem("apiToken"),this.getUser().then(c=>{this.getMenus(),this.getMediaServers(),this.getProfiles().then(u=>{this.showRootPage=!0,this.ref.detectChanges()},u=>{console.error(u)})},c=>{console.error(c)}),this.ref.detectChanges()):(this.sharedData.apiToken=void 0,setTimeout(()=>{this.showRootPage=!0,this.ref.detectChanges()},100))}ngOnDestroy(){this.intervalCheckMediaServers&&window.clearInterval(this.intervalCheckMediaServers)}ngAfterViewInit(){let t=this;window.addEventListener("click",function(c){t.sharedData.configurationData.alwaysFullScreen&&t.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}executeToggleVideo(t){t?this.showPageInFullScreen():this.sharedData.configurationData.alwaysFullScreen||document.fullscreenElement&&document.exitFullscreen()}onActivate(t){let n=this;t instanceof nO&&t.toggleVideo.subscribe(o=>{n.executeToggleVideo(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ni),e.Y36(e.sBO),e.Y36($e),e.Y36(It),e.Y36(fi))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sinovad-web"]],features:[e.qOj],decls:4,vars:1,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[3,"toggleVideo",4,"ngIf"],[3,"toggleVideo"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,Lk,1,0,"app-web-container",2),e.qZA(),e._UZ(3,"app-splash-screen")),2&n&&(e.xp6(2),e.Q6J("ngIf",o.showRootPage))},dependencies:[y.O5,nO,Nk],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}"]})}return r})();var cr=M(6825);function iO(r){return new e.vHH(3e3,!1)}function bc(r){switch(r.length){case 0:return new cr.ZN;case 1:return r[0];default:return new cr.ZE(r)}}function rO(r,i,t=new Map,n=new Map){const o=[],c=[];let u=-1,g=null;if(i.forEach(A=>{const U=A.get("offset"),Z=U==u,ce=Z&&g||new Map;A.forEach((Pe,Ne)=>{let ze=Ne,Je=Pe;if("offset"!==Ne)switch(ze=r.normalizePropertyName(ze,o),Je){case cr.k1:Je=t.get(Ne);break;case cr.l3:Je=n.get(Ne);break;default:Je=r.normalizeStyleValue(Ne,ze,Je,o)}ce.set(ze,Je)}),Z||c.push(ce),g=ce,u=U}),o.length)throw function oF(r){return new e.vHH(3502,!1)}();return c}function yM(r,i,t,n){switch(i){case"start":r.onStart(()=>n(t&&bM(t,"start",r)));break;case"done":r.onDone(()=>n(t&&bM(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&bM(t,"destroy",r)))}}function bM(r,i,t){const c=EM(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,t.totalTime??r.totalTime,!!t.disabled),u=r._data;return null!=u&&(c._data=u),c}function EM(r,i,t,n,o="",c=0,u){return{element:r,triggerName:i,fromState:t,toState:n,phaseName:o,totalTime:c,disabled:!!u}}function ma(r,i,t){let n=r.get(i);return n||r.set(i,n=t),n}function oO(r){const i=r.indexOf(":");return[r.substring(1,i),r.slice(i+1)]}const _F=(()=>typeof document>"u"?null:document.documentElement)();function TM(r){const i=r.parentNode||r.host||null;return i===_F?null:i}let Rd=null,aO=!1;function sO(r,i){for(;i;){if(i===r)return!0;i=TM(i)}return!1}function lO(r,i,t){if(t)return Array.from(r.querySelectorAll(i));const n=r.querySelector(i);return n?[n]:[]}let cO=(()=>{class r{validateStyleProperty(t){return function yF(r){Rd||(Rd=function bF(){return typeof document<"u"?document.body:null}()||{},aO=!!Rd.style&&"WebkitAppearance"in Rd.style);let i=!0;return Rd.style&&!function vF(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Rd.style,!i&&aO&&(i="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Rd.style)),i}(t)}matchesElement(t,n){return!1}containsElement(t,n){return sO(t,n)}getParentElement(t){return TM(t)}query(t,n,o){return lO(t,n,o)}computeStyle(t,n,o){return o||""}animate(t,n,o,c,u,g=[],A){return new cr.ZN(o,c)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})(),CM=(()=>{class r{static#e=this.NOOP=new cO}return r})();const EF=1e3,SM="ng-enter",ab="ng-leave",sb="ng-trigger",lb=".ng-trigger",uO="ng-animating",DM=".ng-animating";function yl(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:xM(parseFloat(i[1]),i[2])}function xM(r,i){return"s"===i?r*EF:r}function cb(r,i,t){return r.hasOwnProperty("duration")?r:function CF(r,i,t){let o,c=0,u="";if("string"==typeof r){const g=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return i.push(iO()),{duration:0,delay:0,easing:""};o=xM(parseFloat(g[1]),g[2]);const A=g[3];null!=A&&(c=xM(parseFloat(A),g[4]));const U=g[5];U&&(u=U)}else o=r;if(!t){let g=!1,A=i.length;o<0&&(i.push(function Fk(){return new e.vHH(3100,!1)}()),g=!0),c<0&&(i.push(function Bk(){return new e.vHH(3101,!1)}()),g=!0),g&&i.splice(A,0,iO())}return{duration:o,delay:c,easing:u}}(r,i,t)}function Hp(r,i={}){return Object.keys(r).forEach(t=>{i[t]=r[t]}),i}function fO(r){const i=new Map;return Object.keys(r).forEach(t=>{i.set(t,r[t])}),i}function Ec(r,i=new Map,t){if(t)for(let[n,o]of t)i.set(n,o);for(let[n,o]of r)i.set(n,o);return i}function Ts(r,i,t){i.forEach((n,o)=>{const c=AM(o);t&&!t.has(o)&&t.set(o,r.style[c]),r.style[c]=n})}function Nd(r,i){i.forEach((t,n)=>{const o=AM(n);r.style[o]=""})}function Yp(r){return Array.isArray(r)?1==r.length?r[0]:(0,cr.vP)(r):r}const MM=new RegExp("{{\\s*(.+?)\\s*}}","g");function mO(r){let i=[];if("string"==typeof r){let t;for(;t=MM.exec(r);)i.push(t[1]);MM.lastIndex=0}return i}function Kp(r,i,t){const n=r.toString(),o=n.replace(MM,(c,u)=>{let g=i[u];return null==g&&(t.push(function Vk(r){return new e.vHH(3003,!1)}()),g=""),g.toString()});return o==n?r:o}function db(r){const i=[];let t=r.next();for(;!t.done;)i.push(t.value),t=r.next();return i}const xF=/-+([a-z0-9])/g;function AM(r){return r.replace(xF,(...i)=>i[1].toUpperCase())}function pa(r,i,t){switch(i.type){case 7:return r.visitTrigger(i,t);case 0:return r.visitState(i,t);case 1:return r.visitTransition(i,t);case 2:return r.visitSequence(i,t);case 3:return r.visitGroup(i,t);case 4:return r.visitAnimate(i,t);case 5:return r.visitKeyframes(i,t);case 6:return r.visitStyle(i,t);case 8:return r.visitReference(i,t);case 9:return r.visitAnimateChild(i,t);case 10:return r.visitAnimateRef(i,t);case 11:return r.visitQuery(i,t);case 12:return r.visitStagger(i,t);default:throw function jk(r){return new e.vHH(3004,!1)}()}}function pO(r,i){return window.getComputedStyle(r)[i]}const ub="*";function wF(r,i){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function IF(r,i,t){if(":"==r[0]){const A=function OF(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return i.push(function tF(r){return new e.vHH(3016,!1)}()),"* => *"}}(r,t);if("function"==typeof A)return void i.push(A);r=A}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function eF(r){return new e.vHH(3015,!1)}()),i;const o=n[1],c=n[2],u=n[3];i.push(gO(o,u));"<"==c[0]&&!(o==ub&&u==ub)&&i.push(gO(u,o))}(n,t,i)):t.push(r),t}const fb=new Set(["true","1"]),hb=new Set(["false","0"]);function gO(r,i){const t=fb.has(r)||hb.has(r),n=fb.has(i)||hb.has(i);return(o,c)=>{let u=r==ub||r==o,g=i==ub||i==c;return!u&&t&&"boolean"==typeof o&&(u=o?fb.has(r):hb.has(r)),!g&&n&&"boolean"==typeof c&&(g=c?fb.has(i):hb.has(i)),u&&g}}const PF=new RegExp("s*:selfs*,?","g");function wM(r,i,t,n){return new RF(r).build(i,t,n)}class RF{constructor(i){this._driver=i}build(i,t,n){const o=new kF(t);return this._resetContextStyleTimingState(o),pa(this,Yp(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let n=t.queryCount=0,o=t.depCount=0;const c=[],u=[];return"@"==i.name.charAt(0)&&t.errors.push(function Hk(){return new e.vHH(3006,!1)}()),i.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const A=g,U=A.name;U.toString().split(/\s*,\s*/).forEach(Z=>{A.name=Z,c.push(this.visitState(A,t))}),A.name=U}else if(1==g.type){const A=this.visitTransition(g,t);n+=A.queryCount,o+=A.depCount,u.push(A)}else t.errors.push(function Yk(){return new e.vHH(3007,!1)}())}),{type:7,name:i.name,states:c,transitions:u,queryCount:n,depCount:o,options:null}}visitState(i,t){const n=this.visitStyle(i.styles,t),o=i.options&&i.options.params||null;if(n.containsDynamicStyles){const c=new Set,u=o||{};n.styles.forEach(g=>{g instanceof Map&&g.forEach(A=>{mO(A).forEach(U=>{u.hasOwnProperty(U)||c.add(U)})})}),c.size&&(db(c.values()),t.errors.push(function Kk(r,i){return new e.vHH(3008,!1)}()))}return{type:0,name:i.name,style:n,options:o?{params:o}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const n=pa(this,Yp(i.animation),t);return{type:1,matchers:wF(i.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ld(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(n=>pa(this,n,t)),options:Ld(i.options)}}visitGroup(i,t){const n=t.currentTime;let o=0;const c=i.steps.map(u=>{t.currentTime=n;const g=pa(this,u,t);return o=Math.max(o,t.currentTime),g});return t.currentTime=o,{type:3,steps:c,options:Ld(i.options)}}visitAnimate(i,t){const n=function BF(r,i){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return IM(cb(r,i).duration,0,"");const t=r;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=IM(0,0,"");return c.dynamic=!0,c.strValue=t,c}const o=cb(t,i);return IM(o.duration,o.delay,o.easing)}(i.timings,t.errors);t.currentAnimateTimings=n;let o,c=i.styles?i.styles:(0,cr.oB)({});if(5==c.type)o=this.visitKeyframes(c,t);else{let u=i.styles,g=!1;if(!u){g=!0;const U={};n.easing&&(U.easing=n.easing),u=(0,cr.oB)(U)}t.currentTime+=n.duration+n.delay;const A=this.visitStyle(u,t);A.isEmptyStep=g,o=A}return t.currentAnimateTimings=null,{type:4,timings:n,style:o,options:null}}visitStyle(i,t){const n=this._makeStyleAst(i,t);return this._validateStyleAst(n,t),n}_makeStyleAst(i,t){const n=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let g of o)"string"==typeof g?g===cr.l3?n.push(g):t.errors.push(new e.vHH(3002,!1)):n.push(fO(g));let c=!1,u=null;return n.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(u=g.get("easing"),g.delete("easing")),!c))for(let A of g.values())if(A.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:n,easing:u,offset:i.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(i,t){const n=t.currentAnimateTimings;let o=t.currentTime,c=t.currentTime;n&&c>0&&(c-=n.duration+n.delay),i.styles.forEach(u=>{"string"!=typeof u&&u.forEach((g,A)=>{const U=t.collectedStyles.get(t.currentQuerySelector),Z=U.get(A);let ce=!0;Z&&(c!=o&&c>=Z.startTime&&o<=Z.endTime&&(t.errors.push(function zk(r,i,t,n,o){return new e.vHH(3010,!1)}()),ce=!1),c=Z.startTime),ce&&U.set(A,{startTime:c,endTime:o}),t.options&&function DF(r,i,t){const n=i.params||{},o=mO(r);o.length&&o.forEach(c=>{n.hasOwnProperty(c)||t.push(function Uk(r){return new e.vHH(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(i,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Zk(){return new e.vHH(3011,!1)}()),n;let c=0;const u=[];let g=!1,A=!1,U=0;const Z=i.steps.map(Et=>{const Ft=this._makeStyleAst(Et,t);let Lt=null!=Ft.offset?Ft.offset:function FF(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const t=r;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(Ft.styles),Qt=0;return null!=Lt&&(c++,Qt=Ft.offset=Lt),A=A||Qt<0||Qt>1,g=g||Qt<U,U=Qt,u.push(Qt),Ft});A&&t.errors.push(function $k(){return new e.vHH(3012,!1)}()),g&&t.errors.push(function qk(){return new e.vHH(3200,!1)}());const ce=i.steps.length;let Pe=0;c>0&&c<ce?t.errors.push(function Jk(){return new e.vHH(3202,!1)}()):0==c&&(Pe=1/(ce-1));const Ne=ce-1,ze=t.currentTime,Je=t.currentAnimateTimings,ct=Je.duration;return Z.forEach((Et,Ft)=>{const Lt=Pe>0?Ft==Ne?1:Pe*Ft:u[Ft],Qt=Lt*ct;t.currentTime=ze+Je.delay+Qt,Je.duration=Qt,this._validateStyleAst(Et,t),Et.offset=Lt,n.styles.push(Et)}),n}visitReference(i,t){return{type:8,animation:pa(this,Yp(i.animation),t),options:Ld(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:Ld(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:Ld(i.options)}}visitQuery(i,t){const n=t.currentQuerySelector,o=i.options||{};t.queryCount++,t.currentQuery=i;const[c,u]=function NF(r){const i=!!r.split(/\s*,\s*/).find(t=>":self"==t);return i&&(r=r.replace(PF,"")),r=r.replace(/@\*/g,lb).replace(/@\w+/g,t=>lb+"-"+t.slice(1)).replace(/:animating/g,DM),[r,i]}(i.selector);t.currentQuerySelector=n.length?n+" "+c:c,ma(t.collectedStyles,t.currentQuerySelector,new Map);const g=pa(this,Yp(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:u,animation:g,originalSelector:i.selector,options:Ld(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function Qk(){return new e.vHH(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:cb(i.timings,t.errors,!0);return{type:12,animation:pa(this,Yp(i.animation),t),timings:n,options:null}}}class kF{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ld(r){return r?(r=Hp(r)).params&&(r.params=function LF(r){return r?Hp(r):null}(r.params)):r={},r}function IM(r,i,t){return{duration:r,delay:i,easing:t}}function OM(r,i,t,n,o,c,u=null,g=!1){return{type:1,element:r,keyframes:i,preStyleProps:t,postStyleProps:n,duration:o,delay:c,totalTime:o+c,easing:u,subTimeline:g}}class mb{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const jF=new RegExp(":enter","g"),HF=new RegExp(":leave","g");function PM(r,i,t,n,o,c=new Map,u=new Map,g,A,U=[]){return(new YF).buildKeyframes(r,i,t,n,o,c,u,g,A,U)}class YF{buildKeyframes(i,t,n,o,c,u,g,A,U,Z=[]){U=U||new mb;const ce=new RM(i,t,U,o,c,Z,[]);ce.options=A;const Pe=A.delay?yl(A.delay):0;ce.currentTimeline.delayNextStep(Pe),ce.currentTimeline.setStyles([u],null,ce.errors,A),pa(this,n,ce);const Ne=ce.timelines.filter(ze=>ze.containsAnimation());if(Ne.length&&g.size){let ze;for(let Je=Ne.length-1;Je>=0;Je--){const ct=Ne[Je];if(ct.element===t){ze=ct;break}}ze&&!ze.allowOnlyTimelineStyles()&&ze.setStyles([g],null,ce.errors,A)}return Ne.length?Ne.map(ze=>ze.buildKeyframes()):[OM(t,[],[],[],0,Pe,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const n=t.subInstructions.get(t.element);if(n){const o=t.createSubContext(i.options),c=t.currentTimeline.currentTime,u=this._visitSubInstructions(n,o,o.options);c!=u&&t.transformIntoNewTimeline(u)}t.previousNode=i}visitAnimateRef(i,t){const n=t.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,n),this.visitReference(i.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,n){for(const o of i){const c=o?.delay;if(c){const u="number"==typeof c?c:yl(Kp(c,o?.params??{},t.errors));n.delayNextStep(u)}}}_visitSubInstructions(i,t,n){let c=t.currentTimeline.currentTime;const u=null!=n.duration?yl(n.duration):null,g=null!=n.delay?yl(n.delay):null;return 0!==u&&i.forEach(A=>{const U=t.appendInstructionToTimeline(A,u,g);c=Math.max(c,U.duration+U.delay)}),c}visitReference(i,t){t.updateOptions(i.options,!0),pa(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const n=t.subContextCount;let o=t;const c=i.options;if(c&&(c.params||c.delay)&&(o=t.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=pb);const u=yl(c.delay);o.delayNextStep(u)}i.steps.length&&(i.steps.forEach(u=>pa(this,u,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const n=[];let o=t.currentTimeline.currentTime;const c=i.options&&i.options.delay?yl(i.options.delay):0;i.steps.forEach(u=>{const g=t.createSubContext(i.options);c&&g.delayNextStep(c),pa(this,u,g),o=Math.max(o,g.currentTimeline.currentTime),n.push(g.currentTimeline)}),n.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(o),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const n=i.strValue;return cb(t.params?Kp(n,t.params,t.errors):n,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const n=t.currentAnimateTimings=this._visitTiming(i.timings,t),o=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),o.snapshotCurrentStyles());const c=i.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(n.duration),this.visitStyle(c,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const n=t.currentTimeline,o=t.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();const c=o&&o.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(c):n.setStyles(i.styles,c,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const n=t.currentAnimateTimings,o=t.currentTimeline.duration,c=n.duration,g=t.createSubContext().currentTimeline;g.easing=n.easing,i.styles.forEach(A=>{g.forwardTime((A.offset||0)*c),g.setStyles(A.styles,A.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(o+c),t.previousNode=i}visitQuery(i,t){const n=t.currentTimeline.currentTime,o=i.options||{},c=o.delay?yl(o.delay):0;c&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pb);let u=n;const g=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=g.length;let A=null;g.forEach((U,Z)=>{t.currentQueryIndex=Z;const ce=t.createSubContext(i.options,U);c&&ce.delayNextStep(c),U===t.element&&(A=ce.currentTimeline),pa(this,i.animation,ce),ce.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,ce.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),A&&(t.currentTimeline.mergeTimelineCollectedStyles(A),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const n=t.parentContext,o=t.currentTimeline,c=i.timings,u=Math.abs(c.duration),g=u*(t.currentQueryTotal-1);let A=u*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":A=g-A;break;case"full":A=n.currentStaggerTime}const Z=t.currentTimeline;A&&Z.delayNextStep(A);const ce=Z.currentTime;pa(this,i.animation,t),t.previousNode=i,n.currentStaggerTime=o.currentTime-ce+(o.startTime-n.currentTimeline.startTime)}}const pb={};class RM{constructor(i,t,n,o,c,u,g,A){this._driver=i,this.element=t,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=c,this.errors=u,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=A||new gb(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const n=i;let o=this.options;null!=n.duration&&(o.duration=yl(n.duration)),null!=n.delay&&(o.delay=yl(n.delay));const c=n.params;if(c){let u=o.params;u||(u=this.options.params={}),Object.keys(c).forEach(g=>{(!t||!u.hasOwnProperty(g))&&(u[g]=Kp(c[g],u,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const n=i.params={};Object.keys(t).forEach(o=>{n[o]=t[o]})}}return i}createSubContext(i=null,t,n){const o=t||this.element,c=new RM(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(i),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(i){return this.previousNode=pb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,n){const o={duration:t??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},c=new KF(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,n,o,c,u){let g=[];if(o&&g.push(this.element),i.length>0){i=(i=i.replace(jF,"."+this._enterClassName)).replace(HF,"."+this._leaveClassName);let U=this._driver.query(this.element,i,1!=n);0!==n&&(U=n<0?U.slice(U.length+n,U.length):U.slice(0,n)),g.push(...U)}return!c&&0==g.length&&u.push(function Xk(r){return new e.vHH(3014,!1)}()),g}}class gb{constructor(i,t,n,o){this._driver=i,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new gb(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||cr.l3),this._currentKeyframe.set(t,cr.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,n,o){t&&this._previousKeyframe.set("easing",t);const c=o&&o.params||{},u=function WF(r,i){const t=new Map;let n;return r.forEach(o=>{if("*"===o){n=n||i.keys();for(let c of n)t.set(c,cr.l3)}else Ec(o,t)}),t}(i,this._globalTimelineStyles);for(let[g,A]of u){const U=Kp(A,c,n);this._pendingStyles.set(g,U),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??cr.l3),this._updateStyle(g,U)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,n)=>{const o=this._styleSummary.get(n);(!o||t.time>o.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,A)=>{const U=Ec(g,new Map,this._backFill);U.forEach((Z,ce)=>{Z===cr.k1?i.add(ce):Z===cr.l3&&t.add(ce)}),n||U.set("offset",A/this.duration),o.push(U)});const c=i.size?db(i.values()):[],u=t.size?db(t.values()):[];if(n){const g=o[0],A=new Map(g);g.set("offset",0),A.set("offset",1),o=[g,A]}return OM(this.element,o,c,u,this.duration,this.startTime,this.easing,!1)}}class KF extends gb{constructor(i,t,n,o,c,u,g=!1){super(i,t,u.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],u=n+t,g=t/u,A=Ec(i[0]);A.set("offset",0),c.push(A);const U=Ec(i[0]);U.set("offset",yO(g)),c.push(U);const Z=i.length-1;for(let ce=1;ce<=Z;ce++){let Pe=Ec(i[ce]);const Ne=Pe.get("offset");Pe.set("offset",yO((t+Ne*n)/u)),c.push(Pe)}n=u,t=0,o="",i=c}return OM(this.element,i,this.preStyleProps,this.postStyleProps,n,t,o,!0)}}function yO(r,i=3){const t=Math.pow(10,i-1);return Math.round(r*t)/t}class NM{}const zF=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ZF extends NM{normalizePropertyName(i,t){return AM(i)}normalizeStyleValue(i,t,n,o){let c="";const u=n.toString().trim();if(zF.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)c="px";else{const g=n.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function Gk(r,i){return new e.vHH(3005,!1)}())}return u+c}}function bO(r,i,t,n,o,c,u,g,A,U,Z,ce,Pe){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:t,fromStyles:c,toState:n,toStyles:u,timelines:g,queriedElements:A,preStyleProps:U,postStyleProps:Z,totalTime:ce,errors:Pe}}const LM={};class EO{constructor(i,t,n){this._triggerName=i,this.ast=t,this._stateStyles=n}match(i,t,n,o){return function $F(r,i,t,n,o){return r.some(c=>c(i,t,n,o))}(this.ast.matchers,i,t,n,o)}buildStyles(i,t,n){let o=this._stateStyles.get("*");return void 0!==i&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(t,n):new Map}build(i,t,n,o,c,u,g,A,U,Z){const ce=[],Pe=this.ast.options&&this.ast.options.params||LM,ze=this.buildStyles(n,g&&g.params||LM,ce),Je=A&&A.params||LM,ct=this.buildStyles(o,Je,ce),Et=new Set,Ft=new Map,Lt=new Map,Qt="void"===o,qt={params:qF(Je,Pe),delay:this.ast.options?.delay},fn=Z?[]:PM(i,t,this.ast.animation,c,u,ze,ct,qt,U,ce);let an=0;if(fn.forEach(wn=>{an=Math.max(wn.duration+wn.delay,an)}),ce.length)return bO(t,this._triggerName,n,o,Qt,ze,ct,[],[],Ft,Lt,an,ce);fn.forEach(wn=>{const sn=wn.element,Gn=ma(Ft,sn,new Set);wn.preStyleProps.forEach(oi=>Gn.add(oi));const Bn=ma(Lt,sn,new Set);wn.postStyleProps.forEach(oi=>Bn.add(oi)),sn!==t&&Et.add(sn)});const _n=db(Et.values());return bO(t,this._triggerName,n,o,Qt,ze,ct,fn,_n,Ft,Lt,an)}}function qF(r,i){const t=Hp(i);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(t[n]=r[n]);return t}class JF{constructor(i,t,n){this.styles=i,this.defaultParams=t,this.normalizer=n}buildStyles(i,t){const n=new Map,o=Hp(this.defaultParams);return Object.keys(i).forEach(c=>{const u=i[c];null!==u&&(o[c]=u)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,g)=>{u&&(u=Kp(u,o,t));const A=this.normalizer.normalizePropertyName(g,t);u=this.normalizer.normalizeStyleValue(g,A,u,t),n.set(g,u)})}),n}}class XF{constructor(i,t,n){this.name=i,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new JF(o.style,o.options&&o.options.params||{},n))}),TO(this.states,"true","1"),TO(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new EO(i,o,this.states))}),this.fallbackTransition=function e2(r,i,t){return new EO(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,g)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,n,o){return this.transitionFactories.find(u=>u.match(i,t,n,o))||null}matchStyles(i,t,n){return this.fallbackTransition.buildStyles(i,t,n)}}function TO(r,i,t){r.has(i)?r.has(t)||r.set(t,r.get(i)):r.has(t)&&r.set(i,r.get(t))}const t2=new mb;class n2{constructor(i,t,n){this.bodyNode=i,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const n=[],c=wM(this._driver,t,n,[]);if(n.length)throw function aF(r){return new e.vHH(3503,!1)}();this._animations.set(i,c)}_buildPlayer(i,t,n){const o=i.element,c=rO(this._normalizer,i.keyframes,t,n);return this._driver.animate(o,c,i.duration,i.delay,i.easing,[],!0)}create(i,t,n={}){const o=[],c=this._animations.get(i);let u;const g=new Map;if(c?(u=PM(this._driver,t,c,SM,ab,new Map,new Map,n,t2,o),u.forEach(Z=>{const ce=ma(g,Z.element,new Map);Z.postStyleProps.forEach(Pe=>ce.set(Pe,null))})):(o.push(function sF(){return new e.vHH(3300,!1)}()),u=[]),o.length)throw function lF(r){return new e.vHH(3504,!1)}();g.forEach((Z,ce)=>{Z.forEach((Pe,Ne)=>{Z.set(Ne,this._driver.computeStyle(ce,Ne,cr.l3))})});const U=bc(u.map(Z=>{const ce=g.get(Z.element);return this._buildPlayer(Z,new Map,ce)}));return this._playersById.set(i,U),U.onDestroy(()=>this.destroy(i)),this.players.push(U),U}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function cF(r){return new e.vHH(3301,!1)}();return t}listen(i,t,n,o){const c=EM(t,"","","");return yM(this._getPlayer(i),n,c,o),()=>{}}command(i,t,n,o){if("register"==n)return void this.register(i,o[0]);if("create"==n)return void this.create(i,t,o[0]||{});const c=this._getPlayer(i);switch(n){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const CO="ng-animate-queued",kM="ng-animate-disabled",l2=[],SO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},c2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},os="__ng_removed";class FM{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const n=i&&i.hasOwnProperty("value");if(this.value=function h2(r){return r??null}(n?i.value:i),n){const c=Hp(i);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const n=this.options.params;Object.keys(t).forEach(o=>{null==n[o]&&(n[o]=t[o])})}}}const Wp="void",BM=new FM(Wp);class d2{constructor(i,t,n){this.id=i,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,La(t,this._hostClassName)}listen(i,t,n,o){if(!this._triggers.has(t))throw function dF(r,i){return new e.vHH(3302,!1)}();if(null==n||0==n.length)throw function uF(r){return new e.vHH(3303,!1)}();if(!function m2(r){return"start"==r||"done"==r}(n))throw function fF(r,i){return new e.vHH(3400,!1)}();const c=ma(this._elementListeners,i,[]),u={name:t,phase:n,callback:o};c.push(u);const g=ma(this._engine.statesByElement,i,new Map);return g.has(t)||(La(i,sb),La(i,sb+"-"+t),g.set(t,BM)),()=>{this._engine.afterFlush(()=>{const A=c.indexOf(u);A>=0&&c.splice(A,1),this._triggers.has(t)||g.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function hF(r){return new e.vHH(3401,!1)}();return t}trigger(i,t,n,o=!0){const c=this._getTrigger(t),u=new UM(this.id,t,i);let g=this._engine.statesByElement.get(i);g||(La(i,sb),La(i,sb+"-"+t),this._engine.statesByElement.set(i,g=new Map));let A=g.get(t);const U=new FM(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&A&&U.absorbOptions(A.options),g.set(t,U),A||(A=BM),U.value!==Wp&&A.value===U.value){if(!function _2(r,i){const t=Object.keys(r),n=Object.keys(i);if(t.length!=n.length)return!1;for(let o=0;o<t.length;o++){const c=t[o];if(!i.hasOwnProperty(c)||r[c]!==i[c])return!1}return!0}(A.params,U.params)){const Je=[],ct=c.matchStyles(A.value,A.params,Je),Et=c.matchStyles(U.value,U.params,Je);Je.length?this._engine.reportError(Je):this._engine.afterFlush(()=>{Nd(i,ct),Ts(i,Et)})}return}const Pe=ma(this._engine.playersByElement,i,[]);Pe.forEach(Je=>{Je.namespaceId==this.id&&Je.triggerName==t&&Je.queued&&Je.destroy()});let Ne=c.matchTransition(A.value,U.value,i,U.params),ze=!1;if(!Ne){if(!o)return;Ne=c.fallbackTransition,ze=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:Ne,fromState:A,toState:U,player:u,isFallbackTransition:ze}),ze||(La(i,CO),u.onStart(()=>{Lf(i,CO)})),u.onDone(()=>{let Je=this.players.indexOf(u);Je>=0&&this.players.splice(Je,1);const ct=this._engine.playersByElement.get(i);if(ct){let Et=ct.indexOf(u);Et>=0&&ct.splice(Et,1)}}),this.players.push(u),Pe.push(u),u}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const n=this._engine.driver.query(i,lb,!0);n.forEach(o=>{if(o[os])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(u=>u.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,t,n,o){const c=this._engine.statesByElement.get(i),u=new Map;if(c){const g=[];if(c.forEach((A,U)=>{if(u.set(U,A.value),this._triggers.has(U)){const Z=this.trigger(i,U,Wp,o);Z&&g.push(Z)}}),g.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,u),n&&bc(g).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(t&&n){const o=new Set;t.forEach(c=>{const u=c.name;if(o.has(u))return;o.add(u);const A=this._triggers.get(u).fallbackTransition,U=n.get(u)||BM,Z=new FM(Wp),ce=new UM(this.id,u,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:u,transition:A,fromState:U,toState:Z,player:ce,isFallbackTransition:!0})})}}removeNode(i,t){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let o=!1;if(n.totalAnimations){const c=n.players.length?n.playersByQueriedElement.get(i):[];if(c&&c.length)o=!0;else{let u=i;for(;u=u.parentNode;)if(n.statesByElement.get(u)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)n.markElementAsRemoved(this.id,i,!1,t);else{const c=i[os];(!c||c===SO)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,t))}}insertNode(i,t){La(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(n=>{const o=n.player;if(o.destroyed)return;const c=n.element,u=this._elementListeners.get(c);u&&u.forEach(g=>{if(g.name==n.triggerName){const A=EM(c,n.triggerName,n.fromState.value,n.toState.value);A._data=i,yM(n.player,g.phase,A,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(n)}),this._queue=[],t.sort((n,o)=>{const c=n.transition.ast.depCount,u=o.transition.ast.depCount;return 0==c||0==u?c-u:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class u2{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,n){this.bodyNode=i,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,t){const n=new d2(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,t){const n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let u=!1,g=this.driver.getParentElement(t);for(;g;){const A=o.get(g);if(A){const U=n.indexOf(A);n.splice(U+1,0,i),u=!0;break}g=this.driver.getParentElement(g)}u||n.unshift(i)}else n.push(i);return o.set(t,i),i}register(i,t){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,t)),n}registerTrigger(i,t,n){let o=this._namespaceLookup[i];o&&o.register(t,n)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,n=this.statesByElement.get(i);if(n)for(let o of n.values())if(o.namespaceId){const c=this._fetchNamespace(o.namespaceId);c&&t.add(c)}return t}trigger(i,t,n,o){if(_b(t)){const c=this._fetchNamespace(i);if(c)return c.trigger(t,n,o),!0}return!1}insertNode(i,t,n,o){if(!_b(t))return;const c=t[os];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(i){const u=this._fetchNamespace(i);u&&u.insertNode(t,n)}o&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),La(i,kM)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Lf(i,kM))}removeNode(i,t,n){if(_b(t)){const o=i?this._fetchNamespace(i):null;o?o.removeNode(t,n):this.markElementAsRemoved(i,t,!1,n);const c=this.namespacesByHostElement.get(t);c&&c.id!==i&&c.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(i,t,n,o,c){this.collectedLeaveElements.push(t),t[os]={namespaceId:i,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:c}}listen(i,t,n,o,c){return _b(t)?this._fetchNamespace(i).listen(t,n,o,c):()=>{}}_buildInstruction(i,t,n,o,c){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,o,i.fromState.options,i.toState.options,t,c)}destroyInnerAnimations(i){let t=this.driver.query(i,lb,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,DM,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return bc(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[os];if(t&&t.setForRemoval){if(i[os]=SO,t.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(kM)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)La(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,i)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?bc(t).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(i){throw function mF(r){return new e.vHH(3402,!1)}()}_flushAnimations(i,t){const n=new mb,o=[],c=new Map,u=[],g=new Map,A=new Map,U=new Map,Z=new Set;this.disabledNodes.forEach(On=>{Z.add(On);const Ln=this.driver.query(On,".ng-animate-queued",!0);for(let yn=0;yn<Ln.length;yn++)Z.add(Ln[yn])});const ce=this.bodyNode,Pe=Array.from(this.statesByElement.keys()),Ne=MO(Pe,this.collectedEnterElements),ze=new Map;let Je=0;Ne.forEach((On,Ln)=>{const yn=SM+Je++;ze.set(Ln,yn),On.forEach(Nn=>La(Nn,yn))});const ct=[],Et=new Set,Ft=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const Ln=this.collectedLeaveElements[On],yn=Ln[os];yn&&yn.setForRemoval&&(ct.push(Ln),Et.add(Ln),yn.hasAnimation?this.driver.query(Ln,".ng-star-inserted",!0).forEach(Nn=>Et.add(Nn)):Ft.add(Ln))}const Lt=new Map,Qt=MO(Pe,Array.from(Et));Qt.forEach((On,Ln)=>{const yn=ab+Je++;Lt.set(Ln,yn),On.forEach(Nn=>La(Nn,yn))}),i.push(()=>{Ne.forEach((On,Ln)=>{const yn=ze.get(Ln);On.forEach(Nn=>Lf(Nn,yn))}),Qt.forEach((On,Ln)=>{const yn=Lt.get(Ln);On.forEach(Nn=>Lf(Nn,yn))}),ct.forEach(On=>{this.processLeaveNode(On)})});const qt=[],fn=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(t).forEach(yn=>{const Nn=yn.player,ai=yn.element;if(qt.push(Nn),this.collectedEnterElements.length){const $i=ai[os];if($i&&$i.setForMove){if($i.previousTriggersValues&&$i.previousTriggersValues.has(yn.triggerName)){const Wr=$i.previousTriggersValues.get(yn.triggerName),wo=this.statesByElement.get(yn.element);if(wo&&wo.has(yn.triggerName)){const kf=wo.get(yn.triggerName);kf.value=Wr,wo.set(yn.triggerName,kf)}}return void Nn.destroy()}}const bi=!ce||!this.driver.containsElement(ce,ai),di=Lt.get(ai),Ri=ze.get(ai),pi=this._buildInstruction(yn,n,Ri,di,bi);if(pi.errors&&pi.errors.length)return void fn.push(pi);if(bi)return Nn.onStart(()=>Nd(ai,pi.fromStyles)),Nn.onDestroy(()=>Ts(ai,pi.toStyles)),void o.push(Nn);if(yn.isFallbackTransition)return Nn.onStart(()=>Nd(ai,pi.fromStyles)),Nn.onDestroy(()=>Ts(ai,pi.toStyles)),void o.push(Nn);const vr=[];pi.timelines.forEach($i=>{$i.stretchStartingKeyframe=!0,this.disabledNodes.has($i.element)||vr.push($i)}),pi.timelines=vr,n.append(ai,pi.timelines),u.push({instruction:pi,player:Nn,element:ai}),pi.queriedElements.forEach($i=>ma(g,$i,[]).push(Nn)),pi.preStyleProps.forEach(($i,Wr)=>{if($i.size){let wo=A.get(Wr);wo||A.set(Wr,wo=new Set),$i.forEach((kf,kd)=>wo.add(kd))}}),pi.postStyleProps.forEach(($i,Wr)=>{let wo=U.get(Wr);wo||U.set(Wr,wo=new Set),$i.forEach((kf,kd)=>wo.add(kd))})});if(fn.length){const On=[];fn.forEach(Ln=>{On.push(function pF(r,i){return new e.vHH(3505,!1)}())}),qt.forEach(Ln=>Ln.destroy()),this.reportError(On)}const an=new Map,_n=new Map;u.forEach(On=>{const Ln=On.element;n.has(Ln)&&(_n.set(Ln,Ln),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,an))}),o.forEach(On=>{const Ln=On.element;this._getPreviousPlayers(Ln,!1,On.namespaceId,On.triggerName,null).forEach(Nn=>{ma(an,Ln,[]).push(Nn),Nn.destroy()})});const wn=ct.filter(On=>wO(On,A,U)),sn=new Map;xO(sn,this.driver,Ft,U,cr.l3).forEach(On=>{wO(On,A,U)&&wn.push(On)});const Bn=new Map;Ne.forEach((On,Ln)=>{xO(Bn,this.driver,new Set(On),A,cr.k1)}),wn.forEach(On=>{const Ln=sn.get(On),yn=Bn.get(On);sn.set(On,new Map([...Ln?.entries()??[],...yn?.entries()??[]]))});const oi=[],dr=[],Ai={};u.forEach(On=>{const{element:Ln,player:yn,instruction:Nn}=On;if(n.has(Ln)){if(Z.has(Ln))return yn.onDestroy(()=>Ts(Ln,Nn.toStyles)),yn.disabled=!0,yn.overrideTotalTime(Nn.totalTime),void o.push(yn);let ai=Ai;if(_n.size>1){let di=Ln;const Ri=[];for(;di=di.parentNode;){const pi=_n.get(di);if(pi){ai=pi;break}Ri.push(di)}Ri.forEach(pi=>_n.set(pi,ai))}const bi=this._buildAnimation(yn.namespaceId,Nn,an,c,Bn,sn);if(yn.setRealPlayer(bi),ai===Ai)oi.push(yn);else{const di=this.playersByElement.get(ai);di&&di.length&&(yn.parentPlayer=bc(di)),o.push(yn)}}else Nd(Ln,Nn.fromStyles),yn.onDestroy(()=>Ts(Ln,Nn.toStyles)),dr.push(yn),Z.has(Ln)&&o.push(yn)}),dr.forEach(On=>{const Ln=c.get(On.element);if(Ln&&Ln.length){const yn=bc(Ln);On.setRealPlayer(yn)}}),o.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<ct.length;On++){const Ln=ct[On],yn=Ln[os];if(Lf(Ln,ab),yn&&yn.hasAnimation)continue;let Nn=[];if(g.size){let bi=g.get(Ln);bi&&bi.length&&Nn.push(...bi);let di=this.driver.query(Ln,DM,!0);for(let Ri=0;Ri<di.length;Ri++){let pi=g.get(di[Ri]);pi&&pi.length&&Nn.push(...pi)}}const ai=Nn.filter(bi=>!bi.destroyed);ai.length?p2(this,Ln,ai):this.processLeaveNode(Ln)}return ct.length=0,oi.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const Ln=this.players.indexOf(On);this.players.splice(Ln,1)}),On.play()}),oi}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,n,o,c){let u=[];if(t){const g=this.playersByQueriedElement.get(i);g&&(u=g)}else{const g=this.playersByElement.get(i);if(g){const A=!c||c==Wp;g.forEach(U=>{U.queued||!A&&U.triggerName!=o||u.push(U)})}}return(n||o)&&(u=u.filter(g=>!(n&&n!=g.namespaceId||o&&o!=g.triggerName))),u}_beforeAnimationBuild(i,t,n){const c=t.element,u=t.isRemovalTransition?void 0:i,g=t.isRemovalTransition?void 0:t.triggerName;for(const A of t.timelines){const U=A.element,Z=U!==c,ce=ma(n,U,[]);this._getPreviousPlayers(U,Z,u,g,t.toState).forEach(Ne=>{const ze=Ne.getRealPlayer();ze.beforeDestroy&&ze.beforeDestroy(),Ne.destroy(),ce.push(Ne)})}Nd(c,t.fromStyles)}_buildAnimation(i,t,n,o,c,u){const g=t.triggerName,A=t.element,U=[],Z=new Set,ce=new Set,Pe=t.timelines.map(ze=>{const Je=ze.element;Z.add(Je);const ct=Je[os];if(ct&&ct.removedBeforeQueried)return new cr.ZN(ze.duration,ze.delay);const Et=Je!==A,Ft=function g2(r){const i=[];return AO(r,i),i}((n.get(Je)||l2).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===Je),Lt=c.get(Je),Qt=u.get(Je),qt=rO(this._normalizer,ze.keyframes,Lt,Qt),fn=this._buildPlayer(ze,qt,Ft);if(ze.subTimeline&&o&&ce.add(Je),Et){const an=new UM(i,g,Je);an.setRealPlayer(fn),U.push(an)}return fn});U.forEach(ze=>{ma(this.playersByQueriedElement,ze.element,[]).push(ze),ze.onDone(()=>function f2(r,i,t){let n=r.get(i);if(n){if(n.length){const o=n.indexOf(t);n.splice(o,1)}0==n.length&&r.delete(i)}return n}(this.playersByQueriedElement,ze.element,ze))}),Z.forEach(ze=>La(ze,uO));const Ne=bc(Pe);return Ne.onDestroy(()=>{Z.forEach(ze=>Lf(ze,uO)),Ts(A,t.toStyles)}),ce.forEach(ze=>{ma(o,ze,[]).push(Ne)}),Ne}_buildPlayer(i,t,n){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,n):new cr.ZN(i.duration,i.delay)}}class UM{constructor(i,t,n){this.namespaceId=i,this.triggerName=t,this.element=n,this._player=new cr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,n)=>{t.forEach(o=>yM(i,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){ma(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function _b(r){return r&&1===r.nodeType}function DO(r,i){const t=r.style.display;return r.style.display=i??"none",t}function xO(r,i,t,n,o){const c=[];t.forEach(A=>c.push(DO(A)));const u=[];n.forEach((A,U)=>{const Z=new Map;A.forEach(ce=>{const Pe=i.computeStyle(U,ce,o);Z.set(ce,Pe),(!Pe||0==Pe.length)&&(U[os]=c2,u.push(U))}),r.set(U,Z)});let g=0;return t.forEach(A=>DO(A,c[g++])),u}function MO(r,i){const t=new Map;if(r.forEach(g=>t.set(g,[])),0==i.length)return t;const o=new Set(i),c=new Map;function u(g){if(!g)return 1;let A=c.get(g);if(A)return A;const U=g.parentNode;return A=t.has(U)?U:o.has(U)?1:u(U),c.set(g,A),A}return i.forEach(g=>{const A=u(g);1!==A&&t.get(A).push(g)}),t}function La(r,i){r.classList?.add(i)}function Lf(r,i){r.classList?.remove(i)}function p2(r,i,t){bc(t).onDone(()=>r.processLeaveNode(i))}function AO(r,i){for(let t=0;t<r.length;t++){const n=r[t];n instanceof cr.ZE?AO(n.players,i):i.push(n)}}function wO(r,i,t){const n=t.get(r);if(!n)return!1;let o=i.get(r);return o?n.forEach(c=>o.add(c)):i.set(r,n),t.delete(r),!0}class vb{constructor(i,t,n){this.bodyNode=i,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new u2(i,t,n),this._timelineEngine=new n2(i,t,n),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(i,t,n,o,c){const u=i+"-"+o;let g=this._triggerCache[u];if(!g){const A=[],Z=wM(this._driver,c,A,[]);if(A.length)throw function rF(r,i){return new e.vHH(3404,!1)}();g=function QF(r,i,t){return new XF(r,i,t)}(o,Z,this._normalizer),this._triggerCache[u]=g}this._transitionEngine.registerTrigger(t,o,g)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,n,o){this._transitionEngine.insertNode(i,t,n,o)}onRemove(i,t,n){this._transitionEngine.removeNode(i,t,n)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,n,o){if("@"==n.charAt(0)){const[c,u]=oO(n);this._timelineEngine.command(c,t,u,o)}else this._transitionEngine.trigger(i,t,n,o)}listen(i,t,n,o,c){if("@"==n.charAt(0)){const[u,g]=oO(n);return this._timelineEngine.listen(u,t,g,c)}return this._transitionEngine.listen(i,t,n,o,c)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let y2=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(t,n,o){this._element=t,this._startStyles=n,this._endStyles=o,this._state=0;let c=r.initialStylesByElement.get(t);c||r.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ts(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ts(this._element,this._initialStyles),this._endStyles&&(Ts(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Nd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nd(this._element,this._endStyles),this._endStyles=null),Ts(this._element,this._initialStyles),this._state=3)}}return r})();function VM(r){let i=null;return r.forEach((t,n)=>{(function b2(r){return"display"===r||"position"===r})(n)&&(i=i||new Map,i.set(n,t))}),i}class IO{constructor(i,t,n,o){this.element=i,this.keyframes=t,this.options=n,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(i,t,n){return i.animate(this._convertKeyframesToObject(t),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{"offset"!==o&&i.set(o,this._finished?n:pO(this.element,o))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class E2{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return sO(i,t)}getParentElement(i){return TM(i)}query(i,t,n){return lO(i,t,n)}computeStyle(i,t,n){return window.getComputedStyle(i)[t]}animate(i,t,n,o,c,u=[]){const A={duration:n,delay:o,fill:0==o?"both":"forwards"};c&&(A.easing=c);const U=new Map,Z=u.filter(Ne=>Ne instanceof IO);(function MF(r,i){return 0===r||0===i})(n,o)&&Z.forEach(Ne=>{Ne.currentSnapshot.forEach((ze,Je)=>U.set(Je,ze))});let ce=function SF(r){return r.length?r[0]instanceof Map?r:r.map(i=>fO(i)):[]}(t).map(Ne=>Ec(Ne));ce=function AF(r,i,t){if(t.size&&i.length){let n=i[0],o=[];if(t.forEach((c,u)=>{n.has(u)||o.push(u),n.set(u,c)}),o.length)for(let c=1;c<i.length;c++){let u=i[c];o.forEach(g=>u.set(g,pO(r,g)))}}return i}(i,ce,U);const Pe=function v2(r,i){let t=null,n=null;return Array.isArray(i)&&i.length?(t=VM(i[0]),i.length>1&&(n=VM(i[i.length-1]))):i instanceof Map&&(t=VM(i)),t||n?new y2(r,t,n):null}(i,ce);return new IO(i,ce,A,Pe)}}let T2=(()=>{class r extends cr._j{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?(0,cr.vP)(t):t;return OO(this._renderer,null,n,"register",[o]),new C2(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(e.FYo),e.LFG(y.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();class C2 extends cr.LC{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new S2(this._id,i,t||{},this._renderer)}}class S2{constructor(i,t,n,o){this.id=i,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return OO(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OO(r,i,t,n,o){return r.setProperty(i,`@@${t}:${n}`,o)}const PO="@.disabled";let D2=(()=>{class r{constructor(t,n,o){this.delegate=t,this.engine=n,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(c,u)=>{const g=u?.parentNode(c);g&&u.removeChild(g,c)}}createRenderer(t,n){const c=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let Z=this._rendererCache.get(c);return Z||(Z=new RO("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,Z)),Z}const u=n.id,g=n.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const A=Z=>{Array.isArray(Z)?Z.forEach(A):this.engine.registerTrigger(u,g,t,Z.name,Z)};return n.data.animation.forEach(A),new x2(this,g,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,o){t>=0&&t<this._microtaskId?this._zone.run(()=>n(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[u,g]=c;u(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(e.FYo),e.LFG(vb),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();class RO{constructor(i,t,n,o){this.namespaceId=i,this.delegate=t,this.engine=n,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,n,o=!0){this.delegate.insertBefore(i,t,n),this.engine.onInsert(this.namespaceId,t,i,o)}removeChild(i,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,n,o){this.delegate.setAttribute(i,t,n,o)}removeAttribute(i,t,n){this.delegate.removeAttribute(i,t,n)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,n,o){this.delegate.setStyle(i,t,n,o)}removeStyle(i,t,n){this.delegate.removeStyle(i,t,n)}setProperty(i,t,n){"@"==t.charAt(0)&&t==PO?this.disableAnimations(i,!!n):this.delegate.setProperty(i,t,n)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,n){return this.delegate.listen(i,t,n)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class x2 extends RO{constructor(i,t,n,o,c){super(t,n,o,c),this.factory=i,this.namespaceId=t}setProperty(i,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==PO?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,t.slice(1),n):this.delegate.setProperty(i,t,n)}listen(i,t,n){if("@"==t.charAt(0)){const o=function M2(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let c=t.slice(1),u="";return"@"!=c.charAt(0)&&([c,u]=function A2(r){const i=r.indexOf(".");return[r.substring(0,i),r.slice(i+1)]}(c)),this.engine.listen(this.namespaceId,o,c,u,g=>{this.factory.scheduleListenerCallback(g._data||-1,n,g)})}return this.delegate.listen(i,t,n)}}let w2=(()=>{class r extends vb{constructor(t,n,o,c){super(t.body,n,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(y.K0),e.LFG(CM),e.LFG(NM),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const NO=[{provide:cr._j,useClass:T2},{provide:NM,useFactory:function I2(){return new ZF}},{provide:vb,useClass:w2},{provide:e.FYo,useFactory:function O2(r,i,t){return new D2(r,i,t)},deps:[re,vb,e.R0b]}],jM=[{provide:CM,useFactory:()=>new E2},{provide:e.QbO,useValue:"BrowserAnimations"},...NO],LO=[{provide:CM,useClass:cO},{provide:e.QbO,useValue:"NoopAnimations"},...NO];let P2=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?LO:jM}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:jM,imports:[he]})}return r})(),R2=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r,bootstrap:[kk]});static#n=this.\u0275inj=e.cJS({providers:[{provide:y.mr,useValue:"/"}],imports:[he,Nt.u5,Ia.m,Br,yx,yh,P2]})}return r})();xe().bootstrapModule(R2).catch(r=>console.error(r))},4753:(bn,Ye,M)=>{"use strict";Ye.Q=void 0;const y=M(2546),E=M(8540);Ye.Q=b=>b.startsWith("WEBVTT")?E.vttParser(b):y.srtParser(b)},2546:(bn,Ye,M)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.srtParser=void 0;const e=M(4575),y=M(2279),R=L=>{let m,h,p,S=L.split(":");return 2===S.length?[h,p]=S:[m,h,p]=S,parseInt(p.replace(",",""),10)+60*parseInt(h,10)*1e3+60*(m?parseInt(m,10):0)*60*1e3},b=()=>({start(L){let S="ID",m={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==S;){const h=this[S](m);m=h.params,S=h.next}return m.result},ID(L){const{tokens:S,pos:m,current:h}=L;if(S.length<=m)return{next:"FINISH",params:L};if(y.isBlank(S[m]))return{next:"ID",params:{...L,pos:m+1}};const p=S[m].includes("--\x3e");return h.id=p?"":S[m],{next:"TIME_LINE",params:{...L,current:h,tokens:S,pos:p?m:m+1}}},TIME_LINE(L){const{tokens:S,pos:m,current:h}=L,p=S[m],[v,w]=p.split("--\x3e");return h.from=R(v),h.to=R(w),{next:"TEXT",params:{...L,current:h,pos:m+1}}},TEXT(L){const{tokens:S,pos:m,current:h}=L;return S.length<=m?{next:"FINISH",params:L}:(h.text=S[m],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},MULTI_LINE_TEXT(L){const{tokens:S,pos:m,current:h}=L;return S.length<=m?{next:"FINISH",params:L}:y.isBlank(S[m])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${S[m]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},FIN_ENTRY(L){const{pos:S,current:m,result:h}=L;if(!e.isEntryFromPartial(m))throw new Error(`Parsing error current not complete ${JSON.stringify(m)}`);return h.push(m),{next:"ID",params:{...L,current:{},pos:S+1}}},FINISH:L=>({next:"FINISH",params:L})});Ye.srtParser=L=>({entries:b().start(L)})},4575:(bn,Ye)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.isEntryFromPartial=void 0,Ye.isEntryFromPartial=e=>"string"==typeof e.id&&"number"==typeof e.from&&"number"==typeof e.to&&"string"==typeof e.text},2279:(bn,Ye)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.isBlank=void 0,Ye.isBlank=e=>!e||/^\s*$/.test(e)},8540:(bn,Ye,M)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.vttParser=void 0;const e=M(4575),y=M(2279),R=L=>{let m,h,p,S=L.split(":");return 2===S.length?[h,p]=S:[m,h,p]=S,parseInt(p.replace(".",""),10)+60*parseInt(h,10)*1e3+60*(m?parseInt(m,10):0)*60*1e3},b=()=>({start(L){let S="HEADER",m={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==S;){const h=this[S](m);m=h.params,S=h.next}return m.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:S,pos:m}=L;return S.length<=m?{next:"FINISH",params:L}:y.isBlank(S[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:S[m].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:S[m].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:S,pos:m}=L;return y.isBlank(S[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:{next:"STYLE",params:{...L,pos:m+1}}},NOTE(L){const{tokens:S,pos:m}=L;return y.isBlank(S[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:{next:"STYLE",params:{...L,pos:m+1}}},ID(L){const{tokens:S,pos:m,current:h}=L;if(S.length<=m)return{next:"FINISH",params:L};if(y.isBlank(S[m]))return{next:"ID",params:{...L,pos:m+1}};const p=S[m].includes("--\x3e");return h.id=p?"":S[m],{next:"TIME_LINE",params:{...L,current:h,tokens:S,pos:p?m:m+1}}},TIME_LINE(L){const{tokens:S,pos:m,current:h}=L,p=S[m],[v,w]=p.split("--\x3e");return h.from=R(v),h.to=R(w),{next:"TEXT",params:{...L,current:h,pos:m+1}}},TEXT(L){const{tokens:S,pos:m,current:h}=L;return S.length<=m?{next:"FINISH",params:L}:(h.text=S[m],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},MULTI_LINE_TEXT(L){const{tokens:S,pos:m,current:h}=L;return S.length<=m?{next:"FINISH",params:L}:y.isBlank(S[m])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${S[m]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},FIN_ENTRY(L){const{pos:S,current:m,result:h}=L;if(!e.isEntryFromPartial(m))throw new Error(`Parsing error current not complete ${JSON.stringify(m)}`);return h.push(m),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:S+1}}},FINISH:L=>({next:"FINISH",params:L})});Ye.vttParser=L=>({entries:b().start(L)})},9919:(bn,Ye)=>{"use strict";Ye.byteLength=function L(w){var V=F(w),G=V[1];return 3*(V[0]+G)/4-G},Ye.toByteArray=function m(w){var V,T,O=F(w),G=O[0],k=O[1],P=new y(function S(w,V,O){return 3*(V+O)/4-O}(0,G,k)),x=0,I=k>0?G-4:G;for(T=0;T<I;T+=4)V=e[w.charCodeAt(T)]<<18|e[w.charCodeAt(T+1)]<<12|e[w.charCodeAt(T+2)]<<6|e[w.charCodeAt(T+3)],P[x++]=V>>16&255,P[x++]=V>>8&255,P[x++]=255&V;return 2===k&&(V=e[w.charCodeAt(T)]<<2|e[w.charCodeAt(T+1)]>>4,P[x++]=255&V),1===k&&(V=e[w.charCodeAt(T)]<<10|e[w.charCodeAt(T+1)]<<4|e[w.charCodeAt(T+2)]>>2,P[x++]=V>>8&255,P[x++]=255&V),P},Ye.fromByteArray=function v(w){for(var V,O=w.length,G=O%3,k=[],P=16383,x=0,I=O-G;x<I;x+=P)k.push(p(w,x,x+P>I?I:x+P));return 1===G?k.push(M[(V=w[O-1])>>2]+M[V<<4&63]+"=="):2===G&&k.push(M[(V=(w[O-2]<<8)+w[O-1])>>10]+M[V>>4&63]+M[V<<2&63]+"="),k.join("")};for(var M=[],e=[],y=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0;R<64;++R)M[R]=E[R],e[E.charCodeAt(R)]=R;function F(w){var V=w.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=w.indexOf("=");return-1===O&&(O=V),[O,O===V?0:4-O%4]}function h(w){return M[w>>18&63]+M[w>>12&63]+M[w>>6&63]+M[63&w]}function p(w,V,O){for(var k=[],P=V;P<O;P+=3)k.push(h((w[P]<<16&16711680)+(w[P+1]<<8&65280)+(255&w[P+2])));return k.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},9007:(bn,Ye,M)=>{"use strict";var y=M(9919),E=M(2601),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ye.lW=S,Ye.h2=50;var b=2147483647;function L($){if($>b)throw new RangeError('The value "'+$+'" is invalid for option "size"');var W=new Uint8Array($);return Object.setPrototypeOf(W,S.prototype),W}function S($,W,te){if("number"==typeof $){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v($)}return m($,W,te)}function m($,W,te){if("string"==typeof $)return function w($,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!S.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var te=0|I($,W),X=L(te),J=X.write($,W);return J!==te&&(X=X.slice(0,J)),X}($,W);if(ArrayBuffer.isView($))return function O($){if(ie($,Uint8Array)){var W=new Uint8Array($);return G(W.buffer,W.byteOffset,W.byteLength)}return V($)}($);if(null==$)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(ie($,ArrayBuffer)||$&&ie($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie($,SharedArrayBuffer)||$&&ie($.buffer,SharedArrayBuffer)))return G($,W,te);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');var X=$.valueOf&&$.valueOf();if(null!=X&&X!==$)return S.from(X,W,te);var J=function k($){if(S.isBuffer($)){var W=0|P($.length),te=L(W);return 0===te.length||$.copy(te,0,0,W),te}return void 0!==$.length?"number"!=typeof $.length||he($.length)?L(0):V($):"Buffer"===$.type&&Array.isArray($.data)?V($.data):void 0}($);if(J)return J;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return S.from($[Symbol.toPrimitive]("string"),W,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function h($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function v($){return h($),L($<0?0:0|P($))}function V($){for(var W=$.length<0?0:0|P($.length),te=L(W),X=0;X<W;X+=1)te[X]=255&$[X];return te}function G($,W,te){if(W<0||$.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<W+(te||0))throw new RangeError('"length" is outside of buffer bounds');var X;return X=void 0===W&&void 0===te?new Uint8Array($):void 0===te?new Uint8Array($,W):new Uint8Array($,W,te),Object.setPrototypeOf(X,S.prototype),X}function P($){if($>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|$}function I($,W){if(S.isBuffer($))return $.length;if(ArrayBuffer.isView($)||ie($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var te=$.length,X=arguments.length>2&&!0===arguments[2];if(!X&&0===te)return 0;for(var J=!1;;)switch(W){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return We($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return be($).length;default:if(J)return X?-1:We($).length;W=(""+W).toLowerCase(),J=!0}}function T($,W,te){var X=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===te||te>this.length)&&(te=this.length),te<=0)||(te>>>=0)<=(W>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return Ae(this,W,te);case"utf8":case"utf-8":return H(this,W,te);case"ascii":return fe(this,W,te);case"latin1":case"binary":return Ee(this,W,te);case"base64":return oe(this,W,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,W,te);default:if(X)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),X=!0}}function N($,W,te){var X=$[W];$[W]=$[te],$[te]=X}function C($,W,te,X,J){if(0===$.length)return-1;if("string"==typeof te?(X=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),he(te=+te)&&(te=J?0:$.length-1),te<0&&(te=$.length+te),te>=$.length){if(J)return-1;te=$.length-1}else if(te<0){if(!J)return-1;te=0}if("string"==typeof W&&(W=S.from(W,X)),S.isBuffer(W))return 0===W.length?-1:B($,W,te,X,J);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call($,W,te):Uint8Array.prototype.lastIndexOf.call($,W,te):B($,[W],te,X,J);throw new TypeError("val must be string, number or Buffer")}function B($,W,te,X,J){var Te,Q=1,de=$.length,pe=W.length;if(void 0!==X&&("ucs2"===(X=String(X).toLowerCase())||"ucs-2"===X||"utf16le"===X||"utf-16le"===X)){if($.length<2||W.length<2)return-1;Q=2,de/=2,pe/=2,te/=2}function le(qe,He){return 1===Q?qe[He]:qe.readUInt16BE(He*Q)}if(J){var Ve=-1;for(Te=te;Te<de;Te++)if(le($,Te)===le(W,-1===Ve?0:Te-Ve)){if(-1===Ve&&(Ve=Te),Te-Ve+1===pe)return Ve*Q}else-1!==Ve&&(Te-=Te-Ve),Ve=-1}else for(te+pe>de&&(te=de-pe),Te=te;Te>=0;Te--){for(var ke=!0,Ze=0;Ze<pe;Ze++)if(le($,Te+Ze)!==le(W,Ze)){ke=!1;break}if(ke)return Te}return-1}function Y($,W,te,X){te=Number(te)||0;var J=$.length-te;X?(X=Number(X))>J&&(X=J):X=J;var Q=W.length;X>Q/2&&(X=Q/2);for(var de=0;de<X;++de){var pe=parseInt(W.substr(2*de,2),16);if(he(pe))return de;$[te+de]=pe}return de}function re($,W,te,X){return K(We(W,$.length-te),$,te,X)}function ae($,W,te,X){return K(function Ue($){for(var W=[],te=0;te<$.length;++te)W.push(255&$.charCodeAt(te));return W}(W),$,te,X)}function Oe($,W,te,X){return K(be(W),$,te,X)}function z($,W,te,X){return K(function xe($,W){for(var te,X,Q=[],de=0;de<$.length&&!((W-=2)<0);++de)X=(te=$.charCodeAt(de))>>8,Q.push(te%256),Q.push(X);return Q}(W,$.length-te),$,te,X)}function oe($,W,te){return y.fromByteArray(0===W&&te===$.length?$:$.slice(W,te))}function H($,W,te){te=Math.min($.length,te);for(var X=[],J=W;J<te;){var le,Te,Ve,ke,Q=$[J],de=null,pe=Q>239?4:Q>223?3:Q>191?2:1;if(J+pe<=te)switch(pe){case 1:Q<128&&(de=Q);break;case 2:128==(192&(le=$[J+1]))&&(ke=(31&Q)<<6|63&le)>127&&(de=ke);break;case 3:Te=$[J+2],128==(192&(le=$[J+1]))&&128==(192&Te)&&(ke=(15&Q)<<12|(63&le)<<6|63&Te)>2047&&(ke<55296||ke>57343)&&(de=ke);break;case 4:Te=$[J+2],Ve=$[J+3],128==(192&(le=$[J+1]))&&128==(192&Te)&&128==(192&Ve)&&(ke=(15&Q)<<18|(63&le)<<12|(63&Te)<<6|63&Ve)>65535&&ke<1114112&&(de=ke)}null===de?(de=65533,pe=1):de>65535&&(X.push((de-=65536)>>>10&1023|55296),de=56320|1023&de),X.push(de),J+=pe}return function ne($){var W=$.length;if(W<=me)return String.fromCharCode.apply(String,$);for(var te="",X=0;X<W;)te+=String.fromCharCode.apply(String,$.slice(X,X+=me));return te}(X)}!(S.TYPED_ARRAY_SUPPORT=function F(){try{var $=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf($,W),42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function($,W,te){return m($,W,te)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function($,W,te){return function p($,W,te){return h($),$<=0?L($):void 0!==W?"string"==typeof te?L($).fill(W,te):L($).fill(W):L($)}($,W,te)},S.allocUnsafe=function($){return v($)},S.allocUnsafeSlow=function($){return v($)},S.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==S.prototype},S.compare=function(W,te){if(ie(W,Uint8Array)&&(W=S.from(W,W.offset,W.byteLength)),ie(te,Uint8Array)&&(te=S.from(te,te.offset,te.byteLength)),!S.isBuffer(W)||!S.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===te)return 0;for(var X=W.length,J=te.length,Q=0,de=Math.min(X,J);Q<de;++Q)if(W[Q]!==te[Q]){X=W[Q],J=te[Q];break}return X<J?-1:J<X?1:0},S.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(W,te){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return S.alloc(0);var X;if(void 0===te)for(te=0,X=0;X<W.length;++X)te+=W[X].length;var J=S.allocUnsafe(te),Q=0;for(X=0;X<W.length;++X){var de=W[X];if(ie(de,Uint8Array))Q+de.length>J.length?S.from(de).copy(J,Q):Uint8Array.prototype.set.call(J,de,Q);else{if(!S.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(J,Q)}Q+=de.length}return J},S.byteLength=I,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<W;te+=2)N(this,te,te+1);return this},S.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<W;te+=4)N(this,te,te+3),N(this,te+1,te+2);return this},S.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<W;te+=8)N(this,te,te+7),N(this,te+1,te+6),N(this,te+2,te+5),N(this,te+3,te+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?H(this,0,W):T.apply(this,arguments)},S.prototype.equals=function(W){if(!S.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===S.compare(this,W)},S.prototype.inspect=function(){var W="",te=Ye.h2;return W=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(W+=" ... "),"<Buffer "+W+">"},R&&(S.prototype[R]=S.prototype.inspect),S.prototype.compare=function(W,te,X,J,Q){if(ie(W,Uint8Array)&&(W=S.from(W,W.offset,W.byteLength)),!S.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===te&&(te=0),void 0===X&&(X=W?W.length:0),void 0===J&&(J=0),void 0===Q&&(Q=this.length),te<0||X>W.length||J<0||Q>this.length)throw new RangeError("out of range index");if(J>=Q&&te>=X)return 0;if(J>=Q)return-1;if(te>=X)return 1;if(this===W)return 0;for(var de=(Q>>>=0)-(J>>>=0),pe=(X>>>=0)-(te>>>=0),le=Math.min(de,pe),Te=this.slice(J,Q),Ve=W.slice(te,X),ke=0;ke<le;++ke)if(Te[ke]!==Ve[ke]){de=Te[ke],pe=Ve[ke];break}return de<pe?-1:pe<de?1:0},S.prototype.includes=function(W,te,X){return-1!==this.indexOf(W,te,X)},S.prototype.indexOf=function(W,te,X){return C(this,W,te,X,!0)},S.prototype.lastIndexOf=function(W,te,X){return C(this,W,te,X,!1)},S.prototype.write=function(W,te,X,J){if(void 0===te)J="utf8",X=this.length,te=0;else if(void 0===X&&"string"==typeof te)J=te,X=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(X)?(X>>>=0,void 0===J&&(J="utf8")):(J=X,X=void 0)}var Q=this.length-te;if((void 0===X||X>Q)&&(X=Q),W.length>0&&(X<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var de=!1;;)switch(J){case"hex":return Y(this,W,te,X);case"utf8":case"utf-8":return re(this,W,te,X);case"ascii":case"latin1":case"binary":return ae(this,W,te,X);case"base64":return Oe(this,W,te,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,W,te,X);default:if(de)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),de=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var me=4096;function fe($,W,te){var X="";te=Math.min($.length,te);for(var J=W;J<te;++J)X+=String.fromCharCode(127&$[J]);return X}function Ee($,W,te){var X="";te=Math.min($.length,te);for(var J=W;J<te;++J)X+=String.fromCharCode($[J]);return X}function Ae($,W,te){var X=$.length;(!W||W<0)&&(W=0),(!te||te<0||te>X)&&(te=X);for(var J="",Q=W;Q<te;++Q)J+=q[$[Q]];return J}function se($,W,te){for(var X=$.slice(W,te),J="",Q=0;Q<X.length-1;Q+=2)J+=String.fromCharCode(X[Q]+256*X[Q+1]);return J}function De($,W,te){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+W>te)throw new RangeError("Trying to access beyond buffer length")}function Me($,W,te,X,J,Q){if(!S.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>J||W<Q)throw new RangeError('"value" argument is out of bounds');if(te+X>$.length)throw new RangeError("Index out of range")}function _e($,W,te,X,J,Q){if(te+X>$.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function Le($,W,te,X,J){return W=+W,te>>>=0,J||_e($,0,te,4),E.write($,W,te,X,23,4),te+4}function Ie($,W,te,X,J){return W=+W,te>>>=0,J||_e($,0,te,8),E.write($,W,te,X,52,8),te+8}S.prototype.slice=function(W,te){var X=this.length;(W=~~W)<0?(W+=X)<0&&(W=0):W>X&&(W=X),(te=void 0===te?X:~~te)<0?(te+=X)<0&&(te=0):te>X&&(te=X),te<W&&(te=W);var J=this.subarray(W,te);return Object.setPrototypeOf(J,S.prototype),J},S.prototype.readUintLE=S.prototype.readUIntLE=function(W,te,X){W>>>=0,te>>>=0,X||De(W,te,this.length);for(var J=this[W],Q=1,de=0;++de<te&&(Q*=256);)J+=this[W+de]*Q;return J},S.prototype.readUintBE=S.prototype.readUIntBE=function(W,te,X){W>>>=0,te>>>=0,X||De(W,te,this.length);for(var J=this[W+--te],Q=1;te>0&&(Q*=256);)J+=this[W+--te]*Q;return J},S.prototype.readUint8=S.prototype.readUInt8=function(W,te){return W>>>=0,te||De(W,1,this.length),this[W]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(W,te){return W>>>=0,te||De(W,2,this.length),this[W]|this[W+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(W,te){return W>>>=0,te||De(W,2,this.length),this[W]<<8|this[W+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(W,te){return W>>>=0,te||De(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(W,te){return W>>>=0,te||De(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},S.prototype.readIntLE=function(W,te,X){W>>>=0,te>>>=0,X||De(W,te,this.length);for(var J=this[W],Q=1,de=0;++de<te&&(Q*=256);)J+=this[W+de]*Q;return J>=(Q*=128)&&(J-=Math.pow(2,8*te)),J},S.prototype.readIntBE=function(W,te,X){W>>>=0,te>>>=0,X||De(W,te,this.length);for(var J=te,Q=1,de=this[W+--J];J>0&&(Q*=256);)de+=this[W+--J]*Q;return de>=(Q*=128)&&(de-=Math.pow(2,8*te)),de},S.prototype.readInt8=function(W,te){return W>>>=0,te||De(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},S.prototype.readInt16LE=function(W,te){W>>>=0,te||De(W,2,this.length);var X=this[W]|this[W+1]<<8;return 32768&X?4294901760|X:X},S.prototype.readInt16BE=function(W,te){W>>>=0,te||De(W,2,this.length);var X=this[W+1]|this[W]<<8;return 32768&X?4294901760|X:X},S.prototype.readInt32LE=function(W,te){return W>>>=0,te||De(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},S.prototype.readInt32BE=function(W,te){return W>>>=0,te||De(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},S.prototype.readFloatLE=function(W,te){return W>>>=0,te||De(W,4,this.length),E.read(this,W,!0,23,4)},S.prototype.readFloatBE=function(W,te){return W>>>=0,te||De(W,4,this.length),E.read(this,W,!1,23,4)},S.prototype.readDoubleLE=function(W,te){return W>>>=0,te||De(W,8,this.length),E.read(this,W,!0,52,8)},S.prototype.readDoubleBE=function(W,te){return W>>>=0,te||De(W,8,this.length),E.read(this,W,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(W,te,X,J){W=+W,te>>>=0,X>>>=0,J||Me(this,W,te,X,Math.pow(2,8*X)-1,0);var de=1,pe=0;for(this[te]=255&W;++pe<X&&(de*=256);)this[te+pe]=W/de&255;return te+X},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(W,te,X,J){W=+W,te>>>=0,X>>>=0,J||Me(this,W,te,X,Math.pow(2,8*X)-1,0);var de=X-1,pe=1;for(this[te+de]=255&W;--de>=0&&(pe*=256);)this[te+de]=W/pe&255;return te+X},S.prototype.writeUint8=S.prototype.writeUInt8=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,1,255,0),this[te]=255&W,te+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,2,65535,0),this[te]=255&W,this[te+1]=W>>>8,te+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,2,65535,0),this[te]=W>>>8,this[te+1]=255&W,te+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,4,4294967295,0),this[te+3]=W>>>24,this[te+2]=W>>>16,this[te+1]=W>>>8,this[te]=255&W,te+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,4,4294967295,0),this[te]=W>>>24,this[te+1]=W>>>16,this[te+2]=W>>>8,this[te+3]=255&W,te+4},S.prototype.writeIntLE=function(W,te,X,J){if(W=+W,te>>>=0,!J){var Q=Math.pow(2,8*X-1);Me(this,W,te,X,Q-1,-Q)}var de=0,pe=1,le=0;for(this[te]=255&W;++de<X&&(pe*=256);)W<0&&0===le&&0!==this[te+de-1]&&(le=1),this[te+de]=(W/pe>>0)-le&255;return te+X},S.prototype.writeIntBE=function(W,te,X,J){if(W=+W,te>>>=0,!J){var Q=Math.pow(2,8*X-1);Me(this,W,te,X,Q-1,-Q)}var de=X-1,pe=1,le=0;for(this[te+de]=255&W;--de>=0&&(pe*=256);)W<0&&0===le&&0!==this[te+de+1]&&(le=1),this[te+de]=(W/pe>>0)-le&255;return te+X},S.prototype.writeInt8=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,1,127,-128),W<0&&(W=255+W+1),this[te]=255&W,te+1},S.prototype.writeInt16LE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,2,32767,-32768),this[te]=255&W,this[te+1]=W>>>8,te+2},S.prototype.writeInt16BE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,2,32767,-32768),this[te]=W>>>8,this[te+1]=255&W,te+2},S.prototype.writeInt32LE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,4,2147483647,-2147483648),this[te]=255&W,this[te+1]=W>>>8,this[te+2]=W>>>16,this[te+3]=W>>>24,te+4},S.prototype.writeInt32BE=function(W,te,X){return W=+W,te>>>=0,X||Me(this,W,te,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[te]=W>>>24,this[te+1]=W>>>16,this[te+2]=W>>>8,this[te+3]=255&W,te+4},S.prototype.writeFloatLE=function(W,te,X){return Le(this,W,te,!0,X)},S.prototype.writeFloatBE=function(W,te,X){return Le(this,W,te,!1,X)},S.prototype.writeDoubleLE=function(W,te,X){return Ie(this,W,te,!0,X)},S.prototype.writeDoubleBE=function(W,te,X){return Ie(this,W,te,!1,X)},S.prototype.copy=function(W,te,X,J){if(!S.isBuffer(W))throw new TypeError("argument should be a Buffer");if(X||(X=0),!J&&0!==J&&(J=this.length),te>=W.length&&(te=W.length),te||(te=0),J>0&&J<X&&(J=X),J===X||0===W.length||0===this.length)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),W.length-te<J-X&&(J=W.length-te+X);var Q=J-X;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(te,X,J):Uint8Array.prototype.set.call(W,this.subarray(X,J),te),Q},S.prototype.fill=function(W,te,X,J){if("string"==typeof W){if("string"==typeof te?(J=te,te=0,X=this.length):"string"==typeof X&&(J=X,X=this.length),void 0!==J&&"string"!=typeof J)throw new TypeError("encoding must be a string");if("string"==typeof J&&!S.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(1===W.length){var Q=W.charCodeAt(0);("utf8"===J&&Q<128||"latin1"===J)&&(W=Q)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(te<0||this.length<te||this.length<X)throw new RangeError("Out of range index");if(X<=te)return this;var de;if(te>>>=0,X=void 0===X?this.length:X>>>0,W||(W=0),"number"==typeof W)for(de=te;de<X;++de)this[de]=W;else{var pe=S.isBuffer(W)?W:S.from(W,J),le=pe.length;if(0===le)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(de=0;de<X-te;++de)this[de+te]=pe[de%le]}return this};var we=/[^+/0-9A-Za-z-_]/g;function We($,W){W=W||1/0;for(var te,X=$.length,J=null,Q=[],de=0;de<X;++de){if((te=$.charCodeAt(de))>55295&&te<57344){if(!J){if(te>56319){(W-=3)>-1&&Q.push(239,191,189);continue}if(de+1===X){(W-=3)>-1&&Q.push(239,191,189);continue}J=te;continue}if(te<56320){(W-=3)>-1&&Q.push(239,191,189),J=te;continue}te=65536+(J-55296<<10|te-56320)}else J&&(W-=3)>-1&&Q.push(239,191,189);if(J=null,te<128){if((W-=1)<0)break;Q.push(te)}else if(te<2048){if((W-=2)<0)break;Q.push(te>>6|192,63&te|128)}else if(te<65536){if((W-=3)<0)break;Q.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;Q.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return Q}function be($){return y.toByteArray(function Fe($){if(($=($=$.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function K($,W,te,X){for(var J=0;J<X&&!(J+te>=W.length||J>=$.length);++J)W[J+te]=$[J];return J}function ie($,W){return $ instanceof W||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===W.name}function he($){return $!=$}var q=function(){for(var $="0123456789abcdef",W=new Array(256),te=0;te<16;++te)for(var X=16*te,J=0;J<16;++J)W[X+J]=$[te]+$[J];return W}()},5094:bn=>{window,bn.exports=function(Ye){var M={};function e(y){if(M[y])return M[y].exports;var E=M[y]={i:y,l:!1,exports:{}};return Ye[y].call(E.exports,E,E.exports,e),E.l=!0,E.exports}return e.m=Ye,e.c=M,e.d=function(y,E,R){e.o(y,E)||Object.defineProperty(y,E,{enumerable:!0,get:R})},e.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},e.t=function(y,E){if(1&E&&(y=e(y)),8&E||4&E&&"object"==typeof y&&y&&y.__esModule)return y;var R=Object.create(null);if(e.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:y}),2&E&&"string"!=typeof y)for(var b in y)e.d(R,b,function(F){return y[F]}.bind(null,b));return R},e.n=function(y){var E=y&&y.__esModule?function(){return y.default}:function(){return y};return e.d(E,"a",E),E},e.o=function(y,E){return Object.prototype.hasOwnProperty.call(y,E)},e.p="/dist/",e(e.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(Ye,M,e){var R,b,F,L,S,y_encode=function(R){for(var b=[],F=0;F<R.length;++F){var L=R.charCodeAt(F);L<128?b.push(L):L<2048?(b.push(192|L>>6),b.push(128|63&L)):L<65536?(b.push(224|L>>12),b.push(128|63&L>>6),b.push(128|63&L)):(b.push(240|L>>18),b.push(128|63&L>>12),b.push(128|63&L>>6),b.push(128|63&L))}return b},y_decode=function(R){for(var b=[],F=0;F<R.length;){var L=R[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&R[F++]):L<240?(L=(15&L)<<12,L|=(63&R[F++])<<6,L|=63&R[F++]):(L=(7&L)<<18,L|=(63&R[F++])<<12,L|=(63&R[F++])<<6,L|=63&R[F++])),b.push(String.fromCharCode(L))}return b.join("")},E={};R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=function(h){for(var p=0,v=[],w=0|h.length/3;0<w--;){var V=(h[p]<<16)+(h[p+1]<<8)+h[p+2];p+=3,v.push(R.charAt(63&V>>18)),v.push(R.charAt(63&V>>12)),v.push(R.charAt(63&V>>6)),v.push(R.charAt(63&V))}return h.length-p==2?(v.push(R.charAt(63&(V=(h[p]<<16)+(h[p+1]<<8))>>18)),v.push(R.charAt(63&V>>12)),v.push(R.charAt(63&V>>6)),v.push("=")):h.length-p==1&&(v.push(R.charAt(63&(V=h[p]<<16)>>18)),v.push(R.charAt(63&V>>12)),v.push("==")),v.join("")},F=function(){for(var m=[],h=0;h<64;++h)m[R.charCodeAt(h)]=h;return m["=".charCodeAt(0)]=0,m}(),L=function(h){for(var p=0,v=[],w=0|h.length/4;0<w--;){var V=(F[h.charCodeAt(p)]<<18)+(F[h.charCodeAt(p+1)]<<12)+(F[h.charCodeAt(p+2)]<<6)+F[h.charCodeAt(p+3)];v.push(255&V>>16),v.push(255&V>>8),v.push(255&V),p+=4}return v&&("="==h.charAt(p-2)?(v.pop(),v.pop()):"="==h.charAt(p-1)&&v.pop()),v},S={encode:function(m){for(var h=[],p=0;p<m.length;++p)h.push(m.charCodeAt(p));return h},decode:function(m){for(var h=0;h<s.length;++h)a[h]=String.fromCharCode(a[h]);return a.join("")}},E.decodeArray=function(m){var h=L(m);return new Uint8Array(h)},E.encodeASCII=function(m){var h=S.encode(m);return b(h)},E.decodeASCII=function(m){var h=L(m);return S.decode(h)},E.encode=function(m){var h=y_encode(m);return b(h)},E.decode=function(m){var h=L(m);return y_decode(h)},M.decode=E.decode,M.decodeArray=E.decodeArray,M.encode=E.encode,M.encodeASCII=E.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(Ye,M,e){!function(y){"use strict";var E={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},R=function(C){var B=C;return E.hasOwnProperty(C)&&(B=E[C]),String.fromCharCode(B)},b=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},S={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(C){this.time=C},log:function(C,B){this.verboseLevel>=this.verboseFilter[C]&&console.log(this.time+" ["+C+"] "+B)}},w=function(C){for(var B=[],Y=0;Y<C.length;Y++)B.push(C[Y].toString(16));return B},V=function(C,B,Y,re,ae){this.foreground=C||"white",this.underline=B||!1,this.italics=Y||!1,this.background=re||"black",this.flash=ae||!1};V.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(C){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var re=B[Y];C.hasOwnProperty(re)&&(this[re]=C[re])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},copy:function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var O=function(C,B,Y,re,ae,Oe){this.uchar=C||" ",this.penState=new V(B,Y,re,ae,Oe)};O.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(C,B){this.uchar=C,this.penState.copy(B)},setPenState:function(C){this.penState.copy(C)},equals:function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},copy:function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var G=function(){this.chars=[];for(var C=0;C<F;C++)this.chars.push(new O);this.pos=0,this.currPenState=new V};G.prototype={equals:function(C){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(C.chars[Y])){B=!1;break}return B},copy:function(C){for(var B=0;B<F;B++)this.chars[B].copy(C.chars[B])},isEmpty:function(){for(var C=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){C=!1;break}return C},setCursor:function(C){this.pos!==C&&(this.pos=C),this.pos<0?(v.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(v.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(C){var B=this.pos+C;if(C>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(C){C>=144&&this.backSpace();var B=R(C);this.pos>=F?v.log("ERROR","Cannot insert "+C.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(C){var B;for(B=C;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var C=[],B=!0,Y=0;Y<F;Y++){var re=this.chars[Y].uchar;" "!==re&&(B=!1),C.push(re)}return B?"":C.join("")},setPenStyles:function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var C=0;C<b;C++)this.rows.push(new G);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var C=0;C<b;C++)this.rows[C].clear();this.currRow=14},equals:function(C){for(var B=!0,Y=0;Y<b;Y++)if(!this.rows[Y].equals(C.rows[Y])){B=!1;break}return B},copy:function(C){for(var B=0;B<b;B++)this.rows[B].copy(C.rows[B])},isEmpty:function(){for(var C=!0,B=0;B<b;B++)if(!this.rows[B].isEmpty()){C=!1;break}return C},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(C){this.rows[this.currRow].insertChar(C)},setPen:function(C){this.rows[this.currRow].setPenStyles(C)},moveCursor:function(C){this.rows[this.currRow].moveCursor(C)},setCursor:function(C){v.log("INFO","setCursor: "+C),this.rows[this.currRow].setCursor(C)},setPAC:function(C){v.log("INFO","pacData = "+JSON.stringify(C));var B=C.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==C.indent){var ae=Math.max(C.indent-1,0);Y.setCursor(C.indent),C.color=Y.chars[ae].penState.foreground}this.setPen({foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1})},setBkgData:function(C){v.log("INFO","bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},setRollUpRows:function(C){this.nrRollUpRows=C},rollUp:function(){if(null!==this.nrRollUpRows){v.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),v.log("INFO","Rolling up")}else v.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(C){C=C||!1;for(var B=[],Y="",ae=0;ae<b;ae++){var Oe=this.rows[ae].getTextString();Oe&&B.push(C?"Row "+(ae+1)+': "'+Oe+'"':Oe.trim())}return B.length>0&&(Y=C?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var P=function(C,B){this.chNr=C,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};P.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(C){this.outputFilter=C},setPAC:function(C){this.writeScreen.setPAC(C)},setBkgData:function(C){this.writeScreen.setBkgData(C)},setMode:function(C){C!==this.mode&&(this.mode=C,v.log("INFO","MODE="+C),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},insertChars:function(C){for(var B=0;B<C.length;B++)this.writeScreen.insertChar(C[B]);v.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(v.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){v.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){v.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){v.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(C){v.log("INFO","RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},cc_FON:function(){v.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){v.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){v.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){v.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){v.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){v.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){v.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(v.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,v.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(C){v.log("INFO","TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},cc_MIDROW:function(C){var B={flash:!1};if(B.underline=C%2==1,B.italics=C>=46,B.italics)B.foreground="white";else{var Y=Math.floor(C/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}v.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var C=v.time;null!==C&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(C,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:C):this.cueStartTime=C,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))}};var x=function(C,B,Y){this.field=C||1,this.outputs=[B,Y],this.channels=[new P(1,B),new P(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};x.prototype={getHandler:function(C){return this.channels[C].getHandler()},setHandler:function(C,B){this.channels[C].setHandler(B)},addData:function(C,B){var Y,re,ae,Oe=!1;this.lastTime=C,v.setTime(C);for(var z=0;z<B.length;z+=2)ae=127&B[z+1],(re=127&B[z])>=16&&re<=31&&re===this.lastCmdA&&ae===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,v.log("DEBUG","Repeated command ("+w([re,ae])+") is dropped")):0!==re||0!==ae?(v.log("DATA","["+w([B[z],B[z+1]])+"] -> ("+w([re,ae])+")"),(Y=this.parseCmd(re,ae))||(Y=this.parseMidrow(re,ae)),Y||(Y=this.parsePAC(re,ae)),Y||(Y=this.parseBackgroundAttributes(re,ae)),!Y&&(Oe=this.parseChars(re,ae))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Oe):v.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Oe?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log("WARNING","Couldn't parse cleaned data "+w([re,ae])+" orig: "+w([B[z],B[z+1]])))):this.dataCounters.padding+=2},parseCmd:function(C,B){var Y;if(!((20===C||21===C||28===C||29===C)&&32<=B&&B<=47||(23===C||31===C)&&33<=B&&B<=35))return!1;var Oe=this.channels[(Y=20===C||21===C||23===C?1:2)-1];return 20===C||21===C||28===C||29===C?32===B?Oe.cc_RCL():33===B?Oe.cc_BS():34===B?Oe.cc_AOF():35===B?Oe.cc_AON():36===B?Oe.cc_DER():37===B?Oe.cc_RU(2):38===B?Oe.cc_RU(3):39===B?Oe.cc_RU(4):40===B?Oe.cc_FON():41===B?Oe.cc_RDC():42===B?Oe.cc_TR():43===B?Oe.cc_RTD():44===B?Oe.cc_EDM():45===B?Oe.cc_CR():46===B?Oe.cc_ENM():47===B&&Oe.cc_EOC():Oe.cc_TO(B-32),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(C,B){var Y=null;if((17===C||25===C)&&32<=B&&B<=47){if((Y=17===C?1:2)!==this.currChNr)return v.log("ERROR","Mismatch channel in midrow parsing"),!1;var re=this.channels[Y-1];return re.insertChars([32]),re.cc_MIDROW(B),v.log("DEBUG","MIDROW ("+w([C,B])+")"),this.lastCmdA=C,this.lastCmdB=B,!0}return!1},parsePAC:function(C,B){var Y;if(!((17<=C&&C<=23||25<=C&&C<=31)&&64<=B&&B<=127||(16===C||24===C)&&64<=B&&B<=95))return!1;Y=C<=23?1:2;var z=this.interpretPAC(64<=B&&B<=95?1===Y?L[C]:m[C]:1===Y?S[C]:h[C],B);return this.channels[Y-1].setPAC(z),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(C,B){var Y,re={color:null,italics:!1,indent:null,underline:!1,row:C};return re.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?re.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(re.italics=!0,re.color="white"):re.indent=4*Math.floor((Y-16)/2),re},parseChars:function(C,B){var Y=null,re=null,ae=null;if(C>=25?(Y=2,ae=C-8):(Y=1,ae=C),17<=ae&&ae<=19){var z;v.log("INFO","Special char '"+R(z=17===ae?B+80:18===ae?B+112:B+144)+"' in channel "+Y),re=[z],this.lastCmdA=C,this.lastCmdB=B}else 32<=C&&C<=127&&(re=0===B?[C]:[C,B],this.lastCmdA=null,this.lastCmdB=null);if(re){var oe=w(re);v.log("DEBUG","Char codes =  "+oe.join(","))}return re},parseBackgroundAttributes:function(C,B){var Y,re;return!!((16===C||24===C)&&32<=B&&B<=47||(23===C||31===C)&&45<=B&&B<=47)&&(Y={},16===C||24===C?(re=Math.floor((B-32)/2),Y.background=p[re],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(C<24?1:2)-1].setBkgData(Y),this.lastCmdA=C,this.lastCmdB=B,!0)},reset:function(){for(var C=0;C<this.channels.length;C++)this.channels[C]&&this.channels[C].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(C){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(C)}};y.logger=v,y.PenState=V,y.CaptionScreen=k,y.Cea608Parser=x,y.findCea608Nalus=function(C,B,Y){for(var re=0,ae=B,z=[],oe=function(Ae,se,De,Me){if(4!==Ae||se<8)return null;var _e=De.getUint8(Me),Le=De.getUint16(Me+1),Ie=De.getUint32(Me+3),we=De.getUint8(Me+7);return 181==_e&&49==Le&&1195456820==Ie&&3==we};ae<B+Y;){if(re=C.getUint32(ae),6==(31&C.getUint8(ae+4)))for(var H=ae+5,me=-1;H<ae+4+re-1;){me=0;for(var ne=255;255===ne;)me+=ne=C.getUint8(H),H++;var fe=0;for(ne=255;255===ne;)fe+=ne=C.getUint8(H),H++;oe(me,fe,C,H)&&z.push([H,fe]),H+=fe}ae+=re+4}return z},y.extractCea608DataFromRange=function(C,B){var Y=B[0],re=[[],[]],ae=31&C.getUint8(Y+=8);Y+=2;for(var Oe=0;Oe<ae;Oe++){var z=C.getUint8(Y),oe=4&z,H=3&z;Y++;var me=C.getUint8(Y);Y++;var ne=C.getUint8(Y);Y++,oe&&(127&me)+(127&ne)!=0&&(0===H?(re[0].push(me),re[0].push(ne)):1===H&&(re[1].push(me),re[1].push(ne)))}return re}}(M)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M),M.default=function y(E){E=E||{},function b(){void 0===E.escapeMode&&(E.escapeMode=!0),void 0===E.attributePrefix&&(E.attributePrefix="_"),E.arrayAccessForm=E.arrayAccessForm||"none",E.emptyNodeForm=E.emptyNodeForm||"text",void 0===E.enableToStringFunc&&(E.enableToStringFunc=!0),E.arrayAccessFormPaths=E.arrayAccessFormPaths||[],void 0===E.skipEmptyTextNodesForObj&&(E.skipEmptyTextNodesForObj=!0),void 0===E.stripWhitespaces&&(E.stripWhitespaces=!0),E.datetimeAccessFormPaths=E.datetimeAccessFormPaths||[],void 0===E.useDoubleQuotes&&(E.useDoubleQuotes=!1),E.xmlElementsFilter=E.xmlElementsFilter||[],E.jsonPropertiesFilter=E.jsonPropertiesFilter||[],void 0===E.keepCData&&(E.keepCData=!1),void 0===E.ignoreRoot&&(E.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function S(oe){var H=oe.localName;return null==H&&(H=oe.baseName),(null==H||""==H)&&(H=oe.nodeName),H}function h(oe){return"string"==typeof oe?oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):oe}function v(oe,H,me,ne){for(var fe=0;fe<oe.length;fe++){var Ee=oe[fe];if("string"==typeof Ee){if(Ee==ne)break}else if(Ee instanceof RegExp){if(Ee.test(ne))break}else if("function"==typeof Ee&&Ee(H,me,ne))break}return fe!=oe.length}function w(oe,H,me){"property"===E.arrayAccessForm&&(oe[H+"_asArray"]=oe[H]instanceof Array?oe[H]:[oe[H]]),!(oe[H]instanceof Array)&&E.arrayAccessFormPaths.length>0&&v(E.arrayAccessFormPaths,oe,H,me)&&(oe[H]=[oe[H]])}function V(oe){var H=oe.split(/[-T:+Z]/g),me=new Date(H[0],H[1]-1,H[2]),ne=H[5].split(".");if(me.setHours(H[3],H[4],ne[0]),ne.length>1&&me.setMilliseconds(ne[1]),H[6]&&H[7]){var fe=60*H[6]+Number(H[7]);fe=0+("-"==(/\d\d-\d\d:\d\d$/.test(oe)?"-":"+")?-1*fe:fe),me.setMinutes(me.getMinutes()-fe-me.getTimezoneOffset())}else-1!==oe.indexOf("Z",oe.length-1)&&(me=new Date(Date.UTC(me.getFullYear(),me.getMonth(),me.getDate(),me.getHours(),me.getMinutes(),me.getSeconds(),me.getMilliseconds())));return me}function G(oe,H,me,ne){return!(H==F.ELEMENT_NODE&&E.xmlElementsFilter.length>0)||v(E.xmlElementsFilter,oe,me,ne)}function k(oe,H){if(oe.nodeType==F.DOCUMENT_NODE){for(var me=new Object,ne=oe.childNodes,fe=0;fe<ne.length;fe++)(Ee=ne[fe]).nodeType==F.ELEMENT_NODE&&(E.ignoreRoot?me=k(Ee):(me={})[Ae=S(Ee)]=k(Ee));return me}if(oe.nodeType==F.ELEMENT_NODE){(me=new Object).__cnt=0;var se=[];for(ne=oe.childNodes,fe=0;fe<ne.length;fe++){var Ee,Ae=S(Ee=ne[fe]);if(Ee.nodeType!=F.COMMENT_NODE){var De=H+"."+Ae;if(G(me,Ee.nodeType,Ae,De))if(me.__cnt++,null==me[Ae]){var Me=k(Ee,De);("#text"!=Ae||/[^\s]/.test(Me))&&((_e={})[Ae]=Me,se.push(_e)),me[Ae]=Me,w(me,Ae,De)}else{var _e;null!=me[Ae]&&(me[Ae]instanceof Array||(me[Ae]=[me[Ae]],w(me,Ae,De))),Me=k(Ee,De),("#text"!=Ae||/[^\s]/.test(Me))&&((_e={})[Ae]=Me,se.push(_e)),me[Ae][me[Ae].length]=Me}}}me.__children=se;for(var Le=S(oe),Ie=0;Ie<oe.attributes.length;Ie++){var we=oe.attributes[Ie];me.__cnt++;for(var Fe=we.value,We=0,Ue=E.matchers.length;We<Ue;We++){var xe=E.matchers[We];xe.test(we,Le)&&(Fe=xe.converter(we.value))}me[E.attributePrefix+we.name]=Fe}var be=function m(oe){return oe.prefix}(oe);return null!=be&&""!=be&&(me.__cnt++,me.__prefix=be),null!=me["#text"]&&(me.__text=me["#text"],me.__text instanceof Array&&(me.__text=me.__text.join("\n")),E.stripWhitespaces&&(me.__text=me.__text.trim()),delete me["#text"],"property"==E.arrayAccessForm&&delete me["#text_asArray"],me.__text=function O(oe,H,me){if(E.datetimeAccessFormPaths.length>0){var ne=me.split(".#")[0];return v(E.datetimeAccessFormPaths,oe,H,ne)?V(oe):oe}return oe}(me.__text,Ae,H+"."+Ae)),null!=me["#cdata-section"]&&(me.__cdata=me["#cdata-section"],delete me["#cdata-section"],"property"==E.arrayAccessForm&&delete me["#cdata-section_asArray"]),0==me.__cnt&&"text"==E.emptyNodeForm?me="":1==me.__cnt&&null!=me.__text?me=me.__text:1!=me.__cnt||null==me.__cdata||E.keepCData?me.__cnt>1&&null!=me.__text&&E.skipEmptyTextNodesForObj&&(E.stripWhitespaces&&""==me.__text||""==me.__text.trim())&&delete me.__text:me=me.__cdata,delete me.__cnt,E.enableToStringFunc&&(null!=me.__text||null!=me.__cdata)&&(me.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),me}if(oe.nodeType==F.TEXT_NODE||oe.nodeType==F.CDATA_SECTION_NODE)return oe.nodeValue}function P(oe,H,me,ne){var fe="<"+(null!=oe&&null!=oe.__prefix?oe.__prefix+":":"")+H;if(null!=me)for(var Ee=0;Ee<me.length;Ee++){var Ae=me[Ee],se=oe[Ae];E.escapeMode&&(se=h(se)),fe+=" "+Ae.substr(E.attributePrefix.length)+"=",fe+=E.useDoubleQuotes?'"'+se+'"':"'"+se+"'"}return fe+(ne?"/>":">")}function x(oe,H){return"</"+(null!=oe.__prefix?oe.__prefix+":":"")+H+">"}function T(oe,H){return!!("property"==E.arrayAccessForm&&function I(oe,H){return-1!==oe.indexOf(H,oe.length-H.length)}(H.toString(),"_asArray")||0==H.toString().indexOf(E.attributePrefix)||0==H.toString().indexOf("__")||oe[H]instanceof Function)}function N(oe){var H=0;if(oe instanceof Object)for(var me in oe)T(oe,me)||H++;return H}function C(oe,H,me){return 0==E.jsonPropertiesFilter.length||""==me||v(E.jsonPropertiesFilter,oe,H,me)}function B(oe){var H=[];if(oe instanceof Object)for(var me in oe)-1==me.toString().indexOf("__")&&0==me.toString().indexOf(E.attributePrefix)&&H.push(me);return H}function re(oe){var H="";return oe instanceof Object?H+=function Y(oe){var H="";return null!=oe.__cdata&&(H+="<![CDATA["+oe.__cdata+"]]>"),null!=oe.__text&&(H+=E.escapeMode?h(oe.__text):oe.__text),H}(oe):null!=oe&&(H+=E.escapeMode?h(oe):oe),H}function ae(oe,H){return""===oe?H:oe+"."+H}function Oe(oe,H,me,ne){var fe="";if(0==oe.length)fe+=P(oe,H,me,!0);else for(var Ee=0;Ee<oe.length;Ee++)fe+=P(oe[Ee],H,B(oe[Ee]),!1),fe+=z(oe[Ee],ae(ne,H)),fe+=x(oe[Ee],H);return fe}function z(oe,H){var me="";if(N(oe)>0)for(var fe in oe)if(!T(oe,fe)&&(""==H||C(oe,fe,ae(H,fe)))){var Ee=oe[fe],Ae=B(Ee);null==Ee||null==Ee?me+=P(Ee,fe,Ae,!0):Ee instanceof Object?Ee instanceof Array?me+=Oe(Ee,fe,Ae,H):Ee instanceof Date?(me+=P(Ee,fe,Ae,!1),me+=Ee.toISOString(),me+=x(Ee,fe)):N(Ee)>0||null!=Ee.__text||null!=Ee.__cdata?(me+=P(Ee,fe,Ae,!1),me+=z(Ee,ae(H,fe)),me+=x(Ee,fe)):me+=P(Ee,fe,Ae,!0):(me+=P(Ee,fe,Ae,!1),me+=re(Ee),me+=x(Ee,fe))}return me+re(oe)}this.parseXmlString=function(oe){var me;if(window.ActiveXObject||window,void 0===oe)return null;if(window.DOMParser){var ne=new window.DOMParser;try{(me=ne.parseFromString(oe,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(me=null)}catch{me=null}}else 0==oe.indexOf("<?")&&(oe=oe.substr(oe.indexOf("?>")+2)),(me=new ActiveXObject("Microsoft.XMLDOM")).async="false",me.loadXML(oe);return me},this.asArray=function(oe){return void 0===oe||null==oe?[]:oe instanceof Array?oe:[oe]},this.toXmlDateTime=function(oe){return oe instanceof Date?oe.toISOString():"number"==typeof oe?new Date(oe).toISOString():null},this.asDateTime=function(oe){return"string"==typeof oe?V(oe):oe},this.xml2json=function(oe){return k(oe)},this.xml_str2json=function(oe){var H=this.parseXmlString(oe);return null!=H?this.xml2json(H):null},this.json2xml_str=function(oe){return z(oe,"")},this.json2xml=function(oe){var H=this.json2xml_str(oe);return this.parseXmlString(H)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");e.d(M,"MediaPlayer",function(){return y.MediaPlayer});var E=e(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");e.d(M,"supportsMediaSource",function(){return E.supportsMediaSource});var R=e(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");e.d(M,"MetricsReporting",function(){return R.default});var b=e(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");e.d(M,"Protection",function(){return b.default});var F=e(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");e.d(M,"MediaPlayerFactory",function(){return F.default});var L=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(M,"Debug",function(){return L.default}),dashjs.Protection=b.default,dashjs.MetricsReporting=R.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=E.supportsMediaSource,M.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(Ye,M,e){"use strict";e.r(M),function(y){var E=e(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");e.d(M,"MediaPlayer",function(){return E.default});var R=e(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");e.d(M,"FactoryMaker",function(){return R.default});var b=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(M,"Debug",function(){return b.default});var F=e(
/*! ./src/core/Version */
"./src/core/Version.js"),m=(e(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||y),h=m.dashjs;h||(h=m.dashjs={}),h.MediaPlayer=E.default,h.FactoryMaker=R.default,h.Debug=b.default,h.Version=Object(F.getVersionString)(),M.default=h}.call(this,e(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(Ye,M,e){"use strict";M.byteLength=function m(O){var G=S(O),P=G[1];return 3*(G[0]+P)/4-P},M.toByteArray=function p(O){var G,C,k=S(O),P=k[0],x=k[1],I=new R(function h(O,G,k){return 3*(G+k)/4-k}(0,P,x)),T=0,N=x>0?P-4:P;for(C=0;C<N;C+=4)G=E[O.charCodeAt(C)]<<18|E[O.charCodeAt(C+1)]<<12|E[O.charCodeAt(C+2)]<<6|E[O.charCodeAt(C+3)],I[T++]=G>>16&255,I[T++]=G>>8&255,I[T++]=255&G;return 2===x&&(G=E[O.charCodeAt(C)]<<2|E[O.charCodeAt(C+1)]>>4,I[T++]=255&G),1===x&&(G=E[O.charCodeAt(C)]<<10|E[O.charCodeAt(C+1)]<<4|E[O.charCodeAt(C+2)]>>2,I[T++]=G>>8&255,I[T++]=255&G),I},M.fromByteArray=function V(O){for(var G,k=O.length,P=k%3,x=[],I=16383,T=0,N=k-P;T<N;T+=I)x.push(w(O,T,T+I>N?N:T+I));return 1===P?x.push(y[(G=O[k-1])>>2]+y[G<<4&63]+"=="):2===P&&x.push(y[(G=(O[k-2]<<8)+O[k-1])>>10]+y[G>>4&63]+y[G<<2&63]+"="),x.join("")};for(var y=[],E=[],R=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)y[F]=b[F],E[b.charCodeAt(F)]=F;function S(O){var G=O.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=O.indexOf("=");return-1===k&&(k=G),[k,k===G?0:4-k%4]}function v(O){return y[O>>18&63]+y[O>>12&63]+y[O>>6&63]+y[63&O]}function w(O,G,k){for(var x=[],I=G;I<k;I+=3)x.push(v((O[I]<<16&16711680)+(O[I+1]<<8&65280)+(255&O[I+2])));return x.join("")}E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(Ye,M,e){"use strict";function b(L,S){return function m(h,p){for(var G,k,P,v=F(h,"tag"),w=F(p??"*","range"),V=[],O=-1;++O<w.length;)if(G=w[O].toLowerCase(),S||"*"!==G){for(k=-1,P=[];++k<v.length;)if(L(v[k].toLowerCase(),G)){if(!S)return v[k];V.push(v[k])}else P.push(v[k]);v=P}return S?V:void 0}}function F(L,S){var m=L&&"string"==typeof L?[L]:L;if(!m||"object"!=typeof m||!("length"in m))throw new Error("Invalid "+S+" `"+m+"`, expected non-empty string");return m}M.basicFilter=b(function y(L,S){return"*"===S||L===S||L.indexOf(S+"-")>-1},!0),M.extendedFilter=b(function E(L,S){var m=L.split("-"),h=S.split("-"),p=0,v=0;if("*"!==h[v]&&m[p]!==h[v])return!1;for(p++,v++;v<h.length;)if("*"!==h[v]){if(!m[p])return!1;if(m[p]!==h[v]){if(1===m[p].length)return!1;p++}else p++,v++}else v++;return!0},!0),M.lookup=b(function R(L,S){for(var h,m=S;;){if("*"===m||L===m)return!0;if((h=m.lastIndexOf("-"))<0)return!1;"-"===m.charAt(h-2)&&(h-=2),m=m.slice(0,h)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=e(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(Ye){Ye.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(Ye){Ye.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=e(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),E=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),R=e(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),b=e(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=e(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=e(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Ye.exports=function p(G,k){var N,P=k||{},x=y.parse(String(G||"").toLowerCase(),P),I=y.stringify(x),T=-1;if(!I)return I;for(;++T<R.length;)E.extendedFilter(I,R[T].from).length&&(v(x,R[T].from,R[T].to),I=y.stringify(x));for(T=-1;++T<b.length;)w(x,b[T].from.field,b[T].from.value)&&V(x,b[T].to.field,b[T].to.value);for(I=y.stringify(Object.assign({},x,h)),T=-1;++T<F.length;)I===F[T]&&(v(x,F[T],F[T].split("-").slice(0,-1).join("-")),I=y.stringify(Object.assign({},x,h)));if(x.extensions.sort(O),P.warning)for(N in L)S.call(L[N],x[N])&&P.warning("Deprecated "+N+" `"+x[N]+"`, expected one of `"+L[N][x[N]].join("`, `")+"`",null,7);return x.script&&(x.script=x.script.charAt(0).toUpperCase()+x.script.slice(1)),x.region&&(x.region=x.region.toUpperCase()),y.stringify(x)};var S={}.hasOwnProperty,m=new Intl.Collator,h={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function v(G,k,P){var N,x=y.parse(k),I=y.parse(P),T=[];for(N in x)x[N]&&x[N].length&&w(G,N,x[N])&&T.push(N);for(N in I)I[N]&&I[N].length&&(T.indexOf(N)>-1||!G[N]||!G[N].length)&&V(G,N,I[N])}function w(G,k,P){var I,T,N,C,x=!1;if(P){if(T=I=G[k],I&&"object"==typeof I)for(T=[],N=-1;++N<I.length;)P.indexOf(C=I[N])<0?T.push(C):x=!0;else I===P&&(T=null,x=!0);G[k]=T}return x}function V(G,k,P){var I,T,N,x=G[k];if(x&&"object"==typeof x)for(I=[].concat(P),T=-1;++T<I.length;)x.indexOf(N=I[T])<0&&x.push(N);else G[k]=P}function O(G,k){return m.compare(G.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(Ye){Ye.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(Ye){Ye.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ye,M,e){"use strict";M.parse=e(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),M.stringify=e(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(Ye){Ye.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=e(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),E=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),R=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),b=e(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=e(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Ye.exports=function S(h,p){var k,P,x,v=p||{},w={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},V=String(h),O=V.toLowerCase(),G=0;if(null==h)throw new Error("Expected string, got `"+h+"`");if(L.call(F,O))return(null==v.normalize||v.normalize)&&F[O]?S(F[O]):(w[-1===b.indexOf(O)?"irregular":"regular"]=V,w);for(;E(O.charCodeAt(G))&&G<9;)G++;if(G>1&&G<9){if(w.language=V.slice(0,G),G<4)for(P=0;45===O.charCodeAt(G)&&E(O.charCodeAt(G+1))&&E(O.charCodeAt(G+2))&&E(O.charCodeAt(G+3))&&!E(O.charCodeAt(G+4));){if(P>2)return I(G,3,"Too many extended language subtags, expected at most 3 subtags");w.extendedLanguageSubtags.push(V.slice(G+1,G+4)),G+=4,P++}for(45===O.charCodeAt(G)&&E(O.charCodeAt(G+1))&&E(O.charCodeAt(G+2))&&E(O.charCodeAt(G+3))&&E(O.charCodeAt(G+4))&&!E(O.charCodeAt(G+5))&&(w.script=V.slice(G+1,G+5),G+=5),45===O.charCodeAt(G)&&(E(O.charCodeAt(G+1))&&E(O.charCodeAt(G+2))&&!E(O.charCodeAt(G+3))?(w.region=V.slice(G+1,G+3),G+=3):R(O.charCodeAt(G+1))&&R(O.charCodeAt(G+2))&&R(O.charCodeAt(G+3))&&!R(O.charCodeAt(G+4))&&(w.region=V.slice(G+1,G+4),G+=4));45===O.charCodeAt(G);){for(x=k=G+1;y(O.charCodeAt(x));){if(x-k>7)return I(x,1,"Too long variant, expected at most 8 characters");x++}if(!(x-k>4||x-k>3&&R(O.charCodeAt(k))))break;w.variants.push(V.slice(k,x)),G=x}for(;45===O.charCodeAt(G)&&120!==O.charCodeAt(G+1)&&y(O.charCodeAt(G+1))&&45===O.charCodeAt(G+2)&&y(O.charCodeAt(G+3));){for(x=G+2,P=0;45===O.charCodeAt(x)&&y(O.charCodeAt(x+1))&&y(O.charCodeAt(x+2));)for(x=(k=x+1)+2,P++;y(O.charCodeAt(x));){if(x-k>7)return I(x,2,"Too long extension, expected at most 8 characters");x++}if(!P)return I(x,4,"Empty extension, extensions must have at least 2 characters of content");w.extensions.push({singleton:V.charAt(G+1),extensions:V.slice(G+3,x).split("-")}),G=x}}else G=0;if(0===G&&120===O.charCodeAt(G)||45===O.charCodeAt(G)&&120===O.charCodeAt(G+1))for(x=G=G?G+2:1;45===O.charCodeAt(x)&&y(O.charCodeAt(x+1));){for(x=k=G+1;y(O.charCodeAt(x));){if(x-k>7)return I(x,5,"Too long private-use area, expected at most 8 characters");x++}w.privateuse.push(V.slice(G+1,x)),G=x}return G!==V.length?I(G,6,"Found superfluous content after tag"):w;function I(T,N,C){return v.warning&&v.warning(C,N,T),v.forgiving?w:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(Ye){Ye.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=function y(E){var F,L,S,R=E||{},b=[];if(R.irregular||R.regular)return R.irregular||R.regular;if(R.language)for(b=b.concat(R.language,R.extendedLanguageSubtags||[],R.script||[],R.region||[],R.variants||[]),F=R.extensions||[],L=-1;++L<F.length;)(S=F[L]).singleton&&S.extensions&&S.extensions.length&&(b=b.concat(S.singleton,S.extensions));return R.privateuse&&R.privateuse.length&&(b=b.concat("x",R.privateuse)),b.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ye,M,e){"use strict";(function(y){var E=e(
/*! base64-js */
"./node_modules/base64-js/index.js"),R=e(
/*! ieee754 */
"./node_modules/ieee754/index.js"),b=e(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function S(X,J){if(L()<J)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(X=new Uint8Array(J)).__proto__=m.prototype:(null===X&&(X=new m(J)),X.length=J),X}function m(X,J,Q){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(X,J,Q);if("number"==typeof X){if("string"==typeof J)throw new Error("If encoding is specified then the first argument must be a string");return w(this,X)}return h(this,X,J,Q)}function h(X,J,Q,de){if("number"==typeof J)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&J instanceof ArrayBuffer?function G(X,J,Q,de){if(Q<0||J.byteLength<Q)throw new RangeError("'offset' is out of bounds");if(J.byteLength<Q+(de||0))throw new RangeError("'length' is out of bounds");return J=void 0===Q&&void 0===de?new Uint8Array(J):void 0===de?new Uint8Array(J,Q):new Uint8Array(J,Q,de),m.TYPED_ARRAY_SUPPORT?(X=J).__proto__=m.prototype:X=O(X,J),X}(X,J,Q,de):"string"==typeof J?function V(X,J,Q){if(("string"!=typeof Q||""===Q)&&(Q="utf8"),!m.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');var de=0|I(J,Q),pe=(X=S(X,de)).write(J,Q);return pe!==de&&(X=X.slice(0,pe)),X}(X,J,Q):function k(X,J){if(m.isBuffer(J)){var Q=0|P(J.length);return 0===(X=S(X,Q)).length||J.copy(X,0,0,Q),X}if(J){if(typeof ArrayBuffer<"u"&&J.buffer instanceof ArrayBuffer||"length"in J)return"number"!=typeof J.length||function te(X){return X!=X}(J.length)?S(X,0):O(X,J);if("Buffer"===J.type&&b(J.data))return O(X,J.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(X,J)}function p(X){if("number"!=typeof X)throw new TypeError('"size" argument must be a number');if(X<0)throw new RangeError('"size" argument must not be negative')}function w(X,J){if(p(J),X=S(X,J<0?0:0|P(J)),!m.TYPED_ARRAY_SUPPORT)for(var Q=0;Q<J;++Q)X[Q]=0;return X}function O(X,J){var Q=J.length<0?0:0|P(J.length);X=S(X,Q);for(var de=0;de<Q;de+=1)X[de]=255&J[de];return X}function P(X){if(X>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|X}function I(X,J){if(m.isBuffer(X))return X.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(X)||X instanceof ArrayBuffer))return X.byteLength;"string"!=typeof X&&(X=""+X);var Q=X.length;if(0===Q)return 0;for(var de=!1;;)switch(J){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":case void 0:return ie(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return $(X).length;default:if(de)return ie(X).length;J=(""+J).toLowerCase(),de=!0}}function T(X,J,Q){var de=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===Q||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(J>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return se(this,J,Q);case"utf8":case"utf-8":return me(this,J,Q);case"ascii":return Ee(this,J,Q);case"latin1":case"binary":return Ae(this,J,Q);case"base64":return H(this,J,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,J,Q);default:if(de)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),de=!0}}function N(X,J,Q){var de=X[J];X[J]=X[Q],X[Q]=de}function C(X,J,Q,de,pe){if(0===X.length)return-1;if("string"==typeof Q?(de=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),Q=+Q,isNaN(Q)&&(Q=pe?0:X.length-1),Q<0&&(Q=X.length+Q),Q>=X.length){if(pe)return-1;Q=X.length-1}else if(Q<0){if(!pe)return-1;Q=0}if("string"==typeof J&&(J=m.from(J,de)),m.isBuffer(J))return 0===J.length?-1:B(X,J,Q,de,pe);if("number"==typeof J)return J&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(X,J,Q):Uint8Array.prototype.lastIndexOf.call(X,J,Q):B(X,[J],Q,de,pe);throw new TypeError("val must be string, number or Buffer")}function B(X,J,Q,de,pe){var Ze,le=1,Te=X.length,Ve=J.length;if(void 0!==de&&("ucs2"===(de=String(de).toLowerCase())||"ucs-2"===de||"utf16le"===de||"utf-16le"===de)){if(X.length<2||J.length<2)return-1;le=2,Te/=2,Ve/=2,Q/=2}function ke(yt,ut){return 1===le?yt[ut]:yt.readUInt16BE(ut*le)}if(pe){var qe=-1;for(Ze=Q;Ze<Te;Ze++)if(ke(X,Ze)===ke(J,-1===qe?0:Ze-qe)){if(-1===qe&&(qe=Ze),Ze-qe+1===Ve)return qe*le}else-1!==qe&&(Ze-=Ze-qe),qe=-1}else for(Q+Ve>Te&&(Q=Te-Ve),Ze=Q;Ze>=0;Ze--){for(var He=!0,ot=0;ot<Ve;ot++)if(ke(X,Ze+ot)!==ke(J,ot)){He=!1;break}if(He)return Ze}return-1}function Y(X,J,Q,de){Q=Number(Q)||0;var pe=X.length-Q;de?(de=Number(de))>pe&&(de=pe):de=pe;var le=J.length;if(le%2!=0)throw new TypeError("Invalid hex string");de>le/2&&(de=le/2);for(var Te=0;Te<de;++Te){var Ve=parseInt(J.substr(2*Te,2),16);if(isNaN(Ve))return Te;X[Q+Te]=Ve}return Te}function re(X,J,Q,de){return W(ie(J,X.length-Q),X,Q,de)}function ae(X,J,Q,de){return W(function he(X){for(var J=[],Q=0;Q<X.length;++Q)J.push(255&X.charCodeAt(Q));return J}(J),X,Q,de)}function Oe(X,J,Q,de){return ae(X,J,Q,de)}function z(X,J,Q,de){return W($(J),X,Q,de)}function oe(X,J,Q,de){return W(function q(X,J){for(var Q,de,le=[],Te=0;Te<X.length&&!((J-=2)<0);++Te)de=(Q=X.charCodeAt(Te))>>8,le.push(Q%256),le.push(de);return le}(J,X.length-Q),X,Q,de)}function H(X,J,Q){return E.fromByteArray(0===J&&Q===X.length?X:X.slice(J,Q))}function me(X,J,Q){Q=Math.min(X.length,Q);for(var de=[],pe=J;pe<Q;){var ke,Ze,qe,He,le=X[pe],Te=null,Ve=le>239?4:le>223?3:le>191?2:1;if(pe+Ve<=Q)switch(Ve){case 1:le<128&&(Te=le);break;case 2:128==(192&(ke=X[pe+1]))&&(He=(31&le)<<6|63&ke)>127&&(Te=He);break;case 3:Ze=X[pe+2],128==(192&(ke=X[pe+1]))&&128==(192&Ze)&&(He=(15&le)<<12|(63&ke)<<6|63&Ze)>2047&&(He<55296||He>57343)&&(Te=He);break;case 4:Ze=X[pe+2],qe=X[pe+3],128==(192&(ke=X[pe+1]))&&128==(192&Ze)&&128==(192&qe)&&(He=(15&le)<<18|(63&ke)<<12|(63&Ze)<<6|63&qe)>65535&&He<1114112&&(Te=He)}null===Te?(Te=65533,Ve=1):Te>65535&&(de.push((Te-=65536)>>>10&1023|55296),Te=56320|1023&Te),de.push(Te),pe+=Ve}return function fe(X){var J=X.length;if(J<=ne)return String.fromCharCode.apply(String,X);for(var Q="",de=0;de<J;)Q+=String.fromCharCode.apply(String,X.slice(de,de+=ne));return Q}(de)}M.Buffer=m,M.SlowBuffer=function x(X){return+X!=X&&(X=0),m.alloc(+X)},M.INSPECT_MAX_BYTES=50,m.TYPED_ARRAY_SUPPORT=void 0!==y.TYPED_ARRAY_SUPPORT?y.TYPED_ARRAY_SUPPORT:function F(){try{var X=new Uint8Array(1);return X.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===X.foo()&&"function"==typeof X.subarray&&0===X.subarray(1,1).byteLength}catch{return!1}}(),M.kMaxLength=L(),m.poolSize=8192,m._augment=function(X){return X.__proto__=m.prototype,X},m.from=function(X,J,Q){return h(null,X,J,Q)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0})),m.alloc=function(X,J,Q){return function v(X,J,Q,de){return p(J),J<=0?S(X,J):void 0!==Q?"string"==typeof de?S(X,J).fill(Q,de):S(X,J).fill(Q):S(X,J)}(null,X,J,Q)},m.allocUnsafe=function(X){return w(null,X)},m.allocUnsafeSlow=function(X){return w(null,X)},m.isBuffer=function(J){return!(null==J||!J._isBuffer)},m.compare=function(J,Q){if(!m.isBuffer(J)||!m.isBuffer(Q))throw new TypeError("Arguments must be Buffers");if(J===Q)return 0;for(var de=J.length,pe=Q.length,le=0,Te=Math.min(de,pe);le<Te;++le)if(J[le]!==Q[le]){de=J[le],pe=Q[le];break}return de<pe?-1:pe<de?1:0},m.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(J,Q){if(!b(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return m.alloc(0);var de;if(void 0===Q)for(Q=0,de=0;de<J.length;++de)Q+=J[de].length;var pe=m.allocUnsafe(Q),le=0;for(de=0;de<J.length;++de){var Te=J[de];if(!m.isBuffer(Te))throw new TypeError('"list" argument must be an Array of Buffers');Te.copy(pe,le),le+=Te.length}return pe},m.byteLength=I,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<J;Q+=2)N(this,Q,Q+1);return this},m.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<J;Q+=4)N(this,Q,Q+3),N(this,Q+1,Q+2);return this},m.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<J;Q+=8)N(this,Q,Q+7),N(this,Q+1,Q+6),N(this,Q+2,Q+5),N(this,Q+3,Q+4);return this},m.prototype.toString=function(){var J=0|this.length;return 0===J?"":0===arguments.length?me(this,0,J):T.apply(this,arguments)},m.prototype.equals=function(J){if(!m.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===m.compare(this,J)},m.prototype.inspect=function(){var J="",Q=M.INSPECT_MAX_BYTES;return this.length>0&&(J=this.toString("hex",0,Q).match(/.{2}/g).join(" "),this.length>Q&&(J+=" ... ")),"<Buffer "+J+">"},m.prototype.compare=function(J,Q,de,pe,le){if(!m.isBuffer(J))throw new TypeError("Argument must be a Buffer");if(void 0===Q&&(Q=0),void 0===de&&(de=J?J.length:0),void 0===pe&&(pe=0),void 0===le&&(le=this.length),Q<0||de>J.length||pe<0||le>this.length)throw new RangeError("out of range index");if(pe>=le&&Q>=de)return 0;if(pe>=le)return-1;if(Q>=de)return 1;if(this===J)return 0;for(var Te=(le>>>=0)-(pe>>>=0),Ve=(de>>>=0)-(Q>>>=0),ke=Math.min(Te,Ve),Ze=this.slice(pe,le),qe=J.slice(Q,de),He=0;He<ke;++He)if(Ze[He]!==qe[He]){Te=Ze[He],Ve=qe[He];break}return Te<Ve?-1:Ve<Te?1:0},m.prototype.includes=function(J,Q,de){return-1!==this.indexOf(J,Q,de)},m.prototype.indexOf=function(J,Q,de){return C(this,J,Q,de,!0)},m.prototype.lastIndexOf=function(J,Q,de){return C(this,J,Q,de,!1)},m.prototype.write=function(J,Q,de,pe){if(void 0===Q)pe="utf8",de=this.length,Q=0;else if(void 0===de&&"string"==typeof Q)pe=Q,de=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q|=0,isFinite(de)?(de|=0,void 0===pe&&(pe="utf8")):(pe=de,de=void 0)}var le=this.length-Q;if((void 0===de||de>le)&&(de=le),J.length>0&&(de<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");for(var Te=!1;;)switch(pe){case"hex":return Y(this,J,Q,de);case"utf8":case"utf-8":return re(this,J,Q,de);case"ascii":return ae(this,J,Q,de);case"latin1":case"binary":return Oe(this,J,Q,de);case"base64":return z(this,J,Q,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,J,Q,de);default:if(Te)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Te=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ne=4096;function Ee(X,J,Q){var de="";Q=Math.min(X.length,Q);for(var pe=J;pe<Q;++pe)de+=String.fromCharCode(127&X[pe]);return de}function Ae(X,J,Q){var de="";Q=Math.min(X.length,Q);for(var pe=J;pe<Q;++pe)de+=String.fromCharCode(X[pe]);return de}function se(X,J,Q){var de=X.length;(!J||J<0)&&(J=0),(!Q||Q<0||Q>de)&&(Q=de);for(var pe="",le=J;le<Q;++le)pe+=K(X[le]);return pe}function De(X,J,Q){for(var de=X.slice(J,Q),pe="",le=0;le<de.length;le+=2)pe+=String.fromCharCode(de[le]+256*de[le+1]);return pe}function Me(X,J,Q){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+J>Q)throw new RangeError("Trying to access beyond buffer length")}function _e(X,J,Q,de,pe,le){if(!m.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>pe||J<le)throw new RangeError('"value" argument is out of bounds');if(Q+de>X.length)throw new RangeError("Index out of range")}function Le(X,J,Q,de){J<0&&(J=65535+J+1);for(var pe=0,le=Math.min(X.length-Q,2);pe<le;++pe)X[Q+pe]=(J&255<<8*(de?pe:1-pe))>>>8*(de?pe:1-pe)}function Ie(X,J,Q,de){J<0&&(J=4294967295+J+1);for(var pe=0,le=Math.min(X.length-Q,4);pe<le;++pe)X[Q+pe]=J>>>8*(de?pe:3-pe)&255}function we(X,J,Q,de,pe,le){if(Q+de>X.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function Fe(X,J,Q,de,pe){return pe||we(X,0,Q,4),R.write(X,J,Q,de,23,4),Q+4}function We(X,J,Q,de,pe){return pe||we(X,0,Q,8),R.write(X,J,Q,de,52,8),Q+8}m.prototype.slice=function(J,Q){var pe,de=this.length;if((J=~~J)<0?(J+=de)<0&&(J=0):J>de&&(J=de),(Q=void 0===Q?de:~~Q)<0?(Q+=de)<0&&(Q=0):Q>de&&(Q=de),Q<J&&(Q=J),m.TYPED_ARRAY_SUPPORT)(pe=this.subarray(J,Q)).__proto__=m.prototype;else{var le=Q-J;pe=new m(le,void 0);for(var Te=0;Te<le;++Te)pe[Te]=this[Te+J]}return pe},m.prototype.readUIntLE=function(J,Q,de){J|=0,Q|=0,de||Me(J,Q,this.length);for(var pe=this[J],le=1,Te=0;++Te<Q&&(le*=256);)pe+=this[J+Te]*le;return pe},m.prototype.readUIntBE=function(J,Q,de){J|=0,Q|=0,de||Me(J,Q,this.length);for(var pe=this[J+--Q],le=1;Q>0&&(le*=256);)pe+=this[J+--Q]*le;return pe},m.prototype.readUInt8=function(J,Q){return Q||Me(J,1,this.length),this[J]},m.prototype.readUInt16LE=function(J,Q){return Q||Me(J,2,this.length),this[J]|this[J+1]<<8},m.prototype.readUInt16BE=function(J,Q){return Q||Me(J,2,this.length),this[J]<<8|this[J+1]},m.prototype.readUInt32LE=function(J,Q){return Q||Me(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},m.prototype.readUInt32BE=function(J,Q){return Q||Me(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},m.prototype.readIntLE=function(J,Q,de){J|=0,Q|=0,de||Me(J,Q,this.length);for(var pe=this[J],le=1,Te=0;++Te<Q&&(le*=256);)pe+=this[J+Te]*le;return pe>=(le*=128)&&(pe-=Math.pow(2,8*Q)),pe},m.prototype.readIntBE=function(J,Q,de){J|=0,Q|=0,de||Me(J,Q,this.length);for(var pe=Q,le=1,Te=this[J+--pe];pe>0&&(le*=256);)Te+=this[J+--pe]*le;return Te>=(le*=128)&&(Te-=Math.pow(2,8*Q)),Te},m.prototype.readInt8=function(J,Q){return Q||Me(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},m.prototype.readInt16LE=function(J,Q){Q||Me(J,2,this.length);var de=this[J]|this[J+1]<<8;return 32768&de?4294901760|de:de},m.prototype.readInt16BE=function(J,Q){Q||Me(J,2,this.length);var de=this[J+1]|this[J]<<8;return 32768&de?4294901760|de:de},m.prototype.readInt32LE=function(J,Q){return Q||Me(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},m.prototype.readInt32BE=function(J,Q){return Q||Me(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},m.prototype.readFloatLE=function(J,Q){return Q||Me(J,4,this.length),R.read(this,J,!0,23,4)},m.prototype.readFloatBE=function(J,Q){return Q||Me(J,4,this.length),R.read(this,J,!1,23,4)},m.prototype.readDoubleLE=function(J,Q){return Q||Me(J,8,this.length),R.read(this,J,!0,52,8)},m.prototype.readDoubleBE=function(J,Q){return Q||Me(J,8,this.length),R.read(this,J,!1,52,8)},m.prototype.writeUIntLE=function(J,Q,de,pe){J=+J,Q|=0,de|=0,pe||_e(this,J,Q,de,Math.pow(2,8*de)-1,0);var Te=1,Ve=0;for(this[Q]=255&J;++Ve<de&&(Te*=256);)this[Q+Ve]=J/Te&255;return Q+de},m.prototype.writeUIntBE=function(J,Q,de,pe){J=+J,Q|=0,de|=0,pe||_e(this,J,Q,de,Math.pow(2,8*de)-1,0);var Te=de-1,Ve=1;for(this[Q+Te]=255&J;--Te>=0&&(Ve*=256);)this[Q+Te]=J/Ve&255;return Q+de},m.prototype.writeUInt8=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,1,255,0),m.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),this[Q]=255&J,Q+1},m.prototype.writeUInt16LE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[Q]=255&J,this[Q+1]=J>>>8):Le(this,J,Q,!0),Q+2},m.prototype.writeUInt16BE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[Q]=J>>>8,this[Q+1]=255&J):Le(this,J,Q,!1),Q+2},m.prototype.writeUInt32LE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[Q+3]=J>>>24,this[Q+2]=J>>>16,this[Q+1]=J>>>8,this[Q]=255&J):Ie(this,J,Q,!0),Q+4},m.prototype.writeUInt32BE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[Q]=J>>>24,this[Q+1]=J>>>16,this[Q+2]=J>>>8,this[Q+3]=255&J):Ie(this,J,Q,!1),Q+4},m.prototype.writeIntLE=function(J,Q,de,pe){if(J=+J,Q|=0,!pe){var le=Math.pow(2,8*de-1);_e(this,J,Q,de,le-1,-le)}var Te=0,Ve=1,ke=0;for(this[Q]=255&J;++Te<de&&(Ve*=256);)J<0&&0===ke&&0!==this[Q+Te-1]&&(ke=1),this[Q+Te]=(J/Ve>>0)-ke&255;return Q+de},m.prototype.writeIntBE=function(J,Q,de,pe){if(J=+J,Q|=0,!pe){var le=Math.pow(2,8*de-1);_e(this,J,Q,de,le-1,-le)}var Te=de-1,Ve=1,ke=0;for(this[Q+Te]=255&J;--Te>=0&&(Ve*=256);)J<0&&0===ke&&0!==this[Q+Te+1]&&(ke=1),this[Q+Te]=(J/Ve>>0)-ke&255;return Q+de},m.prototype.writeInt8=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,1,127,-128),m.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),J<0&&(J=255+J+1),this[Q]=255&J,Q+1},m.prototype.writeInt16LE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[Q]=255&J,this[Q+1]=J>>>8):Le(this,J,Q,!0),Q+2},m.prototype.writeInt16BE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[Q]=J>>>8,this[Q+1]=255&J):Le(this,J,Q,!1),Q+2},m.prototype.writeInt32LE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[Q]=255&J,this[Q+1]=J>>>8,this[Q+2]=J>>>16,this[Q+3]=J>>>24):Ie(this,J,Q,!0),Q+4},m.prototype.writeInt32BE=function(J,Q,de){return J=+J,Q|=0,de||_e(this,J,Q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),m.TYPED_ARRAY_SUPPORT?(this[Q]=J>>>24,this[Q+1]=J>>>16,this[Q+2]=J>>>8,this[Q+3]=255&J):Ie(this,J,Q,!1),Q+4},m.prototype.writeFloatLE=function(J,Q,de){return Fe(this,J,Q,!0,de)},m.prototype.writeFloatBE=function(J,Q,de){return Fe(this,J,Q,!1,de)},m.prototype.writeDoubleLE=function(J,Q,de){return We(this,J,Q,!0,de)},m.prototype.writeDoubleBE=function(J,Q,de){return We(this,J,Q,!1,de)},m.prototype.copy=function(J,Q,de,pe){if(de||(de=0),!pe&&0!==pe&&(pe=this.length),Q>=J.length&&(Q=J.length),Q||(Q=0),pe>0&&pe<de&&(pe=de),pe===de||0===J.length||0===this.length)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("sourceStart out of bounds");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),J.length-Q<pe-de&&(pe=J.length-Q+de);var Te,le=pe-de;if(this===J&&de<Q&&Q<pe)for(Te=le-1;Te>=0;--Te)J[Te+Q]=this[Te+de];else if(le<1e3||!m.TYPED_ARRAY_SUPPORT)for(Te=0;Te<le;++Te)J[Te+Q]=this[Te+de];else Uint8Array.prototype.set.call(J,this.subarray(de,de+le),Q);return le},m.prototype.fill=function(J,Q,de,pe){if("string"==typeof J){if("string"==typeof Q?(pe=Q,Q=0,de=this.length):"string"==typeof de&&(pe=de,de=this.length),1===J.length){var le=J.charCodeAt(0);le<256&&(J=le)}if(void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!m.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe)}else"number"==typeof J&&(J&=255);if(Q<0||this.length<Q||this.length<de)throw new RangeError("Out of range index");if(de<=Q)return this;var Te;if(Q>>>=0,de=void 0===de?this.length:de>>>0,J||(J=0),"number"==typeof J)for(Te=Q;Te<de;++Te)this[Te]=J;else{var Ve=m.isBuffer(J)?J:ie(new m(J,pe).toString()),ke=Ve.length;for(Te=0;Te<de-Q;++Te)this[Te+Q]=Ve[Te%ke]}return this};var Ue=/[^+\/0-9A-Za-z-_]/g;function K(X){return X<16?"0"+X.toString(16):X.toString(16)}function ie(X,J){J=J||1/0;for(var Q,de=X.length,pe=null,le=[],Te=0;Te<de;++Te){if((Q=X.charCodeAt(Te))>55295&&Q<57344){if(!pe){if(Q>56319){(J-=3)>-1&&le.push(239,191,189);continue}if(Te+1===de){(J-=3)>-1&&le.push(239,191,189);continue}pe=Q;continue}if(Q<56320){(J-=3)>-1&&le.push(239,191,189),pe=Q;continue}Q=65536+(pe-55296<<10|Q-56320)}else pe&&(J-=3)>-1&&le.push(239,191,189);if(pe=null,Q<128){if((J-=1)<0)break;le.push(Q)}else if(Q<2048){if((J-=2)<0)break;le.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((J-=3)<0)break;le.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;le.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return le}function $(X){return E.toByteArray(function xe(X){if((X=function be(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")}(X).replace(Ue,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(X))}function W(X,J,Q,de){for(var pe=0;pe<de&&!(pe+Q>=J.length||pe>=X.length);++pe)J[pe+Q]=X[pe];return pe}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(Ye,M,e){var y={parseBuffer:function(b){return new E(b).parse()},addBoxProcessor:function(b,F){"string"!=typeof b||"function"!=typeof F||(R.prototype._boxProcessors[b]=F)},createFile:function(){return new E},createBox:function(b,F,L){var S=R.create(b);return F&&F.append(S,L),S},createFullBox:function(b,F,L){var S=y.createBox(b,F,L);return S.version=0,S.flags=0,S},Utils:{}};y.Utils.dataViewToString=function(b,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(b);var S=[],m=0;if("utf-8"===L)for(;m<b.byteLength;){var h=b.getUint8(m++);h<128||(h<224?(h=(31&h)<<6,h|=63&b.getUint8(m++)):h<240?(h=(15&h)<<12,h|=(63&b.getUint8(m++))<<6,h|=63&b.getUint8(m++)):(h=(7&h)<<18,h|=(63&b.getUint8(m++))<<12,h|=(63&b.getUint8(m++))<<6,h|=63&b.getUint8(m++))),S.push(String.fromCharCode(h))}else for(;m<b.byteLength;)S.push(String.fromCharCode(b.getUint8(m++)));return S.join("")},y.Utils.utf8ToByteArray=function(b){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(b);else for(F=[],L=0;L<b.length;++L){var S=b.charCodeAt(L);S<128?F.push(S):S<2048?(F.push(192|S>>6),F.push(128|63&S)):S<65536?(F.push(224|S>>12),F.push(128|63&S>>6),F.push(128|63&S)):(F.push(240|S>>18),F.push(128|63&S>>12),F.push(128|63&S>>6),F.push(128|63&S))}return F},y.Utils.appendBox=function(b,F,L){if(F._offset=b._cursor.offset,F._root=b._root?b._root:b,F._raw=b._raw,F._parent=b,-1!==L){if(null==L)return void b.boxes.push(F);var m,S=-1;if("number"==typeof L)S=L;else{if("string"==typeof L)m=L;else{if("object"!=typeof L||!L.type)return void b.boxes.push(F);m=L.type}for(var h=0;h<b.boxes.length;h++)if(m===b.boxes[h].type){S=h+1;break}}b.boxes.splice(S,0,F)}},M.parseBuffer=y.parseBuffer,M.addBoxProcessor=y.addBoxProcessor,M.createFile=y.createFile,M.createBox=y.createBox,M.createFullBox=y.createFullBox,M.Utils=y.Utils,y.Cursor=function(b){this.offset=typeof b>"u"?0:b};var E=function(b){this._cursor=new y.Cursor,this.boxes=[],b&&(this._raw=new DataView(b))};E.prototype.fetch=function(b){var F=this.fetchAll(b,!0);return F.length?F[0]:null},E.prototype.fetchAll=function(b,F){var L=[];return E._sweep.call(this,b,L,F),L},E.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var b=R.parse(this);if(typeof b.type>"u")break;this.boxes.push(b)}return this},E._sweep=function(b,F,L){for(var S in this.type&&this.type==b&&F.push(this),this.boxes){if(F.length&&L)return;E._sweep.call(this.boxes[S],b,F,L)}},E.prototype.write=function(){var F,b=0;for(F=0;F<this.boxes.length;F++)b+=this.boxes[F].getLength(!1);var L=new Uint8Array(b);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},E.prototype.append=function(b,F){y.Utils.appendBox(this,b,F)};var R=function(){this._cursor=new y.Cursor};R.parse=function(b){var F=new R;return F._offset=b._cursor.offset,F._root=b._root?b._root:b,F._raw=b._raw,F._parent=b,F._parseBox(),b._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},R.create=function(b){var F=new R;return F.type=b,F.boxes=[],F},R.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],R.prototype._boxProcessors={},R.prototype._procField=function(b,F,L){this._parsing?this[b]=this._readField(F,L):this._writeField(F,L,this[b])},R.prototype._procFieldArray=function(b,F,L,S){var m;if(this._parsing)for(this[b]=[],m=0;m<F;m++)this[b][m]=this._readField(L,S);else for(m=0;m<this[b].length;m++)this._writeField(L,S,this[b][m])},R.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},R.prototype._procEntries=function(b,F,L){var S;if(this._parsing)for(this[b]=[],S=0;S<F;S++)this[b].push({}),L.call(this,this[b][S]);else for(S=0;S<F;S++)L.call(this,this[b][S])},R.prototype._procSubEntries=function(b,F,L,S){var m;if(this._parsing)for(b[F]=[],m=0;m<L;m++)b[F].push({}),S.call(this,b[F][m]);else for(m=0;m<L;m++)S.call(this,b[F][m])},R.prototype._procEntryField=function(b,F,L,S){this._parsing?b[F]=this._readField(L,S):this._writeField(L,S,b[F])},R.prototype._procSubBoxes=function(b,F){var L;if(this._parsing)for(this[b]=[],L=0;L<F;L++)this[b].push(R.parse(this));else for(L=0;L<F;L++)this._rawo?this[b][L].write():this.size+=this[b][L].getLength()},R.prototype._readField=function(b,F){switch(b){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},R.prototype._readInt=function(b){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var S=this._raw.getInt32(L),m=this._raw.getInt32(L+4);F=S*Math.pow(2,32)+m}return this._cursor.offset+=b>>3,F},R.prototype._readUint=function(b){var S,m,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((S=this._raw.getUint16(L))<<8)+(m=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:S=this._raw.getUint32(L),m=this._raw.getUint32(L+4),F=S*Math.pow(2,32)+m}return this._cursor.offset+=b>>3,F},R.prototype._readString=function(b){for(var F="",L=0;L<b;L++){var S=this._readUint(8);F+=String.fromCharCode(S)}return F},R.prototype._readTemplate=function(b){return this._readUint(b/2)+this._readUint(b/2)/Math.pow(2,b/2)},R.prototype._readTerminatedString=function(){for(var b="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;b+=String.fromCharCode(F)}return b},R.prototype._readData=function(b){var F=b>0?b:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},R.prototype._readUTF8String=function(){var b=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return b>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,b),this._cursor.offset+=b),F&&y.Utils.dataViewToString(F)},R.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},R.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},R.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(R.parse(this))},R.prototype.append=function(b,F){y.Utils.appendBox(this,b,F)},R.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.size+=this.boxes[b].getLength();return this._data&&this._writeData(this._data),this.size},R.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.boxes[b].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},R.prototype._writeInt=function(b,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var S=Math.floor(F/Math.pow(2,32)),m=F-S*Math.pow(2,32);this._rawo.setUint32(L,S),this._rawo.setUint32(L+4,m)}this._cursor.offset+=b>>3}else this.size+=b>>3},R.prototype._writeUint=function(b,F){if(this._rawo){var S,m,L=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:m=255&F,this._rawo.setUint16(L,S=(16776960&F)>>8),this._rawo.setUint8(L+2,m);break;case 32:this._rawo.setUint32(L,F);break;case 64:m=F-(S=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,S),this._rawo.setUint32(L+4,m)}this._cursor.offset+=b>>3}else this.size+=b>>3},R.prototype._writeString=function(b,F){for(var L=0;L<b;L++)this._writeUint(8,F.charCodeAt(L))},R.prototype._writeTerminatedString=function(b){if(0!==b.length){for(var F=0;F<b.length;F++)this._writeUint(8,b.charCodeAt(F));this._writeUint(8,0)}},R.prototype._writeTemplate=function(b,F){var L=Math.floor(F),S=(F-L)*Math.pow(2,b/2);this._writeUint(b/2,L),this._writeUint(b/2,S)},R.prototype._writeData=function(b){if(b)if(this._rawo){if(b instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<b.length;F++)this._rawo.setInt8(L+F,b[F]);this._cursor.offset+=b.length}b instanceof Uint8Array&&(this._root.bytes.set(b,this._cursor.offset),this._cursor.offset+=b.length)}else this.size+=b.length},R.prototype._writeUTF8String=function(b){var F=y.Utils.utf8ToByteArray(b);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),S=0;S<F.length;S++)L.setUint8(S,F[S]);else this.size+=F.length},R.prototype._writeField=function(b,F,L){switch(b){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},R.prototype._boxProcessors.avc1=R.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},R.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},R.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"segment_duration","uint",1===this.version?64:32),this._procEntryField(b,"media_time","int",1===this.version?64:32),this._procEntryField(b,"media_rate_integer","int",16),this._procEntryField(b,"media_rate_fraction","int",16)})},R.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},R.prototype._boxProcessors.free=R.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},R.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},R.prototype._boxProcessors.ftyp=R.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var b=-1;this._parsing&&(b=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",b,"string",4)},R.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},R.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},R.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},R.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},R.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},R.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},R.prototype._boxProcessors.mp4a=R.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},R.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},R.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},R.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},R.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},R.prototype._boxProcessors.sdtp=function(){this._procFullBox();var b=-1;this._parsing&&(b=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",b,"uint",8)},R.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(b){this._parsing||(b.reference=(1&b.reference_type)<<31,b.reference|=2147483647&b.referenced_size,b.sap=(1&b.starts_with_SAP)<<31,b.sap|=(3&b.SAP_type)<<28,b.sap|=268435455&b.SAP_delta_time),this._procEntryField(b,"reference","uint",32),this._procEntryField(b,"subsegment_duration","uint",32),this._procEntryField(b,"sap","uint",32),this._parsing&&(b.reference_type=b.reference>>31&1,b.referenced_size=2147483647&b.reference,b.starts_with_SAP=b.sap>>31&1,b.SAP_type=b.sap>>28&7,b.SAP_delta_time=268435455&b.sap)})},R.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},R.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(b){this._procEntryField(b,"ranges_count","uint",32),this._procSubEntries(b,"ranges",b.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},R.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},R.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"sample_delta","uint",32),this._procEntryField(b,"subsample_count","uint",16),this._procSubEntries(b,"subsamples",b.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},R.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},R.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},R.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},R.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(b){this._procEntryField(b,"time","uint",1===this.version?64:32),this._procEntryField(b,"moof_offset","uint",1===this.version?64:32),this._procEntryField(b,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(b,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(b,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},R.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},R.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},R.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(b){256&this.flags&&this._procEntryField(b,"sample_duration","uint",32),512&this.flags&&this._procEntryField(b,"sample_size","uint",32),1024&this.flags&&this._procEntryField(b,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(b,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},R.prototype._boxProcessors["url "]=R.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},R.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},R.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},R.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},R.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(Ye,M,e){function G(k){return Object.prototype.toString.call(k)}M.isArray=function y(k){return Array.isArray?Array.isArray(k):"[object Array]"===G(k)},M.isBoolean=function E(k){return"boolean"==typeof k},M.isNull=function R(k){return null===k},M.isNullOrUndefined=function b(k){return null==k},M.isNumber=function F(k){return"number"==typeof k},M.isString=function L(k){return"string"==typeof k},M.isSymbol=function S(k){return"symbol"==typeof k},M.isUndefined=function m(k){return void 0===k},M.isRegExp=function h(k){return"[object RegExp]"===G(k)},M.isObject=function p(k){return"object"==typeof k&&null!==k},M.isDate=function v(k){return"[object Date]"===G(k)},M.isError=function w(k){return"[object Error]"===G(k)||k instanceof Error},M.isFunction=function V(k){return"function"==typeof k},M.isPrimitive=function O(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},M.isBuffer=e(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=e(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(Ye,M,e){(function(y,E){var b;b=function(){"use strict";function b(le){return"function"==typeof le}var L=Array.isArray?Array.isArray:function(le){return"[object Array]"===Object.prototype.toString.call(le)},S=0,m=void 0,h=void 0,p=function(Te,Ve){B[S]=Te,B[S+1]=Ve,2===(S+=2)&&(h?h(Y):ae())};var V=typeof window<"u"?window:void 0,O=V||{},G=O.MutationObserver||O.WebKitMutationObserver,k=typeof self>"u"&&typeof y<"u"&&"[object process]"==={}.toString.call(y),P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function C(){var le=setTimeout;return function(){return le(Y,1)}}var B=new Array(1e3);function Y(){for(var le=0;le<S;le+=2)(0,B[le])(B[le+1]),B[le]=void 0,B[le+1]=void 0;S=0}var ae=void 0;function Oe(le,Te){var Ve=this,ke=new this.constructor(H);void 0===ke[oe]&&he(ke);var Ze=Ve._state;if(Ze){var qe=arguments[Ze-1];p(function(){return xe(Ze,ke,qe,Ve._result)})}else We(Ve,ke,le,Te);return ke}function z(le){if(le&&"object"==typeof le&&le.constructor===this)return le;var Ve=new this(H);return Le(Ve,le),Ve}ae=k?function x(){return function(){return y.nextTick(Y)}}():G?function T(){var le=0,Te=new G(Y),Ve=document.createTextNode("");return Te.observe(Ve,{characterData:!0}),function(){Ve.data=le=++le%2}}():P?function N(){var le=new MessageChannel;return le.port1.onmessage=Y,function(){return le.port2.postMessage(0)}}():void 0===V?function re(){try{var le=Function("return this")().require("vertx");return m=le.runOnLoop||le.runOnContext,function I(){return typeof m<"u"?function(){m(Y)}:C()}()}catch{return C()}}():C();var oe=Math.random().toString(36).substring(2);function H(){}var me=void 0,ne=1,fe=2;function _e(le,Te,Ve){Te.constructor===le.constructor&&Ve===Oe&&Te.constructor.resolve===z?function Me(le,Te){Te._state===ne?we(le,Te._result):Te._state===fe?Fe(le,Te._result):We(Te,void 0,function(Ve){return Le(le,Ve)},function(Ve){return Fe(le,Ve)})}(le,Te):void 0===Ve?we(le,Te):b(Ve)?function De(le,Te,Ve){p(function(ke){var Ze=!1,qe=function se(le,Te,Ve,ke){try{le.call(Te,Ve,ke)}catch(Ze){return Ze}}(Ve,Te,function(He){Ze||(Ze=!0,Te!==He?Le(ke,He):we(ke,He))},function(He){Ze||(Ze=!0,Fe(ke,He))});!Ze&&qe&&(Ze=!0,Fe(ke,qe))},le)}(le,Te,Ve):we(le,Te)}function Le(le,Te){if(le===Te)Fe(le,function Ee(){return new TypeError("You cannot resolve a promise with itself")}());else if(function R(le){var Te=typeof le;return null!==le&&("object"===Te||"function"===Te)}(Te)){var Ve=void 0;try{Ve=Te.then}catch(ke){return void Fe(le,ke)}_e(le,Te,Ve)}else we(le,Te)}function Ie(le){le._onerror&&le._onerror(le._result),Ue(le)}function we(le,Te){le._state===me&&(le._result=Te,le._state=ne,0!==le._subscribers.length&&p(Ue,le))}function Fe(le,Te){le._state===me&&(le._state=fe,le._result=Te,p(Ie,le))}function We(le,Te,Ve,ke){var Ze=le._subscribers,qe=Ze.length;le._onerror=null,Ze[qe]=Te,Ze[qe+ne]=Ve,Ze[qe+fe]=ke,0===qe&&le._state&&p(Ue,le)}function Ue(le){var Te=le._subscribers,Ve=le._state;if(0!==Te.length){for(var ke=void 0,Ze=void 0,qe=le._result,He=0;He<Te.length;He+=3)Ze=Te[He+Ve],(ke=Te[He])?xe(Ve,ke,Ze,qe):Ze(qe);le._subscribers.length=0}}function xe(le,Te,Ve,ke){var Ze=b(Ve),qe=void 0,He=void 0,ot=!0;if(Ze){try{qe=Ve(ke)}catch(yt){ot=!1,He=yt}if(Te===qe)return void Fe(Te,function Ae(){return new TypeError("A promises callback cannot return that same promise.")}())}else qe=ke;Te._state!==me||(Ze&&ot?Le(Te,qe):!1===ot?Fe(Te,He):le===ne?we(Te,qe):le===fe&&Fe(Te,qe))}var K=0;function he(le){le[oe]=K++,le._state=void 0,le._result=void 0,le._subscribers=[]}var $=function(){function le(Te,Ve){this._instanceConstructor=Te,this.promise=new Te(H),this.promise[oe]||he(this.promise),L(Ve)?(this.length=Ve.length,this._remaining=Ve.length,this._result=new Array(this.length),0===this.length?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ve),0===this._remaining&&we(this.promise,this._result))):Fe(this.promise,function q(){return new Error("Array Methods must be provided an Array")}())}return le.prototype._enumerate=function(Ve){for(var ke=0;this._state===me&&ke<Ve.length;ke++)this._eachEntry(Ve[ke],ke)},le.prototype._eachEntry=function(Ve,ke){var Ze=this._instanceConstructor,qe=Ze.resolve;if(qe===z){var He=void 0,ot=void 0,yt=!1;try{He=Ve.then}catch(Ct){yt=!0,ot=Ct}if(He===Oe&&Ve._state!==me)this._settledAt(Ve._state,ke,Ve._result);else if("function"!=typeof He)this._remaining--,this._result[ke]=Ve;else if(Ze===de){var ut=new Ze(H);yt?Fe(ut,ot):_e(ut,Ve,He),this._willSettleAt(ut,ke)}else this._willSettleAt(new Ze(function(Ct){return Ct(Ve)}),ke)}else this._willSettleAt(qe(Ve),ke)},le.prototype._settledAt=function(Ve,ke,Ze){var qe=this.promise;qe._state===me&&(this._remaining--,Ve===fe?Fe(qe,Ze):this._result[ke]=Ze),0===this._remaining&&we(qe,this._result)},le.prototype._willSettleAt=function(Ve,ke){var Ze=this;We(Ve,void 0,function(qe){return Ze._settledAt(ne,ke,qe)},function(qe){return Ze._settledAt(fe,ke,qe)})},le}();var de=function(){function le(Te){this[oe]=function ie(){return K++}(),this._result=this._state=void 0,this._subscribers=[],H!==Te&&("function"!=typeof Te&&function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof le?function be(le,Te){try{Te(function(ke){Le(le,ke)},function(ke){Fe(le,ke)})}catch(Ve){Fe(le,Ve)}}(this,Te):function Q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return le.prototype.catch=function(Ve){return this.then(null,Ve)},le.prototype.finally=function(Ve){var Ze=this.constructor;return b(Ve)?this.then(function(qe){return Ze.resolve(Ve()).then(function(){return qe})},function(qe){return Ze.resolve(Ve()).then(function(){throw qe})}):this.then(Ve,Ve)},le}();return de.prototype.then=Oe,de.all=function W(le){return new $(this,le).promise},de.race=function te(le){var Te=this;return L(le)?new Te(function(Ve,ke){for(var Ze=le.length,qe=0;qe<Ze;qe++)Te.resolve(le[qe]).then(Ve,ke)}):new Te(function(Ve,ke){return ke(new TypeError("You must pass an array to race."))})},de.resolve=z,de.reject=function X(le){var Ve=new this(H);return Fe(Ve,le),Ve},de._setScheduler=function v(le){h=le},de._setAsap=function w(le){p=le},de._asap=p,de.polyfill=function pe(){var le=void 0;if(typeof E<"u")le=E;else if(typeof self<"u")le=self;else try{le=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Te=le.Promise;if(Te){var Ve=null;try{Ve=Object.prototype.toString.call(Te.resolve())}catch{}if("[object Promise]"===Ve&&!Te.cast)return}le.Promise=de},de.Promise=de,de},Ye.exports=b()}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var R,y="object"==typeof Reflect?Reflect:null,E=y&&"function"==typeof y.apply?y.apply:function(C,B,Y){return Function.prototype.apply.call(C,B,Y)};R=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var F=Number.isNaN||function(C){return C!=C};function L(){L.init.call(this)}Ye.exports=L,Ye.exports.once=function x(N,C){return new Promise(function(B,Y){function re(Oe){N.removeListener(C,ae),Y(Oe)}function ae(){"function"==typeof N.removeListener&&N.removeListener("error",re),B([].slice.call(arguments))}T(N,C,ae,{once:!0}),"error"!==C&&function I(N,C,B){"function"==typeof N.on&&T(N,"error",C,B)}(N,re,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var S=10;function m(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function h(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function p(N,C,B,Y){var re,ae,Oe;if(m(B),void 0===(ae=N._events)?(ae=N._events=Object.create(null),N._eventsCount=0):(void 0!==ae.newListener&&(N.emit("newListener",C,B.listener?B.listener:B),ae=N._events),Oe=ae[C]),void 0===Oe)Oe=ae[C]=B,++N._eventsCount;else if("function"==typeof Oe?Oe=ae[C]=Y?[B,Oe]:[Oe,B]:Y?Oe.unshift(B):Oe.push(B),(re=h(N))>0&&Oe.length>re&&!Oe.warned){Oe.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+Oe.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=N,z.type=C,z.count=Oe.length,function b(N){console&&console.warn&&console.warn(N)}(z)}return N}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(N,C,B){var Y={fired:!1,wrapFn:void 0,target:N,type:C,listener:B},re=v.bind(Y);return re.listener=B,Y.wrapFn=re,re}function V(N,C,B){var Y=N._events;if(void 0===Y)return[];var re=Y[C];return void 0===re?[]:"function"==typeof re?B?[re.listener||re]:[re]:B?function P(N){for(var C=new Array(N.length),B=0;B<C.length;++B)C[B]=N[B].listener||N[B];return C}(re):G(re,re.length)}function O(N){var C=this._events;if(void 0!==C){var B=C[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function G(N,C){for(var B=new Array(C),Y=0;Y<C;++Y)B[Y]=N[Y];return B}function T(N,C,B,Y){if("function"==typeof N.on)Y.once?N.once(C,B):N.on(C,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(C,function re(ae){Y.once&&N.removeEventListener(C,re),B(ae)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");S=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(C){if("number"!=typeof C||C<0||F(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},L.prototype.getMaxListeners=function(){return h(this)},L.prototype.emit=function(C){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var re="error"===C,ae=this._events;if(void 0!==ae)re=re&&void 0===ae.error;else if(!re)return!1;if(re){var Oe;if(B.length>0&&(Oe=B[0]),Oe instanceof Error)throw Oe;var z=new Error("Unhandled error."+(Oe?" ("+Oe.message+")":""));throw z.context=Oe,z}var oe=ae[C];if(void 0===oe)return!1;if("function"==typeof oe)E(oe,this,B);else{var H=oe.length,me=G(oe,H);for(Y=0;Y<H;++Y)E(me[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(C,B){return p(this,C,B,!1)},L.prototype.prependListener=function(C,B){return p(this,C,B,!0)},L.prototype.once=function(C,B){return m(B),this.on(C,w(this,C,B)),this},L.prototype.prependOnceListener=function(C,B){return m(B),this.prependListener(C,w(this,C,B)),this},L.prototype.off=L.prototype.removeListener=function(C,B){var Y,re,ae,Oe,z;if(m(B),void 0===(re=this._events))return this;if(void 0===(Y=re[C]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete re[C],re.removeListener&&this.emit("removeListener",C,Y.listener||B));else if("function"!=typeof Y){for(ae=-1,Oe=Y.length-1;Oe>=0;Oe--)if(Y[Oe]===B||Y[Oe].listener===B){z=Y[Oe].listener,ae=Oe;break}if(ae<0)return this;0===ae?Y.shift():function k(N,C){for(;C+1<N.length;C++)N[C]=N[C+1];N.pop()}(Y,ae),1===Y.length&&(re[C]=Y[0]),void 0!==re.removeListener&&this.emit("removeListener",C,z||B)}return this},L.prototype.removeAllListeners=function(C){var B,Y,re;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[C]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[C]),this;if(0===arguments.length){var Oe,ae=Object.keys(Y);for(re=0;re<ae.length;++re)"removeListener"!==(Oe=ae[re])&&this.removeAllListeners(Oe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[C]))this.removeListener(C,B);else if(void 0!==B)for(re=B.length-1;re>=0;re--)this.removeListener(C,B[re]);return this},L.prototype.listeners=function(C){return V(this,C,!0)},L.prototype.rawListeners=function(C){return V(this,C,!1)},L.listenerCount=function(N,C){return"function"==typeof N.listenerCount?N.listenerCount(C):O.call(N,C)},L.prototype.listenerCount=O,L.prototype.eventNames=function(){return this._eventsCount>0?R(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=Array.isArray,E=Object.keys,R=Object.prototype.hasOwnProperty;Ye.exports=function b(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var h,p,v,S=y(F),m=y(L);if(S&&m){if((p=F.length)!=L.length)return!1;for(h=p;0!=h--;)if(!b(F[h],L[h]))return!1;return!0}if(S!=m)return!1;var w=F instanceof Date,V=L instanceof Date;if(w!=V)return!1;if(w&&V)return F.getTime()==L.getTime();var O=F instanceof RegExp,G=L instanceof RegExp;if(O!=G)return!1;if(O&&G)return F.toString()==L.toString();var k=E(F);if((p=k.length)!==E(L).length)return!1;for(h=p;0!=h--;)if(!R.call(L,k[h]))return!1;for(h=p;0!=h--;)if(!b(F[v=k[h]],L[v]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ye,M){M.read=function(e,y,E,R,b){var F,L,S=8*b-R-1,m=(1<<S)-1,h=m>>1,p=-7,v=E?b-1:0,w=E?-1:1,V=e[y+v];for(v+=w,F=V&(1<<-p)-1,V>>=-p,p+=S;p>0;F=256*F+e[y+v],v+=w,p-=8);for(L=F&(1<<-p)-1,F>>=-p,p+=R;p>0;L=256*L+e[y+v],v+=w,p-=8);if(0===F)F=1-h;else{if(F===m)return L?NaN:1/0*(V?-1:1);L+=Math.pow(2,R),F-=h}return(V?-1:1)*L*Math.pow(2,F-R)},M.write=function(e,y,E,R,b,F){var L,S,m,h=8*F-b-1,p=(1<<h)-1,v=p>>1,w=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,V=R?0:F-1,O=R?1:-1,G=y<0||0===y&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(S=isNaN(y)?1:0,L=p):(L=Math.floor(Math.log(y)/Math.LN2),y*(m=Math.pow(2,-L))<1&&(L--,m*=2),(y+=L+v>=1?w/m:w*Math.pow(2,1-v))*m>=2&&(L++,m/=2),L+v>=p?(S=0,L=p):L+v>=1?(S=(y*m-1)*Math.pow(2,b),L+=v):(S=y*Math.pow(2,v-1)*Math.pow(2,b),L=0));b>=8;e[E+V]=255&S,V+=O,S/=256,b-=8);for(L=L<<b|S,h+=b;h>0;e[E+V]=255&L,V+=O,L/=256,h-=8);e[E+V-O]|=128*G}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(Ye,M,e){!function(y,E,R,b,F){function L(q){if("contents"in q)for(var $=("styleAttrs"in q?q.styleAttrs[b.byName.ruby.qname]:null),W="span"===q.kind&&("container"===$||"textContainer"===$||"baseContainer"===$),te=q.contents.length-1;te>=0;te--)!W||"styleAttrs"in q.contents[te]&&b.byName.ruby.qname in q.contents[te].styleAttrs?L(q.contents[te]):delete q.contents[te]}function S(q,$,W,te){var X=te&&"seq"===te.timeContainer,J=0;te&&(J=X&&W?W.end:te.begin),$.begin=$.explicit_begin?$.explicit_begin+J:J;var Q=$.begin,de=null;if("sets"in $)for(var pe=0;pe<$.sets.length;pe++)S(q,$.sets[pe],de,$),Q="seq"===$.timeContainer?$.sets[pe].end:Math.max(Q,$.sets[pe].end),de=$.sets[pe];if("contents"in $){if("contents"in $)for(var le=0;le<$.contents.length;le++)S(q,$.contents[le],de,$),Q="seq"===$.timeContainer?$.contents[le].end:Math.max(Q,$.contents[le].end),de=$.contents[le]}else Q=X?$.begin:Number.POSITIVE_INFINITY;$.end=null!==$.explicit_end&&null!==$.explicit_dur?Math.min($.begin+$.explicit_dur,J+$.explicit_end):null===$.explicit_end&&null!==$.explicit_dur?$.begin+$.explicit_dur:null!==$.explicit_end&&null===$.explicit_dur?J+$.explicit_end:Q,delete $.explicit_begin,delete $.explicit_dur,delete $.explicit_end,q._registerEvent($)}function m(q){this.node=q}function h(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new v,this.layout=new O}function v(){this.styles={},this.initials={}}function w(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function V(){this.styleAttrs=null}function O(){this.regions={}}function G(q,$){k.call(this,"image"),this.src=q,this.type=$}function k(q){this.kind=q}function P(q){this.id=q}function x(q){this.regionID=q}function I(q){this.styleAttrs=q}function T(q){this.sets=q}function N(q){this.contents=q}function C(q,$,W){this.explicit_begin=q,this.explicit_end=$,this.explicit_dur=W}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function re(){k.call(this,"p")}function ae(){k.call(this,"span")}function Oe(){k.call(this,"span")}function z(){k.call(this,"br")}function oe(){}function H(){}function me(q){return q&&"xml:id"in q.attributes&&q.attributes["xml:id"].value||null}function Ee(q){return q&&"style"in q.attributes?q.attributes.style.value.split(" "):[]}function Ae(q,$){var W={};if(null!==q)for(var te in q.attributes){var X=q.attributes[te].uri+" "+q.attributes[te].local,J=b.byQName[X];if(void 0!==J){var Q=J.parse(q.attributes[te].value);null!==Q?(W[X]=Q,J===b.byName.zIndex&&be($,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K($,"Cannot parse styling attribute "+X+" --\x3e "+q.attributes[te].value)}}return W}function se(q,$,W){for(var te in q.attributes)if(q.attributes[te].uri===$&&q.attributes[te].local===W)return q.attributes[te].value;return null}function Ie(q,$,W){var Ve,ke=null;return null!==(Ve=/^(\d+(?:\.\d+)?)f$/.exec(W))?null!==$&&(ke=parseFloat(Ve[1])/$):null!==(Ve=/^(\d+(?:\.\d+)?)t$/.exec(W))?null!==q&&(ke=parseFloat(Ve[1])/q):null!==(Ve=/^(\d+(?:\.\d+)?)ms$/.exec(W))?ke=parseFloat(Ve[1])/1e3:null!==(Ve=/^(\d+(?:\.\d+)?)s$/.exec(W))?ke=parseFloat(Ve[1]):null!==(Ve=/^(\d+(?:\.\d+)?)h$/.exec(W))?ke=3600*parseFloat(Ve[1]):null!==(Ve=/^(\d+(?:\.\d+)?)m$/.exec(W))?ke=60*parseFloat(Ve[1]):null!==(Ve=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(W))?ke=3600*parseInt(Ve[1])+60*parseInt(Ve[2])+parseFloat(Ve[3]):null!==(Ve=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(W))&&null!==$&&(ke=3600*parseInt(Ve[1])+60*parseInt(Ve[2])+parseInt(Ve[3])+(null===Ve[4]?0:parseInt(Ve[4])/$)),ke}function Fe(q,$,W){for(;$.styleRefs.length>0;){var te=$.styleRefs.pop();te in q.styles?(Fe(q,q.styles[te],W),Ue(q.styles[te].styleAttrs,$.styleAttrs)):K(W,"Non-existant style id referenced")}}function We(q,$,W,te){for(var X=$.length-1;X>=0;X--){var J=$[X];J in q.styles?Ue(q.styles[J].styleAttrs,W):K(te,"Non-existant style id referenced")}}function Ue(q,$){for(var W in q)q.hasOwnProperty(W)&&(W in $||($[W]=q[W]))}function be(q,$){if(q&&q.warn&&q.warn($))throw $}function K(q,$){if(q&&q.error&&q.error($))throw $}function ie(q,$){throw q&&q.fatal&&q.fatal($),$}function he(q,$){for(var X,W=0,te=q.length-1;W<=te;){var J=q[X=Math.floor((W+te)/2)];if(J<$)W=X+1;else{if(!(J>$))return{found:!0,index:X};te=X-1}}return{found:!1,index:W}}y.fromXML=function(q,$,W){var te=E.parser(!0,{xmlns:!0}),X=[],J=[],Q=[],de=0,pe=null;te.onclosetag=function(Ze){if(X[0]instanceof oe)null!==pe.head&&null!==pe.head.styling&&We(pe.head.styling,X[0].styleRefs,X[0].styleAttrs,$),delete X[0].styleRefs;else if(X[0]instanceof v)for(var qe in X[0].styles)X[0].styles.hasOwnProperty(qe)&&Fe(X[0],X[0].styles[qe],$);else if(X[0]instanceof re||X[0]instanceof ae){if(X[0].contents.length>1){var ot,He=[X[0].contents[0]];for(ot=1;ot<X[0].contents.length;ot++)X[0].contents[ot]instanceof Oe&&He[He.length-1]instanceof Oe?He[He.length-1].text+=X[0].contents[ot].text:He.push(X[0].contents[ot]);X[0].contents=He}X[0]instanceof ae&&1===X[0].contents.length&&X[0].contents[0]instanceof Oe&&(X[0].text=X[0].contents[0].text,delete X[0].contents)}else X[0]instanceof m&&(X[0].node.uri===R.ns_tt&&"metadata"===X[0].node.local?de--:de>0&&W&&"onCloseTag"in W&&W.onCloseTag());Q.shift(),J.shift(),X.shift()},te.ontext=function(Ze){if(void 0!==X[0])if(X[0]instanceof ae||X[0]instanceof re){if(X[0]instanceof ae){var qe=X[0].styleAttrs[b.byName.ruby.qname];if("container"===qe||"textContainer"===qe||"baseContainer"===qe)return}var He=new Oe;He.initFromText(pe,X[0],Ze,J[0],Q[0],$),X[0].contents.push(He)}else X[0]instanceof m&&de>0&&W&&"onText"in W&&W.onText(Ze)},te.onopentag=function(Ze){var qe=Ze.attributes["xml:space"];Q.unshift(qe?qe.value:0===Q.length?"default":Q[0]);var He=Ze.attributes["xml:lang"];if(J.unshift(He?He.value:0===J.length?"":J[0]),Ze.uri===R.ns_tt)if("tt"===Ze.local)null!==pe&&ie($,"Two <tt> elements at ("+this.line+","+this.column+")"),(pe=new h).initFromNode(Ze,J[0],$),X.unshift(pe);else if("head"===Ze.local)X[0]instanceof h||ie($,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),X.unshift(pe.head);else if("styling"===Ze.local)X[0]instanceof p||ie($,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),X.unshift(pe.head.styling);else if("style"===Ze.local){var ot;X[0]instanceof v?((ot=new w).initFromNode(Ze,$),ot.id?pe.head.styling.styles[ot.id]=ot:K($,"<style> element missing @id attribute"),X.unshift(ot)):X[0]instanceof oe?((ot=new w).initFromNode(Ze,$),Ue(ot.styleAttrs,X[0].styleAttrs),X.unshift(ot)):ie($,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Ze.local){var yt;if(X[0]instanceof v){for(var ut in(yt=new V).initFromNode(Ze,$),yt.styleAttrs)yt.styleAttrs.hasOwnProperty(ut)&&(pe.head.styling.initials[ut]=yt.styleAttrs[ut]);X.unshift(yt)}else ie($,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Ze.local)X[0]instanceof p||ie($,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),X.unshift(pe.head.layout);else if("region"===Ze.local){X[0]instanceof O||ie($,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ct=new oe;Ct.initFromNode(pe,Ze,J[0],$),!Ct.id||Ct.id in pe.head.layout.regions?K($,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):pe.head.layout.regions[Ct.id]=Ct,X.unshift(Ct)}else if("body"===Ze.local){X[0]instanceof h||ie($,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==pe.body&&ie($,"Second <body> element at "+this.line+","+this.column+")");var Ot=new B;Ot.initFromNode(pe,Ze,J[0],$),pe.body=Ot,X.unshift(Ot)}else if("div"===Ze.local){X[0]instanceof Y||X[0]instanceof B||ie($,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var It=new Y;It.initFromNode(pe,X[0],Ze,J[0],$);var Gt=It.styleAttrs[b.byName.backgroundImage.qname];Gt&&(It.contents.push(new G(Gt)),delete It.styleAttrs[b.byName.backgroundImage.qname]),X[0].contents.push(It),X.unshift(It)}else if("image"===Ze.local){X[0]instanceof Y||ie($,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Xt=new G;Xt.initFromNode(pe,X[0],Ze,J[0],$),X[0].contents.push(Xt),X.unshift(Xt)}else if("p"===Ze.local){X[0]instanceof Y||ie($,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var cn=new re;cn.initFromNode(pe,X[0],Ze,J[0],$),X[0].contents.push(cn),X.unshift(cn)}else if("span"===Ze.local){X[0]instanceof ae||X[0]instanceof re||ie($,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Rn=new ae;Rn.initFromNode(pe,X[0],Ze,J[0],Q[0],$),X[0].contents.push(Rn),X.unshift(Rn)}else if("br"===Ze.local){X[0]instanceof ae||X[0]instanceof re||ie($,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var nt=new z;nt.initFromNode(pe,X[0],Ze,J[0],$),X[0].contents.push(nt),X.unshift(nt)}else if("set"===Ze.local){X[0]instanceof ae||X[0]instanceof re||X[0]instanceof Y||X[0]instanceof B||X[0]instanceof oe||X[0]instanceof z||ie($,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var at=new H;at.initFromNode(pe,X[0],Ze,$),X[0].sets.push(at),X.unshift(at)}else X.unshift(new m(Ze));else X.unshift(new m(Ze));if(X[0]instanceof m)if(Ze.uri===R.ns_tt&&"metadata"===Ze.local)de++;else if(de>0&&W&&"onOpenTag"in W){var Se=[];for(var ue in Ze.attributes)Se[Ze.attributes[ue].uri+" "+Ze.attributes[ue].local]={uri:Ze.attributes[ue].uri,local:Ze.attributes[ue].local,value:Ze.attributes[ue].value};W.onOpenTag(Ze.uri,Ze.local,Se)}},te.write(q).close(),delete pe.head.styling.styles;var le=!1;for(var Te in pe.head.layout.regions)if(pe.head.layout.regions.hasOwnProperty(Te)){le=!0;break}if(!le){var Ve=oe.prototype.createDefaultRegion(pe.lang);pe.head.layout.regions[Ve.id]=Ve}for(var ke in pe.head.layout.regions)pe.head.layout.regions.hasOwnProperty(ke)&&S(pe,pe.head.layout.regions[ke],null,null);return pe.body&&S(pe,pe.body,null,null),pe.body&&L(pe.body),pe},h.prototype.initFromNode=function(q,$,W){var te=function Me(q,$){var W=se(q,R.ns_ttp,"cellResolution"),te=15,X=32;if(null!==W){var Q=/(\d+) (\d+)/.exec(W);null!==Q?(X=parseInt(Q[1]),te=parseInt(Q[2])):be($,"Malformed cellResolution value (using initial value instead)")}return{w:X,h:te}}(q,W);this.cellLength={h:new F.ComputedLength(0,1/te.h),w:new F.ComputedLength(1/te.w,0)};var X=function _e(q,$){var X,W=se(q,R.ns_ttp,"frameRate"),te=30;null!==W&&(null!==(X=/(\d+)/.exec(W))?te=parseInt(X[1]):be($,"Malformed frame rate attribute (using initial value instead)"));var Q=se(q,R.ns_ttp,"frameRateMultiplier"),de=1;null!==Q&&(null!==(X=/(\d+) (\d+)/.exec(Q))?de=parseInt(X[1])/parseInt(X[2]):be($,"Malformed frame rate multiplier attribute (using initial value instead)"));var le=de*te,Te=1,Ve=se(q,R.ns_ttp,"tickRate");return null===Ve?null!==W&&(Te=le):null!==(X=/(\d+)/.exec(Ve))?Te=parseInt(X[1]):be($,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:le,tickRate:Te}}(q,W);this.effectiveFrameRate=X.effectiveFrameRate,this.tickRate=X.tickRate,this.aspectRatio=function De(q,$){var W=se(q,R.ns_ittp,"aspectRatio");null===W&&(W=se(q,R.ns_ttp,"displayAspectRatio"));var te=null;if(null!==W){var J=/(\d+)\s+(\d+)/.exec(W);if(null!==J){var Q=parseInt(J[1]),de=parseInt(J[2]);0!==Q&&0!==de?te=Q/de:K($,"Illegal aspectRatio values (ignoring)")}else K($,"Malformed aspectRatio attribute (ignoring)")}return te}(q,W);var J=se(q,R.ns_ttp,"timeBase");null!==J&&"media"!==J&&ie(W,"Unsupported time base");var Q=function Le(q,$){var W=se(q,R.ns_tts,"extent");if(null===W)return null;var te=W.split(" ");if(2!==te.length)return be($,"Malformed extent (ignoring)"),null;var X=F.parseLength(te[0]),J=F.parseLength(te[1]);return J&&X?{h:J,w:X}:(be($,"Malformed extent values (ignoring)"),null)}(q,W);null===Q?this.pxLength={h:null,w:null}:(("px"!==Q.h.unit||"px"!==Q.w.unit)&&ie(W,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/Q.h.value),w:new F.ComputedLength(1/Q.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=$},h.prototype._registerEvent=function(q){if(!(q.end<=q.begin)){var $=he(this.events,q.begin);if($.found||this.events.splice($.index,0,q.begin),q.end!==Number.POSITIVE_INFINITY){var W=he(this.events,q.end);W.found||this.events.splice(W.index,0,q.end)}}},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},w.prototype.initFromNode=function(q,$){this.id=me(q),this.styleAttrs=Ae(q,$),this.styleRefs=Ee(q)},V.prototype.initFromNode=function(q,$){for(var W in this.styleAttrs={},q.attributes)q.attributes[W].uri!==R.ns_itts&&q.attributes[W].uri!==R.ns_ebutts&&q.attributes[W].uri!==R.ns_tts||(this.styleAttrs[q.attributes[W].uri+" "+q.attributes[W].local]=q.attributes[W].value)},G.prototype.initFromNode=function(q,$,W,te,X){this.src="src"in W.attributes?W.attributes.src.value:null,this.src||K(X,"Invalid image@src attribute"),this.type="type"in W.attributes?W.attributes.type.value:null,this.type||K(X,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,q,$,W,X),C.prototype.initFromNode.call(this,q,$,W,X),T.prototype.initFromNode.call(this,q,$,W,X),x.prototype.initFromNode.call(this,q,$,W,X),this.lang=te},P.prototype.initFromNode=function(q,$,W,te){this.id=me(W)},x.prototype.initFromNode=function(q,$,W,te){this.regionID=function ne(q){return q&&"region"in q.attributes?q.attributes.region.value:""}(W)},I.prototype.initFromNode=function(q,$,W,te){this.styleAttrs=Ae(W,te),null!==q.head&&null!==q.head.styling&&We(q.head.styling,Ee(W),this.styleAttrs,te)},T.prototype.initFromNode=function(q,$,W,te){this.sets=[]},N.prototype.initFromNode=function(q,$,W,te){this.contents=[]},C.prototype.initFromNode=function(q,$,W,te){var X=function we(q,$,W,te){var X=null;W&&"begin"in W.attributes&&null===(X=Ie(q.tickRate,q.effectiveFrameRate,W.attributes.begin.value))&&be(te,"Malformed begin value "+W.attributes.begin.value+" (using 0)");var J=null;W&&"dur"in W.attributes&&null===(J=Ie(q.tickRate,q.effectiveFrameRate,W.attributes.dur.value))&&be(te,"Malformed dur value "+W.attributes.dur.value+" (ignoring)");var Q=null;return W&&"end"in W.attributes&&null===(Q=Ie(q.tickRate,q.effectiveFrameRate,W.attributes.end.value))&&be(te,"Malformed end value (ignoring)"),{explicit_begin:X,explicit_end:Q,explicit_dur:J}}(q,0,W,te);this.explicit_begin=X.explicit_begin,this.explicit_end=X.explicit_end,this.explicit_dur=X.explicit_dur,this.timeContainer=function fe(q,$){var W=q&&"timeContainer"in q.attributes?q.attributes.timeContainer.value:null;return W&&"par"!==W?"seq"===W?"seq":(K($,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(W,te)},B.prototype.initFromNode=function(q,$,W,te){I.prototype.initFromNode.call(this,q,null,$,te),C.prototype.initFromNode.call(this,q,null,$,te),T.prototype.initFromNode.call(this,q,null,$,te),x.prototype.initFromNode.call(this,q,null,$,te),N.prototype.initFromNode.call(this,q,null,$,te),this.lang=W},Y.prototype.initFromNode=function(q,$,W,te,X){I.prototype.initFromNode.call(this,q,$,W,X),C.prototype.initFromNode.call(this,q,$,W,X),T.prototype.initFromNode.call(this,q,$,W,X),x.prototype.initFromNode.call(this,q,$,W,X),N.prototype.initFromNode.call(this,q,$,W,X),this.lang=te},re.prototype.initFromNode=function(q,$,W,te,X){I.prototype.initFromNode.call(this,q,$,W,X),C.prototype.initFromNode.call(this,q,$,W,X),T.prototype.initFromNode.call(this,q,$,W,X),x.prototype.initFromNode.call(this,q,$,W,X),N.prototype.initFromNode.call(this,q,$,W,X),this.lang=te},ae.prototype.initFromNode=function(q,$,W,te,X,J){I.prototype.initFromNode.call(this,q,$,W,J),C.prototype.initFromNode.call(this,q,$,W,J),T.prototype.initFromNode.call(this,q,$,W,J),x.prototype.initFromNode.call(this,q,$,W,J),N.prototype.initFromNode.call(this,q,$,W,J),this.space=X,this.lang=te},Oe.prototype.initFromText=function(q,$,W,te,X,J){C.prototype.initFromNode.call(this,q,$,null,J),this.text=W,this.space=X,this.lang=te},z.prototype.initFromNode=function(q,$,W,te,X){x.prototype.initFromNode.call(this,q,$,W,X),C.prototype.initFromNode.call(this,q,$,W,X),this.lang=te},oe.prototype.createDefaultRegion=function(q){var $=new oe;return P.call($,""),I.call($,{}),T.call($,[]),C.call($,0,Number.POSITIVE_INFINITY,null),this.lang=q,$},oe.prototype.initFromNode=function(q,$,W,te){P.prototype.initFromNode.call(this,q,null,$,te),C.prototype.initFromNode.call(this,q,null,$,te),T.prototype.initFromNode.call(this,q,null,$,te),this.styleAttrs=Ae($,te),this.styleRefs=Ee($),this.lang=W},H.prototype.initFromNode=function(q,$,W,te){C.prototype.initFromNode.call(this,q,$,W,te);var X=Ae(W,te);for(var J in this.qname=null,this.value=null,X)if(X.hasOwnProperty(J)){if(this.qname){K(te,"More than one style specified on set");break}this.qname=J,this.value=X[J]}}}(M,typeof sax>"u"?e(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(Ye,M,e){!function(y,E,R){function b(z,oe,H,me){var ne;if("region"===H.kind)(ne=document.createElement("div")).style.position="absolute";else if("body"===H.kind)ne=document.createElement("div");else if("div"===H.kind)ne=document.createElement("div");else if("image"===H.kind){if(ne=document.createElement("img"),null!==z.imgResolver&&null!==H.src){var fe=z.imgResolver(H.src,ne);fe&&(ne.src=fe),ne.height=z.regionH,ne.width=z.regionW}}else if("p"===H.kind)ne=document.createElement("p");else if("span"===H.kind)if("container"===H.styleAttrs[R.byName.ruby.qname])ne=document.createElement("ruby"),z.ruby=!0;else if("base"===H.styleAttrs[R.byName.ruby.qname])ne=document.createElement("rb");else if("text"===H.styleAttrs[R.byName.ruby.qname])ne=document.createElement("rt");else if("baseContainer"===H.styleAttrs[R.byName.ruby.qname])ne=document.createElement("rbc");else if("textContainer"===H.styleAttrs[R.byName.ruby.qname])ne=document.createElement("rtc");else{if("delimiter"===H.styleAttrs[R.byName.ruby.qname])return;ne=document.createElement("span")}else"br"===H.kind&&(ne=document.createElement("br"));if(ne){if(H.lang&&("region"===H.kind||H.lang!==me.lang)&&(ne.lang=H.lang),oe.appendChild(ne),ne.style.margin="0","region"===H.kind){var Ee=H.styleAttrs[R.byName.writingMode.qname];"lrtb"===Ee||"lr"===Ee?(z.ipd="lr",z.bpd="tb"):"rltb"===Ee||"rl"===Ee?(z.ipd="rl",z.bpd="tb"):"tblr"===Ee?(z.ipd="tb",z.bpd="lr"):("tbrl"===Ee||"tb"===Ee)&&(z.ipd="tb",z.bpd="rl")}else"p"===H.kind&&"tb"===z.bpd&&(z.ipd="ltr"===H.styleAttrs[R.byName.direction.qname]?"lr":"rl");for(var se=0;se<T.length;se++){var De=T[se],Me=H.styleAttrs[De.qname];void 0!==Me&&null!==De.map&&De.map(z,ne,H,Me)}var _e=ne,Le=H.styleAttrs[R.byName.linePadding.qname];if(Le&&!Le.isZero()){var Ie=Le.toUsedLength(z.w,z.h);if(Ie>0){var we=Math.ceil(Ie)+"px";"tb"===z.bpd?(_e.style.paddingLeft=we,_e.style.paddingRight=we):(_e.style.paddingTop=we,_e.style.paddingBottom=we),z.lp=Le}}var Fe=H.styleAttrs[R.byName.multiRowAlign.qname];if(Fe&&"auto"!==Fe){var We=document.createElement("span");We.style.display="inline-block",We.style.textAlign=Fe,ne.appendChild(We),_e=We,z.mra=Fe}var Ue=H.styleAttrs[R.byName.rubyReserve.qname];if(Ue&&"none"!==Ue[0]&&(z.rubyReserve=Ue),H.styleAttrs[R.byName.fillLineGap.qname]&&(z.flg=!0),"span"===H.kind&&H.text){var xe=H.styleAttrs[R.byName.textEmphasis.qname];if(xe&&"none"!==xe.style&&(z.textEmphasis=!0),R.byName.textCombine.qname in H.styleAttrs&&"all"===H.styleAttrs[R.byName.textCombine.qname])ne.textContent=H.text,xe&&x(z,ne,0,xe);else for(var be="",K=0;K<H.text.length;K++){be+=H.text.charAt(K);var ie=H.text.charCodeAt(K);if(ie<55296||ie>56319||K===H.text.length-1){var he=document.createElement("span");he.textContent=be,xe&&x(z,he,0,xe),ne.appendChild(he),be="",he._isd_element=H}}}if("contents"in H)for(var q=0;q<H.contents.length;q++)b(z,_e,H.contents[q],H);var $=[];if("p"===H.kind&&(k(z,_e,$,null),z.rubyReserve&&(function w(z,oe){for(var H=0;H<z.length;H++){var me=document.createElement("ruby"),ne=document.createElement("rb");ne.textContent="\u200b",me.appendChild(ne);var fe,Ee,Ae=oe.rubyReserve[1].toUsedLength(oe.w,oe.h)+"px";"both"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&1==z.length?((fe=document.createElement("rtc")).style[Y]=B?"after":"under",fe.textContent="\u200b",fe.style.fontSize=Ae,(Ee=document.createElement("rtc")).style[Y]=B?"before":"over",Ee.textContent="\u200b",Ee.style.fontSize=Ae,me.appendChild(fe),me.appendChild(Ee)):((fe=document.createElement("rtc")).textContent="\u200b",fe.style.fontSize=Ae,fe.style[Y]="after"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&H>0?B?"after":"tb"===oe.bpd||"rl"===oe.bpd?"under":"over":B?"before":"tb"===oe.bpd||"rl"===oe.bpd?"over":"under",me.appendChild(fe));for(var De=null,Me=0;Me<z[H].rbc.length;Me++)if("ruby"===z[H].rbc[Me].localName){De=z[H].rbc[Me];for(var _e=0;_e<De.style.length;_e++)me.style.setProperty(De.style.item(_e),De.style.getPropertyValue(De.style.item(_e)));break}(De=De||z[H].elements[0].node).parentElement.insertBefore(me,De)}}($,z),z.rubyReserve=null),(z.ruby||z.rubyReserve)&&(function v(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].rbc.length;me++)z[H].rbc[me].style[Y]||(z[H].rbc[me].style[Y]=B?0===H?"before":"after":"tb"===oe.bpd||"rl"===oe.bpd?0===H?"over":"under":0===H?"under":"over")}($,z),z.ruby=null),z.textEmphasis&&(function p(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].te.length;me++)z[H].te[me].style[ae]&&"none"!==z[H].te[me].style[ae]||(z[H].te[me].style[ae]="tb"===oe.bpd?0===H?"left over":"left under":"rl"===oe.bpd?0===H?"right under":"left under":0===H?"left under":"right under")}($,z),z.textEmphasis=null),z.mra&&(function h(z){for(var oe=0;oe<z.length-1;oe++){var H=z[oe].elements.length;if(0!==H&&!1===z[oe].br){var me=document.createElement("br"),ne=z[oe].elements[H-1].node;ne.parentElement.insertBefore(me,ne.nextSibling)}}}($),z.mra=null),z.lp&&(function m(z,oe,H){if(null!==z)for(var me=0;me<z.length;me++){var ne=z[me].elements.length,fe=Math.ceil(oe)+"px",Ee="-"+Math.ceil(oe)+"px";if(0!==ne){var Ae=z[me].elements[z[me].start_elem],se=z[me].elements[z[me].end_elem];if(Ae===se&&(elementBoundingRect=Ae.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===H.ipd?(Ae.node.style.marginLeft=Ee,Ae.node.style.paddingLeft=fe):"rl"===H.ipd?(Ae.node.style.paddingRight=fe,Ae.node.style.marginRight=Ee):"tb"===H.ipd&&(Ae.node.style.paddingTop=fe,Ae.node.style.marginTop=Ee),"lr"===H.ipd?(se.node.style.marginRight=Ee,se.node.style.paddingRight=fe):"rl"===H.ipd?(se.node.style.paddingLeft=fe,se.node.style.marginLeft=Ee):"tb"===H.ipd&&(se.node.style.paddingBottom=fe,se.node.style.marginBottom=Ee)}}}($,z.lp.toUsedLength(z.w,z.h),z),z.lp=null),function F(z){for(var oe=0;oe<z.length;oe++)for(var H=z[oe],me=1;me<H.elements.length;)S(H.elements[me-1].node,H.elements[me].node)?H.elements.splice(me,1):me++;for(var Ee,Ae,se=[],De=0;De<z.length;De++)for(var Me=0;Me<z[De].elements.length;Me++)(Ae=L(Ee=z[De].elements[Me].node,se,!1))&&(Ee.style.backgroundColor=Ae);for(var _e=0;_e<se.length;_e++)se[_e].style.backgroundColor=""}($),z.flg)){var W=G(_e.getBoundingClientRect(),z);(function V(z,oe,H,me,ne){for(var fe=Math.sign(H-oe),Ee=0;Ee<=z.length;Ee++){var Ae,se,De,Me;if(Ae=0===Ee?Math.round(oe):Ee===z.length?Math.round(H):Math.round((z[Ee-1].after+z[Ee].before)/2),Ee>0&&z[Ee-1])for(De=0;De<z[Ee-1].elements.length;De++)se=fe*(Ae-(Me=z[Ee-1].elements[De]).after)+"px","lr"===me.bpd?Me.node.style.paddingRight=se:"rl"===me.bpd?Me.node.style.paddingLeft=se:"tb"===me.bpd&&(Me.node.style.paddingBottom=se);if(Ee<z.length)for(De=0;De<z[Ee].elements.length;De++)se=fe*((Me=z[Ee].elements[De]).before-Ae)+"px","lr"===me.bpd?Me.node.style.paddingLeft=se:"rl"===me.bpd?Me.node.style.paddingRight=se:"tb"===me.bpd&&(Me.node.style.paddingTop=se)}})($,W.before,W.after,z),z.flg=null}if("region"===H.kind&&"tb"===z.bpd&&z.enableRollUp&&H.contents.length>0&&"after"===H.styleAttrs[R.byName.displayAlign.qname]){k(z,_e,$,null);var X=new O(""===H.id?"_":H.id,$);if(z.currentISDState[X.id]=X,z.previousISDState&&X.id in z.previousISDState&&z.previousISDState[X.id].plist.length>0&&X.plist.length>1&&X.plist[X.plist.length-2].text===z.previousISDState[X.id].plist[z.previousISDState[X.id].plist.length-1].text){var J=ne.firstElementChild,Q=X.plist[X.plist.length-1].after-X.plist[X.plist.length-1].before;J.style.bottom="-"+Q+"px",J.style.transition="transform 0.4s",J.style.position="relative",J.style.transform="translateY(-"+Q+"px)"}}}else!function Oe(z,oe){if(z&&z.error&&z.error(oe))throw oe}(z.errorHandler,"Error processing ISD element kind: "+H.kind)}function L(z,oe,H){return z.style.backgroundColor?(H&&!oe.includes(z)&&oe.push(z),z.style.backgroundColor):"SPAN"===z.parentElement.nodeName?L(z.parentElement,oe,!0):void 0}function S(z,oe){if("SPAN"===z.tagName&&"SPAN"===oe.tagName&&z._isd_element===oe._isd_element){z.textContent+=oe.textContent;for(var H=0;H<oe.style.length;H++){var me=oe.style[H];(me.indexOf("border")>=0||me.indexOf("padding")>=0||me.indexOf("margin")>=0)&&(z.style[me]=oe.style[me])}return oe.parentElement.removeChild(oe),!0}return!1}function O(z,oe){this.id=z,this.plist=oe}function G(z,oe){var H={before:null,after:null,start:null,end:null};return"tb"===oe.bpd?(H.before=z.top,H.after=z.bottom,"lr"===oe.ipd?(H.start=z.left,H.end=z.right):(H.start=z.right,H.end=z.left)):"lr"===oe.bpd?(H.before=z.left,H.after=z.right,H.start=z.top,H.end=z.bottom):"rl"===oe.bpd&&(H.before=z.right,H.after=z.left,H.start=z.top,H.end=z.bottom),H}function k(z,oe,H,me){if("rt"!==oe.localName&&"rtc"!==oe.localName){var ne=oe.style.backgroundColor||me;if(0===oe.childElementCount)if("span"===oe.localName||"rb"===oe.localName){var Ee=G(oe.getBoundingClientRect(),z);if(0!==H.length&&function P(z,oe,H,me){return oe<me&&z>H||me<=oe&&H>=z}(Ee.before,Ee.after,H[H.length-1].before,H[H.length-1].after)){var Ae=Math.sign(Ee.after-Ee.before),se=Math.sign(Ee.end-Ee.start);Ae*(Ee.before-H[H.length-1].before)<0&&(H[H.length-1].before=Ee.before),Ae*(Ee.after-H[H.length-1].after)>0&&(H[H.length-1].after=Ee.after),se*(Ee.start-H[H.length-1].start)<0&&(H[H.length-1].start=Ee.start,H[H.length-1].start_elem=H[H.length-1].elements.length),se*(Ee.end-H[H.length-1].end)>0&&(H[H.length-1].end=Ee.end,H[H.length-1].end_elem=H[H.length-1].elements.length)}else H.push({before:Ee.before,after:Ee.after,start:Ee.start,end:Ee.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});H[H.length-1].text+=oe.textContent,H[H.length-1].elements.push({node:oe,bgcolor:ne,before:Ee.before,after:Ee.after})}else"br"===oe.localName&&0!==H.length&&(H[H.length-1].br=!0);else for(var De=oe.firstChild;De;)De.nodeType===Node.ELEMENT_NODE&&(k(z,De,H,ne),"ruby"===De.localName||"rtc"===De.localName?H.length>0&&H[H.length-1].rbc.push(De):"span"===De.localName&&De.style[re]&&"none"!==De.style[re]&&H.length>0&&H[H.length-1].te.push(De)),De=De.nextSibling}}function x(z,oe,H,me){"none"!==me.style&&(oe.style[re]="auto"===me.style?"filled":me.style+" "+me.symbol,"before"===me.position||"after"===me.position)&&(oe.style[ae]="tb"===z.bpd?"before"===me.position?"left over":"left under":"rl"===z.bpd?"before"===me.position?"right under":"left under":"before"===me.position?"left under":"right under")}function I(z,oe){this.qname=z,this.map=oe}y.render=function(z,oe,H,me,ne,fe,Ee,Ae,se){var De=me||oe.clientHeight,Me=ne||oe.clientWidth;if(null!==z.aspectRatio){var _e=De*z.aspectRatio;_e>Me?De=Math.round(Me/z.aspectRatio):Me=_e}var Le=document.createElement("div");Le.style.position="relative",Le.style.width=Me+"px",Le.style.height=De+"px",Le.style.margin="auto",Le.style.top=0,Le.style.bottom=0,Le.style.left=0,Le.style.right=0,Le.style.zIndex=0;var Ie={h:De,w:Me,regionH:null,regionW:null,imgResolver:H,displayForcedOnlyMode:fe||!1,isd:z,errorHandler:Ee,previousISDState:Ae,enableRollUp:se||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(oe.appendChild(Le),"contents"in z)for(var we=0;we<z.contents.length;we++)b(Ie,Le,z.contents[we],z);return Ie.currentISDState};for(var T=[new I("http://www.w3.org/ns/ttml#styling backgroundColor",function(z,oe,H,me){0!==me[3]&&(oe.style.backgroundColor="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")")}),new I("http://www.w3.org/ns/ttml#styling color",function(z,oe,H,me){oe.style.color="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")"}),new I("http://www.w3.org/ns/ttml#styling direction",function(z,oe,H,me){oe.style.direction=me}),new I("http://www.w3.org/ns/ttml#styling display",function(z,oe,H,me){}),new I("http://www.w3.org/ns/ttml#styling displayAlign",function(z,oe,H,me){oe.style.display="flex",oe.style.flexDirection="column","before"===me?oe.style.justifyContent="flex-start":"center"===me?oe.style.justifyContent="center":"after"===me&&(oe.style.justifyContent="flex-end")}),new I("http://www.w3.org/ns/ttml#styling extent",function(z,oe,H,me){z.regionH=me.h.toUsedLength(z.w,z.h),z.regionW=me.w.toUsedLength(z.w,z.h);var ne=0,fe=0,Ee=H.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Ee&&(ne=Ee[0].toUsedLength(z.w,z.h)+Ee[2].toUsedLength(z.w,z.h),fe=Ee[1].toUsedLength(z.w,z.h)+Ee[3].toUsedLength(z.w,z.h)),oe.style.height=z.regionH-ne+"px",oe.style.width=z.regionW-fe+"px"}),new I("http://www.w3.org/ns/ttml#styling fontFamily",function(z,oe,H,me){for(var ne=[],fe=0;fe<me.length;fe++)"monospaceSerif"===me[fe]?(ne.push("Courier New"),ne.push('"Liberation Mono"'),ne.push("Courier"),ne.push("monospace")):"proportionalSansSerif"===me[fe]?(ne.push("Arial"),ne.push("Helvetica"),ne.push('"Liberation Sans"'),ne.push("sans-serif")):"monospace"===me[fe]?ne.push("monospace"):"sansSerif"===me[fe]?ne.push("sans-serif"):"serif"===me[fe]?ne.push("serif"):"monospaceSansSerif"===me[fe]?(ne.push("Consolas"),ne.push("monospace")):ne.push("proportionalSerif"===me[fe]?"serif":me[fe]);if(ne.length>0){for(var Ee=[ne[0]],Ae=1;Ae<ne.length;Ae++)-1==Ee.indexOf(ne[Ae])&&Ee.push(ne[Ae]);ne=Ee}oe.style.fontFamily=ne.join(",")}),new I("http://www.w3.org/ns/ttml#styling shear",function(z,oe,H,me){if(0!==me){var ne=-.9*me;oe.style.transform="tb"===z.bpd?"skewX("+ne+"deg)":"skewY("+ne+"deg)"}}),new I("http://www.w3.org/ns/ttml#styling fontSize",function(z,oe,H,me){oe.style.fontSize=me.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling fontStyle",function(z,oe,H,me){oe.style.fontStyle=me}),new I("http://www.w3.org/ns/ttml#styling fontWeight",function(z,oe,H,me){oe.style.fontWeight=me}),new I("http://www.w3.org/ns/ttml#styling lineHeight",function(z,oe,H,me){oe.style.lineHeight="normal"===me?"normal":me.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling opacity",function(z,oe,H,me){oe.style.opacity=me}),new I("http://www.w3.org/ns/ttml#styling origin",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling overflow",function(z,oe,H,me){oe.style.overflow=me}),new I("http://www.w3.org/ns/ttml#styling padding",function(z,oe,H,me){var ne=[];ne[0]=me[0].toUsedLength(z.w,z.h)+"px",ne[1]=me[3].toUsedLength(z.w,z.h)+"px",ne[2]=me[2].toUsedLength(z.w,z.h)+"px",ne[3]=me[1].toUsedLength(z.w,z.h)+"px",oe.style.padding=ne.join(" ")}),new I("http://www.w3.org/ns/ttml#styling position",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling rubyAlign",function(z,oe,H,me){oe.style.rubyAlign="spaceAround"===me?"space-around":"center"}),new I("http://www.w3.org/ns/ttml#styling rubyPosition",function(z,oe,H,me){"before"!==me&&"after"!==me||(oe.parentElement.style[Y]=B?me:"tb"===z.bpd||"rl"===z.bpd?"before"===me?"over":"under":"before"===me?"under":"over")}),new I("http://www.w3.org/ns/ttml#styling showBackground",null),new I("http://www.w3.org/ns/ttml#styling textAlign",function(z,oe,H,me){oe.style.textAlign="start"===me?"rl"===z.ipd?"right":"left":"end"===me?"rl"===z.ipd?"left":"right":me}),new I("http://www.w3.org/ns/ttml#styling textDecoration",function(z,oe,H,me){oe.style.textDecoration=me.join(" ").replace("lineThrough","line-through")}),new I("http://www.w3.org/ns/ttml#styling textOutline",function(z,oe,H,me){}),new I("http://www.w3.org/ns/ttml#styling textShadow",function(z,oe,H,me){var ne=H.styleAttrs[R.byName.textOutline.qname];if("none"===me&&"none"===ne)oe.style.textShadow="";else{var fe=[];if("none"!==ne){var Ee="rgba("+ne.color[0].toString()+","+ne.color[1].toString()+","+ne.color[2].toString()+","+(ne.color[3]/255).toString()+")";fe.push("1px 1px 1px "+Ee),fe.push("-1px 1px 1px "+Ee),fe.push("1px -1px 1px "+Ee),fe.push("-1px -1px 1px "+Ee)}if("none"!==me)for(var Ae=0;Ae<me.length;Ae++)fe.push(me[Ae].x_off.toUsedLength(z.w,z.h)+"px "+me[Ae].y_off.toUsedLength(z.w,z.h)+"px "+me[Ae].b_radius.toUsedLength(z.w,z.h)+"px rgba("+me[Ae].color[0].toString()+","+me[Ae].color[1].toString()+","+me[Ae].color[2].toString()+","+(me[Ae].color[3]/255).toString()+")");oe.style.textShadow=fe.join(",")}}),new I("http://www.w3.org/ns/ttml#styling textCombine",function(z,oe,H,me){oe.style.textCombineUpright=me}),new I("http://www.w3.org/ns/ttml#styling textEmphasis",function(z,oe,H,me){}),new I("http://www.w3.org/ns/ttml#styling unicodeBidi",function(z,oe,H,me){oe.style.unicodeBidi="bidiOverride"===me?"bidi-override":me}),new I("http://www.w3.org/ns/ttml#styling visibility",function(z,oe,H,me){oe.style.visibility=me}),new I("http://www.w3.org/ns/ttml#styling wrapOption",function(z,oe,H,me){oe.style.whiteSpace="wrap"===me?"preserve"===H.space?"pre-wrap":"normal":"preserve"===H.space?"pre":"noWrap"}),new I("http://www.w3.org/ns/ttml#styling writingMode",function(z,oe,H,me){"lrtb"===me||"lr"===me||"rltb"===me||"rl"===me?oe.style.writingMode="horizontal-tb":"tblr"===me?oe.style.writingMode="vertical-lr":("tbrl"===me||"tb"===me)&&(oe.style.writingMode="vertical-rl")}),new I("http://www.w3.org/ns/ttml#styling zIndex",function(z,oe,H,me){oe.style.zIndex=me}),new I("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(z,oe,H,me){z.displayForcedOnlyMode&&!1===me&&(oe.style.visibility="hidden")})],N={},C=0;C<T.length;C++)N[T[C].qname]=T[C];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",re="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(M,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(Ye,M,e){!function(y,E,R,b){y.generateISD=function(k,P,x){var N,I=new p(k),T={},C={},B=k.head.styling.initials[R.byName.showBackground.qname],Y=k.head.styling.initials[R.byName.backgroundColor.qname];for(var re in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(re)){var ae=k.head.layout.regions[re],Oe=ae.styleAttrs[R.byName.showBackground.qname]||B;C[ae.id]=("always"===Oe||void 0===Oe)&&void 0!==(ae.styleAttrs[R.byName.backgroundColor.qname]||Y)&&!(P<ae.begin||P>=ae.end)}for(var H in k.body&&k.body.regionID&&(C[k.body.regionID]=!0),N=null!==k.body?function oe(ne,fe){if(fe.contents){var Ae={};for(var se in fe)fe.hasOwnProperty(se)&&(Ae[se]=fe[se]);return Ae.contents=[],fe.contents.filter(function Ee(De){return!(ne<De.begin||ne>=De.end)}).forEach(function(De){var Me=oe(ne,De);Me.regionID&&(C[Me.regionID]=!0),null!==Me&&Ae.contents.push(Me)}),Ae}return fe}(P,k.body):null,void 0!==C[""]&&(C[""]=!0),C)if(C[H]){var me=L(k,P,k.head.layout.regions[H],N,null,"",k.head.layout.regions[H],x,T);null!==me&&I.contents.push(me.element)}return I};var F=[R.byName.color.qname,R.byName.textCombine.qname,R.byName.textDecoration.qname,R.byName.textEmphasis.qname,R.byName.textOutline.qname,R.byName.textShadow.qname];function L(k,P,x,I,T,N,C,B,Y){if(P<C.begin||P>=C.end)return null;var re="regionID"in C&&""!==C.regionID?C.regionID:N;if(null!==T&&re!==x.id&&(!("contents"in C)||"contents"in C&&0===C.contents.length||""!==re))return null;var ae=new v(C);if("sets"in C)for(var Oe=0;Oe<C.sets.length;Oe++)P<C.sets[Oe].begin||P>=C.sets[Oe].end||(ae.styleAttrs[C.sets[Oe].qname]=C.sets[Oe].value);var z={};for(var oe in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(oe)&&(z[oe]=!0,"region"===ae.kind&&oe===R.byName.writingMode.qname&&!(R.byName.direction.qname in ae.styleAttrs))){var H=ae.styleAttrs[oe];"lrtb"===H||"lr"===H?ae.styleAttrs[R.byName.direction.qname]="ltr":("rltb"===H||"rl"===H)&&(ae.styleAttrs[R.byName.direction.qname]="rtl")}if(null!==T)for(var me=0;me<R.all.length;me++){var ne=R.all[me];if(ne.qname===R.byName.textDecoration.qname){var fe=T.styleAttrs[ne.qname],Ee=ae.styleAttrs[ne.qname],Ae=[];void 0===Ee?Ae=fe:-1===Ee.indexOf("none")?((-1===Ee.indexOf("noUnderline")&&-1!==fe.indexOf("underline")||-1!==Ee.indexOf("underline"))&&Ae.push("underline"),(-1===Ee.indexOf("noLineThrough")&&-1!==fe.indexOf("lineThrough")||-1!==Ee.indexOf("lineThrough"))&&Ae.push("lineThrough"),(-1===Ee.indexOf("noOverline")&&-1!==fe.indexOf("overline")||-1!==Ee.indexOf("overline"))&&Ae.push("overline")):Ae.push("none"),ae.styleAttrs[ne.qname]=Ae}else if(ne.qname!==R.byName.fontSize.qname||ne.qname in ae.styleAttrs||"span"!==ae.kind||"textContainer"!==ae.styleAttrs[R.byName.ruby.qname])if(ne.qname!==R.byName.fontSize.qname||ne.qname in ae.styleAttrs||"span"!==ae.kind||"text"!==ae.styleAttrs[R.byName.ruby.qname])ne.inherit&&ne.qname in T.styleAttrs&&!(ne.qname in ae.styleAttrs)&&(ae.styleAttrs[ne.qname]=T.styleAttrs[ne.qname]);else{var De=T.styleAttrs[R.byName.fontSize.qname];ae.styleAttrs[ne.qname]="textContainer"===T.styleAttrs[R.byName.ruby.qname]?De:new b.ComputedLength(.5*De.rw,.5*De.rh)}else{var se=T.styleAttrs[R.byName.fontSize.qname];ae.styleAttrs[ne.qname]=new b.ComputedLength(.5*se.rw,.5*se.rh)}}for(var Me=0;Me<R.all.length;Me++){var _e=R.all[Me];if(!(_e.qname in ae.styleAttrs||_e.qname===R.byName.position.qname&&R.byName.origin.qname in ae.styleAttrs||_e.qname===R.byName.origin.qname&&R.byName.position.qname in ae.styleAttrs)){var Le=k.head.styling.initials[_e.qname]||_e.initial;if(null!==Le&&("region"===ae.kind||!1===_e.inherit&&null!==Le)){var Ie=_e.parse(Le);null!==Ie?(ae.styleAttrs[_e.qname]=Ie,z[_e.qname]=!0):O(B,"Invalid initial value for '"+_e.qname+"' on element '"+ae.kind)}}}for(var we=0;we<R.all.length;we++){var Fe=R.all[we];if(Fe.qname in z&&null!==Fe.compute){var We=Fe.compute(k,T,ae,ae.styleAttrs[Fe.qname],Y);null!==We?ae.styleAttrs[Fe.qname]=We:(ae.styleAttrs[Fe.qname]=Fe.compute(k,T,ae,Fe.parse(Fe.initial),Y),O(B,"Style '"+Fe.qname+"' on element '"+ae.kind+"' cannot be computed"))}}if("none"===ae.styleAttrs[R.byName.display.qname])return null;var Ue=null;null===T?Ue=null===I?[]:[I]:"contents"in C&&(Ue=C.contents);for(var xe=0;null!==Ue&&xe<Ue.length;xe++){var be=L(k,P,x,I,ae,re,Ue[xe],B,Y);null!==be&&ae.contents.push(be.element)}for(var K in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(K)){var ie=!1;if("span"===ae.kind){var he=ae.styleAttrs[R.byName.ruby.qname];(ie=("container"===he||"textContainer"===he||"baseContainer"===he)&&-1!==F.indexOf(K))||(ie="container"!==he&&K===R.byName.rubyAlign.qname),ie||(ie=!("textContainer"===he||"text"===he)&&K===R.byName.rubyPosition.qname)}if(!ie){var q=R.byQName[K];"applies"in q&&(ie=-1===q.applies.indexOf(ae.kind))}ie&&delete ae.styleAttrs[K]}var $=ae.styleAttrs[R.byName.ruby.qname];if("p"===ae.kind||"span"===ae.kind&&("textContainer"===$||"text"===$)){var W=[];m(ae,W),function S(k){function P(C){return"br"===C.kind||/[\r\n\t ]$/.test(C.text)}function x(C){return"br"===C.kind||"preserve"===C.space&&/^[\r\n]/.test(C.text)}for(var I,T=0;T<k.length;)if("br"!==(I=k[T]).kind&&"preserve"!==I.space){var N=I.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||P(k[T-1]))&&(N=N.substring(1)),I.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(I=k[T]).kind&&"preserve"!==I.space?/[ ]$/.test(I.text)&&(T===k.length-1||x(k[T+1]))&&(I.text=I.text.slice(0,-1)):T++}(W),h(ae)}return"div"===ae.kind&&R.byName.backgroundImage.qname in ae.styleAttrs||"br"===ae.kind||"image"===ae.kind||"contents"in ae&&ae.contents.length>0||"span"===ae.kind&&null!==ae.text||"region"===ae.kind&&"always"===ae.styleAttrs[R.byName.showBackground.qname]?{region_id:re,element:ae}:null}function m(k,P){if("contents"in k)for(var x=0;x<k.contents.length;x++){var I=k.contents[x],T=I.styleAttrs[R.byName.ruby.qname];"span"===I.kind&&("textContainer"===T||"text"===T)||("contents"in I?m(I,P):("span"===I.kind&&0!==I.text.length||"br"===I.kind)&&P.push(I))}}function h(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var P=k.contents.length;P--;)h(k.contents[P])&&k.contents.splice(P,1);return 0===k.contents.length}}function p(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function v(k){for(var P in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(P)&&(this.styleAttrs[P]=k.styleAttrs[P]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function O(k,P){if(k&&k.error&&k.error(P))throw P}}(M,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(Ye,M,e){M.generateISD=e(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,M.fromXML=e(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,M.renderHTML=e(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(Ye,M,e){var y;(y=M).ns_tt="http://www.w3.org/ns/ttml",y.ns_tts="http://www.w3.org/ns/ttml#styling",y.ns_ttp="http://www.w3.org/ns/ttml#parameter",y.ns_xml="http://www.w3.org/XML/1998/namespace",y.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",y.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",y.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",y.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(Ye,M,e){!function(y,E,R){function b(S,m,h,p,v,w,V,O){this.name=m,this.ns=S,this.qname=S+" "+m,this.inherit=v,this.animatable=w,this.initial=h,this.applies=p,this.parse=V,this.compute=O}for(var F in y.all=[new b(E.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,R.parseColor,null),new b(E.ns_tts,"color","white",["span"],!0,!0,R.parseColor,null),new b(E.ns_tts,"direction","ltr",["p","span"],!0,!0,function(S){return S},null),new b(E.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(S){return S},null),new b(E.ns_tts,"displayAlign","before",["region"],!1,!0,function(S){return S},null),new b(E.ns_tts,"extent","auto",["tt","region"],!1,!0,function(S){if("auto"===S)return S;var m=S.split(" ");if(2!==m.length)return null;var h=R.parseLength(m[0]),p=R.parseLength(m[1]);return p&&h?{h:p,w:h}:null},function(S,m,h,p,v){var w,V;if("auto"===p)w=new R.ComputedLength(0,1);else if(null===(w=R.toComputedLength(p.h.value,p.h.unit,null,S.dimensions.h,null,S.pxLength.h)))return null;if("auto"===p)V=new R.ComputedLength(1,0);else if(null===(V=R.toComputedLength(p.w.value,p.w.unit,null,S.dimensions.w,null,S.pxLength.w)))return null;return{h:w,w:V}}),new b(E.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(S){for(var m=S.split(","),h=[],p=0;p<m.length;p++)"'"!==m[p].charAt(0)&&'"'!==m[p].charAt(0)&&"default"===m[p]?h.push("monospaceSerif"):h.push(m[p]);return h},null),new b(E.ns_tts,"shear","0%",["p"],!0,!0,R.parseLength,function(S,m,h,p){return"%"!==p.unit?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value}),new b(E.ns_tts,"fontSize","1c",["span","p"],!0,!0,R.parseLength,function(S,m,h,p,v){return R.toComputedLength(p.value,p.unit,null!==m?m.styleAttrs[y.byName.fontSize.qname]:S.cellLength.h,null!==m?m.styleAttrs[y.byName.fontSize.qname]:S.cellLength.h,S.cellLength.h,S.pxLength.h)}),new b(E.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(S){return S},null),new b(E.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(S){return S},null),new b(E.ns_tts,"lineHeight","normal",["p"],!0,!0,function(S){return"normal"===S?S:R.parseLength(S)},function(S,m,h,p,v){var w;if("normal"===p)w=p;else if(null===(w=R.toComputedLength(p.value,p.unit,h.styleAttrs[y.byName.fontSize.qname],h.styleAttrs[y.byName.fontSize.qname],S.cellLength.h,S.pxLength.h)))return null;return w}),new b(E.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new b(E.ns_tts,"origin","auto",["region"],!1,!0,function(S){if("auto"===S)return S;var m=S.split(" ");if(2!==m.length)return null;var h=R.parseLength(m[0]),p=R.parseLength(m[1]);return p&&h?{h:p,w:h}:null},function(S,m,h,p,v){var w,V;if("auto"===p)w=new R.ComputedLength(0,0);else if(null===(w=R.toComputedLength(p.h.value,p.h.unit,null,S.dimensions.h,null,S.pxLength.h)))return null;if("auto"===p)V=new R.ComputedLength(0,0);else if(null===(V=R.toComputedLength(p.w.value,p.w.unit,null,S.dimensions.w,null,S.pxLength.w)))return null;return{h:w,w:V}}),new b(E.ns_tts,"overflow","hidden",["region"],!1,!0,function(S){return S},null),new b(E.ns_tts,"padding","0px",["region"],!1,!0,function(S){var m=S.split(" ");if(m.length>4)return null;for(var h=[],p=0;p<m.length;p++){var v=R.parseLength(m[p]);if(!v)return null;h.push(v)}return h},function(S,m,h,p,v){var w;if(1===p.length)w=[p[0],p[0],p[0],p[0]];else if(2===p.length)w=[p[0],p[1],p[0],p[1]];else if(3===p.length)w=[p[0],p[1],p[2],p[1]];else{if(4!==p.length)return null;w=[p[0],p[1],p[2],p[3]]}var V=h.styleAttrs[y.byName.writingMode.qname];if("lrtb"===V||"lr"===V)w=[w[0],w[3],w[2],w[1]];else if("rltb"===V||"rl"===V)w=[w[0],w[1],w[2],w[3]];else if("tblr"===V)w=[w[3],w[0],w[1],w[2]];else{if("tbrl"!==V&&"tb"!==V)return null;w=[w[3],w[2],w[1],w[0]]}for(var O=[],G=0;G<w.length;G++)if(0===w[G].value)O[G]=new R.ComputedLength(0,0);else if(O[G]=R.toComputedLength(w[G].value,w[G].unit,h.styleAttrs[y.byName.fontSize.qname],0===G||2===G?h.styleAttrs[y.byName.extent.qname].h:h.styleAttrs[y.byName.extent.qname].w,0===G||2===G?S.cellLength.h:S.cellLength.w,0===G||2===G?S.pxLength.h:S.pxLength.w),null===O[G])return null;return O}),new b(E.ns_tts,"position","top left",["region"],!1,!0,function(S){return R.parsePosition(S)},function(S,m,h,p){var v,w;return null===(v=R.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new R.ComputedLength(-h.styleAttrs[y.byName.extent.qname].h.rw,S.dimensions.h.rh-h.styleAttrs[y.byName.extent.qname].h.rh),null,S.pxLength.h))||("bottom"===p.v.edge&&(v=new R.ComputedLength(-v.rw-h.styleAttrs[y.byName.extent.qname].h.rw,S.dimensions.h.rh-v.rh-h.styleAttrs[y.byName.extent.qname].h.rh)),w=R.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new R.ComputedLength(S.dimensions.w.rw-h.styleAttrs[y.byName.extent.qname].w.rw,-h.styleAttrs[y.byName.extent.qname].w.rh),null,S.pxLength.w),null===v)?null:("right"===p.h.edge&&(w=new R.ComputedLength(S.dimensions.w.rw-w.rw-h.styleAttrs[y.byName.extent.qname].w.rw,-w.rh-h.styleAttrs[y.byName.extent.qname].w.rh)),{h:v,w})}),new b(E.ns_tts,"ruby","none",["span"],!1,!0,function(S){return S},null),new b(E.ns_tts,"rubyAlign","center",["span"],!0,!0,function(S){return"center"===S||"spaceAround"===S?S:null},null),new b(E.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(S){return S},null),new b(E.ns_tts,"rubyReserve","none",["p"],!0,!0,function(S){var m=S.split(" "),h=[null,null];if(0===m.length||m.length>2)return null;if("none"!==m[0]&&"both"!==m[0]&&"after"!==m[0]&&"before"!==m[0]&&"outside"!==m[0])return null;if(h[0]=m[0],2===m.length&&"none"!==m[0]){var p=R.parseLength(m[1]);if(!p)return null;h[1]=p}return h},function(S,m,h,p,v){if("none"===p[0])return p;var w;return null===(w=null===p[1]?new R.ComputedLength(.5*h.styleAttrs[y.byName.fontSize.qname].rw,.5*h.styleAttrs[y.byName.fontSize.qname].rh):R.toComputedLength(p[1].value,p[1].unit,h.styleAttrs[y.byName.fontSize.qname],h.styleAttrs[y.byName.fontSize.qname],S.cellLength.h,S.pxLength.h))?null:[p[0],w]}),new b(E.ns_tts,"showBackground","always",["region"],!1,!0,function(S){return S},null),new b(E.ns_tts,"textAlign","start",["p"],!0,!0,function(S){return S},function(S,m,h,p,v){return"left"===p?"start":"right"===p?"end":p}),new b(E.ns_tts,"textCombine","none",["span"],!0,!0,function(S){return"none"===S||"all"===S?S:null},null),new b(E.ns_tts,"textDecoration","none",["span"],!0,!0,function(S){return S.split(" ")},null),new b(E.ns_tts,"textEmphasis","none",["span"],!0,!0,function(S){for(var m=S.split(" "),h={style:null,symbol:null,color:null,position:null},p=0;p<m.length;p++)if("none"===m[p]||"auto"===m[p])h.style=m[p];else if("filled"===m[p]||"open"===m[p])h.style=m[p];else if("circle"===m[p]||"dot"===m[p]||"sesame"===m[p])h.symbol=m[p];else if("current"===m[p])h.color=m[p];else if("outside"===m[p]||"before"===m[p]||"after"===m[p])h.position=m[p];else if(h.color=R.parseColor(m[p]),null===h.color)return null;return null==h.style&&null==h.symbol?h.style="auto":(h.symbol=h.symbol||"circle",h.style=h.style||"filled"),h.position=h.position||"outside",h.color=h.color||"current",h},null),new b(E.ns_tts,"textOutline","none",["span"],!0,!0,function(S){if("none"===S)return S;var m={},h=S.split(" ");if(0===h.length||h.length>2)return null;var p=R.parseColor(h[0]);if(m.color=p,null!==p&&h.shift(),1!==h.length)return null;var v=R.parseLength(h[0]);return v?(m.thickness=v,m):null},function(S,m,h,p,v){if("none"===p)return p;var w={};return w.color=null===p.color?h.styleAttrs[y.byName.color.qname]:p.color,w.thickness=R.toComputedLength(p.thickness.value,p.thickness.unit,h.styleAttrs[y.byName.fontSize.qname],h.styleAttrs[y.byName.fontSize.qname],S.cellLength.h,S.pxLength.h),null===w.thickness?null:w}),new b(E.ns_tts,"textShadow","none",["span"],!0,!0,R.parseTextShadow,function(S,m,h,p){if("none"===p)return p;for(var v=[],w=0;w<p.length;w++){var V={};if(V.x_off=R.toComputedLength(p[w][0].value,p[w][0].unit,null,h.styleAttrs[y.byName.fontSize.qname],null,S.pxLength.w),null===V.x_off||(V.y_off=R.toComputedLength(p[w][1].value,p[w][1].unit,null,h.styleAttrs[y.byName.fontSize.qname],null,S.pxLength.h),null===V.y_off))return null;if(null===p[w][2])V.b_radius=0;else if(V.b_radius=R.toComputedLength(p[w][2].value,p[w][2].unit,null,h.styleAttrs[y.byName.fontSize.qname],null,S.pxLength.h),null===V.b_radius)return null;V.color=null===p[w][3]?h.styleAttrs[y.byName.color.qname]:p[w][3],v.push(V)}return v}),new b(E.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(S){return S},null),new b(E.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(S){return S},null),new b(E.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(S){return S},null),new b(E.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(S){return S},null),new b(E.ns_tts,"zIndex","auto",["region"],!1,!0,function(S){var m;return"auto"===S?m=S:(m=parseInt(S),isNaN(m)&&(m=null)),m},null),new b(E.ns_ebutts,"linePadding","0c",["p"],!0,!1,R.parseLength,function(S,m,h,p,v){return R.toComputedLength(p.value,p.unit,null,null,S.cellLength.w,null)}),new b(E.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(S){return S},null),new b(E.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(S){return S},null),new b(E.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(S){return"true"===S},null),new b(E.ns_itts,"fillLineGap","false",["p"],!0,!0,function(S){return"true"===S},null)],y.byQName={},y.all)y.byQName[y.all[F].qname]=y.all[F];for(var L in y.byName={},y.all)y.byName[y.all[L].name]=y.all[L]}(M,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(Ye,M,e){!function(y){var E=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,R=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,b=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};y.parseColor=function(S){var m,h=null,p=F[S.toLowerCase()];return void 0!==p?h=p:null!==(m=E.exec(S))?h=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),void 0!==m[4]?parseInt(m[4],16):255]:null!==(m=R.exec(S))?h=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:null!==(m=b.exec(S))&&(h=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),h};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;y.parseLength=function(S){var m,h=null;return null!==(m=L.exec(S))&&(h={value:parseFloat(m[1]),unit:m[2]}),h},y.parseTextShadow=function(S){for(var m=S.match(/([^\(,\)]|\([^\)]+\))+/g),h=[],p=0;p<m.length;p++){var v=m[p].split(" ");if(1===v.length&&"none"===v[0])return"none";if(v.length>1&&v.length<5){var w=[null,null,null,null],V=y.parseLength(v.shift());if(null===V||(w[0]=V,null===(V=y.parseLength(v.shift()))))return null;if(w[1]=V,0===v.length){h.push(w);continue}if(null!==(V=y.parseLength(v[0]))&&(w[2]=V,v.shift()),0===v.length){h.push(w);continue}var O=y.parseColor(v[0]);if(null===O)return null;w[3]=O,h.push(w)}}return h},y.parsePosition=function(S){var m=S.split(" "),h=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(m.length>4)return null;for(var p=0;p<m.length;p++)if(!h(m[p])){var v=y.parseLength(m[p]);if(null===v)return null;m[p]=v}for(var w={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},V=0;V<m.length;){var O=m[V++];if(h(O)){var G={value:0,unit:"%"};2!==m.length&&V<m.length&&!h(m[V])&&(G=m[V++]),"right"===O?(w.h.edge=O,w.h.offset=G):"bottom"===O?(w.v.edge=O,w.v.offset=G):"left"===O?w.h.offset=G:"top"===O&&(w.v.offset=G)}else{if(1!==m.length&&2!==m.length)return null;1===V?w.h.offset=O:w.v.offset=O}}return w},y.ComputedLength=function(S,m){this.rw=S,this.rh=m},y.ComputedLength.prototype.toUsedLength=function(S,m){return S*this.rw+m*this.rh},y.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},y.toComputedLength=function(S,m,h,p,v,w){return"%"===m&&p?new y.ComputedLength(p.rw*S/100,p.rh*S/100):"em"===m&&h?new y.ComputedLength(h.rw*S,h.rh*S):"c"===m&&v?new y.ComputedLength(S*v.rw,S*v.rh):"px"===m&&w?new y.ComputedLength(S*w.rw,S*w.rh):"rh"===m?new y.ComputedLength(0,S/100):"rw"===m?new y.ComputedLength(S/100,0):null}}(M)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(Ye,M){Ye.exports="function"==typeof Object.create?function(y,E){E&&(y.super_=E,y.prototype=Object.create(E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}))}:function(y,E){if(E){y.super_=E;var R=function(){};R.prototype=E.prototype,y.prototype=new R,y.prototype.constructor=y}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=function y(E){var R="string"==typeof E?E.charCodeAt(0):E;return R>=97&&R<=122||R>=65&&R<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),E=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Ye.exports=function R(b){return y(b)||E(b)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=function y(E){var R="string"==typeof E?E.charCodeAt(0):E;return R>=48&&R<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ye,M){var e={}.toString;Ye.exports=Array.isArray||function(y){return"[object Array]"==e.call(y)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ye,M,e){(function(y){function E(L,S){for(var m=0,h=L.length-1;h>=0;h--){var p=L[h];"."===p?L.splice(h,1):".."===p?(L.splice(h,1),m++):m&&(L.splice(h,1),m--)}if(S)for(;m--;m)L.unshift("..");return L}function b(L,S){if(L.filter)return L.filter(S);for(var m=[],h=0;h<L.length;h++)S(L[h],h,L)&&m.push(L[h]);return m}M.resolve=function(){for(var L="",S=!1,m=arguments.length-1;m>=-1&&!S;m--){var h=m>=0?arguments[m]:y.cwd();if("string"!=typeof h)throw new TypeError("Arguments to path.resolve must be strings");h&&(L=h+"/"+L,S="/"===h.charAt(0))}return(S?"/":"")+(L=E(b(L.split("/"),function(p){return!!p}),!S).join("/"))||"."},M.normalize=function(L){var S=M.isAbsolute(L),m="/"===F(L,-1);return!(L=E(b(L.split("/"),function(h){return!!h}),!S).join("/"))&&!S&&(L="."),L&&m&&(L+="/"),(S?"/":"")+L},M.isAbsolute=function(L){return"/"===L.charAt(0)},M.join=function(){var L=Array.prototype.slice.call(arguments,0);return M.normalize(b(L,function(S,m){if("string"!=typeof S)throw new TypeError("Arguments to path.join must be strings");return S}).join("/"))},M.relative=function(L,S){function m(G){for(var k=0;k<G.length&&""===G[k];k++);for(var P=G.length-1;P>=0&&""===G[P];P--);return k>P?[]:G.slice(k,P-k+1)}L=M.resolve(L).substr(1),S=M.resolve(S).substr(1);for(var h=m(L.split("/")),p=m(S.split("/")),v=Math.min(h.length,p.length),w=v,V=0;V<v;V++)if(h[V]!==p[V]){w=V;break}var O=[];for(V=w;V<h.length;V++)O.push("..");return(O=O.concat(p.slice(w))).join("/")},M.sep="/",M.delimiter=":",M.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var S=L.charCodeAt(0),m=47===S,h=-1,p=!0,v=L.length-1;v>=1;--v)if(47===(S=L.charCodeAt(v))){if(!p){h=v;break}}else p=!1;return-1===h?m?"/":".":m&&1===h?"/":L.slice(0,h)},M.basename=function(L,S){var m=function R(L){"string"!=typeof L&&(L+="");var p,S=0,m=-1,h=!0;for(p=L.length-1;p>=0;--p)if(47===L.charCodeAt(p)){if(!h){S=p+1;break}}else-1===m&&(h=!1,m=p+1);return-1===m?"":L.slice(S,m)}(L);return S&&m.substr(-1*S.length)===S&&(m=m.substr(0,m.length-S.length)),m},M.extname=function(L){"string"!=typeof L&&(L+="");for(var S=-1,m=0,h=-1,p=!0,v=0,w=L.length-1;w>=0;--w){var V=L.charCodeAt(w);if(47!==V)-1===h&&(p=!1,h=w+1),46===V?-1===S?S=w:1!==v&&(v=1):-1!==S&&(v=-1);else if(!p){m=w+1;break}}return-1===S||-1===h||0===v||1===v&&S===h-1&&S===m+1?"":L.slice(S,h)};var F=function(L,S,m){return L.substr(S,m)}}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";(function(y){Ye.exports=typeof y>"u"||!y.version||0===y.version.indexOf("v0.")||0===y.version.indexOf("v1.")&&0!==y.version.indexOf("v1.8.")?{nextTick:function E(R,b,F,L){if("function"!=typeof R)throw new TypeError('"callback" argument must be a function');var m,h,S=arguments.length;switch(S){case 0:case 1:return y.nextTick(R);case 2:return y.nextTick(function(){R.call(null,b)});case 3:return y.nextTick(function(){R.call(null,b,F)});case 4:return y.nextTick(function(){R.call(null,b,F,L)});default:for(m=new Array(S-1),h=0;h<m.length;)m[h++]=arguments[h];return y.nextTick(function(){R.apply(null,m)})}}}:y}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(Ye,M){var y,E,e=Ye.exports={};function R(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function F(G){if(y===setTimeout)return setTimeout(G,0);if((y===R||!y)&&setTimeout)return y=setTimeout,setTimeout(G,0);try{return y(G,0)}catch{try{return y.call(null,G,0)}catch{return y.call(this,G,0)}}}!function(){try{y="function"==typeof setTimeout?setTimeout:R}catch{y=R}try{E="function"==typeof clearTimeout?clearTimeout:b}catch{E=b}}();var h,S=[],m=!1,p=-1;function v(){!m||!h||(m=!1,h.length?S=h.concat(S):p=-1,S.length&&w())}function w(){if(!m){var G=F(v);m=!0;for(var k=S.length;k;){for(h=S,S=[];++p<k;)h&&h[p].run();p=-1,k=S.length}h=null,m=!1,function L(G){if(E===clearTimeout)return clearTimeout(G);if((E===b||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(G);try{return E(G)}catch{try{return E.call(null,G)}catch{return E.call(this,G)}}}(G)}}function V(G,k){this.fun=G,this.array=k}function O(){}e.nextTick=function(G){var k=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)k[P-1]=arguments[P];S.push(new V(G,k)),1===S.length&&!m&&F(w)},V.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=O,e.addListener=O,e.once=O,e.off=O,e.removeListener=O,e.removeAllListeners=O,e.emit=O,e.prependListener=O,e.prependOnceListener=O,e.listeners=function(G){return[]},e.binding=function(G){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(G){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(Ye,M,e){Ye.exports=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),E=Object.keys||function(w){var V=[];for(var O in w)V.push(O);return V};Ye.exports=h;var R=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));R.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var b=e(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=e(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");R.inherits(h,b);for(var L=E(F.prototype),S=0;S<L.length;S++){var m=L[S];h.prototype[m]||(h.prototype[m]=F.prototype[m])}function h(w){if(!(this instanceof h))return new h(w);b.call(this,w),F.call(this,w),w&&!1===w.readable&&(this.readable=!1),w&&!1===w.writable&&(this.writable=!1),this.allowHalfOpen=!0,w&&!1===w.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||y.nextTick(v,this)}function v(w){w.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(w){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=w,this._writableState.destroyed=w)}}),h.prototype._destroy=function(w,V){this.push(null),this.end(),y.nextTick(V,w)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=R;var y=e(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),E=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function R(b){if(!(this instanceof R))return new R(b);y.call(this,b)}E.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(R,y),R.prototype._transform=function(b,F,L){L(null,b)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";(function(y,E){var R=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");Ye.exports=C;var F,b=e(
/*! isarray */
"./node_modules/isarray/index.js");C.ReadableState=N,e(
/*! events */
"./node_modules/events/events.js");var S=function(be,K){return be.listeners(K).length},m=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),h=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,p=y.Uint8Array||function(){};var V=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));V.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var O=e(
/*! util */
0),G=void 0;G=O&&O.debuglog?O.debuglog("stream"):function(){};var x,k=e(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),P=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");V.inherits(C,m);var I=["error","close","destroy","pause","resume"];function N(be,K){var ie=K instanceof(F=F||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(be=be||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!be.readableObjectMode);var he=be.highWaterMark,q=be.readableHighWaterMark;this.highWaterMark=he||0===he?he:ie&&(q||0===q)?q:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(x||(x=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new x(be.encoding),this.encoding=be.encoding)}function C(be){if(F=F||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof C))return new C(be);this._readableState=new N(be,this),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),m.call(this)}function B(be,K,ie,he,q){var W,$=be._readableState;return null===K?($.reading=!1,function H(be,K){if(!K.ended){if(K.decoder){var ie=K.decoder.end();ie&&ie.length&&(K.buffer.push(ie),K.length+=K.objectMode?1:ie.length)}K.ended=!0,me(be)}}(be,$)):(q||(W=function re(be,K){var ie;return!function w(be){return h.isBuffer(be)||be instanceof p}(K)&&"string"!=typeof K&&void 0!==K&&!be.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}($,K)),W?be.emit("error",W):$.objectMode||K&&K.length>0?("string"!=typeof K&&!$.objectMode&&Object.getPrototypeOf(K)!==h.prototype&&(K=function v(be){return h.from(be)}(K)),he?$.endEmitted?be.emit("error",new Error("stream.unshift() after end event")):Y(be,$,K,!0):$.ended?be.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!ie?(K=$.decoder.write(K),$.objectMode||0!==K.length?Y(be,$,K,!1):fe(be,$)):Y(be,$,K,!1))):he||($.reading=!1)),function ae(be){return!be.ended&&(be.needReadable||be.length<be.highWaterMark||0===be.length)}($)}function Y(be,K,ie,he){K.flowing&&0===K.length&&!K.sync?(be.emit("data",ie),be.read(0)):(K.length+=K.objectMode?1:ie.length,he?K.buffer.unshift(ie):K.buffer.push(ie),K.needReadable&&me(be)),fe(be,K)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),C.prototype.destroy=P.destroy,C.prototype._undestroy=P.undestroy,C.prototype._destroy=function(be,K){this.push(null),K(be)},C.prototype.push=function(be,K){var he,ie=this._readableState;return ie.objectMode?he=!0:"string"==typeof be&&((K=K||ie.defaultEncoding)!==ie.encoding&&(be=h.from(be,K),K=""),he=!0),B(this,be,K,!1,he)},C.prototype.unshift=function(be){return B(this,be,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(be){return x||(x=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new x(be),this._readableState.encoding=be,this};var Oe=8388608;function oe(be,K){return be<=0||0===K.length&&K.ended?0:K.objectMode?1:be!=be?K.flowing&&K.length?K.buffer.head.data.length:K.length:(be>K.highWaterMark&&(K.highWaterMark=function z(be){return be>=Oe?be=Oe:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=K.length?be:K.ended?K.length:(K.needReadable=!0,0))}function me(be){var K=be._readableState;K.needReadable=!1,K.emittedReadable||(G("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?R.nextTick(ne,be):ne(be))}function ne(be){G("emit readable"),be.emit("readable"),_e(be)}function fe(be,K){K.readingMore||(K.readingMore=!0,R.nextTick(Ee,be,K))}function Ee(be,K){for(var ie=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(G("maybeReadMore read 0"),be.read(0),ie!==K.length);)ie=K.length;K.readingMore=!1}function se(be){G("readable nexttick read 0"),be.read(0)}function Me(be,K){K.reading||(G("resume read 0"),be.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,be.emit("resume"),_e(be),K.flowing&&!K.reading&&be.read(0)}function _e(be){var K=be._readableState;for(G("flow",K.flowing);K.flowing&&null!==be.read(););}function Le(be,K){return 0===K.length?null:(K.objectMode?ie=K.buffer.shift():!be||be>=K.length?(ie=K.decoder?K.buffer.join(""):1===K.buffer.length?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):ie=function Ie(be,K,ie){var he;return be<K.head.data.length?(he=K.head.data.slice(0,be),K.head.data=K.head.data.slice(be)):he=be===K.head.data.length?K.shift():ie?function we(be,K){var ie=K.head,he=1,q=ie.data;for(be-=q.length;ie=ie.next;){var $=ie.data,W=be>$.length?$.length:be;if(q+=W===$.length?$:$.slice(0,be),0==(be-=W)){W===$.length?(++he,K.head=ie.next?ie.next:K.tail=null):(K.head=ie,ie.data=$.slice(W));break}++he}return K.length-=he,q}(be,K):function Fe(be,K){var ie=h.allocUnsafe(be),he=K.head,q=1;for(he.data.copy(ie),be-=he.data.length;he=he.next;){var $=he.data,W=be>$.length?$.length:be;if($.copy(ie,ie.length-be,0,W),0==(be-=W)){W===$.length?(++q,K.head=he.next?he.next:K.tail=null):(K.head=he,he.data=$.slice(W));break}++q}return K.length-=q,ie}(be,K),he}(be,K.buffer,K.decoder),ie);var ie}function We(be){var K=be._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,R.nextTick(Ue,K,be))}function Ue(be,K){!be.endEmitted&&0===be.length&&(be.endEmitted=!0,K.readable=!1,K.emit("end"))}function xe(be,K){for(var ie=0,he=be.length;ie<he;ie++)if(be[ie]===K)return ie;return-1}C.prototype.read=function(be){G("read",be),be=parseInt(be,10);var K=this._readableState,ie=be;if(0!==be&&(K.emittedReadable=!1),0===be&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return G("read: emitReadable",K.length,K.ended),0===K.length&&K.ended?We(this):me(this),null;if(0===(be=oe(be,K))&&K.ended)return 0===K.length&&We(this),null;var q,he=K.needReadable;return G("need readable",he),(0===K.length||K.length-be<K.highWaterMark)&&G("length less than watermark",he=!0),K.ended||K.reading?G("reading or ended",he=!1):he&&(G("do read"),K.reading=!0,K.sync=!0,0===K.length&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(be=oe(ie,K))),null===(q=be>0?Le(be,K):null)?(K.needReadable=!0,be=0):K.length-=be,0===K.length&&(K.ended||(K.needReadable=!0),ie!==be&&K.ended&&We(this)),null!==q&&this.emit("data",q),q},C.prototype._read=function(be){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(be,K){var ie=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=be;break;case 1:he.pipes=[he.pipes,be];break;default:he.pipes.push(be)}he.pipesCount+=1,G("pipe count=%d opts=%j",he.pipesCount,K);var $=K&&!1===K.end||be===E.stdout||be===E.stderr?ke:te;function W(Ze,qe){G("onunpipe"),Ze===ie&&qe&&!1===qe.hasUnpiped&&(qe.hasUnpiped=!0,function Q(){G("cleanup"),be.removeListener("close",Te),be.removeListener("finish",Ve),be.removeListener("drain",X),be.removeListener("error",le),be.removeListener("unpipe",W),ie.removeListener("end",te),ie.removeListener("end",ke),ie.removeListener("data",pe),J=!0,he.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&X()}())}function te(){G("onend"),be.end()}he.endEmitted?R.nextTick($):ie.once("end",$),be.on("unpipe",W);var X=function Ae(be){return function(){var K=be._readableState;G("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,0===K.awaitDrain&&S(be,"data")&&(K.flowing=!0,_e(be))}}(ie);be.on("drain",X);var J=!1;var de=!1;function pe(Ze){G("ondata"),de=!1,!1===be.write(Ze)&&!de&&((1===he.pipesCount&&he.pipes===be||he.pipesCount>1&&-1!==xe(he.pipes,be))&&!J&&(G("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,de=!0),ie.pause())}function le(Ze){G("onerror",Ze),ke(),be.removeListener("error",le),0===S(be,"error")&&be.emit("error",Ze)}function Te(){be.removeListener("finish",Ve),ke()}function Ve(){G("onfinish"),be.removeListener("close",Te),ke()}function ke(){G("unpipe"),ie.unpipe(be)}return ie.on("data",pe),function T(be,K,ie){if("function"==typeof be.prependListener)return be.prependListener(K,ie);be._events&&be._events[K]?b(be._events[K])?be._events[K].unshift(ie):be._events[K]=[ie,be._events[K]]:be.on(K,ie)}(be,"error",le),be.once("close",Te),be.once("finish",Ve),be.emit("pipe",ie),he.flowing||(G("pipe resume"),ie.resume()),be},C.prototype.unpipe=function(be){var K=this._readableState,ie={hasUnpiped:!1};if(0===K.pipesCount)return this;if(1===K.pipesCount)return be&&be!==K.pipes||(be||(be=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,be&&be.emit("unpipe",this,ie)),this;if(!be){var he=K.pipes,q=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var $=0;$<q;$++)he[$].emit("unpipe",this,ie);return this}var W=xe(K.pipes,be);return-1===W||(K.pipes.splice(W,1),K.pipesCount-=1,1===K.pipesCount&&(K.pipes=K.pipes[0]),be.emit("unpipe",this,ie)),this},C.prototype.addListener=C.prototype.on=function(be,K){var ie=m.prototype.on.call(this,be,K);if("data"===be)!1!==this._readableState.flowing&&this.resume();else if("readable"===be){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&me(this):R.nextTick(se,this))}return ie},C.prototype.resume=function(){var be=this._readableState;return be.flowing||(G("resume"),be.flowing=!0,function De(be,K){K.resumeScheduled||(K.resumeScheduled=!0,R.nextTick(Me,be,K))}(this,be)),this},C.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(be){var K=this,ie=this._readableState,he=!1;for(var q in be.on("end",function(){if(G("wrapped end"),ie.decoder&&!ie.ended){var W=ie.decoder.end();W&&W.length&&K.push(W)}K.push(null)}),be.on("data",function(W){G("wrapped data"),ie.decoder&&(W=ie.decoder.write(W)),ie.objectMode&&null==W||!(ie.objectMode||W&&W.length)||K.push(W)||(he=!0,be.pause())}),be)void 0===this[q]&&"function"==typeof be[q]&&(this[q]=function(W){return function(){return be[W].apply(be,arguments)}}(q));for(var $=0;$<I.length;$++)be.on(I[$],this.emit.bind(this,I[$]));return this._read=function(W){G("wrapped _read",W),he&&(he=!1,be.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=Le}).call(this,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";Ye.exports=b;var y=e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),E=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function R(S,m){var h=this._transformState;h.transforming=!1;var p=h.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,null!=m&&this.push(m),p(S);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function b(S){if(!(this instanceof b))return new b(S);y.call(this,S),this._transformState={afterTransform:R.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&("function"==typeof S.transform&&(this._transform=S.transform),"function"==typeof S.flush&&(this._flush=S.flush)),this.on("prefinish",F)}function F(){var S=this;"function"==typeof this._flush?this._flush(function(m,h){L(S,m,h)}):L(this,null,null)}function L(S,m,h){if(m)return S.emit("error",m);if(null!=h&&S.push(h),S._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(S._transformState.transforming)throw new Error("Calling transform done when still transforming");return S.push(null)}E.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(b,y),b.prototype.push=function(S,m){return this._transformState.needTransform=!1,y.prototype.push.call(this,S,m)},b.prototype._transform=function(S,m,h){throw new Error("_transform() is not implemented")},b.prototype._write=function(S,m,h){var p=this._transformState;if(p.writecb=h,p.writechunk=S,p.writeencoding=m,!p.transforming){var v=this._readableState;(p.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},b.prototype._read=function(S){var m=this._transformState;null!==m.writechunk&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},b.prototype._destroy=function(S,m){var h=this;y.prototype._destroy.call(this,S,function(p){m(p),h.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";(function(y,E,R){var b=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(Me){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function De(Me,_e,Le){var Ie=Me.entry;for(Me.entry=null;Ie;){var we=Ie.callback;_e.pendingcb--,we(Le),Ie=Ie.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=Me:_e.corkedRequestsFree=Me}(_e,Me)}}Ye.exports=T;var m,S=!y.browser&&["v0.10","v0.9."].indexOf(y.version.slice(0,5))>-1?E:b.nextTick;T.WritableState=x;var h=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));h.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var p={deprecate:e(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},v=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),w=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,V=R.Uint8Array||function(){};var I,k=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function P(){}function x(Me,_e){m=m||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Le=_e instanceof m;this.objectMode=!!(Me=Me||{}).objectMode,Le&&(this.objectMode=this.objectMode||!!Me.writableObjectMode);var Ie=Me.highWaterMark,we=Me.writableHighWaterMark;this.highWaterMark=Ie||0===Ie?Ie:Le&&(we||0===we)?we:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Me.decodeStrings),this.defaultEncoding=Me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ue){!function z(Me,_e){var Le=Me._writableState,Ie=Le.sync,we=Le.writecb;if(function Oe(Me){Me.writing=!1,Me.writecb=null,Me.length-=Me.writelen,Me.writelen=0}(Le),_e)!function ae(Me,_e,Le,Ie,we){--_e.pendingcb,Le?(b.nextTick(we,Ie),b.nextTick(Ae,Me,_e),Me._writableState.errorEmitted=!0,Me.emit("error",Ie)):(we(Ie),Me._writableState.errorEmitted=!0,Me.emit("error",Ie),Ae(Me,_e))}(Me,Le,Ie,_e,we);else{var Fe=ne(Le);!Fe&&!Le.corked&&!Le.bufferProcessing&&Le.bufferedRequest&&me(Me,Le),Ie?S(oe,Me,Le,Fe,we):oe(Me,Le,Fe,we)}}(_e,Ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(Me){if(m=m||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(T,this)||this instanceof m))return new T(Me);this._writableState=new x(Me,this),this.writable=!0,Me&&("function"==typeof Me.write&&(this._write=Me.write),"function"==typeof Me.writev&&(this._writev=Me.writev),"function"==typeof Me.destroy&&(this._destroy=Me.destroy),"function"==typeof Me.final&&(this._final=Me.final)),v.call(this)}function Y(Me,_e,Le,Ie,we,Fe){if(!Le){var We=function B(Me,_e,Le){return!Me.objectMode&&!1!==Me.decodeStrings&&"string"==typeof _e&&(_e=w.from(_e,Le)),_e}(_e,Ie,we);Ie!==We&&(Le=!0,we="buffer",Ie=We)}var Ue=_e.objectMode?1:Ie.length;_e.length+=Ue;var xe=_e.length<_e.highWaterMark;if(xe||(_e.needDrain=!0),_e.writing||_e.corked){var be=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:Ie,encoding:we,isBuf:Le,callback:Fe,next:null},be?be.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else re(Me,_e,!1,Ue,Ie,we,Fe);return xe}function re(Me,_e,Le,Ie,we,Fe,We){_e.writelen=Ie,_e.writecb=We,_e.writing=!0,_e.sync=!0,Le?Me._writev(we,_e.onwrite):Me._write(we,Fe,_e.onwrite),_e.sync=!1}function oe(Me,_e,Le,Ie){Le||function H(Me,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,Me.emit("drain"))}(Me,_e),_e.pendingcb--,Ie(),Ae(Me,_e)}function me(Me,_e){_e.bufferProcessing=!0;var Le=_e.bufferedRequest;if(Me._writev&&Le&&Le.next){var we=new Array(_e.bufferedRequestCount),Fe=_e.corkedRequestsFree;Fe.entry=Le;for(var We=0,Ue=!0;Le;)we[We]=Le,Le.isBuf||(Ue=!1),Le=Le.next,We+=1;we.allBuffers=Ue,re(Me,_e,!0,_e.length,we,"",Fe.finish),_e.pendingcb++,_e.lastBufferedRequest=null,Fe.next?(_e.corkedRequestsFree=Fe.next,Fe.next=null):_e.corkedRequestsFree=new L(_e),_e.bufferedRequestCount=0}else{for(;Le;){var xe=Le.chunk;if(re(Me,_e,!1,_e.objectMode?1:xe.length,xe,Le.encoding,Le.callback),Le=Le.next,_e.bufferedRequestCount--,_e.writing)break}null===Le&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Le,_e.bufferProcessing=!1}function ne(Me){return Me.ending&&0===Me.length&&null===Me.bufferedRequest&&!Me.finished&&!Me.writing}function fe(Me,_e){Me._final(function(Le){_e.pendingcb--,Le&&Me.emit("error",Le),_e.prefinished=!0,Me.emit("prefinish"),Ae(Me,_e)})}function Ae(Me,_e){var Le=ne(_e);return Le&&(function Ee(Me,_e){!_e.prefinished&&!_e.finalCalled&&("function"==typeof Me._final?(_e.pendingcb++,_e.finalCalled=!0,b.nextTick(fe,Me,_e)):(_e.prefinished=!0,Me.emit("prefinish")))}(Me,_e),0===_e.pendingcb&&(_e.finished=!0,Me.emit("finish"))),Le}h.inherits(T,v),x.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Le=[];_e;)Le.push(_e),_e=_e.next;return Le},function(){try{Object.defineProperty(x.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(Me){return!!I.call(this,Me)||this===T&&Me&&Me._writableState instanceof x}})):I=function(Me){return Me instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(Me,_e,Le){var Ie=this._writableState,we=!1,Fe=!Ie.objectMode&&function G(Me){return w.isBuffer(Me)||Me instanceof V}(Me);return Fe&&!w.isBuffer(Me)&&(Me=function O(Me){return w.from(Me)}(Me)),"function"==typeof _e&&(Le=_e,_e=null),Fe?_e="buffer":_e||(_e=Ie.defaultEncoding),"function"!=typeof Le&&(Le=P),Ie.ended?function N(Me,_e){var Le=new Error("write after end");Me.emit("error",Le),b.nextTick(_e,Le)}(this,Le):(Fe||function C(Me,_e,Le,Ie){var we=!0,Fe=!1;return null===Le?Fe=new TypeError("May not write null values to stream"):"string"!=typeof Le&&void 0!==Le&&!_e.objectMode&&(Fe=new TypeError("Invalid non-string/buffer chunk")),Fe&&(Me.emit("error",Fe),b.nextTick(Ie,Fe),we=!1),we}(this,Ie,Me,Le))&&(Ie.pendingcb++,we=Y(this,Ie,Fe,Me,_e,Le)),we},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Me=this._writableState;Me.corked&&(Me.corked--,!Me.writing&&!Me.corked&&!Me.finished&&!Me.bufferProcessing&&Me.bufferedRequest&&me(this,Me))},T.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(Me,_e,Le){Le(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(Me,_e,Le){var Ie=this._writableState;"function"==typeof Me?(Le=Me,Me=null,_e=null):"function"==typeof _e&&(Le=_e,_e=null),null!=Me&&this.write(Me,_e),Ie.corked&&(Ie.corked=1,this.uncork()),!Ie.ending&&!Ie.finished&&function se(Me,_e,Le){_e.ending=!0,Ae(Me,_e),Le&&(_e.finished?b.nextTick(Le):Me.once("finish",Le)),_e.ended=!0,Me.writable=!1}(this,Ie,Le)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Me){this._writableState&&(this._writableState.destroyed=Me)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(Me,_e){this.end(),_e(Me)}}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var E=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,R=e(
/*! util */
1);function b(F,L,S){F.copy(L,S)}Ye.exports=function(){function F(){(function y(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(S){var m={data:S,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length},F.prototype.unshift=function(S){var m={data:S,next:this.head};0===this.length&&(this.tail=m),this.head=m,++this.length},F.prototype.shift=function(){if(0!==this.length){var S=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,S}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(S){if(0===this.length)return"";for(var m=this.head,h=""+m.data;m=m.next;)h+=S+m.data;return h},F.prototype.concat=function(S){if(0===this.length)return E.alloc(0);if(1===this.length)return this.head.data;for(var m=E.allocUnsafe(S>>>0),h=this.head,p=0;h;)b(h.data,m,p),p+=h.data.length,h=h.next;return m},F}(),R&&R.inspect&&R.inspect.custom&&(Ye.exports.prototype[R.inspect.custom]=function(){var F=R.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function b(F,L){F.emit("error",L)}Ye.exports={destroy:function E(F,L){var S=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&y.nextTick(b,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(p){!L&&p?(y.nextTick(b,S,p),S._writableState&&(S._writableState.errorEmitted=!0)):L&&L(p)}),this)},undestroy:function R(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(Ye,M,e){Ye.exports=e(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(Ye,M,e){var y=e(
/*! buffer */
"./node_modules/buffer/index.js"),E=y.Buffer;function R(F,L){for(var S in F)L[S]=F[S]}function b(F,L,S){return E(F,L,S)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Ye.exports=y:(R(y,M),M.Buffer=b),R(E,b),b.from=function(F,L,S){if("number"==typeof F)throw new TypeError("Argument must not be a number");return E(F,L,S)},b.alloc=function(F,L,S){if("number"!=typeof F)throw new TypeError("Argument must be a number");var m=E(F);return void 0!==L?"string"==typeof S?m.fill(L,S):m.fill(L):m.fill(0),m},b.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return E(F)},b.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return y.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(Ye,M,e){Ye.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ye,M,e){(M=Ye.exports=e(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=M,M.Readable=M,M.Writable=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),M.Duplex=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),M.Transform=e(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),M.PassThrough=e(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(Ye,M,e){Ye.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ye,M,e){Ye.exports=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(Ye,M,e){var y=e(
/*! buffer */
"./node_modules/buffer/index.js"),E=y.Buffer;function R(F,L){for(var S in F)L[S]=F[S]}function b(F,L,S){return E(F,L,S)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Ye.exports=y:(R(y,M),M.Buffer=b),b.prototype=Object.create(E.prototype),R(E,b),b.from=function(F,L,S){if("number"==typeof F)throw new TypeError("Argument must not be a number");return E(F,L,S)},b.alloc=function(F,L,S){if("number"!=typeof F)throw new TypeError("Argument must be a number");var m=E(F);return void 0!==L?"string"==typeof S?m.fill(L,S):m.fill(L):m.fill(0),m},b.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return E(F)},b.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return y.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(Ye,M,e){(function(y){!function(E){E.parser=function(K,ie){return new b(K,ie)},E.SAXParser=b,E.SAXStream=v,E.createStream=function p(K,ie){return new v(K,ie)},E.MAX_BUFFER_LENGTH=65536;var m,R=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function b(K,ie){if(!(this instanceof b))return new b(K,ie);var he=this;(function L(K){for(var ie=0,he=R.length;ie<he;ie++)K[R[ie]]=""})(he),he.q=he.c="",he.bufferCheckPosition=E.MAX_BUFFER_LENGTH,he.opt=ie||{},he.opt.lowercase=he.opt.lowercase||he.opt.lowercasetags,he.looseCase=he.opt.lowercase?"toLowerCase":"toUpperCase",he.tags=[],he.closed=he.closedRoot=he.sawRoot=!1,he.tag=he.error=null,he.strict=!!K,he.noscript=!(!K&&!he.opt.noscript),he.state=H.BEGIN,he.strictEntities=he.opt.strictEntities,he.ENTITIES=Object.create(he.strictEntities?E.XML_ENTITIES:E.ENTITIES),he.attribList=[],he.opt.xmlns&&(he.ns=Object.create(N)),he.trackPosition=!1!==he.opt.position,he.trackPosition&&(he.position=he.line=he.column=0),ne(he,"onready")}E.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(K){function ie(){}return ie.prototype=K,new ie}),Object.keys||(Object.keys=function(K){var ie=[];for(var he in K)K.hasOwnProperty(he)&&ie.push(he);return ie}),b.prototype={end:function(){De(this)},write:function be(K){var ie=this;if(this.error)throw this.error;if(ie.closed)return se(ie,"Cannot write after close. Assign an onready handler.");if(null===K)return De(ie);"object"==typeof K&&(K=K.toString());for(var he=0,q="";q=xe(K,he++),ie.c=q,q;)switch(ie.trackPosition&&(ie.position++,"\n"===q?(ie.line++,ie.column=0):ie.column++),ie.state){case H.BEGIN:if(ie.state=H.BEGIN_WHITESPACE,"\ufeff"===q)continue;Ue(ie,q);continue;case H.BEGIN_WHITESPACE:Ue(ie,q);continue;case H.TEXT:if(ie.sawRoot&&!ie.closedRoot){for(var $=he-1;q&&"<"!==q&&"&"!==q;)(q=xe(K,he++))&&ie.trackPosition&&(ie.position++,"\n"===q?(ie.line++,ie.column=0):ie.column++);ie.textNode+=K.substring($,he-1)}"<"!==q||ie.sawRoot&&ie.closedRoot&&!ie.strict?(oe(w,q)&&(!ie.sawRoot||ie.closedRoot)&&Me(ie,"Text data outside of root node."),"&"===q?ie.state=H.TEXT_ENTITY:ie.textNode+=q):(ie.state=H.OPEN_WAKA,ie.startTagPosition=ie.position);continue;case H.SCRIPT:"<"===q?ie.state=H.SCRIPT_ENDING:ie.script+=q;continue;case H.SCRIPT_ENDING:"/"===q?ie.state=H.CLOSE_TAG:(ie.script+="<"+q,ie.state=H.SCRIPT);continue;case H.OPEN_WAKA:"!"===q?(ie.state=H.SGML_DECL,ie.sgmlDecl=""):z(w,q)||(z(C,q)?(ie.state=H.OPEN_TAG,ie.tagName=q):"/"===q?(ie.state=H.CLOSE_TAG,ie.tagName=""):"?"===q?(ie.state=H.PROC_INST,ie.procInstName=ie.procInstBody=""):(Me(ie,"Unencoded <"),ie.startTagPosition+1<ie.position&&(q=new Array(ie.position-ie.startTagPosition).join(" ")+q),ie.textNode+="<"+q,ie.state=H.TEXT));continue;case H.SGML_DECL:(ie.sgmlDecl+q).toUpperCase()===P?(fe(ie,"onopencdata"),ie.state=H.CDATA,ie.sgmlDecl="",ie.cdata=""):ie.sgmlDecl+q==="--"?(ie.state=H.COMMENT,ie.comment="",ie.sgmlDecl=""):(ie.sgmlDecl+q).toUpperCase()===x?(ie.state=H.DOCTYPE,(ie.doctype||ie.sawRoot)&&Me(ie,"Inappropriately located doctype declaration"),ie.doctype="",ie.sgmlDecl=""):">"===q?(fe(ie,"onsgmldeclaration",ie.sgmlDecl),ie.sgmlDecl="",ie.state=H.TEXT):(z(G,q)&&(ie.state=H.SGML_DECL_QUOTED),ie.sgmlDecl+=q);continue;case H.SGML_DECL_QUOTED:q===ie.q&&(ie.state=H.SGML_DECL,ie.q=""),ie.sgmlDecl+=q;continue;case H.DOCTYPE:">"===q?(ie.state=H.TEXT,fe(ie,"ondoctype",ie.doctype),ie.doctype=!0):(ie.doctype+=q,"["===q?ie.state=H.DOCTYPE_DTD:z(G,q)&&(ie.state=H.DOCTYPE_QUOTED,ie.q=q));continue;case H.DOCTYPE_QUOTED:ie.doctype+=q,q===ie.q&&(ie.q="",ie.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:ie.doctype+=q,"]"===q?ie.state=H.DOCTYPE:z(G,q)&&(ie.state=H.DOCTYPE_DTD_QUOTED,ie.q=q);continue;case H.DOCTYPE_DTD_QUOTED:ie.doctype+=q,q===ie.q&&(ie.state=H.DOCTYPE_DTD,ie.q="");continue;case H.COMMENT:"-"===q?ie.state=H.COMMENT_ENDING:ie.comment+=q;continue;case H.COMMENT_ENDING:"-"===q?(ie.state=H.COMMENT_ENDED,ie.comment=Ae(ie.opt,ie.comment),ie.comment&&fe(ie,"oncomment",ie.comment),ie.comment=""):(ie.comment+="-"+q,ie.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==q?(Me(ie,"Malformed comment"),ie.comment+="--"+q,ie.state=H.COMMENT):ie.state=H.TEXT;continue;case H.CDATA:"]"===q?ie.state=H.CDATA_ENDING:ie.cdata+=q;continue;case H.CDATA_ENDING:"]"===q?ie.state=H.CDATA_ENDING_2:(ie.cdata+="]"+q,ie.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===q?(ie.cdata&&fe(ie,"oncdata",ie.cdata),fe(ie,"onclosecdata"),ie.cdata="",ie.state=H.TEXT):"]"===q?ie.cdata+="]":(ie.cdata+="]]"+q,ie.state=H.CDATA);continue;case H.PROC_INST:"?"===q?ie.state=H.PROC_INST_ENDING:z(w,q)?ie.state=H.PROC_INST_BODY:ie.procInstName+=q;continue;case H.PROC_INST_BODY:if(!ie.procInstBody&&z(w,q))continue;"?"===q?ie.state=H.PROC_INST_ENDING:ie.procInstBody+=q;continue;case H.PROC_INST_ENDING:">"===q?(fe(ie,"onprocessinginstruction",{name:ie.procInstName,body:ie.procInstBody}),ie.procInstName=ie.procInstBody="",ie.state=H.TEXT):(ie.procInstBody+="?"+q,ie.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:z(B,q)?ie.tagName+=q:(_e(ie),">"===q?we(ie):"/"===q?ie.state=H.OPEN_TAG_SLASH:(oe(w,q)&&Me(ie,"Invalid character in tag name"),ie.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===q?(we(ie,!0),Fe(ie)):(Me(ie,"Forward-slash in opening tag not followed by >"),ie.state=H.ATTRIB);continue;case H.ATTRIB:if(z(w,q))continue;">"===q?we(ie):"/"===q?ie.state=H.OPEN_TAG_SLASH:z(C,q)?(ie.attribName=q,ie.attribValue="",ie.state=H.ATTRIB_NAME):Me(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===q?ie.state=H.ATTRIB_VALUE:">"===q?(Me(ie,"Attribute without value"),ie.attribValue=ie.attribName,Ie(ie),we(ie)):z(w,q)?ie.state=H.ATTRIB_NAME_SAW_WHITE:z(B,q)?ie.attribName+=q:Me(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===q)ie.state=H.ATTRIB_VALUE;else{if(z(w,q))continue;Me(ie,"Attribute without value"),ie.tag.attributes[ie.attribName]="",ie.attribValue="",fe(ie,"onattribute",{name:ie.attribName,value:""}),ie.attribName="",">"===q?we(ie):z(C,q)?(ie.attribName=q,ie.state=H.ATTRIB_NAME):(Me(ie,"Invalid attribute name"),ie.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(z(w,q))continue;z(G,q)?(ie.q=q,ie.state=H.ATTRIB_VALUE_QUOTED):(Me(ie,"Unquoted attribute value"),ie.state=H.ATTRIB_VALUE_UNQUOTED,ie.attribValue=q);continue;case H.ATTRIB_VALUE_QUOTED:if(q!==ie.q){"&"===q?ie.state=H.ATTRIB_VALUE_ENTITY_Q:ie.attribValue+=q;continue}Ie(ie),ie.q="",ie.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:z(w,q)?ie.state=H.ATTRIB:">"===q?we(ie):"/"===q?ie.state=H.OPEN_TAG_SLASH:z(C,q)?(Me(ie,"No whitespace between attributes"),ie.attribName=q,ie.attribValue="",ie.state=H.ATTRIB_NAME):Me(ie,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(oe(k,q)){"&"===q?ie.state=H.ATTRIB_VALUE_ENTITY_U:ie.attribValue+=q;continue}Ie(ie),">"===q?we(ie):ie.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(ie.tagName)">"===q?Fe(ie):z(B,q)?ie.tagName+=q:ie.script?(ie.script+="</"+ie.tagName,ie.tagName="",ie.state=H.SCRIPT):(oe(w,q)&&Me(ie,"Invalid tagname in closing tag"),ie.state=H.CLOSE_TAG_SAW_WHITE);else{if(z(w,q))continue;oe(C,q)?ie.script?(ie.script+="</"+q,ie.state=H.SCRIPT):Me(ie,"Invalid tagname in closing tag."):ie.tagName=q}continue;case H.CLOSE_TAG_SAW_WHITE:if(z(w,q))continue;">"===q?Fe(ie):Me(ie,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:var te,X;switch(ie.state){case H.TEXT_ENTITY:te=H.TEXT,X="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:te=H.ATTRIB_VALUE_QUOTED,X="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:te=H.ATTRIB_VALUE_UNQUOTED,X="attribValue"}";"===q?(ie[X]+=We(ie),ie.entity="",ie.state=te):z(ie.entity.length?re:Y,q)?ie.entity+=q:(Me(ie,"Invalid character in entity name"),ie[X]+="&"+ie.entity+q,ie.entity="",ie.state=te);continue;default:throw new Error(ie,"Unknown state: "+ie.state)}return ie.position>=ie.bufferCheckPosition&&function F(K){for(var ie=Math.max(E.MAX_BUFFER_LENGTH,10),he=0,q=0,$=R.length;q<$;q++){var W=K[R[q]].length;if(W>ie)switch(R[q]){case"textNode":Ee(K);break;case"cdata":fe(K,"oncdata",K.cdata),K.cdata="";break;case"script":fe(K,"onscript",K.script),K.script="";break;default:se(K,"Max buffer length exceeded: "+R[q])}he=Math.max(he,W)}K.bufferCheckPosition=E.MAX_BUFFER_LENGTH-he+K.position}(ie),ie},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function S(K){Ee(K),""!==K.cdata&&(fe(K,"oncdata",K.cdata),K.cdata=""),""!==K.script&&(fe(K,"onscript",K.script),K.script="")}(this)}};try{m=e(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{m=function(){}}var h=E.EVENTS.filter(function(K){return"error"!==K&&"end"!==K});function v(K,ie){if(!(this instanceof v))return new v(K,ie);m.apply(this),this._parser=new b(K,ie),this.writable=!0,this.readable=!0;var he=this;this._parser.onend=function(){he.emit("end")},this._parser.onerror=function(q){he.emit("error",q),he._parser.error=null},this._decoder=null,h.forEach(function(q){Object.defineProperty(he,"on"+q,{get:function(){return he._parser["on"+q]},set:function($){if(!$)return he.removeAllListeners(q),he._parser["on"+q]=$,$;he.on(q,$)},enumerable:!0,configurable:!1})})}(v.prototype=Object.create(m.prototype,{constructor:{value:v}})).write=function(K){if("function"==typeof y&&"function"==typeof y.isBuffer&&y.isBuffer(K)){if(!this._decoder){var ie=e(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ie("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},v.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},v.prototype.on=function(K,ie){var he=this;return!he._parser["on"+K]&&-1!==h.indexOf(K)&&(he._parser["on"+K]=function(){var q=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);q.splice(0,0,K),he.emit.apply(he,q)}),m.prototype.on.call(he,K,ie)};var w="\r\n\t ",V="0124356789",O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="'\"",k=w+">",P="[CDATA[",x="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:I,xmlns:T};w=ae(w),V=ae(V),O=ae(O);var C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ae(K){return K.split("").reduce(function(ie,he){return ie[he]=!0,ie},{})}function z(K,ie){return function Oe(K){return"[object RegExp]"===Object.prototype.toString.call(K)}(K)?!!ie.match(K):K[ie]}function oe(K,ie){return!z(K,ie)}G=ae(G),k=ae(k);var K,ie,he,H=0;for(var me in E.STATE={BEGIN:H++,BEGIN_WHITESPACE:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},E.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},E.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(E.ENTITIES).forEach(function(K){var ie=E.ENTITIES[K],he="number"==typeof ie?String.fromCharCode(ie):ie;E.ENTITIES[K]=he}),E.STATE)E.STATE[E.STATE[me]]=me;function ne(K,ie,he){K[ie]&&K[ie](he)}function fe(K,ie,he){K.textNode&&Ee(K),ne(K,ie,he)}function Ee(K){K.textNode=Ae(K.opt,K.textNode),K.textNode&&ne(K,"ontext",K.textNode),K.textNode=""}function Ae(K,ie){return K.trim&&(ie=ie.trim()),K.normalize&&(ie=ie.replace(/\s+/g," ")),ie}function se(K,ie){return Ee(K),K.trackPosition&&(ie+="\nLine: "+K.line+"\nColumn: "+K.column+"\nChar: "+K.c),ie=new Error(ie),K.error=ie,ne(K,"onerror",ie),K}function De(K){return K.sawRoot&&!K.closedRoot&&Me(K,"Unclosed root tag"),K.state!==H.BEGIN&&K.state!==H.BEGIN_WHITESPACE&&K.state!==H.TEXT&&se(K,"Unexpected end"),Ee(K),K.c="",K.closed=!0,ne(K,"onend"),b.call(K,K.strict,K.opt),K}function Me(K,ie){if("object"!=typeof K||!(K instanceof b))throw new Error("bad call to strictFail");K.strict&&se(K,ie)}function _e(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var ie=K.tags[K.tags.length-1]||K,he=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(he.ns=ie.ns),K.attribList.length=0,fe(K,"onopentagstart",he)}function Le(K,ie){var q=K.indexOf(":")<0?["",K]:K.split(":"),$=q[0],W=q[1];return ie&&"xmlns"===K&&($="xmlns",W=""),{prefix:$,local:W}}function Ie(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),-1!==K.attribList.indexOf(K.attribName)||K.tag.attributes.hasOwnProperty(K.attribName))K.attribName=K.attribValue="";else{if(K.opt.xmlns){var ie=Le(K.attribName,!0),q=ie.local;if("xmlns"===ie.prefix)if("xml"===q&&K.attribValue!==I)Me(K,"xml: prefix must be bound to "+I+"\nActual: "+K.attribValue);else if("xmlns"===q&&K.attribValue!==T)Me(K,"xmlns: prefix must be bound to "+T+"\nActual: "+K.attribValue);else{var $=K.tag,W=K.tags[K.tags.length-1]||K;$.ns===W.ns&&($.ns=Object.create(W.ns)),$.ns[q]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,fe(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}}function we(K,ie){if(K.opt.xmlns){var he=K.tag,q=Le(K.tagName);he.prefix=q.prefix,he.local=q.local,he.uri=he.ns[q.prefix]||"",he.prefix&&!he.uri&&(Me(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),he.uri=q.prefix),he.ns&&(K.tags[K.tags.length-1]||K).ns!==he.ns&&Object.keys(he.ns).forEach(function(ke){fe(K,"onopennamespace",{prefix:ke,uri:he.ns[ke]})});for(var W=0,te=K.attribList.length;W<te;W++){var X=K.attribList[W],J=X[0],Q=X[1],de=Le(J,!0),pe=de.prefix,Te=""===pe?"":he.ns[pe]||"",Ve={name:J,value:Q,prefix:pe,local:de.local,uri:Te};pe&&"xmlns"!==pe&&!Te&&(Me(K,"Unbound namespace prefix: "+JSON.stringify(pe)),Ve.uri=pe),K.tag.attributes[J]=Ve,fe(K,"onattribute",Ve)}K.attribList.length=0}K.tag.isSelfClosing=!!ie,K.sawRoot=!0,K.tags.push(K.tag),fe(K,"onopentag",K.tag),ie||(K.state=K.noscript||"script"!==K.tagName.toLowerCase()?H.TEXT:H.SCRIPT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function Fe(K){if(!K.tagName)return Me(K,"Weird empty close tag."),K.textNode+="</>",void(K.state=H.TEXT);if(K.script){if("script"!==K.tagName)return K.script+="</"+K.tagName+">",K.tagName="",void(K.state=H.SCRIPT);fe(K,"onscript",K.script),K.script=""}var ie=K.tags.length,he=K.tagName;K.strict||(he=he[K.looseCase]());for(var q=he;ie--&&K.tags[ie].name!==q;)Me(K,"Unexpected close tag");if(ie<0)return Me(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",void(K.state=H.TEXT);K.tagName=he;for(var W=K.tags.length;W-- >ie;){var te=K.tag=K.tags.pop();K.tagName=K.tag.name,fe(K,"onclosetag",K.tagName);var X={};for(var J in te.ns)X[J]=te.ns[J];K.opt.xmlns&&te.ns!==(K.tags[K.tags.length-1]||K).ns&&Object.keys(te.ns).forEach(function(de){fe(K,"onclosenamespace",{prefix:de,uri:te.ns[de]})})}0===ie&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=H.TEXT}function We(K){var q,ie=K.entity,he=ie.toLowerCase(),$="";return K.ENTITIES[ie]?K.ENTITIES[ie]:K.ENTITIES[he]?K.ENTITIES[he]:("#"===(ie=he).charAt(0)&&("x"===ie.charAt(1)?(ie=ie.slice(2),$=(q=parseInt(ie,16)).toString(16)):(ie=ie.slice(1),$=(q=parseInt(ie,10)).toString(10))),ie=ie.replace(/^0+/,""),$.toLowerCase()!==ie?(Me(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint(q))}function Ue(K,ie){"<"===ie?(K.state=H.OPEN_WAKA,K.startTagPosition=K.position):oe(w,ie)&&(Me(K,"Non-whitespace before first tag."),K.textNode=ie,K.state=H.TEXT)}function xe(K,ie){var he="";return ie<K.length&&(he=K.charAt(ie)),he}H=E.STATE,String.fromCodePoint||(K=String.fromCharCode,ie=Math.floor,he=function(){var $=[],X=-1,J=arguments.length;if(!J)return"";for(var Q="";++X<J;){var de=Number(arguments[X]);if(!isFinite(de)||de<0||de>1114111||ie(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?$.push(de):$.push(55296+((de-=65536)>>10),de%1024+56320),(X+1===J||$.length>16384)&&(Q+=K.apply(null,$),$.length=0)}return Q},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:he,configurable:!0,writable:!0}):String.fromCodePoint=he)}(M)}).call(this,e(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(Ye,M,e){(function(y,E){!function(R,b){"use strict";if(!R.setImmediate){var h,F=1,L={},S=!1,m=R.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(R);T=T&&T.setTimeout?T:R,"[object process]"==={}.toString.call(R.process)?function O(){h=function(N){E.nextTick(function(){V(N)})}}():function G(){if(R.postMessage&&!R.importScripts){var N=!0,C=R.onmessage;return R.onmessage=function(){N=!1},R.postMessage("","*"),R.onmessage=C,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",C=function(B){B.source===R&&"string"==typeof B.data&&0===B.data.indexOf(N)&&V(+B.data.slice(N.length))};R.addEventListener?R.addEventListener("message",C,!1):R.attachEvent("onmessage",C),h=function(B){R.postMessage(N+B,"*")}}():R.MessageChannel?function P(){var N=new MessageChannel;N.port1.onmessage=function(C){V(C.data)},h=function(C){N.port2.postMessage(C)}}():m&&"onreadystatechange"in m.createElement("script")?function x(){var N=m.documentElement;h=function(C){var B=m.createElement("script");B.onreadystatechange=function(){V(C),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function I(){h=function(N){setTimeout(V,0,N)}}(),T.setImmediate=function p(N){"function"!=typeof N&&(N=new Function(""+N));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];return L[F]={callback:N,args:C},h(F),F++},T.clearImmediate=v}function v(N){delete L[N]}function V(N){if(S)setTimeout(V,0,N);else{var C=L[N];if(C){S=!0;try{!function w(N){var C=N.callback,B=N.args;switch(B.length){case 0:C();break;case 1:C(B[0]);break;case 2:C(B[0],B[1]);break;case 3:C(B[0],B[1],B[2]);break;default:C.apply(b,B)}}(C)}finally{v(N),S=!1}}}}}(typeof self>"u"?typeof y>"u"?this:y:self)}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ye,M,e){Ye.exports=R;var y=e(
/*! events */
"./node_modules/events/events.js").EventEmitter;function R(){y.call(this)}e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(R,y),R.Readable=e(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),R.Writable=e(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),R.Duplex=e(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),R.Transform=e(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),R.PassThrough=e(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),R.Stream=R,R.prototype.pipe=function(b,F){var L=this;function S(O){b.writable&&!1===b.write(O)&&L.pause&&L.pause()}function m(){L.readable&&L.resume&&L.resume()}L.on("data",S),b.on("drain",m),!b._isStdio&&(!F||!1!==F.end)&&(L.on("end",p),L.on("close",v));var h=!1;function p(){h||(h=!0,b.end())}function v(){h||(h=!0,"function"==typeof b.destroy&&b.destroy())}function w(O){if(V(),0===y.listenerCount(this,"error"))throw O}function V(){L.removeListener("data",S),b.removeListener("drain",m),L.removeListener("end",p),L.removeListener("close",v),L.removeListener("error",w),b.removeListener("error",w),L.removeListener("end",V),L.removeListener("close",V),b.removeListener("close",V)}return L.on("error",w),b.on("error",w),L.on("end",V),L.on("close",V),b.on("close",V),b.emit("pipe",L),b}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(Ye,M,e){"use strict";var y=e(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,E=y.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(x){var I;switch(this.encoding=function b(x){var I=function R(x){if(!x)return"utf8";for(var I;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(I)return;x=(""+x).toLowerCase(),I=!0}}(x);if("string"!=typeof I&&(y.isEncoding===E||!E(x)))throw new Error("Unknown encoding: "+x);return I||x}(x),this.encoding){case"utf16le":this.text=w,this.end=V,I=4;break;case"utf8":this.fillLast=h,I=4;break;case"base64":this.text=O,this.end=G,I=3;break;default:return this.write=k,void(this.end=P)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(I)}function L(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function h(x){var I=this.lastTotal-this.lastNeed,T=function m(x,I,T){if(128!=(192&I[0]))return x.lastNeed=0,"\ufffd";if(x.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return x.lastNeed=1,"\ufffd";if(x.lastNeed>2&&I.length>2&&128!=(192&I[2]))return x.lastNeed=2,"\ufffd"}}(this,x);return void 0!==T?T:this.lastNeed<=x.length?(x.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,I,0,x.length),void(this.lastNeed-=x.length))}function w(x,I){if((x.length-I)%2==0){var T=x.toString("utf16le",I);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",I,x.length-1)}function V(x){var I=x&&x.length?this.write(x):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function O(x,I){var T=(x.length-I)%3;return 0===T?x.toString("base64",I):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",I,x.length-T))}function G(x){var I=x&&x.length?this.write(x):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function k(x){return x.toString(this.encoding)}function P(x){return x&&x.length?this.write(x):""}M.StringDecoder=F,F.prototype.write=function(x){if(0===x.length)return"";var I,T;if(this.lastNeed){if(void 0===(I=this.fillLast(x)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<x.length?I?I+this.text(x,T):this.text(x,T):I||""},F.prototype.end=function v(x){var I=x&&x.length?this.write(x):"";return this.lastNeed?I+"\ufffd":I},F.prototype.text=function p(x,I){var T=function S(x,I,T){var N=I.length-1;if(N<T)return 0;var C=L(I[N]);return C>=0?(C>0&&(x.lastNeed=C-1),C):--N<T||-2===C?0:(C=L(I[N]))>=0?(C>0&&(x.lastNeed=C-2),C):--N<T||-2===C?0:(C=L(I[N]))>=0?(C>0&&(2===C?C=0:x.lastNeed=C-3),C):0}(this,x,I);if(!this.lastNeed)return x.toString("utf8",I);this.lastTotal=T;var N=x.length-(T-this.lastNeed);return x.copy(this.lastChar,0,N),x.toString("utf8",I,N)},F.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(Ye,M,e){(function(y){var E=typeof y<"u"&&y||typeof self<"u"&&self||window,R=Function.prototype.apply;function b(F,L){this._id=F,this._clearFn=L}M.setTimeout=function(){return new b(R.call(setTimeout,E,arguments),clearTimeout)},M.setInterval=function(){return new b(R.call(setInterval,E,arguments),clearInterval)},M.clearTimeout=M.clearInterval=function(F){F&&F.close()},b.prototype.unref=b.prototype.ref=function(){},b.prototype.close=function(){this._clearFn.call(E,this._id)},M.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},M.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},M._unrefActive=M.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},e(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),M.setImmediate=typeof self<"u"&&self.setImmediate||typeof y<"u"&&y.setImmediate||this&&this.setImmediate,M.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof y<"u"&&y.clearImmediate||this&&this.clearImmediate}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(Ye,M,e){var y;!function(E,R){"use strict";var S="function",m="undefined",h="object",p="string",w="model",V="name",O="type",G="vendor",k="version",P="architecture",x="console",I="mobile",T="tablet",N="smarttv",C="wearable",B="embedded",re="Amazon",ae="Apple",z="BlackBerry",oe="Browser",H="Chrome",ne="Firefox",fe="Google",se="Microsoft",De="Motorola",Me="Opera",_e="Samsung",Ie="Sony",we="Xiaomi",Fe="Zebra",We="Facebook",xe=function(pe){for(var le={},Te=0;Te<pe.length;Te++)le[pe[Te].toUpperCase()]=pe[Te];return le},be=function(pe,le){return typeof pe===p&&-1!==K(le).indexOf(K(pe))},K=function(pe){return pe.toLowerCase()},he=function(pe,le){if(typeof pe===p)return pe=pe.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof le===m?pe:pe.substring(0,350)},q=function(pe,le){for(var Ve,ke,Ze,qe,He,ot,Te=0;Te<le.length&&!He;){var yt=le[Te],ut=le[Te+1];for(Ve=ke=0;Ve<yt.length&&!He;)if(He=yt[Ve++].exec(pe))for(Ze=0;Ze<ut.length;Ze++)ot=He[++ke],typeof(qe=ut[Ze])===h&&qe.length>0?2===qe.length?this[qe[0]]=typeof qe[1]==S?qe[1].call(this,ot):qe[1]:3===qe.length?this[qe[0]]=typeof qe[1]!==S||qe[1].exec&&qe[1].test?ot?ot.replace(qe[1],qe[2]):R:ot?qe[1].call(this,ot,qe[2]):R:4===qe.length&&(this[qe[0]]=ot?qe[3].call(this,ot.replace(qe[1],qe[2])):R):this[qe]=ot||R;Te+=2}},$=function(pe,le){for(var Te in le)if(typeof le[Te]===h&&le[Te].length>0){for(var Ve=0;Ve<le[Te].length;Ve++)if(be(le[Te][Ve],pe))return"?"===Te?R:Te}else if(be(le[Te],pe))return"?"===Te?R:Te;return pe},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[V,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[V,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[V,k],[/opios[\/ ]+([\w\.]+)/i],[k,[V,Me+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[V,Me]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[V,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[V,"UC"+oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[V,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[V,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[V,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[V,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[V,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[V,/(.+)/,"$1 Secure "+oe],k],[/\bfocus\/([\w\.]+)/i],[k,[V,ne+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[V,Me+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[V,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[V,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[V,Me+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[V,"MIUI "+oe]],[/fxios\/([-\w\.]+)/i],[k,[V,ne]],[/\bqihu|(qi?ho?o?|360)browser/i],[[V,"360 "+oe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[V,/(.+)/,"$1 "+oe],k],[/(comodo_dragon)\/([\w\.]+)/i],[[V,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[V,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[V],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[V,We],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[V,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[V,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[V,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[V,H+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[V,"Android "+oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[V,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[V,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,V],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[V,[k,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[V,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[V,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[V,ne+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[V,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,K]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[G,_e],[O,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[w,[G,_e],[O,I]],[/\((ip(?:hone|od)[\w ]*);/i],[w,[G,ae],[O,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[G,ae],[O,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[G,"Huawei"],[O,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[G,"Huawei"],[O,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[w,/_/g," "],[G,we],[O,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[G,we],[O,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[G,"OPPO"],[O,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[G,"Vivo"],[O,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[w,[G,"Realme"],[O,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[G,De],[O,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[G,De],[O,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[G,"LG"],[O,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[G,"LG"],[O,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[G,"Lenovo"],[O,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[G,"Nokia"],[O,I]],[/(pixel c)\b/i],[w,[G,fe],[O,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[G,fe],[O,I]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[G,Ie],[O,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[G,Ie],[O,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[G,"OnePlus"],[O,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[G,re],[O,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[G,re],[O,I]],[/(playbook);[-\w\),; ]+(rim)/i],[w,G,[O,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[G,z],[O,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[G,"ASUS"],[O,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[G,"ASUS"],[O,I]],[/(nexus 9)/i],[w,[G,"HTC"],[O,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[G,[w,/_/g," "],[O,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[G,"Acer"],[O,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[G,"Meizu"],[O,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[G,"Sharp"],[O,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[G,w,[O,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[G,w,[O,T]],[/(surface duo)/i],[w,[G,se],[O,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[G,"Fairphone"],[O,I]],[/(u304aa)/i],[w,[G,"AT&T"],[O,I]],[/\bsie-(\w*)/i],[w,[G,"Siemens"],[O,I]],[/\b(rct\w+) b/i],[w,[G,"RCA"],[O,T]],[/\b(venue[\d ]{2,7}) b/i],[w,[G,"Dell"],[O,T]],[/\b(q(?:mv|ta)\w+) b/i],[w,[G,"Verizon"],[O,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[G,"Barnes & Noble"],[O,T]],[/\b(tm\d{3}\w+) b/i],[w,[G,"NuVision"],[O,T]],[/\b(k88) b/i],[w,[G,"ZTE"],[O,T]],[/\b(nx\d{3}j) b/i],[w,[G,"ZTE"],[O,I]],[/\b(gen\d{3}) b.+49h/i],[w,[G,"Swiss"],[O,I]],[/\b(zur\d{3}) b/i],[w,[G,"Swiss"],[O,T]],[/\b((zeki)?tb.*\b) b/i],[w,[G,"Zeki"],[O,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[G,"Dragon Touch"],w,[O,T]],[/\b(ns-?\w{0,9}) b/i],[w,[G,"Insignia"],[O,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[G,"NextBook"],[O,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[G,"Voice"],w,[O,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[G,"LvTel"],w,[O,I]],[/\b(ph-1) /i],[w,[G,"Essential"],[O,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[G,"Envizen"],[O,T]],[/\b(trio[-\w\. ]+) b/i],[w,[G,"MachSpeed"],[O,T]],[/\btu_(1491) b/i],[w,[G,"Rotor"],[O,T]],[/(shield[\w ]+) b/i],[w,[G,"Nvidia"],[O,T]],[/(sprint) (\w+)/i],[G,w,[O,I]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[G,se],[O,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[G,Fe],[O,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[G,Fe],[O,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[G,w,[O,x]],[/droid.+; (shield) bui/i],[w,[G,"Nvidia"],[O,x]],[/(playstation [345portablevi]+)/i],[w,[G,Ie],[O,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[G,se],[O,x]],[/smart-tv.+(samsung)/i],[G,[O,N]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[G,_e],[O,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[G,"LG"],[O,N]],[/(apple) ?tv/i],[G,[w,ae+" TV"],[O,N]],[/crkey/i],[[w,H+"cast"],[G,fe],[O,N]],[/droid.+aft(\w)( bui|\))/i],[w,[G,re],[O,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[G,"Sharp"],[O,N]],[/(bravia[\w ]+)( bui|\))/i],[w,[G,Ie],[O,N]],[/(mitv-\w{5}) bui/i],[w,[G,we],[O,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[G,he],[w,he],[O,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[O,N]],[/((pebble))app/i],[G,w,[O,C]],[/droid.+; (glass) \d/i],[w,[G,fe],[O,C]],[/droid.+; (wt63?0{2,3})\)/i],[w,[G,Fe],[O,C]],[/(quest( 2)?)/i],[w,[G,We],[O,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[G,[O,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[w,[O,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[O,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[O,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[O,I]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[G,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[V,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[V,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[V,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,V]],os:[[/microsoft (windows) (vista|xp)/i],[V,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[V,[k,$,te]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[V,"Windows"],[k,$,te]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[V,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[V,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,V],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[V,k],[/\(bb(10);/i],[k,[V,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[V,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[V,ne+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[V,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[V,H+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[V,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[V,k],[/(sunos) ?([\w\.\d]*)/i],[[V,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[V,k]]},J=function(pe,le){if(typeof pe===h&&(le=pe,pe=R),!(this instanceof J))return new J(pe,le).getResult();var Te=pe||(typeof E!==m&&E.navigator&&E.navigator.userAgent?E.navigator.userAgent:""),Ve=le?function(pe,le){var Te={};for(var Ve in pe)Te[Ve]=le[Ve]&&le[Ve].length%2==0?le[Ve].concat(pe[Ve]):pe[Ve];return Te}(X,le):X;return this.getBrowser=function(){var ke={};return ke[V]=R,ke[k]=R,q.call(ke,Te,Ve.browser),ke.major=function(pe){return typeof pe===p?pe.replace(/[^\d\.]/g,"").split(".")[0]:R}(ke.version),ke},this.getCPU=function(){var ke={};return ke[P]=R,q.call(ke,Te,Ve.cpu),ke},this.getDevice=function(){var ke={};return ke[G]=R,ke[w]=R,ke[O]=R,q.call(ke,Te,Ve.device),ke},this.getEngine=function(){var ke={};return ke[V]=R,ke[k]=R,q.call(ke,Te,Ve.engine),ke},this.getOS=function(){var ke={};return ke[V]=R,ke[k]=R,q.call(ke,Te,Ve.os),ke},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Te},this.setUA=function(ke){return Te=typeof ke===p&&ke.length>350?he(ke,350):ke,this},this.setUA(Te),this};J.VERSION="1.0.32",J.BROWSER=xe([V,k,"major"]),J.CPU=xe([P]),J.DEVICE=xe([w,G,O,x,I,N,T,C,B]),J.ENGINE=J.OS=xe([V,k]),typeof M!==m?(typeof Ye!==m&&Ye.exports&&(M=Ye.exports=J),M.UAParser=J):e(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(y=function(){return J}.call(M,e,M,Ye))!==R&&(Ye.exports=y):typeof E!==m&&(E.UAParser=J);var Q=typeof E!==m&&(E.jQuery||E.Zepto);if(Q&&!Q.ua){var de=new J;Q.ua=de.getResult(),Q.ua.get=function(){return de.getUA()},Q.ua.set=function(pe){de.setUA(pe);var le=de.getResult();for(var Te in le)Q.ua[Te]=le[Te]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(Ye,M,e){(function(y){function R(b){try{if(!y.localStorage)return!1}catch{return!1}var F=y.localStorage[b];return null!=F&&"true"===String(F).toLowerCase()}Ye.exports=function E(b,F){if(R("noDeprecation"))return b;var L=!1;return function S(){if(!L){if(R("throwDeprecation"))throw new Error(F);R("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return b.apply(this,arguments)}}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(Ye,M){(function(e){Ye.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(Ye,M){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}Ye.exports=e},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./EventBus */
"./src/core/EventBus.js"),E=e(
/*! ./events/Events */
"./src/core/events/Events.js"),R=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,S=3,m=4,h=5;function p(w){w=w||{};var P,x,I,T,V=this.context,O=Object(y.default)(V).getInstance(),G=w.settings,k=[];function C(ne){return ne&&ne.bind?ne.bind(window.console):window.console.log.bind(window.console)}function ae(){for(var ne=arguments.length,fe=new Array(ne),Ee=0;Ee<ne;Ee++)fe[Ee]=arguments[Ee];me.apply(void 0,[F,this].concat(fe))}function Oe(){for(var ne=arguments.length,fe=new Array(ne),Ee=0;Ee<ne;Ee++)fe[Ee]=arguments[Ee];me.apply(void 0,[L,this].concat(fe))}function z(){for(var ne=arguments.length,fe=new Array(ne),Ee=0;Ee<ne;Ee++)fe[Ee]=arguments[Ee];me.apply(void 0,[S,this].concat(fe))}function oe(){for(var ne=arguments.length,fe=new Array(ne),Ee=0;Ee<ne;Ee++)fe[Ee]=arguments[Ee];me.apply(void 0,[m,this].concat(fe))}function H(){for(var ne=arguments.length,fe=new Array(ne),Ee=0;Ee<ne;Ee++)fe[Ee]=arguments[Ee];me.apply(void 0,[h,this].concat(fe))}function me(ne,fe){var Ee="",Ae=null;x&&(Ae=(new Date).getTime(),Ee+="["+(Ae-T)+"]"),I&&fe&&fe.getClassName&&(Ee+="["+fe.getClassName()+"]",fe.getType&&(Ee+="["+fe.getType()+"]")),Ee.length>0&&(Ee+=" ");for(var se=arguments.length,De=new Array(se>2?se-2:0),Me=2;Me<se;Me++)De[Me-2]=arguments[Me];Array.apply(null,De).forEach(function(_e){Ee+=_e+" "}),k[ne]&&G.get().debug.logLevel>=ne&&k[ne](Ee),G&&G.get().debug.dispatchEvent&&O.trigger(E.default.LOG,{message:Ee,level:ne})}return P={getLogger:function B(ne){return{fatal:ae.bind(ne),error:Oe.bind(ne),warn:z.bind(ne),info:oe.bind(ne),debug:H.bind(ne)}},setLogTimestampVisible:function Y(ne){x=ne},setCalleeNameVisible:function re(ne){I=ne}},function N(){x=!0,I=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=C(window.console.error),k[L]=C(window.console.error),k[S]=C(window.console.warn),k[m]=C(window.console.info),k[h]=C(window.console.debug))}(),P}p.__dashjs_factory_name="Debug";var v=R.default.getSingletonFactory(p);v.LOG_LEVEL_NONE=0,v.LOG_LEVEL_FATAL=F,v.LOG_LEVEL_ERROR=L,v.LOG_LEVEL_WARNING=S,v.LOG_LEVEL_INFO=m,v.LOG_LEVEL_DEBUG=h,R.default.updateSingletonFactory(p.__dashjs_factory_name,v),M.default=v},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var S={};function v(O,G,k){var P=-1;return S[O]&&S[O].some(function(x,I){if(x&&x.callback===G&&(!k||k===x.scope))return P=I,!0}),P}return{on:function m(O,G,k){var P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!O)throw new Error("event type cannot be null or undefined");if(!G||"function"!=typeof G)throw new Error("listener must be a function: "+G);var x=P.priority||0;if(!(v(O,G,k)>=0)){S[O]=S[O]||[];var I={callback:G,scope:k,priority:x};k&&k.getStreamId&&(I.streamId=k.getStreamId()),k&&k.getType&&(I.mediaType=k.getType()),P&&P.mode&&(I.mode=P.mode),S[O].some(function(N,C){if(N&&x>N.priority)return S[O].splice(C,0,I),!0})||S[O].push(I)}},off:function h(O,G,k){if(O&&G&&S[O]){var P=v(O,G,k);P<0||(S[O][P]=null)}},trigger:function p(O){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(O&&S[O]){if((G=G||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");G.type=O,k.streamId&&(G.streamId=k.streamId),k.mediaType&&(G.mediaType=k.mediaType),S[O].filter(function(P){return!(!P||k.streamId&&P.streamId&&P.streamId!==k.streamId||k.mediaType&&P.mediaType&&P.mediaType!==k.mediaType||k.mode&&P.mode&&P.mode!==k.mode||!P.mode&&k.mode&&k.mode===E.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(P){return P&&P.callback.call(P.scope,G)})}},reset:function w(){S={}}}}F.__dashjs_factory_name="EventBus";var L=y.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,y.default.updateSingletonFactory(F.__dashjs_factory_name,L),M.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=function(){var E,R=[],b={},F={};function S(I,T){for(var N in R){var C=R[N];if(C.context===I&&C.name===T)return C.instance}return null}function p(I,T){return T[I]}function v(I,T,N){I in N&&(N[I]=T)}function x(I,T,N){var C,B=I.__dashjs_factory_name,Y=T[B];if(Y){var re=Y.instance;if(!Y.override)return re.apply({context:T,factory:E},N);for(var ae in C=I.apply({context:T},N),re=re.apply({context:T,factory:E,parent:C},N))C.hasOwnProperty(ae)&&(C[ae]=re[ae])}else C=I.apply({context:T},N);return C.getClassName=function(){return B},C}return E={extend:function L(I,T,N,C){!C[I]&&T&&(C[I]={instance:T,override:N})},getSingletonInstance:S,setSingletonInstance:function m(I,T,N){for(var C in R){var B=R[C];if(B.context===I&&B.name===T)return void(R[C].instance=N)}R.push({name:T,context:I,instance:N})},deleteSingletonInstances:function h(I){R=R.filter(function(T){return T.context!==I})},getSingletonFactory:function P(I){var T=p(I.__dashjs_factory_name,b);return T||(T=function(C){var B;return void 0===C&&(C={}),{getInstance:function(){return B||(B=S(C,I.__dashjs_factory_name)),B||(B=x(I,C,arguments),R.push({name:I.__dashjs_factory_name,context:C,instance:B})),B}}},b[I.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(I){return p(I,b)},updateSingletonFactory:function G(I,T){v(I,T,b)},getClassFactory:function O(I){var T=p(I.__dashjs_factory_name,F);return T||(T=function(C){return void 0===C&&(C={}),{create:function(){return x(I,C,arguments)}}},F[I.__dashjs_factory_name]=T),T},getClassFactoryByName:function V(I){return p(I,F)},updateClassFactory:function w(I,T){v(I,T,F)}}}();M.default=y},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./Utils.js */
"./src/core/Utils.js"),R=e(
/*! ../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=e(
/*! ./EventBus */
"./src/core/EventBus.js"),S=e(
/*! ./events/Events */
"./src/core/events/Events.js");function m(O){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(O)}function h(O,G,k){return(G=function p(O){var G=function v(O,G){if("object"!==m(O)||null===O)return O;var k=O[Symbol.toPrimitive];if(void 0!==k){var P=k.call(O,G||"default");if("object"!==m(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===G?String:Number)(O)}(O,"string");return"symbol"===m(G)?G:String(G)}(G))in O?Object.defineProperty(O,G,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[G]=k,O}function w(){var O,G,P=this.context,x=Object(L.default)(P).getInstance(),I={"streaming.delay.liveDelay":S.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":S.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":S.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":S.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":S.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:R.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:b.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:b.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:b.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:b.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(O={},h(O,F.HTTPRequest.MPD_TYPE,500),h(O,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),h(O,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.LICENSE,1e3),h(O,F.HTTPRequest.OTHER_TYPE,1e3),h(O,"lowLatencyReductionFactor",10),O),retryAttempts:(G={},h(G,F.HTTPRequest.MPD_TYPE,3),h(G,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),h(G,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),h(G,F.HTTPRequest.INIT_SEGMENT_TYPE,3),h(G,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),h(G,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),h(G,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),h(G,F.HTTPRequest.LICENSE,3),h(G,F.HTTPRequest.OTHER_TYPE,3),h(G,"lowLatencyMultiplyFactor",5),G),abr:{movingAverageMethod:b.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:b.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:b.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=E.default.clone(T);function C(ae,Oe,z){for(var oe in ae)ae.hasOwnProperty(oe)&&(Oe.hasOwnProperty(oe)?"object"!==m(ae[oe])||ae[oe]instanceof Array||null===ae[oe]?(Oe[oe]=E.default.clone(ae[oe]),I[z+oe]&&x.trigger(I[z+oe])):C(ae[oe],Oe[oe],z.slice()+oe+"."):console.error("Settings parameter "+z+oe+" is not supported"))}return{get:function B(){return N},update:function Y(ae){"object"===m(ae)&&C(ae,N,"")},reset:function re(){N=E.default.clone(T)}}}w.__dashjs_factory_name="Settings";var V=y.default.getSingletonFactory(w);M.default=V},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),E=e.n(y),R=e(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(w){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(w)}function S(w,V){for(var O=0;O<V.length;O++){var G=V[O];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(w,h(G.key),G)}}function h(w){var V=function p(w,V){if("object"!==F(w)||null===w)return w;var O=w[Symbol.toPrimitive];if(void 0!==O){var G=O.call(w,V||"default");if("object"!==F(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(w)}(w,"string");return"symbol"===F(V)?V:String(V)}var v=function(){function w(){!function L(w,V){if(!(w instanceof V))throw new TypeError("Cannot call a class as a function")}(this,w)}return function m(w,V,O){return V&&S(w.prototype,V),O&&S(w,O),Object.defineProperty(w,"prototype",{writable:!1}),w}(w,null,[{key:"mixin",value:function(O,G,k){var P,x={};if(O)for(var I in G)G.hasOwnProperty(I)&&(P=G[I],(!(I in O)||O[I]!==P&&(!(I in x)||x[I]!==P))&&(O[I]="object"===F(O[I])&&null!==O[I]?w.mixin(O[I],P,k):k(P)));return O}},{key:"clone",value:function(O){if(!O||"object"!==F(O))return O;var G;if(O instanceof Array){G=[];for(var k=0,P=O.length;k<P;++k)k in O&&G.push(w.clone(O[k]))}else G={};return w.mixin(G,O,w.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(O,G){try{if(!G||0===G.length)return O;var k=new URL(O);return G.forEach(function(P){P.key&&P.value&&k.searchParams.set(P.key,P.value)}),k.href}catch{return O}}},{key:"parseHttpHeaders",value:function(O){var G={};if(!O)return G;for(var k=O.trim().split("\r\n"),P=0,x=k.length;P<x;P++){var I=k[P],T=I.indexOf(": ");T>0&&(G[I.substring(0,T)]=I.substring(T+2))}return G}},{key:"generateUuid",value:function(){var O=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var P=(O+16*Math.random())%16|0;return O=Math.floor(O/16),("x"==k?P:3&P|8).toString(16)})}},{key:"generateHashCode",value:function(O){var G=0;if(0===O.length)return G;for(var k=0;k<O.length;k++)G=(G<<5)-G+O.charCodeAt(k),G|=0;return G}},{key:"getRelativeUrl",value:function(O,G){try{var k=new URL(O),P=new URL(G);if(k.protocol=P.protocol,k.origin!==P.origin)return G;var x=E.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),P.pathname.substr(0,P.pathname.lastIndexOf("/"))),I=0===x.length?1:0;return x+=P.pathname.substr(P.pathname.lastIndexOf("/")+I,P.pathname.length-1),P.pathname.length<x.length?P.pathname:x}catch{return G}}},{key:"parseUserAgent",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var G=null===O&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(R.UAParser)(G)}catch{return{}}}}]),w}();M.default=v},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(Ye,M,e){"use strict";e.r(M),e.d(M,"getVersionString",function(){return E});var y="4.5.2";function E(){return y}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}e.r(M);var k=new(function(P){m(I,P);var x=p(I);function I(){var T;return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),(T=x.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(e(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));M.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(){!function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m)}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"extend",value:function(p,v){if(p){var w=!!v&&v.override,V=!!v&&v.publicOnly;for(var O in p)!p.hasOwnProperty(O)||this[O]&&!w||V&&-1===p[O].indexOf("public_")||(this[O]=p[O])}}}]),m}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function R(k,P){for(var x=0;x<P.length;x++){var I=P[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,F(I.key),I)}}function F(k){var P=function L(k,P){if("object"!==E(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var I=x.call(k,P||"default");if("object"!==E(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===E(P)?P:String(P)}function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&h(k,P)}function h(k,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(k,P)}function p(k){var P=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=O(k);if(P){var N=O(this).constructor;T=Reflect.construct(I,arguments,N)}else T=I.apply(this,arguments);return function v(k,P){if(P&&("object"===E(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function w(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function O(k){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}M.default=function(k){m(x,k);var P=p(x);function x(){var I;return function S(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(I=P.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",I.BUFFERING_COMPLETED="bufferingCompleted",I.BUFFER_CLEARED="bufferCleared",I.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",I.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",I.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",I.CURRENT_TRACK_CHANGED="currentTrackChanged",I.DATA_UPDATE_COMPLETED="dataUpdateCompleted",I.INBAND_EVENTS="inbandEvents",I.INITIAL_STREAM_SWITCH="initialStreamSwitch",I.INIT_FRAGMENT_LOADED="initFragmentLoaded",I.INIT_FRAGMENT_NEEDED="initFragmentNeeded",I.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",I.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",I.LOADING_COMPLETED="loadingCompleted",I.LOADING_PROGRESS="loadingProgress",I.LOADING_DATA_PROGRESS="loadingDataProgress",I.LOADING_ABANDONED="loadingAborted",I.MANIFEST_UPDATED="manifestUpdated",I.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",I.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",I.QUOTA_EXCEEDED="quotaExceeded",I.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",I.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",I.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",I.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",I.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",I.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",I.SOURCE_BUFFER_ERROR="sourceBufferError",I.STREAMS_COMPOSED="streamsComposed",I.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",I.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",I.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",I.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",I.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",I.URL_RESOLUTION_FAILED="urlResolutionFailed",I.VIDEO_CHUNK_RECEIVED="videoChunkReceived",I.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",I.XLINK_ELEMENT_LOADED="xlinkElementLoaded",I.XLINK_READY="xlinkReady",I.SEEK_TARGET="seekTarget",I.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",I.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",I.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",I.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",I.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",I}return function b(k,P,x){return P&&R(k.prototype,P),x&&R(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(y.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}e.r(M);var G=function(P){m(I,P);var x=p(I);function I(){return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),x.apply(this,arguments)}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(e(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new G;M.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(){!function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m)}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"extend",value:function(p,v){if(p){var w=!!v&&v.override,V=!!v&&v.publicOnly;for(var O in p)!p.hasOwnProperty(O)||this[O]&&!w||V&&-1===p[O].indexOf("public_")||(this[O]=p[O])}}}]),m}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=e(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),R=e(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),b=e(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=e(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=e(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),S=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=e(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),p=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),v=e.n(p);function w(){var V,O,G,k,P,x,I,T=this.context;function ae(ue){return O.getRolesForAdaptation(ue).filter(function(ge){return ge.value===y.default.MAIN})[0]}function Oe(ue,ge,it){var pt=O.getAdaptationsForType(k[0].mpd.manifest,ue,ge);if(!pt||0===pt.length)return null;if(pt.length>1&&it){var kt=H(it,ge);if(P[it.id]&&P[it.id][ge])for(var Bt=0,Kt=pt.length;Bt<Kt;Bt++)if(z(P[it.id][ge],kt[Bt]))return pt[Bt];for(var tn=0,en=pt.length;tn<en;tn++)if(ae(pt[tn]))return pt[tn]}return pt[0]}function z(ue,ge){if(!ue||!ge)return!1;var it=ue.id===ge.id,pt=ue.codec===ge.codec,kt=ue.viewpoint===ge.viewpoint,Bt=ue.lang===ge.lang,Kt=ue.roles.toString()===ge.roles.toString(),tn=ue.accessibility.toString()===ge.accessibility.toString(),en=ue.audioChannelConfiguration.toString()===ge.audioChannelConfiguration.toString();return it&&pt&&kt&&Bt&&Kt&&tn&&en}function oe(ue,ge,it,pt,kt,Bt){var en,bt,wt,Zt,Wt,Kt=[];if(!pt||0===pt.length)return[];var dn=O.getAdaptationsForPeriod(ge);for(wt=0,Wt=pt.length;wt<Wt;wt++)if(en=Ct(dn[bt=O.getIndexForAdaptation(pt[wt],ue,it.index)]),Bt){var gn=en.accessibility.length;for(Zt=0;Zt<gn;Zt++)if(en){var En=en.accessibility[Zt];if(0===En.indexOf("cea-608:")){var jn=En.substring(8).split(";");if("CC"===jn[0].substring(0,2))for(Zt=0;Zt<jn.length;Zt++)en||(en=Ct.call(this,dn[bt])),Ot(en,jn[Zt].substring(0,3),jn[Zt].substring(4)),Kt.push(en),en=null;else for(Zt=0;Zt<jn.length;Zt++)en||(en=Ct.call(this,dn[bt])),Ot(en,"CC"+(Zt+1),jn[Zt]),Kt.push(en),en=null}else 0===En.indexOf("cea-608")&&(Ot(en,x.CC1,"eng"),Kt.push(en),en=null)}}else kt===x.IMAGE?(It(en),Kt.push(en),en=null):en&&Kt.push(en);return Kt}function H(ue,ge,it){var pt=k,kt=it,Bt=[];if(kt)cn(),pt=be(kt);else{if(!(k.length>0))return Bt;kt=k[0].mpd.manifest}var Kt=ut(ue,pt),tn=O.getAdaptationsForType(kt,ue?ue.index:null,ge);return Bt=oe(kt,Kt,ue,tn,ge),ge===x.TEXT&&(tn=O.getAdaptationsForType(kt,ue?ue.index:null,x.VIDEO),Bt=Bt.concat(oe(kt,Kt,ue,tn,ge,!0))),Bt}function be(ue){var ge=K(ue);return O.getRegularPeriods(ge)}function K(ue){var ge=ot(ue);return O.getMpd(ge)}function Ze(){k=[],P={}}function ot(ue){return ue||(k.length>0?k[0].mpd.manifest:null)}function yt(ue){try{var ge=ut(ue.streamInfo,k),it=O.getAdaptationsForPeriod(ge);return ue&&ue.streamInfo&&void 0!==ue.streamInfo.id&&it?it[ue.index]:null}catch{return null}}function ut(ue,ge){for(var it=ge.length,pt=0;pt<it;pt++){var kt=ge[pt];if(ue&&ue.id===kt.id)return kt}return null}function Ct(ue){if(!ue)return null;var pt,ge=new R.default,it=ue.period.mpd.manifest.Period_asArray[ue.period.index].AdaptationSet_asArray[ue.index];if(ge.id=ue.id,ge.index=ue.index,ge.type=ue.type,ge.streamInfo=Gt(ue.period),ge.representationCount=O.getRepresentationCount(it),ge.labels=O.getLabelsForAdaptation(it),ge.lang=O.getLanguageForAdaptation(it),pt=O.getViewpointForAdaptation(it),ge.viewpoint=pt?pt.value:void 0,ge.accessibility=O.getAccessibilityForAdaptation(it).map(function(Kt){var tn=Kt.value,en=tn;return Kt.schemeIdUri&&Kt.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(en=tn?"cea-608:"+tn:"cea-608",ge.embeddedCaptions=!0),en}),ge.audioChannelConfiguration=O.getAudioChannelConfigurationForAdaptation(it).map(function(Kt){return Kt.value}),0===ge.audioChannelConfiguration.length&&Array.isArray(it.Representation_asArray)&&it.Representation_asArray.length>0&&(ge.audioChannelConfiguration=O.getAudioChannelConfigurationForRepresentation(it.Representation_asArray[0]).map(function(Kt){return Kt.value})),ge.roles=O.getRolesForAdaptation(it).map(function(Kt){return Kt.value}),ge.codec=O.getCodec(it),ge.mimeType=O.getMimeType(it),ge.contentProtection=O.getContentProtectionData(it),ge.bitrateList=O.getBitrateListForAdaptation(it),ge.selectionPriority=O.getSelectionPriority(it),ge.contentProtection){var kt=ge.contentProtection.map(function(Kt){return O.getKID(Kt)}).filter(function(Kt){return null!==Kt});if(kt.length){var Bt=kt[0];ge.contentProtection.forEach(function(Kt){Kt.keyId=Bt})}}return ge.isText=O.getIsText(it),ge.supplementalProperties=O.getSupplementalProperties(it),ge.isFragmented=O.getIsFragmented(it),ge.isEmbedded=!1,ge}function Ot(ue,ge,it){ue.id=ge,ue.index=100+parseInt(ge.substring(2,3)),ue.type=x.TEXT,ue.codec="cea-608-in-SEI",ue.isEmbedded=!0,ue.isFragmented=!1,ue.lang=v()(it),ue.roles=["caption"]}function It(ue){ue.type=x.IMAGE}function Gt(ue){var ge=new b.default;return ge.id=ue.id,ge.index=ue.index,ge.start=ue.start,ge.duration=ue.duration,ge.manifestInfo=function Xt(ue){var ge=new F.default;return ge.dvrWindowSize=ue.timeShiftBufferDepth,ge.loadedTime=ue.manifest.loadedTime,ge.availableFrom=ue.availabilityStartTime,ge.minBufferTime=ue.manifest.minBufferTime,ge.maxFragmentDuration=ue.maxSegmentDuration,ge.duration=O.getDuration(ue.manifest),ge.isDynamic=O.getIsDynamic(ue.manifest),ge.serviceDescriptions=O.getServiceDescriptions(ue.manifest),ge.protocol=ue.manifest.protocol,ge}(ue.mpd),ge.isLast=1===ue.mpd.manifest.Period_asArray.length||Math.abs(ge.start+ge.duration-ge.manifestInfo.duration)<1,ge}function cn(){if(!x)throw new Error("setConfig function has to be called previously")}function Rn(ue){return k.length>0?k[0].mpd.manifest.Period_asArray[ue]:null}function at(ue,ge,it){var kt,Bt,Kt,tn,en;if(ue)for(kt=ue.AdaptationSet_asArray,tn=0;tn<kt.length;tn+=1)for(Kt=kt[tn].Representation_asArray,en=0;en<Kt.length;en+=1)if(ge===(Bt=Kt[en]).id)return it?en:Bt;return null}return V={getBandwidthForRepresentation:function pe(ue,ge){var it;return(it=at(Rn(ge),ue))?it.bandwidth:null},getIndexForRepresentation:function le(ue,ge){return function nt(ue,ge){var it=at(ue,ge,!0);return null!==it?it:-1}(Rn(ge),ue)},getMaxIndexForBufferType:function Te(ue,ge){return function Se(ue,ge){var it,pt,kt,Bt;if(!ue||!ge)return-1;for(pt=ue.AdaptationSet_asArray,Bt=0;Bt<pt.length;Bt+=1)if(kt=(it=pt[Bt]).Representation_asArray,O.getIsTypeOf(it,ge))return kt.length;return-1}(Rn(ge),ue)},convertRepresentationToRepresentationInfo:function Y(ue){if(ue){var ge=new E.default,pt=O.getRepresentationFor(ue.index,ue.adaptation.period.mpd.manifest.Period_asArray[ue.adaptation.period.index].AdaptationSet_asArray[ue.adaptation.index]);return ge.id=ue.id,ge.quality=ue.index,ge.bandwidth=O.getBandwidth(pt),ge.fragmentDuration=ue.segmentDuration||(ue.segments&&ue.segments.length>0?ue.segments[0].duration:NaN),ge.MSETimeOffset=ue.MSETimeOffset,ge.mediaInfo=Ct(ue.adaptation),ge}return null},getStreamsInfo:function ne(ue,ge){var it=[],pt=k;if(ue&&(cn(),pt=be(ue)),pt.length>0){(!ge||ge>pt.length)&&(ge=pt.length);for(var kt=0;kt<ge;kt++)it.push(Gt(pt[kt]))}return it},getMediaInfoForType:function re(ue,ge){if(0===k.length||!ue)return null;var it=ut(ue,k);if(!it)return null;var pt=O.getAdaptationsForPeriod(it),kt=Oe(ue.index,ge,ue);return kt?Ct(pt[O.getIndexForAdaptation(kt,k[0].mpd.manifest,ue.index)]):null},getAllMediaInfoForType:H,getAdaptationForType:Oe,getRealAdaptation:function fe(ue,ge){var it,pt,kt=ut(ue,k);return it=ge?ge.id:null,k.length>0&&kt&&(pt=it?O.getAdaptationForId(it,k[0].mpd.manifest,kt.index):O.getAdaptationForIndex(ge?ge.index:null,k[0].mpd.manifest,kt.index)),pt},getProducerReferenceTimes:function Ee(ue,ge){var it,pt,kt=ut(ue,k);return it=ge?ge.id:null,k.length>0&&kt&&(pt=it?O.getAdaptationForId(it,k[0].mpd.manifest,kt.index):O.getAdaptationForIndex(ge?ge.index:null,k[0].mpd.manifest,kt.index)),pt?O.getProducerReferenceTimesForAdaptation(pt):[]},getRealPeriodByIndex:function se(ue){return O.getRealPeriodForIndex(ue,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ae(ue){try{return O.getEssentialPropertiesForRepresentation(ue)}catch{return[]}},getVoRepresentations:function De(ue){var it=yt(ue);return O.getRepresentationsForAdaptation(it)},getEventsFor:function _e(ue,ge,it){var pt=[];if(k.length>0){var kt=k[0].mpd.manifest;if(ue instanceof b.default){var Bt=ut(ue,k);pt=O.getEventsForPeriod(Bt)}else if(ue instanceof R.default){var Kt=ut(it,k);pt=O.getEventStreamForAdaptationSet(kt,yt(ue),Kt)}else if(ue instanceof E.default){var tn=ut(it,k);pt=O.getEventStreamForRepresentation(kt,ge,tn)}}return pt},getEvent:function Me(ue,ge,it,pt){try{if(!ue||!ge||isNaN(it)||!pt)return null;var kt=ue.scheme_id_uri,Bt=ue.value;if(!ge[kt+"/"+Bt])return null;var Wt,Kt=new L.default,tn=ue.timescale||1,en=pt.adaptation.period.start,bt=ge[kt+"/"+Bt],wt=isNaN(pt.presentationTimeOffset)?isNaN(bt.presentationTimeOffset)?0:bt.presentationTimeOffset:pt.presentationTimeOffset,Zt=ue.presentation_time_delta/tn;Wt=0===ue.version?en+it-wt+Zt:en-wt+Zt;var dn=ue.event_duration/tn,gn=ue.id,En=ue.message_data;return Kt.eventStream=bt,Kt.eventStream.value=Bt,Kt.eventStream.timescale=tn,Kt.duration=dn,Kt.id=gn,Kt.calculatedPresentationTime=Wt,Kt.messageData=En,Kt.presentationTimeDelta=Zt,Kt}catch{return null}},getMpd:K,setConfig:function B(ue){ue&&(ue.constants&&(x=ue.constants),ue.cea608parser&&(I=ue.cea608parser),ue.errHandler&&O.setConfig({errHandler:ue.errHandler}),ue.BASE64&&O.setConfig({BASE64:ue.BASE64}))},updatePeriods:function me(ue){if(!ue)return null;cn(),k=be(ue)},getIsTextTrack:function Ie(ue){return O.getIsText(ue)},getUTCTimingSources:function we(){var ue=ot();return O.getUTCTimingSources(ue)},getSuggestedPresentationDelay:function Fe(){return O.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function We(ue){var ge=K(ue);return O.getAvailabilityStartTime(ge)},getIsTypeOf:function ke(ue,ge){return O.getIsTypeOf(ue,ge)},getIsDynamic:function Ue(ue){var ge=ot(ue);return O.getIsDynamic(ge)},getDuration:function xe(ue){var ge=ot(ue);return O.getDuration(ge)},getRegularPeriods:be,getContentSteering:function ie(ue){return O.getContentSteering(ue)},getLocation:function he(ue){return O.getLocation(ue)},getPatchLocation:function W(ue){var ge=O.getPatchLocation(ue),it=O.getPublishTime(ue);if(!ge||!it)return null;if(ge.hasOwnProperty("ttl")&&it){var pt=1e3*parseFloat(ge.ttl);if(it.getTime()+pt<=(new Date).getTime())return null}return ge.__text},getManifestUpdatePeriod:function q(ue){return O.getManifestUpdatePeriod(ue,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function $(ue){return O.getPublishTime(ue)},getIsDVB:function te(ue){return O.hasProfile(ue,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function X(ue){return G.getIsPatch(ue)},getBaseURLsFromElement:function J(ue){return O.getBaseURLsFromElement(ue)},getRepresentationSortFunction:function Q(){return O.getRepresentationSortFunction()},getCodec:function de(ue,ge,it){return O.getCodec(ue,ge,it)},getPeriodById:function Ve(ue){if(!ue||0===k.length)return null;var ge=k.filter(function(it){return it.id===ue});return ge&&ge.length>0?ge[0]:null},setCurrentMediaInfo:function Le(ue,ge,it){P[ue]=P[ue]||{},P[ue][ge]=P[ue][ge]||{},P[ue][ge]=it},isPatchValid:function qe(ue,ge){var it=O.getId(ue),pt=G.getMpdId(ge),kt=O.getPublishTime(ue),Bt=G.getPublishTime(ge),Kt=G.getOriginalPublishTime(ge);return!!(it&&pt&&it==pt&&kt&&Kt&&kt.getTime()==Kt.getTime()&&Bt&&kt.getTime()<Bt.getTime())},applyPatchToManifest:function He(ue,ge){G.getPatchOperations(ge).forEach(function(it){var pt=it.getMpdTarget(ue);if(null!==pt){var kt=pt.name,Bt=pt.target,Kt=pt.leaf;if(it.xpath.findsAttribute()){switch(it.action){case"add":case"replace":Bt[kt]=it.value;break;case"remove":delete Bt[kt]}return}var tn=(Bt[kt+"_asArray"]||[]).indexOf(Kt),en="prepend"===it.position||"before"===it.position;if(("remove"===it.action||"replace"===it.action)&&(delete Bt[kt],-1!=tn)){var bt=Bt[kt+"_asArray"];bt.splice(tn,1),bt.length>1?Bt[kt]=bt:1==bt.length?Bt[kt]=bt[0]:delete Bt[kt+"_asArray"]}("add"===it.action||"replace"===it.action)&&Object.keys(it.value).forEach(function(wt){var Zt=it.value[wt],Wt=Bt[wt+"_asArray"]||[];0===Wt.length&&Bt[wt]&&Wt.push(Bt[wt]),0===Wt.length?Wt=Zt:Wt.splice.apply(Wt,[wt==kt&&-1!=tn?tn+(en?0:1)+("replace"==it.action?-1:0):en?0:Wt.length,0].concat(Zt)),Bt[wt+"_asArray"]=Wt,Bt[wt]=1==Wt.length?Wt[0]:Wt})}})},areMediaInfosEqual:z,reset:Ze},function C(){O=Object(m.default)(T).getInstance(),G=Object(h.default)(T).getInstance(),Ze()}(),V}w.__dashjs_factory_name="DashAdapter",M.default=S.default.getSingletonFactory(w)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),E=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),R=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=e(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function h(p){var I,T,N,C,B,v=(p=p||{}).eventBus,w=p.debug,V=p.urlUtils,O=p.type,G=p.streamInfo,k=p.segmentsController,P=p.timelineConverter,x=p.baseURLController;function Oe(){return O}function oe(){N=null}function me(we,Fe,We){var xe,be,Ue=x.resolve(We.path);return Ue&&Fe!==Ue.url&&V.isRelative(Fe)?(xe=Ue.url,be=Ue.serviceLocation,Fe&&(xe=V.resolve(Fe,xe))):xe=Fe,!V.isRelative(xe)&&(we.url=xe,we.serviceLocation=be,!0)}function Ee(we,Fe){if(null==Fe)return null;var We=new y.default,Ue=Fe.representation,xe=Ue.adaptation.period.mpd.manifest.Period_asArray[Ue.adaptation.period.index].AdaptationSet_asArray[Ue.adaptation.index].Representation_asArray[Ue.index].bandwidth,be=Fe.media;return be=Object(F.replaceTokenForTemplate)(be,"Number",Fe.replacementNumber),be=Object(F.replaceTokenForTemplate)(be,"Time",Fe.replacementTime),be=Object(F.replaceTokenForTemplate)(be,"Bandwidth",xe),be=Object(F.replaceIDForTemplate)(be,Ue.id),be=Object(F.unescapeDollarsInTemplate)(be),We.mediaType=Oe(),We.type=E.HTTPRequest.MEDIA_SEGMENT_TYPE,We.range=Fe.mediaRange,We.startTime=Fe.presentationStartTime,We.mediaStartTime=Fe.mediaStartTime,We.duration=Fe.duration,We.timescale=Ue.timescale,We.availabilityStartTime=Fe.availabilityStartTime,We.availabilityEndTime=Fe.availabilityEndTime,We.availabilityTimeComplete=Ue.availabilityTimeComplete,We.wallStartTime=Fe.wallStartTime,We.quality=Ue.index,We.index=Fe.index,We.mediaInfo=we,We.adaptationIndex=Ue.adaptation.index,We.representationId=Ue.id,me(We,be,Ue)?We:void 0}function se(we,Fe,We){var Ue=null;if(!Fe||!Fe.segmentInfoType)return Ue;var xe=k.getSegmentByTime(Fe,We);return xe&&(N=xe,T.debug("Index for time "+We+" is "+xe.index),Ue=Ee(we,xe)),Ue}function Ie(){T.debug("Dynamic stream complete"),B=!0}return I={initialize:function re(we){C=we,B=!1,k.initialize(we)},getStreamId:function ae(){return G.id},getType:Oe,getStreamInfo:function z(){return G},getInitRequest:function ne(we,Fe){return Fe?function fe(we,Fe,We){var Ue=new y.default,xe=Fe.adaptation.period,be=xe.start;if(Ue.mediaType=We,Ue.type=E.HTTPRequest.INIT_SEGMENT_TYPE,Ue.range=Fe.range,Ue.availabilityStartTime=P.calcAvailabilityStartTimeFromPresentationTime(be,Fe,C),Ue.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(be+xe.duration,Fe,C),Ue.quality=Fe.index,Ue.mediaInfo=we,Ue.representationId=Fe.id,me(Ue,Fe.initialization,Fe))return Ue.url=Object(F.replaceTokenForTemplate)(Ue.url,"Bandwidth",Fe.bandwidth),Ue}(we,Fe,Oe()):null},getSegmentRequestForTime:se,getCurrentIndex:function Le(){return N?N.index:-1},getNextSegmentRequest:function Me(we,Fe){var We=null;if(!Fe||!Fe.segmentInfoType)return null;var Ue=N?N.index+1:0,xe=k.getSegmentByIndex(Fe,Ue,N?N.mediaStartTime:-1);if(xe)We=Ee(we,xe),N=xe;else{if(C&&!B)return T.debug(Oe()+" No segment found at index: "+Ue+". Wait for next loop"),null;B=!0}return We},isLastSegmentRequested:function Ae(we,Fe){if(!we||!N)return!1;if(B)return!0;if(!isFinite(we.adaptation.period.duration)||N.presentationStartTime+N.duration>Fe)return!1;if(we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=we.mediaFinishedInformation.numberOfSegments-1){if(!C||we.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(C&&we.segmentInfoType===L.default.SEGMENT_LIST&&we.adaptation.period.nextPeriodId)return!0}return!!(C&&we.adaptation.period.nextPeriodId&&we.segmentInfoType===L.default.SEGMENT_TIMELINE&&we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function H(){oe(),v.off(b.default.DYNAMIC_TO_STATIC,Ie,I)},getNextSegmentRequestIdempotent:function De(we,Fe){var xe=k.getSegmentByIndex(Fe,N?N.index+1:0,N?N.mediaStartTime:-1);return xe?Ee(we,xe):null},getValidTimeAheadOfTargetTime:function _e(we,Fe,We,Ue){try{if(isNaN(we)||!Fe||!We)return NaN;if(we<0&&(we=0),isNaN(Ue)&&(Ue=.5),se(Fe,We,we))return we;if(We.adaptation.period.start+We.adaptation.period.duration<we)return NaN;for(var xe=isFinite(We.adaptation.period.duration)?We.adaptation.period.start+We.adaptation.period.duration:we+30,be=Math.min(we+Ue,xe),K=NaN,ie=null;be<=xe;){var he=null;if(be<=xe&&(he=se(Fe,We,be)),he){K=be,ie=he;break}be+=Ue}if(ie){var q=ie.startTime+ie.duration;return we>ie.startTime&&q-we>Ue?we:!isNaN(ie.startTime)&&we<ie.startTime&&K>ie.startTime?ie.startTime+.001:Math.min(q-Ue,K)}return K}catch{return NaN}}},function Y(){T=w.getLogger(I),oe(),v.on(b.default.DYNAMIC_TO_STATIC,Ie,I)}(),I}h.__dashjs_factory_name="DashHandler",M.default=R.default.getClassFactory(h)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),R=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=e(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=e(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),S=e(
/*! ../core/Utils */
"./src/core/Utils.js"),m=e(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function h(p){var w,V,O,G,v=this.context,k=(p=p||{}).metricsModel;function ae(he){var q=k.getMetricsFor(he,!0);if(!q)return null;var te,$=q.HttpList,W=null;if(!$||$.length<=0)return null;for(te=$.length-1;te>=0;){if($[te].responsecode){W=$[te];break}te--}return W}function Oe(he){var q=k.getMetricsFor(he,!0);return q&&q.HttpList?q.HttpList:[]}function oe(he,q){if(!he)return null;var $=he[q];return $&&0!==$.length?$[$.length-1]:null}return w={getCurrentRepresentationSwitch:function I(he){return oe(k.getMetricsFor(he,!0),b.default.TRACK_SWITCH)},getCurrentBufferState:function N(he){return oe(k.getMetricsFor(he,!0),b.default.BUFFER_STATE)},getCurrentBufferLevel:function C(he){var $=oe(k.getMetricsFor(he,!0),b.default.BUFFER_LEVEL);return $?F.default.round10($.level/1e3,-3):0},getCurrentHttpRequest:ae,getHttpRequests:Oe,getCurrentDroppedFrames:function H(){return oe(k.getMetricsFor(y.default.VIDEO,!0),b.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function ne(he){return oe(k.getMetricsFor(he,!0),b.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Le(he){return oe(he?k.getMetricsFor(he,!0):k.getMetricsFor(y.default.VIDEO,!0)||k.getMetricsFor(y.default.AUDIO,!0),b.default.DVR_INFO)},getCurrentManifestUpdate:function Ee(){return oe(k.getMetricsFor(y.default.STREAM),b.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Fe(he,q){if(!q)return null;var $={},W=ae(he);W&&($=S.default.parseHttpHeaders(W._responseHeaders));var te=$[q.toLowerCase()];return void 0===te?null:te},getLatestMPDRequestHeaderValueByID:function we(he){if(!he)return null;var $,W,te,q={};for(te=($=Oe(y.default.STREAM)).length-1;te>=0;te--)if((W=$[te]).type===E.HTTPRequest.MPD_TYPE){q=S.default.parseHttpHeaders(W._responseHeaders);break}var X=q[he.toLowerCase()];return void 0===X?null:X},addRepresentationSwitch:function T(he,q,$,W,te){k.addRepresentationSwitch(he,q,$,W,te)},addDVRInfo:function Ie(he,q,$,W){k.addDVRInfo(he,q,$,W)},updateManifestUpdateInfo:function Ae(he){var q=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo(q,he)},addManifestUpdateStreamInfo:function se(he){if(he){var q=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo(q,he.id,he.index,he.start,he.duration)}},addManifestUpdateRepresentationInfo:function _e(he,q){if(he){var $=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo($,he.id,he.index,he.streamIndex,q,he.presentationTimeOffset,he.startNumber,he.fragmentInfoType)}},addManifestUpdate:function De(he){k.addManifestUpdate(y.default.STREAM,he.type,he.requestStartDate,he.requestEndDate)},addHttpRequest:function Me(he,q,$,W,te){k.addHttpRequest(he.mediaType,null,he.type,he.url,he.quality,q,he.serviceLocation||null,he.range||null,he.requestStartDate,he.firstByteDate,he.requestEndDate,$,he.duration,W,te,he.fileLoaderType)},addSchedulingInfo:function fe(he,q){k.addSchedulingInfo(he.mediaType,new Date,he.type,he.startTime,he.availabilityStartTime,he.duration,he.quality,he.range,q)},addRequestsQueue:function z(he,q,$){k.addRequestsQueue(he,q,$)},addBufferLevel:function B(he,q,$){k.addBufferLevel(he,q,$)},addBufferState:function Y(he,q,$){k.addBufferState(he,q,$)},addDroppedFrames:function me(he){k.addDroppedFrames(y.default.VIDEO,he)},addPlayList:function We(){G&&(k.addPlayList(G),G=null)},addDVBErrors:function ie(he){k.addDVBErrors(he)},createPlaylistMetrics:function Ue(he,q){(G=new m.PlayList).start=new Date,G.mstart=he,G.starttype=q},createPlaylistTraceMetrics:function xe(he,q,$){!0===V&&(V=!1,(O=new m.PlayListTrace).representationid=he,O.start=new Date,O.mstart=q,O.playbackspeed=null!==$?$.toString():null)},updatePlayListTraceMetrics:function be(he){if(O)for(var q in O)O[q]=he[q]},pushPlayListTraceMetrics:function K(he,q){if(!1===V&&G&&O&&O.start){var $=O.start,W=he.getTime()-$.getTime();O.duration=W,O.stopreason=q,G.trace.push(O),V=!0}},clearAllCurrentMetrics:function re(){k.clearAllCurrentMetrics()}},function P(){k=k||Object(L.default)(v).getInstance({settings:p.settings}),function x(){V=!0,O=null,G=null}()}(),w}h.__dashjs_factory_name="DashMetrics",M.default=R.default.getSingletonFactory(h)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),E=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var m,h,p,v,w,V,O,G,k,P,x,I,T,S=this.context;function re(ne,fe,Ee,Ae){var se=null,De=ne?T.resolve(ne.path):null,Me=Ae||{init:!0,url:De?De.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:fe};h.debug("Start searching for initialization.");var _e=me(Me);G.load({request:_e,success:function(Fe){if(Me.bytesLoaded=Me.range.end,!(se=v.findInitRange(Fe)))return Me.range.end=Me.bytesLoaded+Me.bytesToLoad,re(ne,fe,Ee,Me);ne.range=se,Ee(ne)},error:function(){Ee(ne)}}),h.debug("Perform init search: "+Me.url)}function Oe(ne,fe,Ee,Ae,se,De){if(Ee&&(void 0===Ee.start||void 0===Ee.end)){var Me=Ee?Ee.toString().split("-"):null;Ee=Me?{start:parseFloat(Me[0]),end:parseFloat(Me[1])}:null}se=se||z;var _e=null,Le=null,Ie=!!Ee,we=ne?T.resolve(ne.path):null,Fe={init:!1,url:we?we.url:void 0,range:Ie?Ee:{start:0,end:1500},searching:!Ie,bytesLoaded:De?De.bytesLoaded:0,bytesToLoad:1500,mediaType:fe},We=me(Fe);G.load({request:We,success:function(K){var ie=Fe.bytesToLoad,he=K.byteLength;if(Fe.bytesLoaded=Fe.range.end-Fe.range.start,_e=v.parse(K),(Le=_e.getBox("sidx"))&&Le.isComplete){var W,te,$=Le.references;if(null!=$&&$.length>0&&(W=1===$[0].reference_type),W){h.debug("Initiate multiple SIDX load."),Fe.range.end=Fe.range.start+Le.size;var X,J,Q,de,le=[],Te=0,Ve=(Le.offset||Fe.range.start)+Le.size,ke=function(qe){qe?(le=le.concat(qe),++Te>=J&&(le.sort(function(He,ot){return He.startTime-ot.startTime<0?-1:0}),se(le,ne,Ae))):se(null,ne,Ae)};for(X=0,J=$.length;X<J;X++)Q=Ve,de=Ve+$[X].referenced_size-1,Ve+=$[X].referenced_size,Oe(ne,fe,{start:Q,end:de},Ae,ke,Fe)}else h.debug("Parsing segments from SIDX. representation "+fe+" - id: "+ne.id+" for range : "+Fe.range.start+" - "+Fe.range.end),te=function H(ne,fe){for(var Le,we,Fe,Ee=ne.references,Ae=Ee.length,se=ne.timescale,De=ne.earliest_presentation_time,Me=fe.range.start+ne.offset+ne.first_offset+ne.size,_e=[],We=0;We<Ae;We++)we=Ee[We].subsegment_duration,Fe=Ee[We].referenced_size,(Le=new y.default).duration=we,Le.startTime=De,Le.timescale=se,Le.mediaRange=Me+"-"+(Me+Fe-1),_e.push(Le),De+=we,Me+=Fe;return _e}(Le,Fe),se(te,ne,Ae)}else{if(Le)Fe.range.start=Le.offset||Fe.range.start,Fe.range.end=Fe.range.start+(Le.size||ie);else{if(he<Fe.bytesLoaded)return void se(null,ne,Ae);var q=_e.getLastBox();q&&q.size?(Fe.range.start=q.offset+q.size,Fe.range.end=Fe.range.start+ie):Fe.range.end+=ie}Oe(ne,fe,Fe.range,Ae,null,Fe)}},error:function(){se(null,ne,Ae)}}),h.debug("Perform SIDX load for type ".concat(fe," : ").concat(Fe.url," with range ").concat(Fe.range.start," - ").concat(Fe.range.end))}function z(ne,fe,Ee){Ee({segments:ne,representation:fe,error:ne?void 0:new E.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function me(ne){if(ne.url){var fe=new b.default;return fe.setInfo(ne),fe}}return m={setConfig:function B(ne){ne.baseURLController&&(T=ne.baseURLController),ne.dashMetrics&&(V=ne.dashMetrics),ne.mediaPlayerModel&&(O=ne.mediaPlayerModel),ne.errHandler&&(p=ne.errHandler),ne.boxParser&&(v=ne.boxParser),ne.debug&&(h=ne.debug.getLogger(m)),ne.requestModifier&&(w=ne.requestModifier),ne.errors&&(k=ne.errors),ne.urlUtils&&(I=ne.urlUtils),ne.constants&&(P=ne.constants),ne.dashConstants&&(x=ne.dashConstants)},initialize:function C(){G=Object(F.default)(S).create({errHandler:p,dashMetrics:V,mediaPlayerModel:O,requestModifier:w,boxParser:v,errors:k,urlUtils:I,constants:P,dashConstants:x})},loadInitialization:function Y(ne,fe){return new Promise(function(Ee){re(ne,fe,Ee)})},loadSegments:function ae(ne,fe,Ee){return new Promise(function(Ae){Oe(ne,fe,Ee,Ae)})},reset:function oe(){G&&(G.abort(),G=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",M.default=R.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),E=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),S=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function m(){var p,v,w,V,O,G,k,P,x,I,h=this.context;function Y(H,me,ne,fe){var Ae,se,De,Me,_e;for(se=[],Me=0,_e=(Ae=function B(H){var fe,Ee,me=[],ne=Object(y.default)(h).create({data:H});for(ne.consumeTagAndSize(w.Segment.Cues);ne.moreData()&&ne.consumeTagAndSize(w.Segment.Cues.CuePoint,!0);){for((fe={}).CueTime=ne.parseTag(w.Segment.Cues.CuePoint.CueTime),fe.CueTracks=[];ne.moreData()&&ne.consumeTag(w.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ae=ne.getMatroskaCodedNum(),se=ne.getPos();if((Ee={}).Track=ne.parseTag(w.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Ee.Track)throw new Error("Cue track cannot be 0");Ee.ClusterPosition=ne.parseTag(w.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),fe.CueTracks.push(Ee),ne.setPos(se+Ae)}if(0===fe.CueTracks.length)throw new Error("Mandatory cuetrack not found");me.push(fe)}if(0===me.length)throw new Error("mandatory cuepoint not found");return me}(H)).length;Me<_e;Me+=1)(De=new b.default).duration=Me<Ae.length-1?Ae[Me+1].CueTime-Ae[Me].CueTime:fe-Ae[Me].CueTime,De.startTime=Ae[Me].CueTime,De.timescale=1e3,De.mediaRange=Ae[Me].CueTracks[0].ClusterPosition+me+"-"+(Me<Ae.length-1?Ae[Me+1].CueTracks[0].ClusterPosition+me-1:ne-1),se.push(De);return v.debug("Parsed cues: "+se.length+" cues."),se}function z(H){var me=new F.default;return me.setInfo(H),me}return p={setConfig:function C(H){if(!(H.baseURLController&&H.dashMetrics&&H.mediaPlayerModel&&H.errHandler))throw new Error(E.default.MISSING_CONFIG_ERROR);I=H.baseURLController,G=H.dashMetrics,k=H.mediaPlayerModel,V=H.errHandler,x=H.errors,v=H.debug.getLogger(p),O=H.requestModifier},initialize:function N(){P=Object(L.default)(h).create({errHandler:V,dashMetrics:G,mediaPlayerModel:k,requestModifier:O,errors:x})},loadInitialization:function ae(H,me){return new Promise(function(ne){var fe=null,Ee=H?I.resolve(H.path):null,Ae=H?H.range.split("-"):null,se={range:{start:Ae?parseFloat(Ae[0]):null,end:Ae?parseFloat(Ae[1]):null},request:fe,url:Ee?Ee.url:void 0,init:!0,mediaType:me};v.info("Start loading initialization."),fe=z(se),P.load({request:fe,success:function(){ne(H)},error:function(){ne(H)}}),v.debug("Perform init load: "+se.url)})},loadSegments:function Oe(H,me,ne){return new Promise(function(fe){var Ee=null,Ae=H?I.resolve(H.path):null,se=Ae?Ae.url:void 0;Ee=z({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ee,url:se,init:!1,mediaType:me}),v.debug("Parsing ebml header"),P.load({request:Ee,success:function(we){!function re(H,me,ne,fe){if(H&&0!==H.byteLength){var Ae,se,De,Me,Ee=Object(y.default)(h).create({data:H}),_e=ne?ne.split("-"):null,Le=null,Ie={url:me,range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:Le};for(v.debug("Parse EBML header: "+Ie.url),Ee.skipOverElement(w.EBML),Ee.consumeTag(w.Segment),De=Ee.getMatroskaCodedNum(),De+=Ee.getPos(),Me=Ee.getPos();Ee.moreData()&&!Ee.consumeTagAndSize(w.Segment.Info,!0);)if(!(Ee.skipOverElement(w.Segment.SeekHead,!0)||Ee.skipOverElement(w.Segment.Tracks,!0)||Ee.skipOverElement(w.Segment.Cues,!0)||Ee.skipOverElement(w.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ae;){var we=Ee.getMatroskaCodedNum(!0),Fe=Ee.getMatroskaCodedNum();we===w.Segment.Info.Duration.tag?Ae=Ee[w.Segment.Info.Duration.parse](Fe):Ee.setPos(Ee.getPos()+Fe)}Le=z(Ie),P.load({request:Le,success:function(be){se=Y(be,Me,De,Ae),fe(se)},error:function(){v.error("Download Error: Cues "+Ie.url),fe(null)}}),v.debug("Perform cues load: "+Ie.url+" bytes="+Ie.range.start+"-"+Ie.range.end)}else fe(null)}(we,se,ne,function(Fe){fe({segments:Fe,representation:H,error:Fe?void 0:new S.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){fe({representation:H,error:new S.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function oe(){P&&(P.abort(),P=null)}},function T(){w={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),p}m.__dashjs_factory_name="WebmSegmentBaseLoader",M.default=R.default.getSingletonFactory(m)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function F(h){var p=function L(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M);var m=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),h}());M.default=m},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=e(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=e(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),S=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),w=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),V_THROUGHPUT="_DASH_throughput",V_PATHWAY="_DASH_pathway",V_URL="url";function O(){var P,x,I,T,N,C,B,Y,re,ae,Oe,z,oe,H,me,G=this.context,k=Object(w.default)(G).getInstance();function Ae(K){K&&K.toStreamInfo&&(T=K.toStreamInfo)}function se(K){K&&K.request&&K.request.serviceLocation&&(N=K.request.serviceLocation)}function De(){var K=Oe.getValue();return me.getContentSteering(K)}function _e(){return new Promise(function(K){try{var ie=De();if(!ie||!ie.serverUrl)return void K();var he=function Le(K){var ie=K.proxyServerUrl?K.proxyServerUrl:K.serverUrl;I&&I.reloadUri&&(ie=k.isRelative(I.reloadUri)?k.resolve(I.reloadUri,K.serverUrl):I.reloadUri);var he=[];if(T){var q=me.getIsDynamic(),$=me.getAllMediaInfoForType(T,p.default.VIDEO).length>0?p.default.VIDEO:p.default.AUDIO,W=oe.getThroughputHistory(),te=W?W.getAverageThroughput($,q):NaN;isNaN(te)||he.push({key:V_THROUGHPUT,value:1e3*te})}return N&&he.push({key:V_PATHWAY,value:N}),K.proxyServerUrl&&K.proxyServerUrl===ie&&K.serverUrl&&he.push({key:V_URL,value:encodeURI(K.serverUrl)}),v.default.addAditionalQueryParameterToUrl(ie,he)}(ie),q=new F.default(he);B.load({request:q,success:function(W){(function Ie(K){!K||!K[S.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(K[S.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new L.default).version=K[S.default.CONTENT_STEERING_RESPONSE.VERSION],K[S.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(K[S.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=K[S.default.CONTENT_STEERING_RESPONSE.TTL]),K[S.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=K[S.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),K[S.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=K[S.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),we())})(W),H.trigger(m.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:he}),K()},error:function(W){(function We(K){x.warn("Error fetching data from content steering server",K),we()})(W),K(W)}})}catch($){K($)}})}function we(){I&&I.ttl&&!isNaN(I.ttl)&&(C&&clearTimeout(C),C=setTimeout(function(){_e()},1e3*I.ttl))}function Fe(){C&&clearTimeout(C),C=null}function be(){I=null,T=null,N=null,Fe()}return P={reset:function xe(){be(),H.off(m.default.PERIOD_SWITCH_COMPLETED,Ae,P),H.off(h.default.FRAGMENT_LOADING_STARTED,se,P)},setConfig:function fe(K){K&&(K.adapter&&(me=K.adapter),K.errHandler&&(Y=K.errHandler),K.dashMetrics&&(re=K.dashMetrics),K.mediaPlayerModel&&(ae=K.mediaPlayerModel),K.requestModifier&&(z=K.requestModifier),K.manifestModel&&(Oe=K.manifestModel),K.abrController&&(oe=K.abrController),K.eventBus&&(H=K.eventBus))},loadSteeringData:_e,getCurrentSteeringResponseData:function Ue(){return I},shouldQueryBeforeStart:function Me(){var K=De();return K&&K.queryBeforeStart},getSteeringDataFromManifest:De,stopSteeringRequestTimer:Fe,initialize:function Ee(){B=Object(R.default)(G).create({errHandler:Y,dashMetrics:re,mediaPlayerModel:ae,requestModifier:z,errors:b.default}),H.on(m.default.PERIOD_SWITCH_COMPLETED,Ae,P),H.on(h.default.FRAGMENT_LOADING_STARTED,se,P)}},function ne(){x=Object(E.default)(G).getInstance().getLogger(P),be()}(),P}O.__dashjs_factory_name="ContentSteeringController",M.default=y.default.getSingletonFactory(O)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=e(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var x,I,T,N,C,S=(L=L||{}).eventBus,m=L.events,h=L.abrController,p=L.dashMetrics,v=L.playbackController,w=L.timelineConverter,V=L.type,O=L.streamInfo,G=L.dashConstants,k=L.segmentsController,P=L.isDynamic;function re(){return V}function ae(){if(!(h&&p&&v&&w))throw new Error(y.default.MISSING_CONFIG_ERROR)}function z(){return T}function oe(){return C}function H(){I=null,T=!0,N=[]}function fe(xe){return new Promise(function(be,K){var ie=xe.hasInitialization(),he=xe.hasSegments(),q=[];q.push(k.updateInitData(xe,ie)),q.push(k.updateSegmentData(xe,he)),Promise.all(q).then(function($){$[0]&&!$[0].error&&(xe=function Ae(xe,be){return be&&!be.error&&be.representation?be.representation:xe}(xe,$[0])),$[1]&&!$[1].error&&(xe=function se(xe,be){if(be&&!be.error){var q,$,W,te,K=be.segments,ie=[],he=0;for(q=0,$=K?K.length:0;q<$;q++)W=K[q],(te=Object(b.getTimeBasedSegment)(w,P,xe,W.startTime,W.duration,W.timescale,W.media,W.mediaRange,he))&&(ie.push(te),te=null,he++);return ie.length>0&&(xe.segments=ie),xe}}(xe,$[1])),function Ee(xe){xe.mediaFinishedInformation=k.getMediaFinishedInformation(xe)}(xe),function we(xe){if(z()){var ie,be=p.getCurrentManifestUpdate(),K=!1;if(be){for(var q=0;q<be.representationInfo.length;q++)if((ie=be.representationInfo[q]).index===xe.index&&ie.mediaType===re()){K=!0;break}K||p.addManifestUpdateRepresentationInfo(xe,re())}if(function Le(){for(var xe=0,be=N.length;xe<be;xe++){var K=N[xe].segmentInfoType;if(!N[xe].hasInitialization()||(K===G.SEGMENT_BASE||K===G.BASE_URL)&&!N[xe].segments)return!1}return!0}()){h.setPlaybackQuality(V,O,function _e(xe){return N.indexOf(xe)}(C));var $=p.getCurrentDVRInfo(V);$&&p.updateManifestUpdateInfo({latency:$.range.end-v.getTime()}),p.getCurrentRepresentationSwitch(oe().adaptation.type)||De(),Ie()}}}(xe),be()}).catch(function($){K($)})})}function De(){ae();var xe=new Date,be=oe(),K=1e3*v.getTime();be&&p.addRepresentationSwitch(be.adaptation.type,xe,K,be.id),S.trigger(R.default.REPRESENTATION_SWITCH,{mediaType:V,streamId:O.id,currentRepresentation:be,numberOfRepresentations:N.length},{streamId:O.id,mediaType:V})}function Me(xe){return null==xe||xe>=N.length?null:N[xe]}function Ie(xe){T=!1,S.trigger(m.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:C,error:xe},{streamId:O.id,mediaType:V})}function We(xe){C=xe}function Ue(xe){if(xe.newDuration){var be=oe();be&&be.adaptation.period&&(be.adaptation.period.duration=xe.newDuration)}}return x={getStreamId:function Y(){return O.id},getType:re,getData:function Oe(){return I},isUpdating:z,updateData:function ne(xe,be,K,ie,he){if(ae(),T=!0,N=be,We(Me(he)),I=xe,K!==y.default.VIDEO&&K!==y.default.AUDIO&&(K!==y.default.TEXT||!ie))return Ie(),Promise.resolve();for(var $=[],W=0,te=N.length;W<te;W++)$.push(fe(N[W]));return Promise.all($)},getCurrentRepresentation:oe,getRepresentationForQuality:Me,prepareQualityChange:function Fe(xe){We(Me(xe)),De()},reset:function me(){S.off(R.default.MANIFEST_VALIDITY_CHANGED,Ue,x),H()}},function B(){H(),S.on(R.default.MANIFEST_VALIDITY_CHANGED,Ue,x)}(),x}F.__dashjs_factory_name="RepresentationController",M.default=E.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),R=e(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function b(L){var x,I,T,S=this.context,m=(L=L||{}).eventBus,h=L.events,p=L.dashMetrics,v=L.mediaPlayerModel,w=L.errHandler,V=L.baseURLController,O=L.debug,G=L.boxParser,k=L.requestModifier,P=L.errors;function C(Oe){return"webm"===(Oe?Oe.split("/")[1]:"").toLowerCase()}return x={initialize:function B(){I.initialize(),T.initialize()},getSegmentBaseInitSegment:function Y(Oe){return C(Oe.representation.mimeType)?T.loadInitialization(Oe.representation,Oe.mediaType):I.loadInitialization(Oe.representation,Oe.mediaType)},getSegmentList:function re(Oe){return C(Oe.mimeType)?T.loadSegments(Oe.representation,Oe.mediaType,Oe.representation?Oe.representation.indexRange:null):I.loadSegments(Oe.representation,Oe.mediaType,Oe.representation?Oe.representation.indexRange:null)},reset:function ae(){I.reset(),T.reset()}},function N(){I=Object(E.default)(S).getInstance(),T=Object(R.default)(S).getInstance(),I.setConfig({baseURLController:V,dashMetrics:p,mediaPlayerModel:v,errHandler:w,eventBus:m,events:h,errors:P,debug:O,boxParser:G,requestModifier:k}),T.setConfig({baseURLController:V,dashMetrics:p,mediaPlayerModel:v,errHandler:w,eventBus:m,events:h,errors:P,debug:O,requestModifier:k})}(),x}b.__dashjs_factory_name="SegmentBaseController";var F=y.default.getSingletonFactory(b);M.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),R=e(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),b=e(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=e(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(m){var V,O,h=this.context,p=(m=m||{}).dashConstants,v=m.type,w=m.segmentBaseController;function I(B){return B?B.segments?O[p.SEGMENT_BASE]:O[B.segmentInfoType]:null}return V={initialize:function k(B){O[p.SEGMENT_TIMELINE]=Object(E.default)(h).create(m,B),O[p.SEGMENT_TEMPLATE]=Object(R.default)(h).create(m,B),O[p.SEGMENT_LIST]=Object(b.default)(h).create(m,B),O[p.SEGMENT_BASE]=Object(F.default)(h).create(m,B)},updateInitData:function P(B,Y){return Y?Promise.resolve():w.getSegmentBaseInitSegment({representation:B,mediaType:v})},updateSegmentData:function x(B,Y){return Y?Promise.resolve():w.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:v})},getSegmentByIndex:function T(B,Y,re){var ae=I(B);return ae?ae.getSegmentByIndex(B,Y,re):null},getSegmentByTime:function N(B,Y){var re=I(B);return re?re.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function C(B){var Y=I(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function G(){O={}}(),V}L.__dashjs_factory_name="SegmentsController";var S=y.default.getClassFactory(L);M.default=S},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[R.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function S(){var h,p,v,w,V,m=this.context;function P(){p={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},v=[]}function ae(H,me,ne){try{p[H][me]=ne/1e3}catch(fe){w.error(fe)}}return h={getServiceDescriptionSettings:function x(){return p},getProducerReferenceTimeOffsets:function Oe(){return v},calculateProducerReferenceTimeOffsets:function z(H){try{var me=[];if(H&&H.length>0){var ne=[R.default.VIDEO,R.default.AUDIO,R.default.TEXT],fe=V.getAvailabilityStartTime()/1e3;H.forEach(function(Ee){var Ae=ne.reduce(function(se,De){return se.concat(V.getAllMediaInfoForType(Ee,De))},[]).reduce(function(se,De){return V.getProducerReferenceTimes(Ee,De).forEach(function(_e){var Le=V.getVoRepresentations(De);if(Le&&Le.length>0&&Le[0].adaptation&&Le[0].segmentInfoType===b.default.SEGMENT_TEMPLATE){var Ie=Le[0],Fe=new Date(_e[b.default.WALL_CLOCK_TIME]).getTime()/1e3;se.push({id:_e[b.default.ID],to:fe-(Fe-(_e[b.default.PRESENTATION_TIME]/Ie[b.default.TIMESCALE]-Ie[b.default.PRESENTATION_TIME_OFFSET]+Ee.start))})}}),se},[]);me=me.concat(Ae)})}v=me}catch(Ee){w.error(Ee),v=[]}},applyServiceDescription:function I(H){if(H&&H.serviceDescriptions){var me=H.serviceDescriptions.filter(function(Ee){return F.includes(Ee.schemeIdUri)}),ne=H.serviceDescriptions.filter(function(Ee){return null==Ee.schemeIdUri}),fe=me.length>0?me[me.length-1]:ne[ne.length-1];fe&&(fe.latency&&fe.latency.target>0&&function T(H){var me;if(me=H.schemeIdUri===R.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function C(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H):function N(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H),v.length>0){var ne=function oe(H){var ne,me=0,fe=v.filter(function(Ee){return Ee.id===H.referenceId});return 0===fe.length?(me=v.length>0?v[0].to:0,ne=v[0].id||NaN):(me=fe[0].to||0,ne=fe[0].id||NaN),{to:me,id:ne}}(me),fe=ne.to,Ee=ne.id;p.liveDelay=me.liveDelay-fe,p.liveCatchup.maxDrift=me.maxDrift,w.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(fe," from ProducerReferenceTime element with id ").concat(Ee,".\n                Live Delay: ").concat(me.liveDelay-fe,", Live catchup max drift: ").concat(me.maxDrift,"\n            "))}else p.liveDelay=me.liveDelay,p.liveCatchup.maxDrift=me.maxDrift,w.debug("Found latency properties coming from service description: Live Delay: ".concat(me.liveDelay,", Live catchup max drift: ").concat(me.maxDrift))}(fe),fe.playbackRate&&function B(H){var me=H.playbackRate.min?Math.round(1e3*(H.playbackRate.min-1))/1e3:NaN,ne=H.playbackRate.max?Math.round(1e3*(H.playbackRate.max-1))/1e3:NaN;p.liveCatchup.playbackRate.min=me,p.liveCatchup.playbackRate.max=ne,w.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(me)),w.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ne))}(fe),fe.operatingBandwidth&&function re(H){if(H&&H.operatingBandwidth&&H.operatingBandwidth.mediaType&&H.operatingBandwidth.mediaType!==L_ALL){var me={};me.minBandwidth=H.operatingBandwidth.min,me.maxBandwidth=H.operatingBandwidth.max,me.targetBandwidth=H.operatingBandwidth.target;var ne=[];H.operatingBandwidth.mediaType===L_VIDEO||H.operatingBandwidth.mediaType===L_AUDIO?ne.push(H.operatingBandwidth.mediaType):H.operatingBandwidth.mediaType===L_ANY&&(ne.push(L_AUDIO),ne.push(L_VIDEO)),ne.forEach(function(fe){isNaN(me.minBandwidth)||ae("minBitrate",fe,me.minBandwidth),isNaN(me.maxBandwidth)||ae("maxBitrate",fe,me.maxBandwidth),isNaN(me.targetBandwidth)||ae("initialBitrate",fe,me.targetBandwidth)})}}(fe))}},reset:function k(){P()},setConfig:function G(H){H&&H.adapter&&(V=H.adapter)}},function O(){w=Object(E.default)(m).getInstance().getLogger(h),P()}(),h}S.__dashjs_factory_name="ServiceDescriptionController",M.default=y.default.getSingletonFactory(S)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),R=e(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),b=e(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=e(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=e(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),S=e(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),m=e(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),h=e(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),p=e(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),v=e(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),w=e(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),V=e(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),O=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),G=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T(z,oe){var H=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!H){if(Array.isArray(z)||(H=B(z))||oe&&z&&"number"==typeof z.length){H&&(z=H);var me=0,ne=function(){};return{s:ne,n:function(){return me>=z.length?{done:!0}:{done:!1,value:z[me++]}},e:function(De){throw De},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ae,fe=!0,Ee=!1;return{s:function(){H=H.call(z)},n:function(){var De=H.next();return fe=De.done,De},e:function(De){Ee=!0,Ae=De},f:function(){try{!fe&&null!=H.return&&H.return()}finally{if(Ee)throw Ae}}}}function N(z){return function re(z){if(Array.isArray(z))return ae(z)}(z)||function Y(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||B(z)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(z,oe){if(z){if("string"==typeof z)return ae(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return ae(z,oe)}}function ae(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Oe(){var z,oe,H,me,ne=this.context,fe=Object(O.default)(ne).getInstance(),Ee=Number.isInteger||function(gt){return"number"==typeof gt&&isFinite(gt)&&Math.floor(gt)===gt};function se(gt,rt){if(!gt)throw new Error("adaptation is not defined");if(!rt)throw new Error("type is not defined");if(gt.Representation_asArray&&gt.Representation_asArray.length){var Vt=Xt(gt.Representation_asArray[0]);if(Vt&&Vt.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(Vt[0].schemeIdUri)>=0)return rt===y.default.IMAGE}if(gt.ContentComponent_asArray&&gt.ContentComponent_asArray.length>0){if(gt.ContentComponent_asArray.length>1)return rt===y.default.MUXED;if(gt.ContentComponent_asArray[0].contentType===rt)return!0}var je=rt===y.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(rt);if(gt.Representation_asArray&&gt.Representation_asArray.length&&je.test(gt.Representation_asArray[0].codecs))return!0;if(gt.hasOwnProperty(E.default.MIME_TYPE))return je.test(gt.mimeType);if(gt.Representation_asArray)for(var _t,Pt=0;Pt<gt.Representation_asArray.length;Pt++)if((_t=gt.Representation_asArray[Pt]).hasOwnProperty(E.default.MIME_TYPE))return je.test(_t.mimeType);return!1}function De(gt){if(!gt)throw new Error("adaptation is not defined");if(gt.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||gt.hasOwnProperty(E.default.SEGMENT_TIMELINE)||gt.hasOwnProperty(E.default.SEGMENT_LIST)||gt.hasOwnProperty(E.default.SEGMENT_BASE))return!0;if(gt.Representation_asArray&&gt.Representation_asArray.length>0){var rt=gt.Representation_asArray[0];if(rt.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||rt.hasOwnProperty(E.default.SEGMENT_TIMELINE)||rt.hasOwnProperty(E.default.SEGMENT_LIST)||rt.hasOwnProperty(E.default.SEGMENT_BASE))return!0}return!1}function Me(gt){return se(gt,y.default.AUDIO)}function _e(gt){return se(gt,y.default.VIDEO)}function Le(gt){return se(gt,y.default.TEXT)}function Ie(gt){return se(gt,y.default.MUXED)}function we(gt){return se(gt,y.default.IMAGE)}function he(){return function(gt,rt){return gt.bandwidth-rt.bandwidth}}function q(gt){return gt&&Array.isArray(gt.Representation_asArray)&&gt.Representation_asArray.sort(function(gt,rt){return gt.bandwidth-rt.bandwidth}),gt}function $(gt,rt){return gt&&gt.Period_asArray&&Ee(rt)&&gt.Period_asArray[rt]?gt.Period_asArray[rt].AdaptationSet_asArray:[]}function W(gt){return gt&&gt.Period_asArray?gt.Period_asArray:[]}function Ze(gt){var rt=!1;return gt&&gt.hasOwnProperty("type")&&(rt=gt.type===E.default.DYNAMIC),rt}function Xt(gt){return gt&&gt.EssentialProperty_asArray&&gt.EssentialProperty_asArray.length?gt.EssentialProperty_asArray.map(function(rt){return{schemeIdUri:rt.schemeIdUri,value:rt.value}}):null}function at(gt){if(!gt||!gt.S_asArray)return NaN;var rt=gt.S_asArray[0],Vt=gt.S_asArray[1];return rt.hasOwnProperty("d")?rt.d:Vt.t-rt.t}function Se(gt){return gt.adaptation.period.start-gt.presentationTimeOffset}function it(gt,rt){if(!gt)throw new Error("Period cannot be null or undefined");var Vt=F.default.DEFAULT_ID+"_"+rt;return gt.hasOwnProperty(E.default.ID)&&gt.id.length>0&&"__proto__"!==gt.id&&(Vt=gt.id),Vt}function tn(gt,rt,Vt){var Qe,je=[];if(!gt)return je;for(Qe=0;Qe<gt.length;Qe++){var _t=new p.default;if(_t.timescale=1,_t.representation=rt,!gt[Qe].hasOwnProperty(y.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");_t.schemeIdUri=gt[Qe].schemeIdUri,gt[Qe].hasOwnProperty(E.default.TIMESCALE)&&(_t.timescale=gt[Qe].timescale),gt[Qe].hasOwnProperty(E.default.VALUE)&&(_t.value=gt[Qe].value),je.push(_t),_t.period=Vt}return je}function Zt(gt){var rt=[],je=!1;return(gt.BaseURL_asArray||[gt.baseUri]).some(function(Qe){if(Qe){var _t=new h.default,Pt=Qe.__text||Qe;return fe.isRelative(Pt)&&(je=!0,gt.baseUri&&(Pt=fe.resolve(Pt,gt.baseUri))),_t.url=Pt,_t.serviceLocation=Qe.hasOwnProperty(E.default.SERVICE_LOCATION)&&Qe.serviceLocation.length?Qe.serviceLocation:Pt,Qe.hasOwnProperty(E.default.DVB_PRIORITY)&&(_t.dvb_priority=Qe[E.default.DVB_PRIORITY]),Qe.hasOwnProperty(E.default.DVB_WEIGHT)&&(_t.dvb_weight=Qe[E.default.DVB_WEIGHT]),Qe.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)&&(_t.availabilityTimeOffset=Qe[E.default.AVAILABILITY_TIME_OFFSET]),Qe.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)&&(_t.availabilityTimeComplete="false"!==Qe[E.default.AVAILABILITY_TIME_COMPLETE]),rt.push(_t),je}}),rt}return z={getIsTypeOf:se,getIsText:Le,getIsFragmented:De,getProducerReferenceTimesForAdaptation:function Fe(gt){var rt=gt&&gt.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)?gt[E.default.PRODUCERREFERENCETIME_ASARRAY]:[];(gt&&gt.hasOwnProperty(E.default.REPRESENTATION_ASARRAY)?gt[E.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Qe){Qe.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)&&rt.push.apply(rt,N(Qe[E.default.PRODUCERREFERENCETIME_ASARRAY]))});var je=[];return rt.forEach(function(Qe){var _t=new v.default;Qe.hasOwnProperty(E.default.ID)&&(_t[E.default.ID]=Qe[E.default.ID],Qe.hasOwnProperty(E.default.WALL_CLOCK_TIME)&&(_t[E.default.WALL_CLOCK_TIME]=Qe[E.default.WALL_CLOCK_TIME],Qe.hasOwnProperty(E.default.PRESENTATION_TIME)&&(_t[E.default.PRESENTATION_TIME]=Qe[E.default.PRESENTATION_TIME],je.push(_t))))}),je},getLanguageForAdaptation:function We(gt){var rt="";return gt&&gt.hasOwnProperty(E.default.LANG)&&(rt=gt.lang),rt},getViewpointForAdaptation:function Ue(gt){return gt&&gt.hasOwnProperty(E.default.VIEWPOINT)?gt.Viewpoint:null},getRolesForAdaptation:function xe(gt){return gt&&gt.hasOwnProperty(E.default.ROLE_ASARRAY)?gt.Role_asArray:[]},getAccessibilityForAdaptation:function be(gt){return gt&&gt.hasOwnProperty(E.default.ACCESSIBILITY_ASARRAY)?gt.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function K(gt){return gt&&gt.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?gt.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ie(gt){return gt&&gt.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?gt.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function J(gt,rt,Vt){var je=$(rt,Vt);return je.length>0&&Ee(gt)?je[gt]:null},getIndexForAdaptation:function Q(gt,rt,Vt){if(!gt)return-1;for(var je=$(rt,Vt),Qe=0;Qe<je.length;Qe++)if(Object(V.default)(ne).getInstance().areEqual(je[Qe],gt))return Qe;return-1},getAdaptationForId:function X(gt,rt,Vt){var Qe,_t,je=$(rt,Vt);for(Qe=0,_t=je.length;Qe<_t;Qe++)if(je[Qe].hasOwnProperty(E.default.ID)&&je[Qe].id===gt)return je[Qe];return null},getAdaptationsForType:function de(gt,rt,Vt){var Qe,_t,je=$(gt,rt),Pt=[];for(Qe=0,_t=je.length;Qe<_t;Qe++)se(je[Qe],Vt)&&Pt.push(q(je[Qe]));return Pt},getRealPeriods:W,getRealPeriodForIndex:function te(gt,rt){var Vt=W(rt);return Vt.length>0&&Ee(gt)?Vt[gt]:null},getCodec:function pe(gt,rt,Vt){var je=null;if(gt&&gt.Representation_asArray&&gt.Representation_asArray.length>0){var Qe=Ee(rt)&&rt>=0&&rt<gt.Representation_asArray.length?gt.Representation_asArray[rt]:gt.Representation_asArray[0];Qe&&(je=Qe.mimeType+';codecs="'+Qe.codecs+'"',Vt&&void 0!==Qe.width&&(je+=';width="'+Qe.width+'";height="'+Qe.height+'"'))}return je&&(je=je.replace(/\sprofiles=[^;]*/g,"")),je},getSelectionPriority:function Gt(gt){try{var rt=gt&&typeof gt.selectionPriority<"u"?parseInt(gt.selectionPriority):1;return isNaN(rt)?1:rt}catch{return 1}},getMimeType:function le(gt){return gt&&gt.Representation_asArray&&gt.Representation_asArray.length>0?gt.Representation_asArray[0].mimeType:null},getKID:function Te(gt){return gt&&gt.hasOwnProperty(E.default.CENC_DEFAULT_KID)?gt[E.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ve(gt){if(!gt||!Array.isArray(gt.Label_asArray))return[];for(var rt=[],Vt=0;Vt<gt.Label_asArray.length;Vt++)rt.push({lang:gt.Label_asArray[Vt].lang,text:gt.Label_asArray[Vt].__text||gt.Label_asArray[Vt]});return rt},getContentProtectionData:function ke(gt){return gt&&gt.hasOwnProperty(E.default.CONTENTPROTECTION_ASARRAY)&&0!==gt.ContentProtection_asArray.length?gt.ContentProtection_asArray:null},getIsDynamic:Ze,getId:function qe(gt){return gt&&gt[E.default.ID]||null},hasProfile:function He(gt,rt){var Vt=!1;return gt&&gt.profiles&&gt.profiles.length>0&&(Vt=-1!==gt.profiles.indexOf(rt)),Vt},getDuration:function ot(gt){return gt&&gt.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)?gt.mediaPresentationDuration:gt&&"dynamic"==gt.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function yt(gt){return gt&&gt.bandwidth?gt.bandwidth:NaN},getManifestUpdatePeriod:function ut(gt){var rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Vt=NaN;return gt&&gt.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(Vt=gt.minimumUpdatePeriod),isNaN(Vt)?Vt:Math.max(Vt-rt,1)},getPublishTime:function Ct(gt){return gt&&gt.hasOwnProperty(E.default.PUBLISH_TIME)?new Date(gt[E.default.PUBLISH_TIME]):null},getRepresentationCount:function Ot(gt){return gt&&Array.isArray(gt.Representation_asArray)?gt.Representation_asArray.length:0},getBitrateListForAdaptation:function It(gt){var rt=q(gt);return(rt&&Array.isArray(rt.Representation_asArray)?rt.Representation_asArray:[]).map(function(je){return{bandwidth:je.bandwidth,width:je.width||0,height:je.height||0,scanType:je.scanType||null,id:je.id||null}})},getRepresentationFor:function cn(gt,rt){return rt&&rt.Representation_asArray&&rt.Representation_asArray.length>0&&Ee(gt)?rt.Representation_asArray[gt]:null},getRepresentationsForAdaptation:function nt(gt){var je,Qe,rt=[],Vt=function Rn(gt){if(gt&&gt.period&&Ee(gt.period.index)){var rt=gt.period.mpd.manifest.Period_asArray[gt.period.index];if(rt&&rt.AdaptationSet_asArray&&Ee(gt.index))return q(rt.AdaptationSet_asArray[gt.index])}}(gt);if(Vt&&Vt.Representation_asArray){if(gt&&gt.period&&Ee(gt.period.index)){var _t=Zt(gt.period.mpd.manifest);_t&&(Qe=_t[0])}for(var Pt=0,rn=Vt.Representation_asArray.length;Pt<rn;++Pt){var hn=Vt.Representation_asArray[Pt],xt=new R.default;if(xt.index=Pt,xt.adaptation=gt,hn.hasOwnProperty(E.default.ID)&&(xt.id=hn.id),hn.hasOwnProperty(E.default.CODECS)&&(xt.codecs=hn.codecs),hn.hasOwnProperty(E.default.MIME_TYPE)&&(xt.mimeType=hn[E.default.MIME_TYPE]),hn.hasOwnProperty(E.default.CODEC_PRIVATE_DATA)&&(xt.codecPrivateData=hn.codecPrivateData),hn.hasOwnProperty(E.default.BANDWITH)&&(xt.bandwidth=hn.bandwidth),hn.hasOwnProperty(E.default.WIDTH)&&(xt.width=hn.width),hn.hasOwnProperty(E.default.HEIGHT)&&(xt.height=hn.height),hn.hasOwnProperty(E.default.SCAN_TYPE)&&(xt.scanType=hn.scanType),hn.hasOwnProperty(E.default.MAX_PLAYOUT_RATE)&&(xt.maxPlayoutRate=hn.maxPlayoutRate),hn.hasOwnProperty(E.default.SEGMENT_BASE)?(je=hn.SegmentBase,xt.segmentInfoType=E.default.SEGMENT_BASE):hn.hasOwnProperty(E.default.SEGMENT_LIST)?xt.segmentInfoType=(je=hn.SegmentList).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_LIST:hn.hasOwnProperty(E.default.SEGMENT_TEMPLATE)?(xt.segmentInfoType=(je=hn.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_TEMPLATE,je.hasOwnProperty(E.default.INITIALIZATION_MINUS)&&(xt.initialization=je.initialization.split("$Bandwidth$").join(hn.bandwidth).split("$RepresentationID$").join(hn.id))):xt.segmentInfoType=E.default.BASE_URL,xt.essentialProperties=Xt(hn),je){if(je.hasOwnProperty(E.default.INITIALIZATION)){var St=je.Initialization;St.hasOwnProperty(E.default.SOURCE_URL)&&(xt.initialization=St.sourceURL),St.hasOwnProperty(E.default.RANGE)&&(xt.range=St.range)}else Le(Vt)&&De(Vt)&&Vt.mimeType&&-1===Vt.mimeType.indexOf("application/mp4")&&(xt.range=0);je.hasOwnProperty(E.default.TIMESCALE)&&(xt.timescale=je.timescale),je.hasOwnProperty(E.default.DURATION)?xt.segmentDuration=je.duration/xt.timescale:hn.hasOwnProperty(E.default.SEGMENT_TEMPLATE)&&(je=hn.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)&&(xt.segmentDuration=at(je.SegmentTimeline)/xt.timescale),je.hasOwnProperty(E.default.MEDIA)&&(xt.media=je.media),je.hasOwnProperty(E.default.START_NUMBER)&&(xt.startNumber=je.startNumber),je.hasOwnProperty(E.default.INDEX_RANGE)&&(xt.indexRange=je.indexRange),je.hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(xt.presentationTimeOffset=je.presentationTimeOffset/xt.timescale),je.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)?xt.availabilityTimeOffset=je.availabilityTimeOffset:Qe&&void 0!==Qe.availabilityTimeOffset&&(xt.availabilityTimeOffset=Qe.availabilityTimeOffset),je.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)?xt.availabilityTimeComplete="false"!==je.availabilityTimeComplete:Qe&&void 0!==Qe.availabilityTimeComplete&&(xt.availabilityTimeComplete=Qe.availabilityTimeComplete)}xt.MSETimeOffset=Se(xt),xt.path=[gt.period.index,gt.index,Pt],rt.push(xt)}}return rt},getAdaptationsForPeriod:function ue(gt){var je,Qe,_t,rt=gt&&Ee(gt.index)?gt.mpd.manifest.Period_asArray[gt.index]:null,Vt=[];if(rt&&rt.AdaptationSet_asArray)for(_t=0;_t<rt.AdaptationSet_asArray.length;_t++)Qe=rt.AdaptationSet_asArray[_t],je=new b.default,Qe.hasOwnProperty(E.default.ID)&&(je.id=Qe.id),je.index=_t,je.period=gt,Ie(Qe)?je.type=y.default.MUXED:Me(Qe)?je.type=y.default.AUDIO:_e(Qe)?je.type=y.default.VIDEO:Le(Qe)?je.type=y.default.TEXT:we(Qe)?je.type=y.default.IMAGE:oe.warn("Unknown Adaptation stream type"),Vt.push(je);return Vt},getRegularPeriods:function ge(gt){var rn,hn,rt=!!gt&&Ze(gt.manifest),Vt=[],je=null,Qe=null,_t=null,Pt=null;for(hn=0,rn=gt&&gt.manifest&&gt.manifest.Period_asArray?gt.manifest.Period_asArray.length:0;hn<rn;hn++)(Qe=gt.manifest.Period_asArray[hn]).hasOwnProperty(E.default.START)?(Pt=new F.default).start=Qe.start:null!==je&&je.hasOwnProperty(E.default.DURATION)&&null!==_t?(Pt=new F.default).start=parseFloat((_t.start+_t.duration).toFixed(5)):0===hn&&!rt&&((Pt=new F.default).start=0),null!==_t&&isNaN(_t.duration)&&(null!==Pt?_t.duration=parseFloat((Pt.start-_t.start).toFixed(5)):oe.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Pt&&(Pt.id=it(Qe,hn),Pt.index=hn,Pt.mpd=gt,Qe.hasOwnProperty(E.default.DURATION)&&(Pt.duration=Qe.duration),_t&&(_t.nextPeriodId=Pt.id),Vt.push(Pt),je=Qe,_t=Pt),Qe=null,Pt=null;return 0===Vt.length||null!==_t&&isNaN(_t.duration)&&(_t.duration=parseFloat((function Bt(gt){!function kt(){if(!H||!H.hasOwnProperty("error"))throw new Error(y.default.MISSING_CONFIG_ERROR)}();var Vt,rt=Ze(gt.mpd.manifest);return gt.mpd.manifest.mediaPresentationDuration?Vt=gt.mpd.manifest.mediaPresentationDuration:gt.duration?Vt=gt.duration:rt?Vt=Number.POSITIVE_INFINITY:H.error(new P.default(x.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",gt)),Vt}(_t)-_t.start).toFixed(5))),Vt},getMpd:function pt(gt){var rt=new L.default;return gt&&(rt.manifest=gt,gt.hasOwnProperty(E.default.AVAILABILITY_START_TIME)?rt.availabilityStartTime=new Date(gt.availabilityStartTime.getTime()):gt.loadedTime&&(rt.availabilityStartTime=new Date(gt.loadedTime.getTime())),gt.hasOwnProperty(E.default.AVAILABILITY_END_TIME)&&(rt.availabilityEndTime=new Date(gt.availabilityEndTime.getTime())),gt.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(rt.minimumUpdatePeriod=gt.minimumUpdatePeriod),gt.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)&&(rt.mediaPresentationDuration=gt.mediaPresentationDuration),gt.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)&&(rt.suggestedPresentationDelay=gt.suggestedPresentationDelay),gt.hasOwnProperty(E.default.TIMESHIFT_BUFFER_DEPTH)&&(rt.timeShiftBufferDepth=gt.timeShiftBufferDepth),gt.hasOwnProperty(E.default.MAX_SEGMENT_DURATION)&&(rt.maxSegmentDuration=gt.maxSegmentDuration),gt.hasOwnProperty(E.default.PUBLISH_TIME)&&(rt.publishTime=new Date(gt.publishTime))),rt},getEventsForPeriod:function Kt(gt){var _t,Pt,rt=gt&&gt.mpd&&gt.mpd.manifest?gt.mpd.manifest:null,Vt=rt?rt.Period_asArray:null,je=Vt&&gt&&Ee(gt.index)?Vt[gt.index].EventStream_asArray:null,Qe=[];if(je)for(_t=0;_t<je.length;_t++){var rn=new p.default;if(rn.period=gt,rn.timescale=1,!je[_t].hasOwnProperty(y.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(rn.schemeIdUri=je[_t][y.default.SCHEME_ID_URI],je[_t].hasOwnProperty(E.default.TIMESCALE)&&(rn.timescale=je[_t][E.default.TIMESCALE]),je[_t].hasOwnProperty(E.default.VALUE)&&(rn.value=je[_t][E.default.VALUE]),je[_t].hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(rn.presentationTimeOffset=je[_t][E.default.PRESENTATION_TIME_OFFSET]),Pt=0;je[_t].Event_asArray&&Pt<je[_t].Event_asArray.length;Pt++){var hn=je[_t].Event_asArray[Pt],xt=new m.default;xt.presentationTime=0,xt.eventStream=rn,hn.hasOwnProperty(E.default.PRESENTATION_TIME)&&(xt.presentationTime=hn.presentationTime),xt.calculatedPresentationTime=xt.presentationTime/rn.timescale+gt.start-(rn.presentationTimeOffset?rn.presentationTimeOffset/rn.timescale:0),hn.hasOwnProperty(E.default.DURATION)&&(xt.duration=hn.duration/rn.timescale),xt.id=hn.hasOwnProperty(E.default.ID)?hn.id:null,xt.messageData=hn.Signal&&hn.Signal.Binary?me.decodeArray(hn.Signal.Binary.toString()):hn.messageData||hn.__cdata||hn.__text,Qe.push(xt)}}return Qe},getEssentialPropertiesForRepresentation:Xt,getEventStreamForAdaptationSet:function en(gt,rt,Vt){var je,Qe,_t;return gt&&gt.Period_asArray&&rt&&rt.period&&Ee(rt.period.index)&&(Qe=gt.Period_asArray[rt.period.index])&&Qe.AdaptationSet_asArray&&Ee(rt.index)&&(_t=Qe.AdaptationSet_asArray[rt.index])&&(je=_t.InbandEventStream_asArray),tn(je,null,Vt)},getEventStreamForRepresentation:function bt(gt,rt,Vt){var je,Qe,_t,Pt;return gt&&gt.Period_asArray&&rt&&rt.adaptation&&rt.adaptation.period&&Ee(rt.adaptation.period.index)&&(Qe=gt.Period_asArray[rt.adaptation.period.index])&&Qe.AdaptationSet_asArray&&Ee(rt.adaptation.index)&&(_t=Qe.AdaptationSet_asArray[rt.adaptation.index])&&_t.Representation_asArray&&Ee(rt.index)&&(Pt=_t.Representation_asArray[rt.index])&&(je=Pt.InbandEventStream_asArray),tn(je,rt,Vt)},getUTCTimingSources:function wt(gt){var rt=Ze(gt),Vt=!!gt&&gt.hasOwnProperty(E.default.AVAILABILITY_START_TIME),je=gt?gt.UTCTiming_asArray:null,Qe=[];return(rt||Vt)&&je&&je.forEach(function(_t){var Pt=new S.default;_t.hasOwnProperty(y.default.SCHEME_ID_URI)&&(Pt.schemeIdUri=_t.schemeIdUri,_t.hasOwnProperty(E.default.VALUE)&&(Pt.value=_t.value.toString(),Qe.push(Pt)))}),Qe},getBaseURLsFromElement:Zt,getRepresentationSortFunction:he,getContentSteering:function Wt(gt){if(gt&&gt.hasOwnProperty(E.default.CONTENT_STEERING_AS_ARRAY)){var rt=gt[E.default.CONTENT_STEERING_AS_ARRAY][0],Vt=new w.default;return Vt.serverUrl=rt.__text,rt.hasOwnProperty(E.default.DEFAULT_SERVICE_LOCATION)&&(Vt.defaultServiceLocation=rt[E.default.DEFAULT_SERVICE_LOCATION]),rt.hasOwnProperty(E.default.QUERY_BEFORE_START)&&(Vt.queryBeforeStart="true"===rt[E.default.QUERY_BEFORE_START].toLowerCase()),rt.hasOwnProperty(E.default.PROXY_SERVER_URL)&&(Vt.proxyServerUrl=rt[E.default.PROXY_SERVER_URL]),Vt}},getLocation:function dn(gt){if(gt&&gt.hasOwnProperty(y.default.LOCATION))return gt.Location=gt.Location_asArray[0],gt.Location},getPatchLocation:function gn(gt){if(gt&&gt.hasOwnProperty(E.default.PATCH_LOCATION))return gt.PatchLocation=gt.PatchLocation_asArray[0],gt.PatchLocation},getSuggestedPresentationDelay:function En(gt){return gt&&gt.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)?gt.suggestedPresentationDelay:null},getAvailabilityStartTime:function Vn(gt){return gt&&gt.hasOwnProperty(E.default.AVAILABILITY_START_TIME)&&null!==gt.availabilityStartTime?gt.availabilityStartTime.getTime():null},getServiceDescriptions:function jn(gt){var rt=[];if(gt&&gt.hasOwnProperty(E.default.SERVICE_DESCRIPTION)){var je,Vt=T(gt.ServiceDescription_asArray);try{for(Vt.s();!(je=Vt.n()).done;){var Qe=je.value,_t=null,Pt=null,rn=null,hn=null,xt=null,St=null;for(var Rt in Qe)Qe.hasOwnProperty(Rt)&&(Rt===E.default.ID?_t=Qe[Rt]:Rt===E.default.SERVICE_DESCRIPTION_SCOPE?Pt=Qe[Rt].schemeIdUri:Rt===E.default.SERVICE_DESCRIPTION_LATENCY?rn={target:parseInt(Qe[Rt].target),max:parseInt(Qe[Rt].max),min:parseInt(Qe[Rt].min),referenceId:parseInt(Qe[Rt].referenceId)}:Rt===E.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?hn={max:parseFloat(Qe[Rt].max),min:parseFloat(Qe[Rt].min)}:Rt===E.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?xt={mediaType:Qe[Rt].mediaType,max:parseInt(Qe[Rt].max),min:parseInt(Qe[Rt].min),target:parseInt(Qe[Rt].target),type:Qe[Rt].type,maxQualityDifference:parseInt(Qe[Rt].maxQualityDifference)}:Rt===E.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(St={mediaType:Qe[Rt].mediaType,max:parseInt(Qe[Rt].max),min:parseInt(Qe[Rt].min),target:parseInt(Qe[Rt].target)}));rt.push({id:_t,schemeIdUri:Pt,latency:rn,playbackRate:hn,operatingQuality:xt,operatingBandwidth:St})}}catch($t){Vt.e($t)}finally{Vt.f()}}return rt},getSupplementalProperties:function ei(gt){var rt={};if(gt&&gt.hasOwnProperty(E.default.SUPPLEMENTAL_PROPERTY)){var je,Vt=T(gt.SupplementalProperty_asArray);try{for(Vt.s();!(je=Vt.n()).done;){var Qe=je.value;Qe.hasOwnProperty(y.default.SCHEME_ID_URI)&&Qe.hasOwnProperty(E.default.VALUE)&&(rt[Qe[y.default.SCHEME_ID_URI]]=Qe[E.default.VALUE])}}catch(_t){Vt.e(_t)}finally{Vt.f()}}return rt},setConfig:function _i(gt){gt&&(gt.errHandler&&(H=gt.errHandler),gt.BASE64&&(me=gt.BASE64))}},function Ae(){oe=Object(k.default)(ne).getInstance().getLogger(z)}(),z}Oe.__dashjs_factory_name="DashManifestModel",M.default=G.default.getSingletonFactory(Oe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=e(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var S,m,h=this.context;return S={getIsPatch:function v(k){return k&&k.hasOwnProperty(y.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function w(k){return k&&k.hasOwnProperty(y.default.PUBLISH_TIME)?new Date(k[y.default.PUBLISH_TIME]):null},getOriginalPublishTime:function V(k){return k&&k.hasOwnProperty(y.default.ORIGINAL_PUBLISH_TIME)?new Date(k[y.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function O(k){return k&&k[y.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function G(k){return k?(k.__children||[]).map(function(P){var x=Object.keys(P)[0];if("add"!==x&&"remove"!==x&&"replace"!==x)return m.warn("Ignoring node of invalid action: ".concat(x)),null;var I=P[x],T=I.sel;if("add"===x&&I.type){if(!I.type.startsWith("@"))return m.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;T="".concat(T,"/").concat(I.type)}var N=new b.default(T);if(!N.isValid())return m.warn("Ignoring action with invalid selector: ".concat(x," - ").concat(T)),null;var C=null;N.findsAttribute()?C=I.__text||"":"remove"!==x&&(C=I.__children.reduce(function(Y,re){var ae=Object.keys(re)[0];return"#text"!==ae&&(Y[ae]=Y[ae]||[],Y[ae].push(re[ae])),Y},{}));var B=new F.default(x,N,C);return"add"===x&&(B.position=I.pos),B}).filter(function(P){return!!P}):[]}},function p(){m=Object(R.default)(h).getInstance().getLogger(S)}(),S}L.__dashjs_factory_name="PatchManifestModel",M.default=E.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),R=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),b=e(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=e(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=e(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),S=e(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),m=e(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),h=e(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),p=e(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function v(w){var G,k,P,x,I,V=this.context,O=(w=w||{}).debug;return G={parse:function B(Y){var re,ae=window.performance.now();if(!(re=x.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Oe=window.performance.now();re.Patch?((re=re.Patch).add_asArray&&re.add_asArray.forEach(function(oe){return I.run(oe)}),re.replace_asArray&&re.replace_asArray.forEach(function(oe){return I.run(oe)})):I.run(re=re.MPD);var z=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Oe-ae).toPrecision(3)+"ms, objectiron: "+(z-Oe).toPrecision(3)+"ms, total: "+((z-ae)/1e3).toPrecision(3)+"s)"),re.protocol="DASH",re},getMatchers:function N(){return P},getIron:function C(){return I}},function T(){k=O.getLogger(G),P=[new F.default,new L.default,new S.default,new m.default,new b.default],x=new R.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:P}),I=Object(E.default)(V).create({adaptationset:new h.default,period:new p.default})}(),G}v.__dashjs_factory_name="DashParser",M.default=y.default.getClassFactory(v)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(h){!function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m);var w;this._name=h,this._merge=(w=h)&&w.length&&w.charAt(0)===w.charAt(0).toUpperCase()}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),m}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,L(w.key),w)}}function L(h){var p=function S(h,p){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}M.default=function(){function h(p,v,w){var V=this;(function R(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=p||"",this._properties=[],this._children=w||[],Array.isArray(v)&&v.forEach(function(O){V._properties.push(new y.default(O))})}return function F(h,p,v){return p&&b(h.prototype,p),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),h}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function R(P){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function b(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,L(T.key),T)}}function L(P){var x=function S(P,x){if("object"!==R(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==R(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===R(x)?x:String(x)}function h(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&p(P,x)}function p(P,x){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function v(P){var x=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=G(P);if(x){var C=G(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function w(P,x){if(x&&("object"===R(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function V(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function G(P){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}M.default=function(P){h(I,P);var x=v(I);function I(){!function m(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[E.default.PROFILES,E.default.WIDTH,E.default.HEIGHT,E.default.SAR,E.default.FRAMERATE,E.default.AUDIO_SAMPLING_RATE,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.MAXIMUM_SAP_PERIOD,E.default.START_WITH_SAP,E.default.MAX_PLAYOUT_RATE,E.default.CODING_DEPENDENCY,E.default.SCAN_TYPE,E.default.FRAME_PACKING,E.default.AUDIO_CHANNEL_CONFIGURATION,E.default.CONTENT_PROTECTION,E.default.ESSENTIAL_PROPERTY,E.default.SUPPLEMENTAL_PROPERTY,E.default.INBAND_EVENT_STREAM];return x.call(this,E.default.ADAPTATION_SET,T,[new y.default(E.default.REPRESENTATION,T,[new y.default(E.default.SUB_REPRESENTATION,T)])])}return function F(P,x,I){return x&&b(P.prototype,x),I&&b(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(y.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function R(P){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function b(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,L(T.key),T)}}function L(P){var x=function S(P,x){if("object"!==R(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==R(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===R(x)?x:String(x)}function h(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&p(P,x)}function p(P,x){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function v(P){var x=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=G(P);if(x){var C=G(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function w(P,x){if(x&&("object"===R(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function V(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function G(P){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}M.default=function(P){h(I,P);var x=v(I);function I(){!function m(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[E.default.SEGMENT_BASE,E.default.SEGMENT_TEMPLATE,E.default.SEGMENT_LIST];return x.call(this,E.default.PERIOD,T,[new y.default(E.default.ADAPTATION_SET,T,[new y.default(E.default.REPRESENTATION,T)])])}return function F(P,x,I){return x&&b(P.prototype,x),I&&b(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(y.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(h,p){(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this._test=h,this._converter=p}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),m}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(T){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function R(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==E(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==E(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===E(N)?N:String(N)}function m(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&h(T,N)}function h(T,N){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function p(T){var N=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=O(T);if(N){var re=O(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function v(T,N){if(N&&("object"===E(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function w(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function O(T){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}var x=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;M.default=function(T){m(C,T);var N=p(C);function C(){return function S(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B){return x.test(B.value)},function(B){var re,Y=x.exec(B);if(re=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var ae=60*parseInt(Y[9],10)+parseInt(Y[10],10);re+=("+"===Y[8]?-1:1)*ae*60*1e3}return new Date(re)})}return function b(T,N,C){return N&&R(T.prototype,N),C&&R(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(y.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=e(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(Y){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Y)}function F(Y,re){for(var ae=0;ae<re.length;ae++){var Oe=re[ae];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(Y,S(Oe.key),Oe)}}function S(Y){var re=function m(Y,re){if("object"!==b(Y)||null===Y)return Y;var ae=Y[Symbol.toPrimitive];if(void 0!==ae){var Oe=ae.call(Y,re||"default");if("object"!==b(Oe))return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===re?String:Number)(Y)}(Y,"string");return"symbol"===b(re)?re:String(re)}function p(Y,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),re&&v(Y,re)}function v(Y,re){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,z){return Oe.__proto__=z,Oe})(Y,re)}function w(Y){var re=function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,Oe=k(Y);if(re){var oe=k(this).constructor;z=Reflect.construct(Oe,arguments,oe)}else z=Oe.apply(this,arguments);return function V(Y,re){if(re&&("object"===b(re)||"function"==typeof re))return re;if(void 0!==re)throw new TypeError("Derived constructors may only return object or undefined");return function O(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,z)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(Y)}var P=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;M.default=function(Y){p(ae,Y);var re=w(ae);function ae(){return function h(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}(this,ae),re.call(this,function(Oe){for(var z=[R.default.MIN_BUFFER_TIME,R.default.MEDIA_PRESENTATION_DURATION,R.default.MINIMUM_UPDATE_PERIOD,R.default.TIMESHIFT_BUFFER_DEPTH,R.default.MAX_SEGMENT_DURATION,R.default.MAX_SUBSEGMENT_DURATION,R.default.SUGGESTED_PRESENTATION_DELAY,R.default.START,E.default.START_TIME,R.default.DURATION],oe=z.length,H=0;H<oe;H++)if(Oe.nodeName===z[H])return P.test(Oe.value);return!1},function(Oe){var z=P.exec(Oe),oe=31536e3*parseFloat(z[3]||0)+2592e3*parseFloat(z[5]||0)+86400*parseFloat(z[7]||0)+3600*parseFloat(z[9]||0)+60*parseFloat(z[11]||0)+parseFloat(z[13]||0);return void 0!==z[1]&&(oe=-oe),oe})}return function L(Y,re,ae){return re&&F(Y.prototype,re),ae&&F(Y,ae),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(ae)}(y.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),R=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),b=e.n(R);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,C){return(N=h(N))in T?Object.defineProperty(T,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[N]=C,T}function S(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,h(B.key),B)}}function h(T){var N=function p(T,N){if("object"!==F(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function w(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&V(T,N)}function V(T,N){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function O(T){var N=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=x(T);if(N){var re=x(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function G(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function x(T){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}M.default=function(T){w(C,T);var N=O(C);function C(){return function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B,Y){var re,ae=(L(re={},E.default.ADAPTATION_SET,[E.default.LANG]),L(re,E.default.REPRESENTATION,[E.default.LANG]),L(re,E.default.CONTENT_COMPONENT,[E.default.LANG]),L(re,E.default.LABEL,[E.default.LANG]),L(re,E.default.GROUP_LABEL,[E.default.LANG]),re);if(ae.hasOwnProperty(Y)){var Oe=ae[Y];return void 0!==Oe&&Oe.indexOf(B.name)>=0}return!1},function(B){var Y=b()(B);return void 0!==Y?Y:String(B)})}return function m(T,N,C){return N&&S(T.prototype,N),C&&S(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(y.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}var G=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;M.default=function(P){m(I,P);var x=p(I);function I(){return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),x.call(this,function(T){return G.test(T.value)},function(T){return parseFloat(T)})}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(y.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function R(x){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(x)}function b(x,I,T){return(I=S(I))in x?Object.defineProperty(x,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[I]=T,x}function F(x,I){for(var T=0;T<I.length;T++){var N=I[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,S(N.key),N)}}function S(x){var I=function m(x,I){if("object"!==R(x)||null===x)return x;var T=x[Symbol.toPrimitive];if(void 0!==T){var N=T.call(x,I||"default");if("object"!==R(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(x)}(x,"string");return"symbol"===R(I)?I:String(I)}function p(x,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),I&&v(x,I)}function v(x,I){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,C){return N.__proto__=C,N})(x,I)}function w(x){var I=function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,N=k(x);if(I){var B=k(this).constructor;C=Reflect.construct(N,arguments,B)}else C=N.apply(this,arguments);return function V(x,I){if(I&&("object"===R(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function O(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(x)}(this,C)}}function k(x){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(x)}M.default=function(x){p(T,x);var I=w(T);function T(){return function h(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,T),I.call(this,function(N,C){var B,Y=(b(B={},E.default.MPD,[E.default.ID,E.default.PROFILES]),b(B,E.default.PERIOD,[E.default.ID]),b(B,E.default.BASE_URL,[E.default.SERVICE_LOCATION,E.default.BYTE_RANGE]),b(B,E.default.SEGMENT_BASE,[E.default.INDEX_RANGE]),b(B,E.default.INITIALIZATION,[E.default.RANGE]),b(B,E.default.REPRESENTATION_INDEX,[E.default.RANGE]),b(B,E.default.SEGMENT_LIST,[E.default.INDEX_RANGE]),b(B,E.default.BITSTREAM_SWITCHING,[E.default.RANGE]),b(B,E.default.SEGMENT_URL,[E.default.MEDIA_RANGE,E.default.INDEX_RANGE]),b(B,E.default.SEGMENT_TEMPLATE,[E.default.INDEX_RANGE,E.default.MEDIA,E.default.INDEX,E.default.INITIALIZATION_MINUS,E.default.BITSTREAM_SWITCHING_MINUS]),b(B,E.default.ASSET_IDENTIFIER,[E.default.VALUE,E.default.ID]),b(B,E.default.EVENT_STREAM,[E.default.VALUE]),b(B,E.default.ADAPTATION_SET,[E.default.PROFILES,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.CONTENT_TYPE]),b(B,E.default.FRAME_PACKING,[E.default.VALUE,E.default.ID]),b(B,E.default.AUDIO_CHANNEL_CONFIGURATION,[E.default.VALUE,E.default.ID]),b(B,E.default.CONTENT_PROTECTION,[E.default.VALUE,E.default.ID]),b(B,E.default.ESSENTIAL_PROPERTY,[E.default.VALUE,E.default.ID]),b(B,E.default.SUPPLEMENTAL_PROPERTY,[E.default.VALUE,E.default.ID]),b(B,E.default.INBAND_EVENT_STREAM,[E.default.VALUE,E.default.ID]),b(B,E.default.ACCESSIBILITY,[E.default.VALUE,E.default.ID]),b(B,E.default.ROLE,[E.default.VALUE,E.default.ID]),b(B,E.default.RATING,[E.default.VALUE,E.default.ID]),b(B,E.default.VIEWPOINT,[E.default.VALUE,E.default.ID]),b(B,E.default.CONTENT_COMPONENT,[E.default.CONTENT_TYPE]),b(B,E.default.REPRESENTATION,[E.default.ID,E.default.DEPENDENCY_ID,E.default.MEDIA_STREAM_STRUCTURE_ID]),b(B,E.default.SUBSET,[E.default.ID]),b(B,E.default.METRICS,[E.default.METRICS_MINUS]),b(B,E.default.REPORTING,[E.default.VALUE,E.default.ID]),B);if(Y.hasOwnProperty(C)){var re=Y[C];return void 0!==re&&re.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(x,I,T){return I&&F(x.prototype,I),T&&F(x,T),Object.defineProperty(x,"prototype",{writable:!1}),x}(T)}(y.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function R(F){function L(p,v){for(var w in p)v.hasOwnProperty(w)||(v[w]=p[w])}function S(p,v,w){for(var V=0,O=p.length;V<O;++V){var G=p[V];if(v[G.name])if(w[G.name]){if(G.merge){var k=v[G.name],P=w[G.name];"object"===E(k)&&"object"===E(P)?L(k,P):w[G.name]=k+P}}else w[G.name]=v[G.name]}}function m(p,v){for(var w=0,V=p.children.length;w<V;++w){var O=p.children[w],G=v[O.name+"_asArray"];if(G)for(var k=0,P=G.length;k<P;++k){var x=G[k];S(p.properties,v,x),m(O,x)}}}return{run:function h(p){if(null===p||"object"!==E(p))return p;if(p.Period_asArray&&"period"in F)for(var v=F.period,w=p.Period_asArray,V=0,O=w.length;V<O;++V){var G=w[V];if(m(v,G),"adaptationset"in F){var k=G.AdaptationSet_asArray;if(k)for(var P=F.adaptationset,x=0,I=k.length;x<I;++x)m(P,k[x])}}return p}}}R.__dashjs_factory_name="ObjectIron";var b=y.default.getClassFactory(R);M.default=b},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,S){var m=(L=L||{}).timelineConverter;function p(){if(!m||!m.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function w(O,G){if(p(),!O)return null;var k=O.adaptation.period.mpd.manifest.Period_asArray[O.adaptation.period.index].AdaptationSet_asArray[O.adaptation.index].Representation_asArray[O.index].SegmentList,P=k.SegmentURL_asArray.length,x=O&&!isNaN(O.startNumber)?O.startNumber:1,I=Math.max(x-1,0),T=Math.max(G-I,0),N=null;if(T<P){var C=k.SegmentURL_asArray[T];(N=Object(R.getIndexBasedSegment)(m,S,O,G))&&(N.replacementTime=(x+G-1)*O.segmentDuration,N.media=C.media?C.media:"",N.mediaRange=C.mediaRange,N.indexRange=C.indexRange)}return N}return{getSegmentByIndex:w,getSegmentByTime:function V(O,G){if(p(),!O)return null;var k=O.segmentDuration;if(isNaN(k))return null;var P=m.calcPeriodRelativeTimeFromMpdRelativeTime(O,G);return w(O,Math.floor(P/k))},getMediaFinishedInformation:function v(O){var G={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!O)return G;var k=O.adaptation.period.mpd.manifest.Period_asArray[O.adaptation.period.index].AdaptationSet_asArray[O.adaptation.index].Representation_asArray[O.index].SegmentList,P=O&&!isNaN(O.startNumber)?O.startNumber:1,x=Math.max(P-1,0);return G.numberOfSegments=x+k.SegmentURL_asArray.length,G}}}b.__dashjs_factory_name="ListSegmentsGetter";var F=y.default.getClassFactory(b);M.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function F(h){var p=function L(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M),e.d(M,"default",function(){return S});var S=function(){function h(){!function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}(this,h)}return function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"round10",value:function(v,w){return function m(h,p,v){return typeof v>"u"||0==+v?Math[h](p):(v=+v,null===(p=+p)||isNaN(p)||"number"!=typeof v||v%1!=0?NaN:(p=p.toString().split("e"),+((p=(p=Math[h](+(p[0]+"e"+(p[1]?+p[1]-v:-v)))).toString().split("e"))[0]+"e"+(p[1]?+p[1]+v:v))))}("round",v,w)}}]),h}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function R(F){var L=(F=F||{}).timelineConverter;function m(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function p(V,O){if(m(),!V)return null;var k,G=V.segments?V.segments.length:-1;if(O<G&&(k=V.segments[O])&&k.index===O)return k;for(var P=0;P<G;P++)if((k=V.segments[P])&&k.index===O)return k;return null}return{getSegmentByIndex:p,getSegmentByTime:function v(V,O){return m(),p(V,function w(V,O){if(!V)return-1;var x,I,T,N,C,G=V.segments,k=G?G.length:null,P=-1;if(G&&k>0)for(C=0;C<k;C++)if(O+(x=(N=(I=G[C]).duration)/2)>=(T=I.presentationStartTime)&&O-x<T+N){P=I.index;break}return P}(V,O))},getMediaFinishedInformation:function h(V){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!V||!V.segments||(O.numberOfSegments=V.segments.length),O}}}R.__dashjs_factory_name="SegmentBaseGetter";var b=y.default.getClassFactory(R);M.default=b},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(Ye,M,e){"use strict";e.r(M),e.d(M,"unescapeDollarsInTemplate",function(){return b}),e.d(M,"replaceIDForTemplate",function(){return F}),e.d(M,"replaceTokenForTemplate",function(){return L}),e.d(M,"getIndexBasedSegment",function(){return h}),e.d(M,"getTimeBasedSegment",function(){return p});var y=e(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function E(v,w){for(;v.length<w;)v="0"+v;return v}function b(v){return v&&v.split("$$").join("$")}function F(v,w){if(!w||!v||-1===v.indexOf("$RepresentationID$"))return v;var V=w.toString();return v.split("$RepresentationID$").join(V)}function L(v,w,V){var G,k,P,x,I,T,N=w.length;if(!v)return v;for(;;){if((G=v.indexOf("$"+w))<0||(k=v.indexOf("$",G+N))<0)return v;if((P=v.indexOf("%0",G+N))>G&&P<k)switch(x=v.charAt(k-1),I=parseInt(v.substring(P+2,k-1),10),x){case"d":case"i":case"u":T=E(V.toString(),I);break;case"x":T=E(V.toString(16),I);break;case"X":T=E(V.toString(16),I).toUpperCase();break;case"o":T=E(V.toString(8),I);break;default:return v}else T=V;v=v.substring(0,G)+T+v.substring(k+1)}}function S(v,w,V,O,G,k,P,x){var I=new y.default;return I.representation=v,I.duration=w,I.presentationStartTime=V,I.mediaStartTime=O,I.availabilityStartTime=G.calcAvailabilityStartTimeFromPresentationTime(k,v,P),I.availabilityEndTime=G.calcAvailabilityEndTimeFromPresentationTime(k+w,v,P),I.wallStartTime=G.calcWallTimeForSegment(I,P),I.replacementNumber=function R(v,w){return v.representation.startNumber+w}(I,x),I.index=x,I}function m(v,w,V,O){var G=w.adaptation.period;if(isFinite(G.duration)&&G.start+G.duration<=V.presentationStartTime)return!1;if(O){if("INF"===w.availabilityTimeOffset)return!0;var k=v.getClientReferenceTime();return V.availabilityStartTime.getTime()<=k&&(!isFinite(V.availabilityEndTime)||V.availabilityEndTime.getTime()>=k)}return!0}function h(v,w,V,O){var G,k,P;G=V.segmentDuration,isNaN(G)&&(G=V.adaptation.period.duration),k=parseFloat((V.adaptation.period.start+O*G).toFixed(5)),P=parseFloat((k+G).toFixed(5));var I=S(V,G,k,v.calcMediaTimeFromPresentationTime(k,V),v,P,w,O);return m(v,V,I,w)?I:null}function p(v,w,V,O,G,k,P,x,I,T){var B,re,N=O/k,C=G/k;return B=v.calcPresentationTimeFromMediaTime(N,V),m(v,V,re=S(V,C,B,N,v,B+C,w,I),w)?(re.replacementTime=T||O,P=L(P,"Number",re.replacementNumber),P=L(P,"Time",re.replacementTime),re.media=P,re.mediaRange=x,re):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,S){var m=(L=L||{}).timelineConverter;function p(){if(!m||!m.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function w(O,G){if(p(),!O)return null;var k=O.adaptation.period.mpd.manifest.Period_asArray[O.adaptation.period.index].AdaptationSet_asArray[O.adaptation.index].Representation_asArray[O.index].SegmentTemplate;G=Math.max(G,0);var P=Object(R.getIndexBasedSegment)(m,S,O,G);if(P){P.replacementTime=Math.round((G-1)*O.segmentDuration*O.timescale,10);var x=k.media;x=Object(R.replaceTokenForTemplate)(x,"Number",P.replacementNumber),x=Object(R.replaceTokenForTemplate)(x,"Time",P.replacementTime),P.media=x}return P}return{getSegmentByIndex:w,getSegmentByTime:function V(O,G){if(p(),!O)return null;var k=O.segmentDuration;if(isNaN(k))return null;var P=m.calcPeriodRelativeTimeFromMpdRelativeTime(O,G);return w(O,Math.floor(P/k))},getMediaFinishedInformation:function v(O){var G={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!O)return G;var k=O.segmentDuration;return G.numberOfSegments=isNaN(k)?1:Math.ceil(O.adaptation.period.duration/k),G}}}b.__dashjs_factory_name="TemplateSegmentsGetter";var F=y.default.getClassFactory(b);M.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=e(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),S=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=e(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function p(){var O,G,k,P,v=this.context,w=Object(y.default)(v).getInstance(),V=Object(L.default)(v).getInstance();function N(Ie){P=Ie}function B(Ie,we,Fe,We){var Ue,xe=we.adaptation.period.mpd,be=xe.availabilityStartTime;if(We)Ue=Fe&&xe.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(be.getTime()+1e3*(Ie+xe.timeShiftBufferDepth)):xe.availabilityEndTime;else if(Fe){var K=we.availabilityTimeOffset;Ue=new Date(be.getTime()+1e3*(Ie-K))}else Ue=be;return Ue}function ae(Ie,we){return(Ie.getTime()-we.mpd.availabilityStartTime.getTime()+1e3*P)/1e3}function Oe(Ie,we){return Ie+(we.adaptation.period.start-we.presentationTimeOffset)}function fe(Ie){var we={start:NaN,end:NaN},Fe=Ie[0].getAdapter().getRegularPeriods()[0],We=ae(new Date,Fe);if(!Ie||0===Ie.length)return{range:we,now:We};Ie.forEach(function(xe){var be=xe.getAdapter(),K=be.getMediaInfoForType(xe.getStreamInfo(),S.default.VIDEO)||be.getMediaInfoForType(xe.getStreamInfo(),S.default.AUDIO),he=be.getVoRepresentations(K)[0],q={start:NaN,end:NaN};if(he)if(he.segmentInfoType===b.default.SEGMENT_TIMELINE)q=function se(Ie){var ie,he,q,$,Fe=G.getRepresentationFor(Ie.index,Ie.adaptation.period.mpd.manifest.Period_asArray[Ie.adaptation.period.index].AdaptationSet_asArray[Ie.adaptation.index]),Ue=Fe.SegmentTemplate.timescale,xe=Fe.SegmentTemplate.SegmentTimeline.S_asArray,be={start:0,end:0},K=0;for(be.start=Oe(xe[0].t/Ue,Ie),q=0,$=xe.length;q<$;q++)he=0,(ie=xe[q]).hasOwnProperty("r")&&(he=ie.r),K+=ie.d*(1+he);return be.end=Oe((xe[0].t+K)/Ue,Ie),be}(he);else{var $=he.adaptation.period;q.start=$.start,q.end=Math.max(We,$.start+$.duration)}!isNaN(q.start)&&(isNaN(we.start)||we.start>q.start)&&(we.start=q.start),!isNaN(q.end)&&(isNaN(we.end)||we.end<q.end)&&(we.end=q.end)}),we.end=Math.min(We,we.end);var Ue=Ae(Ie,we.end,!0);return we.end=isNaN(Ue)?we.end:Ue,we.start=Fe&&Fe.mpd&&Fe.mpd.timeShiftBufferDepth&&!isNaN(Fe.mpd.timeShiftBufferDepth)&&!isNaN(we.end)?Math.max(we.end-Fe.mpd.timeShiftBufferDepth,we.start):we.start,we.start=Ae(Ie,we.start),{range:we,now:We}}function Ee(Ie,we){k=Ie-we.end}function Ae(Ie,we){var Fe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var We=0,Ue=!1,xe=NaN;!Ue&&We<Ie.length;){var be=Ie[We].getStreamInfo();be.start<=we&&(!isFinite(be.duration)||be.start+be.duration>=we)?(xe=we,Ue=!0):!Fe&&be.start>we&&(isNaN(xe)||be.start<xe)?xe=be.start:Fe&&be.start+be.duration<we&&(isNaN(xe)||be.start+be.duration>xe)&&(xe=be.start+be.duration),We+=1}return xe}catch{return we}}function Me(Ie){void 0!==Ie.offset&&!isNaN(Ie.offset)&&N(Ie.offset/1e3)}function _e(){P=0,k=0}function Le(){w.off(E.default.UPDATE_TIME_SYNC_OFFSET,Me,this),_e()}return O={initialize:function I(){_e(),w.on(E.default.UPDATE_TIME_SYNC_OFFSET,Me,this)},getClientTimeOffset:function T(){return P},setClientTimeOffset:N,getClientReferenceTime:function C(){return Date.now()-1e3*k+1e3*P},calcAvailabilityStartTimeFromPresentationTime:function Y(Ie,we,Fe){return B(Ie,we,Fe)},calcAvailabilityEndTimeFromPresentationTime:function re(Ie,we,Fe){return B(Ie,we,Fe,!0)},calcPresentationTimeFromWallTime:ae,calcPresentationTimeFromMediaTime:Oe,calcPeriodRelativeTimeFromMpdRelativeTime:function De(Ie,we){return we-Ie.adaptation.period.start},calcMediaTimeFromPresentationTime:function z(Ie,we){return Ie-we.adaptation.period.start+we.presentationTimeOffset},calcWallTimeForSegment:function oe(Ie,we){var We,Ue;return we&&(We=Ie.presentationStartTime+Ie.representation.adaptation.period.mpd.suggestedPresentationDelay,Ue=new Date(Ie.availabilityStartTime.getTime()+1e3*We)),Ue},calcTimeShiftBufferWindow:function H(Ie,we){if(!we)return function me(Ie){var we={start:NaN,end:NaN},Fe=0,We=NaN;return Ie.forEach(function(Ue){var xe=Ue.getStreamInfo();Fe+=xe.duration,(isNaN(We)||xe.start<We)&&(We=xe.start)}),we.start=We,we.end=We+Fe,we}(Ie);if(V.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Fe=fe(Ie);return Ee(Fe.now,Fe.range),Fe.range}return function ne(Ie){var we={start:NaN,end:NaN};if(!Ie||0===Ie.length)return we;var Fe=Ie[0].getAdapter().getRegularPeriods()[0],We=ae(new Date,Fe),Ue=Fe.mpd.timeShiftBufferDepth,xe=isNaN(Ue)?0:We-Ue;if(we.start=Ae(Ie,xe),we.end=!isNaN(we.start)&&We<we.start?We:Ae(Ie,We,!0),!isNaN(Ue)&&we.end<We-Ue&&(we.end=NaN),V.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var be=fe(Ie);if(be.range.end<we.start)return w.trigger(m.default.CONFORMANCE_VIOLATION,{level:h.default.LEVELS.WARNING,event:h.default.EVENTS.INVALID_DVR_WINDOW}),Ee(be.now,be.range),be.range}return we}(Ie)},reset:Le},function x(){G=Object(F.default)(v).getInstance(),Le()}(),O}p.__dashjs_factory_name="TimelineConverter",M.default=R.default.getSingletonFactory(p)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,S){var m=(L=L||{}).timelineConverter,h=L.dashMetrics;function v(){if(!m)throw new Error(E.default.MISSING_CONFIG_ERROR)}function V(x,I){var re,ae,Oe,z,oe,H,me,T=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,C=T.SegmentURL_asArray,B=0,Y=-1;me=x.timescale;var ne=!1;for(Oe=0,z=(re=T.SegmentTimeline.S_asArray).length;Oe<z&&!ne;Oe++)for(H=0,(ae=re[Oe]).hasOwnProperty("r")&&(H=ae.r),ae.hasOwnProperty("t")&&(B=ae.t),H<0&&(H=O(x,re[Oe+1],ae,me,B/me)),oe=0;oe<=H&&!ne;oe++)(ne=I(B,T,C,ae,me,++Y,Oe))&&(x.segmentDuration=ae.d/me),B+=ae.d}function O(x,I,T,N,C){var B;if(I&&I.hasOwnProperty("t"))B=I.t/N;else try{var Y=0;if(isNaN(x.adaptation.period.start)||isNaN(x.adaptation.period.duration)||!isFinite(x.adaptation.period.duration)){var re=h.getCurrentDVRInfo();Y=isNaN(re.end)?0:re.end}else Y=x.adaptation.period.start+x.adaptation.period.duration;B=m.calcMediaTimeFromPresentationTime(Y,x),x.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-C)/(T.d/N))-1,0)}return{getSegmentByIndex:function G(x,I,T){if(v(),!x)return null;var N=null,C=!1;return V(x,function(B,Y,re,ae,Oe,z,oe){if(C||T<0){var H=Y.media,me=ae.mediaRange;return re&&(H=re[oe].media||"",me=re[oe].mediaRange),N=Object(R.getTimeBasedSegment)(m,S,x,B,ae.d,Oe,H,me,z,ae.tManifest),!0}return B>=T*Oe-.5*ae.d&&(C=!0),!1}),N},getSegmentByTime:function k(x,I){if(v(),!x)return null;void 0===I&&(I=null);var T=null,N=m.calcMediaTimeFromPresentationTime(I,x);return V(x,function(C,B,Y,re,ae,Oe,z){var oe=function P(x){return parseFloat(x.toPrecision(15))}(N*ae);if(oe<C+re.d&&oe>=C){var H=B.media,me=re.mediaRange;return Y&&(H=Y[z].media||"",me=Y[z].mediaRange),T=Object(R.getTimeBasedSegment)(m,S,x,C,re.d,ae,H,me,Oe,re.tManifest),!0}return!1}),T},getMediaFinishedInformation:function w(x){if(!x)return 0;var Y,re,ae,Oe,z,oe,H,N=0,C=0,B=0;for(H=x.timescale,Oe=(Y=(x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList).SegmentTimeline.S_asArray).length,ae=0;ae<Oe;ae++)for(oe=0,(re=Y[ae]).hasOwnProperty("r")&&(oe=re.r),re.hasOwnProperty("t")&&(C=(N=re.t)/H),oe<0&&(oe=O(x,Y[ae+1],re,H,C)),z=0;z<=oe;z++)B++,C=(N+=re.d)/H;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:C}}}}b.__dashjs_factory_name="TimelineSegmentsGetter";var F=y.default.getClassFactory(b);M.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function E(p,v){for(var w=0;w<v.length;w++){var V=v[w];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(p,b(V.key),V)}}function R(p,v,w){return v&&E(p.prototype,v),w&&E(p,w),Object.defineProperty(p,"prototype",{writable:!1}),p}function b(p){var v=function F(p,v){if("object"!==y(p)||null===p)return p;var w=p[Symbol.toPrimitive];if(void 0!==w){var V=w.call(p,v||"default");if("object"!==y(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(p)}(p,"string");return"symbol"===y(v)?v:String(v)}e.r(M);var h=R(function p(v,w,V,O){(function L(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=v||"",this.serviceLocation=w||v||"",this.dvb_priority=V||1,this.dvb_weight=O||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});h.DEFAULT_DVB_PRIORITY=1,h.DEFAULT_DVB_WEIGHT=1,M.default=h},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var p=function L(h,p){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}M.default=b(function h(p){(function S(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=p||null,this.type=y.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(h,p,v){(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.action=h,this.xpath=p,this.value=v,this.position=null}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"getMpdTarget",value:function(p){return this.xpath.getMpdTarget(p,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),m}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M);var S=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});S.DEFAULT_ID="defaultId",M.default=S},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,L(w.key),w)}}function L(h){var p=function S(h,p){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}M.default=function(){function h(){(function R(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(h,p,v){return p&&b(h.prototype,p),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==y.default.BASE_URL&&this.segmentInfoType!==y.default.SEGMENT_BASE&&!this.indexRange}}]),h}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(h){var p=this;(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.valid="/"==h[0],this.path=h.split("/").filter(function(v){return 0!==v.length}).map(function(v){var w={name:v},V=v.indexOf("[");if(-1!=V){w.name=v.substring(0,V);var O=v.substring(V+1,v.length-1);p.valid=p.valid&&-1==O.indexOf("[");var G=O.indexOf("=");-1!=G?(w.attribute={name:O.substring(1,G),value:O.substring(G+1)},-1!=["'",'"'].indexOf(w.attribute.value[0])&&(w.attribute.value=w.attribute.value.substring(1,w.attribute.value.length-1))):w.position=parseInt(O,10)-1}return w})}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(p,v){for(var w=null,V=p,O=1,G="MPD";O<this.path.length&&null!==V;){w=V;var k=this.path[O];if(G=k.name,O!==this.path.length-1||!G.startsWith("@")){var P=w[G+"_asArray"]||[];0===P.length&&w[G]&&P.push(w[G]),k.position?V=P[k.position]||null:k.attribute?function(){var x=k.attribute;V=P.filter(function(I){return I[x.name]==x.value})[0]||null}():V=P[0]||null}O++}return null===V?null:G.startsWith("@")?{name:G.substring(1),leaf:V,target:V}:{name:G,leaf:V,target:v?w:V}}}]),m}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),R=e(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),b=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(S){var O,G,m=this.context,h=(S=S||{}).eventBus,p=S.events,v=S.urlUtils,w=S.errors,V=S.streamId;return O={checkForExistence:function P(N){var C=function(re){h.trigger(p.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:re})};if(N){var B=new R.default(N.url);G.load({request:B,success:function(){C(!0)},error:function(){C(!1)}})}else C(!1)},load:function x(N){var C=function(Y,re){h.trigger(p.LOADING_COMPLETED,{request:N,response:Y||null,error:re||null,sender:O})};N?G.load({request:N,progress:function(Y){h.trigger(p.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:V}),Y.data&&h.trigger(p.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:O})},success:function(Y){C(Y)},error:function(Y,re,ae){C(void 0,new b.default(w.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ae,re))},abort:function(Y){Y&&h.trigger(p.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:O})}}):C(void 0,new b.default(w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){G&&G.abort()},reset:function T(){G&&(G.abort(),G=null)}},function k(){G=Object(E.default)(m).create({errHandler:S.errHandler,errors:w,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,requestModifier:S.requestModifier,urlUtils:v,constants:y.default,boxParser:S.boxParser,dashConstants:S.dashConstants,requestTimeout:S.settings.get().streaming.fragmentRequestTimeout})}(),O}L.__dashjs_factory_name="FragmentLoader",M.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),R=e(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),b=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),S=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),p=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),v=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),w=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),V=e(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function O(k){var C,B,Y,re,ae,P=this.context,x=(k=k||{}).debug,I=k.settings,T=Object(h.default)(P).getInstance(),N=Object(F.default)(P).getInstance(),Oe=k.mssHandler,z=k.errHandler;function H(Ee){T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:Ee.manifest})}return C={load:function ne(Ee){var Ae=new L.default(Ee,m.HTTPRequest.MPD_TYPE);Y.load({request:Ae,success:function(De,Me,_e){if(re){var Le,Ie,we;if(_e&&_e!==Ee?(Ie=N.parseBaseUrl(_e),Le=_e):(N.isRelative(Ee)&&(Ee=N.resolve(Ee,window.location.href)),Ie=N.parseBaseUrl(Ee)),"No Content"==Me)return void T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ae&&(ae=function me(Ee){var Ae=null;return Ee.indexOf("SmoothStreamingMedia")>-1?(Oe&&(Ae=Oe.createMssParser(),Oe.registerEvents()),Ae):Ee.indexOf("MPD")>-1||Ee.indexOf("Patch")>-1?Object(V.default)(P).create({debug:x}):Ae}(De)),null===ae)return void T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ee))});re.setMatchers(ae.getMatchers()),re.setIron(ae.getIron());try{we=ae.parse(De)}catch{return void T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ee))})}if(we){if(we.url=Le||Ee,we.originalUrl||(we.originalUrl=we.url),we.hasOwnProperty(y.default.LOCATION)&&(Ie=N.parseBaseUrl(we.Location_asArray[0]),B.debug("BaseURI set by Location to: "+Ie)),I&&I.get().streaming.enableManifestDurationMismatchFix&&we.mediaPresentationDuration&&we.Period_asArray.length>1){var Fe=we.Period_asArray.reduce(function(We,Ue){return We+Ue.duration},0);!isNaN(Fe)&&we.mediaPresentationDuration>Fe&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),we.mediaPresentationDuration=Fe)}we.baseUri=Ie,we.loadedTime=new Date,re.resolveManifestOnLoad(we),T.trigger(p.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:De})}else T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ee))})}},error:function(De,Me,_e){T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Ee,", ").concat(_e))})}})},reset:function fe(){T.off(p.default.XLINK_READY,H,C),Oe&&Oe.reset(),re&&(re.reset(),re=null),Y&&(Y.abort(),Y=null)}},function oe(){B=x.getLogger(C),T.on(p.default.XLINK_READY,H,C),Y=Object(b.default)(P).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:y.default,dashConstants:E.default,errors:v.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),re=Object(R.default)(P).create({errHandler:z,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),ae=null}(),C}O.__dashjs_factory_name="ManifestLoader";var G=w.default.getClassFactory(O);M.default=G},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../core/Debug */
"./src/core/Debug.js"),L=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),S=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function h(){var V,O,G,k,P,x,I,T,N,C,B,Y,p=this.context,v=Object(y.default)(p).getInstance(),w=Object(m.default)(p).getInstance();function oe(){G=NaN,I=!1,P=!0,x=!1,me()}function me(){null!==k&&(clearTimeout(k),k=null)}function ne(Ie){me(),!x&&(isNaN(Ie)&&!isNaN(G)&&(Ie=1e3*G),isNaN(Ie)||(O.debug("Refresh manifest in "+Ie+" milliseconds."),k=setTimeout(Ae,Ie)))}function fe(){var Ie=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var we=N.getValue(),Fe=we.url,We=C.getPatchLocation(we),Ue=C.getLocation(we);We&&!Ie?Fe=We:Ue&&(Fe=Ue),w.isRelative(Fe)&&(Fe=w.resolve(Fe,we.url)),T.load(Fe)}function Ee(Ie){if(Ie){if(C.getIsPatch(Ie)){var we=Ie;Ie=N.getValue();var Fe=C.isPatchValid(Ie,we),We=Fe;if(Fe){var Ue=C.getPublishTime(Ie);We=C.applyPatchToManifest(Ie,we);var xe=C.getPublishTime(Ie);We=Ue.getTime()!=xe.getTime()}if(!We)return O.debug("Patch provided is invalid, performing full manifest refresh"),void fe(!0);Ie.loadedTime=new Date}}else(Ie=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===S.default.DYNAMIC&&Ie.type===S.default.STATIC)return v.trigger(E.default.DYNAMIC_TO_STATIC),I=!1,void(x=!0);N.setValue(Ie);var be=new Date,K=(be.getTime()-Ie.loadedTime.getTime())/1e3;1e3*(G=C.getManifestUpdatePeriod(Ie,K))>2147483647&&(G=2147483.647),v.trigger(E.default.MANIFEST_UPDATED,{manifest:Ie}),O.info("Manifest has been refreshed at "+be+"["+be.getTime()/1e3+"] "),P||ne()}function Ae(){if(!P){if(I)return void ne(Y.get().streaming.manifestUpdateRetryInterval);fe()}}function se(Ie){Ie.error?Ie.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(Ie.error):Ee(Ie.manifest)}function De(){P=!1,ne()}function Me(){(P=!Y.get().streaming.scheduling.scheduleWhilePaused)&&me()}function _e(){I=!1}return V={initialize:function Oe(){oe(),v.on(E.default.STREAMS_COMPOSED,_e,this),v.on(R.default.PLAYBACK_STARTED,De,this),v.on(R.default.PLAYBACK_PAUSED,Me,this),v.on(E.default.INTERNAL_MANIFEST_LOADED,se,this)},setManifest:function z(Ie){Ee(Ie)},refreshManifest:fe,getIsUpdating:function Le(){return I},setConfig:function ae(Ie){Ie&&(Ie.manifestModel&&(N=Ie.manifestModel),Ie.adapter&&(C=Ie.adapter),Ie.manifestLoader&&(T=Ie.manifestLoader),Ie.errHandler&&(B=Ie.errHandler),Ie.settings&&(Y=Ie.settings))},reset:function H(){v.off(R.default.PLAYBACK_STARTED,De,this),v.off(R.default.PLAYBACK_PAUSED,Me,this),v.off(E.default.STREAMS_COMPOSED,_e,this),v.off(E.default.INTERNAL_MANIFEST_LOADED,se,this),oe()}},function re(){O=Object(F.default)(p).getInstance().getLogger(V)}(),V}h.__dashjs_factory_name="ManifestUpdater",M.default=b.default.getClassFactory(h)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),E=e.n(y),R=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=e(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),S=e(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),m=e(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),h=e(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),p=e(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),v=e(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),w=e(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),V=e(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),O=e(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),G=e(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=e(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),P=e(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),x=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),I=e(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=e(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=e(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),C=e(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=e(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=e(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),re=e(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ae=e(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Oe=e(
/*! ./../core/Debug */
"./src/core/Debug.js"),z=e(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),oe=e(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),H=e(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),me=e(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),ne=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),fe=e(
/*! ../core/Settings */
"./src/core/Settings.js"),Ee=e(
/*! ../core/Version */
"./src/core/Version.js"),Ae=e(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),se=e(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),De=e(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Me=e(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),_e=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Le=e(
/*! ../../externals/base64 */
"./externals/base64.js"),Ie=e.n(Le),we=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Fe=e.n(we),We=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Ue=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),xe=e(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),be=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),K=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ie=e(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),he=e(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function q(){var Ve,ke,Ze,qe,He,ot,yt,ut,Ct,Ot,It,Gt,Xt,cn,Rn,nt,at,Se,ue,ge,it,pt,kt,Bt,Kt,tn,en,bt,wt,Zt,Wt,dn,gn,En,Vn,jn,ei,W="You must first call initialize() and set a source before calling this method",te="You must first call initialize() and set a valid source and view before calling this method",X="You must first call attachView() to set the video element before calling this method",Q="MediaPlayer not initialized!",de=this.context,pe=Object(oe.default)(de).getInstance(),le=Object(fe.default)(de).getInstance(),Te=Object(Oe.default)(de).getInstance({settings:le});function Vt(){Vo(null),Pi(null),qe=null,Xt&&(Xt.reset(),Xt=null),cn&&(cn.reset(),cn=null),ue&&ue.reset(),le.reset(),nt&&(nt.reset(),nt=null)}function Qe(){return!!Ze&&!!En.getElement()}function rn(){return Object(Ee.getVersionString)()}function Rt(){if(!yt)throw te;return en.isPaused()}function st(){if(!yt)throw te;return en.getIsDynamic()}function Xi(Ut){var Ge=Bt&&Bt.hasVideoTrack()?R.default.VIDEO:R.default.AUDIO,Xe=Wt.getCurrentDVRInfo(Ge);if(!Xe)return 0;var Be=en.getOriginalLiveDelay(),ft=Xe.range.start+Ut;return ft>Xe.range.end-Be&&(ft=Xe.range.end-Be),ft}function zr(Ut){if(!yt)throw te;var Ge=Xn().currentTime;if(void 0!==Ut)Ge=Bt.getTimeRelativeToStreamId(Ge,Ut);else if(en.getIsDynamic()){var Xe=Bt&&Bt.hasVideoTrack()?R.default.VIDEO:R.default.AUDIO,Be=Wt.getCurrentDVRInfo(Xe);Ge=null===Be||0===Ge?0:Math.max(0,Ge-Be.range.start)}return Ge}function Io(){if(!yt)throw te;var Ut=Xn().duration;if(en.getIsDynamic()){var Ge=Bt&&Bt.hasVideoTrack()?R.default.VIDEO:R.default.AUDIO,Xe=Wt.getCurrentDVRInfo(Ge);Ut=Xe?Xe.range.end-Xe.range.start:0}return Ut}function rr(Ut){Object(Ue.checkParameterType)(Ut,"boolean"),ut=Ut}function yr(){ue.restoreDefaultUTCTimingSources()}function on(){return Wt}function Xn(){if(!En.getElement())throw X;return En.getElement()}function Pi(Ut){if(!He)throw Q;En.setElement(Ut),Ut&&(uo(),function pr(){if(!cn){var Ut=dashjs.MetricsReporting;if("function"==typeof Ut){var Ge=Ut(de).create();cn=Ge.createMetricsReporting({debug:Te,eventBus:pe,mediaElement:Xn(),adapter:at,dashMetrics:Wt,mediaPlayerModel:Se,events:H.default,constants:R.default,metricsConstants:F.default})}}}(),function jo(){if(!Rn){var Ut=dashjs.MssHandler;"function"==typeof Ut&&(z.default.extend(Ut.errors),Rn=Ut(de).create({eventBus:pe,mediaPlayerModel:Se,dashMetrics:Wt,manifestModel:dn,playbackController:en,streamController:Bt,protectionController:Xt,baseURLController:it,errHandler:ge,events:H.default,constants:R.default,debug:Te,initSegmentType:_e.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Ie.a,ISOBoxer:Fe.a,settings:le}))}}(),Bt&&Bt.switchToVideoElement()),yt&&Ua(),Ki()}function $r(Ut){if(!ot)throw W;var Ge=Bt.getActiveStreamInfo();return Ge?Gt.getTracksFor(Ut,Ge.id):[]}function Vo(Ut){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!He)throw Q;"string"==typeof Ut&&Vn.initialize(Ut),(null==Ge||isNaN(Ge))&&(Ge=NaN),Ge=Math.max(0,Ge),Ze=Ut,(ot||yt)&&Ua(),Qe()&&Ki(Ge)}function ur(){if(!ot)throw W;var Ut=Bt.getActiveStreamInfo();return Ut?Bt.getStreamById(Ut.id):null}function Ua(){yt=!1,ot=!1,at.reset(),Bt.reset(),tn.reset(),Zt.reset(),en.reset(),bt.reset(),wt.reset(),Ct.reset(),Gt.reset(),ei.reset(),Xt&&(le.get().streaming.protection.keepProtectionMediaKeys?Xt.stop():(Xt.reset(),Xt=null,uo())),Kt.reset(),gn.reset()}function ss(){return Object(O.default)(de).create({debug:Te,errHandler:ge,dashMetrics:Wt,mediaPlayerModel:Se,requestModifier:Object(x.default)(de).getInstance(),mssHandler:Rn,settings:le})}function uo(){if(Xt)return Xt;var Ut=dashjs.Protection;if("function"==typeof Ut){var Ge=Ut(de).create();return H.default.extend(Ut.events),me.default.extend(Ut.events,{publicOnly:!0}),z.default.extend(Ut.errors),pt||(pt=Object(k.default)(de).getInstance()),Xt=Ge.createProtectionSystem({debug:Te,errHandler:ge,videoModel:En,customParametersModel:ue,capabilities:pt,eventBus:pe,events:H.default,BASE64:Ie.a,constants:R.default,cmcdModel:gn,settings:le})}return null}function Ro(){if(!He)throw Q;if(nt)return nt;var Ut=dashjs.OfflineController;if("function"==typeof Ut){H.default.extend(Ut.events),me.default.extend(Ut.events,{publicOnly:!0}),z.default.extend(Ut.errors);var Ge=ss(),Xe=Object(xe.default)(de).create();return Xe.setConfig({manifestModel:dn,adapter:at,manifestLoader:Ge,errHandler:ge}),nt=Ut(de).create({debug:Te,manifestUpdater:Xe,baseURLController:it,manifestLoader:Ge,manifestModel:dn,mediaPlayerModel:Se,abrController:Ct,playbackController:en,adapter:at,errHandler:ge,dashMetrics:Wt,timelineConverter:It,segmentBaseController:ei,schemeLoaderFactory:Ot,eventBus:pe,events:H.default,errors:z.default,constants:R.default,settings:le,dashConstants:b.default,urlUtils:Object(be.default)(de).getInstance()})}return null}function Dc(Ut){var Ge=Bt&&Bt.hasVideoTrack()?R.default.VIDEO:R.default.AUDIO,Xe=Wt.getCurrentDVRInfo(Ge);return Xe?Ut+(Xe.manifestInfo.availableFrom.getTime()/1e3+Xe.range.start):0}function Ki(){var Ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;nt&&nt.resetRecords(),!ot&&Ze&&(ot=!0,ke.info("Streaming Initialized"),function Bd(){var Ut=ss();Bt||(Bt=Object(S.default)(de).getInstance()),Kt||(Kt=Object(ie.default)(de).create({errHandler:ge,manifestModel:dn,adapter:at,mediaController:Gt,videoModel:En,settings:le})),kt.setConfig({capabilities:pt,customParametersModel:ue,adapter:at,settings:le,manifestModel:dn,errHandler:ge}),Bt.setConfig({capabilities:pt,capabilitiesFilter:kt,manifestLoader:Ut,manifestModel:dn,mediaPlayerModel:Se,customParametersModel:ue,protectionController:Xt,textController:Kt,adapter:at,dashMetrics:Wt,errHandler:ge,timelineConverter:It,videoModel:En,playbackController:en,serviceDescriptionController:bt,contentSteeringController:wt,abrController:Ct,mediaController:Gt,settings:le,baseURLController:it,uriFragmentModel:Vn,segmentBaseController:ei}),tn.setConfig({settings:le,playbackController:en,streamController:Bt,videoModel:En,timelineConverter:It,adapter:at}),en.setConfig({streamController:Bt,serviceDescriptionController:bt,dashMetrics:Wt,adapter:at,videoModel:En,timelineConverter:It,settings:le}),Zt.setConfig({streamController:Bt,playbackController:en,mediaPlayerModel:Se,videoModel:En,settings:le}),Ct.setConfig({streamController:Bt,domStorage:jn,mediaPlayerModel:Se,customParametersModel:ue,dashMetrics:Wt,adapter:at,videoModel:En,settings:le}),gn.setConfig({abrController:Ct,dashMetrics:Wt,playbackController:en}),wt.setConfig({adapter:at,errHandler:ge,dashMetrics:Wt,mediaPlayerModel:Se,manifestModel:dn,abrController:Ct,eventBus:pe,requestModifier:Object(x.default)(de).getInstance()}),Ct.initialize(),Bt.initialize(ut,qe),Kt.initialize(),tn.initialize(),Zt.initialize(),gn.initialize(),wt.initialize(),ei.initialize()}(),"string"==typeof Ze?Bt.load(Ze,Ut):Bt.loadWithManifest(Ze,Ut)),!yt&&Qe()&&(yt=!0,ke.info("Playback Initialized"))}return Ve={initialize:function rt(Ut,Ge,Xe){var Be=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;pt||(pt=Object(k.default)(de).getInstance()).setConfig({settings:le}),ge||(ge=Object(G.default)(de).getInstance()),pt.supportsMediaSource()?(He||(He=!0,It=Object(Me.default)(de).getInstance(),Ct||(Ct=Object(C.default)(de).getInstance()).setConfig({settings:le}),Ot||(Ot=Object(B.default)(de).getInstance()),en||(en=Object(L.default)(de).getInstance()),Gt||(Gt=Object(w.default)(de).getInstance()),Bt||(Bt=Object(S.default)(de).getInstance()),tn||(tn=Object(m.default)(de).getInstance()),Zt||(Zt=Object(h.default)(de).getInstance()),bt||(bt=Object(p.default)(de).getInstance()),wt||(wt=Object(v.default)(de).getInstance()),kt||(kt=Object(P.default)(de).getInstance()),at=Object(se.default)(de).getInstance(),dn=Object(T.default)(de).getInstance(),gn=Object(re.default)(de).getInstance(),Wt=Object(De.default)(de).getInstance({settings:le}),jn=Object(ae.default)(de).getInstance({settings:le}),at.setConfig({constants:R.default,cea608parser:E.a,errHandler:ge,BASE64:Ie.a}),it||(it=Object(V.default)(de).create()),it.setConfig({adapter:at}),bt.setConfig({adapter:at}),ei||(ei=Object(Ae.default)(de).getInstance({dashMetrics:Wt,mediaPlayerModel:Se,errHandler:ge,baseURLController:it,events:H.default,eventBus:pe,debug:Te,boxParser:Object(K.default)(de).getInstance(),requestModifier:Object(x.default)(de).getInstance(),errors:z.default})),Gt.setConfig({domStorage:jn,settings:le,customParametersModel:ue}),Se.setConfig({playbackController:en,serviceDescriptionController:bt}),yr(),rr(void 0===Xe||Xe),Ro()),Ut&&Pi(Ut),Ge&&Vo(Ge,Be),ke.info("[dash.js "+rn()+"] MediaPlayer has been initialized")):ge.error(new We.default(z.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,z.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function gt(Ut){Ut&&(Ut.capabilities&&(pt=Ut.capabilities),Ut.capabilitiesFilter&&(kt=Ut.capabilitiesFilter),Ut.streamController&&(Bt=Ut.streamController),Ut.textController&&(Kt=Ut.textController),Ut.gapController&&(tn=Ut.gapController),Ut.playbackController&&(en=Ut.playbackController),Ut.serviceDescriptionController&&(bt=Ut.serviceDescriptionController),Ut.contentSteeringController&&(wt=Ut.contentSteeringController),Ut.catchupController&&(Zt=Ut.catchupController),Ut.mediaPlayerModel&&(Se=Ut.mediaPlayerModel),Ut.customParametersModel&&(ue=Ut.customParametersModel),Ut.abrController&&(Ct=Ut.abrController),Ut.schemeLoaderFactory&&(Ot=Ut.schemeLoaderFactory),Ut.mediaController&&(Gt=Ut.mediaController),Ut.settings&&(le=Ut.settings))},on:function _t(Ut,Ge,Xe,Be){pe.on(Ut,Ge,Xe,Be)},off:function Pt(Ut,Ge,Xe){pe.off(Ut,Ge,Xe)},extend:function Yi(Ut,Ge,Xe){ne.default.extend(Ut,Ge,Xe,de)},attachView:Pi,attachSource:Vo,isReady:Qe,play:function xt(){if(!yt)throw te;(!ut||Rt()&&yt)&&en.play(!0)},isPaused:Rt,pause:function St(){if(!yt)throw te;en.pause()},isSeeking:function An(){if(!yt)throw te;return en.isSeeking()},isDynamic:st,getLowLatencyModeEnabled:function Yt(){if(!yt)throw te;return en.getLowLatencyModeEnabled()},seek:function $t(Ut){if(!yt)throw te;if(Object(Ue.checkParameterType)(Ut,"number"),isNaN(Ut))throw R.default.BAD_ARGUMENT_ERROR;Ut<0&&(Ut=0);var Ge=en.getIsDynamic()?Xi(Ut):Ut,Xe=Xn();!en.getIsDynamic()&&Xe.duration&&(Ge=Math.min(Xe.duration,Ge)),en.seek(Ge,!1,!1,!0)},seekToOriginalLive:function ln(){!yt||!st()||en.seekToOriginalLive()},setPlaybackRate:function ve(Ut){Xn().playbackRate=Ut},getPlaybackRate:function tt(){return Xn().playbackRate},setMute:function $e(Ut){Object(Ue.checkParameterType)(Ut,"boolean"),Xn().muted=Ut},isMuted:function vt(){return Xn().muted},setVolume:function jt(Ut){if("number"!=typeof Ut||isNaN(Ut)||Ut<0||Ut>1)throw R.default.BAD_ARGUMENT_ERROR;Xn().volume=Ut},getVolume:function Pn(){return Xn().volume},time:zr,duration:Io,timeAsUTC:function lo(){if(!yt)throw te;return zr()<0?NaN:Dc(zr())},durationAsUTC:function Oo(){if(!yt)throw te;return Dc(Io())},getActiveStream:ur,getDVRWindowSize:function Qi(){var Ut=Bt&&Bt.hasVideoTrack()?R.default.VIDEO:R.default.AUDIO,Ge=Wt.getCurrentDVRInfo(Ut);return Ge?Ge.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Xi,getTargetLiveDelay:function Ni(){if(!yt)throw te;return en.getOriginalLiveDelay()},convertToTimeCode:function Ms(Ut){Ut=Math.max(Ut,0);var Ge=Math.floor(Ut/3600),Xe=Math.floor(Ut%3600/60),Be=Math.floor(Ut%3600%60);return(0===Ge?"":Ge<10?"0"+Ge.toString()+":":Ge.toString()+":")+(Xe<10?"0"+Xe.toString():Xe.toString())+":"+(Be<10?"0"+Be.toString():Be.toString())},formatUTC:function co(Ut,Ge,Xe){var Be=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ft=new Date(1e3*Ut),Dt=ft.toLocaleDateString(Ge),Fn=ft.toLocaleTimeString(Ge,{hour12:Xe});return Be?Fn+" "+Dt:Fn},getVersion:rn,getDebug:function hn(){return Te},getBufferLength:function Di(Ut){var Ge=[R.default.VIDEO,R.default.AUDIO,R.default.TEXT];if(Ut)return-1!==Ge.indexOf(Ut)?on().getCurrentBufferLevel(Ut)||NaN:(ke.warn("getBufferLength requested for invalid type"),NaN);var Xe=Ge.map(function(ft){return $r(ft).length>0?on().getCurrentBufferLevel(ft):Number.MAX_VALUE}).reduce(function(ft,Dt){return Math.min(ft,Dt)});return Xe===Number.MAX_VALUE?NaN:Xe},getTTMLRenderingDiv:function Gi(){return En?En.getTTMLRenderingDiv():null},getVideoElement:Xn,getSource:function oa(){if(!Ze)throw"You must first call attachSource() with a valid source before calling this method";return Ze},updateSource:function Ba(Ut){Bt.load(Ze=Ut)},getCurrentLiveLatency:function ga(){if(!He)throw Q;return yt?en.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Zn(Ut){if(!ot)throw W;return Ct.getTopBitrateInfoFor(Ut)},setAutoPlay:rr,getAutoPlay:function na(){return ut},getDashMetrics:on,getQualityFor:function ji(Ut){if(!ot)throw W;if(Ut===R.default.IMAGE){var Ge=ur();if(!Ge)return-1;var Xe=Ge.getThumbnailController();return Xe?Xe.getCurrentTrackIndex():-1}return Ct.getQualityFor(Ut)},setQualityFor:function hr(Ut,Ge){var Xe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!ot)throw W;if(Ut===R.default.IMAGE){var Be=ur();if(!Be)return;var ft=Be.getThumbnailController();ft&&ft.setTrackByIndex(Ge)}Ct.setPlaybackQuality(Ut,Bt.getActiveStreamInfo(),Ge,{forceReplace:Xe})},updatePortalSize:function Lr(){Ct.setElementSize(),Ct.setWindowResizeEventCalled(!0)},enableText:function Sn(Ut){var Ge=Bt.getActiveStreamInfo();return!(!Ge||!Kt)&&Kt.enableText(Ge.id,Ut)},enableForcedTextStreaming:function Dn(Ut){return!(!Bt.getActiveStreamInfo()||!Kt)&&Kt.enableForcedTextStreaming(Ut)},isTextEnabled:function Kn(){var Ut=Bt.getActiveStreamInfo();return!(!Ut||!Kt)&&Kt.isTextEnabled(Ut)},setTextTrack:function ti(Ut){if(!yt)throw te;var Ge=Bt.getActiveStreamInfo();!Ge||!Kt||Kt.setTextTrack(Ge.id,Ut)},getBitrateInfoListFor:function Cs(Ut){if(!ot)throw W;var Ge=ur();return Ge?Ge.getBitrateListFor(Ut):[]},getStreamsFromManifest:function Zr(Ut){if(!ot)throw W;return at.getStreamsInfo(Ut)},getTracksFor:$r,getTracksForTypeFromManifest:function Uo(Ut,Ge,Xe){if(!ot)throw W;return(Xe=Xe||at.getStreamsInfo(Ge,1)[0])?at.getAllMediaInfoForType(Xe,Ut,Ge):[]},getCurrentTrackFor:function _a(Ut){if(!ot)throw W;var Ge=Bt.getActiveStreamInfo();return Gt.getCurrentTrackFor(Ut,Ge.id)},setInitialMediaSettingsFor:function mi(Ut,Ge){if(!He)throw Q;Gt.setInitialSettings(Ut,Ge)},getInitialMediaSettingsFor:function Tc(Ut){if(!He)throw Q;return Gt.getInitialSettings(Ut)},setCurrentTrack:function Ss(Ut){if(!ot)throw W;Gt.setTrack(Ut)},addABRCustomRule:function kr(Ut,Ge,Xe){ue.addAbrCustomRule(Ut,Ge,Xe)},removeABRCustomRule:function ka(Ut){ue.removeAbrCustomRule(Ut)},removeAllABRCustomRule:function as(){ue.removeAllAbrCustomRule()},getABRCustomRules:function Oi(){return ue.getAbrCustomRules()},getAverageThroughput:function jr(Ut){var Ge=Ct.getThroughputHistory(),Xe=en.getIsDynamic();return Ge?Ge.getAverageThroughput(Ut,Xe):0},retrieveManifest:function or(Ut,Ge){var Xe=ss(),Be=this;pe.on(H.default.INTERNAL_MANIFEST_LOADED,function Dt(Fn){Fn.error?Ge(null,Fn.error):Ge(Fn.manifest),pe.off(H.default.INTERNAL_MANIFEST_LOADED,Dt,Be),Xe.reset()},Be),Vn.initialize(Ut),Xe.load(Ut)},addUTCTimingSource:function Un(Ut,Ge){ue.addUTCTimingSource(Ut,Ge)},removeUTCTimingSource:function Qn(Ut,Ge){ue.removeUTCTimingSource(Ut,Ge)},clearDefaultUTCTimingSources:function xi(){ue.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:yr,setXHRWithCredentialsForType:function er(Ut,Ge){ue.setXHRWithCredentialsForType(Ut,Ge)},getXHRWithCredentialsForType:function Mr(Ut){return ue.getXHRWithCredentialsForType(Ut)},getProtectionController:function Ar(){return uo()},attachProtectionController:function Fa(Ut){Xt=Ut},setProtectionData:function Po(Ut){qe=Ut,Bt&&Bt.setProtectionData(qe)},registerLicenseRequestFilter:function ra(Ut){ue.registerLicenseRequestFilter(Ut)},registerLicenseResponseFilter:function Hi(Ut){ue.registerLicenseResponseFilter(Ut)},unregisterLicenseRequestFilter:function Cc(Ut){ue.unregisterLicenseRequestFilter(Ut)},unregisterLicenseResponseFilter:function mr(Ut){ue.unregisterLicenseResponseFilter(Ut)},registerCustomCapabilitiesFilter:function bl(Ut){ue.registerCustomCapabilitiesFilter(Ut)},unregisterCustomCapabilitiesFilter:function Br(Ut){ue.unregisterCustomCapabilitiesFilter(Ut)},setCustomInitialTrackSelectionFunction:function ia(Ut){ue.setCustomInitialTrackSelectionFunction(Ut)},resetCustomInitialTrackSelectionFunction:function qr(){ue.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function tr(Ut){if(!En.getElement())throw X;En.setTTMLRenderingDiv(Ut)},attachVttRenderingDiv:function Fr(Ut){if(!En.getElement())throw X;En.setVttRenderingDiv(Ut)},getCurrentTextTrackIndex:function ui(){var Ge=Bt.getActiveStreamInfo();if(Ge&&Kt)return Kt.getCurrentTrackIdx(Ge.id)},provideThumbnail:function br(Ut,Ge){if("function"==typeof Ge){if(Ut<0)return void Ge(null);var Xe=en.getIsDynamic()?Xi(Ut):Ut,Be=Bt.getStreamForTime(Xe);if(null===Be)return void Ge(null);var ft=Be.getThumbnailController();return ft?ft.provide(Xe,Ge):void Ge(null)}},getDashAdapter:function Sc(){return at},getOfflineController:function At(){return Ro()},triggerSteeringRequest:function yo(){if(wt)return wt.loadSteeringData()},getCurrentSteeringResponseData:function ya(){if(wt)return wt.getCurrentSteeringResponseData()},getSettings:function Ds(){return le.get()},updateSettings:function xs(Ut){le.update(Ut)},resetSettings:function va(){le.reset()},reset:Vt,destroy:function je(){Vt(),ne.default.deleteSingletonInstances(de)}},function _i(){ke=Te.getLogger(Ve),He=!1,yt=!1,ot=!1,ut=!0,Xt=null,nt=null,qe=null,at=null,ei=null,H.default.extend(me.default),Se=Object(N.default)(de).getInstance(),ue=Object(he.default)(de).getInstance(),En=Object(Y.default)(de).getInstance(),Vn=Object(I.default)(de).getInstance()}(),Ve}q.__dashjs_factory_name="MediaPlayer";var $=ne.default.getClassFactory(q);$.events=me.default,$.errors=z.default,ne.default.updateClassFactory(q.__dashjs_factory_name,$),M.default=$},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}e.r(M);var k=new(function(P){m(I,P);var x=p(I);function I(){var T;return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),(T=x.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(e(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));M.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var b,R=function E(){var h,m="application/dash+xml";function p(V,O,G){if(!V||!/^VIDEO$/i.test(V.nodeName))return null;if(V._dashjs_player)return V._dashjs_player;var k,P=V.id||V.name||"video element";if(!(O=O||[].slice.call(V.querySelectorAll("source")).filter(function(x){return x.type==m})[0])&&V.src)(O=document.createElement("source")).src=V.src;else if(!O&&!V.src)return null;return G=G||{},(k=Object(y.default)(G).create()).initialize(V,O.src,V.autoplay),h||(h=k.getDebug().getLogger()),h.debug("Converted "+P+" to dash.js player and added content: "+O.src),V._dashjs_player=k,k}function w(V){return/^VIDEO$/i.test(V.nodeName)?V:w(V.parentNode)}return{create:p,createAll:function v(V,O){var G=[];V=V||"[data-dashjs-player]";for(var k=(O=O||document).querySelectorAll(V),P=0;P<k.length;P++){var x=p(k[P],null);G.push(x)}for(var I=O.querySelectorAll('source[type="'+m+'"]'),T=0;T<I.length;T++){var C=p(w(I[T]),null);G.push(C)}return G}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?R.createAll():b=window.setInterval(function L(){window.dashjs&&(window.clearInterval(b),R.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),R.createAll()})),M.default=R},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=e(
/*! ../core/Settings */
"./src/core/Settings.js"),L=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),S=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=e(
/*! ../core/events/Events */
"./src/core/events/Events.js");function w(O){var I,T,N,C,B,Y,G=this.context,k=Object(F.default)(G).getInstance(),P=O.textController,x=O.eventBus,re=[],ae=[],Oe=!1,z=O.mediaSource,oe=null;function ne(te){return new Promise(function(X){W(function(){C.changeType&&C.changeType(te),X()})})}function Ae(te){return C=P.getTextSourceBuffer(te),Promise.resolve()}function se(){if("function"==typeof C.addEventListener)try{C.addEventListener("updateend",he,!1),C.addEventListener("error",q,!1),C.addEventListener("abort",q,!1)}catch{Y=setInterval(he,50)}else Y=setInterval(he,50)}function _e(te){return new Promise(function(X){C&&k.get().streaming.buffer.useAppendWindow?W(function(){try{if(!C)return void X();var J=z.duration,Q=0;te&&!isNaN(te.start)&&!isNaN(te.duration)&&isFinite(te.duration)&&(J=te.start+te.duration),te&&!isNaN(te.start)&&(Q=te.start),(C.appendWindowEnd!==J||C.appendWindowStart!==Q)&&(C.appendWindowStart=0,C.appendWindowEnd=J+.01,C.appendWindowStart=Math.max(Q-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(C.appendWindowStart," and end to ").concat(C.appendWindowEnd))),X()}catch{N.warn("Failed to set append window"),X()}}):X()})}function Le(te){return new Promise(function(X){C?W(function(){try{C.timestampOffset!==te&&!isNaN(te)&&(C.timestampOffset=te,N.debug("Set MSE timestamp offset to ".concat(te))),X()}catch{X()}}):X()})}function be(){if(!Oe&&ae.length>0){Oe=!0;var te=ae[0];ae.splice(0,1);var X=function(){Oe=!1,ae.length>0&&be.call(this),te&&te.data&&te.data.segmentType&&te.data.segmentType!==S.HTTPRequest.INIT_SEGMENT_TYPE&&delete te.data.bytes,te.promise.resolve({chunk:te.data})};try{oe=te.request,0===te.data.bytes.byteLength?X.call(this):(C.appendBuffer?C.appendBuffer(te.data.bytes):C.append(te.data.bytes,te.data),W(X.bind(this)))}catch(J){N.fatal('SourceBuffer append failed "'+J+'"'),ae.length>0?be():Oe=!1,delete te.data.bytes,te.promise.reject({chunk:te.data,error:new E.default(J.code,J.message)})}}}function ie(){re.length>0&&!C.updating&&(re.shift()(),ie())}function he(){C.updating||ie()}function q(te){!function $(te,X){x.trigger(te,X||{},{streamId:B.streamInfo.id,mediaType:T})}(m.default.SOURCE_BUFFER_ERROR,{error:te.target||{},lastRequestAppended:oe})}function W(te){re.push(te),C.updating||ie()}return I={getType:function De(){return T},getAllBufferRanges:function Fe(){try{return C.buffered}catch(te){return N.error("getAllBufferRanges exception: "+te.message),null}},getBuffer:function we(){return C},append:function We(te){var X=this,J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(Q,de){te?(ae.push({data:te,promise:{resolve:Q,reject:de},request:J}),W(be.bind(X))):de({chunk:te,error:new E.default(b.default.APPEND_ERROR_CODE,b.default.APPEND_ERROR_MESSAGE)})})},remove:function xe(te){return new Promise(function(X,J){var Q=te.start,de=te.end;Q>=0&&de>Q?W(function(){try{C.remove(Q,de),W(function(){X({from:Q,to:de,unintended:!1}),te.resolve&&te.resolve()})}catch(pe){J({from:Q,to:de,unintended:!1,error:new E.default(b.default.REMOVE_ERROR_CODE,b.default.REMOVE_ERROR_MESSAGE)}),te.reject&&te.reject(pe)}}):X()})},abort:function K(){return new Promise(function(te){try{ae=[],"open"===z.readyState?W(function(){try{C&&C.abort(),te()}catch{te()}}):(C&&C.setTextTrack&&"ended"===z.readyState&&C.abort(),te())}catch{te()}})},reset:function Ie(){if(C){try{re=[],function Me(){try{"function"==typeof C.removeEventListener&&(C.removeEventListener("updateend",he,!1),C.removeEventListener("error",q,!1),C.removeEventListener("abort",q,!1)),clearInterval(Y)}catch(te){N.error(te)}}(),Oe=!1,ae=[],(!C.getClassName||"TextSourceBuffer"!==C.getClassName())&&(N.debug("Removing sourcebuffer from media source"),z.removeSourceBuffer(C))}catch{}C=null}oe=null},updateTimestampOffset:Le,initializeForStreamSwitch:function me(te,X,J){T=(B=te).type;var Q=B.codec;(function fe(te){C=te.getBuffer()})(J),se();var de=[];return de.push(function Ue(){return new Promise(function(te){W(function(){var X=C.appendWindowStart,J=C.appendWindowEnd;C&&(C.abort(),C.appendWindowStart=X,C.appendWindowEnd=J),te()})})}()),de.push(_e(B.streamInfo)),de.push(ne(Q)),X&&void 0!==X.MSETimeOffset&&de.push(Le(X.MSETimeOffset)),Promise.all(de)},initializeForFirstUse:function Ee(te,X,J){T=(B=X).type;var Q=B.codec;try{if(Q.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ae(te);C=z.addSourceBuffer(Q),se();var de=[];return de.push(_e(B.streamInfo)),J&&void 0!==J.MSETimeOffset&&de.push(Le(J.MSETimeOffset)),Promise.all(de)}catch(pe){return B.type==L.default.TEXT&&!B.isFragmented||-1!==Q.indexOf('codecs="stpp')||-1!==Q.indexOf('codecs="vtt')?Ae(te):Promise.reject(pe)}},updateAppendWindow:_e,changeType:ne},function H(){N=Object(y.default)(G).getInstance().getLogger(I)}(),I}w.__dashjs_factory_name="SourceBufferSink";var V=R.default.getClassFactory(w);M.default=V},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),R=e(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),b=e(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=e(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),S=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../core/Debug */
"./src/core/Debug.js"),h=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),p=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),V=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),O=e(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),G=[y.default.VIDEO,y.default.AUDIO,y.default.TEXT,y.default.MUXED,y.default.IMAGE];function k(P){P=P||{};var Me,_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,he,q,$,W,te,X,x=this.context,I=Object(L.default)(x).getInstance(),T=Object(V.default)(x).getInstance(),N=P.manifestModel,C=P.mediaPlayerModel,B=P.dashMetrics,Y=P.manifestUpdater,re=P.adapter,ae=P.timelineConverter,Oe=P.capabilities,z=P.errHandler,oe=P.abrController,H=P.playbackController,me=P.eventController,ne=P.mediaController,fe=P.protectionController,Ee=P.textController,Ae=P.videoModel,se=P.streamInfo,De=P.settings;function He(St,Rt){return new Promise(function($t,ln){Bt(),be=!0,wt();var An=Ae.getElement();G.forEach(function(st){(st!==y.default.VIDEO||!An||An&&/^VIDEO$/i.test(An.nodeName))&&function ot(St,Rt){var st,$t=re.getAllMediaInfoForType(se,St),ln=[],An=null;if($t&&0!==$t.length){St===y.default.VIDEO&&(We=!0),St===y.default.AUDIO&&(Ue=!0);for(var Yt=0,ve=$t.length;Yt<ve;Yt++)An=$t[Yt],St===y.default.TEXT&&An.isEmbedded&&(Ee.addEmbeddedTrack(se,An),ln.push(An)),yt(An)&&ne.addTrack(An);if(ln.length>0&&(ne.setInitialMediaSettingsForType(St,se),Ee.addMediaInfosToBuffer(se,St,ln)),0!==($t=$t.filter(function($e){return!$e.isEmbedded})).length){if(St===y.default.IMAGE)return void(ie=Object(F.default)(x).create({streamInfo:se,adapter:re,baseURLController:P.baseURLController,timelineConverter:P.timelineConverter,debug:W,eventBus:I,events:S.default,dashConstants:E.default,dashMetrics:P.dashMetrics,segmentBaseController:P.segmentBaseController})).initialize();I.trigger(S.default.STREAM_INITIALIZING,{streamInfo:se,mediaInfo:An}),ne.setInitialMediaSettingsForType(St,se);var tt=function ut(St,Rt){var $t=St&&St.length>0?St[0]:null,ln=K.getModel($t?$t.type:null),An=$t?$t.type:null,st=$t?$t.mimeType:null,Yt=$t?$t.isFragmented:null,ve=Object(R.default)(x).create({streamInfo:se,type:An,mimeType:st,timelineConverter:ae,adapter:re,manifestModel:N,mediaPlayerModel:C,fragmentModel:ln,dashMetrics:P.dashMetrics,baseURLController:P.baseURLController,segmentBaseController:P.segmentBaseController,abrController:oe,playbackController:H,mediaController:ne,textController:Ee,errHandler:z,settings:De,boxParser:$,segmentBlacklistController:he});ve.initialize(Rt,We,Yt),Le.push(ve);for(var tt=0;tt<St.length;tt++)ve.addMediaInfo(St[tt]);return An===y.default.TEXT&&Ee.addMediaInfosToBuffer(se,An,St,ln),ve}($t,Rt);(st=ne.getCurrentTrackFor(St,se.id))&&(oe.updateTopQualityIndex(st),tt.selectMediaInfo(St===y.default.TEXT&&st.isEmbedded?$t[0]:st))}}else _e.info("No "+St+" data.")}(st,St)}),function Ct(St){return new Promise(function(Rt){var $t={},ln=Le.map(function(An){return An.createBufferSinks(St)});Promise.all(ln).then(function(An){An.forEach(function(st){st&&($t[st.getType()]=st)}),Rt($t)}).catch(function(){Rt($t)})})}(Rt).then(function(st){if(be=!1,0===Le.length){var Yt="No streams to play.";z.error(new v.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Yt,N.getValue())),_e.fatal(Yt)}else Zt();Ee.createTracks(se),$t(st)}).catch(function(st){ln(st)})})}function yt(St){var Rt=St?St.type:null;return Rt===y.default.MUXED?(_e.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),z.error(new v.default(h.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(Rt!==y.default.TEXT&&Rt!==y.default.IMAGE&&St.contentProtection&&!Oe.supportsEncryptedMedia()&&(z.error(new v.default(h.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,h.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Ot(St){for(var Rt=Le?Le.length:0,ln=0;ln<Rt;ln++){var An=Le[ln].getFragmentModel();An.abortRequests(),An.resetInitialSettings(),Le[ln].reset(false,St)}Ee&&Ee.deactivateStream(se),Le=[],we=!1,Fe=!1,Pt(!1),at(!1),I.trigger(S.default.STREAM_DEACTIVATED,{streamInfo:se})}function Xt(St){Ot(St),Ie=!1,We=!1,Ue=!1,xe={},be=!1,te=!1,X=[]}function at(St){te=St}function Se(){return se?se.start:NaN}function ue(){return se?se.id:null}function ge(){return se}function Bt(){if(!Ae||!oe)throw new Error(y.default.MISSING_CONFIG_ERROR)}function tn(St){St.error&&(z.error(St.error),_e.fatal(St.error.message))}function wt(){if(me){var St=re.getEventsFor(se);St&&St.length>0&&me.addInlineEvents(St,se.id)}}function Zt(){for(var St=Le.length,$t=xe.audio||xe.video?new v.default(h.default.DATA_UPDATE_FAILED_ERROR_CODE,h.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,ln=0;ln<St;ln++)if(Le[ln].isUpdating()||be)return;if(fe){fe.clearMediaInfoArray();for(var An=0;An<St&&Le[An];An++){var st=Le[An].getType(),Yt=Le[An].getMediaInfo();if(st===y.default.AUDIO||st===y.default.VIDEO||st===y.default.TEXT&&Yt.isFragmented){var ve=Le[An].getMediaInfo();ve&&fe.initializeForMedia(ve)}}fe.handleKeySystemFromManifest()}$t?z.error($t):Ie||(Ie=!0,Ae.waitForReadyState(y.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(S.default.STREAM_INITIALIZED,{streamInfo:se})}))}function dn(){var St=ei(),Rt=St.length;if(0!==Rt){for(var $t=0;$t<Rt;$t++)if(!St[$t].isBufferingCompleted()&&(St[$t].getType()===y.default.AUDIO||St[$t].getType()===y.default.VIDEO))return void _e.debug("onBufferingCompleted - One streamProcessor has finished but",St[$t].getType(),"one is not buffering completed");_e.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Fe=!0,I.trigger(S.default.STREAM_BUFFERING_COMPLETED,{streamInfo:se},{streamInfo:se})}else _e.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function gn(St){xe[St.mediaType]=St.error,Zt()}function En(St){me&&me.addInbandEvents(St.events,se.id)}function Vn(St){return St&&St.type?jn(St.type):null}function jn(St){return St?ei().filter(function($t){return $t.getType()===St})[0]:null}function ei(){for(var Rt,$t,St=[],ln=0;ln<Le.length;ln++)((Rt=($t=Le[ln]).getType())===y.default.AUDIO||Rt===y.default.VIDEO||Rt===y.default.TEXT)&&St.push($t);return St}function je(St,Rt){var $t=ge(),ln=Rt.getStreamInfo();if(!ln||!$t)return!0;var An=re.getAdaptationForType(ln.index,St,ln),st=re.getAdaptationForType($t.index,St,$t);return An&&st?!(!Qe(st)&&Qe(An)):!An&&!st}function Qe(St){return!!St&&!!(St.ContentProtection||St.Representation&&St.Representation.length>0&&St.Representation[0].ContentProtection)}function _t(St,Rt){var $t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!St||!St.hasOwnProperty("getStreamInfo"))return!1;var ln=St.getStreamInfo(),An=$t?$t.getStreamInfo():ge();if(!ln||!An)return!1;var st=re.getAdaptationForType(ln.index,Rt,ln),Yt=re.getAdaptationForType(An.index,Rt,An);if(!st||!Yt)return!st&&!Yt;var ve=st&&Yt&&st.mimeType===Yt.mimeType,tt=Yt.Representation_asArray.map(function(Pn){return Pn.codecs}),$e=st.Representation_asArray.map(function(Pn){return Pn.codecs}),vt=$e.some(function(Pn){return tt.indexOf(Pn)>-1}),jt=$e.some(function(Pn){return tt.some(function(Di){return Oe.codecRootCompatibleWithCodec(Di,Pn)})});return vt||jt&&ve}function Pt(St){q=St}function rn(){return q}return Me={initialize:function Q(){(function de(){I.on(S.default.BUFFERING_COMPLETED,dn,Me),I.on(S.default.DATA_UPDATE_COMPLETED,gn,Me),I.on(S.default.INBAND_EVENTS,En,Me)})(),function le(){fe&&(I.on(S.default.KEY_ERROR,tn,Me),I.on(S.default.SERVER_CERTIFICATE_UPDATED,tn,Me),I.on(S.default.LICENSE_REQUEST_COMPLETE,tn,Me),I.on(S.default.KEY_SYSTEM_SELECTED,tn,Me),I.on(S.default.KEY_SESSION_CREATED,tn,Me),I.on(S.default.KEY_STATUSES_CHANGED,tn,Me))}(),Ee.initializeForStream(se),I.trigger(S.default.STREAM_UPDATED,{streamInfo:se})},getStreamId:function Ve(){return se?se.id:null},activate:function ke(St,Rt){return new Promise(function($t,ln){if(!we)return rn()?(we=!0,I.trigger(S.default.STREAM_ACTIVATED,{streamInfo:se}),void $t(Rt)):void function Ze(St,Rt){return He(St,Rt)}(St,Rt).then(function(An){we=!0,I.trigger(S.default.STREAM_ACTIVATED,{streamInfo:se}),$t(An)}).catch(function(An){ln(An)});$t(Rt)})},deactivate:Ot,getIsActive:function It(){return we},getDuration:function Rn(){return se?se.duration:NaN},getStartTime:Se,getId:ue,getStreamInfo:ge,getHasAudioTrack:function it(){return Ue},getHasVideoTrack:function pt(){return We},startPreloading:function qe(St,Rt){return new Promise(function($t,ln){rn()?ln():(_e.info("[startPreloading] Preloading next stream with id ".concat(ue())),Pt(!0),He(St,Rt).then(function(){for(var An=0;An<Le.length&&Le[An];An++)Le[An].setExplicitBufferingTime(Se()),Le[An].getScheduleController().startScheduleTimer();$t()}).catch(function(){Pt(!1),ln()}))})},getThumbnailController:function kt(){return ie},getBitrateListFor:function Kt(St){if(Bt(),St===y.default.IMAGE)return ie?ie.getBitrateList():[];var Rt=function Wt(St){for(var Rt=null,$t=0;$t<Le.length;$t++)if((Rt=Le[$t]).getType()===St)return Rt.getMediaInfo();return null}(St);return oe.getBitrateList(Rt)},updateData:function gt(St){return new Promise(function(Rt){be=!0,se=St,me&&wt();for(var $t=[],ln=0,An=Le.length;ln<An;ln++){var st=Le[ln],Yt=st.getMediaInfo();$t.push(st.updateStreamInfo(se));var ve=re.getAllMediaInfoForType(se,st.getType());if(ve){st.clearMediaInfoArray();for(var tt=0;tt<ve.length;tt++){var $e=ve[tt];st.addMediaInfo(ve[tt]),re.areMediaInfosEqual(Yt,$e)&&(oe.updateTopQualityIndex($e),$t.push(st.selectMediaInfo($e)))}}}Promise.all($t).then(function(){for($t=[];X.length>0;){var vt=X.pop(),jt=vt.newMediaInfo,Pn=Vn(vt.oldMediaInfo);if(!Pn)return;$t.push(Pn.prepareTrackSwitch()),Pn.selectMediaInfo(jt)}return Promise.all($t)}).then(function(){be=!1,Zt(),I.trigger(S.default.STREAM_UPDATED,{streamInfo:se}),Rt()})})},reset:function cn(St){K&&(K.reset(),K=null),oe&&se&&oe.clearDataForStream(se.id),he&&(he.reset(),he=null),Xt(St),se=null,function pe(){I.off(S.default.DATA_UPDATE_COMPLETED,gn,Me),I.off(S.default.BUFFERING_COMPLETED,dn,Me),I.off(S.default.INBAND_EVENTS,En,Me)}(),function Te(){fe&&(I.off(S.default.KEY_ERROR,tn,Me),I.off(S.default.SERVER_CERTIFICATE_UPDATED,tn,Me),I.off(S.default.LICENSE_REQUEST_COMPLETE,tn,Me),I.off(S.default.KEY_SYSTEM_SELECTED,tn,Me),I.off(S.default.KEY_SESSION_CREATED,tn,Me),I.off(S.default.KEY_STATUSES_CHANGED,tn,Me))}()},getProcessors:ei,setMediaSource:function Gt(St){for(var Rt=0;Rt<Le.length;)yt(Le[Rt].getMediaInfo())?(Le[Rt].setMediaSource(St),Rt++):(Le[Rt].reset(),Le.splice(Rt,1));if(0===Le.length){var $t="No streams to play.";z.error(new v.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,$t+"nostreams",N.getValue())),_e.fatal($t)}},isMediaCodecCompatible:function rt(St){var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _t(St,y.default.VIDEO,Rt)&&_t(St,y.default.AUDIO,Rt)},isProtectionCompatible:function Vt(St){return!St||je(y.default.VIDEO,St)&&je(y.default.AUDIO,St)},getPreloaded:rn,getIsEndedEventSignaled:function nt(){return te},setIsEndedEventSignaled:at,getAdapter:function xt(){return re},getHasFinishedBuffering:function hn(){return Fe},setPreloaded:Pt,startScheduleControllers:function _i(){for(var St=Le.length,Rt=0;Rt<St&&Le[Rt];Rt++)Le[Rt].getScheduleController().startScheduleTimer()},prepareTrackChange:function en(St){if(we&&se){Fe=!1;var Rt=St.newMediaInfo,$t=N.getValue();re.setCurrentMediaInfo(se.id,Rt.type,Rt);var ln=Vn(Rt);if(ln){var An=H.getTime();_e.info("Stream -  Process track changed at current time "+An),$t.refreshManifestOnSwitchTrack?(X.push(St),Y.getIsUpdating()||(_e.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):ln.selectMediaInfo(Rt).then(function(){(Rt.type===y.default.VIDEO||Rt.type===y.default.AUDIO)&&oe.updateTopQualityIndex(Rt),ln.prepareTrackSwitch()})}}},prepareQualityChange:function bt(St){var Rt=jn(St.mediaType);Rt&&Rt.prepareQualityChange(St)}},function J(){try{W=Object(m.default)(x).getInstance(),_e=W.getLogger(Me),Xt(),$=Object(w.default)(x).getInstance(),he=Object(O.default)(x).create({updateEventName:S.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:S.default.SEGMENT_LOCATION_BLACKLIST_ADD}),K=Object(b.default)(x).create({streamInfo:se,mediaPlayerModel:C,dashMetrics:B,errHandler:z,settings:De,boxParser:$,dashConstants:E.default,urlUtils:T})}catch(St){throw St}}(),Me}k.__dashjs_factory_name="Stream",M.default=p.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),R=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=e(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=e(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),S=e(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),m=e(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),h=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),v=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),V=e(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),O=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),G=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=e(
/*! ../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),x=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),I=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=e(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=e(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),C=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var We,Ue,xe,be,K,ie,he,q,$,W,te,X,J,re=this.context,ae=Object(v.default)(re).getInstance(),Oe=Y.streamInfo,z=Y.type,oe=Y.errHandler,H=Y.mimeType,me=Y.timelineConverter,ne=Y.adapter,fe=Y.manifestModel,Ee=Y.mediaPlayerModel,Ae=Y.fragmentModel,se=Y.abrController,De=Y.playbackController,Me=Y.mediaController,_e=Y.textController,Le=Y.dashMetrics,Ie=Y.settings,we=Y.boxParser,Fe=Y.segmentBlacklistController;function pe(){return Oe.id}function le(){return z}function Te(){return ne.getIsTextTrack(q.getData())}function Ve(){K=[],be=null,J=0,$=!1,W=!1}function ot(st){var Yt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(st.sender){if(De.getIsManifestUpdateInProgress())return void Gt();if((!Te()||_e.isTextEnabled())&&ie&&st.representationId&&!ie.appendInitSegmentFromCache(st.representationId)){var ve=q.getCurrentRepresentation();if(0===ve.range)return void yt();var tt=te?te.getInitRequest(be,ve):null;tt?Ae.executeRequest(tt):Yt&&(he.setInitSegmentRequired(!0),Gt())}}}function yt(st){var Yt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(De.getIsManifestUpdateInProgress()||ie.getIsPruningInProgress())Gt();else{var ve=function It(){var Yt,st=rt();if(isNaN(J)||le()===y.default.TEXT&&!_e.isTextEnabled())return null;var ve=$;if(te){var tt=q&&st?q.getRepresentationForQuality(st.quality):null;Yt=ve?te.getSegmentRequestForTime(be,tt,J):te.getNextSegmentRequest(be,tt)}return Yt}();ve?($=!1,function ut(st){isNaN(st.startTime+st.duration)||(J=st.startTime+st.duration),st.delayLoadingTime=(new Date).getTime()+he.getTimeToLoadDelay(),he.setTimeToLoadDelay(0),function Ot(st){var Yt=st.url;return st.range&&(Yt=Yt.concat("_",st.range)),Fe.contains(Yt)}(st)?(Ue.warn("Fragment request url ".concat(st.url," for stream id ").concat(Oe.id," and media type ").concat(z," is on the ignore list and will be skipped")),Gt()):(Ue.debug("Next fragment request url for stream id ".concat(Oe.id," and media type ").concat(z," is ").concat(st.url)),Ae.executeRequest(st))}(ve)):function Ct(st){var ve,Yt=q.getCurrentRepresentation();if(!Ie.get().streaming.gaps.enableSeekFix||!$&&0!==De.getTime()||(xe?xe&&Yt.segmentInfoType===E.default.SEGMENT_TIMELINE&&(ve=te.getValidTimeAheadOfTargetTime(J,be,Yt,Ie.get().streaming.gaps.threshold)):ve=te.getValidTimeAheadOfTargetTime(J,be,Yt,Ie.get().streaming.gaps.threshold),isNaN(ve)||ve===J)){if(te.isLastSegmentRequested(Yt,J)){var $e=te.getCurrentIndex();return Ue.debug("Segment requesting for stream ".concat(Oe.id," has finished")),ae.trigger(w.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:$e},{streamId:Oe.id,mediaType:z}),ie.segmentRequestingCompleted($e),void he.clearScheduleTimer()}st&&Gt()}else De.isSeeking()||0===De.getTime()?(Ue.warn("Adjusting playback time ".concat(ve," because of gap in the manifest. Seeking by ").concat(ve-J)),De.seek(ve,!1,!1)):(Ue.warn("Adjusting buffering time ".concat(ve," because of gap in the manifest. Adjusting time by ").concat(ve-J)),ln(ve),st&&Gt())}(Yt)}}function Gt(){he.startScheduleTimer(De.getLowLatencyModeEnabled()?Ie.get().streaming.scheduling.lowLatencyTimeout:Ie.get().streaming.scheduling.defaultTimeout)}function Xt(st){st.error||(he.setCurrentRepresentation(ne.convertRepresentationToRepresentationInfo(st.currentRepresentation)),ie.getIsBufferingCompleted()||ie.updateBufferTimestampOffset(st.currentRepresentation))}function cn(st){Le.addBufferState(z,st.state,he.getBufferTarget()),st.state===R.default.BUFFER_EMPTY&&!De.isSeeking()&&(Ue.info("Buffer is empty! Stalling!"),Le.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function Rn(st){Ae.syncExecutedRequestsWithBufferedRange(ie.getBuffer().getAllBufferRanges(),Oe.duration),st.quotaExceeded&&st.from>De.getTime()&&ln(st.from),st.hasEnoughSpaceToAppend&&st.quotaExceeded&&he.startScheduleTimer()}function nt(st){if(st&&st.lastRequestAppended&&st.lastRequestAppended.url){var Yt=st.lastRequestAppended.url;st.lastRequestAppended.range&&(Yt=Yt.concat("_",st.lastRequestAppended.range)),Ue.warn("Blacklisting segment with url ".concat(Yt)),Fe.add(Yt)}}function ge(){St(),W=!1}function it(st){Ue.info("onFragmentLoadingAbandoned request: "+st.request.url+" has been aborted"),!De.isSeeking()&&!he.getSwitchStrack()&&!W&&(Ue.info("onFragmentLoadingAbandoned request: "+st.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),st.request&&st.request.isInitializationRequest()?he.setInitSegmentRequired(!0):ln(st.request.startTime+st.request.duration/2),he.startScheduleTimer(0))}function pt(st){Ue.info("OnFragmentLoadingCompleted for stream id "+Oe.id+" and media type "+z+" - Url:",st.request?st.request.url:"undefined",st.request.range?", Range:"+st.request.range:""),Te()&&he.startScheduleTimer(0),st.error&&st.request.serviceLocation&&function kt(st){Ue.info("Fragment loading completed with an error"),st&&st.request&&st.request.type&&(st.request.type===C.HTTPRequest.INIT_SEGMENT_TYPE?ot({representationId:st.request.representationId,sender:{}},!1):st.request.type===C.HTTPRequest.MEDIA_SEGMENT_TYPE&&(ln(st.request.startTime+st.request.duration/2),yt({},!1)))}(st)}function Bt(){ln(De.getTime()),gt().startScheduleTimer()}function Kt(st){var Yt=st.currentTrackInfo;if(Yt){var ve=K.find(function(tt){return tt.index===Yt.index&&tt.lang===Yt.lang});ve&&gn(ve).then(function(){ie.setIsBufferingCompleted(!1),ln(De.getTime()),he.setInitSegmentRequired(!0),he.startScheduleTimer()})}}function tn(st){ln(st.quotaExceededTime),he.clearScheduleTimer()}function bt(){return ie?ie.getBuffer():null}function gn(st){st!==be&&(!st||!be||st.type===be.type)&&(be=st);var Yt=ne.getRealAdaptation(Oe,be),ve=ne.getVoRepresentations(be);if(q){var jt,tt=q.getData(),$e=se.getMaxAllowedIndexFor(z,Oe.id),vt=se.getMinAllowedIndexFor(z,Oe.id),Di=null;return null!==tt&&tt.id===Yt.id||z===y.default.TEXT?jt=se.getQualityFor(z,Oe.id):(Di=se.getThroughputHistory().getAverageThroughput(z,xe)||se.getInitialBitrateFor(z,Oe.id),jt=se.getQualityForBitrate(be,Di,Oe.id)),void 0!==vt&&jt<vt&&(jt=vt),jt>$e&&(jt=$e),q.updateData(Yt,ve,z,be.isFragmented,jt)}return Promise.resolve()}function gt(){return he}function rt(st){var Yt;return void 0!==st?(Object(p.checkInteger)(st),Yt=q?q.getRepresentationForQuality(st):null):Yt=q?q.getCurrentRepresentation():null,ne.convertRepresentationToRepresentationInfo(Yt)}function Vt(){return!!ie&&ie.getIsBufferingCompleted()}function _t(st){var Yt=st.chunk,ve=Yt.bytes,tt=Yt.quality,$e=rt(tt),vt=q&&$e?q.getRepresentationForQuality($e.quality):null;if($e&&vt){var jt=ne.getEventsFor($e.mediaInfo,null,Oe),Pn=ne.getEventsFor($e,vt,Oe);if(jt&&jt.length>0||Pn&&Pn.length>0){var Qi=function Pt(st,Yt,ve,tt){try{for(var $e={},vt=[],jt=ve.concat(tt),Pn=0,Di=jt.length;Pn<Di;Pn++)$e[jt[Pn].schemeIdUri+"/"+jt[Pn].value]=jt[Pn];var Qi=Object(I.default)(re).getInstance().parse(st),Xi=Qi.getBoxes("emsg");if(!Xi||0===Xi.length)return vt;for(var Ni=Qi.getBox("sidx"),zr=!Ni||isNaN(Ni.earliest_presentation_time)||isNaN(Ni.timescale)?Yt&&!isNaN(Yt.mediaStartTime)?Yt.mediaStartTime:0:Ni.earliest_presentation_time/Ni.timescale,Io=Math.max(zr,0),lo=q.getCurrentRepresentation(),Oo=0,Zn=Xi.length;Oo<Zn;Oo++){var ji=ne.getEvent(Xi[Oo],$e,Io,lo);ji&&vt.push(ji)}return vt}catch{return[]}}(ve,Ae.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,quality:tt,index:Yt.index})[0],jt,Pn);ae.trigger(w.default.INBAND_EVENTS,{events:Qi},{streamId:Oe.id})}}}function xt(){var st=De.getTime();Ie.get().streaming.buffer.flushBufferAtTrackSwitch&&De.seek(st+.001,!1,!0),ln(st),ie.setSeekTarget(st),he.startScheduleTimer()}function St(){var st=De.getTime(),Yt=ie.getContinuousBufferTimeForTargetTime(st);ln(isNaN(Yt)?st:Yt),he.startScheduleTimer()}function $t(st){st&&!isNaN(st.time)&&(ln(st.time),ie.setSeekTarget(st.time))}function ln(st){J=st,$=!0}return We={initialize:function de(st,Yt,ve){X=Object(N.default)(re).create({events:w.default,eventBus:ae,streamInfo:Oe,timelineConverter:me,dashConstants:E.default,segmentBaseController:Y.segmentBaseController,type:z}),(te=Object(V.default)(re).create({streamInfo:Oe,type:z,timelineConverter:me,dashMetrics:Le,mediaPlayerModel:Ee,baseURLController:Y.baseURLController,errHandler:oe,segmentsController:X,settings:Ie,boxParser:we,events:w.default,eventBus:ae,errors:O.default,debug:Object(k.default)(re).getInstance(),requestModifier:Object(P.default)(re).getInstance(),dashConstants:E.default,constants:y.default,urlUtils:Object(x.default)(re).getInstance()})).initialize(xe=Oe.manifestInfo.isDynamic),se.registerStreamType(z,We),q=Object(m.default)(re).create({streamInfo:Oe,type:z,abrController:se,dashMetrics:Le,playbackController:De,timelineConverter:me,dashConstants:E.default,events:w.default,eventBus:ae,errors:O.default,isDynamic:xe,segmentsController:X}),(ie=function Rt(st,Yt){return st?st!==y.default.TEXT||Yt?Object(F.default)(re).create({streamInfo:Oe,type:st,mediaPlayerModel:Ee,manifestModel:fe,fragmentModel:Ae,errHandler:oe,mediaController:Me,representationController:q,adapter:ne,textController:_e,abrController:se,playbackController:De,settings:Ie}):Object(L.default)(re).create({streamInfo:Oe,type:st,mimeType:H,fragmentModel:Ae,textController:_e,errHandler:oe,settings:Ie}):(oe.error(new G.default(O.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,O.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(z,ve))&&ie.initialize(st),(he=Object(S.default)(re).create({streamInfo:Oe,type:z,mimeType:H,adapter:ne,dashMetrics:Le,mediaPlayerModel:Ee,fragmentModel:Ae,abrController:se,playbackController:De,textController:_e,mediaController:Me,bufferController:ie,settings:Ie})).initialize(Yt),J=0,$=!1},getStreamId:pe,getType:le,isUpdating:function Ze(){return!!q&&q.isUpdating()},getBufferController:function wt(){return ie},getFragmentModel:function Zt(){return Ae},getScheduleController:gt,getRepresentationController:function en(){return q},getRepresentationInfo:rt,getBufferLevel:function je(){return ie?ie.getBufferLevel():0},isBufferingCompleted:Vt,createBufferSinks:function rn(st){var Yt=bt();return Yt?Promise.resolve(Yt):ie?ie.createBufferSink(be,st):Promise.resolve(null)},updateStreamInfo:function Wt(st){return Oe=st,Vt()?Promise.resolve():ie.updateAppendWindow()},getStreamInfo:function dn(){return Oe},selectMediaInfo:gn,clearMediaInfoArray:function Vn(){K=[]},addMediaInfo:function En(st){-1===K.indexOf(st)&&K.push(st)},prepareTrackSwitch:function hn(){return new Promise(function(st){Ue.debug("Preparing track switch for type ".concat(z));var Yt=z===y.default.TEXT||Ie.get().streaming.trackSwitchMode[z]===y.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&De.getTimeToStreamEnd(Oe)>Ie.get().streaming.buffer.stallThreshold;if(ie.getIsBufferingCompleted()&&!Yt)return ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){ae.trigger(w.default.BUFFERING_COMPLETED,{},{streamId:Oe.id,mediaType:z})}).catch(function(){ae.trigger(w.default.BUFFERING_COMPLETED,{},{streamId:Oe.id,mediaType:z})}),void st();he.clearScheduleTimer(),he.setSwitchTrack(!0),Yt?(ae.trigger(w.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Oe.id},{mediaType:z,streamId:Oe.id}),Ae.abortRequests(),ie.prepareForReplacementTrackSwitch(be.codec).then(function(){var ve=rt();return ie.updateBufferTimestampOffset(ve)}).then(function(){xt(),st()}).catch(function(){xt(),st()})):ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){St(),st()}).catch(function(){St(),st()})})},prepareQualityChange:function at(st){Ue.debug("Preparing quality switch for type ".concat(z));var Yt=st.newQuality;W=!0,he.clearScheduleTimer();var ve=rt(Yt);he.setCurrentRepresentation(ve),q.prepareQualityChange(Yt),Ae.abortRequests(),ie.updateBufferTimestampOffset(ve).then(function(){st.reason&&st.reason.forceReplace?function Se(){ae.trigger(w.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Oe.id},{mediaType:z,streamId:Oe.id}),ie.prepareForReplacementQualitySwitch().then(function(){xt(),W=!1}).catch(function(){xt(),W=!1})}():Ie.get().streaming.buffer.fastSwitchEnabled?function ue(st){var Yt=De.getTime(),ve=1.5*(isNaN(st.fragmentDuration)?1:st.fragmentDuration),tt=Ae.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:Yt+ve,threshold:0})[0];if(tt&&!Te()){var $e=ie.getBufferLevel(),vt=se.getAbandonmentStateFor(Oe.id,z);tt.quality<st.quality&&$e>=ve&&vt!==R.default.ABANDON_LOAD?(ln(Yt+ve),he.setCheckPlaybackQuality(!1),he.startScheduleTimer()):ge()}else he.startScheduleTimer();W=!1}(ve):ge(),Le.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Le.createPlaylistTraceMetrics(ve.id,1e3*De.getTime(),De.getPlaybackRate())})},getMediaInfo:function jn(){return be},getMediaSource:function ei(){return ie.getMediaSource()},setMediaSource:function _i(st){ie.setMediaSource(st)},getBuffer:bt,setExplicitBufferingTime:ln,finalisePlayList:function An(st,Yt){Le.pushPlayListTraceMetrics(st,Yt)},probeNextRequest:function Qe(){var st=rt(),Yt=q&&st?q.getRepresentationForQuality(st.quality):null;return te.getNextSegmentRequestIdempotent(be,Yt)},prepareInnerPeriodPlaybackSeeking:function qe(st){return new Promise(function(Yt){if(ie.hasBufferAtTime(st.seekTime))return ie.pruneBuffer(),void Yt();he.clearScheduleTimer(),Ae.abortRequests(),ie.prepareForPlaybackSeek().then(function(){var tt=ie.getAllRangesWithSafetyFactor(st.seekTime);return ie.clearBuffers(tt)}).then(function(){var tt=ie.getContinuousBufferTimeForTargetTime(st.seekTime);if(!isNaN(tt)&&!isNaN(Oe.duration)&&isFinite(Oe.duration)&&tt>=Oe.start+Oe.duration)ie.setIsBufferingCompleted(!0),Yt();else{var $e=isNaN(tt)?st.seekTime:tt;ln($e),ie.setSeekTarget($e);var vt=[];vt.push(ie.updateAppendWindow());var jt=rt();vt.push(ie.updateBufferTimestampOffset(jt)),Promise.all(vt).then(function(){he.setInitSegmentRequired(!0),he.setCheckPlaybackQuality(!1),he.startScheduleTimer(),Yt()})}}).catch(function(tt){Ue.error(tt)})})},prepareOuterPeriodPlaybackSeeking:function He(){return new Promise(function(st,Yt){try{he.clearScheduleTimer(),Ae.abortRequests(),ie.prepareForPlaybackSeek().then(function(){return ie.pruneAllSafely()}).then(function(){st()})}catch(ve){Yt(ve)}})},reset:function ke(st,Yt){te&&te.reset(),ie&&(ie.reset(st,Yt),ie=null),he&&(he.reset(),he=null),q&&(q.reset(),q=null),X&&(X=null),se&&se.unRegisterStreamType(pe(),z),ae.off(w.default.DATA_UPDATE_COMPLETED,Xt,We),ae.off(w.default.INIT_FRAGMENT_NEEDED,ot,We),ae.off(w.default.MEDIA_FRAGMENT_NEEDED,yt,We),ae.off(w.default.MEDIA_FRAGMENT_LOADED,_t,We),ae.off(w.default.BUFFER_LEVEL_STATE_CHANGED,cn,We),ae.off(w.default.BUFFER_CLEARED,Rn,We),ae.off(w.default.SEEK_TARGET,$t,We),ae.off(w.default.FRAGMENT_LOADING_ABANDONED,it,We),ae.off(w.default.FRAGMENT_LOADING_COMPLETED,pt,We),ae.off(w.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Bt,We),ae.off(w.default.SET_NON_FRAGMENTED_TEXT,Kt,We),ae.off(w.default.QUOTA_EXCEEDED,tn,We),ae.off(w.default.SOURCE_BUFFER_ERROR,nt,We),Ve(),z=null,Oe=null}},function Q(){Ue=Object(k.default)(re).getInstance().getLogger(We),Ve(),ae.on(w.default.DATA_UPDATE_COMPLETED,Xt,We,{priority:v.default.EVENT_PRIORITY_HIGH}),ae.on(w.default.INIT_FRAGMENT_NEEDED,ot,We),ae.on(w.default.MEDIA_FRAGMENT_NEEDED,yt,We),ae.on(w.default.MEDIA_FRAGMENT_LOADED,_t,We),ae.on(w.default.BUFFER_LEVEL_STATE_CHANGED,cn,We),ae.on(w.default.BUFFER_CLEARED,Rn,We),ae.on(w.default.SEEK_TARGET,$t,We),ae.on(w.default.FRAGMENT_LOADING_ABANDONED,it,We),ae.on(w.default.FRAGMENT_LOADING_COMPLETED,pt,We),ae.on(w.default.QUOTA_EXCEEDED,tn,We),ae.on(w.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Bt,We),ae.on(w.default.SET_NON_FRAGMENTED_TEXT,Kt,We),ae.on(w.default.SOURCE_BUFFER_ERROR,nt,We)}(),We}B.__dashjs_factory_name="StreamProcessor",M.default=h.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),R=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function h(p){p=p||{};var w=this.context,V=Object(F.default)(w).getInstance(),O=Object(E.default)(w).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,errors:m.default});return{load:function k(x,I,T){var N=function(Y,re){I.resolved=!0,I.resolvedContent=Y||null,V.trigger(L.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:T,error:Y||re?null:new y.default(m.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,m.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+x)})};if("urn:mpeg:dash:resolve-to-zero:2013"===x)N(null,!0);else{var C=new b.default(x,R.HTTPRequest.XLINK_EXPANSION_TYPE);O.load({request:C,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function P(){O&&(O.abort(),O=null)}}}h.__dashjs_factory_name="XlinkLoader",M.default=S.default.getClassFactory(h)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M),M.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function F(h){var p=function L(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M);var m=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),h}());M.default=m},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function F(h){var p=function L(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M);var m=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),h}());M.default=m},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function F(h){var p=function L(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M);var m=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),h}());M.default=m},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),E=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),S=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=e(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),p=e(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=e(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),w=e(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),V=e(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),O=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),G=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var ae,Oe,z,oe,H,me,ne,fe,Ee,Ae,se,De,Me,_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,he,q,B=this.context,Y=Object(O.default)(B).getInstance(),re=Object(L.default)(B).getInstance();function Q(){H={},me={},fe={},ne={},We={},be={},K={},ie={},void 0===Ae&&(Ae=!1),Ue&&Ue.reset(),Fe=void 0,Ue=void 0,xe=void 0,clearTimeout(Ee),Ee=null}function Te(bt){var wt=bt.request.mediaType,Zt=bt.streamId;if(wt&&Zt&&ne[Zt]&&q.get().streaming.abr.autoSwitchBitrate[wt]){var Wt=ne[Zt][wt];if(Wt){var dn=Object(h.default)(B).create({abrController:ae,streamProcessor:Wt,currentRequest:bt.request,useBufferOccupancyABR:be[wt],useL2AABR:K[wt],useLoLPABR:ie[wt],videoModel:_e}),gn=z.shouldAbandonFragment(dn,Zt);gn.quality>p.default.NO_CHANGE&&Wt.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:bt.request.index})[0]&&(fe[Zt][wt].state=R.default.ABANDON_LOAD,We[Zt][wt].reset(),We[Zt][wt].push({oldValue:Xt(wt,Zt),newValue:gn.quality,confidence:1,reason:gn.reason}),cn(wt,oe.getActiveStreamInfo(),gn.quality,gn.reason),clearTimeout(Ee),Ee=setTimeout(function(){fe[Zt][wt].state=R.default.ALLOW_LOAD,Ee=null},q.get().streaming.abandonLoadTimeout))}}}function Ve(bt){bt.mediaType===E.default.VIDEO&&(void 0!==Fe&&Ue.push(bt.streamId,Fe,_e.getPlaybackQuality()),Fe=bt.newQuality)}function ke(bt){bt.metric===R.default.HTTP_REQUEST&&bt.value&&bt.value.type===G.HTTPRequest.MEDIA_SEGMENT_TYPE&&(bt.mediaType===E.default.AUDIO||bt.mediaType===E.default.VIDEO)&&xe.push(bt.mediaType,bt.value,q.get().streaming.abr.useDeadTimeLatency),bt.metric===R.default.BUFFER_LEVEL&&(bt.mediaType===E.default.AUDIO||bt.mediaType===E.default.VIDEO)&&function ge(bt,wt){q.get().streaming.abr.ABRStrategy===E.default.ABR_STRATEGY_DYNAMIC&&function it(bt,wt){try{var Zt=Le.getStableBufferTime(),gn=be[bt],En=wt>(gn?.5*Zt:Zt);be[bt]=En,En!==gn&&Oe.info(En?"["+bt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+wt.toFixed(3)+").":"["+bt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+wt.toFixed(3)+").")}catch(Vn){Oe.error(Vn)}}(bt,wt)}(bt.mediaType,.001*bt.value.level)}function Ze(bt,wt){try{return H[wt]=H[wt]||{},H[wt].hasOwnProperty(bt)||(H[wt][bt]=0),function Ct(bt,wt,Zt){if(wt!==E.default.VIDEO||!q.get().streaming.abr.limitBitrateByPortal||!ne[Zt]||!ne[Zt][wt])return bt;Ae||tn();var Wt=ne[Zt][wt].getStreamInfo(),dn=Me.getAdaptationForType(Wt.index,wt,Wt).Representation_asArray,gn=bt;if(se>0&&De>0){for(;gn>0&&dn[gn]&&se<dn[gn].width&&se-dn[gn-1].width<dn[gn].width-se;)gn-=1;for(;gn<dn.length-1&&dn[gn].width===dn[gn+1].width;)gn+=1}return gn}(function ut(bt,wt,Zt){var Wt=H[Zt][wt],dn=q.get().streaming.abr.maxRepresentationRatio[wt];return isNaN(dn)||dn>=1||dn<0?bt:Math.min(bt,Math.round(Wt*dn))}(function yt(bt,wt){var Zt=H[wt][bt],Wt=Zt;if(!ne[wt]||!ne[wt][bt])return Wt;var dn=qe(bt,wt);void 0!==dn&&(Wt=Math.max(Zt,dn));var gn=function He(bt,wt){try{var Zt=Le.getAbrBitrateParameter("maxBitrate",bt);return Zt>-1?Se(ne[wt][bt].getMediaInfo(),Zt,wt):void 0}catch{return}}(bt,wt);return void 0!==gn&&(Wt=Math.min(Wt,gn)),Wt}(bt,wt),bt,wt),bt,wt)}catch{return}}function qe(bt,wt){try{return function ot(bt,wt){try{var Zt=Le.getAbrBitrateParameter("minBitrate",bt);if(Zt>-1){var Wt=ne[wt][bt].getMediaInfo(),dn=ue(Wt),gn=Se(Wt,Zt,wt);return dn[gn]&&gn<dn.length-1&&dn[gn].bitrate<1e3*Zt&&gn++,gn}return}catch{return}}(bt,wt)}catch{return}}function Xt(bt){var wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return wt||(wt=oe.getActiveStreamInfo().id),bt&&ne[wt]&&ne[wt][bt]&&wt?(me[wt]=me[wt]||{},me[wt].hasOwnProperty(bt)||(me[wt][bt]=0),me[wt][bt]):0}catch{return 0}}function cn(bt,wt,Zt){var Wt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(wt&&wt.id&&bt){var dn=wt.id,gn=Xt(bt,dn);Object(k.checkInteger)(Zt);var En=Ze(bt,dn);Zt!==gn&&Zt>=0&&Zt<=En&&nt(bt,gn,Zt,En,Wt,dn)}}function nt(bt,wt,Zt,Wt,dn,gn){if(bt&&ne[gn]&&ne[gn][bt]){var En=ne[gn][bt].getStreamInfo(),Vn=En&&En.manifestInfo&&En.manifestInfo.isDynamic,jn=he.getCurrentBufferLevel(bt);Oe.info("Stream ID: "+gn+" ["+bt+"] switch from "+wt+" to "+Zt+"/"+Wt+" (buffer: "+jn+") "+(dn?JSON.stringify(dn):".")),me[gn]=me[gn]||{},me[gn][bt]=Zt;var ei=function at(bt,wt,Zt){if(wt&&ne&&ne[bt]&&ne[bt][wt]){var Wt=ue(ne[bt][wt].getMediaInfo());return Wt[Zt]?Wt[Zt]:null}return null}(gn,bt,Zt);re.trigger(S.default.QUALITY_CHANGE_REQUESTED,{oldQuality:wt,newQuality:Zt,reason:dn,streamInfo:En,bitrateInfo:ei,maxIdx:Wt,mediaType:bt},{streamId:En.id,mediaType:bt});var _i=xe.getAverageThroughput(bt,Vn);isNaN(_i)||we.setSavedBitrateSettings(bt,_i)}}function Se(bt,wt,Zt){var Wt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,dn=bt&&bt.type?ne[Zt][bt.type].getRepresentationInfo():null;if(q.get().streaming.abr.useDeadTimeLatency&&Wt&&dn&&dn.fragmentDuration){var gn=dn.fragmentDuration;if((Wt/=1e3)>gn)return 0;wt*=1-Wt/gn}for(var Vn=ue(bt),jn=Vn.length-1;jn>=0;jn--)if(1e3*wt>=Vn[jn].bitrate)return jn;return 0}function ue(bt){var wt=[];if(!bt||!bt.bitrateList)return wt;for(var dn,Zt=bt.bitrateList,Wt=bt.type,gn=0,En=Zt.length;gn<En;gn++)(dn=new b.default).mediaType=Wt,dn.qualityIndex=gn,dn.bitrate=Zt[gn].bandwidth,dn.width=Zt[gn].width,dn.height=Zt[gn].height,dn.scanType=Zt[gn].scanType,wt.push(dn);return wt}function tn(){if(_e){var wt=q.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;se=_e.getClientWidth()*wt,De=_e.getClientHeight()*wt}}return ae={initialize:function W(){Ue=Object(w.default)(B).create(),xe=Object(V.default)(B).create({settings:q}),(z=Object(y.default)(B).create({dashMetrics:he,customParametersModel:Ie,mediaPlayerModel:Le,settings:q})).initialize(),re.on(P.default.QUALITY_CHANGE_RENDERED,Ve,ae),re.on(P.default.METRIC_ADDED,ke,ae),re.on(S.default.LOADING_PROGRESS,Te,ae)},isPlayingAtTopQuality:function Bt(bt){var wt=bt?bt.id:null,Zt=Xt(E.default.AUDIO,wt),Wt=Xt(E.default.VIDEO,wt);return Zt===Ze(E.default.AUDIO,wt)&&Wt===Ze(E.default.VIDEO,wt)},updateTopQualityIndex:function kt(bt){var wt=bt.type,Zt=bt.streamInfo.id,Wt=bt.representationCount-1;return H[Zt]=H[Zt]||{},H[Zt][wt]=Wt,Wt},clearDataForStream:function en(bt){Ue&&Ue.clearForStream(bt),ne[bt]&&delete ne[bt],We[bt]&&delete We[bt],fe[bt]&&delete fe[bt]},getThroughputHistory:function pt(){return xe},getBitrateList:ue,getQualityForBitrate:Se,getTopBitrateInfoFor:function Ot(bt){var wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(wt||(wt=oe.getActiveStreamInfo().id),bt&&ne&&ne[wt]&&ne[wt][bt]){var Zt=Ze(bt,wt),Wt=ue(ne[wt][bt].getMediaInfo());return Wt[Zt]?Wt[Zt]:null}return null},getMinAllowedIndexFor:qe,getMaxAllowedIndexFor:Ze,getInitialBitrateFor:function It(bt,wt){if(function le(){if(!we||!we.hasOwnProperty("getSavedBitrateSettings"))throw new Error(E.default.MISSING_CONFIG_ERROR)}(),bt===E.default.TEXT)return NaN;var Zt=we.getSavedBitrateSettings(bt),Wt=Le.getAbrBitrateParameter("initialBitrate",bt),dn=q.get().streaming.abr.initialRepresentationRatio[bt];if(-1===Wt)if(dn>-1){var gn=ne[wt][bt].getStreamInfo(),En=Me.getAdaptationForType(gn.index,bt,gn).Representation_asArray;Wt=Array.isArray(En)?En[Math.max(Math.round(En.length*dn)-1,0)].bandwidth/1e3:0}else Wt=isNaN(Zt)?bt===E.default.VIDEO?1e3:100:Zt;return Wt},getQualityFor:Xt,getAbandonmentStateFor:function Rn(bt,wt){return fe[bt]&&fe[bt][wt]?fe[bt][wt].state:null},setPlaybackQuality:cn,checkPlaybackQuality:function Gt(bt,wt){try{if(!(bt&&ne&&ne[wt]&&ne[wt][bt]))return!1;if(Ue){var Zt=_e.getPlaybackQuality();Zt&&Ue.push(wt,Fe,Zt)}if(!q.get().streaming.abr.autoSwitchBitrate[bt])return!1;var Wt=Xt(bt,wt),dn=Object(h.default)(B).create({abrController:ae,switchHistory:We[wt][bt],droppedFramesHistory:Ue,streamProcessor:ne[wt][bt],currentValue:Wt,useBufferOccupancyABR:be[bt],useL2AABR:K[bt],useLoLPABR:ie[bt],videoModel:_e}),gn=qe(bt,wt),En=Ze(bt,wt),Vn=z.getMaxQuality(dn),jn=Vn.quality;return void 0!==gn&&(jn>p.default.NO_CHANGE?jn:Wt)<gn&&(jn=gn),jn>En&&(jn=En),We[wt][bt].push({oldValue:Wt,newValue:jn}),jn>p.default.NO_CHANGE&&jn!==Wt&&(fe[wt][bt].state===R.default.ALLOW_LOAD||jn<Wt)&&(nt(bt,Wt,jn,En,Vn.reason,wt),!0)}catch{return!1}},setElementSize:tn,setWindowResizeEventCalled:function Kt(bt){Ae=bt},registerStreamType:function te(bt,wt){var Zt=wt.getStreamInfo().id;ne[Zt]||(ne[Zt]={}),We[Zt]||(We[Zt]={}),fe[Zt]||(fe[Zt]={}),We[Zt][bt]=Object(v.default)(B).create(),ne[Zt][bt]=wt,fe[Zt][bt]={},fe[Zt][bt].state=R.default.ALLOW_LOAD,function X(bt){var wt=q.get().streaming.abr.ABRStrategy;wt===E.default.ABR_STRATEGY_L2A?(be[bt]=!1,ie[bt]=!1,K[bt]=!0):wt===E.default.ABR_STRATEGY_LoLP?(be[bt]=!1,ie[bt]=!0,K[bt]=!1):wt===E.default.ABR_STRATEGY_BOLA?(be[bt]=!0,ie[bt]=!1,K[bt]=!1):wt===E.default.ABR_STRATEGY_THROUGHPUT?(be[bt]=!1,ie[bt]=!1,K[bt]=!1):wt===E.default.ABR_STRATEGY_DYNAMIC&&(be[bt]=!(!be||!be[bt])&&be[bt],ie[bt]=!1,K[bt]=!1)}(bt),bt===E.default.VIDEO&&tn()},unRegisterStreamType:function J(bt,wt){try{ne[bt]&&ne[bt][wt]&&delete ne[bt][wt],We[bt]&&We[bt][wt]&&delete We[bt][wt],fe[bt]&&fe[bt][wt]&&delete fe[bt][wt]}catch{}},setConfig:function pe(bt){bt&&(bt.streamController&&(oe=bt.streamController),bt.domStorage&&(we=bt.domStorage),bt.mediaPlayerModel&&(Le=bt.mediaPlayerModel),bt.customParametersModel&&(Ie=bt.customParametersModel),bt.dashMetrics&&(he=bt.dashMetrics),bt.adapter&&(Me=bt.adapter),bt.videoModel&&(_e=bt.videoModel),bt.settings&&(q=bt.settings))},reset:function de(){Q(),re.off(S.default.LOADING_PROGRESS,Te,ae),re.off(P.default.QUALITY_CHANGE_RENDERED,Ve,ae),re.off(P.default.METRIC_ADDED,ke,ae),z&&z.reset()}},function $(){Oe=Y.getLogger(ae),Q()}(),ae}N.__dashjs_factory_name="AbrController";var C=m.default.getSingletonFactory(N);C.QUALITY_DEFAULT=0,m.default.updateSingletonFactory(N.__dashjs_factory_name,C),M.default=C},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),E=e(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),R=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),b=e(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),S=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function m(){var h,p,O,G,v=this.context,w=Object(L.default)(v).getInstance(),V=Object(R.default)(v).getInstance();function k(B){O.invalidateSelectedIndexes(B.entry)}return h={reset:function N(){O.reset(),G.reset()},initialize:function C(B){O.setConfig({adapter:p}),function I(B){O.update(B),G.chooseSelector(p.getIsDVB(B))}(B)},resolve:function T(B){var re=O.getForPath(B).reduce(function(ae,Oe){var z=G.select(Oe);return z?(V.isRelative(z.url)?ae.url=V.resolve(z.url,ae.url):(ae.url=z.url,ae.serviceLocation=z.serviceLocation),ae.availabilityTimeOffset=z.availabilityTimeOffset,ae.availabilityTimeComplete=z.availabilityTimeComplete,ae):new b.default},new b.default);if(!V.isRelative(re.url))return re},setConfig:function x(B){B.baseURLTreeModel&&(O=B.baseURLTreeModel),B.baseURLSelector&&(G=B.baseURLSelector),B.adapter&&(p=B.adapter)}},function P(){O=Object(y.default)(v).create(),G=Object(E.default)(v).create(),w.on(S.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,h)}(),h}m.__dashjs_factory_name="BaseURLController",M.default=F.default.getClassFactory(m)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function R(b){b=b||{};var F,L=[],S=Object(E.default)(this.context).getInstance(),m=b.updateEventName,h=b.addBlacklistEventName;function v(G){-1===L.indexOf(G)&&(L.push(G),S.trigger(m,{entry:G}))}function w(G){v(G.entry)}return F={add:v,contains:function p(G){return!!(L.length&&G&&G.length)&&-1!==L.indexOf(G)},reset:function O(){L=[]}},function V(){h&&S.on(h,w,F)}(),F}R.__dashjs_factory_name="BlackListController",M.default=y.default.getClassFactory(R)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),R=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),p=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),w=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),V=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),G=.01,P="BufferController";function x(I){I=I||{};var ne,fe,Ee,Ae,se,De,Me,_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,T=this.context,N=Object(F.default)(T).getInstance(),C=I.errHandler,B=I.fragmentModel,Y=I.representationController,re=I.adapter,ae=I.textController,Oe=I.abrController,z=I.playbackController,oe=I.streamInfo,H=I.type,me=I.settings;function X(xt){De=xt}function J(xt){return re.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(xt))}function pe(xt){me.get().streaming.cacheInitSegments&&(fe.info("Init fragment finished loading saving to",H+"'s init cache"),xe.save(xt.chunk)),fe.debug("Append Init fragment",H," with representationId:",xt.chunk.representationId," and quality:",xt.chunk.quality,", data size:",xt.chunk.bytes.byteLength),Ve(xt.chunk)}function Te(xt){Ve(xt.chunk,xt.request)}function Ve(xt){Le.append(xt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Rt){Ze(Rt)}).catch(function(Rt){Ze(Rt)}),xt.mediaInfo.type===y.default.VIDEO&&Pt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:xt})}function ke(xt){if(xt&&xt.length>0)for(var St=0,Rt=xt.length;St<Rt;St++)fe.debug("Buffered range: "+xt.start(St)+" - "+xt.end(St)+", currentTime = ",z.getTime())}function Ze(xt){if(xt.error)return 22===xt.error.code&&function He(){if(Ue=!0,se=.8*Vt(),fe.warn("Quota exceeded, Critical Buffer: "+se),se>0){var xt=Math.max(.2*se,1),St=se-xt,Rt=Math.min(me.get().streaming.buffer.bufferTimeAtTopQuality,.9*St),$t=Math.min(me.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*St),ln={streaming:{buffer:{bufferToKeep:parseFloat(xt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Rt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat($t.toFixed(5))}}};me.update(ln)}}(),void((22===xt.error.code||!Qe())&&(fe.warn("Clearing playback buffer to overcome quota exceed situation"),Pt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:se,quotaExceededTime:xt.chunk.start}),tn(Kt())));if(Le&&(ge(),Ue=!1,(we=xt.chunk)&&we.endFragment)){we&&!isNaN(we.index)&&(Me=Math.max(we.index,Me),it());var St=Le.getAllBufferRanges();we.segmentType===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&(ke(St),cn(),function qe(){if(!isNaN(ie)){if(H!==y.default.AUDIO&&H!==y.default.VIDEO)return void(ie=NaN);var xt=z.getTime(),St=Se(xt,0),Rt=Se(ie,0);if(St&&Rt&&St.start===Rt.start)return void(ie=NaN);var $t=Y.getCurrentRepresentation().segmentDuration,ln=Se(ie,$t);ln&&(me.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(xt-ie)>$t?ie<=ln.end&&z.seek(Math.max(ie,ln.start),!1,!0):xt<ln.start&&z.seek(ln.start,!1,!0))}}()),we&&Pt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:we.quality,startTime:we.start,index:we.index,bufferedRanges:St,segmentType:we.segmentType,mediaType:H})}}function Ot(){return new Promise(function(xt,St){var Rt=It();if(!Rt||0===Rt.length)return cn(),void xt();tn(Rt).then(function(){xt()}).catch(function($t){St($t)})})}function It(xt){var St=[],Rt=Le.getAllBufferRanges();if(!Rt||0===Rt.length)return St;if(!xt&&0!==xt||isNaN(xt))St.push({start:Rt.start(0),end:Rt.end(Rt.length-1)+.5});else{var $t=function Gt(xt,St){var Rt=me.get().streaming.buffer.bufferToKeep,$t=St.start(0);if(xt-$t>Rt){var An=Math.max(0,xt-Rt),st=B.getRequests({state:R.default.FRAGMENT_MODEL_EXECUTED,time:xt,threshold:G})[0];if(st&&(An=Math.min(st.startTime,An)),An>0)return{start:$t,end:An}}return null}(xt,Rt),ln=function Xt(xt,St){var Rt=St.end(St.length-1)+.5,$t=je(xt),An=oe.manifestInfo.duration>=me.get().streaming.buffer.longFormContentDurationThreshold?me.get().streaming.buffer.bufferTimeAtTopQualityLongForm:me.get().streaming.buffer.bufferTimeAtTopQuality,st=isNaN($t)?xt:Math.min($t,xt+An);if(st>=St.end(St.length-1))return null;var Yt=B.getRequests({state:R.default.FRAGMENT_MODEL_EXECUTED,time:xt,threshold:G})[0];if(Yt&&(st=Math.max(Yt.startTime+Yt.duration,st)),me.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var tt=0;tt<St.length;tt++)if(St.start(tt)<=xt&&xt<=St.end(tt)&&St.start(tt)<=st&&st<=St.end(tt)){var $e=st;st=tt+1<St.length?St.start(tt+1):St.end(tt)+1,fe.debug("Buffered range ["+St.start(tt)+", "+St.end(tt)+"] overlaps with targetTime "+xt+" and range to be pruned ["+$e+", "+Rt+"], using ["+st+", "+Rt+"] instead"+(st<Rt?"":" (no actual pruning)"));break}return st<St.end(St.length-1)?{start:st,end:Rt}:null}(xt,Rt);$t&&St.push($t),ln&&St.push(ln)}return St}function cn(){(!K||H===y.default.TEXT&&ae.isTextEnabled())&&ge()}function Rn(){pt()}function nt(){pt(),ie=NaN}function Se(xt,St){var ve,tt,Rt=Le.getAllBufferRanges(),$t=0,ln=0,An=null,st=null,Yt=0,$e=isNaN(St)?.15:St;if(null!=Rt){for(tt=0,ve=Rt.length;tt<ve;tt++)if($t=Rt.start(tt),ln=Rt.end(tt),null===An)Yt=Math.abs($t-xt),(xt>=$t&&xt<ln||Yt<=$e)&&(An=$t,st=ln);else{if(!((Yt=$t-st)<=$e))break;st=ln}if(null!==An)return{start:An,end:st}}return null}function ge(){if(z){var xt=me.get().streaming.gaps.jumpGaps&&!isNaN(me.get().streaming.gaps.smallGapLimit)?me.get().streaming.gaps.smallGapLimit:NaN;Ae=Math.max(function ue(xt,St){var Rt;return me.get().streaming.gaps.jumpGaps&&(St=me.get().streaming.gaps.smallGapLimit),null===(Rt=Se(xt,St))?0:Rt.end-xt}(z.getTime()||0,xt),0),Pt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:H,bufferLevel:Ae}),pt()}}function it(){var xt=Me>=_e-1,St=z.getTimeToStreamEnd(oe)-Ae<1e-5;(xt||St)&&!Ee&&(gt(!0),fe.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(oe.id," and type ").concat(H)))}function pt(){H!==y.default.AUDIO&&H!==y.default.VIDEO||((!z.getLowLatencyModeEnabled()&&Ae<me.get().streaming.buffer.stallThreshold||0===Ae)&&!Ee?kt(E.default.BUFFER_EMPTY):(Ee||Ae>=me.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&Ae>0)&&kt(E.default.BUFFER_LOADED))}function kt(xt){Ie===xt||xt===E.default.BUFFER_EMPTY&&0===z.getTime()||H===y.default.TEXT&&!ae.isTextEnabled()||(Ie=xt,Pt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:xt}),Pt(xt===E.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),fe.debug(xt===E.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Bt(){!Le||H===y.default.TEXT||Ee||tn(Kt())}function Kt(){var xt=[],St=Le.getAllBufferRanges();if(!St||0===St.length)return xt;var Rt=z.getTime(),$t=Math.max(0,Rt-me.get().streaming.buffer.bufferToKeep),ln=B.getRequests({state:R.default.FRAGMENT_MODEL_EXECUTED,time:Rt,threshold:G})[0];if(ln)$t=Math.min(ln.startTime,$t);else if(0===Rt&&z.getIsDynamic())return[];if(St.start(0)<=$t){for(var An={start:0,end:$t},st=0;st<St.length&&St.end(st)<=$t;st++)An.end=St.end(st);An.start<An.end&&xt.push(An)}return xt}function tn(xt){return new Promise(function(St,Rt){if(xt&&Le&&0!==xt.length){var $t=[];xt.forEach(function(ln){$t.push(function en(xt){return new Promise(function(St,Rt){xt.resolve=St,xt.reject=Rt,be.push(xt)})}(ln))}),We||bt(),Promise.all($t).then(function(){St()}).catch(function(ln){Rt(ln)})}else St()})}function bt(){try{if(0===be.length||!Le)return fe.debug("Nothing to prune, halt pruning"),be=[],void(We=!1);var xt=Le.getBuffer();if(!xt||!xt.buffered||0===xt.buffered.length)return fe.debug("SourceBuffer is empty (or does not exist), halt pruning"),be=[],void(We=!1);var St=be.shift();fe.debug("".concat(H,": Removing buffer from: ").concat(St.start," to ").concat(St.end)),We=!0,z.getTime()<St.end&&gt(!1),Le.remove(St).then(function($t){wt($t)}).catch(function($t){wt($t)})}catch{We=!1}}function wt(xt){fe.debug("onRemoved buffer from:",xt.from,"to",xt.to),ke(Le.getAllBufferRanges()),0===be.length&&(We=!1,ge()),xt.unintended&&(fe.warn("Detected unintended removal from:",xt.from,"to",xt.to,"setting streamprocessor time to",xt.from),Pt(L.default.SEEK_TARGET,{time:xt.from})),We?bt():(K?K=!1:ge(),Pt(L.default.BUFFER_CLEARED,{from:xt.from,to:xt.to,unintended:xt.unintended,hasEnoughSpaceToAppend:Qe(),quotaExceeded:Ue}))}function Zt(xt){return new Promise(function(St){xt&&void 0!==xt.MSETimeOffset&&Le&&Le.updateTimestampOffset?Le.updateTimestampOffset(xt.MSETimeOffset).then(function(){St()}).catch(function(){St()}):St()})}function Wt(){return Le&&!Ee?Le.updateAppendWindow(oe):Promise.resolve()}function gn(){++Fe*(me.get().streaming.wallclockTimeUpdateInterval/1e3)>=me.get().streaming.buffer.bufferPruningInterval&&(Fe=0,Bt())}function En(){pt()}function gt(xt){Ee!==xt&&((Ee=xt)?Pt(L.default.BUFFERING_COMPLETED):_e=Number.POSITIVE_INFINITY)}function Vt(){try{var Rt,$t,xt=Le.getAllBufferRanges(),St=0;if(!xt)return St;for($t=0,Rt=xt.length;$t<Rt;$t++)St+=xt.end($t)-xt.start($t);return St}catch{return 0}}function je(xt){try{var St=xt,Rt=Le.getAllBufferRanges();if(!Rt||0===Rt.length)return NaN;for(var $t=0;St===xt&&$t<Rt.length;){var ln=Rt.start($t),An=Rt.end($t);St>=ln&&St<=An&&(St=An),$t+=1}return St===xt?NaN:St}catch{}}function Qe(){var xt=Vt();return isNaN(xt)||xt<se}function Pt(xt,St){N.trigger(xt,St||{},{streamId:oe.id,mediaType:H})}function rn(xt,St){if(se=Number.POSITIVE_INFINITY,Ie=void 0,_e=Number.POSITIVE_INFINITY,Me=0,we=null,Ee=!1,We=!1,Ue=!1,Ae=0,Fe=0,be=[],ie=NaN,Le){var Rt=Le;Le=null,!xt&&!St&&Rt.abort().then(function(){Rt.reset(St),Rt=null})}K=!1}return ne={initialize:function q(xt){X(xt),N.on(L.default.INIT_FRAGMENT_LOADED,pe,ne),N.on(L.default.MEDIA_FRAGMENT_LOADED,Te,ne),N.on(L.default.WALLCLOCK_TIME_UPDATED,gn,ne),N.on(V.default.PLAYBACK_PLAYING,nt,ne),N.on(V.default.PLAYBACK_PROGRESS,cn,ne),N.on(V.default.PLAYBACK_TIME_UPDATED,cn,ne),N.on(V.default.PLAYBACK_RATE_CHANGED,En,ne),N.on(V.default.PLAYBACK_STALLED,Rn,ne)},getStreamId:function $(){return oe.id},getType:function W(){return H},getBufferControllerType:function te(){return P},createBufferSink:function Q(xt){var St=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Rt,$t){if(xe&&xt&&De){var ln=Oe.getQualityFor(H,oe.id);Le=Object(b.default)(T).create({mediaSource:De,textController:ae,eventBus:N}),function de(xt,St,Rt){var $t=J(Rt);return St&&St[H]&&(H===y.default.VIDEO||H===y.default.AUDIO)?Le.initializeForStreamSwitch(xt,$t,St[H]):Le.initializeForFirstUse(oe,xt,$t)}(xt,St,ln).then(function(){return Zt(J(ln))}).then(function(){Rt(Le)}).catch(function(An){fe.fatal("Caught error on create SourceBuffer: "+An),C.error(new p.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+H)),$t(An)})}else Rt(null)})},getBuffer:function Vn(){return Le},getBufferLevel:function jn(){return Ae},getRangeAt:Se,hasBufferAtTime:function at(xt){try{var St=Le.getAllBufferRanges();if(!St||0===St.length)return!1;for(var Rt=0;Rt<St.length;){var $t=St.start(Rt),ln=St.end(Rt);if(xt>=$t&&xt<=ln)return!0;Rt+=1}return!1}catch(An){return fe.error(An),!1}},pruneBuffer:Bt,setMediaSource:X,getMediaSource:function ei(){return De},appendInitSegmentFromCache:function le(xt){var St=xe.extract(oe.id,xt);return!!St&&(fe.info("Append Init fragment",H," with representationId:",St.representationId," and quality:",St.quality,", data size:",St.bytes.byteLength),Ve(St),!0)},getIsBufferingCompleted:function _i(){return Ee},setIsBufferingCompleted:gt,getIsPruningInProgress:function rt(){return We},reset:function hn(xt,St){N.off(L.default.INIT_FRAGMENT_LOADED,pe,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,Te,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,gn,this),N.off(V.default.PLAYBACK_PLAYING,nt,this),N.off(V.default.PLAYBACK_PROGRESS,cn,this),N.off(V.default.PLAYBACK_TIME_UPDATED,cn,this),N.off(V.default.PLAYBACK_RATE_CHANGED,En,this),N.off(V.default.PLAYBACK_STALLED,Rn,this),rn(xt,St)},prepareForPlaybackSeek:function ot(){return Ee&&gt(!1),Le.abort()},prepareForReplacementTrackSwitch:function yt(xt){return new Promise(function(St,Rt){Le.abort().then(function(){return Wt()}).then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(xt):Promise.resolve()}).then(function(){return Ot()}).then(function(){gt(!1),St()}).catch(function($t){Rt($t)})})},prepareForNonReplacementTrackSwitch:function Ct(xt){return new Promise(function(St,Rt){Wt().then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(xt):Promise.resolve()}).then(function(){St()}).catch(function($t){Rt($t)})})},prepareForReplacementQualitySwitch:function ut(){return new Promise(function(xt,St){Le.abort().then(function(){return Wt()}).then(function(){return Ot()}).then(function(){gt(!1),xt()}).catch(function(Rt){St(Rt)})})},updateAppendWindow:Wt,getAllRangesWithSafetyFactor:It,getContinuousBufferTimeForTargetTime:je,clearBuffers:tn,pruneAllSafely:Ot,updateBufferTimestampOffset:Zt,setSeekTarget:function _t(xt){ie=xt},segmentRequestingCompleted:function dn(xt){isNaN(xt)||(_e=xt,it())}},function he(){fe=Object(m.default)(T).getInstance().getLogger(ne),xe=Object(h.default)(T).getInstance(),rn()}(),ne}x.__dashjs_factory_name=P,M.default=S.default.getClassFactory(x)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function h(){var w,V,O,G,k,P,x,I,T,N,p=this.context,v=Object(R.default)(p).getInstance();function z(){V=!1;var Fe=m.default.parseUserAgent();O=Fe&&Fe.browser&&Fe.browser.name&&"safari"===Fe.browser.name.toLowerCase()}function oe(){V=!1}function H(Fe){if(Fe.streamId===P.getActiveStreamInfo().id&&T){var We=x.getLiveDelay();x.getBufferLevel()>We/2&&(T=!1)}}function me(Fe){Fe.streamId===P.getActiveStreamInfo().id&&(T=Fe.state===S.default.BUFFER_EMPTY)}function ne(){I.getCatchupModeEnabled()||G.setPlaybackRate(1)}function fe(){x.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!x.isPaused()&&!x.isSeeking()&&function se(){try{return!(!x.getTime()>0||V)&&(De()===b.default.LIVE_CATCHUP_MODE_LOLP?function _e(Fe,We){try{return Math.abs(Ae())>0||Fe<We}catch{return!1}}(x.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function Me(){try{return Math.abs(Ae())>0}catch{return!1}}())}catch{return!1}}()&&function Ee(){if(!V&&G){var Fe,We=G.getPlaybackRate(),Ue=I.getCatchupPlaybackRates(),xe=x.getBufferLevel(),be=Ae(),K=I.getCatchupMaxDrift();if(!isNaN(K)&&K>0&&be>K)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),V=!0,x.seekToCurrentLive(!0,!1);else{var ie=x.getCurrentLiveLatency(),he=x.getLiveDelay();Fe=De()===b.default.LIVE_CATCHUP_MODE_LOLP?function Ie(Fe,We,Ue,xe,be){var K;if(be<xe){var ie=Math.abs(Fe.min),$=2*ie/(1+Math.pow(Math.E,-5*(be-xe)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+be+", newRate: "+(K=1-ie+$))}else{var W=Fe.max,te=.02;K=Math.abs(We-Ue)<=te*Ue?1:1-W+2*W/(1+Math.pow(Math.E,-5*(We-Ue))),N.debug("[LoL+ playback control_latency-based] latency: "+We+", newRate: "+K)}return K}(Ue,ie,he,k.get().streaming.liveCatchup.playbackBufferMin,xe):function Le(Fe,We,Ue,xe){if(T)return 1;var be=We-Ue,K=be<0?Math.abs(Fe.min):Fe.max,q=1-K+2*K/(1+Math.pow(Math.E,-5*be));return x.getPlaybackStalled()&&xe<=Ue/2&&be>0&&(q=1),q}(Ue,ie,he,xe);var $=O?.25:.02/(.5/Ue.max);Fe&&Math.abs(We-Fe)>=$&&(N.debug("[CatchupController]: Setting playback rate to ".concat(Fe)),G.setPlaybackRate(Fe))}}}()}function Ae(){return x.getCurrentLiveLatency()-x.getLiveDelay()}function De(){var Fe=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==b.default.LIVE_CATCHUP_MODE_LOLP||null===Fe||isNaN(Fe)?b.default.LIVE_CATCHUP_MODE_DEFAULT:b.default.LIVE_CATCHUP_MODE_LOLP}function we(){I.getCatchupPlaybackRates(!0)}return w={reset:function Oe(){(function re(){v.off(F.default.BUFFER_LEVEL_UPDATED,H,w),v.off(F.default.BUFFER_LEVEL_STATE_CHANGED,me,w),v.off(F.default.PLAYBACK_PROGRESS,fe,w),v.off(F.default.PLAYBACK_TIME_UPDATED,fe,w),v.off(F.default.PLAYBACK_SEEKED,fe,w),v.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,ne,w),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,w),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,w),v.off(F.default.STREAM_INITIALIZED,we,w)})(),z(),G.setPlaybackRate(1,!0)},setConfig:function B(Fe){Fe&&(Fe.settings&&(k=Fe.settings),Fe.videoModel&&(G=Fe.videoModel),Fe.streamController&&(P=Fe.streamController),Fe.playbackController&&(x=Fe.playbackController),Fe.mediaPlayerModel&&(I=Fe.mediaPlayerModel))},initialize:function C(){(function Y(){v.on(F.default.BUFFER_LEVEL_UPDATED,H,w),v.on(F.default.BUFFER_LEVEL_STATE_CHANGED,me,w),v.on(F.default.PLAYBACK_PROGRESS,fe,w),v.on(F.default.PLAYBACK_TIME_UPDATED,fe,w),v.on(F.default.PLAYBACK_SEEKED,oe,w),v.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,ne,w),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,w),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,w),v.on(F.default.STREAM_INITIALIZED,we,w)})(),we()}},function ae(){N=Object(E.default)(p).getInstance().getLogger(w),z()}(),w}h.__dashjs_factory_name="CatchupController",M.default=y.default.getSingletonFactory(h)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=e(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var G,k,P,x,I,T,N,C,B,Y,re,S="urn:mpeg:dash:event:2012",m=1,h="urn:mpeg:dash:event:callback:2015",p=1,v=300,w={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},V=this.context,O=Object(R.default)(V).getInstance();function Oe(){if(!N||!C)throw new Error("setConfig function has to be called previously")}function z(){re=!1,P={},x={},I=null,Y=!1,T=Date.now()/1e3}function oe(){try{null!==I&&re&&(clearInterval(I),I=null,re=!1,function Me(){try{_e(x),_e(P)}catch(q){k.error(q)}}())}catch(q){throw q}}function me(){try{if(!Y){Y=!0;var q=C.getTime(),$=q-T;$=T>0?Math.max(0,$):0,ne(x,$,q),ne(P,$,q),fe(x),fe(P),T=q,Y=!1}}catch(W){Y=!1,k.error(W)}}function ne(q,$,W){try{Le(q,function(J){if(void 0!==J){var Q=isNaN(J.duration)?0:J.duration;J.calculatedPresentationTime<=W&&J.calculatedPresentationTime+$+Q>=W?Fe(J,b.default.EVENT_MODE_ON_START):(Ie(W,Q+$,J.calculatedPresentationTime)||function we(q){try{return q.calculatedPresentationTime>q.eventStream.period.start+q.eventStream.period.duration}catch(W){return k.error(W),!1}}(J))&&(k.debug("Removing event ".concat(J.id," from period ").concat(J.eventStream.period.id," as it is expired or invalid")),function We(q,$){try{var W=$.eventStream.schemeIdUri,te=$.eventStream.period.id,X=$.eventStream.value,J=$.id;q[te][W]=q[te][W].filter(function(Q){return X&&Q.eventStream.value&&Q.eventStream.value!==X||Q.id!==J}),0===q[te][W].length&&delete q[te][W]}catch(Q){k.error(Q)}}(q,J))}})}catch(X){k.error(X)}}function fe(q){try{for(var $ in q)q.hasOwnProperty($)&&0===Object.keys(q[$]).length&&delete q[$]}catch(W){k.error(W)}}function se(q,$){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],te=q.eventStream.schemeIdUri,X=q.eventStream.value,J=q.id,Q=w.DISCARDED;$[te]||($[te]=[]);var de=$[te].findIndex(function(le){return(!X||le.eventStream.value&&le.eventStream.value===X)&&le.id===J});if(-1===de)$[te].push(q),q.triggeredReceivedEvent=!1,q.triggeredStartEvent=!1,Q=w.ADDED;else if(W){var pe=$[te][de];q.triggeredReceivedEvent=pe.triggeredReceivedEvent,q.triggeredStartEvent=pe.triggeredStartEvent,$[te][de]=q,Q=w.UPDATED}return Q}function De(q){try{q.eventStream.value==m&&O.trigger(b.default.MANIFEST_VALIDITY_CHANGED,{id:q.id,validUntil:q.calculatedPresentationTime,newDuration:4294967295==q.calculatedPresentationTime?NaN:q.calculatedPresentationTime+q.duration,newManifestValidAfter:NaN},{mode:b.default.EVENT_MODE_ON_START})}catch(te){k.error(te)}}function _e(q){try{var $=C.getTime();Le(q,function(X){var J=X.eventStream&&X.eventStream.period&&!isNaN(X.eventStream.period.duration)?X.eventStream.period.duration:NaN,Q=X.eventStream&&X.eventStream.period&&!isNaN(X.eventStream.period.start)?X.eventStream.period.start:NaN;isNaN(J)||isNaN(Q)||Math.abs(X.calculatedPresentationTime-$)<v&&Fe(X,b.default.EVENT_MODE_ON_START)})}catch(te){k.error(te)}}function Le(q,$){try{if(q)for(var W=Object.keys(q),te=0;te<W.length;te++)for(var X=q[W[te]],J=Object.keys(X),Q=0;Q<J.length;Q++)X[J[Q]].forEach(function(pe){void 0!==pe&&$(pe)})}catch(pe){k.error(pe)}}function Ie(q,$,W){try{return q-$>W}catch(te){return k.error(te),!1}}function Fe(q,$){try{var W=C.getTime(),te=q.id;if($===b.default.EVENT_MODE_ON_RECEIVE&&!q.triggeredReceivedEvent)return k.debug("Received event ".concat(te)),q.triggeredReceivedEvent=!0,void O.trigger(q.eventStream.schemeIdUri,{event:q},{mode:$});q.triggeredStartEvent||(q.eventStream.schemeIdUri===S&&q.eventStream.value==m?(0!==q.duration||0!==q.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(te," at ").concat(W)),function Ue(){try{Oe(),N.refreshManifest()}catch(q){k.error(q)}}()):q.eventStream.schemeIdUri===h&&q.eventStream.value==p?(k.debug("Starting callback event ".concat(te," at ").concat(W)),function xe(q){try{Object(F.default)(V).create({}).load({method:"get",url:q,request:{responseType:"arraybuffer"}})}catch(W){k.error(W)}}(q.messageData)):(k.debug("Starting event ".concat(te," from period ").concat(q.eventStream.period.id," at ").concat(W)),O.trigger(q.eventStream.schemeIdUri,{event:q},{mode:$})),q.triggeredStartEvent=!0)}catch(X){k.error(X)}}return G={addInlineEvents:function Ee(q,$){try{if(Oe(),P[$]||(P[$]={}),q)for(var W=0;W<q.length;W++){var te=q[W];if(!Ie(C.getTime(),isNaN(te.duration)?0:te.duration,te.calculatedPresentationTime)){var Q=se(te,P[$],!0);Q===w.ADDED?(k.debug("Added inline event with id ".concat(te.id," from period ").concat($)),Fe(te,b.default.EVENT_MODE_ON_RECEIVE)):Q===w.UPDATED&&k.debug("Updated inline event with id ".concat(te.id," from period ").concat($))}}}catch(de){throw de}},addInbandEvents:function Ae(q,$){try{Oe(),x[$]||(x[$]={});for(var W=0;W<q.length;W++){var te=q[W];Ie(C.getTime(),isNaN(te.duration)?0:te.duration,te.calculatedPresentationTime)||(se(te,x[$],!1)===w.ADDED?(te.eventStream.schemeIdUri===S&&De(te),k.debug("Added inband event with id ".concat(te.id," from period ").concat($)),Fe(te,b.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(te.eventStream.schemeIdUri,", value ").concat(te.eventStream.value,", period id ").concat($," and event id ").concat(te.id," was ignored because it has been added before.")))}me()}catch(de){throw de}},getInbandEvents:function ie(){return x},getInlineEvents:function K(){return P},start:function H(){try{Oe(),k.debug("Start Event Controller");var q=B.get().streaming.eventControllerRefreshDelay;!re&&!isNaN(q)&&(re=!0,I=setInterval(me,q))}catch($){throw $}},setConfig:function be(q){try{if(!q)return;q.manifestUpdater&&(N=q.manifestUpdater),q.playbackController&&(C=q.playbackController),q.settings&&(B=q.settings)}catch($){throw $}},reset:function he(){oe(),z()}},function ae(){k=Object(E.default)(V).getInstance().getLogger(G),z()}(),G}L.__dashjs_factory_name="EventController",M.default=y.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),R=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=e(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),S=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function w(V){V=V||{};var N,C,B,O=this.context,G=Object(L.default)(O).getInstance(),k=V.errHandler,P=V.mediaPlayerModel,x=V.dashMetrics,I=Object(v.default)(O).getInstance(),T=V.streamInfo;function re(){return T.id}function Oe(){for(var me in B)B[me].reset();B={}}function H(me){if(me.sender){var ne=me.request,fe=me.response,Ee=ne.isInitializationRequest(),Ae=ne.mediaInfo.streamInfo;if(me.error&&(ne.mediaType===y.default.AUDIO||ne.mediaType===y.default.VIDEO||ne.mediaType===y.default.TEXT&&ne.mediaInfo.isFragmented)&&G.trigger(S.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:me.request.serviceLocation}),!fe||!Ae)return void C.warn("No "+ne.mediaType+" bytes to push or stream is inactive.");var se=function oe(me,ne,fe,Ee){var Ae=new E.default;return Ae.streamId=fe,Ae.mediaInfo=ne.mediaInfo,Ae.segmentType=ne.type,Ae.start=ne.startTime,Ae.duration=ne.duration,Ae.end=Ae.start+Ae.duration,Ae.bytes=me,Ae.index=ne.index,Ae.quality=ne.quality,Ae.representationId=ne.representationId,Ae.endFragment=Ee,Ae}(fe,ne,T.id,me.type!==S.default.FRAGMENT_LOADING_PROGRESS);G.trigger(Ee?S.default.INIT_FRAGMENT_LOADED:S.default.MEDIA_FRAGMENT_LOADED,{chunk:se,request:ne},{streamId:Ae.id,mediaType:ne.mediaType})}}return N={getStreamId:re,getModel:function ae(me){var ne=B[me];return ne||(ne=Object(R.default)(O).create({streamInfo:T,type:me,dashMetrics:x,fragmentLoader:Object(b.default)(O).create({dashMetrics:x,mediaPlayerModel:P,errHandler:k,requestModifier:Object(F.default)(O).getInstance(),settings:V.settings,boxParser:V.boxParser,eventBus:G,events:S.default,errors:h.default,dashConstants:V.dashConstants,urlUtils:V.urlUtils,streamId:re()}),debug:I,eventBus:G,events:S.default}),B[me]=ne),ne},reset:function z(){G.off(m.default.FRAGMENT_LOADING_COMPLETED,H,this),G.off(m.default.FRAGMENT_LOADING_PROGRESS,H,this),Oe()}},function Y(){C=I.getLogger(N),Oe(),G.on(m.default.FRAGMENT_LOADING_COMPLETED,H,N),G.on(m.default.FRAGMENT_LOADING_PROGRESS,H,N)}(),N}w.__dashjs_factory_name="FragmentController",M.default=p.default.getClassFactory(w)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function h(){var w,V,O,G,k,P,x,I,T,N,C,B,p=this.context,v=Object(b.default)(p).getInstance();function ae(){(function Ie(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function H(){v.off(R.default.WALLCLOCK_TIME_UPDATED,Ae,this),v.off(R.default.INITIAL_STREAM_SWITCH,Ee,this),v.off(R.default.PLAYBACK_SEEKING,me,this),v.off(R.default.BUFFER_REPLACEMENT_STARTED,ne,w),v.off(R.default.TRACK_CHANGE_RENDERED,fe,w)}(),function Oe(){k=null,P=NaN,G=0,N=null,C={}}()}function me(){N&&(clearTimeout(N),N=null)}function ne(Fe){try{if(Fe.streamId!==I.getActiveStreamInfo().id||Fe.mediaType!==F.default.VIDEO&&Fe.mediaType!==F.default.AUDIO)return;Fe.streamId===I.getActiveStreamInfo().id&&(C[Fe.mediaType]=!0)}catch(We){B.error(We)}}function fe(Fe){!Fe||!Fe.mediaType||(C[Fe.mediaType]=!1)}function Ee(){k||function Le(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){se()&&we(x.getTime())},100))}catch{}}()}function Ae(){if(se(O.get().streaming.gaps.enableSeekFix)&&++G>=10){var Fe=x.getTime();V===Fe?we(Fe,!0):(V=Fe,P=NaN),G=0}}function se(){var Fe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var We=Object.keys(C).some(function(xe){return C[xe]}),Ue=!!Fe&&function De(){var Fe=I.getActiveStream(),We=parseFloat((Fe.getStartTime()+Fe.getDuration()).toFixed(5));return x.getTime()+O.get().streaming.gaps.threshold>=We}();return!We&&O.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!x.isSeeking()||Ue)&&!x.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function we(Fe){var he,We=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ue=O.get().streaming.gaps.enableStallFix,xe=O.get().streaming.gaps.stallSeek,be=O.get().streaming.gaps.smallGapLimit,K=O.get().streaming.gaps.jumpLargeGaps,ie=T.getBufferRange(),q=NaN,$=!1;if(he=function Me(Fe,We){try{if(!Fe||Fe.length<=1&&We>0)return NaN;for(var Ue=NaN,xe=0;isNaN(Ue)&&xe<Fe.length;){var be=xe>0?Fe.end(xe-1):0;We<Fe.start(xe)&&be-We<O.get().streaming.gaps.threshold&&(Ue=xe),xe+=1}return Ue}catch{return null}}(ie,Fe),!isNaN(he)){var W=ie.start(he),te=W-Fe;te>0&&(te<=be||K)&&(q=W)}var X=x.getTimeToStreamEnd();if(isNaN(q)&&We&&isFinite(X)&&!isNaN(X)&&X<be&&(q=parseFloat(x.getStreamEndTime().toFixed(5)),$=!0),Ue&&isNaN(q)&&We&&isNaN(he)&&function _e(Fe,We){for(var Ue=0,xe=Fe.length;Ue<xe;Ue++)if(We>=Fe.start(Ue)&&We<=Fe.end(Ue))return!0;return!1}(ie,Fe)&&(0===xe?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(xe,"s to break stall")),q=Fe+xe)),q>0&&P!==q&&q>Fe&&!N){var J=q-Fe;if($){var Q=I.getStreamForTime(q),de=Q&&!!Q.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(Fe," to ").concat(q,". Gap duration: ").concat(J)),x.seek(q,!0,de)}else{var pe=x.getIsDynamic(),le=he>0?ie.end(he-1):Fe,Te=pe?1e3*Math.max(0,J-.1):0;N=window.setTimeout(function(){x.seek(q,!0,!0),B.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(le," and ending at ").concat(q,". Jumping by: ").concat(q-le)),N=null},Te)}P=q}}return w={reset:ae,setConfig:function z(Fe){Fe&&(Fe.settings&&(O=Fe.settings),Fe.playbackController&&(x=Fe.playbackController),Fe.streamController&&(I=Fe.streamController),Fe.videoModel&&(T=Fe.videoModel))},initialize:function Y(){!function oe(){v.on(R.default.WALLCLOCK_TIME_UPDATED,Ae,this),v.on(R.default.INITIAL_STREAM_SWITCH,Ee,this),v.on(R.default.PLAYBACK_SEEKING,me,this),v.on(R.default.BUFFER_REPLACEMENT_STARTED,ne,w),v.on(R.default.TRACK_CHANGE_RENDERED,fe,w)}()}},function re(){B=Object(E.default)(p).getInstance().getLogger(w),ae()}(),w}h.__dashjs_factory_name="GapController",M.default=y.default.getSingletonFactory(h)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),S=e.n(L),m=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function p(){var O,G,k,P,x,I,T,N,w=this.context,V=Object(R.default)(w).getInstance();function re(Q,de){return Q&&k[de]&&k[de][Q]?k[de][Q].list:[]}function ae(Q,de){return Q&&k[de]&&k[de][Q]?k[de][Q].current:null}function z(Q){var de=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Q&&Q.streamInfo){var pe=Q.type,Te=Q.streamInfo.id,Ve=ae(pe,Te);if(k[Te]&&k[Te][pe]&&(k[Te][pe].current=Q,k[Te][pe].current&&(pe!==y.default.TEXT&&!fe(Q,Ve)||pe===y.default.TEXT&&Q.isFragmented)&&V.trigger(E.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ve,newMediaInfo:Q,switchMode:P.get().streaming.trackSwitchMode[pe]},{streamId:Te}),!de)){var ke=function se(Q){var de={lang:Q.lang,viewpoint:Q.viewpoint,roles:Q.roles,accessibility:Q.accessibility,audioChannelConfiguration:Q.audioChannelConfiguration};return de.lang||de.viewpoint||de.role&&de.role.length>0||de.accessibility&&de.accessibility.length>0||de.audioChannelConfiguration&&de.audioChannelConfiguration.length>0?de:null}(Q);if(!ke||!k[Te][pe].storeLastSettings)return;ke.roles&&(ke.role=ke.roles[0],delete ke.roles),ke.accessibility&&(ke.accessibility=ke.accessibility[0]),ke.audioChannelConfiguration&&(ke.audioChannelConfiguration=ke.audioChannelConfiguration[0]),I[pe]=ke,N.setSavedMediaSettings(pe,ke)}}}function oe(Q,de){!Q||!de||(x[Q]=de)}function H(Q){return Q?x[Q]:null}function fe(Q,de){if(!Q&&!de)return!0;if(!Q||!de)return!1;var pe=Q.id===de.id,le=Q.viewpoint===de.viewpoint,Te=Q.lang===de.lang,Ve=Q.codec===de.codec,ke=Q.roles.toString()===de.roles.toString(),Ze=Q.accessibility.toString()===de.accessibility.toString(),qe=Q.audioChannelConfiguration.toString()===de.audioChannelConfiguration.toString();return pe&&Ve&&le&&Te&&ke&&Ze&&qe}function Ae(){k={},I={},function Ue(){x={audio:null,video:null,text:null}}()}function De(Q,de,pe){var le=[];return Q.forEach(function(Te){de(pe,Te)&&le.push(Te)}),0!==le.length?le:Q}function Me(Q,de){return!Q.lang||Q.lang instanceof RegExp?de.lang.match(Q.lang):""!==de.lang&&Object(m.extendedFilter)(de.lang,S()(Q.lang)).length>0}function _e(Q,de){return null==Q.index||de.index===Q.index}function Le(Q,de){return!Q.viewpoint||Q.viewpoint===de.viewpoint}function Ie(Q,de){var pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!Q.role||!!de.roles.filter(function(Te){return Te===Q.role})[0]||de.type===y.default.AUDIO&&pe}function we(Q,de){return Q.accessibility?!!de.accessibility.filter(function(le){return le===Q.accessibility})[0]:!de.accessibility.length}function Fe(Q,de){return!Q.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(le){return le===Q.audioChannelConfiguration})[0]}function be(Q){var le,de=0,pe=[];return Q.forEach(function(Te){(le=Math.max.apply(Math,Te.bitrateList.map(function(Ve){return Ve.bandwidth})))>de?(de=le,pe=[Te]):le===de&&pe.push(Te)}),pe}function K(Q){var le,de=1/0,pe=[];return Q.forEach(function(Te){var Ve=Te.bitrateList.reduce(function(ke,Ze){var qe=Math.max(1,Ze.width*Ze.height);return ke+Ze.bandwidth/qe},0);(le=Ve/Te.bitrateList.length)<de?(de=le,pe=[Te]):le===de&&pe.push(Te)}),pe}function ie(Q){var le,de=0,pe=[];return Q.forEach(function(Te){(le=Te.representationCount)>de?(de=le,pe=[Te]):le===de&&pe.push(Te)}),pe}function he(Q,de){if(Q===y.default.TEXT)return de[0];var le,pe=P.get().streaming.selectionModeForInitialTrack,Te=T.getCustomInitialTrackSelectionFunction();if(Te&&"function"==typeof Te)le=Te(de);else switch(pe){case y.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:le=function q(Q){var de=function xe(Q){var de=0,pe=[];return Q.forEach(function(le){isNaN(le.selectionPriority)||(le.selectionPriority>de?(de=le.selectionPriority,pe=[le]):le.selectionPriority===de&&pe.push(le))}),pe}(Q);return de.length>1&&(de=be(de)),de.length>1&&(de=ie(de)),de}(de);break;case y.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:le=function $(Q){var de=be(Q);return de.length>1&&(de=ie(de)),de}(de);break;case y.default.TRACK_SELECTION_MODE_FIRST_TRACK:le=W(de);break;case y.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:le=function te(Q){var de=K(Q);return de.length>1&&(de=be(de)),de}(de);break;case y.default.TRACK_SELECTION_MODE_WIDEST_RANGE:le=function X(Q){var de=ie(Q);return de.length>1&&(de=be(Q)),de}(de);break;default:G.warn("Track selection mode ".concat(pe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),le=W(de)}return le.length>0?le[0]:de[0]}function W(Q){return Q[0]}return O={setInitialMediaSettingsForType:function B(Q,de){var pe=I[Q]||H(Q),le=re(Q,de.id),Te=[];pe||oe(Q,pe=N.getSavedMediaSettings(Q)),le&&0!==le.length&&(pe&&(Te=De(Te=Array.from(le),Me,pe),Te=De(Te,_e,pe),Te=De(Te,Le,pe),Q===y.default.AUDIO&&I[Q]||(Te=De(Te,Ie,pe)),Te=De(Te,we,pe),Te=De(Te,Fe,pe)),0===Te.length?z(he(Q,le),!0):z(Te.length>1?he(Q,Te):Te[0]))},addTrack:function Y(Q){if(Q){var de=Q.type;if(function ne(Q){return Q===y.default.AUDIO||Q===y.default.VIDEO||Q===y.default.TEXT||Q===y.default.IMAGE}(de)){var pe=Q.streamInfo.id;k[pe]||(k[pe]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var le=k[pe][de].list,Te=0,Ve=le.length;Te<Ve;++Te)if(fe(le[Te],Q))return;le.push(Q)}}},getTracksFor:re,getCurrentTrackFor:ae,isCurrentTrack:function Oe(Q){if(!Q)return!1;var de=Q.type,pe=Q.streamInfo.id;return k[pe]&&k[pe][de]&&fe(k[pe][de].current,Q)},setTrack:z,selectInitialTrack:he,setInitialSettings:oe,getInitialSettings:H,getTracksWithHighestBitrate:be,getTracksWithHighestEfficiency:K,getTracksWithWidestRange:ie,isTracksEqual:fe,matchSettings:function We(Q,de){var pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var le=!1;if(Q.lang){if(Q.lang instanceof RegExp)le=de.lang.match(Q.lang);else if(""!==de.lang){var Te=S()(Q.lang);Te&&(le=Object(m.extendedFilter)(de.lang,Te).length>0)}}else le=!0;var Ve=null==Q.index||de.index===Q.index,ke=!Q.viewpoint||Q.viewpoint===de.viewpoint,Ze=!Q.role||!!de.roles.filter(function(ot){return ot===Q.role})[0],qe=!Q.accessibility||!!de.accessibility.filter(function(ot){return ot===Q.accessibility})[0],He=!Q.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(ot){return ot===Q.audioChannelConfiguration})[0];return le&&Ve&&ke&&(Ze||de.type===y.default.AUDIO&&pe)&&qe&&He}catch(ot){return!1}},matchSettingsLang:Me,matchSettingsIndex:_e,matchSettingsViewPoint:Le,matchSettingsRole:Ie,matchSettingsAccessibility:we,matchSettingsAudioChannelConfig:Fe,saveTextSettingsDisabled:function me(){N.setSavedMediaSettings(y.default.TEXT,null)},setConfig:function Ee(Q){Q&&(Q.domStorage&&(N=Q.domStorage),Q.settings&&(P=Q.settings),Q.customParametersModel&&(T=Q.customParametersModel))},reset:Ae},function C(){G=Object(F.default)(w).getInstance().getLogger(O),Ae()}(),O}p.__dashjs_factory_name="MediaController";var v=b.default.getSingletonFactory(p);b.default.updateSingletonFactory(p.__dashjs_factory_name,v),M.default=v},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function R(){var b,F,L,S=this.context;return b={createMediaSource:function h(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function p(k){var P=window.URL.createObjectURL(F);return k.setSource(P),P},detachMediaSource:function v(k){k.setSource(null)},setDuration:function w(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function G(k){for(var P=k.sourceBuffers,x=0;x<P.length;x++)if(P[x].updating)return!0;return!1}(F)?setTimeout(w.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function V(k,P){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<P&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,P))},signalEndOfStream:function O(k){if(k&&"open"===k.readyState){for(var P=k.sourceBuffers,x=0;x<P.length;x++)if(P[x].updating||0===P[x].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function m(){L=Object(E.default)(S).getInstance().getLogger(b)}(),b}R.__dashjs_factory_name="MediaSourceController",M.default=y.default.getSingletonFactory(R)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),S=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function h(){var w,V,O,G,k,P,x,I,T,N,C,B,Y,re,ae,Oe,oe,H,me,ne,fe,Ee,Ae,p=this.context,v=Object(E.default)(p).getInstance();function De(){We(),re=!1,N=0,C=0,Oe=0,fe=!1,oe=!1,Ee=!1,H=NaN,x&&(v.off(R.default.DATA_UPDATE_COMPLETED,Ct,w),v.off(R.default.LOADING_PROGRESS,dn,w),v.off(R.default.MANIFEST_UPDATED,ei,w),v.off(R.default.STREAMS_COMPOSED,_i,w),v.off(L.default.PLAYBACK_ENDED,tn,w),v.off(L.default.STREAM_INITIALIZING,En,w),v.off(L.default.REPRESENTATION_SWITCH,Vn,w),v.off(L.default.BUFFER_LEVEL_STATE_CHANGED,Gt,w),ut(),function Vt(){x.removeEventListener("canplay",Ot),x.removeEventListener("canplaythrough",It),x.removeEventListener("play",Xt),x.removeEventListener("waiting",cn),x.removeEventListener("playing",Rn),x.removeEventListener("pause",nt),x.removeEventListener("error",en),x.removeEventListener("seeking",at),x.removeEventListener("seeked",Se),x.removeEventListener("timeupdate",ue),x.removeEventListener("progress",ge),x.removeEventListener("ratechange",it),x.removeEventListener("loadedmetadata",pt),x.removeEventListener("loadeddata",kt),x.removeEventListener("stalled",gn),x.removeEventListener("ended",Bt),x.removeEventListener("volumechange",Kt)}()),T=null,x=null,B=null,Y=null}function Ie(){return parseFloat((we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-he()).toFixed(5))}function we(je){var Qe=je||B;return Qe.start+Qe.duration}function Fe(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&x&&x.getElement()?(je&&Y&&ie(he()),x.play()):re=!0}function We(){B&&x&&x.pause()}function Ue(je){var Qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Pt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&x&&je!==(isNaN(H)?x.getTime():H)&&((me=!0===_t)||(H=je),V.info("Requesting seek to time: "+je+(me?" (internal)":"")),Y&&Pt&&ie(je),x.setCurrentTime(je,Qe))}function K(){if(B&&x&&Y){var je=O&&O.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO,Qe=k.getCurrentDVRInfo(je);return Qe&&Qe.range?Qe.range.end:0}}function ie(je){var Qe=new Date(I.getClientReferenceTime()),_t=P.getRegularPeriods()[0],Pt=I.calcPresentationTimeFromWallTime(Qe,_t);N=Pt-je}function he(){return B&&x?x.getTime():null}function q(){return B&&x?x.isPaused():null}function $(){return B&&x?x.isSeeking():null}function W(){return B&&x?x.isStalled():null}function te(){return B&&x?x.getPlaybackRate():null}function J(){return B&&x?x.getEnded():null}function Q(){return Y}function He(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!q()&&Y&&0!==x.getReadyState()&&!$()&&!fe){je||(je=O.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO);var Qe=he(),_t=function ot(je,Qe){var _t=k.getCurrentDVRInfo(Qe),Pt=_t?_t.range:null;return Pt?je>Pt.end?Math.max(Pt.end-N,Pt.start):je>0&&je+.25<Pt.start&&Math.abs(je-Pt.start)<31536e4?oe?Math.max(Pt.end-N,Pt.start):Pt.start:je:NaN}(Qe,je);!isNaN(_t)&&_t!==Qe&&!$()&&(W()||ne||1===x.getReadyState())&&(V.debug("UpdateCurrentTime: Seek to actual time: ".concat(_t," from currentTime: ").concat(Qe)),Ue(_t,!1,!1))}}function yt(){null===T&&(T=setInterval(function(){!function bt(){v.trigger(R.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),Q()&&(O.addDVRMetric(),q()?function wt(){var je=Date.now();(!ae||je>ae+500)&&(ae=je,ue())}():He())}()},Ae.get().streaming.wallclockTimeUpdateInterval))}function ut(){clearInterval(T),T=null}function Ct(je){var Qe=P.convertRepresentationToRepresentationInfo(je.currentRepresentation),_t=Qe?Qe.mediaInfo.streamInfo:null;null===_t||B.id!==_t.id||(B=_t)}function Ot(){v.trigger(R.default.CAN_PLAY)}function It(){v.trigger(R.default.CAN_PLAY_THROUGH)}function Gt(je){je.streamId===O.getActiveStreamInfo().id&&(ne=je.state===S.default.BUFFER_EMPTY,Ae.get().streaming.buffer.setStallState&&x.setStallState(je.mediaType,je.state===S.default.BUFFER_EMPTY))}function Xt(){V.info("Native video element event: play"),He(),yt(),v.trigger(R.default.PLAYBACK_STARTED,{startTime:he()})}function cn(){V.info("Native video element event: waiting"),v.trigger(R.default.PLAYBACK_WAITING,{playingTime:he()})}function Rn(){V.info("Native video element event: playing"),me=!1,v.trigger(R.default.PLAYBACK_PLAYING,{playingTime:he()})}function nt(){V.info("Native video element event: pause"),v.trigger(R.default.PLAYBACK_PAUSED,{ended:J()})}function at(){if(!me){var je=he();!isNaN(H)&&H!==je&&(je=H),H=NaN,V.info("Seeking to: "+je),yt(),v.trigger(R.default.PLAYBACK_SEEKING,{seekTime:je,streamId:B.id})}}function Se(){V.info("Native video element event: seeked"),me=!1,v.trigger(R.default.PLAYBACK_SEEKED)}function ue(){B&&v.trigger(R.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Ie(),time:he(),streamId:B.id})}function ge(){v.trigger(R.default.PLAYBACK_PROGRESS,{streamId:B.id})}function it(){var je=te();V.info("Native video element event: ratechange: ",je),v.trigger(R.default.PLAYBACK_RATE_CHANGED,{playbackRate:je})}function pt(){V.info("Native video element event: loadedmetadata"),v.trigger(R.default.PLAYBACK_METADATA_LOADED),yt()}function kt(){V.info("Native video element event: loadeddata"),v.trigger(R.default.PLAYBACK_LOADED_DATA)}function Bt(){V.info("Native video element event: ended"),We(),ut();var je=O?O.getActiveStreamInfo():null;je&&v.trigger(R.default.PLAYBACK_ENDED,{isLast:je.isLast})}function Kt(){v.trigger(R.default.PLAYBACK_VOLUME_CHANGED)}function tn(je){if(T&&je.isLast){V.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Qe=je.seekTime?je.seekTime:we();x.setCurrentTime(Qe),We(),ut()}}function en(je){v.trigger(R.default.PLAYBACK_ERROR,{error:(je.target||je.srcElement).error})}function dn(je){if(!1===je.stream&&oe&&!isNaN(je.request.duration)){var Qe=1.2*je.request.duration;Qe>N&&(V.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Qe.toFixed(2)),N=Qe,C=Qe)}}function gn(je){v.trigger(R.default.PLAYBACK_STALLED,{e:je})}function En(je){!function gt(je){je&&je.supplementalProperties&&"true"===je.supplementalProperties[y.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(V.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),oe=!0)}(je.mediaInfo)}function Vn(je){var Qe=O.getActiveStreamInfo();!je||!Qe||!je.currentRepresentation||!je.streamId||je.streamId!==Qe.id||!je.mediaType||je.mediaType!==y.default.VIDEO&&je.mediaType!==y.default.AUDIO||(oe=!je.currentRepresentation.availabilityTimeComplete)&&!Ee&&(Ee=!0)}function ei(){fe=!0}function _i(){fe=!1}return w={initialize:function Me(je,Qe){B=je,!0!==Qe&&function _e(){(function rt(){x.addEventListener("canplay",Ot),x.addEventListener("canplaythrough",It),x.addEventListener("play",Xt),x.addEventListener("waiting",cn),x.addEventListener("playing",Rn),x.addEventListener("pause",nt),x.addEventListener("error",en),x.addEventListener("seeking",at),x.addEventListener("seeked",Se),x.addEventListener("timeupdate",ue),x.addEventListener("progress",ge),x.addEventListener("ratechange",it),x.addEventListener("loadedmetadata",pt),x.addEventListener("loadeddata",kt),x.addEventListener("stalled",gn),x.addEventListener("ended",Bt),x.addEventListener("volumechange",Kt)})(),Y=B.manifestInfo.isDynamic,ne=!1,me=!1,v.on(R.default.DATA_UPDATE_COMPLETED,Ct,w),v.on(R.default.LOADING_PROGRESS,dn,w),v.on(R.default.MANIFEST_UPDATED,ei,w),v.on(R.default.STREAMS_COMPOSED,_i,w),v.on(L.default.PLAYBACK_ENDED,tn,w,{priority:E.default.EVENT_PRIORITY_HIGH}),v.on(L.default.STREAM_INITIALIZING,En,w),v.on(L.default.REPRESENTATION_SWITCH,Vn,w),v.on(L.default.BUFFER_LEVEL_STATE_CHANGED,Gt,w),re&&(re=!1,Fe())}()},setConfig:function qe(je){je&&(je.streamController&&(O=je.streamController),je.serviceDescriptionController&&(G=je.serviceDescriptionController),je.dashMetrics&&(k=je.dashMetrics),je.adapter&&(P=je.adapter),je.videoModel&&(x=je.videoModel),je.timelineConverter&&(I=je.timelineConverter),je.settings&&(Ae=je.settings))},getTimeToStreamEnd:Ie,getBufferLevel:function Zt(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Qe=null;return O.getActiveStreamProcessors().forEach(function(_t){if(!je||0===je.length||-1===je.indexOf(_t.getType())){var Pt=_t.getBufferLevel();Qe=null===Qe?Pt:Math.min(Qe,Pt)}}),Qe},getPlaybackStalled:function Le(){return ne},getTime:he,getLowLatencyModeEnabled:function Wt(){return oe},getInitialCatchupModeActivated:function jn(){return Ee},getIsManifestUpdateInProgress:function pe(){return fe},getPlaybackRate:te,getPlayedRanges:function X(){return B&&x?x.getPlayedRanges():null},getEnded:J,getIsDynamic:Q,getStreamController:function de(){return O},computeAndSetLiveDelay:function Ze(je,Qe){var _t,Pt,rn,St=!isNaN(je)&&isFinite(je)?je:NaN,Rt=P.getSuggestedPresentationDelay(),$t=G.getServiceDescriptionSettings();return _t=isNaN(Ae.get().streaming.delay.liveDelay)?null===Ae.get().streaming.delay.liveDelayFragmentCount||isNaN(Ae.get().streaming.delay.liveDelayFragmentCount)||isNaN(St)?$t&&!isNaN($t.liveDelay)&&$t.liveDelay>0?$t.liveDelay:!0===Ae.get().streaming.delay.useSuggestedPresentationDelay&&null!==Rt&&!isNaN(Rt)&&Rt>0?Rt:isNaN(St)?Qe&&!isNaN(Qe.minBufferTime)?4*Qe.minBufferTime:4*B.manifestInfo.minBufferTime:4*St:St*Ae.get().streaming.delay.liveDelayFragmentCount:Ae.get().streaming.delay.liveDelay,null!==(rn=P.getAvailabilityStartTime())&&(Oe=rn),Pt=Qe&&Qe.dvrWindowSize>0?Math.min(_t,Qe.dvrWindowSize):_t,N=Pt,C=Pt,Pt},getLiveDelay:function Te(){return N},getOriginalLiveDelay:function Ve(){return C},getCurrentLiveLatency:function ke(){if(!Y||isNaN(Oe))return NaN;var je=he();if(isNaN(je)||0===je)return 0;var Qe=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((Qe-Oe-1e3*je)/1e3).toFixed(3),0)},play:Fe,isPaused:q,isStalled:W,pause:We,isSeeking:$,getStreamEndTime:we,seek:Ue,seekToOriginalLive:function xe(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Pt=K();0!==Pt&&Ue(Pt-(N=C),je,Qe,_t)},seekToCurrentLive:function be(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Pt=K();0!==Pt&&Ue(Pt-N,je,Qe,_t)},reset:De,updateCurrentTime:He,getAvailabilityStartTime:function le(){return Oe}},function se(){V=Object(F.default)(p).getInstance().getLogger(w),De()}(),w}h.__dashjs_factory_name="PlaybackController",M.default=b.default.getSingletonFactory(h)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),R=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),S=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(p){p=p||{};var C,B,Y,re,ae,Oe,z,oe,H,me,ne,fe,Ee,v=this.context,w=Object(R.default)(v).getInstance(),V=p.dashMetrics,O=p.mediaPlayerModel,G=p.fragmentModel,k=p.abrController,P=p.playbackController,x=p.textController,I=p.type,T=p.bufferController,N=p.settings;function Le(ot){if(!T.getIsBufferingCompleted()){Ie();var yt=isNaN(ot)?0:ot;Oe=setTimeout(Fe,yt)}}function Ie(){Oe&&(clearTimeout(Oe),Oe=null)}function Fe(){try{if(function Ue(){try{return I===y.default.TEXT&&!x.isTextEnabled()||P.isPaused()&&(!P.getStreamController().getInitialPlayback()||!P.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Ie();if(function xe(){try{return re&&(isNaN(me)||ne||function we(){var yt=k.getMaxAllowedIndexFor(I,B.id);return!(!isNaN(H)&&H==yt||(Y.info("Top quality "+I+" index has changed from "+H+" to "+yt),H=yt,0))}()||function be(){return!I||!re||V.getCurrentBufferLevel(I)<K()}())}catch{return!1}}()){var ot=!1;Ee&&(ot=k.checkPlaybackQuality(I,B.id)),ot||function We(){fe||re.quality!==me||ne?(ne?(Y.debug("Switch track for "+I+", representation id = "+re.id),ne=!1):Y.debug("Quality has changed, get init request for representationid = "+re.id),w.trigger(b.default.INIT_FRAGMENT_NEEDED,{representationId:re.id,sender:C},{streamId:B.id,mediaType:I}),Ee=!1,fe=!1):(Y.debug("Media segment needed for ".concat(I," and stream id ").concat(B.id)),w.trigger(b.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:I}),Ee=!0)}()}else Le(P.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Le(P.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function K(){var ot=NaN;return!I||!re||(ot=I===y.default.TEXT?function ie(){try{if(x.isTextEnabled()){if(isNaN(re.fragmentDuration)){var ot=V.getCurrentSchedulingInfo(S.default.SCHEDULING_INFO);return ot?ot.duration:0}return re.fragmentDuration}return 0}catch{return 0}}():I===y.default.AUDIO&&z?function he(){try{var ot=V.getCurrentBufferLevel(y.default.VIDEO);return isNaN(re.fragmentDuration)?ot+1:Math.max(ot+1,re.fragmentDuration)}catch{return 0}}():function q(){try{var ot=re.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(ot)?ot.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:O.getStableBufferTime()}catch{return O.getStableBufferTime()}}()),ot}function te(){X(!0)}function X(ot){if(P&&G){var yt=G.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:P.getTime(),threshold:0})[0];yt&&P.getTime()>=yt.startTime&&((!oe.mediaInfo||yt.mediaInfo.type===oe.mediaInfo.type&&yt.mediaInfo.id!==oe.mediaInfo.id)&&ot&&w.trigger(b.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:oe.mediaInfo,newMediaInfo:yt.mediaInfo,streamId:B.id}),(yt.quality!==oe.quality||yt.adaptationIndex!==oe.adaptationIndex)&&ot&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(I)),w.trigger(b.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:oe.quality,newQuality:yt.quality,streamId:B.id})),oe={mediaInfo:yt.mediaInfo,quality:yt.quality,adaptationIndex:yt.adaptationIndex})}}function J(ot){Y.debug("Appended bytes for ".concat(ot.mediaType," and stream id ").concat(B.id)),(isNaN(ot.index)||isNaN(me))&&(me=ot.quality,Y.info("["+I+"] lastInitializedRepresentationInfo changed to "+ot.quality)),Le(0)}function Q(){G.abortRequests(),Ie()}function de(){N.get().streaming.scheduling.scheduleWhilePaused||Le()}function pe(ot){V.updatePlayListTraceMetrics({playbackspeed:ot.playbackRate.toString()})}function Ze(){Ee=!0,ae=0,me=NaN,oe={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},H=NaN,ne=!1,fe=!1}return C={initialize:function se(ot){z=ot,w.on(b.default.BYTES_APPENDED_END_FRAGMENT,J,C),w.on(b.default.URL_RESOLUTION_FAILED,Q,C),w.on(m.default.PLAYBACK_STARTED,de,C),w.on(m.default.PLAYBACK_RATE_CHANGED,pe,C),w.on(m.default.PLAYBACK_TIME_UPDATED,te,C)},getType:function De(){return I},getStreamId:function Me(){return B.id},setCurrentRepresentation:function _e(ot){re=ot},setTimeToLoadDelay:function le(ot){ae=ot},getTimeToLoadDelay:function Te(){return ae},setSwitchTrack:function $(ot){ne=ot},getSwitchStrack:function W(){return ne},startScheduleTimer:Le,clearScheduleTimer:Ie,reset:function qe(){w.off(b.default.BYTES_APPENDED_END_FRAGMENT,J,C),w.off(b.default.URL_RESOLUTION_FAILED,Q,C),w.off(m.default.PLAYBACK_STARTED,de,C),w.off(m.default.PLAYBACK_RATE_CHANGED,pe,C),w.off(m.default.PLAYBACK_TIME_UPDATED,te,C),Ie(),X(!1),Ze(),B=null},getBufferTarget:K,getPlaybackController:function He(){return P},setCheckPlaybackQuality:function Ve(ot){Ee=ot},setInitSegmentRequired:function ke(ot){fe=ot}},function Ae(){Y=Object(L.default)(v).getInstance().getLogger(C),Ze(),B=p.streamInfo}(),C}h.__dashjs_factory_name="ScheduleController",M.default=F.default.getClassFactory(h)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),R=e(
/*! ../Stream */
"./src/streaming/Stream.js"),b=e(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),h=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),v=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),V=e(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),O=e(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),G=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),x=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(z){return function B(z){if(Array.isArray(z))return Y(z)}(z)||function C(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||function N(z,oe){if(z){if("string"==typeof z)return Y(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return Y(z,oe)}}(z)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Oe(){var H,me,ne,fe,Ee,Ae,se,De,Me,_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,he,q,$,W,te,X,J,Q,de,pe,le,Te,Ve,ke,Ze,qe,He,ot,yt,ut,Ct,Ot,It,Gt,Xt,cn,Rn,nt,at,z=this.context,oe=Object(F.default)(z).getInstance();function pt(){if(!(Ae&&Ae.hasOwnProperty("load")&&q&&q.hasOwnProperty("initialize")&&q.hasOwnProperty("reset")&&q.hasOwnProperty("getClientTimeOffset")&&se&&he&&Me&&ke))throw new Error(y.default.MISSING_CONFIG_ERROR)}function tn(){!function bt(){try{var At=De.getStreamsInfo();if(!W&&0===At.length)throw new Error("There are no periods in the MPD");W&&At.length>0&&Me.updateManifestUpdateInfo({currentTime:ke.getTime(),buffered:Ve.getBufferRange(),presentationStartTime:At[0].start,clientTimeOffset:q.getClientTimeOffset()}),$.length>0&&function Io(At){0!==At.length?$=$.filter(function(on){var Dn=At.filter(function(Kn){return Kn.id===on.getId()}).length>0||on.getId()===W.getId();return Dn||(me.debug("Removing stream ".concat(on.getId())),on.reset(!0)),Dn}):me.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(At);for(var on=[],Sn=0,Dn=At.length;Sn<Dn;Sn++){var Kn=At[Sn];on.push(wt(Kn)),Me.addManifestUpdateStreamInfo(Kn)}Promise.all(on).then(function(){return Xt.get().streaming.applyContentSteering&&!W&&Ie.shouldQueryBeforeStart()?Ie.loadSteeringData():Promise.resolve()}).then(function(){W||Zt(At),oe.trigger(L.default.STREAMS_COMPOSED),$t()}).catch(function(ti){throw ti})}catch(ti){he.error(new G.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ti.message+" nostreamscomposed",se.getValue())),le=!0,jr()}}()}function en(){cn=!0}function wt(At){var on=Oi(At.id);return on?on.updateData(At):(on=Object(R.default)(z).create({manifestModel:se,mediaPlayerModel:qe,dashMetrics:Me,manifestUpdater:Ee,adapter:De,timelineConverter:q,capabilities:ne,capabilitiesFilter:fe,errHandler:he,baseURLController:we,segmentBaseController:Fe,textController:X,abrController:Ue,playbackController:ke,eventController:be,mediaController:xe,protectionController:te,videoModel:Ve,streamInfo:At,settings:Xt}),$.push(on),on.initialize(),Promise.resolve())}function Zt(At){Qe();var on=Me.getCurrentDVRInfo().range;if(on.end<on.start){Rn&&clearTimeout(Rn);var Sn=Math.min(1e3*(-1*(on.end-on.start)+2),2147483647);return me.debug("Waiting for ".concat(Sn," ms before playback can start")),oe.trigger(L.default.AST_IN_FUTURE,{delay:Sn}),void(Rn=setTimeout(function(){Zt(At)},Sn))}Xt.get().streaming.applyProducerReferenceTime&&Ze.calculateProducerReferenceTimeOffsets(At);var Dn=At[0].manifestInfo;if(Xt.get().streaming.applyServiceDescription&&Ze.applyServiceDescription(Dn),De.getIsDynamic()){var Kn=lo(At,Dn);ke.computeAndSetLiveDelay(Kn,Dn)}var ti=function Qi(){var At;if(De.getIsDynamic()){var Sn=Me.getCurrentDVRInfo();At=(Sn&&Sn.range?Sn.range.end:0)-ke.getOriginalLiveDelay();var Kn=Sn?Sn.range:null;if(Kn){if(isNaN(nt)&&-1===nt.toString().indexOf("posix:")){var ui=Xi(!0);isNaN(ui)||(me.info("Start time from URI parameters: ".concat(ui)),At=Math.min(At,ui))}else{me.info("Start time provided by the app: ".concat(nt));var ti=Ni(!0,nt);isNaN(ti)||(At=Math.min(At,ti))}var Xn=Xt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;At=Math.max(At,Kn.start+Xn)}}else if(At=Mr()[0].getStreamInfo().start,isNaN(nt)){var Fr=Xi(!1);isNaN(Fr)||(me.info("Start time from URI parameters: ".concat(Fr)),At=Math.max(At,Fr))}else{me.info("Start time provided by the app: ".concat(nt));var tr=Ni(!1,nt);isNaN(tr)||(At=Math.max(At,tr))}return At}(),ui=je(ti),Xn=null!==ui?ui:$[0];oe.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:ti}),Wt(Xn,null,ti),function ln(){Ct||(Ct=setInterval(function(){!de&&ke.getTimeToStreamEnd()<=0&&!ke.isSeeking()&&oe.trigger(L.default.PLAYBACK_ENDED,{isLast:kr().isLast})},200))}()}function Wt(At,on,Sn){try{if(de||!At||on===At&&At.getIsActive())return;de=!0,oe.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:on?on.getStreamInfo():null,toStreamInfo:At.getStreamInfo()});var Dn=!1;W=At,on&&(Dn=rt(At,on),on.deactivate(Dn)),Sn=isNaN(Sn)?!Dn&&on?At.getStreamInfo().start:NaN:Sn,me.info("Switch to stream ".concat(At.getId(),". Seektime is ").concat(Sn,", current playback time is ").concat(ke.getTime(),". Seamless period switch is set to ").concat(Dn)),It=It.filter(function(Kn){return Kn.getId()!==W.getId()}),ke.initialize(kr(),!!on),Ve.getElement()&&dn(Sn,Dn)}catch{de=!1}}function dn(At,on){var Sn;function Dn(){if(Te&&"open"===Te.readyState){me.debug("MediaSource is open!"),window.URL.revokeObjectURL(Sn),Te.removeEventListener("sourceopen",Dn),Te.removeEventListener("webkitsourceopen",Dn),vt();var ti=Me.getCurrentDVRInfo();_e.setSeekable(ti.range.start,ti.range.end),gn(At,on)}}function Kn(){Te.addEventListener("sourceopen",Dn,!1),Te.addEventListener("webkitsourceopen",Dn,!1),Sn=_e.attachMediaSource(Ve),me.debug("MediaSource attached to element.  Waiting on open...")}Te?on?gn(At,on):(_e.detachMediaSource(Ve),Kn()):(Te=_e.createMediaSource(),Kn())}function gn(At,on){W.activate(Te,on?Ot:void 0,At).then(function(Sn){if(Sn){var Dn=Object.keys(Sn);Dn.length>0&&Sn[Dn[0]].getBuffer().changeType&&(Gt=!0),Ot=Sn}isNaN(At)||(oe.trigger(L.default.SEEK_TARGET,{time:At},{streamId:W.getId()}),ke.seek(At,!1,!0),W.startScheduleControllers()),de=!1,oe.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:kr()})})}function En(At){var Sn=je(At.seekTime);Sn&&Sn!==W?Sn&&Sn!==W&&(Vn(),function _i(At,on){var Sn=At&&!isNaN(At.seekTime)?At.seekTime:NaN,Kn=W.getProcessors().map(function(ti){return ti.prepareOuterPeriodPlaybackSeeking(At)});Promise.all(Kn).then(function(){Wt(on,W,Sn)}).catch(function(ti){he.error(ti)})}(At,Sn)):(Vn(),function ei(At){W.getProcessors().forEach(function(Sn){return Sn.prepareInnerPeriodPlaybackSeeking(At)}),Lr(m.PlayListTrace.USER_REQUEST_STOP_REASON)}(At)),rr(m.PlayList.SEEK_START_REASON)}function Vn(){jn()}function jn(){It&&It.length>0&&(It.forEach(function(At){At.deactivate(!0)}),It=[])}function gt(At){At.newMediaInfo.streamInfo.id===W.getId()&&(jn(),W.prepareTrackChange(At))}function rt(At,on){try{return Xt.get().streaming.buffer.reuseExistingSourceBuffers&&(on.isProtectionCompatible(At)||cn)&&(Gt||on.isMediaCodecCompatible(At,on))}catch{return!1}}function Vt(At){var on=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Te&&!At.getPreloaded()&&rt(At,on)&&At.startPreloading(Te,Ot).then(function(){It.push(At)})}function je(At){if(isNaN(At))return null;for(var on=$.length,Sn=0;Sn<on;Sn++){var Dn=$[Sn];if(At<parseFloat((Dn.getStartTime()+Dn.getDuration()).toFixed(5)))return Dn}return null}function Qe(){try{var At=De.getIsDynamic(),Sn=De.getStreamsInfo()[0].manifestInfo,Dn=ke.getTime(),Kn=q.calcTimeShiftBufferWindow($,At),ti=Yt();if(typeof Kn.start>"u"||typeof Kn.end>"u")return;ti&&0!==ti.length?ti.forEach(function(ui){Me.addDVRInfo(ui.getType(),Dn,Sn,Kn)}):Me.addDVRInfo(y.default.VIDEO,Dn,Sn,Kn)}catch{}}function _t(At){if(yt&&Q){var on=qe.getInitialBufferLevel(),Sn=[y.default.TEXT];(isNaN(on)||on<=ke.getBufferLevel(Sn)||De.getIsDynamic()&&on>ke.getLiveDelay())&&(yt=!1,rr(m.PlayList.INITIAL_PLAYOUT_START_REASON),ke.play())}At&&At.mediaType&&Me.addBufferLevel(At.mediaType,new Date,1e3*At.bufferLevel)}function Pt(At){At.streamInfo.id===W.getId()&&At.reason&&At.reason.forceReplace&&jn(),Oi(At.streamInfo.id).prepareQualityChange(At)}function rn(){if(De.getIsDynamic()&&0!==ke.getOriginalLiveDelay()&&W){var At=De.getStreamsInfo();if(At.length>0){var on=At[0].manifestInfo,Sn=lo(At,on);ke.computeAndSetLiveDelay(Sn,on)}}}function hn(){if(Zn()){var At=Ve.getPlaybackQuality();At&&Me.addDroppedFrames(At)}}function xt(){me.debug("[onPlaybackStarted]"),!yt&&ot&&rr(m.PlayList.RESUME_FROM_PAUSE_START_REASON),yt&&(yt=!1),ut&&(ut=!1,Xt.get().streaming.applyContentSteering&&!Ie.shouldQueryBeforeStart()&&Ie.loadSteeringData()),ot=!1}function St(At){me.debug("[onPlaybackPaused]"),At.ended||(ot=!0,Lr(m.PlayListTrace.USER_REQUEST_STOP_REASON))}function Rt(At){me.debug("Stream with id ".concat(At.streamInfo.id," finished buffering")),Te&&At.streamInfo.isLast?(me.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),_e.signalEndOfStream(Te)):$t()}function $t(){if(W&&W.getHasFinishedBuffering())for(var At=function $e(){var At=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var on=At||W||null;if(on){var Sn=on.getStreamInfo();return $.filter(function(Dn){var Kn=Dn.getStreamInfo();return Kn.start>Sn.start&&Sn.id!==Kn.id})}}catch{return[]}}(W),on=0;on<At.length;){var Sn=At[on],Dn=0===on?W:At[on-1];!Sn.getPreloaded()&&Dn.getHasFinishedBuffering()&&Te&&Vt(Sn,Dn),on+=1}}function An(){Ct&&(clearInterval(Ct),Ct=null)}function Yt(){return W?W.getProcessors():[]}function ve(At){if(W&&!W.getIsEndedEventSignaled()){W.setIsEndedEventSignaled(!0);var on=function tt(){var on=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||W||null;if(!on)return null;for(var Sn=on.getStreamInfo(),Dn=Sn.start,Kn=0,ti=-1,ui=NaN;Kn<$.length;){var Pi=$[Kn].getStreamInfo(),Gi=Pi.start-Dn;Gi>0&&(isNaN(ui)||Gi<ui)&&Sn.id!==Pi.id&&(ui=Gi,ti=Kn),Kn+=1}return ti>=0?$[ti]:null}();on?(me.debug("StreamController onEnded, found next stream with id ".concat(on.getStreamInfo().id,". Switching from ").concat(W.getStreamInfo().id," to ").concat(on.getStreamInfo().id)),Wt(on,W,NaN)):(me.debug("StreamController no next stream found"),W.setIsEndedEventSignaled(!1)),Lr(on?m.PlayListTrace.END_OF_PERIOD_STOP_REASON:m.PlayListTrace.END_OF_CONTENT_STOP_REASON)}At&&At.isLast&&(An(),Ie.stopSteeringRequestTimer())}function vt(At){var on=At||kr().manifestInfo.duration;_e.setDuration(on)}function Xi(At){var on=We.getURIFragmentData();if(!on||!on.t)return NaN;var Dn=Mr()[0].getStreamInfo().start;return on.t=on.t.split(",")[0],zr(At,on.t,Dn)}function Ni(At,on){var Sn=0;return At||(Sn=Mr()[0].getStreamInfo().start),zr(At,on,Sn)}function zr(At,on,Sn){var Dn=De.getRegularPeriods()[0],Kn=on.toString(),ti=-1!==Kn.indexOf("posix:")?"now"===Kn.substring(6)?Date.now()/1e3:parseFloat(Kn.substring(6)):NaN;return At&&!isNaN(ti)?q.calcPresentationTimeFromWallTime(new Date(1e3*ti),Dn):parseFloat(Kn)+Sn}function lo(At,on){try{var Sn=NaN;if(on&&!isNaN(on.maxFragmentDuration)&&isFinite(on.maxFragmentDuration))return on.maxFragmentDuration;if(At&&1===At.length){var Dn=At[0],ti=[y.default.VIDEO,y.default.AUDIO,y.default.TEXT].reduce(function(ui,Xn){var Pi=De.getMediaInfoForType(Dn,Xn);return Pi&&!1!==Pi.isFragmented&&ui.push(Pi),ui},[]).reduce(function(ui,Xn){var Pi=De.getVoRepresentations(Xn);return Pi&&Pi.length>0&&Pi.forEach(function(Gi){Gi&&ui.push(Gi)}),ui},[]).reduce(function(ui,Xn){var Pi=De.convertRepresentationToRepresentationInfo(Xn);return Pi&&Pi.fragmentDuration&&!isNaN(Pi.fragmentDuration)&&ui.push(Pi.fragmentDuration),ui},[]);Sn=Math.max.apply(Math,I(ti))}return isFinite(Sn)?Sn:NaN}catch{return NaN}}function Oo(At){if(At.error)le=!0,jr();else{me.info("Manifest updated... updating data system wide.");var on=At.manifest;De.updatePeriods(on);var Sn=De.getUTCTimingSources();De.getIsDynamic()&&(!Sn||0===Sn.length)&&oe.trigger(w.default.CONFORMANCE_VIOLATION,{level:x.default.LEVELS.WARNING,event:x.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Dn=De.getIsDynamic()?Sn.concat(He.getUTCTimingSources()):Sn,Kn=ie.isHTTPS(At.manifest.url);Dn.forEach(function(ti){ti.value.replace(/.*?:\/\//g,"")===Xt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(ti.value=ti.value.replace(Kn?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Kn?"https://":"http://"),me.debug("Matching default timing source protocol to manifest protocol: ",ti.value))}),fe.filterUnsupportedFeatures(on).then(function(){we.initialize(on),Le.attemptSync(Dn,De.getIsDynamic())})}}function Zn(){return!!W&&W.getHasVideoTrack()}function ji(){return!!W&&W.getHasAudioTrack()}function Lr(At,on){on=on||new Date,Yt().forEach(function(Sn){Sn.finalisePlayList(on,At)}),Me.addPlayList()}function rr(At){Me.createPlaylistMetrics(1e3*ke.getTime(),At)}function na(At){if(At.error){var on="";switch(At.error.code){case 1:on="MEDIA_ERR_ABORTED";break;case 2:on="MEDIA_ERR_NETWORK";break;case 3:on="MEDIA_ERR_DECODE",at.counts.mediaErrorDecode+=1;break;case 4:on="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:on="MEDIA_ERR_ENCRYPTED";break;default:on="UNKNOWN"}if("MEDIA_ERR_DECODE"===on&&Xt.get().errors.recoverAttempts.mediaErrorDecode>=at.counts.mediaErrorDecode)return void function ga(){me.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var At=ke.getTime();W.deactivate(!1),me.warn("MediaSource has been resetted. Resuming playback from time ".concat(At)),dn(At,!1)}();pe=!0,At.error.message&&(on+=" ("+At.error.message+")"),At.error.msExtendedCode&&(on+=" (0x"+(At.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),me.fatal("Video Element Error: "+on),At.error&&me.fatal(At.error),he.error(new G.default(At.error.code,on)),jr()}}function kr(){return W?W.getStreamInfo():null}function Oi(At){for(var on=0,Sn=$.length;on<Sn;on++)if($[on].getId()===At)return $[on];return null}function Un(At){isNaN(At.newDuration)||vt(At.newDuration)}function yr(){$=[],nt=NaN,te=null,de=!1,W=null,pe=!1,le=!1,yt=!0,ut=!0,ot=!1,Q=!0,Ct=null,cn=!1,Gt=!1,It=[],Rn=null,at={counts:{mediaErrorDecode:0}}}function jr(){pt(),Le.reset(),Lr(pe||le?m.PlayListTrace.FAILURE_STOP_REASON:m.PlayListTrace.USER_REQUEST_STOP_REASON);for(var At=0,on=$?$.length:0;At<on;At++)$[At].reset(pe);(function it(){oe.off(w.default.PLAYBACK_TIME_UPDATED,hn,H),oe.off(w.default.PLAYBACK_SEEKING,En,H),oe.off(w.default.PLAYBACK_ERROR,na,H),oe.off(w.default.PLAYBACK_STARTED,xt,H),oe.off(w.default.PLAYBACK_PAUSED,St,H),oe.off(w.default.PLAYBACK_ENDED,ve,H),oe.off(w.default.METRIC_ADDED,er,H),oe.off(w.default.MANIFEST_VALIDITY_CHANGED,Un,H),oe.off(w.default.BUFFER_LEVEL_UPDATED,_t,H),oe.off(w.default.QUALITY_CHANGE_REQUESTED,Pt,H),L.default.KEY_SESSION_UPDATED&&oe.off(L.default.KEY_SESSION_UPDATED,en,H),oe.off(L.default.MANIFEST_UPDATED,Oo,H),oe.off(L.default.STREAM_BUFFERING_COMPLETED,Rt,H),oe.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,tn,H),oe.off(L.default.CURRENT_TRACK_CHANGED,gt,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY,rn,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,rn,H)})(),we.reset(),Ee.reset(),be.reset(),Me.clearAllCurrentMetrics(),se.setValue(null),Ae.reset(),q.reset(),K.reset(),Te&&(_e.detachMediaSource(Ve),Te=null),Ve=null,te&&(te=null,J=null,se.getValue()&&oe.trigger(L.default.PROTECTION_DESTROYED,{data:se.getValue().url})),An(),oe.trigger(L.default.STREAM_TEARDOWN_COMPLETE),yr()}function er(At){if(At.metric===E.default.DVR_INFO){var on=ji()?y.default.AUDIO:y.default.VIDEO;At.mediaType===on&&_e.setSeekable(At.value.range.start,At.value.range.end)}}function Mr(){return $}return H={initialize:function ue(At,on){pt(),Q=At,J=on,q.initialize(),(Ee=Object(b.default)(z).create()).setConfig({manifestModel:se,adapter:De,manifestLoader:Ae,errHandler:he,settings:Xt}),Ee.initialize(),(be=Object(P.default)(z).getInstance()).setConfig({manifestUpdater:Ee,playbackController:ke,settings:Xt}),be.start(),Le.setConfig({dashMetrics:Me,baseURLController:we,errHandler:he,settings:Xt}),Le.initialize(),te&&(oe.trigger(L.default.PROTECTION_CREATED,{controller:te}),te.setMediaElement(Ve.getElement()),J&&te.setProtectionData(J)),function ge(){oe.on(w.default.PLAYBACK_TIME_UPDATED,hn,H),oe.on(w.default.PLAYBACK_SEEKING,En,H),oe.on(w.default.PLAYBACK_ERROR,na,H),oe.on(w.default.PLAYBACK_STARTED,xt,H),oe.on(w.default.PLAYBACK_PAUSED,St,H),oe.on(w.default.PLAYBACK_ENDED,ve,H),oe.on(w.default.METRIC_ADDED,er,H),oe.on(w.default.MANIFEST_VALIDITY_CHANGED,Un,H),oe.on(w.default.BUFFER_LEVEL_UPDATED,_t,H),oe.on(w.default.QUALITY_CHANGE_REQUESTED,Pt,H),L.default.KEY_SESSION_UPDATED&&oe.on(L.default.KEY_SESSION_UPDATED,en,H),oe.on(L.default.MANIFEST_UPDATED,Oo,H),oe.on(L.default.STREAM_BUFFERING_COMPLETED,Rt,H),oe.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,tn,H),oe.on(L.default.CURRENT_TRACK_CHANGED,gt,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY,rn,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,rn,H)}()},getActiveStreamInfo:kr,addDVRMetric:Qe,hasVideoTrack:Zn,hasAudioTrack:ji,getStreamById:Oi,getStreamForTime:je,getTimeRelativeToStreamId:function st(At,on){for(var Sn=null,Dn=0,Kn=0,ti=null,ui=0;ui<$.length;ui++){if(Kn=(Sn=$[ui]).getStartTime(),ti=Sn.getDuration(),Number.isFinite(Kn)&&(Dn=Kn),Sn.getId()===on)return At-Dn;Number.isFinite(ti)&&(Dn+=ti)}return null},load:function Bt(At){var on=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;pt(),nt=on,Ae.load(At)},loadWithManifest:function Kt(At){var on=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function kt(){if(!Ee||!Ee.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),nt=on,Ee.setManifest(At)},getActiveStreamProcessors:Yt,setConfig:function Qn(At){At&&(At.capabilities&&(ne=At.capabilities),At.capabilitiesFilter&&(fe=At.capabilitiesFilter),At.manifestLoader&&(Ae=At.manifestLoader),At.manifestModel&&(se=At.manifestModel),At.mediaPlayerModel&&(qe=At.mediaPlayerModel),At.customParametersModel&&(He=At.customParametersModel),At.protectionController&&(te=At.protectionController),At.adapter&&(De=At.adapter),At.dashMetrics&&(Me=At.dashMetrics),At.errHandler&&(he=At.errHandler),At.timelineConverter&&(q=At.timelineConverter),At.videoModel&&(Ve=At.videoModel),At.playbackController&&(ke=At.playbackController),At.serviceDescriptionController&&(Ze=At.serviceDescriptionController),At.contentSteeringController&&(Ie=At.contentSteeringController),At.textController&&(X=At.textController),At.abrController&&(Ue=At.abrController),At.mediaController&&(xe=At.mediaController),At.settings&&(Xt=At.settings),At.baseURLController&&(we=At.baseURLController),At.uriFragmentModel&&(We=At.uriFragmentModel),At.segmentBaseController&&(Fe=At.segmentBaseController))},setProtectionData:function xi(At){J=At,te&&te.setProtectionData(J)},getIsStreamSwitchInProgress:function ka(){return de},switchToVideoElement:function hr(At){W&&(ke.initialize(kr()),dn(At,!1))},getHasMediaOrInitialisationError:function as(){return pe||le},getStreams:Mr,getActiveStream:function jt(){return W},getInitialPlayback:function Pn(){return yt},getAutoPlay:function Di(){return Q},reset:jr},function Se(){me=Object(h.default)(z).getInstance().getLogger(H),Le=Object(V.default)(z).getInstance(),_e=Object(O.default)(z).getInstance(),K=Object(p.default)(z).getInstance(),ie=Object(v.default)(z).getInstance(),yr()}(),H}Oe.__dashjs_factory_name="StreamController",M.default=S.default.getSingletonFactory(Oe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),R=e(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=e(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function P(){var C,B,Y,re,ae,Oe,z,oe,H,me,ne,fe,Ee,Ae,se,De,I=this.context,T=Object(R.default)(I).getInstance(),N=Object(m.default)(I).getInstance();function Le(){oe=[],H=[],me=null,ne=null,Ee=null,fe=NaN,Y=!1,re=!1,Ae=ae.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Fe(){!ae.get().streaming.utcSynchronization.enabled||Y||re||!Ee||!Ee.value||!Ee.schemeIdUri||isNaN(fe)||isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)||ne&&(Date.now()-ne)/1e3<30||(oe=[],re=!0,We(isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)?2:ae.get().streaming.utcSynchronization.backgroundAttempts))}function We(ke){try{if(ke<=0)return void le();var Ze=Date.now();Oe[Ee.schemeIdUri](Ee.value,function(qe){var He=Date.now(),ot=xe(Ze,He,qe);oe.push(ot),We(ke-1)},function(){le()})}catch{le()}}function Ue(){var Ze=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!H||0===H.length||Ze>=H.length)K();else{var qe=H[Ze];if(qe)if(Oe.hasOwnProperty(qe.schemeIdUri)){var He=(new Date).getTime();Oe[qe.schemeIdUri](qe.value,function(ot){var yt=(new Date).getTime(),ut=xe(He,yt,ot);Ee=qe,K(ut)},function(){Ue(Ze+1)})}else Ue(Ze+1);else K()}}function xe(ke,Ze,qe){return qe-(Ze-(Ze-ke)/2)}function K(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Ze=isNaN(ke);Ze&&ae.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function Q(){var ke=z.getLatestMPDRequestHeaderValueByID("Date"),Ze=null!==ke?new Date(ke).getTime():Number.NaN;isNaN(Ze)?de(!0):de(!1,Ze-Date.now())}():de(Ze,ke)}function he(ke){var Ze=Date.parse(ke);return isNaN(Ze)&&(Ze=function ie(ke){var yt,ut,Ct=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(ke);return yt=Date.UTC(parseInt(Ct[1],10),parseInt(Ct[2],10)-1,parseInt(Ct[3],10),parseInt(Ct[4],10),parseInt(Ct[5],10),Ct[6]&&(parseInt(Ct[6],10)||0),Ct[7]&&1e3*parseFloat(Ct[7])||0),Ct[9]&&Ct[10]&&(ut=60*parseInt(Ct[9],10)+parseInt(Ct[10],10),yt+=("+"===Ct[8]?-1:1)*ut*60*1e3),new Date(yt).getTime()}(ke)),Ze}function q(ke){return Date.parse(ke)}function $(ke){return Date.parse(ke)}function W(ke,Ze,qe){qe()}function te(ke,Ze,qe){var He=he(ke);isNaN(He)?qe():Ze(He)}function X(ke,Ze,qe,He,ot){var yt,ut,Ct=!1,Ot=new XMLHttpRequest,It=ot?E.HTTPRequest.HEAD:E.HTTPRequest.GET,Gt=Ze.match(/\S+/g);if(Ze=Gt.shift(),yt=function(){Ct||(Ct=!0,Gt.length?X(ke,Gt.join(" "),qe,He,ot):He())},ut=function(){var Rn,nt;200===Ot.status&&(Rn=ot?Ot.getResponseHeader("Date"):Ot.response,nt=ke(Rn),isNaN(nt)||(qe(nt),Ct=!0))},N.isRelative(Ze)){var Xt=De.resolve();Xt&&(Ze=N.resolve(Ze,Xt.url))}Ot.open(It,Ze),Ot.timeout=5e3,Ot.onload=ut,Ot.onloadend=yt,Ot.send()}function J(ke,Ze,qe){X($,ke,Ze,qe,!0)}function de(ke,Ze){if(!isNaN(fe)&&!isNaN(Ze)&&!ke&&function pe(ke){try{var ut,Ze=Te(ke),qe=isNaN(Ae)?30:Ae,He=isNaN(ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ot=isNaN(ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,yt=isNaN(ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Ze?(ut=Math.min(qe*He,ot),B.debug("Increasing timeBetweenSyncAttempts to ".concat(ut))):(ut=Math.max(qe/He,yt),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(ut))),Ae=ut}catch{}}(Ze),!ke&&!isNaN(Ze)){me=Date.now(),Y=!1;var qe=isNaN(fe);fe=Ze,qe&&Fe(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(Ze))}ke&&(Ee=null,Y=!1,se.error(new y.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(b.default.UPDATE_TIME_SYNC_OFFSET,{offset:Ze}),T.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED)}function le(){if(oe&&0!==oe.length){var ke=oe.reduce(function(Ze,qe){return Ze+qe},0)/oe.length;Te(ke)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(ke)),T.trigger(b.default.UPDATE_TIME_SYNC_OFFSET,{offset:fe=ke})),re=!1,ne=Date.now()}}function Te(ke){try{if(isNaN(fe))return!0;var Ze=ae.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ae.get().streaming.utcSynchronization.maximumAllowedDrift)?ae.get().streaming.utcSynchronization.maximumAllowedDrift:100;return ke>=fe-Ze&&ke<=fe+Ze}catch{return!0}}return C={initialize:function Ie(){Le(),Oe={"urn:mpeg:dash:utc:http-head:2014":J,"urn:mpeg:dash:utc:http-xsdate:2014":X.bind(null,he),"urn:mpeg:dash:utc:http-iso:2014":X.bind(null,q),"urn:mpeg:dash:utc:direct:2014":te,"urn:mpeg:dash:utc:http-head:2012":J,"urn:mpeg:dash:utc:http-xsdate:2012":X.bind(null,he),"urn:mpeg:dash:utc:http-iso:2012":X.bind(null,q),"urn:mpeg:dash:utc:direct:2012":te,"urn:mpeg:dash:utc:http-ntp:2014":W,"urn:mpeg:dash:utc:ntp:2014":W,"urn:mpeg:dash:utc:sntp:2014":W}},attemptSync:function we(ke,Ze){if(H=ke,!Y){if(!function be(ke){try{if(!ke||!ae.get().streaming.utcSynchronization.enabled)return!1;var Ze=isNaN(Ae)?30:Ae;return!(me&&Ze&&!isNaN(Ze))||(Date.now()-me)/1e3>=Ze}catch{return!0}}(Ze))return void T.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,Ue()}},setConfig:function _e(ke){ke&&(ke.dashMetrics&&(z=ke.dashMetrics),ke.baseURLController&&(De=ke.baseURLController),ke.errHandler&&(se=ke.errHandler),ke.settings&&(ae=ke.settings))},reset:function Ve(){Le(),T.off(b.default.ATTEMPT_BACKGROUND_SYNC,Fe,C)}},function Me(){B=Object(S.default)(I).getInstance().getLogger(C),T.on(b.default.ATTEMPT_BACKGROUND_SYNC,Fe,C)}(),C}P.__dashjs_factory_name="TimeSyncController";var x=L.default.getSingletonFactory(P);x.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(P.__dashjs_factory_name,x),M.default=x},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),S=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m="onLoad";function v(w){w=w||{};var k,P,x,I,T,N,V=this.context,O=Object(E.default)(V).getInstance(),G=Object(L.default)(V).getInstance();function Oe(Ae,se,De){var _e,Le,Me={};Me.elements=Ae,Me.type=se,Me.resolveType=De,0===Me.elements.length&&oe(Me);for(var Ie=0;Ie<Me.elements.length;Ie++)Le=G.isHTTPURL((_e=Me.elements[Ie]).url)?_e.url:_e.originalContent.BaseURL+_e.url,N.load(Le,_e,Me)}function z(Ae){var se,De,Le="";if(De=Ae.resolveObject,(se=Ae.element).resolvedContent){var Ie=0;0===se.resolvedContent.indexOf("<?xml")&&(Ie=se.resolvedContent.indexOf("?>")+2),Le=se.resolvedContent.substr(0,Ie)+"<response>"+se.resolvedContent.substr(Ie)+"</response>",se.resolvedContent=T.xml_str2json(Le)}(function fe(Ae){var se;for(se=0;se<Ae.elements.length;se++)if(!1===Ae.elements[se].resolved)return!1;return!0})(De)&&oe(De)}function oe(Ae){var De,Me,se=[];if(function me(Ae){var De,Me,Le,Ie,we,se=[];for(Le=Ae.elements.length-1;Le>=0;Le--){if(Me=(De=Ae.elements[Le]).type+"_asArray",De.resolvedContent){if(De.resolvedContent)for(Ie=0;Ie<De.resolvedContent[Me].length;Ie++)se.push(De.resolvedContent[Me][Ie])}else delete De.originalContent["xlink:actuate"],delete De.originalContent["xlink:href"],se.push(De.originalContent);for(De.parentElement[Me].splice(De.index,1),we=0;we<se.length;we++)De.parentElement[Me].splice(De.index+we,0,se[we]);se=[]}Ae.elements.length>0&&x.run(I)}(Ae),"onActuate"===Ae.resolveType&&O.trigger(R.default.XLINK_READY,{manifest:I}),Ae.resolveType===m)switch(Ae.type){case S.default.PERIOD:for(De=0;De<I[S.default.PERIOD+"_asArray"].length;De++)(Me=I[S.default.PERIOD+"_asArray"][De]).hasOwnProperty(S.default.ADAPTATION_SET+"_asArray")&&(se=se.concat(H(Me[S.default.ADAPTATION_SET+"_asArray"],Me,S.default.ADAPTATION_SET,m))),Me.hasOwnProperty(S.default.EVENT_STREAM+"_asArray")&&(se=se.concat(H(Me[S.default.EVENT_STREAM+"_asArray"],Me,S.default.EVENT_STREAM,m)));Oe(se,S.default.ADAPTATION_SET,m);break;case S.default.ADAPTATION_SET:O.trigger(R.default.XLINK_READY,{manifest:I})}}function H(Ae,se,De,Me){var Le,Ie,we,_e=[];for(Ie=Ae.length-1;Ie>=0;Ie--)(Le=Ae[Ie]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Le["xlink:href"]&&Ae.splice(Ie,1);for(Ie=0;Ie<Ae.length;Ie++)(Le=Ae[Ie]).hasOwnProperty("xlink:href")&&Le.hasOwnProperty("xlink:actuate")&&Le["xlink:actuate"]===Me&&(we=ne(Le["xlink:href"],se,De,Ie,Me,Le),_e.push(we));return _e}function ne(Ae,se,De,Me,_e,Le){return{url:Ae,parentElement:se,type:De,index:Me,resolveType:_e,originalContent:Le,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function re(Ae){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:P}),(I=Ae).Period_asArray?Oe(H(I.Period_asArray,I,S.default.PERIOD,m),S.default.PERIOD,m):O.trigger(R.default.XLINK_READY,{manifest:I})},setMatchers:function B(Ae){Ae&&(P=Ae)},setIron:function Y(Ae){Ae&&(x=Ae)},reset:function ae(){O.off(R.default.XLINK_ELEMENT_LOADED,z,k),N&&(N.reset(),N=null)}},function C(){O.on(R.default.XLINK_ELEMENT_LOADED,z,k),N=Object(y.default)(V).create({errHandler:w.errHandler,dashMetrics:w.dashMetrics,mediaPlayerModel:w.mediaPlayerModel,requestModifier:w.requestModifier,settings:w.settings})}(),k}v.__dashjs_factory_name="XlinkController",M.default=b.default.getClassFactory(v)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),E=e(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),R=e(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),b=e(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=e(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var m=this.context;return{createMetricsReporting:function v(O){return Object(y.default)(m).getInstance({eventBus:O.eventBus,dashMetrics:O.dashMetrics,metricsConstants:O.metricsConstants,events:O.events}).initialise(),Object(R.default)(m).create(O)},getReportingFactory:function w(){return Object(F.default)(m).getInstance()},getMetricsHandlerFactory:function V(){return Object(b.default)(m).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var S=dashjs.FactoryMaker.getClassFactory(L);S.events=E.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,S),M.default=S},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}e.r(M);var k=new(function(P){m(I,P);var x=p(I);function I(){var T;return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),(T=x.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));M.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),E=e(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),R=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function b(F){var L,S={},m=this.context,h=(F=F||{}).eventBus,p=F.events;function v(G){if(!G.error){var k=Object.keys(S);Object(E.default)(m).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(G.manifest).forEach(function(x){var I=JSON.stringify(x);if(S.hasOwnProperty(I))k.splice(I,1);else try{var T=Object(y.default)(m).create(F);T.initialize(x),S[I]=T}catch{}}),k.forEach(function(x){S[x].reset(),delete S[x]}),h.trigger(R.default.METRICS_INITIALISATION_COMPLETE)}}function w(){Object.keys(S).forEach(function(G){S[G].reset()}),S={}}return L={reset:function O(){h.off(p.MANIFEST_UPDATED,v,L),h.off(p.STREAM_TEARDOWN_COMPLETE,w,L)}},function V(){h.on(p.MANIFEST_UPDATED,v,L),h.on(p.STREAM_TEARDOWN_COMPLETE,w,L)}(),L}b.__dashjs_factory_name="MetricsCollectionController",M.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),E=e(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),R=e(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function b(F){F=F||{};var L,S,m,p=this.context;function w(){L&&L.reset(),S&&S.reset(),m&&m.reset()}return{initialize:function v(V){try{(m=Object(y.default)(p).create({mediaElement:F.mediaElement})).initialize(V.Range),(S=Object(E.default)(p).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(V.Reporting,m),(L=Object(R.default)(p).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(V.metrics,S)}catch(O){throw w(),O}},reset:w}}b.__dashjs_factory_name="MetricsController",M.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function E(R){var F,b=[],L=this.context,S=(R=R||{}).eventBus,m=R.events,h=Object(y.default)(L).getInstance({debug:R.debug,eventBus:R.eventBus,metricsConstants:R.metricsConstants});function p(V){b.forEach(function(O){O.handleNewMetric(V.metric,V.value,V.mediaType)})}return F={initialize:function v(V,O){V.split(",").forEach(function(G,k,P){var x;if(-1!==G.indexOf("(")&&-1===G.indexOf(")")){var I=P[k+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(G+=","+I,delete P[k+1])}(x=h.create(G,O))&&b.push(x)}),S.on(m.METRIC_ADDED,p,F),S.on(m.METRIC_UPDATED,p,F)},reset:function w(){S.off(m.METRIC_ADDED,p,F),S.off(m.METRIC_UPDATED,p,F),b.forEach(function(V){return V.reset()}),b=[]}}}E.__dashjs_factory_name="MetricsHandlersController",M.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function E(R){var L,S,b=!1,F=this.context,m=(R=R||{}).mediaElement;return L={initialize:function h(V){V&&V.length&&(V.forEach(function(O){var G=O.starttime;S.add(G,G+O.duration)}),b=!!V[0]._useWallClockTime)},reset:function p(){S.clear()},isEnabled:function w(){var O,V=S.length;if(!V)return!0;O=b?(new Date).getTime()/1e3:m.currentTime;for(var G=0;G<V;G+=1){var k=S.start(G),P=S.end(G);if(k<=O&&O<P)return!0}return!1}},function v(){S=Object(y.default)(F).create()}(),L}E.__dashjs_factory_name="RangeController",M.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function E(R){var b=[],L=Object(y.default)(this.context).getInstance(R);return{initialize:function S(p,v){p.some(function(w){var V=L.create(w,v);if(V)return b.push(V),!0})},reset:function m(){b.forEach(function(p){return p.reset()}),b=[]},report:function h(p,v){b.forEach(function(w){return w.report(p,v)})}}}E.__dashjs_factory_name="ReportingController",M.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),E=e(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),R=e(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),b=e(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var S,m=(L=L||{}).debug?L.debug.getLogger(S):{},h=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,p=this.context,v={BufferLevel:y.default,DVBErrors:E.default,HttpList:R.default,PlayList:b.default,RepSwitchList:b.default,TcpList:b.default};return{create:function w(G,k){var x,P=G.match(h);if(P){try{(x=v[P[1]](p).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(P[1],k,P[3],P[5])}catch(I){x=null,m.error("MetricsHandlerFactory: Could not create handler for type ".concat(P[1]," with args ").concat(P[3],", ").concat(P[5]," (").concat(I.message,")"))}return x}},register:function V(G,k){v[G]=k},unregister:function O(G){delete v[G]}}}F.__dashjs_factory_name="MetricsHandlerFactory",M.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(R){R=R||{};var F,L,S,m,h,p=this.context,v=Object(y.default)(p).getInstance(),w=[],V=R.metricsConstants;function G(){var I=function O(){try{return Object.keys(w).map(function(I){return w[I]}).reduce(function(I,T){return I.level<T.level?I:T})}catch{return}}();I&&h!==I.t&&(h=I.t,F.report(S,I))}return{initialize:function k(I,T,N){T&&(L=v.validateN(N),F=T,S=v.reconstructFullMetricName(I,N),m=setInterval(G,L))},reset:function P(){clearInterval(m),m=null,L=0,F=null,h=null},handleNewMetric:function x(I,T,N){I===V.BUFFER_LEVEL&&(w[N]=T)}}}E.__dashjs_factory_name="BufferLevelHandler",M.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");M.default=dashjs.FactoryMaker.getClassFactory(function E(R){var F,L=(R=R||{}).eventBus,S=R.metricsConstants;function m(){L.off(y.default.METRICS_INITIALISATION_COMPLETE,m,this),L.trigger(y.default.BECAME_REPORTING_PLAYER)}return{initialize:function h(w,V){V&&(F=V,L.on(y.default.METRICS_INITIALISATION_COMPLETE,m,this))},reset:function p(){F=null},handleNewMetric:function v(w,V){w===S.DVB_ERRORS&&F&&F.report(w,V)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(){var R,b;return{initialize:function F(m,h){R=m,b=h},reset:function L(){b=null,R=void 0},handleNewMetric:function S(m,h){m===R&&b&&b.report(R,h)}}}e.r(M),y.__dashjs_factory_name="GenericMetricHandler",M.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(R){R=R||{};var F,L,S,m,h,p=[],v=Object(y.default)(this.context).getInstance(),w=R.metricsConstants;function V(){p.length&&F&&F.report(m,p),p=[]}return{initialize:function O(P,x,I,T){x&&(L=v.validateN(I),F=x,T&&T.length&&(S=T),m=v.reconstructFullMetricName(P,I,T),h=setInterval(V,L))},reset:function G(){clearInterval(h),h=null,L=null,S=null,p=[],F=null},handleNewMetric:function k(P,x){P===w.HTTP_REQUEST&&(!S||S===x.type)&&p.push(x)}}}E.__dashjs_factory_name="HttpListHandler",M.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function E(R){var L,b={"urn:dvb:dash:reporting:2014":y.default},F=this.context,S=(R=R||{}).debug?R.debug.getLogger(L):{},m=R.metricsConstants,h=R.mediaPlayerModel||{};return{create:function p(V,O){var G;try{(G=b[V.schemeIdUri](F).create({metricsConstants:m,mediaPlayerModel:h})).initialize(V,O)}catch(k){G=null,S.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(V.schemeIdUri," (").concat(k.message,")"))}return G},register:function v(V,O){b[V]=O},unregister:function w(V){delete b[V]}}}E.__dashjs_factory_name="ReportingFactory",M.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),E=e(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),R=e(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function b(F){var L,m,h,p,v,w,V,O,S=this.context,P=[],x=(F=F||{}).metricsConstants;function B(){v=!1,w=!1,V=null,O=null}return L={report:function N(re,ae){Array.isArray(ae)||(ae=[ae]),w&&O.isEnabled()&&ae.forEach(function(Oe){var z=m.serialise(Oe);re!==x.DVB_ERRORS&&(z="metricname=".concat(re,"&").concat(z)),function T(re,ae,Oe){var z=new XMLHttpRequest;z.withCredentials=h.getXHRWithCredentialsForType(x.HTTP_REQUEST_DVB_REPORTING_TYPE);var oe=function(){var me=P.indexOf(z);-1!==me&&(P.splice(me,1),z.status>=200&&z.status<300?ae&&ae():Oe&&Oe())};P.push(z);try{z.open("GET",re),z.onloadend=oe,z.onerror=oe,z.send()}catch{z.onerror()}}(z="".concat(V,"?").concat(z),null,function(){w=!1})})},initialize:function C(re,ae){var Oe;if(O=ae,!(V=re.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");v||((Oe=re.dvb_probability)&&(1e3===Oe||Oe/1e3>=p.random())&&(w=!0),v=!0)},reset:function Y(){B()}},function I(){m=Object(y.default)(S).getInstance(),p=Object(E.default)(S).getInstance(),h=Object(R.default)(S).getInstance(),B()}(),L}b.__dashjs_factory_name="DVBReporting",M.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),E=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function R(b){var F,L,S=(b=b||{}).eventBus,m=b.dashMetrics,h=b.metricsConstants,p=b.events;function v(T){var N=new y.default;if(L){for(var C in T)T.hasOwnProperty(C)&&(N[C]=T[C]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),m.addDVBErrors(N)}}function w(T){T.error||(L=T.manifest)}function V(T){v({errorcode:y.default.BASE_URL_CHANGED,servicelocation:T.entry})}function O(){v({errorcode:y.default.BECAME_REPORTER})}function k(T){T.metric===h.HTTP_REQUEST&&function G(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&v({errorcode:T.responsecode||y.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function P(T){var C;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:C=y.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:C=y.default.CORRUPT_MEDIA_OTHER;break;default:return}v({errorcode:C})}return F={initialise:function x(){S.on(p.MANIFEST_UPDATED,w,F),S.on(p.SERVICE_LOCATION_BLACKLIST_CHANGED,V,F),S.on(p.METRIC_ADDED,k,F),S.on(p.METRIC_UPDATED,k,F),S.on(p.PLAYBACK_ERROR,P,F),S.on(E.default.BECAME_REPORTING_PLAYER,O,F)},reset:function I(){S.off(p.MANIFEST_UPDATED,w,F),S.off(p.SERVICE_LOCATION_BLACKLIST_CHANGED,V,F),S.off(p.METRIC_ADDED,k,F),S.off(p.METRIC_UPDATED,k,F),S.off(p.PLAYBACK_ERROR,P,F),S.off(E.default.BECAME_REPORTING_PLAYER,O,F)}}}R.__dashjs_factory_name="DVBErrorsTranslator",M.default=dashjs.FactoryMaker.getSingletonFactory(R)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(){return{reconstructFullMetricName:function(R,b,F){var L=R;return b&&(L+="("+b,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(R){if(!R)throw new Error("missing n");if(isNaN(R))throw new Error("n is NaN");if(R<0)throw new Error("n must be positive");return R}}}e.r(M),y.__dashjs_factory_name="HandlerHelpers",M.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),E=e(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),R=e(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function b(F){var S=(F=F||{}).adapter,m=F.constants;return{getMetrics:function p(v){var w=[];return v&&v.Metrics_asArray&&v.Metrics_asArray.forEach(function(V){var O=new y.default,G=S.getIsDynamic(v);V.hasOwnProperty("metrics")&&(O.metrics=V.metrics,V.Range_asArray&&V.Range_asArray.forEach(function(k){var P=new E.default;P.starttime=function h(v,w,V){var O,G,k=0;return w?k=S.getAvailabilityStartTime(v)/1e3:(O=S.getRegularPeriods(v)).length&&(k=O[0].start),G=k,V&&V.hasOwnProperty(m.START_TIME)&&(G+=V.starttime),G}(v,G,k),P.duration=k.hasOwnProperty("duration")?k.duration:S.getDuration(v),P._useWallClockTime=G,O.Range.push(P)}),V.Reporting_asArray&&(V.Reporting_asArray.forEach(function(k){var P=new R.default;k.hasOwnProperty(m.SCHEME_ID_URI)&&(P.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(P.value=k.value),k.hasOwnProperty(m.DVB_REPORTING_URL)&&(P.dvb_reportingUrl=k[m.DVB_REPORTING_URL]),k.hasOwnProperty(m.DVB_PROBABILITY)&&(P.dvb_probability=k[m.DVB_PROBABILITY]),O.Reporting.push(P))}),w.push(O)))}),w}}}b.__dashjs_factory_name="ManifestParsing",M.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(){return{serialise:function E(R){var L,S,b=[],F=[];for(L in R)if(R.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(S=R[L])&&(S=""),Array.isArray(S)){if(!S.length)continue;F=[],S.forEach(function(m){var h="Object"!==Object.prototype.toString.call(m).slice(8,-1);F.push(h?m:E(m))}),S=F.map(encodeURIComponent).join(",")}else"string"==typeof S?S=encodeURIComponent(S):S instanceof Date?S=S.toISOString():"number"==typeof S&&(S=Math.round(S));b.push(L+"="+S)}return b.join("&")}}}e.r(M),y.__dashjs_factory_name="MetricSerialiser",M.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(){var L,S,m,E=window.crypto||window.msCrypto,R=Uint32Array,b=Math.pow(2,8*R.BYTES_PER_ELEMENT)-1,F=10;function h(){E&&(L||(L=new R(F)),E.getRandomValues(L),S=0)}return m={random:function p(v,w){var V;return v||(v=0),w||(w=1),E?(S===L.length&&h(),V=L[S]/b,S+=1):V=Math.random(),V*(w-v)+v}},h(),m}e.r(M),y.__dashjs_factory_name="RNG",M.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M);var S=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});S.SSL_CONNECTION_FAILED_PREFIX="SSL",S.DNS_RESOLUTION_FAILED="C00",S.HOST_UNREACHABLE="C01",S.CONNECTION_REFUSED="C02",S.CONNECTION_ERROR="C03",S.CORRUPT_MEDIA_ISOBMFF="M00",S.CORRUPT_MEDIA_OTHER="M01",S.BASE_URL_CHANGED="F00",S.BECAME_REPORTER="S00",M.default=S},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function E(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,b(w.key),w)}}function R(h,p,v){return p&&E(h.prototype,p),v&&E(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var p=function F(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M);M.default=R(function h(){(function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(w){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(w)}function b(w,V){for(var O=0;O<V.length;O++){var G=V[O];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(w,L(G.key),G)}}function F(w,V,O){return V&&b(w.prototype,V),O&&b(w,O),Object.defineProperty(w,"prototype",{writable:!1}),w}function L(w){var V=function S(w,V){if("object"!==R(w)||null===w)return w;var O=w[Symbol.toPrimitive];if(void 0!==O){var G=O.call(w,V||"default");if("object"!==R(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(w)}(w,"string");return"symbol"===R(V)?V:String(V)}var h=NaN,p=F(function w(V,O){(function m(w,V){if(!(w instanceof V))throw new TypeError("Cannot call a class as a function")})(this,w),this.data={baseUrls:V||null,selectedIdx:O||h},this.children=[]});function v(){var w,V,O,G=this.context,k=Object(y.default)(G).getInstance();function T(Oe,z,oe){var H=O.getBaseURLsFromElement(oe);Oe[z]?k.areEqual(H,Oe[z].data.baseUrls)||(Oe[z].data.baseUrls=H,Oe[z].data.selectedIdx=h):Oe[z]=new p(H)}function N(Oe){!function I(){if(!O||!O.hasOwnProperty("getBaseURLsFromElement")||!O.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var z=O.getBaseURLsFromElement(Oe);k.areEqual(z,V.data.baseUrls)||(V.data.baseUrls=z,V.data.selectedIdx=h),Oe&&Oe.Period_asArray&&Oe.Period_asArray.forEach(function(oe,H){T(V.children,H,oe),oe.AdaptationSet_asArray&&oe.AdaptationSet_asArray.forEach(function(me,ne){T(V.children[H].children,ne,me),me.Representation_asArray&&me.Representation_asArray.sort(O.getRepresentationSortFunction()).forEach(function(fe,Ee){T(V.children[H].children[ne].children,Ee,fe)})})})}function C(Oe,z){var oe=z||V;Oe(oe.data),oe.children&&oe.children.forEach(function(H){return C(Oe,H)})}function re(){V=new p}return w={reset:re,update:function Y(Oe){N(Oe)},getForPath:function ae(Oe){var z=V,oe=[z.data];return Oe&&Oe.forEach(function(H){(z=z.children[H])&&oe.push(z.data)}),oe.filter(function(H){return H.baseUrls.length})},invalidateSelectedIndexes:function B(Oe){C(function(z){isNaN(z.selectedIdx)||Oe===z.baseUrls[z.selectedIdx].serviceLocation&&(z.selectedIdx=h)})},setConfig:function x(Oe){Oe.adapter&&(O=Oe.adapter)}},function P(){re()}(),w}v.__dashjs_factory_name="BaseURLTreeModel",M.default=E.default.getClassFactory(v)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),R=e(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),S=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=e(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function p(T,N){var C=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!C){if(Array.isArray(T)||(C=function v(T,N){if(T){if("string"==typeof T)return w(T,N);var C=Object.prototype.toString.call(T).slice(8,-1);if("Object"===C&&T.constructor&&(C=T.constructor.name),"Map"===C||"Set"===C)return Array.from(T);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return w(T,N)}}(T))||N&&T&&"number"==typeof T.length){C&&(T=C);var B=0,Y=function(){};return{s:Y,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(oe){throw oe},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Oe,re=!0,ae=!1;return{s:function(){C=C.call(T)},n:function(){var oe=C.next();return re=oe.done,oe},e:function(oe){ae=!0,Oe=oe},f:function(){try{!re&&null!=C.return&&C.return()}finally{if(ae)throw Oe}}}}function w(T,N){(null==N||N>T.length)&&(N=T.length);for(var C=0,B=new Array(N);C<N;C++)B[C]=T[C];return B}var G_MANIFEST="m",G_AUDIO="a",G_VIDEO="v",G_INIT="i",G_CAPTION="c",G_ISOBMFF_TEXT_TRACK="tt",G_ENCRYPTION_KEY="k",G_OTHER="o",k_DASH="d",k_MSS="s",P_VOD="v",P_LIVE="l";function I(){var T,N,C,B,Y,re,ae,Oe,z,oe,H=this.context,me=Object(y.default)(H).getInstance(),ne=Object(F.default)(H).getInstance();function se(){C={pr:1,nor:null,st:null,sf:null,sid:"".concat(h.default.generateUuid()),cid:null},z={},Oe={},oe={},Me()}function De(){Me()}function Me(){if(re){var He=re.getStreamController();if(He&&"function"==typeof He.getActiveStream){var ot=He.getActiveStream();ot&&(ae=ot.getProcessors())}}}function Ie(He,ot){var Ct,yt={},ut=p(ot);try{for(ut.s();!(Ct=ut.n()).done;){var Ot=Ct.value;He[Ot]&&(yt[Ot]=He[Ot])}}catch(It){ut.e(It)}finally{ut.f()}return yt}function Fe(He){var ot=ne.get().streaming.cmcd.enabledKeys;return He.filter(function(yt){return ot.includes(yt)})}function We(He){try{return He.type===S.HTTPRequest.MPD_TYPE?function xe(){var He=q();return He.ot=G_MANIFEST,He}():He.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE?(function K(He){oe.hasOwnProperty(He)||(oe[He]=!1),Oe.hasOwnProperty(He)||(Oe[He]=!1),z.hasOwnProperty(He)||(z[He]=!1)}(He.mediaType),function be(He){var Rn,ot=q(),yt=function $(He){try{return parseInt(He.mediaInfo.bitrateList[He.quality].bandwidth/1e3)}catch{return null}}(He),ut=function te(He){try{return isNaN(He.duration)?null:Math.round(1e3*He.duration)}catch{return null}}(He),Ct=function X(He){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(He)/100)}catch{return null}}(He.mediaType),Ot=function J(He){try{var ot=C.pr,yt=Y.getCurrentBufferLevel(He);return isNaN(ot)||isNaN(yt)?null:100*parseInt(yt/ot*10)}catch{return null}}(He.mediaType),It=Q(He.mediaType),Gt=function W(He){try{var ot=B.getTopBitrateInfoFor(He);return Math.round(ot.bitrate/1e3)}catch{return null}}(He.mediaType),Xt=C.pr,cn=function ke(He){if(ae&&0!==ae.length){var yt,ot=p(ae);try{for(ot.s();!(yt=ot.n()).done;){var ut=yt.value;if(ut.getType()===He)return ut.probeNextRequest()}}catch(Ct){ot.e(Ct)}finally{ot.f()}}}(He.mediaType);He.mediaType===L.default.VIDEO&&(Rn=G_VIDEO),He.mediaType===L.default.AUDIO&&(Rn=G_AUDIO),He.mediaType===L.default.TEXT&&(Rn="application/mp4"===He.mediaInfo.mimeType?G_ISOBMFF_TEXT_TRACK:G_CAPTION);var nt=ne.get().streaming.cmcd.rtp;return nt||(nt=function Ze(He){var ot=re.getPlaybackRate();ot||(ot=1);var yt=He.quality,Ct=He.mediaInfo,Ot=He.duration,It=Q(He.mediaType);0===It&&(It=500);var Rn=Ct.bitrateList[yt].bandwidth*Ot/1e3/(It/ot/1e3),nt=ne.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ne.get().streaming.cmcd.rtpSafetyFactor)?ne.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Rn*nt/100)+1)}(He)),ot.rtp=nt,cn&&(He.url!==cn.url?ot.nor=encodeURIComponent(h.default.getRelativeUrl(He.url,cn.url)):cn.range&&(ot.nrr=cn.range)),yt&&(ot.br=yt),Rn&&(ot.ot=Rn),isNaN(ut)||(ot.d=ut),isNaN(Ct)||(ot.mtp=Ct),isNaN(Ot)||(ot.dl=Ot),isNaN(It)||(ot.bl=It),isNaN(Gt)||(ot.tb=Gt),!isNaN(Xt)&&1!==Xt&&(ot.pr=Xt),z[He.mediaType]&&(ot.bs=!0,z[He.mediaType]=!1),(Oe[He.mediaType]||!oe[He.mediaType])&&(ot.su=!0,Oe[He.mediaType]=!1,oe[He.mediaType]=!0),ot}(He)):He.type===S.HTTPRequest.INIT_SEGMENT_TYPE?function ie(){var He=q();return He.ot=G_INIT,He.su=!0,He}():He.type===S.HTTPRequest.OTHER_TYPE||He.type===S.HTTPRequest.XLINK_EXPANSION_TYPE?function he(){var He=q();return He.ot=G_OTHER,He}():He.type===S.HTTPRequest.LICENSE?function Ue(He){var ot=q();return ot.ot=G_ENCRYPTION_KEY,ot}():null}catch{return null}}function q(){var He={},ot=ne.get().streaming.cmcd.cid?ne.get().streaming.cmcd.cid:C.cid;return He.v=1,He.sid=ne.get().streaming.cmcd.sid?ne.get().streaming.cmcd.sid:C.sid,He.sid="".concat(He.sid),ot&&(He.cid="".concat(ot)),!isNaN(C.pr)&&1!==C.pr&&null!==C.pr&&(He.pr=C.pr),C.st&&(He.st=C.st),C.sf&&(He.sf=C.sf),He}function Q(He){try{var ot=Y.getCurrentBufferLevel(He);return isNaN(ot)?null:100*parseInt(10*ot)}catch{return null}}function de(He){try{C.pr=He.playbackRate}catch{}}function pe(He){try{var ot=T.getIsDynamic(He.data),ut=He.protocol&&"MSS"===He.protocol?k_MSS:k_DASH;C.st="".concat(ot?P_LIVE:P_VOD),C.sf="".concat(ut)}catch{}}function le(He){try{He.state&&He.mediaType&&He.state===E.default.BUFFER_EMPTY&&(z[He.mediaType]||(z[He.mediaType]=!0),Oe[He.mediaType]||(Oe[He.mediaType]=!0))}catch{}}function Te(){for(var He in z)z.hasOwnProperty(He)&&(z[He]=!0);for(var ot in Oe)Oe.hasOwnProperty(ot)&&(Oe[ot]=!0)}function Ve(He){try{if(!He)return null;var ot=Object.keys(He).sort(function(Ct,Ot){return Ct.localeCompare(Ot)}),yt=ot.length,ut=ot.reduce(function(Ct,Ot,It){return"v"===Ot&&1===He[Ot]||(Ct+="string"==typeof He[Ot]&&"ot"!==Ot&&"sf"!==Ot&&"st"!==Ot?"".concat(Ot,"=").concat(JSON.stringify(He[Ot])):"".concat(Ot,"=").concat(He[Ot]),It<yt-1&&(Ct+=",")),Ct},"");return(ut=ut.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function _e(He){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var ot=We(He),ut=Ve(function Le(He){try{var ot=ne.get().streaming.cmcd.enabledKeys;return Object.keys(He).filter(function(yt){return ot.includes(yt)}).reduce(function(yt,ut){return yt[ut]=He[ut],yt},{})}catch{return He}}(ot));return me.trigger(R.default.CMCD_DATA_GENERATED,{url:He.url,mediaType:He.mediaType,cmcdData:ot,cmcdString:ut}),{key:"CMCD",value:ut}}return null}catch{return null}},getHeaderParameters:function we(He){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var ot=We(He),yt=Ie(ot,Fe(["br","d","ot","tb"])),ut=Ie(ot,Fe(["bl","dl","mtp","nor","nrr","su"])),Ct=Ie(ot,Fe(["bs","rtp"])),Ot=Ie(ot,Fe(["cid","pr","sf","sid","st","v"])),It={"CMCD-Object":Ve(yt),"CMCD-Request":Ve(ut),"CMCD-Status":Ve(Ct),"CMCD-Session":Ve(Ot)};return me.trigger(R.default.CMCD_DATA_GENERATED,{url:He.url,mediaType:He.mediaType,cmcdData:ot,headers:It}),It}return null}catch{return null}},setConfig:function Ae(He){He&&(He.abrController&&(B=He.abrController),He.dashMetrics&&(Y=He.dashMetrics),He.playbackController&&(re=He.playbackController))},reset:function qe(){me.off(E.default.PLAYBACK_RATE_CHANGED,de,this),me.off(E.default.MANIFEST_LOADED,pe,this),me.off(E.default.BUFFER_LEVEL_STATE_CHANGED,le,N),me.off(E.default.PLAYBACK_SEEKED,Te,N),se()},initialize:function Ee(){me.on(E.default.PLAYBACK_RATE_CHANGED,de,N),me.on(E.default.MANIFEST_LOADED,pe,N),me.on(E.default.BUFFER_LEVEL_STATE_CHANGED,le,N),me.on(E.default.PLAYBACK_SEEKED,Te,N),me.on(E.default.PERIOD_SWITCH_COMPLETED,De,N)}},function fe(){T=Object(m.default)(H).getInstance(),se()}(),N}I.__dashjs_factory_name="CmcdModel",M.default=b.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),b=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function m(){var h,p,v,w,V,O,G,k,P=this.context,x=Object(R.default)(P).getInstance();function T(){w=[],V=[],O=[],k=[],G=null,p=[]}function Ae(K,ie){var he=-1;K.some(function(q,$){if(q===ie)return he=$,!0}),!(he<0)&&K.splice(he,1)}function se(K){var ie;for(ie=0;ie<k.length;ie++)if(k[ie].rulename===K)return ie;return-1}function Ie(K,ie){Fe(K,ie);var he=new y.default;he.schemeIdUri=K,he.value=ie,p.push(he)}function Fe(K,ie){Object(b.checkParameterType)(K,"string"),Object(b.checkParameterType)(ie,"string"),p.forEach(function(he,q){he.schemeIdUri===K&&he.value===ie&&p.splice(q,1)})}return h={getCustomInitialTrackSelectionFunction:function re(){return G},setCustomInitialTrackSelectionFunction:function B(K){G=K},resetCustomInitialTrackSelectionFunction:function Y(){G=null},getLicenseResponseFilters:function Oe(){return V},getLicenseRequestFilters:function ae(){return w},getCustomCapabilitiesFilters:function ne(){return O},registerCustomCapabilitiesFilter:function fe(K){O.push(K)},registerLicenseResponseFilter:function oe(K){V.push(K)},registerLicenseRequestFilter:function z(K){w.push(K)},unregisterCustomCapabilitiesFilter:function Ee(K){Ae(O,K)},unregisterLicenseResponseFilter:function me(K){Ae(V,K)},unregisterLicenseRequestFilter:function H(K){Ae(w,K)},addAbrCustomRule:function De(K,ie,he){if("string"!=typeof K||K!==F.default.ABANDON_FRAGMENT_RULES&&K!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof ie)throw L.default.BAD_ARGUMENT_ERROR;var q=se(ie);-1===q?k.push({type:K,rulename:ie,rule:he}):(k[q].type=K,k[q].rule=he)},removeAllAbrCustomRule:function _e(){k=[]},removeAbrCustomRule:function Me(K){if(K){var ie=se(K);-1!==ie&&k.splice(ie,1)}else k=[]},getAbrCustomRules:function Le(){return k},addUTCTimingSource:Ie,removeUTCTimingSource:Fe,getUTCTimingSources:function we(){return p},clearDefaultUTCTimingSources:function We(){p=[]},restoreDefaultUTCTimingSources:function Ue(){var K=x.get().streaming.utcSynchronization.defaultTimingSource;Ie(K.scheme,K.value)},setXHRWithCredentialsForType:function xe(K,ie){K?v[K]=!!ie:Object.keys(v).forEach(function(he){xe(he,ie)})},getXHRWithCredentialsForType:function be(K){var ie=v[K];return void 0===ie?v.default:ie},setConfig:function C(){},reset:function N(){T()}},function I(){v={default:false},T()}(),h}m.__dashjs_factory_name="CustomParametersModel",M.default=E.default.getSingletonFactory(m)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),R="loading",b="executed",L="failed";function S(h){var P,x,I,T,p=(h=h||{}).eventBus,v=h.events,w=h.dashMetrics,V=h.fragmentLoader,O=h.debug,G=h.streamInfo,k=h.type;function Y(Ue){var $;return!!Ue&&($=!1,I.some(function(W){if(function(q,$){return!isNaN(q.index)&&q.startTime===$.startTime&&q.adaptationIndex===$.adaptationIndex&&q.type===$.type}(Ue,W)||function(q,$){return isNaN(q.index)&&isNaN($.index)&&q.quality===$.quality}(Ue,W)||function(q,$){return q.action===E.default.ACTION_COMPLETE&&q.action===$.action}(Ue,W))return $=!0}),$)}function Oe(Ue){return isNaN(Ue.duration)?.25:Math.min(Ue.duration/8,.5)}function z(Ue){I=I.filter(function(xe){var be=Oe(xe);return isNaN(xe.startTime)||void 0!==Ue&&xe.startTime>=Ue-be})}function H(Ue,xe){xe<=Ue+.5||(I=I.filter(function(be){var K=Oe(be);return isNaN(be.startTime)||be.startTime>=xe-K||isNaN(be.duration)||be.startTime+be.duration<=Ue+K}))}function Ae(Ue,xe,be){for(var ie=Ue.length-1;ie>=0;ie--){var he=Ue[ie],q=he.startTime,$=q+he.duration;if(be=isNaN(be)?Oe(he):be,!isNaN(q)&&!isNaN($)&&xe+be>=q&&xe-be<$||isNaN(q)&&isNaN(xe))return he}return null}function Me(Ue,xe){w.addSchedulingInfo(Ue,xe),w.addRequestsQueue(Ue.mediaType,T,I)}function _e(Ue){Ue.sender===V&&(T.splice(T.indexOf(Ue.request),1),Ue.response&&!Ue.error&&I.push(Ue.request),Me(Ue.request,Ue.error?L:b),p.trigger(v.FRAGMENT_LOADING_COMPLETED,{request:Ue.request,response:Ue.response,error:Ue.error,sender:this},{streamId:G.id,mediaType:k}))}function Le(Ue){Ue.sender===V&&p.trigger(v.FRAGMENT_LOADING_PROGRESS,{request:Ue.request,response:Ue.response,error:Ue.error,sender:this},{streamId:G.id,mediaType:k})}function Ie(Ue){Ue.sender===V&&p.trigger(v.FRAGMENT_LOADING_ABANDONED,{request:Ue.request},{streamId:G.id,mediaType:k})}function we(){I=[],T=[]}return P={getStreamId:function C(){return G.id},getType:function B(){return k},getRequests:function ae(Ue){var be=[];return(Ue?Ue.state instanceof Array?Ue.state:[Ue.state]:[]).forEach(function(K){var ie=function De(Ue){var xe;switch(Ue){case R:xe=T;break;case b:xe=I;break;default:xe=[]}return xe}(K);be=be.concat(function se(Ue,xe){return xe.hasOwnProperty("time")?[Ae(Ue,xe.time,xe.threshold)]:Ue.filter(function(be){for(var K in xe)if("state"!==K&&xe.hasOwnProperty(K)&&be[K]!=xe[K])return!1;return!0})}(ie,Ue))}),be},isFragmentLoaded:Y,isFragmentLoadedOrPending:function re(Ue){var K,xe=!1,be=0;if(!(xe=Y(Ue)))for(be=0;be<T.length;be++)Ue.url===(K=T[be]).url&&Ue.startTime===K.startTime&&(xe=!0);return xe},removeExecutedRequestsBeforeTime:z,removeExecutedRequestsAfterTime:function oe(Ue){I=I.filter(function(xe){return isNaN(xe.startTime)||void 0!==Ue&&xe.startTime<Ue})},syncExecutedRequestsWithBufferedRange:function me(Ue,xe){if(Ue&&0!==Ue.length){for(var be=0,K=0,ie=Ue.length;K<ie;K++)H(be,Ue.start(K)),be=Ue.end(K);xe>0&&H(be,xe)}else z()},abortRequests:function ne(){x.debug("abort requests"),V.abort(),T=[]},executeRequest:function fe(Ue){Ue.action===E.default.ACTION_DOWNLOAD?(Me(Ue,R),T.push(Ue),function Ee(Ue){p.trigger(v.FRAGMENT_LOADING_STARTED,{request:Ue},{streamId:G.id,mediaType:k}),V.load(Ue)}(Ue)):x.warn("Unknown request action.")},reset:function Fe(){p.off(v.LOADING_COMPLETED,_e,this),p.off(v.LOADING_DATA_PROGRESS,Le,this),p.off(v.LOADING_ABANDONED,Ie,this),V&&V.reset(),we()},resetInitialSettings:we,addExecutedRequest:function We(Ue){I.push(Ue)}},function N(){x=O.getLogger(P),we(),p.on(v.LOADING_COMPLETED,_e,P),p.on(v.LOADING_DATA_PROGRESS,Le,P),p.on(v.LOADING_ABANDONED,Ie,P)}(),P}S.__dashjs_factory_name="FragmentModel";var m=y.default.getClassFactory(S);m.FRAGMENT_MODEL_LOADING=R,m.FRAGMENT_MODEL_EXECUTED=b,m.FRAGMENT_MODEL_CANCELED="canceled",m.FRAGMENT_MODEL_FAILED=L,y.default.updateClassFactory(S.__dashjs_factory_name,m),M.default=m},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(){var p,v,h=this.context,w={};function V(){v=Object(y.default)(h).getInstance().getLogger(p)}function O(I){for(var T={},N=0,C=0,B=0,Y=0,re=I.length,ae=0;ae<re;++ae)N+=I[ae].chunkDownloadTimeRelativeMS,C+=I[ae].bufferLevel,B+=I[ae].chunkDownloadTimeRelativeMS*I[ae].bufferLevel,Y+=I[ae].chunkDownloadTimeRelativeMS*I[ae].chunkDownloadTimeRelativeMS;return T.m=(B-N*C/re)/(Y-N*N/re),T.b=C/re-T.m*N/re,function(Oe){return T.m*Oe+T.b}}function G(I){var N,T=!0,C=I.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/C<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return p={setup:V,addMeasurement:function x(I,T,N,C,B){I&&I.mediaType&&!w[I.mediaType]&&(w[I.mediaType]=[]);var Y=I.mediaInfo.bitrateList.find(function(re){return re.id===I.representationId});w[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:C,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:N.reduce(function(re,ae){return re+ae.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(re,ae){return re+ae.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:O(N.slice(1))}),w[I.mediaType].length>10&&w[I.mediaType].shift()},getThroughputCapacityDelayMS:function P(I,T){var N=w[I.mediaType]&&w[I.mediaType].slice(-3);return!N||N.length<3||!G(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(I){var T=w[I.mediaType].slice(-1).pop(),N=w[I.mediaType].slice(-3),C=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(C/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(C);var B=G(N),Y=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var re=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,ae=0,Oe=0,z=0,oe=0;oe<T.chunkMeasurements.length;oe++){var H=T.chunkMeasurements[oe];if(re<Oe+H.chunkDownloadDurationMS)break;Oe+=H.chunkDownloadDurationMS,ae+=H.chunkBytes,z++}if(re<0&&v.warn("request time was before adjusted availibitly start time"),ae&&Oe&&z>.2*T.chunkMeasurements.length){var ne=T.segmentBytes/(ae/Oe);return T.fetchDownloadDurationMS<ne?T.fetchDownloadDurationMS*Y:ne*Y}var fe=T.bitrate;return T.bitrateList.some(function(Ee){if(Ee.bandwidth>T.bitrate)return fe=Ee.bandwidth,!0}),fe===T.bitrate?T.fetchDownloadDurationMS*Y:Y*T.segmentBytes*8*1e3/fe}},V(),p}R.__dashjs_factory_name="LowLatencyThroughputModel",M.default=E.default.getSingletonFactory(R)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var m,F=this.context,L=Object(y.default)(F).getInstance();return{getValue:function h(){return m},setValue:function p(v){m=v,v&&L.trigger(E.default.MANIFEST_LOADED,{data:v})}}}b.__dashjs_factory_name="ManifestModel",M.default=R.default.getSingletonFactory(b)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),v=-.5;function V(){var O,G,k,P,x=this.context,I=Object(R.default)(x).getInstance();function C(fe,Ee){return isNaN(fe)?0:fe>0?(Ee&&G.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):fe<v?(Ee&&G.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(v,": ").concat(-50,"% playback speed.")),v):fe}function B(fe,Ee){return isNaN(fe)?0:fe<0?(Ee&&G.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):fe>1?(Ee&&G.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):fe}function oe(){var fe=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,Ee=k.getLiveDelay();return!isNaN(Ee)&&Ee>0?Math.min(fe,Ee):fe}return O={getCatchupMaxDrift:function Y(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var fe=P.getServiceDescriptionSettings();return fe&&fe.liveCatchup&&!isNaN(fe.liveCatchup.maxDrift)&&fe.liveCatchup.maxDrift>0?fe.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ae(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:oe,getInitialBufferLevel:function z(){var fe=I.get().streaming.buffer.initialBufferLevel;return isNaN(fe)||fe<0?0:Math.min(oe(),fe)},getRetryAttemptsForType:function H(fe){var Ee=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[fe]*Ee:I.get().streaming.retryAttempts[fe]},getRetryIntervalsForType:function me(fe){var Ee=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[fe]/Ee:I.get().streaming.retryIntervals[fe]},getCatchupPlaybackRates:function re(fe){var Ee=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(Ee.min)||!isNaN(Ee.max))return{min:C(Ee.min,fe),max:B(Ee.max,fe)};var Ae=P.getServiceDescriptionSettings();if(Ae&&Ae.liveCatchup&&(!isNaN(Ae.liveCatchup.playbackRate.min)||!isNaN(Ae.liveCatchup.playbackRate.max))){var se=Ae.liveCatchup.playbackRate;return{min:C(se.min,fe),max:B(se.max,fe)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Oe(fe,Ee){try{var Ae=I.get().streaming.abr[fe][Ee];if(!isNaN(Ae)&&-1!==Ae)return Ae;var se=P.getServiceDescriptionSettings();return se&&se[fe]&&!isNaN(se[fe][Ee])?se[fe][Ee]:-1}catch{return-1}},setConfig:function N(fe){fe.playbackController&&(k=fe.playbackController),fe.serviceDescriptionController&&(P=fe.serviceDescriptionController)},reset:function ne(){}},function T(){G=Object(y.default)(x).getInstance().getLogger(O)}(),O}V.__dashjs_factory_name="MediaPlayerModel",M.default=E.default.getSingletonFactory(V)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),R=e(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),b=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=e(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=e(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),S=e(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),m=e(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),h=e(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),p=e(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),v=e(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),V=e(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),O=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),G=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(P){var N,C,x=(P=P||{}).settings,I=this.context,T=Object(w.default)(I).getInstance();function Y(){T.trigger(O.default.METRICS_CHANGED)}function re(K){T.trigger(O.default.METRIC_CHANGED,{mediaType:K}),Y()}function ae(K,ie,he){T.trigger(O.default.METRIC_UPDATED,{mediaType:K,metric:ie,value:he}),re(K)}function Oe(K,ie,he){T.trigger(O.default.METRIC_ADDED,{mediaType:K,metric:ie,value:he}),re(K)}function H(K,ie){var he=null;return K&&(C.hasOwnProperty(K)?he=C[K]:ie||(he=new R.default,C[K]=he)),he}function me(K,ie,he){var q=H(K);null!==q&&(q[ie].push(he),q[ie].length>x.get().streaming.metrics.maxListDepth&&q[ie].shift())}function Ae(K,ie,he){me(K,ie,he),Oe(K,ie,he)}return N={clearCurrentMetricsForType:function z(K){delete C[K],re(K)},clearAllCurrentMetrics:function oe(){C={},Y()},getMetricsFor:H,addHttpRequest:function fe(K,ie,he,q,$,W,te,X,J,Q,de,pe,le,Te,Ve,ke){var Ze=new b.HTTPRequest;W&&W!==q&&(fe(K,null,he,q,$,null,null,X,J,null,null,null,le,null,null,ke),Ze.actualurl=W),Ze.tcpid=ie,Ze.type=he,Ze.url=q,Ze.range=X,Ze.trequest=J,Ze.tresponse=Q,Ze.responsecode=pe,Ze._tfinish=de,Ze._stream=K,Ze._mediaduration=le,Ze._quality=$,Ze._responseHeaders=Te,Ze._serviceLocation=te,Ze._fileLoaderType=ke,Ve?Ve.forEach(function(qe){!function ne(K,ie,he,q){var $=new b.HTTPRequestTrace;return $.s=ie,$.d=he,$.b=q,K.trace.push($),K.interval||(K.interval=0),K.interval+=he,$}(Ze,qe.s,qe.d,qe.b)}):(delete Ze.interval,delete Ze.trace),Ae(K,E.default.HTTP_REQUEST,Ze)},addRepresentationSwitch:function Ee(K,ie,he,q,$){var W=new F.default;W.t=ie,W.mt=he,W.to=q,$?W.lto=$:delete W.lto,Ae(K,E.default.TRACK_SWITCH,W)},addBufferLevel:function se(K,ie,he){var q=new L.default;q.t=ie,q.level=he,Ae(K,E.default.BUFFER_LEVEL,q)},addBufferState:function De(K,ie,he){var q=new S.default;q.target=he,q.state=ie,Ae(K,E.default.BUFFER_STATE,q)},addDVRInfo:function Me(K,ie,he,q){var $=new m.default;$.time=ie,$.range=q,$.manifestInfo=he,Ae(K,E.default.DVR_INFO,$)},addDroppedFrames:function _e(K,ie){var he=new h.default,q=H(K).DroppedFrames;ie&&(he.time=ie.creationTime,he.droppedFrames=ie.droppedVideoFrames,!(q.length>0&&q[q.length-1]==he)&&Ae(K,E.default.DROPPED_FRAMES,he))},addSchedulingInfo:function Le(K,ie,he,q,$,W,te,X,J){var Q=new v.default;Q.mediaType=K,Q.t=ie,Q.type=he,Q.startTime=q,Q.availabilityStartTime=$,Q.duration=W,Q.quality=te,Q.range=X,Q.state=J,Ae(K,E.default.SCHEDULING_INFO,Q)},addRequestsQueue:function Ie(K,ie,he){var q=new V.default;q.loadingRequests=ie,q.executedRequests=he,H(K).RequestsQueue=q,Oe(K,E.default.REQUESTS_QUEUE,q)},addManifestUpdate:function we(K,ie,he,q,$,W,te,X,J,Q){var de=new p.ManifestUpdate;de.mediaType=K,de.type=ie,de.requestTime=he,de.fetchTime=q,de.availabilityStartTime=$,de.presentationStartTime=W,de.clientTimeOffset=te,de.currentTime=X,de.buffered=J,de.latency=Q,me(y.default.STREAM,E.default.MANIFEST_UPDATE,de),Oe(K,E.default.MANIFEST_UPDATE,de)},updateManifestUpdateInfo:function Fe(K,ie){if(K){for(var he in ie)K[he]=ie[he];ae(K.mediaType,E.default.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function We(K,ie,he,q,$){if(K){var W=new p.ManifestUpdateStreamInfo;W.id=ie,W.index=he,W.start=q,W.duration=$,K.streamInfo.push(W),ae(K.mediaType,E.default.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function Ue(K,ie,he,q,$,W,te,X){if(K&&K.representationInfo){var J=new p.ManifestUpdateRepresentationInfo;J.id=ie,J.index=he,J.streamIndex=q,J.mediaType=$,J.startNumber=te,J.fragmentInfoType=X,J.presentationTimeOffset=W,K.representationInfo.push(J),ae(K.mediaType,E.default.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function xe(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(ie){ie.hasOwnProperty("subreplevel")&&!ie.subreplevel&&delete ie.subreplevel}):delete K.trace,Ae(y.default.STREAM,E.default.PLAY_LIST,K)},addDVBErrors:function be(K){Ae(y.default.STREAM,E.default.DVB_ERRORS,K)}},function B(){C={}}(),N}k.__dashjs_factory_name="MetricsModel",M.default=G.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(){var F;return{initialize:function L(m){if(F=new y.default,!m)return null;var h=m.indexOf("#");if(-1!==h)for(var p=m.substr(h+1).split("&"),v=0,w=p.length;v<w;++v){var V=p[v],O=V.indexOf("=");if(-1!==O){var G=V.substring(0,O);F.hasOwnProperty(G)&&(F[G]=V.substr(O+1))}}},getURIFragmentData:function S(){return F}}}R.__dashjs_factory_name="URIFragmentModel",M.default=E.default.getSingletonFactory(R)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function S(){var m,h,p,v,w,V,O,k=this.context,P=Object(E.default)(k).getInstance(),x=[];function C(){p&&(p.playbackRate=O||1,p.removeEventListener("canplay",C))}function Ae(){return x.length>0}function _e(){if(p&&Ae()&&0===p.playbackRate){var He=document.createEvent("Event");He.initEvent("waiting",!0,!1),p.dispatchEvent(He)}}function ie(He,ot){p&&p.addEventListener(He,ot)}function he(He,ot){p&&p.removeEventListener(He,ot)}function q(){return p?p.readyState:NaN}function $(){return p?p.buffered:null}function le(He,ot,yt,ut,Ct){if(p)for(var Ot=0;Ot<p.textTracks.length;Ot++)if(p.textTracks[Ot].kind===He&&(!ot||p.textTracks[Ot].label==ot)&&p.textTracks[Ot].language===yt&&p.textTracks[Ot].isTTML===ut&&p.textTracks[Ot].isEmbedded===Ct)return p.textTracks[Ot];return null}function Ze(He,ot){He===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||q()>=He?ot():function qe(He,ot){ie(He,function ut(){he(He,ut),ot(He)})}(L.get(He),ot)}return m={initialize:function T(){P.on(R.default.PLAYBACK_PLAYING,_e,this)},setCurrentTime:function Y(He,ot){v=He,Ze(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(p){if(p.currentTime===v)return void(v=NaN);try{v=ot?function re(He){var ot=$(),yt=He,ut=9999999999;if(ot)for(var Ct=0;Ct<ot.length;Ct++){var Ot=ot.start(Ct),It=ot.end(Ct),Gt=Math.abs(Ot-He),Xt=Math.abs(It-He);if(He>=Ot&&He<=It)return He;Gt<ut&&(ut=Gt,yt=Ot),Xt<ut&&(ut=Xt,yt=It)}return yt}(v):v,p.currentTime=v,v=NaN}catch(yt){0===p.readyState&&yt.code===yt.INVALID_STATE_ERR&&setTimeout(function(){p.currentTime=v,v=NaN},400)}}})},play:function Ie(){if(p){p.autoplay=!0;var He=p.play();He&&He.catch&&typeof Promise<"u"&&He.catch(function(ot){"NotAllowedError"===ot.name&&P.trigger(R.default.PLAYBACK_NOT_ALLOWED),h.warn("Caught pending play exception - continuing (".concat(ot,")"))})}},isPaused:function we(){return p?p.paused:null},pause:function Fe(){p&&(p.pause(),p.autoplay=!1)},isStalled:Ae,isSeeking:function We(){return p?p.seeking||!isNaN(v):null},getTime:function Ue(){return p?isNaN(v)?p.currentTime:v:null},getPlaybackRate:function xe(){return p?p.playbackRate:null},setPlaybackRate:function B(He){p&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&p.readyState<=2&&He>0?p.addEventListener("canplay",C):p.playbackRate=He)},getPlayedRanges:function be(){return p?p.played:null},getEnded:function K(){return p?p.ended:null},setStallState:function Ee(He,ot){!function Me(He,ot){ot?function se(He){null===He||!p||p.seeking||-1!==x.indexOf(He)||x.push(He)}(He):function De(He){var ot=x.indexOf(He);null!==He&&-1!==ot&&x.splice(ot,1)}(He)}(He,ot)},getElement:function ae(){return p},setElement:function Oe(He){if(!(null==He||He&&/^(VIDEO|AUDIO)$/i.test(He.nodeName)))throw"element is not video or audio DOM type!";(p=He)&&(p.preload="auto")},setSource:function z(He){p&&(He?p.src=He:(p.removeAttribute("src"),p.load()))},getSource:function oe(){return p?p.src:null},getTTMLRenderingDiv:function H(){return w},setTTMLRenderingDiv:function ne(He){(w=He).style.position="absolute",w.style.display="flex",w.style.overflow="hidden",w.style.pointerEvents="none",w.style.top=0,w.style.left=0},getVttRenderingDiv:function me(){return V},setVttRenderingDiv:function fe(He){V=He},getPlaybackQuality:function Le(){if(!p)return null;var He="webkitDroppedFrameCount"in p&&"webkitDecodedFrameCount"in p,yt=null;return"getVideoPlaybackQuality"in p?yt=p.getVideoPlaybackQuality():He&&(yt={droppedVideoFrames:p.webkitDroppedFrameCount,totalVideoFrames:p.webkitDroppedFrameCount+p.webkitDecodedFrameCount,creationTime:new Date}),yt},addEventListener:ie,removeEventListener:he,getReadyState:q,getBufferRange:$,getClientWidth:function W(){return p?p.clientWidth:NaN},getClientHeight:function te(){return p?p.clientHeight:NaN},getTextTracks:function pe(){return p?p.textTracks:[]},getTextTrack:le,addTextTrack:function Te(He,ot,yt,ut,Ct){if(!p)return null;var Ot=le(He,ot,yt,ut,Ct);return Ot||((Ot=p.addTextTrack(He,ot,yt)).isEmbedded=Ct,Ot.isTTML=ut),Ot},appendChild:function Ve(He){p&&(p.appendChild(He),void 0!==He.isTTML&&(p.textTracks[p.textTracks.length-1].isTTML=He.isTTML,p.textTracks[p.textTracks.length-1].isEmbedded=He.isEmbedded))},removeChild:function ke(He){p&&p.removeChild(He)},getVideoWidth:function X(){return p?p.videoWidth:NaN},getVideoHeight:function J(){return p?p.videoHeight:NaN},getVideoRelativeOffsetTop:function Q(){var He=p.parentNode.host||p.parentNode;return He?p.getBoundingClientRect().top-He.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function de(){var He=p.parentNode.host||p.parentNode;return He?p.getBoundingClientRect().left-He.getBoundingClientRect().left:NaN},waitForReadyState:Ze,reset:function N(){P.off(R.default.PLAYBACK_PLAYING,_e,this)}},function I(){h=Object(b.default)(k).getInstance().getLogger(m),v=NaN}(),m}S.__dashjs_factory_name="VideoModel",M.default=y.default.getSingletonFactory(S)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),R=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(O,G){return function m(O){if(Array.isArray(O))return O}(O)||function S(O,G){var k=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=k){var P,x,I,T,N=[],C=!0,B=!1;try{if(I=(k=k.call(O)).next,0===G){if(Object(k)!==k)return;C=!1}else for(;!(C=(P=I.call(k)).done)&&(N.push(P.value),N.length!==G);C=!0);}catch(Y){B=!0,x=Y}finally{try{if(!C&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw x}}return N}}(O,G)||p(O,G)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(O,G){if(O){if("string"==typeof O)return v(O,G);var k=Object.prototype.toString.call(O).slice(8,-1);if("Object"===k&&O.constructor&&(k=O.constructor.name),"Map"===k||"Set"===k)return Array.from(O);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return v(O,G)}}function v(O,G){(null==G||G>O.length)&&(G=O.length);for(var k=0,P=new Array(G);k<G;k++)P[k]=O[k];return P}function w(O){var N,G=this.context,k=(O=O||{}).requestModifier,P=O.lowLatencyThroughputModel,x=O.boxParser,I=Object(E.default)(G).getInstance();function Y(H){var se,me=new Date,ne=H.request,fe=new Headers;if(ne.range&&fe.append("Range","bytes="+ne.range),H.headers)for(var Ee in H.headers){var Ae=H.headers[Ee];Ae&&fe.append(Ee,Ae)}ne.requestStartDate||(ne.requestStartDate=me),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(we,Fe){fe.append(we,Fe)}},{url:H.url}),"function"==typeof window.AbortController&&(se=new AbortController,H.abortController=se,se.signal.onabort=H.onabort);var De={method:H.method,headers:fe,credentials:H.withCredentials?"include":void 0,signal:se?se.signal:void 0},Me=I.get().streaming.abr.fetchThroughputCalculationMode,_e=Date.now(),Le=0;new Promise(function(Ie){if(Me===R.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P&&(Le=P.getThroughputCapacityDelayMS(ne,1e3*N.getCurrentBufferLevel(ne.mediaType))))return setTimeout(Ie,Le);Ie()}).then(function(){var Ie=Date.now();fetch(H.url,De).then(function(we){H.response||(H.response={}),H.response.status=we.status,H.response.statusText=we.statusText,H.response.responseURL=we.url,we.ok||H.onerror();var Ue,Fe="",We=function h(O,G){var k=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!k){if(Array.isArray(O)||(k=p(O))||G&&O&&"number"==typeof O.length){k&&(O=k);var P=0,x=function(){};return{s:x,n:function(){return P>=O.length?{done:!0}:{done:!1,value:O[P++]}},e:function(B){throw B},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,I=!0,T=!1;return{s:function(){k=k.call(O)},n:function(){var B=k.next();return I=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!I&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(we.headers.keys());try{for(We.s();!(Ue=We.n()).done;){var xe=Ue.value;Fe+=xe+": "+we.headers.get(xe)+"\r\n"}}catch(Ze){We.e(Ze)}finally{We.f()}if(H.response.responseHeaders=Fe,!we.body)return we.arrayBuffer().then(function(Ze){H.response.response=Ze,H.progress({loaded:Ze.byteLength,total:Ze.byteLength,stream:!1}),H.onload(),H.onend()});var He,ot,be=parseInt(we.headers.get("Content-Length"),10),K=0,ie=!1,he=new Uint8Array,q=0;if(Me===R.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P){var W=Ie,te=0,J=F(we.body.tee(),2),de=J[1];He=J[0].getReader(),ot=[],He.read().then(function yt(ut){var Ct=ut.value,Ot=ut.done;if(te=Date.now(),Ct&&Ct.length){var It=te-W,Gt=Ct.length;ot.push({chunkDownloadTimeRelativeMS:te-Ie,chunkDownloadDurationMS:It,chunkBytes:Gt,kbps:Math.round(8*Gt/(It/1e3)),bufferLevel:N.getCurrentBufferLevel(ne.mediaType)})}if(Ot){var Xt=te-Ie,cn=ot.reduce(function(Rn,nt){return Rn+nt.chunkBytes},0);return P.addMeasurement(ne,Xt,ot,_e,Le,Fe),void H.progress({loaded:cn,total:cn,lengthComputable:!0,time:P.getEstimatedDownloadDurationMS(ne),stream:!0})}return W=Date.now(),He.read().then(yt)}),H.reader=de.getReader()}else H.reader=we.body.getReader();var pe=[],le=[],Te=[],Ve=!0;re(H,function Ze(qe){var He=qe.value;if(qe.done){if(he){if(Me!==R.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var yt=null,ut=null;Me===R.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(yt=function oe(H,me){try{var ne,fe;ne=H.filter(function(Ie,we){return we<H.length-1}),fe=me.filter(function(Ie,we){return we<me.length-1});var Ee=[];if(ne.length>1){for(var Ae=0,se=0,De=0;De<ne.length;De++)if(ne[De]&&fe[De]){var Me=fe[De].ts-ne[De].ts;if(Me>1)Ee.push(8*fe[De].bytes/Me);else{0===se&&(se=ne[De].ts);var _e=fe[De].ts-se;_e>1?(Ee.push(8*Ae/_e),Ae=0,se=0):Ae+=fe[De].bytes}}if(Ee.length>0)return Ee.reduce(function(Ie,we){return Ie+we},0)/Ee.length}return null}catch{return null}}(le,Te))&&(ut=8*K/yt):Me===R.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(ut=z(pe,K)),H.progress({loaded:K,total:isNaN(be)?K:be,lengthComputable:!0,time:ut,stream:!0})}H.response.response=he.buffer}return H.onload(),void H.onend()}if(He&&He.length>0){he=function ae(H,me){if(0===H.length)return me;var ne=new Uint8Array(H.length+me.length);return ne.set(H),ne.set(me,H.length),ne}(he,He),K+=He.length,pe.push({ts:Date.now(),bytes:He.length}),Me===R.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ve&&x.findLastTopIsoBoxCompleted(["moof"],he,q).found&&(Ve=!1,le.push({ts:performance.now(),bytes:He.length}));var Ot=x.findLastTopIsoBoxCompleted(["moov","mdat"],he,q);if(Ot.found){var Gt,It=Ot.lastCompletedOffset+Ot.size;Me===R.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ve&&(Ve=!0,Te.push({ts:performance.now(),bytes:he.length})),It===he.length?(Gt=he,he=new Uint8Array):(Gt=new Uint8Array(he.subarray(0,It)),he=he.subarray(It)),H.progress({data:Gt.buffer,lengthComputable:!1,noTrace:!0}),q=0}else q=Ot.lastCompletedOffset,ie||(H.progress({lengthComputable:!1,noTrace:!0}),ie=!0)}re(H,Ze)})}).catch(function(we){H.onerror&&H.onerror(we)})})}function re(H,me){H.reader.read().then(me).catch(function(ne){H.onerror&&200===H.response.status&&H.onerror(ne)})}function z(H,me){try{if((H=H.filter(function(Ee){return Ee.bytes>me/4/H.length})).length>1){var ne=0,fe=(H[H.length-1].ts-H[0].ts)/H.length;return H.forEach(function(Ee,Ae){var se=H[Ae+1];if(se){var De=se.ts-Ee.ts;ne+=De<fe?De:0}}),ne}return null}catch{return null}}return{load:function B(H){k&&k.modifyRequest?Object(b.modifyRequest)(H,k).then(function(){return Y(H)}):Y(H)},abort:function Oe(H){if(H.abortController)H.abortController.abort();else if(H.reader)try{H.reader.cancel(),H.onabort()}catch{}},calculateDownloadedTime:z,setup:function C(H){N=H.dashMetrics}}}w.__dashjs_factory_name="FetchLoader";var V=y.default.getClassFactory(w);M.default=V},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),E=e(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),R=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=e(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),S=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),v=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),V=e(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),O=e(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function G(N){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(N)}function k(N,C,B){return(C=function P(N){var C=function x(N,C){if("object"!==G(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,C||"default");if("object"!==G(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(N)}(N,"string");return"symbol"===G(C)?C:String(C)}(C))in N?Object.defineProperty(N,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[C]=B,N}function I(N){var ne,fe,Ee,Ae,se,De,Me,_e,Le,C=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,re=N.mediaPlayerModel,ae=N.requestModifier,Oe=N.boxParser,z=N.errors,oe=N.requestTimeout||0,H=Object(h.default)(C).getInstance(),me=Object(v.default)(C).getInstance();function we(xe,be){var J,K=xe.request,ie=[],he=!0,q=!0,$=new Date,W=$,te=0,X=null;if(!ae||!Y||!B)throw new Error("config object is not correct or missing");var ke,Q=function(Gt){if(q=!1,K.requestStartDate=$,K.requestEndDate=new Date,K.firstByteDate=K.firstByteDate||$,K.fileLoaderType=X,!K.checkExistenceOnly){var Xt=J.response?J.response.responseURL:null,cn=J.response?J.response.status:null,Rn=J.response&&J.response.getAllResponseHeaders?J.response.getAllResponseHeaders():J.response?J.response.responseHeaders:[];Y.addHttpRequest(K,Xt,cn,Rn,Gt?ie:null),K.type===R.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(K)}},de=function(){if(-1!==fe.indexOf(J)&&(fe.splice(fe.indexOf(J),1),q))if(Q(!1),be>0){try{me.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&K.type===R.HTTPRequest.MEDIA_SEGMENT_TYPE&&re.getRetryAttemptsForType(R.HTTPRequest.MEDIA_SEGMENT_TYPE)===be&&H.trigger(p.default.ATTEMPT_BACKGROUND_SYNC)}catch{}be--;var Xt={config:xe};Ae.push(Xt),Xt.timeout=setTimeout(function(){-1!==Ae.indexOf(Xt)&&(Ae.splice(Ae.indexOf(Xt),1),we(xe,be))},re.getRetryIntervalsForType(K.type))}else{if(K.type===R.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(se[K.type],K.url+" is not available",{request:K,response:J.response})),xe.error&&xe.error(K,"error",J.response.statusText),xe.complete&&xe.complete(K,J.response.statusText)}};K.hasOwnProperty("availabilityTimeComplete")&&!1===K.availabilityTimeComplete&&window.fetch&&"arraybuffer"===K.responseType&&K.type===R.HTTPRequest.MEDIA_SEGMENT_TYPE?((ke=Object(E.default)(C).create({requestModifier:ae,lowLatencyThroughputModel:_e,boxParser:Oe})).setup({dashMetrics:Y}),X=w.default.FILE_LOADER_TYPES.FETCH):(ke=Object(y.default)(C).create({requestModifier:ae}),X=w.default.FILE_LOADER_TYPES.XHR);var Ze=null,qe=ae.modifyRequestURL?ae.modifyRequestURL(K.url):K.url;if(me.get().streaming.cmcd&&me.get().streaming.cmcd.enabled){var He=me.get().streaming.cmcd.mode;if(He===w.default.CMCD_MODE_QUERY){var ot=function Fe(xe){try{var be=[],K=De.getQueryParameter(xe);return K&&be.push(K),be}catch{return[]}}(K);qe=S.default.addAditionalQueryParameterToUrl(qe,ot)}else He===w.default.CMCD_MODE_HEADER&&(Ze=De.getHeaderParameters(K))}K.url=qe;var yt=K.checkExistenceOnly?R.HTTPRequest.HEAD:R.HTTPRequest.GET,ut=Me.getXHRWithCredentialsForType(K.type);J={url:qe,method:yt,withCredentials:ut,request:K,onload:function(){J.response.status>=200&&J.response.status<=299&&(Q(!0),xe.success&&xe.success(J.response.response,J.response.statusText,J.response.responseURL),xe.complete&&xe.complete(K,J.response.statusText))},onend:de,onerror:de,progress:function(Gt){var Xt=new Date;he&&(he=!1,(!Gt.lengthComputable||Gt.lengthComputable&&Gt.total!==Gt.loaded)&&(K.firstByteDate=Xt)),Gt.lengthComputable&&(K.bytesLoaded=Gt.loaded,K.bytesTotal=Gt.total),Gt.noTrace||(ie.push({s:W,d:Gt.time?Gt.time:Xt.getTime()-W.getTime(),b:[Gt.loaded?Gt.loaded-te:0]}),W=Xt,te=Gt.loaded),xe.progress&&Gt&&xe.progress(Gt)},onabort:function(){xe.abort&&xe.abort(K)},ontimeout:function(Gt){var Xt;Xt=Gt.lengthComputable?"Request timeout: loaded: "+Gt.loaded+", out of: "+Gt.total+" : "+(Gt.loaded/Gt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Le.warn(Xt)},loader:ke,timeout:oe,headers:Ze};var Ct=(new Date).getTime();if(isNaN(K.delayLoadingTime)||Ct>=K.delayLoadingTime)fe.push(J),ke.load(J);else{var Ot={httpRequest:J};Ee.push(Ot),Ot.delayTimeout=setTimeout(function(){if(-1!==Ee.indexOf(Ot)){Ee.splice(Ee.indexOf(Ot),1);try{W=$=new Date,fe.push(Ot.httpRequest),ke.load(Ot.httpRequest)}catch{Ot.httpRequest.onerror()}}},K.delayLoadingTime-Ct)}}return ne={load:function We(xe){xe.request?we(xe,re.getRetryAttemptsForType(xe.request.type)):xe.error&&xe.error(xe.request,"error")},abort:function Ue(){Ae.forEach(function(xe){clearTimeout(xe.timeout),xe.config.request&&xe.config.abort&&xe.config.abort(xe.config.request)}),Ae=[],Ee.forEach(function(xe){return clearTimeout(xe.delayTimeout)}),Ee=[],fe.forEach(function(xe){xe.request.type!==R.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(xe.onloadend=xe.onerror=xe.onprogress=void 0,xe.loader.abort(xe))}),fe=[]}},function Ie(){var xe;Le=Object(m.default)(C).getInstance().getLogger(ne),fe=[],Ee=[],Ae=[],De=Object(L.default)(C).getInstance(),_e=Object(V.default)(C).getInstance(),Me=Object(O.default)(C).getInstance(),k(xe={},R.HTTPRequest.MPD_TYPE,z.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(xe,R.HTTPRequest.XLINK_EXPANSION_TYPE,z.DOWNLOAD_ERROR_ID_XLINK_CODE),k(xe,R.HTTPRequest.INIT_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(xe,R.HTTPRequest.MEDIA_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(xe,R.HTTPRequest.INDEX_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(xe,R.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(xe,R.HTTPRequest.OTHER_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),se=xe}(),ne}I.__dashjs_factory_name="HTTPLoader";var T=b.default.getClassFactory(I);M.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function R(){var L;function h(){L={}}function v(){h()}return function w(){v()}(),{getLoader:function p(V){for(var O in L)if(L.hasOwnProperty(O)&&V.startsWith(O))return L[O];return E.default},registerLoader:function S(V,O){L[V]=O},unregisterLoader:function m(V){L[V]&&delete L[V]},unregisterAllLoader:h,reset:v}}R.__dashjs_factory_name="SchemeLoaderFactory";var b=y.default.getSingletonFactory(R);M.default=b},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function R(F){F=F||{};var m,h,L=this.context;return m=Object(E.default)(L).getInstance(),{load:function p(w){if(!h){var V=m.getLoader(w&&w.request?w.request.url:null);h=V(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}h.load(w)},abort:function v(){h&&h.abort()}}}R.__dashjs_factory_name="URLLoader";var b=y.default.getClassFactory(R);M.default=b},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function R(F){var L=(F=F||{}).requestModifier;function h(v){var w=new Date,V=v.request,O=new XMLHttpRequest;if(O.open(v.method,v.url,!0),V.responseType&&(O.responseType=V.responseType),V.range&&O.setRequestHeader("Range","bytes="+V.range),V.requestStartDate||(V.requestStartDate=w),L&&L.modifyRequestHeader&&(O=L.modifyRequestHeader(O,{url:v.url})),v.headers)for(var G in v.headers){var k=v.headers[G];k&&O.setRequestHeader(G,k)}O.withCredentials=v.withCredentials,O.onload=v.onload,O.onloadend=v.onend,O.onerror=v.onerror,O.onprogress=v.progress,O.onabort=v.onabort,O.ontimeout=v.ontimeout,O.timeout=v.timeout,O.send(),v.response=O}return{load:function m(v){L&&L.modifyRequest?Object(E.modifyRequest)(v,L).then(function(){return h(v)}):h(v)},abort:function p(v){var w=v.response;w.onloadend=w.onerror=w.onprogress=void 0,w.abort()}}}R.__dashjs_factory_name="XHRLoader";var b=y.default.getClassFactory(R);M.default=b},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function F(h){var p=function L(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}e.r(M);var S={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};M.default=function(){function h(){!function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}(this,h)}return function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"findCencContentProtection",value:function(v){for(var w=null,V=0;V<v.length;++V){var O=v[V];"urn:mpeg:dash:mp4protection:2011"===O.schemeIdUri.toLowerCase()&&("cenc"===O.value.toLowerCase()||"cbcs"===O.value.toLowerCase())&&(w=O)}return w}},{key:"getPSSHData",value:function(v){var w=8,V=new DataView(v),O=V.getUint8(w);return w+=20,O>0&&(w+=4+16*V.getUint32(w)),v.slice(w+=4)}},{key:"getPSSHForKeySystem",value:function(v,w){var V=h.parsePSSHList(w);return v&&V.hasOwnProperty(v.uuid.toLowerCase())?V[v.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(v,w){return"pssh"in v?(v.pssh.__text=v.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),w.decodeArray(v.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(v){if(null==v)return[];for(var w=new DataView(v.buffer||v),O={},G=0;;){var P,x=void 0,I=void 0,T=G;if(G>=w.buffer.byteLength)break;if(P=G+w.getUint32(G),1886614376===w.getUint32(G+=4))if(0===(x=w.getUint8(G+=4))||1===x){G++,G+=3,I="";var N=void 0,C=void 0;for(N=0;N<4;N++)I+=1===(C=w.getUint8(G+N).toString(16)).length?"0"+C:C;for(G+=4,I+="-",N=0;N<2;N++)I+=1===(C=w.getUint8(G+N).toString(16)).length?"0"+C:C;for(G+=2,I+="-",N=0;N<2;N++)I+=1===(C=w.getUint8(G+N).toString(16)).length?"0"+C:C;for(G+=2,I+="-",N=0;N<2;N++)I+=1===(C=w.getUint8(G+N).toString(16)).length?"0"+C:C;for(G+=2,I+="-",N=0;N<6;N++)I+=1===(C=w.getUint8(G+N).toString(16)).length?"0"+C:C;G+=6,G+=4,O[I=I.toLowerCase()]=w.buffer.slice(T,P),G=P}else G=P;else G=P}return O}},{key:"getLicenseServerUrlFromMediaInfo",value:function(v,w){try{if(!v||0===v.length)return null;for(var V=0,O=null;V<v.length&&!O;){var G=v[V];if(G&&G.contentProtection&&G.contentProtection.length>0){var k=G.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===w});if(k&&k.length>0)for(var P=0;P<k.length&&!O;){for(var x=k[P],I=0;I<S.attributes.length&&!O;){for(var T=0,N=S.attributes[I];T<S.prefixes.length&&!O;)x[N]&&x[N].__prefix&&x[N].__prefix===S.prefixes[T]&&x[N].__text&&(O=x[N].__text),T+=1;I+=1}P+=1}}V+=1}return O}catch{return null}}}]),h}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),E=e(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),R=e(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),b=e(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=e(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=e(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),S=e(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),m=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],h=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function p(){var w,V=this.context;function k(P,x){for(var I=0;I<x.length;I++){var T=x[I];if("function"==typeof P[T[Object.keys(T)[0]]])return T}return null}return w={createProtectionSystem:function O(P){var x=null,I=Object(E.default)(V).getInstance();I.setConfig({debug:P.debug,BASE64:P.BASE64,settings:P.settings}),I.initialize();var T=function G(P){var x=P.debug,I=x.getLogger(w),T=P.eventBus,N=P.errHandler,C=P.videoModel?P.videoModel.getElement():null;return C&&void 0===C.onencrypted||C&&void 0===C.mediaKeys?k(C,h)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(V).create({debug:x,eventBus:T,events:P.events,api:k(C,h)})):k(C,m)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(S.default)(V).create({debug:x,eventBus:T,errHandler:N,events:P.events,api:k(C,m)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(V).create({debug:x,eventBus:T,events:P.events}))}(P);return!x&&T&&(x=Object(y.default)(V).create({protectionModel:T,protectionKeyController:I,eventBus:P.eventBus,debug:P.debug,events:P.events,BASE64:P.BASE64,constants:P.constants,cmcdModel:P.cmcdModel,customParametersModel:P.customParametersModel,settings:P.settings}),P.capabilities.setEncryptedMediaSupported(!0)),x}}}p.__dashjs_factory_name="Protection";var v=dashjs.FactoryMaker.getClassFactory(p);v.events=R.default,v.errors=b.default,dashjs.FactoryMaker.updateClassFactory(p.__dashjs_factory_name,v),M.default=v},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}e.r(M);var k=new(function(P){m(I,P);var x=p(I);function I(){var T;return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),(T=x.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));M.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),R=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),b=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=e(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),S=e(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),m=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=e(
/*! ../../../core/Utils */
"./src/core/Utils.js"),p=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(I){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function x(I){var me,ne,fe,Ee,Ae,se,De,Me,_e,Le,Ie,T=(I=I||{}).protectionKeyController,N=I.protectionModel,C=I.eventBus,B=I.events,Y=I.debug,re=I.BASE64,ae=I.constants,Oe=[],z=I.cmcdModel,oe=I.settings,H=I.customParametersModel;function Fe(){if(!(C&&C.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function be(ge,it){Me||_e?Me&&ie():function K(ge,it){if(!_e){_e=!0;var Kt,pt=[];ge=ge.sort(function(tn,en){return(Ae&&Ae[tn.ks.systemString]&&Ae[tn.ks.systemString].priority>=0?Ae[tn.ks.systemString].priority:ge.length)-(Ae&&Ae[en.ks.systemString]&&Ae[en.ks.systemString].priority>=0?Ae[en.ks.systemString].priority:ge.length)});for(var kt=0;kt<ge.length;kt++){var Bt=ot(ge[kt]);pt.push({ks:ge[kt].ks,configs:[Bt],protData:ge[kt].protData})}N.requestKeySystemAccess(pt).then(function(tn){return ne.info("DRM: KeySystem Access Granted for system string ("+((Kt=tn.data).mksa&&Kt.mksa.selectedSystemString?Kt.mksa.selectedSystemString:Kt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(Kt)}).then(function(tn){if(Me=tn,_e=!1,N){C.trigger(B.KEY_SYSTEM_SELECTED,{data:Kt});var en=W(Me);en&&en.serverCertificate&&en.serverCertificate.length>0&&N.setServerCertificate(re.decodeArray(en.serverCertificate).buffer),ie()}}).catch(function(tn){Me=null,_e=!1,it||C.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(b.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,b.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+tn.error)})})}}(ge,it)}function ie(){for(var ge,it=0;it<fe.length;it++)for(ge=0;ge<fe[it].length;ge++)if(Me===fe[it][ge].ks){he(fe[it][ge]);break}fe=[]}function he(ge){if(T.isClearKey(Me)&&ge.protData&&ge.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(ge.protData.clearkeys).length){var it={kids:Object.keys(ge.protData.clearkeys)};ge.initData=(new TextEncoder).encode(JSON.stringify(it))}ge.sessionId?q(ge):null!==ge.initData&&$(ge)}function q(ge){Fe(),N.loadKeySession(ge)}function $(ge){var it=y.default.getPSSHForKeySystem(Me,ge?ge.initData:null);if(it){if(function J(ge){if(!ge)return!1;try{for(var it=N.getSessions(),pt=0;pt<it.length;pt++)if(it[pt].getKeyId()===ge)return!0;return!1}catch{return!1}}(ge.keyId)||Q(it))return;try{ge.initData=it,N.createKeySession(ge)}catch(pt){C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+pt.message)})}}else ge&&ge.initData?N.createKeySession(ge):C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Me?Me.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function W(ge){if(ge){var it=ge.systemString;if(Ae)return it in Ae?Ae[it]:null}return null}function Q(ge){if(!ge)return!1;try{for(var it=N.getAllInitData(),pt=0;pt<it.length;pt++)if(T.initDataEquals(ge,it[pt]))return ne.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Te(ge){Fe(),ge?(N.setMediaElement(ge),C.on(B.NEED_KEY,at,me)):null===ge&&(N.setMediaElement(ge),C.off(B.NEED_KEY,at,me))}function ot(ge){var it=ge.protData,pt=[],kt=[],Bt=it&&it.audioRobustness&&it.audioRobustness.length>0?it.audioRobustness:De,Kt=it&&it.videoRobustness&&it.videoRobustness.length>0?it.videoRobustness:De,tn=ge.sessionType,en=it&&it.distinctiveIdentifier?it.distinctiveIdentifier:"optional",bt=it&&it.persistentState?it.persistentState:"temporary"===tn?"optional":"required";return Ee.forEach(function(wt){wt.type===ae.AUDIO?pt.push(new E.default(wt.codec,Bt)):wt.type===ae.VIDEO&&kt.push(new E.default(wt.codec,Kt))}),new R.default(pt,kt,en,bt,[tn])}function yt(ge){ge.error?C.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:ge.error}):ne.debug("DRM: key status = "+ge.status)}function ut(ge){ne.debug("DRM: onKeyMessage");var it=ge.data;C.trigger(B.KEY_MESSAGE,{data:it});var pt=it.messageType?it.messageType:"license-request",kt=it.message,Bt=it.sessionToken,Kt=W(Me),tn=T.getLicenseServerModelInstance(Me,Kt,pt),en={sessionToken:Bt,messageType:pt};if(kt&&0!==kt.byteLength){if(!tn)return ne.debug("DRM: License server request not required for this message (type = "+ge.data.messageType+").  Session ID = "+Bt.getSessionId()),void Ct(en);if(T.isClearKey(Me)){var bt=T.processClearKeyLicenseRequest(Me,Kt,kt);if(bt&&bt.keyPairs&&bt.keyPairs.length>0)return ne.debug("DRM: ClearKey license request handled by application!"),Ct(en),void N.updateKeySession(Bt,bt)}!function Ot(ge,it,pt){var kt=ge.sessionToken,Bt=ge.messageType?ge.messageType:"license-request",Kt={sessionToken:kt,messageType:Bt},tn=Me?Me.systemString:null,en=function Xt(ge,it,pt,kt,Bt){var Kt=null,tn=kt.message;if(ge&&ge.serverURL){var en=ge.serverURL;"string"==typeof en&&""!==en?Kt=en:"object"===w(en)&&en.hasOwnProperty(it)&&(Kt=en[it])}else if(ge&&ge.laURL&&""!==ge.laURL)Kt=ge.laURL;else if(!(Kt=y.default.getLicenseServerUrlFromMediaInfo(Ee,Me.schemeIdURI))&&!T.isClearKey(Me)){var bt=y.default.getPSSHData(pt.initData);(Kt=Me.getLicenseServerURLFromInitData(bt))||(Kt=kt.laURL)}return Bt.getServerURLFromMessage(Kt,tn,it)}(pt,Bt,kt,ge,it);if(en){var bt={},wt=!1;pt&&cn(bt,pt.httpRequestHeaders);var Zt=ge.message;cn(bt,Me.getRequestHeadersFromMessage(Zt)),Object.keys(bt).forEach(function(Qe){"authorization"===Qe.toLowerCase()&&(wt=!0)}),pt&&"boolean"==typeof pt.withCredentials&&(wt=pt.withCredentials);var dn=function(_t){if(N)if(_t.status>=200&&_t.status<=299){var Pt=h.default.parseHttpHeaders(_t.getAllResponseHeaders?_t.getAllResponseHeaders():null),rn=new S.default(_t.responseURL,Pt,_t.response);nt(H.getLicenseResponseFilters(),rn).then(function(){var xt=it.getLicenseMessage(rn.data,tn,Bt);null!==xt?(Ct(Kt),N.updateKeySession(kt,xt)):Rn(_t,Kt,tn,Bt,it)})}else Rn(_t,Kt,tn,Bt,it)},gn=function(_t){Ct(Kt,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+tn+' update, XHR aborted. status is "'+_t.statusText+'" ('+_t.status+"), readyState is "+_t.readyState))},En=function(_t){Ct(Kt,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+tn+' update, XHR error. status is "'+_t.statusText+'" ('+_t.status+"), readyState is "+_t.readyState))},Vn=Me.getLicenseRequestFromMessage(Zt),jn=it.getHTTPMethod(Bt),ei=it.getResponseType(tn,Bt),_i=pt&&!isNaN(pt.httpTimeout)?pt.httpTimeout:8e3,gt=kt.getSessionId()||null,rt=new L.default(en,jn,ei,bt,wt,Bt,gt,Vn),Vt=isNaN(oe.get().streaming.retryAttempts[m.HTTPRequest.LICENSE])?3:oe.get().streaming.retryAttempts[m.HTTPRequest.LICENSE];nt(H.getLicenseRequestFilters(),rt).then(function(){It(rt,Vt,_i,dn,gn,En)})}else Ct(Kt,new F.default(b.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(it,tn,Kt)}else Ct(en,new F.default(b.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ct(ge,it){C.trigger(B.LICENSE_REQUEST_COMPLETE,{data:ge,error:it})}function It(ge,it,pt,kt,Bt,Kt){var tn=new XMLHttpRequest;if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===p.default.CMCD_MODE_QUERY){var bt=z.getQueryParameter({url:ge.url,type:m.HTTPRequest.LICENSE});bt&&(ge.url=h.default.addAditionalQueryParameterToUrl(ge.url,[bt]))}for(var wt in tn.open(ge.method,ge.url,!0),tn.responseType=ge.responseType,tn.withCredentials=ge.withCredentials,pt>0&&(tn.timeout=pt),ge.headers)tn.setRequestHeader(wt,ge.headers[wt]);if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===p.default.CMCD_MODE_HEADER){var Wt=z.getHeaderParameters({url:ge.url,type:m.HTTPRequest.LICENSE});if(Wt)for(var dn in Wt){var gn=Wt[dn];gn&&tn.setRequestHeader(dn,gn)}}var En=function(){it--;var jn=isNaN(oe.get().streaming.retryIntervals[m.HTTPRequest.LICENSE])?1e3:oe.get().streaming.retryIntervals[m.HTTPRequest.LICENSE];Ie=setTimeout(function(){It(ge,it,pt,kt,Bt,Kt)},jn)};tn.onload=function(){Le=null,this.status>=200&&this.status<=299||it<=0?kt(this):(ne.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+it),En())},tn.ontimeout=tn.onerror=function(){Le=null,it<=0?Kt(this):(ne.warn("License request network request failed . Retrying it... Pending retries: "+it),En())},tn.onabort=function(){Bt(this)},C.trigger(B.LICENSE_REQUEST_SENDING,{url:ge.url,headers:ge.headers,payload:ge.data,sessionId:ge.sessionId}),Le=tn,tn.send(ge.data)}function Gt(){Le&&(Le.onloadend=Le.onerror=Le.onprogress=void 0,Le.abort(),Le=null),Ie&&(clearTimeout(Ie),Ie=null)}function cn(ge,it){if(it)for(var pt in it)ge[pt]=it[pt]}function Rn(ge,it,pt,kt,Bt){var Kt="NONE",tn=null;ge.response&&(Kt=Bt.getErrorResponse(ge.response,pt,kt),tn={serverResponse:ge.response||null,responseCode:ge.status||null,responseText:ge.statusText||null}),Ct(it,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+pt+' update, XHR complete. status is "'+ge.statusText+'" ('+ge.status+"), readyState is "+ge.readyState+".  Response is "+Kt,tn))}function nt(ge,it){return ge?ge.reduce(function(pt,kt){return pt.then(function(){return kt(it)})},Promise.resolve()):Promise.resolve()}function at(ge,it){if(!oe.get().streaming.protection.ignoreEmeEncryptedEvent){if(ne.debug("DRM: onNeedKey"),"cenc"!==ge.key.initDataType)return void ne.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+ge.key.initDataType);if(0===Ee.length&&(ne.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(it=typeof it>"u"?1:it+1)<5))return void Oe.push(setTimeout(function(){at(ge,it)},500));var pt=ge.key.initData;if(ArrayBuffer.isView(pt)&&(pt=pt.buffer),Me){var kt=y.default.getPSSHForKeySystem(Me,pt);if(kt&&Q(kt))return}ne.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(pt)));var Bt=T.getSupportedKeySystemsFromSegmentPssh(pt,Ae,se);if(0===Bt.length)return void ne.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function xe(ge){fe.push(ge),be(ge,!1)}(Bt)}}return me={initializeForMedia:function We(ge){if(!ge)throw new Error("mediaInfo can not be null or undefined");Fe(),Ee.push(ge)},clearMediaInfoArray:function te(){Ee=[]},handleKeySystemFromManifest:function Ue(){if(Ee&&0!==Ee.length){var ge=[];Ee.forEach(function(it){var pt=T.getSupportedKeySystemsFromContentProtection(it.contentProtection,Ae,se);pt.length>0&&(0===ge.length&&(ge=pt),fe.push(pt))}),ge&&ge.length>0&&be(ge,!0)}},createKeySession:$,loadKeySession:q,removeKeySession:function de(ge){Fe(),N.removeKeySession(ge)},closeKeySession:function pe(ge){Fe(),N.closeKeySession(ge)},setServerCertificate:function le(ge){Fe(),N.setServerCertificate(ge)},setMediaElement:Te,setSessionType:function Ve(ge){se=ge},setRobustnessLevel:function ke(ge){De=ge},setProtectionData:function Ze(ge){Ae=ge,T.setProtectionData(ge)},getSupportedKeySystemsFromContentProtection:function X(ge){return Fe(),T.getSupportedKeySystemsFromContentProtection(ge,Ae,se)},getKeySystems:function Se(){return T?T.getKeySystems():[]},setKeySystems:function ue(ge){T&&T.setKeySystems(ge)},stop:function qe(){Gt(),N&&N.stop()},reset:function He(){C.off(B.INTERNAL_KEY_MESSAGE,ut,me),C.off(B.INTERNAL_KEY_STATUS_CHANGED,yt,me),Fe(),Gt(),Te(null),Me=null,_e=!1,N&&(N.reset(),N=null),Oe.forEach(function(ge){return clearTimeout(ge)}),Oe=[],Ee=[],fe=[]}},function we(){ne=Y.getLogger(me),fe=[],Ee=[],se="temporary",De="",Le=null,Ie=null,C.on(B.INTERNAL_KEY_MESSAGE,ut,me),C.on(B.INTERNAL_KEY_STATUS_CHANGED,yt,me)}(),me}x.__dashjs_factory_name="ProtectionController",M.default=v.default.getClassFactory(x)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),R=e(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),b=e(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=e(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=e(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),S=e(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),m=e(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),h=e(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),p=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(){var V,O,G,k,P,x,I,T,w=this.context;function fe(se,De){return De&&se in De?De[se]:null}function Ee(se,De){return se&&se.sessionId?se.sessionId:De&&De.sessionId?De.sessionId:null}function Ae(se,De){return se&&se.sessionType?se.sessionType:De}return V={initialize:function C(){var se;k=[],se=Object(F.default)(w).getInstance({BASE64:P,settings:x}),k.push(se),se=Object(b.default)(w).getInstance({BASE64:P}),k.push(se),se=Object(E.default)(w).getInstance({BASE64:P}),k.push(se),I=se,se=Object(R.default)(w).getInstance({BASE64:P,debug:O}),k.push(se),T=se},setProtectionData:function ne(se){for(var Me=0;Me<k.length;Me++){var _e=k[Me];_e.hasOwnProperty("init")&&_e.init((Ie=_e.systemString,we=void 0,we=null,se&&(we=Ie in se?se[Ie]:null),we))}var Ie,we},isClearKey:function ae(se){return se===I||se===T},initDataEquals:function Oe(se,De){if(se.byteLength===De.byteLength){for(var Me=new Uint8Array(se),_e=new Uint8Array(De),Le=0;Le<Me.length;Le++)if(Me[Le]!==_e[Le])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(se){k=se},getKeySystemBySystemString:function re(se){for(var De=0;De<k.length;De++)if(k[De].systemString===se)return k[De];return null},getSupportedKeySystemsFromContentProtection:function z(se,De,Me){var _e,Le,Ie,we,Fe=[];if(se){var We=y.default.findCencContentProtection(se);for(Ie=0;Ie<k.length;++Ie){var Ue=fe((Le=k[Ie]).systemString,De);for(we=0;we<se.length;++we)if((_e=se[we]).schemeIdUri.toLowerCase()===Le.schemeIdURI){var xe=Le.getInitData(_e,We);Fe.push({ks:k[Ie],keyId:_e.keyId,initData:xe,protData:Ue,cdmData:Le.getCDMData(Ue?Ue.cdmData:null),sessionId:Ee(Ue,_e),sessionType:Ae(Ue,Me)})}}}return Fe},getSupportedKeySystemsFromSegmentPssh:function oe(se,De,Me){for(var Ie,_e=[],Le=y.default.parsePSSHList(se),Fe=0;Fe<k.length;++Fe){var We=fe((Ie=k[Fe]).systemString,De);Ie.uuid in Le&&_e.push({ks:Ie,initData:Le[Ie.uuid],protData:We,cdmData:Ie.getCDMData(We?We.cdmData:null),sessionId:Ee(We),sessionType:Ae(We,Me)})}return _e},getLicenseServerModelInstance:function H(se,De,Me){if("license-release"===Me||"individualization-request"===Me)return null;var _e=null;return De&&De.hasOwnProperty("drmtoday")?_e=Object(L.default)(w).getInstance({BASE64:P}):se.systemString===p.default.WIDEVINE_KEYSTEM_STRING?_e=Object(m.default)(w).getInstance():se.systemString===p.default.PLAYREADY_KEYSTEM_STRING?_e=Object(S.default)(w).getInstance():se.systemString===p.default.CLEARKEY_KEYSTEM_STRING&&(_e=Object(h.default)(w).getInstance()),_e},processClearKeyLicenseRequest:function me(se,De,Me){try{return se.getClearKeysFromProtectionData(De,Me)}catch{return G.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(se){se&&(se.debug&&(G=(O=se.debug).getLogger(V)),se.BASE64&&(P=se.BASE64),se.settings&&(x=se.settings))}}}v.__dashjs_factory_name="ProtectionKeyController",M.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),R=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=b.default.CLEARKEY_KEYSTEM_STRING,S="urn:uuid:"+F;function m(h){var v=(h=h||{}).BASE64;function O(I){try{var T=I.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:S,systemString:L,getInitData:function V(I,T){try{var N=R.default.parseInitDataFromContentProtection(I,v);if(!N&&T){var B={kids:[O(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function G(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function P(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function w(I,T){var N=null;if(I){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<C.kids.length;Y++){var re=C.kids[Y],ae=I.clearkeys&&I.clearkeys.hasOwnProperty(re)?I.clearkeys[re]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new y.default(re,ae))}N=new E.default(B)}return N}}}m.__dashjs_factory_name="KeySystemClearKey",M.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),R="9a04f079-9840-4286-ab92-e65be0885f95",b=E.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+R;function S(m){var p="utf-16",v=(m=m||{}).BASE64,w=m.settings;function V(){if(!v||!v.hasOwnProperty("decodeArray")||!v.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:R,schemeIdURI:F,systemString:b,getInitData:function P(T){var re,ae,Oe,z,oe,N=new Uint8Array([112,115,115,104,0,0,0,0]),C=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(V(),!T)return null;if("pssh"in T)return y.default.parseInitDataFromContentProtection(T,v);if("pro"in T)Y=v.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;Y=v.decodeArray(T.prheader.__text)}return ae=4+N.length+C.length+4+(re=Y.length),Oe=new ArrayBuffer(ae),z=new Uint8Array(Oe),(oe=new DataView(Oe)).setUint32(B,ae),z.set(N,B+=4),z.set(C,B+=N.length),oe.setUint32(B+=C.length,re),z.set(Y,B+=4),B+=re,z.buffer},getRequestHeadersFromMessage:function O(T){var N,C,B={},Y=new DOMParser;if(w&&w.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===p&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var re="utf-16"===p?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,re);for(var ae=(C=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Oe=C.getElementsByTagName("value"),z=0;z<ae.length;z++)B[ae[z].childNodes[0].nodeValue]=Oe[z].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function G(T){var N=null,C=new DOMParser;if(w&&w.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===p&&T&&T.byteLength%2==1)return T;var B="utf-16"===p?new Uint16Array(T):new Uint8Array(T);V();var Y=String.fromCharCode.apply(null,B),re=C.parseFromString(Y,"application/xml");if(!re.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var ae=re.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ae&&(N=v.decode(ae)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),C=N.getUint16(4,!0),B=6,Y=new DOMParser,re=0;re<C;re++){var ae=N.getUint16(B,!0),Oe=N.getUint16(B+=2,!0);if(B+=2,1===ae){var z=T.slice(B,B+Oe),oe=String.fromCharCode.apply(null,new Uint16Array(z)),H=Y.parseFromString(oe,"application/xml");if(H.getElementsByTagName("LA_URL")[0]){var me=H.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(me)return me}if(H.getElementsByTagName("LUI_URL")[0]){var ne=H.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(ne)return ne}}else B+=Oe}return null},getCDMData:function I(T){var N,C,B,Y;if(V(),!T)return null;for(N=[],Y=0;Y<T.length;++Y)N.push(T.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=v.encode(N),C='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<C.length;++Y)B.push(C.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function x(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');p=T}}}S.__dashjs_factory_name="KeySystemPlayReady",M.default=dashjs.FactoryMaker.getSingletonFactory(S)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),R=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=b.default.CLEARKEY_KEYSTEM_STRING,S="urn:uuid:"+F;function m(h){var p,v=h.BASE64,w=h.debug.getLogger(p);return{uuid:F,schemeIdURI:S,systemString:L,getInitData:function O(I){return R.default.parseInitDataFromContentProtection(I,v)},getRequestHeadersFromMessage:function G(){return null},getLicenseRequestFromMessage:function k(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function P(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function V(I,T){var N=null;if(I){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<C.kids.length;Y++){var re=C.kids[Y],ae=I.clearkeys&&I.clearkeys.hasOwnProperty(re)?I.clearkeys[re]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new y.default(re,ae))}N=new E.default(B),w.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}m.__dashjs_factory_name="KeySystemW3CClearKey",M.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),R="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",b=E.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+R;function L(S){var h=(S=S||{}).BASE64;return{uuid:R,schemeIdURI:F,systemString:b,getInitData:function p(G){return y.default.parseInitDataFromContentProtection(G,h)},getRequestHeadersFromMessage:function v(){return null},getLicenseRequestFromMessage:function w(G){return new Uint8Array(G)},getLicenseServerURLFromInitData:function V(){return null},getCDMData:function O(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",M.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function E(P){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function R(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==E(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===E(x)?x:String(x)}function m(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&h(P,x)}function h(P,x){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function p(P){var x=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=O(P);if(x){var C=O(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(P,x){if(x&&("object"===E(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function w(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}e.r(M);var k=new(function(P){m(I,P);var x=p(I);function I(){var T;return function S(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),(T=x.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function b(P,x,I){return x&&R(P.prototype,x),I&&R(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(e(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));M.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),R=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),S=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function m(h){var k,P,x,I,T,N,C,B,Y,p=this.context,v=(h=h||{}).eventBus,w=h.events,V=h.debug,O=h.api,G=h.errHandler;function ae(){x&&Le();for(var Ie=0;Ie<C.length;Ie++)Ee(C[Ie]);v.trigger(w.TEARDOWN_COMPLETE)}function Ee(Ie){try{x[O.cancelKeyRequest](I.systemString,Ie.sessionId)}catch(we){v.trigger(w.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ie.sessionId+") "+we.message})}}function _e(Ie,we){if(!we||!Ie)return null;for(var Fe=Ie.length,We=0;We<Fe;We++)if(Ie[We].sessionId==we)return Ie[We];return null}function Le(){x.removeEventListener(O.keyerror,Y),x.removeEventListener(O.needkey,Y),x.removeEventListener(O.keymessage,Y),x.removeEventListener(O.keyadded,Y)}return k={getAllInitData:function Oe(){for(var Ie=[],we=0;we<N.length;we++)Ie.push(N[we].initData);for(var Fe=0;Fe<C.length;Fe++)Ie.push(C[Fe].initData);return Ie},getSessions:function z(){return C.concat(N)},requestKeySystemAccess:function oe(Ie){return new Promise(function(we,Fe){var We=x;We||(We=document.createElement("video"));for(var Ue=!1,xe=0;xe<Ie.length;xe++)for(var be=Ie[xe].ks.systemString,K=Ie[xe].configs,he=null,q=0;q<K.length;q++){var $=K[q].videoCapabilities;if($&&0!==$.length){he=[];for(var W=0;W<$.length;W++)""!==We.canPlayType($[W].contentType,be)&&he.push($[W])}if(he&&(!he||0!==he.length)){Ue=!0;var te=new F.default(null,he),X=T.getKeySystemBySystemString(be),J=new L.default(X,te);v.trigger(w.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),we({data:J});break}}if(!Ue){var Q="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(w.KEY_SYSTEM_ACCESS_COMPLETE,{error:Q}),Fe({error:Q})}})},selectKeySystem:function H(Ie){return I=Ie.keySystem,Promise.resolve(I)},setMediaElement:function me(Ie){if(x!==Ie){if(x){Le();for(var we=0;we<C.length;we++)Ee(C[we]);C=[]}(x=Ie)&&(x.addEventListener(O.keyerror,Y),x.addEventListener(O.needkey,Y),x.addEventListener(O.keymessage,Y),x.addEventListener(O.keyadded,Y),v.trigger(w.VIDEO_ELEMENT_SELECTED))}},createKeySession:function ne(Ie){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(B||0===C.length){var we={sessionId:null,keyId:Ie.keyId,initData:Ie.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(we),x[O.generateKeyRequest](I.systemString,new Uint8Array(Ie.initData)),we}throw new Error("Multiple sessions not allowed!")},updateKeySession:function fe(Ie,we){var Fe=Ie.sessionId;if(T.isClearKey(I))for(var We=0;We<we.keyPairs.length;We++)x[O.addKey](I.systemString,we.keyPairs[We].key,we.keyPairs[We].keyID,Fe);else x[O.addKey](I.systemString,new Uint8Array(we),new Uint8Array(Ie.initData),Fe);v.trigger(w.KEY_SESSION_UPDATED)},closeKeySession:Ee,setServerCertificate:function Ae(){},loadKeySession:function se(){},removeKeySession:function De(){},stop:ae,reset:ae},function re(){P=V.getLogger(k),x=null,I=null,N=[],C=[],T=Object(y.default)(p).getInstance(),Y=function Me(){return{handleEvent:function(we){var Fe=null;switch(we.type){case O.needkey:var We=ArrayBuffer.isView(we.initData)?we.initData.buffer:we.initData;v.trigger(w.NEED_KEY,{key:new E.default(We,"cenc")});break;case O.keyerror:if((Fe=_e(C,we.sessionId))||(Fe=_e(N,we.sessionId)),Fe){var Ue=S.default.MEDIA_KEYERR_CODE,xe="";switch(we.errorCode.code){case 1:Ue=S.default.MEDIA_KEYERR_UNKNOWN_CODE,xe+="MEDIA_KEYERR_UNKNOWN - "+S.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Ue=S.default.MEDIA_KEYERR_CLIENT_CODE,xe+="MEDIA_KEYERR_CLIENT - "+S.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Ue=S.default.MEDIA_KEYERR_SERVICE_CODE,xe+="MEDIA_KEYERR_SERVICE - "+S.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Ue=S.default.MEDIA_KEYERR_OUTPUT_CODE,xe+="MEDIA_KEYERR_OUTPUT - "+S.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Ue=S.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,xe+="MEDIA_KEYERR_HARDWARECHANGE - "+S.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Ue=S.default.MEDIA_KEYERR_DOMAIN_CODE,xe+="MEDIA_KEYERR_DOMAIN - "+S.default.MEDIA_KEYERR_DOMAIN_MESSAGE}v.trigger(w.KEY_ERROR,{error:new R.default(Ue,xe+="  System Code = "+we.systemCode,Fe)})}else P.error("No session token found for key error");break;case O.keyadded:(Fe=_e(C,we.sessionId))||(Fe=_e(N,we.sessionId)),Fe?(P.debug("DRM: Key added."),v.trigger(w.KEY_ADDED,{data:Fe})):P.debug("No session token found for key added");break;case O.keymessage:if((B=null!=we.sessionId)?!(Fe=_e(C,we.sessionId))&&N.length>0&&(Fe=N.shift(),C.push(Fe),Fe.sessionId=we.sessionId,v.trigger(w.KEY_SESSION_CREATED,{data:Fe})):N.length>0&&(Fe=N.shift(),C.push(Fe),0!==N.length&&G.error(new R.default(S.default.MEDIA_KEY_MESSAGE_ERROR_CODE,S.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Fe){var be=ArrayBuffer.isView(we.message)?we.message.buffer:we.message;Fe.keyMessage=be,v.trigger(w.INTERNAL_KEY_MESSAGE,{data:new b.default(Fe,be,we.defaultURL)})}else P.warn("No session token found for key message")}}}}()}(),k}m.__dashjs_factory_name="ProtectionModel_01b",M.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),R=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),b=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),S=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),m={};function h(p){var G,k,P,x,I,T,N,C,v=this.context,w=(p=p||{}).eventBus,V=p.events,O=p.debug;function oe(Ue,xe,be,K){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ie="Insecure origins are not allowed";return w.trigger(V.KEY_SYSTEM_ACCESS_COMPLETE,{error:ie}),void K({error:ie})}var $=Ue[xe].ks,W=$.systemString;(function H(Ue,xe){return new Promise(function(be,K){me(Ue,xe,0,be,K)})})((Ue[xe].protData&&Ue[xe].protData.systemStringPriority?Ue[xe].protData.systemStringPriority:null)||(m[W]?m[W]:[W]),Ue[xe].configs).then(function(X){var J="function"==typeof X.getConfiguration?X.getConfiguration():null,Q=new L.default($,J);Q.mksa=X,w.trigger(V.KEY_SYSTEM_ACCESS_COMPLETE,{data:Q}),be({data:Q})}).catch(function(X){if(xe+1<Ue.length)oe(Ue,xe+1,be,K);else{var J="Key system access denied! ";w.trigger(V.KEY_SYSTEM_ACCESS_COMPLETE,{error:J+X.message}),K({error:J+X.message})}})}function me(Ue,xe,be,K,ie){var he=Ue[be];k.debug("Requesting key system access for system string ".concat(he)),navigator.requestMediaKeySystemAccess(he,xe).then(function(q){q.selectedSystemString=he,K(q)}).catch(function(q){be+1<Ue.length?me(Ue,xe,be+1,K,ie):ie(q)})}function Le(Ue){var xe=Ue.session;return xe.removeEventListener("keystatuseschange",Ue),xe.removeEventListener("message",Ue),xe.close()}function we(Ue){for(var xe=0;xe<T.length;xe++)if(T[xe]===Ue){T.splice(xe,1);break}}function Fe(Ue){var xe,be;return Ue&&Ue.length>0&&(Ue[0]&&("string"==typeof Ue[0]?xe=Ue[0]:be=Ue[0]),Ue[1]&&("string"==typeof Ue[1]?xe=Ue[1]:be=Ue[1])),{status:xe,keyId:be}}function We(Ue,xe){var be={session:Ue,keyId:xe.keyId,initData:xe.initData,sessionId:xe.sessionId,sessionType:xe.sessionType,handleEvent:function(ie){switch(ie.type){case"keystatuseschange":w.trigger(V.KEY_STATUSES_CHANGED,{data:this}),ie.target.keyStatuses.forEach(function(){var q=Fe(arguments);w.trigger(V.INTERNAL_KEY_STATUS_CHANGED,"expired"===q.status?{error:new b.default(R.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,R.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:q)});break;case"message":var he=ArrayBuffer.isView(ie.message)?ie.message.buffer:ie.message;w.trigger(V.INTERNAL_KEY_MESSAGE,{data:new F.default(this,he,void 0,ie.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Ue.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Ue.expiration},getKeyStatuses:function(){return Ue.keyStatuses},getUsable:function(){var ie=!1;return Ue.keyStatuses.forEach(function(){"usable"===Fe(arguments).status&&(ie=!0)}),ie}};return Ue.addEventListener("keystatuseschange",be),Ue.addEventListener("message",be),Ue.closed.then(function(){we(be),k.debug("DRM: Session closed.  SessionID = "+be.getSessionId()),w.trigger(V.KEY_SESSION_CLOSED,{data:be.getSessionId()})}),T.push(be),be}return G={getAllInitData:function ae(){for(var Ue=[],xe=0;xe<T.length;xe++)T[xe].initData&&Ue.push(T[xe].initData);return Ue},getSessions:function Oe(){return T},requestKeySystemAccess:function z(Ue){return new Promise(function(xe,be){oe(Ue,0,xe,be)})},selectKeySystem:function ne(Ue){return new Promise(function(xe,be){Ue.mksa.createMediaKeys().then(function(K){return P=Ue.keySystem,I=K,x?x.setMediaKeys(I):Promise.resolve()}).then(function(){xe(P)}).catch(function(){be({error:"Error selecting keys system ("+Ue.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function fe(Ue){x!==Ue&&(x&&(x.removeEventListener("encrypted",N),x.setMediaKeys&&x.setMediaKeys(null)),(x=Ue)&&(x.addEventListener("encrypted",N),x.setMediaKeys&&I&&x.setMediaKeys(I)))},setServerCertificate:function Ee(Ue){if(!P||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(Ue).then(function(){k.info("DRM: License server certificate successfully updated."),w.trigger(V.SERVER_CERTIFICATE_UPDATED)}).catch(function(xe){w.trigger(V.SERVER_CERTIFICATE_UPDATED,{error:new b.default(R.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,R.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+xe.name)})})},createKeySession:function Ae(Ue){if(!P||!I)throw new Error("Can not create sessions until you have selected a key system");var xe=I.createSession(Ue.sessionType),be=We(xe,Ue);xe.generateRequest(P.systemString===S.default.CLEARKEY_KEYSTEM_STRING&&(Ue.initData||Ue.protData&&Ue.protData.clearkeys)?S.default.INITIALIZATION_DATA_TYPE_KEYIDS:S.default.INITIALIZATION_DATA_TYPE_CENC,Ue.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+be.getSessionId()),w.trigger(V.KEY_SESSION_CREATED,{data:be})}).catch(function(ie){we(be),w.trigger(V.KEY_SESSION_CREATED,{data:null,error:new b.default(R.default.KEY_SESSION_CREATED_ERROR_CODE,R.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ie.name)})})},updateKeySession:function se(Ue,xe){var be=Ue.session;C.isClearKey(P)&&(xe=xe.toJWK()),be.update(xe).then(function(){w.trigger(V.KEY_SESSION_UPDATED)}).catch(function(K){w.trigger(V.KEY_ERROR,{error:new b.default(R.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+K.name,Ue)})})},loadKeySession:function De(Ue){if(!P||!I)throw new Error("Can not load sessions until you have selected a key system");for(var xe=Ue.sessionId,be=0;be<T.length;be++)if(xe===T[be].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var K=I.createSession(Ue.sessionType),ie=We(K,Ue);K.load(xe).then(function(he){he?(k.debug("DRM: Session loaded.  SessionID = "+ie.getSessionId()),w.trigger(V.KEY_SESSION_CREATED,{data:ie})):(we(ie),w.trigger(V.KEY_SESSION_CREATED,{data:null,error:new b.default(R.default.KEY_SESSION_CREATED_ERROR_CODE,R.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+xe+")")}))}).catch(function(he){we(ie),w.trigger(V.KEY_SESSION_CREATED,{data:null,error:new b.default(R.default.KEY_SESSION_CREATED_ERROR_CODE,R.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+xe+")! "+he.name)})})},removeKeySession:function Me(Ue){Ue.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+Ue.getSessionId()),w.trigger(V.KEY_SESSION_REMOVED,{data:Ue.getSessionId()})},function(be){w.trigger(V.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Ue.getSessionId()+"). "+be.name})})},closeKeySession:function _e(Ue){Le(Ue).catch(function(xe){we(Ue),w.trigger(V.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ue.getSessionId()+") "+xe.name})})},stop:function re(){for(var Ue,xe=0;xe<T.length;xe++)(Ue=T[xe]).getUsable()||Le(Ue).catch(function(){we(Ue)})},reset:function Y(){var xe,Ue=T.length;0!==Ue?function(){for(var be=function(he){we(he),0===T.length&&(x?(x.removeEventListener("encrypted",N),x.setMediaKeys(null).then(function(){w.trigger(V.TEARDOWN_COMPLETE)})):w.trigger(V.TEARDOWN_COMPLETE))},K=0;K<Ue;K++)!function(ie){xe.session.closed.then(function(){be(ie)}),Le(xe).catch(function(){be(ie)})}(xe=T[K])}():w.trigger(V.TEARDOWN_COMPLETE)}},function B(){k=O.getLogger(G),P=null,x=null,I=null,T=[],C=Object(y.default)(v).getInstance(),N=function Ie(){return{handleEvent:function(xe){if("encrypted"===xe.type&&xe.initData){var be=ArrayBuffer.isView(xe.initData)?xe.initData.buffer:xe.initData;w.trigger(V.NEED_KEY,{key:new E.default(be,xe.initDataType)})}}}}()}(),G}m[S.default.PLAYREADY_KEYSTEM_STRING]=[S.default.PLAYREADY_KEYSTEM_STRING,S.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],m[S.default.WIDEVINE_KEYSTEM_STRING]=[S.default.WIDEVINE_KEYSTEM_STRING],m[S.default.CLEARKEY_KEYSTEM_STRING]=[S.default.CLEARKEY_KEYSTEM_STRING],h.__dashjs_factory_name="ProtectionModel_21Jan2015",M.default=dashjs.FactoryMaker.getClassFactory(h)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),R=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),S=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function m(h){var G,k,P,x,I,T,N,C,B,p=this.context,v=(h=h||{}).eventBus,w=h.events,V=h.debug,O=h.api;function re(){try{for(var Le=0;Le<N.length;Le++)fe(N[Le]);P&&P.removeEventListener(O.needkey,C),v.trigger(w.TEARDOWN_COMPLETE)}catch(Ie){v.trigger(w.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Ie.message})}}function fe(Le){var Ie=Le.session;Ie.removeEventListener(O.error,Le),Ie.removeEventListener(O.message,Le),Ie.removeEventListener(O.ready,Le),Ie.removeEventListener(O.close,Le);for(var we=0;we<N.length;we++)if(N[we]===Le){N.splice(we,1);break}Ie[O.release]()}function Me(){var Le=null,Ie=function(){P.removeEventListener("loadedmetadata",Le),P[O.setMediaKeys](I),v.trigger(w.VIDEO_ELEMENT_SELECTED)};P.readyState>=1?Ie():(Le=Ie.bind(this),P.addEventListener("loadedmetadata",Le))}return G={getAllInitData:function ae(){for(var Le=[],Ie=0;Ie<N.length;Ie++)Le.push(N[Ie].initData);return Le},getSessions:function Oe(){return N},requestKeySystemAccess:function z(Le){return new Promise(function(Ie,we){for(var Fe=!1,We=0;We<Le.length;We++)for(var Ue=Le[We].ks.systemString,xe=Le[We].configs,be=null,K=null,ie=0;ie<xe.length;ie++){var he=xe[ie].audioCapabilities,q=xe[ie].videoCapabilities;if(he&&0!==he.length){be=[];for(var $=0;$<he.length;$++)window[O.MediaKeys].isTypeSupported(Ue,he[$].contentType)&&be.push(he[$])}if(q&&0!==q.length){K=[];for(var W=0;W<q.length;W++)window[O.MediaKeys].isTypeSupported(Ue,q[W].contentType)&&K.push(q[W])}if(!(!be&&!K||be&&0===be.length||K&&0===K.length)){Fe=!0;var te=new L.default(be,K),X=B.getKeySystemBySystemString(Ue),J=new S.default(X,te);v.trigger(w.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Ie({data:J});break}}if(!Fe){var Q="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(w.KEY_SYSTEM_ACCESS_COMPLETE,{error:Q}),we({error:Q})}})},selectKeySystem:function oe(Le){return new Promise(function(Ie,we){try{I=Le.mediaKeys=new window[O.MediaKeys](Le.keySystem.systemString),x=Le.keySystem,T=Le,P&&Me(),Ie(x)}catch{we({error:"Error selecting keys system ("+x.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function H(Le){P!==Le&&(P&&P.removeEventListener(O.needkey,C),(P=Le)&&(P.addEventListener(O.needkey,C),I&&Me()))},createKeySession:function me(Le){if(!x||!I||!T)throw new Error("Can not create sessions until you have selected a key system");var Ie=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(Ie=T.ksConfiguration.videoCapabilities[0]),null===Ie&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(Ie=T.ksConfiguration.audioCapabilities[0]),null===Ie)throw new Error("Can not create sessions for unknown content types.");var Fe=I.createSession(Ie.contentType,new Uint8Array(Le.initData),Le.cdmData?new Uint8Array(Le.cdmData):null),We=function _e(Le,Ie){return{session:Le,keyId:Ie.keyId,initData:Ie.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Fe){switch(Fe.type){case O.error:v.trigger(w.KEY_ERROR,{error:new R.default(b.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case O.message:var Ue=ArrayBuffer.isView(Fe.message)?Fe.message.buffer:Fe.message;v.trigger(w.INTERNAL_KEY_MESSAGE,{data:new F.default(this,Ue,Fe.destinationURL)});break;case O.ready:k.debug("DRM: Key added."),v.trigger(w.KEY_ADDED);break;case O.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),v.trigger(w.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Fe,Le);Fe.addEventListener(O.error,We),Fe.addEventListener(O.message,We),Fe.addEventListener(O.ready,We),Fe.addEventListener(O.close,We),N.push(We),k.debug("DRM: Session created.  SessionID = "+We.getSessionId()),v.trigger(w.KEY_SESSION_CREATED,{data:We})},updateKeySession:function ne(Le,Ie){var we=Le.session;B.isClearKey(x)?we.update(new Uint8Array(Ie.toJWK())):we.update(new Uint8Array(Ie)),v.trigger(w.KEY_SESSION_UPDATED)},closeKeySession:fe,setServerCertificate:function Ee(){},loadKeySession:function Ae(){},removeKeySession:function se(){},stop:re,reset:re},function Y(){k=V.getLogger(G),P=null,x=null,I=null,T=null,N=[],B=Object(y.default)(p).getInstance(),C=function De(){return{handleEvent:function(Ie){if(Ie.type===O.needkey&&Ie.initData){var we=ArrayBuffer.isView(Ie.initData)?Ie.initData.buffer:Ie.initData;v.trigger(w.NEED_KEY,{key:new E.default(we,"cenc")})}}}}()}(),G}m.__dashjs_factory_name="ProtectionModel_3Feb2014",M.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function R(){return{getServerURLFromMessage:function F(p){return p},getHTTPMethod:function L(){return"POST"},getResponseType:function S(){return"json"},getLicenseMessage:function m(p){if(!p.hasOwnProperty("keys"))return null;for(var v=[],w=0;w<p.keys.length;w++){var V=p.keys[w],O=V.kid.replace(/=/g,""),G=V.k.replace(/=/g,"");v.push(new y.default(O,G))}return new E.default(v)},getErrorResponse:function h(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}R.__dashjs_factory_name="ClearKey",M.default=dashjs.FactoryMaker.getSingletonFactory(R)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function E(R){var b=(R=R||{}).BASE64,F={};return F[y.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(O){return b.decodeArray(O.license)},getErrorResponse:function(O){return O}},F[y.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(O){return O},getErrorResponse:function(O){return String.fromCharCode.apply(null,new Uint8Array(O))}},{getServerURLFromMessage:function m(V){return V},getHTTPMethod:function h(){return"POST"},getResponseType:function p(V){return F[V].responseType},getLicenseMessage:function v(V,O){return function S(){if(!b||!b.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[O].getLicenseMessage(V)},getErrorResponse:function w(V,O){return F[O].getErrorResponse(V)}}}E.__dashjs_factory_name="DRMToday",M.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(){var R="http://schemas.xmlsoap.org/soap/envelope/";function b(w){var V=String.fromCharCode.apply(null,new Uint8Array(w));return decodeURIComponent(escape(V))}function F(w){if(window.DOMParser){var V=b(w),G=(new window.DOMParser).parseFromString(V,"text/xml"),k=G?G.getElementsByTagNameNS(R,"Envelope")[0]:null,P=k?k.getElementsByTagNameNS(R,"Body")[0]:null;if(P&&P.getElementsByTagNameNS(R,"Fault")[0])return null}return w}function L(w){var V="",O="",G="",k=-1,P=-1;if(window.DOMParser){var x=b(w),T=(new window.DOMParser).parseFromString(x,"text/xml"),N=T?T.getElementsByTagNameNS(R,"Envelope")[0]:null,C=N?N.getElementsByTagNameNS(R,"Body")[0]:null,B=C?C.getElementsByTagNameNS(R,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,re=Y?Y.getElementsByTagName("Exception")[0]:null,ae=null;if(null===B)return x;V=(ae=B.getElementsByTagName("faultstring")[0].firstChild)?ae.nodeValue:null,null!==re&&(O=(ae=re.getElementsByTagName("StatusCode")[0])?ae.firstChild.nodeValue:null,k=(G=(ae=re.getElementsByTagName("Message")[0])?ae.firstChild.nodeValue:null)?G.lastIndexOf("[")+1:-1,P=G?G.indexOf("]"):-1,G=G?G.substring(k,P):"")}var Oe="code: ".concat(O,", name: ").concat(V);return G&&(Oe+=", message: ".concat(G)),Oe}return{getServerURLFromMessage:function S(w){return w},getHTTPMethod:function m(){return"POST"},getResponseType:function h(){return"arraybuffer"},getLicenseMessage:function p(w){return F.call(this,w)},getErrorResponse:function v(w){return L.call(this,w)}}}e.r(M),y.__dashjs_factory_name="PlayReady",M.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(){return{getServerURLFromMessage:function R(m){return m},getHTTPMethod:function b(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(m){return m},getErrorResponse:function S(m){return String.fromCharCode.apply(null,new Uint8Array(m))}}}e.r(M),y.__dashjs_factory_name="Widevine",M.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(h,p){if(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),p&&"persistent"!==p&&"temporary"!==p)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=h,this.type=p}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"toJWK",value:function(){var p,v=this.keyPairs.length,w={keys:[]};for(p=0;p<v;p++)w.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[p].keyID,k:this.keyPairs[p].key});this.type&&(w.type=this.type);var O=JSON.stringify(w),G=O.length,k=new ArrayBuffer(G),P=new Uint8Array(k);for(p=0;p<G;p++)P[p]=O.charCodeAt(p);return k}}]),m}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p,v,w){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.sessionToken=h,this.message=p,this.defaultURL=v,this.messageType=w||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.keyID=h,this.key=p})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.keySystem=h,this.ksConfiguration=p})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p,v,w,V){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.initDataTypes=["cenc"],h&&h.length&&(this.audioCapabilities=h),p&&p.length&&(this.videoCapabilities=p),this.distinctiveIdentifier=v,this.persistentState=w,this.sessionTypes=V})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p,v,w,V,O,G,k){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=h,this.method=p,this.responseType=v,this.headers=w,this.withCredentials=V,this.messageType=O,this.sessionId=G,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=h,this.headers=p,this.data=v})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.contentType=h,this.robustness=p})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.initData=h,this.initDataType=p})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var b={},F={},L={};return{push:function S(v,w,V){if(w){b[v]||(b[v]=[],F[v]=0,L[v]=0);var O=V&&V.droppedVideoFrames?V.droppedVideoFrames:0,G=V&&V.totalVideoFrames?V.totalVideoFrames:0,k=O-F[v];F[v]=O;var P=G-L[v];L[v]=G;var x=b[v];isNaN(w)||(x[w]?(x[w].droppedVideoFrames+=k,x[w].totalVideoFrames+=P):x[w]={droppedVideoFrames:k,totalVideoFrames:P})}},getFrameHistory:function m(v){return b[v]},clearForStream:function h(v){try{delete b[v],delete F[v],delete L[v]}catch{}},reset:function p(){b={},F={},L={}}}}E.__dashjs_factory_name="DroppedFramesHistory";var R=y.default.getClassFactory(E);M.default=R},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(R){var F=(R=R||{}).abrController,L=R.switchHistory,S=R.droppedFramesHistory,m=R.currentRequest,h=R.useBufferOccupancyABR,p=R.useL2AABR,v=R.useLoLPABR,w=R.streamProcessor?R.streamProcessor.getScheduleController():null,V=R.streamProcessor?R.streamProcessor.getRepresentationInfo():null,O=R.videoModel?R.videoModel:null;function P(){return V?V.mediaInfo:null}return{getMediaType:function G(){var z=P();return z?z.type:null},getMediaInfo:P,getDroppedFramesHistory:function B(){return S},getCurrentRequest:function Y(){return m},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var z=P();return z?z.streamInfo:null},getScheduleController:function I(){return w},getAbrController:function T(){return F},getRepresentationInfo:function x(){return V},useBufferOccupancyABR:function re(){return h},useL2AABR:function ae(){return p},useLoLPABR:function Oe(){return v},getVideoModel:function C(){return O}}}E.__dashjs_factory_name="RulesContext",M.default=y.default.getClassFactory(E)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R={DEFAULT:.5,STRONG:1,WEAK:0};function b(L,S,m){return{quality:void 0===L?-1:L,reason:void 0===S?null:S,priority:function V(O){var G=R.DEFAULT;return(O===R.DEFAULT||O===R.STRONG||O===R.WEAK)&&(G=O),G}(m)}}b.__dashjs_factory_name="SwitchRequest";var F=y.default.getClassFactory(b);F.NO_CHANGE=-1,F.PRIORITY=R,y.default.updateClassFactory(b.__dashjs_factory_name,F),M.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function b(){var L=[],S=[];return{push:function m(v){v.newValue===E.default.NO_CHANGE&&(v.newValue=v.oldValue),L[v.oldValue]||(L[v.oldValue]={noDrops:0,drops:0,dropSize:0});var w=v.newValue-v.oldValue,V=w<0?1:0,O=V?-w:0,G=V?0:1;if(L[v.oldValue].drops+=V,L[v.oldValue].dropSize+=O,L[v.oldValue].noDrops+=G,S.push({idx:v.oldValue,noDrop:G,drop:V,dropSize:O}),S.length>8){var k=S.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function h(){return L},reset:function p(){L=[],S=[]}}}b.__dashjs_factory_name="SwitchRequestHistory";var F=y.default.getClassFactory(b);M.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(b){var k,P,x,I,T,L=3,S=4,m=4,h=1.3,p=1.3,G=(b=b||{}).settings;function Y(se,De,Me,_e){var Le=Math.pow(.5,Me/_e.fast);se.fastEstimate=(1-Le)*De+Le*se.fastEstimate;var Ie=Math.pow(.5,Me/_e.slow);se.slowEstimate=(1-Ie)*De+Ie*se.slowEstimate,se.totalWeight+=Me}function ae(se,De,Me){return G.get().streaming.abr.movingAverageMethod!==y.default.MOVING_AVERAGE_SLIDING_WINDOW?function z(se,De){var Me=se?T.throughputHalfLife:T.latencyHalfLife,_e=se?x[De]:I[De];if(!_e||_e.totalWeight<=0)return NaN;var Le=_e.fastEstimate/(1-Math.pow(.5,_e.totalWeight/Me.fast)),Ie=_e.slowEstimate/(1-Math.pow(.5,_e.totalWeight/Me.slow));return se?Math.min(Le,Ie):Math.max(Le,Ie)}(se,De):function Oe(se,De,Me){var _e=function re(se,De,Me){var _e,Le;if(se?(_e=k[De],Le=Me?L:S):(_e=P[De],Le=m),_e){if(Le>=_e.length)Le=_e.length;else if(se)for(var Ie=1;Ie<Le;++Ie){var we=_e[_e.length-Ie]/_e[_e.length-Ie-1];if((we>=p||we<=1/h)&&(Le+=1)===_e.length)break}}else Le=0;return Le}(se,De,Me),Ie=(se?k:P)[De];return 0!==_e&&Ie&&0!==Ie.length?(Ie=Ie.slice(-_e)).reduce(function(we,Fe){return we+Fe})/Ie.length:NaN}(se,De,Me)}function oe(se,De){return ae(!0,se,De)}function ne(se){k[se]=k[se]||[],P[se]=P[se]||[],x[se]=x[se]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[se]=I[se]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Ee(){k={},P={},x={},I={}}var Ae={push:function B(se,De,Me){if(De.trace&&De.trace.length){var we,_e=De.tresponse.getTime()-De.trequest.getTime()||1,Le=De._tfinish.getTime()-De.tresponse.getTime()||1,Ie=De.trace.reduce(function(We,Ue){return We+Ue.b[0]},0),Fe=0;if(0!==(we=De._fileLoaderType&&De._fileLoaderType===y.default.FILE_LOADER_TYPES.FETCH?De.trace.reduce(function(We,Ue){return We+Ue.d},0):Me?Le:_e+Le)&&(Fe=Math.round(8*Ie/we)),ne(se),function C(se,De,Me){return se===y.default.VIDEO?Me<G.get().streaming.cacheLoadThresholds[y.default.VIDEO]:se===y.default.AUDIO?Me<G.get().streaming.cacheLoadThresholds[y.default.AUDIO]:void 0}(se,0,Le)){if(k[se].length>0&&!k[se].hasCachedEntries)return;k[se].hasCachedEntries=!0}else k[se]&&k[se].hasCachedEntries&&function fe(se){delete k[se],delete P[se],delete x[se],delete I[se],ne(se)}(se);k[se].push(Fe),k[se].length>20&&k[se].shift(),P[se].push(_e),P[se].length>20&&P[se].shift(),Y(x[se],Fe,.001*Le,T.throughputHalfLife),Y(I[se],_e,1,T.latencyHalfLife)}},getAverageThroughput:oe,getSafeAverageThroughput:function H(se,De){var Me=oe(se,De);return isNaN(Me)||(Me*=G.get().streaming.abr.bandwidthSafetyFactor),Me},getAverageLatency:function me(se){return ae(!1,se)},reset:Ee};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Ee()}(),Ae}R.__dashjs_factory_name="ThroughputHistory",M.default=E.default.getClassFactory(R)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),E=e(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),R=e(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),b=e(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=e(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=e(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),S=e(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),m=e(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),h=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),w="qualitySwitchRules",V="abandonFragmentRules";function O(k){var B,Y,P=this.context,x=(k=k||{}).mediaPlayerModel,I=k.customParametersModel,T=k.dashMetrics,N=k.settings;function ae(ne){return ne.filter(function(fe){return fe.quality>p.default.NO_CHANGE})}function Oe(ne){var Ae,se,De,Me,_e,fe={},Ee=null;if(0!==ne.length){for(fe[p.default.PRIORITY.STRONG]={quality:p.default.NO_CHANGE,reason:null},fe[p.default.PRIORITY.WEAK]={quality:p.default.NO_CHANGE,reason:null},fe[p.default.PRIORITY.DEFAULT]={quality:p.default.NO_CHANGE,reason:null},Ae=0,se=ne.length;Ae<se;Ae+=1)(De=ne[Ae]).quality!==p.default.NO_CHANGE&&(fe[De.priority].quality===p.default.NO_CHANGE||fe[De.priority].quality>De.quality)&&(fe[De.priority].quality=De.quality,fe[De.priority].reason=De.reason||null);return fe[p.default.PRIORITY.WEAK].quality!==p.default.NO_CHANGE&&(Ee=fe[p.default.PRIORITY.WEAK]),fe[p.default.PRIORITY.DEFAULT].quality!==p.default.NO_CHANGE&&(Ee=fe[p.default.PRIORITY.DEFAULT]),fe[p.default.PRIORITY.STRONG].quality!==p.default.NO_CHANGE&&(Ee=fe[p.default.PRIORITY.STRONG]),Ee&&(Me=Ee.quality,_e=Ee.reason),Object(p.default)(P).create(Me,_e)}}return{initialize:function re(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_L2A?B.push(Object(S.default)(P).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_LoLP?B.push(Object(m.default)(P).create({dashMetrics:T})):(B.push(Object(L.default)(P).create({dashMetrics:T,mediaPlayerModel:x,settings:N})),B.push(Object(y.default)(P).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(E.default)(P).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(P).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(b.default)(P).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(R.default)(P).create({dashMetrics:T,mediaPlayerModel:x,settings:N})))),I.getAbrCustomRules().forEach(function(fe){fe.type===w&&B.push(fe.rule(P).create()),fe.type===V&&Y.push(fe.rule(P).create())})},reset:function H(){[B,Y].forEach(function(ne){ne&&ne.length&&ne.forEach(function(fe){return fe.reset&&fe.reset()})}),B=[],Y=[]},getMaxQuality:function z(ne){return Oe(ae(B.map(function(se){return se.getMaxIndex(ne)})))||Object(p.default)(P).create()},getMinSwitchRequest:Oe,shouldAbandonFragment:function oe(ne,fe){return Oe(ae(Y.map(function(De){return De.shouldAbandon(ne,fe)})))||Object(p.default)(P).create()},getQualitySwitchRules:function me(){return B}}}O.__dashjs_factory_name="ABRRulesCollection";var G=h.default.getClassFactory(O);G.QUALITY_SWITCH_RULES=w,G.ABANDON_FRAGMENT_RULES=V,h.default.updateSingletonFactory(O.__dashjs_factory_name,G),M.default=G},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),E=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function b(F){var V,O,G,k,P,h=this.context,p=(F=F||{}).mediaPlayerModel,v=F.dashMetrics,w=F.settings;function C(){G={},k={},P=[]}return V={shouldAbandon:function N(B){var Y=Object(y.default)(h).create(y.default.NO_CHANGE,{name:b.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var re=B.getMediaInfo(),ae=B.getMediaType(),Oe=B.getStreamInfo(),z=Oe?Oe.id:null,oe=B.getCurrentRequest();if(!isNaN(oe.index)){!function I(B,Y){G[B]=G[B]||{},G[B][Y]=G[B][Y]||{}}(ae,oe.index);var H=p.getStableBufferTime();if(v.getCurrentBufferLevel(ae)>H)return Y;var ne=G[ae][oe.index];if(null===ne||null===oe.firstByteDate||k.hasOwnProperty(ne.id))return Y;if(void 0===ne.firstByteTime&&(P[ae]=[],ne.firstByteTime=oe.firstByteDate.getTime(),ne.segmentDuration=oe.duration,ne.bytesTotal=oe.bytesTotal,ne.id=oe.index),ne.bytesLoaded=oe.bytesLoaded,ne.elapsedTime=(new Date).getTime()-ne.firstByteTime,ne.bytesLoaded>0&&ne.elapsedTime>0&&function T(B,Y){P[B]=P[B]||[],P[B].push(Y)}(ae,Math.round(8*ne.bytesLoaded/ne.elapsedTime)),P[ae].length>=5&&ne.elapsedTime>500&&ne.bytesLoaded<ne.bytesTotal){var fe=P[ae].reduce(function(Ie,we){return Ie+we},0);if(ne.measuredBandwidthInKbps=Math.round(fe/P[ae].length),ne.estimatedTimeOfDownload=+(8*ne.bytesTotal/ne.measuredBandwidthInKbps/1e3).toFixed(2),ne.estimatedTimeOfDownload<1.8*ne.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(ne.id)){var Ee=B.getAbrController(),Ae=ne.bytesTotal-ne.bytesLoaded,se=Ee.getBitrateList(re),De=Ee.getQualityForBitrate(re,ne.measuredBandwidthInKbps*w.get().streaming.abr.bandwidthSafetyFactor,z),Me=Ee.getMinAllowedIndexFor(ae,z),_e=void 0!==Me?Math.max(Me,De):De;Ae>ne.bytesTotal*se[_e].bitrate/se[Ee.getQualityFor(ae,z)].bitrate&&(Y.quality=_e,Y.reason.throughput=ne.measuredBandwidthInKbps,Y.reason.fragmentID=ne.id,k[ne.id]=ne,O.debug("["+ae+"] frag id",ne.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",ne.measuredBandwidthInKbps),delete G[ae][ne.id])}}else ne.bytesLoaded===ne.bytesTotal&&delete G[ae][ne.id]}return Y},reset:C},function x(){O=Object(R.default)(h).getInstance().getLogger(V),C()}(),V}b.__dashjs_factory_name="AbandonRequestsRule",M.default=E.default.getClassFactory(b)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),R=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),V=10;function k(P){var C,B,Y,x=this.context,I=(P=P||{}).dashMetrics,T=P.mediaPlayerModel,N=Object(F.default)(x).getInstance();function Oe(xe,be,K){var ie=K.reduce(function(W,te,X){return te>K[W]?X:W},0);if(0===ie)return null;var he=Math.max(xe,V+2*be.length),q=(K[ie]-1)/(he/V-1);return{gp:q,Vp:V/q}}function z(xe){var be={},ie=xe.getMediaInfo().bitrateList.map(function(W){return W.bandwidth}),he=function ae(xe){return xe.map(function(be){return Math.log(be)})}(ie);he=he.map(function(W){return W-he[0]+1});var q=T.getStableBufferTime(),$=Oe(q,ie,he);return $?(be.state=1,be.bitrates=ie,be.utilities=he,be.stableBufferTime=q,be.Vp=$.Vp,be.gp=$.gp,be.lastQuality=0,oe(be)):be.state=0,be}function oe(xe){xe.placeholderBuffer=0,xe.mostAdvancedSegmentStart=NaN,xe.lastSegmentWasReplacement=!1,xe.lastSegmentStart=NaN,xe.lastSegmentDurationS=NaN,xe.lastSegmentRequestTimeMs=NaN,xe.lastSegmentFinishTimeMs=NaN}function H(xe,be){var K=T.getStableBufferTime();if(xe.stableBufferTime!==K){var ie=Oe(K,xe.bitrates,xe.utilities);if(ie.Vp!==xe.Vp||ie.gp!==xe.gp){var he=I.getCurrentBufferLevel(be),q=he+xe.placeholderBuffer;q-=V,q*=ie.Vp/xe.Vp,q+=V,xe.stableBufferTime=K,xe.Vp=ie.Vp,xe.gp=ie.gp,xe.placeholderBuffer=Math.max(0,q-he)}}}function fe(xe,be){return xe.Vp*(xe.utilities[be]+xe.gp)}function Ee(xe,be){for(var K=xe.bitrates[be],ie=xe.utilities[be],he=0,q=be-1;q>=0;--q)if(xe.utilities[q]<xe.utilities[be]){var $=xe.bitrates[q];he=Math.max(he,xe.Vp*(xe.gp+(K*xe.utilities[q]-$*ie)/(K-$)))}return he}function se(xe){var K=xe.mediaType===h.default.AUDIO?[h.default.AUDIO]:Y;for(var ie in K)Y.hasOwnProperty(ie)&&2===Y[ie].state&&(Y[ie].placeholderBuffer=0)}function De(){for(var xe in Y)if(Y.hasOwnProperty(xe)){var be=Y[xe];0!==be.state&&(be.state=1,oe(be))}}function Me(xe){if(xe&&xe.chunk&&xe.chunk.mediaInfo){var be=Y[xe.chunk.mediaInfo.type];if(be&&0!==be.state){var K=xe.chunk.start;isNaN(be.mostAdvancedSegmentStart)||K>be.mostAdvancedSegmentStart?(be.mostAdvancedSegmentStart=K,be.lastSegmentWasReplacement=!1):be.lastSegmentWasReplacement=!0,be.lastSegmentStart=K,be.lastSegmentDurationS=xe.chunk.duration,be.lastQuality=xe.chunk.quality,Le(be,xe.chunk.mediaInfo.type)}}}function _e(xe){if(xe&&xe.metric===y.default.HTTP_REQUEST&&xe.value&&xe.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&xe.value.trace&&xe.value.trace.length){var be=Y[xe.mediaType];be&&0!==be.state&&(be.lastSegmentRequestTimeMs=xe.value.trequest.getTime(),be.lastSegmentFinishTimeMs=xe.value._tfinish.getTime(),Le(be,xe.mediaType))}}function Le(xe,be){if(!isNaN(xe.lastSegmentStart)&&!isNaN(xe.lastSegmentRequestTimeMs)&&!isNaN(xe.placeholderBuffer)){if(xe.placeholderBuffer*=.99,!isNaN(xe.lastSegmentFinishTimeMs)){var ie=I.getCurrentBufferLevel(be)+.001*(xe.lastSegmentFinishTimeMs-xe.lastSegmentRequestTimeMs),he=fe(xe,xe.lastQuality),q=Math.max(0,he-ie);xe.placeholderBuffer=Math.min(q,xe.placeholderBuffer)}xe.lastSegmentWasReplacement&&!isNaN(xe.lastSegmentDurationS)&&(xe.placeholderBuffer+=xe.lastSegmentDurationS),xe.lastSegmentStart=NaN,xe.lastSegmentRequestTimeMs=NaN}}function Ie(xe){if(xe){var be=Y[xe.mediaType];be&&0!==be.state&&(be.abrQuality=xe.newQuality)}}function we(xe){if(xe){var be=Y[xe.mediaType];if(be&&0!==be.state){var ie,K=I.getCurrentBufferLevel(xe.mediaType);ie=be.abrQuality>0?Ee(be,be.abrQuality):V;var he=Math.max(0,ie-K);be.placeholderBuffer=Math.min(be.placeholderBuffer,he)}}}function We(){Y={}}return C={getMaxIndex:function Fe(xe){var be=Object(E.default)(x).create();if(!(xe&&xe.hasOwnProperty("getMediaInfo")&&xe.hasOwnProperty("getMediaType")&&xe.hasOwnProperty("getScheduleController")&&xe.hasOwnProperty("getStreamInfo")&&xe.hasOwnProperty("getAbrController")&&xe.hasOwnProperty("useBufferOccupancyABR")))return be;var K=xe.getMediaInfo(),ie=xe.getMediaType(),he=xe.getScheduleController(),q=xe.getStreamInfo(),$=xe.getAbrController(),W=$.getThroughputHistory(),te=q?q.id:null,X=q&&q.manifestInfo&&q.manifestInfo.isDynamic,J=xe.useBufferOccupancyABR();if(be.reason=be.reason||{},!J)return be;he.setTimeToLoadDelay(0);var Q=function me(xe){var be=xe.getMediaType(),K=Y[be];return K?0!==K.state&&H(K,be):(K=z(xe),Y[be]=K),K}(xe);if(0===Q.state)return be;var Ve,de=I.getCurrentBufferLevel(ie),pe=W.getAverageThroughput(ie,X),le=W.getSafeAverageThroughput(ie,X),Te=W.getAverageLatency(ie);if(be.reason.state=Q.state,be.reason.throughput=pe,be.reason.latency=Te,isNaN(pe))return be;switch(Q.state){case 1:Ve=$.getQualityForBitrate(K,le,te,Te),be.quality=Ve,be.reason.throughput=le,Q.placeholderBuffer=Math.max(0,Ee(Q,Ve)-de),Q.lastQuality=Ve,!isNaN(Q.lastSegmentDurationS)&&de>=Q.lastSegmentDurationS&&(Q.state=2);break;case 2:(function Ae(xe,be){var K=Date.now();isNaN(xe.lastSegmentFinishTimeMs)?isNaN(xe.lastCallTimeMs)||(xe.placeholderBuffer+=Math.max(0,.001*(K-xe.lastCallTimeMs))):xe.placeholderBuffer+=Math.max(0,.001*(K-xe.lastSegmentFinishTimeMs)),xe.lastCallTimeMs=K,xe.lastSegmentStart=NaN,xe.lastSegmentRequestTimeMs=NaN,xe.lastSegmentFinishTimeMs=NaN,H(xe,be)})(Q,ie),Ve=function ne(xe,be){for(var K=xe.bitrates.length,ie=NaN,he=NaN,q=0;q<K;++q){var $=(xe.Vp*(xe.utilities[q]+xe.gp)-be)/xe.bitrates[q];(isNaN(he)||$>=he)&&(he=$,ie=q)}return ie}(Q,de+Q.placeholderBuffer);var ke=$.getQualityForBitrate(K,le,te,Te);Ve>Q.lastQuality&&Ve>ke&&(Ve=Math.max(ke,Q.lastQuality));var Ze=Math.max(0,de+Q.placeholderBuffer-fe(Q,Ve));Ze<=Q.placeholderBuffer?(Q.placeholderBuffer-=Ze,Ze=0):(Ze-=Q.placeholderBuffer,Q.placeholderBuffer=0,Ve<$.getMaxAllowedIndexFor(ie,te)?he.setTimeToLoadDelay(1e3*Ze):Ze=0),be.quality=Ve,be.reason.throughput=pe,be.reason.latency=Te,be.reason.bufferLevel=de,be.reason.placeholderBuffer=Q.placeholderBuffer,be.reason.delay=Ze,Q.lastQuality=Ve;break;default:B.debug("BOLA ABR rule invoked in bad state."),be.quality=$.getQualityForBitrate(K,le,te,Te),be.reason.state=Q.state,be.reason.throughput=le,be.reason.latency=Te,Q.state=1,oe(Q)}return be},reset:function Ue(){We(),N.off(m.default.BUFFER_EMPTY,se,C),N.off(m.default.PLAYBACK_SEEKING,De,C),N.off(m.default.METRIC_ADDED,_e,C),N.off(m.default.QUALITY_CHANGE_REQUESTED,Ie,C),N.off(m.default.FRAGMENT_LOADING_ABANDONED,we,C),N.off(L.default.MEDIA_FRAGMENT_LOADED,Me,C)}},function re(){B=Object(S.default)(x).getInstance().getLogger(C),We(),N.on(m.default.BUFFER_EMPTY,se,C),N.on(m.default.PLAYBACK_SEEKING,De,C),N.on(m.default.METRIC_ADDED,_e,C),N.on(m.default.QUALITY_CHANGE_REQUESTED,Ie,C),N.on(m.default.FRAGMENT_LOADING_ABANDONED,we,C),N.on(L.default.MEDIA_FRAGMENT_LOADED,Me,C)}(),C}k.__dashjs_factory_name="BolaRule",M.default=R.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),R=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function b(){var L,S,F=this.context;return L={getMaxIndex:function v(w){var V=Object(E.default)(F).create();if(!w||!w.hasOwnProperty("getDroppedFramesHistory"))return V;var O=w.getDroppedFramesHistory(),G=w.getStreamInfo().id;if(O){var k=O.getFrameHistory(G);if(!k||0===k.length)return V;for(var P=0,x=0,I=E.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(P=k[T].droppedVideoFrames,(x=k[T].totalVideoFrames)>375&&P/x>.15)){S.debug("index: "+(I=T-1)+" Dropped Frames: "+P+" Total Frames: "+x);break}return Object(E.default)(F).create(I,{droppedFrames:P})}return V}},function p(){S=Object(R.default)(F).getInstance().getLogger(L)}(),L}b.__dashjs_factory_name="DroppedFramesRule",M.default=y.default.getClassFactory(b)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),S=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(p){p=p||{};var k,P,x,w=2,V=this.context,O=Object(y.default)(V).getInstance(),G=p.dashMetrics;function B(){(x={})[L.default.VIDEO]={ignoreCount:w},x[L.default.AUDIO]={ignoreCount:w}}function Y(){B()}function re(Oe){!isNaN(Oe.startTime)&&(Oe.mediaType===L.default.AUDIO||Oe.mediaType===L.default.VIDEO)&&x[Oe.mediaType].ignoreCount>0&&x[Oe.mediaType].ignoreCount--}return k={getMaxIndex:function N(Oe){var z=Object(F.default)(V).create();if(!Oe||!Oe.hasOwnProperty("getMediaType"))return z;!function T(){if(!G||!G.hasOwnProperty("getCurrentBufferLevel")||!G.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var oe=Oe.getMediaType(),H=G.getCurrentBufferState(oe),ne=Oe.getRepresentationInfo().fragmentDuration,fe=Oe.getStreamInfo(),Ee=fe?fe.id:null,Ae=Oe.getScheduleController(),se=fe&&fe.manifestInfo&&fe.manifestInfo.isDynamic;if(function C(Oe,z){return!Oe&&x[z].ignoreCount>0}(Ae.getPlaybackController().getLowLatencyModeEnabled(),oe)||!ne)return z;if(H&&H.state===S.default.BUFFER_EMPTY)P.debug("["+oe+"] Switch to index 0; buffer is empty."),z.quality=0,z.reason="InsufficientBufferRule: Buffer is empty";else{var _e=Oe.getMediaInfo(),Le=Oe.getAbrController(),Ie=Le.getThroughputHistory(),we=G.getCurrentBufferLevel(oe),Fe=Ie.getAverageThroughput(oe,se),We=Ie.getAverageLatency(oe);z.quality=Le.getQualityForBitrate(_e,Fe*(we/ne)*.5,Ee,We),z.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return z},reset:function ae(){B(),O.off(m.default.PLAYBACK_SEEKING,Y,k),O.off(E.default.BYTES_APPENDED_END_FRAGMENT,re,k)}},function I(){P=Object(b.default)(V).getInstance().getLogger(k),B(),O.on(m.default.PLAYBACK_SEEKING,Y,k),O.on(E.default.BYTES_APPENDED_END_FRAGMENT,re,k)}(),k}h.__dashjs_factory_name="InsufficientBufferRule",M.default=R.default.getClassFactory(h)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),R=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function w(V){var P,x,I,T,O=this.context,G=(V=V||{}).dashMetrics,k=Object(F.default)(O).getInstance();function C(se){var De={},Me=se.getMediaInfo(),_e=Me.bitrateList.map(function(Le){return Le.bandwidth/1e3});return De.state=1,De.bitrates=_e,De.lastQuality=0,function B(se){!se||!se.type||(I[se.type]={},I[se.type].w=[],I[se.type].prev_w=[],I[se.type].Q=0,I[se.type].segment_request_start_s=0,I[se.type].segment_download_finish_s=0,I[se.type].B_target=1.5)}(Me),Y(De),De}function Y(se){se.placeholderBuffer=0,se.mostAdvancedSegmentStart=NaN,se.lastSegmentWasReplacement=!1,se.lastSegmentStart=NaN,se.lastSegmentDurationS=NaN,se.lastSegmentRequestTimeMs=NaN,se.lastSegmentFinishTimeMs=NaN}function ae(){for(var se in x)if(x.hasOwnProperty(se)){var De=x[se];0!==De.state&&(De.state=1,Y(De))}}function Oe(se){if(se&&se.chunk&&se.chunk.mediaInfo){var De=x[se.chunk.mediaInfo.type],Me=I[se.chunk.mediaInfo.type];if(De&&0!==De.state){var _e=se.chunk.start;isNaN(De.mostAdvancedSegmentStart)||_e>De.mostAdvancedSegmentStart?(De.mostAdvancedSegmentStart=_e,De.lastSegmentWasReplacement=!1):De.lastSegmentWasReplacement=!0,De.lastSegmentStart=_e,De.lastSegmentDurationS=se.chunk.duration,De.lastQuality=se.chunk.quality,oe(De,Me)}}}function z(se){if(se&&se.metric===y.default.HTTP_REQUEST&&se.value&&se.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&se.value.trace&&se.value.trace.length){var De=x[se.mediaType],Me=I[se.mediaType];De&&0!==De.state&&(De.lastSegmentRequestTimeMs=se.value.trequest.getTime(),De.lastSegmentFinishTimeMs=se.value._tfinish.getTime(),oe(De,Me))}}function oe(se,De){!isNaN(se.lastSegmentStart)&&!isNaN(se.lastSegmentRequestTimeMs)&&(De.segment_request_start_s=.001*se.lastSegmentRequestTimeMs,De.segment_download_finish_s=.001*se.lastSegmentFinishTimeMs,se.lastSegmentStart=NaN,se.lastSegmentRequestTimeMs=NaN)}function H(se){if(se&&se.mediaType){var De=x[se.mediaType];De&&0!==De.state&&(De.abrQuality=se.newQuality)}}function me(se,De){if(se.length!==De.length)return-1;for(var Me=0,_e=0;_e<se.length;_e++)Me+=se[_e]*De[_e];return Me}function Ee(){x={},I={}}return P={getMaxIndex:function fe(se){var Q,De=Object(E.default)(O).create(),_e=Math.pow(4,.99),Le=Math.max(Math.pow(4,1),_e*Math.sqrt(4)),Ie=se.getMediaInfo(),we=se.getMediaType(),Fe=Ie.bitrateList.map(function(It){return It.bandwidth}),We=Fe.length,Ue=se.getScheduleController(),xe=se.getStreamInfo(),be=se.getAbrController(),K=be.getThroughputHistory(),ie=xe&&xe.manifestInfo&&xe.manifestInfo.isDynamic,he=se.useL2AABR(),q=G.getCurrentBufferLevel(we,!0),$=K.getSafeAverageThroughput(we,ie),W=K.getAverageThroughput(we,ie),X=K.getAverageLatency(we),de=se.getVideoModel().getPlaybackRate();if(!(se&&se.hasOwnProperty("getMediaInfo")&&se.hasOwnProperty("getMediaType")&&se.hasOwnProperty("getScheduleController")&&se.hasOwnProperty("getStreamInfo")&&se.hasOwnProperty("getAbrController")&&se.hasOwnProperty("useL2AABR")&&(De.reason=De.reason||{},he&&we!==m.default.AUDIO)))return De;Ue.setTimeToLoadDelay(0);var pe=function re(se){var De=se.getMediaType(),Me=x[De];return Me||(Me=C(se),x[De]=Me),Me}(se);if(0===pe.state)return De;var le=I[we];if(!le||(De.reason.state=pe.state,De.reason.throughput=W,De.reason.latency=X,isNaN(W)))return De;switch(pe.state){case 1:if(Q=be.getQualityForBitrate(Ie,$,xe.id,X),De.quality=Q,De.reason.throughput=$,pe.lastQuality=Q,!isNaN(pe.lastSegmentDurationS)&&q>=le.B_target){pe.state=2,le.Q=_e;for(var Te=0;Te<We;++Te)le.prev_w[Te]=Te===pe.lastQuality?1:0}break;case 2:var Ve=[],ke=G.getCurrentHttpRequest(we).trace.reduce(function(It,Gt){return It+Gt.d},0),Ze=G.getCurrentHttpRequest(we).trace.reduce(function(It,Gt){return It+Gt.b[0]},0),qe=Math.round(8*Ze/ke);qe<1&&(qe=1);for(var He=pe.lastSegmentDurationS,ot=1,yt=0;yt<We;++yt)Fe[yt]=Fe[yt]/1e3,de*Fe[yt]>qe&&(ot=-1),le.w[yt]=le.prev_w[yt]+ot*(He/(2*Le))*((le.Q+_e)*(de*Fe[yt]/qe));le.w=function ne(se){for(var De=se.length,Me=!1,_e=[],Le=0;Le<De;++Le)_e[Le]=se[Le];for(var Ie=se.sort(function(be,K){return K-be}),we=0,Fe=0,We=[],Ue=0;Ue<De-1;++Ue)if((Fe=((we+=Ie[Ue])-1)/(Ue+1))>=Ie[Ue+1]){Me=!0;break}Me||(Fe=(we+Ie[De-1]-1)/De);for(var xe=0;xe<De;++xe)We[xe]=Math.max(_e[xe]-Fe,0);return We}(le.w);for(var ut=0;ut<We;++ut)Ve[ut]=le.w[ut]-le.prev_w[ut],le.prev_w[ut]=le.w[ut];le.Q=Math.max(0,le.Q-He+He*de*((me(Fe,le.prev_w)+me(Fe,Ve))/qe));for(var Ct=[],Ot=0;Ot<We;++Ot)Ct[Ot]=Math.abs(Fe[Ot]-me(le.w,Fe));(Q=Ct.indexOf(Math.min.apply(Math,Ct)))>pe.lastQuality&&Fe[pe.lastQuality+1]<=qe&&(Q=pe.lastQuality+1),Fe[Q]>=qe&&(le.Q=2*Math.max(_e,le.Q)),De.quality=Q,De.reason.throughput=W,De.reason.latency=X,De.reason.bufferLevel=q,pe.lastQuality=De.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),De.quality=be.getQualityForBitrate(Ie,$,xe.id,X),De.reason.state=pe.state,De.reason.throughput=$,De.reason.latency=X,pe.state=1,Y(pe)}return De},reset:function Ae(){Ee(),k.off(L.default.PLAYBACK_SEEKING,ae,P),k.off(L.default.MEDIA_FRAGMENT_LOADED,Oe,P),k.off(L.default.METRIC_ADDED,z,P),k.off(L.default.QUALITY_CHANGE_REQUESTED,H,P)}},function N(){T=Object(S.default)(O).getInstance().getLogger(P),Ee(),k.on(L.default.PLAYBACK_SEEKING,ae,P),k.on(L.default.MEDIA_FRAGMENT_LOADED,Oe,P),k.on(L.default.METRIC_ADDED,z,P),k.on(L.default.QUALITY_CHANGE_REQUESTED,H,P)}(),P}w.__dashjs_factory_name="L2ARule",M.default=R.default.getClassFactory(w)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function b(){var L,S,F=this.context;return L={getMaxIndex:function v(w){for(var V=w?w.getSwitchHistory():null,O=V?V.getSwitchRequests():[],G=0,k=0,P=0,x=Object(R.default)(F).create(),I=0;I<O.length;I++)if(void 0!==O[I]&&(P+=O[I].dropSize,(G+=O[I].drops)+(k+=O[I].noDrops)>=6&&G/k>.075)){x.quality=I>0&&O[I].drops>0?I-1:I,x.reason={index:x.quality,drops:G,noDrops:k,dropSize:P},S.debug("Switch history rule index: "+x.quality+" samples: "+(G+k)+" drops: "+G);break}return x}},function p(){S=Object(E.default)(F).getInstance().getLogger(L)}(),L}b.__dashjs_factory_name="SwitchHistoryRule",M.default=y.default.getClassFactory(b)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),R=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var S=this.context,m=(L=L||{}).dashMetrics;return{getMaxIndex:function w(O){var G=Object(E.default)(S).create();if(!(O&&O.hasOwnProperty("getMediaInfo")&&O.hasOwnProperty("getMediaType")&&O.hasOwnProperty("useBufferOccupancyABR")&&O.hasOwnProperty("getAbrController")&&O.hasOwnProperty("getScheduleController")))return G;!function v(){if(!m||!m.hasOwnProperty("getCurrentBufferState"))throw new Error(R.default.MISSING_CONFIG_ERROR)}();var k=O.getMediaInfo(),P=O.getMediaType(),x=m.getCurrentBufferState(P),I=O.getScheduleController(),T=O.getAbrController(),N=O.getStreamInfo(),C=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=T.getThroughputHistory(),re=Y.getSafeAverageThroughput(P,B),ae=Y.getAverageLatency(P),Oe=O.useBufferOccupancyABR();return isNaN(re)||!x||Oe||T.getAbandonmentStateFor(C,P)!==b.default.ABANDON_LOAD&&(x.state===b.default.BUFFER_LOADED||B)&&(G.quality=T.getQualityForBitrate(k,re,C,ae),I.setTimeToLoadDelay(0),G.reason={throughput:re,latency:ae}),G},reset:function V(){}}}F.__dashjs_factory_name="ThroughputRule",M.default=y.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),R_MANUAL="manual_weight_selection",R_RANDOM="random_weight_selection",R_DYNAMIC="dynamic_weight_selection";function b(){var L,S,m,h,p,v,w,V,O,F=this.context;function P(){m=null,h=1,p=100,v=0,w=null,V=null,O=R_DYNAMIC}function x(){var fe=0;if(m)for(var Ee=0;Ee<m.length;Ee++){var Ae=m[Ee];Ae.state.throughput>fe&&(fe=Ae.state.throughput)}return fe}function T(fe,Ee,Ae){var se=fe.map(function(Me,_e){return Ae[_e]*Math.pow(Me-Ee[_e],2)}).reduce(function(Me,_e){return Me+_e});return(se<0?-1:1)*Math.sqrt(Math.abs(se))}function N(fe,Ee){return T([fe.state.throughput,fe.state.latency,fe.state.rebuffer,fe.state.switch],[Ee.state.throughput,Ee.state.latency,Ee.state.rebuffer,Ee.state.switch],[1,1,1,1])}function C(fe,Ee,Ae){for(var se=0;se<Ee.length;se++){var De=Ee[se],_e=N(De,fe);B(De,Ae,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(.1,2))))}}function B(fe,Ee,Ae){var se=fe.state,De=[.01,.01,.01,.01];se.throughput=se.throughput+(Ee[0]-se.throughput)*De[0]*Ae,se.latency=se.latency+(Ee[1]-se.latency)*De[1]*Ae,se.rebuffer=se.rebuffer+(Ee[2]-se.rebuffer)*De[2]*Ae,se.switch=se.switch+(Ee[3]-se.switch)*De[3]*Ae}return L={getNextQuality:function re(fe,Ee,Ae,se,De,Me,_e){var Le=Ae,Ie=se,we=Ee,Fe=function H(fe){if(!m){m=[];var Ee=fe.bitrateList,Ae=[];v=Ee[0].bandwidth,Ee.forEach(function(Me){Ae.push(Me.bandwidth),Me.bandwidth<v&&(v=Me.bandwidth)}),h=function I(fe){var Ee=fe.map(function(Ae){return Math.pow(Ae,2)}).reduce(function(Ae,se){return Ae+se});return Math.sqrt(Ee)}(Ae);for(var se=0;se<Ee.length;se++)m.push({qualityIndex:se,bitrate:Ee[se].bandwidth,state:{throughput:Ee[se].bandwidth/h,latency:0,rebuffer:0,switch:0}});V=function ne(fe){var Ee=[],Ae=function me(fe){for(var Ee=[],Ae=0;Ae<fe;Ae++){var se=[Math.random()*x(),Math.random(),Math.random(),Math.random()];Ee.push(se)}return Ee}(Math.pow(fe.length,2));Ee.push(Ae[0]);for(var se=[1,1,1,1],De=1;De<fe.length;De++){for(var Me=null,_e=null,Le=0;Le<Ae.length;Le++){for(var Ie=Ae[Le],we=null,Fe=0;Fe<Ee.length;Fe++){var We=T(Ie,Ee[Fe],se);(null===we||We<we)&&(we=We)}(null===_e||we>_e)&&(Me=Ie,_e=we)}Ee.push(Me)}for(var Ue=null,xe=null,be=0;be<Ee.length;be++){for(var K=0,ie=0;ie<Ee.length;ie++)be!==ie&&(K+=T(Ee[be],Ee[ie],se));(null===Ue||K>Ue)&&(Ue=K,xe=be)}var he=[];for(he.push(Ee[xe]),Ee.splice(xe,1);Ee.length>0;){for(var q=null,$=null,W=0;W<Ee.length;W++){var te=T(he[0],Ee[W],se);(null===q||te<q)&&(q=te,$=W)}he.push(Ee[$]),Ee.splice($,1)}return he}(m)}return m}(fe),We=Ee/h;We>1&&(We=x()),Ae/=p,S.debug("getNextQuality called throughput:".concat(We," latency:").concat(Ae," bufferSize:").concat(se," currentQualityIndex:").concat(Me," playbackRate:").concat(De));var ie=Fe[Me],he=ie.bitrate*_e.getSegmentDuration()/we,q=Math.max(0,he-Ie);if(Ie-he<_e.getMinBuffer())return S.debug("Buffer is low for bitrate= ".concat(ie.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Ie," rebuffer=").concat(q)),function Y(fe,Ee){var Ae=0,se=fe;if(m)for(var De=0;De<m.length;De++){var Me=m[De];Me.bitrate<fe.bitrate&&Me.bitrate>Ae&&Ee>Me.bitrate&&(Ae=Me.bitrate,se=Me)}return se}(ie,we).qualityIndex;switch(O){case R_MANUAL:!function ae(){w=[.4,.4,.4,.4]}();break;case R_RANDOM:!function Oe(fe){w=function oe(fe,Ee){for(var Ae=[],se=Math.sqrt(2/fe),De=0;De<Ee;De++)Ae.push(Math.random()*se);return w=Ae}(fe.length,4)}(Fe);break;default:!function z(fe,Ee,Ae,se,De,Me,_e){w||(w=V[V.length-1]);var Le=fe.findWeightVector(Ee,Ae,se,De,Me,_e);null!==Le&&-1!==Le&&(w=Le)}(_e,Fe,Le,Ie,q,we,De)}for(var $=null,W=null,te=null,X=0;X<Fe.length;X++){var J=Fe[X],Q=J.state,de=[Q.throughput,Q.latency,Q.rebuffer,Q.switch],pe=w.slice(),le=_e.getNextBufferWithBitrate(J.bitrate,Ie,we),Te=le<_e.getMinBuffer();Te&&S.debug("Buffer is low for bitrate=".concat(J.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Ie," nextBuffer=").concat(le)),(J.bitrate>Ee-1e4||Te)&&J.bitrate!==v&&(pe[0]=100);var Ve=T(de,[We,0,0,0],pe);(null===$||Ve<$)&&($=Ve,W=J.qualityIndex,te=J)}var ke=Math.abs(ie.bitrate-te.bitrate)/h;return C(ie,Fe,[We,Ae,q,ke]),C(te,Fe,[We,0,0,ke]),W},reset:function k(){P()}},function G(){S=Object(E.default)(F).getInstance().getLogger(L),P()}(),L}b.__dashjs_factory_name="LearningAbrController",M.default=y.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function R(){var b,F,L,S,m;function p(){F=null,L=null,S=null,m=null}function w(x,I,T,N){var C=new E.default;return C.type=x,C.weights.bitrateReward=I||1,C.weights.bitrateSwitchPenalty=1,C.weights.rebufferPenalty=T||1e3,C.weights.latencyPenalty=[],C.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),C.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),C.weights.playbackSpeedPenalty=N||200,C}function O(x,I,T,N,C){C.bitrateWSum+=C.weights.bitrateReward*x,C.lastBitrate&&(C.bitrateSwitchWSum+=C.weights.bitrateSwitchPenalty*Math.abs(x-C.lastBitrate)),C.lastBitrate=x,C.rebufferWSum+=C.weights.rebufferPenalty*I;for(var B=0;B<C.weights.latencyPenalty.length;B++){var Y=C.weights.latencyPenalty[B];if(T<=Y.threshold){C.latencyWSum+=Y.penalty*T;break}}C.playbackSpeedWSum+=C.weights.playbackSpeedPenalty*Math.abs(1-N),C.totalQoe=C.bitrateWSum-C.bitrateSwitchWSum-C.rebufferWSum-C.latencyWSum-C.playbackSpeedWSum}return b={setupPerSegmentQoe:function v(x,I,T){F=w("segment",x,I,T),L=x,S=I,m=T},logSegmentMetrics:function V(x,I,T,N){F&&O(x,I,T,N,F)},getPerSegmentQoe:function G(){return F},calculateSingleUseQoe:function k(x,I,T,N){var C=null;return L&&S&&m&&(C=w("segment",L,S,m)),C?(O(x,I,T,N,C),C.totalQoe):0},reset:function P(){p()}},function h(){p()}(),b}R.__dashjs_factory_name="LoLpQoeEvaluator",M.default=y.default.getClassFactory(R)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),b=e(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=e(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=e(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),S=e(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),m=e(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function v(w){var G,k,P,x,V=(w=w||{}).dashMetrics,O=this.context;return k={getMaxIndex:function T(B){try{var Y=Object(F.default)(O).create(),re=B.getMediaInfo().type,ae=B.getAbrController(),Oe=B.getStreamInfo(),z=ae.getQualityFor(re,Oe.id),oe=B.getMediaInfo(),H=V.getCurrentBufferState(re),me=B.getScheduleController(),ne=V.getCurrentBufferLevel(re,!0),fe=Oe&&Oe.manifestInfo?Oe.manifestInfo.isDynamic:null,Ee=me.getPlaybackController(),Ae=Ee.getCurrentLiveLatency();if(!B.useLoLPABR()||re===m.default.AUDIO)return Y;Ae||(Ae=0);var se=Ee.getPlaybackRate(),Me=ae.getThroughputHistory().getSafeAverageThroughput(re,fe);if(G.debug("Throughput ".concat(Math.round(Me)," kbps")),isNaN(Me)||!H||ae.getAbandonmentStateFor(Oe.id,re)===L.default.ABANDON_LOAD)return Y;for(var _e=oe.bitrateList,Le=B.getRepresentationInfo().fragmentDuration,Ie=_e[0].bandwidth/1e3,we=_e[_e.length-1].bandwidth/1e3,Fe=0;Fe<_e.length;Fe++){var We=_e[Fe].bandwidth/1e3;We>we?we=We:We<Ie&&(Ie=We)}var xe=_e[z].bandwidth/1e3,be=V.getCurrentHttpRequest(re,!0),K=(be.tresponse.getTime()-be.trequest.getTime())/1e3,ie=K>Le?K-Le:0;x.setupPerSegmentQoe(Le,we,Ie),x.logSegmentMetrics(xe,ie,Ae,se);var he=Object(S.default)(O).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Le,qoeEvaluator:x});return Y.quality=P.getNextQuality(oe,1e3*Me,Ae,ne,se,z,he),Y.reason={throughput:Me,latency:Ae},Y.priority=F.default.PRIORITY.STRONG,me.setTimeToLoadDelay(0),Y.quality!==z&&console.log("[TgcLearningRule]["+re+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(Me),"kbps"),Y}catch(q){throw q}},reset:function C(){!function N(){P.reset(),x.reset()}()}},function I(){G=Object(y.default)(O).getInstance().getLogger(k),P=Object(R.default)(O).create(),x=Object(b.default)(O).create()}(),k}v.__dashjs_factory_name="LoLPRule",M.default=E.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(R){var m,v,w,b=R.targetLatency,F=R.bufferMin,L=R.segmentDuration,S=R.qoeEvaluator;function I(){return L}function N(C,B){var Y=I();return B>Y?C-Y:C+Y-B}return m={getMinBuffer:function x(){return F},getSegmentDuration:I,getNextBufferWithBitrate:function T(C,B,Y){return N(B,C*L/Y)},getNextBuffer:N,findWeightVector:function G(C,B,Y,re,ae,Oe){var z=null,oe=null,H=null,me=Math.abs(B-w);return C.forEach(function(ne){v.forEach(function(fe){var Ee_latency=fe[1],Ee_buffer=fe[2],Ae=ne.bitrate*L/ae,se=N(Y,Ae),De=Math.max(1e-5,Ae-se),Ie=S.calculateSingleUseQoe(ne.bitrate,(0===Ee_buffer?10:1/Ee_buffer)*De,(0===Ee_latency?10:1/Ee_latency)*ne.state.latency,Oe);(null===z||Ie>z)&&function k(C,B,Y){return!(C>b+Y)&&B>=F}(B,se,me)&&(z=Ie,oe=fe,H=ne.bitrate)})}),null===oe&&null===H&&(oe=-1),w=B,oe}},function V(){!function O(){v=function P(C,B){return function ae(Oe,z,oe){if(oe===z)return Oe;for(var H=Oe.length,me=0;me<H;me++)for(var ne=Oe.shift(),fe=0;fe<C.length;fe++)Oe.push(ne.concat(C[fe]));return ae(Oe,z,oe+1)}(C.map(function(ae){return[ae]}),B,1)}([.2,.4,.6,.8,1],4),w=0}()}(),m}E.__dashjs_factory_name="LoLpWeightSelector",M.default=y.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var R=0;function F(w){for(var V="",O=0;O<w.length;++O)V+=w[O].uchar;return V.length-V.replace(/^\s+/,"").length}function L(w){return"left: "+3.125*w.x+"%; top: "+6.66*w.y1+"%; width: "+(100-3.125*w.x)+"%; height: "+6.66*Math.max(w.y2-1-w.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function S(w){return"red"===w?"rgb(255, 0, 0)":"green"===w?"rgb(0, 255, 0)":"blue"===w?"rgb(0, 0, 255)":"cyan"===w?"rgb(0, 255, 255)":"magenta"===w?"rgb(255, 0, 255)":"yellow"===w?"rgb(255, 255, 0)":"white"===w?"rgb(255, 255, 255)":"black"===w?"rgb(0, 0, 0)":w}function m(w,V){var O=w.videoHeight/15;return V?"font-size: "+O+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(V.foreground?S(V.foreground):"rgb(255, 255, 255)")+"; font-style: "+(V.italics?"italic":"normal")+"; text-decoration: "+(V.underline?"underline":"none")+"; white-space: pre; background-color: "+(V.background?S(V.background):"transparent")+";":"font-size: "+O+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function h(w){return w.replace(/^\s+/g,"")}function p(w){return w.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function v(w,V,O,G){var re,ae,k=null,x=!1,I=-1,T={start:V,end:O,spans:[]},N="style_cea608_white_black",C={},B={},Y=[];for(re=0;re<15;++re){var Oe=G.rows[re],z="",oe=null;if(!1===Oe.isEmpty()){var H=F(Oe.chars);null===k&&(k={x:H,y1:re,y2:re+1,p:[]}),H!==I&&x&&(k.p.push(T),T={start:V,end:O,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k={x:H,y1:re,y2:re+1,p:[]});for(var me=0;me<Oe.chars.length;++me){var ne=Oe.chars[me],fe=ne.penState;if(null===oe||!fe.equals(oe)){z.trim().length>0&&(T.spans.push({name:N,line:z,row:re}),z="");var Ee="style_cea608_"+fe.foreground+"_"+fe.background;fe.underline&&(Ee+="_underline"),fe.italics&&(Ee+="_italics"),B.hasOwnProperty(Ee)||(B[Ee]=JSON.parse(JSON.stringify(fe))),oe=fe,N=Ee}z+=ne.uchar}z.trim().length>0&&T.spans.push({name:N,line:z,row:re}),x=!0,I=H}else x=!1,I=-1,k&&(k.p.push(T),T={start:V,end:O,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=re+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null);var Ae=[];for(re=0;re<Y.length;++re){var se=Y[re],De="sub_cea608_"+R++,Me=document.createElement("div");Me.id=De;var _e=L(se);Me.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+_e;var Le=document.createElement("div");Le.className="paragraph bodyStyle",Le.style.cssText=m(w);var Ie=document.createElement("div");Ie.className="cueUniWrapper",Ie.style.cssText="unicode-bidi: normal; direction: ltr;";for(var we=0;we<se.p.length;++we){var Fe=se.p[we],We=0;for(ae=0;ae<Fe.spans.length;++ae){var Ue=Fe.spans[ae];if(Ue.line.length>0){if(0!==ae&&We!=Ue.row){var xe=document.createElement("br");xe.className="lineBreak",Ie.appendChild(xe)}var be=!1;We===Ue.row&&(be=!0),We=Ue.row;var K=B[Ue.name],ie=document.createElement("span");ie.className="spanPadding "+Ue.name+" customSpanColor",ie.style.cssText=m(w,K),ie.textContent=0!==ae&&be?ae===Fe.spans.length-1?p(Ue.line):Ue.line:Fe.spans.length>1&&ae<Fe.spans.length-1&&Ue.row===Fe.spans[ae+1].row?h(Ue.line):Ue.line.trim(),Ie.appendChild(ie)}}}Le.appendChild(Ie),Me.appendChild(Le);var he={bodyStyle:["%",90]};for(var q in B)B.hasOwnProperty(q)&&(he[q]=["%",90]);Ae.push({type:"html",start:V,end:O,cueHTMLElement:Me,cueID:De,cellResolution:[32,15],isFromCEA608:!0,fontSize:he,lineHeight:{},linePadding:{}})}return Ae}}}E.__dashjs_factory_name="EmbeddedTextHtmlRender",M.default=y.default.getSingletonFactory(E)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),S=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),m="NotFragmentedTextBufferController";function h(p){p=p||{};var P,x,I,T,N,C,v=this.context,w=Object(y.default)(v).getInstance(),V=p.textController,O=p.errHandler,G=p.streamInfo,k=p.type;function H(W){T=W}function Ae(W){x!==W&&(x=W)&&function $(W,te){w.trigger(W,te||{},{streamId:G.id,mediaType:k})}(E.default.BUFFERING_COMPLETED)}function Me(W){!W.chunk.bytes||x||(C.save(W.chunk),N.append(W.chunk),Ae(!0))}return P={initialize:function re(W){H(W)},getStreamId:function Oe(){return G.id},getType:function z(){return k},getBufferControllerType:function Y(){return m},createBufferSink:function ae(W){return new Promise(function(te,X){try{(N=Object(F.default)(v).create({mediaSource:T,textController:V,eventBus:w})).initializeForFirstUse(G,W),I||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),I=!0),te(N)}catch(J){O.error(new L.default(S.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,S.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),X(J)}})},getBuffer:function oe(){return N},getBufferLevel:function fe(){return 0},getRangeAt:function _e(){return null},pruneBuffer:function We(){},hasBufferAtTime:function Le(){return!0},getAllRangesWithSafetyFactor:function Ie(){return[]},getContinuousBufferTimeForTargetTime:function we(){return Number.POSITIVE_INFINITY},setMediaSource:H,getMediaSource:function me(){return T},appendInitSegmentFromCache:function De(W){return null!==C.extract(G.id,W)},getIsBufferingCompleted:function Ee(){return x},setIsBufferingCompleted:Ae,getIsPruningInProgress:function ne(){return!1},reset:function se(W){w.off(E.default.INIT_FRAGMENT_LOADED,Me,P),!W&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function Fe(){return Promise.resolve()},prepareForPlaybackSeek:function xe(){return Promise.resolve()},prepareForReplacementTrackSwitch:function be(){return x=!1,Promise.resolve()},setSeekTarget:function ie(){},updateAppendWindow:function K(){return Promise.resolve()},pruneAllSafely:function q(){return Promise.resolve()},updateBufferTimestampOffset:function Ue(){return Promise.resolve()},segmentRequestingCompleted:function he(){}},function B(){I=!1,T=null,x=!1,C=Object(b.default)(v).getInstance(),w.on(E.default.INIT_FRAGMENT_LOADED,Me,P)}(),P}h.__dashjs_factory_name=m,M.default=R.default.getClassFactory(h)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),b=e(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=e(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=e(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),S=e(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),m=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),h=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),v=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function w(V){var N,C,B,Y,re,ae,Oe,z,oe,H,me,ne,O=this.context,G=V.adapter,k=V.errHandler,P=V.manifestModel,x=V.mediaController,I=V.videoModel,T=V.settings;function Ie(te){var X=te.tracks,J=te.index,Q=te.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Ue()||ne)be(Q,-1);else{var pe=x.getCurrentTrackFor(y.default.TEXT,Q);if(pe){var le={lang:pe.lang,role:pe.roles[0],index:pe.index,codec:pe.codec,accessibility:pe.accessibility[0]};X.some(function(Te,Ve){if(x.matchSettings(le,Te))return be(Q,Ve),J=Ve,!0})}oe=!1}C[Q].lastEnabledIndex=J,z.trigger(p.default.TEXT_TRACKS_ADDED,{enabled:Ue(),index:J,tracks:X,streamId:Q}),me=!0}function we(te){try{var X=te.streamId;if(!Y[X]||isNaN(te.time))return;Y[X].manualCueProcessing(te.time)}catch{}}function Fe(te){try{var X=te.streamId;if(!Y[X])return;Y[X].disableManualTracks()}catch{}}function Ue(){var te=!0;return oe&&!H&&(te=!1),te}function be(te,X){(oe=-1===X)&&x&&x.saveTextSettingsDisabled();var J=he(te);if(J!==X&&Y[te]){Y[te].disableManualTracks(),Y[te].setModeForTrackIdx(J,y.default.TEXT_HIDDEN),Y[te].setCurrentTrackIdx(X),Y[te].setModeForTrackIdx(X,y.default.TEXT_SHOWING);var Q=Y[te].getCurrentTrackInfo();Q&&Q.isFragmented&&!Q.isEmbedded?function K(te,X,J){if(B[te])for(var de=B[te].getConfig().fragmentedTracks,pe=0;pe<de.length;pe++){var le=de[pe];if(X.lang===le.lang&&(le.id?X.id===le.id:X.index===le.index)){var Te=x.getCurrentTrackFor(y.default.TEXT,te);(le.id?Te.id!==le.id:Te.index!==le.index)?(Y[te].deleteCuesFromTrackIdx(J),B[te].setCurrentFragmentedTrackIdx(pe)):-1===J&&z.trigger(h.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:te,mediaType:y.default.TEXT})}}}(te,Q,J):Q&&!Q.isFragmented&&function ie(te,X){z.trigger(h.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:X},{streamId:te,mediaType:y.default.TEXT})}(te,Q),x.setTrack(Q)}}function he(te){return Y[te].getCurrentTrackIdx()}function $(){B={},Y={},C={},oe=!0,me=!1,ne=!1}return N={deactivateStream:function q(te){if(te){var X=te.id;B[X]&&B[X].resetMediaInfos(),Y[X]&&Y[X].deleteAllTextTracks()}},initialize:function Ee(){z.on(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Ie,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.on(h.default.PLAYBACK_TIME_UPDATED,we,N),z.on(h.default.PLAYBACK_SEEKING,Fe,N))},initializeForStream:function Ae(te){var X=te.id,J=Object(b.default)(O).create({videoModel:I,settings:T,streamInfo:te});J.initialize(),Y[X]=J;var Q=Object(R.default)(O).create({errHandler:k,adapter:G,manifestModel:P,mediaController:x,videoModel:I,textTracks:J,vttParser:re,vttCustomRenderingParser:ae,ttmlParser:Oe,streamInfo:te,settings:T});Q.initialize(),B[X]=Q,C[X]={},C[X].lastEnabledIndex=-1},createTracks:function se(te){var X=te.id;Y[X]&&Y[X].createTracks()},getTextSourceBuffer:function Me(te){var X=te.id;if(B&&B[X])return B[X]},getAllTracksAreDisabled:function _e(){return oe},addEmbeddedTrack:function Le(te,X){var J=te.id;B[J]&&B[J].addEmbeddedTrack(X)},enableText:function We(te,X){Object(v.checkParameterType)(X,"boolean"),Ue()!==X&&(X&&be(te,C[te].lastEnabledIndex),X||(C[te].lastEnabledIndex=he(te),me?be(te,-1):ne=!0))},isTextEnabled:Ue,setTextTrack:be,getCurrentTrackIdx:he,enableForcedTextStreaming:function xe(te){Object(v.checkParameterType)(te,"boolean"),H=te},addMediaInfosToBuffer:function De(te,X,J){var de=te.id;B[de]&&B[de].addMediaInfos(X,J,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function W(){$(),z.off(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Ie,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.off(h.default.PLAYBACK_TIME_UPDATED,we,N),z.off(h.default.PLAYBACK_SEEKING,Fe,N)),Object.keys(B).forEach(function(te){B[te].resetEmbedded(),B[te].reset()})}},function fe(){H=!1,me=!1,ne=!1,re=Object(F.default)(O).getInstance(),ae=Object(L.default)(O).getInstance(),Oe=Object(S.default)(O).getInstance(),z=Object(m.default)(O).getInstance(),$()}(),N}w.__dashjs_factory_name="TextController",M.default=E.default.getClassFactory(w)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),R=e(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),b=e(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=e(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),h=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),p=e.n(h),v=e(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),w=e.n(v),V=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),G=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function P(x){var ne,fe,Ee,Ae,se,De,Me,_e,Le,Ie,we,Fe,We,Ue,xe,be,I=x.errHandler,T=x.manifestModel,N=x.mediaController,C=x.videoModel,B=x.textTracks,Y=x.vttParser,re=x.vttCustomRenderingParser,ae=x.ttmlParser,Oe=x.streamInfo,z=x.settings,oe=this.context,H=Object(V.default)(oe).getInstance(),me=!1;function q(){(function he(){De=null,_e=NaN,Le=[],Ie=null,Me=!1})(),se=[],Ae=null}function te(ue){var ge=new R.default;for(var pt in ue)ge[pt]=ue[pt];ge.labels=ue.labels,ge.defaultTrack=function cn(ue){var ge=!1;return Fe.length>1&&ue.isEmbedded?ge=ue.id&&ue.id===y.default.CC1:1===Fe.length?ue.id&&"string"==typeof ue.id&&"CC"===ue.id.substring(0,2)&&(ge=!0):0===Fe.length&&(ge=ue.index===se[0].index),ge}(ue),ge.isFragmented=ue.isFragmented,ge.isEmbedded=!!ue.isEmbedded,ge.isTTML=function ke(ue){return ue.codec&&ue.codec.search(y.default.STPP)>=0||ue.mimeType&&ue.mimeType.search(y.default.TTML)>=0}(ue),ge.kind=function Ze(ue,ge){var it=ue.roles&&ue.roles.length>0?ge[ue.roles[0]]:ge.caption;return it===ge.caption||it===ge.subtitle?it:ge.caption}(ue,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(ge)}function Q(ue){var ge=ue.chunk;ge.mediaInfo.embeddedCaptions&&qe(ge.bytes,ge)}function Ve(ue){we=ue}function qe(ue,ge){var it=ge.mediaInfo,pt=it.type,Bt=it.codec||it.mimeType;Bt?-1!==it.codec.indexOf("application/mp4")?function He(ue,ge,it){var pt;if("InitializationSegment"===ge.segmentType)Me=!0,_e=Ee.getMediaTimescaleFromMoov(ue);else{if(!Me)return;(pt=Ee.getSamplesInfo(ue).sampleList).length>0&&(Ie=pt[0].cts-ge.start*_e),it.search(y.default.STPP)>=0?function ot(ue,ge,it){var pt,kt;for(Ae=null!==Ae?Ae:Rn(it),pt=0;pt<ge.length;pt++){var Bt=ge[pt],Kt=Bt.cts,tn=Xt(),en=tn+Kt/_e;ne.buffered.add(en,en+Bt.duration/_e);var wt=new DataView(ue,Bt.offset,Bt.subSizes[0]),Zt=p.a.Utils.dataViewToString(wt,y.default.UTF8),Wt=[],dn=Bt.offset+Bt.subSizes[0];for(kt=1;kt<Bt.subSizes.length;kt++){var gn=new Uint8Array(ue,dn,Bt.subSizes[kt]),En=String.fromCharCode.apply(null,gn);Wt.push(En),dn+=Bt.subSizes[kt]}try{var Vn=T.getValue(),ei=Ae.parse(Zt,Vn.ttmlTimeIsRelative?Kt/_e:0,Kt/_e,(Kt+Bt.duration)/_e,Wt);B.addCaptions(we,tn,ei)}catch(_i){De.removeExecutedRequestsBeforeTime(),this.remove(),fe.error("TTML parser error: "+_i.message)}}}(ue,pt,it):function yt(ue,ge){var it,pt,kt,Bt=[];for(it=0;it<ge.length;it++){var Kt=ge[it];Kt.cts-=Ie;var en=Xt()+Kt.cts/_e;ne.buffered.add(en,en+Kt.duration/_e);var wt=ue.slice(Kt.offset,Kt.offset+Kt.size),Zt=p.a.parseBuffer(wt);for(pt=0;pt<Zt.boxes.length;pt++){var Wt=Zt.boxes[pt];if(fe.debug("VTT box1: "+Wt.type),"vtte"!==Wt.type&&"vttc"===Wt.type)for(fe.debug("VTT vttc boxes.length = "+Wt.boxes.length),kt=0;kt<Wt.boxes.length;kt++){var dn=Wt.boxes[kt];if(fe.debug("VTT box2: "+dn.type),"payl"===dn.type){var gn=dn.cue_text;fe.debug("VTT cue_text = "+gn);var En=Kt.cts/_e,Vn=(Kt.cts+Kt.duration)/_e;Bt.push({start:En,end:Vn,data:gn,styles:{}}),fe.debug("VTT "+En+"-"+Vn+" : "+gn)}}}}Bt.length>0&&B.addCaptions(we,0,Bt)}(ue,pt)}}(ue,ge,Bt):pt===y.default.VIDEO?function Ct(ue,ge){var it,pt;if(ge.segmentType===E.HTTPRequest.INIT_SEGMENT_TYPE)0===We&&(We=Ee.getMediaTimescaleFromMoov(ue));else if(ge.segmentType===E.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===We)return void fe.warn("CEA-608: No timescale for embeddedTextTrack yet");var kt=(pt=Ee.getSamplesInfo(ue)).lastSequenceNumber;if(!xe[0]&&!xe[1]&&function Ot(){for(var ue,ge=0;ge<Fe.length;ge++){if(-1===(ue=B.getTrackIdxForId(Fe[ge].id)))return void fe.warn("CEA-608: data before track is ready.");var it=It(ue);xe[ge]=new w.a.Cea608Parser(ge+1,{newCue:it},null)}}(),We){if(null!==Ue&&kt!==Ue+pt.numSequences)for(it=0;it<xe.length;it++)xe[it]&&xe[it].reset();for(var Bt=function Gt(ue,ge){if(0===ge.length)return null;for(var it={splits:[],fields:[[],[]]},pt=new DataView(ue),kt=0;kt<ge.length;kt++)for(var Bt=ge[kt],Kt=w.a.findCea608Nalus(pt,Bt.offset,Bt.size),tn=null,en=0,bt=0;bt<Kt.length;bt++)for(var wt=w.a.extractCea608DataFromRange(pt,Kt[bt]),Zt=0;Zt<2;Zt++)if(wt[Zt].length>0){Bt.cts!==tn?en=0:en+=1;var Wt=Xt();it.fields[Zt].push([Bt.cts+Wt*We,wt[Zt],en]),tn=Bt.cts}return it.fields.forEach(function(gn){gn.sort(function(En,Vn){return En[0]===Vn[0]?En[2]-Vn[2]:En[0]-Vn[0]})}),it}(ue,pt.sampleList),Kt=0;Kt<xe.length;Kt++){var tn=Bt.fields[Kt],en=xe[Kt];if(en)for(it=0;it<tn.length;it++)en.addData(tn[it][0]/We,tn[it][1])}Ue=kt}}}(ue,ge):function ut(ue,ge,it){var pt,kt,Bt=new DataView(ue,0,ue.byteLength);kt=p.a.Utils.dataViewToString(Bt,y.default.UTF8);try{pt=Rn(it).parse(kt,0),B.addCaptions(B.getCurrentTrackIdx(),0,pt),ne.buffered&&ne.buffered.add(ge.start,ge.end)}catch(Kt){I.error(new G.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+Kt.message,kt))}}(ue,ge,Bt):fe.error("No text type defined")}function It(ue){return function ge(it,pt,kt){var Bt;(Bt=C.getTTMLRenderingDiv()?be.createHTMLCaptionsFromScreen(C.getElement(),it,pt,kt):[{start:it,end:pt,data:kt.getDisplayText(),styles:{}}])&&B.addCaptions(ue,0,Bt)}}function Xt(){return isNaN(ne.timestampOffset)?0:ne.timestampOffset}function Rn(ue){var ge;return ue.search(y.default.VTT)>=0?ge=z.get().streaming.text.webvtt.customRenderingEnabled&&re?re:Y:(ue.search(y.default.TTML)>=0||ue.search(y.default.STPP)>=0)&&(ge=ae),ge}function at(ue){Fe.forEach(function(ge){var it=B.getTrackIdxForId(ge.id);it>=0&&B.deleteCuesFromTrackIdx(it,ue.from,ue.to)})}return ne={initialize:function $(){me||function de(){Fe=[],we=null,We=0,xe=[],Ue=null,me=!0,be=Object(m.default)(oe).getInstance(),H.on(O.default.VIDEO_CHUNK_RECEIVED,Q,ne),H.on(O.default.BUFFER_CLEARED,at,ne)}()},addMediaInfos:function W(ue,ge,it){if(se=se.concat(ge),ue===y.default.TEXT&&ge[0].isFragmented&&!ge[0].isEmbedded){De=it,ne.buffered=Object(F.default)(oe).create(),Le=N.getTracksFor(y.default.TEXT,Oe.id).filter(function(Kt){return Kt.isFragmented});for(var pt=N.getCurrentTrackFor(y.default.TEXT,Oe.id),kt=0;kt<Le.length;kt++)if(Le[kt]===pt){Ve(kt);break}}for(var Bt=0;Bt<ge.length;Bt++)te(ge[Bt])},resetMediaInfos:function Se(){se=[]},getStreamId:function ie(){return Oe.id},append:qe,abort:function X(){},addEmbeddedTrack:function le(ue){if(me&&ue)if(ue.id===y.default.CC1||ue.id===y.default.CC3){for(var ge=0;ge<Fe.length;ge++)if(Fe[ge].id===ue.id)return;Fe.push(ue)}else fe.warn("Embedded track "+ue.id+" not supported!")},resetEmbedded:function pe(){H.off(O.default.VIDEO_CHUNK_RECEIVED,Q,ne),H.off(O.default.BUFFER_CLEARED,at,ne),B&&B.deleteAllTextTracks(),me=!1,Fe=[],xe=[null,null],Ue=null},getConfig:function Te(){return{fragmentModel:De,fragmentedTracks:Le,videoModel:C}},setCurrentFragmentedTrackIdx:Ve,remove:function nt(ue,ge){void 0===ue&&ue===ge&&(ue=ne.buffered.start(0),ge=ne.buffered.end(ne.buffered.length-1)),ne.buffered.remove(ue,ge),B.deleteCuesFromTrackIdx(we,ue,ge)},reset:function J(){q(),se=[],Ee=null}},function K(){fe=Object(S.default)(oe).getInstance().getLogger(ne),Ee=Object(b.default)(oe).getInstance(),q()}(),ne}P.__dashjs_factory_name="TextSourceBuffer",M.default=L.default.getClassFactory(P)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),S=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function h(V,O){var G=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!G){if(Array.isArray(V)||(G=function p(V,O){if(V){if("string"==typeof V)return v(V,O);var G=Object.prototype.toString.call(V).slice(8,-1);if("Object"===G&&V.constructor&&(G=V.constructor.name),"Map"===G||"Set"===G)return Array.from(V);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return v(V,O)}}(V))||O&&V&&"number"==typeof V.length){G&&(V=G);var k=0,P=function(){};return{s:P,n:function(){return k>=V.length?{done:!0}:{done:!1,value:V[k++]}},e:function(C){throw C},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,x=!0,I=!1;return{s:function(){G=G.call(V)},n:function(){var C=G.next();return x=C.done,C},e:function(C){I=!0,T=C},f:function(){try{!x&&null!=G.return&&G.return()}finally{if(I)throw T}}}}function v(V,O){(null==O||O>V.length)&&(O=V.length);for(var G=0,k=new Array(O);G<O;G++)k[G]=V[G];return k}function w(V){var I,T,N,C,B,Y,re,ae,Oe,z,oe,H,me,ne,fe,Ee,Ae,se,O=this.context,G=Object(E.default)(O).getInstance(),k=V.videoModel,P=V.streamInfo,x=V.settings;function Le(ut){return k.addTextTrack(ut.kind,void 0!==ut.id?ut.id:ut.lang,ut.lang,ut.isTTML,ut.isEmbedded)}function Fe(ut,Ct,Ot,It,Gt,Xt){var nt=0,at=0;ut/Ct>Ot/It?nt=(at=Ct)/It*Ot:at=(nt=ut)/Ot*It;var Se,ue,ge=0,it=0;return nt/at>Gt?(it=at,ge=at*Gt):(ge=nt,it=nt/Gt),Se=(ut-ge)/2,ue=(Ct-it)/2,Xt?{x:Se+.1*ge,y:ue+.1*it,w:.8*ge,h:.8*it}:{x:Se,y:ue,w:ge,h:it}}function We(ut,Ct){var Ot=k.getClientWidth(),It=k.getClientHeight(),Gt=k.getVideoWidth(),Xt=k.getVideoHeight(),cn=k.getVideoRelativeOffsetTop(),Rn=k.getVideoRelativeOffsetLeft();if(0!==Gt&&0!==Xt){var nt=Gt/Xt,at=!1;ut.isFromCEA608&&(nt=3.5/3,at=!0);var Se=Fe.call(this,Ot,It,Gt,Xt,nt,at),ue=Se.w,ge=Se.h,it=Se.x,pt=Se.y;if(ue!=Oe||ge!=z||it!=re||pt!=ae||Ct){if(re=it+Rn,ae=pt+cn,Oe=ue,z=ge,oe){var kt=oe.style;kt&&(kt.left=re+"px",kt.top=ae+"px",kt.width=Oe+"px",kt.height=z+"px",kt.zIndex=ne&&document[ne]||fe?Ae:null,G.trigger(b.default.CAPTION_CONTAINER_RESIZE))}var Bt=ut.activeCues;if(Bt)for(var Kt=Bt.length,tn=0;tn<Kt;++tn){var en=Bt[tn];en.scaleCue(en)}}}}function Ue(ut){var It,Gt,Xt,cn,Rn;if(ut.cellResolution){var nt=[Oe/ut.cellResolution[0],z/ut.cellResolution[1]];if(ut.linePadding)for(It in ut.linePadding)if(ut.linePadding.hasOwnProperty(It)){Gt=(ut.linePadding[It]*nt[0]).toString();for(var Se=document.getElementsByClassName("spanPadding"),ue=0;ue<Se.length;ue++)Se[ue].style.cssText=Se[ue].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Gt),Se[ue].style.cssText=Se[ue].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Gt)}if(ut.fontSize){for(It in ut.fontSize)if(ut.fontSize.hasOwnProperty(It)){"%"===ut.fontSize[It][0]?Xt=ut.fontSize[It][1]/100:"c"===ut.fontSize[It][0]&&(Xt=ut.fontSize[It][1]),Gt=(Xt*nt[1]).toString(),Rn="defaultFontSize"!==It?document.getElementsByClassName(It):document.getElementsByClassName("paragraph");for(var ge=0;ge<Rn.length;ge++)Rn[ge].style.cssText=Rn[ge].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Gt)}if(ut.lineHeight)for(It in ut.lineHeight)if(ut.lineHeight.hasOwnProperty(It)){"%"===ut.lineHeight[It][0]?cn=ut.lineHeight[It][1]/100:"c"===ut.fontSize[It][0]&&(cn=ut.lineHeight[It][1]),Gt=(cn*nt[1]).toString(),Rn=document.getElementsByClassName(It);for(var it=0;it<Rn.length;it++)Rn[it].style.cssText=Rn[it].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Gt)}}}if(ut.isd){var pt=document.getElementById(ut.cueID);pt&&oe.removeChild(pt),xe(ut)}}function xe(ut){if(oe){var Ct=document.createElement("div");oe.appendChild(Ct),Ee=Object(S.renderHTML)(ut.isd,Ct,function(Ot){var It=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Gt=/^#(.*)$/;if(It.test(Ot)){var Xt=It.exec(Ot),cn=parseInt(Xt[4],10)-1;return"data:image/png;base64,"+btoa(ut.images[cn])}if(Gt.test(Ot)){var at=Gt.exec(Ot);return"data:image/png;base64,"+ut.embeddedImages[at[1]]}return null},oe.clientHeight,oe.clientWidth,!1,function(Ot){T.info("renderCaption :",Ot)},Ee,!0),Ct.id=ut.cueID,G.trigger(b.default.CAPTION_RENDERED,{captionDiv:Ct,currentTrackIdx:Y})}}function be(ut,Ct,Ot){var It=W(ut);if(It&&Array.isArray(Ot)&&0!==Ot.length)for(var Gt=0;Gt<Ot.length;Gt++){var Xt=void 0,cn=Ot[Gt];It.cellResolution=cn.cellResolution,It.isFromCEA608=cn.isFromCEA608,!isNaN(cn.start)&&!isNaN(cn.end)&&(Xt="html"===cn.type&&oe?K(cn,Ct,It):cn.data?ie(cn,Ct,It):null);try{Xt?de(It,Xt)||(x.get().streaming.text.webvtt.customRenderingEnabled?(It.manualCueList||(It.manualCueList=[]),It.manualCueList.push(Xt)):It.addCue(Xt)):T.error("impossible to display subtitles.")}catch(Rn){throw le(It),It.addCue(Xt),Rn}}}function K(ut,Ct,Ot){var It=this,Gt=new N(ut.start+Ct,ut.end+Ct,"");return Gt.cueHTMLElement=ut.cueHTMLElement,Gt.isd=ut.isd,Gt.images=ut.images,Gt.embeddedImages=ut.embeddedImages,Gt.cueID=ut.cueID,Gt.scaleCue=Ue.bind(It),Gt.cellResolution=ut.cellResolution,Gt.lineHeight=ut.lineHeight,Gt.linePadding=ut.linePadding,Gt.fontSize=ut.fontSize,oe.style.left=re+"px",oe.style.top=ae+"px",oe.style.width=Oe+"px",oe.style.height=z+"px",Gt.onenter=function(){Ot.mode===y.default.TEXT_SHOWING&&(this.isd?(xe(this),T.debug("Cue enter id:"+this.cueID)):(oe.appendChild(this.cueHTMLElement),Ue.call(It,this),G.trigger(b.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},Gt.onexit=function(){if(oe)for(var Xt=oe.childNodes,cn=0;cn<Xt.length;++cn)Xt[cn].id===this.cueID&&(T.debug("Cue exit id:"+Xt[cn].id),oe.removeChild(Xt[cn]),--cn)},Gt}function ie(ut,Ct,Ot){var It=new N(ut.start-Ct,ut.end-Ct,ut.data);if(It.cueID="".concat(It.startTime,"_").concat(It.endTime),It.isActive=!1,ut.styles)try{void 0!==ut.styles.align&&"align"in It&&(It.align=ut.styles.align),void 0!==ut.styles.line&&"line"in It&&(It.line=ut.styles.line),void 0!==ut.styles.position&&"position"in It&&(It.position=ut.styles.position),void 0!==ut.styles.size&&"size"in It&&(It.size=ut.styles.size)}catch(Gt){T.error(Gt)}return It.onenter=function(){Ot.mode===y.default.TEXT_SHOWING&&G.trigger(b.default.CAPTION_RENDERED,{currentTrackIdx:Y})},It}function $(){var It,Ct=[],Ot=h(k.getTextTracks());try{for(Ot.s();!(It=Ot.n()).done;){var Gt=It.value;Gt.manualMode===y.default.TEXT_SHOWING&&Ct.push(Gt)}}catch(Xt){Ot.e(Xt)}finally{Ot.f()}return Ct}function W(ut){return ut>=0&&C[ut]?k.getTextTrack(C[ut].kind,C[ut].id,C[ut].lang,C[ut].isTTML,C[ut].isEmbedded):null}function J(ut){var Ct=this;if(ut!==Y){var Ot=W(Y=ut);Q.call(this,Ot),me&&(clearInterval(me),me=null),Ot&&"html"===Ot.renderingType&&(We.call(this,Ot,!0),window.ResizeObserver?(se=new window.ResizeObserver(function(){We.call(Ct,Ot,!0)})).observe(k.getElement()):me=setInterval(We.bind(this,Ot),500))}}function Q(ut){He.call(this),ut&&"html"===ut.renderingType?Ze.call(this):qe.call(this)}function de(ut,Ct){if(!ut.cues)return!1;for(var Ot=0;Ot<ut.cues.length;Ot++)if(ut.cues[Ot].startTime===Ct.startTime&&ut.cues[Ot].endTime===Ct.endTime)return!0;return!1}function pe(ut,Ct,Ot){var It=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Ct)||(It?ut.startTime:ut.endTime)>=Ct)&&(isNaN(Ot)||(It?ut.endTime:ut.startTime)<=Ot)}function le(ut,Ct,Ot){var It=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(ut.cues)for(var Gt=ut.cues,cn=Gt.length-1;cn>=0;cn--)pe(Gt[cn],Ct,Ot,It)&&(Gt[cn].onexit&&Gt[cn].onexit(),ut.removeCue(Gt[cn]))}function Ze(){var ut=document.getElementById("native-cue-style");if(!ut){(ut=document.createElement("style")).id="native-cue-style",document.head.appendChild(ut);var Ct=ut.sheet,Ot=k.getElement();try{Ot&&Ct.insertRule(Ot.id?"#"+Ot.id+"::cue {background: transparent}":0!==Ot.classList.length?"."+Ot.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(It){T.info(""+It.message)}}}function qe(){var ut=document.getElementById("native-cue-style");ut&&document.head.removeChild(ut)}function He(){if(oe)for(;oe.firstChild;)oe.removeChild(oe.firstChild)}return I={initialize:function Me(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,C=[],B=[],Y=-1,re=0,ae=0,Oe=0,z=0,oe=null,H=null,me=null,fe=!1,Ae=2147483647,Ee=null,void 0!==document.fullscreenElement?ne="fullscreenElement":void 0!==document.webkitIsFullScreen?ne="webkitIsFullScreen":document.msFullscreenElement?ne="msFullscreenElement":document.mozFullScreen&&(ne="mozFullScreen"))},getStreamId:function _e(){return P.id},addTextTrack:function Ie(ut){C.push(ut)},addCaptions:be,createTracks:function we(){C.sort(function(Rn,nt){return Rn.index-nt.index}),oe=k.getTTMLRenderingDiv(),H=k.getVttRenderingDiv();for(var ut=-1,Ct=0;Ct<C.length;Ct++){var Ot=Le(C[Ct]);B.push(Ot),C[Ct].defaultTrack&&(Ot.default=!0,ut=Ct);var It=W(Ct);It&&(It.mode=y.default.TEXT_SHOWING,It.renderingType=oe&&(C[Ct].isTTML||C[Ct].isEmbedded)?"html":"default"),be(Ct,0,C[Ct].captionData),G.trigger(b.default.TEXT_TRACK_ADDED)}if(J.call(this,ut),ut>=0){G.on(b.default.PLAYBACK_METADATA_LOADED,function Rn(){var nt=W(ut);nt&&"html"===nt.renderingType&&We.call(this,nt,!0),G.off(b.default.PLAYBACK_METADATA_LOADED,Rn,this)},this);for(var Xt=0;Xt<C.length;Xt++){var cn=W(Xt);cn&&(cn.mode=Xt===ut?y.default.TEXT_SHOWING:y.default.TEXT_HIDDEN,cn.manualMode=Xt===ut?y.default.TEXT_SHOWING:y.default.TEXT_HIDDEN)}}G.trigger(R.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:C,streamId:P.id})},getCurrentTrackIdx:function te(){return Y},setCurrentTrackIdx:J,getTrackIdxForId:function X(ut){for(var Ct=-1,Ot=0;Ot<C.length;Ot++)if(C[Ot].id===ut){Ct=Ot;break}return Ct},getCurrentTrackInfo:function yt(){return C[Y]},setModeForTrackIdx:function ot(ut,Ct){var Ot=W(ut);Ot&&Ot.mode!==Ct&&(Ot.mode=Ct),Ot&&Ot.manualMode!==Ct&&(Ot.manualMode=Ct)},deleteCuesFromTrackIdx:function Te(ut,Ct,Ot){var It=W(ut);It&&le(It,Ct,Ot)},deleteAllTextTracks:function Ve(){for(var ut=B?B.length:0,Ct=0;Ct<ut;Ct++){var Ot=W(Ct);Ot&&le.call(this,Ot,P.start,P.start+P.duration,!1)}B=[],C=[],me&&(clearInterval(me),me=null),se&&k&&(se.unobserve(k.getElement()),se=null),Y=-1,He.call(this)},deleteTextTrack:function ke(ut){k.removeChild(B[ut]),B.splice(ut,1)},manualCueProcessing:function he(ut){var Ct=$();if(Ct&&Ct.length>0){var It=Ct[0].manualCueList;It&&It.length>0&&It.forEach(function(Gt){if(Gt.startTime<=ut&&Gt.endTime>=ut&&!Gt.isActive)Gt.isActive=!0,WebVTT.processCues(window,[Gt],H,Gt.cueID);else if(Gt.isActive&&(Gt.startTime>ut||Gt.endTime<ut)&&(Gt.isActive=!1,H))for(var Xt=H.childNodes,cn=0;cn<Xt.length;++cn)Xt[cn].id===Gt.cueID&&(H.removeChild(Xt[cn]),--cn)})}},disableManualTracks:function q(){var ut=$();if(ut&&ut.length>0){var Ot=ut[0].manualCueList;Ot&&Ot.length>0&&Ot.forEach(function(It){if(It.isActive&&(It.isActive=!1,H))for(var Gt=H.childNodes,Xt=0;Xt<Gt.length;++Xt)Gt[Xt].id===It.cueID&&(H.removeChild(Gt[Xt]),--Xt)})}}},function De(){T=Object(L.default)(O).getInstance().getLogger(I)}(),I}w.__dashjs_factory_name="TextTracks",M.default=F.default.getClassFactory(w)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),R=e(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),b=e(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function S(m){var v,w,h=this.context,p=m.streamInfo;function x(C){w.setTrackByIndex(C)}function N(){w&&w.reset()}return v={getStreamId:function G(){return p.id},initialize:function O(){w.addTracks();var C=w.getTracks();C&&C.length>0&&x(0)},provide:function k(C,B){if("function"==typeof B){var ae,Y=w.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==C)return void B(null);(ae=w.getThumbnailRequestForTime(C))&&(Y.segmentDuration=ae.duration);var Oe=Math.floor(C%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),z=new R.default;if(z.width=Math.floor(Y.widthPerTile),z.height=Math.floor(Y.heightPerTile),z.x=Math.floor(Oe%Y.tilesHor)*Y.widthPerTile,z.y=Math.floor(Oe/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(C,function(H){z.url=H,B(z)});if(ae)z.url=ae.url,Y.segmentDuration=NaN;else{var oe=Math.floor(C/Y.segmentDuration);z.url=function P(C,B){var Y=B+C.startNumber,re=Object(L.replaceTokenForTemplate)(C.templateUrl,"Number",Y);return re=Object(L.replaceTokenForTemplate)(re,"Time",(Y-1)*C.segmentDuration*C.timescale),re=Object(L.replaceTokenForTemplate)(re,"Bandwidth",C.bandwidth),Object(L.unescapeDollarsInTemplate)(re)}(Y,oe)}B(z)}},setTrackByIndex:x,getCurrentTrackIndex:function I(){return w.getCurrentTrackIndex()},getBitrateList:function T(){var C=w.getTracks(),B=0;return C.map(function(Y){var re=new F.default;return re.mediaType=E.default.IMAGE,re.qualityIndex=B++,re.bitrate=Y.bitrate,re.width=Y.width,re.height=Y.height,re})},reset:N},function V(){N(),w=Object(b.default)(h).create({streamInfo:p,adapter:m.adapter,baseURLController:m.baseURLController,timelineConverter:m.timelineConverter,debug:m.debug,eventBus:m.eventBus,events:m.events,dashConstants:m.dashConstants,dashMetrics:m.dashMetrics,segmentBaseController:m.segmentBaseController})}(),v}S.__dashjs_factory_name="ThumbnailController",M.default=y.default.getClassFactory(S)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(Ye,M,e){"use strict";e.r(M),e.d(M,"THUMBNAILS_SCHEME_ID_URIS",function(){return v});var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),R=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),S=e(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),m=e(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),h=e(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),p=e(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function w(V){var Y,re,ae,Oe,z,oe,H,me,O=this.context,G=V.adapter,k=V.baseURLController,P=V.streamInfo,x=V.timelineConverter,I=V.debug,T=V.eventBus,N=V.events,C=V.dashConstants,B=Object(F.default)(O).getInstance();function Ee(We,Ue){var xe=new b.default;xe.id=We.id,xe.bitrate=We.bandwidth,xe.width=We.width,xe.height=We.height,xe.tilesHor=1,xe.tilesVert=1,We.essentialProperties&&We.essentialProperties.forEach(function(be){if(v.indexOf(be.schemeIdUri)>=0&&be.value){var K=be.value.split("x");2===K.length&&!isNaN(K[0])&&!isNaN(K[1])&&(xe.tilesHor=parseInt(K[0],10),xe.tilesVert=parseInt(K[1],10))}}),Ue?oe.updateSegmentData(We).then(function(be){!function Ae(We,Ue,xe){var be=[],K=function se(We,Ue){var K,ie,he,q,xe=[],be=0;for(K=0,ie=We.segments.length;K<ie;K++)he=We.segments[K],(q=Object(L.getTimeBasedSegment)(x,G.getIsDynamic(),Ue,he.startTime,he.duration,he.timescale,he.media,he.mediaRange,be))&&(xe.push(q),q=null,be++);return xe}(xe,Ue);Ue.segments=K,We.segmentDuration=Ue.segments[0].duration,We.readThumbnail=function(ie,he){var q=null;be.some(function($){if($.start<=ie&&$.end>ie)return q=$.url,!0}),q?he(q):Ue.segments.some(function($){if($.mediaStartTime<=ie&&$.mediaStartTime+$.duration>ie){var W=k.resolve(Ue.path);return H.load({method:"get",url:W.url,request:{range:$.mediaRange,responseType:"arraybuffer"},onload:function(X){var J=me.getSamplesInfo(X.target.response),Q=new Blob([X.target.response.slice(J.sampleList[0].offset,J.sampleList[0].offset+J.sampleList[0].size)],{type:"image/jpeg"}),de=window.URL.createObjectURL(Q);be.push({start:$.mediaStartTime,end:$.mediaStartTime+$.duration,url:de}),he&&he(de)}}),!0}})}}(xe,We,be)}):(xe.startNumber=We.startNumber,xe.segmentDuration=We.segmentDuration,xe.timescale=We.timescale,xe.templateUrl=function De(We){var Ue=B.isRelative(We.media)?B.resolve(We.media,k.resolve(We.path).url):We.media;return Ue?Object(L.replaceIDForTemplate)(Ue,We.id):""}(We)),xe.tilesHor>0&&xe.tilesVert>0&&(xe.widthPerTile=xe.width/xe.tilesHor,xe.heightPerTile=xe.height/xe.tilesVert,re.push(xe))}function Fe(){re=[],Oe=-1,z=null}return Y={getTracks:function Me(){return re},addTracks:function fe(){if(P&&G&&(z=G.getMediaInfoForType(P,y.default.IMAGE))){var We=G.getVoRepresentations(z);We&&We.length>0&&We.forEach(function(Ue){(Ue.segmentInfoType===E.default.SEGMENT_TEMPLATE&&Ue.segmentDuration>0&&Ue.media||Ue.segmentInfoType===E.default.SEGMENT_TIMELINE)&&Ee(Ue),Ue.segmentInfoType===E.default.SEGMENT_BASE&&Ee(Ue,!0)}),re.length>0&&re.sort(function(Ue,xe){return Ue.bitrate-xe.bitrate})}},reset:Fe,setTrackByIndex:function Ie(We){!re||0===re.length||(We>=re.length&&(We=re.length-1),Oe=We)},getCurrentTrack:function Le(){return Oe<0?null:re[Oe]},getCurrentTrackIndex:function _e(){return Oe},getThumbnailRequestForTime:function we(We){for(var Ue,xe=G.getVoRepresentations(z),be=0;be<xe.length;be++)if(re[Oe].id===xe[be].id){Ue=xe[be];break}return ae.getSegmentRequestForTime(z,Ue,We)}},function ne(){Fe(),H=Object(m.default)(O).create({}),me=Object(S.default)(O).getInstance(),oe=Object(p.default)(O).create({events:N,eventBus:T,streamInfo:P,timelineConverter:x,dashConstants:C,dashMetrics:V.dashMetrics,segmentBaseController:V.segmentBaseController,type:y.default.IMAGE}),(ae=Object(h.default)(O).create({streamInfo:P,type:y.default.IMAGE,timelineConverter:x,segmentsController:oe,baseURLController:k,debug:I,eventBus:T,events:N,dashConstants:C,urlUtils:B})).initialize(!!G&&G.getIsDynamic())}(),Y}w.__dashjs_factory_name="ThumbnailTracks",M.default=R.default.getClassFactory(w)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=e(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=e(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),S=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),h=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),p=e(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),v=e(
/*! ../../core/Settings */
"./src/core/Settings.js");function w(){var k,P,x,I,T,N,V=this.context,O=Object(E.default)(V).getInstance(),G=Object(v.default)(V).getInstance();function ae(){P.reset()}return k={chooseSelector:function Y(Oe){Object(h.checkParameterType)(Oe,"boolean"),N=Oe?I:x},select:function re(Oe){if(Oe){if(G.get().streaming.applyContentSteering){var z=T.selectBaseUrlIndex(Oe);!isNaN(z)&&-1!==z&&(Oe.selectedIdx=z)}if(!isNaN(Oe.selectedIdx))return Oe.baseUrls[Oe.selectedIdx];var oe=N.select(Oe.baseUrls);return oe?(Oe.selectedIdx=Oe.baseUrls.indexOf(oe),oe):(O.trigger(R.default.URL_RESOLUTION_FAILED,{error:new m.default(y.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,y.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===x&&ae()))}},reset:ae,setConfig:function B(Oe){Oe.selector&&(N=Oe.selector),Oe.contentSteeringSelector&&(T=Oe.contentSteeringSelector)}},function C(){P=Object(b.default)(V).create({updateEventName:R.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:R.default.SERVICE_LOCATION_BLACKLIST_ADD}),x=Object(L.default)(V).create({blacklistController:P}),I=Object(F.default)(V).create({blacklistController:P}),(T=Object(p.default)(V).create()).setConfig({blacklistController:P}),N=x}(),k}w.__dashjs_factory_name="BaseURLSelector",M.default=S.default.getClassFactory(w)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),R=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=e.n(b),L=e(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function S(){var m,h,p=this.context;function w(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),C=Object(E.default)(p).create();return C.setData(N),C}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function P(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return h={parse:w,findLastTopIsoBoxCompleted:function V(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;C<B.byteLength;){var ae=k(B,C),Oe=P(B,C+4);if(0===ae)break;C+ae<=B.byteLength&&(T.indexOf(Oe)>=0?Y=new L.default(C,!0,ae):re=C+ae),C+=ae}return Y||new L.default(re,!1)},getMediaTimescaleFromMoov:function G(T){var N=w(T),C=N?N.getBox("mdhd"):void 0;return C?C.timescale:NaN},getSamplesInfo:function O(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,ae,Oe,z,oe,H,me,ne,fe,Ee,Ae,se,De,Me,_e,Le,N=w(T),C=N.getBoxes("moof"),B=N.getBoxes("mfhd");_e=N.getBoxes("moof").length,Me=B[B.length-1].sequence_number,ae=0,oe=[];var Ie=-1,we=-1;for(Ee=0;Ee<C.length;Ee++){var Fe=C[Ee],We=Fe.getChildBoxes("traf");for(ne=0;ne<We.length;ne++){var Ue=We[ne],xe=Ue.getChildBox("tfhd"),be=Ue.getChildBox("tfdt");z=be.baseMediaDecodeTime;var K=Ue.getChildBoxes("trun"),ie=Ue.getChildBoxes("subs");for(fe=0;fe<K.length;fe++){var he=K[fe];for(ae=he.sample_count,De=(xe.base_data_offset||0)+(he.data_offset||0),me=0;me<ae;me++){var q={dts:z,cts:z+(void 0!==(H=he.samples[me]).sample_composition_time_offset?H.sample_composition_time_offset:0),duration:Y=void 0!==H.sample_duration?H.sample_duration:xe.default_sample_duration,offset:Fe.offset+De,size:Oe=void 0!==H.sample_size?H.sample_size:xe.default_sample_size,subSizes:[Oe]};if(ie)for(Ae=0;Ae<ie.length;Ae++){var $=ie[Ae];if(Ie<$.entry_count-1&&me>we&&(Ie++,we+=$.entries[Ie].sample_delta),me==we){q.subSizes=[];var W=$.entries[Ie];for(se=0;se<W.subsample_count;se++)q.subSizes.push(W.subsamples[se].subsample_size)}}oe.push(q),De+=Oe,z+=Y}}Le=z-be.baseMediaDecodeTime}}return{sampleList:oe,lastSequenceNumber:Me,totalDuration:Le,numSequences:_e}},findInitRange:function x(T){var N=null,Y=w(T);if(!Y)return N;var re=Y.getBox("ftyp"),ae=Y.getBox("moov");return m.debug("Searching for initialization."),ae&&ae.isComplete&&m.debug("Found the initialization.  Range: "+(N=(re?re.offset:ae.offset)+"-"+(ae.offset+ae.size-1))),N},parsePayload:function I(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;C<B.byteLength;){var ae=k(B,C),Oe=P(B,C+4);if(0===ae)break;C+ae<=B.byteLength&&(T.indexOf(Oe)>=0?Y=new L.default(C,!0,ae,Oe):re=C+ae),C+=ae}return Y||new L.default(re,!1)}},function v(){m=Object(y.default)(p).getInstance().getLogger(h)}(),h}S.__dashjs_factory_name="BoxParser",M.default=R.default.getSingletonFactory(S)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(Ye,M,e){"use strict";e.r(M),e.d(M,"supportsMediaSource",function(){return F});var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),R=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var S="WebKitMediaSource"in window,m="MediaSource"in window;return S||m}function L(){var S,m,h;return S={setConfig:function v(T){T&&T.settings&&(m=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function w(){return h},supportsCodec:function O(T,N){return N!==R.default.AUDIO&&N!==R.default.VIDEO?Promise.resolve(!0):function G(T,N){return m.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===R.default.AUDIO||N===R.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function P(T,N){return new Promise(function(C){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){C(Y.supported)}).catch(function(){C(!1)})}else C(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var C=T.codec;T.width&&T.height&&(C+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(C)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(C)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function V(T){h=T},supportsEssentialProperty:function x(T){try{return-1!==E.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(T,N){for(var Y,C=T.split(".")[0],B=0===N.indexOf(C),re=0;re<b.length;re++)if(b[re].codec===C){Y=b[re];break}return Y?B||Y.compatibleCodecs.some(function(ae){return 0===N.indexOf(ae)}):B}},function p(){h=!1}(),S}L.__dashjs_factory_name="Capabilities",M.default=y.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var h,p,v,w,V,O,S=this.context,m=Object(b.default)(S).getInstance();function x(ae,Oe){if(!Oe||!Oe.Period_asArray||0===Oe.Period_asArray.length)return Promise.resolve();var z=[];return Oe.Period_asArray.forEach(function(oe){z.push(function I(ae,Oe){return new Promise(function(z){if(ae&&ae.AdaptationSet_asArray&&0!==ae.AdaptationSet_asArray.length){var oe=[];ae.AdaptationSet_asArray.forEach(function(H){p.getIsTypeOf(H,Oe)&&oe.push(function T(ae,Oe){return new Promise(function(z){if(ae.Representation_asArray&&0!==ae.Representation_asArray.length){var oe=[],H=[];ae.Representation_asArray.forEach(function(me,ne){var fe=p.getCodec(ae,ne,!1),Ee=function N(ae,Oe,z){switch(ae){case R.default.VIDEO:return function C(ae,Oe){return{codec:Oe,width:ae.width||null,height:ae.height||null,framerate:ae.frameRate||null,bitrate:ae.bandwidth||null}}(Oe,z);case R.default.AUDIO:return function B(ae,Oe){return{codec:Oe,bitrate:ae.bandwidth||null,samplerate:ae.audioSamplingRate||null}}(Oe,z);default:return null}}(Oe,me,fe);H.push(Ee),oe.push(v.supportsCodec(Ee,Oe))}),Promise.all(oe).then(function(me){ae.Representation_asArray=ae.Representation_asArray.filter(function(ne,fe){return me[fe]||O.debug("[Stream] Codec ".concat(H[fe].codec," not supported ")),me[fe]}),z()}).catch(function(){z()})}else z()})}(H,Oe))}),Promise.all(oe).then(function(){ae.AdaptationSet_asArray=ae.AdaptationSet_asArray.filter(function(H){var me=H.Representation_asArray&&H.Representation_asArray.length>0;return me||(m.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:H}),O.warn("AdaptationSet has been removed because of no supported Representation")),me}),z()}).catch(function(){z()})}else z()})}(oe,ae))}),Promise.all(z)}return h={setConfig:function k(ae){ae&&(ae.adapter&&(p=ae.adapter),ae.capabilities&&(v=ae.capabilities),ae.settings&&(w=ae.settings),ae.customParametersModel&&(V=ae.customParametersModel))},filterUnsupportedFeatures:function P(ae){return new Promise(function(Oe){var z=[];z.push(x(R.default.VIDEO,ae)),z.push(x(R.default.AUDIO,ae)),Promise.all(z).then(function(){w.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(ae){!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Oe){Oe.AdaptationSet_asArray=Oe.AdaptationSet_asArray.filter(function(z){return!z.Representation_asArray||0===z.Representation_asArray.length||(z.Representation_asArray=z.Representation_asArray.filter(function(oe){var H=p.getEssentialPropertiesForRepresentation(oe);if(H&&H.length>0)for(var me=0;me<H.length;){if(!v.supportsEssentialProperty(H[me]))return O.debug("[Stream] EssentialProperty not supported: "+H[me].schemeIdUri),!1;me+=1}return!0}),z.Representation_asArray&&z.Representation_asArray.length>0)})})}(ae),function re(ae){var Oe=V.getCustomCapabilitiesFilters();!Oe||0===Oe.length||!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(z){z.AdaptationSet_asArray=z.AdaptationSet_asArray.filter(function(oe){return!oe.Representation_asArray||0===oe.Representation_asArray.length||(oe.Representation_asArray=oe.Representation_asArray.filter(function(H){return!Oe.some(function(me){return!me(H)})}),oe.Representation_asArray&&oe.Representation_asArray.length>0)})})}(ae),Oe()}).catch(function(){Oe()})})}},function G(){O=Object(E.default)(S).getInstance().getLogger(h)}(),h}L.__dashjs_factory_name="CapabilitiesFilter",M.default=y.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function R(){return{customTimeRangeArray:[],length:0,add:function L(w,V){var O=0;for(O=0;O<this.customTimeRangeArray.length&&w>this.customTimeRangeArray[O].start;O++);for(this.customTimeRangeArray.splice(O,0,{start:w,end:V}),O=0;O<this.customTimeRangeArray.length-1;O++)this.mergeRanges(O,O+1)&&O--;this.length=this.customTimeRangeArray.length},clear:function S(){this.customTimeRangeArray=[],this.length=0},remove:function m(w,V){for(var O=0;O<this.customTimeRangeArray.length;O++)if(w<=this.customTimeRangeArray[O].start&&V>=this.customTimeRangeArray[O].end)this.customTimeRangeArray.splice(O,1),O--;else{if(w>this.customTimeRangeArray[O].start&&V<this.customTimeRangeArray[O].end){this.customTimeRangeArray.splice(O+1,0,{start:V,end:this.customTimeRangeArray[O].end}),this.customTimeRangeArray[O].end=w;break}w>this.customTimeRangeArray[O].start&&w<this.customTimeRangeArray[O].end?this.customTimeRangeArray[O].end=w:V>this.customTimeRangeArray[O].start&&V<this.customTimeRangeArray[O].end&&(this.customTimeRangeArray[O].start=V)}this.length=this.customTimeRangeArray.length},mergeRanges:function h(w,V){var O=this.customTimeRangeArray[w],G=this.customTimeRangeArray[V];return O.start<=G.start&&G.start<=O.end&&O.end<=G.end?(O.end=G.end,this.customTimeRangeArray.splice(V,1),!0):G.start<=O.start&&O.start<=G.end&&G.end<=O.end?(O.start=G.start,this.customTimeRangeArray.splice(V,1),!0):G.start<=O.start&&O.start<=G.end&&O.end<=G.end?(this.customTimeRangeArray.splice(w,1),!0):O.start<=G.start&&G.start<=O.end&&G.end<=O.end&&(this.customTimeRangeArray.splice(V,1),!0)},start:function p(w){return Object(E.checkInteger)(w),w>=this.customTimeRangeArray.length||w<0?NaN:this.customTimeRangeArray[w].start},end:function v(w){return Object(E.checkInteger)(w),w>=this.customTimeRangeArray.length||w<0?NaN:this.customTimeRangeArray[w].end}}}R.__dashjs_factory_name="CustomTimeRanges",M.default=y.default.getClassFactory(R)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",S="localStorage",h="lastBitrate",p="lastMediaSettings";function v(V){var k,P,x,O=this.context,G=(V=V||{}).settings;function T(oe){if(void 0!==x)return x;x=!1;var ne;try{typeof window<"u"&&(ne=window[oe])}catch(fe){return P.warn("DOMStorage access denied: "+fe.message),x}if(!ne||oe!==S&&"sessionStorage"!==oe)return x;try{ne.setItem("1","1"),ne.removeItem("1"),x=!0}catch(fe){P.warn("DOMStorage is supported, but cannot be used: "+fe.message)}return x}function C(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(oe,H){return T(oe)&&G.get().streaming[H+"CachingInfo"].enabled}function Y(){if(!G)throw new Error(R.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function ae(oe){if(Y(),!G.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var H=NaN;if(B(S,h)){var me=F.replace(/\?/,oe);try{var ne=JSON.parse(localStorage.getItem(me))||{},fe=(new Date).getTime()-parseInt(ne.timestamp,10)>=G.get().streaming.lastBitrateCachingInfo.ttl||!1,Ee=parseFloat(ne.bitrate);isNaN(Ee)||fe?fe&&localStorage.removeItem(me):(H=Ee,P.debug("Last saved bitrate for "+oe+" was "+Ee))}catch{return null}}return H},setSavedBitrateSettings:function z(oe,H){if(B(S,h)&&H){var me=F.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({bitrate:H.toFixed(3),timestamp:C()}))}catch(ne){P.error(ne.message)}}},getSavedMediaSettings:function re(oe){if(Y(),!G.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var H=null;if(B(S,p)){var me=L.replace(/\?/,oe);try{var ne=JSON.parse(localStorage.getItem(me))||{},fe=(new Date).getTime()-parseInt(ne.timestamp,10)>=G.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;H=ne.settings,fe&&(localStorage.removeItem(me),H=null)}catch{return null}}return H},setSavedMediaSettings:function Oe(oe,H){if(B(S,p)){var me=L.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({settings:H,timestamp:C()}))}catch(ne){P.error(ne.message)}}}},function I(){P=Object(E.default)(O).getInstance().getLogger(k),function N(){T(S)&&b.forEach(function(oe){var H=localStorage.getItem(oe.oldKey);if(H){localStorage.removeItem(oe.oldKey);try{localStorage.setItem(oe.newKey,H)}catch(me){P.error(me.message)}}})}()}(),k}v.__dashjs_factory_name="DOMStorage";var w=y.default.getSingletonFactory(v);M.default=w},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var R,b=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,S=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,m=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},h=function(B,Y){var re=v;if(!Y||!G(B))return B;k(B)&&(re=w),P(B)&&(re=O);var ae=re(Y),Oe="/"!==ae.charAt(ae.length-1)&&"/"!==B.charAt(0)?"/":"";return[ae,B].join(Oe)};function v(C){var B=C.indexOf("/"),Y=C.lastIndexOf("/");return-1!==B?Y===B+1?C:(-1!==C.indexOf("?")&&(C=C.substring(0,C.indexOf("?"))),C.substring(0,Y+1)):""}function w(C){var B=C.match(S);return B?B[1]:""}function O(C){var B=C.match(b);return B?B[0]:""}function G(C){return!b.test(C)}function k(C){return G(C)&&"/"===C.charAt(0)}function P(C){return 0===C.indexOf("//")}return function p(){try{new window.URL("x","http://y"),R=m}catch{}finally{R=R||h}}(),{parseBaseUrl:v,parseOrigin:w,parseScheme:O,isRelative:G,isPathAbsolute:k,isSchemeRelative:P,isHTTPURL:function x(C){return F.test(C)},isHTTPS:function I(C){return L.test(C)},removeHostname:function V(C){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(C)[2].substring(1)},resolve:function T(C,B){return R(C,B)}}}E.__dashjs_factory_name="DefaultURLUtils",M.default=y.default.getSingletonFactory(E)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(R){R=R||{};var b,F=new DataView(R.data),L=0;function h(P,x){var I=!0,T=0;if(void 0===x&&(x=!1),P.tag>16777215?(F.getUint32(L)!==P.tag&&(I=!1),T=4):P.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==P.tag&&(I=!1),T=3):P.tag>255?(F.getUint16(L)!==P.tag&&(I=!1),T=2):(F.getUint8(L)!==P.tag&&(I=!1),T=1),!I&&P.required&&!x)throw new Error("required tag not found");return I&&(L+=T),I}function V(P){var x=1,I=128,N=-1,C=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&I)===I){C=void 0===P?B&~I:B,N=Y;break}I>>=1}for(Y=0;Y<N;Y+=1,x+=1)C=C<<8|255&F.getUint8(L+x);return L+=x,C}return b={getPos:function S(){return L},setPos:function m(P){L=P},consumeTag:h,consumeTagAndSize:function p(P,x){var I=h(P,x);return I&&V(),I},parseTag:function v(P){var x;return h(P),x=V(),b[P.parse](x)},skipOverElement:function w(P,x){var T,I=h(P,x);return I&&(T=V(),L+=T),I},getMatroskaCodedNum:V,getMatroskaFloat:function O(P){var x;switch(P){case 4:x=F.getFloat32(L),L+=4;break;case 8:x=F.getFloat64(L),L+=8}return x},getMatroskaUint:function G(P){for(var x=0,I=0;I<P;I+=1)x<<=8,x|=255&F.getUint8(L+I);return L+=P,x},moreData:function k(){return L<F.byteLength}}}E.__dashjs_factory_name="EBMLParser",M.default=y.default.getClassFactory(E)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),R=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var L=this.context,S=Object(y.default)(L).getInstance();return{error:function m(h){S.trigger(E.default.ERROR,{error:h})}}}b.__dashjs_factory_name="ErrorHandler",M.default=R.default.getSingletonFactory(b)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var R={};return{save:function b(m){var h=m.streamId,p=m.representationId;R[h]=R[h]||{},R[h][p]=m},extract:function F(m,h){return R&&R[m]&&R[m][h]?R[m][h]:null},reset:function L(){R={}}}}E.__dashjs_factory_name="InitCache",M.default=y.default.getSingletonFactory(E)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(){var F;function S(v){var w=[];if(!v||!F||"function"!=typeof F.fetchAll)return w;for(var O,V=F.fetchAll(v),G=0,k=V.length;G<k;G++)(O=p(V[G]))&&w.push(O);return w}function p(v){if(!v)return null;var w=new y.default(v);return v.hasOwnProperty("_incomplete")&&(w.isComplete=!v._incomplete),w}return{getBox:function L(v){return v&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?p(F.fetch(v)):null},getBoxes:S,setData:function m(v){F=v},getLastBox:function h(){if(!F||!F.boxes||!F.boxes.length)return null;var w=S(F.boxes[F.boxes.length-1].type);return w.length>0?w[w.length-1]:null}}}R.__dashjs_factory_name="IsoFile",M.default=E.default.getClassFactory(R)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),R=e.n(E);function b(){return{areEqual:function L(S,m){return R()(S,m)}}}b.__dashjs_factory_name="ObjectUtils",M.default=y.default.getSingletonFactory(b)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(Ye,M,e){"use strict";e.r(M),e.d(M,"modifyRequest",function(){return E});var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(b,F){var L={url:b.url,method:b.method,headers:Object.assign({},b.headers),credentials:b.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(b,L,{withCredentials:"include"===L.credentials})})}function R(){return{modifyRequest:null,modifyRequestURL:function F(S){return S},modifyRequestHeader:function L(S,m){return S}}}R.__dashjs_factory_name="RequestModifier",M.default=y.default.getSingletonFactory(R)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(Ye,M,e){"use strict";e.r(M),e.d(M,"checkParameterType",function(){return R}),e.d(M,"checkInteger",function(){return b}),e.d(M,"checkRange",function(){return F}),e.d(M,"checkIsVideoOrAudioType",function(){return L});var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function E(S){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(S)}function R(S,m){if(E(S)!==m)throw y.default.BAD_ARGUMENT_ERROR}function b(S){if(null===S||isNaN(S)||S%1!=0)throw y.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(S,m,h){if(S<m||S>h)throw y.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(S){if("string"!=typeof S||S!==y.default.AUDIO&&S!==y.default.VIDEO)throw y.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),S=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function h(){var w,V,p=this.context,v=Object(R.default)(p).getInstance(),O=0;function k(){var x="cue_TTML_"+O;return O++,x}return w={parse:function P(x,I,T,N,C){var re,ae,Oe,B="",Y=[],z={},oe={},H="",me="",ne={onOpenTag:function(De,Me,_e){if(_e[" imagetype"]&&!_e[" imageType"]&&(v.trigger(S.default.CONFORMANCE_VIOLATION,{level:m.default.LEVELS.ERROR,event:m.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),_e[" imageType"]=_e[" imagetype"]),"image"===Me&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===De||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===De)){if(!_e[" imageType"]||"PNG"!==_e[" imageType"].value)return void V.warn("smpte-tt imageType != PNG. Discarded");H=_e["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){H&&(oe[H]=me.trim()),me="",H=""},onText:function(De){H&&(me+=De)}};if(!x)throw B="no ttml data to parse",new Error(B);z.data=x,v.trigger(b.default.TTML_TO_PARSE,z);var fe=Object(F.fromXML)(z.data,function(se){B=se},ne);v.trigger(b.default.TTML_PARSED,{ttmlString:z.data,ttmlDoc:fe});var Ee=fe.getMediaTimeEvents();for(Oe=0;Oe<Ee.length;Oe++){var Ae=Object(F.generateISD)(fe,Ee[Oe],function(se){B=se});Ae.contents.some(function(se){return se.contents.length})&&(re=Ee[Oe]+I<T?T:Ee[Oe]+I)<(ae=Ee[Oe+1]+I>N?N:Ee[Oe+1]+I)&&Y.push({start:re,end:ae,type:"html",cueID:k(),isd:Ae,images:C,embeddedImages:oe})}if(""!==B)throw V.error(B),new Error(B);return Y}},function G(){V=Object(E.default)(p).getInstance().getLogger(w)}(),w}h.__dashjs_factory_name="TTMLParser",M.default=y.default.getSingletonFactory(h)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function R(){var L,S=[],m=this.context;function w(B,Y,re){var ae=function h(B){var Y;for(Y=0;Y<S.length;Y++)if(S[Y].regex.test(B))return S[Y].utils;return L}(re||Y);return ae&&"function"==typeof ae[B]?ae[B](Y,re):L[B](Y,re)}return function p(){L=Object(E.default)(m).getInstance()}(),{registerUrlRegex:function v(B,Y){S.push({regex:B,utils:Y})},parseBaseUrl:function V(B){return w("parseBaseUrl",B)},parseOrigin:function O(B){return w("parseOrigin",B)},parseScheme:function k(B){return w("parseScheme",B)},isRelative:function P(B){return w("isRelative",B)},isPathAbsolute:function x(B){return w("isPathAbsolute",B)},isSchemeRelative:function I(B){return w("isSchemeRelative",B)},isHTTPURL:function T(B){return w("isHTTPURL",B)},isHTTPS:function N(B){return w("isHTTPS",B)},removeHostname:function G(B){return w("removeHostname",B)},resolve:function C(B,Y){return w("resolve",B,Y)}}}R.__dashjs_factory_name="URLUtils";var b=y.default.getSingletonFactory(R);M.default=b},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function b(){var L,S,m,h,p,v,F=this.context;function O(x){var I=x.split(":"),T=I.length-1;return x=60*parseInt(I[T-1],10)+parseFloat(I[T]),2===T&&(x+=3600*parseInt(I[0],10)),x}function G(x){var I=x.split(h),T=I[1].split(v);return T.shift(),I[1]=T[0],T.shift(),{cuePoints:I,styles:k(T)}}function k(x){var I={};return x.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(I.align=N),(T.match(/line/)||T.match(/L/))&&(I.line=N),(T.match(/position/)||T.match(/P/))&&(I.position=N),(T.match(/size/)||T.match(/S/))&&(I.size=N)}}),I}function P(x,I){for(var B,T=I,N="",C="";""!==x[T]&&T<x.length;)T++;if((B=T-I)>1)for(var Y=0;Y<B;Y++){if((C=x[I+Y]).match(h)){N="";break}N+=C,Y!==B-1&&(N+="\n")}else(C=x[I]).match(h)||(N=C);return N}return L={parse:function V(x){var T,N,I=[];if(!x)return I;T=(x=x.split(m)).length,N=-1;for(var C=0;C<T;C++){var B=x[C];if(B.length>0&&"WEBVTT"!==B&&B.match(h)){var Y=G(B),re=Y.cuePoints,ae=Y.styles,Oe=P(x,C+1),z=O(re[0].replace(p,"")),oe=O(re[1].replace(p,""));!isNaN(z)&&!isNaN(oe)&&z>=N&&oe>z?""!==Oe?(N=z,I.push({start:z,end:oe,data:Oe,styles:ae})):S.error("Skipping cue due to empty/malformed cue text"):S.error("Skipping cue due to incorrect cue timing")}}return I}},function w(){S=Object(E.default)(F).getInstance().getLogger(L),m=/(?:\r\n|\r|\n)/gm,h=/-->/,p=/(^[\s]+|[\s]+$)/g,v=/\s\b/g}(),L}b.__dashjs_factory_name="VTTParser",M.default=y.default.getSingletonFactory(b)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var R,b;return R={parse:function L(S){var m=[];return b.oncue=function(h){h.start=h.startTime,h.end=h.endTime,h.data=h.text,h.styles={align:h.align,line:h.line,position:h.position,size:h.size},m.push(h)},b.parse(S),m}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(b=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),R}E.__dashjs_factory_name="VttCustomRenderingParser",M.default=y.default.getSingletonFactory(E)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(R){var F=(R=R||{}).blacklistController;return{select:function L(S){var h,m=0;return S&&S.some(function(p,v){return m=v,!F.contains(p.serviceLocation)})&&(h=S[m]),h}}}E.__dashjs_factory_name="BasicSelector",M.default=y.default.getClassFactory(E)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function R(){var F,L,S,b=this.context;function v(){for(var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],O=0,G=NaN,k=function(){var I=w[O],T=V.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===I});if(-1!==T&&!S.contains(V[T].serviceLocation))return G=T,"break";O+=1};O<w.length&&"break"!==k(););return G}return F={selectBaseUrlIndex:function p(w){var V=NaN;if(isNaN(w.selectedIdx)){var O=L.getSteeringDataFromManifest();O&&O.defaultServiceLocation&&(V=v([O.defaultServiceLocation],w.baseUrls))}var G=L.getCurrentSteeringResponseData();return w.baseUrls&&w.baseUrls.length&&G&&G.serviceLocationPriority&&G.serviceLocationPriority.length&&(V=v(G.serviceLocationPriority,w.baseUrls)),V},setConfig:function h(w){w.blacklistController&&(S=w.blacklistController),w.contentSteeringController&&(L=w.contentSteeringController)}},function m(){L=Object(E.default)(b).getInstance()}(),F}R.__dashjs_factory_name="ContentSteeringSelector",M.default=y.default.getClassFactory(R)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(R){var F=(R=R||{}).blacklistController;return{select:function m(h){return h&&function S(h){var G,k,w=0,V=[],O=0;if((k=h.sort(function(x,I){var T=x.dvb_priority-I.dvb_priority;return isNaN(T)?0:T}).filter(function(x,I,T){return!I||T[0].dvb_priority&&x.dvb_priority&&T[0].dvb_priority===x.dvb_priority})).length)return k.length>1&&(k.forEach(function(P){V.push(w+=P.dvb_weight)}),G=Math.floor(Math.random()*(w-1)),V.every(function(P,x){return O=x,!(G<P)})),k[O]}(function L(h){var p=[];return h.filter(function(O){return!F.contains(O.serviceLocation)||(O.dvb_priority&&p.push(O.dvb_priority),!1)}).filter(function(O){return!(p.length&&O.dvb_priority&&-1!==p.indexOf(O.dvb_priority))})}(h))}}}E.__dashjs_factory_name="DVBSelector",M.default=y.default.getClassFactory(E)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.code=h||null,this.message=p||null,this.data=v||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,L(w.key),w)}}function L(h){var p=function S(h,p){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}var m=function(){function h(p){(function R(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.action=h.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=p||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(h,p,v){return p&&b(h.prototype,p),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===y.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?y.HTTPRequest.INIT_SEGMENT_TYPE:y.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}]),h}();m.ACTION_DOWNLOAD="download",m.ACTION_COMPLETE="complete",M.default=m},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function R(k,P){for(var x=0;x<P.length;x++){var I=P[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,F(I.key),I)}}function F(k){var P=function L(k,P){if("object"!==E(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var I=x.call(k,P||"default");if("object"!==E(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===E(P)?P:String(P)}function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&h(k,P)}function h(k,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(k,P)}function p(k){var P=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=O(k);if(P){var N=O(this).constructor;T=Reflect.construct(I,arguments,N)}else T=I.apply(this,arguments);return function v(k,P){if(P&&("object"===E(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function w(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function O(k){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}M.default=function(k){m(x,k);var P=p(x);function x(I){var T;return function S(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(T=P.call(this,I)).checkForExistenceOnly=!0,T}return function b(k,P,x){return P&&R(k.prototype,P),x&&R(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(y.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function R(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=function(){function m(h){if(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),this.offset=h._offset,this.type=h.type,this.size=h.size,this.boxes=[],h.boxes)for(var p=0;p<h.boxes.length;p++)this.boxes.push(new m(h.boxes[p]));switch(this.isComplete=!0,h.type){case"sidx":if(this.timescale=h.timescale,this.earliest_presentation_time=h.earliest_presentation_time,this.first_offset=h.first_offset,this.references=h.references,h.references){this.references=[];for(var v=0;v<h.references.length;v++)this.references.push({reference_type:h.references[v].reference_type,referenced_size:h.references[v].referenced_size,subsegment_duration:h.references[v].subsegment_duration})}break;case"emsg":this.id=h.id,this.version=1===h.version?1:0,this.value=h.value,this.timescale=h.timescale,this.scheme_id_uri=h.scheme_id_uri,this.presentation_time_delta=1===h.version?h.presentation_time:h.presentation_time_delta,this.event_duration=h.event_duration,this.message_data=h.message_data;break;case"mdhd":this.timescale=h.timescale;break;case"mfhd":this.sequence_number=h.sequence_number;break;case"subs":this.entry_count=h.entry_count,this.entries=h.entries;break;case"tfhd":this.base_data_offset=h.base_data_offset,this.sample_description_index=h.sample_description_index,this.default_sample_duration=h.default_sample_duration,this.default_sample_size=h.default_sample_size,this.default_sample_flags=h.default_sample_flags,this.flags=h.flags;break;case"tfdt":this.version=h.version,this.baseMediaDecodeTime=h.baseMediaDecodeTime,this.flags=h.flags;break;case"trun":if(this.sample_count=h.sample_count,this.first_sample_flags=h.first_sample_flags,this.data_offset=h.data_offset,this.flags=h.flags,this.samples=h.samples,h.samples){this.samples=[];for(var V=0,O=h.samples.length;V<O;V++)this.samples.push({sample_size:h.samples[V].sample_size,sample_duration:h.samples[V].sample_duration,sample_composition_time_offset:h.samples[V].sample_composition_time_offset})}}}return function b(m,h,p){return h&&R(m.prototype,h),p&&R(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"getChildBox",value:function(p){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===p)return this.boxes[v]}},{key:"getChildBoxes",value:function(p){for(var v=[],w=0;w<this.boxes.length;w++)this.boxes[w].type===p&&v.push(this.boxes[w]);return v}}]),m}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(h,p,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.lastCompletedOffset=h,this.found=p,this.size=v})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function R(P){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function b(P,x){for(var I=0;I<x.length;I++){var T=x[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,L(T.key),T)}}function L(P){var x=function S(P,x){if("object"!==R(P)||null===P)return P;var I=P[Symbol.toPrimitive];if(void 0!==I){var T=I.call(P,x||"default");if("object"!==R(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===R(x)?x:String(x)}function h(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&p(P,x)}function p(P,x){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function v(P){var x=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=G(P);if(x){var C=G(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function w(P,x){if(x&&("object"===R(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function V(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function G(P){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(P)}M.default=function(P){h(I,P);var x=v(I);function I(T,N){var C;return function m(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,I),(C=x.call(this)).url=T||null,C.type=N||null,C.mediaType=y.default.STREAM,C.responseType="",C}return function F(P,x,I){return x&&b(P.prototype,x),I&&b(P,I),Object.defineProperty(P,"prototype",{writable:!1}),P}(I)}(E.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function R(k,P){for(var x=0;x<P.length;x++){var I=P[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,F(I.key),I)}}function F(k){var P=function L(k,P){if("object"!==E(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var I=x.call(k,P||"default");if("object"!==E(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===E(P)?P:String(P)}function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&h(k,P)}function h(k,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(k,P)}function p(k){var P=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=O(k);if(P){var N=O(this).constructor;T=Reflect.construct(I,arguments,N)}else T=I.apply(this,arguments);return function v(k,P){if(P&&("object"===E(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function w(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function O(k){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}M.default=function(k){m(x,k);var P=p(x);function x(){var I;return function S(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(I=P.call(this)).captionData=null,I.label=null,I.defaultTrack=!1,I.kind=null,I.isFragmented=!1,I.isEmbedded=!1,I.isTTML=null,I}return function b(k,P,x){return P&&R(k.prototype,P),x&&R(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(y.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";e.r(M);var y=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function R(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,F(w.key),w)}}function b(h,p,v){return p&&R(h.prototype,p),v&&R(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var p=function L(h,p){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}M.default=b(function h(){(function S(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.target=null,this.state=y.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function E(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,b(w.key),w)}}function R(h,p,v){return p&&E(h.prototype,p),v&&E(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var p=function F(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}e.r(M),e.d(M,"HTTPRequest",function(){return S}),e.d(M,"HTTPRequestTrace",function(){return m});var S=R(function h(){L(this,h),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),m=R(function h(){L(this,h),this.s=null,this.d=null,this.b=[]});S.GET="GET",S.HEAD="HEAD",S.MPD_TYPE="MPD",S.XLINK_EXPANSION_TYPE="XLinkExpansion",S.INIT_SEGMENT_TYPE="InitializationSegment",S.INDEX_SEGMENT_TYPE="IndexSegment",S.MEDIA_SEGMENT_TYPE="MediaSegment",S.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",S.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",S.DVB_REPORTING_TYPE="DVBReporting",S.LICENSE="license",S.CONTENT_STEERING_TYPE="ContentSteering",S.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(Ye,M,e){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function E(p,v){for(var w=0;w<v.length;w++){var V=v[w];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(p,b(V.key),V)}}function R(p,v,w){return v&&E(p.prototype,v),w&&E(p,w),Object.defineProperty(p,"prototype",{writable:!1}),p}function b(p){var v=function F(p,v){if("object"!==y(p)||null===p)return p;var w=p[Symbol.toPrimitive];if(void 0!==w){var V=w.call(p,v||"default");if("object"!==y(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(p)}(p,"string");return"symbol"===y(v)?v:String(v)}function L(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}e.r(M),e.d(M,"ManifestUpdate",function(){return S}),e.d(M,"ManifestUpdateStreamInfo",function(){return m}),e.d(M,"ManifestUpdateRepresentationInfo",function(){return h});var S=R(function p(){L(this,p),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),m=R(function p(){L(this,p),this.id=null,this.index=null,this.start=null,this.duration=null}),h=R(function p(){L(this,p),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(Ye,M,e){"use strict";function y(h){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function E(h,p){for(var v=0;v<p.length;v++){var w=p[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,b(w.key),w)}}function R(h,p,v){return p&&E(h.prototype,p),v&&E(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var p=function F(h,p){if("object"!==y(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var w=v.call(h,p||"default");if("object"!==y(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===y(p)?p:String(p)}function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}e.r(M),e.d(M,"PlayList",function(){return S}),e.d(M,"PlayListTrace",function(){return m});var S=R(function h(){L(this,h),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});S.INITIAL_PLAYOUT_START_REASON="initial_playout",S.SEEK_START_REASON="seek",S.RESUME_FROM_PAUSE_START_REASON="resume",S.METRICS_COLLECTION_START_REASON="metrics_collection_start";var m=R(function h(){L(this,h),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});m.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",m.REBUFFERING_REASON="rebuffering",m.USER_REQUEST_STOP_REASON="user_request",m.END_OF_PERIOD_STOP_REASON="end_of_period",m.END_OF_CONTENT_STOP_REASON="end_of_content",m.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",m.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ye,M,e){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function R(m,h,p){return h&&E(m.prototype,h),p&&E(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==y(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==y(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===y(h)?h:String(h)}e.r(M),M.default=R(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ye,M){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ye,M){}}).default},4440:(bn,Ye,M)=>{var e;!function(){"use strict";var y="object"==typeof window?window:{},E=!y.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;E&&(y=global);var w,V,R=!y.HI_BASE64_NO_COMMON_JS&&bn.exports,b=M.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},m=function(x){var I,T,N,C,B=[],Y=0,re=x.length;"="===x.charAt(re-2)?re-=2:"="===x.charAt(re-1)&&(re-=1);for(var ae=0,Oe=re>>2<<2;ae<Oe;)I=L[x.charAt(ae++)],T=L[x.charAt(ae++)],N=L[x.charAt(ae++)],C=L[x.charAt(ae++)],B[Y++]=255&(I<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2),B[Y++]=255&(N<<6|C);var z=re-Oe;return 2===z?(I=L[x.charAt(ae++)],T=L[x.charAt(ae++)],B[Y++]=255&(I<<2|T>>>4)):3===z&&(I=L[x.charAt(ae++)],T=L[x.charAt(ae++)],N=L[x.charAt(ae++)],B[Y++]=255&(I<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2)),B},h=function(x){for(var I,T,N,C="",B=x.length,Y=0,re=3*parseInt(B/3);Y<re;)I=x[Y++],T=x[Y++],N=x[Y++],C+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var ae=B-re;return 1===ae?C+=F[(I=x[Y])>>>2]+F[I<<4&63]+"==":2===ae&&(I=x[Y++],C+=F[I>>>2]+F[63&(I<<4|(T=x[Y])>>>4)]+F[T<<2&63]+"="),C},p=y.btoa,v=y.atob;if(E){var O=M(9007).lW;p=function(x){return new O(x,"ascii").toString("base64")},h=w=function(x){return new O(x).toString("base64")},v=function(x){return new O(x,"base64").toString("ascii")},V=function(x){return new O(x,"base64").toString()}}else p?(w=function(x){for(var I="",T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?I+=String.fromCharCode(N):N<2048?I+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?I+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),I+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return p(I)},V=function(x){var I=v(x.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(I))return I;for(var Y,re,T="",N=0,C=I.length,B=0;N<C;)if((Y=I.charCodeAt(N++))<=127)T+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var ae=0;ae<B;++ae){if((Y=I.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?T+=String.fromCharCode(re):(re-=65536,T+=String.fromCharCode(55296+(re>>10)),T+=String.fromCharCode(56320+(1023&re)))}return T}):(p=function(x){for(var I,T,N,C="",B=x.length,Y=0,re=3*parseInt(B/3);Y<re;)I=x.charCodeAt(Y++),T=x.charCodeAt(Y++),N=x.charCodeAt(Y++),C+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var ae=B-re;return 1===ae?(I=x.charCodeAt(Y),C+=F[I>>>2]+F[I<<4&63]+"=="):2===ae&&(I=x.charCodeAt(Y++),T=x.charCodeAt(Y),C+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[T<<2&63]+"="),C},w=function(x){for(var I,T,N,C="",B=function(x){for(var I=[],T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?I[I.length]=N:N<2048?(I[I.length]=192|N>>6,I[I.length]=128|63&N):N<55296||N>=57344?(I[I.length]=224|N>>12,I[I.length]=128|N>>6&63,I[I.length]=128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),I[I.length]=240|N>>18,I[I.length]=128|N>>12&63,I[I.length]=128|N>>6&63,I[I.length]=128|63&N)}return I}(x),Y=B.length,re=0,ae=3*parseInt(Y/3);re<ae;)I=B[re++],T=B[re++],N=B[re++],C+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Oe=Y-ae;return 1===Oe?C+=F[(I=B[re])>>>2]+F[I<<4&63]+"==":2===Oe&&(I=B[re++],C+=F[I>>>2]+F[63&(I<<4|(T=B[re])>>>4)]+F[T<<2&63]+"="),C},v=function(x){var I,T,N,C,B="",Y=x.length;"="===x.charAt(Y-2)?Y-=2:"="===x.charAt(Y-1)&&(Y-=1);for(var re=0,ae=Y>>2<<2;re<ae;)I=L[x.charAt(re++)],T=L[x.charAt(re++)],N=L[x.charAt(re++)],C=L[x.charAt(re++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|C));var Oe=Y-ae;return 2===Oe?(I=L[x.charAt(re++)],T=L[x.charAt(re++)],B+=String.fromCharCode(255&(I<<2|T>>>4))):3===Oe&&(I=L[x.charAt(re++)],T=L[x.charAt(re++)],N=L[x.charAt(re++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},V=function(x){for(var Y,re,I="",T=m(x),N=T.length,C=0,B=0;C<N;)if((Y=T[C++])<=127)I+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var ae=0;ae<B;++ae){if((Y=T[C++])<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?I+=String.fromCharCode(re):(re-=65536,I+=String.fromCharCode(55296+(re>>10)),I+=String.fromCharCode(56320+(1023&re)))}return I});var k=function(x,I){return I?v(x):V(x)},P={encode:function(x,I){var T="string"!=typeof x;return T&&x.constructor===y.ArrayBuffer&&(x=new Uint8Array(x)),T?h(x):!I&&/[^\x00-\x7F]/.test(x)?w(x):p(x)},decode:k,atob:v,btoa:p};k.bytes=m,k.string=k,R?bn.exports=P:(y.base64=P,b&&void 0!==(e=function(){return P}.call(P,M,P,bn))&&(bn.exports=e))}()},2601:(bn,Ye)=>{Ye.read=function(M,e,y,E,R){var b,F,L=8*R-E-1,S=(1<<L)-1,m=S>>1,h=-7,p=y?R-1:0,v=y?-1:1,w=M[e+p];for(p+=v,b=w&(1<<-h)-1,w>>=-h,h+=L;h>0;b=256*b+M[e+p],p+=v,h-=8);for(F=b&(1<<-h)-1,b>>=-h,h+=E;h>0;F=256*F+M[e+p],p+=v,h-=8);if(0===b)b=1-m;else{if(b===S)return F?NaN:1/0*(w?-1:1);F+=Math.pow(2,E),b-=m}return(w?-1:1)*F*Math.pow(2,b-E)},Ye.write=function(M,e,y,E,R,b){var F,L,S,m=8*b-R-1,h=(1<<m)-1,p=h>>1,v=23===R?Math.pow(2,-24)-Math.pow(2,-77):0,w=E?0:b-1,V=E?1:-1,O=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(L=isNaN(e)?1:0,F=h):(F=Math.floor(Math.log(e)/Math.LN2),e*(S=Math.pow(2,-F))<1&&(F--,S*=2),(e+=F+p>=1?v/S:v*Math.pow(2,1-p))*S>=2&&(F++,S/=2),F+p>=h?(L=0,F=h):F+p>=1?(L=(e*S-1)*Math.pow(2,R),F+=p):(L=e*Math.pow(2,p-1)*Math.pow(2,R),F=0));R>=8;M[y+w]=255&L,w+=V,L/=256,R-=8);for(F=F<<R|L,m+=R;m>0;M[y+w]=255&F,w+=V,F/=256,m-=8);M[y+w-V]|=128*O}},5619:(bn,Ye,M)=>{"use strict";M.d(Ye,{X:()=>y});var e=M(8645);class y extends e.x{constructor(R){super(),this._value=R}get value(){return this.getValue()}_subscribe(R){const b=super._subscribe(R);return!b.closed&&R.next(this._value),b}getValue(){const{hasError:R,thrownError:b,_value:F}=this;if(R)throw b;return this._throwIfClosed(),F}next(R){super.next(this._value=R)}}},5592:(bn,Ye,M)=>{"use strict";M.d(Ye,{y:()=>S});var e=M(305),y=M(7394),E=M(4850),R=M(8407),b=M(2653),F=M(4674),L=M(1441);let S=(()=>{class v{constructor(V){V&&(this._subscribe=V)}lift(V){const O=new v;return O.source=this,O.operator=V,O}subscribe(V,O,G){const k=function p(v){return v&&v instanceof e.Lv||function h(v){return v&&(0,F.m)(v.next)&&(0,F.m)(v.error)&&(0,F.m)(v.complete)}(v)&&(0,y.Nn)(v)}(V)?V:new e.Hp(V,O,G);return(0,L.x)(()=>{const{operator:P,source:x}=this;k.add(P?P.call(k,x):x?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(V){try{return this._subscribe(V)}catch(O){V.error(O)}}forEach(V,O){return new(O=m(O))((G,k)=>{const P=new e.Hp({next:x=>{try{V(x)}catch(I){k(I),P.unsubscribe()}},error:k,complete:G});this.subscribe(P)})}_subscribe(V){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(V)}[E.L](){return this}pipe(...V){return(0,R.U)(V)(this)}toPromise(V){return new(V=m(V))((O,G)=>{let k;this.subscribe(P=>k=P,P=>G(P),()=>O(k))})}}return v.create=w=>new v(w),v})();function m(v){var w;return null!==(w=v??b.config.Promise)&&void 0!==w?w:Promise}},8645:(bn,Ye,M)=>{"use strict";M.d(Ye,{x:()=>L});var e=M(5592),y=M(7394);const R=(0,M(2306).d)(m=>function(){m(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=M(9039),F=M(1441);let L=(()=>{class m extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(p){const v=new S(this,this);return v.operator=p,v}_throwIfClosed(){if(this.closed)throw new R}next(p){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(p)}})}error(p){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=p;const{observers:v}=this;for(;v.length;)v.shift().error(p)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:p}=this;for(;p.length;)p.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var p;return(null===(p=this.observers)||void 0===p?void 0:p.length)>0}_trySubscribe(p){return this._throwIfClosed(),super._trySubscribe(p)}_subscribe(p){return this._throwIfClosed(),this._checkFinalizedStatuses(p),this._innerSubscribe(p)}_innerSubscribe(p){const{hasError:v,isStopped:w,observers:V}=this;return v||w?y.Lc:(this.currentObservers=null,V.push(p),new y.w0(()=>{this.currentObservers=null,(0,b.P)(V,p)}))}_checkFinalizedStatuses(p){const{hasError:v,thrownError:w,isStopped:V}=this;v?p.error(w):V&&p.complete()}asObservable(){const p=new e.y;return p.source=this,p}}return m.create=(h,p)=>new S(h,p),m})();class S extends L{constructor(h,p){super(),this.destination=h,this.source=p}next(h){var p,v;null===(v=null===(p=this.destination)||void 0===p?void 0:p.next)||void 0===v||v.call(p,h)}error(h){var p,v;null===(v=null===(p=this.destination)||void 0===p?void 0:p.error)||void 0===v||v.call(p,h)}complete(){var h,p;null===(p=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===p||p.call(h)}_subscribe(h){var p,v;return null!==(v=null===(p=this.source)||void 0===p?void 0:p.subscribe(h))&&void 0!==v?v:y.Lc}}},305:(bn,Ye,M)=>{"use strict";M.d(Ye,{Hp:()=>G,Lv:()=>v});var e=M(4674),y=M(7394),E=M(2653),R=M(3894),b=M(2420);const F=m("C",void 0,void 0);function m(T,N,C){return{kind:T,value:N,error:C}}var h=M(7599),p=M(1441);class v extends y.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,y.Nn)(N)&&N.add(this)):this.destination=I}static create(N,C,B){return new G(N,C,B)}next(N){this.isStopped?x(function S(T){return m("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?x(function L(T){return m("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?x(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function V(T,N){return w.call(T,N)}class O{constructor(N){this.partialObserver=N}next(N){const{partialObserver:C}=this;if(C.next)try{C.next(N)}catch(B){k(B)}}error(N){const{partialObserver:C}=this;if(C.error)try{C.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(C){k(C)}}}class G extends v{constructor(N,C,B){let Y;if(super(),(0,e.m)(N)||!N)Y={next:N??void 0,error:C??void 0,complete:B??void 0};else{let re;this&&E.config.useDeprecatedNextContext?(re=Object.create(N),re.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&V(N.next,re),error:N.error&&V(N.error,re),complete:N.complete&&V(N.complete,re)}):Y=N}this.destination=new O(Y)}}function k(T){E.config.useDeprecatedSynchronousErrorHandling?(0,p.O)(T):(0,R.h)(T)}function x(T,N){const{onStoppedNotification:C}=E.config;C&&h.z.setTimeout(()=>C(T,N))}const I={closed:!0,next:b.Z,error:function P(T){throw T},complete:b.Z}},7394:(bn,Ye,M)=>{"use strict";M.d(Ye,{Lc:()=>F,w0:()=>b,Nn:()=>L});var e=M(4674);const E=(0,M(2306).d)(m=>function(p){m(this),this.message=p?`${p.length} errors occurred during unsubscription:\n${p.map((v,w)=>`${w+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=p});var R=M(9039);class b{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:p}=this;if(p)if(this._parentage=null,Array.isArray(p))for(const V of p)V.remove(this);else p.remove(this);const{initialTeardown:v}=this;if((0,e.m)(v))try{v()}catch(V){h=V instanceof E?V.errors:[V]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const V of w)try{S(V)}catch(O){h=h??[],O instanceof E?h=[...h,...O.errors]:h.push(O)}}if(h)throw new E(h)}}add(h){var p;if(h&&h!==this)if(this.closed)S(h);else{if(h instanceof b){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(p=this._finalizers)&&void 0!==p?p:[]).push(h)}}_hasParent(h){const{_parentage:p}=this;return p===h||Array.isArray(p)&&p.includes(h)}_addParent(h){const{_parentage:p}=this;this._parentage=Array.isArray(p)?(p.push(h),p):p?[p,h]:h}_removeParent(h){const{_parentage:p}=this;p===h?this._parentage=null:Array.isArray(p)&&(0,R.P)(p,h)}remove(h){const{_finalizers:p}=this;p&&(0,R.P)(p,h),h instanceof b&&h._removeParent(this)}}b.EMPTY=(()=>{const m=new b;return m.closed=!0,m})();const F=b.EMPTY;function L(m){return m instanceof b||m&&"closed"in m&&(0,e.m)(m.remove)&&(0,e.m)(m.add)&&(0,e.m)(m.unsubscribe)}function S(m){(0,e.m)(m)?m():m.unsubscribe()}},2653:(bn,Ye,M)=>{"use strict";M.d(Ye,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(bn,Ye,M)=>{"use strict";M.d(Ye,{c:()=>F});var e=M(5592),y=M(7394),E=M(6196),R=M(8251),b=M(9360);class F extends e.y{constructor(S,m){super(),this.source=S,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,b.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new y.w0;const m=this.getSubject();S.add(this.source.subscribe((0,R.x)(m,void 0,()=>{this._teardown(),m.complete()},h=>{this._teardown(),m.error(h)},()=>this._teardown()))),S.closed&&(this._connection=null,S=y.w0.EMPTY)}return S}refCount(){return(0,E.x)()(this)}}},2572:(bn,Ye,M)=>{"use strict";M.d(Ye,{a:()=>h});var e=M(5592),y=M(7453),E=M(7715),R=M(2737),b=M(7400),F=M(9940),L=M(2714),S=M(8251),m=M(7103);function h(...w){const V=(0,F.yG)(w),O=(0,F.jO)(w),{args:G,keys:k}=(0,y.D)(w);if(0===G.length)return(0,E.D)([],V);const P=new e.y(function p(w,V,O=R.y){return G=>{v(V,()=>{const{length:k}=w,P=new Array(k);let x=k,I=k;for(let T=0;T<k;T++)v(V,()=>{const N=(0,E.D)(w[T],V);let C=!1;N.subscribe((0,S.x)(G,B=>{P[T]=B,C||(C=!0,I--),I||G.next(O(P.slice()))},()=>{--x||G.complete()}))},G)},G)}}(G,V,k?x=>(0,L.n)(k,x):R.y));return O?P.pipe((0,b.Z)(O)):P}function v(w,V,O){w?(0,m.f)(O,w,V):V()}},5211:(bn,Ye,M)=>{"use strict";M.d(Ye,{z:()=>b});var e=M(7537),E=M(9940),R=M(7715);function b(...F){return function y(){return(0,e.J)(1)}()((0,R.D)(F,(0,E.yG)(F)))}},4911:(bn,Ye,M)=>{"use strict";M.d(Ye,{P:()=>E});var e=M(5592),y=M(4829);function E(R){return new e.y(b=>{(0,y.Xf)(R()).subscribe(b)})}},6232:(bn,Ye,M)=>{"use strict";M.d(Ye,{E:()=>y});const y=new(M(5592).y)(b=>b.complete())},7715:(bn,Ye,M)=>{"use strict";M.d(Ye,{D:()=>B});var e=M(4829),y=M(7103),E=M(9360),R=M(8251);function b(Y,re=0){return(0,E.e)((ae,Oe)=>{ae.subscribe((0,R.x)(Oe,z=>(0,y.f)(Oe,Y,()=>Oe.next(z),re),()=>(0,y.f)(Oe,Y,()=>Oe.complete(),re),z=>(0,y.f)(Oe,Y,()=>Oe.error(z),re)))})}function F(Y,re=0){return(0,E.e)((ae,Oe)=>{Oe.add(Y.schedule(()=>ae.subscribe(Oe),re))})}var m=M(5592),p=M(4971),v=M(4674);function V(Y,re){if(!Y)throw new Error("Iterable cannot be null");return new m.y(ae=>{(0,y.f)(ae,re,()=>{const Oe=Y[Symbol.asyncIterator]();(0,y.f)(ae,re,()=>{Oe.next().then(z=>{z.done?ae.complete():ae.next(z.value)})},0,!0)})})}var O=M(8382),G=M(4026),k=M(4266),P=M(3664),x=M(5726),I=M(9853),T=M(541);function B(Y,re){return re?function C(Y,re){if(null!=Y){if((0,O.c)(Y))return function L(Y,re){return(0,e.Xf)(Y).pipe(F(re),b(re))}(Y,re);if((0,k.z)(Y))return function h(Y,re){return new m.y(ae=>{let Oe=0;return re.schedule(function(){Oe===Y.length?ae.complete():(ae.next(Y[Oe++]),ae.closed||this.schedule())})})}(Y,re);if((0,G.t)(Y))return function S(Y,re){return(0,e.Xf)(Y).pipe(F(re),b(re))}(Y,re);if((0,x.D)(Y))return V(Y,re);if((0,P.T)(Y))return function w(Y,re){return new m.y(ae=>{let Oe;return(0,y.f)(ae,re,()=>{Oe=Y[p.h](),(0,y.f)(ae,re,()=>{let z,oe;try{({value:z,done:oe}=Oe.next())}catch(H){return void ae.error(H)}oe?ae.complete():ae.next(z)},0,!0)}),()=>(0,v.m)(Oe?.return)&&Oe.return()})}(Y,re);if((0,T.L)(Y))return function N(Y,re){return V((0,T.Q)(Y),re)}(Y,re)}throw(0,I.z)(Y)}(Y,re):(0,e.Xf)(Y)}},2438:(bn,Ye,M)=>{"use strict";M.d(Ye,{R:()=>h});var e=M(4829),y=M(5592),E=M(1631),R=M(4266),b=M(4674),F=M(7400);const L=["addListener","removeListener"],S=["addEventListener","removeEventListener"],m=["on","off"];function h(O,G,k,P){if((0,b.m)(k)&&(P=k,k=void 0),P)return h(O,G,k).pipe((0,F.Z)(P));const[x,I]=function V(O){return(0,b.m)(O.addEventListener)&&(0,b.m)(O.removeEventListener)}(O)?S.map(T=>N=>O[T](G,N,k)):function v(O){return(0,b.m)(O.addListener)&&(0,b.m)(O.removeListener)}(O)?L.map(p(O,G)):function w(O){return(0,b.m)(O.on)&&(0,b.m)(O.off)}(O)?m.map(p(O,G)):[];if(!x&&(0,R.z)(O))return(0,E.z)(T=>h(T,G,k))((0,e.Xf)(O));if(!x)throw new TypeError("Invalid event target");return new y.y(T=>{const N=(...C)=>T.next(1<C.length?C:C[0]);return x(N),()=>I(N)})}function p(O,G){return k=>P=>O[k](G,P)}},4829:(bn,Ye,M)=>{"use strict";M.d(Ye,{Xf:()=>w});var e=M(7582),y=M(4266),E=M(4026),R=M(5592),b=M(8382),F=M(5726),L=M(9853),S=M(3664),m=M(541),h=M(4674),p=M(3894),v=M(4850);function w(T){if(T instanceof R.y)return T;if(null!=T){if((0,b.c)(T))return function V(T){return new R.y(N=>{const C=T[v.L]();if((0,h.m)(C.subscribe))return C.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,y.z)(T))return function O(T){return new R.y(N=>{for(let C=0;C<T.length&&!N.closed;C++)N.next(T[C]);N.complete()})}(T);if((0,E.t)(T))return function G(T){return new R.y(N=>{T.then(C=>{N.closed||(N.next(C),N.complete())},C=>N.error(C)).then(null,p.h)})}(T);if((0,F.D)(T))return P(T);if((0,S.T)(T))return function k(T){return new R.y(N=>{for(const C of T)if(N.next(C),N.closed)return;N.complete()})}(T);if((0,m.L)(T))return function x(T){return P((0,m.Q)(T))}(T)}throw(0,L.z)(T)}function P(T){return new R.y(N=>{(function I(T,N){var C,B,Y,re;return(0,e.mG)(this,void 0,void 0,function*(){try{for(C=(0,e.KL)(T);!(B=yield C.next()).done;)if(N.next(B.value),N.closed)return}catch(ae){Y={error:ae}}finally{try{B&&!B.done&&(re=C.return)&&(yield re.call(C))}finally{if(Y)throw Y.error}}N.complete()})})(T,N).catch(C=>N.error(C))})}},3019:(bn,Ye,M)=>{"use strict";M.d(Ye,{T:()=>F});var e=M(7537),y=M(4829),E=M(6232),R=M(9940),b=M(7715);function F(...L){const S=(0,R.yG)(L),m=(0,R._6)(L,1/0),h=L;return h.length?1===h.length?(0,y.Xf)(h[0]):(0,e.J)(m)((0,b.D)(h,S)):E.E}},2096:(bn,Ye,M)=>{"use strict";M.d(Ye,{of:()=>E});var e=M(9940),y=M(7715);function E(...R){const b=(0,e.yG)(R);return(0,y.D)(R,b)}},4825:(bn,Ye,M)=>{"use strict";M.d(Ye,{H:()=>b});var e=M(5592),y=M(6321),E=M(671);function b(F=0,L,S=y.P){let m=-1;return null!=L&&((0,E.K)(L)?S=L:m=L),new e.y(h=>{let p=function R(F){return F instanceof Date&&!isNaN(F)}(F)?+F-S.now():F;p<0&&(p=0);let v=0;return S.schedule(function(){h.closed||(h.next(v++),0<=m?this.schedule(void 0,m):h.complete())},p)})}},8251:(bn,Ye,M)=>{"use strict";M.d(Ye,{x:()=>y});var e=M(305);function y(R,b,F,L,S){return new E(R,b,F,L,S)}class E extends e.Lv{constructor(b,F,L,S,m,h){super(b),this.onFinalize=m,this.shouldUnsubscribe=h,this._next=F?function(p){try{F(p)}catch(v){b.error(v)}}:super._next,this._error=S?function(p){try{S(p)}catch(v){b.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(p){b.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},3620:(bn,Ye,M)=>{"use strict";M.d(Ye,{b:()=>R});var e=M(6321),y=M(9360),E=M(8251);function R(b,F=e.z){return(0,y.e)((L,S)=>{let m=null,h=null,p=null;const v=()=>{if(m){m.unsubscribe(),m=null;const V=h;h=null,S.next(V)}};function w(){const V=p+b,O=F.now();if(O<V)return m=this.schedule(void 0,V-O),void S.add(m);v()}L.subscribe((0,E.x)(S,V=>{h=V,p=F.now(),m||(m=F.schedule(w,b),S.add(m))},()=>{v(),S.complete()},void 0,()=>{h=m=null}))})}},3997:(bn,Ye,M)=>{"use strict";M.d(Ye,{x:()=>R});var e=M(2737),y=M(9360),E=M(8251);function R(F,L=e.y){return F=F??b,(0,y.e)((S,m)=>{let h,p=!0;S.subscribe((0,E.x)(m,v=>{const w=L(v);(p||!F(h,w))&&(p=!1,h=w,m.next(v))}))})}function b(F,L){return F===L}},2181:(bn,Ye,M)=>{"use strict";M.d(Ye,{h:()=>E});var e=M(9360),y=M(8251);function E(R,b){return(0,e.e)((F,L)=>{let S=0;F.subscribe((0,y.x)(L,m=>R.call(b,m,S++)&&L.next(m)))})}},7398:(bn,Ye,M)=>{"use strict";M.d(Ye,{U:()=>E});var e=M(9360),y=M(8251);function E(R,b){return(0,e.e)((F,L)=>{let S=0;F.subscribe((0,y.x)(L,m=>{L.next(R.call(b,m,S++))}))})}},7537:(bn,Ye,M)=>{"use strict";M.d(Ye,{J:()=>E});var e=M(1631),y=M(2737);function E(R=1/0){return(0,e.z)(y.y,R)}},1631:(bn,Ye,M)=>{"use strict";M.d(Ye,{z:()=>S});var e=M(7398),y=M(4829),E=M(9360),R=M(7103),b=M(8251),L=M(4674);function S(m,h,p=1/0){return(0,L.m)(h)?S((v,w)=>(0,e.U)((V,O)=>h(v,V,w,O))((0,y.Xf)(m(v,w))),p):("number"==typeof h&&(p=h),(0,E.e)((v,w)=>function F(m,h,p,v,w,V,O,G){const k=[];let P=0,x=0,I=!1;const T=()=>{I&&!k.length&&!P&&h.complete()},N=B=>P<v?C(B):k.push(B),C=B=>{V&&h.next(B),P++;let Y=!1;(0,y.Xf)(p(B,x++)).subscribe((0,b.x)(h,re=>{w?.(re),V?N(re):h.next(re)},()=>{Y=!0},void 0,()=>{if(Y)try{for(P--;k.length&&P<v;){const re=k.shift();O?(0,R.f)(h,O,()=>C(re)):C(re)}T()}catch(re){h.error(re)}}))};return m.subscribe((0,b.x)(h,N,()=>{I=!0,T()})),()=>{G?.()}}(v,w,m,p)))}},6196:(bn,Ye,M)=>{"use strict";M.d(Ye,{x:()=>E});var e=M(9360),y=M(8251);function E(){return(0,e.e)((R,b)=>{let F=null;R._refCount++;const L=(0,y.x)(b,void 0,void 0,void 0,()=>{if(!R||R._refCount<=0||0<--R._refCount)return void(F=null);const S=R._connection,m=F;F=null,S&&(!m||S===m)&&S.unsubscribe(),b.unsubscribe()});R.subscribe(L),L.closed||(F=R.connect())})}},3020:(bn,Ye,M)=>{"use strict";M.d(Ye,{B:()=>b});var e=M(4829),y=M(8645),E=M(305),R=M(9360);function b(L={}){const{connector:S=(()=>new y.x),resetOnError:m=!0,resetOnComplete:h=!0,resetOnRefCountZero:p=!0}=L;return v=>{let w,V,O,G=0,k=!1,P=!1;const x=()=>{V?.unsubscribe(),V=void 0},I=()=>{x(),w=O=void 0,k=P=!1},T=()=>{const N=w;I(),N?.unsubscribe()};return(0,R.e)((N,C)=>{G++,!P&&!k&&x();const B=O=O??S();C.add(()=>{G--,0===G&&!P&&!k&&(V=F(T,p))}),B.subscribe(C),!w&&G>0&&(w=new E.Hp({next:Y=>B.next(Y),error:Y=>{P=!0,x(),V=F(I,m,Y),B.error(Y)},complete:()=>{k=!0,x(),V=F(I,h),B.complete()}}),(0,e.Xf)(N).subscribe(w))})(v)}}function F(L,S,...m){if(!0===S)return void L();if(!1===S)return;const h=new E.Hp({next:()=>{h.unsubscribe(),L()}});return(0,e.Xf)(S(...m)).subscribe(h)}},836:(bn,Ye,M)=>{"use strict";M.d(Ye,{T:()=>y});var e=M(2181);function y(E){return(0,e.h)((R,b)=>E<=b)}},7921:(bn,Ye,M)=>{"use strict";M.d(Ye,{O:()=>R});var e=M(5211),y=M(9940),E=M(9360);function R(...b){const F=(0,y.yG)(b);return(0,E.e)((L,S)=>{(F?(0,e.z)(b,L,F):(0,e.z)(b,L)).subscribe(S)})}},4664:(bn,Ye,M)=>{"use strict";M.d(Ye,{w:()=>R});var e=M(4829),y=M(9360),E=M(8251);function R(b,F){return(0,y.e)((L,S)=>{let m=null,h=0,p=!1;const v=()=>p&&!m&&S.complete();L.subscribe((0,E.x)(S,w=>{m?.unsubscribe();let V=0;const O=h++;(0,e.Xf)(b(w,O)).subscribe(m=(0,E.x)(S,G=>S.next(F?F(w,G,O,V++):G),()=>{m=null,v()}))},()=>{p=!0,v()}))})}},8180:(bn,Ye,M)=>{"use strict";M.d(Ye,{q:()=>R});var e=M(6232),y=M(9360),E=M(8251);function R(b){return b<=0?()=>e.E:(0,y.e)((F,L)=>{let S=0;F.subscribe((0,E.x)(L,m=>{++S<=b&&(L.next(m),b<=S&&L.complete())}))})}},9773:(bn,Ye,M)=>{"use strict";M.d(Ye,{R:()=>b});var e=M(9360),y=M(8251),E=M(4829),R=M(2420);function b(F){return(0,e.e)((L,S)=>{(0,E.Xf)(F).subscribe((0,y.x)(S,()=>S.complete(),R.Z)),!S.closed&&L.subscribe(S)})}},9397:(bn,Ye,M)=>{"use strict";M.d(Ye,{b:()=>b});var e=M(4674),y=M(9360),E=M(8251),R=M(2737);function b(F,L,S){const m=(0,e.m)(F)||L||S?{next:F,error:L,complete:S}:F;return m?(0,y.e)((h,p)=>{var v;null===(v=m.subscribe)||void 0===v||v.call(m);let w=!0;h.subscribe((0,E.x)(p,V=>{var O;null===(O=m.next)||void 0===O||O.call(m,V),p.next(V)},()=>{var V;w=!1,null===(V=m.complete)||void 0===V||V.call(m),p.complete()},V=>{var O;w=!1,null===(O=m.error)||void 0===O||O.call(m,V),p.error(V)},()=>{var V,O;w&&(null===(V=m.unsubscribe)||void 0===V||V.call(m)),null===(O=m.finalize)||void 0===O||O.call(m)}))}):R.y}},1954:(bn,Ye,M)=>{"use strict";M.d(Ye,{o:()=>b});var e=M(7394);class y extends e.w0{constructor(L,S){super()}schedule(L,S=0){return this}}const E={setInterval(F,L,...S){const{delegate:m}=E;return m?.setInterval?m.setInterval(F,L,...S):setInterval(F,L,...S)},clearInterval(F){const{delegate:L}=E;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var R=M(9039);class b extends y{constructor(L,S){super(L,S),this.scheduler=L,this.work=S,this.pending=!1}schedule(L,S=0){var m;if(this.closed)return this;this.state=L;const h=this.id,p=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(p,h,S)),this.pending=!0,this.delay=S,this.id=null!==(m=this.id)&&void 0!==m?m:this.requestAsyncId(p,this.id,S),this}requestAsyncId(L,S,m=0){return E.setInterval(L.flush.bind(L,this),m)}recycleAsyncId(L,S,m=0){if(null!=m&&this.delay===m&&!1===this.pending)return S;null!=S&&E.clearInterval(S)}execute(L,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const m=this._execute(L,S);if(m)return m;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,S){let h,m=!1;try{this.work(L)}catch(p){m=!0,h=p||new Error("Scheduled action threw falsy error")}if(m)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:L,scheduler:S}=this,{actions:m}=S;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.P)(m,this),null!=L&&(this.id=this.recycleAsyncId(S,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(bn,Ye,M)=>{"use strict";M.d(Ye,{v:()=>E});var e=M(4552);class y{constructor(b,F=y.now){this.schedulerActionCtor=b,this.now=F}schedule(b,F=0,L){return new this.schedulerActionCtor(this,b).schedule(L,F)}}y.now=e.l.now;class E extends y{constructor(b,F=y.now){super(b,F),this.actions=[],this._active=!1}flush(b){const{actions:F}=this;if(this._active)return void F.push(b);let L;this._active=!0;do{if(L=b.execute(b.state,b.delay))break}while(b=F.shift());if(this._active=!1,L){for(;b=F.shift();)b.unsubscribe();throw L}}}},6321:(bn,Ye,M)=>{"use strict";M.d(Ye,{P:()=>R,z:()=>E});var e=M(1954);const E=new(M(2631).v)(e.o),R=E},4552:(bn,Ye,M)=>{"use strict";M.d(Ye,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7599:(bn,Ye,M)=>{"use strict";M.d(Ye,{z:()=>e});const e={setTimeout(y,E,...R){const{delegate:b}=e;return b?.setTimeout?b.setTimeout(y,E,...R):setTimeout(y,E,...R)},clearTimeout(y){const{delegate:E}=e;return(E?.clearTimeout||clearTimeout)(y)},delegate:void 0}},4971:(bn,Ye,M)=>{"use strict";M.d(Ye,{h:()=>y});const y=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bn,Ye,M)=>{"use strict";M.d(Ye,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(bn,Ye,M)=>{"use strict";M.d(Ye,{_6:()=>F,jO:()=>R,yG:()=>b});var e=M(4674),y=M(671);function E(L){return L[L.length-1]}function R(L){return(0,e.m)(E(L))?L.pop():void 0}function b(L){return(0,y.K)(E(L))?L.pop():void 0}function F(L,S){return"number"==typeof E(L)?L.pop():S}},7453:(bn,Ye,M)=>{"use strict";M.d(Ye,{D:()=>b});const{isArray:e}=Array,{getPrototypeOf:y,prototype:E,keys:R}=Object;function b(L){if(1===L.length){const S=L[0];if(e(S))return{args:S,keys:null};if(function F(L){return L&&"object"==typeof L&&y(L)===E}(S)){const m=R(S);return{args:m.map(h=>S[h]),keys:m}}}return{args:L,keys:null}}},9039:(bn,Ye,M)=>{"use strict";function e(y,E){if(y){const R=y.indexOf(E);0<=R&&y.splice(R,1)}}M.d(Ye,{P:()=>e})},2306:(bn,Ye,M)=>{"use strict";function e(y){const R=y(b=>{Error.call(b),b.stack=(new Error).stack});return R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R}M.d(Ye,{d:()=>e})},2714:(bn,Ye,M)=>{"use strict";function e(y,E){return y.reduce((R,b,F)=>(R[b]=E[F],R),{})}M.d(Ye,{n:()=>e})},1441:(bn,Ye,M)=>{"use strict";M.d(Ye,{O:()=>R,x:()=>E});var e=M(2653);let y=null;function E(b){if(e.config.useDeprecatedSynchronousErrorHandling){const F=!y;if(F&&(y={errorThrown:!1,error:null}),b(),F){const{errorThrown:L,error:S}=y;if(y=null,L)throw S}}else b()}function R(b){e.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=b)}},7103:(bn,Ye,M)=>{"use strict";function e(y,E,R,b=0,F=!1){const L=E.schedule(function(){R(),F?y.add(this.schedule(null,b)):this.unsubscribe()},b);if(y.add(L),!F)return L}M.d(Ye,{f:()=>e})},2737:(bn,Ye,M)=>{"use strict";function e(y){return y}M.d(Ye,{y:()=>e})},4266:(bn,Ye,M)=>{"use strict";M.d(Ye,{z:()=>e});const e=y=>y&&"number"==typeof y.length&&"function"!=typeof y},5726:(bn,Ye,M)=>{"use strict";M.d(Ye,{D:()=>y});var e=M(4674);function y(E){return Symbol.asyncIterator&&(0,e.m)(E?.[Symbol.asyncIterator])}},4674:(bn,Ye,M)=>{"use strict";function e(y){return"function"==typeof y}M.d(Ye,{m:()=>e})},8382:(bn,Ye,M)=>{"use strict";M.d(Ye,{c:()=>E});var e=M(4850),y=M(4674);function E(R){return(0,y.m)(R[e.L])}},3664:(bn,Ye,M)=>{"use strict";M.d(Ye,{T:()=>E});var e=M(4971),y=M(4674);function E(R){return(0,y.m)(R?.[e.h])}},2664:(bn,Ye,M)=>{"use strict";M.d(Ye,{b:()=>E});var e=M(5592),y=M(4674);function E(R){return!!R&&(R instanceof e.y||(0,y.m)(R.lift)&&(0,y.m)(R.subscribe))}},4026:(bn,Ye,M)=>{"use strict";M.d(Ye,{t:()=>y});var e=M(4674);function y(E){return(0,e.m)(E?.then)}},541:(bn,Ye,M)=>{"use strict";M.d(Ye,{L:()=>R,Q:()=>E});var e=M(7582),y=M(4674);function E(b){return(0,e.FC)(this,arguments,function*(){const L=b.getReader();try{for(;;){const{value:S,done:m}=yield(0,e.qq)(L.read());if(m)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(S)}}finally{L.releaseLock()}})}function R(b){return(0,y.m)(b?.getReader)}},671:(bn,Ye,M)=>{"use strict";M.d(Ye,{K:()=>y});var e=M(4674);function y(E){return E&&(0,e.m)(E.schedule)}},9360:(bn,Ye,M)=>{"use strict";M.d(Ye,{A:()=>y,e:()=>E});var e=M(4674);function y(R){return(0,e.m)(R?.lift)}function E(R){return b=>{if(y(b))return b.lift(function(F){try{return R(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bn,Ye,M)=>{"use strict";M.d(Ye,{Z:()=>R});var e=M(7398);const{isArray:y}=Array;function R(b){return(0,e.U)(F=>function E(b,F){return y(F)?b(...F):b(F)}(b,F))}},2420:(bn,Ye,M)=>{"use strict";function e(){}M.d(Ye,{Z:()=>e})},8407:(bn,Ye,M)=>{"use strict";M.d(Ye,{U:()=>E,z:()=>y});var e=M(2737);function y(...R){return E(R)}function E(R){return 0===R.length?e.y:1===R.length?R[0]:function(F){return R.reduce((L,S)=>S(L),F)}}},3894:(bn,Ye,M)=>{"use strict";M.d(Ye,{h:()=>E});var e=M(2653),y=M(7599);function E(R){y.z.setTimeout(()=>{const{onUnhandledError:b}=e.config;if(!b)throw R;b(R)})}},9853:(bn,Ye,M)=>{"use strict";function e(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Ye,{z:()=>e})},6825:(bn,Ye,M)=>{"use strict";M.d(Ye,{F4:()=>h,IO:()=>O,LC:()=>y,SB:()=>m,X$:()=>R,ZE:()=>P,ZN:()=>k,_j:()=>e,eR:()=>p,jt:()=>b,k1:()=>x,l3:()=>E,oB:()=>S,pV:()=>w,ru:()=>F,vP:()=>L});class e{}class y{}const E="*";function R(I,T){return{type:7,name:I,definitions:T,options:{}}}function b(I,T=null){return{type:4,styles:T,timings:I}}function F(I,T=null){return{type:3,steps:I,options:T}}function L(I,T=null){return{type:2,steps:I,options:T}}function S(I){return{type:6,styles:I,offset:null}}function m(I,T,N){return{type:0,name:I,styles:T,options:N}}function h(I){return{type:5,steps:I}}function p(I,T,N=null){return{type:1,expr:I,animation:T,options:N}}function w(I=null){return{type:9,options:I}}function O(I,T,N=null){return{type:11,selector:I,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}class P{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,C=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++N==Y&&this._onFinish()}),re.onDestroy(()=>{++C==Y&&this._onDestroy()}),re.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((re,ae)=>Math.max(re,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(C=>{const B=C.totalTime?Math.min(1,N/C.totalTime):1;C.setPosition(B)})}getPosition(){const T=this.players.reduce((N,C)=>null===N||C.totalTime>N.totalTime?C:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}const x="!"},4300:(bn,Ye,M)=>{"use strict";M.d(Ye,{$s:()=>Oe,Kd:()=>He,X6:()=>X,Zf:()=>T,iD:()=>N,ic:()=>Ee,kH:()=>Ot,mK:()=>ie,qV:()=>K,qm:()=>cn,rt:()=>Rn,s1:()=>me,tE:()=>Ct,yG:()=>J});var e=M(6814),y=M(5879),E=M(2831),R=M(8645),b=M(7394),F=M(5619),L=M(2096),S=M(6028),m=M(9397),h=M(3620),p=M(2181),v=M(7398),w=M(8180),V=M(836),O=M(3997),G=M(9773),k=M(2495),P=M(7131),x=M(1088);const I=" ";function T(nt,at,Se){const ue=C(nt,at);ue.some(ge=>ge.trim()==Se.trim())||(ue.push(Se.trim()),nt.setAttribute(at,ue.join(I)))}function N(nt,at,Se){const ge=C(nt,at).filter(it=>it!=Se.trim());ge.length?nt.setAttribute(at,ge.join(I)):nt.removeAttribute(at)}function C(nt,at){return(nt.getAttribute(at)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",re="cdk-describedby-host";let ae=0,Oe=(()=>{class nt{constructor(Se,ue){this._platform=ue,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ae++,this._document=Se,this._id=(0,y.f3M)(y.AFp)+"-"+ae++}describe(Se,ue,ge){if(!this._canBeDescribed(Se,ue))return;const it=z(ue,ge);"string"!=typeof ue?(oe(ue,this._id),this._messageRegistry.set(it,{messageElement:ue,referenceCount:0})):this._messageRegistry.has(it)||this._createMessageElement(ue,ge),this._isElementDescribedByMessage(Se,it)||this._addMessageReference(Se,it)}removeDescription(Se,ue,ge){if(!ue||!this._isElementNode(Se))return;const it=z(ue,ge);if(this._isElementDescribedByMessage(Se,it)&&this._removeMessageReference(Se,it),"string"==typeof ue){const pt=this._messageRegistry.get(it);pt&&0===pt.referenceCount&&this._deleteMessageElement(it)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Se=this._document.querySelectorAll(`[${re}="${this._id}"]`);for(let ue=0;ue<Se.length;ue++)this._removeCdkDescribedByReferenceIds(Se[ue]),Se[ue].removeAttribute(re);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Se,ue){const ge=this._document.createElement("div");oe(ge,this._id),ge.textContent=Se,ue&&ge.setAttribute("role",ue),this._createMessagesContainer(),this._messagesContainer.appendChild(ge),this._messageRegistry.set(z(Se,ue),{messageElement:ge,referenceCount:0})}_deleteMessageElement(Se){this._messageRegistry.get(Se)?.messageElement?.remove(),this._messageRegistry.delete(Se)}_createMessagesContainer(){if(this._messagesContainer)return;const Se="cdk-describedby-message-container",ue=this._document.querySelectorAll(`.${Se}[platform="server"]`);for(let it=0;it<ue.length;it++)ue[it].remove();const ge=this._document.createElement("div");ge.style.visibility="hidden",ge.classList.add(Se),ge.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ge.setAttribute("platform","server"),this._document.body.appendChild(ge),this._messagesContainer=ge}_removeCdkDescribedByReferenceIds(Se){const ue=C(Se,"aria-describedby").filter(ge=>0!=ge.indexOf(Y));Se.setAttribute("aria-describedby",ue.join(" "))}_addMessageReference(Se,ue){const ge=this._messageRegistry.get(ue);T(Se,"aria-describedby",ge.messageElement.id),Se.setAttribute(re,this._id),ge.referenceCount++}_removeMessageReference(Se,ue){const ge=this._messageRegistry.get(ue);ge.referenceCount--,N(Se,"aria-describedby",ge.messageElement.id),Se.removeAttribute(re)}_isElementDescribedByMessage(Se,ue){const ge=C(Se,"aria-describedby"),it=this._messageRegistry.get(ue),pt=it&&it.messageElement.id;return!!pt&&-1!=ge.indexOf(pt)}_canBeDescribed(Se,ue){if(!this._isElementNode(Se))return!1;if(ue&&"object"==typeof ue)return!0;const ge=null==ue?"":`${ue}`.trim(),it=Se.getAttribute("aria-label");return!(!ge||it&&it.trim()===ge)}_isElementNode(Se){return Se.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(e.K0),y.LFG(E.t4))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function z(nt,at){return"string"==typeof nt?`${at||""}/${nt}`:nt}function oe(nt,at){nt.id||(nt.id=`${Y}-${at}-${ae++}`)}class H{constructor(at){this._items=at,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new R.x,this._typeaheadSubscription=b.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Se=>Se.disabled,this._pressedLetters=[],this.tabOut=new R.x,this.change=new R.x,at instanceof y.n_E&&(this._itemChangesSubscription=at.changes.subscribe(Se=>{if(this._activeItem){const ge=Se.toArray().indexOf(this._activeItem);ge>-1&&ge!==this._activeItemIndex&&(this._activeItemIndex=ge)}}))}skipPredicate(at){return this._skipPredicateFn=at,this}withWrap(at=!0){return this._wrap=at,this}withVerticalOrientation(at=!0){return this._vertical=at,this}withHorizontalOrientation(at){return this._horizontal=at,this}withAllowedModifierKeys(at){return this._allowedModifierKeys=at,this}withTypeAhead(at=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,m.b)(Se=>this._pressedLetters.push(Se)),(0,h.b)(at),(0,p.h)(()=>this._pressedLetters.length>0),(0,v.U)(()=>this._pressedLetters.join(""))).subscribe(Se=>{const ue=this._getItemsArray();for(let ge=1;ge<ue.length+1;ge++){const it=(this._activeItemIndex+ge)%ue.length,pt=ue[it];if(!this._skipPredicateFn(pt)&&0===pt.getLabel().toUpperCase().trim().indexOf(Se)){this.setActiveItem(it);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(at=!0){return this._homeAndEnd=at,this}withPageUpDown(at=!0,Se=10){return this._pageUpAndDown={enabled:at,delta:Se},this}setActiveItem(at){const Se=this._activeItem;this.updateActiveItem(at),this._activeItem!==Se&&this.change.next(this._activeItemIndex)}onKeydown(at){const Se=at.keyCode,ge=["altKey","ctrlKey","metaKey","shiftKey"].every(it=>!at[it]||this._allowedModifierKeys.indexOf(it)>-1);switch(Se){case S.Mf:return void this.tabOut.next();case S.JH:if(this._vertical&&ge){this.setNextItemActive();break}return;case S.LH:if(this._vertical&&ge){this.setPreviousItemActive();break}return;case S.SV:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case S.oh:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case S.Sd:if(this._homeAndEnd&&ge){this.setFirstItemActive();break}return;case S.uR:if(this._homeAndEnd&&ge){this.setLastItemActive();break}return;case S.Ku:if(this._pageUpAndDown.enabled&&ge){const it=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(it>0?it:0,1);break}return;case S.VM:if(this._pageUpAndDown.enabled&&ge){const it=this._activeItemIndex+this._pageUpAndDown.delta,pt=this._getItemsArray().length;this._setActiveItemByIndex(it<pt?it:pt-1,-1);break}return;default:return void((ge||(0,S.Vb)(at,"shiftKey"))&&(at.key&&1===at.key.length?this._letterKeyStream.next(at.key.toLocaleUpperCase()):(Se>=S.A&&Se<=S.Z||Se>=S.xE&&Se<=S.aO)&&this._letterKeyStream.next(String.fromCharCode(Se))))}this._pressedLetters=[],at.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(at){const Se=this._getItemsArray(),ue="number"==typeof at?at:Se.indexOf(at);this._activeItem=Se[ue]??null,this._activeItemIndex=ue}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(at){this._wrap?this._setActiveInWrapMode(at):this._setActiveInDefaultMode(at)}_setActiveInWrapMode(at){const Se=this._getItemsArray();for(let ue=1;ue<=Se.length;ue++){const ge=(this._activeItemIndex+at*ue+Se.length)%Se.length;if(!this._skipPredicateFn(Se[ge]))return void this.setActiveItem(ge)}}_setActiveInDefaultMode(at){this._setActiveItemByIndex(this._activeItemIndex+at,at)}_setActiveItemByIndex(at,Se){const ue=this._getItemsArray();if(ue[at]){for(;this._skipPredicateFn(ue[at]);)if(!ue[at+=Se])return;this.setActiveItem(at)}}_getItemsArray(){return this._items instanceof y.n_E?this._items.toArray():this._items}}class me extends H{setActiveItem(at){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(at),this.activeItem&&this.activeItem.setActiveStyles()}}let Ee=(()=>{class nt{constructor(Se){this._platform=Se}isDisabled(Se){return Se.hasAttribute("disabled")}isVisible(Se){return function se(nt){return!!(nt.offsetWidth||nt.offsetHeight||"function"==typeof nt.getClientRects&&nt.getClientRects().length)}(Se)&&"visible"===getComputedStyle(Se).visibility}isTabbable(Se){if(!this._platform.isBrowser)return!1;const ue=function Ae(nt){try{return nt.frameElement}catch{return null}}(function xe(nt){return nt.ownerDocument&&nt.ownerDocument.defaultView||window}(Se));if(ue&&(-1===Fe(ue)||!this.isVisible(ue)))return!1;let ge=Se.nodeName.toLowerCase(),it=Fe(Se);return Se.hasAttribute("contenteditable")?-1!==it:!("iframe"===ge||"object"===ge||this._platform.WEBKIT&&this._platform.IOS&&!function We(nt){let at=nt.nodeName.toLowerCase(),Se="input"===at&&nt.type;return"text"===Se||"password"===Se||"select"===at||"textarea"===at}(Se))&&("audio"===ge?!!Se.hasAttribute("controls")&&-1!==it:"video"===ge?-1!==it&&(null!==it||this._platform.FIREFOX||Se.hasAttribute("controls")):Se.tabIndex>=0)}isFocusable(Se,ue){return function Ue(nt){return!function Me(nt){return function Le(nt){return"input"==nt.nodeName.toLowerCase()}(nt)&&"hidden"==nt.type}(nt)&&(function De(nt){let at=nt.nodeName.toLowerCase();return"input"===at||"select"===at||"button"===at||"textarea"===at}(nt)||function _e(nt){return function Ie(nt){return"a"==nt.nodeName.toLowerCase()}(nt)&&nt.hasAttribute("href")}(nt)||nt.hasAttribute("contenteditable")||we(nt))}(Se)&&!this.isDisabled(Se)&&(ue?.ignoreVisibility||this.isVisible(Se))}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(E.t4))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function we(nt){if(!nt.hasAttribute("tabindex")||void 0===nt.tabIndex)return!1;let at=nt.getAttribute("tabindex");return!(!at||isNaN(parseInt(at,10)))}function Fe(nt){if(!we(nt))return null;const at=parseInt(nt.getAttribute("tabindex")||"",10);return isNaN(at)?-1:at}class be{get enabled(){return this._enabled}set enabled(at){this._enabled=at,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(at,this._startAnchor),this._toggleAnchorTabIndex(at,this._endAnchor))}constructor(at,Se,ue,ge,it=!1){this._element=at,this._checker=Se,this._ngZone=ue,this._document=ge,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,it||this.attachAnchors()}destroy(){const at=this._startAnchor,Se=this._endAnchor;at&&(at.removeEventListener("focus",this.startAnchorListener),at.remove()),Se&&(Se.removeEventListener("focus",this.endAnchorListener),Se.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(at){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusInitialElement(at)))})}focusFirstTabbableElementWhenReady(at){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusFirstTabbableElement(at)))})}focusLastTabbableElementWhenReady(at){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusLastTabbableElement(at)))})}_getRegionBoundary(at){const Se=this._element.querySelectorAll(`[cdk-focus-region-${at}], [cdkFocusRegion${at}], [cdk-focus-${at}]`);return"start"==at?Se.length?Se[0]:this._getFirstTabbableElement(this._element):Se.length?Se[Se.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(at){const Se=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Se){if(!this._checker.isFocusable(Se)){const ue=this._getFirstTabbableElement(Se);return ue?.focus(at),!!ue}return Se.focus(at),!0}return this.focusFirstTabbableElement(at)}focusFirstTabbableElement(at){const Se=this._getRegionBoundary("start");return Se&&Se.focus(at),!!Se}focusLastTabbableElement(at){const Se=this._getRegionBoundary("end");return Se&&Se.focus(at),!!Se}hasAttached(){return this._hasAttached}_getFirstTabbableElement(at){if(this._checker.isFocusable(at)&&this._checker.isTabbable(at))return at;const Se=at.children;for(let ue=0;ue<Se.length;ue++){const ge=Se[ue].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Se[ue]):null;if(ge)return ge}return null}_getLastTabbableElement(at){if(this._checker.isFocusable(at)&&this._checker.isTabbable(at))return at;const Se=at.children;for(let ue=Se.length-1;ue>=0;ue--){const ge=Se[ue].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Se[ue]):null;if(ge)return ge}return null}_createAnchor(){const at=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,at),at.classList.add("cdk-visually-hidden"),at.classList.add("cdk-focus-trap-anchor"),at.setAttribute("aria-hidden","true"),at}_toggleAnchorTabIndex(at,Se){at?Se.setAttribute("tabindex","0"):Se.removeAttribute("tabindex")}toggleAnchors(at){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(at,this._startAnchor),this._toggleAnchorTabIndex(at,this._endAnchor))}_executeOnStable(at){this._ngZone.isStable?at():this._ngZone.onStable.pipe((0,w.q)(1)).subscribe(at)}}let K=(()=>{class nt{constructor(Se,ue,ge){this._checker=Se,this._ngZone=ue,this._document=ge}create(Se,ue=!1){return new be(Se,this._checker,this._ngZone,this._document,ue)}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(Ee),y.LFG(y.R0b),y.LFG(e.K0))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),ie=(()=>{class nt{get enabled(){return this.focusTrap.enabled}set enabled(Se){this.focusTrap.enabled=(0,k.Ig)(Se)}get autoCapture(){return this._autoCapture}set autoCapture(Se){this._autoCapture=(0,k.Ig)(Se)}constructor(Se,ue,ge){this._elementRef=Se,this._focusTrapFactory=ue,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Se){const ue=Se.autoCapture;ue&&!ue.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,E.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.Y36(y.SBq),y.Y36(K),y.Y36(e.K0))};static#t=this.\u0275dir=y.lG2({type:nt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[y.TTD]})}return nt})();function X(nt){return 0===nt.buttons||0===nt.offsetX&&0===nt.offsetY}function J(nt){const at=nt.touches&&nt.touches[0]||nt.changedTouches&&nt.changedTouches[0];return!(!at||-1!==at.identifier||null!=at.radiusX&&1!==at.radiusX||null!=at.radiusY&&1!==at.radiusY)}const Q=new y.OlP("cdk-input-modality-detector-options"),de={ignoreKeys:[S.zL,S.jx,S.b2,S.MW,S.JU]},le=(0,E.i$)({passive:!0,capture:!0});let Te=(()=>{class nt{get mostRecentModality(){return this._modality.value}constructor(Se,ue,ge,it){this._platform=Se,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=pt=>{this._options?.ignoreKeys?.some(kt=>kt===pt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(pt))},this._onMousedown=pt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(X(pt)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(pt))},this._onTouchstart=pt=>{J(pt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(pt))},this._options={...de,...it},this.modalityDetected=this._modality.pipe((0,V.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,O.x)()),Se.isBrowser&&ue.runOutsideAngular(()=>{ge.addEventListener("keydown",this._onKeydown,le),ge.addEventListener("mousedown",this._onMousedown,le),ge.addEventListener("touchstart",this._onTouchstart,le)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,le),document.removeEventListener("mousedown",this._onMousedown,le),document.removeEventListener("touchstart",this._onTouchstart,le))}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(E.t4),y.LFG(y.R0b),y.LFG(e.K0),y.LFG(Q,8))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const Ve=new y.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ke(){return null}}),Ze=new y.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qe=0,He=(()=>{class nt{constructor(Se,ue,ge,it){this._ngZone=ue,this._defaultOptions=it,this._document=ge,this._liveElement=Se||this._createLiveElement()}announce(Se,...ue){const ge=this._defaultOptions;let it,pt;return 1===ue.length&&"number"==typeof ue[0]?pt=ue[0]:[it,pt]=ue,this.clear(),clearTimeout(this._previousTimeout),it||(it=ge&&ge.politeness?ge.politeness:"polite"),null==pt&&ge&&(pt=ge.duration),this._liveElement.setAttribute("aria-live",it),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(kt=>this._currentResolve=kt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Se,"number"==typeof pt&&(this._previousTimeout=setTimeout(()=>this.clear(),pt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Se="cdk-live-announcer-element",ue=this._document.getElementsByClassName(Se),ge=this._document.createElement("div");for(let it=0;it<ue.length;it++)ue[it].remove();return ge.classList.add(Se),ge.classList.add("cdk-visually-hidden"),ge.setAttribute("aria-atomic","true"),ge.setAttribute("aria-live","polite"),ge.id="cdk-live-announcer-"+qe++,this._document.body.appendChild(ge),ge}_exposeAnnouncerToModals(Se){const ue=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ge=0;ge<ue.length;ge++){const it=ue[ge],pt=it.getAttribute("aria-owns");pt?-1===pt.indexOf(Se)&&it.setAttribute("aria-owns",pt+" "+Se):it.setAttribute("aria-owns",Se)}}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(Ve,8),y.LFG(y.R0b),y.LFG(e.K0),y.LFG(Ze,8))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const yt=new y.OlP("cdk-focus-monitor-default-options"),ut=(0,E.i$)({passive:!0,capture:!0});let Ct=(()=>{class nt{constructor(Se,ue,ge,it,pt){this._ngZone=Se,this._platform=ue,this._inputModalityDetector=ge,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new R.x,this._rootNodeFocusAndBlurListener=kt=>{for(let Kt=(0,E.sA)(kt);Kt;Kt=Kt.parentElement)"focus"===kt.type?this._onFocus(kt,Kt):this._onBlur(kt,Kt)},this._document=it,this._detectionMode=pt?.detectionMode||0}monitor(Se,ue=!1){const ge=(0,k.fI)(Se);if(!this._platform.isBrowser||1!==ge.nodeType)return(0,L.of)();const it=(0,E.kV)(ge)||this._getDocument(),pt=this._elementInfo.get(ge);if(pt)return ue&&(pt.checkChildren=!0),pt.subject;const kt={checkChildren:ue,subject:new R.x,rootNode:it};return this._elementInfo.set(ge,kt),this._registerGlobalListeners(kt),kt.subject}stopMonitoring(Se){const ue=(0,k.fI)(Se),ge=this._elementInfo.get(ue);ge&&(ge.subject.complete(),this._setClasses(ue),this._elementInfo.delete(ue),this._removeGlobalListeners(ge))}focusVia(Se,ue,ge){const it=(0,k.fI)(Se);it===this._getDocument().activeElement?this._getClosestElementsInfo(it).forEach(([kt,Bt])=>this._originChanged(kt,ue,Bt)):(this._setOrigin(ue),"function"==typeof it.focus&&it.focus(ge))}ngOnDestroy(){this._elementInfo.forEach((Se,ue)=>this.stopMonitoring(ue))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Se){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Se)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Se&&this._isLastInteractionFromInputLabel(Se)?"mouse":"program"}_shouldBeAttributedToTouch(Se){return 1===this._detectionMode||!!Se?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Se,ue){Se.classList.toggle("cdk-focused",!!ue),Se.classList.toggle("cdk-touch-focused","touch"===ue),Se.classList.toggle("cdk-keyboard-focused","keyboard"===ue),Se.classList.toggle("cdk-mouse-focused","mouse"===ue),Se.classList.toggle("cdk-program-focused","program"===ue)}_setOrigin(Se,ue=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Se,this._originFromTouchInteraction="touch"===Se&&ue,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Se,ue){const ge=this._elementInfo.get(ue),it=(0,E.sA)(Se);!ge||!ge.checkChildren&&ue!==it||this._originChanged(ue,this._getFocusOrigin(it),ge)}_onBlur(Se,ue){const ge=this._elementInfo.get(ue);!ge||ge.checkChildren&&Se.relatedTarget instanceof Node&&ue.contains(Se.relatedTarget)||(this._setClasses(ue),this._emitOrigin(ge,null))}_emitOrigin(Se,ue){Se.subject.observers.length&&this._ngZone.run(()=>Se.subject.next(ue))}_registerGlobalListeners(Se){if(!this._platform.isBrowser)return;const ue=Se.rootNode,ge=this._rootNodeFocusListenerCount.get(ue)||0;ge||this._ngZone.runOutsideAngular(()=>{ue.addEventListener("focus",this._rootNodeFocusAndBlurListener,ut),ue.addEventListener("blur",this._rootNodeFocusAndBlurListener,ut)}),this._rootNodeFocusListenerCount.set(ue,ge+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,G.R)(this._stopInputModalityDetector)).subscribe(it=>{this._setOrigin(it,!0)}))}_removeGlobalListeners(Se){const ue=Se.rootNode;if(this._rootNodeFocusListenerCount.has(ue)){const ge=this._rootNodeFocusListenerCount.get(ue);ge>1?this._rootNodeFocusListenerCount.set(ue,ge-1):(ue.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ut),ue.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ut),this._rootNodeFocusListenerCount.delete(ue))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Se,ue,ge){this._setClasses(Se,ue),this._emitOrigin(ge,ue),this._lastFocusOrigin=ue}_getClosestElementsInfo(Se){const ue=[];return this._elementInfo.forEach((ge,it)=>{(it===Se||ge.checkChildren&&it.contains(Se))&&ue.push([it,ge])}),ue}_isLastInteractionFromInputLabel(Se){const{_mostRecentTarget:ue,mostRecentModality:ge}=this._inputModalityDetector;if("mouse"!==ge||!ue||ue===Se||"INPUT"!==Se.nodeName&&"TEXTAREA"!==Se.nodeName||Se.disabled)return!1;const it=Se.labels;if(it)for(let pt=0;pt<it.length;pt++)if(it[pt].contains(ue))return!0;return!1}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(y.R0b),y.LFG(E.t4),y.LFG(Te),y.LFG(e.K0,8),y.LFG(yt,8))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),Ot=(()=>{class nt{constructor(Se,ue){this._elementRef=Se,this._focusMonitor=ue,this._focusOrigin=null,this.cdkFocusChange=new y.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Se=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Se,1===Se.nodeType&&Se.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ue=>{this._focusOrigin=ue,this.cdkFocusChange.emit(ue)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.Y36(y.SBq),y.Y36(Ct))};static#t=this.\u0275dir=y.lG2({type:nt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return nt})();const It="cdk-high-contrast-black-on-white",Gt="cdk-high-contrast-white-on-black",Xt="cdk-high-contrast-active";let cn=(()=>{class nt{constructor(Se,ue){this._platform=Se,this._document=ue,this._breakpointSubscription=(0,y.f3M)(x.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Se=this._document.createElement("div");Se.style.backgroundColor="rgb(1,2,3)",Se.style.position="absolute",this._document.body.appendChild(Se);const ue=this._document.defaultView||window,ge=ue&&ue.getComputedStyle?ue.getComputedStyle(Se):null,it=(ge&&ge.backgroundColor||"").replace(/ /g,"");switch(Se.remove(),it){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Se=this._document.body.classList;Se.remove(Xt,It,Gt),this._hasCheckedHighContrastMode=!0;const ue=this.getHighContrastMode();1===ue?Se.add(Xt,It):2===ue&&Se.add(Xt,Gt)}}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(E.t4),y.LFG(e.K0))};static#t=this.\u0275prov=y.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),Rn=(()=>{class nt{constructor(Se){Se._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ue){return new(ue||nt)(y.LFG(cn))};static#t=this.\u0275mod=y.oAB({type:nt});static#n=this.\u0275inj=y.cJS({imports:[P.Q8]})}return nt})()},9388:(bn,Ye,M)=>{"use strict";M.d(Ye,{Is:()=>L,vT:()=>m});var e=M(5879),y=M(6814);const E=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function R(){return(0,e.f3M)(y.K0)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class h{constructor(v){this.value="ltr",this.change=new e.vpe,v&&(this.value=function F(h){const p=h?.toLowerCase()||"";return"auto"===p&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===p?"rtl":"ltr"}((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(w){return new(w||h)(e.LFG(E,8))};static#t=this.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),m=(()=>{class h{static#e=this.\u0275fac=function(w){return new(w||h)};static#t=this.\u0275mod=e.oAB({type:h});static#n=this.\u0275inj=e.cJS({})}return h})()},2495:(bn,Ye,M)=>{"use strict";M.d(Ye,{Eq:()=>b,HM:()=>F,Ig:()=>y,du:()=>S,fI:()=>L,su:()=>E,t6:()=>R});var e=M(5879);function y(m){return null!=m&&"false"!=`${m}`}function E(m,h=0){return R(m)?Number(m):h}function R(m){return!isNaN(parseFloat(m))&&!isNaN(Number(m))}function b(m){return Array.isArray(m)?m:[m]}function F(m){return null==m?"":"string"==typeof m?m:`${m}px`}function L(m){return m instanceof e.SBq?m.nativeElement:m}function S(m,h=/\s+/){const p=[];if(null!=m){const v=Array.isArray(m)?m:`${m}`.split(h);for(const w of v){const V=`${w}`.trim();V&&p.push(V)}}return p}},8337:(bn,Ye,M)=>{"use strict";M.d(Ye,{Ov:()=>m,Z9:()=>b,eX:()=>S,k:()=>v,o2:()=>R,yy:()=>L});var e=M(3168),y=M(8645),E=M(5879);class R{}function b(w){return w&&"function"==typeof w.connect&&!(w instanceof e.c)}class L{applyChanges(V,O,G,k,P){V.forEachOperation((x,I,T)=>{let N,C;if(null==x.previousIndex){const B=G(x,I,T);N=O.createEmbeddedView(B.templateRef,B.context,B.index),C=1}else null==T?(O.remove(I),C=3):(N=O.get(I),O.move(N,T),C=2);P&&P({context:N?.context,operation:C,record:x})})}detach(){}}class S{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(V,O,G,k,P){V.forEachOperation((x,I,T)=>{let N,C;null==x.previousIndex?(N=this._insertView(()=>G(x,I,T),T,O,k(x)),C=N?1:0):null==T?(this._detachAndCacheView(I,O),C=3):(N=this._moveView(I,T,O,k(x)),C=2),P&&P({context:N?.context,operation:C,record:x})})}detach(){for(const V of this._viewCache)V.destroy();this._viewCache=[]}_insertView(V,O,G,k){const P=this._insertViewFromCache(O,G);if(P)return void(P.context.$implicit=k);const x=V();return G.createEmbeddedView(x.templateRef,x.context,x.index)}_detachAndCacheView(V,O){const G=O.detach(V);this._maybeCacheView(G,O)}_moveView(V,O,G,k){const P=G.get(V);return G.move(P,O),P.context.$implicit=k,P}_maybeCacheView(V,O){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(V);else{const G=O.indexOf(V);-1===G?V.destroy():O.remove(G)}}_insertViewFromCache(V,O){const G=this._viewCache.pop();return G&&O.insert(G,V),G||null}}class m{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(V=!1,O,G=!0,k){this._multiple=V,this._emitChanges=G,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new y.x,O&&O.length&&(V?O.forEach(P=>this._markSelected(P)):this._markSelected(O[0]),this._selectedToEmit.length=0)}select(...V){this._verifyValueAssignment(V),V.forEach(G=>this._markSelected(G));const O=this._hasQueuedChanges();return this._emitChangeEvent(),O}deselect(...V){this._verifyValueAssignment(V),V.forEach(G=>this._unmarkSelected(G));const O=this._hasQueuedChanges();return this._emitChangeEvent(),O}setSelection(...V){this._verifyValueAssignment(V);const O=this.selected,G=new Set(V);V.forEach(P=>this._markSelected(P)),O.filter(P=>!G.has(P)).forEach(P=>this._unmarkSelected(P));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(V){return this.isSelected(V)?this.deselect(V):this.select(V)}clear(V=!0){this._unmarkAll();const O=this._hasQueuedChanges();return V&&this._emitChangeEvent(),O}isSelected(V){return this._selection.has(this._getConcreteValue(V))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(V){this._multiple&&this.selected&&this._selected.sort(V)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(V){V=this._getConcreteValue(V),this.isSelected(V)||(this._multiple||this._unmarkAll(),this.isSelected(V)||this._selection.add(V),this._emitChanges&&this._selectedToEmit.push(V))}_unmarkSelected(V){V=this._getConcreteValue(V),this.isSelected(V)&&(this._selection.delete(V),this._emitChanges&&this._deselectedToEmit.push(V))}_unmarkAll(){this.isEmpty()||this._selection.forEach(V=>this._unmarkSelected(V))}_verifyValueAssignment(V){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(V){if(this.compareWith){for(let O of this._selection)if(this.compareWith(V,O))return O;return V}return V}}const v=new E.OlP("_ViewRepeater")},6028:(bn,Ye,M)=>{"use strict";M.d(Ye,{A:()=>Me,JH:()=>I,JU:()=>F,K5:()=>b,Ku:()=>w,LH:()=>P,L_:()=>v,MW:()=>Ze,Mf:()=>E,SV:()=>x,Sd:()=>G,VM:()=>V,Vb:()=>$e,Z:()=>ke,aO:()=>fe,b2:()=>tt,hY:()=>p,jx:()=>L,oh:()=>k,uR:()=>O,xE:()=>Y,zL:()=>S});const E=9,b=13,F=16,L=17,S=18,p=27,v=32,w=33,V=34,O=35,G=36,k=37,P=38,x=39,I=40,Y=48,fe=57,Me=65,ke=90,Ze=91,tt=224;function $e(vt,...jt){return jt.length?jt.some(Pn=>vt[Pn]):vt.altKey||vt.shiftKey||vt.ctrlKey||vt.metaKey}},1088:(bn,Ye,M)=>{"use strict";M.d(Ye,{Yg:()=>I,u3:()=>N});var e=M(5879),y=M(2495),E=M(8645),R=M(2572),b=M(5211),F=M(5592),L=M(8180),S=M(836),m=M(3620),h=M(7398),p=M(7921),v=M(9773),w=M(2831);const O=new Set;let G,k=(()=>{class C{constructor(Y,re){this._platform=Y,this._nonce=re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function P(C,B){if(!O.has(C))try{G||(G=document.createElement("style"),B&&(G.nonce=B),G.setAttribute("type","text/css"),document.head.appendChild(G)),G.sheet&&(G.sheet.insertRule(`@media ${C} {body{ }}`,0),O.add(C))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(re){return new(re||C)(e.LFG(w.t4),e.LFG(e.Ojb,8))};static#t=this.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function x(C){return{matches:"all"===C||""===C,media:C,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class C{constructor(Y,re){this._mediaMatcher=Y,this._zone=re,this._queries=new Map,this._destroySubject=new E.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return T((0,y.Eq)(Y)).some(ae=>this._registerQuery(ae).mql.matches)}observe(Y){const ae=T((0,y.Eq)(Y)).map(z=>this._registerQuery(z).observable);let Oe=(0,R.a)(ae);return Oe=(0,b.z)(Oe.pipe((0,L.q)(1)),Oe.pipe((0,S.T)(1),(0,m.b)(0))),Oe.pipe((0,h.U)(z=>{const oe={matches:!1,breakpoints:{}};return z.forEach(({matches:H,query:me})=>{oe.matches=oe.matches||H,oe.breakpoints[me]=H}),oe}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const re=this._mediaMatcher.matchMedia(Y),Oe={observable:new F.y(z=>{const oe=H=>this._zone.run(()=>z.next(H));return re.addListener(oe),()=>{re.removeListener(oe)}}).pipe((0,p.O)(re),(0,h.U)(({matches:z})=>({query:Y,matches:z})),(0,v.R)(this._destroySubject)),mql:re};return this._queries.set(Y,Oe),Oe}static#e=this.\u0275fac=function(re){return new(re||C)(e.LFG(k),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function T(C){return C.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(bn,Ye,M)=>{"use strict";M.d(Ye,{Q8:()=>b});var e=M(5879);let y=(()=>{class F{create(S){return typeof MutationObserver>"u"?null:new MutationObserver(S)}static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275prov=e.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),b=(()=>{class F{static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275mod=e.oAB({type:F});static#n=this.\u0275inj=e.cJS({providers:[y]})}return F})()},3651:(bn,Ye,M)=>{"use strict";M.d(Ye,{pI:()=>W,xu:()=>$,_G:()=>_e,aV:()=>ie,X_:()=>ae,Xj:()=>Ae,U8:()=>J,Iu:()=>se});var e=M(799),y=M(6814),E=M(5879),R=M(2495),b=M(2831),F=M(2181),L=M(8180),S=M(9773),m=M(9360),h=M(8251),v=M(9388),w=M(8484),V=M(8645),O=M(7394),G=M(3019),k=M(6028);const P=(0,b.Mq)();class x{constructor(pe,le){this._viewportRuler=pe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=le}attach(){}enable(){if(this._canBeEnabled()){const pe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=pe.style.left||"",this._previousHTMLStyles.top=pe.style.top||"",pe.style.left=(0,R.HM)(-this._previousScrollPosition.left),pe.style.top=(0,R.HM)(-this._previousScrollPosition.top),pe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const pe=this._document.documentElement,Te=pe.style,Ve=this._document.body.style,ke=Te.scrollBehavior||"",Ze=Ve.scrollBehavior||"";this._isEnabled=!1,Te.left=this._previousHTMLStyles.left,Te.top=this._previousHTMLStyles.top,pe.classList.remove("cdk-global-scrollblock"),P&&(Te.scrollBehavior=Ve.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),P&&(Te.scrollBehavior=ke,Ve.scrollBehavior=Ze)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const le=this._document.body,Te=this._viewportRuler.getViewportSize();return le.scrollHeight>Te.height||le.scrollWidth>Te.width}}class T{constructor(pe,le,Te,Ve){this._scrollDispatcher=pe,this._ngZone=le,this._viewportRuler=Te,this._config=Ve,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(pe){this._overlayRef=pe}enable(){if(this._scrollSubscription)return;const pe=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(le=>!le||!this._overlayRef.overlayElement.contains(le.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=pe.subscribe(()=>{const le=this._viewportRuler.getViewportScrollPosition().top;Math.abs(le-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=pe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function C(de,pe){return pe.some(le=>de.bottom<le.top||de.top>le.bottom||de.right<le.left||de.left>le.right)}function B(de,pe){return pe.some(le=>de.top<le.top||de.bottom>le.bottom||de.left<le.left||de.right>le.right)}class Y{constructor(pe,le,Te,Ve){this._scrollDispatcher=pe,this._viewportRuler=le,this._ngZone=Te,this._config=Ve,this._scrollSubscription=null}attach(pe){this._overlayRef=pe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const le=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Te,height:Ve}=this._viewportRuler.getViewportSize();C(le,[{width:Te,height:Ve,bottom:Ve,right:Te,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let re=(()=>{class de{constructor(le,Te,Ve,ke){this._scrollDispatcher=le,this._viewportRuler=Te,this._ngZone=Ve,this.noop=()=>new N,this.close=Ze=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ze),this.block=()=>new x(this._viewportRuler,this._document),this.reposition=Ze=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ze),this._document=ke}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(e.mF),E.LFG(e.rL),E.LFG(E.R0b),E.LFG(y.K0))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class ae{constructor(pe){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,pe){const le=Object.keys(pe);for(const Te of le)void 0!==pe[Te]&&(this[Te]=pe[Te])}}}class oe{constructor(pe,le){this.connectionPair=pe,this.scrollableViewProperties=le}}let ne=(()=>{class de{constructor(le){this._attachedOverlays=[],this._document=le}ngOnDestroy(){this.detach()}add(le){this.remove(le),this._attachedOverlays.push(le)}remove(le){const Te=this._attachedOverlays.indexOf(le);Te>-1&&this._attachedOverlays.splice(Te,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(y.K0))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),fe=(()=>{class de extends ne{constructor(le,Te){super(le),this._ngZone=Te,this._keydownListener=Ve=>{const ke=this._attachedOverlays;for(let Ze=ke.length-1;Ze>-1;Ze--)if(ke[Ze]._keydownEvents.observers.length>0){const qe=ke[Ze]._keydownEvents;this._ngZone?this._ngZone.run(()=>qe.next(Ve)):qe.next(Ve);break}}}add(le){super.add(le),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(y.K0),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Ee=(()=>{class de extends ne{constructor(le,Te,Ve){super(le),this._platform=Te,this._ngZone=Ve,this._cursorStyleIsSet=!1,this._pointerDownListener=ke=>{this._pointerDownEventTarget=(0,b.sA)(ke)},this._clickListener=ke=>{const Ze=(0,b.sA)(ke),qe="click"===ke.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ze;this._pointerDownEventTarget=null;const He=this._attachedOverlays.slice();for(let ot=He.length-1;ot>-1;ot--){const yt=He[ot];if(yt._outsidePointerEvents.observers.length<1||!yt.hasAttached())continue;if(yt.overlayElement.contains(Ze)||yt.overlayElement.contains(qe))break;const ut=yt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ut.next(ke)):ut.next(ke)}}}add(le){if(super.add(le),!this._isAttached){const Te=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Te)):this._addEventListeners(Te),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Te.style.cursor,Te.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const le=this._document.body;le.removeEventListener("pointerdown",this._pointerDownListener,!0),le.removeEventListener("click",this._clickListener,!0),le.removeEventListener("auxclick",this._clickListener,!0),le.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(le.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(le){le.addEventListener("pointerdown",this._pointerDownListener,!0),le.addEventListener("click",this._clickListener,!0),le.addEventListener("auxclick",this._clickListener,!0),le.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(y.K0),E.LFG(b.t4),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Ae=(()=>{class de{constructor(le,Te){this._platform=Te,this._document=le}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const le="cdk-overlay-container";if(this._platform.isBrowser||(0,b.Oy)()){const Ve=this._document.querySelectorAll(`.${le}[platform="server"], .${le}[platform="test"]`);for(let ke=0;ke<Ve.length;ke++)Ve[ke].remove()}const Te=this._document.createElement("div");Te.classList.add(le),(0,b.Oy)()?Te.setAttribute("platform","test"):this._platform.isBrowser||Te.setAttribute("platform","server"),this._document.body.appendChild(Te),this._containerElement=Te}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(y.K0),E.LFG(b.t4))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class se{constructor(pe,le,Te,Ve,ke,Ze,qe,He,ot,yt=!1){this._portalOutlet=pe,this._host=le,this._pane=Te,this._config=Ve,this._ngZone=ke,this._keyboardDispatcher=Ze,this._document=qe,this._location=He,this._outsideClickDispatcher=ot,this._animationsDisabled=yt,this._backdropElement=null,this._backdropClick=new V.x,this._attachments=new V.x,this._detachments=new V.x,this._locationChanges=O.w0.EMPTY,this._backdropClickHandler=ut=>this._backdropClick.next(ut),this._backdropTransitionendHandler=ut=>{this._disposeBackdrop(ut.target)},this._keydownEvents=new V.x,this._outsidePointerEvents=new V.x,Ve.scrollStrategy&&(this._scrollStrategy=Ve.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ve.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(pe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const le=this._portalOutlet.attach(pe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof le?.onDestroy&&le.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),le}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const pe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),pe}dispose(){const pe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,pe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(pe){pe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=pe,this.hasAttached()&&(pe.attach(this),this.updatePosition()))}updateSize(pe){this._config={...this._config,...pe},this._updateElementSize()}setDirection(pe){this._config={...this._config,direction:pe},this._updateElementDirection()}addPanelClass(pe){this._pane&&this._toggleClasses(this._pane,pe,!0)}removePanelClass(pe){this._pane&&this._toggleClasses(this._pane,pe,!1)}getDirection(){const pe=this._config.direction;return pe?"string"==typeof pe?pe:pe.value:"ltr"}updateScrollStrategy(pe){pe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=pe,this.hasAttached()&&(pe.attach(this),pe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const pe=this._pane.style;pe.width=(0,R.HM)(this._config.width),pe.height=(0,R.HM)(this._config.height),pe.minWidth=(0,R.HM)(this._config.minWidth),pe.minHeight=(0,R.HM)(this._config.minHeight),pe.maxWidth=(0,R.HM)(this._config.maxWidth),pe.maxHeight=(0,R.HM)(this._config.maxHeight)}_togglePointerEvents(pe){this._pane.style.pointerEvents=pe?"":"none"}_attachBackdrop(){const pe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(pe)})}):this._backdropElement.classList.add(pe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const pe=this._backdropElement;if(pe){if(this._animationsDisabled)return void this._disposeBackdrop(pe);pe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{pe.addEventListener("transitionend",this._backdropTransitionendHandler)}),pe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(pe)},500))}}_toggleClasses(pe,le,Te){const Ve=(0,R.Eq)(le||[]).filter(ke=>!!ke);Ve.length&&(Te?pe.classList.add(...Ve):pe.classList.remove(...Ve))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const pe=this._ngZone.onStable.pipe((0,S.R)((0,G.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),pe.unsubscribe())})})}_disposeScrollStrategy(){const pe=this._scrollStrategy;pe&&(pe.disable(),pe.detach&&pe.detach())}_disposeBackdrop(pe){pe&&(pe.removeEventListener("click",this._backdropClickHandler),pe.removeEventListener("transitionend",this._backdropTransitionendHandler),pe.remove(),this._backdropElement===pe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const De="cdk-overlay-connected-position-bounding-box",Me=/([A-Za-z%]+)$/;class _e{get positions(){return this._preferredPositions}constructor(pe,le,Te,Ve,ke){this._viewportRuler=le,this._document=Te,this._platform=Ve,this._overlayContainer=ke,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V.x,this._resizeSubscription=O.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(pe)}attach(pe){this._validatePositions(),pe.hostElement.classList.add(De),this._overlayRef=pe,this._boundingBox=pe.hostElement,this._pane=pe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const pe=this._originRect,le=this._overlayRect,Te=this._viewportRect,Ve=this._containerRect,ke=[];let Ze;for(let qe of this._preferredPositions){let He=this._getOriginPoint(pe,Ve,qe),ot=this._getOverlayPoint(He,le,qe),yt=this._getOverlayFit(ot,le,Te,qe);if(yt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(qe,He);this._canFitWithFlexibleDimensions(yt,ot,Te)?ke.push({position:qe,origin:He,overlayRect:le,boundingBoxRect:this._calculateBoundingBoxRect(He,qe)}):(!Ze||Ze.overlayFit.visibleArea<yt.visibleArea)&&(Ze={overlayFit:yt,overlayPoint:ot,originPoint:He,position:qe,overlayRect:le})}if(ke.length){let qe=null,He=-1;for(const ot of ke){const yt=ot.boundingBoxRect.width*ot.boundingBoxRect.height*(ot.position.weight||1);yt>He&&(He=yt,qe=ot)}return this._isPushed=!1,void this._applyPosition(qe.position,qe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ze.position,Ze.originPoint);this._applyPosition(Ze.position,Ze.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Le(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(De),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const pe=this._lastPosition;if(pe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const le=this._getOriginPoint(this._originRect,this._containerRect,pe);this._applyPosition(pe,le)}else this.apply()}withScrollableContainers(pe){return this._scrollables=pe,this}withPositions(pe){return this._preferredPositions=pe,-1===pe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(pe){return this._viewportMargin=pe,this}withFlexibleDimensions(pe=!0){return this._hasFlexibleDimensions=pe,this}withGrowAfterOpen(pe=!0){return this._growAfterOpen=pe,this}withPush(pe=!0){return this._canPush=pe,this}withLockedPosition(pe=!0){return this._positionLocked=pe,this}setOrigin(pe){return this._origin=pe,this}withDefaultOffsetX(pe){return this._offsetX=pe,this}withDefaultOffsetY(pe){return this._offsetY=pe,this}withTransformOriginOn(pe){return this._transformOriginSelector=pe,this}_getOriginPoint(pe,le,Te){let Ve,ke;if("center"==Te.originX)Ve=pe.left+pe.width/2;else{const Ze=this._isRtl()?pe.right:pe.left,qe=this._isRtl()?pe.left:pe.right;Ve="start"==Te.originX?Ze:qe}return le.left<0&&(Ve-=le.left),ke="center"==Te.originY?pe.top+pe.height/2:"top"==Te.originY?pe.top:pe.bottom,le.top<0&&(ke-=le.top),{x:Ve,y:ke}}_getOverlayPoint(pe,le,Te){let Ve,ke;return Ve="center"==Te.overlayX?-le.width/2:"start"===Te.overlayX?this._isRtl()?-le.width:0:this._isRtl()?0:-le.width,ke="center"==Te.overlayY?-le.height/2:"top"==Te.overlayY?0:-le.height,{x:pe.x+Ve,y:pe.y+ke}}_getOverlayFit(pe,le,Te,Ve){const ke=we(le);let{x:Ze,y:qe}=pe,He=this._getOffset(Ve,"x"),ot=this._getOffset(Ve,"y");He&&(Ze+=He),ot&&(qe+=ot);let Ct=0-qe,Ot=qe+ke.height-Te.height,It=this._subtractOverflows(ke.width,0-Ze,Ze+ke.width-Te.width),Gt=this._subtractOverflows(ke.height,Ct,Ot),Xt=It*Gt;return{visibleArea:Xt,isCompletelyWithinViewport:ke.width*ke.height===Xt,fitsInViewportVertically:Gt===ke.height,fitsInViewportHorizontally:It==ke.width}}_canFitWithFlexibleDimensions(pe,le,Te){if(this._hasFlexibleDimensions){const Ve=Te.bottom-le.y,ke=Te.right-le.x,Ze=Ie(this._overlayRef.getConfig().minHeight),qe=Ie(this._overlayRef.getConfig().minWidth);return(pe.fitsInViewportVertically||null!=Ze&&Ze<=Ve)&&(pe.fitsInViewportHorizontally||null!=qe&&qe<=ke)}return!1}_pushOverlayOnScreen(pe,le,Te){if(this._previousPushAmount&&this._positionLocked)return{x:pe.x+this._previousPushAmount.x,y:pe.y+this._previousPushAmount.y};const Ve=we(le),ke=this._viewportRect,Ze=Math.max(pe.x+Ve.width-ke.width,0),qe=Math.max(pe.y+Ve.height-ke.height,0),He=Math.max(ke.top-Te.top-pe.y,0),ot=Math.max(ke.left-Te.left-pe.x,0);let yt=0,ut=0;return yt=Ve.width<=ke.width?ot||-Ze:pe.x<this._viewportMargin?ke.left-Te.left-pe.x:0,ut=Ve.height<=ke.height?He||-qe:pe.y<this._viewportMargin?ke.top-Te.top-pe.y:0,this._previousPushAmount={x:yt,y:ut},{x:pe.x+yt,y:pe.y+ut}}_applyPosition(pe,le){if(this._setTransformOrigin(pe),this._setOverlayElementStyles(le,pe),this._setBoundingBoxStyles(le,pe),pe.panelClass&&this._addPanelClasses(pe.panelClass),this._lastPosition=pe,this._positionChanges.observers.length){const Te=this._getScrollVisibility(),Ve=new oe(pe,Te);this._positionChanges.next(Ve)}this._isInitialRender=!1}_setTransformOrigin(pe){if(!this._transformOriginSelector)return;const le=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Te,Ve=pe.overlayY;Te="center"===pe.overlayX?"center":this._isRtl()?"start"===pe.overlayX?"right":"left":"start"===pe.overlayX?"left":"right";for(let ke=0;ke<le.length;ke++)le[ke].style.transformOrigin=`${Te} ${Ve}`}_calculateBoundingBoxRect(pe,le){const Te=this._viewportRect,Ve=this._isRtl();let ke,Ze,qe,yt,ut,Ct;if("top"===le.overlayY)Ze=pe.y,ke=Te.height-Ze+this._viewportMargin;else if("bottom"===le.overlayY)qe=Te.height-pe.y+2*this._viewportMargin,ke=Te.height-qe+this._viewportMargin;else{const Ot=Math.min(Te.bottom-pe.y+Te.top,pe.y),It=this._lastBoundingBoxSize.height;ke=2*Ot,Ze=pe.y-Ot,ke>It&&!this._isInitialRender&&!this._growAfterOpen&&(Ze=pe.y-It/2)}if("end"===le.overlayX&&!Ve||"start"===le.overlayX&&Ve)Ct=Te.width-pe.x+this._viewportMargin,yt=pe.x-this._viewportMargin;else if("start"===le.overlayX&&!Ve||"end"===le.overlayX&&Ve)ut=pe.x,yt=Te.right-pe.x;else{const Ot=Math.min(Te.right-pe.x+Te.left,pe.x),It=this._lastBoundingBoxSize.width;yt=2*Ot,ut=pe.x-Ot,yt>It&&!this._isInitialRender&&!this._growAfterOpen&&(ut=pe.x-It/2)}return{top:Ze,left:ut,bottom:qe,right:Ct,width:yt,height:ke}}_setBoundingBoxStyles(pe,le){const Te=this._calculateBoundingBoxRect(pe,le);!this._isInitialRender&&!this._growAfterOpen&&(Te.height=Math.min(Te.height,this._lastBoundingBoxSize.height),Te.width=Math.min(Te.width,this._lastBoundingBoxSize.width));const Ve={};if(this._hasExactPosition())Ve.top=Ve.left="0",Ve.bottom=Ve.right=Ve.maxHeight=Ve.maxWidth="",Ve.width=Ve.height="100%";else{const ke=this._overlayRef.getConfig().maxHeight,Ze=this._overlayRef.getConfig().maxWidth;Ve.height=(0,R.HM)(Te.height),Ve.top=(0,R.HM)(Te.top),Ve.bottom=(0,R.HM)(Te.bottom),Ve.width=(0,R.HM)(Te.width),Ve.left=(0,R.HM)(Te.left),Ve.right=(0,R.HM)(Te.right),Ve.alignItems="center"===le.overlayX?"center":"end"===le.overlayX?"flex-end":"flex-start",Ve.justifyContent="center"===le.overlayY?"center":"bottom"===le.overlayY?"flex-end":"flex-start",ke&&(Ve.maxHeight=(0,R.HM)(ke)),Ze&&(Ve.maxWidth=(0,R.HM)(Ze))}this._lastBoundingBoxSize=Te,Le(this._boundingBox.style,Ve)}_resetBoundingBoxStyles(){Le(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Le(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(pe,le){const Te={},Ve=this._hasExactPosition(),ke=this._hasFlexibleDimensions,Ze=this._overlayRef.getConfig();if(Ve){const yt=this._viewportRuler.getViewportScrollPosition();Le(Te,this._getExactOverlayY(le,pe,yt)),Le(Te,this._getExactOverlayX(le,pe,yt))}else Te.position="static";let qe="",He=this._getOffset(le,"x"),ot=this._getOffset(le,"y");He&&(qe+=`translateX(${He}px) `),ot&&(qe+=`translateY(${ot}px)`),Te.transform=qe.trim(),Ze.maxHeight&&(Ve?Te.maxHeight=(0,R.HM)(Ze.maxHeight):ke&&(Te.maxHeight="")),Ze.maxWidth&&(Ve?Te.maxWidth=(0,R.HM)(Ze.maxWidth):ke&&(Te.maxWidth="")),Le(this._pane.style,Te)}_getExactOverlayY(pe,le,Te){let Ve={top:"",bottom:""},ke=this._getOverlayPoint(le,this._overlayRect,pe);return this._isPushed&&(ke=this._pushOverlayOnScreen(ke,this._overlayRect,Te)),"bottom"===pe.overlayY?Ve.bottom=this._document.documentElement.clientHeight-(ke.y+this._overlayRect.height)+"px":Ve.top=(0,R.HM)(ke.y),Ve}_getExactOverlayX(pe,le,Te){let Ze,Ve={left:"",right:""},ke=this._getOverlayPoint(le,this._overlayRect,pe);return this._isPushed&&(ke=this._pushOverlayOnScreen(ke,this._overlayRect,Te)),Ze=this._isRtl()?"end"===pe.overlayX?"left":"right":"end"===pe.overlayX?"right":"left","right"===Ze?Ve.right=this._document.documentElement.clientWidth-(ke.x+this._overlayRect.width)+"px":Ve.left=(0,R.HM)(ke.x),Ve}_getScrollVisibility(){const pe=this._getOriginRect(),le=this._pane.getBoundingClientRect(),Te=this._scrollables.map(Ve=>Ve.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(pe,Te),isOriginOutsideView:C(pe,Te),isOverlayClipped:B(le,Te),isOverlayOutsideView:C(le,Te)}}_subtractOverflows(pe,...le){return le.reduce((Te,Ve)=>Te-Math.max(Ve,0),pe)}_getNarrowedViewportRect(){const pe=this._document.documentElement.clientWidth,le=this._document.documentElement.clientHeight,Te=this._viewportRuler.getViewportScrollPosition();return{top:Te.top+this._viewportMargin,left:Te.left+this._viewportMargin,right:Te.left+pe-this._viewportMargin,bottom:Te.top+le-this._viewportMargin,width:pe-2*this._viewportMargin,height:le-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(pe,le){return"x"===le?null==pe.offsetX?this._offsetX:pe.offsetX:null==pe.offsetY?this._offsetY:pe.offsetY}_validatePositions(){}_addPanelClasses(pe){this._pane&&(0,R.Eq)(pe).forEach(le=>{""!==le&&-1===this._appliedPanelClasses.indexOf(le)&&(this._appliedPanelClasses.push(le),this._pane.classList.add(le))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(pe=>{this._pane.classList.remove(pe)}),this._appliedPanelClasses=[])}_getOriginRect(){const pe=this._origin;if(pe instanceof E.SBq)return pe.nativeElement.getBoundingClientRect();if(pe instanceof Element)return pe.getBoundingClientRect();const le=pe.width||0,Te=pe.height||0;return{top:pe.y,bottom:pe.y+Te,left:pe.x,right:pe.x+le,height:Te,width:le}}}function Le(de,pe){for(let le in pe)pe.hasOwnProperty(le)&&(de[le]=pe[le]);return de}function Ie(de){if("number"!=typeof de&&null!=de){const[pe,le]=de.split(Me);return le&&"px"!==le?null:parseFloat(pe)}return de||null}function we(de){return{top:Math.floor(de.top),right:Math.floor(de.right),bottom:Math.floor(de.bottom),left:Math.floor(de.left),width:Math.floor(de.width),height:Math.floor(de.height)}}const Ue="cdk-global-overlay-wrapper";class xe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(pe){const le=pe.getConfig();this._overlayRef=pe,this._width&&!le.width&&pe.updateSize({width:this._width}),this._height&&!le.height&&pe.updateSize({height:this._height}),pe.hostElement.classList.add(Ue),this._isDisposed=!1}top(pe=""){return this._bottomOffset="",this._topOffset=pe,this._alignItems="flex-start",this}left(pe=""){return this._xOffset=pe,this._xPosition="left",this}bottom(pe=""){return this._topOffset="",this._bottomOffset=pe,this._alignItems="flex-end",this}right(pe=""){return this._xOffset=pe,this._xPosition="right",this}start(pe=""){return this._xOffset=pe,this._xPosition="start",this}end(pe=""){return this._xOffset=pe,this._xPosition="end",this}width(pe=""){return this._overlayRef?this._overlayRef.updateSize({width:pe}):this._width=pe,this}height(pe=""){return this._overlayRef?this._overlayRef.updateSize({height:pe}):this._height=pe,this}centerHorizontally(pe=""){return this.left(pe),this._xPosition="center",this}centerVertically(pe=""){return this.top(pe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const pe=this._overlayRef.overlayElement.style,le=this._overlayRef.hostElement.style,Te=this._overlayRef.getConfig(),{width:Ve,height:ke,maxWidth:Ze,maxHeight:qe}=Te,He=!("100%"!==Ve&&"100vw"!==Ve||Ze&&"100%"!==Ze&&"100vw"!==Ze),ot=!("100%"!==ke&&"100vh"!==ke||qe&&"100%"!==qe&&"100vh"!==qe),yt=this._xPosition,ut=this._xOffset,Ct="rtl"===this._overlayRef.getConfig().direction;let Ot="",It="",Gt="";He?Gt="flex-start":"center"===yt?(Gt="center",Ct?It=ut:Ot=ut):Ct?"left"===yt||"end"===yt?(Gt="flex-end",Ot=ut):("right"===yt||"start"===yt)&&(Gt="flex-start",It=ut):"left"===yt||"start"===yt?(Gt="flex-start",Ot=ut):("right"===yt||"end"===yt)&&(Gt="flex-end",It=ut),pe.position=this._cssPosition,pe.marginLeft=He?"0":Ot,pe.marginTop=ot?"0":this._topOffset,pe.marginBottom=this._bottomOffset,pe.marginRight=He?"0":It,le.justifyContent=Gt,le.alignItems=ot?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const pe=this._overlayRef.overlayElement.style,le=this._overlayRef.hostElement,Te=le.style;le.classList.remove(Ue),Te.justifyContent=Te.alignItems=pe.marginTop=pe.marginBottom=pe.marginLeft=pe.marginRight=pe.position="",this._overlayRef=null,this._isDisposed=!0}}let be=(()=>{class de{constructor(le,Te,Ve,ke){this._viewportRuler=le,this._document=Te,this._platform=Ve,this._overlayContainer=ke}global(){return new xe}flexibleConnectedTo(le){return new _e(le,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(e.rL),E.LFG(y.K0),E.LFG(b.t4),E.LFG(Ae))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),K=0,ie=(()=>{class de{constructor(le,Te,Ve,ke,Ze,qe,He,ot,yt,ut,Ct,Ot){this.scrollStrategies=le,this._overlayContainer=Te,this._componentFactoryResolver=Ve,this._positionBuilder=ke,this._keyboardDispatcher=Ze,this._injector=qe,this._ngZone=He,this._document=ot,this._directionality=yt,this._location=ut,this._outsideClickDispatcher=Ct,this._animationsModuleType=Ot}create(le){const Te=this._createHostElement(),Ve=this._createPaneElement(Te),ke=this._createPortalOutlet(Ve),Ze=new ae(le);return Ze.direction=Ze.direction||this._directionality.value,new se(ke,Te,Ve,Ze,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(le){const Te=this._document.createElement("div");return Te.id="cdk-overlay-"+K++,Te.classList.add("cdk-overlay-pane"),le.appendChild(Te),Te}_createHostElement(){const le=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(le),le}_createPortalOutlet(le){return this._appRef||(this._appRef=this._injector.get(E.z2F)),new w.u0(le,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.LFG(re),E.LFG(Ae),E.LFG(E._Vd),E.LFG(be),E.LFG(fe),E.LFG(E.zs3),E.LFG(E.R0b),E.LFG(y.K0),E.LFG(v.Is),E.LFG(y.Ye),E.LFG(Ee),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const he=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],q=new E.OlP("cdk-connected-overlay-scroll-strategy");let $=(()=>{class de{constructor(le){this.elementRef=le}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:de,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return de})(),W=(()=>{class de{get offsetX(){return this._offsetX}set offsetX(le){this._offsetX=le,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(le){this._offsetY=le,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(le){this._hasBackdrop=(0,R.Ig)(le)}get lockPosition(){return this._lockPosition}set lockPosition(le){this._lockPosition=(0,R.Ig)(le)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(le){this._flexibleDimensions=(0,R.Ig)(le)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(le){this._growAfterOpen=(0,R.Ig)(le)}get push(){return this._push}set push(le){this._push=(0,R.Ig)(le)}constructor(le,Te,Ve,ke,Ze){this._overlay=le,this._dir=Ze,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=O.w0.EMPTY,this._attachSubscription=O.w0.EMPTY,this._detachSubscription=O.w0.EMPTY,this._positionSubscription=O.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new E.vpe,this.positionChange=new E.vpe,this.attach=new E.vpe,this.detach=new E.vpe,this.overlayKeydown=new E.vpe,this.overlayOutsideClick=new E.vpe,this._templatePortal=new w.UE(Te,Ve),this._scrollStrategyFactory=ke,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(le){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),le.origin&&this.open&&this._position.apply()),le.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=he);const le=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=le.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=le.detachments().subscribe(()=>this.detach.emit()),le.keydownEvents().subscribe(Te=>{this.overlayKeydown.next(Te),Te.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(Te)&&(Te.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Te=>{this.overlayOutsideClick.next(Te)})}_buildConfig(){const le=this._position=this.positionStrategy||this._createPositionStrategy(),Te=new ae({direction:this._dir,positionStrategy:le,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Te.width=this.width),(this.height||0===this.height)&&(Te.height=this.height),(this.minWidth||0===this.minWidth)&&(Te.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Te.minHeight=this.minHeight),this.backdropClass&&(Te.backdropClass=this.backdropClass),this.panelClass&&(Te.panelClass=this.panelClass),Te}_updatePositionStrategy(le){const Te=this.positions.map(Ve=>({originX:Ve.originX,originY:Ve.originY,overlayX:Ve.overlayX,overlayY:Ve.overlayY,offsetX:Ve.offsetX||this.offsetX,offsetY:Ve.offsetY||this.offsetY,panelClass:Ve.panelClass||void 0}));return le.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Te).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const le=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(le),le}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(le=>{this.backdropClick.emit(le)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function p(de,pe=!1){return(0,m.e)((le,Te)=>{let Ve=0;le.subscribe((0,h.x)(Te,ke=>{const Ze=de(ke,Ve++);(Ze||pe)&&Te.next(ke),!Ze&&Te.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(le=>{this.positionChange.emit(le),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Te){return new(Te||de)(E.Y36(ie),E.Y36(E.Rgc),E.Y36(E.s_b),E.Y36(q),E.Y36(v.Is,8))};static#t=this.\u0275dir=E.lG2({type:de,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[E.TTD]})}return de})();const X={provide:q,deps:[ie],useFactory:function te(de){return()=>de.scrollStrategies.reposition()}};let J=(()=>{class de{static#e=this.\u0275fac=function(Te){return new(Te||de)};static#t=this.\u0275mod=E.oAB({type:de});static#n=this.\u0275inj=E.cJS({providers:[ie,X],imports:[v.vT,w.eL,e.Cl,e.Cl]})}return de})()},2831:(bn,Ye,M)=>{"use strict";M.d(Ye,{Mq:()=>V,Oy:()=>T,ht:()=>x,i$:()=>p,kV:()=>P,qK:()=>S,sA:()=>I,t4:()=>R});var e=M(5879),y=M(6814);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let F,R=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,y.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function S(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(C=>(N.setAttribute("type",C),N.type===C))),F}let m,w,G;function p(N){return function h(){if(null==m&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m=!0}))}finally{m=m||!1}return m}()?N:!!N.capture}function V(){if(null==w){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return w=!1,w;if("scrollBehavior"in document.documentElement.style)w=!0;else{const N=Element.prototype.scrollTo;w=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return w}function P(N){if(function k(){if(null==G){const N=typeof document<"u"?document.head:null;G=!(!N||!N.createShadowRoot&&!N.attachShadow)}return G}()){const C=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function x(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const C=N.shadowRoot.activeElement;if(C===N)break;N=C}return N}function I(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(bn,Ye,M)=>{"use strict";M.d(Ye,{C5:()=>h,Pl:()=>x,UE:()=>p,eL:()=>T,en:()=>w,u0:()=>O});var e=M(5879),y=M(6814);class m{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class h extends m{constructor(B,Y,re,ae,Oe){super(),this.component=B,this.viewContainerRef=Y,this.injector=re,this.componentFactoryResolver=ae,this.projectableNodes=Oe}}class p extends m{constructor(B,Y,re,ae){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=re,this.injector=ae}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class v extends m{constructor(B){super(),this.element=B instanceof e.SBq?B.nativeElement:B}}class w{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof h?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof p?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof v?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class O extends w{constructor(B,Y,re,ae,Oe){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=re,this._defaultInjector=ae,this.attachDomPortal=z=>{const oe=z.element,H=this._document.createComment("dom-portal");oe.parentNode.insertBefore(H,oe),this.outletElement.appendChild(oe),this._attachedPortal=z,super.setDisposeFn(()=>{H.parentNode&&H.parentNode.replaceChild(oe,H)})},this._document=Oe}attachComponentPortal(B){const re=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let ae;return B.viewContainerRef?(ae=B.viewContainerRef.createComponent(re,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>ae.destroy())):(ae=re.create(B.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=B,ae}attachTemplatePortal(B){let Y=B.viewContainerRef,re=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return re.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),re.detectChanges(),this.setDisposeFn(()=>{let ae=Y.indexOf(re);-1!==ae&&Y.remove(ae)}),this._attachedPortal=B,re}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let x=(()=>{class C extends w{constructor(Y,re,ae){super(),this._componentFactoryResolver=Y,this._viewContainerRef=re,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=Oe=>{const z=Oe.element,oe=this._document.createComment("dom-portal");Oe.setAttachedHost(this),z.parentNode.insertBefore(oe,z),this._getRootNode().appendChild(z),this._attachedPortal=Oe,super.setDisposeFn(()=>{oe.parentNode&&oe.parentNode.replaceChild(z,oe)})},this._document=ae}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const re=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Oe=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),z=re.createComponent(Oe,re.length,Y.injector||re.injector,Y.projectableNodes||void 0);return re!==this._viewContainerRef&&this._getRootNode().appendChild(z.hostView.rootNodes[0]),super.setDisposeFn(()=>z.destroy()),this._attachedPortal=Y,this._attachedRef=z,this.attached.emit(z),z}attachTemplatePortal(Y){Y.setAttachedHost(this);const re=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=re,this.attached.emit(re),re}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(re){return new(re||C)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(y.K0))};static#t=this.\u0275dir=e.lG2({type:C,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]})}return C})(),T=(()=>{class C{static#e=this.\u0275fac=function(re){return new(re||C)};static#t=this.\u0275mod=e.oAB({type:C});static#n=this.\u0275inj=e.cJS({})}return C})()},799:(bn,Ye,M)=>{"use strict";M.d(Ye,{ZD:()=>de,mF:()=>Ue,Cl:()=>pe,rL:()=>K});var e=M(2495),y=M(5879),E=M(8645),R=M(2096),b=M(5592),F=M(2438),L=M(1954),S=M(7394);const m={schedule(le){let Te=requestAnimationFrame,Ve=cancelAnimationFrame;const{delegate:ke}=m;ke&&(Te=ke.requestAnimationFrame,Ve=ke.cancelAnimationFrame);const Ze=Te(qe=>{Ve=void 0,le(qe)});return new S.w0(()=>Ve?.(Ze))},requestAnimationFrame(...le){const{delegate:Te}=m;return(Te?.requestAnimationFrame||requestAnimationFrame)(...le)},cancelAnimationFrame(...le){const{delegate:Te}=m;return(Te?.cancelAnimationFrame||cancelAnimationFrame)(...le)},delegate:void 0};var p=M(2631);new class v extends p.v{flush(Te){this._active=!0;const Ve=this._scheduled;this._scheduled=void 0;const{actions:ke}=this;let Ze;Te=Te||ke.shift();do{if(Ze=Te.execute(Te.state,Te.delay))break}while((Te=ke[0])&&Te.id===Ve&&ke.shift());if(this._active=!1,Ze){for(;(Te=ke[0])&&Te.id===Ve&&ke.shift();)Te.unsubscribe();throw Ze}}}(class h extends L.o{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve}requestAsyncId(Te,Ve,ke=0){return null!==ke&&ke>0?super.requestAsyncId(Te,Ve,ke):(Te.actions.push(this),Te._scheduled||(Te._scheduled=m.requestAnimationFrame(()=>Te.flush(void 0))))}recycleAsyncId(Te,Ve,ke=0){var Ze;if(null!=ke?ke>0:this.delay>0)return super.recycleAsyncId(Te,Ve,ke);const{actions:qe}=Te;null!=Ve&&(null===(Ze=qe[qe.length-1])||void 0===Ze?void 0:Ze.id)!==Ve&&(m.cancelAnimationFrame(Ve),Te._scheduled=void 0)}});let G,O=1;const k={};function P(le){return le in k&&(delete k[le],!0)}const x={setImmediate(le){const Te=O++;return k[Te]=!0,G||(G=Promise.resolve()),G.then(()=>P(Te)&&le()),Te},clearImmediate(le){P(le)}},{setImmediate:T,clearImmediate:N}=x,C={setImmediate(...le){const{delegate:Te}=C;return(Te?.setImmediate||T)(...le)},clearImmediate(le){const{delegate:Te}=C;return(Te?.clearImmediate||N)(le)},delegate:void 0};new class Y extends p.v{flush(Te){this._active=!0;const Ve=this._scheduled;this._scheduled=void 0;const{actions:ke}=this;let Ze;Te=Te||ke.shift();do{if(Ze=Te.execute(Te.state,Te.delay))break}while((Te=ke[0])&&Te.id===Ve&&ke.shift());if(this._active=!1,Ze){for(;(Te=ke[0])&&Te.id===Ve&&ke.shift();)Te.unsubscribe();throw Ze}}}(class B extends L.o{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve}requestAsyncId(Te,Ve,ke=0){return null!==ke&&ke>0?super.requestAsyncId(Te,Ve,ke):(Te.actions.push(this),Te._scheduled||(Te._scheduled=C.setImmediate(Te.flush.bind(Te,void 0))))}recycleAsyncId(Te,Ve,ke=0){var Ze;if(null!=ke?ke>0:this.delay>0)return super.recycleAsyncId(Te,Ve,ke);const{actions:qe}=Te;null!=Ve&&(null===(Ze=qe[qe.length-1])||void 0===Ze?void 0:Ze.id)!==Ve&&(C.clearImmediate(Ve),Te._scheduled===Ve&&(Te._scheduled=void 0))}});var Oe=M(6321),z=M(9360),oe=M(4829),H=M(8251),ne=M(4825);function fe(le,Te=Oe.z){return function me(le){return(0,z.e)((Te,Ve)=>{let ke=!1,Ze=null,qe=null,He=!1;const ot=()=>{if(qe?.unsubscribe(),qe=null,ke){ke=!1;const ut=Ze;Ze=null,Ve.next(ut)}He&&Ve.complete()},yt=()=>{qe=null,He&&Ve.complete()};Te.subscribe((0,H.x)(Ve,ut=>{ke=!0,Ze=ut,qe||(0,oe.Xf)(le(ut)).subscribe(qe=(0,H.x)(Ve,ot,yt))},()=>{He=!0,(!ke||!qe||qe.closed)&&Ve.complete()}))})}(()=>(0,ne.H)(le,Te))}var Ee=M(2181),Ae=M(2831),se=M(6814),De=M(9388);let Ue=(()=>{class le{constructor(Ve,ke,Ze){this._ngZone=Ve,this._platform=ke,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ze}register(Ve){this.scrollContainers.has(Ve)||this.scrollContainers.set(Ve,Ve.elementScrolled().subscribe(()=>this._scrolled.next(Ve)))}deregister(Ve){const ke=this.scrollContainers.get(Ve);ke&&(ke.unsubscribe(),this.scrollContainers.delete(Ve))}scrolled(Ve=20){return this._platform.isBrowser?new b.y(ke=>{this._globalSubscription||this._addGlobalListener();const Ze=Ve>0?this._scrolled.pipe(fe(Ve)).subscribe(ke):this._scrolled.subscribe(ke);return this._scrolledCount++,()=>{Ze.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,R.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ve,ke)=>this.deregister(ke)),this._scrolled.complete()}ancestorScrolled(Ve,ke){const Ze=this.getAncestorScrollContainers(Ve);return this.scrolled(ke).pipe((0,Ee.h)(qe=>!qe||Ze.indexOf(qe)>-1))}getAncestorScrollContainers(Ve){const ke=[];return this.scrollContainers.forEach((Ze,qe)=>{this._scrollableContainsElement(qe,Ve)&&ke.push(qe)}),ke}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ve,ke){let Ze=(0,e.fI)(ke),qe=Ve.getElementRef().nativeElement;do{if(Ze==qe)return!0}while(Ze=Ze.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ve=this._getWindow();return(0,F.R)(Ve.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(ke){return new(ke||le)(y.LFG(y.R0b),y.LFG(Ae.t4),y.LFG(se.K0,8))};static#t=this.\u0275prov=y.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),K=(()=>{class le{constructor(Ve,ke,Ze){this._platform=Ve,this._change=new E.x,this._changeListener=qe=>{this._change.next(qe)},this._document=Ze,ke.runOutsideAngular(()=>{if(Ve.isBrowser){const qe=this._getWindow();qe.addEventListener("resize",this._changeListener),qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ve=this._getWindow();Ve.removeEventListener("resize",this._changeListener),Ve.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ve={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ve}getViewportRect(){const Ve=this.getViewportScrollPosition(),{width:ke,height:Ze}=this.getViewportSize();return{top:Ve.top,left:Ve.left,bottom:Ve.top+Ze,right:Ve.left+ke,height:Ze,width:ke}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ve=this._document,ke=this._getWindow(),Ze=Ve.documentElement,qe=Ze.getBoundingClientRect();return{top:-qe.top||Ve.body.scrollTop||ke.scrollY||Ze.scrollTop||0,left:-qe.left||Ve.body.scrollLeft||ke.scrollX||Ze.scrollLeft||0}}change(Ve=20){return Ve>0?this._change.pipe(fe(Ve)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ve=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ve.innerWidth,height:Ve.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(ke){return new(ke||le)(y.LFG(Ae.t4),y.LFG(y.R0b),y.LFG(se.K0,8))};static#t=this.\u0275prov=y.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),de=(()=>{class le{static#e=this.\u0275fac=function(ke){return new(ke||le)};static#t=this.\u0275mod=y.oAB({type:le});static#n=this.\u0275inj=y.cJS({})}return le})(),pe=(()=>{class le{static#e=this.\u0275fac=function(ke){return new(ke||le)};static#t=this.\u0275mod=y.oAB({type:le});static#n=this.\u0275inj=y.cJS({imports:[De.vT,de,De.vT,de]})}return le})()},6814:(bn,Ye,M)=>{"use strict";M.d(Ye,{Do:()=>G,ED:()=>Qi,EM:()=>bl,HT:()=>R,JF:()=>Hi,K0:()=>F,Mn:()=>me,Mx:()=>hn,NF:()=>Uo,O5:()=>tt,Ov:()=>na,PM:()=>_a,RF:()=>Pn,S$:()=>w,Tn:()=>re,UT:()=>ne,V_:()=>S,Ye:()=>k,ax:()=>st,b0:()=>O,bD:()=>Fr,ez:()=>tr,mk:()=>Rt,mr:()=>V,n9:()=>Di,p6:()=>Te,q:()=>E,sg:()=>st,tP:()=>lo,uU:()=>xi,w_:()=>b,x:()=>Y});var e=M(5879);let y=null;function E(){return y}function R(Ce){y||(y=Ce)}class b{}const F=new e.OlP("DocumentToken");let L=(()=>{class Ce{historyGo(Ke){throw new Error("Not implemented")}static#e=this.\u0275fac=function(lt){return new(lt||Ce)};static#t=this.\u0275prov=e.Yz7({token:Ce,factory:function(){return(0,e.f3M)(m)},providedIn:"platform"})}return Ce})();const S=new e.OlP("Location Initialized");let m=(()=>{class Ce extends L{constructor(){super(),this._doc=(0,e.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(Ke){const lt=E().getGlobalEventTarget(this._doc,"window");return lt.addEventListener("popstate",Ke,!1),()=>lt.removeEventListener("popstate",Ke)}onHashChange(Ke){const lt=E().getGlobalEventTarget(this._doc,"window");return lt.addEventListener("hashchange",Ke,!1),()=>lt.removeEventListener("hashchange",Ke)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ke){this._location.pathname=Ke}pushState(Ke,lt,Mt){this._history.pushState(Ke,lt,Mt)}replaceState(Ke,lt,Mt){this._history.replaceState(Ke,lt,Mt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ke=0){this._history.go(Ke)}getState(){return this._history.state}static#e=this.\u0275fac=function(lt){return new(lt||Ce)};static#t=this.\u0275prov=e.Yz7({token:Ce,factory:function(){return new Ce},providedIn:"platform"})}return Ce})();function h(Ce,dt){if(0==Ce.length)return dt;if(0==dt.length)return Ce;let Ke=0;return Ce.endsWith("/")&&Ke++,dt.startsWith("/")&&Ke++,2==Ke?Ce+dt.substring(1):1==Ke?Ce+dt:Ce+"/"+dt}function p(Ce){const dt=Ce.match(/#|\?|$/),Ke=dt&&dt.index||Ce.length;return Ce.slice(0,Ke-("/"===Ce[Ke-1]?1:0))+Ce.slice(Ke)}function v(Ce){return Ce&&"?"!==Ce[0]?"?"+Ce:Ce}let w=(()=>{class Ce{historyGo(Ke){throw new Error("Not implemented")}static#e=this.\u0275fac=function(lt){return new(lt||Ce)};static#t=this.\u0275prov=e.Yz7({token:Ce,factory:function(){return(0,e.f3M)(O)},providedIn:"root"})}return Ce})();const V=new e.OlP("appBaseHref");let O=(()=>{class Ce extends w{constructor(Ke,lt){super(),this._platformLocation=Ke,this._removeListenerFns=[],this._baseHref=lt??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ke){this._removeListenerFns.push(this._platformLocation.onPopState(Ke),this._platformLocation.onHashChange(Ke))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ke){return h(this._baseHref,Ke)}path(Ke=!1){const lt=this._platformLocation.pathname+v(this._platformLocation.search),Mt=this._platformLocation.hash;return Mt&&Ke?`${lt}${Mt}`:lt}pushState(Ke,lt,Mt,nn){const pn=this.prepareExternalUrl(Mt+v(nn));this._platformLocation.pushState(Ke,lt,pn)}replaceState(Ke,lt,Mt,nn){const pn=this.prepareExternalUrl(Mt+v(nn));this._platformLocation.replaceState(Ke,lt,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ke=0){this._platformLocation.historyGo?.(Ke)}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.LFG(L),e.LFG(V,8))};static#t=this.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),G=(()=>{class Ce extends w{constructor(Ke,lt){super(),this._platformLocation=Ke,this._baseHref="",this._removeListenerFns=[],null!=lt&&(this._baseHref=lt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ke){this._removeListenerFns.push(this._platformLocation.onPopState(Ke),this._platformLocation.onHashChange(Ke))}getBaseHref(){return this._baseHref}path(Ke=!1){let lt=this._platformLocation.hash;return null==lt&&(lt="#"),lt.length>0?lt.substring(1):lt}prepareExternalUrl(Ke){const lt=h(this._baseHref,Ke);return lt.length>0?"#"+lt:lt}pushState(Ke,lt,Mt,nn){let pn=this.prepareExternalUrl(Mt+v(nn));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.pushState(Ke,lt,pn)}replaceState(Ke,lt,Mt,nn){let pn=this.prepareExternalUrl(Mt+v(nn));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.replaceState(Ke,lt,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ke=0){this._platformLocation.historyGo?.(Ke)}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.LFG(L),e.LFG(V,8))};static#t=this.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac})}return Ce})(),k=(()=>{class Ce{constructor(Ke){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ke;const lt=this._locationStrategy.getBaseHref();this._basePath=function T(Ce){if(new RegExp("^(https?:)?//").test(Ce)){const[,Ke]=Ce.split(/\/\/[^\/]+/);return Ke}return Ce}(p(I(lt))),this._locationStrategy.onPopState(Mt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mt.state,type:Mt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ke=!1){return this.normalize(this._locationStrategy.path(Ke))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ke,lt=""){return this.path()==this.normalize(Ke+v(lt))}normalize(Ke){return Ce.stripTrailingSlash(function x(Ce,dt){if(!Ce||!dt.startsWith(Ce))return dt;const Ke=dt.substring(Ce.length);return""===Ke||["/",";","?","#"].includes(Ke[0])?Ke:dt}(this._basePath,I(Ke)))}prepareExternalUrl(Ke){return Ke&&"/"!==Ke[0]&&(Ke="/"+Ke),this._locationStrategy.prepareExternalUrl(Ke)}go(Ke,lt="",Mt=null){this._locationStrategy.pushState(Mt,"",Ke,lt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ke+v(lt)),Mt)}replaceState(Ke,lt="",Mt=null){this._locationStrategy.replaceState(Mt,"",Ke,lt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ke+v(lt)),Mt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ke=0){this._locationStrategy.historyGo?.(Ke)}onUrlChange(Ke){return this._urlChangeListeners.push(Ke),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(lt=>{this._notifyUrlChangeListeners(lt.url,lt.state)})),()=>{const lt=this._urlChangeListeners.indexOf(Ke);this._urlChangeListeners.splice(lt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ke="",lt){this._urlChangeListeners.forEach(Mt=>Mt(Ke,lt))}subscribe(Ke,lt,Mt){return this._subject.subscribe({next:Ke,error:lt,complete:Mt})}static#e=this.normalizeQueryParams=v;static#t=this.joinWithSlash=h;static#n=this.stripTrailingSlash=p;static#i=this.\u0275fac=function(lt){return new(lt||Ce)(e.LFG(w))};static#r=this.\u0275prov=e.Yz7({token:Ce,factory:function(){return function P(){return new k((0,e.LFG)(w))}()},providedIn:"root"})}return Ce})();function I(Ce){return Ce.replace(/\/index.html$/,"")}var Y=function(Ce){return Ce[Ce.Format=0]="Format",Ce[Ce.Standalone=1]="Standalone",Ce}(Y||{}),re=function(Ce){return Ce[Ce.Narrow=0]="Narrow",Ce[Ce.Abbreviated=1]="Abbreviated",Ce[Ce.Wide=2]="Wide",Ce[Ce.Short=3]="Short",Ce}(re||{}),ae=function(Ce){return Ce[Ce.Short=0]="Short",Ce[Ce.Medium=1]="Medium",Ce[Ce.Long=2]="Long",Ce[Ce.Full=3]="Full",Ce}(ae||{}),Oe=function(Ce){return Ce[Ce.Decimal=0]="Decimal",Ce[Ce.Group=1]="Group",Ce[Ce.List=2]="List",Ce[Ce.PercentSign=3]="PercentSign",Ce[Ce.PlusSign=4]="PlusSign",Ce[Ce.MinusSign=5]="MinusSign",Ce[Ce.Exponential=6]="Exponential",Ce[Ce.SuperscriptingExponent=7]="SuperscriptingExponent",Ce[Ce.PerMille=8]="PerMille",Ce[Ce.Infinity=9]="Infinity",Ce[Ce.NaN=10]="NaN",Ce[Ce.TimeSeparator=11]="TimeSeparator",Ce[Ce.CurrencyDecimal=12]="CurrencyDecimal",Ce[Ce.CurrencyGroup=13]="CurrencyGroup",Ce}(Oe||{});function me(Ce,dt,Ke){const lt=(0,e.cg1)(Ce),nn=he([lt[e.wAp.DaysFormat],lt[e.wAp.DaysStandalone]],dt);return he(nn,Ke)}function ne(Ce,dt,Ke){const lt=(0,e.cg1)(Ce),nn=he([lt[e.wAp.MonthsFormat],lt[e.wAp.MonthsStandalone]],dt);return he(nn,Ke)}function se(Ce,dt){return he((0,e.cg1)(Ce)[e.wAp.DateFormat],dt)}function De(Ce,dt){return he((0,e.cg1)(Ce)[e.wAp.TimeFormat],dt)}function Me(Ce,dt){return he((0,e.cg1)(Ce)[e.wAp.DateTimeFormat],dt)}function _e(Ce,dt){const Ke=(0,e.cg1)(Ce),lt=Ke[e.wAp.NumberSymbols][dt];if(typeof lt>"u"){if(dt===Oe.CurrencyDecimal)return Ke[e.wAp.NumberSymbols][Oe.Decimal];if(dt===Oe.CurrencyGroup)return Ke[e.wAp.NumberSymbols][Oe.Group]}return lt}function xe(Ce){if(!Ce[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ce[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(Ce,dt){for(let Ke=dt;Ke>-1;Ke--)if(typeof Ce[Ke]<"u")return Ce[Ke];throw new Error("Locale data API: locale data undefined")}function q(Ce){const[dt,Ke]=Ce.split(":");return{hours:+dt,minutes:+Ke}}const X=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,J={},Q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var de=function(Ce){return Ce[Ce.Short=0]="Short",Ce[Ce.ShortGMT=1]="ShortGMT",Ce[Ce.Long=2]="Long",Ce[Ce.Extended=3]="Extended",Ce}(de||{}),pe=function(Ce){return Ce[Ce.FullYear=0]="FullYear",Ce[Ce.Month=1]="Month",Ce[Ce.Date=2]="Date",Ce[Ce.Hours=3]="Hours",Ce[Ce.Minutes=4]="Minutes",Ce[Ce.Seconds=5]="Seconds",Ce[Ce.FractionalSeconds=6]="FractionalSeconds",Ce[Ce.Day=7]="Day",Ce}(pe||{}),le=function(Ce){return Ce[Ce.DayPeriods=0]="DayPeriods",Ce[Ce.Days=1]="Days",Ce[Ce.Months=2]="Months",Ce[Ce.Eras=3]="Eras",Ce}(le||{});function Te(Ce,dt,Ke,lt){let Mt=function pt(Ce){if(Bt(Ce))return Ce;if("number"==typeof Ce&&!isNaN(Ce))return new Date(Ce);if("string"==typeof Ce){if(Ce=Ce.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ce)){const[Mt,nn=1,pn=1]=Ce.split("-").map(Hn=>+Hn);return Ve(Mt,nn-1,pn)}const Ke=parseFloat(Ce);if(!isNaN(Ce-Ke))return new Date(Ke);let lt;if(lt=Ce.match(X))return function kt(Ce){const dt=new Date(0);let Ke=0,lt=0;const Mt=Ce[8]?dt.setUTCFullYear:dt.setFullYear,nn=Ce[8]?dt.setUTCHours:dt.setHours;Ce[9]&&(Ke=Number(Ce[9]+Ce[10]),lt=Number(Ce[9]+Ce[11])),Mt.call(dt,Number(Ce[1]),Number(Ce[2])-1,Number(Ce[3]));const pn=Number(Ce[4]||0)-Ke,Hn=Number(Ce[5]||0)-lt,ki=Number(Ce[6]||0),Ei=Math.floor(1e3*parseFloat("0."+(Ce[7]||0)));return nn.call(dt,pn,Hn,ki,Ei),dt}(lt)}const dt=new Date(Ce);if(!Bt(dt))throw new Error(`Unable to convert "${Ce}" into a date`);return dt}(Ce);dt=ke(Ke,dt)||dt;let Hn,pn=[];for(;dt;){if(Hn=Q.exec(dt),!Hn){pn.push(dt);break}{pn=pn.concat(Hn.slice(1));const vi=pn.pop();if(!vi)break;dt=vi}}let ki=Mt.getTimezoneOffset();lt&&(ki=ue(lt,ki),Mt=function it(Ce,dt,Ke){const lt=Ke?-1:1,Mt=Ce.getTimezoneOffset();return function ge(Ce,dt){return(Ce=new Date(Ce.getTime())).setMinutes(Ce.getMinutes()+dt),Ce}(Ce,lt*(ue(dt,Mt)-Mt))}(Mt,lt,!0));let Ei="";return pn.forEach(vi=>{const gi=function Se(Ce){if(at[Ce])return at[Ce];let dt;switch(Ce){case"G":case"GG":case"GGG":dt=ut(le.Eras,re.Abbreviated);break;case"GGGG":dt=ut(le.Eras,re.Wide);break;case"GGGGG":dt=ut(le.Eras,re.Narrow);break;case"y":dt=ot(pe.FullYear,1,0,!1,!0);break;case"yy":dt=ot(pe.FullYear,2,0,!0,!0);break;case"yyy":dt=ot(pe.FullYear,3,0,!1,!0);break;case"yyyy":dt=ot(pe.FullYear,4,0,!1,!0);break;case"Y":dt=nt(1);break;case"YY":dt=nt(2,!0);break;case"YYY":dt=nt(3);break;case"YYYY":dt=nt(4);break;case"M":case"L":dt=ot(pe.Month,1,1);break;case"MM":case"LL":dt=ot(pe.Month,2,1);break;case"MMM":dt=ut(le.Months,re.Abbreviated);break;case"MMMM":dt=ut(le.Months,re.Wide);break;case"MMMMM":dt=ut(le.Months,re.Narrow);break;case"LLL":dt=ut(le.Months,re.Abbreviated,Y.Standalone);break;case"LLLL":dt=ut(le.Months,re.Wide,Y.Standalone);break;case"LLLLL":dt=ut(le.Months,re.Narrow,Y.Standalone);break;case"w":dt=Rn(1);break;case"ww":dt=Rn(2);break;case"W":dt=Rn(1,!0);break;case"d":dt=ot(pe.Date,1);break;case"dd":dt=ot(pe.Date,2);break;case"c":case"cc":dt=ot(pe.Day,1);break;case"ccc":dt=ut(le.Days,re.Abbreviated,Y.Standalone);break;case"cccc":dt=ut(le.Days,re.Wide,Y.Standalone);break;case"ccccc":dt=ut(le.Days,re.Narrow,Y.Standalone);break;case"cccccc":dt=ut(le.Days,re.Short,Y.Standalone);break;case"E":case"EE":case"EEE":dt=ut(le.Days,re.Abbreviated);break;case"EEEE":dt=ut(le.Days,re.Wide);break;case"EEEEE":dt=ut(le.Days,re.Narrow);break;case"EEEEEE":dt=ut(le.Days,re.Short);break;case"a":case"aa":case"aaa":dt=ut(le.DayPeriods,re.Abbreviated);break;case"aaaa":dt=ut(le.DayPeriods,re.Wide);break;case"aaaaa":dt=ut(le.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":dt=ut(le.DayPeriods,re.Abbreviated,Y.Standalone,!0);break;case"bbbb":dt=ut(le.DayPeriods,re.Wide,Y.Standalone,!0);break;case"bbbbb":dt=ut(le.DayPeriods,re.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":dt=ut(le.DayPeriods,re.Abbreviated,Y.Format,!0);break;case"BBBB":dt=ut(le.DayPeriods,re.Wide,Y.Format,!0);break;case"BBBBB":dt=ut(le.DayPeriods,re.Narrow,Y.Format,!0);break;case"h":dt=ot(pe.Hours,1,-12);break;case"hh":dt=ot(pe.Hours,2,-12);break;case"H":dt=ot(pe.Hours,1);break;case"HH":dt=ot(pe.Hours,2);break;case"m":dt=ot(pe.Minutes,1);break;case"mm":dt=ot(pe.Minutes,2);break;case"s":dt=ot(pe.Seconds,1);break;case"ss":dt=ot(pe.Seconds,2);break;case"S":dt=ot(pe.FractionalSeconds,1);break;case"SS":dt=ot(pe.FractionalSeconds,2);break;case"SSS":dt=ot(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":dt=Ot(de.Short);break;case"ZZZZZ":dt=Ot(de.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":dt=Ot(de.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":dt=Ot(de.Long);break;default:return null}return at[Ce]=dt,dt}(vi);Ei+=gi?gi(Mt,Ke,ki):"''"===vi?"'":vi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ei}function Ve(Ce,dt,Ke){const lt=new Date(0);return lt.setFullYear(Ce,dt,Ke),lt.setHours(0,0,0),lt}function ke(Ce,dt){const Ke=function oe(Ce){return(0,e.cg1)(Ce)[e.wAp.LocaleId]}(Ce);if(J[Ke]=J[Ke]||{},J[Ke][dt])return J[Ke][dt];let lt="";switch(dt){case"shortDate":lt=se(Ce,ae.Short);break;case"mediumDate":lt=se(Ce,ae.Medium);break;case"longDate":lt=se(Ce,ae.Long);break;case"fullDate":lt=se(Ce,ae.Full);break;case"shortTime":lt=De(Ce,ae.Short);break;case"mediumTime":lt=De(Ce,ae.Medium);break;case"longTime":lt=De(Ce,ae.Long);break;case"fullTime":lt=De(Ce,ae.Full);break;case"short":const Mt=ke(Ce,"shortTime"),nn=ke(Ce,"shortDate");lt=Ze(Me(Ce,ae.Short),[Mt,nn]);break;case"medium":const pn=ke(Ce,"mediumTime"),Hn=ke(Ce,"mediumDate");lt=Ze(Me(Ce,ae.Medium),[pn,Hn]);break;case"long":const ki=ke(Ce,"longTime"),Ei=ke(Ce,"longDate");lt=Ze(Me(Ce,ae.Long),[ki,Ei]);break;case"full":const vi=ke(Ce,"fullTime"),gi=ke(Ce,"fullDate");lt=Ze(Me(Ce,ae.Full),[vi,gi])}return lt&&(J[Ke][dt]=lt),lt}function Ze(Ce,dt){return dt&&(Ce=Ce.replace(/\{([^}]+)}/g,function(Ke,lt){return null!=dt&&lt in dt?dt[lt]:Ke})),Ce}function qe(Ce,dt,Ke="-",lt,Mt){let nn="";(Ce<0||Mt&&Ce<=0)&&(Mt?Ce=1-Ce:(Ce=-Ce,nn=Ke));let pn=String(Ce);for(;pn.length<dt;)pn="0"+pn;return lt&&(pn=pn.slice(pn.length-dt)),nn+pn}function ot(Ce,dt,Ke=0,lt=!1,Mt=!1){return function(nn,pn){let Hn=function yt(Ce,dt){switch(Ce){case pe.FullYear:return dt.getFullYear();case pe.Month:return dt.getMonth();case pe.Date:return dt.getDate();case pe.Hours:return dt.getHours();case pe.Minutes:return dt.getMinutes();case pe.Seconds:return dt.getSeconds();case pe.FractionalSeconds:return dt.getMilliseconds();case pe.Day:return dt.getDay();default:throw new Error(`Unknown DateType value "${Ce}".`)}}(Ce,nn);if((Ke>0||Hn>-Ke)&&(Hn+=Ke),Ce===pe.Hours)0===Hn&&-12===Ke&&(Hn=12);else if(Ce===pe.FractionalSeconds)return function He(Ce,dt){return qe(Ce,3).substring(0,dt)}(Hn,dt);const ki=_e(pn,Oe.MinusSign);return qe(Hn,dt,ki,lt,Mt)}}function ut(Ce,dt,Ke=Y.Format,lt=!1){return function(Mt,nn){return function Ct(Ce,dt,Ke,lt,Mt,nn){switch(Ke){case le.Months:return ne(dt,Mt,lt)[Ce.getMonth()];case le.Days:return me(dt,Mt,lt)[Ce.getDay()];case le.DayPeriods:const pn=Ce.getHours(),Hn=Ce.getMinutes();if(nn){const Ei=function be(Ce){const dt=(0,e.cg1)(Ce);return xe(dt),(dt[e.wAp.ExtraData][2]||[]).map(lt=>"string"==typeof lt?q(lt):[q(lt[0]),q(lt[1])])}(dt),vi=function K(Ce,dt,Ke){const lt=(0,e.cg1)(Ce);xe(lt);const nn=he([lt[e.wAp.ExtraData][0],lt[e.wAp.ExtraData][1]],dt)||[];return he(nn,Ke)||[]}(dt,Mt,lt),gi=Ei.findIndex(ir=>{if(Array.isArray(ir)){const[Fi,ar]=ir,bo=pn>=Fi.hours&&Hn>=Fi.minutes,zn=pn<ar.hours||pn===ar.hours&&Hn<ar.minutes;if(Fi.hours<ar.hours){if(bo&&zn)return!0}else if(bo||zn)return!0}else if(ir.hours===pn&&ir.minutes===Hn)return!0;return!1});if(-1!==gi)return vi[gi]}return function H(Ce,dt,Ke){const lt=(0,e.cg1)(Ce),nn=he([lt[e.wAp.DayPeriodsFormat],lt[e.wAp.DayPeriodsStandalone]],dt);return he(nn,Ke)}(dt,Mt,lt)[pn<12?0:1];case le.Eras:return function fe(Ce,dt){return he((0,e.cg1)(Ce)[e.wAp.Eras],dt)}(dt,lt)[Ce.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ke}`)}}(Mt,nn,Ce,dt,Ke,lt)}}function Ot(Ce){return function(dt,Ke,lt){const Mt=-1*lt,nn=_e(Ke,Oe.MinusSign),pn=Mt>0?Math.floor(Mt/60):Math.ceil(Mt/60);switch(Ce){case de.Short:return(Mt>=0?"+":"")+qe(pn,2,nn)+qe(Math.abs(Mt%60),2,nn);case de.ShortGMT:return"GMT"+(Mt>=0?"+":"")+qe(pn,1,nn);case de.Long:return"GMT"+(Mt>=0?"+":"")+qe(pn,2,nn)+":"+qe(Math.abs(Mt%60),2,nn);case de.Extended:return 0===lt?"Z":(Mt>=0?"+":"")+qe(pn,2,nn)+":"+qe(Math.abs(Mt%60),2,nn);default:throw new Error(`Unknown zone width "${Ce}"`)}}}const It=0,Gt=4;function cn(Ce){return Ve(Ce.getFullYear(),Ce.getMonth(),Ce.getDate()+(Gt-Ce.getDay()))}function Rn(Ce,dt=!1){return function(Ke,lt){let Mt;if(dt){const nn=new Date(Ke.getFullYear(),Ke.getMonth(),1).getDay()-1,pn=Ke.getDate();Mt=1+Math.floor((pn+nn)/7)}else{const nn=cn(Ke),pn=function Xt(Ce){const dt=Ve(Ce,It,1).getDay();return Ve(Ce,0,1+(dt<=Gt?Gt:Gt+7)-dt)}(nn.getFullYear()),Hn=nn.getTime()-pn.getTime();Mt=1+Math.round(Hn/6048e5)}return qe(Mt,Ce,_e(lt,Oe.MinusSign))}}function nt(Ce,dt=!1){return function(Ke,lt){return qe(cn(Ke).getFullYear(),Ce,_e(lt,Oe.MinusSign),dt)}}const at={};function ue(Ce,dt){Ce=Ce.replace(/:/g,"");const Ke=Date.parse("Jan 01, 1970 00:00:00 "+Ce)/6e4;return isNaN(Ke)?dt:Ke}function Bt(Ce){return Ce instanceof Date&&!isNaN(Ce.valueOf())}function hn(Ce,dt){dt=encodeURIComponent(dt);for(const Ke of Ce.split(";")){const lt=Ke.indexOf("="),[Mt,nn]=-1==lt?[Ke,""]:[Ke.slice(0,lt),Ke.slice(lt+1)];if(Mt.trim()===dt)return decodeURIComponent(nn)}return null}const xt=/\s+/,St=[];let Rt=(()=>{class Ce{constructor(Ke,lt,Mt,nn){this._iterableDiffers=Ke,this._keyValueDiffers=lt,this._ngEl=Mt,this._renderer=nn,this.initialClasses=St,this.stateMap=new Map}set klass(Ke){this.initialClasses=null!=Ke?Ke.trim().split(xt):St}set ngClass(Ke){this.rawClass="string"==typeof Ke?Ke.trim().split(xt):Ke}ngDoCheck(){for(const lt of this.initialClasses)this._updateState(lt,!0);const Ke=this.rawClass;if(Array.isArray(Ke)||Ke instanceof Set)for(const lt of Ke)this._updateState(lt,!0);else if(null!=Ke)for(const lt of Object.keys(Ke))this._updateState(lt,!!Ke[lt]);this._applyStateDiff()}_updateState(Ke,lt){const Mt=this.stateMap.get(Ke);void 0!==Mt?(Mt.enabled!==lt&&(Mt.changed=!0,Mt.enabled=lt),Mt.touched=!0):this.stateMap.set(Ke,{enabled:lt,changed:!0,touched:!0})}_applyStateDiff(){for(const Ke of this.stateMap){const lt=Ke[0],Mt=Ke[1];Mt.changed?(this._toggleClass(lt,Mt.enabled),Mt.changed=!1):Mt.touched||(Mt.enabled&&this._toggleClass(lt,!1),this.stateMap.delete(lt)),Mt.touched=!1}}_toggleClass(Ke,lt){(Ke=Ke.trim()).length>0&&Ke.split(xt).forEach(Mt=>{lt?this._renderer.addClass(this._ngEl.nativeElement,Mt):this._renderer.removeClass(this._ngEl.nativeElement,Mt)})}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return Ce})();class An{constructor(dt,Ke,lt,Mt){this.$implicit=dt,this.ngForOf=Ke,this.index=lt,this.count=Mt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let st=(()=>{class Ce{set ngForOf(Ke){this._ngForOf=Ke,this._ngForOfDirty=!0}set ngForTrackBy(Ke){this._trackByFn=Ke}get ngForTrackBy(){return this._trackByFn}constructor(Ke,lt,Mt){this._viewContainer=Ke,this._template=lt,this._differs=Mt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ke){Ke&&(this._template=Ke)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ke=this._ngForOf;!this._differ&&Ke&&(this._differ=this._differs.find(Ke).create(this.ngForTrackBy))}if(this._differ){const Ke=this._differ.diff(this._ngForOf);Ke&&this._applyChanges(Ke)}}_applyChanges(Ke){const lt=this._viewContainer;Ke.forEachOperation((Mt,nn,pn)=>{if(null==Mt.previousIndex)lt.createEmbeddedView(this._template,new An(Mt.item,this._ngForOf,-1,-1),null===pn?void 0:pn);else if(null==pn)lt.remove(null===nn?void 0:nn);else if(null!==nn){const Hn=lt.get(nn);lt.move(Hn,pn),Yt(Hn,Mt)}});for(let Mt=0,nn=lt.length;Mt<nn;Mt++){const Hn=lt.get(Mt).context;Hn.index=Mt,Hn.count=nn,Hn.ngForOf=this._ngForOf}Ke.forEachIdentityChange(Mt=>{Yt(lt.get(Mt.currentIndex),Mt)})}static ngTemplateContextGuard(Ke,lt){return!0}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ce})();function Yt(Ce,dt){Ce.context.$implicit=dt.item}let tt=(()=>{class Ce{constructor(Ke,lt){this._viewContainer=Ke,this._context=new $e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=lt}set ngIf(Ke){this._context.$implicit=this._context.ngIf=Ke,this._updateView()}set ngIfThen(Ke){vt("ngIfThen",Ke),this._thenTemplateRef=Ke,this._thenViewRef=null,this._updateView()}set ngIfElse(Ke){vt("ngIfElse",Ke),this._elseTemplateRef=Ke,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ke,lt){return!0}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ce})();class $e{constructor(){this.$implicit=null,this.ngIf=null}}function vt(Ce,dt){if(dt&&!dt.createEmbeddedView)throw new Error(`${Ce} must be a TemplateRef, but received '${(0,e.AaK)(dt)}'.`)}class jt{constructor(dt,Ke){this._viewContainerRef=dt,this._templateRef=Ke,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(dt){dt&&!this._created?this.create():!dt&&this._created&&this.destroy()}}let Pn=(()=>{class Ce{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ke){this._ngSwitch=Ke,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ke){this._defaultViews.push(Ke)}_matchCase(Ke){const lt=Ke==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||lt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),lt}_updateDefaultCases(Ke){if(this._defaultViews.length>0&&Ke!==this._defaultUsed){this._defaultUsed=Ke;for(const lt of this._defaultViews)lt.enforceState(Ke)}}static#e=this.\u0275fac=function(lt){return new(lt||Ce)};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return Ce})(),Di=(()=>{class Ce{constructor(Ke,lt,Mt){this.ngSwitch=Mt,Mt._addCase(),this._view=new jt(Ke,lt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Pn,9))};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return Ce})(),Qi=(()=>{class Ce{constructor(Ke,lt,Mt){Mt._addDefault(new jt(Ke,lt))}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Pn,9))};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return Ce})(),lo=(()=>{class Ce{constructor(Ke){this._viewContainerRef=Ke,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ke){if(Ke.ngTemplateOutlet||Ke.ngTemplateOutletInjector){const lt=this._viewContainerRef;if(this._viewRef&&lt.remove(lt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Mt,ngTemplateOutletContext:nn,ngTemplateOutletInjector:pn}=this;this._viewRef=lt.createEmbeddedView(Mt,nn,pn?{injector:pn}:void 0)}else this._viewRef=null}else this._viewRef&&Ke.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:Ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}return Ce})();function Zn(Ce,dt){return new e.vHH(2100,!1)}class ji{createSubscription(dt,Ke){return(0,e.rg0)(()=>dt.subscribe({next:Ke,error:lt=>{throw lt}}))}dispose(dt){(0,e.rg0)(()=>dt.unsubscribe())}}class hr{createSubscription(dt,Ke){return dt.then(Ke,lt=>{throw lt})}dispose(dt){}}const Lr=new hr,rr=new ji;let na=(()=>{class Ce{constructor(Ke){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ke}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ke){return this._obj?Ke!==this._obj?(this._dispose(),this.transform(Ke)):this._latestValue:(Ke&&this._subscribe(Ke),this._latestValue)}_subscribe(Ke){this._obj=Ke,this._strategy=this._selectStrategy(Ke),this._subscription=this._strategy.createSubscription(Ke,lt=>this._updateLatestValue(Ke,lt))}_selectStrategy(Ke){if((0,e.QGY)(Ke))return Lr;if((0,e.F4k)(Ke))return rr;throw Zn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ke,lt){Ke===this._obj&&(this._latestValue=lt,this._ref.markForCheck())}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.sBO,16))};static#t=this.\u0275pipe=e.Yjl({name:"async",type:Ce,pure:!1,standalone:!0})}return Ce})();const Un=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Qn=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let xi=(()=>{class Ce{constructor(Ke,lt,Mt){this.locale=Ke,this.defaultTimezone=lt,this.defaultOptions=Mt}transform(Ke,lt,Mt,nn){if(null==Ke||""===Ke||Ke!=Ke)return null;try{return Te(Ke,lt??this.defaultOptions?.dateFormat??"mediumDate",nn||this.locale,Mt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(pn){throw Zn()}}static#e=this.\u0275fac=function(lt){return new(lt||Ce)(e.Y36(e.soG,16),e.Y36(Un,24),e.Y36(Qn,24))};static#t=this.\u0275pipe=e.Yjl({name:"date",type:Ce,pure:!0,standalone:!0})}return Ce})(),tr=(()=>{class Ce{static#e=this.\u0275fac=function(lt){return new(lt||Ce)};static#t=this.\u0275mod=e.oAB({type:Ce});static#n=this.\u0275inj=e.cJS({})}return Ce})();const Fr="browser",Cs="server";function Uo(Ce){return Ce===Fr}function _a(Ce){return Ce===Cs}let bl=(()=>{class Ce{static#e=this.\u0275prov=(0,e.Yz7)({token:Ce,providedIn:"root",factory:()=>new Br((0,e.LFG)(F),window)})}return Ce})();class Br{constructor(dt,Ke){this.document=dt,this.window=Ke,this.offset=()=>[0,0]}setOffset(dt){this.offset=Array.isArray(dt)?()=>dt:dt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(dt){this.supportsScrolling()&&this.window.scrollTo(dt[0],dt[1])}scrollToAnchor(dt){if(!this.supportsScrolling())return;const Ke=function qr(Ce,dt){const Ke=Ce.getElementById(dt)||Ce.getElementsByName(dt)[0];if(Ke)return Ke;if("function"==typeof Ce.createTreeWalker&&Ce.body&&"function"==typeof Ce.body.attachShadow){const lt=Ce.createTreeWalker(Ce.body,NodeFilter.SHOW_ELEMENT);let Mt=lt.currentNode;for(;Mt;){const nn=Mt.shadowRoot;if(nn){const pn=nn.getElementById(dt)||nn.querySelector(`[name="${dt}"]`);if(pn)return pn}Mt=lt.nextNode()}}return null}(this.document,dt);Ke&&(this.scrollToElement(Ke),Ke.focus())}setHistoryScrollRestoration(dt){if(this.supportScrollRestoration()){const Ke=this.window.history;Ke&&Ke.scrollRestoration&&(Ke.scrollRestoration=dt)}}scrollToElement(dt){const Ke=dt.getBoundingClientRect(),lt=Ke.left+this.window.pageXOffset,Mt=Ke.top+this.window.pageYOffset,nn=this.offset();this.window.scrollTo(lt-nn[0],Mt-nn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const dt=ia(this.window.history)||ia(Object.getPrototypeOf(this.window.history));return!(!dt||!dt.writable&&!dt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ia(Ce){return Object.getOwnPropertyDescriptor(Ce,"scrollRestoration")}class Hi{}},5879:(bn,Ye,M)=>{"use strict";M.d(Ye,{$8M:()=>ah,$WT:()=>Lr,$Z:()=>bT,AFp:()=>r_,ALo:()=>xy,AaK:()=>v,AsE:()=>Lv,BQk:()=>af,CHM:()=>Sl,CRH:()=>jy,DdM:()=>_y,EJc:()=>VD,EiD:()=>Hl,EpF:()=>_d,F$t:()=>_v,F4k:()=>vd,FYo:()=>__,FiY:()=>iu,G48:()=>cx,Gf:()=>Uy,GfV:()=>y_,GkF:()=>pm,Gpc:()=>O,Gre:()=>NC,HDt:()=>d0,Hsn:()=>sf,Ikx:()=>sc,JOm:()=>lu,JVY:()=>CE,JZr:()=>I,Jf7:()=>C_,KtG:()=>la,L6k:()=>SE,LAX:()=>xE,LFG:()=>Se,LMc:()=>Ix,LSH:()=>Jc,Lbi:()=>Fh,Lck:()=>Ia,MAs:()=>cC,MGl:()=>lf,MMx:()=>dy,MR2:()=>Oh,NdJ:()=>mv,O4$:()=>Hd,Ojb:()=>gA,OlP:()=>Ii,Oqu:()=>Am,P3R:()=>Cu,PXZ:()=>tx,Q6J:()=>cv,QGY:()=>gm,QbO:()=>KE,Qsj:()=>oT,R0b:()=>vo,RDi:()=>EE,Rgc:()=>mc,SBq:()=>nd,SDv:()=>ny,Sil:()=>HD,Suo:()=>Vy,TTD:()=>Ud,TgZ:()=>fm,Tol:()=>Ov,Udp:()=>wv,VKq:()=>vy,VuI:()=>Cx,W1O:()=>Ky,WFA:()=>_m,WLB:()=>yy,XFs:()=>de,Xpm:()=>Pn,Xq5:()=>iv,Xts:()=>Ys,Y36:()=>Xl,YKP:()=>Ym,YNc:()=>vs,Yjl:()=>Oo,Yz7:()=>xe,Z0I:()=>he,ZZ4:()=>ao,_Bn:()=>ly,_UZ:()=>uv,_Vd:()=>td,_c5:()=>un,_uU:()=>AC,aQg:()=>wp,c2e:()=>c0,cJS:()=>K,cg1:()=>Om,d8E:()=>Im,dDg:()=>JD,dqk:()=>Ze,eBb:()=>DE,eFA:()=>S0,eJc:()=>sp,ekj:()=>Iv,eoX:()=>b0,f3M:()=>ge,g9A:()=>a_,h0i:()=>fc,hGG:()=>ml,hYB:()=>ym,hij:()=>wm,iGM:()=>By,ifc:()=>wt,ip1:()=>l0,jDz:()=>uy,kEZ:()=>by,kL8:()=>wa,kcU:()=>Yd,lG2:()=>lo,lcZ:()=>My,lqb:()=>Ws,lri:()=>v0,mCW:()=>to,n5z:()=>cg,n_E:()=>gf,oAB:()=>Ni,oJD:()=>Yl,oxw:()=>gv,pB0:()=>ME,q3G:()=>Hs,qFp:()=>pl,qLn:()=>Jl,qOj:()=>im,qZA:()=>hm,qzn:()=>Gs,rWj:()=>y0,rg0:()=>ls,s9C:()=>vm,sBO:()=>a1,s_b:()=>vf,soG:()=>Ef,tb:()=>bp,tp0:()=>ru,uIk:()=>cm,vHH:()=>T,vpe:()=>Oa,wAp:()=>cc,xi3:()=>Ay,xp6:()=>pT,ynx:()=>mm,z2F:()=>ul,z3N:()=>Wa,zSh:()=>Nh,zW0:()=>am,zs3:()=>zs});var e=M(8645),y=M(7394),E=M(5619),R=M(5592),b=M(3019),F=M(2096),L=M(3020),S=M(4664),m=M(3997);function h(l){for(let d in l)if(l[d]===h)return d;throw Error("Could not find renamed property on target object.")}function p(l,d){for(const f in d)d.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=d[f])}function v(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(v).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const d=l.toString();if(null==d)return""+d;const f=d.indexOf("\n");return-1===f?d:d.substring(0,f)}function w(l,d){return null==l||""===l?null===d?"":d:null==d||""===d?l:l+" "+d}const V=h({__forward_ref__:h});function O(l){return l.__forward_ref__=O,l.toString=function(){return v(this())},l}function G(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(V)&&l.__forward_ref__===O}function P(l){return l&&!!l.\u0275providers}const I="https://g.co/ng/security#xss";class T extends Error{constructor(d,f){super(function N(l,d){return`NG0${Math.abs(l)}${d?": "+d:""}`}(d,f)),this.code=d}}function C(l){return"string"==typeof l?l:null==l?"":String(l)}function Oe(l,d){throw new T(-201,!1)}function we(l,d,f,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${f} ${_} ${d} <=Actual]`))}function xe(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function K(l){return{providers:l.providers||[],imports:l.imports||[]}}function ie(l){return q(l,te)||q(l,J)}function he(l){return null!==ie(l)}function q(l,d){return l.hasOwnProperty(d)?l[d]:null}function W(l){return l&&(l.hasOwnProperty(X)||l.hasOwnProperty(Q))?l[X]:null}const te=h({\u0275prov:h}),X=h({\u0275inj:h}),J=h({ngInjectableDef:h}),Q=h({ngInjectorDef:h});var de=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(de||{});let pe;function Te(l){const d=pe;return pe=l,d}function Ve(l,d,f){const _=ie(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:f&de.Optional?null:void 0!==d?d:void Oe(v(l))}const Ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yt={},ut="__NG_DI_FLAG__",Ct="ngTempTokenPath",It=/\n/gm,Xt="__source";let cn;function nt(l){const d=cn;return cn=l,d}function at(l,d=de.Default){if(void 0===cn)throw new T(-203,!1);return null===cn?Ve(l,void 0,d):cn.get(l,d&de.Optional?null:void 0,d)}function Se(l,d=de.Default){return(function le(){return pe}()||at)(G(l),d)}function ge(l,d=de.Default){return Se(l,it(d))}function it(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function pt(l){const d=[];for(let f=0;f<l.length;f++){const _=G(l[f]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let D,j=de.Default;for(let ee=0;ee<_.length;ee++){const ye=_[ee],Re=Bt(ye);"number"==typeof Re?-1===Re?D=ye.token:j|=Re:D=ye}d.push(Se(D,j))}else d.push(Se(_))}return d}function kt(l,d){return l[ut]=d,l.prototype[ut]=d,l}function Bt(l){return l[ut]}function en(l){return{toString:l}.toString()}var bt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(bt||{}),wt=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(wt||{});const Zt={},Wt=[],dn=h({\u0275cmp:h}),gn=h({\u0275dir:h}),En=h({\u0275pipe:h}),Vn=h({\u0275mod:h}),jn=h({\u0275fac:h}),ei=h({__NG_ELEMENT_ID__:h}),_i=h({__NG_ENV_ID__:h});function gt(l,d,f){let _=l.length;for(;;){const D=l.indexOf(d,f);if(-1===D)return D;if(0===D||l.charCodeAt(D-1)<=32){const j=d.length;if(D+j===_||l.charCodeAt(D+j)<=32)return D}f=D+1}}function rt(l,d,f){let _=0;for(;_<f.length;){const D=f[_];if("number"==typeof D){if(0!==D)break;_++;const j=f[_++],ee=f[_++],ye=f[_++];l.setAttribute(d,ee,ye,j)}else{const j=D,ee=f[++_];je(j)?l.setProperty(d,j,ee):l.setAttribute(d,j,ee),_++}}return _}function Vt(l){return 3===l||4===l||6===l}function je(l){return 64===l.charCodeAt(0)}function Qe(l,d){if(null!==d&&0!==d.length)if(null===l||0===l.length)l=d.slice();else{let f=-1;for(let _=0;_<d.length;_++){const D=d[_];"number"==typeof D?f=D:0===f||_t(l,f,D,null,-1===f||2===f?d[++_]:null)}}return l}function _t(l,d,f,_,D){let j=0,ee=l.length;if(-1===d)ee=-1;else for(;j<l.length;){const ye=l[j++];if("number"==typeof ye){if(ye===d){ee=-1;break}if(ye>d){ee=j-1;break}}}for(;j<l.length;){const ye=l[j];if("number"==typeof ye)break;if(ye===f){if(null===_)return void(null!==D&&(l[j+1]=D));if(_===l[j+1])return void(l[j+2]=D)}j++,null!==_&&j++,null!==D&&j++}-1!==ee&&(l.splice(ee,0,d),j=ee+1),l.splice(j++,0,f),null!==_&&l.splice(j++,0,_),null!==D&&l.splice(j++,0,D)}const Pt="ng-template";function rn(l,d,f){let _=0,D=!0;for(;_<l.length;){let j=l[_++];if("string"==typeof j&&D){const ee=l[_++];if(f&&"class"===j&&-1!==gt(ee.toLowerCase(),d,0))return!0}else{if(1===j){for(;_<l.length&&"string"==typeof(j=l[_++]);)if(j.toLowerCase()===d)return!0;return!1}"number"==typeof j&&(D=!1)}}return!1}function hn(l){return 4===l.type&&l.value!==Pt}function xt(l,d,f){return d===(4!==l.type||f?l.value:Pt)}function St(l,d,f){let _=4;const D=l.attrs||[],j=function st(l){for(let d=0;d<l.length;d++)if(Vt(l[d]))return d;return l.length}(D);let ee=!1;for(let ye=0;ye<d.length;ye++){const Re=d[ye];if("number"!=typeof Re){if(!ee)if(4&_){if(_=2|1&_,""!==Re&&!xt(l,Re,f)||""===Re&&1===d.length){if(Rt(_))return!1;ee=!0}}else{const et=8&_?Re:d[++ye];if(8&_&&null!==l.attrs){if(!rn(l.attrs,et,f)){if(Rt(_))return!1;ee=!0}continue}const Tt=$t(8&_?"class":Re,D,hn(l),f);if(-1===Tt){if(Rt(_))return!1;ee=!0;continue}if(""!==et){let Ht;Ht=Tt>j?"":D[Tt+1].toLowerCase();const zt=8&_?Ht:null;if(zt&&-1!==gt(zt,et,0)||2&_&&et!==Ht){if(Rt(_))return!1;ee=!0}}}}else{if(!ee&&!Rt(_)&&!Rt(Re))return!1;if(ee&&Rt(Re))continue;ee=!1,_=Re|1&_}}return Rt(_)||ee}function Rt(l){return 0==(1&l)}function $t(l,d,f,_){if(null===d)return-1;let D=0;if(_||!f){let j=!1;for(;D<d.length;){const ee=d[D];if(ee===l)return D;if(3===ee||6===ee)j=!0;else{if(1===ee||2===ee){let ye=d[++D];for(;"string"==typeof ye;)ye=d[++D];continue}if(4===ee)break;if(0===ee){D+=4;continue}}D+=j?1:2}return-1}return function Yt(l,d){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const _=l[f];if("number"==typeof _)return-1;if(_===d)return f;f++}return-1}(d,l)}function ln(l,d,f=!1){for(let _=0;_<d.length;_++)if(St(l,d[_],f))return!0;return!1}function ve(l,d){e:for(let f=0;f<d.length;f++){const _=d[f];if(l.length===_.length){for(let D=0;D<l.length;D++)if(l[D]!==_[D])continue e;return!0}}return!1}function tt(l,d){return l?":not("+d.trim()+")":d}function $e(l){let d=l[0],f=1,_=2,D="",j=!1;for(;f<l.length;){let ee=l[f];if("string"==typeof ee)if(2&_){const ye=l[++f];D+="["+ee+(ye.length>0?'="'+ye+'"':"")+"]"}else 8&_?D+="."+ee:4&_&&(D+=" "+ee);else""!==D&&!Rt(ee)&&(d+=tt(j,D),D=""),_=ee,j=j||!Rt(_);f++}return""!==D&&(d+=tt(j,D)),d}function Pn(l){return en(()=>{const d=na(l),f={...d,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||wt.Emulated,styles:l.styles||Wt,_:null,schemas:l.schemas||null,tView:null,id:""};ga(f);const _=l.dependencies;return f.directiveDefs=kr(_,!1),f.pipeDefs=kr(_,!0),f.id=function as(l){let d=0;const f=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const D of f)d=Math.imul(31,d)+D.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(f),f})}function Qi(l){return Zn(l)||ji(l)}function Xi(l){return null!==l}function Ni(l){return en(()=>({type:l.type,bootstrap:l.bootstrap||Wt,declarations:l.declarations||Wt,imports:l.imports||Wt,exports:l.exports||Wt,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Io(l,d){if(null==l)return Zt;const f={};for(const _ in l)if(l.hasOwnProperty(_)){let D=l[_],j=D;Array.isArray(D)&&(j=D[1],D=D[0]),f[D]=_,d&&(d[D]=j)}return f}function lo(l){return en(()=>{const d=na(l);return ga(d),d})}function Oo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Zn(l){return l[dn]||null}function ji(l){return l[gn]||null}function hr(l){return l[En]||null}function Lr(l){const d=Zn(l)||ji(l)||hr(l);return null!==d&&d.standalone}function rr(l,d){const f=l[Vn]||null;if(!f&&!0===d)throw new Error(`Type ${v(l)} does not have '\u0275mod' property.`);return f}function na(l){const d={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:l.inputs||Zt,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||Wt,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Io(l.inputs,d),outputs:Io(l.outputs)}}function ga(l){l.features?.forEach(d=>d(l))}function kr(l,d){if(!l)return null;const f=d?hr:Qi;return()=>("function"==typeof l?l():l).map(_=>f(_)).filter(Xi)}const Oi=0,Un=1,Qn=2,xi=3,yr=4,jr=5,er=6,Mr=7,At=8,on=9,Sn=10,Dn=11,Kn=12,ti=13,ui=14,Xn=15,Pi=16,Gi=17,tr=18,Fr=19,Cs=20,Zr=21,$r=22,Uo=23,_a=24,mi=25,Ss=1,bl=2,Br=7,qr=9,Hi=11;function mr(l){return Array.isArray(l)&&"object"==typeof l[Ss]}function Ar(l){return Array.isArray(l)&&!0===l[Ss]}function Fa(l){return 0!=(4&l.flags)}function Po(l){return l.componentOffset>-1}function br(l){return 1==(1&l.flags)}function or(l){return!!l.template}function oa(l){return 0!=(512&l[Qn])}function Ge(l,d){return l.hasOwnProperty(jn)?l[jn]:null}let si=Ze.WeakRef??class Fn{constructor(d){this.ref=d}deref(){return this.ref}},aa=0,qi=null,sa=!1;function nr(l){const d=qi;return qi=l,d}class fo{constructor(){this.id=aa++,this.ref=function _r(l){return new si(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,f]of this.producers){const _=f.producerNode.deref();if(null!=_&&f.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(f.seenValueVersion))return!0}else this.producers.delete(d),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=sa;sa=!0;try{for(const[f,_]of this.consumers){const D=_.consumerNode.deref();null!=D&&D.trackingVersion===_.atTrackingVersion?D.onConsumerDependencyMayHaveChanged():(this.consumers.delete(f),D?.producers.delete(this.id))}}finally{sa=d}}producerAccessed(){if(sa)throw new Error("");if(null===qi)return;let d=qi.producers.get(this.id);void 0===d?(d={consumerNode:qi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:qi.trackingVersion},qi.producers.set(this.id,d),this.consumers.set(qi.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=qi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==qi?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}let Mc=null;function ls(l){const d=nr(null);try{return l()}finally{nr(d)}}const Bf=()=>{};class El extends fo{constructor(d,f,_){super(),this.watch=d,this.schedule=f,this.dirty=!1,this.cleanupFn=Bf,this.registerOnCleanup=D=>{this.cleanupFn=D},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=nr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Bf,this.watch(this.registerOnCleanup)}finally{nr(d)}}cleanup(){this.cleanupFn()}}class Ic{constructor(d,f,_){this.previousValue=d,this.currentValue=f,this.firstChange=_}isFirstChange(){return this.firstChange}}function Ud(){return Os}function Os(l){return l.type.prototype.ngOnChanges&&(l.setInput=Uf),Ps}function Ps(){const l=Vf(this),d=l?.current;if(d){const f=l.previous;if(f===Zt)l.previous=d;else for(let _ in d)f[_]=d[_];l.current=null,this.ngOnChanges(d)}}function Uf(l,d,f,_){const D=this.declaredInputs[f],j=Vf(l)||function Vd(l,d){return l[Tl]=d}(l,{previous:Zt,current:null}),ee=j.current||(j.current={}),ye=j.previous,Re=ye[D];ee[D]=new Ic(Re&&Re.currentValue,d,ye===Zt),l[_]=d}Ud.ngInherit=!0;const Tl="__ngSimpleChanges__";function Vf(l){return l[Tl]||null}const Go=function(l,d,f){},Gf="svg";function Ji(l){for(;Array.isArray(l);)l=l[Oi];return l}function Ce(l,d){return Ji(d[l])}function dt(l,d){return Ji(d[l.index])}function lt(l,d){return l.data[d]}function Mt(l,d){return l[d]}function nn(l,d){const f=d[l];return mr(f)?f:f[Oi]}function Ei(l,d){return null==d?null:l[d]}function vi(l){l[Gi]=0}function gi(l){1024&l[Qn]||(l[Qn]|=1024,Fi(l,1))}function ir(l){1024&l[Qn]&&(l[Qn]&=-1025,Fi(l,-1))}function Fi(l,d){let f=l[xi];if(null===f)return;f[jr]+=d;let _=f;for(f=f[xi];null!==f&&(1===d&&1===_[jr]||-1===d&&0===_[jr]);)f[jr]+=d,_=f,f=f[xi]}const zn={lFrame:qf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zp(){return zn.bindingsEnabled}function Cl(){return null!==zn.skipHydrationRootTNode}function Tn(){return zn.lFrame.lView}function Si(){return zn.lFrame.tView}function Sl(l){return zn.lFrame.contextLView=l,l[At]}function la(l){return zn.lFrame.contextLView=null,l}function wr(){let l=us();for(;null!==l&&64===l.type;)l=l.parent;return l}function us(){return zn.lFrame.currentTNode}function fs(){const l=zn.lFrame,d=l.currentTNode;return l.isParent?d:d.parent}function Eo(l,d){const f=zn.lFrame;f.currentTNode=l,f.isParent=d}function Pc(){return zn.lFrame.isParent}function Kf(){zn.lFrame.isParent=!1}function ho(){const l=zn.lFrame;let d=l.bindingRootIndex;return-1===d&&(d=l.bindingRootIndex=l.tView.bindingStartIndex),d}function Dl(){return zn.lFrame.bindingIndex++}function Ha(l){const d=zn.lFrame,f=d.bindingIndex;return d.bindingIndex=d.bindingIndex+l,f}function Jp(l){zn.lFrame.inI18n=l}function Qp(l,d){const f=zn.lFrame;f.bindingIndex=f.bindingRootIndex=l,Wf(d)}function Wf(l){zn.lFrame.currentDirectiveIndex=l}function Ns(l){const d=zn.lFrame.currentDirectiveIndex;return-1===d?null:l[d]}function zf(){return zn.lFrame.currentQueryIndex}function Rc(l){zn.lFrame.currentQueryIndex=l}function Zf(l){const d=l[Un];return 2===d.type?d.declTNode:1===d.type?l[er]:null}function Ta(l,d,f){if(f&de.SkipSelf){let D=d,j=l;for(;!(D=D.parent,null!==D||f&de.Host||(D=Zf(j),null===D||(j=j[ui],10&D.type))););if(null===D)return!1;d=D,l=j}const _=zn.lFrame=$f();return _.currentTNode=d,_.lView=l,!0}function hs(l){const d=$f(),f=l[Un];zn.lFrame=d,d.currentTNode=f.firstChild,d.lView=l,d.tView=f,d.contextLView=l,d.bindingIndex=f.bindingStartIndex,d.inI18n=!1}function $f(){const l=zn.lFrame,d=null===l?null:l.child;return null===d?qf(l):d}function qf(l){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=d),d}function Xp(){const l=zn.lFrame;return zn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Ir=Xp;function jd(){const l=Xp();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Jr(){return zn.lFrame.selectedIndex}function Ya(l){zn.lFrame.selectedIndex=l}function sr(){const l=zn.lFrame;return lt(l.tView,l.selectedIndex)}function Hd(){zn.lFrame.currentNamespace=Gf}function Yd(){!function wb(){zn.lFrame.currentNamespace=null}()}let Qf=!0;function Kd(){return Qf}function Yo(l){Qf=l}function Wd(l,d){for(let f=d.directiveStart,_=d.directiveEnd;f<_;f++){const j=l.data[f].type.prototype,{ngAfterContentInit:ee,ngAfterContentChecked:ye,ngAfterViewInit:Re,ngAfterViewChecked:et,ngOnDestroy:ht}=j;ee&&(l.contentHooks??=[]).push(-f,ee),ye&&((l.contentHooks??=[]).push(f,ye),(l.contentCheckHooks??=[]).push(f,ye)),Re&&(l.viewHooks??=[]).push(-f,Re),et&&((l.viewHooks??=[]).push(f,et),(l.viewCheckHooks??=[]).push(f,et)),null!=ht&&(l.destroyHooks??=[]).push(f,ht)}}function xl(l,d,f){Xf(l,d,3,f)}function Lc(l,d,f,_){(3&l[Qn])===f&&Xf(l,d,f,_)}function zd(l,d){let f=l[Qn];(3&f)===d&&(f&=8191,f+=1,l[Qn]=f)}function Xf(l,d,f,_){const j=_??-1,ee=d.length-1;let ye=0;for(let Re=void 0!==_?65535&l[Gi]:0;Re<ee;Re++)if("number"==typeof d[Re+1]){if(ye=d[Re],null!=_&&ye>=_)break}else d[Re]<0&&(l[Gi]+=65536),(ye<j||-1==j)&&(eg(l,f,d,Re),l[Gi]=(4294901760&l[Gi])+Re+2),Re++}function eh(l,d){Go(4,l,d);const f=nr(null);try{d.call(l)}finally{nr(f),Go(5,l,d)}}function eg(l,d,f,_){const D=f[_]<0,j=f[_+1],ye=l[D?-f[_]:f[_]];D?l[Qn]>>13<l[Gi]>>16&&(3&l[Qn])===d&&(l[Qn]+=8192,eh(ye,j)):eh(ye,j)}const Ml=-1;class Zd{constructor(d,f,_){this.factory=d,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=_}}function Ko(l){return l!==Ml}function $d(l){return 32767&l}function th(l,d){let f=function kc(l){return l>>16}(l),_=d;for(;f>0;)_=_[ui],f--;return _}let nh=!0;function qd(l){const d=nh;return nh=l,d}const Fc=255,ig=5;let Rb=0;const mo={};function Jd(l,d){const f=Al(l,d);if(-1!==f)return f;const _=d[Un];_.firstCreatePass&&(l.injectorIndex=d.length,ih(_.data,l),ih(d,null),ih(_.blueprint,null));const D=Ls(l,d),j=l.injectorIndex;if(Ko(D)){const ee=$d(D),ye=th(D,d),Re=ye[Un].data;for(let et=0;et<8;et++)d[j+et]=ye[ee+et]|Re[ee+et]}return d[j+8]=D,j}function ih(l,d){l.push(0,0,0,0,0,0,0,0,d)}function Al(l,d){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===d[l.injectorIndex+8]?-1:l.injectorIndex}function Ls(l,d){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,_=null,D=d;for(;null!==D;){if(_=dg(D),null===_)return Ml;if(f++,D=D[ui],-1!==_.injectorIndex)return _.injectorIndex|f<<16}return Ml}function rh(l,d,f){!function Bc(l,d,f){let _;"string"==typeof f?_=f.charCodeAt(0)||0:f.hasOwnProperty(ei)&&(_=f[ei]),null==_&&(_=f[ei]=Rb++);const D=_&Fc;d.data[l+(D>>ig)]|=1<<D}(l,d,f)}function rg(l,d,f){if(f&de.Optional||void 0!==l)return l;Oe()}function og(l,d,f,_){if(f&de.Optional&&void 0===_&&(_=null),!(f&(de.Self|de.Host))){const D=l[on],j=Te(void 0);try{return D?D.get(d,_,f&de.Optional):Ve(d,_,f&de.Optional)}finally{Te(j)}}return rg(_,0,f)}function ag(l,d,f,_=de.Default,D){if(null!==l){if(2048&d[Qn]&&!(_&de.Self)){const ee=function kb(l,d,f,_,D){let j=l,ee=d;for(;null!==j&&null!==ee&&2048&ee[Qn]&&!(512&ee[Qn]);){const ye=sg(j,ee,f,_|de.Self,mo);if(ye!==mo)return ye;let Re=j.parent;if(!Re){const et=ee[Cs];if(et){const ht=et.get(f,mo,_);if(ht!==mo)return ht}Re=dg(ee),ee=ee[ui]}j=Re}return D}(l,d,f,_,mo);if(ee!==mo)return ee}const j=sg(l,d,f,_,mo);if(j!==mo)return j}return og(d,f,_,D)}function sg(l,d,f,_,D){const j=function Xd(l){if("string"==typeof l)return l.charCodeAt(0)||0;const d=l.hasOwnProperty(ei)?l[ei]:void 0;return"number"==typeof d?d>=0?d&Fc:Lb:d}(f);if("function"==typeof j){if(!Ta(d,l,_))return _&de.Host?rg(D,0,_):og(d,f,_,D);try{const ee=j(_);if(null!=ee||_&de.Optional)return ee;Oe()}finally{Ir()}}else if("number"==typeof j){let ee=null,ye=Al(l,d),Re=Ml,et=_&de.Host?d[Xn][er]:null;for((-1===ye||_&de.SkipSelf)&&(Re=-1===ye?Ls(l,d):d[ye+8],Re!==Ml&&lg(_,!1)?(ee=d[Un],ye=$d(Re),d=th(Re,d)):ye=-1);-1!==ye;){const ht=d[Un];if(ks(j,ye,ht.data)){const Tt=$M(ye,d,f,ee,_,et);if(Tt!==mo)return Tt}Re=d[ye+8],Re!==Ml&&lg(_,d[Un].data[ye+8]===et)&&ks(j,ye,d)?(ee=ht,ye=$d(Re),d=th(Re,d)):ye=-1}}return D}function $M(l,d,f,_,D,j){const ee=d[Un],ye=ee.data[l+8],ht=Qd(ye,ee,f,null==_?Po(ye)&&nh:_!=ee&&0!=(3&ye.type),D&de.Host&&j===ye);return null!==ht?ms(d,ee,ht,ye):mo}function Qd(l,d,f,_,D){const j=l.providerIndexes,ee=d.data,ye=1048575&j,Re=l.directiveStart,ht=j>>20,Ht=D?ye+ht:l.directiveEnd;for(let zt=_?ye:ye+ht;zt<Ht;zt++){const mn=ee[zt];if(zt<Re&&f===mn||zt>=Re&&mn.type===f)return zt}if(D){const zt=ee[Re];if(zt&&or(zt)&&zt.type===f)return Re}return null}function ms(l,d,f,_){let D=l[f];const j=d.data;if(function KM(l){return l instanceof Zd}(D)){const ee=D;ee.resolving&&function Y(l,d){const f=d?`. Dependency path: ${d.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${f}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():C(l)}(j[f]));const ye=qd(ee.canSeeViewProviders);ee.resolving=!0;const Re=ee.injectImpl?Te(ee.injectImpl):null;Ta(l,_,de.Default);try{D=l[f]=ee.factory(void 0,j,l,_),d.firstCreatePass&&f>=_.directiveStart&&function Ib(l,d,f){const{ngOnChanges:_,ngOnInit:D,ngDoCheck:j}=d.type.prototype;if(_){const ee=Os(d);(f.preOrderHooks??=[]).push(l,ee),(f.preOrderCheckHooks??=[]).push(l,ee)}D&&(f.preOrderHooks??=[]).push(0-l,D),j&&((f.preOrderHooks??=[]).push(l,j),(f.preOrderCheckHooks??=[]).push(l,j))}(f,j[f],d)}finally{null!==Re&&Te(Re),qd(ye),ee.resolving=!1,Ir()}}return D}function ks(l,d,f){return!!(f[d+(l>>ig)]&1<<l)}function lg(l,d){return!(l&de.Self||l&de.Host&&d)}class wl{constructor(d,f){this._tNode=d,this._lView=f}get(d,f,_){return ag(this._tNode,this._lView,d,it(_),f)}}function Lb(){return new wl(wr(),Tn())}function cg(l){return en(()=>{const d=l.prototype.constructor,f=d[jn]||oh(d),_=Object.prototype;let D=Object.getPrototypeOf(l.prototype).constructor;for(;D&&D!==_;){const j=D[jn]||oh(D);if(j&&j!==f)return j;D=Object.getPrototypeOf(D)}return j=>new j})}function oh(l){return k(l)?()=>{const d=oh(G(l));return d&&d()}:Ge(l)}function dg(l){const d=l[Un],f=d.type;return 2===f?d.declTNode:1===f?l[er]:null}function ah(l){return function Nb(l,d){if("class"===d)return l.classes;if("style"===d)return l.styles;const f=l.attrs;if(f){const _=f.length;let D=0;for(;D<_;){const j=f[D];if(Vt(j))break;if(0===j)D+=2;else if("number"==typeof j)for(D++;D<_&&"string"==typeof f[D];)D++;else{if(j===d)return f[D+1];D+=2}}}return null}(wr(),l)}const Fs="__parameters__";function ca(l,d,f){return en(()=>{const _=function eu(l){return function(...f){if(l){const _=l(...f);for(const D in _)this[D]=_[D]}}}(d);function D(...j){if(this instanceof D)return _.apply(this,j),this;const ee=new D(...j);return ye.annotation=ee,ye;function ye(Re,et,ht){const Tt=Re.hasOwnProperty(Fs)?Re[Fs]:Object.defineProperty(Re,Fs,{value:[]})[Fs];for(;Tt.length<=ht;)Tt.push(null);return(Tt[ht]=Tt[ht]||[]).push(ee),Re}}return f&&(D.prototype=Object.create(f.prototype)),D.prototype.ngMetadataName=l,D.annotationCls=D,D})}function jc(l,d){l.forEach(f=>Array.isArray(f)?jc(f,d):d(f))}function hg(l,d,f){d>=l.length?l.push(f):l.splice(d,0,f)}function nu(l,d){return d>=l.length-1?l.pop():l.splice(d,1)[0]}function Rl(l,d){const f=[];for(let _=0;_<l;_++)f.push(d);return f}function Lo(l,d,f){let _=Nl(l,d);return _>=0?l[1|_]=f:(_=~_,function mg(l,d,f,_){let D=l.length;if(D==d)l.push(f,_);else if(1===D)l.push(_,l[0]),l[0]=f;else{for(D--,l.push(l[D-1],l[D]);D>d;)l[D]=l[D-2],D--;l[d]=f,l[d+1]=_}}(l,_,d,f)),_}function sh(l,d){const f=Nl(l,d);if(f>=0)return l[1|f]}function Nl(l,d){return function pg(l,d,f){let _=0,D=l.length>>f;for(;D!==_;){const j=_+(D-_>>1),ee=l[j<<f];if(d===ee)return j<<f;ee>d?D=j:_=j+1}return~(D<<f)}(l,d,1)}const iu=kt(ca("Optional"),8),ru=kt(ca("SkipSelf"),4);function zo(l){return 128==(128&l.flags)}var lu=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(lu||{});const nE=/^>|^->|<!--|-->|--!>|<!-$/g,iE=/(<|>)/,rE="\u200b$1\u200b";const vh=new Map;let sA=0;const Zo="__ngContext__";function Qr(l,d){mr(d)?(l[Zo]=d[Fr],function cA(l){vh.set(l[Fr],l)}(d)):l[Zo]=d}let Eh;function Th(l,d){return Eh(l,d)}function js(l){const d=l[xi];return Ar(d)?d[xi]:d}function Ig(l){return Ch(l[Kn])}function Pr(l){return Ch(l[yr])}function Ch(l){for(;null!==l&&!Ar(l);)l=l[yr];return l}function Ul(l,d,f,_,D){if(null!=_){let j,ee=!1;Ar(_)?j=_:mr(_)&&(ee=!0,_=_[Oi]);const ye=Ji(_);0===l&&null!==f?null==D?Cn(d,f,ye):Ka(d,f,ye,D||null,!0):1===l&&null!==f?Ka(d,f,ye,D||null,!0):2===l?function Kc(l,d,f){const _=fu(l,d);_&&function Wi(l,d,f,_){l.removeChild(d,f,_)}(l,_,d,f)}(d,ye,ee):3===l&&d.destroyNode(ye),null!=j&&function vE(l,d,f,_,D){const j=f[Br];j!==Ji(f)&&Ul(d,l,_,j,D);for(let ye=Hi;ye<f.length;ye++){const Re=f[ye];Wc(Re[Un],Re,l,d,_,j)}}(d,l,j,f,D)}}function fi(l,d){return l.createText(d)}function ni(l,d){return l.createComment(function _h(l){return l.replace(nE,d=>d.replace(iE,rE))}(d))}function wi(l,d,f){return l.createElement(d,f)}function Og(l,d){const f=l[qr],_=f.indexOf(d);ir(d),f.splice(_,1)}function du(l,d){if(l.length<=Hi)return;const f=Hi+d,_=l[f];if(_){const D=_[Pi];null!==D&&D!==l&&Og(D,_),d>0&&(l[f-1][yr]=_[yr]);const j=nu(l,Hi+d);!function uE(l,d){Wc(l,d,d[Dn],2,null,null),d[Oi]=null,d[er]=null}(_[Un],_);const ee=j[tr];null!==ee&&ee.detachView(j[Un]),_[xi]=null,_[yr]=null,_[Qn]&=-129}return _}function Pg(l,d){if(!(256&d[Qn])){const f=d[Dn];d[Uo]?.destroy(),d[_a]?.destroy(),f.destroyNode&&Wc(l,d,f,3,null,null),function hE(l){let d=l[Kn];if(!d)return Ui(l[Un],l);for(;d;){let f=null;if(mr(d))f=d[Kn];else{const _=d[Hi];_&&(f=_)}if(!f){for(;d&&!d[yr]&&d!==l;)mr(d)&&Ui(d[Un],d),d=d[xi];null===d&&(d=l),mr(d)&&Ui(d[Un],d),f=d&&d[yr]}d=f}}(d)}}function Ui(l,d){if(!(256&d[Qn])){d[Qn]&=-129,d[Qn]|=256,function gE(l,d){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let _=0;_<f.length;_+=2){const D=d[f[_]];if(!(D instanceof Zd)){const j=f[_+1];if(Array.isArray(j))for(let ee=0;ee<j.length;ee+=2){const ye=D[j[ee]],Re=j[ee+1];Go(4,ye,Re);try{Re.call(ye)}finally{Go(5,ye,Re)}}else{Go(4,D,j);try{j.call(D)}finally{Go(5,D,j)}}}}}(l,d),function yi(l,d){const f=l.cleanup,_=d[Mr];if(null!==f)for(let j=0;j<f.length-1;j+=2)if("string"==typeof f[j]){const ee=f[j+3];ee>=0?_[ee]():_[-ee].unsubscribe(),j+=2}else f[j].call(_[f[j+1]]);null!==_&&(d[Mr]=null);const D=d[Zr];if(null!==D){d[Zr]=null;for(let j=0;j<D.length;j++)(0,D[j])()}}(l,d),1===d[Un].type&&d[Dn].destroy();const f=d[Pi];if(null!==f&&Ar(d[xi])){f!==d[xi]&&Og(f,d);const _=d[tr];null!==_&&_.detachView(l)}!function dA(l){vh.delete(l[Fr])}(d)}}function Rg(l,d,f){return Er(l,d.parent,f)}function Er(l,d,f){let _=d;for(;null!==_&&40&_.type;)_=(d=_).parent;if(null===_)return f[Oi];{const{componentOffset:D}=_;if(D>-1){const{encapsulation:j}=l.data[_.directiveStart+D];if(j===wt.None||j===wt.Emulated)return null}return dt(_,f)}}function Ka(l,d,f,_,D){l.insertBefore(d,f,_,D)}function Cn(l,d,f){l.appendChild(d,f)}function Sa(l,d,f,_,D){null!==_?Ka(l,d,f,_,D):Cn(l,d,f)}function fu(l,d){return l.parentNode(d)}function Ng(l,d,f){return $n(l,d,f)}function Lg(l,d,f){return 40&l.type?dt(l,f):null}let kg,pu,qo,eo,$n=Lg;function Fg(l,d){$n=l,kg=d}function $o(l,d,f,_){const D=Rg(l,_,d),j=d[Dn],ye=Ng(_.parent||d[er],_,d);if(null!=D)if(Array.isArray(f))for(let Re=0;Re<f.length;Re++)Sa(j,D,f[Re],ye,!1);else Sa(j,D,f,ye,!1);void 0!==kg&&kg(j,_,d,f,D)}function Rr(l,d){if(null!==d){const f=d.type;if(3&f)return dt(d,l);if(4&f)return xh(-1,l[d.index]);if(8&f){const _=d.child;if(null!==_)return Rr(l,_);{const D=l[d.index];return Ar(D)?xh(-1,D):Ji(D)}}if(32&f)return Th(d,l)()||Ji(l[d.index]);{const _=Dh(l,d);return null!==_?Array.isArray(_)?_[0]:Rr(js(l[Xn]),_):Rr(l,d.next)}}return null}function Dh(l,d){return null!==d?l[Xn][er].projection[d.projection]:null}function xh(l,d){const f=Hi+l+1;if(f<d.length){const _=d[f],D=_[Un].firstChild;if(null!==D)return Rr(_,D)}return d[Br]}function Ah(l,d,f,_,D,j,ee){for(;null!=f;){const ye=_[f.index],Re=f.type;if(ee&&0===d&&(ye&&Qr(Ji(ye),_),f.flags|=2),32!=(32&f.flags))if(8&Re)Ah(l,d,f.child,_,D,j,!1),Ul(d,l,D,ye,j);else if(32&Re){const et=Th(f,_);let ht;for(;ht=et();)Ul(d,l,D,ht,j);Ul(d,l,D,ye,j)}else 16&Re?hu(l,d,_,f,D,j):Ul(d,l,D,ye,j);f=ee?f.projectionNext:f.next}}function Wc(l,d,f,_,D,j){Ah(f,_,l.firstChild,d,D,j,!1)}function hu(l,d,f,_,D,j){const ee=f[Xn],Re=ee[er].projection[_.projection];if(Array.isArray(Re))for(let et=0;et<Re.length;et++)Ul(d,l,D,Re[et],j);else{let et=Re;const ht=ee[xi];zo(_)&&(et.flags|=128),Ah(l,d,et,ht,D,j,!0)}}function mu(l,d,f){""===f?l.removeAttribute(d,"class"):l.setAttribute(d,"class",f)}function Vg(l,d,f){const{mergedAttrs:_,classes:D,styles:j}=f;null!==_&&rt(l,d,_),null!==D&&mu(l,d,D),null!==j&&function Ug(l,d,f){l.setAttribute(d,"style",f)}(l,d,j)}function Vl(l){return function gu(){if(void 0===pu&&(pu=null,Ze.trustedTypes))try{pu=Ze.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return pu}()?.createHTML(l)||l}function EE(l){qo=l}function jl(){if(void 0!==qo)return qo;if(typeof document<"u")return document;throw new T(210,!1)}function ko(){if(void 0===eo&&(eo=null,Ze.trustedTypes))try{eo=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return eo}function Jo(l){return ko()?.createHTML(l)||l}function vu(l){return ko()?.createScriptURL(l)||l}class da{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I})`}}class Gl extends da{getTypeName(){return"HTML"}}class zc extends da{getTypeName(){return"Style"}}class TE extends da{getTypeName(){return"Script"}}class jg extends da{getTypeName(){return"URL"}}class Zc extends da{getTypeName(){return"ResourceURL"}}function Wa(l){return l instanceof da?l.changingThisBreaksApplicationSecurity:l}function Gs(l,d){const f=function Gg(l){return l instanceof da&&l.getTypeName()||null}(l);if(null!=f&&f!==d){if("ResourceURL"===f&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${f} (see ${I})`)}return f===d}function CE(l){return new Gl(l)}function SE(l){return new zc(l)}function DE(l){return new TE(l)}function xE(l){return new jg(l)}function ME(l){return new Zc(l)}function Hg(l){const d=new wE(l);return function IE(){try{return!!(new window.DOMParser).parseFromString(Vl(""),"text/html")}catch{return!1}}()?new AE(d):d}class AE{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const f=(new window.DOMParser).parseFromString(Vl(d),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(d):(f.removeChild(f.firstChild),f)}catch{return null}}}class wE{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const f=this.inertDocument.createElement("template");return f.innerHTML=Vl(d),f}}const OE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function to(l){return(l=String(l)).match(OE)?l:"unsafe:"+l}function po(l){const d={};for(const f of l.split(","))d[f]=!0;return d}function no(...l){const d={};for(const f of l)for(const _ in f)f.hasOwnProperty(_)&&(d[_]=!0);return d}const yu=po("area,br,col,hr,img,wbr"),za=po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gs=po("rp,rt"),bu=no(yu,no(za,po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),no(gs,po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),no(gs,za)),_s=po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zg=no(_s,po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Za=po("script,style,template");class PE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let f=d.firstChild,_=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?_=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,_&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let D=this.checkClobberedElement(f,f.nextSibling);if(D){f=D;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(d){const f=d.nodeName.toLowerCase();if(!bu.hasOwnProperty(f))return this.sanitizedSomething=!0,!Za.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const _=d.attributes;for(let D=0;D<_.length;D++){const j=_.item(D),ee=j.name,ye=ee.toLowerCase();if(!zg.hasOwnProperty(ye)){this.sanitizedSomething=!0;continue}let Re=j.value;_s[ye]&&(Re=to(Re)),this.buf.push(" ",ee,'="',Tu(Re),'"')}return this.buf.push(">"),!0}endElement(d){const f=d.nodeName.toLowerCase();bu.hasOwnProperty(f)&&!yu.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(d){this.buf.push(Tu(d))}checkClobberedElement(d,f){if(f&&(d.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return f}}const Da=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eu=/([^\#-~ |!])/g;function Tu(l){return l.replace(/&/g,"&amp;").replace(Da,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(Eu,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qc;function Hl(l,d){let f=null;try{qc=qc||Hg(l);let _=d?String(d):"";f=qc.getInertBodyElement(_);let D=5,j=_;do{if(0===D)throw new Error("Failed to sanitize html because the input is unstable");D--,_=j,j=f.innerHTML,f=qc.getInertBodyElement(_)}while(_!==j);return Vl((new PE).sanitizeChildren(Ih(f)||f))}finally{if(f){const _=Ih(f)||f;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function Ih(l){return"content"in l&&function Zg(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Hs=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(Hs||{});function Yl(l){const d=Wl();return d?Jo(d.sanitize(Hs.HTML,l)||""):Gs(l,"HTML")?Jo(Wa(l)):Hl(jl(),C(l))}function Jc(l){const d=Wl();return d?d.sanitize(Hs.URL,l)||"":Gs(l,"URL")?Wa(l):to(C(l))}function qg(l){const d=Wl();if(d)return vu(d.sanitize(Hs.RESOURCE_URL,l)||"");if(Gs(l,"ResourceURL"))return vu(Wa(l));throw new T(904,!1)}function Cu(l,d,f){return function Kl(l,d){return"src"===d&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===d&&("base"===l||"link"===l)?qg:Jc}(d,f)(l)}function Wl(){const l=Tn();return l&&l[Sn].sanitizer}class Ii{constructor(d,f){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=xe({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ys=new Ii("ENVIRONMENT_INITIALIZER"),Qg=new Ii("INJECTOR",-1),Xg=new Ii("INJECTOR_DEF_TYPES");class e_{get(d,f=yt){if(f===yt){const _=new Error(`NullInjectorError: No provider for ${v(d)}!`);throw _.name="NullInjectorError",_}return f}}function Oh(l){return{\u0275providers:l}}function FE(...l){return{\u0275providers:zl(0,l),\u0275fromNgModule:!0}}function zl(l,...d){const f=[],_=new Set;let D;return jc(d,j=>{const ee=j;Qc(ee,f,[],_)&&(D||=[],D.push(ee))}),void 0!==D&&t_(D,f),f}function t_(l,d){for(let f=0;f<l.length;f++){const{providers:D}=l[f];Ph(D,j=>{d.push(j)})}}function Qc(l,d,f,_){if(!(l=G(l)))return!1;let D=null,j=W(l);const ee=!j&&Zn(l);if(j||ee){if(ee&&!ee.standalone)return!1;D=l}else{const Re=l.ngModule;if(j=W(Re),!j)return!1;D=Re}const ye=_.has(D);if(ee){if(ye)return!1;if(_.add(D),ee.dependencies){const Re="function"==typeof ee.dependencies?ee.dependencies():ee.dependencies;for(const et of Re)Qc(et,d,f,_)}}else{if(!j)return!1;{if(null!=j.imports&&!ye){let et;_.add(D);try{jc(j.imports,ht=>{Qc(ht,d,f,_)&&(et||=[],et.push(ht))})}finally{}void 0!==et&&t_(et,d)}if(!ye){const et=Ge(D)||(()=>new D);d.push({provide:D,useFactory:et,deps:Wt},{provide:Xg,useValue:D,multi:!0},{provide:Ys,useValue:()=>Se(D),multi:!0})}const Re=j.providers;null==Re||ye||Ph(Re,ht=>{d.push(ht)})}}return D!==l&&void 0!==l.providers}function Ph(l,d){for(let f of l)P(f)&&(f=f.\u0275providers),Array.isArray(f)?Ph(f,d):d(f)}const BE=h({provide:String,useValue:h});function Rh(l){return null!==l&&"object"==typeof l&&BE in l}function Ks(l){return"function"==typeof l}const Nh=new Ii("Set Injector scope."),Su={},VE={};let Lh;function Du(){return void 0===Lh&&(Lh=new e_),Lh}class Ws{}class xu extends Ws{get destroyed(){return this._destroyed}constructor(d,f,_,D){super(),this.parent=f,this.source=_,this.scopes=D,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kh(d,ee=>this.processProvider(ee)),this.records.set(Qg,Zl(void 0,this)),D.has("environment")&&this.records.set(Ws,Zl(void 0,this));const j=this.records.get(Nh);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(Xg.multi,Wt,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of d)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const f=nt(this),_=Te(void 0);try{return d()}finally{nt(f),Te(_)}}get(d,f=yt,_=de.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(_i))return d[_i](this);_=it(_);const D=nt(this),j=Te(void 0);try{if(!(_&de.SkipSelf)){let ye=this.records.get(d);if(void 0===ye){const Re=function YE(l){return"function"==typeof l||"object"==typeof l&&l instanceof Ii}(d)&&ie(d);ye=Re&&this.injectableDefInScope(Re)?Zl(Mu(d),Su):null,this.records.set(d,ye)}if(null!=ye)return this.hydrate(d,ye)}return(_&de.Self?Du():this.parent).get(d,f=_&de.Optional&&f===yt?null:f)}catch(ee){if("NullInjectorError"===ee.name){if((ee[Ct]=ee[Ct]||[]).unshift(v(d)),D)throw ee;return function Kt(l,d,f,_){const D=l[Ct];throw d[Xt]&&D.unshift(d[Xt]),l.message=function tn(l,d,f,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let D=v(d);if(Array.isArray(d))D=d.map(v).join(" -> ");else if("object"==typeof d){let j=[];for(let ee in d)if(d.hasOwnProperty(ee)){let ye=d[ee];j.push(ee+":"+("string"==typeof ye?JSON.stringify(ye):v(ye)))}D=`{${j.join(", ")}}`}return`${f}${_?"("+_+")":""}[${D}]: ${l.replace(It,"\n  ")}`}("\n"+l.message,D,f,_),l.ngTokenPath=D,l[Ct]=null,l}(ee,d,"R3InjectorError",this.source)}throw ee}finally{Te(j),nt(D)}}resolveInjectorInitializers(){const d=nt(this),f=Te(void 0);try{const _=this.get(Ys.multi,Wt,de.Self);for(const D of _)D()}finally{nt(d),Te(f)}}toString(){const d=[],f=this.records;for(const _ of f.keys())d.push(v(_));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(d){let f=Ks(d=G(d))?d:G(d&&d.provide);const _=function mA(l){return Rh(l)?Zl(void 0,l.useValue):Zl(Xc(l),Su)}(d);if(Ks(d)||!0!==d.multi)this.records.get(f);else{let D=this.records.get(f);D||(D=Zl(void 0,Su,!0),D.factory=()=>pt(D.multi),this.records.set(f,D)),f=d,D.multi.push(d)}this.records.set(f,_)}hydrate(d,f){return f.value===Su&&(f.value=VE,f.value=f.factory()),"object"==typeof f.value&&f.value&&function HE(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(d){if(!d.providedIn)return!1;const f=G(d.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(d){const f=this._onDestroyHooks.indexOf(d);-1!==f&&this._onDestroyHooks.splice(f,1)}}function Mu(l){const d=ie(l),f=null!==d?d.factory:Ge(l);if(null!==f)return f;if(l instanceof Ii)throw new T(204,!1);if(l instanceof Function)return function jE(l){const d=l.length;if(d>0)throw Rl(d,"?"),new T(204,!1);const f=function $(l){return l&&(l[te]||l[J])||null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new T(204,!1)}function Xc(l,d,f){let _;if(Ks(l)){const D=G(l);return Ge(D)||Mu(D)}if(Rh(l))_=()=>G(l.useValue);else if(function i_(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...pt(l.deps||[]));else if(function n_(l){return!(!l||!l.useExisting)}(l))_=()=>Se(G(l.useExisting));else{const D=G(l&&(l.useClass||l.provide));if(!function GE(l){return!!l.deps}(l))return Ge(D)||Mu(D);_=()=>new D(...pt(l.deps))}return _}function Zl(l,d,f=!1){return{factory:l,value:d,multi:f?[]:void 0}}function kh(l,d){for(const f of l)Array.isArray(f)?kh(f,d):f&&P(f)?kh(f.\u0275providers,d):d(f)}const r_=new Ii("AppId",{providedIn:"root",factory:()=>o_}),o_="ng",a_=new Ii("Platform Initializer"),Fh=new Ii("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KE=new Ii("AnimationModuleType"),gA=new Ii("CSP nonce",{providedIn:"root",factory:()=>jl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let u_=(l,d)=>null;function f_(l,d){return u_(l,d)}class eT{}class p_{}class nT{resolveComponentFactory(d){throw function tT(l){const d=Error(`No component factory found for ${v(l)}.`);return d.ngComponent=l,d}(d)}}let td=(()=>{class l{static#e=this.NULL=new nT}return l})();function iT(){return ql(wr(),Tn())}function ql(l,d){return new nd(dt(l,d))}let nd=(()=>{class l{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=iT}return l})();function rT(l){return l instanceof nd?l.nativeElement:l}class __{}let oT=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function v_(){const l=Tn(),f=nn(wr().index,l);return(mr(f)?f:l)[Dn]}()}return l})(),aT=(()=>{class l{static#e=this.\u0275prov=xe({token:l,providedIn:"root",factory:()=>null})}return l})();class y_{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const sT=new y_("16.1.7"),Kh={};function id(l){for(;l;){l[Qn]|=64;const d=js(l);if(oa(l)&&!d)return l;l=d}return null}function Wh(l){return l.ngOriginalError}class Jl{constructor(){this._console=console}handleError(d){const f=this._findOriginalError(d);this._console.error("ERROR",d),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(d){let f=d&&Wh(d);for(;f&&Wh(f);)f=Wh(f);return f||null}}const T_=new Ii("",{providedIn:"root",factory:()=>!1});function C_(l){return l.ownerDocument.defaultView}function ua(l){return l instanceof Function?l():l}class A_ extends fo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){id(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,f,_){const D=nr(this);this.trackingVersion++;try{d(f,_)}finally{nr(D)}}destroy(){this.trackingVersion++}}let Nu=null;function w_(){return Nu??=new A_,Nu}function I_(l,d){return l[d]??w_()}function mT(l,d){const f=w_();f.hasReadASignal&&(l[d]=Nu,f.lView=l,Nu=new A_)}const hi={};function pT(l){O_(Si(),Tn(),Jr()+l,!1)}function O_(l,d,f,_){if(!_)if(3==(3&d[Qn])){const j=l.preOrderCheckHooks;null!==j&&xl(d,j,f)}else{const j=l.preOrderHooks;null!==j&&Lc(d,j,0,f)}Ya(f)}function R_(l,d=null,f=null,_){const D=yT(l,d,f,_);return D.resolveInjectorInitializers(),D}function yT(l,d=null,f=null,_,D=new Set){const j=[f||Wt,FE(l)];return _=_||("object"==typeof l?void 0:v(l)),new xu(j,d||Du(),_||null,D)}let zs=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=yt;static#t=this.NULL=new e_;static create(f,_){if(Array.isArray(f))return R_({name:""},_,f,"");{const D=f.name??"";return R_({name:D},f.parent,f.providers,D)}}static#n=this.\u0275prov=xe({token:l,providedIn:"any",factory:()=>Se(Qg)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function Xl(l,d=de.Default){const f=Tn();return null===f?Se(l,d):ag(wr(),f,G(l),d)}function bT(){throw new Error("invalid")}function Lu(l,d,f,_,D,j,ee,ye,Re,et,ht){const Tt=d.blueprint.slice();return Tt[Oi]=D,Tt[Qn]=140|_,(null!==et||l&&2048&l[Qn])&&(Tt[Qn]|=2048),vi(Tt),Tt[xi]=Tt[ui]=l,Tt[At]=f,Tt[Sn]=ee||l&&l[Sn],Tt[Dn]=ye||l&&l[Dn],Tt[on]=Re||l&&l[on]||null,Tt[er]=j,Tt[Fr]=function lA(){return sA++}(),Tt[$r]=ht,Tt[Cs]=et,Tt[Xn]=2==d.type?l[Xn]:Tt,Tt}function rd(l,d,f,_,D){let j=l.data[d];if(null===j)j=N_(l,d,f,_,D),function Mb(){return zn.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=f,j.value=_,j.attrs=D;const ee=fs();j.injectorIndex=null===ee?-1:ee.injectorIndex}return Eo(j,!0),j}function N_(l,d,f,_,D){const j=us(),ee=Pc(),Re=l.data[d]=function TT(l,d,f,_,D,j){let ee=d?d.injectorIndex:-1,ye=0;return Cl()&&(ye|=128),{type:f,index:_,insertBeforeIndex:null,injectorIndex:ee,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ye,providerIndexes:0,value:D,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ee?j:j&&j.parent,f,d,_,D);return null===l.firstChild&&(l.firstChild=Re),null!==j&&(ee?null==j.child&&null!==Re.parent&&(j.child=Re):null===j.next&&(j.next=Re,Re.prev=j)),Re}function od(l,d,f,_){if(0===f)return-1;const D=d.length;for(let j=0;j<f;j++)d.push(_),l.blueprint.push(_),l.data.push(null);return D}function L_(l,d,f,_,D){const j=I_(d,Uo),ee=Jr(),ye=2&_;try{if(Ya(-1),ye&&d.length>mi&&O_(l,d,mi,!1),Go(ye?2:0,D),ye)j.runInContext(f,_,D);else{const et=nr(null);try{f(_,D)}finally{nr(et)}}}finally{ye&&null===d[Uo]&&mT(d,Uo),Ya(ee),Go(ye?3:1,D)}}function k_(l,d,f){if(Fa(d)){const _=nr(null);try{const j=d.directiveEnd;for(let ee=d.directiveStart;ee<j;ee++){const ye=l.data[ee];ye.contentQueries&&ye.contentQueries(1,f[ee],ee)}}finally{nr(_)}}}function io(l,d,f){zp()&&(function Fu(l,d,f,_){const D=f.directiveStart,j=f.directiveEnd;Po(f)&&function Y_(l,d,f){const _=dt(d,l),D=B_(f);let ee=16;f.signals?ee=4096:f.onPush&&(ee=64);const ye=Vu(l,Lu(l,D,null,ee,_,d,null,l[Sn].rendererFactory.createRenderer(_,f),null,null,null));l[d.index]=ye}(d,f,l.data[D+f.componentOffset]),l.firstCreatePass||Jd(f,d),Qr(_,d);const ee=f.initialInputs;for(let ye=D;ye<j;ye++){const Re=l.data[ye],et=ms(d,l,ye,f);Qr(et,d),null!==ee&&IT(0,ye-D,et,Re,0,ee),or(Re)&&(nn(f.index,d)[At]=ms(d,l,ye,f))}}(l,d,f,dt(f,d)),64==(64&f.flags)&&$h(l,d,f))}function F_(l,d,f=dt){const _=d.localNames;if(null!==_){let D=d.index+1;for(let j=0;j<_.length;j+=2){const ee=_[j+1],ye=-1===ee?f(d,l):l[ee];l[D++]=ye}}}function B_(l){const d=l.tView;return null===d||d.incompleteFirstPass?l.tView=$a(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):d}function $a(l,d,f,_,D,j,ee,ye,Re,et,ht){const Tt=mi+_,Ht=Tt+D,zt=function Yr(l,d){const f=[];for(let _=0;_<d;_++)f.push(_<l?null:hi);return f}(Tt,Ht),mn="function"==typeof et?et():et;return zt[Un]={type:l,blueprint:zt,template:f,queries:null,viewQuery:ye,declTNode:d,data:zt.slice().fill(null,Tt),bindingStartIndex:Tt,expandoStartIndex:Ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof ee?ee():ee,firstChild:null,schemas:Re,consts:mn,incompleteFirstPass:!1,ssrId:ht}}let zh=l=>null;function $s(l,d,f,_){for(let D in l)if(l.hasOwnProperty(D)){f=null===f?{}:f;const j=l[D];null===_?j_(f,d,D,j):_.hasOwnProperty(D)&&j_(f,d,_[D],j)}return f}function j_(l,d,f,_){l.hasOwnProperty(f)?l[f].push(d,_):l[f]=[d,_]}function Do(l,d,f,_,D,j,ee,ye){const Re=dt(d,f);let ht,et=d.inputs;!ye&&null!=et&&(ht=et[_])?(q_(l,f,ht,_,D),Po(d)&&function ST(l,d){const f=nn(d,l);16&f[Qn]||(f[Qn]|=64)}(f,d.index)):3&d.type&&(_=function CT(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),D=null!=ee?ee(D,d.value||"",_):D,j.setProperty(Re,_,D))}function ro(l,d,f,_){if(zp()){const D=null===_?null:{"":-1},j=function qh(l,d){const f=l.directiveRegistry;let _=null,D=null;if(f)for(let j=0;j<f.length;j++){const ee=f[j];if(ln(d,ee.selectors,!1))if(_||(_=[]),or(ee))if(null!==ee.findHostDirectiveDefs){const ye=[];D=D||new Map,ee.findHostDirectiveDefs(ee,ye,D),_.unshift(...ye,ee),Bu(l,d,ye.length)}else _.unshift(ee),Bu(l,d,0);else D=D||new Map,ee.findHostDirectiveDefs?.(ee,_,D),_.push(ee)}return null===_?null:[_,D]}(l,f);let ee,ye;null===j?ee=ye=null:[ee,ye]=j,null!==ee&&xT(l,d,f,ee,D,ye),D&&function G_(l,d,f){if(d){const _=l.localNames=[];for(let D=0;D<d.length;D+=2){const j=f[d[D+1]];if(null==j)throw new T(-301,!1);_.push(d[D],j)}}}(f,_,D)}f.mergedAttrs=Qe(f.mergedAttrs,f.attrs)}function xT(l,d,f,_,D,j){for(let et=0;et<_.length;et++)rh(Jd(f,d),l,_[et].type);!function wT(l,d,f){l.flags|=1,l.directiveStart=d,l.directiveEnd=d+f,l.providerIndexes=d}(f,l.data.length,_.length);for(let et=0;et<_.length;et++){const ht=_[et];ht.providersResolver&&ht.providersResolver(ht)}let ee=!1,ye=!1,Re=od(l,d,_.length,null);for(let et=0;et<_.length;et++){const ht=_[et];f.mergedAttrs=Qe(f.mergedAttrs,ht.hostAttrs),H_(l,f,d,Re,ht),Jh(Re,ht,D),null!==ht.contentQueries&&(f.flags|=4),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(f.flags|=64);const Tt=ht.type.prototype;!ee&&(Tt.ngOnChanges||Tt.ngOnInit||Tt.ngDoCheck)&&((l.preOrderHooks??=[]).push(f.index),ee=!0),!ye&&(Tt.ngOnChanges||Tt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(f.index),ye=!0),Re++}!function RA(l,d,f){const D=d.directiveEnd,j=l.data,ee=d.attrs,ye=[];let Re=null,et=null;for(let ht=d.directiveStart;ht<D;ht++){const Tt=j[ht],Ht=f?f.get(Tt):null,mn=Ht?Ht.outputs:null;Re=$s(Tt.inputs,ht,Re,Ht?Ht.inputs:null),et=$s(Tt.outputs,ht,et,mn);const In=null===Re||null===ee||hn(d)?null:W_(Re,ht,ee);ye.push(In)}null!==Re&&(Re.hasOwnProperty("class")&&(d.flags|=8),Re.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=ye,d.inputs=Re,d.outputs=et}(l,f,j)}function $h(l,d,f){const _=f.directiveStart,D=f.directiveEnd,j=f.index,ee=function YM(){return zn.lFrame.currentDirectiveIndex}();try{Ya(j);for(let ye=_;ye<D;ye++){const Re=l.data[ye],et=d[ye];Wf(ye),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&AT(Re,et)}}finally{Ya(-1),Wf(ee)}}function AT(l,d){null!==l.hostBindings&&l.hostBindings(1,d)}function Bu(l,d,f){d.componentOffset=f,(l.components??=[]).push(d.index)}function Jh(l,d,f){if(f){if(d.exportAs)for(let _=0;_<d.exportAs.length;_++)f[d.exportAs[_]]=l;or(d)&&(f[""]=l)}}function H_(l,d,f,_,D){l.data[_]=D;const j=D.factory||(D.factory=Ge(D.type)),ee=new Zd(j,or(D),Xl);l.blueprint[_]=ee,f[_]=ee,function MT(l,d,f,_,D){const j=D.hostBindings;if(j){let ee=l.hostBindingOpCodes;null===ee&&(ee=l.hostBindingOpCodes=[]);const ye=~d.index;(function Zh(l){let d=l.length;for(;d>0;){const f=l[--d];if("number"==typeof f&&f<0)return f}return 0})(ee)!=ye&&ee.push(ye),ee.push(f,_,j)}}(l,d,_,od(l,f,D.hostVars,hi),D)}function xa(l,d,f,_,D,j){const ee=dt(l,d);!function Uu(l,d,f,_,D,j,ee){if(null==j)l.removeAttribute(d,D,f);else{const ye=null==ee?C(j):ee(j,_||"",D);l.setAttribute(d,D,ye,f)}}(d[Dn],ee,j,l.value,f,_,D)}function IT(l,d,f,_,D,j){const ee=j[d];if(null!==ee)for(let ye=0;ye<ee.length;)K_(_,f,ee[ye++],ee[ye++],ee[ye++])}function K_(l,d,f,_,D){const j=nr(null);try{const ee=l.inputTransforms;null!==ee&&ee.hasOwnProperty(_)&&(D=ee[_].call(d,D)),null!==l.setInput?l.setInput(d,D,f,_):d[_]=D}finally{nr(j)}}function W_(l,d,f){let _=null,D=0;for(;D<f.length;){const j=f[D];if(0!==j)if(5!==j){if("number"==typeof j)break;if(l.hasOwnProperty(j)){null===_&&(_=[]);const ee=l[j];for(let ye=0;ye<ee.length;ye+=2)if(ee[ye]===d){_.push(j,ee[ye+1],f[D+1]);break}}D+=2}else D+=2;else D+=4}return _}function Qh(l,d,f,_){return[l,!0,!1,d,null,0,_,f,null,null,null]}function z_(l,d){const f=l.contentQueries;if(null!==f)for(let _=0;_<f.length;_+=2){const j=f[_+1];if(-1!==j){const ee=l.data[j];Rc(f[_]),ee.contentQueries(2,d[j],j)}}}function Vu(l,d){return l[Kn]?l[ti][yr]=d:l[Kn]=d,l[ti]=d,d}function qa(l,d,f){Rc(0);const _=nr(null);try{d(l,f)}finally{nr(_)}}function OT(l){return l[Mr]||(l[Mr]=[])}function $_(l){return l.cleanup||(l.cleanup=[])}function PT(l,d,f){return(null===l||or(l))&&(f=function cs(l){for(;Array.isArray(l);){if("object"==typeof l[Ss])return l;l=l[Oi]}return null}(f[d.index])),f[Dn]}function RT(l,d){const f=l[on],_=f?f.get(Jl,null):null;_&&_.handleError(d)}function q_(l,d,f,_,D){for(let j=0;j<f.length;){const ee=f[j++],ye=f[j++];K_(l.data[ee],d[ee],_,ye,D)}}function Ja(l,d,f){const _=Ce(d,l);!function Hr(l,d,f){l.setValue(d,f)}(l[Dn],_,f)}function J_(l,d){const f=nn(d,l),_=f[Un];!function Q_(l,d){for(let f=d.length;f<l.blueprint.length;f++)d.push(l.blueprint[f])}(_,f);const D=f[Oi];null!==D&&null===f[$r]&&(f[$r]=f_(D,f[on])),qs(_,f,f[At])}function qs(l,d,f){hs(d);try{const _=l.viewQuery;null!==_&&qa(1,_,f);const D=l.template;null!==D&&L_(l,d,D,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&z_(l,d),l.staticViewQueries&&qa(2,l.viewQuery,f);const j=l.components;null!==j&&function ju(l,d){for(let f=0;f<d.length;f++)J_(l,d[f])}(d,j)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{d[Qn]&=-5,jd()}}let NT=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(f,_,D){const j=typeof Zone>"u"?null:Zone.current,ee=new El(f,et=>{this.all.has(et)&&this.queue.set(et,j)},D);let ye;this.all.add(ee),ee.notify();const Re=()=>{ee.cleanup(),ye?.(),this.all.delete(ee),this.queue.delete(ee)};return ye=_?.onDestroy(Re),{destroy:Re}}flush(){if(0!==this.queue.size)for(const[f,_]of this.queue)this.queue.delete(f),_?_.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=xe({token:l,providedIn:"root",factory:()=>new l})}return l})();function Xh(l,d,f){let _=f?l.styles:null,D=f?l.classes:null,j=0;if(null!==d)for(let ee=0;ee<d.length;ee++){const ye=d[ee];"number"==typeof ye?j=ye:1==j?D=w(D,ye):2==j&&(_=w(_,ye+": "+d[++ee]+";"))}f?l.styles=_:l.stylesWithoutHost=_,f?l.classes=D:l.classesWithoutHost=D}function ad(l,d,f,_,D=!1){for(;null!==f;){const j=d[f.index];if(null!==j&&_.push(Ji(j)),Ar(j)){for(let ye=Hi;ye<j.length;ye++){const Re=j[ye],et=Re[Un].firstChild;null!==et&&ad(Re[Un],Re,et,_)}j[Br]!==j[Oi]&&_.push(j[Br])}const ee=f.type;if(8&ee)ad(l,d,f.child,_);else if(32&ee){const ye=Th(f,d);let Re;for(;Re=ye();)_.push(Re)}else if(16&ee){const ye=Dh(d,f);if(Array.isArray(ye))_.push(...ye);else{const Re=js(d[Xn]);ad(Re[Un],Re,ye,_,!0)}}f=D?f.projectionNext:f.next}return _}function Gu(l,d,f,_=!0){const D=d[Sn].rendererFactory;D.begin&&D.begin();try{Js(l,d,l.template,f)}catch(ee){throw _&&RT(d,ee),ee}finally{D.end&&D.end(),d[Sn].effectManager?.flush()}}function Js(l,d,f,_){const D=d[Qn];if(256!=(256&D)){d[Sn].effectManager?.flush(),hs(d);try{vi(d),function qp(l){return zn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&L_(l,d,f,2,_);const ee=3==(3&D);if(ee){const et=l.preOrderCheckHooks;null!==et&&xl(d,et,null)}else{const et=l.preOrderHooks;null!==et&&Lc(d,et,0,null),zd(d,0)}if(function LT(l){for(let d=Ig(l);null!==d;d=Pr(d)){if(!d[bl])continue;const f=d[qr];for(let _=0;_<f.length;_++){gi(f[_])}}}(d),em(d,2),null!==l.contentQueries&&z_(l,d),ee){const et=l.contentCheckHooks;null!==et&&xl(d,et)}else{const et=l.contentHooks;null!==et&&Lc(d,et,1),zd(d,1)}!function ET(l,d){const f=l.hostBindingOpCodes;if(null===f)return;const _=I_(d,_a);try{for(let D=0;D<f.length;D++){const j=f[D];if(j<0)Ya(~j);else{const ee=j,ye=f[++D],Re=f[++D];Qp(ye,ee),_.runInContext(Re,2,d[ee])}}}finally{null===d[_a]&&mT(d,_a),Ya(-1)}}(l,d);const ye=l.components;null!==ye&&Hu(d,ye,0);const Re=l.viewQuery;if(null!==Re&&qa(2,Re,_),ee){const et=l.viewCheckHooks;null!==et&&xl(d,et)}else{const et=l.viewHooks;null!==et&&Lc(d,et,2),zd(d,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),d[Qn]&=-73,ir(d)}finally{jd()}}}function em(l,d){for(let f=Ig(l);null!==f;f=Pr(f))for(let _=Hi;_<f.length;_++)sd(f[_],d)}function kT(l,d,f){sd(nn(d,l),f)}function sd(l,d){if(!function Hn(l){return 128==(128&l[Qn])}(l))return;const f=l[Un];if(80&l[Qn]&&0===d||1024&l[Qn]||2===d)Js(f,l,f.template,l[At]);else if(l[jr]>0){em(l,1);const D=l[Un].components;null!==D&&Hu(l,D,1)}}function Hu(l,d,f){for(let _=0;_<d.length;_++)kT(l,d[_],f)}class ld{get rootNodes(){const d=this._lView,f=d[Un];return ad(f,d,f.firstChild,[])}constructor(d,f){this._lView=d,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(d){this._lView[At]=d}get destroyed(){return 256==(256&this._lView[Qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[xi];if(Ar(d)){const f=d[8],_=f?f.indexOf(this):-1;_>-1&&(du(d,_),nu(f,_))}this._attachedToViewContainer=!1}Pg(this._lView[Un],this._lView)}onDestroy(d){!function ar(l,d){if(256==(256&l[Qn]))throw new T(911,!1);null===l[Zr]&&(l[Zr]=[]),l[Zr].push(d)}(this._lView,d)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qn]&=-129}reattach(){this._lView[Qn]|=128}detectChanges(){Gu(this._lView[Un],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sh(l,d){Wc(l,d,d[Dn],2,null,null)}(this._lView[Un],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=d}}class FT extends ld{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;Gu(d[Un],d,d[At],!1)}checkNoChanges(){}get context(){return null}}class X_ extends td{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const f=Zn(d);return new cd(f,this.ngModule)}}function ev(l){const d=[];for(let f in l)l.hasOwnProperty(f)&&d.push({propName:l[f],templateName:f});return d}class UT{constructor(d,f){this.injector=d,this.parentInjector=f}get(d,f,_){_=it(_);const D=this.injector.get(d,Kh,_);return D!==Kh||f===Kh?D:this.parentInjector.get(d,f,_)}}class cd extends p_{get inputs(){const d=this.componentDef,f=d.inputTransforms,_=ev(d.inputs);if(null!==f)for(const D of _)f.hasOwnProperty(D.propName)&&(D.transform=f[D.propName]);return _}get outputs(){return ev(this.componentDef.outputs)}constructor(d,f){super(),this.componentDef=d,this.ngModule=f,this.componentType=d.type,this.selector=function vt(l){return l.map($e).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!f}create(d,f,_,D){let j=(D=D||this.ngModule)instanceof Ws?D:D?.injector;j&&null!==this.componentDef.getStandaloneInjector&&(j=this.componentDef.getStandaloneInjector(j)||j);const ee=j?new UT(d,j):d,ye=ee.get(__,null);if(null===ye)throw new T(407,!1);const ht={rendererFactory:ye,sanitizer:ee.get(aT,null),effectManager:ee.get(NT,null)},Tt=ye.createRenderer(null,this.componentDef),Ht=this.componentDef.selectors[0][0]||"div",zt=_?function So(l,d,f,_){const j=_.get(T_,!1)||f===wt.ShadowDom,ee=l.selectRootElement(d,j);return function Zs(l){zh(l)}(ee),ee}(Tt,_,this.componentDef.encapsulation,ee):wi(Tt,Ht,function BT(l){const d=l.toLowerCase();return"svg"===d?Gf:"math"===d?"math":null}(Ht)),kn=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Yn=$a(0,null,null,1,0,null,null,null,null,null,null),vn=Lu(null,Yn,null,kn,null,null,ht,Tt,ee,null,null);let li,Jn;hs(vn);try{const Ci=this.componentDef;let Wn,wd=null;Ci.findHostDirectiveDefs?(Wn=[],wd=new Map,Ci.findHostDirectiveDefs(Ci,Wn,wd),Wn.push(Ci)):Wn=[Ci];const kp=function VT(l,d){const f=l[Un],_=mi;return l[_]=d,rd(f,_,2,"#host",null)}(vn,zt),Mi=function Yu(l,d,f,_,D,j,ee){const ye=D[Un];!function jT(l,d,f,_){for(const D of l)d.mergedAttrs=Qe(d.mergedAttrs,D.hostAttrs);null!==d.mergedAttrs&&(Xh(d,d.mergedAttrs,!0),null!==f&&Vg(_,f,d))}(_,l,d,ee);let Re=null;null!==d&&(Re=f_(d,D[on]));const et=j.rendererFactory.createRenderer(d,f);let ht=16;f.signals?ht=4096:f.onPush&&(ht=64);const Tt=Lu(D,B_(f),null,ht,D[l.index],l,j,et,null,null,Re);return ye.firstCreatePass&&Bu(ye,l,_.length-1),Vu(D,Tt),D[l.index]=Tt}(kp,zt,Ci,Wn,vn,ht,Tt);Jn=lt(Yn,mi),zt&&function Qs(l,d,f,_){if(_)rt(l,f,["ng-version",sT.full]);else{const{attrs:D,classes:j}=function jt(l){const d=[],f=[];let _=1,D=2;for(;_<l.length;){let j=l[_];if("string"==typeof j)2===D?""!==j&&d.push(j,l[++_]):8===D&&f.push(j);else{if(!Rt(D))break;D=j}_++}return{attrs:d,classes:f}}(d.selectors[0]);D&&rt(l,f,D),j&&j.length>0&&mu(l,f,j.join(" "))}}(Tt,Ci,zt,_),void 0!==f&&function HT(l,d,f){const _=l.projection=[];for(let D=0;D<d.length;D++){const j=f[D];_.push(null!=j?Array.from(j):null)}}(Jn,this.ngContentSelectors,f),li=function GT(l,d,f,_,D,j){const ee=wr(),ye=D[Un],Re=dt(ee,D);xT(ye,D,ee,f,null,_);for(let ht=0;ht<f.length;ht++)Qr(ms(D,ye,ee.directiveStart+ht,ee),D);$h(ye,D,ee),Re&&Qr(Re,D);const et=ms(D,ye,ee.directiveStart+ee.componentOffset,ee);if(l[At]=D[At]=et,null!==j)for(const ht of j)ht(et,d);return k_(ye,ee,l),et}(Mi,Ci,Wn,wd,vn,[nm]),qs(Yn,vn,null)}finally{jd()}return new tv(this.componentType,li,ql(Jn,vn),vn,Jn)}}class tv extends eT{constructor(d,f,_,D,j){super(),this.location=_,this._rootLView=D,this._tNode=j,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new FT(D),this.componentType=d}setInput(d,f){const _=this._tNode.inputs;let D;if(null!==_&&(D=_[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),f))return;const j=this._rootLView;q_(j[Un],j,D,d,f),this.previousInputValues.set(d,f),id(nn(this._tNode.index,j))}}get injector(){return new wl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function nm(){const l=wr();Wd(Tn()[Un],l)}function im(l){let d=function dd(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const _=[l];for(;d;){let D;if(or(l))D=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new T(903,!1);D=d.\u0275dir}if(D){if(f){_.push(D);const ee=l;ee.inputs=Ku(l.inputs),ee.inputTransforms=Ku(l.inputTransforms),ee.declaredInputs=Ku(l.declaredInputs),ee.outputs=Ku(l.outputs);const ye=D.hostBindings;ye&&rm(l,ye);const Re=D.viewQuery,et=D.contentQueries;if(Re&&zi(l,Re),et&&KT(l,et),p(l.inputs,D.inputs),p(l.declaredInputs,D.declaredInputs),p(l.outputs,D.outputs),null!==D.inputTransforms&&(null===ee.inputTransforms&&(ee.inputTransforms={}),p(ee.inputTransforms,D.inputTransforms)),or(D)&&D.data.animation){const ht=l.data;ht.animation=(ht.animation||[]).concat(D.data.animation)}}const j=D.features;if(j)for(let ee=0;ee<j.length;ee++){const ye=j[ee];ye&&ye.ngInherit&&ye(l),ye===im&&(f=!1)}}d=Object.getPrototypeOf(d)}!function YT(l){let d=0,f=null;for(let _=l.length-1;_>=0;_--){const D=l[_];D.hostVars=d+=D.hostVars,D.hostAttrs=Qe(D.hostAttrs,f=Qe(f,D.hostAttrs))}}(_)}function Ku(l){return l===Zt?{}:l===Wt?[]:l}function zi(l,d){const f=l.viewQuery;l.viewQuery=f?(_,D)=>{d(_,D),f(_,D)}:d}function KT(l,d){const f=l.contentQueries;l.contentQueries=f?(_,D,j)=>{d(_,D,j),f(_,D,j)}:d}function rm(l,d){const f=l.hostBindings;l.hostBindings=f?(_,D)=>{d(_,D),f(_,D)}:d}function am(l){return d=>{d.findHostDirectiveDefs=sm,d.hostDirectives=(Array.isArray(l)?l:l()).map(f=>"function"==typeof f?{directive:G(f),inputs:Zt,outputs:Zt}:{directive:G(f.directive),inputs:Wu(f.inputs),outputs:Wu(f.outputs)})}}function sm(l,d,f){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const D=ji(_.directive);zu(D.declaredInputs,_.inputs),sm(D,d,f),f.set(D,_),d.push(D)}}function Wu(l){if(void 0===l||0===l.length)return Zt;const d={};for(let f=0;f<l.length;f+=2)d[l[f]]=l[f+1];return d}function zu(l,d){for(const f in d)d.hasOwnProperty(f)&&(l[d[f]]=l[f])}function iv(l){const d=l.inputConfig,f={};for(const _ in d)if(d.hasOwnProperty(_)){const D=d[_];Array.isArray(D)&&D[2]&&(f[_]=D[2])}l.inputTransforms=f}function ud(l){return!!lm(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function lm(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ma(l,d,f){return l[d]=f}function oo(l,d,f){return!Object.is(l[d],f)&&(l[d]=f,!0)}function Xs(l,d,f,_){const D=oo(l,d,f);return oo(l,d+1,_)||D}function cm(l,d,f,_){const D=Tn();return oo(D,Dl(),d)&&(Si(),xa(sr(),D,l,d,f,_)),cm}function el(l,d,f,_){return oo(l,Dl(),f)?d+C(f)+_:hi}function tl(l,d,f,_,D,j){const ye=Xs(l,function Ga(){return zn.lFrame.bindingIndex}(),f,D);return Ha(2),ye?d+C(f)+_+C(D)+j:hi}function vs(l,d,f,_,D,j,ee,ye){const Re=Tn(),et=Si(),ht=l+mi,Tt=et.firstCreatePass?function rf(l,d,f,_,D,j,ee,ye,Re){const et=d.consts,ht=rd(d,l,4,ee||null,Ei(et,ye));ro(d,f,ht,Ei(et,Re)),Wd(d,ht);const Tt=ht.tView=$a(2,ht,_,D,j,d.directiveRegistry,d.pipeRegistry,null,d.schemas,et,null);return null!==d.queries&&(d.queries.template(d,ht),Tt.queries=d.queries.embeddedTView(ht)),ht}(ht,et,Re,d,f,_,D,j,ee):et.data[ht];Eo(Tt,!1);const Ht=um(et,Re,Tt,l);Kd()&&$o(et,Re,Ht,Tt),Qr(Ht,Re),Vu(Re,Re[ht]=Qh(Ht,Re,Ht,Tt)),br(Tt)&&io(et,Re,Tt),null!=ee&&F_(Re,Tt,ye)}let um=function lC(l,d,f,_){return Yo(!0),d[Dn].createComment("")};function cC(l){return Mt(function xb(){return zn.lFrame.contextLView}(),mi+l)}function cv(l,d,f){const _=Tn();return oo(_,Dl(),d)&&Do(Si(),sr(),_,l,d,_[Dn],f,!1),cv}function dv(l,d,f,_,D){const ee=D?"class":"style";q_(l,f,d.inputs[ee],ee,_)}function fm(l,d,f,_){const D=Tn(),j=Si(),ee=mi+l,ye=D[Dn],Re=j.firstCreatePass?function $A(l,d,f,_,D,j){const ee=d.consts,Re=rd(d,l,2,_,Ei(ee,D));return ro(d,f,Re,Ei(ee,j)),null!==Re.attrs&&Xh(Re,Re.attrs,!1),null!==Re.mergedAttrs&&Xh(Re,Re.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,Re),Re}(ee,j,D,d,f,_):j.data[ee],et=dC(j,D,Re,ye,d,l);D[ee]=et;const ht=br(Re);return Eo(Re,!0),Vg(ye,et,Re),32!=(32&Re.flags)&&Kd()&&$o(j,D,et,Re),0===function ja(){return zn.lFrame.elementDepthCount}()&&Qr(et,D),function Ho(){zn.lFrame.elementDepthCount++}(),ht&&(io(j,D,Re),k_(j,Re,D)),null!==_&&F_(D,Re),fm}function hm(){let l=wr();Pc()?Kf():(l=l.parent,Eo(l,!1));const d=l;(function Zp(l){return zn.skipHydrationRootTNode===l})(d)&&function Db(){zn.skipHydrationRootTNode=null}(),function ds(){zn.lFrame.elementDepthCount--}();const f=Si();return f.firstCreatePass&&(Wd(f,l),Fa(l)&&f.queries.elementEnd(l)),null!=d.classesWithoutHost&&function zM(l){return 0!=(8&l.flags)}(d)&&dv(f,d,Tn(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Ob(l){return 0!=(16&l.flags)}(d)&&dv(f,d,Tn(),d.stylesWithoutHost,!1),hm}function uv(l,d,f,_){return fm(l,d,f,_),hm(),uv}let dC=(l,d,f,_,D,j)=>(Yo(!0),wi(_,D,function Nc(){return zn.lFrame.currentNamespace}()));function mm(l,d,f){const _=Tn(),D=Si(),j=l+mi,ee=D.firstCreatePass?function QA(l,d,f,_,D){const j=d.consts,ee=Ei(j,_),ye=rd(d,l,8,"ng-container",ee);return null!==ee&&Xh(ye,ee,!0),ro(d,f,ye,Ei(j,D)),null!==d.queries&&d.queries.elementStart(d,ye),ye}(j,D,_,d,f):D.data[j];Eo(ee,!0);const ye=uC(D,_,ee,l);return _[j]=ye,Kd()&&$o(D,_,ye,ee),Qr(ye,_),br(ee)&&(io(D,_,ee),k_(D,ee,_)),null!=f&&F_(_,ee),mm}function af(){let l=wr();const d=Si();return Pc()?Kf():(l=l.parent,Eo(l,!1)),d.firstCreatePass&&(Wd(d,l),Fa(l)&&d.queries.elementEnd(l)),af}function pm(l,d,f){return mm(l,d,f),af(),pm}let uC=(l,d,f,_)=>(Yo(!0),ni(d[Dn],""));function _d(){return Tn()}function gm(l){return!!l&&"function"==typeof l.then}function vd(l){return!!l&&"function"==typeof l.subscribe}function mv(l,d,f,_){const D=Tn(),j=Si(),ee=wr();return fC(j,D,D[Dn],ee,l,d,_),mv}function _m(l,d){const f=wr(),_=Tn(),D=Si();return fC(D,_,PT(Ns(D.data),f,_),f,l,d),_m}function fC(l,d,f,_,D,j,ee){const ye=br(_),et=l.firstCreatePass&&$_(l),ht=d[At],Tt=OT(d);let Ht=!0;if(3&_.type||ee){const In=dt(_,d),kn=ee?ee(In):In,Yn=Tt.length,vn=ee?Jn=>ee(Ji(Jn[_.index])):_.index;let li=null;if(!ee&&ye&&(li=function al(l,d,f,_){const D=l.cleanup;if(null!=D)for(let j=0;j<D.length-1;j+=2){const ee=D[j];if(ee===f&&D[j+1]===_){const ye=d[Mr],Re=D[j+2];return ye.length>Re?ye[Re]:null}"string"==typeof ee&&(j+=2)}return null}(l,d,D,_.index)),null!==li)(li.__ngLastListenerFn__||li).__ngNextListenerFn__=j,li.__ngLastListenerFn__=j,Ht=!1;else{j=Kr(_,d,ht,j,!1);const Jn=f.listen(kn,D,j);Tt.push(j,Jn),et&&et.push(D,vn,Yn,Yn+1)}}else j=Kr(_,d,ht,j,!1);const zt=_.outputs;let mn;if(Ht&&null!==zt&&(mn=zt[D])){const In=mn.length;if(In)for(let kn=0;kn<In;kn+=2){const Ci=d[mn[kn]][mn[kn+1]].subscribe(j),Wn=Tt.length;Tt.push(j,Ci),et&&et.push(D,_.index,Wn,-(Wn+1))}}}function pv(l,d,f,_){try{return Go(6,d,f),!1!==f(_)}catch(D){return RT(l,D),!1}finally{Go(7,d,f)}}function Kr(l,d,f,_,D){return function j(ee){if(ee===Function)return _;id(l.componentOffset>-1?nn(l.index,d):d);let Re=pv(d,f,_,ee),et=j.__ngNextListenerFn__;for(;et;)Re=pv(d,f,et,ee)&&Re,et=et.__ngNextListenerFn__;return D&&!1===Re&&ee.preventDefault(),Re}}function gv(l=1){return function Ab(l){return(zn.lFrame.contextLView=function Gd(l,d){for(;l>0;)d=d[ui],l--;return d}(l,zn.lFrame.contextLView))[At]}(l)}function hC(l,d){let f=null;const _=function An(l){const d=l.attrs;if(null!=d){const f=d.indexOf(5);if(!(1&f))return d[f+1]}return null}(l);for(let D=0;D<d.length;D++){const j=d[D];if("*"!==j){if(null===_?ln(l,j,!0):ve(_,j))return D}else f=D}return f}function _v(l){const d=Tn()[Xn][er];if(!d.projection){const _=d.projection=Rl(l?l.length:1,null),D=_.slice();let j=d.child;for(;null!==j;){const ee=l?hC(j,l):0;null!==ee&&(D[ee]?D[ee].projectionNext=j:_[ee]=j,D[ee]=j),j=j.next}}}function sf(l,d=0,f){const _=Tn(),D=Si(),j=rd(D,mi+l,16,null,f||null);null===j.projection&&(j.projection=d),Kf(),(!_[$r]||Cl())&&32!=(32&j.flags)&&function Bg(l,d,f){hu(d[Dn],0,d,f,Rg(l,f,d),Ng(f.parent||d[er],f,d))}(D,_,j)}function vm(l,d,f){return lf(l,"",d,"",f),vm}function lf(l,d,f,_,D){const j=Tn(),ee=el(j,d,f,_);return ee!==hi&&Do(Si(),sr(),j,l,ee,j[Dn],D,!1),lf}function ym(l,d,f,_,D,j,ee){const ye=Tn(),Re=tl(ye,d,f,_,D,j);return Re!==hi&&Do(Si(),sr(),ye,l,Re,ye[Dn],ee,!1),ym}function cf(l,d){return l<<17|d<<2}function Xo(l){return l>>17&32767}function Tm(l){return 2|l}function sl(l){return(131068&l)>>2}function Cm(l,d){return-131069&l|d<<2}function yd(l){return 1|l}function Sm(l,d,f,_,D){const j=l[f+1],ee=null===d;let ye=_?Xo(j):sl(j),Re=!1;for(;0!==ye&&(!1===Re||ee);){const ht=l[ye+1];Tv(l[ye],d)&&(Re=!0,l[ye+1]=_?yd(ht):Tm(ht)),ye=_?Xo(ht):sl(ht)}Re&&(l[f+1]=_?Tm(j):yd(j))}function Tv(l,d){return null===l||null==d||(Array.isArray(l)?l[1]:l)===d||!(!Array.isArray(l)||"string"!=typeof d)&&Nl(l,d)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dm(l){return l.substring(Cr.key,Cr.keyEnd)}function xm(l,d){const f=Cr.textEnd;return f===d?-1:(d=Cr.keyEnd=function vC(l,d,f){for(;d<f&&l.charCodeAt(d)>32;)d++;return d}(l,Cr.key=d,f),ac(l,d,f))}function ac(l,d,f){for(;d<f&&l.charCodeAt(d)<=32;)d++;return d}function wv(l,d,f){return Aa(l,d,f,!1),wv}function Iv(l,d){return Aa(l,d,null,!0),Iv}function Ov(l){fa(iw,es,l,!0)}function es(l,d){for(let f=function Sv(l){return function Dv(l){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=l.length}(l),xm(l,ac(l,0,Cr.textEnd))}(d);f>=0;f=xm(d,f))Lo(l,Dm(d),!0)}function Aa(l,d,f,_){const D=Tn(),j=Si(),ee=Ha(2);j.firstUpdatePass&&EC(j,l,ee,_),d!==hi&&oo(D,ee,d)&&xC(j,j.data[Jr()],D,D[Dn],l,D[ee+1]=function ow(l,d){return null==l||""===l||("string"==typeof d?l+=d:"object"==typeof l&&(l=v(Wa(l)))),l}(d,f),_,ee)}function fa(l,d,f,_){const D=Si(),j=Ha(2);D.firstUpdatePass&&EC(D,null,j,_);const ee=Tn();if(f!==hi&&oo(ee,j,f)){const ye=D.data[Jr()];if(MC(ye,_)&&!bC(D,j)){let Re=_?ye.classesWithoutHost:ye.stylesWithoutHost;null!==Re&&(f=w(Re,f||"")),dv(D,ye,ee,f,_)}else!function rw(l,d,f,_,D,j,ee,ye){D===hi&&(D=Wt);let Re=0,et=0,ht=0<D.length?D[0]:null,Tt=0<j.length?j[0]:null;for(;null!==ht||null!==Tt;){const Ht=Re<D.length?D[Re+1]:void 0,zt=et<j.length?j[et+1]:void 0;let In,mn=null;ht===Tt?(Re+=2,et+=2,Ht!==zt&&(mn=Tt,In=zt)):null===Tt||null!==ht&&ht<Tt?(Re+=2,mn=ht):(et+=2,mn=Tt,In=zt),null!==mn&&xC(l,d,f,_,mn,In,ee,ye),ht=Re<D.length?D[Re]:null,Tt=et<j.length?j[et]:null}}(D,ye,ee,ee[Dn],ee[j+1],ee[j+1]=function nw(l,d,f){if(null==f||""===f)return Wt;const _=[],D=Wa(f);if(Array.isArray(D))for(let j=0;j<D.length;j++)l(_,D[j],!0);else if("object"==typeof D)for(const j in D)D.hasOwnProperty(j)&&l(_,j,D[j]);else"string"==typeof D&&d(_,D);return _}(l,d,f),_,j)}}function bC(l,d){return d>=l.expandoStartIndex}function EC(l,d,f,_){const D=l.data;if(null===D[f+1]){const j=D[Jr()],ee=bC(l,f);MC(j,_)&&null===d&&!ee&&(d=!1),d=function TC(l,d,f,_){const D=Ns(l);let j=_?d.residualClasses:d.residualStyles;if(null===D)0===(_?d.classBindings:d.styleBindings)&&(f=uf(f=Pv(null,l,d,f,_),d.attrs,_),j=null);else{const ee=d.directiveStylingLast;if(-1===ee||l[ee]!==D)if(f=Pv(D,l,d,f,_),null===j){let Re=function CC(l,d,f){const _=f?d.classBindings:d.styleBindings;if(0!==sl(_))return l[Xo(_)]}(l,d,_);void 0!==Re&&Array.isArray(Re)&&(Re=Pv(null,l,d,Re[1],_),Re=uf(Re,d.attrs,_),function SC(l,d,f,_){l[Xo(f?d.classBindings:d.styleBindings)]=_}(l,d,_,Re))}else j=function tw(l,d,f){let _;const D=d.directiveEnd;for(let j=1+d.directiveStylingLast;j<D;j++)_=uf(_,l[j].hostAttrs,f);return uf(_,d.attrs,f)}(l,d,_)}return void 0!==j&&(_?d.residualClasses=j:d.residualStyles=j),f}(D,j,d,_),function pC(l,d,f,_,D,j){let ee=j?d.classBindings:d.styleBindings,ye=Xo(ee),Re=sl(ee);l[_]=f;let ht,et=!1;if(Array.isArray(f)?(ht=f[1],(null===ht||Nl(f,ht)>0)&&(et=!0)):ht=f,D)if(0!==Re){const Ht=Xo(l[ye+1]);l[_+1]=cf(Ht,ye),0!==Ht&&(l[Ht+1]=Cm(l[Ht+1],_)),l[ye+1]=function df(l,d){return 131071&l|d<<17}(l[ye+1],_)}else l[_+1]=cf(ye,0),0!==ye&&(l[ye+1]=Cm(l[ye+1],_)),ye=_;else l[_+1]=cf(Re,0),0===ye?ye=_:l[Re+1]=Cm(l[Re+1],_),Re=_;et&&(l[_+1]=Tm(l[_+1])),Sm(l,ht,_,!0),Sm(l,ht,_,!1),function gC(l,d,f,_,D){const j=D?l.residualClasses:l.residualStyles;null!=j&&"string"==typeof d&&Nl(j,d)>=0&&(f[_+1]=yd(f[_+1]))}(d,ht,l,_,j),ee=cf(ye,Re),j?d.classBindings=ee:d.styleBindings=ee}(D,j,d,f,ee,_)}}function Pv(l,d,f,_,D){let j=null;const ee=f.directiveEnd;let ye=f.directiveStylingLast;for(-1===ye?ye=f.directiveStart:ye++;ye<ee&&(j=d[ye],_=uf(_,j.hostAttrs,D),j!==l);)ye++;return null!==l&&(f.directiveStylingLast=ye),_}function uf(l,d,f){const _=f?1:2;let D=-1;if(null!==d)for(let j=0;j<d.length;j++){const ee=d[j];"number"==typeof ee?D=ee:D===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Lo(l,ee,!!f||d[++j]))}return void 0===l?null:l}function iw(l,d,f){const _=String(d);""!==_&&!_.includes(" ")&&Lo(l,_,f)}function xC(l,d,f,_,D,j,ee,ye){if(!(3&d.type))return;const Re=l.data,et=Re[ye+1],ht=function mC(l){return 1==(1&l)}(et)?Rv(Re,d,f,D,sl(et),ee):void 0;Mm(ht)||(Mm(j)||function oc(l){return 2==(2&l)}(et)&&(j=Rv(Re,null,f,D,ye,ee)),function Tr(l,d,f,_,D){if(d)D?l.addClass(f,_):l.removeClass(f,_);else{let j=-1===_.indexOf("-")?void 0:lu.DashCase;null==D?l.removeStyle(f,_,j):("string"==typeof D&&D.endsWith("!important")&&(D=D.slice(0,-10),j|=lu.Important),l.setStyle(f,_,D,j))}}(_,ee,Ce(Jr(),f),D,j))}function Rv(l,d,f,_,D,j){const ee=null===d;let ye;for(;D>0;){const Re=l[D],et=Array.isArray(Re),ht=et?Re[1]:Re,Tt=null===ht;let Ht=f[D+1];Ht===hi&&(Ht=Tt?Wt:void 0);let zt=Tt?sh(Ht,_):ht===_?Ht:void 0;if(et&&!Mm(zt)&&(zt=sh(Re,_)),Mm(zt)&&(ye=zt,ee))return ye;const mn=l[D+1];D=ee?Xo(mn):sl(mn)}if(null!==d){let Re=j?d.residualClasses:d.residualStyles;null!=Re&&(ye=sh(Re,_))}return ye}function Mm(l){return void 0!==l}function MC(l,d){return 0!=(l.flags&(d?8:16))}function AC(l,d=""){const f=Tn(),_=Si(),D=l+mi,j=_.firstCreatePass?rd(_,D,1,d,null):_.data[D],ee=Nv(_,f,j,d,l);f[D]=ee,Kd()&&$o(_,f,ee,j),Eo(j,!1)}let Nv=(l,d,f,_,D)=>(Yo(!0),fi(d[Dn],_));function Am(l){return wm("",l,""),Am}function wm(l,d,f){const _=Tn(),D=el(_,l,d,f);return D!==hi&&Ja(_,Jr(),D),wm}function Lv(l,d,f,_,D){const j=Tn(),ee=tl(j,l,d,f,_,D);return ee!==hi&&Ja(j,Jr(),ee),Lv}function NC(l,d,f){fa(Lo,es,el(Tn(),l,d,f),!0)}function sc(l,d,f){const _=Tn();return oo(_,Dl(),d)&&Do(Si(),sr(),_,l,d,_[Dn],f,!0),sc}function Im(l,d,f){const _=Tn();if(oo(_,Dl(),d)){const j=Si(),ee=sr();Do(j,ee,_,l,d,PT(Ns(j.data),ee,_),f,!0)}return Im}const Dr=void 0;var ii=["en",[["a","p"],["AM","PM"],Dr],[["AM","PM"],Dr,Dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dr,"{1} 'at' {0}",Dr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ur(l){const f=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===_?1:5}];let lc={};function Om(l){const d=function zC(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=ys(d);if(f)return f;const _=d.split("-")[0];if(f=ys(_),f)return f;if("en"===_)return ii;throw new T(701,!1)}function wa(l){return Om(l)[cc.PluralCase]}function ys(l){return l in lc||(lc[l]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[l]),lc[l]}var cc=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(cc||{});const dc="en-US",ff={marker:"element"},hf={marker:"ICU"};var xo=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(xo||{});let Bv=dc;function Uv(l){(function Ie(l,d){null==l&&we(d,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(Bv=l.toLowerCase().replace(/_/g,"-"))}function Vv(l,d,f){const _=d.insertBeforeIndex,D=Array.isArray(_)?_[0]:_;return null===D?Lg(l,0,f):Ji(f[D])}function Pm(l,d,f,_,D){const j=d.insertBeforeIndex;if(Array.isArray(j)){let ee=_,ye=null;if(3&d.type||(ye=ee,ee=D),null!==ee&&-1===d.componentOffset)for(let Re=1;Re<j.length;Re++)Ka(l,ee,f[j[Re]],ye,!1)}}function Rm(l,d){if(l.push(d),l.length>1)for(let f=l.length-2;f>=0;f--){const _=l[f];bd(_)||QC(_,d)&&null===XC(_)&&ll(_,d.index)}}function bd(l){return!(64&l.type)}function QC(l,d){return bd(d)||l.index>d.index}function XC(l){const d=l.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function ll(l,d){const f=l.insertBeforeIndex;Array.isArray(f)?f[0]=d:(Fg(Vv,Pm),l.insertBeforeIndex=d)}function tS(l,d,f){const _=N_(l,f,64,null,null);return Rm(d,_),_}function lS(){const l=[];let f,_,d=-1;function j(ye,Re){d=0;const et=function mf(l,d){const f=d[l.currentCaseLViewIndex];return null===f?f:f<0?~f:f}(ye,Re);_=null!==et?ye.remove[et]:Wt}function ee(){if(d<_.length){const ye=_[d++];return ye>0?f[ye]:(l.push(d,_),j(f[Un].data[~ye],f),ee())}return 0===l.length?null:(_=l.pop(),d=l.pop(),ee())}return function D(ye,Re){for(f=Re;l.length;)l.pop();return j(ye.value,Re),ee}}const pf=/\ufffd(\d+):?\d*\ufffd/gi,dS=/\ufffd(\d+)\ufffd/,$v=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cd="\ufffd",uS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,fS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hS=/\uE500/g;function qv(l,d,f,_,D,j,ee){const ye=od(l,_,1,null);let Re=ye<<xo.SHIFT,et=fs();d===et&&(et=null),null===et&&(Re|=xo.APPEND_EAGERLY),ee&&(Re|=xo.COMMENT,function Gr(l){void 0===Eh&&(Eh=l())}(lS)),D.push(Re,null===j?"":j);const ht=N_(l,ye,ee?32:1,null===j?"":j,null);Rm(f,ht);const Tt=ht.index;return Eo(ht,!1),null!==et&&d!==et&&function eS(l,d){let f=l.insertBeforeIndex;null===f?(Fg(Vv,Pm),f=l.insertBeforeIndex=[null,d]):(function ne(l,d,f){l!=d&&we(f,l,d,"==")}(Array.isArray(f),!0,"Expecting array here"),f.push(d))}(et,Tt),ht}function _S(l,d,f,_,D,j,ee){const ye=ee.match(pf),Re=qv(l,d,f,j,_,ye?null:ee,!1);ye&&Sd(D,ee,Re.index,null,0,null)}function Sd(l,d,f,_,D,j){const ee=l.length,ye=ee+1;l.push(null,null);const Re=ee+2,et=d.split(pf);let ht=0;for(let Tt=0;Tt<et.length;Tt++){const Ht=et[Tt];if(1&Tt){const zt=D+parseInt(Ht,10);l.push(-1-zt),ht|=Jv(zt)}else""!==Ht&&l.push(Ht)}return l.push(f<<2|(_?1:0)),_&&l.push(_,j),l[ee]=ht,l[ye]=l.length-Re,ht}function Jv(l){return 1<<Math.min(l,31)}function cl(l){let d,j,f="",_=0,D=!1;for(;null!==(d=uS.exec(l));)D?d[0]===`${Cd}/*${j}${Cd}`&&(_=d.index,D=!1):(f+=l.substring(_,d.index+d[0].length),j=d[1],D=!0);return f+=l.slice(_),f}function Qv(l,d,f,_,D,j){let ee=0;const ye={type:D.type,currentCaseLViewIndex:od(l,d,1,null),anchorIdx:j,cases:[],create:[],remove:[],update:[]};(function DS(l,d,f){l.push(Jv(d.mainBinding),2,-1-d.mainBinding,f<<2|2)})(f,D,j),function jv(l,d,f){const _=l.data[d];null===_?l.data[d]=f:_.value=f}(l,j,ye);const Re=D.values;for(let et=0;et<Re.length;et++){const ht=Re[et],Tt=[];for(let Ht=0;Ht<ht.length;Ht++){const zt=ht[Ht];if("string"!=typeof zt){const mn=Tt.push(zt)-1;ht[Ht]=`\x3c!--\ufffd${mn}\ufffd--\x3e`}}ee=CS(l,ye,d,f,_,D.cases[et],ht.join(""),Tt)|ee}ee&&function xS(l,d,f){l.push(d,1,f<<2|3)}(f,ee,j)}function TS(l){const d=[],f=[];let _=1,D=0;const j=Lm(l=l.replace($v,function(ee,ye,Re){return _="select"===Re?0:1,D=parseInt(ye.slice(1),10),""}));for(let ee=0;ee<j.length;){let ye=j[ee++].trim();1===_&&(ye=ye.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ye.length&&d.push(ye);const Re=Lm(j[ee++]);d.length>f.length&&f.push(Re)}return{type:_,mainBinding:D,cases:d,values:f}}function Lm(l){if(!l)return[];let d=0;const f=[],_=[],D=/[{}]/g;let j;for(D.lastIndex=0;j=D.exec(l);){const ye=j.index;if("}"==j[0]){if(f.pop(),0==f.length){const Re=l.substring(d,ye);$v.test(Re)?_.push(TS(Re)):_.push(Re),d=ye+1}}else{if(0==f.length){const Re=l.substring(d,ye);_.push(Re),d=ye+1}f.push("{")}}const ee=l.substring(d);return _.push(ee),_}function CS(l,d,f,_,D,j,ee,ye){const Re=[],et=[],ht=[];d.cases.push(j),d.create.push(Re),d.remove.push(et),d.update.push(ht);const Ht=Hg(jl()).getInertBodyElement(ee),zt=Ih(Ht)||Ht;return zt?Xv(l,d,f,_,Re,et,ht,zt,D,ye,0):0}function Xv(l,d,f,_,D,j,ee,ye,Re,et,ht){let Tt=0,Ht=ye.firstChild;for(;Ht;){const zt=od(l,f,1,null);switch(Ht.nodeType){case Node.ELEMENT_NODE:const mn=Ht,In=mn.tagName.toLowerCase();if(bu.hasOwnProperty(In)){Fm(D,ff,In,Re,zt),l.data[zt]=In;const li=mn.attributes;for(let Jn=0;Jn<li.length;Jn++){const Ci=li.item(Jn),Wn=Ci.name.toLowerCase();Ci.value.match(pf)?zg.hasOwnProperty(Wn)&&Sd(ee,Ci.value,zt,Ci.name,0,_s[Wn]?to:null):MS(D,zt,Ci)}Tt=Xv(l,d,f,_,D,j,ee,Ht,zt,et,ht+1)|Tt,SS(j,zt,ht)}break;case Node.TEXT_NODE:const kn=Ht.textContent||"",Yn=kn.match(pf);Fm(D,null,Yn?"":kn,Re,zt),SS(j,zt,ht),Yn&&(Tt=Sd(ee,kn,zt,null,0,null)|Tt);break;case Node.COMMENT_NODE:const vn=dS.exec(Ht.textContent||"");if(vn){const Jn=et[parseInt(vn[1],10)];Fm(D,hf,"",Re,zt),Qv(l,f,_,Re,Jn,zt),km(j,zt,ht)}}Ht=Ht.nextSibling}return Tt}function SS(l,d,f){0===f&&l.push(d)}function km(l,d,f){0===f&&(l.push(~d),l.push(d))}function Fm(l,d,f,_,D){null!==d&&l.push(d),l.push(f,D,function nS(l,d,f){return l|d<<17|f<<1}(0,_,D))}function MS(l,d,f){l.push(d<<1|1,f.name,f.value)}function ty(l,d,f=-1){const _=Si(),D=Tn(),j=mi+l,ee=Ei(_.consts,d),ye=fs();_.firstCreatePass&&function gS(l,d,f,_,D,j){const ee=fs(),ye=[],Re=[],et=[[]];D=function ES(l,d){if(function bS(l){return-1===l}(d))return cl(l);{const f=l.indexOf(`:${d}${Cd}`)+2+d.toString().length,_=l.search(new RegExp(`${Cd}\\/\\*\\d+:${d}${Cd}`));return cl(l.substring(f,_))}}(D,j);const ht=function mS(l){return l.replace(hS," ")}(D).split(fS);for(let Tt=0;Tt<ht.length;Tt++){let Ht=ht[Tt];if(1&Tt){const zt=47===Ht.charCodeAt(0),In=(Ht.charCodeAt(zt?1:0),mi+Number.parseInt(Ht.substring(zt?2:1)));if(zt)et.shift(),Eo(fs(),!1);else{const kn=tS(l,et[0],In);et.unshift([]),Eo(kn,!0)}}else{const zt=Lm(Ht);for(let mn=0;mn<zt.length;mn++){let In=zt[mn];if(1&mn){const kn=In;if("object"!=typeof kn)throw new Error(`Unable to parse ICU expression in "${D}" message.`);Qv(l,f,Re,d,kn,qv(l,ee,et[0],f,ye,"",!0).index)}else""!==In&&_S(l,ee,et[0],ye,Re,f,In)}}}l.data[_]={create:ye,update:Re}}(_,null===ye?0:ye.index,D,j,ee,f),2===_.type?D[Xn][Qn]|=32:D[Qn]|=32;const Re=_.data[j],ht=Er(_,ye===D[er]?null:ye,D);(function oS(l,d,f,_){const D=l[Dn];for(let j=0;j<d.length;j++){const ee=d[j++],ye=d[j],et=(ee&xo.APPEND_EAGERLY)===xo.APPEND_EAGERLY,ht=ee>>>xo.SHIFT;let Tt=l[ht];null===Tt&&(Tt=l[ht]=(ee&xo.COMMENT)===xo.COMMENT?D.createComment(ye):fi(D,ye)),et&&null!==f&&Ka(D,f,Tt,_,!1)}})(D,Re.create,ht,ye&&8&ye.type?D[ye.index]:null),Jp(!0)}function ny(l,d,f){ty(l,d,f),function Bm(){Jp(!1)}()}function Um(l,d,f,_,D){if(l=G(l),Array.isArray(l))for(let j=0;j<l.length;j++)Um(l[j],d,f,_,D);else{const j=Si(),ee=Tn();let ye=Ks(l)?l:G(l.provide),Re=Xc(l);const et=wr(),ht=1048575&et.providerIndexes,Tt=et.directiveStart,Ht=et.providerIndexes>>20;if(Ks(l)||!l.multi){const zt=new Zd(Re,D,Xl),mn=jm(ye,d,D?ht:ht+Ht,Tt);-1===mn?(rh(Jd(et,ee),j,ye),Vm(j,l,d.length),d.push(ye),et.directiveStart++,et.directiveEnd++,D&&(et.providerIndexes+=1048576),f.push(zt),ee.push(zt)):(f[mn]=zt,ee[mn]=zt)}else{const zt=jm(ye,d,ht+Ht,Tt),mn=jm(ye,d,ht,ht+Ht),kn=mn>=0&&f[mn];if(D&&!kn||!D&&!(zt>=0&&f[zt])){rh(Jd(et,ee),j,ye);const Yn=function sy(l,d,f,_,D){const j=new Zd(l,f,Xl);return j.multi=[],j.index=d,j.componentProviders=0,ay(j,D,_&&!f),j}(D?Gm:BS,f.length,D,_,Re);!D&&kn&&(f[mn].providerFactory=Yn),Vm(j,l,d.length,0),d.push(ye),et.directiveStart++,et.directiveEnd++,D&&(et.providerIndexes+=1048576),f.push(Yn),ee.push(Yn)}else Vm(j,l,zt>-1?zt:mn,ay(f[D?mn:zt],Re,!D&&_));!D&&_&&kn&&f[mn].componentProviders++}}}function Vm(l,d,f,_){const D=Ks(d),j=function UE(l){return!!l.useClass}(d);if(D||j){const Re=(j?G(d.useClass):d).prototype.ngOnDestroy;if(Re){const et=l.destroyHooks||(l.destroyHooks=[]);if(!D&&d.multi){const ht=et.indexOf(f);-1===ht?et.push(f,[_,Re]):et[ht+1].push(_,Re)}else et.push(f,Re)}}}function ay(l,d,f){return f&&l.componentProviders++,l.multi.push(d)-1}function jm(l,d,f,_){for(let D=f;D<_;D++)if(d[D]===l)return D;return-1}function BS(l,d,f,_){return Hm(this.multi,[])}function Gm(l,d,f,_){const D=this.multi;let j;if(this.providerFactory){const ee=this.providerFactory.componentProviders,ye=ms(f,f[Un],this.providerFactory.index,_);j=ye.slice(0,ee),Hm(D,j);for(let Re=ee;Re<ye.length;Re++)j.push(ye[Re])}else j=[],Hm(D,j);return j}function Hm(l,d){for(let f=0;f<l.length;f++)d.push((0,l[f])());return d}function ly(l,d=[]){return f=>{f.providersResolver=(_,D)=>function FS(l,d,f){const _=Si();if(_.firstCreatePass){const D=or(l);Um(f,_.data,_.blueprint,D,!0),Um(d,_.data,_.blueprint,D,!1)}}(_,D?D(l):l,d)}}class fc{}class Ym{}function Ia(l,d){return new Km(l,d??null,[])}class Km extends fc{constructor(d,f,_){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new X_(this);const D=rr(d);this._bootstrapComponents=ua(D.bootstrap),this._r3Injector=yT(d,f,[{provide:fc,useValue:this},{provide:td,useValue:this.componentFactoryResolver},..._],v(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Wm extends Ym{constructor(d){super(),this.moduleType=d}create(d){return new Km(this.moduleType,d,[])}}class cy extends fc{constructor(d){super(),this.componentFactoryResolver=new X_(this),this.instance=null;const f=new xu([...d.providers,{provide:fc,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],d.parent||Du(),d.debugName,new Set(["environment"]));this.injector=f,d.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function dy(l,d,f=null){return new cy({providers:l,parent:d,debugName:f,runEnvironmentInitializers:!0}).injector}let VS=(()=>{class l{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const _=zl(0,f.type),D=_.length>0?dy([_],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,D)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=xe({token:l,providedIn:"environment",factory:()=>new l(Se(Ws))})}return l})();function uy(l){l.getStandaloneInjector=d=>d.get(VS).getOrCreateStandaloneInjector(l)}function _y(l,d,f){const _=ho()+l,D=Tn();return D[_]===hi?Ma(D,_,f?d.call(f):d()):function fd(l,d){return l[d]}(D,_)}function vy(l,d,f,_){return Ey(Tn(),ho(),l,d,f,_)}function yy(l,d,f,_,D){return Ty(Tn(),ho(),l,d,f,_,D)}function by(l,d,f,_,D,j){return function Cy(l,d,f,_,D,j,ee,ye){const Re=d+f;return function Zu(l,d,f,_,D){const j=Xs(l,d,f,_);return oo(l,d+2,D)||j}(l,Re,D,j,ee)?Ma(l,Re+3,ye?_.call(ye,D,j,ee):_(D,j,ee)):Dd(l,Re+3)}(Tn(),ho(),l,d,f,_,D,j)}function Dd(l,d){const f=l[d];return f===hi?void 0:f}function Ey(l,d,f,_,D,j){const ee=d+f;return oo(l,ee,D)?Ma(l,ee+1,j?_.call(j,D):_(D)):Dd(l,ee+1)}function Ty(l,d,f,_,D,j,ee){const ye=d+f;return Xs(l,ye,D,j)?Ma(l,ye+2,ee?_.call(ee,D,j):_(D,j)):Dd(l,ye+2)}function xy(l,d){const f=Si();let _;const D=l+mi;f.firstCreatePass?(_=function XS(l,d){if(d)for(let f=d.length-1;f>=0;f--){const _=d[f];if(l===_.name)return _}}(d,f.pipeRegistry),f.data[D]=_,_.onDestroy&&(f.destroyHooks??=[]).push(D,_.onDestroy)):_=f.data[D];const j=_.factory||(_.factory=Ge(_.type)),ee=Te(Xl);try{const ye=qd(!1),Re=j();return qd(ye),function ZA(l,d,f,_){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),d[f]=_}(f,Tn(),D,Re),Re}finally{Te(ee)}}function My(l,d,f){const _=l+mi,D=Tn(),j=Mt(D,_);return xd(D,_)?Ey(D,ho(),d,j.transform,f,j):j.transform(f)}function Ay(l,d,f,_){const D=l+mi,j=Tn(),ee=Mt(j,D);return xd(j,D)?Ty(j,ho(),d,ee.transform,f,_,ee):ee.transform(f,_)}function xd(l,d){return l[Un].data[d].pure}function $m(l){return d=>{setTimeout(l,void 0,d)}}const Oa=class iD extends e.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,f,_){let D=d,j=f||(()=>null),ee=_;if(d&&"object"==typeof d){const Re=d;D=Re.next?.bind(Re),j=Re.error?.bind(Re),ee=Re.complete?.bind(Re)}this.__isAsync&&(j=$m(j),D&&(D=$m(D)),ee&&(ee=$m(ee)));const ye=super.subscribe({next:D,error:j,complete:ee});return d instanceof y.w0&&d.add(ye),ye}};function wy(){return this._results[Symbol.iterator]()}class gf{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Oa)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=gf.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=wy)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,f){return this._results.reduce(d,f)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,f){const _=this;_.dirty=!1;const D=function Wo(l){return l.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function Gb(l,d,f){if(l.length!==d.length)return!1;for(let _=0;_<l.length;_++){let D=l[_],j=d[_];if(f&&(D=f(D),j=f(j)),j!==D)return!1}return!0}(_._results,D,f))&&(_._results=D,_.length=D.length,_.last=D[this.length-1],_.first=D[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mc=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=aD}return l})();const rD=mc,oD=class extends rD{constructor(d,f,_){super(),this._declarationLView=d,this._declarationTContainer=f,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,f){return this.createEmbeddedViewImpl(d,f,null)}createEmbeddedViewImpl(d,f,_){const ee=this._declarationTContainer.tView,ye=Lu(this._declarationLView,ee,d,4096&this._declarationLView[Qn]?4096:16,null,ee.declTNode,null,null,null,f||null,_||null);ye[Pi]=this._declarationLView[this._declarationTContainer.index];const et=this._declarationLView[tr];return null!==et&&(ye[tr]=et.createEmbeddedView(ee)),qs(ee,ye,d),new ld(ye)}};function aD(){return _f(wr(),Tn())}function _f(l,d){return 4&l.type?new oD(d,l,ql(l,d)):null}let vf=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=hD}return l})();function hD(){return Xm(wr(),Tn())}const mD=vf,Ry=class extends mD{constructor(d,f,_){super(),this._lContainer=d,this._hostTNode=f,this._hostLView=_}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new wl(this._hostTNode,this._hostLView)}get parentInjector(){const d=Ls(this._hostTNode,this._hostLView);if(Ko(d)){const f=th(d,this._hostLView),_=$d(d);return new wl(f[Un].data[_+8],f)}return new wl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const f=Jm(this._lContainer);return null!==f&&f[d]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(d,f,_){let D,j;"number"==typeof _?D=_:null!=_&&(D=_.index,j=_.injector);const ye=d.createEmbeddedViewImpl(f||{},j,null);return this.insertImpl(ye,D,false),ye}createComponent(d,f,_,D,j){const ee=d&&!function Vc(l){return"function"==typeof l}(d);let ye;if(ee)ye=f;else{const In=f||{};ye=In.index,_=In.injector,D=In.projectableNodes,j=In.environmentInjector||In.ngModuleRef}const Re=ee?d:new cd(Zn(d)),et=_||this.parentInjector;if(!j&&null==Re.ngModule){const kn=(ee?et:this.parentInjector).get(Ws,null);kn&&(j=kn)}Zn(Re.componentType??{});const zt=Re.create(et,D,null,j);return this.insertImpl(zt.hostView,ye,false),zt}insert(d,f){return this.insertImpl(d,f,!1)}insertImpl(d,f,_){const D=d._lView,j=D[Un];if(function ki(l){return Ar(l[xi])}(D)){const Re=this.indexOf(d);if(-1!==Re)this.detach(Re);else{const et=D[xi],ht=new Ry(et,et[er],et[xi]);ht.detach(ht.indexOf(d))}}const ee=this._adjustIndex(f),ye=this._lContainer;if(function mE(l,d,f,_){const D=Hi+_,j=f.length;_>0&&(f[D-1][yr]=d),_<j-Hi?(d[yr]=f[D],hg(f,Hi+_,d)):(f.push(d),d[yr]=null),d[xi]=f;const ee=d[Pi];null!==ee&&f!==ee&&function pE(l,d){const f=l[qr];d[Xn]!==d[xi][xi][Xn]&&(l[bl]=!0),null===f?l[qr]=[d]:f.push(d)}(ee,d);const ye=d[tr];null!==ye&&ye.insertView(l),d[Qn]|=128}(j,D,ye,ee),!_){const Re=xh(ee,ye),et=D[Dn],ht=fu(et,ye[Br]);null!==ht&&function fE(l,d,f,_,D,j){_[Oi]=D,_[er]=d,Wc(l,_,f,1,D,j)}(j,ye[er],et,D,ht,Re)}return d.attachToViewContainerRef(),hg(Qm(ye),ee,d),d}move(d,f){return this.insert(d,f)}indexOf(d){const f=Jm(this._lContainer);return null!==f?f.indexOf(d):-1}remove(d){const f=this._adjustIndex(d,-1),_=du(this._lContainer,f);_&&(nu(Qm(this._lContainer),f),Pg(_[Un],_))}detach(d){const f=this._adjustIndex(d,-1),_=du(this._lContainer,f);return _&&null!=nu(Qm(this._lContainer),f)?new ld(_):null}_adjustIndex(d,f=0){return d??this.length+f}};function Jm(l){return l[8]}function Qm(l){return l[8]||(l[8]=[])}function Xm(l,d){let f;const _=d[l.index];return Ar(_)?f=_:(f=Qh(_,d,null,l),d[l.index]=f,Vu(d,f)),ep(f,d,l,_),new Ry(f,l,d)}let ep=function Ly(l,d,f,_){if(l[Br])return;let D;D=8&f.type?Ji(_):function Ny(l,d){const f=l[Dn],_=f.createComment(""),D=dt(d,l);return Ka(f,fu(f,D),_,function _E(l,d){return l.nextSibling(d)}(f,D),!1),_}(d,f),l[Br]=D};class tp{constructor(d){this.queryList=d,this.matches=null}clone(){return new tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class np{constructor(d=[]){this.queries=d}createEmbeddedView(d){const f=d.queries;if(null!==f){const _=null!==d.contentQueries?d.contentQueries[0]:f.length,D=[];for(let j=0;j<_;j++){const ee=f.getByIndex(j);D.push(this.queries[ee.indexInDeclarationView].clone())}return new np(D)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let f=0;f<this.queries.length;f++)null!==Yy(d,f).matches&&this.queries[f].setDirty()}}class ky{constructor(d,f,_=null){this.predicate=d,this.flags=f,this.read=_}}class ip{constructor(d=[]){this.queries=d}elementStart(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(d,f)}elementEnd(d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(d)}embeddedTView(d){let f=null;for(let _=0;_<this.length;_++){const D=null!==f?f.length:0,j=this.getByIndex(_).embeddedTView(d,D);j&&(j.indexInDeclarationView=_,null!==f?f.push(j):f=[j])}return null!==f?new ip(f):null}template(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].template(d,f)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class rp{constructor(d,f=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(d,f){this.isApplyingToNode(f)&&this.matchTNode(d,f)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,f){this.elementStart(d,f)}embeddedTView(d,f){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,f),new rp(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let _=d.parent;for(;null!==_&&8&_.type&&_.index!==f;)_=_.parent;return f===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(d,f){const _=this.metadata.predicate;if(Array.isArray(_))for(let D=0;D<_.length;D++){const j=_[D];this.matchTNodeWithReadOption(d,f,_D(f,j)),this.matchTNodeWithReadOption(d,f,Qd(f,d,j,!1,!1))}else _===mc?4&f.type&&this.matchTNodeWithReadOption(d,f,-1):this.matchTNodeWithReadOption(d,f,Qd(f,d,_,!1,!1))}matchTNodeWithReadOption(d,f,_){if(null!==_){const D=this.metadata.read;if(null!==D)if(D===nd||D===vf||D===mc&&4&f.type)this.addMatch(f.index,-2);else{const j=Qd(f,d,D,!1,!1);null!==j&&this.addMatch(f.index,j)}else this.addMatch(f.index,_)}}addMatch(d,f){null===this.matches?this.matches=[d,f]:this.matches.push(d,f)}}function _D(l,d){const f=l.localNames;if(null!==f)for(let _=0;_<f.length;_+=2)if(f[_]===d)return f[_+1];return null}function yD(l,d,f,_){return-1===f?function vD(l,d){return 11&l.type?ql(l,d):4&l.type?_f(l,d):null}(d,l):-2===f?function bD(l,d,f){return f===nd?ql(d,l):f===mc?_f(d,l):f===vf?Xm(d,l):void 0}(l,d,_):ms(l,l[Un],f,d)}function Fy(l,d,f,_){const D=d[tr].queries[_];if(null===D.matches){const j=l.data,ee=f.matches,ye=[];for(let Re=0;Re<ee.length;Re+=2){const et=ee[Re];ye.push(et<0?null:yD(d,j[et],ee[Re+1],f.metadata.read))}D.matches=ye}return D.matches}function op(l,d,f,_){const D=l.queries.getByIndex(f),j=D.matches;if(null!==j){const ee=Fy(l,d,D,f);for(let ye=0;ye<j.length;ye+=2){const Re=j[ye];if(Re>0)_.push(ee[ye/2]);else{const et=j[ye+1],ht=d[-Re];for(let Tt=Hi;Tt<ht.length;Tt++){const Ht=ht[Tt];Ht[Pi]===Ht[xi]&&op(Ht[Un],Ht,et,_)}if(null!==ht[qr]){const Tt=ht[qr];for(let Ht=0;Ht<Tt.length;Ht++){const zt=Tt[Ht];op(zt[Un],zt,et,_)}}}}}return _}function By(l){const d=Tn(),f=Si(),_=zf();Rc(_+1);const D=Yy(f,_);if(l.dirty&&function pn(l){return 4==(4&l[Qn])}(d)===(2==(2&D.metadata.flags))){if(null===D.matches)l.reset([]);else{const j=D.crossesNgTemplate?op(f,d,_,[]):Fy(f,d,D,_);l.reset(j,rT),l.notifyOnChanges()}return!0}return!1}function Uy(l,d,f){const _=Si();_.firstCreatePass&&(Hy(_,new ky(l,d,f),-1),2==(2&d)&&(_.staticViewQueries=!0)),Gy(_,Tn(),d)}function Vy(l,d,f,_){const D=Si();if(D.firstCreatePass){const j=wr();Hy(D,new ky(d,f,_),j.index),function TD(l,d){const f=l.contentQueries||(l.contentQueries=[]);d!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,d)}(D,l),2==(2&f)&&(D.staticContentQueries=!0)}Gy(D,Tn(),f)}function jy(){return function ED(l,d){return l[tr].queries[d].queryList}(Tn(),zf())}function Gy(l,d,f){const _=new gf(4==(4&f));(function V_(l,d,f,_){const D=OT(d);D.push(f),l.firstCreatePass&&$_(l).push(_,D.length-1)})(l,d,_,_.destroy),null===d[tr]&&(d[tr]=new np),d[tr].queries.push(new tp(_))}function Hy(l,d,f){null===l.queries&&(l.queries=new ip),l.queries.track(new rp(d,f))}function Yy(l,d){return l.queries.getByIndex(d)}function Ky(l,d){return _f(l,d)}function sp(l){return!!rr(l)}const l0=new Ii("Application Initializer");let pp=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,_)=>{this.resolve=f,this.reject=_}),this.appInits=ge(l0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const D of this.appInits){const j=D();if(gm(j))f.push(j);else if(vd(j)){const ee=new Promise((ye,Re)=>{j.subscribe({complete:ye,error:Re})});f.push(ee)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{_()}).catch(D=>{this.reject(D)}),0===f.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),c0=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Ef=new Ii("LocaleId",{providedIn:"root",factory:()=>ge(Ef,de.Optional|de.SkipSelf)||function UD(){return typeof $localize<"u"&&$localize.locale||dc}()}),VD=new Ii("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let d0=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new E.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class GD{constructor(d,f){this.ngModuleFactory=d,this.componentFactories=f}}let HD=(()=>{class l{compileModuleSync(f){return new Wm(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const _=this.compileModuleSync(f),j=ua(rr(f).declarations).reduce((ee,ye)=>{const Re=Zn(ye);return Re&&ee.push(new cd(Re)),ee},[]);return new GD(_,j)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function h0(...l){}class vo{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const D=this;D._nesting=0,D._outer=D._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(D._inner=D._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(D._inner=D._inner.fork(Zone.longStackTraceZoneSpec)),D.shouldCoalesceEventChangeDetection=!_&&f,D.shouldCoalesceRunChangeDetection=_,D.lastRequestAnimationFrameId=-1,D.nativeRequestAnimationFrame=function WD(){const l="function"==typeof Ze.requestAnimationFrame;let d=Ze[l?"requestAnimationFrame":"setTimeout"],f=Ze[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&d&&f){const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_);const D=f[Zone.__symbol__("OriginalDelegate")];D&&(f=D)}return{nativeRequestAnimationFrame:d,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function $D(l){const d=()=>{!function ZD(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Ze,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,_p(l),l.isCheckStableRunning=!0,gp(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),_p(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,_,D,j,ee,ye)=>{try{return m0(l),f.invokeTask(D,j,ee,ye)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||l.shouldCoalesceRunChangeDetection)&&d(),p0(l)}},onInvoke:(f,_,D,j,ee,ye,Re)=>{try{return m0(l),f.invoke(D,j,ee,ye,Re)}finally{l.shouldCoalesceRunChangeDetection&&d(),p0(l)}},onHasTask:(f,_,D,j)=>{f.hasTask(D,j),_===D&&("microTask"==j.change?(l._hasPendingMicrotasks=j.microTask,_p(l),gp(l)):"macroTask"==j.change&&(l.hasPendingMacrotasks=j.macroTask))},onHandleError:(f,_,D,j)=>(f.handleError(D,j),l.runOutsideAngular(()=>l.onError.emit(j)),!1)})}(D)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vo.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new T(909,!1)}run(d,f,_){return this._inner.run(d,f,_)}runTask(d,f,_,D){const j=this._inner,ee=j.scheduleEventTask("NgZoneEvent: "+D,d,zD,h0,h0);try{return j.runTask(ee,f,_)}finally{j.cancelTask(ee)}}runGuarded(d,f,_){return this._inner.runGuarded(d,f,_)}runOutsideAngular(d){return this._outer.run(d)}}const zD={};function gp(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function _p(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function m0(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function p0(l){l._nesting--,gp(l)}class qD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(d,f,_){return d.apply(f,_)}runGuarded(d,f,_){return d.apply(f,_)}runOutsideAngular(d){return d()}runTask(d,f,_,D){return d.apply(f,_)}}const g0=new Ii("",{providedIn:"root",factory:_0});function _0(){const l=ge(vo);let d=!0;const f=new R.y(D=>{d=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{D.next(d),D.complete()})}),_=new R.y(D=>{let j;l.runOutsideAngular(()=>{j=l.onStable.subscribe(()=>{vo.assertNotInAngularZone(),queueMicrotask(()=>{!d&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(d=!0,D.next(!0))})})});const ee=l.onUnstable.subscribe(()=>{vo.assertInAngularZone(),d&&(d=!1,l.runOutsideAngular(()=>{D.next(!1)}))});return()=>{j.unsubscribe(),ee.unsubscribe()}});return(0,b.T)(f,_.pipe((0,L.B)()))}const v0=new Ii(""),y0=new Ii("");let vp,JD=(()=>{class l{constructor(f,_,D){this._ngZone=f,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vp||(function QD(l){vp=l}(D),D.addToWindow(_)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(f)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,_,D){let j=-1;_&&_>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(ee=>ee.timeoutId!==j),f(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:f,timeoutId:j,updateCb:D})}whenStable(f,_,D){if(D&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,_,D),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,_,D){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(Se(vo),Se(b0),Se(y0))};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac})}return l})(),b0=(()=>{class l{constructor(){this._applications=new Map}registerApplication(f,_){this._applications.set(f,_)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,_=!0){return vp?.findTestabilityInTree(this,f,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),bs=null;const E0=new Ii("AllowMultipleToken"),yp=new Ii("PlatformDestroyListeners"),bp=new Ii("appBootstrapListener");class tx{constructor(d,f){this.name=d,this.token=f}}function S0(l,d,f=[]){const _=`Platform: ${d}`,D=new Ii(_);return(j=[])=>{let ee=Ep();if(!ee||ee.injector.get(E0,!1)){const ye=[...f,...j,{provide:D,useValue:!0}];l?l(ye):function nx(l){if(bs&&!bs.get(E0,!1))throw new T(400,!1);(function T0(){!function Ac(l){Mc=l}(()=>{throw new T(600,!1)})})(),bs=l;const d=l.get(M0);(function C0(l){l.get(a_,null)?.forEach(f=>f())})(l)}(function D0(l=[],d){return zs.create({name:d,providers:[{provide:Nh,useValue:"platform"},{provide:yp,useValue:new Set([()=>bs=null])},...l]})}(ye,_))}return function rx(l){const d=Ep();if(!d)throw new T(401,!1);return d}()}}function Ep(){return bs?.get(M0)??null}let M0=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,_){const D=function ox(l="zone.js",d){return"noop"===l?new qD:"zone.js"===l?new vo(d):l}(_?.ngZone,function A0(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return D.run(()=>{const j=function US(l,d,f){return new Km(l,d,f)}(f.moduleType,this.injector,function P0(l){return[{provide:vo,useFactory:l},{provide:Ys,multi:!0,useFactory:()=>{const d=ge(sx,{optional:!0});return()=>d.initialize()}},{provide:O0,useFactory:ax},{provide:g0,useFactory:_0}]}(()=>D)),ee=j.injector.get(Jl,null);return D.runOutsideAngular(()=>{const ye=D.onError.subscribe({next:Re=>{ee.handleError(Re)}});j.onDestroy(()=>{Tf(this._modules,j),ye.unsubscribe()})}),function w0(l,d,f){try{const _=f();return gm(_)?_.catch(D=>{throw d.runOutsideAngular(()=>l.handleError(D)),D}):_}catch(_){throw d.runOutsideAngular(()=>l.handleError(_)),_}}(ee,D,()=>{const ye=j.injector.get(pp);return ye.runInitializers(),ye.donePromise.then(()=>(Uv(j.injector.get(Ef,dc)||dc),this._moduleDoBootstrap(j),j))})})}bootstrapModule(f,_=[]){const D=I0({},_);return function XD(l,d,f){const _=new Wm(f);return Promise.resolve(_)}(0,0,f).then(j=>this.bootstrapModuleFactory(j,D))}_moduleDoBootstrap(f){const _=f.injector.get(ul);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(D=>_.bootstrap(D));else{if(!f.instance.ngDoBootstrap)throw new T(-403,!1);f.instance.ngDoBootstrap(_)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const f=this._injector.get(yp,null);f&&(f.forEach(_=>_()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(Se(zs))};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function I0(l,d){return Array.isArray(d)?d.reduce(I0,l):{...l,...d}}let ul=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ge(O0),this.zoneIsStable=ge(g0),this.componentTypes=[],this.components=[],this.isStable=ge(d0).hasPendingTasks.pipe((0,S.w)(f=>f?(0,F.of)(!1):this.zoneIsStable),(0,m.x)(),(0,L.B)()),this._injector=ge(Ws)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,_){const D=f instanceof p_;if(!this._injector.get(pp).done)throw!D&&Lr(f),new T(405,!1);let ee;ee=D?f:this._injector.get(td).resolveComponentFactory(f),this.componentTypes.push(ee.componentType);const ye=function ex(l){return l.isBoundToModule}(ee)?void 0:this._injector.get(fc),et=ee.create(zs.NULL,[],_||ee.selector,ye),ht=et.location.nativeElement,Tt=et.injector.get(v0,null);return Tt?.registerApplication(ht),et.onDestroy(()=>{this.detachView(et.hostView),Tf(this.components,et),Tt?.unregisterApplication(ht)}),this._loadComponent(et),et}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const _=f;this._views.push(_),_.attachToAppRef(this)}detachView(f){const _=f;Tf(this._views,_),_.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const _=this._injector.get(bp,[]);_.push(...this._bootstrapListeners),_.forEach(D=>D(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>Tf(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new T(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Tf(l,d){const f=l.indexOf(d);f>-1&&l.splice(f,1)}const O0=new Ii("",{providedIn:"root",factory:()=>ge(Jl).handleError.bind(void 0)});function ax(){const l=ge(vo),d=ge(Jl);return f=>l.runOutsideAngular(()=>d.handleError(f))}let sx=(()=>{class l{constructor(){this.zone=ge(vo),this.applicationRef=ge(ul)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=xe({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function cx(){}let a1=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=ux}return l})();function ux(l){return function fx(l,d,f){if(Po(l)&&!f){const _=nn(l.index,d);return new ld(_,_)}return 47&l.type?new ld(d[Xn],d):null}(wr(),Tn(),16==(16&l))}class L0{constructor(){}supports(d){return ud(d)}create(d){return new m1(d)}}const _x=(l,d)=>d;class m1{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||_x}forEachItem(d){let f;for(f=this._itHead;null!==f;f=f._next)d(f)}forEachOperation(d){let f=this._itHead,_=this._removalsHead,D=0,j=null;for(;f||_;){const ee=!_||f&&f.currentIndex<xf(_,D,j)?f:_,ye=xf(ee,D,j),Re=ee.currentIndex;if(ee===_)D--,_=_._nextRemoved;else if(f=f._next,null==ee.previousIndex)D++;else{j||(j=[]);const et=ye-D,ht=Re-D;if(et!=ht){for(let Ht=0;Ht<et;Ht++){const zt=Ht<j.length?j[Ht]:j[Ht]=0,mn=zt+Ht;ht<=mn&&mn<et&&(j[Ht]=zt+1)}j[ee.previousIndex]=ht-et}}ye!==Re&&d(ee,ye,Re)}}forEachPreviousItem(d){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachMovedItem(d){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}forEachIdentityChange(d){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)d(f)}diff(d){if(null==d&&(d=[]),!ud(d))throw new T(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let D,j,ee,f=this._itHead,_=!1;if(Array.isArray(d)){this.length=d.length;for(let ye=0;ye<this.length;ye++)j=d[ye],ee=this._trackByFn(ye,j),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,j,ee,ye)),Object.is(f.item,j)||this._addIdentityChange(f,j)):(f=this._mismatch(f,j,ee,ye),_=!0),f=f._next}else D=0,function ov(l,d){if(Array.isArray(l))for(let f=0;f<l.length;f++)d(l[f]);else{const f=l[Symbol.iterator]();let _;for(;!(_=f.next()).done;)d(_.value)}}(d,ye=>{ee=this._trackByFn(D,ye),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,ye,ee,D)),Object.is(f.item,ye)||this._addIdentityChange(f,ye)):(f=this._mismatch(f,ye,ee,D),_=!0),f=f._next,D++}),this.length=D;return this._truncate(f),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,f,_,D){let j;return null===d?j=this._itTail:(j=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._reinsertAfter(d,j,D)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(_,D))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._moveAfter(d,j,D)):d=this._addAfter(new vx(f,_),j,D),d}_verifyReinsertion(d,f,_,D){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==j?d=this._reinsertAfter(j,d._prev,D):d.currentIndex!=D&&(d.currentIndex=D,this._addToMoves(d,D)),d}_truncate(d){for(;null!==d;){const f=d._next;this._addToRemovals(this._unlink(d)),d=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,f,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const D=d._prevRemoved,j=d._nextRemoved;return null===D?this._removalsHead=j:D._nextRemoved=j,null===j?this._removalsTail=D:j._prevRemoved=D,this._insertAfter(d,f,_),this._addToMoves(d,_),d}_moveAfter(d,f,_){return this._unlink(d),this._insertAfter(d,f,_),this._addToMoves(d,_),d}_addAfter(d,f,_){return this._insertAfter(d,f,_),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,f,_){const D=null===f?this._itHead:f._next;return d._next=D,d._prev=f,null===D?this._itTail=d:D._prev=d,null===f?this._itHead=d:f._next=d,null===this._linkedRecords&&(this._linkedRecords=new hl),this._linkedRecords.put(d),d.currentIndex=_,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const f=d._prev,_=d._next;return null===f?this._itHead=_:f._next=_,null===_?this._itTail=f:_._prev=f,d}_addToMoves(d,f){return d.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hl),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,f){return d.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class vx{constructor(d,f){this.item=d,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yx{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,f){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===f||f<=_.currentIndex)&&Object.is(_.trackById,d))return _;return null}remove(d){const f=d._prevDup,_=d._nextDup;return null===f?this._head=_:f._nextDup=_,null===_?this._tail=f:_._prevDup=f,null===this._head}}class hl{constructor(){this.map=new Map}put(d){const f=d.trackById;let _=this.map.get(f);_||(_=new yx,this.map.set(f,_)),_.add(d)}get(d,f){const D=this.map.get(d);return D?D.get(d,f):null}remove(d){const f=d.trackById;return this.map.get(f).remove(d)&&this.map.delete(f),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xf(l,d,f){const _=l.previousIndex;if(null===_)return _;let D=0;return f&&_<f.length&&(D=f[_]),_+d+D}class k0{constructor(){}supports(d){return d instanceof Map||lm(d)}create(){return new F0}}class F0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let f;for(f=this._mapHead;null!==f;f=f._next)d(f)}forEachPreviousItem(d){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)d(f)}forEachChangedItem(d){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}diff(d){if(d){if(!(d instanceof Map||lm(d)))throw new T(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(d,(_,D)=>{if(f&&f.key===D)this._maybeAddToChanges(f,_),this._appendAfter=f,f=f._next;else{const j=this._getOrCreateRecordForKey(D,_);f=this._insertBeforeOrAppend(f,j)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let _=f;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,f){if(d){const _=d._prev;return f._next=d,f._prev=_,d._prev=f,_&&(_._next=f),d===this._mapHead&&(this._mapHead=f),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(d,f){if(this._records.has(d)){const D=this._records.get(d);this._maybeAddToChanges(D,f);const j=D._prev,ee=D._next;return j&&(j._next=ee),ee&&(ee._prev=j),D._next=null,D._prev=null,D}const _=new Mp(d);return this._records.set(d,_),_.currentValue=f,this._addToAdditions(_),_}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,f){Object.is(f,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=f,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,f){d instanceof Map?d.forEach(f):Object.keys(d).forEach(_=>f(d[_],_))}}class Mp{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ap(){return new ao([new L0])}let ao=(()=>{class l{static#e=this.\u0275prov=xe({token:l,providedIn:"root",factory:Ap});constructor(f){this.factories=f}static create(f,_){if(null!=_){const D=_.factories.slice();f=f.concat(D)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||Ap()),deps:[[l,new ru,new iu]]}}find(f){const _=this.factories.find(D=>D.supports(f));if(null!=_)return _;throw new T(901,!1)}}return l})();function xr(){return new wp([new k0])}let wp=(()=>{class l{static#e=this.\u0275prov=xe({token:l,providedIn:"root",factory:xr});constructor(f){this.factories=f}static create(f,_){if(_){const D=_.factories.slice();f=f.concat(D)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||xr()),deps:[[l,new ru,new iu]]}}find(f){const _=this.factories.find(D=>D.supports(f));if(_)return _;throw new T(901,!1)}}return l})();const un=S0(null,"core",[]);let ml=(()=>{class l{constructor(f){}static#e=this.\u0275fac=function(_){return new(_||l)(Se(ul))};static#t=this.\u0275mod=Ni({type:l});static#n=this.\u0275inj=K({})}return l})();function Cx(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function Ix(l,d){const f=Zn(l),_=d.elementInjector||Du();return new cd(f).create(_,d.projectableNodes,d.hostElement,d.environmentInjector)}function pl(l){const d=Zn(l);if(!d)return null;const f=new cd(d);return{get selector(){return f.selector},get type(){return f.componentType},get inputs(){return f.inputs},get outputs(){return f.outputs},get ngContentSelectors(){return f.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},95:(bn,Ye,M)=>{"use strict";M.d(Ye,{Zs:()=>oa,Fj:()=>T,qu:()=>pr,NI:()=>Ni,u:()=>Fr,sg:()=>Kn,u5:()=>Ki,Cf:()=>B,JU:()=>O,a5:()=>X,JJ:()=>pe,JL:()=>le,F:()=>Di,On:()=>kr,YN:()=>_a,wV:()=>Oi,UX:()=>Ut,EJ:()=>Uo,kI:()=>ae,_Y:()=>ka,Kr:()=>ia});var e=M(5879),y=M(6814),E=M(7715),R=M(5592),b=M(7453),F=M(4829),L=M(9940),S=M(8251),m=M(7400),h=M(2714),v=M(7398);let w=(()=>{class Ge{constructor(Be,ft){this._renderer=Be,this._elementRef=ft,this.onChange=Dt=>{},this.onTouched=()=>{}}setProperty(Be,ft){this._renderer.setProperty(this._elementRef.nativeElement,Be,ft)}registerOnTouched(Be){this.onTouched=Be}registerOnChange(Be){this.onChange=Be}setDisabledState(Be){this.setProperty("disabled",Be)}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Ge})}return Ge})(),V=(()=>{class Ge extends w{static#e=this.\u0275fac=function(){let Be;return function(Dt){return(Be||(Be=e.n5z(Ge)))(Dt||Ge)}}();static#t=this.\u0275dir=e.lG2({type:Ge,features:[e.qOj]})}return Ge})();const O=new e.OlP("NgValueAccessor"),P={provide:O,useExisting:(0,e.Gpc)(()=>T),multi:!0},I=new e.OlP("CompositionEventMode");let T=(()=>{class Ge extends w{constructor(Be,ft,Dt){super(Be,ft),this._compositionMode=Dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const Ge=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(Ge.toLowerCase())}())}writeValue(Be){this.setProperty("value",Be??"")}_handleInput(Be){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Be)}_compositionStart(){this._composing=!0}_compositionEnd(Be){this._composing=!1,this._compositionMode&&this.onChange(Be)}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ft,Dt){1&ft&&e.NdJ("input",function(si){return Dt._handleInput(si.target.value)})("blur",function(){return Dt.onTouched()})("compositionstart",function(){return Dt._compositionStart()})("compositionend",function(si){return Dt._compositionEnd(si.target.value)})},features:[e._Bn([P]),e.qOj]})}return Ge})();function N(Ge){return null==Ge||("string"==typeof Ge||Array.isArray(Ge))&&0===Ge.length}function C(Ge){return null!=Ge&&"number"==typeof Ge.length}const B=new e.OlP("NgValidators"),Y=new e.OlP("NgAsyncValidators"),re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Xe){return function Oe(Ge){return Xe=>{if(N(Xe.value)||N(Ge))return null;const Be=parseFloat(Xe.value);return!isNaN(Be)&&Be<Ge?{min:{min:Ge,actual:Xe.value}}:null}}(Xe)}static max(Xe){return function z(Ge){return Xe=>{if(N(Xe.value)||N(Ge))return null;const Be=parseFloat(Xe.value);return!isNaN(Be)&&Be>Ge?{max:{max:Ge,actual:Xe.value}}:null}}(Xe)}static required(Xe){return oe(Xe)}static requiredTrue(Xe){return H(Xe)}static email(Xe){return function me(Ge){return N(Ge.value)||re.test(Ge.value)?null:{email:!0}}(Xe)}static minLength(Xe){return function ne(Ge){return Xe=>N(Xe.value)||!C(Xe.value)?null:Xe.value.length<Ge?{minlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}(Xe)}static maxLength(Xe){return function fe(Ge){return Xe=>C(Xe.value)&&Xe.value.length>Ge?{maxlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}(Xe)}static pattern(Xe){return function Ee(Ge){if(!Ge)return Ae;let Xe,Be;return"string"==typeof Ge?(Be="","^"!==Ge.charAt(0)&&(Be+="^"),Be+=Ge,"$"!==Ge.charAt(Ge.length-1)&&(Be+="$"),Xe=new RegExp(Be)):(Be=Ge.toString(),Xe=Ge),ft=>{if(N(ft.value))return null;const Dt=ft.value;return Xe.test(Dt)?null:{pattern:{requiredPattern:Be,actualValue:Dt}}}}(Xe)}static nullValidator(Xe){return null}static compose(Xe){return we(Xe)}static composeAsync(Xe){return We(Xe)}}function oe(Ge){return N(Ge.value)?{required:!0}:null}function H(Ge){return!0===Ge.value?null:{required:!0}}function Ae(Ge){return null}function se(Ge){return null!=Ge}function De(Ge){return(0,e.QGY)(Ge)?(0,E.D)(Ge):Ge}function Me(Ge){let Xe={};return Ge.forEach(Be=>{Xe=null!=Be?{...Xe,...Be}:Xe}),0===Object.keys(Xe).length?null:Xe}function _e(Ge,Xe){return Xe.map(Be=>Be(Ge))}function Ie(Ge){return Ge.map(Xe=>function Le(Ge){return!Ge.validate}(Xe)?Xe:Be=>Xe.validate(Be))}function we(Ge){if(!Ge)return null;const Xe=Ge.filter(se);return 0==Xe.length?null:function(Be){return Me(_e(Be,Xe))}}function Fe(Ge){return null!=Ge?we(Ie(Ge)):null}function We(Ge){if(!Ge)return null;const Xe=Ge.filter(se);return 0==Xe.length?null:function(Be){return function p(...Ge){const Xe=(0,L.jO)(Ge),{args:Be,keys:ft}=(0,b.D)(Ge),Dt=new R.y(Fn=>{const{length:si}=Be;if(!si)return void Fn.complete();const _r=new Array(si);let Va=si,aa=si;for(let qi=0;qi<si;qi++){let sa=!1;(0,F.Xf)(Be[qi]).subscribe((0,S.x)(Fn,nr=>{sa||(sa=!0,aa--),_r[qi]=nr},()=>Va--,void 0,()=>{(!Va||!sa)&&(aa||Fn.next(ft?(0,h.n)(ft,_r):_r),Fn.complete())}))}});return Xe?Dt.pipe((0,m.Z)(Xe)):Dt}(_e(Be,Xe).map(De)).pipe((0,v.U)(Me))}}function Ue(Ge){return null!=Ge?We(Ie(Ge)):null}function xe(Ge,Xe){return null===Ge?[Xe]:Array.isArray(Ge)?[...Ge,Xe]:[Ge,Xe]}function be(Ge){return Ge._rawValidators}function K(Ge){return Ge._rawAsyncValidators}function ie(Ge){return Ge?Array.isArray(Ge)?Ge:[Ge]:[]}function he(Ge,Xe){return Array.isArray(Ge)?Ge.includes(Xe):Ge===Xe}function q(Ge,Xe){const Be=ie(Xe);return ie(Ge).forEach(Dt=>{he(Be,Dt)||Be.push(Dt)}),Be}function $(Ge,Xe){return ie(Xe).filter(Be=>!he(Ge,Be))}class W{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Xe){this._rawValidators=Xe||[],this._composedValidatorFn=Fe(this._rawValidators)}_setAsyncValidators(Xe){this._rawAsyncValidators=Xe||[],this._composedAsyncValidatorFn=Ue(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Xe){this._onDestroyCallbacks.push(Xe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Xe=>Xe()),this._onDestroyCallbacks=[]}reset(Xe=void 0){this.control&&this.control.reset(Xe)}hasError(Xe,Be){return!!this.control&&this.control.hasError(Xe,Be)}getError(Xe,Be){return this.control?this.control.getError(Xe,Be):null}}class te extends W{get formDirective(){return null}get path(){return null}}class X extends W{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J{constructor(Xe){this._cd=Xe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pe=(()=>{class Ge extends J{constructor(Be){super(Be)}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(X,2))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ft,Dt){2&ft&&e.ekj("ng-untouched",Dt.isUntouched)("ng-touched",Dt.isTouched)("ng-pristine",Dt.isPristine)("ng-dirty",Dt.isDirty)("ng-valid",Dt.isValid)("ng-invalid",Dt.isInvalid)("ng-pending",Dt.isPending)},features:[e.qOj]})}return Ge})(),le=(()=>{class Ge extends J{constructor(Be){super(Be)}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(te,10))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ft,Dt){2&ft&&e.ekj("ng-untouched",Dt.isUntouched)("ng-touched",Dt.isTouched)("ng-pristine",Dt.isPristine)("ng-dirty",Dt.isDirty)("ng-valid",Dt.isValid)("ng-invalid",Dt.isInvalid)("ng-pending",Dt.isPending)("ng-submitted",Dt.isSubmitted)},features:[e.qOj]})}return Ge})();const at="VALID",Se="INVALID",ue="PENDING",ge="DISABLED";function it(Ge){return(Kt(Ge)?Ge.validators:Ge)||null}function kt(Ge,Xe){return(Kt(Xe)?Xe.asyncValidators:Ge)||null}function Kt(Ge){return null!=Ge&&!Array.isArray(Ge)&&"object"==typeof Ge}function tn(Ge,Xe,Be){const ft=Ge.controls;if(!(Xe?Object.keys(ft):ft).length)throw new e.vHH(1e3,"");if(!ft[Be])throw new e.vHH(1001,"")}function en(Ge,Xe,Be){Ge._forEachChild((ft,Dt)=>{if(void 0===Be[Dt])throw new e.vHH(1002,"")})}class bt{constructor(Xe,Be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Xe),this._assignAsyncValidators(Be)}get validator(){return this._composedValidatorFn}set validator(Xe){this._rawValidators=this._composedValidatorFn=Xe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Xe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Xe}get parent(){return this._parent}get valid(){return this.status===at}get invalid(){return this.status===Se}get pending(){return this.status==ue}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Xe){this._assignValidators(Xe)}setAsyncValidators(Xe){this._assignAsyncValidators(Xe)}addValidators(Xe){this.setValidators(q(Xe,this._rawValidators))}addAsyncValidators(Xe){this.setAsyncValidators(q(Xe,this._rawAsyncValidators))}removeValidators(Xe){this.setValidators($(Xe,this._rawValidators))}removeAsyncValidators(Xe){this.setAsyncValidators($(Xe,this._rawAsyncValidators))}hasValidator(Xe){return he(this._rawValidators,Xe)}hasAsyncValidator(Xe){return he(this._rawAsyncValidators,Xe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Xe={}){this.touched=!0,this._parent&&!Xe.onlySelf&&this._parent.markAsTouched(Xe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Xe=>Xe.markAllAsTouched())}markAsUntouched(Xe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Be=>{Be.markAsUntouched({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}markAsDirty(Xe={}){this.pristine=!1,this._parent&&!Xe.onlySelf&&this._parent.markAsDirty(Xe)}markAsPristine(Xe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Be=>{Be.markAsPristine({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}markAsPending(Xe={}){this.status=ue,!1!==Xe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Xe.onlySelf&&this._parent.markAsPending(Xe)}disable(Xe={}){const Be=this._parentMarkedDirty(Xe.onlySelf);this.status=ge,this.errors=null,this._forEachChild(ft=>{ft.disable({...Xe,onlySelf:!0})}),this._updateValue(),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Xe,skipPristineCheck:Be}),this._onDisabledChange.forEach(ft=>ft(!0))}enable(Xe={}){const Be=this._parentMarkedDirty(Xe.onlySelf);this.status=at,this._forEachChild(ft=>{ft.enable({...Xe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent}),this._updateAncestors({...Xe,skipPristineCheck:Be}),this._onDisabledChange.forEach(ft=>ft(!1))}_updateAncestors(Xe){this._parent&&!Xe.onlySelf&&(this._parent.updateValueAndValidity(Xe),Xe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Xe){this._parent=Xe}getRawValue(){return this.value}updateValueAndValidity(Xe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===ue)&&this._runAsyncValidator(Xe.emitEvent)),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Xe.onlySelf&&this._parent.updateValueAndValidity(Xe)}_updateTreeValidity(Xe={emitEvent:!0}){this._forEachChild(Be=>Be._updateTreeValidity(Xe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Xe){if(this.asyncValidator){this.status=ue,this._hasOwnPendingAsyncValidator=!0;const Be=De(this.asyncValidator(this));this._asyncValidationSubscription=Be.subscribe(ft=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ft,{emitEvent:Xe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Xe,Be={}){this.errors=Xe,this._updateControlsErrors(!1!==Be.emitEvent)}get(Xe){let Be=Xe;return null==Be||(Array.isArray(Be)||(Be=Be.split(".")),0===Be.length)?null:Be.reduce((ft,Dt)=>ft&&ft._find(Dt),this)}getError(Xe,Be){const ft=Be?this.get(Be):this;return ft&&ft.errors?ft.errors[Xe]:null}hasError(Xe,Be){return!!this.getError(Xe,Be)}get root(){let Xe=this;for(;Xe._parent;)Xe=Xe._parent;return Xe}_updateControlsErrors(Xe){this.status=this._calculateStatus(),Xe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Xe)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ue)?ue:this._anyControlsHaveStatus(Se)?Se:at}_anyControlsHaveStatus(Xe){return this._anyControls(Be=>Be.status===Xe)}_anyControlsDirty(){return this._anyControls(Xe=>Xe.dirty)}_anyControlsTouched(){return this._anyControls(Xe=>Xe.touched)}_updatePristine(Xe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}_updateTouched(Xe={}){this.touched=this._anyControlsTouched(),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}_registerOnCollectionChange(Xe){this._onCollectionChange=Xe}_setUpdateStrategy(Xe){Kt(Xe)&&null!=Xe.updateOn&&(this._updateOn=Xe.updateOn)}_parentMarkedDirty(Xe){return!Xe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Xe){return null}_assignValidators(Xe){this._rawValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedValidatorFn=function pt(Ge){return Array.isArray(Ge)?Fe(Ge):Ge||null}(this._rawValidators)}_assignAsyncValidators(Xe){this._rawAsyncValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedAsyncValidatorFn=function Bt(Ge){return Array.isArray(Ge)?Ue(Ge):Ge||null}(this._rawAsyncValidators)}}class wt extends bt{constructor(Xe,Be,ft){super(it(Be),kt(ft,Be)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(Be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Xe,Be){return this.controls[Xe]?this.controls[Xe]:(this.controls[Xe]=Be,Be.setParent(this),Be._registerOnCollectionChange(this._onCollectionChange),Be)}addControl(Xe,Be,ft={}){this.registerControl(Xe,Be),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}removeControl(Xe,Be={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],this.updateValueAndValidity({emitEvent:Be.emitEvent}),this._onCollectionChange()}setControl(Xe,Be,ft={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],Be&&this.registerControl(Xe,Be),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}contains(Xe){return this.controls.hasOwnProperty(Xe)&&this.controls[Xe].enabled}setValue(Xe,Be={}){en(this,0,Xe),Object.keys(Xe).forEach(ft=>{tn(this,!0,ft),this.controls[ft].setValue(Xe[ft],{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be)}patchValue(Xe,Be={}){null!=Xe&&(Object.keys(Xe).forEach(ft=>{const Dt=this.controls[ft];Dt&&Dt.patchValue(Xe[ft],{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be))}reset(Xe={},Be={}){this._forEachChild((ft,Dt)=>{ft.reset(Xe[Dt],{onlySelf:!0,emitEvent:Be.emitEvent})}),this._updatePristine(Be),this._updateTouched(Be),this.updateValueAndValidity(Be)}getRawValue(){return this._reduceChildren({},(Xe,Be,ft)=>(Xe[ft]=Be.getRawValue(),Xe))}_syncPendingControls(){let Xe=this._reduceChildren(!1,(Be,ft)=>!!ft._syncPendingControls()||Be);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){Object.keys(this.controls).forEach(Be=>{const ft=this.controls[Be];ft&&Xe(ft,Be)})}_setUpControls(){this._forEachChild(Xe=>{Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Xe){for(const[Be,ft]of Object.entries(this.controls))if(this.contains(Be)&&Xe(ft))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Be,ft,Dt)=>((ft.enabled||this.disabled)&&(Be[Dt]=ft.value),Be))}_reduceChildren(Xe,Be){let ft=Xe;return this._forEachChild((Dt,Fn)=>{ft=Be(ft,Dt,Fn)}),ft}_allControlsDisabled(){for(const Xe of Object.keys(this.controls))if(this.controls[Xe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Xe){return this.controls.hasOwnProperty(Xe)?this.controls[Xe]:null}}class dn extends wt{}const En=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Vn}),Vn="always";function jn(Ge,Xe){return[...Xe.path,Ge]}function ei(Ge,Xe,Be=Vn){Vt(Ge,Xe),Xe.valueAccessor.writeValue(Ge.value),(Ge.disabled||"always"===Be)&&Xe.valueAccessor.setDisabledState?.(Ge.disabled),function Qe(Ge,Xe){Xe.valueAccessor.registerOnChange(Be=>{Ge._pendingValue=Be,Ge._pendingChange=!0,Ge._pendingDirty=!0,"change"===Ge.updateOn&&Pt(Ge,Xe)})}(Ge,Xe),function rn(Ge,Xe){const Be=(ft,Dt)=>{Xe.valueAccessor.writeValue(ft),Dt&&Xe.viewToModelUpdate(ft)};Ge.registerOnChange(Be),Xe._registerOnDestroy(()=>{Ge._unregisterOnChange(Be)})}(Ge,Xe),function _t(Ge,Xe){Xe.valueAccessor.registerOnTouched(()=>{Ge._pendingTouched=!0,"blur"===Ge.updateOn&&Ge._pendingChange&&Pt(Ge,Xe),"submit"!==Ge.updateOn&&Ge.markAsTouched()})}(Ge,Xe),function rt(Ge,Xe){if(Xe.valueAccessor.setDisabledState){const Be=ft=>{Xe.valueAccessor.setDisabledState(ft)};Ge.registerOnDisabledChange(Be),Xe._registerOnDestroy(()=>{Ge._unregisterOnDisabledChange(Be)})}}(Ge,Xe)}function _i(Ge,Xe,Be=!0){const ft=()=>{};Xe.valueAccessor&&(Xe.valueAccessor.registerOnChange(ft),Xe.valueAccessor.registerOnTouched(ft)),je(Ge,Xe),Ge&&(Xe._invokeOnDestroyCallbacks(),Ge._registerOnCollectionChange(()=>{}))}function gt(Ge,Xe){Ge.forEach(Be=>{Be.registerOnValidatorChange&&Be.registerOnValidatorChange(Xe)})}function Vt(Ge,Xe){const Be=be(Ge);null!==Xe.validator?Ge.setValidators(xe(Be,Xe.validator)):"function"==typeof Be&&Ge.setValidators([Be]);const ft=K(Ge);null!==Xe.asyncValidator?Ge.setAsyncValidators(xe(ft,Xe.asyncValidator)):"function"==typeof ft&&Ge.setAsyncValidators([ft]);const Dt=()=>Ge.updateValueAndValidity();gt(Xe._rawValidators,Dt),gt(Xe._rawAsyncValidators,Dt)}function je(Ge,Xe){let Be=!1;if(null!==Ge){if(null!==Xe.validator){const Dt=be(Ge);if(Array.isArray(Dt)&&Dt.length>0){const Fn=Dt.filter(si=>si!==Xe.validator);Fn.length!==Dt.length&&(Be=!0,Ge.setValidators(Fn))}}if(null!==Xe.asyncValidator){const Dt=K(Ge);if(Array.isArray(Dt)&&Dt.length>0){const Fn=Dt.filter(si=>si!==Xe.asyncValidator);Fn.length!==Dt.length&&(Be=!0,Ge.setAsyncValidators(Fn))}}}const ft=()=>{};return gt(Xe._rawValidators,ft),gt(Xe._rawAsyncValidators,ft),Be}function Pt(Ge,Xe){Ge._pendingDirty&&Ge.markAsDirty(),Ge.setValue(Ge._pendingValue,{emitModelToViewChange:!1}),Xe.viewToModelUpdate(Ge._pendingValue),Ge._pendingChange=!1}function hn(Ge,Xe){Vt(Ge,Xe)}function st(Ge,Xe){if(!Ge.hasOwnProperty("model"))return!1;const Be=Ge.model;return!!Be.isFirstChange()||!Object.is(Xe,Be.currentValue)}function ve(Ge,Xe){Ge._syncPendingControls(),Xe.forEach(Be=>{const ft=Be.control;"submit"===ft.updateOn&&ft._pendingChange&&(Be.viewToModelUpdate(ft._pendingValue),ft._pendingChange=!1)})}function tt(Ge,Xe){if(!Xe)return null;let Be,ft,Dt;return Array.isArray(Xe),Xe.forEach(Fn=>{Fn.constructor===T?Be=Fn:function Yt(Ge){return Object.getPrototypeOf(Ge.constructor)===V}(Fn)?ft=Fn:Dt=Fn}),Dt||ft||Be||null}const jt={provide:te,useExisting:(0,e.Gpc)(()=>Di)},Pn=(()=>Promise.resolve())();let Di=(()=>{class Ge extends te{constructor(Be,ft,Dt){super(),this.callSetDisabledState=Dt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new wt({},Fe(Be),Ue(ft))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Be){Pn.then(()=>{const ft=this._findContainer(Be.path);Be.control=ft.registerControl(Be.name,Be.control),ei(Be.control,Be,this.callSetDisabledState),Be.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Be)})}getControl(Be){return this.form.get(Be.path)}removeControl(Be){Pn.then(()=>{const ft=this._findContainer(Be.path);ft&&ft.removeControl(Be.name),this._directives.delete(Be)})}addFormGroup(Be){Pn.then(()=>{const ft=this._findContainer(Be.path),Dt=new wt({});hn(Dt,Be),ft.registerControl(Be.name,Dt),Dt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Be){Pn.then(()=>{const ft=this._findContainer(Be.path);ft&&ft.removeControl(Be.name)})}getFormGroup(Be){return this.form.get(Be.path)}updateModel(Be,ft){Pn.then(()=>{this.form.get(Be.path).setValue(ft)})}setValue(Be){this.control.setValue(Be)}onSubmit(Be){return this.submitted=!0,ve(this.form,this._directives),this.ngSubmit.emit(Be),"dialog"===Be?.target?.method}onReset(){this.resetForm()}resetForm(Be=void 0){this.form.reset(Be),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Be){return Be.pop(),Be.length?this.form.get(Be):this.form}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(B,10),e.Y36(Y,10),e.Y36(En,8))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ft,Dt){1&ft&&e.NdJ("submit",function(si){return Dt.onSubmit(si)})("reset",function(){return Dt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([jt]),e.qOj]})}return Ge})();function Qi(Ge,Xe){const Be=Ge.indexOf(Xe);Be>-1&&Ge.splice(Be,1)}function Xi(Ge){return"object"==typeof Ge&&null!==Ge&&2===Object.keys(Ge).length&&"value"in Ge&&"disabled"in Ge}const Ni=class extends bt{constructor(Xe=null,Be,ft){super(it(Be),kt(ft,Be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Xe),this._setUpdateStrategy(Be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kt(Be)&&(Be.nonNullable||Be.initialValueIsDefault)&&(this.defaultValue=Xi(Xe)?Xe.value:Xe)}setValue(Xe,Be={}){this.value=this._pendingValue=Xe,this._onChange.length&&!1!==Be.emitModelToViewChange&&this._onChange.forEach(ft=>ft(this.value,!1!==Be.emitViewToModelChange)),this.updateValueAndValidity(Be)}patchValue(Xe,Be={}){this.setValue(Xe,Be)}reset(Xe=this.defaultValue,Be={}){this._applyFormState(Xe),this.markAsPristine(Be),this.markAsUntouched(Be),this.setValue(this.value,Be),this._pendingChange=!1}_updateValue(){}_anyControls(Xe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Xe){this._onChange.push(Xe)}_unregisterOnChange(Xe){Qi(this._onChange,Xe)}registerOnDisabledChange(Xe){this._onDisabledChange.push(Xe)}_unregisterOnDisabledChange(Xe){Qi(this._onDisabledChange,Xe)}_forEachChild(Xe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Xe){Xi(Xe)?(this.value=this._pendingValue=Xe.value,Xe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Xe}},na={provide:X,useExisting:(0,e.Gpc)(()=>kr)},ga=(()=>Promise.resolve())();let kr=(()=>{class Ge extends X{constructor(Be,ft,Dt,Fn,si,_r){super(),this._changeDetectorRef=si,this.callSetDisabledState=_r,this.control=new Ni,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=Be,this._setValidators(ft),this._setAsyncValidators(Dt),this.valueAccessor=tt(0,Fn)}ngOnChanges(Be){if(this._checkForErrors(),!this._registered||"name"in Be){if(this._registered&&(this._checkName(),this.formDirective)){const ft=Be.name.previousValue;this.formDirective.removeControl({name:ft,path:this._getPath(ft)})}this._setUpControl()}"isDisabled"in Be&&this._updateDisabled(Be),st(Be,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Be){this.viewModel=Be,this.update.emit(Be)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ei(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Be){ga.then(()=>{this.control.setValue(Be,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Be){const ft=Be.isDisabled.currentValue,Dt=0!==ft&&(0,e.VuI)(ft);ga.then(()=>{Dt&&!this.control.disabled?this.control.disable():!Dt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Be){return this._parent?jn(Be,this._parent):[Be]}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(te,9),e.Y36(B,10),e.Y36(Y,10),e.Y36(O,10),e.Y36(e.sBO,8),e.Y36(En,8))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([na]),e.qOj,e.TTD]})}return Ge})(),ka=(()=>{class Ge{static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ge})();const as={provide:O,useExisting:(0,e.Gpc)(()=>Oi),multi:!0};let Oi=(()=>{class Ge extends V{writeValue(Be){this.setProperty("value",Be??"")}registerOnChange(Be){this.onChange=ft=>{Be(""==ft?null:parseFloat(ft))}}static#e=this.\u0275fac=function(){let Be;return function(Dt){return(Be||(Be=e.n5z(Ge)))(Dt||Ge)}}();static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ft,Dt){1&ft&&e.NdJ("input",function(si){return Dt.onChange(si.target.value)})("blur",function(){return Dt.onTouched()})},features:[e._Bn([as]),e.qOj]})}return Ge})(),xi=(()=>{class Ge{static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275mod=e.oAB({type:Ge});static#n=this.\u0275inj=e.cJS({})}return Ge})();const At=new e.OlP("NgModelWithFormControlWarning"),Dn={provide:te,useExisting:(0,e.Gpc)(()=>Kn)};let Kn=(()=>{class Ge extends te{constructor(Be,ft,Dt){super(),this.callSetDisabledState=Dt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(Be),this._setAsyncValidators(ft)}ngOnChanges(Be){this._checkFormPresent(),Be.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(je(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Be){const ft=this.form.get(Be.path);return ei(ft,Be,this.callSetDisabledState),ft.updateValueAndValidity({emitEvent:!1}),this.directives.push(Be),ft}getControl(Be){return this.form.get(Be.path)}removeControl(Be){_i(Be.control||null,Be,!1),function $e(Ge,Xe){const Be=Ge.indexOf(Xe);Be>-1&&Ge.splice(Be,1)}(this.directives,Be)}addFormGroup(Be){this._setUpFormContainer(Be)}removeFormGroup(Be){this._cleanUpFormContainer(Be)}getFormGroup(Be){return this.form.get(Be.path)}addFormArray(Be){this._setUpFormContainer(Be)}removeFormArray(Be){this._cleanUpFormContainer(Be)}getFormArray(Be){return this.form.get(Be.path)}updateModel(Be,ft){this.form.get(Be.path).setValue(ft)}onSubmit(Be){return this.submitted=!0,ve(this.form,this.directives),this.ngSubmit.emit(Be),"dialog"===Be?.target?.method}onReset(){this.resetForm()}resetForm(Be=void 0){this.form.reset(Be),this.submitted=!1}_updateDomValue(){this.directives.forEach(Be=>{const ft=Be.control,Dt=this.form.get(Be.path);ft!==Dt&&(_i(ft||null,Be),(Ge=>Ge instanceof Ni)(Dt)&&(ei(Dt,Be,this.callSetDisabledState),Be.control=Dt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Be){const ft=this.form.get(Be.path);hn(ft,Be),ft.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Be){if(this.form){const ft=this.form.get(Be.path);ft&&function xt(Ge,Xe){return je(Ge,Xe)}(ft,Be)&&ft.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vt(this.form,this),this._oldForm&&je(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(B,10),e.Y36(Y,10),e.Y36(En,8))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","formGroup",""]],hostBindings:function(ft,Dt){1&ft&&e.NdJ("submit",function(si){return Dt.onSubmit(si)})("reset",function(){return Dt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Dn]),e.qOj,e.TTD]})}return Ge})();const tr={provide:X,useExisting:(0,e.Gpc)(()=>Fr)};let Fr=(()=>{class Ge extends X{set isDisabled(Be){}static#e=this._ngModelWarningSentOnce=!1;constructor(Be,ft,Dt,Fn,si){super(),this._ngModelWarningConfig=si,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=Be,this._setValidators(ft),this._setAsyncValidators(Dt),this.valueAccessor=tt(0,Fn)}ngOnChanges(Be){this._added||this._setUpControl(),st(Be,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Be){this.viewModel=Be,this.update.emit(Be)}get path(){return jn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(te,13),e.Y36(B,10),e.Y36(Y,10),e.Y36(O,10),e.Y36(At,8))};static#n=this.\u0275dir=e.lG2({type:Ge,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([tr]),e.qOj,e.TTD]})}return Ge})();const Cs={provide:O,useExisting:(0,e.Gpc)(()=>Uo),multi:!0};function Zr(Ge,Xe){return null==Ge?`${Xe}`:(Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Uo=(()=>{class Ge extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Be){this._compareWith=Be}writeValue(Be){this.value=Be;const Dt=Zr(this._getOptionId(Be),Be);this.setProperty("value",Dt)}registerOnChange(Be){this.onChange=ft=>{this.value=this._getOptionValue(ft),Be(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Be){for(const ft of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ft),Be))return ft;return null}_getOptionValue(Be){const ft=function $r(Ge){return Ge.split(":")[0]}(Be);return this._optionMap.has(ft)?this._optionMap.get(ft):Be}static#e=this.\u0275fac=function(){let Be;return function(Dt){return(Be||(Be=e.n5z(Ge)))(Dt||Ge)}}();static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ft,Dt){1&ft&&e.NdJ("change",function(si){return Dt.onChange(si.target.value)})("blur",function(){return Dt.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Cs]),e.qOj]})}return Ge})(),_a=(()=>{class Ge{constructor(Be,ft,Dt){this._element=Be,this._renderer=ft,this._select=Dt,this._select&&(this.id=this._select._registerOption())}set ngValue(Be){null!=this._select&&(this._select._optionMap.set(this.id,Be),this._setElementValue(Zr(this.id,Be)),this._select.writeValue(this._select.value))}set value(Be){this._setElementValue(Be),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Be){this._renderer.setProperty(this._element.nativeElement,"value",Be)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Uo,9))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Ge})();const mi={provide:O,useExisting:(0,e.Gpc)(()=>Br),multi:!0};function Tc(Ge,Xe){return null==Ge?`${Xe}`:("string"==typeof Xe&&(Xe=`'${Xe}'`),Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Br=(()=>{class Ge extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Be){this._compareWith=Be}writeValue(Be){let ft;if(this.value=Be,Array.isArray(Be)){const Dt=Be.map(Fn=>this._getOptionId(Fn));ft=(Fn,si)=>{Fn._setSelected(Dt.indexOf(si.toString())>-1)}}else ft=(Dt,Fn)=>{Dt._setSelected(!1)};this._optionMap.forEach(ft)}registerOnChange(Be){this.onChange=ft=>{const Dt=[],Fn=ft.selectedOptions;if(void 0!==Fn){const si=Fn;for(let _r=0;_r<si.length;_r++){const aa=this._getOptionValue(si[_r].value);Dt.push(aa)}}else{const si=ft.options;for(let _r=0;_r<si.length;_r++){const Va=si[_r];if(Va.selected){const aa=this._getOptionValue(Va.value);Dt.push(aa)}}}this.value=Dt,Be(Dt)}}_registerOption(Be){const ft=(this._idCounter++).toString();return this._optionMap.set(ft,Be),ft}_getOptionId(Be){for(const ft of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ft)._value,Be))return ft;return null}_getOptionValue(Be){const ft=function Ss(Ge){return Ge.split(":")[0]}(Be);return this._optionMap.has(ft)?this._optionMap.get(ft)._value:Be}static#e=this.\u0275fac=function(){let Be;return function(Dt){return(Be||(Be=e.n5z(Ge)))(Dt||Ge)}}();static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ft,Dt){1&ft&&e.NdJ("change",function(si){return Dt.onChange(si.target)})("blur",function(){return Dt.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([mi]),e.qOj]})}return Ge})(),ia=(()=>{class Ge{constructor(Be,ft,Dt){this._element=Be,this._renderer=ft,this._select=Dt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Be){null!=this._select&&(this._value=Be,this._setElementValue(Tc(this.id,Be)),this._select.writeValue(this._select.value))}set value(Be){this._select?(this._value=Be,this._setElementValue(Tc(this.id,Be)),this._select.writeValue(this._select.value)):this._setElementValue(Be)}_setElementValue(Be){this._renderer.setProperty(this._element.nativeElement,"value",Be)}_setSelected(Be){this._renderer.setProperty(this._element.nativeElement,"selected",Be)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ft){return new(ft||Ge)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Br,9))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Ge})(),Hi=(()=>{class Ge{constructor(){this._validator=Ae}ngOnChanges(Be){if(this.inputName in Be){const ft=this.normalizeInput(Be[this.inputName].currentValue);this._enabled=this.enabled(ft),this._validator=this._enabled?this.createValidator(ft):Ae,this._onChange&&this._onChange()}}validate(Be){return this._validator(Be)}registerOnValidatorChange(Be){this._onChange=Be}enabled(Be){return null!=Be}static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275dir=e.lG2({type:Ge,features:[e.TTD]})}return Ge})();const Po={provide:B,useExisting:(0,e.Gpc)(()=>or),multi:!0},br={provide:B,useExisting:(0,e.Gpc)(()=>oa),multi:!0};let or=(()=>{class Ge extends Hi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=Be=>oe}enabled(Be){return Be}static#e=this.\u0275fac=function(){let Be;return function(Dt){return(Be||(Be=e.n5z(Ge)))(Dt||Ge)}}();static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ft,Dt){2&ft&&e.uIk("required",Dt._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([Po]),e.qOj]})}return Ge})(),oa=(()=>{class Ge extends or{constructor(){super(...arguments),this.createValidator=Be=>H}static#e=this.\u0275fac=function(){let Be;return function(Dt){return(Be||(Be=e.n5z(Ge)))(Dt||Ge)}}();static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ft,Dt){2&ft&&e.uIk("required",Dt._enabled?"":null)},features:[e._Bn([br]),e.qOj]})}return Ge})(),ya=(()=>{class Ge{static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275mod=e.oAB({type:Ge});static#n=this.\u0275inj=e.cJS({imports:[xi]})}return Ge})();class Ua extends bt{constructor(Xe,Be,ft){super(it(Be),kt(ft,Be)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(Be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Xe){return this.controls[this._adjustIndex(Xe)]}push(Xe,Be={}){this.controls.push(Xe),this._registerControl(Xe),this.updateValueAndValidity({emitEvent:Be.emitEvent}),this._onCollectionChange()}insert(Xe,Be,ft={}){this.controls.splice(Xe,0,Be),this._registerControl(Be),this.updateValueAndValidity({emitEvent:ft.emitEvent})}removeAt(Xe,Be={}){let ft=this._adjustIndex(Xe);ft<0&&(ft=0),this.controls[ft]&&this.controls[ft]._registerOnCollectionChange(()=>{}),this.controls.splice(ft,1),this.updateValueAndValidity({emitEvent:Be.emitEvent})}setControl(Xe,Be,ft={}){let Dt=this._adjustIndex(Xe);Dt<0&&(Dt=0),this.controls[Dt]&&this.controls[Dt]._registerOnCollectionChange(()=>{}),this.controls.splice(Dt,1),Be&&(this.controls.splice(Dt,0,Be),this._registerControl(Be)),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Xe,Be={}){en(this,0,Xe),Xe.forEach((ft,Dt)=>{tn(this,!1,Dt),this.at(Dt).setValue(ft,{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be)}patchValue(Xe,Be={}){null!=Xe&&(Xe.forEach((ft,Dt)=>{this.at(Dt)&&this.at(Dt).patchValue(ft,{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be))}reset(Xe=[],Be={}){this._forEachChild((ft,Dt)=>{ft.reset(Xe[Dt],{onlySelf:!0,emitEvent:Be.emitEvent})}),this._updatePristine(Be),this._updateTouched(Be),this.updateValueAndValidity(Be)}getRawValue(){return this.controls.map(Xe=>Xe.getRawValue())}clear(Xe={}){this.controls.length<1||(this._forEachChild(Be=>Be._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Xe.emitEvent}))}_adjustIndex(Xe){return Xe<0?Xe+this.length:Xe}_syncPendingControls(){let Xe=this.controls.reduce((Be,ft)=>!!ft._syncPendingControls()||Be,!1);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){this.controls.forEach((Be,ft)=>{Xe(Be,ft)})}_updateValue(){this.value=this.controls.filter(Xe=>Xe.enabled||this.disabled).map(Xe=>Xe.value)}_anyControls(Xe){return this.controls.some(Be=>Be.enabled&&Xe(Be))}_setUpControls(){this._forEachChild(Xe=>this._registerControl(Xe))}_allControlsDisabled(){for(const Xe of this.controls)if(Xe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Xe){Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)}_find(Xe){return this.at(Xe)??null}}function uo(Ge){return!!Ge&&(void 0!==Ge.asyncValidators||void 0!==Ge.validators||void 0!==Ge.updateOn)}let pr=(()=>{class Ge{constructor(){this.useNonNullable=!1}get nonNullable(){const Be=new Ge;return Be.useNonNullable=!0,Be}group(Be,ft=null){const Dt=this._reduceControls(Be);let Fn={};return uo(ft)?Fn=ft:null!==ft&&(Fn.validators=ft.validator,Fn.asyncValidators=ft.asyncValidator),new wt(Dt,Fn)}record(Be,ft=null){const Dt=this._reduceControls(Be);return new dn(Dt,ft)}control(Be,ft,Dt){let Fn={};return this.useNonNullable?(uo(ft)?Fn=ft:(Fn.validators=ft,Fn.asyncValidators=Dt),new Ni(Be,{...Fn,nonNullable:!0})):new Ni(Be,ft,Dt)}array(Be,ft,Dt){const Fn=Be.map(si=>this._createControl(si));return new Ua(Fn,ft,Dt)}_reduceControls(Be){const ft={};return Object.keys(Be).forEach(Dt=>{ft[Dt]=this._createControl(Be[Dt])}),ft}_createControl(Be){return Be instanceof Ni||Be instanceof bt?Be:Array.isArray(Be)?this.control(Be[0],Be.length>1?Be[1]:null,Be.length>2?Be[2]:null):this.control(Be)}static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Ki=(()=>{class Ge{static withConfig(Be){return{ngModule:Ge,providers:[{provide:En,useValue:Be.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275mod=e.oAB({type:Ge});static#n=this.\u0275inj=e.cJS({imports:[ya]})}return Ge})(),Ut=(()=>{class Ge{static withConfig(Be){return{ngModule:Ge,providers:[{provide:At,useValue:Be.warnOnNgModelWithFormControl??"always"},{provide:En,useValue:Be.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(ft){return new(ft||Ge)};static#t=this.\u0275mod=e.oAB({type:Ge});static#n=this.\u0275inj=e.cJS({imports:[ya]})}return Ge})()},2296:(bn,Ye,M)=>{"use strict";M.d(Ye,{RK:()=>_e,lW:()=>oe,ot:()=>Ie});var e=M(2831),y=M(5879),E=M(4300),R=M(3680),b=M(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],S=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],V=["mat-icon-button",""],O=["*"],k={capture:!0},P=["focus","click","mouseenter","touchstart"],x="mat-button-ripple-uninitialized";let I=(()=>{class we{constructor(){this._document=(0,y.f3M)(b.K0,{optional:!0}),this._animationMode=(0,y.f3M)(y.QbO,{optional:!0}),this._globalRippleOptions=(0,y.f3M)(R.Y2,{optional:!0}),this._platform=(0,y.f3M)(e.t4),this._ngZone=(0,y.f3M)(y.R0b),this._onInteraction=We=>{if(We.target===this._document)return;const xe=We.target.closest(`[${x}]`);xe&&(xe.removeAttribute(x),this._appendRipple(xe))},this._ngZone.runOutsideAngular(()=>{for(const We of P)this._document?.addEventListener(We,this._onInteraction,k)})}ngOnDestroy(){for(const We of P)this._document?.removeEventListener(We,this._onInteraction,k)}_appendRipple(We){if(!this._document)return;const Ue=this._document.createElement("span");Ue.classList.add("mat-mdc-button-ripple");const xe=new T(We,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);xe.rippleConfig.centered=We.hasAttribute("mat-icon-button"),new R.IR(xe,this._ngZone,Ue,this._platform).setupTriggerEvents(We),We.append(Ue)}_createMatRipple(We){if(!this._document)return;We.querySelector(".mat-mdc-button-ripple")?.remove(),We.removeAttribute(x);const Ue=this._document.createElement("span");Ue.classList.add("mat-mdc-button-ripple");const xe=new R.wG(new y.SBq(Ue),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return xe._isInitialized=!0,xe.trigger=We,We.append(Ue),xe}static#e=this.\u0275fac=function(Ue){return new(Ue||we)};static#t=this.\u0275prov=y.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class T{constructor(Fe,We,Ue){this._button=Fe,this._globalRippleOptions=We,this._setRippleConfig(We,Ue)}_setRippleConfig(Fe,We){this.rippleConfig=Fe||{},"NoopAnimations"===We&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,R.pj)((0,R.Id)((0,R.Kr)(class{constructor(we){this._elementRef=we}})));let re=(()=>{class we extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(We){this._ripple=We}constructor(We,Ue,xe,be){super(We),this._platform=Ue,this._ngZone=xe,this._animationMode=be,this._focusMonitor=(0,y.f3M)(E.tE),this._rippleLoader=(0,y.f3M)(I),this._isFab=!1;const K=We.nativeElement.classList;for(const ie of B)this._hasHostAttributes(ie.selector)&&ie.mdcClasses.forEach(he=>{K.add(he)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(We="program",Ue){We?this._focusMonitor.focusVia(this._elementRef.nativeElement,We,Ue):this._elementRef.nativeElement.focus(Ue)}_hasHostAttributes(...We){return We.some(Ue=>this._elementRef.nativeElement.hasAttribute(Ue))}static#e=this.\u0275fac=function(Ue){y.$Z()};static#t=this.\u0275dir=y.lG2({type:we,features:[y.qOj,y.TTD]})}return we})(),oe=(()=>{class we extends re{constructor(We,Ue,xe,be){super(We,Ue,xe,be)}static#e=this.\u0275fac=function(Ue){return new(Ue||we)(y.Y36(y.SBq),y.Y36(e.t4),y.Y36(y.R0b),y.Y36(y.QbO,8))};static#t=this.\u0275cmp=y.Xpm({type:we,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ue,xe){2&Ue&&(y.uIk("disabled",xe.disabled||null),y.ekj("_mat-animation-noopable","NoopAnimations"===xe._animationMode)("mat-unthemed",!xe.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[y.qOj],attrs:F,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ue,xe){1&Ue&&(y.F$t(L),y._UZ(0,"span",0),y.Hsn(1),y.TgZ(2,"span",1),y.Hsn(3,1),y.qZA(),y.Hsn(4,2),y._UZ(5,"span",2)(6,"span",3)),2&Ue&&y.ekj("mdc-button__ripple",!xe._isFab)("mdc-fab__ripple",xe._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),_e=(()=>{class we extends re{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(We,Ue,xe,be){super(We,Ue,xe,be)}static#e=this.\u0275fac=function(Ue){return new(Ue||we)(y.Y36(y.SBq),y.Y36(e.t4),y.Y36(y.R0b),y.Y36(y.QbO,8))};static#t=this.\u0275cmp=y.Xpm({type:we,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ue,xe){2&Ue&&(y.uIk("disabled",xe.disabled||null),y.ekj("_mat-animation-noopable","NoopAnimations"===xe._animationMode)("mat-unthemed",!xe.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[y.qOj],attrs:V,ngContentSelectors:O,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ue,xe){1&Ue&&(y.F$t(),y._UZ(0,"span",0),y.Hsn(1),y._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),Ie=(()=>{class we{static#e=this.\u0275fac=function(Ue){return new(Ue||we)};static#t=this.\u0275mod=y.oAB({type:we});static#n=this.\u0275inj=y.cJS({imports:[R.BQ,R.si,R.BQ]})}return we})()},5986:(bn,Ye,M)=>{"use strict";M.d(Ye,{oG:()=>G,p9:()=>I});var e=M(5879),y=M(95),E=M(3680),R=M(2495);const b=["input"],F=["label"],L=["*"],S=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:m});function m(){return{color:"accent",clickAction:"check-indeterminate"}}const h={provide:y.JU,useExisting:(0,e.Gpc)(()=>G),multi:!0};class p{}let v=0;const w=m(),V=(0,E.sb)((0,E.pj)((0,E.Kr)((0,E.Id)(class{constructor(T){this._elementRef=T}}))));let O=(()=>{class T extends V{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(C){this._required=(0,R.Ig)(C)}constructor(C,B,Y,re,ae,Oe,z){super(B),this._changeDetectorRef=Y,this._ngZone=re,this._animationMode=Oe,this._options=z,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||w,this.color=this.defaultColor=this._options.color||w.color,this.tabIndex=parseInt(ae)||0,this.id=this._uniqueId=`${C}${++v}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(C){const B=(0,R.Ig)(C);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(C){const B=(0,R.Ig)(C);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(C){const B=C!=this._indeterminate;this._indeterminate=(0,R.Ig)(C),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(C){this.checked=!!C}registerOnChange(C){this._controlValueAccessorChangeFn=C}registerOnTouched(C){this._onTouched=C}setDisabledState(C){this.disabled=C}_transitionCheckState(C){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==C&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,C),this._currentCheckState=C,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const re=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(re)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const C=this._options?.clickAction;this.disabled||"noop"===C?!this.disabled&&"noop"===C&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==C&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(C){C.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(C,B){if("NoopAnimations"===this._animationMode)return"";switch(C){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(C){const B=this._inputElement;B&&(B.nativeElement.indeterminate=C)}static#e=this.\u0275fac=function(B){e.$Z()};static#t=this.\u0275dir=e.lG2({type:T,viewQuery:function(B,Y){if(1&B&&(e.Gf(b,5),e.Gf(F,5),e.Gf(E.wG,5)),2&B){let re;e.iGM(re=e.CRH())&&(Y._inputElement=re.first),e.iGM(re=e.CRH())&&(Y._labelElement=re.first),e.iGM(re=e.CRH())&&(Y.ripple=re.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]})}return T})(),G=(()=>{class T extends O{constructor(C,B,Y,re,ae,Oe){super("mat-mdc-checkbox-",C,B,Y,re,ae,Oe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(C){const B=new p;return B.source=this,B.checked=C,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(C){C.target&&this._labelElement.nativeElement.contains(C.target)&&C.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(S,8))};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(e.Ikx("id",Y.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([h]),e.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(ae){return Y._preventBubblingFromLabel(ae)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return Y._onTouchTargetClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(ae){return Y._onInteractionEvent(ae)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&B){const re=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==Y.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",Y.checked),e.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),e.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),e.xp6(7),e.Q6J("matRippleTrigger",re)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",Y.inputId)}},dependencies:[E.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),x=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=e.oAB({type:T});static#n=this.\u0275inj=e.cJS({})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=e.oAB({type:T});static#n=this.\u0275inj=e.cJS({imports:[E.BQ,E.si,x,E.BQ,x]})}return T})()},3680:(bn,Ye,M)=>{"use strict";M.d(Ye,{yN:()=>I,mZ:()=>T,_A:()=>Ae,rD:()=>We,sG:()=>se,K7:()=>yt,HF:()=>Ze,Y2:()=>pe,BQ:()=>B,XK:()=>we,ey:()=>Gt,Ng:()=>Rn,wG:()=>le,si:()=>Te,IR:()=>Q,CB:()=>Xt,jH:()=>cn,pj:()=>z,Kr:()=>oe,Id:()=>Oe,FD:()=>me,dB:()=>ne,sb:()=>H});var e=M(5879),y=M(4300),E=M(9388),b=M(6814),F=M(2831),L=M(2495),S=M(5592),m=M(8645),h=M(6028);const w=["text"];function V(nt,at){if(1&nt&&e._UZ(0,"mat-pseudo-checkbox",6),2&nt){const Se=e.oxw();e.Q6J("disabled",Se.disabled)("state",Se.selected?"checked":"unchecked")}}function O(nt,at){if(1&nt&&e._UZ(0,"mat-pseudo-checkbox",7),2&nt){const Se=e.oxw();e.Q6J("disabled",Se.disabled)}}function G(nt,at){if(1&nt&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&nt){const Se=e.oxw();e.xp6(1),e.hij("(",Se.group.label,")")}}const k=[[["mat-icon"]],"*"],P=["mat-icon","*"];let I=(()=>{class nt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return nt})(),T=(()=>{class nt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return nt})();const C=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class nt{constructor(Se,ue,ge){this._sanityChecks=ue,this._document=ge,this._hasDoneGlobalChecks=!1,Se._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Se){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Se])}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.LFG(y.qm),e.LFG(C,8),e.LFG(b.K0))};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({imports:[E.vT,E.vT]})}return nt})();function Oe(nt){return class extends nt{get disabled(){return this._disabled}set disabled(at){this._disabled=(0,L.Ig)(at)}constructor(...at){super(...at),this._disabled=!1}}}function z(nt,at){return class extends nt{get color(){return this._color}set color(Se){const ue=Se||this.defaultColor;ue!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ue&&this._elementRef.nativeElement.classList.add(`mat-${ue}`),this._color=ue)}constructor(...Se){super(...Se),this.defaultColor=at,this.color=at}}}function oe(nt){return class extends nt{get disableRipple(){return this._disableRipple}set disableRipple(at){this._disableRipple=(0,L.Ig)(at)}constructor(...at){super(...at),this._disableRipple=!1}}}function H(nt,at=0){return class extends nt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Se){this._tabIndex=null!=Se?(0,L.su)(Se):this.defaultTabIndex}constructor(...Se){super(...Se),this._tabIndex=at,this.defaultTabIndex=at}}}function me(nt){return class extends nt{updateErrorState(){const at=this.errorState,it=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);it!==at&&(this.errorState=it,this.stateChanges.next())}constructor(...at){super(...at),this.errorState=!1}}}function ne(nt){return class extends nt{constructor(...at){super(...at),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new S.y(Se=>{this._isInitialized?this._notifySubscriber(Se):this._pendingSubscribers.push(Se)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(at){at.next(),at.complete()}}}const fe=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ee(){return(0,e.f3M)(e.soG)}});class Ae{constructor(){this._localeChanges=new m.x,this.localeChanges=this._localeChanges}getValidDateOrNull(at){return this.isDateInstance(at)&&this.isValid(at)?at:null}deserialize(at){return null==at||this.isDateInstance(at)&&this.isValid(at)?at:this.invalid()}setLocale(at){this.locale=at,this._localeChanges.next()}compareDate(at,Se){return this.getYear(at)-this.getYear(Se)||this.getMonth(at)-this.getMonth(Se)||this.getDate(at)-this.getDate(Se)}sameDate(at,Se){if(at&&Se){let ue=this.isValid(at),ge=this.isValid(Se);return ue&&ge?!this.compareDate(at,Se):ue==ge}return at==Se}clampDate(at,Se,ue){return Se&&this.compareDate(at,Se)<0?Se:ue&&this.compareDate(at,ue)>0?ue:at}}const se=new e.OlP("mat-date-formats"),De=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Me(nt,at){const Se=Array(nt);for(let ue=0;ue<nt;ue++)Se[ue]=at(ue);return Se}let _e=(()=>{class nt extends Ae{constructor(Se,ue){super(),this.useUtcForDisplay=!1,super.setLocale(Se)}getYear(Se){return Se.getFullYear()}getMonth(Se){return Se.getMonth()}getDate(Se){return Se.getDate()}getDayOfWeek(Se){return Se.getDay()}getMonthNames(Se){const ue=new Intl.DateTimeFormat(this.locale,{month:Se,timeZone:"utc"});return Me(12,ge=>this._format(ue,new Date(2017,ge,1)))}getDateNames(){const Se=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Me(31,ue=>this._format(Se,new Date(2017,0,ue+1)))}getDayOfWeekNames(Se){const ue=new Intl.DateTimeFormat(this.locale,{weekday:Se,timeZone:"utc"});return Me(7,ge=>this._format(ue,new Date(2017,0,ge+1)))}getYearName(Se){const ue=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(ue,Se)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Se){return this.getDate(this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se)+1,0))}clone(Se){return new Date(Se.getTime())}createDate(Se,ue,ge){let it=this._createDateWithOverflow(Se,ue,ge);return it.getMonth(),it}today(){return new Date}parse(Se,ue){return"number"==typeof Se?new Date(Se):Se?new Date(Date.parse(Se)):null}format(Se,ue){if(!this.isValid(Se))throw Error("NativeDateAdapter: Cannot format invalid date.");const ge=new Intl.DateTimeFormat(this.locale,{...ue,timeZone:"utc"});return this._format(ge,Se)}addCalendarYears(Se,ue){return this.addCalendarMonths(Se,12*ue)}addCalendarMonths(Se,ue){let ge=this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se)+ue,this.getDate(Se));return this.getMonth(ge)!=((this.getMonth(Se)+ue)%12+12)%12&&(ge=this._createDateWithOverflow(this.getYear(ge),this.getMonth(ge),0)),ge}addCalendarDays(Se,ue){return this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se),this.getDate(Se)+ue)}toIso8601(Se){return[Se.getUTCFullYear(),this._2digit(Se.getUTCMonth()+1),this._2digit(Se.getUTCDate())].join("-")}deserialize(Se){if("string"==typeof Se){if(!Se)return null;if(De.test(Se)){let ue=new Date(Se);if(this.isValid(ue))return ue}}return super.deserialize(Se)}isDateInstance(Se){return Se instanceof Date}isValid(Se){return!isNaN(Se.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Se,ue,ge){const it=new Date;return it.setFullYear(Se,ue,ge),it.setHours(0,0,0,0),it}_2digit(Se){return("00"+Se).slice(-2)}_format(Se,ue){const ge=new Date;return ge.setUTCFullYear(ue.getFullYear(),ue.getMonth(),ue.getDate()),ge.setUTCHours(ue.getHours(),ue.getMinutes(),ue.getSeconds(),ue.getMilliseconds()),Se.format(ge)}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.LFG(fe,8),e.LFG(F.t4))};static#t=this.\u0275prov=e.Yz7({token:nt,factory:nt.\u0275fac})}return nt})();const Le={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ie=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({providers:[{provide:Ae,useClass:_e}]})}return nt})(),we=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({providers:[{provide:se,useValue:Le}],imports:[Ie]})}return nt})(),We=(()=>{class nt{isErrorState(Se,ue){return!!(Se&&Se.invalid&&(Se.touched||ue&&ue.submitted))}static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275prov=e.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();class ie{constructor(at,Se,ue,ge=!1){this._renderer=at,this.element=Se,this.config=ue,this._animationForciblyDisabledThroughCss=ge,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const he=(0,F.i$)({passive:!0,capture:!0});class q{constructor(){this._events=new Map,this._delegateEventHandler=at=>{const Se=(0,F.sA)(at);Se&&this._events.get(at.type)?.forEach((ue,ge)=>{(ge===Se||ge.contains(Se))&&ue.forEach(it=>it.handleEvent(at))})}}addHandler(at,Se,ue,ge){const it=this._events.get(Se);if(it){const pt=it.get(ue);pt?pt.add(ge):it.set(ue,new Set([ge]))}else this._events.set(Se,new Map([[ue,new Set([ge])]])),at.runOutsideAngular(()=>{document.addEventListener(Se,this._delegateEventHandler,he)})}removeHandler(at,Se,ue){const ge=this._events.get(at);if(!ge)return;const it=ge.get(Se);it&&(it.delete(ue),0===it.size&&ge.delete(Se),0===ge.size&&(this._events.delete(at),document.removeEventListener(at,this._delegateEventHandler,he)))}}const $={enterDuration:225,exitDuration:150},te=(0,F.i$)({passive:!0,capture:!0}),X=["mousedown","touchstart"],J=["mouseup","mouseleave","touchend","touchcancel"];class Q{static#e=this._eventManager=new q;constructor(at,Se,ue,ge){this._target=at,this._ngZone=Se,this._platform=ge,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ge.isBrowser&&(this._containerElement=(0,L.fI)(ue))}fadeInRipple(at,Se,ue={}){const ge=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),it={...$,...ue.animation};ue.centered&&(at=ge.left+ge.width/2,Se=ge.top+ge.height/2);const pt=ue.radius||function de(nt,at,Se){const ue=Math.max(Math.abs(nt-Se.left),Math.abs(nt-Se.right)),ge=Math.max(Math.abs(at-Se.top),Math.abs(at-Se.bottom));return Math.sqrt(ue*ue+ge*ge)}(at,Se,ge),kt=at-ge.left,Bt=Se-ge.top,Kt=it.enterDuration,tn=document.createElement("div");tn.classList.add("mat-ripple-element"),tn.style.left=kt-pt+"px",tn.style.top=Bt-pt+"px",tn.style.height=2*pt+"px",tn.style.width=2*pt+"px",null!=ue.color&&(tn.style.backgroundColor=ue.color),tn.style.transitionDuration=`${Kt}ms`,this._containerElement.appendChild(tn);const en=window.getComputedStyle(tn),wt=en.transitionDuration,Zt="none"===en.transitionProperty||"0s"===wt||"0s, 0s"===wt||0===ge.width&&0===ge.height,Wt=new ie(this,tn,ue,Zt);tn.style.transform="scale3d(1, 1, 1)",Wt.state=0,ue.persistent||(this._mostRecentTransientRipple=Wt);let dn=null;return!Zt&&(Kt||it.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const gn=()=>this._finishRippleTransition(Wt),En=()=>this._destroyRipple(Wt);tn.addEventListener("transitionend",gn),tn.addEventListener("transitioncancel",En),dn={onTransitionEnd:gn,onTransitionCancel:En}}),this._activeRipples.set(Wt,dn),(Zt||!Kt)&&this._finishRippleTransition(Wt),Wt}fadeOutRipple(at){if(2===at.state||3===at.state)return;const Se=at.element,ue={...$,...at.config.animation};Se.style.transitionDuration=`${ue.exitDuration}ms`,Se.style.opacity="0",at.state=2,(at._animationForciblyDisabledThroughCss||!ue.exitDuration)&&this._finishRippleTransition(at)}fadeOutAll(){this._getActiveRipples().forEach(at=>at.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(at=>{at.config.persistent||at.fadeOut()})}setupTriggerEvents(at){const Se=(0,L.fI)(at);!this._platform.isBrowser||!Se||Se===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Se,X.forEach(ue=>{Q._eventManager.addHandler(this._ngZone,ue,Se,this)}))}handleEvent(at){"mousedown"===at.type?this._onMousedown(at):"touchstart"===at.type?this._onTouchStart(at):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{J.forEach(Se=>{this._triggerElement.addEventListener(Se,this,te)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(at){0===at.state?this._startFadeOutTransition(at):2===at.state&&this._destroyRipple(at)}_startFadeOutTransition(at){const Se=at===this._mostRecentTransientRipple,{persistent:ue}=at.config;at.state=1,!ue&&(!Se||!this._isPointerDown)&&at.fadeOut()}_destroyRipple(at){const Se=this._activeRipples.get(at)??null;this._activeRipples.delete(at),this._activeRipples.size||(this._containerRect=null),at===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),at.state=3,null!==Se&&(at.element.removeEventListener("transitionend",Se.onTransitionEnd),at.element.removeEventListener("transitioncancel",Se.onTransitionCancel)),at.element.remove()}_onMousedown(at){const Se=(0,y.X6)(at),ue=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Se&&!ue&&(this._isPointerDown=!0,this.fadeInRipple(at.clientX,at.clientY,this._target.rippleConfig))}_onTouchStart(at){if(!this._target.rippleDisabled&&!(0,y.yG)(at)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Se=at.changedTouches;if(Se)for(let ue=0;ue<Se.length;ue++)this.fadeInRipple(Se[ue].clientX,Se[ue].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(at=>{!at.config.persistent&&(1===at.state||at.config.terminateOnPointerUp&&0===at.state)&&at.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const at=this._triggerElement;at&&(X.forEach(Se=>Q._eventManager.removeHandler(Se,at,this)),this._pointerUpEventsRegistered&&J.forEach(Se=>at.removeEventListener(Se,this,te)))}}const pe=new e.OlP("mat-ripple-global-options");let le=(()=>{class nt{get disabled(){return this._disabled}set disabled(Se){Se&&this.fadeOutAllNonPersistent(),this._disabled=Se,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Se){this._trigger=Se,this._setupTriggerEventsIfEnabled()}constructor(Se,ue,ge,it,pt){this._elementRef=Se,this._animationMode=pt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=it||{},this._rippleRenderer=new Q(this,ue,Se,ge)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Se,ue=0,ge){return"number"==typeof Se?this._rippleRenderer.fadeInRipple(Se,ue,{...this.rippleConfig,...ge}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Se})}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(F.t4),e.Y36(pe,8),e.Y36(e.QbO,8))};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ue,ge){2&ue&&e.ekj("mat-ripple-unbounded",ge.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return nt})(),Te=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({imports:[B,B]})}return nt})(),Ve=(()=>{class nt{constructor(Se){this._animationMode=Se,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:nt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(ue,ge){2&ue&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ge.state)("mat-pseudo-checkbox-checked","checked"===ge.state)("mat-pseudo-checkbox-disabled",ge.disabled)("mat-pseudo-checkbox-minimal","minimal"===ge.appearance)("mat-pseudo-checkbox-full","full"===ge.appearance)("_mat-animation-noopable","NoopAnimations"===ge._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(ue,ge){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return nt})(),ke=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({imports:[B]})}return nt})();const Ze=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),yt=new e.OlP("MatOptgroup");let Ct=0;class Ot{constructor(at,Se=!1){this.source=at,this.isUserInput=Se}}let It=(()=>{class nt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Se){this._disabled=(0,L.Ig)(Se)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Se,ue,ge,it){this._element=Se,this._changeDetectorRef=ue,this._parent=ge,this.group=it,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ct++,this.onSelectionChange=new e.vpe,this._stateChanges=new m.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Se=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Se&&this._emitSelectionChangeEvent())}deselect(Se=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Se&&this._emitSelectionChangeEvent())}focus(Se,ue){const ge=this._getHostElement();"function"==typeof ge.focus&&ge.focus(ue)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Se){(Se.keyCode===h.K5||Se.keyCode===h.L_)&&!(0,h.Vb)(Se)&&(this._selectViaInteraction(),Se.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Se=this.viewValue;Se!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Se)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Se=!1){this.onSelectionChange.emit(new Ot(this,Se))}static#e=this.\u0275fac=function(ue){e.$Z()};static#t=this.\u0275dir=e.lG2({type:nt,viewQuery:function(ue,ge){if(1&ue&&e.Gf(w,7),2&ue){let it;e.iGM(it=e.CRH())&&(ge._text=it.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return nt})(),Gt=(()=>{class nt extends It{constructor(Se,ue,ge,it){super(Se,ue,ge,it)}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Ze,8),e.Y36(yt,8))};static#t=this.\u0275cmp=e.Xpm({type:nt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(ue,ge){1&ue&&e.NdJ("click",function(){return ge._selectViaInteraction()})("keydown",function(pt){return ge._handleKeydown(pt)}),2&ue&&(e.Ikx("id",ge.id),e.uIk("aria-selected",ge.selected)("aria-disabled",ge.disabled.toString()),e.ekj("mdc-list-item--selected",ge.selected)("mat-mdc-option-multiple",ge.multiple)("mat-mdc-option-active",ge.active)("mdc-list-item--disabled",ge.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:P,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(ue,ge){1&ue&&(e.F$t(k),e.YNc(0,V,1,2,"mat-pseudo-checkbox",0),e.Hsn(1),e.TgZ(2,"span",1,2),e.Hsn(4,1),e.qZA(),e.YNc(5,O,1,1,"mat-pseudo-checkbox",3),e.YNc(6,G,2,1,"span",4),e._UZ(7,"div",5)),2&ue&&(e.Q6J("ngIf",ge.multiple),e.xp6(5),e.Q6J("ngIf",!ge.multiple&&ge.selected&&!ge.hideSingleSelectionIndicator),e.xp6(1),e.Q6J("ngIf",ge.group&&ge.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",ge._getHostElement())("matRippleDisabled",ge.disabled||ge.disableRipple))},dependencies:[le,b.O5,Ve],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return nt})();function Xt(nt,at,Se){if(Se.length){let ue=at.toArray(),ge=Se.toArray(),it=0;for(let pt=0;pt<nt+1;pt++)ue[pt].group&&ue[pt].group===ge[it]&&it++;return it}return 0}function cn(nt,at,Se,ue){return nt<Se?nt:nt+at>Se+ue?Math.max(0,nt-ue+at):Se}let Rn=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({imports:[Te,b.ez,B,ke]})}return nt})()},8034:(bn,Ye,M)=>{"use strict";M.d(Ye,{FA:()=>An,Mq:()=>bt,hl:()=>En,nW:()=>jn});var e=M(4300),y=M(3651),E=M(8484),R=M(6814),b=M(5879),F=M(2296),L=M(799),S=M(3680),m=M(8645),h=M(7394),p=M(3019),v=M(2096),w=M(6028),V=M(9388),O=M(2831),G=M(8180),k=M(7921),P=M(2181),x=M(2495),I=M(6825),T=M(95),N=M(9157),C=M(2032);const B=["mat-calendar-body",""];function Y(st,Yt){if(1&st&&(b.TgZ(0,"tr",3)(1,"td",4),b._uU(2),b.qZA()()),2&st){const ve=b.oxw();b.xp6(1),b.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),b.uIk("colspan",ve.numCols),b.xp6(1),b.hij(" ",ve.label," ")}}function re(st,Yt){if(1&st&&(b.TgZ(0,"td",4),b._uU(1),b.qZA()),2&st){const ve=b.oxw(2);b.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),b.uIk("colspan",ve._firstRowOffset),b.xp6(1),b.hij(" ",ve._firstRowOffset>=ve.labelMinRequiredCells?ve.label:""," ")}}function ae(st,Yt){if(1&st){const ve=b.EpF();b.TgZ(0,"td",8)(1,"button",9),b.NdJ("click",function($e){const jt=b.CHM(ve).$implicit,Pn=b.oxw(2);return b.KtG(Pn._cellClicked(jt,$e))})("focus",function($e){const jt=b.CHM(ve).$implicit,Pn=b.oxw(2);return b.KtG(Pn._emitActiveDateChange(jt,$e))}),b.TgZ(2,"span",10),b._uU(3),b.qZA(),b._UZ(4,"span",11),b.qZA()()}if(2&st){const ve=Yt.$implicit,tt=Yt.index,$e=b.oxw().index,vt=b.oxw();b.Udp("width",vt._cellWidth)("padding-top",vt._cellPadding)("padding-bottom",vt._cellPadding),b.uIk("data-mat-row",$e)("data-mat-col",tt),b.xp6(1),b.ekj("mat-calendar-body-disabled",!ve.enabled)("mat-calendar-body-active",vt._isActiveCell($e,tt))("mat-calendar-body-range-start",vt._isRangeStart(ve.compareValue))("mat-calendar-body-range-end",vt._isRangeEnd(ve.compareValue))("mat-calendar-body-in-range",vt._isInRange(ve.compareValue))("mat-calendar-body-comparison-bridge-start",vt._isComparisonBridgeStart(ve.compareValue,$e,tt))("mat-calendar-body-comparison-bridge-end",vt._isComparisonBridgeEnd(ve.compareValue,$e,tt))("mat-calendar-body-comparison-start",vt._isComparisonStart(ve.compareValue))("mat-calendar-body-comparison-end",vt._isComparisonEnd(ve.compareValue))("mat-calendar-body-in-comparison-range",vt._isInComparisonRange(ve.compareValue))("mat-calendar-body-preview-start",vt._isPreviewStart(ve.compareValue))("mat-calendar-body-preview-end",vt._isPreviewEnd(ve.compareValue))("mat-calendar-body-in-preview",vt._isInPreview(ve.compareValue)),b.Q6J("ngClass",ve.cssClasses)("tabindex",vt._isActiveCell($e,tt)?0:-1),b.uIk("aria-label",ve.ariaLabel)("aria-disabled",!ve.enabled||null)("aria-pressed",vt._isSelected(ve.compareValue))("aria-current",vt.todayValue===ve.compareValue?"date":null)("aria-describedby",vt._getDescribedby(ve.compareValue)),b.xp6(1),b.ekj("mat-calendar-body-selected",vt._isSelected(ve.compareValue))("mat-calendar-body-comparison-identical",vt._isComparisonIdentical(ve.compareValue))("mat-calendar-body-today",vt.todayValue===ve.compareValue),b.xp6(1),b.hij(" ",ve.displayValue," ")}}function Oe(st,Yt){if(1&st&&(b.TgZ(0,"tr",5),b.YNc(1,re,2,6,"td",6),b.YNc(2,ae,5,48,"td",7),b.qZA()),2&st){const ve=Yt.$implicit,tt=Yt.index,$e=b.oxw();b.xp6(1),b.Q6J("ngIf",0===tt&&$e._firstRowOffset),b.xp6(1),b.Q6J("ngForOf",ve)}}function z(st,Yt){if(1&st&&(b.TgZ(0,"th",5)(1,"span",6),b._uU(2),b.qZA(),b.TgZ(3,"span",7),b._uU(4),b.qZA()()),2&st){const ve=Yt.$implicit;b.xp6(2),b.Oqu(ve.long),b.xp6(2),b.Oqu(ve.narrow)}}const oe=["*"];function H(st,Yt){}function me(st,Yt){if(1&st){const ve=b.EpF();b.TgZ(0,"mat-month-view",5),b.NdJ("activeDateChange",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt.activeDate=$e)})("_userSelection",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._dateSelected($e))})("dragStarted",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._dragStarted($e))})("dragEnded",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._dragEnded($e))}),b.qZA()}if(2&st){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)("comparisonStart",ve.comparisonStart)("comparisonEnd",ve.comparisonEnd)("startDateAccessibleName",ve.startDateAccessibleName)("endDateAccessibleName",ve.endDateAccessibleName)("activeDrag",ve._activeDrag)}}function ne(st,Yt){if(1&st){const ve=b.EpF();b.TgZ(0,"mat-year-view",6),b.NdJ("activeDateChange",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt.activeDate=$e)})("monthSelected",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._monthSelectedInYearView($e))})("selectedChange",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._goToDateInView($e,"month"))}),b.qZA()}if(2&st){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function fe(st,Yt){if(1&st){const ve=b.EpF();b.TgZ(0,"mat-multi-year-view",7),b.NdJ("activeDateChange",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt.activeDate=$e)})("yearSelected",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._yearSelectedInMultiYearView($e))})("selectedChange",function($e){b.CHM(ve);const vt=b.oxw();return b.KtG(vt._goToDateInView($e,"year"))}),b.qZA()}if(2&st){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function Ee(st,Yt){}const Ae=["button"];function se(st,Yt){1&st&&(b.O4$(),b.TgZ(0,"svg",3),b._UZ(1,"path",4),b.qZA())}const De=[[["","matDatepickerToggleIcon",""]]],Me=["[matDatepickerToggleIcon]"];let Fe=(()=>{class st{constructor(){this.changes=new m.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ve,tt){return`${ve} \u2013 ${tt}`}formatYearRangeLabel(ve,tt){return`${ve} to ${tt}`}static#e=this.\u0275fac=function(tt){return new(tt||st)};static#t=this.\u0275prov=b.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();class We{constructor(Yt,ve,tt,$e,vt={},jt=Yt,Pn){this.value=Yt,this.displayValue=ve,this.ariaLabel=tt,this.enabled=$e,this.cssClasses=vt,this.compareValue=jt,this.rawValue=Pn}}let Ue=1;const xe=(0,O.i$)({passive:!1,capture:!0}),be=(0,O.i$)({passive:!0,capture:!0}),K=(0,O.i$)({passive:!0});let ie=(()=>{class st{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ve,tt){this._elementRef=ve,this._ngZone=tt,this._platform=(0,b.f3M)(O.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new b.vpe,this.previewChange=new b.vpe,this.activeDateChange=new b.vpe,this.dragStarted=new b.vpe,this.dragEnded=new b.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=$e=>{if(this._skipNextFocus&&"focus"===$e.type)this._skipNextFocus=!1;else if($e.target&&this.isRange){const vt=this._getCellFromElement($e.target);vt&&this._ngZone.run(()=>this.previewChange.emit({value:vt.enabled?vt:null,event:$e}))}},this._touchmoveHandler=$e=>{if(!this.isRange)return;const vt=X($e),jt=vt?this._getCellFromElement(vt):null;vt!==$e.target&&(this._didDragSinceMouseDown=!0),q($e.target)&&$e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:jt?.enabled?jt:null,event:$e}))},this._leaveHandler=$e=>{null!==this.previewEnd&&this.isRange&&("blur"!==$e.type&&(this._didDragSinceMouseDown=!0),$e.target&&this._getCellFromElement($e.target)&&(!$e.relatedTarget||!this._getCellFromElement($e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:$e})))},this._mousedownHandler=$e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const vt=$e.target&&this._getCellFromElement($e.target);!vt||!this._isInRange(vt.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:vt.rawValue,event:$e})})},this._mouseupHandler=$e=>{if(!this.isRange)return;const vt=q($e.target);vt?vt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const jt=this._getCellFromElement(vt);this.dragEnded.emit({value:jt?.rawValue??null,event:$e})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:$e})})},this._touchendHandler=$e=>{const vt=X($e);vt&&this._mouseupHandler({target:vt})},this._id="mat-calendar-body-"+Ue++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,tt.runOutsideAngular(()=>{const $e=ve.nativeElement;$e.addEventListener("touchmove",this._touchmoveHandler,xe),$e.addEventListener("mouseenter",this._enterHandler,be),$e.addEventListener("focus",this._enterHandler,be),$e.addEventListener("mouseleave",this._leaveHandler,be),$e.addEventListener("blur",this._leaveHandler,be),$e.addEventListener("mousedown",this._mousedownHandler,K),$e.addEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ve,tt){this._didDragSinceMouseDown||ve.enabled&&this.selectedValueChange.emit({value:ve.value,event:tt})}_emitActiveDateChange(ve,tt){ve.enabled&&this.activeDateChange.emit({value:ve.value,event:tt})}_isSelected(ve){return this.startValue===ve||this.endValue===ve}ngOnChanges(ve){const tt=ve.numCols,{rows:$e,numCols:vt}=this;(ve.rows||tt)&&(this._firstRowOffset=$e&&$e.length&&$e[0].length?vt-$e[0].length:0),(ve.cellAspectRatio||tt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/vt+"%"),(tt||!this._cellWidth)&&(this._cellWidth=100/vt+"%")}ngOnDestroy(){const ve=this._elementRef.nativeElement;ve.removeEventListener("touchmove",this._touchmoveHandler,xe),ve.removeEventListener("mouseenter",this._enterHandler,be),ve.removeEventListener("focus",this._enterHandler,be),ve.removeEventListener("mouseleave",this._leaveHandler,be),ve.removeEventListener("blur",this._leaveHandler,be),ve.removeEventListener("mousedown",this._mousedownHandler,K),ve.removeEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ve,tt){let $e=ve*this.numCols+tt;return ve&&($e-=this._firstRowOffset),$e==this.activeCell}_focusActiveCell(ve=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,G.q)(1)).subscribe(()=>{setTimeout(()=>{const tt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");tt&&(ve||(this._skipNextFocus=!0),tt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ve){return $(ve,this.startValue,this.endValue)}_isRangeEnd(ve){return W(ve,this.startValue,this.endValue)}_isInRange(ve){return te(ve,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ve){return $(ve,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ve,tt,$e){if(!this._isComparisonStart(ve)||this._isRangeStart(ve)||!this._isInRange(ve))return!1;let vt=this.rows[tt][$e-1];if(!vt){const jt=this.rows[tt-1];vt=jt&&jt[jt.length-1]}return vt&&!this._isRangeEnd(vt.compareValue)}_isComparisonBridgeEnd(ve,tt,$e){if(!this._isComparisonEnd(ve)||this._isRangeEnd(ve)||!this._isInRange(ve))return!1;let vt=this.rows[tt][$e+1];if(!vt){const jt=this.rows[tt+1];vt=jt&&jt[0]}return vt&&!this._isRangeStart(vt.compareValue)}_isComparisonEnd(ve){return W(ve,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ve){return te(ve,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ve){return this.comparisonStart===this.comparisonEnd&&ve===this.comparisonStart}_isPreviewStart(ve){return $(ve,this.previewStart,this.previewEnd)}_isPreviewEnd(ve){return W(ve,this.previewStart,this.previewEnd)}_isInPreview(ve){return te(ve,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ve){return this.isRange?this.startValue===ve&&this.endValue===ve?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ve?this._startDateLabelId:this.endValue===ve?this._endDateLabelId:null:null}_getCellFromElement(ve){const tt=q(ve);if(tt){const $e=tt.getAttribute("data-mat-row"),vt=tt.getAttribute("data-mat-col");if($e&&vt)return this.rows[parseInt($e)][parseInt(vt)]}return null}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.SBq),b.Y36(b.R0b))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[b.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(tt,$e){1&tt&&(b.YNc(0,Y,3,6,"tr",0),b.YNc(1,Oe,3,2,"tr",1),b.TgZ(2,"label",2),b._uU(3),b.qZA(),b.TgZ(4,"label",2),b._uU(5),b.qZA()),2&tt&&(b.Q6J("ngIf",$e._firstRowOffset<$e.labelMinRequiredCells),b.xp6(1),b.Q6J("ngForOf",$e.rows),b.xp6(1),b.Q6J("id",$e._startDateLabelId),b.xp6(1),b.hij(" ",$e.startDateAccessibleName,"\n"),b.xp6(1),b.Q6J("id",$e._endDateLabelId),b.xp6(1),b.hij(" ",$e.endDateAccessibleName,"\n"))},dependencies:[R.mk,R.sg,R.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return st})();function he(st){return"TD"===st?.nodeName}function q(st){let Yt;return he(st)?Yt=st:he(st.parentNode)?Yt=st.parentNode:he(st.parentNode?.parentNode)&&(Yt=st.parentNode.parentNode),null!=Yt?.getAttribute("data-mat-row")?Yt:null}function $(st,Yt,ve){return null!==ve&&Yt!==ve&&st<ve&&st===Yt}function W(st,Yt,ve){return null!==Yt&&Yt!==ve&&st>=Yt&&st===ve}function te(st,Yt,ve,tt){return tt&&null!==Yt&&null!==ve&&Yt!==ve&&st>=Yt&&st<=ve}function X(st){const Yt=st.changedTouches[0];return document.elementFromPoint(Yt.clientX,Yt.clientY)}class J{constructor(Yt,ve){this.start=Yt,this.end=ve}}let Q=(()=>{class st{constructor(ve,tt){this.selection=ve,this._adapter=tt,this._selectionChanged=new m.x,this.selectionChanged=this._selectionChanged,this.selection=ve}updateSelection(ve,tt){const $e=this.selection;this.selection=ve,this._selectionChanged.next({selection:ve,source:tt,oldValue:$e})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ve){return this._adapter.isDateInstance(ve)&&this._adapter.isValid(ve)}static#e=this.\u0275fac=function(tt){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:st,factory:st.\u0275fac})}return st})(),de=(()=>{class st extends Q{constructor(ve){super(null,ve)}add(ve){super.updateSelection(ve,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ve=new st(this._adapter);return ve.updateSelection(this.selection,this),ve}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.LFG(S._A))};static#t=this.\u0275prov=b.Yz7({token:st,factory:st.\u0275fac})}return st})();const Te={provide:Q,deps:[[new b.FiY,new b.tp0,Q],S._A],useFactory:function le(st,Yt){return st||new de(Yt)}},Ze=new b.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let ut=(()=>{class st{get activeDate(){return this._activeDate}set activeDate(ve){const tt=this._activeDate,$e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate($e,this.minDate,this.maxDate),this._hasSameMonthAndYear(tt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof J?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,tt,$e,vt,jt){this._changeDetectorRef=ve,this._dateFormats=tt,this._dateAdapter=$e,this._dir=vt,this._rangeStrategy=jt,this._rerenderSubscription=h.w0.EMPTY,this.activeDrag=null,this.selectedChange=new b.vpe,this._userSelection=new b.vpe,this.dragStarted=new b.vpe,this.dragEnded=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(ve){const tt=ve.comparisonStart||ve.comparisonEnd;tt&&!tt.firstChange&&this._setRanges(this.selected),ve.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ve){const tt=ve.value,$e=this._getDateFromDayOfMonth(tt);let vt,jt;this._selected instanceof J?(vt=this._getDateInCurrentMonth(this._selected.start),jt=this._getDateInCurrentMonth(this._selected.end)):vt=jt=this._getDateInCurrentMonth(this._selected),(vt!==tt||jt!==tt)&&this.selectedChange.emit($e),this._userSelection.emit({value:$e,event:ve.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ve){const $e=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ve.value),this._dateAdapter.compareDate($e,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ve){const tt=this._activeDate,$e=this._isRtl();switch(ve.keyCode){case w.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,$e?1:-1);break;case w.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,$e?-1:1);break;case w.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case w.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case w.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case w.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case w.Ku:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case w.VM:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case w.K5:case w.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ve.preventDefault());case w.hY:return void(null!=this._previewEnd&&!(0,w.Vb)(ve)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ve}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ve})),ve.preventDefault(),ve.stopPropagation()));default:return}this._dateAdapter.compareDate(tt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===w.L_||ve.keyCode===w.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ve=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ve)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ve){this._matCalendarBody._focusActiveCell(ve)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ve,value:tt}){if(this._rangeStrategy){const $e=tt?tt.rawValue:null,vt=this._rangeStrategy.createPreview($e,this.selected,ve);if(this._previewStart=this._getCellCompareValue(vt.start),this._previewEnd=this._getCellCompareValue(vt.end),this.activeDrag&&$e){const jt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,$e,ve);jt&&(this._previewStart=this._getCellCompareValue(jt.start),this._previewEnd=this._getCellCompareValue(jt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ve){if(this.activeDrag)if(ve.value){const tt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ve.value,ve.event);this.dragEnded.emit({value:tt??null,event:ve.event})}else this.dragEnded.emit({value:null,event:ve.event})}_getDateFromDayOfMonth(ve){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ve)}_initWeekdays(){const ve=this._dateAdapter.getFirstDayOfWeek(),tt=this._dateAdapter.getDayOfWeekNames("narrow");let vt=this._dateAdapter.getDayOfWeekNames("long").map((jt,Pn)=>({long:jt,narrow:tt[Pn]}));this._weekdays=vt.slice(ve).concat(vt.slice(0,ve))}_createWeekCells(){const ve=this._dateAdapter.getNumDaysInMonth(this.activeDate),tt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let $e=0,vt=this._firstWeekOffset;$e<ve;$e++,vt++){7==vt&&(this._weeks.push([]),vt=0);const jt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),$e+1),Pn=this._shouldEnableDate(jt),Di=this._dateAdapter.format(jt,this._dateFormats.display.dateA11yLabel),Qi=this.dateClass?this.dateClass(jt,"month"):void 0;this._weeks[this._weeks.length-1].push(new We($e+1,tt[$e],Di,Pn,Qi,this._getCellCompareValue(jt),jt))}}_shouldEnableDate(ve){return!!ve&&(!this.minDate||this._dateAdapter.compareDate(ve,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ve,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ve))}_getDateInCurrentMonth(ve){return ve&&this._hasSameMonthAndYear(ve,this.activeDate)?this._dateAdapter.getDate(ve):null}_hasSameMonthAndYear(ve,tt){return!(!ve||!tt||this._dateAdapter.getMonth(ve)!=this._dateAdapter.getMonth(tt)||this._dateAdapter.getYear(ve)!=this._dateAdapter.getYear(tt))}_getCellCompareValue(ve){if(ve){const tt=this._dateAdapter.getYear(ve),$e=this._dateAdapter.getMonth(ve),vt=this._dateAdapter.getDate(ve);return new Date(tt,$e,vt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ve){ve instanceof J?(this._rangeStart=this._getCellCompareValue(ve.start),this._rangeEnd=this._getCellCompareValue(ve.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ve),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ve){return!this.dateFilter||this.dateFilter(ve)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.sBO),b.Y36(S.sG,8),b.Y36(S._A,8),b.Y36(V.Is,8),b.Y36(Ze,8))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-month-view"]],viewQuery:function(tt,$e){if(1&tt&&b.Gf(ie,5),2&tt){let vt;b.iGM(vt=b.CRH())&&($e._matCalendarBody=vt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[b.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(tt,$e){1&tt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b.YNc(3,z,5,2,"th",2),b.qZA(),b.TgZ(4,"tr"),b._UZ(5,"th",3),b.qZA()(),b.TgZ(6,"tbody",4),b.NdJ("selectedValueChange",function(jt){return $e._dateSelected(jt)})("activeDateChange",function(jt){return $e._updateActiveDate(jt)})("previewChange",function(jt){return $e._previewChanged(jt)})("dragStarted",function(jt){return $e.dragStarted.emit(jt)})("dragEnded",function(jt){return $e._dragEnded(jt)})("keyup",function(jt){return $e._handleCalendarBodyKeyup(jt)})("keydown",function(jt){return $e._handleCalendarBodyKeydown(jt)}),b.qZA()()),2&tt&&(b.xp6(3),b.Q6J("ngForOf",$e._weekdays),b.xp6(3),b.Q6J("label",$e._monthLabel)("rows",$e._weeks)("todayValue",$e._todayDate)("startValue",$e._rangeStart)("endValue",$e._rangeEnd)("comparisonStart",$e._comparisonRangeStart)("comparisonEnd",$e._comparisonRangeEnd)("previewStart",$e._previewStart)("previewEnd",$e._previewEnd)("isRange",$e._isRange)("labelMinRequiredCells",3)("activeCell",$e._dateAdapter.getDate($e.activeDate)-1)("startDateAccessibleName",$e.startDateAccessibleName)("endDateAccessibleName",$e.endDateAccessibleName))},dependencies:[R.sg,ie],encapsulation:2,changeDetection:0})}return st})();const Ct=24;let It=(()=>{class st{get activeDate(){return this._activeDate}set activeDate(ve){let tt=this._activeDate;const $e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate($e,this.minDate,this.maxDate),Gt(this._dateAdapter,tt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof J?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedYear(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,tt,$e){this._changeDetectorRef=ve,this._dateAdapter=tt,this._dir=$e,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new b.vpe,this.yearSelected=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const tt=this._dateAdapter.getYear(this._activeDate)-Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let $e=0,vt=[];$e<Ct;$e++)vt.push(tt+$e),4==vt.length&&(this._years.push(vt.map(jt=>this._createCellForYear(jt))),vt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ve){const tt=ve.value,$e=this._dateAdapter.createDate(tt,0,1),vt=this._getDateFromYear(tt);this.yearSelected.emit($e),this.selectedChange.emit(vt)}_updateActiveDate(ve){const $e=this._activeDate;this.activeDate=this._getDateFromYear(ve.value),this._dateAdapter.compareDate($e,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const tt=this._activeDate,$e=this._isRtl();switch(ve.keyCode){case w.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,$e?1:-1);break;case w.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,$e?-1:1);break;case w.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case w.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case w.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case w.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ct-Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case w.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*-Ct:-Ct);break;case w.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*Ct:Ct);break;case w.K5:case w.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(tt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===w.L_||ve.keyCode===w.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_getActiveCell(){return Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ve){const tt=this._dateAdapter.getMonth(this.activeDate),$e=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ve,tt,1));return this._dateAdapter.createDate(ve,tt,Math.min(this._dateAdapter.getDate(this.activeDate),$e))}_createCellForYear(ve){const tt=this._dateAdapter.createDate(ve,0,1),$e=this._dateAdapter.getYearName(tt),vt=this.dateClass?this.dateClass(tt,"multi-year"):void 0;return new We(ve,$e,$e,this._shouldEnableYear(ve),vt)}_shouldEnableYear(ve){if(null==ve||this.maxDate&&ve>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ve<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let $e=this._dateAdapter.createDate(ve,0,1);this._dateAdapter.getYear($e)==ve;$e=this._dateAdapter.addCalendarDays($e,1))if(this.dateFilter($e))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ve){if(this._selectedYear=null,ve instanceof J){const tt=ve.start||ve.end;tt&&(this._selectedYear=this._dateAdapter.getYear(tt))}else ve&&(this._selectedYear=this._dateAdapter.getYear(ve))}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.sBO),b.Y36(S._A,8),b.Y36(V.Is,8))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-multi-year-view"]],viewQuery:function(tt,$e){if(1&tt&&b.Gf(ie,5),2&tt){let vt;b.iGM(vt=b.CRH())&&($e._matCalendarBody=vt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(tt,$e){1&tt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b._UZ(3,"th",2),b.qZA()(),b.TgZ(4,"tbody",3),b.NdJ("selectedValueChange",function(jt){return $e._yearSelected(jt)})("activeDateChange",function(jt){return $e._updateActiveDate(jt)})("keyup",function(jt){return $e._handleCalendarBodyKeyup(jt)})("keydown",function(jt){return $e._handleCalendarBodyKeydown(jt)}),b.qZA()()),2&tt&&(b.xp6(4),b.Q6J("rows",$e._years)("todayValue",$e._todayYear)("startValue",$e._selectedYear)("endValue",$e._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",$e._getActiveCell()))},dependencies:[ie],encapsulation:2,changeDetection:0})}return st})();function Gt(st,Yt,ve,tt,$e){const vt=st.getYear(Yt),jt=st.getYear(ve),Pn=cn(st,tt,$e);return Math.floor((vt-Pn)/Ct)===Math.floor((jt-Pn)/Ct)}function Xt(st,Yt,ve,tt){return function Rn(st,Yt){return(st%Yt+Yt)%Yt}(st.getYear(Yt)-cn(st,ve,tt),Ct)}function cn(st,Yt,ve){let tt=0;return ve?tt=st.getYear(ve)-Ct+1:Yt&&(tt=st.getYear(Yt)),tt}let nt=(()=>{class st{get activeDate(){return this._activeDate}set activeDate(ve){let tt=this._activeDate;const $e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate($e,this.minDate,this.maxDate),this._dateAdapter.getYear(tt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof J?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedMonth(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,tt,$e,vt){this._changeDetectorRef=ve,this._dateFormats=tt,this._dateAdapter=$e,this._dir=vt,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new b.vpe,this.monthSelected=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ve){const tt=ve.value,$e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),tt,1);this.monthSelected.emit($e);const vt=this._getDateFromMonth(tt);this.selectedChange.emit(vt)}_updateActiveDate(ve){const $e=this._activeDate;this.activeDate=this._getDateFromMonth(ve.value),this._dateAdapter.compareDate($e,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const tt=this._activeDate,$e=this._isRtl();switch(ve.keyCode){case w.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,$e?1:-1);break;case w.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,$e?-1:1);break;case w.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case w.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case w.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case w.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case w.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?-10:-1);break;case w.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10:1);break;case w.K5:case w.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(tt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===w.L_||ve.keyCode===w.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ve=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(tt=>tt.map($e=>this._createCellForMonth($e,ve[$e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ve){return ve&&this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ve):null}_getDateFromMonth(ve){const tt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),$e=this._dateAdapter.getNumDaysInMonth(tt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,Math.min(this._dateAdapter.getDate(this.activeDate),$e))}_createCellForMonth(ve,tt){const $e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),vt=this._dateAdapter.format($e,this._dateFormats.display.monthYearA11yLabel),jt=this.dateClass?this.dateClass($e,"year"):void 0;return new We(ve,tt.toLocaleUpperCase(),vt,this._shouldEnableMonth(ve),jt)}_shouldEnableMonth(ve){const tt=this._dateAdapter.getYear(this.activeDate);if(null==ve||this._isYearAndMonthAfterMaxDate(tt,ve)||this._isYearAndMonthBeforeMinDate(tt,ve))return!1;if(!this.dateFilter)return!0;for(let vt=this._dateAdapter.createDate(tt,ve,1);this._dateAdapter.getMonth(vt)==ve;vt=this._dateAdapter.addCalendarDays(vt,1))if(this.dateFilter(vt))return!0;return!1}_isYearAndMonthAfterMaxDate(ve,tt){if(this.maxDate){const $e=this._dateAdapter.getYear(this.maxDate),vt=this._dateAdapter.getMonth(this.maxDate);return ve>$e||ve===$e&&tt>vt}return!1}_isYearAndMonthBeforeMinDate(ve,tt){if(this.minDate){const $e=this._dateAdapter.getYear(this.minDate),vt=this._dateAdapter.getMonth(this.minDate);return ve<$e||ve===$e&&tt<vt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ve){this._selectedMonth=ve instanceof J?this._getMonthInCurrentYear(ve.start)||this._getMonthInCurrentYear(ve.end):this._getMonthInCurrentYear(ve)}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.sBO),b.Y36(S.sG,8),b.Y36(S._A,8),b.Y36(V.Is,8))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-year-view"]],viewQuery:function(tt,$e){if(1&tt&&b.Gf(ie,5),2&tt){let vt;b.iGM(vt=b.CRH())&&($e._matCalendarBody=vt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(tt,$e){1&tt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b._UZ(3,"th",2),b.qZA()(),b.TgZ(4,"tbody",3),b.NdJ("selectedValueChange",function(jt){return $e._monthSelected(jt)})("activeDateChange",function(jt){return $e._updateActiveDate(jt)})("keyup",function(jt){return $e._handleCalendarBodyKeyup(jt)})("keydown",function(jt){return $e._handleCalendarBodyKeydown(jt)}),b.qZA()()),2&tt&&(b.xp6(4),b.Q6J("label",$e._yearLabel)("rows",$e._months)("todayValue",$e._todayMonth)("startValue",$e._selectedMonth)("endValue",$e._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",$e._dateAdapter.getMonth($e.activeDate)))},dependencies:[ie],encapsulation:2,changeDetection:0})}return st})(),at=1,Se=(()=>{class st{constructor(ve,tt,$e,vt,jt){this._intl=ve,this.calendar=tt,this._dateAdapter=$e,this._dateFormats=vt,this._id="mat-calendar-header-"+at++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>jt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ct)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ct)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ve,tt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(tt)&&this._dateAdapter.getMonth(ve)==this._dateAdapter.getMonth(tt):"year"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(tt):Gt(this._dateAdapter,ve,tt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const tt=this._dateAdapter.getYear(this.calendar.activeDate)-Xt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),$e=tt+Ct-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(tt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate($e,0,1))]}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(Fe),b.Y36((0,b.Gpc)(()=>ue)),b.Y36(S._A,8),b.Y36(S.sG,8),b.Y36(b.sBO))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:oe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(tt,$e){1&tt&&(b.F$t(),b.TgZ(0,"div",0)(1,"div",1)(2,"button",2),b.NdJ("click",function(){return $e.currentPeriodClicked()}),b.TgZ(3,"span",3),b._uU(4),b.qZA(),b.O4$(),b.TgZ(5,"svg",4),b._UZ(6,"polygon",5),b.qZA()(),b.kcU(),b._UZ(7,"div",6),b.Hsn(8),b.TgZ(9,"button",7),b.NdJ("click",function(){return $e.previousClicked()}),b.qZA(),b.TgZ(10,"button",8),b.NdJ("click",function(){return $e.nextClicked()}),b.qZA()()(),b.TgZ(11,"label",9),b._uU(12),b.qZA()),2&tt&&(b.xp6(2),b.uIk("aria-label",$e.periodButtonLabel)("aria-describedby",$e._periodButtonLabelId),b.xp6(2),b.Oqu($e.periodButtonText),b.xp6(1),b.ekj("mat-calendar-invert","month"!==$e.calendar.currentView),b.xp6(4),b.Q6J("disabled",!$e.previousEnabled()),b.uIk("aria-label",$e.prevButtonLabel),b.xp6(1),b.Q6J("disabled",!$e.nextEnabled()),b.uIk("aria-label",$e.nextButtonLabel),b.xp6(1),b.Q6J("id",$e._periodButtonLabelId),b.xp6(1),b.Oqu($e.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return st})(),ue=(()=>{class st{get startAt(){return this._startAt}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof J?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get activeDate(){return this._clampedActiveDate}set activeDate(ve){this._clampedActiveDate=this._dateAdapter.clampDate(ve,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ve){const tt=this._currentView!==ve?ve:null;this._currentView=ve,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),tt&&this.viewChanged.emit(tt)}constructor(ve,tt,$e,vt){this._dateAdapter=tt,this._dateFormats=$e,this._changeDetectorRef=vt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new b.vpe,this.yearSelected=new b.vpe,this.monthSelected=new b.vpe,this.viewChanged=new b.vpe(!0),this._userSelection=new b.vpe,this._userDragDrop=new b.vpe,this._activeDrag=null,this.stateChanges=new m.x,this._intlChanges=ve.changes.subscribe(()=>{vt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new E.C5(this.headerComponent||Se),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ve){const tt=ve.minDate&&!this._dateAdapter.sameDate(ve.minDate.previousValue,ve.minDate.currentValue)?ve.minDate:void 0,$e=ve.maxDate&&!this._dateAdapter.sameDate(ve.maxDate.previousValue,ve.maxDate.currentValue)?ve.maxDate:void 0,vt=tt||$e||ve.dateFilter;if(vt&&!vt.firstChange){const jt=this._getCurrentViewComponent();jt&&(this._changeDetectorRef.detectChanges(),jt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ve){const tt=ve.value;(this.selected instanceof J||tt&&!this._dateAdapter.sameDate(tt,this.selected))&&this.selectedChange.emit(tt),this._userSelection.emit(ve)}_yearSelectedInMultiYearView(ve){this.yearSelected.emit(ve)}_monthSelectedInYearView(ve){this.monthSelected.emit(ve)}_goToDateInView(ve,tt){this.activeDate=ve,this.currentView=tt}_dragStarted(ve){this._activeDrag=ve}_dragEnded(ve){this._activeDrag&&(ve.value&&this._userDragDrop.emit(ve),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(Fe),b.Y36(S._A,8),b.Y36(S.sG,8),b.Y36(b.sBO))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-calendar"]],viewQuery:function(tt,$e){if(1&tt&&(b.Gf(ut,5),b.Gf(nt,5),b.Gf(It,5)),2&tt){let vt;b.iGM(vt=b.CRH())&&($e.monthView=vt.first),b.iGM(vt=b.CRH())&&($e.yearView=vt.first),b.iGM(vt=b.CRH())&&($e.multiYearView=vt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[b._Bn([Te]),b.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(tt,$e){1&tt&&(b.YNc(0,H,0,0,"ng-template",0),b.TgZ(1,"div",1),b.YNc(2,me,1,11,"mat-month-view",2),b.YNc(3,ne,1,6,"mat-year-view",3),b.YNc(4,fe,1,6,"mat-multi-year-view",4),b.qZA()),2&tt&&(b.Q6J("cdkPortalOutlet",$e._calendarHeaderPortal),b.xp6(1),b.Q6J("ngSwitch",$e.currentView),b.xp6(1),b.Q6J("ngSwitchCase","month"),b.xp6(1),b.Q6J("ngSwitchCase","year"),b.xp6(1),b.Q6J("ngSwitchCase","multi-year"))},dependencies:[R.RF,R.n9,e.kH,E.Pl,ut,nt,It],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return st})();const ge={transformPanel:(0,I.X$)("transformPanel",[(0,I.eR)("void => enter-dropdown",(0,I.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.eR)("void => enter-dialog",(0,I.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(0.7)"}),(0,I.oB)({transform:"none",opacity:1})]))),(0,I.eR)("* => void",(0,I.jt)("100ms linear",(0,I.oB)({opacity:0})))]),fadeInCalendar:(0,I.X$)("fadeInCalendar",[(0,I.SB)("void",(0,I.oB)({opacity:0})),(0,I.SB)("enter",(0,I.oB)({opacity:1})),(0,I.eR)("void => *",(0,I.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let it=0;const pt=new b.OlP("mat-datepicker-scroll-strategy"),Bt={provide:pt,deps:[y.aV],useFactory:function kt(st){return()=>st.scrollStrategies.reposition()}},Kt=(0,S.pj)(class{constructor(st){this._elementRef=st}});let tn=(()=>{class st extends Kt{constructor(ve,tt,$e,vt,jt,Pn){super(ve),this._changeDetectorRef=tt,this._globalModel=$e,this._dateAdapter=vt,this._rangeSelectionStrategy=jt,this._subscriptions=new h.w0,this._animationDone=new m.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Pn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ve){const tt=this._model.selection,$e=ve.value,vt=tt instanceof J;if(vt&&this._rangeSelectionStrategy){const jt=this._rangeSelectionStrategy.selectionFinished($e,tt,ve.event);this._model.updateSelection(jt,this)}else $e&&(vt||!this._dateAdapter.sameDate($e,tt))&&this._model.add($e);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ve){this._model.updateSelection(ve.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ve){this._isAnimating="start"===ve.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ve,tt){this._model=ve?this._globalModel.clone():this._globalModel,this._actionsPortal=ve,tt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(Q),b.Y36(S._A),b.Y36(Ze,8),b.Y36(Fe))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-datepicker-content"]],viewQuery:function(tt,$e){if(1&tt&&b.Gf(ue,5),2&tt){let vt;b.iGM(vt=b.CRH())&&($e._calendar=vt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(tt,$e){1&tt&&b.WFA("@transformPanel.start",function(jt){return $e._handleAnimationEvent(jt)})("@transformPanel.done",function(jt){return $e._handleAnimationEvent(jt)}),2&tt&&(b.d8E("@transformPanel",$e._animationState),b.ekj("mat-datepicker-content-touch",$e.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[b.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(tt,$e){if(1&tt&&(b.TgZ(0,"div",0)(1,"mat-calendar",1),b.NdJ("yearSelected",function(jt){return $e.datepicker._selectYear(jt)})("monthSelected",function(jt){return $e.datepicker._selectMonth(jt)})("viewChanged",function(jt){return $e.datepicker._viewChanged(jt)})("_userSelection",function(jt){return $e._handleUserSelection(jt)})("_userDragDrop",function(jt){return $e._handleUserDragDrop(jt)}),b.qZA(),b.YNc(2,Ee,0,0,"ng-template",2),b.TgZ(3,"button",3),b.NdJ("focus",function(){return $e._closeButtonFocused=!0})("blur",function(){return $e._closeButtonFocused=!1})("click",function(){return $e.datepicker.close()}),b._uU(4),b.qZA()()),2&tt){let vt;b.ekj("mat-datepicker-content-container-with-custom-header",$e.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",$e._actionsPortal),b.uIk("aria-modal",!0)("aria-labelledby",null!==(vt=$e._dialogLabelId)&&void 0!==vt?vt:void 0),b.xp6(1),b.Q6J("id",$e.datepicker.id)("ngClass",$e.datepicker.panelClass)("startAt",$e.datepicker.startAt)("startView",$e.datepicker.startView)("minDate",$e.datepicker._getMinDate())("maxDate",$e.datepicker._getMaxDate())("dateFilter",$e.datepicker._getDateFilter())("headerComponent",$e.datepicker.calendarHeaderComponent)("selected",$e._getSelected())("dateClass",$e.datepicker.dateClass)("comparisonStart",$e.comparisonStart)("comparisonEnd",$e.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",$e.startDateAccessibleName)("endDateAccessibleName",$e.endDateAccessibleName),b.xp6(1),b.Q6J("cdkPortalOutlet",$e._actionsPortal),b.xp6(1),b.ekj("cdk-visually-hidden",!$e._closeButtonFocused),b.Q6J("color",$e.color||"primary"),b.xp6(1),b.Oqu($e._closeButtonText)}},dependencies:[R.mk,F.lW,e.mK,E.Pl,ue],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ge.transformPanel,ge.fadeInCalendar]},changeDetection:0})}return st})(),en=(()=>{class st{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(ve){this._color=ve}get touchUi(){return this._touchUi}set touchUi(ve){this._touchUi=(0,x.Ig)(ve)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(ve){const tt=(0,x.Ig)(ve);tt!==this._disabled&&(this._disabled=tt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(ve){this._restoreFocus=(0,x.Ig)(ve)}get panelClass(){return this._panelClass}set panelClass(ve){this._panelClass=(0,x.du)(ve)}get opened(){return this._opened}set opened(ve){(0,x.Ig)(ve)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(ve,tt,$e,vt,jt,Pn,Di){this._overlay=ve,this._ngZone=tt,this._viewContainerRef=$e,this._dateAdapter=jt,this._dir=Pn,this._model=Di,this._inputStateChanges=h.w0.EMPTY,this._document=(0,b.f3M)(R.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new b.vpe,this.monthSelected=new b.vpe,this.viewChanged=new b.vpe(!0),this.openedStream=new b.vpe,this.closedStream=new b.vpe,this._opened=!1,this.id="mat-datepicker-"+it++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new m.x,this._scrollStrategy=vt}ngOnChanges(ve){const tt=ve.xPosition||ve.yPosition;if(tt&&!tt.firstChange&&this._overlayRef){const $e=this._overlayRef.getConfig().positionStrategy;$e instanceof y._G&&(this._setConnectedPositions($e),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(ve){this._model.add(ve)}_selectYear(ve){this.yearSelected.emit(ve)}_selectMonth(ve){this.monthSelected.emit(ve)}_viewChanged(ve){this.viewChanged.emit(ve)}registerInput(ve){return this._inputStateChanges.unsubscribe(),this.datepickerInput=ve,this._inputStateChanges=ve.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(ve){this._actionsPortal=ve,this._componentRef?.instance._assignActions(ve,!0)}removeActions(ve){ve===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,O.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const ve=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,tt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:$e,location:vt}=this._componentRef;$e._startExitAnimation(),$e._animationDone.pipe((0,G.q)(1)).subscribe(()=>{const jt=this._document.activeElement;ve&&(!jt||jt===this._document.activeElement||vt.nativeElement.contains(jt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}ve?setTimeout(tt):tt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(ve){ve.datepicker=this,ve.color=this.color,ve._dialogLabelId=this.datepickerInput.getOverlayLabelId(),ve._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const ve=this.touchUi,tt=new E.C5(tn,this._viewContainerRef),$e=this._overlayRef=this._overlay.create(new y.X_({positionStrategy:ve?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[ve?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:ve?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(ve?"dialog":"popup")}));this._getCloseStream($e).subscribe(vt=>{vt&&vt.preventDefault(),this.close()}),$e.keydownEvents().subscribe(vt=>{const jt=vt.keyCode;(jt===w.LH||jt===w.JH||jt===w.oh||jt===w.SV||jt===w.Ku||jt===w.VM)&&vt.preventDefault()}),this._componentRef=$e.attach(tt),this._forwardContentValues(this._componentRef.instance),ve||this._ngZone.onStable.pipe((0,G.q)(1)).subscribe(()=>$e.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const ve=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(ve)}_setConnectedPositions(ve){const tt="end"===this.xPosition?"end":"start",$e="start"===tt?"end":"start",vt="above"===this.yPosition?"bottom":"top",jt="top"===vt?"bottom":"top";return ve.withPositions([{originX:tt,originY:jt,overlayX:tt,overlayY:vt},{originX:tt,originY:vt,overlayX:tt,overlayY:jt},{originX:$e,originY:jt,overlayX:$e,overlayY:vt},{originX:$e,originY:vt,overlayX:$e,overlayY:jt}])}_getCloseStream(ve){const tt=["ctrlKey","shiftKey","metaKey"];return(0,p.T)(ve.backdropClick(),ve.detachments(),ve.keydownEvents().pipe((0,P.h)($e=>$e.keyCode===w.hY&&!(0,w.Vb)($e)||this.datepickerInput&&(0,w.Vb)($e,"altKey")&&$e.keyCode===w.LH&&tt.every(vt=>!(0,w.Vb)($e,vt)))))}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(y.aV),b.Y36(b.R0b),b.Y36(b.s_b),b.Y36(pt),b.Y36(S._A,8),b.Y36(V.Is,8),b.Y36(Q))};static#t=this.\u0275dir=b.lG2({type:st,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[b.TTD]})}return st})(),bt=(()=>{class st extends en{static#e=this.\u0275fac=function(){let ve;return function($e){return(ve||(ve=b.n5z(st)))($e||st)}}();static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[b._Bn([Te,{provide:en,useExisting:st}]),b.qOj],decls:0,vars:0,template:function(tt,$e){},encapsulation:2,changeDetection:0})}return st})();class wt{constructor(Yt,ve){this.target=Yt,this.targetElement=ve,this.value=this.target.value}}let Zt=(()=>{class st{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(ve){this._assignValueProgrammatically(ve)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(ve){const tt=(0,x.Ig)(ve),$e=this._elementRef.nativeElement;this._disabled!==tt&&(this._disabled=tt,this.stateChanges.next(void 0)),tt&&this._isInitialized&&$e.blur&&$e.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(ve){this._model=ve,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(tt=>{if(this._shouldHandleChangeEvent(tt)){const $e=this._getValueFromModel(tt.selection);this._lastValueValid=this._isValidValue($e),this._cvaOnChange($e),this._onTouched(),this._formatValue($e),this.dateInput.emit(new wt(this,this._elementRef.nativeElement)),this.dateChange.emit(new wt(this,this._elementRef.nativeElement))}})}constructor(ve,tt,$e){this._elementRef=ve,this._dateAdapter=tt,this._dateFormats=$e,this.dateChange=new b.vpe,this.dateInput=new b.vpe,this.stateChanges=new m.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=h.w0.EMPTY,this._localeSubscription=h.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=vt=>{const jt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(vt.value));return!jt||this._matchesFilter(jt)?null:{matDatepickerFilter:!0}},this._minValidator=vt=>{const jt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(vt.value)),Pn=this._getMinDate();return!Pn||!jt||this._dateAdapter.compareDate(Pn,jt)<=0?null:{matDatepickerMin:{min:Pn,actual:jt}}},this._maxValidator=vt=>{const jt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(vt.value)),Pn=this._getMaxDate();return!Pn||!jt||this._dateAdapter.compareDate(Pn,jt)>=0?null:{matDatepickerMax:{max:Pn,actual:jt}}},this._lastValueValid=!1,this._localeSubscription=tt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(ve){(function Wt(st,Yt){const ve=Object.keys(st);for(let tt of ve){const{previousValue:$e,currentValue:vt}=st[tt];if(!Yt.isDateInstance($e)||!Yt.isDateInstance(vt))return!0;if(!Yt.sameDate($e,vt))return!0}return!1})(ve,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(ve){this._validatorOnChange=ve}validate(ve){return this._validator?this._validator(ve):null}writeValue(ve){this._assignValueProgrammatically(ve)}registerOnChange(ve){this._cvaOnChange=ve}registerOnTouched(ve){this._onTouched=ve}setDisabledState(ve){this.disabled=ve}_onKeydown(ve){(0,w.Vb)(ve,"altKey")&&ve.keyCode===w.JH&&["ctrlKey","shiftKey","metaKey"].every(vt=>!(0,w.Vb)(ve,vt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),ve.preventDefault())}_onInput(ve){const tt=this._lastValueValid;let $e=this._dateAdapter.parse(ve,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue($e),$e=this._dateAdapter.getValidDateOrNull($e);const vt=!this._dateAdapter.sameDate($e,this.value);!$e||vt?this._cvaOnChange($e):(ve&&!this.value&&this._cvaOnChange($e),tt!==this._lastValueValid&&this._validatorOnChange()),vt&&(this._assignValue($e),this.dateInput.emit(new wt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new wt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(ve){this._elementRef.nativeElement.value=null!=ve?this._dateAdapter.format(ve,this._dateFormats.display.dateInput):""}_assignValue(ve){this._model?(this._assignValueToModel(ve),this._pendingValue=null):this._pendingValue=ve}_isValidValue(ve){return!ve||this._dateAdapter.isValid(ve)}_parentDisabled(){return!1}_assignValueProgrammatically(ve){ve=this._dateAdapter.deserialize(ve),this._lastValueValid=this._isValidValue(ve),ve=this._dateAdapter.getValidDateOrNull(ve),this._assignValue(ve),this._formatValue(ve)}_matchesFilter(ve){const tt=this._getDateFilter();return!tt||tt(ve)}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.SBq),b.Y36(S._A,8),b.Y36(S.sG,8))};static#t=this.\u0275dir=b.lG2({type:st,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[b.TTD]})}return st})();const dn={provide:T.JU,useExisting:(0,b.Gpc)(()=>En),multi:!0},gn={provide:T.Cf,useExisting:(0,b.Gpc)(()=>En),multi:!0};let En=(()=>{class st extends Zt{set matDatepicker(ve){ve&&(this._datepicker=ve,this._closedSubscription=ve.closedStream.subscribe(()=>this._onTouched()),this._registerModel(ve.registerInput(this)))}get min(){return this._min}set min(ve){const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(tt,this._min)||(this._min=tt,this._validatorOnChange())}get max(){return this._max}set max(ve){const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(tt,this._max)||(this._max=tt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(ve){const tt=this._matchesFilter(this.value);this._dateFilter=ve,this._matchesFilter(this.value)!==tt&&this._validatorOnChange()}constructor(ve,tt,$e,vt){super(ve,tt,$e),this._formField=vt,this._closedSubscription=h.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(ve){return ve}_assignValueToModel(ve){this._model&&this._model.updateSelection(ve,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(ve){return ve.source!==this}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(b.SBq),b.Y36(S._A,8),b.Y36(S.sG,8),b.Y36(N.G_,8))};static#t=this.\u0275dir=b.lG2({type:st,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(tt,$e){1&tt&&b.NdJ("input",function(jt){return $e._onInput(jt.target.value)})("change",function(){return $e._onChange()})("blur",function(){return $e._onBlur()})("keydown",function(jt){return $e._onKeydown(jt)}),2&tt&&(b.Ikx("disabled",$e.disabled),b.uIk("aria-haspopup",$e._datepicker?"dialog":null)("aria-owns",(null==$e._datepicker?null:$e._datepicker.opened)&&$e._datepicker.id||null)("min",$e.min?$e._dateAdapter.toIso8601($e.min):null)("max",$e.max?$e._dateAdapter.toIso8601($e.max):null)("data-mat-calendar",$e._datepicker?$e._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[b._Bn([dn,gn,{provide:C.Jk,useExisting:st}]),b.qOj]})}return st})(),Vn=(()=>{class st{static#e=this.\u0275fac=function(tt){return new(tt||st)};static#t=this.\u0275dir=b.lG2({type:st,selectors:[["","matDatepickerToggleIcon",""]]})}return st})(),jn=(()=>{class st{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ve){this._disabled=(0,x.Ig)(ve)}constructor(ve,tt,$e){this._intl=ve,this._changeDetectorRef=tt,this._stateChanges=h.w0.EMPTY;const vt=Number($e);this.tabIndex=vt||0===vt?vt:null}ngOnChanges(ve){ve.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ve){this.datepicker&&!this.disabled&&(this.datepicker.open(),ve.stopPropagation())}_watchStateChanges(){const ve=this.datepicker?this.datepicker.stateChanges:(0,v.of)(),tt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,v.of)(),$e=this.datepicker?(0,p.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,v.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,p.T)(this._intl.changes,ve,tt,$e).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(tt){return new(tt||st)(b.Y36(Fe),b.Y36(b.sBO),b.$8M("tabindex"))};static#t=this.\u0275cmp=b.Xpm({type:st,selectors:[["mat-datepicker-toggle"]],contentQueries:function(tt,$e,vt){if(1&tt&&b.Suo(vt,Vn,5),2&tt){let jt;b.iGM(jt=b.CRH())&&($e._customIcon=jt.first)}},viewQuery:function(tt,$e){if(1&tt&&b.Gf(Ae,5),2&tt){let vt;b.iGM(vt=b.CRH())&&($e._button=vt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(tt,$e){1&tt&&b.NdJ("click",function(jt){return $e._open(jt)}),2&tt&&(b.uIk("tabindex",null)("data-mat-calendar",$e.datepicker?$e.datepicker.id:null),b.ekj("mat-datepicker-toggle-active",$e.datepicker&&$e.datepicker.opened)("mat-accent",$e.datepicker&&"accent"===$e.datepicker.color)("mat-warn",$e.datepicker&&"warn"===$e.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[b.TTD],ngContentSelectors:Me,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(tt,$e){1&tt&&(b.F$t(De),b.TgZ(0,"button",0,1),b.YNc(2,se,2,0,"svg",2),b.Hsn(3),b.qZA()),2&tt&&(b.Q6J("disabled",$e.disabled)("disableRipple",$e.disableRipple),b.uIk("aria-haspopup",$e.datepicker?"dialog":null)("aria-label",$e.ariaLabel||$e._intl.openCalendarLabel)("tabindex",$e.disabled?-1:$e.tabIndex),b.xp6(2),b.Q6J("ngIf",!$e._customIcon))},dependencies:[R.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return st})(),An=(()=>{class st{static#e=this.\u0275fac=function(tt){return new(tt||st)};static#t=this.\u0275mod=b.oAB({type:st});static#n=this.\u0275inj=b.cJS({providers:[Fe,Bt],imports:[R.ez,F.ot,y.U8,e.rt,E.eL,S.BQ,L.ZD]})}return st})()},7700:(bn,Ye,M)=>{"use strict";M.d(Ye,{WI:()=>Ue,uw:()=>W,H8:()=>de,vA:()=>fe,xY:()=>Q,Is:()=>le,so:()=>Fe,uh:()=>J});var e=M(3651),y=M(6814),E=M(5879),R=M(4300),b=M(2831),F=M(8484),L=M(6028),S=M(8645),m=M(4911),h=M(2096),p=M(9388),v=M(7921);function w(ke,Ze){}class V{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let G=(()=>{class ke extends F.en{constructor(qe,He,ot,yt,ut,Ct,Ot,It){super(),this._elementRef=qe,this._focusTrapFactory=He,this._config=yt,this._interactivityChecker=ut,this._ngZone=Ct,this._overlayRef=Ot,this._focusMonitor=It,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Gt=>{this._portalOutlet.hasAttached();const Xt=this._portalOutlet.attachDomPortal(Gt);return this._contentAttached(),Xt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=ot}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(qe){this._portalOutlet.hasAttached();const He=this._portalOutlet.attachComponentPortal(qe);return this._contentAttached(),He}attachTemplatePortal(qe){this._portalOutlet.hasAttached();const He=this._portalOutlet.attachTemplatePortal(qe);return this._contentAttached(),He}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(qe,He){this._interactivityChecker.isFocusable(qe)||(qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ot=()=>{qe.removeEventListener("blur",ot),qe.removeEventListener("mousedown",ot),qe.removeAttribute("tabindex")};qe.addEventListener("blur",ot),qe.addEventListener("mousedown",ot)})),qe.focus(He)}_focusByCssSelector(qe,He){let ot=this._elementRef.nativeElement.querySelector(qe);ot&&this._forceFocus(ot,He)}_trapFocus(){const qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||qe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(He=>{He||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const qe=this._config.restoreFocus;let He=null;if("string"==typeof qe?He=this._document.querySelector(qe):"boolean"==typeof qe?He=qe?this._elementFocusedBeforeDialogWasOpened:null:qe&&(He=qe),this._config.restoreFocus&&He&&"function"==typeof He.focus){const ot=(0,b.ht)(),yt=this._elementRef.nativeElement;(!ot||ot===this._document.body||ot===yt||yt.contains(ot))&&(this._focusMonitor?(this._focusMonitor.focusVia(He,this._closeInteractionType),this._closeInteractionType=null):He.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const qe=this._elementRef.nativeElement,He=(0,b.ht)();return qe===He||qe.contains(He)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,b.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(He){return new(He||ke)(E.Y36(E.SBq),E.Y36(R.qV),E.Y36(y.K0,8),E.Y36(V),E.Y36(R.ic),E.Y36(E.R0b),E.Y36(e.Iu),E.Y36(R.tE))};static#t=this.\u0275cmp=E.Xpm({type:ke,selectors:[["cdk-dialog-container"]],viewQuery:function(He,ot){if(1&He&&E.Gf(F.Pl,7),2&He){let yt;E.iGM(yt=E.CRH())&&(ot._portalOutlet=yt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(He,ot){2&He&&E.uIk("id",ot._config.id||null)("role",ot._config.role)("aria-modal",ot._config.ariaModal)("aria-labelledby",ot._config.ariaLabel?null:ot._ariaLabelledBy)("aria-label",ot._config.ariaLabel)("aria-describedby",ot._config.ariaDescribedBy||null)},features:[E.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(He,ot){1&He&&E.YNc(0,w,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return ke})();class k{constructor(Ze,qe){this.overlayRef=Ze,this.config=qe,this.closed=new S.x,this.disableClose=qe.disableClose,this.backdropClick=Ze.backdropClick(),this.keydownEvents=Ze.keydownEvents(),this.outsidePointerEvents=Ze.outsidePointerEvents(),this.id=qe.id,this.keydownEvents.subscribe(He=>{He.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(He)&&(He.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Ze.detachments().subscribe(()=>{!1!==qe.closeOnOverlayDetachments&&this.close()})}close(Ze,qe){if(this.containerInstance){const He=this.closed;this.containerInstance._closeInteractionType=qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),He.next(Ze),He.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Ze="",qe=""){return this.overlayRef.updateSize({width:Ze,height:qe}),this}addPanelClass(Ze){return this.overlayRef.addPanelClass(Ze),this}removePanelClass(Ze){return this.overlayRef.removePanelClass(Ze),this}}const P=new E.OlP("DialogScrollStrategy"),x=new E.OlP("DialogData"),I=new E.OlP("DefaultDialogConfig"),N={provide:P,deps:[e.aV],useFactory:function T(ke){return()=>ke.scrollStrategies.block()}};let C=0,B=(()=>{class ke{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(qe,He,ot,yt,ut,Ct){this._overlay=qe,this._injector=He,this._defaultOptions=ot,this._parentDialog=yt,this._overlayContainer=ut,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.x,this._afterOpenedAtThisLevel=new S.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,m.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Ct}open(qe,He){(He={...this._defaultOptions||new V,...He}).id=He.id||"cdk-dialog-"+C++,He.id&&this.getDialogById(He.id);const yt=this._getOverlayConfig(He),ut=this._overlay.create(yt),Ct=new k(ut,He),Ot=this._attachContainer(ut,Ct,He);return Ct.containerInstance=Ot,this._attachDialogContent(qe,Ct,Ot,He),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ct),Ct.closed.subscribe(()=>this._removeOpenDialog(Ct,!0)),this.afterOpened.next(Ct),Ct}closeAll(){Y(this.openDialogs,qe=>qe.close())}getDialogById(qe){return this.openDialogs.find(He=>He.id===qe)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,qe=>{!1===qe.config.closeOnDestroy&&this._removeOpenDialog(qe,!1)}),Y(this._openDialogsAtThisLevel,qe=>qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(qe){const He=new e.X_({positionStrategy:qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:qe.scrollStrategy||this._scrollStrategy(),panelClass:qe.panelClass,hasBackdrop:qe.hasBackdrop,direction:qe.direction,minWidth:qe.minWidth,minHeight:qe.minHeight,maxWidth:qe.maxWidth,maxHeight:qe.maxHeight,width:qe.width,height:qe.height,disposeOnNavigation:qe.closeOnNavigation});return qe.backdropClass&&(He.backdropClass=qe.backdropClass),He}_attachContainer(qe,He,ot){const yt=ot.injector||ot.viewContainerRef?.injector,ut=[{provide:V,useValue:ot},{provide:k,useValue:He},{provide:e.Iu,useValue:qe}];let Ct;ot.container?"function"==typeof ot.container?Ct=ot.container:(Ct=ot.container.type,ut.push(...ot.container.providers(ot))):Ct=G;const Ot=new F.C5(Ct,ot.viewContainerRef,E.zs3.create({parent:yt||this._injector,providers:ut}),ot.componentFactoryResolver);return qe.attach(Ot).instance}_attachDialogContent(qe,He,ot,yt){if(qe instanceof E.Rgc){const ut=this._createInjector(yt,He,ot,void 0);let Ct={$implicit:yt.data,dialogRef:He};yt.templateContext&&(Ct={...Ct,..."function"==typeof yt.templateContext?yt.templateContext():yt.templateContext}),ot.attachTemplatePortal(new F.UE(qe,null,Ct,ut))}else{const ut=this._createInjector(yt,He,ot,this._injector),Ct=ot.attachComponentPortal(new F.C5(qe,yt.viewContainerRef,ut,yt.componentFactoryResolver));He.componentInstance=Ct.instance}}_createInjector(qe,He,ot,yt){const ut=qe.injector||qe.viewContainerRef?.injector,Ct=[{provide:x,useValue:qe.data},{provide:k,useValue:He}];return qe.providers&&("function"==typeof qe.providers?Ct.push(...qe.providers(He,qe,ot)):Ct.push(...qe.providers)),qe.direction&&(!ut||!ut.get(p.Is,null,{optional:!0}))&&Ct.push({provide:p.Is,useValue:{value:qe.direction,change:(0,h.of)()}}),E.zs3.create({parent:ut||yt,providers:Ct})}_removeOpenDialog(qe,He){const ot=this.openDialogs.indexOf(qe);ot>-1&&(this.openDialogs.splice(ot,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((yt,ut)=>{yt?ut.setAttribute("aria-hidden",yt):ut.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),He&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const qe=this._overlayContainer.getContainerElement();if(qe.parentElement){const He=qe.parentElement.children;for(let ot=He.length-1;ot>-1;ot--){const yt=He[ot];yt!==qe&&"SCRIPT"!==yt.nodeName&&"STYLE"!==yt.nodeName&&!yt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(yt,yt.getAttribute("aria-hidden")),yt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const qe=this._parentDialog;return qe?qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(He){return new(He||ke)(E.LFG(e.aV),E.LFG(E.zs3),E.LFG(I,8),E.LFG(ke,12),E.LFG(e.Xj),E.LFG(P))};static#t=this.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac})}return ke})();function Y(ke,Ze){let qe=ke.length;for(;qe--;)Ze(ke[qe])}let re=(()=>{class ke{static#e=this.\u0275fac=function(He){return new(He||ke)};static#t=this.\u0275mod=E.oAB({type:ke});static#n=this.\u0275inj=E.cJS({providers:[B,N],imports:[e.U8,F.eL,R.rt,F.eL]})}return ke})();var ae=M(2495),Oe=M(3019),z=M(2181),oe=M(8180),H=M(3680);function ne(ke,Ze){}M(6825);class fe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ee="mdc-dialog--open",Ae="mdc-dialog--opening",se="mdc-dialog--closing";let _e=(()=>{class ke extends G{constructor(qe,He,ot,yt,ut,Ct,Ot,It){super(qe,He,ot,yt,ut,Ct,Ot,It),this._animationStateChanged=new E.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(qe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:qe})}static#e=this.\u0275fac=function(He){return new(He||ke)(E.Y36(E.SBq),E.Y36(R.qV),E.Y36(y.K0,8),E.Y36(fe),E.Y36(R.ic),E.Y36(E.R0b),E.Y36(e.Iu),E.Y36(R.tE))};static#t=this.\u0275cmp=E.Xpm({type:ke,selectors:[["ng-component"]],features:[E.qOj],decls:0,vars:0,template:function(He,ot){},encapsulation:2})}return ke})();const Le="--mat-dialog-transition-duration";function Ie(ke){return null==ke?null:"number"==typeof ke?ke:ke.endsWith("ms")?(0,ae.su)(ke.substring(0,ke.length-2)):ke.endsWith("s")?1e3*(0,ae.su)(ke.substring(0,ke.length-1)):"0"===ke?0:null}let we=(()=>{class ke extends _e{constructor(qe,He,ot,yt,ut,Ct,Ot,It,Gt){super(qe,He,ot,yt,ut,Ct,Ot,Gt),this._animationMode=It,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ie(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ie(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ae,Ee)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ee),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ee),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(se)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ae,se)}_waitForAnimationToComplete(qe,He){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(He,qe)}_requestAnimationFrame(qe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(qe):qe()})}static#e=this.\u0275fac=function(He){return new(He||ke)(E.Y36(E.SBq),E.Y36(R.qV),E.Y36(y.K0,8),E.Y36(fe),E.Y36(R.ic),E.Y36(E.R0b),E.Y36(e.Iu),E.Y36(E.QbO,8),E.Y36(R.tE))};static#t=this.\u0275cmp=E.Xpm({type:ke,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(He,ot){2&He&&(E.Ikx("id",ot._config.id),E.uIk("aria-modal",ot._config.ariaModal)("role",ot._config.role)("aria-labelledby",ot._config.ariaLabel?null:ot._ariaLabelledBy)("aria-label",ot._config.ariaLabel)("aria-describedby",ot._config.ariaDescribedBy||null),E.ekj("_mat-animation-noopable",!ot._animationsEnabled))},features:[E.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(He,ot){1&He&&(E.TgZ(0,"div",0)(1,"div",1),E.YNc(2,ne,0,0,"ng-template",2),E.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return ke})();class Fe{constructor(Ze,qe,He){this._ref=Ze,this._containerInstance=He,this._afterOpened=new S.x,this._beforeClosed=new S.x,this._state=0,this.disableClose=qe.disableClose,this.id=Ze.id,He._animationStateChanged.pipe((0,z.h)(ot=>"opened"===ot.state),(0,oe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),He._animationStateChanged.pipe((0,z.h)(ot=>"closed"===ot.state),(0,oe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ze.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Oe.T)(this.backdropClick(),this.keydownEvents().pipe((0,z.h)(ot=>ot.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(ot)))).subscribe(ot=>{this.disableClose||(ot.preventDefault(),function We(ke,Ze,qe){ke._closeInteractionType=Ze,ke.close(qe)}(this,"keydown"===ot.type?"keyboard":"mouse"))})}close(Ze){this._result=Ze,this._containerInstance._animationStateChanged.pipe((0,z.h)(qe=>"closing"===qe.state),(0,oe.q)(1)).subscribe(qe=>{this._beforeClosed.next(Ze),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),qe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Ze){let qe=this._ref.config.positionStrategy;return Ze&&(Ze.left||Ze.right)?Ze.left?qe.left(Ze.left):qe.right(Ze.right):qe.centerHorizontally(),Ze&&(Ze.top||Ze.bottom)?Ze.top?qe.top(Ze.top):qe.bottom(Ze.bottom):qe.centerVertically(),this._ref.updatePosition(),this}updateSize(Ze="",qe=""){return this._ref.updateSize(Ze,qe),this}addPanelClass(Ze){return this._ref.addPanelClass(Ze),this}removePanelClass(Ze){return this._ref.removePanelClass(Ze),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ue=new E.OlP("MatMdcDialogData"),xe=new E.OlP("mat-mdc-dialog-default-options"),be=new E.OlP("mat-mdc-dialog-scroll-strategy"),ie={provide:be,deps:[e.aV],useFactory:function K(ke){return()=>ke.scrollStrategies.block()}};let q=0,$=(()=>{class ke{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const qe=this._parentDialog;return qe?qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(qe,He,ot,yt,ut,Ct,Ot,It,Gt,Xt){this._overlay=qe,this._defaultOptions=ot,this._parentDialog=yt,this._dialogRefConstructor=Ot,this._dialogContainerType=It,this._dialogDataToken=Gt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.x,this._afterOpenedAtThisLevel=new S.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=fe,this.afterAllClosed=(0,m.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Ct,this._dialog=He.get(B)}open(qe,He){let ot;(He={...this._defaultOptions||new fe,...He}).id=He.id||`${this._idPrefix}${q++}`,He.scrollStrategy=He.scrollStrategy||this._scrollStrategy();const yt=this._dialog.open(qe,{...He,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:He},{provide:V,useValue:He}]},templateContext:()=>({dialogRef:ot}),providers:(ut,Ct,Ot)=>(ot=new this._dialogRefConstructor(ut,He,Ot),ot.updatePosition(He?.position),[{provide:this._dialogContainerType,useValue:Ot},{provide:this._dialogDataToken,useValue:Ct.data},{provide:this._dialogRefConstructor,useValue:ot}])});return ot.componentInstance=yt.componentInstance,this.openDialogs.push(ot),this.afterOpened.next(ot),ot.afterClosed().subscribe(()=>{const ut=this.openDialogs.indexOf(ot);ut>-1&&(this.openDialogs.splice(ut,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ot}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(qe){return this.openDialogs.find(He=>He.id===qe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(qe){let He=qe.length;for(;He--;)qe[He].close()}static#e=this.\u0275fac=function(He){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac})}return ke})(),W=(()=>{class ke extends ${constructor(qe,He,ot,yt,ut,Ct,Ot,It){super(qe,He,yt,Ct,Ot,ut,Fe,we,Ue,It),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(He){return new(He||ke)(E.LFG(e.aV),E.LFG(E.zs3),E.LFG(y.Ye,8),E.LFG(xe,8),E.LFG(be),E.LFG(ke,12),E.LFG(e.Xj),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac})}return ke})(),te=0,J=(()=>{class ke{constructor(qe,He,ot){this._dialogRef=qe,this._elementRef=He,this._dialog=ot,this.id="mat-mdc-dialog-title-"+te++}ngOnInit(){this._dialogRef||(this._dialogRef=function pe(ke,Ze){let qe=ke.nativeElement.parentElement;for(;qe&&!qe.classList.contains("mat-mdc-dialog-container");)qe=qe.parentElement;return qe?Ze.find(He=>He.id===qe.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const qe=this._dialogRef._containerInstance;qe&&!qe._ariaLabelledBy&&(qe._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(He){return new(He||ke)(E.Y36(Fe,8),E.Y36(E.SBq),E.Y36(W))};static#t=this.\u0275dir=E.lG2({type:ke,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(He,ot){2&He&&E.Ikx("id",ot.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return ke})(),Q=(()=>{class ke{static#e=this.\u0275fac=function(He){return new(He||ke)};static#t=this.\u0275dir=E.lG2({type:ke,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return ke})(),de=(()=>{class ke{constructor(){this.align="start"}static#e=this.\u0275fac=function(He){return new(He||ke)};static#t=this.\u0275dir=E.lG2({type:ke,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(He,ot){2&He&&E.ekj("mat-mdc-dialog-actions-align-center","center"===ot.align)("mat-mdc-dialog-actions-align-end","end"===ot.align)},inputs:{align:"align"}})}return ke})(),le=(()=>{class ke{static#e=this.\u0275fac=function(He){return new(He||ke)};static#t=this.\u0275mod=E.oAB({type:ke});static#n=this.\u0275inj=E.cJS({providers:[W,ie],imports:[re,e.U8,F.eL,H.BQ,H.BQ]})}return ke})()},9157:(bn,Ye,M)=>{"use strict";M.d(Ye,{G_:()=>yt,TO:()=>ie,KE:()=>cn,Eo:()=>Ze,lN:()=>Rn,bx:()=>q,hX:()=>xe,R9:()=>X});var e=M(5879),y=M(9388),E=M(2831),R=M(7394),b=M(8645),F=M(3019),L=M(9773),S=M(5592),m=M(2181),h=M(4552);class p extends b.x{constructor(at=1/0,Se=1/0,ue=h.l){super(),this._bufferSize=at,this._windowTime=Se,this._timestampProvider=ue,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,at),this._windowTime=Math.max(1,Se)}next(at){const{isStopped:Se,_buffer:ue,_infiniteTimeWindow:ge,_timestampProvider:it,_windowTime:pt}=this;Se||(ue.push(at),!ge&&ue.push(it.now()+pt)),this._trimBuffer(),super.next(at)}_subscribe(at){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(at),{_infiniteTimeWindow:ue,_buffer:ge}=this,it=ge.slice();for(let pt=0;pt<it.length&&!at.closed;pt+=ue?1:2)at.next(it[pt]);return this._checkFinalizedStatuses(at),Se}_trimBuffer(){const{_bufferSize:at,_timestampProvider:Se,_buffer:ue,_infiniteTimeWindow:ge}=this,it=(ge?1:2)*at;if(at<1/0&&it<ue.length&&ue.splice(0,ue.length-it),!ge){const pt=Se.now();let kt=0;for(let Bt=1;Bt<ue.length&&ue[Bt]<=pt;Bt+=2)kt=Bt;kt&&ue.splice(0,kt+1)}}}var v=M(3020);class O{constructor(at){this._box=at,this._destroyed=new b.x,this._resizeSubject=new b.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Se=>this._resizeSubject.next(Se)))}observe(at){return this._elementObservables.has(at)||this._elementObservables.set(at,new S.y(Se=>{const ue=this._resizeSubject.subscribe(Se);return this._resizeObserver?.observe(at,{box:this._box}),()=>{this._resizeObserver?.unobserve(at),ue.unsubscribe(),this._elementObservables.delete(at)}}).pipe((0,m.h)(Se=>Se.some(ue=>ue.target===at)),function w(nt,at,Se){let ue,ge=!1;return nt&&"object"==typeof nt?({bufferSize:ue=1/0,windowTime:at=1/0,refCount:ge=!1,scheduler:Se}=nt):ue=nt??1/0,(0,v.B)({connector:()=>new p(ue,at,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ge})}({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(at)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let G=(()=>{class nt{constructor(){this._observers=new Map,this._ngZone=(0,e.f3M)(e.R0b)}ngOnDestroy(){for(const[,Se]of this._observers)Se.destroy();this._observers.clear()}observe(Se,ue){const ge=ue?.box||"content-box";return this._observers.has(ge)||this._observers.set(ge,new O(ge)),this._observers.get(ge).observe(Se)}static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275prov=e.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();var k=M(2495),P=M(6825),x=M(6814),I=M(7131),T=M(3680);const N=["notch"],C=["matFormFieldNotchedOutline",""],B=["*"],Y=["textField"],re=["iconPrefixContainer"],ae=["textPrefixContainer"];function Oe(nt,at){1&nt&&e._UZ(0,"span",19)}function z(nt,at){if(1&nt&&(e.TgZ(0,"label",17),e.Hsn(1,1),e.YNc(2,Oe,1,0,"span",18),e.qZA()),2&nt){const Se=e.oxw(2);e.Q6J("floating",Se._shouldLabelFloat())("monitorResize",Se._hasOutline())("id",Se._labelId),e.uIk("for",Se._control.id),e.xp6(2),e.Q6J("ngIf",!Se.hideRequiredMarker&&Se._control.required)}}function oe(nt,at){if(1&nt&&e.YNc(0,z,3,5,"label",16),2&nt){const Se=e.oxw();e.Q6J("ngIf",Se._hasFloatingLabel())}}function H(nt,at){1&nt&&e._UZ(0,"div",20)}function me(nt,at){}function ne(nt,at){if(1&nt&&e.YNc(0,me,0,0,"ng-template",22),2&nt){e.oxw(2);const Se=e.MAs(1);e.Q6J("ngTemplateOutlet",Se)}}function fe(nt,at){if(1&nt&&(e.TgZ(0,"div",21),e.YNc(1,ne,1,1,"ng-template",9),e.qZA()),2&nt){const Se=e.oxw();e.Q6J("matFormFieldNotchedOutlineOpen",Se._shouldLabelFloat()),e.xp6(1),e.Q6J("ngIf",!Se._forceDisplayInfixLabel())}}function Ee(nt,at){1&nt&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.qZA())}function Ae(nt,at){1&nt&&(e.TgZ(0,"div",25,26),e.Hsn(2,3),e.qZA())}function se(nt,at){}function De(nt,at){if(1&nt&&e.YNc(0,se,0,0,"ng-template",22),2&nt){e.oxw();const Se=e.MAs(1);e.Q6J("ngTemplateOutlet",Se)}}function Me(nt,at){1&nt&&(e.TgZ(0,"div",27),e.Hsn(1,4),e.qZA())}function _e(nt,at){1&nt&&(e.TgZ(0,"div",28),e.Hsn(1,5),e.qZA())}function Le(nt,at){1&nt&&e._UZ(0,"div",29)}function Ie(nt,at){if(1&nt&&(e.TgZ(0,"div",30),e.Hsn(1,6),e.qZA()),2&nt){const Se=e.oxw();e.Q6J("@transitionMessages",Se._subscriptAnimationState)}}function we(nt,at){if(1&nt&&(e.TgZ(0,"mat-hint",34),e._uU(1),e.qZA()),2&nt){const Se=e.oxw(2);e.Q6J("id",Se._hintLabelId),e.xp6(1),e.Oqu(Se.hintLabel)}}function Fe(nt,at){if(1&nt&&(e.TgZ(0,"div",31),e.YNc(1,we,2,2,"mat-hint",32),e.Hsn(2,7),e._UZ(3,"div",33),e.Hsn(4,8),e.qZA()),2&nt){const Se=e.oxw();e.Q6J("@transitionMessages",Se._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",Se.hintLabel)}}const We=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ue=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let xe=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["mat-label"]]})}return nt})(),be=0;const K=new e.OlP("MatError");let ie=(()=>{class nt{constructor(Se,ue){this.id="mat-mdc-error-"+be++,Se||ue.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.$8M("aria-live"),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(ue,ge){2&ue&&e.Ikx("id",ge.id)},inputs:{id:"id"},features:[e._Bn([{provide:K,useExisting:nt}])]})}return nt})(),he=0,q=(()=>{class nt{constructor(){this.align="start",this.id="mat-mdc-hint-"+he++}static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(ue,ge){2&ue&&(e.Ikx("id",ge.id),e.uIk("align",null),e.ekj("mat-mdc-form-field-hint-end","end"===ge.align))},inputs:{align:"align",id:"id"}})}return nt})();const $=new e.OlP("MatPrefix"),te=new e.OlP("MatSuffix");let X=(()=>{class nt{constructor(){this._isText=!1}set _isTextSelector(Se){this._isText=!0}static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[e._Bn([{provide:te,useExisting:nt}])]})}return nt})();const J=new e.OlP("FloatingLabelParent");let Q=(()=>{class nt{get floating(){return this._floating}set floating(Se){this._floating=Se,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Se){this._monitorResize=Se,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Se){this._elementRef=Se,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.f3M)(G),this._ngZone=(0,e.f3M)(e.R0b),this._parent=(0,e.f3M)(J),this._resizeSubscription=new R.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function de(nt){if(null!==nt.offsetParent)return nt.scrollWidth;const Se=nt.cloneNode(!0);Se.style.setProperty("position","absolute"),Se.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Se);const ue=Se.scrollWidth;return Se.remove(),ue}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(ue,ge){2&ue&&e.ekj("mdc-floating-label--float-above",ge.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return nt})();const pe="mdc-line-ripple--active",le="mdc-line-ripple--deactivating";let Te=(()=>{class nt{constructor(Se,ue){this._elementRef=Se,this._handleTransitionEnd=ge=>{const it=this._elementRef.nativeElement.classList,pt=it.contains(le);"opacity"===ge.propertyName&&pt&&it.remove(pe,le)},ue.runOutsideAngular(()=>{Se.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Se=this._elementRef.nativeElement.classList;Se.remove(le),Se.add(pe)}deactivate(){this._elementRef.nativeElement.classList.add(le)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:nt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return nt})(),Ve=(()=>{class nt{constructor(Se,ue){this._elementRef=Se,this._ngZone=ue,this.open=!1}ngAfterViewInit(){const Se=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Se?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Se.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Se.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Se){this._notch.nativeElement.style.width=this.open&&Se?`calc(${Se}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:nt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(ue,ge){if(1&ue&&e.Gf(N,5),2&ue){let it;e.iGM(it=e.CRH())&&(ge._notch=it.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(ue,ge){2&ue&&e.ekj("mdc-notched-outline--notched",ge.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:C,ngContentSelectors:B,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(ue,ge){1&ue&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1,2),e.Hsn(3),e.qZA(),e._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return nt})();const ke={transitionMessages:(0,P.X$)("transitionMessages",[(0,P.SB)("enter",(0,P.oB)({opacity:1,transform:"translateY(0%)"})),(0,P.eR)("void => enter",[(0,P.oB)({opacity:0,transform:"translateY(-5px)"}),(0,P.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ze=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275dir=e.lG2({type:nt})}return nt})();const yt=new e.OlP("MatFormField"),ut=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Ct=0,cn=(()=>{class nt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Se){this._hideRequiredMarker=(0,k.Ig)(Se)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Se){Se!==this._floatLabel&&(this._floatLabel=Se,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Se){const ue=this._appearance;this._appearance=Se||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==ue&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Se){this._subscriptSizing=Se||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Se){this._hintLabel=Se,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Se){this._explicitFormFieldControl=Se}constructor(Se,ue,ge,it,pt,kt,Bt,Kt){this._elementRef=Se,this._changeDetectorRef=ue,this._ngZone=ge,this._dir=it,this._platform=pt,this._defaults=kt,this._animationMode=Bt,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Ct++,this._hintLabelId="mat-mdc-hint-"+Ct++,this._subscriptAnimationState="",this._destroyed=new b.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,kt&&(kt.appearance&&(this.appearance=kt.appearance),this._hideRequiredMarker=!!kt?.hideRequiredMarker,kt.color&&(this.color=kt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Se=this._control;Se.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Se.controlType}`),Se.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Se.ngControl&&Se.ngControl.valueChanges&&Se.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Se=>!Se._isText),this._hasTextPrefix=!!this._prefixChildren.find(Se=>Se._isText),this._hasIconSuffix=!!this._suffixChildren.find(Se=>!Se._isText),this._hasTextSuffix=!!this._suffixChildren.find(Se=>Se._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(Se){const ue=this._control?this._control.ngControl:null;return ue&&ue[Se]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Se=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Se.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ue=this._hintChildren?this._hintChildren.find(it=>"start"===it.align):null,ge=this._hintChildren?this._hintChildren.find(it=>"end"===it.align):null;ue?Se.push(ue.id):this._hintLabel&&Se.push(this._hintLabelId),ge&&Se.push(ge.id)}else this._errorChildren&&Se.push(...this._errorChildren.map(ue=>ue.id));this._control.setDescribedByIds(Se)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const Se=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Se.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const ue=this._iconPrefixContainer?.nativeElement,ge=this._textPrefixContainer?.nativeElement,it=ue?.getBoundingClientRect().width??0,pt=ge?.getBoundingClientRect().width??0;Se.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${it+pt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Se=this._elementRef.nativeElement;if(Se.getRootNode){const ue=Se.getRootNode();return ue&&ue!==Se}return document.documentElement.contains(Se)}static#e=this.\u0275fac=function(ue){return new(ue||nt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(y.Is),e.Y36(E.t4),e.Y36(ut,8),e.Y36(e.QbO,8),e.Y36(x.K0))};static#t=this.\u0275cmp=e.Xpm({type:nt,selectors:[["mat-form-field"]],contentQueries:function(ue,ge,it){if(1&ue&&(e.Suo(it,xe,5),e.Suo(it,xe,7),e.Suo(it,Ze,5),e.Suo(it,$,5),e.Suo(it,te,5),e.Suo(it,K,5),e.Suo(it,q,5)),2&ue){let pt;e.iGM(pt=e.CRH())&&(ge._labelChildNonStatic=pt.first),e.iGM(pt=e.CRH())&&(ge._labelChildStatic=pt.first),e.iGM(pt=e.CRH())&&(ge._formFieldControl=pt.first),e.iGM(pt=e.CRH())&&(ge._prefixChildren=pt),e.iGM(pt=e.CRH())&&(ge._suffixChildren=pt),e.iGM(pt=e.CRH())&&(ge._errorChildren=pt),e.iGM(pt=e.CRH())&&(ge._hintChildren=pt)}},viewQuery:function(ue,ge){if(1&ue&&(e.Gf(Y,5),e.Gf(re,5),e.Gf(ae,5),e.Gf(Q,5),e.Gf(Ve,5),e.Gf(Te,5)),2&ue){let it;e.iGM(it=e.CRH())&&(ge._textField=it.first),e.iGM(it=e.CRH())&&(ge._iconPrefixContainer=it.first),e.iGM(it=e.CRH())&&(ge._textPrefixContainer=it.first),e.iGM(it=e.CRH())&&(ge._floatingLabel=it.first),e.iGM(it=e.CRH())&&(ge._notchedOutline=it.first),e.iGM(it=e.CRH())&&(ge._lineRipple=it.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(ue,ge){2&ue&&e.ekj("mat-mdc-form-field-label-always-float",ge._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",ge._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",ge._hasIconSuffix)("mat-form-field-invalid",ge._control.errorState)("mat-form-field-disabled",ge._control.disabled)("mat-form-field-autofilled",ge._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===ge._animationMode)("mat-form-field-appearance-fill","fill"==ge.appearance)("mat-form-field-appearance-outline","outline"==ge.appearance)("mat-form-field-hide-placeholder",ge._hasFloatingLabel()&&!ge._shouldLabelFloat())("mat-focused",ge._control.focused)("mat-primary","accent"!==ge.color&&"warn"!==ge.color)("mat-accent","accent"===ge.color)("mat-warn","warn"===ge.color)("ng-untouched",ge._shouldForward("untouched"))("ng-touched",ge._shouldForward("touched"))("ng-pristine",ge._shouldForward("pristine"))("ng-dirty",ge._shouldForward("dirty"))("ng-valid",ge._shouldForward("valid"))("ng-invalid",ge._shouldForward("invalid"))("ng-pending",ge._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:yt,useExisting:nt},{provide:J,useExisting:nt}])],ngContentSelectors:Ue,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(ue,ge){1&ue&&(e.F$t(We),e.YNc(0,oe,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.NdJ("click",function(pt){return ge._control.onContainerClick(pt)}),e.YNc(4,H,1,0,"div",3),e.TgZ(5,"div",4),e.YNc(6,fe,2,2,"div",5),e.YNc(7,Ee,3,0,"div",6),e.YNc(8,Ae,3,0,"div",7),e.TgZ(9,"div",8),e.YNc(10,De,1,1,"ng-template",9),e.Hsn(11),e.qZA(),e.YNc(12,Me,2,0,"div",10),e.YNc(13,_e,2,0,"div",11),e.qZA(),e.YNc(14,Le,1,0,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,Ie,2,1,"div",14),e.YNc(17,Fe,5,2,"div",15),e.qZA()),2&ue&&(e.xp6(2),e.ekj("mdc-text-field--filled",!ge._hasOutline())("mdc-text-field--outlined",ge._hasOutline())("mdc-text-field--no-label",!ge._hasFloatingLabel())("mdc-text-field--disabled",ge._control.disabled)("mdc-text-field--invalid",ge._control.errorState),e.xp6(2),e.Q6J("ngIf",!ge._hasOutline()&&!ge._control.disabled),e.xp6(2),e.Q6J("ngIf",ge._hasOutline()),e.xp6(1),e.Q6J("ngIf",ge._hasIconPrefix),e.xp6(1),e.Q6J("ngIf",ge._hasTextPrefix),e.xp6(2),e.Q6J("ngIf",!ge._hasOutline()||ge._forceDisplayInfixLabel()),e.xp6(2),e.Q6J("ngIf",ge._hasTextSuffix),e.xp6(1),e.Q6J("ngIf",ge._hasIconSuffix),e.xp6(1),e.Q6J("ngIf",!ge._hasOutline()),e.xp6(1),e.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===ge.subscriptSizing),e.Q6J("ngSwitch",ge._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[x.O5,x.tP,x.RF,x.n9,q,Q,Ve,Te],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ke.transitionMessages]},changeDetection:0})}return nt})(),Rn=(()=>{class nt{static#e=this.\u0275fac=function(ue){return new(ue||nt)};static#t=this.\u0275mod=e.oAB({type:nt});static#n=this.\u0275inj=e.cJS({imports:[T.BQ,x.ez,I.Q8,T.BQ]})}return nt})()},2032:(bn,Ye,M)=>{"use strict";M.d(Ye,{Jk:()=>O,Nt:()=>x,c:()=>I});var e=M(2495),y=M(2831),E=M(5879),R=M(6232),b=M(8645);const F=(0,y.i$)({passive:!0});let L=(()=>{class T{constructor(C,B){this._platform=C,this._ngZone=B,this._monitoredElements=new Map}monitor(C){if(!this._platform.isBrowser)return R.E;const B=(0,e.fI)(C),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const re=new b.x,ae="cdk-text-field-autofilled",Oe=z=>{"cdk-text-field-autofill-start"!==z.animationName||B.classList.contains(ae)?"cdk-text-field-autofill-end"===z.animationName&&B.classList.contains(ae)&&(B.classList.remove(ae),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!1}))):(B.classList.add(ae),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Oe,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:re,unlisten:()=>{B.removeEventListener("animationstart",Oe,F)}}),re}stopMonitoring(C){const B=(0,e.fI)(C),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((C,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(E.LFG(y.t4),E.LFG(E.R0b))};static#t=this.\u0275prov=E.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),h=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=E.oAB({type:T});static#n=this.\u0275inj=E.cJS({})}return T})();var p=M(95),v=M(3680),w=M(9157);const O=new E.OlP("MAT_INPUT_VALUE_ACCESSOR"),G=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const P=(0,v.FD)(class{constructor(T,N,C,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=C,this.ngControl=B,this.stateChanges=new b.x}});let x=(()=>{class T extends P{get disabled(){return this._disabled}set disabled(C){this._disabled=(0,e.Ig)(C),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(C){this._id=C||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(p.kI.required)??!1}set required(C){this._required=(0,e.Ig)(C)}get type(){return this._type}set type(C){this._type=C||"text",this._validateType(),!this._isTextarea&&(0,y.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(C){C!==this.value&&(this._inputValueAccessor.value=C,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(C){this._readonly=(0,e.Ig)(C)}constructor(C,B,Y,re,ae,Oe,z,oe,H,me){super(Oe,re,ae,Y),this._elementRef=C,this._platform=B,this._autofillMonitor=oe,this._formField=me,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new b.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ee=>(0,y.qK)().has(Ee)),this._iOSKeyupListener=Ee=>{const Ae=Ee.target;!Ae.value&&0===Ae.selectionStart&&0===Ae.selectionEnd&&(Ae.setSelectionRange(1,1),Ae.setSelectionRange(0,0))};const ne=this._elementRef.nativeElement,fe=ne.nodeName.toLowerCase();this._inputValueAccessor=z||ne,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&H.runOutsideAngular(()=>{C.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===fe,this._isTextarea="textarea"===fe,this._isInFormField=!!me,this._isNativeSelect&&(this.controlType=ne.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(C=>{this.autofilled=C.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(C){this._elementRef.nativeElement.focus(C)}_focusChanged(C){C!==this.focused&&(this.focused=C,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const C=this._elementRef.nativeElement.value;this._previousNativeValue!==C&&(this._previousNativeValue=C,this.stateChanges.next())}_dirtyCheckPlaceholder(){const C=this._getPlaceholder();if(C!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=C,C?B.setAttribute("placeholder",C):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){G.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let C=this._elementRef.nativeElement.validity;return C&&C.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const C=this._elementRef.nativeElement,B=C.options[0];return this.focused||C.multiple||!this.empty||!!(C.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(C){C.length?this._elementRef.nativeElement.setAttribute("aria-describedby",C.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const C=this._elementRef.nativeElement;return this._isNativeSelect&&(C.multiple||C.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(E.Y36(E.SBq),E.Y36(y.t4),E.Y36(p.a5,10),E.Y36(p.F,8),E.Y36(p.sg,8),E.Y36(v.rD),E.Y36(O,10),E.Y36(L),E.Y36(E.R0b),E.Y36(w.G_,8))};static#t=this.\u0275dir=E.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&E.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(E.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),E.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),E.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[E._Bn([{provide:w.Eo,useExisting:T}]),E.qOj,E.TTD]})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=E.oAB({type:T});static#n=this.\u0275inj=E.cJS({imports:[v.BQ,w.lN,w.lN,h,v.BQ]})}return T})()},1476:(bn,Ye,M)=>{"use strict";M.d(Ye,{NW:()=>Y,TU:()=>re,ye:()=>G});var e=M(6814),y=M(5879),E=M(8645),R=M(2296),b=M(8525),F=M(2596),L=M(3680),S=M(2495),m=M(9157);function h(ae,Oe){if(1&ae&&(y.TgZ(0,"mat-option",19),y._uU(1),y.qZA()),2&ae){const z=Oe.$implicit;y.Q6J("value",z),y.xp6(1),y.hij(" ",z," ")}}function p(ae,Oe){if(1&ae){const z=y.EpF();y.TgZ(0,"mat-form-field",16)(1,"mat-select",17),y.NdJ("selectionChange",function(H){y.CHM(z);const me=y.oxw(2);return y.KtG(me._changePageSize(H.value))}),y.YNc(2,h,2,2,"mat-option",18),y.qZA()()}if(2&ae){const z=y.oxw(2);y.Q6J("appearance",z._formFieldAppearance)("color",z.color),y.xp6(1),y.Q6J("value",z.pageSize)("disabled",z.disabled)("aria-labelledby",z._pageSizeLabelId)("panelClass",z.selectConfig.panelClass||"")("disableOptionCentering",z.selectConfig.disableOptionCentering),y.xp6(1),y.Q6J("ngForOf",z._displayedPageSizeOptions)}}function v(ae,Oe){if(1&ae&&(y.TgZ(0,"div",20),y._uU(1),y.qZA()),2&ae){const z=y.oxw(2);y.xp6(1),y.Oqu(z.pageSize)}}function w(ae,Oe){if(1&ae&&(y.TgZ(0,"div",12)(1,"div",13),y._uU(2),y.qZA(),y.YNc(3,p,3,8,"mat-form-field",14),y.YNc(4,v,2,1,"div",15),y.qZA()),2&ae){const z=y.oxw();y.xp6(1),y.s9C("id",z._pageSizeLabelId),y.xp6(1),y.hij(" ",z._intl.itemsPerPageLabel," "),y.xp6(1),y.Q6J("ngIf",z._displayedPageSizeOptions.length>1),y.xp6(1),y.Q6J("ngIf",z._displayedPageSizeOptions.length<=1)}}function V(ae,Oe){if(1&ae){const z=y.EpF();y.TgZ(0,"button",21),y.NdJ("click",function(){y.CHM(z);const H=y.oxw();return y.KtG(H.firstPage())}),y.O4$(),y.TgZ(1,"svg",7),y._UZ(2,"path",22),y.qZA()()}if(2&ae){const z=y.oxw();y.Q6J("matTooltip",z._intl.firstPageLabel)("matTooltipDisabled",z._previousButtonsDisabled())("matTooltipPosition","above")("disabled",z._previousButtonsDisabled()),y.uIk("aria-label",z._intl.firstPageLabel)}}function O(ae,Oe){if(1&ae){const z=y.EpF();y.O4$(),y.kcU(),y.TgZ(0,"button",23),y.NdJ("click",function(){y.CHM(z);const H=y.oxw();return y.KtG(H.lastPage())}),y.O4$(),y.TgZ(1,"svg",7),y._UZ(2,"path",24),y.qZA()()}if(2&ae){const z=y.oxw();y.Q6J("matTooltip",z._intl.lastPageLabel)("matTooltipDisabled",z._nextButtonsDisabled())("matTooltipPosition","above")("disabled",z._nextButtonsDisabled()),y.uIk("aria-label",z._intl.lastPageLabel)}}let G=(()=>{class ae{constructor(){this.changes=new E.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(z,oe,H)=>{if(0==H||0==oe)return`0 of ${H}`;const me=z*oe;return`${me+1} \u2013 ${me<(H=Math.max(H,0))?Math.min(me+oe,H):me+oe} of ${H}`}}static#e=this.\u0275fac=function(oe){return new(oe||ae)};static#t=this.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const P={provide:G,deps:[[new y.FiY,new y.tp0,G]],useFactory:function k(ae){return ae||new G}},T=new y.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let C=(()=>{class ae extends N{get pageIndex(){return this._pageIndex}set pageIndex(z){this._pageIndex=Math.max((0,S.su)(z),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(z){this._length=(0,S.su)(z),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(z){this._pageSize=Math.max((0,S.su)(z),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(z){this._pageSizeOptions=(z||[]).map(oe=>(0,S.su)(oe)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(z){this._hidePageSize=(0,S.Ig)(z)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(z){this._showFirstLastButtons=(0,S.Ig)(z)}constructor(z,oe,H){if(super(),this._intl=z,this._changeDetectorRef=oe,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new y.vpe,this._intlChanges=z.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),H){const{pageSize:me,pageSizeOptions:ne,hidePageSize:fe,showFirstLastButtons:Ee}=H;null!=me&&(this._pageSize=me),null!=ne&&(this._pageSizeOptions=ne),null!=fe&&(this._hidePageSize=fe),null!=Ee&&(this._showFirstLastButtons=Ee)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(z)}previousPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(z)}firstPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=0,this._emitPageEvent(z)}lastPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(z)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const z=this.getNumberOfPages()-1;return this.pageIndex<z&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(z){const H=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/z)||0,this.pageSize=z,this._emitPageEvent(H)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((z,oe)=>z-oe),this._changeDetectorRef.markForCheck())}_emitPageEvent(z){this.page.emit({previousPageIndex:z,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(oe){y.$Z()};static#t=this.\u0275dir=y.lG2({type:ae,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[y.qOj]})}return ae})(),B=0,Y=(()=>{class ae extends C{constructor(z,oe,H){super(z,oe,H),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=H?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(oe){return new(oe||ae)(y.Y36(G),y.Y36(y.sBO),y.Y36(T,8))};static#t=this.\u0275cmp=y.Xpm({type:ae,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[y.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(oe,H){1&oe&&(y.TgZ(0,"div",0)(1,"div",1),y.YNc(2,w,5,4,"div",2),y.TgZ(3,"div",3)(4,"div",4),y._uU(5),y.qZA(),y.YNc(6,V,3,5,"button",5),y.TgZ(7,"button",6),y.NdJ("click",function(){return H.previousPage()}),y.O4$(),y.TgZ(8,"svg",7),y._UZ(9,"path",8),y.qZA()(),y.kcU(),y.TgZ(10,"button",9),y.NdJ("click",function(){return H.nextPage()}),y.O4$(),y.TgZ(11,"svg",7),y._UZ(12,"path",10),y.qZA()(),y.YNc(13,O,3,5,"button",11),y.qZA()()()),2&oe&&(y.xp6(2),y.Q6J("ngIf",!H.hidePageSize),y.xp6(3),y.hij(" ",H._intl.getRangeLabel(H.pageIndex,H.pageSize,H.length)," "),y.xp6(1),y.Q6J("ngIf",H.showFirstLastButtons),y.xp6(1),y.Q6J("matTooltip",H._intl.previousPageLabel)("matTooltipDisabled",H._previousButtonsDisabled())("matTooltipPosition","above")("disabled",H._previousButtonsDisabled()),y.uIk("aria-label",H._intl.previousPageLabel),y.xp6(3),y.Q6J("matTooltip",H._intl.nextPageLabel)("matTooltipDisabled",H._nextButtonsDisabled())("matTooltipPosition","above")("disabled",H._nextButtonsDisabled()),y.uIk("aria-label",H._intl.nextPageLabel),y.xp6(3),y.Q6J("ngIf",H.showFirstLastButtons))},dependencies:[e.sg,e.O5,R.RK,m.KE,b.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ae})(),re=(()=>{class ae{static#e=this.\u0275fac=function(oe){return new(oe||ae)};static#t=this.\u0275mod=y.oAB({type:ae});static#n=this.\u0275inj=y.cJS({providers:[P],imports:[e.ez,R.ot,b.LD,F.AV]})}return ae})()},5940:(bn,Ye,M)=>{"use strict";M.d(Ye,{Cq:()=>V,Ou:()=>v});var e=M(5879),y=M(3680),E=M(2495),R=M(6814);const b=["determinateSpinner"];function F(O,G){if(1&O&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&O){const k=e.oxw();e.uIk("viewBox",k._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),e.uIk("r",k._circleRadius())}}const L=(0,y.pj)(class{constructor(O){this._elementRef=O}},"primary"),S=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function m(){return{diameter:h}}}),h=100;let v=(()=>{class O extends L{constructor(k,P,x){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=h,this._noopAnimations="NoopAnimations"===P&&!!x&&!x._forceAnimations,x&&(x.color&&(this.color=this.defaultColor=x.color),x.diameter&&(this.diameter=x.diameter),x.strokeWidth&&(this.strokeWidth=x.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,E.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,E.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,E.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(P){return new(P||O)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(S))};static#t=this.\u0275cmp=e.Xpm({type:O,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(P,x){if(1&P&&e.Gf(b,5),2&P){let I;e.iGM(I=e.CRH())&&(x._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(P,x){2&P&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===x.mode?x.value:null)("mode",x.mode),e.Udp("width",x.diameter,"px")("height",x.diameter,"px")("--mdc-circular-progress-size",x.diameter+"px")("--mdc-circular-progress-active-indicator-width",x.diameter+"px"),e.ekj("_mat-animation-noopable",x._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===x.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(P,x){if(1&P&&(e.YNc(0,F,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&P){const I=e.MAs(1);e.xp6(4),e.uIk("viewBox",x._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",x._strokeCircumference(),"px")("stroke-dashoffset",x._strokeDashOffset(),"px")("stroke-width",x._circleStrokeWidth(),"%"),e.uIk("r",x._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I)}},dependencies:[R.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return O})(),V=(()=>{class O{static#e=this.\u0275fac=function(P){return new(P||O)};static#t=this.\u0275mod=e.oAB({type:O});static#n=this.\u0275inj=e.cJS({imports:[R.ez,y.BQ]})}return O})()},8525:(bn,Ye,M)=>{"use strict";M.d(Ye,{LD:()=>be,gD:()=>xe});var e=M(3651),y=M(6814),E=M(5879),R=M(3680),b=M(9157),F=M(799),L=M(4300),S=M(9388),m=M(2495),h=M(8337),p=M(6028),v=M(95),w=M(8645),V=M(4911),O=M(3019),G=M(7921),k=M(4664),P=M(8180),x=M(2181),I=M(7398),T=M(3997),N=M(9773),C=M(6825);const B=["trigger"],Y=["panel"];function re(K,ie){if(1&K&&(E.TgZ(0,"span",10),E._uU(1),E.qZA()),2&K){const he=E.oxw();E.xp6(1),E.Oqu(he.placeholder)}}function ae(K,ie){if(1&K&&(E.TgZ(0,"span",14),E._uU(1),E.qZA()),2&K){const he=E.oxw(2);E.xp6(1),E.Oqu(he.triggerValue)}}function Oe(K,ie){1&K&&E.Hsn(0,0,["*ngSwitchCase","true"])}function z(K,ie){if(1&K&&(E.TgZ(0,"span",11),E.YNc(1,ae,2,1,"span",12),E.YNc(2,Oe,1,0,"ng-content",13),E.qZA()),2&K){const he=E.oxw();E.Q6J("ngSwitch",!!he.customTrigger),E.xp6(2),E.Q6J("ngSwitchCase",!0)}}function oe(K,ie){if(1&K){const he=E.EpF();E.O4$(),E.kcU(),E.TgZ(0,"div",15,16),E.NdJ("@transformPanel.done",function($){E.CHM(he);const W=E.oxw();return E.KtG(W._panelDoneAnimatingStream.next($.toState))})("keydown",function($){E.CHM(he);const W=E.oxw();return E.KtG(W._handleKeydown($))}),E.Hsn(2,1),E.qZA()}if(2&K){const he=E.oxw();E.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",he._getPanelTheme(),""),E.Q6J("ngClass",he.panelClass)("@transformPanel","showing"),E.uIk("id",he.id+"-panel")("aria-multiselectable",he.multiple)("aria-label",he.ariaLabel||null)("aria-labelledby",he._getPanelAriaLabelledby())}}const H=[[["mat-select-trigger"]],"*"],me=["mat-select-trigger","*"],ne={transformPanelWrap:(0,C.X$)("transformPanelWrap",[(0,C.eR)("* => void",(0,C.IO)("@transformPanel",[(0,C.pV)()],{optional:!0}))]),transformPanel:(0,C.X$)("transformPanel",[(0,C.SB)("void",(0,C.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,C.eR)("void => showing",(0,C.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,C.eR)("* => void",(0,C.jt)("100ms linear",(0,C.oB)({opacity:0})))])};let se=0;const De=new E.OlP("mat-select-scroll-strategy"),_e=new E.OlP("MAT_SELECT_CONFIG"),Le={provide:De,deps:[e.aV],useFactory:function Me(K){return()=>K.scrollStrategies.reposition()}},Ie=new E.OlP("MatSelectTrigger");class we{constructor(ie,he){this.source=ie,this.value=he}}const Fe=(0,R.Kr)((0,R.sb)((0,R.Id)((0,R.FD)(class{constructor(K,ie,he,q,$){this._elementRef=K,this._defaultErrorStateMatcher=ie,this._parentForm=he,this._parentFormGroup=q,this.ngControl=$,this.stateChanges=new w.x}}))));let We=(()=>{class K extends Fe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(he){this._placeholder=he,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(v.kI.required)??!1}set required(he){this._required=(0,m.Ig)(he),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(he){this._multiple=(0,m.Ig)(he)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(he){this._disableOptionCentering=(0,m.Ig)(he)}get compareWith(){return this._compareWith}set compareWith(he){this._compareWith=he,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(he){this._assignValue(he)&&this._onChange(he)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(he){this._typeaheadDebounceInterval=(0,m.su)(he)}get id(){return this._id}set id(he){this._id=he||this._uid,this.stateChanges.next()}constructor(he,q,$,W,te,X,J,Q,de,pe,le,Te,Ve,ke){super(te,W,J,Q,pe),this._viewportRuler=he,this._changeDetectorRef=q,this._ngZone=$,this._dir=X,this._parentFormField=de,this._liveAnnouncer=Ve,this._defaultOptions=ke,this._panelOpen=!1,this._compareWith=(Ze,qe)=>Ze===qe,this._uid="mat-select-"+se++,this._triggerAriaLabelledBy=null,this._destroy=new w.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+se++,this._panelDoneAnimatingStream=new w.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,V.P)(()=>{const Ze=this.options;return Ze?Ze.changes.pipe((0,G.O)(Ze),(0,k.w)(()=>(0,O.T)(...Ze.map(qe=>qe.onSelectionChange)))):this._ngZone.onStable.pipe((0,P.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new E.vpe,this._openedStream=this.openedChange.pipe((0,x.h)(Ze=>Ze),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,x.h)(Ze=>!Ze),(0,I.U)(()=>{})),this.selectionChange=new E.vpe,this.valueChange=new E.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ke?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ke.typeaheadDebounceInterval),this._scrollStrategyFactory=Te,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(le)||0,this.id=this.id}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(he=>{he.added.forEach(q=>q.select()),he.removed.forEach(q=>q.deselect())}),this.options.changes.pipe((0,G.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const he=this._getTriggerAriaLabelledby(),q=this.ngControl;if(he!==this._triggerAriaLabelledBy){const $=this._elementRef.nativeElement;this._triggerAriaLabelledBy=he,he?$.setAttribute("aria-labelledby",he):$.removeAttribute("aria-labelledby")}q&&(this._previousControl!==q.control&&(void 0!==this._previousControl&&null!==q.disabled&&q.disabled!==this.disabled&&(this.disabled=q.disabled),this._previousControl=q.control),this.updateErrorState())}ngOnChanges(he){(he.disabled||he.userAriaDescribedBy)&&this.stateChanges.next(),he.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const he=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!he)return;const q=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",q),(0,L.Zf)(he,"aria-owns",q),this._trackedModal=he}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(he){this._assignValue(he)}registerOnChange(he){this._onChange=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this.disabled=he,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const he=this._selectionModel.selected.map(q=>q.viewValue);return this._isRtl()&&he.reverse(),he.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(he){this.disabled||(this.panelOpen?this._handleOpenKeydown(he):this._handleClosedKeydown(he))}_handleClosedKeydown(he){const q=he.keyCode,$=q===p.JH||q===p.LH||q===p.oh||q===p.SV,W=q===p.K5||q===p.L_,te=this._keyManager;if(!te.isTyping()&&W&&!(0,p.Vb)(he)||(this.multiple||he.altKey)&&$)he.preventDefault(),this.open();else if(!this.multiple){const X=this.selected;te.onKeydown(he);const J=this.selected;J&&X!==J&&this._liveAnnouncer.announce(J.viewValue,1e4)}}_handleOpenKeydown(he){const q=this._keyManager,$=he.keyCode,W=$===p.JH||$===p.LH,te=q.isTyping();if(W&&he.altKey)he.preventDefault(),this.close();else if(te||$!==p.K5&&$!==p.L_||!q.activeItem||(0,p.Vb)(he))if(!te&&this._multiple&&$===p.A&&he.ctrlKey){he.preventDefault();const X=this.options.some(J=>!J.disabled&&!J.selected);this.options.forEach(J=>{J.disabled||(X?J.select():J.deselect())})}else{const X=q.activeItemIndex;q.onKeydown(he),this._multiple&&W&&he.shiftKey&&q.activeItem&&q.activeItemIndex!==X&&q.activeItem._selectViaInteraction()}else he.preventDefault(),q.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,P.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(he){if(this.options.forEach(q=>q.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&he)Array.isArray(he),he.forEach(q=>this._selectOptionByValue(q)),this._sortValues();else{const q=this._selectOptionByValue(he);q?this._keyManager.updateActiveItem(q):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(he){const q=this.options.find($=>{if(this._selectionModel.isSelected($))return!1;try{return null!=$.value&&this._compareWith($.value,he)}catch{return!1}});return q&&this._selectionModel.select(q),q}_assignValue(he){return!!(he!==this._value||this._multiple&&Array.isArray(he))&&(this.options&&this._setSelectionByValue(he),this._value=he,!0)}_skipPredicate(he){return he.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const he=(0,O.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(he)).subscribe(q=>{this._onSelect(q.source,q.isUserInput),q.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,O.T)(...this.options.map(q=>q._stateChanges)).pipe((0,N.R)(he)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(he,q){const $=this._selectionModel.isSelected(he);null!=he.value||this._multiple?($!==he.selected&&(he.selected?this._selectionModel.select(he):this._selectionModel.deselect(he)),q&&this._keyManager.setActiveItem(he),this.multiple&&(this._sortValues(),q&&this.focus())):(he.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(he.value)),$!==this._selectionModel.isSelected(he)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const he=this.options.toArray();this._selectionModel.sort((q,$)=>this.sortComparator?this.sortComparator(q,$,he):he.indexOf(q)-he.indexOf($)),this.stateChanges.next()}}_propagateChanges(he){let q=null;q=this.multiple?this.selected.map($=>$.value):this.selected?this.selected.value:he,this._value=q,this.valueChange.emit(q),this._onChange(q),this.selectionChange.emit(this._getChangeEvent(q)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let he=-1;for(let q=0;q<this.options.length;q++)if(!this.options.get(q).disabled){he=q;break}this._keyManager.setActiveItem(he)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(he){this._elementRef.nativeElement.focus(he)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();return this.ariaLabelledby?(he?he+" ":"")+this.ariaLabelledby:he}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();let q=(he?he+" ":"")+this._valueId;return this.ariaLabelledby&&(q+=" "+this.ariaLabelledby),q}_panelDoneAnimating(he){this.openedChange.emit(he)}setDescribedByIds(he){he.length?this._elementRef.nativeElement.setAttribute("aria-describedby",he.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(q){return new(q||K)(E.Y36(F.rL),E.Y36(E.sBO),E.Y36(E.R0b),E.Y36(R.rD),E.Y36(E.SBq),E.Y36(S.Is,8),E.Y36(v.F,8),E.Y36(v.sg,8),E.Y36(b.G_,8),E.Y36(v.a5,10),E.$8M("tabindex"),E.Y36(De),E.Y36(L.Kd),E.Y36(_e,8))};static#t=this.\u0275dir=E.lG2({type:K,viewQuery:function(q,$){if(1&q&&(E.Gf(B,5),E.Gf(Y,5),E.Gf(e.pI,5)),2&q){let W;E.iGM(W=E.CRH())&&($.trigger=W.first),E.iGM(W=E.CRH())&&($.panel=W.first),E.iGM(W=E.CRH())&&($._overlayDir=W.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[E.qOj,E.TTD]})}return K})(),xe=(()=>{class K extends We{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=he=>!this.panelOpen&&he.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(he){const q=this.options.toArray()[he];if(q){const $=this.panel.nativeElement,W=(0,R.CB)(he,this.options,this.optionGroups),te=q._getHostElement();$.scrollTop=0===he&&1===W?0:(0,R.jH)(te.offsetTop,te.offsetHeight,$.scrollTop,$.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(he){return new we(this,he)}_getOverlayWidth(he){return"auto"===this.panelWidth?(he instanceof e.xu?he.elementRef:he||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(he){this._hideSingleSelectionIndicator=(0,m.Ig)(he),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const he of this.options)he._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let he;return function($){return(he||(he=E.n5z(K)))($||K)}}();static#t=this.\u0275cmp=E.Xpm({type:K,selectors:[["mat-select"]],contentQueries:function(q,$,W){if(1&q&&(E.Suo(W,Ie,5),E.Suo(W,R.ey,5),E.Suo(W,R.K7,5)),2&q){let te;E.iGM(te=E.CRH())&&($.customTrigger=te.first),E.iGM(te=E.CRH())&&($.options=te),E.iGM(te=E.CRH())&&($.optionGroups=te)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(q,$){1&q&&E.NdJ("keydown",function(te){return $._handleKeydown(te)})("focus",function(){return $._onFocus()})("blur",function(){return $._onBlur()}),2&q&&(E.uIk("id",$.id)("tabindex",$.tabIndex)("aria-controls",$.panelOpen?$.id+"-panel":null)("aria-expanded",$.panelOpen)("aria-label",$.ariaLabel||null)("aria-required",$.required.toString())("aria-disabled",$.disabled.toString())("aria-invalid",$.errorState)("aria-activedescendant",$._getAriaActiveDescendant()),E.ekj("mat-mdc-select-disabled",$.disabled)("mat-mdc-select-invalid",$.errorState)("mat-mdc-select-required",$.required)("mat-mdc-select-empty",$.empty)("mat-mdc-select-multiple",$.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[E._Bn([{provide:b.Eo,useExisting:K},{provide:R.HF,useExisting:K}]),E.qOj],ngContentSelectors:me,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(q,$){if(1&q&&(E.F$t(H),E.TgZ(0,"div",0,1),E.NdJ("click",function(){return $.toggle()}),E.TgZ(3,"div",2),E.YNc(4,re,2,1,"span",3),E.YNc(5,z,3,2,"span",4),E.qZA(),E.TgZ(6,"div",5)(7,"div",6),E.O4$(),E.TgZ(8,"svg",7),E._UZ(9,"path",8),E.qZA()()()(),E.YNc(10,oe,3,9,"ng-template",9),E.NdJ("backdropClick",function(){return $.close()})("attach",function(){return $._onAttached()})("detach",function(){return $.close()})),2&q){const W=E.MAs(1);E.xp6(3),E.Q6J("ngSwitch",$.empty),E.uIk("id",$._valueId),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1),E.xp6(5),E.Q6J("cdkConnectedOverlayPanelClass",$._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",$._scrollStrategy)("cdkConnectedOverlayOrigin",$._preferredOverlayOrigin||W)("cdkConnectedOverlayOpen",$.panelOpen)("cdkConnectedOverlayPositions",$._positions)("cdkConnectedOverlayWidth",$._overlayWidth)}},dependencies:[y.mk,y.RF,y.n9,y.ED,e.pI,e.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ne.transformPanel]},changeDetection:0})}return K})(),be=(()=>{class K{static#e=this.\u0275fac=function(q){return new(q||K)};static#t=this.\u0275mod=E.oAB({type:K});static#n=this.\u0275inj=E.cJS({providers:[Le],imports:[y.ez,e.U8,R.Ng,R.BQ,F.ZD,b.lN,R.Ng,R.BQ]})}return K})()},2939:(bn,Ye,M)=>{"use strict";M.d(Ye,{OX:()=>P,ZX:()=>z,qD:()=>x,u_:()=>I,ux:()=>ne});var e=M(5879),y=M(8645),E=M(6814),R=M(2296),b=M(6825),F=M(8484),L=M(2831),S=M(8180),m=M(9773),h=M(4300),p=M(1088),v=M(3651),w=M(3680);function V(fe,Ee){if(1&fe){const Ae=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(Ae);const De=e.oxw();return e.KtG(De.action())}),e._uU(2),e.qZA()()}if(2&fe){const Ae=e.oxw();e.xp6(2),e.hij(" ",Ae.data.action," ")}}const O=["label"];function G(fe,Ee){}const k=Math.pow(2,31)-1;class P{constructor(Ee,Ae){this._overlayRef=Ae,this._afterDismissed=new y.x,this._afterOpened=new y.x,this._onAction=new y.x,this._dismissedByAction=!1,this.containerInstance=Ee,Ee._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ee){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ee,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const x=new e.OlP("MatSnackBarData");class I{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class fe{static#e=this.\u0275fac=function(se){return new(se||fe)};static#t=this.\u0275dir=e.lG2({type:fe,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return fe})(),N=(()=>{class fe{static#e=this.\u0275fac=function(se){return new(se||fe)};static#t=this.\u0275dir=e.lG2({type:fe,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return fe})(),C=(()=>{class fe{static#e=this.\u0275fac=function(se){return new(se||fe)};static#t=this.\u0275dir=e.lG2({type:fe,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return fe})(),B=(()=>{class fe{constructor(Ae,se){this.snackBarRef=Ae,this.data=se}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(se){return new(se||fe)(e.Y36(P),e.Y36(x))};static#t=this.\u0275cmp=e.Xpm({type:fe,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(se,De){1&se&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,V,3,1,"div",1)),2&se&&(e.xp6(1),e.hij(" ",De.data.message,"\n"),e.xp6(1),e.Q6J("ngIf",De.hasAction))},dependencies:[E.O5,R.lW,T,N,C],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return fe})();const Y={snackBarState:(0,b.X$)("state",[(0,b.SB)("void, hidden",(0,b.oB)({transform:"scale(0.8)",opacity:0})),(0,b.SB)("visible",(0,b.oB)({transform:"scale(1)",opacity:1})),(0,b.eR)("* => visible",(0,b.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,b.eR)("* => void, * => hidden",(0,b.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,b.oB)({opacity:0})))])};let re=0,ae=(()=>{class fe extends F.en{constructor(Ae,se,De,Me,_e){super(),this._ngZone=Ae,this._elementRef=se,this._changeDetectorRef=De,this._platform=Me,this.snackBarConfig=_e,this._document=(0,e.f3M)(E.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new y.x,this._onExit=new y.x,this._onEnter=new y.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+re++,this.attachDomPortal=Le=>{this._assertNotAttached();const Ie=this._portalOutlet.attachDomPortal(Le);return this._afterPortalAttached(),Ie},this._live="assertive"!==_e.politeness||_e.announcementMessage?"off"===_e.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ae){this._assertNotAttached();const se=this._portalOutlet.attachComponentPortal(Ae);return this._afterPortalAttached(),se}attachTemplatePortal(Ae){this._assertNotAttached();const se=this._portalOutlet.attachTemplatePortal(Ae);return this._afterPortalAttached(),se}onAnimationEnd(Ae){const{fromState:se,toState:De}=Ae;if(("void"===De&&"void"!==se||"hidden"===De)&&this._completeExit(),"visible"===De){const Me=this._onEnter;this._ngZone.run(()=>{Me.next(),Me.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,S.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ae=this._elementRef.nativeElement,se=this.snackBarConfig.panelClass;se&&(Array.isArray(se)?se.forEach(De=>Ae.classList.add(De)):Ae.classList.add(se)),this._exposeToModals()}_exposeToModals(){const Ae=this._liveElementId,se=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let De=0;De<se.length;De++){const Me=se[De],_e=Me.getAttribute("aria-owns");this._trackedModals.add(Me),_e?-1===_e.indexOf(Ae)&&Me.setAttribute("aria-owns",_e+" "+Ae):Me.setAttribute("aria-owns",Ae)}}_clearFromModals(){this._trackedModals.forEach(Ae=>{const se=Ae.getAttribute("aria-owns");if(se){const De=se.replace(this._liveElementId,"").trim();De.length>0?Ae.setAttribute("aria-owns",De):Ae.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ae=this._elementRef.nativeElement.querySelector("[aria-hidden]"),se=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ae&&se){let De=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ae.contains(document.activeElement)&&(De=document.activeElement),Ae.removeAttribute("aria-hidden"),se.appendChild(Ae),De?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(se){return new(se||fe)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(L.t4),e.Y36(I))};static#t=this.\u0275dir=e.lG2({type:fe,viewQuery:function(se,De){if(1&se&&e.Gf(F.Pl,7),2&se){let Me;e.iGM(Me=e.CRH())&&(De._portalOutlet=Me.first)}},features:[e.qOj]})}return fe})(),Oe=(()=>{class fe extends ae{_afterPortalAttached(){super._afterPortalAttached();const Ae=this._label.nativeElement,se="mdc-snackbar__label";Ae.classList.toggle(se,!Ae.querySelector(`.${se}`))}static#e=this.\u0275fac=function(){let Ae;return function(De){return(Ae||(Ae=e.n5z(fe)))(De||fe)}}();static#t=this.\u0275cmp=e.Xpm({type:fe,selectors:[["mat-snack-bar-container"]],viewQuery:function(se,De){if(1&se&&e.Gf(O,7),2&se){let Me;e.iGM(Me=e.CRH())&&(De._label=Me.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(se,De){1&se&&e.WFA("@state.done",function(_e){return De.onAnimationEnd(_e)}),2&se&&e.d8E("@state",De._animationState)},features:[e.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(se,De){1&se&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e.YNc(4,G,0,0,"ng-template",4),e.qZA(),e._UZ(5,"div"),e.qZA()()),2&se&&(e.xp6(5),e.uIk("aria-live",De._live)("role",De._role)("id",De._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return fe})(),z=(()=>{class fe{static#e=this.\u0275fac=function(se){return new(se||fe)};static#t=this.\u0275mod=e.oAB({type:fe});static#n=this.\u0275inj=e.cJS({imports:[v.U8,F.eL,E.ez,R.ot,w.BQ,w.BQ]})}return fe})();const H=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function oe(){return new I}});let me=(()=>{class fe{get _openedSnackBarRef(){const Ae=this._parentSnackBar;return Ae?Ae._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ae){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ae:this._snackBarRefAtThisLevel=Ae}constructor(Ae,se,De,Me,_e,Le){this._overlay=Ae,this._live=se,this._injector=De,this._breakpointObserver=Me,this._parentSnackBar=_e,this._defaultConfig=Le,this._snackBarRefAtThisLevel=null}openFromComponent(Ae,se){return this._attach(Ae,se)}openFromTemplate(Ae,se){return this._attach(Ae,se)}open(Ae,se="",De){const Me={...this._defaultConfig,...De};return Me.data={message:Ae,action:se},Me.announcementMessage===Ae&&(Me.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Me)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ae,se){const Me=e.zs3.create({parent:se&&se.viewContainerRef&&se.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:se}]}),_e=new F.C5(this.snackBarContainerComponent,se.viewContainerRef,Me),Le=Ae.attach(_e);return Le.instance.snackBarConfig=se,Le.instance}_attach(Ae,se){const De={...new I,...this._defaultConfig,...se},Me=this._createOverlay(De),_e=this._attachSnackBarContainer(Me,De),Le=new P(_e,Me);if(Ae instanceof e.Rgc){const Ie=new F.UE(Ae,null,{$implicit:De.data,snackBarRef:Le});Le.instance=_e.attachTemplatePortal(Ie)}else{const Ie=this._createInjector(De,Le),we=new F.C5(Ae,void 0,Ie),Fe=_e.attachComponentPortal(we);Le.instance=Fe.instance}return this._breakpointObserver.observe(p.u3.HandsetPortrait).pipe((0,m.R)(Me.detachments())).subscribe(Ie=>{Me.overlayElement.classList.toggle(this.handsetCssClass,Ie.matches)}),De.announcementMessage&&_e._onAnnounce.subscribe(()=>{this._live.announce(De.announcementMessage,De.politeness)}),this._animateSnackBar(Le,De),this._openedSnackBarRef=Le,this._openedSnackBarRef}_animateSnackBar(Ae,se){Ae.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ae&&(this._openedSnackBarRef=null),se.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ae.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ae.containerInstance.enter(),se.duration&&se.duration>0&&Ae.afterOpened().subscribe(()=>Ae._dismissAfter(se.duration))}_createOverlay(Ae){const se=new v.X_;se.direction=Ae.direction;let De=this._overlay.position().global();const Me="rtl"===Ae.direction,_e="left"===Ae.horizontalPosition||"start"===Ae.horizontalPosition&&!Me||"end"===Ae.horizontalPosition&&Me,Le=!_e&&"center"!==Ae.horizontalPosition;return _e?De.left("0"):Le?De.right("0"):De.centerHorizontally(),"top"===Ae.verticalPosition?De.top("0"):De.bottom("0"),se.positionStrategy=De,this._overlay.create(se)}_createInjector(Ae,se){return e.zs3.create({parent:Ae&&Ae.viewContainerRef&&Ae.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:se},{provide:x,useValue:Ae.data}]})}static#e=this.\u0275fac=function(se){return new(se||fe)(e.LFG(v.aV),e.LFG(h.Kd),e.LFG(e.zs3),e.LFG(p.Yg),e.LFG(fe,12),e.LFG(H))};static#t=this.\u0275prov=e.Yz7({token:fe,factory:fe.\u0275fac})}return fe})(),ne=(()=>{class fe extends me{constructor(Ae,se,De,Me,_e,Le){super(Ae,se,De,Me,_e,Le),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Oe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(se){return new(se||fe)(e.LFG(v.aV),e.LFG(h.Kd),e.LFG(e.zs3),e.LFG(p.Yg),e.LFG(fe,12),e.LFG(H))};static#t=this.\u0275prov=e.Yz7({token:fe,factory:fe.\u0275fac,providedIn:z})}return fe})()},3566:(bn,Ye,M)=>{"use strict";M.d(Ye,{JX:()=>Oe,YE:()=>x,nU:()=>ae});var e=M(5879),y=M(4300),E=M(2495),R=M(6028),b=M(3680),F=M(8645),L=M(3019),S=M(6825),m=M(6814);const h=["mat-sort-header",""];function p(z,oe){if(1&z){const H=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(H);const ne=e.oxw();return e.KtG(ne._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(H);const ne=e.oxw();return e.KtG(ne._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&z){const H=e.oxw();e.Q6J("@arrowOpacity",H._getArrowViewState())("@arrowPosition",H._getArrowViewState())("@allowChildren",H._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",H._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",H._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",H._getArrowDirectionState())}}const v=["*"],k=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),P=(0,b.dB)((0,b.Id)(class{}));let x=(()=>{class z extends P{get direction(){return this._direction}set direction(H){this._direction=H}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,E.Ig)(H)}constructor(H){super(),this._defaultOptions=H,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new e.vpe}register(H){this.sortables.set(H.id,H)}deregister(H){this.sortables.delete(H.id)}sort(H){this.active!=H.id?(this.active=H.id,this.direction=H.start?H.start:this.start):this.direction=this.getNextSortDirection(H),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(H){if(!H)return"";let ne=function I(z,oe){let H=["asc","desc"];return"desc"==z&&H.reverse(),oe||H.push(""),H}(H.start||this.start,H?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),fe=ne.indexOf(this.direction)+1;return fe>=ne.length&&(fe=0),ne[fe]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(me){return new(me||z)(e.Y36(k,8))};static#t=this.\u0275dir=e.lG2({type:z,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]})}return z})();const T=b.mZ.ENTERING+" "+b.yN.STANDARD_CURVE,N={indicator:(0,S.X$)("indicator",[(0,S.SB)("active-asc, asc",(0,S.oB)({transform:"translateY(0px)"})),(0,S.SB)("active-desc, desc",(0,S.oB)({transform:"translateY(10px)"})),(0,S.eR)("active-asc <=> active-desc",(0,S.jt)(T))]),leftPointer:(0,S.X$)("leftPointer",[(0,S.SB)("active-asc, asc",(0,S.oB)({transform:"rotate(-45deg)"})),(0,S.SB)("active-desc, desc",(0,S.oB)({transform:"rotate(45deg)"})),(0,S.eR)("active-asc <=> active-desc",(0,S.jt)(T))]),rightPointer:(0,S.X$)("rightPointer",[(0,S.SB)("active-asc, asc",(0,S.oB)({transform:"rotate(45deg)"})),(0,S.SB)("active-desc, desc",(0,S.oB)({transform:"rotate(-45deg)"})),(0,S.eR)("active-asc <=> active-desc",(0,S.jt)(T))]),arrowOpacity:(0,S.X$)("arrowOpacity",[(0,S.SB)("desc-to-active, asc-to-active, active",(0,S.oB)({opacity:1})),(0,S.SB)("desc-to-hint, asc-to-hint, hint",(0,S.oB)({opacity:.54})),(0,S.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,S.oB)({opacity:0})),(0,S.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,S.jt)("0ms")),(0,S.eR)("* <=> *",(0,S.jt)(T))]),arrowPosition:(0,S.X$)("arrowPosition",[(0,S.eR)("* => desc-to-hint, * => desc-to-active",(0,S.jt)(T,(0,S.F4)([(0,S.oB)({transform:"translateY(-25%)"}),(0,S.oB)({transform:"translateY(0)"})]))),(0,S.eR)("* => hint-to-desc, * => active-to-desc",(0,S.jt)(T,(0,S.F4)([(0,S.oB)({transform:"translateY(0)"}),(0,S.oB)({transform:"translateY(25%)"})]))),(0,S.eR)("* => asc-to-hint, * => asc-to-active",(0,S.jt)(T,(0,S.F4)([(0,S.oB)({transform:"translateY(25%)"}),(0,S.oB)({transform:"translateY(0)"})]))),(0,S.eR)("* => hint-to-asc, * => active-to-asc",(0,S.jt)(T,(0,S.F4)([(0,S.oB)({transform:"translateY(0)"}),(0,S.oB)({transform:"translateY(-25%)"})]))),(0,S.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,S.oB)({transform:"translateY(0)"})),(0,S.SB)("hint-to-desc, active-to-desc, desc",(0,S.oB)({transform:"translateY(-25%)"})),(0,S.SB)("hint-to-asc, active-to-asc, asc",(0,S.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,S.X$)("allowChildren",[(0,S.eR)("* <=> *",[(0,S.IO)("@*",(0,S.pV)(),{optional:!0})])])};let C=(()=>{class z{constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275prov=e.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Y={provide:C,deps:[[new e.FiY,new e.tp0,C]],useFactory:function B(z){return z||new C}},re=(0,b.Id)(class{});let ae=(()=>{class z extends re{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(H){this._updateSortActionDescription(H)}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,E.Ig)(H)}constructor(H,me,ne,fe,Ee,Ae,se,De){super(),this._intl=H,this._changeDetectorRef=me,this._sort=ne,this._columnDef=fe,this._focusMonitor=Ee,this._elementRef=Ae,this._ariaDescriber=se,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",De?.arrowPosition&&(this.arrowPosition=De?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(H=>{const me=!!H;me!==this._showIndicatorHint&&(this._setIndicatorHintVisible(me),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(H){this._isDisabled()&&H||(this._showIndicatorHint=H,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(H){this._viewState=H||{},this._disableViewStateAnimation&&(this._viewState={toState:H.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(H){!this._isDisabled()&&(H.keyCode===R.L_||H.keyCode===R.K5)&&(H.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const H=this._viewState.fromState;return(H?`${H}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(H){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,H)),this._sortActionDescription=H}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(me){return new(me||z)(e.Y36(C),e.Y36(e.sBO),e.Y36(x,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(y.tE),e.Y36(e.SBq),e.Y36(y.$s,8),e.Y36(k,8))};static#t=this.\u0275cmp=e.Xpm({type:z,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(me,ne){1&me&&e.NdJ("click",function(){return ne._handleClick()})("keydown",function(Ee){return ne._handleKeydown(Ee)})("mouseenter",function(){return ne._setIndicatorHintVisible(!0)})("mouseleave",function(){return ne._setIndicatorHintVisible(!1)}),2&me&&(e.uIk("aria-sort",ne._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",ne._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:h,ngContentSelectors:v,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(me,ne){1&me&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,p,6,6,"div",2),e.qZA()),2&me&&(e.ekj("mat-sort-header-sorted",ne._isSorted())("mat-sort-header-position-before","before"===ne.arrowPosition),e.uIk("tabindex",ne._isDisabled()?null:0)("role",ne._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",ne._renderArrow()))},dependencies:[m.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return z})(),Oe=(()=>{class z{static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275mod=e.oAB({type:z});static#n=this.\u0275inj=e.cJS({providers:[Y],imports:[m.ez,b.BQ]})}return z})()},5313:(bn,Ye,M)=>{"use strict";M.d(Ye,{ev:()=>tn,Dz:()=>ge,w1:()=>kt,ge:()=>Bt,fO:()=>it,XQ:()=>Zt,as:()=>en,Ee:()=>gn,Gk:()=>dn,nj:()=>wt,BZ:()=>ue,by:()=>gt,p0:()=>jn});var e=M(5879),y=M(9388),E=M(2495),R=M(8337),b=M(2831),F=M(799),L=M(6814),S=M(8645),m=M(7715),h=M(5619),p=M(2664),v=M(2096),w=M(9773),V=M(8180);const O=[[["caption"]],[["colgroup"],["col"]]],G=["caption","colgroup, col"];function x(rt){return class extends rt{get sticky(){return this._sticky}set sticky(Vt){const je=this._sticky;this._sticky=(0,E.Ig)(Vt),this._hasStickyChanged=je!==this._sticky}hasStickyChanged(){const Vt=this._hasStickyChanged;return this._hasStickyChanged=!1,Vt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Vt){super(...Vt),this._sticky=!1,this._hasStickyChanged=!1}}}const I=new e.OlP("CDK_TABLE");let N=(()=>{class rt{constructor(je){this.template=je}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkCellDef",""]]})}return rt})(),C=(()=>{class rt{constructor(je){this.template=je}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkHeaderCellDef",""]]})}return rt})(),B=(()=>{class rt{constructor(je){this.template=je}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkFooterCellDef",""]]})}return rt})();class Y{}const re=x(Y);let ae=(()=>{class rt extends re{get name(){return this._name}set name(je){this._setNameInput(je)}get stickyEnd(){return this._stickyEnd}set stickyEnd(je){const Qe=this._stickyEnd;this._stickyEnd=(0,E.Ig)(je),this._hasStickyChanged=Qe!==this._stickyEnd}constructor(je){super(),this._table=je,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(je){je&&(this._name=je,this.cssClassFriendlyName=je.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkColumnDef",""]],contentQueries:function(Qe,_t,Pt){if(1&Qe&&(e.Suo(Pt,N,5),e.Suo(Pt,C,5),e.Suo(Pt,B,5)),2&Qe){let rn;e.iGM(rn=e.CRH())&&(_t.cell=rn.first),e.iGM(rn=e.CRH())&&(_t.headerCell=rn.first),e.iGM(rn=e.CRH())&&(_t.footerCell=rn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:rt}]),e.qOj]})}return rt})();class Oe{constructor(Vt,je){je.nativeElement.classList.add(...Vt._columnCssClassName)}}let z=(()=>{class rt extends Oe{constructor(je,Qe){super(je,Qe)}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]})}return rt})(),H=(()=>{class rt extends Oe{constructor(je,Qe){if(super(je,Qe),1===je._table?._elementRef.nativeElement.nodeType){const _t=je._table._elementRef.nativeElement.getAttribute("role");Qe.nativeElement.setAttribute("role","grid"===_t||"treegrid"===_t?"gridcell":"cell")}}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]})}return rt})();class me{constructor(){this.tasks=[],this.endTasks=[]}}const ne=new e.OlP("_COALESCED_STYLE_SCHEDULER");let fe=(()=>{class rt{constructor(je){this._ngZone=je,this._currentSchedule=null,this._destroyed=new S.x}schedule(je){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(je)}scheduleEnd(je){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(je)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new me,this._getScheduleObservable().pipe((0,w.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const je=this._currentSchedule;this._currentSchedule=new me;for(const Qe of je.tasks)Qe();for(const Qe of je.endTasks)Qe()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,m.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,V.q)(1))}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:rt,factory:rt.\u0275fac})}return rt})(),Ae=(()=>{class rt{constructor(je,Qe){this.template=je,this._differs=Qe}ngOnChanges(je){if(!this._columnsDiffer){const Qe=je.columns&&je.columns.currentValue||[];this._columnsDiffer=this._differs.find(Qe).create(),this._columnsDiffer.diff(Qe)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(je){return this instanceof Me?je.headerCell.template:this instanceof Ie?je.footerCell.template:je.cell.template}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:rt,features:[e.TTD]})}return rt})();class se extends Ae{}const De=x(se);let Me=(()=>{class rt extends De{constructor(je,Qe,_t){super(je,Qe),this._table=_t}ngOnChanges(je){super.ngOnChanges(je)}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return rt})();class _e extends Ae{}const Le=x(_e);let Ie=(()=>{class rt extends Le{constructor(je,Qe,_t){super(je,Qe),this._table=_t}ngOnChanges(je){super.ngOnChanges(je)}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return rt})(),we=(()=>{class rt extends Ae{constructor(je,Qe,_t){super(je,Qe),this._table=_t}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]})}return rt})(),Fe=(()=>{class rt{static#e=this.mostRecentCellOutlet=null;constructor(je){this._viewContainer=je,rt.mostRecentCellOutlet=this}ngOnDestroy(){rt.mostRecentCellOutlet===this&&(rt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.s_b))};static#n=this.\u0275dir=e.lG2({type:rt,selectors:[["","cdkCellOutlet",""]]})}return rt})(),We=(()=>{class rt{static#e=this.\u0275fac=function(Qe){return new(Qe||rt)};static#t=this.\u0275cmp=e.Xpm({type:rt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Qe,_t){1&Qe&&e.GkF(0,0)},dependencies:[Fe],encapsulation:2})}return rt})(),xe=(()=>{class rt{static#e=this.\u0275fac=function(Qe){return new(Qe||rt)};static#t=this.\u0275cmp=e.Xpm({type:rt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Qe,_t){1&Qe&&e.GkF(0,0)},dependencies:[Fe],encapsulation:2})}return rt})(),be=(()=>{class rt{constructor(je){this.templateRef=je,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["ng-template","cdkNoDataRow",""]]})}return rt})();const K=["top","bottom","left","right"];class ie{constructor(Vt,je,Qe,_t,Pt=!0,rn=!0,hn){this._isNativeHtmlTable=Vt,this._stickCellCss=je,this.direction=Qe,this._coalescedStyleScheduler=_t,this._isBrowser=Pt,this._needsPositionStickyOnElement=rn,this._positionListener=hn,this._cachedCellWidths=[],this._borderCellCss={top:`${je}-border-elem-top`,bottom:`${je}-border-elem-bottom`,left:`${je}-border-elem-left`,right:`${je}-border-elem-right`}}clearStickyPositioning(Vt,je){const Qe=[];for(const _t of Vt)if(_t.nodeType===_t.ELEMENT_NODE){Qe.push(_t);for(let Pt=0;Pt<_t.children.length;Pt++)Qe.push(_t.children[Pt])}this._coalescedStyleScheduler.schedule(()=>{for(const _t of Qe)this._removeStickyStyle(_t,je)})}updateStickyColumns(Vt,je,Qe,_t=!0){if(!Vt.length||!this._isBrowser||!je.some(ln=>ln)&&!Qe.some(ln=>ln))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Pt=Vt[0],rn=Pt.children.length,hn=this._getCellWidths(Pt,_t),xt=this._getStickyStartColumnPositions(hn,je),St=this._getStickyEndColumnPositions(hn,Qe),Rt=je.lastIndexOf(!0),$t=Qe.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const ln="rtl"===this.direction,An=ln?"right":"left",st=ln?"left":"right";for(const Yt of Vt)for(let ve=0;ve<rn;ve++){const tt=Yt.children[ve];je[ve]&&this._addStickyStyle(tt,An,xt[ve],ve===Rt),Qe[ve]&&this._addStickyStyle(tt,st,St[ve],ve===$t)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Rt?[]:hn.slice(0,Rt+1).map((Yt,ve)=>je[ve]?Yt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===$t?[]:hn.slice($t).map((Yt,ve)=>Qe[ve+$t]?Yt:null).reverse()}))})}stickRows(Vt,je,Qe){if(!this._isBrowser)return;const _t="bottom"===Qe?Vt.slice().reverse():Vt,Pt="bottom"===Qe?je.slice().reverse():je,rn=[],hn=[],xt=[];for(let Rt=0,$t=0;Rt<_t.length;Rt++){if(!Pt[Rt])continue;rn[Rt]=$t;const ln=_t[Rt];xt[Rt]=this._isNativeHtmlTable?Array.from(ln.children):[ln];const An=ln.getBoundingClientRect().height;$t+=An,hn[Rt]=An}const St=Pt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Rt=0;Rt<_t.length;Rt++){if(!Pt[Rt])continue;const $t=rn[Rt],ln=Rt===St;for(const An of xt[Rt])this._addStickyStyle(An,Qe,$t,ln)}"top"===Qe?this._positionListener?.stickyHeaderRowsUpdated({sizes:hn,offsets:rn,elements:xt}):this._positionListener?.stickyFooterRowsUpdated({sizes:hn,offsets:rn,elements:xt})})}updateStickyFooterContainer(Vt,je){if(!this._isNativeHtmlTable)return;const Qe=Vt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{je.some(_t=>!_t)?this._removeStickyStyle(Qe,["bottom"]):this._addStickyStyle(Qe,"bottom",0,!1)})}_removeStickyStyle(Vt,je){for(const _t of je)Vt.style[_t]="",Vt.classList.remove(this._borderCellCss[_t]);K.some(_t=>-1===je.indexOf(_t)&&Vt.style[_t])?Vt.style.zIndex=this._getCalculatedZIndex(Vt):(Vt.style.zIndex="",this._needsPositionStickyOnElement&&(Vt.style.position=""),Vt.classList.remove(this._stickCellCss))}_addStickyStyle(Vt,je,Qe,_t){Vt.classList.add(this._stickCellCss),_t&&Vt.classList.add(this._borderCellCss[je]),Vt.style[je]=`${Qe}px`,Vt.style.zIndex=this._getCalculatedZIndex(Vt),this._needsPositionStickyOnElement&&(Vt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Vt){const je={top:100,bottom:10,left:1,right:1};let Qe=0;for(const _t of K)Vt.style[_t]&&(Qe+=je[_t]);return Qe?`${Qe}`:""}_getCellWidths(Vt,je=!0){if(!je&&this._cachedCellWidths.length)return this._cachedCellWidths;const Qe=[],_t=Vt.children;for(let Pt=0;Pt<_t.length;Pt++)Qe.push(_t[Pt].getBoundingClientRect().width);return this._cachedCellWidths=Qe,Qe}_getStickyStartColumnPositions(Vt,je){const Qe=[];let _t=0;for(let Pt=0;Pt<Vt.length;Pt++)je[Pt]&&(Qe[Pt]=_t,_t+=Vt[Pt]);return Qe}_getStickyEndColumnPositions(Vt,je){const Qe=[];let _t=0;for(let Pt=Vt.length;Pt>0;Pt--)je[Pt]&&(Qe[Pt]=_t,_t+=Vt[Pt]);return Qe}}const de=new e.OlP("CDK_SPL");let le=(()=>{class rt{constructor(je,Qe){this.viewContainer=je,this.elementRef=Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","rowOutlet",""]]})}return rt})(),Te=(()=>{class rt{constructor(je,Qe){this.viewContainer=je,this.elementRef=Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","headerRowOutlet",""]]})}return rt})(),Ve=(()=>{class rt{constructor(je,Qe){this.viewContainer=je,this.elementRef=Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","footerRowOutlet",""]]})}return rt})(),ke=(()=>{class rt{constructor(je,Qe){this.viewContainer=je,this.elementRef=Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","noDataRowOutlet",""]]})}return rt})(),He=(()=>{class rt{get trackBy(){return this._trackByFn}set trackBy(je){this._trackByFn=je}get dataSource(){return this._dataSource}set dataSource(je){this._dataSource!==je&&this._switchDataSource(je)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(je){this._multiTemplateDataRows=(0,E.Ig)(je),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(je){this._fixedLayout=(0,E.Ig)(je),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(je,Qe,_t,Pt,rn,hn,xt,St,Rt,$t,ln,An){this._differs=je,this._changeDetectorRef=Qe,this._elementRef=_t,this._dir=rn,this._platform=xt,this._viewRepeater=St,this._coalescedStyleScheduler=Rt,this._viewportRuler=$t,this._stickyPositioningListener=ln,this._ngZone=An,this._onDestroy=new S.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new h.X({start:0,end:Number.MAX_VALUE}),Pt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=hn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((je,Qe)=>this.trackBy?this.trackBy(Qe.dataIndex,Qe.data):Qe),this._viewportRuler.change().pipe((0,w.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Qe=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Qe,this._forceRecalculateCellWidths=Qe,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(je=>{je.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,R.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const je=this._dataDiffer.diff(this._renderRows);if(!je)return this._updateNoDataRow(),void this.contentChanged.next();const Qe=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(je,Qe,(_t,Pt,rn)=>this._getEmbeddedViewArgs(_t.item,rn),_t=>_t.item.data,_t=>{1===_t.operation&&_t.context&&this._renderCellTemplateForItem(_t.record.item.rowDef,_t.context)}),this._updateRowIndexContext(),je.forEachIdentityChange(_t=>{Qe.get(_t.currentIndex).context.$implicit=_t.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,V.q)(1),(0,w.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(je){this._customColumnDefs.add(je)}removeColumnDef(je){this._customColumnDefs.delete(je)}addRowDef(je){this._customRowDefs.add(je)}removeRowDef(je){this._customRowDefs.delete(je)}addHeaderRowDef(je){this._customHeaderRowDefs.add(je),this._headerRowDefChanged=!0}removeHeaderRowDef(je){this._customHeaderRowDefs.delete(je),this._headerRowDefChanged=!0}addFooterRowDef(je){this._customFooterRowDefs.add(je),this._footerRowDefChanged=!0}removeFooterRowDef(je){this._customFooterRowDefs.delete(je),this._footerRowDefChanged=!0}setNoDataRow(je){this._customNoDataRow=je}updateStickyHeaderRowStyles(){const je=this._getRenderedRows(this._headerRowOutlet),_t=this._elementRef.nativeElement.querySelector("thead");_t&&(_t.style.display=je.length?"":"none");const Pt=this._headerRowDefs.map(rn=>rn.sticky);this._stickyStyler.clearStickyPositioning(je,["top"]),this._stickyStyler.stickRows(je,Pt,"top"),this._headerRowDefs.forEach(rn=>rn.resetStickyChanged())}updateStickyFooterRowStyles(){const je=this._getRenderedRows(this._footerRowOutlet),_t=this._elementRef.nativeElement.querySelector("tfoot");_t&&(_t.style.display=je.length?"":"none");const Pt=this._footerRowDefs.map(rn=>rn.sticky);this._stickyStyler.clearStickyPositioning(je,["bottom"]),this._stickyStyler.stickRows(je,Pt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Pt),this._footerRowDefs.forEach(rn=>rn.resetStickyChanged())}updateStickyColumnStyles(){const je=this._getRenderedRows(this._headerRowOutlet),Qe=this._getRenderedRows(this._rowOutlet),_t=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...je,...Qe,..._t],["left","right"]),this._stickyColumnStylesNeedReset=!1),je.forEach((Pt,rn)=>{this._addStickyColumnStyles([Pt],this._headerRowDefs[rn])}),this._rowDefs.forEach(Pt=>{const rn=[];for(let hn=0;hn<Qe.length;hn++)this._renderRows[hn].rowDef===Pt&&rn.push(Qe[hn]);this._addStickyColumnStyles(rn,Pt)}),_t.forEach((Pt,rn)=>{this._addStickyColumnStyles([Pt],this._footerRowDefs[rn])}),Array.from(this._columnDefsByName.values()).forEach(Pt=>Pt.resetStickyChanged())}_getAllRenderRows(){const je=[],Qe=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let _t=0;_t<this._data.length;_t++){let Pt=this._data[_t];const rn=this._getRenderRowsForData(Pt,_t,Qe.get(Pt));this._cachedRenderRowsMap.has(Pt)||this._cachedRenderRowsMap.set(Pt,new WeakMap);for(let hn=0;hn<rn.length;hn++){let xt=rn[hn];const St=this._cachedRenderRowsMap.get(xt.data);St.has(xt.rowDef)?St.get(xt.rowDef).push(xt):St.set(xt.rowDef,[xt]),je.push(xt)}}return je}_getRenderRowsForData(je,Qe,_t){return this._getRowDefs(je,Qe).map(rn=>{const hn=_t&&_t.has(rn)?_t.get(rn):[];if(hn.length){const xt=hn.shift();return xt.dataIndex=Qe,xt}return{data:je,rowDef:rn,dataIndex:Qe}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ot(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Qe=>{this._columnDefsByName.has(Qe.name),this._columnDefsByName.set(Qe.name,Qe)})}_cacheRowDefs(){this._headerRowDefs=ot(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ot(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ot(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const je=this._rowDefs.filter(Qe=>!Qe.when);this._defaultRowDef=je[0]}_renderUpdatedColumns(){const je=(rn,hn)=>rn||!!hn.getColumnsDiff(),Qe=this._rowDefs.reduce(je,!1);Qe&&this._forceRenderDataRows();const _t=this._headerRowDefs.reduce(je,!1);_t&&this._forceRenderHeaderRows();const Pt=this._footerRowDefs.reduce(je,!1);return Pt&&this._forceRenderFooterRows(),Qe||_t||Pt}_switchDataSource(je){this._data=[],(0,R.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),je||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=je}_observeRenderChanges(){if(!this.dataSource)return;let je;(0,R.Z9)(this.dataSource)?je=this.dataSource.connect(this):(0,p.b)(this.dataSource)?je=this.dataSource:Array.isArray(this.dataSource)&&(je=(0,v.of)(this.dataSource)),this._renderChangeSubscription=je.pipe((0,w.R)(this._onDestroy)).subscribe(Qe=>{this._data=Qe||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((je,Qe)=>this._renderRow(this._headerRowOutlet,je,Qe)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((je,Qe)=>this._renderRow(this._footerRowOutlet,je,Qe)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(je,Qe){const _t=Array.from(Qe.columns||[]).map(hn=>this._columnDefsByName.get(hn)),Pt=_t.map(hn=>hn.sticky),rn=_t.map(hn=>hn.stickyEnd);this._stickyStyler.updateStickyColumns(je,Pt,rn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(je){const Qe=[];for(let _t=0;_t<je.viewContainer.length;_t++){const Pt=je.viewContainer.get(_t);Qe.push(Pt.rootNodes[0])}return Qe}_getRowDefs(je,Qe){if(1==this._rowDefs.length)return[this._rowDefs[0]];let _t=[];if(this.multiTemplateDataRows)_t=this._rowDefs.filter(Pt=>!Pt.when||Pt.when(Qe,je));else{let Pt=this._rowDefs.find(rn=>rn.when&&rn.when(Qe,je))||this._defaultRowDef;Pt&&_t.push(Pt)}return _t}_getEmbeddedViewArgs(je,Qe){return{templateRef:je.rowDef.template,context:{$implicit:je.data},index:Qe}}_renderRow(je,Qe,_t,Pt={}){const rn=je.viewContainer.createEmbeddedView(Qe.template,Pt,_t);return this._renderCellTemplateForItem(Qe,Pt),rn}_renderCellTemplateForItem(je,Qe){for(let _t of this._getCellTemplates(je))Fe.mostRecentCellOutlet&&Fe.mostRecentCellOutlet._viewContainer.createEmbeddedView(_t,Qe);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const je=this._rowOutlet.viewContainer;for(let Qe=0,_t=je.length;Qe<_t;Qe++){const rn=je.get(Qe).context;rn.count=_t,rn.first=0===Qe,rn.last=Qe===_t-1,rn.even=Qe%2==0,rn.odd=!rn.even,this.multiTemplateDataRows?(rn.dataIndex=this._renderRows[Qe].dataIndex,rn.renderIndex=Qe):rn.index=this._renderRows[Qe].dataIndex}}_getCellTemplates(je){return je&&je.columns?Array.from(je.columns,Qe=>{const _t=this._columnDefsByName.get(Qe);return je.extractCellTemplate(_t)}):[]}_applyNativeTableSections(){const je=this._document.createDocumentFragment(),Qe=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const _t of Qe){const Pt=this._document.createElement(_t.tag);Pt.setAttribute("role","rowgroup");for(const rn of _t.outlets)Pt.appendChild(rn.elementRef.nativeElement);je.appendChild(Pt)}this._elementRef.nativeElement.appendChild(je)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const je=(Qe,_t)=>Qe||_t.hasStickyChanged();this._headerRowDefs.reduce(je,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(je,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(je,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,v.of)()).pipe((0,w.R)(this._onDestroy)).subscribe(Qe=>{this._stickyStyler.direction=Qe,this.updateStickyColumnStyles()})}_getOwnDefs(je){return je.filter(Qe=>!Qe._table||Qe._table===this)}_updateNoDataRow(){const je=this._customNoDataRow||this._noDataRow;if(!je)return;const Qe=0===this._rowOutlet.viewContainer.length;if(Qe===this._isShowingNoDataRow)return;const _t=this._noDataRowOutlet.viewContainer;if(Qe){const Pt=_t.createEmbeddedView(je.templateRef),rn=Pt.rootNodes[0];1===Pt.rootNodes.length&&rn?.nodeType===this._document.ELEMENT_NODE&&(rn.setAttribute("role","row"),rn.classList.add(je._contentClassName))}else _t.clear();this._isShowingNoDataRow=Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||rt)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(y.Is,8),e.Y36(L.K0),e.Y36(b.t4),e.Y36(R.k),e.Y36(ne),e.Y36(F.rL),e.Y36(de,12),e.Y36(e.R0b,8))};static#t=this.\u0275cmp=e.Xpm({type:rt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Qe,_t,Pt){if(1&Qe&&(e.Suo(Pt,be,5),e.Suo(Pt,ae,5),e.Suo(Pt,we,5),e.Suo(Pt,Me,5),e.Suo(Pt,Ie,5)),2&Qe){let rn;e.iGM(rn=e.CRH())&&(_t._noDataRow=rn.first),e.iGM(rn=e.CRH())&&(_t._contentColumnDefs=rn),e.iGM(rn=e.CRH())&&(_t._contentRowDefs=rn),e.iGM(rn=e.CRH())&&(_t._contentHeaderRowDefs=rn),e.iGM(rn=e.CRH())&&(_t._contentFooterRowDefs=rn)}},viewQuery:function(Qe,_t){if(1&Qe&&(e.Gf(le,7),e.Gf(Te,7),e.Gf(Ve,7),e.Gf(ke,7)),2&Qe){let Pt;e.iGM(Pt=e.CRH())&&(_t._rowOutlet=Pt.first),e.iGM(Pt=e.CRH())&&(_t._headerRowOutlet=Pt.first),e.iGM(Pt=e.CRH())&&(_t._footerRowOutlet=Pt.first),e.iGM(Pt=e.CRH())&&(_t._noDataRowOutlet=Pt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Qe,_t){2&Qe&&e.ekj("cdk-table-fixed-layout",_t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:I,useExisting:rt},{provide:R.k,useClass:R.yy},{provide:ne,useClass:fe},{provide:de,useValue:null}])],ngContentSelectors:G,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Qe,_t){1&Qe&&(e.F$t(O),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[le,Te,Ve,ke],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return rt})();function ot(rt,Vt){return rt.concat(Array.from(Vt))}let Ct=(()=>{class rt{static#e=this.\u0275fac=function(Qe){return new(Qe||rt)};static#t=this.\u0275mod=e.oAB({type:rt});static#n=this.\u0275inj=e.cJS({imports:[F.Cl]})}return rt})();var Ot=M(3680),It=M(3019),Gt=M(2572),Xt=M(7398);const cn=[[["caption"]],[["colgroup"],["col"]]],Rn=["caption","colgroup, col"];let ue=(()=>{class rt extends He{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275cmp=e.Xpm({type:rt,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Qe,_t){2&Qe&&e.ekj("mdc-table-fixed-layout",_t.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:He,useExisting:rt},{provide:I,useExisting:rt},{provide:ne,useClass:fe},{provide:R.k,useClass:R.yy},{provide:de,useValue:null}]),e.qOj],ngContentSelectors:Rn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Qe,_t){1&Qe&&(e.F$t(cn),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[le,Te,Ve,ke],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return rt})(),ge=(()=>{class rt extends N{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:N,useExisting:rt}]),e.qOj]})}return rt})(),it=(()=>{class rt extends C{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:C,useExisting:rt}]),e.qOj]})}return rt})(),kt=(()=>{class rt extends ae{get name(){return this._name}set name(je){this._setNameInput(je)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:ae,useExisting:rt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:rt}]),e.qOj]})}return rt})(),Bt=(()=>{class rt extends z{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.qOj]})}return rt})(),tn=(()=>{class rt extends H{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.qOj]})}return rt})(),en=(()=>{class rt extends Me{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:Me,useExisting:rt}]),e.qOj]})}return rt})(),wt=(()=>{class rt extends we{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:we,useExisting:rt}]),e.qOj]})}return rt})(),Zt=(()=>{class rt extends We{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275cmp=e.Xpm({type:rt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:We,useExisting:rt}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Qe,_t){1&Qe&&e.GkF(0,0)},dependencies:[Fe],encapsulation:2})}return rt})(),dn=(()=>{class rt extends xe{static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275cmp=e.Xpm({type:rt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e._Bn([{provide:xe,useExisting:rt}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Qe,_t){1&Qe&&e.GkF(0,0)},dependencies:[Fe],encapsulation:2})}return rt})(),gn=(()=>{class rt extends be{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let je;return function(_t){return(je||(je=e.n5z(rt)))(_t||rt)}}();static#t=this.\u0275dir=e.lG2({type:rt,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:be,useExisting:rt}]),e.qOj]})}return rt})(),jn=(()=>{class rt{static#e=this.\u0275fac=function(Qe){return new(Qe||rt)};static#t=this.\u0275mod=e.oAB({type:rt});static#n=this.\u0275inj=e.cJS({imports:[Ot.BQ,Ct,Ot.BQ]})}return rt})();class _i extends R.o2{get data(){return this._data.value}set data(Vt){Vt=Array.isArray(Vt)?Vt:[],this._data.next(Vt),this._renderChangesSubscription||this._filterData(Vt)}get filter(){return this._filter.value}set filter(Vt){this._filter.next(Vt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Vt){this._sort=Vt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Vt){this._paginator=Vt,this._updateChangeSubscription()}constructor(Vt=[]){super(),this._renderData=new h.X([]),this._filter=new h.X(""),this._internalPageChanges=new S.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(je,Qe)=>{const _t=je[Qe];if((0,E.t6)(_t)){const Pt=Number(_t);return Pt<9007199254740991?Pt:_t}return _t},this.sortData=(je,Qe)=>{const _t=Qe.active,Pt=Qe.direction;return _t&&""!=Pt?je.sort((rn,hn)=>{let xt=this.sortingDataAccessor(rn,_t),St=this.sortingDataAccessor(hn,_t);const Rt=typeof xt,$t=typeof St;Rt!==$t&&("number"===Rt&&(xt+=""),"number"===$t&&(St+=""));let ln=0;return null!=xt&&null!=St?xt>St?ln=1:xt<St&&(ln=-1):null!=xt?ln=1:null!=St&&(ln=-1),ln*("asc"==Pt?1:-1)}):je},this.filterPredicate=(je,Qe)=>{const _t=Object.keys(je).reduce((rn,hn)=>rn+je[hn]+"\u25ec","").toLowerCase(),Pt=Qe.trim().toLowerCase();return-1!=_t.indexOf(Pt)},this._data=new h.X(Vt),this._updateChangeSubscription()}_updateChangeSubscription(){const Vt=this._sort?(0,It.T)(this._sort.sortChange,this._sort.initialized):(0,v.of)(null),je=this._paginator?(0,It.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,v.of)(null),_t=(0,Gt.a)([this._data,this._filter]).pipe((0,Xt.U)(([hn])=>this._filterData(hn))),Pt=(0,Gt.a)([_t,Vt]).pipe((0,Xt.U)(([hn])=>this._orderData(hn))),rn=(0,Gt.a)([Pt,je]).pipe((0,Xt.U)(([hn])=>this._pageData(hn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=rn.subscribe(hn=>this._renderData.next(hn))}_filterData(Vt){return this.filteredData=null==this.filter||""===this.filter?Vt:Vt.filter(je=>this.filterPredicate(je,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Vt){return this.sort?this.sortData(Vt.slice(),this.sort):Vt}_pageData(Vt){if(!this.paginator)return Vt;const je=this.paginator.pageIndex*this.paginator.pageSize;return Vt.slice(je,je+this.paginator.pageSize)}_updatePaginator(Vt){Promise.resolve().then(()=>{const je=this.paginator;if(je&&(je.length=Vt,je.pageIndex>0)){const Qe=Math.ceil(je.length/je.pageSize)-1||0,_t=Math.min(je.pageIndex,Qe);_t!==je.pageIndex&&(je.pageIndex=_t,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class gt extends _i{}},2596:(bn,Ye,M)=>{"use strict";M.d(Ye,{AV:()=>se,gM:()=>ne});var e=M(9773),y=M(8180),E=M(2495),R=M(6028),b=M(5879),F=M(6814),L=M(2831),S=M(4300),m=M(9388),h=M(3651),p=M(799),v=M(8484),w=M(8645),O=(M(6825),M(3680));const G=["tooltip"],x=new b.OlP("mat-tooltip-scroll-strategy"),T={provide:x,deps:[h.aV],useFactory:function I(De){return()=>De.scrollStrategies.reposition({scrollThrottle:20})}},C=new b.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",re=(0,L.i$)({passive:!0});let me=(()=>{class De{get position(){return this._position}set position(_e){_e!==this._position&&(this._position=_e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(_e){this._positionAtOrigin=(0,E.Ig)(_e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(_e){this._disabled=(0,E.Ig)(_e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(_e){this._showDelay=(0,E.su)(_e)}get hideDelay(){return this._hideDelay}set hideDelay(_e){this._hideDelay=(0,E.su)(_e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(_e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=_e?String(_e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(_e){this._tooltipClass=_e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,he){this._overlay=_e,this._elementRef=Le,this._scrollDispatcher=Ie,this._viewContainerRef=we,this._ngZone=Fe,this._platform=We,this._ariaDescriber=Ue,this._focusMonitor=xe,this._dir=K,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new w.x,this._scrollStrategy=be,this._document=he,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures)),K.change.pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.R)(this._destroyed)).subscribe(_e=>{_e?"keyboard"===_e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const _e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Le,Ie])=>{_e.removeEventListener(Le,Ie,re)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(_e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(_e)}show(_e=this.showDelay,Le){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Ie=this._createOverlay(Le);this._detach(),this._portal=this._portal||new v.C5(this._tooltipComponent,this._viewContainerRef);const we=this._tooltipInstance=Ie.attach(this._portal).instance;we._triggerElement=this._elementRef.nativeElement,we._mouseLeaveHideDelay=this._hideDelay,we.afterHidden().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),we.show(_e)}hide(_e=this.hideDelay){const Le=this._tooltipInstance;Le&&(Le.isVisible()?Le.hide(_e):(Le._cancelPendingAnimations(),this._detach()))}toggle(_e){this._isTooltipVisible()?this.hide():this.show(void 0,_e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(_e){if(this._overlayRef){const we=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!_e)&&we._origin instanceof b.SBq)return this._overlayRef;this._detach()}const Le=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Ie=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&_e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Le);return Ie.positionChanges.pipe((0,e.R)(this._destroyed)).subscribe(we=>{this._updateCurrentPositionClass(we.connectionPair),this._tooltipInstance&&we.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Ie,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.R)(this._destroyed)).subscribe(we=>{this._isTooltipVisible()&&we.keyCode===R.hY&&!(0,R.Vb)(we)&&(we.preventDefault(),we.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(_e){const Le=_e.getConfig().positionStrategy,Ie=this._getOrigin(),we=this._getOverlayPosition();Le.withPositions([this._addOffset({...Ie.main,...we.main}),this._addOffset({...Ie.fallback,...we.fallback})])}_addOffset(_e){return _e}_getOrigin(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Ie;"above"==Le||"below"==Le?Ie={originX:"center",originY:"above"==Le?"top":"bottom"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Ie={originX:"start",originY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Ie={originX:"end",originY:"center"});const{x:we,y:Fe}=this._invertPosition(Ie.originX,Ie.originY);return{main:Ie,fallback:{originX:we,originY:Fe}}}_getOverlayPosition(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Ie;"above"==Le?Ie={overlayX:"center",overlayY:"bottom"}:"below"==Le?Ie={overlayX:"center",overlayY:"top"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Ie={overlayX:"end",overlayY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Ie={overlayX:"start",overlayY:"center"});const{x:we,y:Fe}=this._invertPosition(Ie.overlayX,Ie.overlayY);return{main:Ie,fallback:{overlayX:we,overlayY:Fe}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,y.q)(1),(0,e.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(_e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=_e,this._tooltipInstance._markForCheck())}_invertPosition(_e,Le){return"above"===this.position||"below"===this.position?"top"===Le?Le="bottom":"bottom"===Le&&(Le="top"):"end"===_e?_e="start":"start"===_e&&(_e="end"),{x:_e,y:Le}}_updateCurrentPositionClass(_e){const{overlayY:Le,originX:Ie,originY:we}=_e;let Fe;if(Fe="center"===Le?this._dir&&"rtl"===this._dir.value?"end"===Ie?"left":"right":"start"===Ie?"left":"right":"bottom"===Le&&"top"===we?"above":"below",Fe!==this._currentPosition){const We=this._overlayRef;if(We){const Ue=`${this._cssClassPrefix}-${Y}-`;We.removePanelClass(Ue+this._currentPosition),We.addPanelClass(Ue+Fe)}this._currentPosition=Fe}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",_e=>{let Le;this._setupPointerExitEventsIfNeeded(),void 0!==_e.x&&void 0!==_e.y&&(Le=_e),this.show(void 0,Le)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",_e=>{const Le=_e.targetTouches?.[0],Ie=Le?{x:Le.clientX,y:Le.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Ie),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const _e=[];if(this._platformSupportsMouseEvents())_e.push(["mouseleave",Le=>{const Ie=Le.relatedTarget;(!Ie||!this._overlayRef?.overlayElement.contains(Ie))&&this.hide()}],["wheel",Le=>this._wheelListener(Le)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Le=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};_e.push(["touchend",Le],["touchcancel",Le])}this._addListeners(_e),this._passiveListeners.push(..._e)}_addListeners(_e){_e.forEach(([Le,Ie])=>{this._elementRef.nativeElement.addEventListener(Le,Ie,re)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(_e){if(this._isTooltipVisible()){const Le=this._document.elementFromPoint(_e.clientX,_e.clientY),Ie=this._elementRef.nativeElement;Le!==Ie&&!Ie.contains(Le)&&this.hide()}}_disableNativeGesturesIfNecessary(){const _e=this.touchGestures;if("off"!==_e){const Le=this._elementRef.nativeElement,Ie=Le.style;("on"===_e||"INPUT"!==Le.nodeName&&"TEXTAREA"!==Le.nodeName)&&(Ie.userSelect=Ie.msUserSelect=Ie.webkitUserSelect=Ie.MozUserSelect="none"),("on"===_e||!Le.draggable)&&(Ie.webkitUserDrag="none"),Ie.touchAction="none",Ie.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Le){b.$Z()};static#t=this.\u0275dir=b.lG2({type:De,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return De})(),ne=(()=>{class De extends me{constructor(_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,he){super(_e,Le,Ie,we,Fe,We,Ue,xe,be,K,ie,he),this._tooltipComponent=Ee,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(_e){const Ie=!this._dir||"ltr"==this._dir.value;return"top"===_e.originY?_e.offsetY=-8:"bottom"===_e.originY?_e.offsetY=8:"start"===_e.originX?_e.offsetX=Ie?-8:8:"end"===_e.originX&&(_e.offsetX=Ie?8:-8),_e}static#e=this.\u0275fac=function(Le){return new(Le||De)(b.Y36(h.aV),b.Y36(b.SBq),b.Y36(p.mF),b.Y36(b.s_b),b.Y36(b.R0b),b.Y36(L.t4),b.Y36(S.$s),b.Y36(S.tE),b.Y36(x),b.Y36(m.Is,8),b.Y36(C,8),b.Y36(F.K0))};static#t=this.\u0275dir=b.lG2({type:De,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Le,Ie){2&Le&&b.ekj("mat-mdc-tooltip-disabled",Ie.disabled)},exportAs:["matTooltip"],features:[b.qOj]})}return De})(),fe=(()=>{class De{constructor(_e,Le){this._changeDetectorRef=_e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new w.x,this._animationsDisabled="NoopAnimations"===Le}show(_e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},_e)}hide(_e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},_e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:_e}){(!_e||!this._triggerElement.contains(_e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:_e}){(_e===this._showAnimation||_e===this._hideAnimation)&&this._finalizeAnimation(_e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(_e){_e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(_e){const Le=this._tooltip.nativeElement,Ie=this._showAnimation,we=this._hideAnimation;if(Le.classList.remove(_e?we:Ie),Le.classList.add(_e?Ie:we),this._isVisible=_e,_e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Fe=getComputedStyle(Le);("0s"===Fe.getPropertyValue("animation-duration")||"none"===Fe.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}_e&&this._onShow(),this._animationsDisabled&&(Le.classList.add("_mat-animation-noopable"),this._finalizeAnimation(_e))}static#e=this.\u0275fac=function(Le){return new(Le||De)(b.Y36(b.sBO),b.Y36(b.QbO,8))};static#t=this.\u0275dir=b.lG2({type:De})}return De})(),Ee=(()=>{class De extends fe{constructor(_e,Le,Ie){super(_e,Ie),this._elementRef=Le,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const _e=this._elementRef.nativeElement.getBoundingClientRect();return _e.height>24&&_e.width>=200}static#e=this.\u0275fac=function(Le){return new(Le||De)(b.Y36(b.sBO),b.Y36(b.SBq),b.Y36(b.QbO,8))};static#t=this.\u0275cmp=b.Xpm({type:De,selectors:[["mat-tooltip-component"]],viewQuery:function(Le,Ie){if(1&Le&&b.Gf(G,7),2&Le){let we;b.iGM(we=b.CRH())&&(Ie._tooltip=we.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Le,Ie){1&Le&&b.NdJ("mouseleave",function(Fe){return Ie._handleMouseLeave(Fe)}),2&Le&&b.Udp("zoom",Ie.isVisible()?1:null)},features:[b.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Le,Ie){1&Le&&(b.TgZ(0,"div",0,1),b.NdJ("animationend",function(Fe){return Ie._handleAnimationEnd(Fe)}),b.TgZ(2,"div",2),b._uU(3),b.qZA()()),2&Le&&(b.ekj("mdc-tooltip--multiline",Ie._isMultiline),b.Q6J("ngClass",Ie.tooltipClass),b.xp6(3),b.Oqu(Ie.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return De})(),se=(()=>{class De{static#e=this.\u0275fac=function(Le){return new(Le||De)};static#t=this.\u0275mod=b.oAB({type:De});static#n=this.\u0275inj=b.cJS({providers:[T],imports:[S.rt,F.ez,h.U8,O.BQ,O.BQ,p.ZD]})}return De})()},7582:(bn,Ye,M)=>{"use strict";function v(ne,fe,Ee,Ae){return new(Ee||(Ee=Promise))(function(De,Me){function _e(we){try{Ie(Ae.next(we))}catch(Fe){Me(Fe)}}function Le(we){try{Ie(Ae.throw(we))}catch(Fe){Me(Fe)}}function Ie(we){we.done?De(we.value):function se(De){return De instanceof Ee?De:new Ee(function(Me){Me(De)})}(we.value).then(_e,Le)}Ie((Ae=Ae.apply(ne,fe||[])).next())})}function T(ne){return this instanceof T?(this.v=ne,this):new T(ne)}function N(ne,fe,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,Ae=Ee.apply(ne,fe||[]),De=[];return se={},Me("next"),Me("throw"),Me("return"),se[Symbol.asyncIterator]=function(){return this},se;function Me(We){Ae[We]&&(se[We]=function(Ue){return new Promise(function(xe,be){De.push([We,Ue,xe,be])>1||_e(We,Ue)})})}function _e(We,Ue){try{!function Le(We){We.value instanceof T?Promise.resolve(We.value.v).then(Ie,we):Fe(De[0][2],We)}(Ae[We](Ue))}catch(xe){Fe(De[0][3],xe)}}function Ie(We){_e("next",We)}function we(We){_e("throw",We)}function Fe(We,Ue){We(Ue),De.shift(),De.length&&_e(De[0][0],De[0][1])}}function B(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,fe=ne[Symbol.asyncIterator];return fe?fe.call(ne):(ne=function G(ne){var fe="function"==typeof Symbol&&Symbol.iterator,Ee=fe&&ne[fe],Ae=0;if(Ee)return Ee.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ae>=ne.length&&(ne=void 0),{value:ne&&ne[Ae++],done:!ne}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),Ee={},Ae("next"),Ae("throw"),Ae("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ae(De){Ee[De]=ne[De]&&function(Me){return new Promise(function(_e,Le){!function se(De,Me,_e,Le){Promise.resolve(Le).then(function(Ie){De({value:Ie,done:_e})},Me)}(_e,Le,(Me=ne[De](Me)).done,Me.value)})}}}M.d(Ye,{FC:()=>N,KL:()=>B,mG:()=>v,qq:()=>T})}},bn=>{bn(bn.s=7463)}]);