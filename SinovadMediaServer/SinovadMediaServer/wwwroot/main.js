(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Wn,et,p)=>{"use strict";p.d(et,{Dh:()=>m,GT:()=>P,cc:()=>S,hO:()=>_,on:()=>c,pX:()=>g,xv:()=>i});var e=p(5879),t=p(7142),v=p(8186);Wn=p.hmd(Wn);const b=["ngOnDestroy"],g=(O,C,I,T={})=>new Proxy(O,{get:(L,y)=>I.runOutsideAngular(()=>{var B;if(O[y])return!(null===(B=T?.spy)||void 0===B)&&B.get&&T.spy.get(y,O[y]),O[y];if(b.indexOf(y)>-1)return()=>{};const z=C.toPromise().then(ne=>{const ae=ne&&ne[y];return"function"==typeof ae?ae.bind(ne):ae&&ae.then?ae.then(Fe=>I.run(()=>Fe)):I.run(()=>ae)});return new Proxy(()=>{},{get:(ne,ae)=>z[ae],apply:(ne,ae,Fe)=>z.then(Y=>{var le;const G=Y&&Y(...Fe);return!(null===(le=T?.spy)||void 0===le)&&le.apply&&T.spy.apply(y,Fe,G),G})})})}),P=(O,C)=>{C.forEach(I=>{Object.getOwnPropertyNames(I.prototype||I).forEach(T=>{Object.defineProperty(O.prototype,T,Object.getOwnPropertyDescriptor(I.prototype||I,T))})})};class D{constructor(C){return C}}const m=new e.OlP("angularfire2.app.options"),i=new e.OlP("angularfire2.app.name");function c(O,C,I){const L="object"==typeof I&&I||{};L.name=L.name||"string"==typeof I&&I||"[DEFAULT]";const B=t.Z.apps.filter(z=>z&&z.name===L.name)[0]||C.runOutsideAngular(()=>t.Z.initializeApp(O,L));try{JSON.stringify(O)!==JSON.stringify(B.options)&&d("error",`${B.name} Firebase App already initialized with different options${Wn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new D(B)}const d=(O,...C)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...C)},f={provide:D,useFactory:c,deps:[m,e.R0b,[new e.FiY,i]]};let _=(()=>{class O{constructor(I){t.Z.registerVersion("angularfire",v.q4.full,"core"),t.Z.registerVersion("angularfire",v.q4.full,"app-compat"),t.Z.registerVersion("angular",e.q4F.full,I.toString())}static initializeApp(I,T){return{ngModule:O,providers:[{provide:m,useValue:I},{provide:i,useValue:T}]}}}return O.\u0275fac=function(I){return new(I||O)(e.LFG(e.Lbi))},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({providers:[f]}),O})();function S(O,C,I,T,L){const[,y,B]=globalThis.\u0275AngularfireInstanceCache.find(z=>z[0]===O)||[];if(y)return function x(O,C){try{return O.toString()===C.toString()}catch{return O===C}}(L,B)||(N("error",`${C} was already initialized on the ${I} Firebase App with different settings.${A?" You may need to reload as Firebase is not HMR aware.":""}`),N("warn",{is:L,was:B})),y;{const z=T();return globalThis.\u0275AngularfireInstanceCache.push([O,z,L]),z}}const A=!!Wn.hot,N=(O,...C)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...C)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Wn,et,p)=>{"use strict";p.d(et,{q4:()=>Xl,iC:()=>Il,HU:()=>xl,vb:()=>ec,JM:()=>Gl});var e=p(5879),t=p(3182),v=p(5861),b=p(534),g=p(9058),P=p(4537),D=p(7879);const m=(Ye,dt)=>dt.some(Ht=>Ye instanceof Ht);let i,c;const _=new WeakMap,S=new WeakMap,x=new WeakMap,A=new WeakMap,N=new WeakMap;let I={get(Ye,dt,Ht){if(Ye instanceof IDBTransaction){if("done"===dt)return S.get(Ye);if("objectStoreNames"===dt)return Ye.objectStoreNames||x.get(Ye);if("store"===dt)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return B(Ye[dt])},set:(Ye,dt,Ht)=>(Ye[dt]=Ht,!0),has:(Ye,dt)=>Ye instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in Ye};function y(Ye){return"function"==typeof Ye?function L(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function f(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...dt){return Ye.apply(z(this),dt),B(_.get(this))}:function(...dt){return B(Ye.apply(z(this),dt))}:function(dt,...Ht){const hn=Ye.call(z(this),dt,...Ht);return x.set(hn,dt.sort?dt.sort():[dt]),B(hn)}}(Ye):(Ye instanceof IDBTransaction&&function C(Ye){if(S.has(Ye))return;const dt=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("complete",Gn),Ye.removeEventListener("error",Qn),Ye.removeEventListener("abort",Qn)},Gn=()=>{Ht(),Ln()},Qn=()=>{hn(Ye.error||new DOMException("AbortError","AbortError")),Ln()};Ye.addEventListener("complete",Gn),Ye.addEventListener("error",Qn),Ye.addEventListener("abort",Qn)});S.set(Ye,dt)}(Ye),m(Ye,function d(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,I):Ye)}function B(Ye){if(Ye instanceof IDBRequest)return function O(Ye){const dt=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("success",Gn),Ye.removeEventListener("error",Qn)},Gn=()=>{Ht(B(Ye.result)),Ln()},Qn=()=>{hn(Ye.error),Ln()};Ye.addEventListener("success",Gn),Ye.addEventListener("error",Qn)});return dt.then(Ht=>{Ht instanceof IDBCursor&&_.set(Ht,Ye)}).catch(()=>{}),N.set(dt,Ye),dt}(Ye);if(A.has(Ye))return A.get(Ye);const dt=y(Ye);return dt!==Ye&&(A.set(Ye,dt),N.set(dt,Ye)),dt}const z=Ye=>N.get(Ye),Fe=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],le=new Map;function G(Ye,dt){if(!(Ye instanceof IDBDatabase)||dt in Ye||"string"!=typeof dt)return;if(le.get(dt))return le.get(dt);const Ht=dt.replace(/FromIndex$/,""),hn=dt!==Ht,Ln=Y.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!Fe.includes(Ht))return;const Gn=function(){var Qn=(0,v.Z)(function*(Ci,...Zt){const Li=this.transaction(Ci,Ln?"readwrite":"readonly");let qi=Li.store;return hn&&(qi=qi.index(Zt.shift())),(yield Promise.all([qi[Ht](...Zt),Ln&&Li.done]))[0]});return function(Zt){return Qn.apply(this,arguments)}}();return le.set(dt,Gn),Gn}!function T(Ye){I=Ye(I)}(Ye=>({...Ye,get:(dt,Ht,hn)=>G(dt,Ht)||Ye.get(dt,Ht,hn),has:(dt,Ht)=>!!G(dt,Ht)||Ye.has(dt,Ht)}));const Se="@firebase/installations",ce="0.6.4",ge=1e4,Ie=`w:${ce}`,Ce="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",Ae=36e5,Te=new g.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(Ye){return Ye instanceof g.ZR&&Ye.code.includes("request-failed")}function je({projectId:Ye}){return`${pe}/projects/${Ye}/installations`}function ft(Ye){return{token:Ye.token,requestStatus:2,expiresIn:oe(Ye.expiresIn),creationTime:Date.now()}}function Ze(Ye,dt){return Re.apply(this,arguments)}function Re(){return(Re=(0,v.Z)(function*(Ye,dt){const hn=(yield dt.json()).error;return Te.create("request-failed",{requestName:Ye,serverCode:hn.code,serverMessage:hn.message,serverStatus:hn.status})})).apply(this,arguments)}function be({apiKey:Ye}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ye})}function ie(Ye){return ye.apply(this,arguments)}function ye(){return(ye=(0,v.Z)(function*(Ye){const dt=yield Ye();return dt.status>=500&&dt.status<600?Ye():dt})).apply(this,arguments)}function oe(Ye){return Number(Ye.replace("s","000"))}function $(){return($=(0,v.Z)(function*({appConfig:Ye,heartbeatServiceProvider:dt},{fid:Ht}){const hn=je(Ye),Ln=be(Ye),Gn=dt.getImmediate({optional:!0});if(Gn){const Li=yield Gn.getHeartbeatsHeader();Li&&Ln.append("x-firebase-client",Li)}const Ci={method:"POST",headers:Ln,body:JSON.stringify({fid:Ht,authVersion:Ce,appId:Ye.appId,sdkVersion:Ie})},Zt=yield ie(()=>fetch(hn,Ci));if(Zt.ok){const Li=yield Zt.json();return{fid:Li.fid||Ht,registrationStatus:2,refreshToken:Li.refreshToken,authToken:ft(Li.authToken)}}throw yield Ze("Create Installation",Zt)})).apply(this,arguments)}function re(Ye){return new Promise(dt=>{setTimeout(dt,Ye)})}const q=/^[cdef][\w-]{21}$/,_e="";function xe(){try{const Ye=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ye),Ye[0]=112+Ye[0]%16;const Ht=function Ee(Ye){return function J(Ye){return btoa(String.fromCharCode(...Ye)).replace(/\+/g,"-").replace(/\//g,"_")}(Ye).substr(0,22)}(Ye);return q.test(Ht)?Ht:_e}catch{return _e}}function Ge(Ye){return`${Ye.appName}!${Ye.appId}`}const ct=new Map;function Xe(Ye,dt){const Ht=Ge(Ye);Qe(Ht,dt),function yt(Ye,dt){const Ht=function fe(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=Ye=>{Qe(Ye.data.key,Ye.data.fid)}),Dt}();Ht&&Ht.postMessage({key:Ye,fid:dt}),function We(){0===ct.size&&Dt&&(Dt.close(),Dt=null)}()}(Ht,dt)}function Qe(Ye,dt){const Ht=ct.get(Ye);if(Ht)for(const hn of Ht)hn(dt)}let Dt=null;const Et="firebase-installations-database",Wt=1,Qt="firebase-installations-store";let qt=null;function un(){return qt||(qt=function ne(Ye,dt,{blocked:Ht,upgrade:hn,blocking:Ln,terminated:Gn}={}){const Qn=indexedDB.open(Ye,dt),Ci=B(Qn);return hn&&Qn.addEventListener("upgradeneeded",Zt=>{hn(B(Qn.result),Zt.oldVersion,Zt.newVersion,B(Qn.transaction))}),Ht&&Qn.addEventListener("blocked",()=>Ht()),Ci.then(Zt=>{Gn&&Zt.addEventListener("close",()=>Gn()),Ln&&Zt.addEventListener("versionchange",()=>Ln())}).catch(()=>{}),Ci}(Et,Wt,{upgrade:(Ye,dt)=>{0===dt&&Ye.createObjectStore(Qt)}})),qt}function fn(Ye,dt){return wt.apply(this,arguments)}function wt(){return(wt=(0,v.Z)(function*(Ye,dt){const Ht=Ge(Ye),Ln=(yield un()).transaction(Qt,"readwrite"),Gn=Ln.objectStore(Qt),Qn=yield Gn.get(Ht);return yield Gn.put(dt,Ht),yield Ln.done,(!Qn||Qn.fid!==dt.fid)&&Xe(Ye,dt.fid),dt})).apply(this,arguments)}function vt(Ye){return it.apply(this,arguments)}function it(){return(it=(0,v.Z)(function*(Ye){const dt=Ge(Ye),hn=(yield un()).transaction(Qt,"readwrite");yield hn.objectStore(Qt).delete(dt),yield hn.done})).apply(this,arguments)}function He(Ye,dt){return ze.apply(this,arguments)}function ze(){return(ze=(0,v.Z)(function*(Ye,dt){const Ht=Ge(Ye),Ln=(yield un()).transaction(Qt,"readwrite"),Gn=Ln.objectStore(Qt),Qn=yield Gn.get(Ht),Ci=dt(Qn);return void 0===Ci?yield Gn.delete(Ht):yield Gn.put(Ci,Ht),yield Ln.done,Ci&&(!Qn||Qn.fid!==Ci.fid)&&Xe(Ye,Ci.fid),Ci})).apply(this,arguments)}function st(Ye){return at.apply(this,arguments)}function at(){return at=(0,v.Z)(function*(Ye){let dt;const Ht=yield He(Ye.appConfig,hn=>{const Ln=function St(Ye){return In(Ye||{fid:xe(),registrationStatus:0})}(hn),Gn=function bt(Ye,dt){if(0===dt.registrationStatus){if(!navigator.onLine)return{installationEntry:dt,registrationPromise:Promise.reject(Te.create("app-offline"))};const Ht={fid:dt.fid,registrationStatus:1,registrationTime:Date.now()},hn=function xt(Ye,dt){return on.apply(this,arguments)}(Ye,Ht);return{installationEntry:Ht,registrationPromise:hn}}return 1===dt.registrationStatus?{installationEntry:dt,registrationPromise:En(Ye)}:{installationEntry:dt}}(Ye,Ln);return dt=Gn.registrationPromise,Gn.installationEntry});return Ht.fid===_e?{installationEntry:yield dt}:{installationEntry:Ht,registrationPromise:dt}}),at.apply(this,arguments)}function on(){return on=(0,v.Z)(function*(Ye,dt){try{const Ht=yield function X(Ye,dt){return $.apply(this,arguments)}(Ye,dt);return fn(Ye.appConfig,Ht)}catch(Ht){throw Oe(Ht)&&409===Ht.customData.serverCode?yield vt(Ye.appConfig):yield fn(Ye.appConfig,{fid:dt.fid,registrationStatus:0}),Ht}}),on.apply(this,arguments)}function En(Ye){return tn.apply(this,arguments)}function tn(){return(tn=(0,v.Z)(function*(Ye){let dt=yield Mn(Ye.appConfig);for(;1===dt.registrationStatus;)yield re(100),dt=yield Mn(Ye.appConfig);if(0===dt.registrationStatus){const{installationEntry:Ht,registrationPromise:hn}=yield st(Ye);return hn||Ht}return dt})).apply(this,arguments)}function Mn(Ye){return He(Ye,dt=>{if(!dt)throw Te.create("installation-not-found");return In(dt)})}function In(Ye){return function Nn(Ye){return 1===Ye.registrationStatus&&Ye.registrationTime+ge<Date.now()}(Ye)?{fid:Ye.fid,registrationStatus:0}:Ye}function ni(){return(ni=(0,v.Z)(function*({appConfig:Ye,heartbeatServiceProvider:dt},Ht){const hn=function vn(Ye,{fid:dt}){return`${je(Ye)}/${dt}/authTokens:generate`}(Ye,Ht),Ln=function Q(Ye,{refreshToken:dt}){const Ht=be(Ye);return Ht.append("Authorization",function ee(Ye){return`${Ce} ${Ye}`}(dt)),Ht}(Ye,Ht),Gn=dt.getImmediate({optional:!0});if(Gn){const Li=yield Gn.getHeartbeatsHeader();Li&&Ln.append("x-firebase-client",Li)}const Ci={method:"POST",headers:Ln,body:JSON.stringify({installation:{sdkVersion:Ie,appId:Ye.appId}})},Zt=yield ie(()=>fetch(hn,Ci));if(Zt.ok)return ft(yield Zt.json());throw yield Ze("Generate Auth Token",Zt)})).apply(this,arguments)}function pn(Ye){return yn.apply(this,arguments)}function yn(){return yn=(0,v.Z)(function*(Ye,dt=!1){let Ht;const hn=yield He(Ye.appConfig,Gn=>{if(!qe(Gn))throw Te.create("not-registered");const Qn=Gn.authToken;if(!dt&&function Ct(Ye){return 2===Ye.requestStatus&&!function Jt(Ye){const dt=Date.now();return dt<Ye.creationTime||Ye.creationTime+Ye.expiresIn<dt+Ae}(Ye)}(Qn))return Gn;if(1===Qn.requestStatus)return Ht=function mn(Ye,dt){return _n.apply(this,arguments)}(Ye,dt),Gn;{if(!navigator.onLine)throw Te.create("app-offline");const Ci=function Rt(Ye){const dt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ye),{authToken:dt})}(Gn);return Ht=function ht(Ye,dt){return Tn.apply(this,arguments)}(Ye,Ci),Ci}});return Ht?yield Ht:hn.authToken}),yn.apply(this,arguments)}function _n(){return(_n=(0,v.Z)(function*(Ye,dt){let Ht=yield At(Ye.appConfig);for(;1===Ht.authToken.requestStatus;)yield re(100),Ht=yield At(Ye.appConfig);const hn=Ht.authToken;return 0===hn.requestStatus?pn(Ye,dt):hn})).apply(this,arguments)}function At(Ye){return He(Ye,dt=>{if(!qe(dt))throw Te.create("not-registered");return function xn(Ye){return 1===Ye.requestStatus&&Ye.requestTime+ge<Date.now()}(dt.authToken)?Object.assign(Object.assign({},dt),{authToken:{requestStatus:0}}):dt})}function Tn(){return Tn=(0,v.Z)(function*(Ye,dt){try{const Ht=yield function $n(Ye,dt){return ni.apply(this,arguments)}(Ye,dt),hn=Object.assign(Object.assign({},dt),{authToken:Ht});return yield fn(Ye.appConfig,hn),Ht}catch(Ht){if(!Oe(Ht)||401!==Ht.customData.serverCode&&404!==Ht.customData.serverCode){const hn=Object.assign(Object.assign({},dt),{authToken:{requestStatus:0}});yield fn(Ye.appConfig,hn)}else yield vt(Ye.appConfig);throw Ht}}),Tn.apply(this,arguments)}function qe(Ye){return void 0!==Ye&&2===Ye.registrationStatus}function It(){return(It=(0,v.Z)(function*(Ye){const dt=Ye,{installationEntry:Ht,registrationPromise:hn}=yield st(dt);return hn?hn.catch(console.error):pn(dt).catch(console.error),Ht.fid})).apply(this,arguments)}function en(){return en=(0,v.Z)(function*(Ye,dt=!1){const Ht=Ye;return yield function An(Ye){return Kn.apply(this,arguments)}(Ht),(yield pn(Ht,dt)).token}),en.apply(this,arguments)}function Kn(){return(Kn=(0,v.Z)(function*(Ye){const{registrationPromise:dt}=yield st(Ye);dt&&(yield dt)})).apply(this,arguments)}function vi(Ye){return Te.create("missing-app-config-values",{valueName:Ye})}const vr="installations",Hr=Ye=>{const dt=Ye.getProvider("app").getImmediate(),Ht=function Fn(Ye){if(!Ye||!Ye.options)throw vi("App Configuration");if(!Ye.name)throw vi("App Name");const dt=["projectId","apiKey","appId"];for(const Ht of dt)if(!Ye.options[Ht])throw vi(Ht);return{appName:Ye.name,projectId:Ye.options.projectId,apiKey:Ye.options.apiKey,appId:Ye.options.appId}}(dt);return{app:dt,appConfig:Ht,heartbeatServiceProvider:(0,b._getProvider)(dt,"heartbeat"),_delete:()=>Promise.resolve()}},Fi=Ye=>{const dt=Ye.getProvider("app").getImmediate(),Ht=(0,b._getProvider)(dt,vr).getImmediate();return{getId:()=>function kt(Ye){return It.apply(this,arguments)}(Ht),getToken:Ln=>function Nt(Ye){return en.apply(this,arguments)}(Ht,Ln)}};(function Pi(){(0,b._registerComponent)(new P.wA(vr,Hr,"PUBLIC")),(0,b._registerComponent)(new P.wA("installations-internal",Fi,"PRIVATE"))})(),(0,b.registerVersion)(Se,ce),(0,b.registerVersion)(Se,ce,"esm2017");const Ko="@firebase/remote-config",ir=new g.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hi{constructor(dt,Ht,hn,Ln){this.client=dt,this.storage=Ht,this.storageCache=hn,this.logger=Ln}isCachedDataFresh(dt,Ht){if(!Ht)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const hn=Date.now()-Ht,Ln=hn<=dt;return this.logger.debug(`Config fetch cache check. Cache age millis: ${hn}. Cache max age millis (minimumFetchIntervalMillis setting): ${dt}. Is cache hit: ${Ln}.`),Ln}fetch(dt){var Ht=this;return(0,v.Z)(function*(){const[hn,Ln]=yield Promise.all([Ht.storage.getLastSuccessfulFetchTimestampMillis(),Ht.storage.getLastSuccessfulFetchResponse()]);if(Ln&&Ht.isCachedDataFresh(dt.cacheMaxAgeMillis,hn))return Ln;dt.eTag=Ln&&Ln.eTag;const Gn=yield Ht.client.fetch(dt),Qn=[Ht.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Gn.status&&Qn.push(Ht.storage.setLastSuccessfulFetchResponse(Gn)),yield Promise.all(Qn),Gn})()}}function Qi(Ye=navigator){return Ye.languages&&Ye.languages[0]||Ye.language}class sr{constructor(dt,Ht,hn,Ln,Gn,Qn){this.firebaseInstallations=dt,this.sdkVersion=Ht,this.namespace=hn,this.projectId=Ln,this.apiKey=Gn,this.appId=Qn}fetch(dt){var Ht=this;return(0,v.Z)(function*(){const[hn,Ln]=yield Promise.all([Ht.firebaseInstallations.getId(),Ht.firebaseInstallations.getToken()]),Qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ht.projectId}/namespaces/${Ht.namespace}:fetch?key=${Ht.apiKey}`,Ci={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":dt.eTag||"*"},Zt={sdk_version:Ht.sdkVersion,app_instance_id:hn,app_instance_id_token:Ln,app_id:Ht.appId,language_code:Qi()},Li={method:"POST",headers:Ci,body:JSON.stringify(Zt)},qi=fetch(Qn,Li),dr=new Promise((bo,qs)=>{dt.signal.addEventListener(()=>{const Mc=new Error("The operation was aborted.");Mc.name="AbortError",qs(Mc)})});let ps;try{yield Promise.race([qi,dr]),ps=yield qi}catch(bo){let qs="fetch-client-network";throw"AbortError"===bo?.name&&(qs="fetch-timeout"),ir.create(qs,{originalErrorMessage:bo?.message})}let Ho=ps.status;const Dc=ps.headers.get("ETag")||void 0;let al,rc;if(200===ps.status){let bo;try{bo=yield ps.json()}catch(qs){throw ir.create("fetch-client-parse",{originalErrorMessage:qs?.message})}al=bo.entries,rc=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===rc?Ho=500:"NO_CHANGE"===rc?Ho=304:("NO_TEMPLATE"===rc||"EMPTY_CONFIG"===rc)&&(al={}),304!==Ho&&200!==Ho)throw ir.create("fetch-status",{httpStatus:Ho});return{status:Ho,eTag:Dc,config:al}})()}}class Io{constructor(dt,Ht){this.client=dt,this.storage=Ht}fetch(dt){var Ht=this;return(0,v.Z)(function*(){const hn=(yield Ht.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ht.attemptFetch(dt,hn)})()}attemptFetch(dt,{throttleEndTimeMillis:Ht,backoffCount:hn}){var Ln=this;return(0,v.Z)(function*(){yield function Wi(Ye,dt){return new Promise((Ht,hn)=>{const Ln=Math.max(dt-Date.now(),0),Gn=setTimeout(Ht,Ln);Ye.addEventListener(()=>{clearTimeout(Gn),hn(ir.create("fetch-throttle",{throttleEndTimeMillis:dt}))})})}(dt.signal,Ht);try{const Gn=yield Ln.client.fetch(dt);return yield Ln.storage.deleteThrottleMetadata(),Gn}catch(Gn){if(!function Ir(Ye){if(!(Ye instanceof g.ZR&&Ye.customData))return!1;const dt=Number(Ye.customData.httpStatus);return 429===dt||500===dt||503===dt||504===dt}(Gn))throw Gn;const Qn={throttleEndTimeMillis:Date.now()+(0,g.$s)(hn),backoffCount:hn+1};return yield Ln.storage.setThrottleMetadata(Qn),Ln.attemptFetch(dt,Qn)}})()}}class js{constructor(dt,Ht,hn,Ln,Gn){this.app=dt,this._client=Ht,this._storageCache=hn,this._storage=Ln,this._logger=Gn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function eo(Ye,dt){const Ht=Ye.target.error||void 0;return ir.create(dt,{originalErrorMessage:Ht&&Ht?.message})}const _o="app_namespace_store";class Ha{constructor(dt,Ht,hn,Ln=function cr(){return new Promise((Ye,dt)=>{try{const Ht=indexedDB.open("firebase_remote_config",1);Ht.onerror=hn=>{dt(eo(hn,"storage-open"))},Ht.onsuccess=hn=>{Ye(hn.target.result)},Ht.onupgradeneeded=hn=>{0===hn.oldVersion&&hn.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(Ht){dt(ir.create("storage-open",{originalErrorMessage:Ht?.message}))}})}()){this.appId=dt,this.appName=Ht,this.namespace=hn,this.openDbPromise=Ln}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(dt){return this.set("last_fetch_status",dt)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(dt){return this.set("last_successful_fetch_timestamp_millis",dt)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(dt){return this.set("last_successful_fetch_response",dt)}getActiveConfig(){return this.get("active_config")}setActiveConfig(dt){return this.set("active_config",dt)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(dt){return this.set("active_config_etag",dt)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(dt){return this.set("throttle_metadata",dt)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(dt){var Ht=this;return(0,v.Z)(function*(){const hn=yield Ht.openDbPromise;return new Promise((Ln,Gn)=>{const Ci=hn.transaction([_o],"readonly").objectStore(_o),Zt=Ht.createCompositeKey(dt);try{const Li=Ci.get(Zt);Li.onerror=qi=>{Gn(eo(qi,"storage-get"))},Li.onsuccess=qi=>{const dr=qi.target.result;Ln(dr?dr.value:void 0)}}catch(Li){Gn(ir.create("storage-get",{originalErrorMessage:Li?.message}))}})})()}set(dt,Ht){var hn=this;return(0,v.Z)(function*(){const Ln=yield hn.openDbPromise;return new Promise((Gn,Qn)=>{const Zt=Ln.transaction([_o],"readwrite").objectStore(_o),Li=hn.createCompositeKey(dt);try{const qi=Zt.put({compositeKey:Li,value:Ht});qi.onerror=dr=>{Qn(eo(dr,"storage-set"))},qi.onsuccess=()=>{Gn()}}catch(qi){Qn(ir.create("storage-set",{originalErrorMessage:qi?.message}))}})})()}delete(dt){var Ht=this;return(0,v.Z)(function*(){const hn=yield Ht.openDbPromise;return new Promise((Ln,Gn)=>{const Ci=hn.transaction([_o],"readwrite").objectStore(_o),Zt=Ht.createCompositeKey(dt);try{const Li=Ci.delete(Zt);Li.onerror=qi=>{Gn(eo(qi,"storage-delete"))},Li.onsuccess=()=>{Ln()}}catch(Li){Gn(ir.create("storage-delete",{originalErrorMessage:Li?.message}))}})})()}createCompositeKey(dt){return[this.appId,this.appName,this.namespace,dt].join()}}class Xo{constructor(dt){this.storage=dt}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var dt=this;return(0,v.Z)(function*(){const Ht=dt.storage.getLastFetchStatus(),hn=dt.storage.getLastSuccessfulFetchTimestampMillis(),Ln=dt.storage.getActiveConfig(),Gn=yield Ht;Gn&&(dt.lastFetchStatus=Gn);const Qn=yield hn;Qn&&(dt.lastSuccessfulFetchTimestampMillis=Qn);const Ci=yield Ln;Ci&&(dt.activeConfig=Ci)})()}setLastFetchStatus(dt){return this.lastFetchStatus=dt,this.storage.setLastFetchStatus(dt)}setLastSuccessfulFetchTimestampMillis(dt){return this.lastSuccessfulFetchTimestampMillis=dt,this.storage.setLastSuccessfulFetchTimestampMillis(dt)}setActiveConfig(dt){return this.activeConfig=dt,this.storage.setActiveConfig(dt)}}function xs(){return Is.apply(this,arguments)}function Is(){return(Is=(0,v.Z)(function*(){if(!(0,g.hl)())return!1;try{return yield(0,g.eu)()}catch{return!1}})).apply(this,arguments)}!function Vs(){(0,b._registerComponent)(new P.wA("remote-config",function Ye(dt,{instanceIdentifier:Ht}){const hn=dt.getProvider("app").getImmediate(),Ln=dt.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ir.create("registration-window");if(!(0,g.hl)())throw ir.create("indexed-db-unavailable");const{projectId:Gn,apiKey:Qn,appId:Ci}=hn.options;if(!Gn)throw ir.create("registration-project-id");if(!Qn)throw ir.create("registration-api-key");if(!Ci)throw ir.create("registration-app-id");const Zt=new Ha(Ci,hn.name,Ht=Ht||"firebase"),Li=new Xo(Zt),qi=new D.Yd(Ko);qi.logLevel=D.in.ERROR;const dr=new sr(Ln,b.SDK_VERSION,Ht,Gn,Qn,Ci),ps=new Io(dr,Zt),Ho=new Hi(ps,Zt,Li,qi),Dc=new js(hn,Ho,Li,Zt,qi);return function $i(Ye){const dt=(0,g.m9)(Ye);dt._initializePromise||(dt._initializePromise=dt._storageCache.loadFromStorage().then(()=>{dt._isInitializationComplete=!0}))}(Dc),Dc},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Ko,"0.4.4"),(0,b.registerVersion)(Ko,"0.4.4","esm2017")}();const Wr=(Ye,dt)=>dt.some(Ht=>Ye instanceof Ht);let hr,Sr;const Mo=new WeakMap,Fr=new WeakMap,mr=new WeakMap,Fo=new WeakMap,Ks=new WeakMap;let Yo={get(Ye,dt,Ht){if(Ye instanceof IDBTransaction){if("done"===dt)return Fr.get(Ye);if("objectStoreNames"===dt)return Ye.objectStoreNames||mr.get(Ye);if("store"===dt)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return vo(Ye[dt])},set:(Ye,dt,Ht)=>(Ye[dt]=Ht,!0),has:(Ye,dt)=>Ye instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in Ye};function Ns(Ye){return"function"==typeof Ye?function Aa(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fa(){return Sr||(Sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...dt){return Ye.apply(Ls(this),dt),vo(Mo.get(this))}:function(...dt){return vo(Ye.apply(Ls(this),dt))}:function(dt,...Ht){const hn=Ye.call(Ls(this),dt,...Ht);return mr.set(hn,dt.sort?dt.sort():[dt]),vo(hn)}}(Ye):(Ye instanceof IDBTransaction&&function ys(Ye){if(Fr.has(Ye))return;const dt=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("complete",Gn),Ye.removeEventListener("error",Qn),Ye.removeEventListener("abort",Qn)},Gn=()=>{Ht(),Ln()},Qn=()=>{hn(Ye.error||new DOMException("AbortError","AbortError")),Ln()};Ye.addEventListener("complete",Gn),Ye.addEventListener("error",Qn),Ye.addEventListener("abort",Qn)});Fr.set(Ye,dt)}(Ye),Wr(Ye,function io(){return hr||(hr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,Yo):Ye)}function vo(Ye){if(Ye instanceof IDBRequest)return function pr(Ye){const dt=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("success",Gn),Ye.removeEventListener("error",Qn)},Gn=()=>{Ht(vo(Ye.result)),Ln()},Qn=()=>{hn(Ye.error),Ln()};Ye.addEventListener("success",Gn),Ye.addEventListener("error",Qn)});return dt.then(Ht=>{Ht instanceof IDBCursor&&Mo.set(Ht,Ye)}).catch(()=>{}),Ks.set(dt,Ye),dt}(Ye);if(Fo.has(Ye))return Fo.get(Ye);const dt=Ns(Ye);return dt!==Ye&&(Fo.set(Ye,dt),Ks.set(dt,Ye)),dt}const Ls=Ye=>Ks.get(Ye);function es(Ye,dt,{blocked:Ht,upgrade:hn,blocking:Ln,terminated:Gn}={}){const Qn=indexedDB.open(Ye,dt),Ci=vo(Qn);return hn&&Qn.addEventListener("upgradeneeded",Zt=>{hn(vo(Qn.result),Zt.oldVersion,Zt.newVersion,vo(Qn.transaction))}),Ht&&Qn.addEventListener("blocked",()=>Ht()),Ci.then(Zt=>{Gn&&Zt.addEventListener("close",()=>Gn()),Ln&&Zt.addEventListener("versionchange",()=>Ln())}).catch(()=>{}),Ci}function ha(Ye,{blocked:dt}={}){const Ht=indexedDB.deleteDatabase(Ye);return dt&&Ht.addEventListener("blocked",()=>dt()),vo(Ht).then(()=>{})}const xa=["get","getKey","getAll","getAllKeys","count"],Ws=["put","add","delete","clear"],Br=new Map;function Uo(Ye,dt){if(!(Ye instanceof IDBDatabase)||dt in Ye||"string"!=typeof dt)return;if(Br.get(dt))return Br.get(dt);const Ht=dt.replace(/FromIndex$/,""),hn=dt!==Ht,Ln=Ws.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!xa.includes(Ht))return;const Gn=function(){var Qn=(0,v.Z)(function*(Ci,...Zt){const Li=this.transaction(Ci,Ln?"readwrite":"readonly");let qi=Li.store;return hn&&(qi=qi.index(Zt.shift())),(yield Promise.all([qi[Ht](...Zt),Ln&&Li.done]))[0]});return function(Zt){return Qn.apply(this,arguments)}}();return Br.set(dt,Gn),Gn}!function ws(Ye){Yo=Ye(Yo)}(Ye=>({...Ye,get:(dt,Ht,hn)=>Uo(dt,Ht)||Ye.get(dt,Ht,hn),has:(dt,Ht)=>!!Uo(dt,Ht)||Ye.has(dt,Ht)}));const ls="/firebase-messaging-sw.js",ta="/firebase-cloud-messaging-push-scope",ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bs="https://fcmregistrations.googleapis.com/v1",Ia="google.c.a.c_id",Ur="google.c.a.c_l",kn="google.c.a.ts";var ut=function(Ye){return Ye.PUSH_RECEIVED="push-received",Ye.NOTIFICATION_CLICKED="notification-clicked",Ye}(ut||{});function $t(Ye){const dt=new Uint8Array(Ye);return btoa(String.fromCharCode(...dt)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wn(Ye){const Ht=(Ye+"=".repeat((4-Ye.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),hn=atob(Ht),Ln=new Uint8Array(hn.length);for(let Gn=0;Gn<hn.length;++Gn)Ln[Gn]=hn.charCodeAt(Gn);return Ln}const Ti="fcm_token_details_db",Zi=5,zo="fcm_token_object_Store";function Es(){return Es=(0,v.Z)(function*(Ye){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Gn=>Gn.name).includes(Ti))return null;let dt=null;return(yield es(Ti,Zi,{upgrade:(hn=(0,v.Z)(function*(Ln,Gn,Qn,Ci){var Zt;if(Gn<2||!Ln.objectStoreNames.contains(zo))return;const Li=Ci.objectStore(zo),qi=yield Li.index("fcmSenderId").get(Ye);if(yield Li.clear(),qi)if(2===Gn){const dr=qi;if(!dr.auth||!dr.p256dh||!dr.endpoint)return;dt={token:dr.fcmToken,createTime:null!==(Zt=dr.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:dr.auth,p256dh:dr.p256dh,endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:"string"==typeof dr.vapidKey?dr.vapidKey:$t(dr.vapidKey)}}}else if(3===Gn){const dr=qi;dt={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:$t(dr.auth),p256dh:$t(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:$t(dr.vapidKey)}}}else if(4===Gn){const dr=qi;dt={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:$t(dr.auth),p256dh:$t(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:$t(dr.vapidKey)}}}}),function(Gn,Qn,Ci,Zt){return hn.apply(this,arguments)})})).close(),yield ha(Ti),yield ha("fcm_vapid_details_db"),yield ha("undefined"),function si(Ye){if(!Ye||!Ye.subscriptionOptions)return!1;const{subscriptionOptions:dt}=Ye;return"number"==typeof Ye.createTime&&Ye.createTime>0&&"string"==typeof Ye.token&&Ye.token.length>0&&"string"==typeof dt.auth&&dt.auth.length>0&&"string"==typeof dt.p256dh&&dt.p256dh.length>0&&"string"==typeof dt.endpoint&&dt.endpoint.length>0&&"string"==typeof dt.swScope&&dt.swScope.length>0&&"string"==typeof dt.vapidKey&&dt.vapidKey.length>0}(dt)?dt:null;var hn}),Es.apply(this,arguments)}const Os="firebase-messaging-database",to=1,cs="firebase-messaging-store";let dl=null;function ma(){return dl||(dl=es(Os,to,{upgrade:(Ye,dt)=>{0===dt&&Ye.createObjectStore(cs)}})),dl}function wa(Ye){return na.apply(this,arguments)}function na(){return na=(0,v.Z)(function*(Ye){const dt=fl(Ye),hn=yield(yield ma()).transaction(cs).objectStore(cs).get(dt);if(hn)return hn;{const Ln=yield function ts(Ye){return Es.apply(this,arguments)}(Ye.appConfig.senderId);if(Ln)return yield ds(Ye,Ln),Ln}}),na.apply(this,arguments)}function ds(Ye,dt){return ul.apply(this,arguments)}function ul(){return(ul=(0,v.Z)(function*(Ye,dt){const Ht=fl(Ye),Ln=(yield ma()).transaction(cs,"readwrite");return yield Ln.objectStore(cs).put(dt,Ht),yield Ln.done,dt})).apply(this,arguments)}function pa(){return(pa=(0,v.Z)(function*(Ye){const dt=fl(Ye),hn=(yield ma()).transaction(cs,"readwrite");yield hn.objectStore(cs).delete(dt),yield hn.done})).apply(this,arguments)}function fl({appConfig:Ye}){return Ye.appId}const wo=new g.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zc(Ye,dt){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,v.Z)(function*(Ye,dt){const Ht=yield _a(Ye),hn=gl(dt),Ln={method:"POST",headers:Ht,body:JSON.stringify(hn)};let Gn;try{Gn=yield(yield fetch(ml(Ye.appConfig),Ln)).json()}catch(Qn){throw wo.create("token-subscribe-failed",{errorInfo:Qn?.toString()})}if(Gn.error)throw wo.create("token-subscribe-failed",{errorInfo:Gn.error.message});if(!Gn.token)throw wo.create("token-subscribe-no-token");return Gn.token})).apply(this,arguments)}function ja(){return(ja=(0,v.Z)(function*(Ye,dt){const Ht=yield _a(Ye),hn=gl(dt.subscriptionOptions),Ln={method:"PATCH",headers:Ht,body:JSON.stringify(hn)};let Gn;try{Gn=yield(yield fetch(`${ml(Ye.appConfig)}/${dt.token}`,Ln)).json()}catch(Qn){throw wo.create("token-update-failed",{errorInfo:Qn?.toString()})}if(Gn.error)throw wo.create("token-update-failed",{errorInfo:Gn.error.message});if(!Gn.token)throw wo.create("token-update-no-token");return Gn.token})).apply(this,arguments)}function hl(Ye,dt){return ga.apply(this,arguments)}function ga(){return(ga=(0,v.Z)(function*(Ye,dt){const hn={method:"DELETE",headers:yield _a(Ye)};try{const Gn=yield(yield fetch(`${ml(Ye.appConfig)}/${dt}`,hn)).json();if(Gn.error)throw wo.create("token-unsubscribe-failed",{errorInfo:Gn.error.message})}catch(Ln){throw wo.create("token-unsubscribe-failed",{errorInfo:Ln?.toString()})}})).apply(this,arguments)}function ml({projectId:Ye}){return`${bs}/projects/${Ye}/registrations`}function _a(Ye){return pl.apply(this,arguments)}function pl(){return(pl=(0,v.Z)(function*({appConfig:Ye,installations:dt}){const Ht=yield dt.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ye.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ht}`})})).apply(this,arguments)}function gl({p256dh:Ye,auth:dt,endpoint:Ht,vapidKey:hn}){const Ln={web:{endpoint:Ht,auth:dt,p256dh:Ye}};return hn!==ks&&(Ln.web.applicationPubKey=hn),Ln}const uc=6048e5;function nl(){return nl=(0,v.Z)(function*(Ye){const dt=yield function Va(Ye,dt){return $e.apply(this,arguments)}(Ye.swRegistration,Ye.vapidKey),Ht={vapidKey:Ye.vapidKey,swScope:Ye.swRegistration.scope,endpoint:dt.endpoint,auth:$t(dt.getKey("auth")),p256dh:$t(dt.getKey("p256dh"))},hn=yield wa(Ye.firebaseDependencies);if(hn){if(function Yt(Ye,dt){return dt.vapidKey===Ye.vapidKey&&dt.endpoint===Ye.endpoint&&dt.auth===Ye.auth&&dt.p256dh===Ye.p256dh}(hn.subscriptionOptions,Ht))return Date.now()>=hn.createTime+uc?function Ts(Ye,dt){return Ra.apply(this,arguments)}(Ye,{token:hn.token,createTime:Date.now(),subscriptionOptions:Ht}):hn.token;try{yield hl(Ye.firebaseDependencies,hn.token)}catch(Ln){console.warn(Ln)}return Ss(Ye.firebaseDependencies,Ht)}return Ss(Ye.firebaseDependencies,Ht)}),nl.apply(this,arguments)}function Ol(){return Ol=(0,v.Z)(function*(Ye){const dt=yield wa(Ye.firebaseDependencies);dt&&(yield hl(Ye.firebaseDependencies,dt.token),yield function wl(Ye){return pa.apply(this,arguments)}(Ye.firebaseDependencies));const Ht=yield Ye.swRegistration.pushManager.getSubscription();return!Ht||Ht.unsubscribe()}),Ol.apply(this,arguments)}function Ra(){return Ra=(0,v.Z)(function*(Ye,dt){try{const Ht=yield function dc(Ye,dt){return ja.apply(this,arguments)}(Ye.firebaseDependencies,dt),hn=Object.assign(Object.assign({},dt),{token:Ht,createTime:Date.now()});return yield ds(Ye.firebaseDependencies,hn),Ht}catch(Ht){throw yield function _l(Ye){return Ol.apply(this,arguments)}(Ye),Ht}}),Ra.apply(this,arguments)}function Ss(Ye,dt){return or.apply(this,arguments)}function or(){return(or=(0,v.Z)(function*(Ye,dt){const hn={token:yield zc(Ye,dt),createTime:Date.now(),subscriptionOptions:dt};return yield ds(Ye,hn),hn.token})).apply(this,arguments)}function $e(){return($e=(0,v.Z)(function*(Ye,dt){return(yield Ye.pushManager.getSubscription())||Ye.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wn(dt)})})).apply(this,arguments)}function mt(Ye){const dt={from:Ye.from,collapseKey:Ye.collapse_key,messageId:Ye.fcmMessageId};return function Vt(Ye,dt){if(!dt.notification)return;Ye.notification={};const Ht=dt.notification.title;Ht&&(Ye.notification.title=Ht);const hn=dt.notification.body;hn&&(Ye.notification.body=hn);const Ln=dt.notification.image;Ln&&(Ye.notification.image=Ln);const Gn=dt.notification.icon;Gn&&(Ye.notification.icon=Gn)}(dt,Ye),function Sn(Ye,dt){dt.data&&(Ye.data=dt.data)}(dt,Ye),function Zn(Ye,dt){var Ht,hn,Ln,Gn,Qn;if(!(dt.fcmOptions||null!==(Ht=dt.notification)&&void 0!==Ht&&Ht.click_action))return;Ye.fcmOptions={};const Ci=null!==(Ln=null===(hn=dt.fcmOptions)||void 0===hn?void 0:hn.link)&&void 0!==Ln?Ln:null===(Gn=dt.notification)||void 0===Gn?void 0:Gn.click_action;Ci&&(Ye.fcmOptions.link=Ci);const Zt=null===(Qn=dt.fcmOptions)||void 0===Qn?void 0:Qn.analytics_label;Zt&&(Ye.fcmOptions.analyticsLabel=Zt)}(dt,Ye),dt}function Bi(Ye,dt){const Ht=[];for(let hn=0;hn<Ye.length;hn++)Ht.push(Ye.charAt(hn)),hn<dt.length&&Ht.push(dt.charAt(hn));return Ht.join("")}function gr(Ye){return wo.create("missing-app-config-values",{valueName:Ye})}Bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ur{constructor(dt,Ht,hn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ln=function Rr(Ye){if(!Ye||!Ye.options)throw gr("App Configuration Object");if(!Ye.name)throw gr("App Name");const dt=["projectId","apiKey","appId","messagingSenderId"],{options:Ht}=Ye;for(const hn of dt)if(!Ht[hn])throw gr(hn);return{appName:Ye.name,projectId:Ht.projectId,apiKey:Ht.apiKey,appId:Ht.appId,senderId:Ht.messagingSenderId}}(dt);this.firebaseDependencies={app:dt,appConfig:Ln,installations:Ht,analyticsProvider:hn}}_delete(){return Promise.resolve()}}function uo(){return(uo=(0,v.Z)(function*(Ye){try{Ye.swRegistration=yield navigator.serviceWorker.register(ls,{scope:ta}),Ye.swRegistration.update().catch(()=>{})}catch(dt){throw wo.create("failed-service-worker-registration",{browserErrorMessage:dt?.message})}})).apply(this,arguments)}function _r(){return(_r=(0,v.Z)(function*(Ye,dt){if(!dt&&!Ye.swRegistration&&(yield function nr(Ye){return uo.apply(this,arguments)}(Ye)),dt||!Ye.swRegistration){if(!(dt instanceof ServiceWorkerRegistration))throw wo.create("invalid-sw-registration");Ye.swRegistration=dt}})).apply(this,arguments)}function Vi(){return(Vi=(0,v.Z)(function*(Ye,dt){dt?Ye.vapidKey=dt:Ye.vapidKey||(Ye.vapidKey=ks)})).apply(this,arguments)}function no(){return no=(0,v.Z)(function*(Ye,dt){if(!navigator)throw wo.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wo.create("permission-blocked");return yield function ns(Ye,dt){return Vi.apply(this,arguments)}(Ye,dt?.vapidKey),yield function Nr(Ye,dt){return _r.apply(this,arguments)}(Ye,dt?.serviceWorkerRegistration),function va(Ye){return nl.apply(this,arguments)}(Ye)}),no.apply(this,arguments)}function Ys(){return(Ys=(0,v.Z)(function*(Ye,dt,Ht){const hn=function ia(Ye){switch(Ye){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(dt);(yield Ye.firebaseDependencies.analyticsProvider.get()).logEvent(hn,{message_id:Ht[Ia],message_name:Ht[Ur],message_time:Ht[kn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ra(){return ra=(0,v.Z)(function*(Ye,dt){const Ht=dt.data;if(!Ht.isFirebaseMessaging)return;Ye.onMessageHandler&&Ht.messageType===ut.PUSH_RECEIVED&&("function"==typeof Ye.onMessageHandler?Ye.onMessageHandler(mt(Ht)):Ye.onMessageHandler.next(mt(Ht)));const hn=Ht.data;(function ai(Ye){return"object"==typeof Ye&&!!Ye&&Ia in Ye})(hn)&&"1"===hn["google.c.a.e"]&&(yield function Cs(Ye,dt,Ht){return Ys.apply(this,arguments)}(Ye,Ht.messageType,hn))}),ra.apply(this,arguments)}const Pl="@firebase/messaging",Ka=Ye=>{const dt=new ur(Ye.getProvider("app").getImmediate(),Ye.getProvider("installations-internal").getImmediate(),Ye.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ht=>function ya(Ye,dt){return ra.apply(this,arguments)}(dt,Ht)),dt},Ds=Ye=>{const dt=Ye.getProvider("messaging").getImmediate();return{getToken:hn=>function Jr(Ye,dt){return no.apply(this,arguments)}(dt,hn)}};function di(){return ar.apply(this,arguments)}function ar(){return(ar=(0,v.Z)(function*(){try{yield(0,g.eu)()}catch{return!1}return typeof window<"u"&&(0,g.hl)()&&(0,g.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fc(){(0,b._registerComponent)(new P.wA("messaging",Ka,"PUBLIC")),(0,b._registerComponent)(new P.wA("messaging-internal",Ds,"PRIVATE")),(0,b.registerVersion)(Pl,"0.12.4"),(0,b.registerVersion)(Pl,"0.12.4","esm2017")}();const Rl="analytics",Ea="firebase_id",us="origin",Zo=6e4,oa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yl="https://www.googletagmanager.com/gtag/js",po=new D.Yd("@firebase/analytics"),Bo=new g.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rl(Ye){if(!Ye.startsWith(yl)){const dt=Bo.create("invalid-gtag-resource",{gtagURL:Ye});return po.warn(dt.message),""}return Ye}function Ta(Ye){return Promise.all(Ye.map(dt=>dt.catch(Ht=>Ht)))}function El(){return(El=(0,v.Z)(function*(Ye,dt,Ht,hn,Ln,Gn){const Qn=hn[Ln];try{if(Qn)yield dt[Qn];else{const Zt=(yield Ta(Ht)).find(Li=>Li.measurementId===Ln);Zt&&(yield dt[Zt.appId])}}catch(Ci){po.error(Ci)}Ye("config",Ln,Gn)})).apply(this,arguments)}function zs(){return(zs=(0,v.Z)(function*(Ye,dt,Ht,hn,Ln){try{let Gn=[];if(Ln&&Ln.send_to){let Qn=Ln.send_to;Array.isArray(Qn)||(Qn=[Qn]);const Ci=yield Ta(Ht);for(const Zt of Qn){const Li=Ci.find(dr=>dr.measurementId===Zt),qi=Li&&dt[Li.appId];if(!qi){Gn=[];break}Gn.push(qi)}}0===Gn.length&&(Gn=Object.values(dt)),yield Promise.all(Gn),Ye("event",hn,Ln||{})}catch(Gn){po.error(Gn)}})).apply(this,arguments)}const pc=30,gc=new class Na{constructor(dt={},Ht=1e3){this.throttleMetadata=dt,this.intervalMillis=Ht}getThrottleMetadata(dt){return this.throttleMetadata[dt]}setThrottleMetadata(dt,Ht){this.throttleMetadata[dt]=Ht}deleteThrottleMetadata(dt){delete this.throttleMetadata[dt]}};function Wl(Ye){return new Headers({Accept:"application/json","x-goog-api-key":Ye})}function rt(){return(rt=(0,v.Z)(function*(Ye){var dt;const{appId:Ht,apiKey:hn}=Ye,Ln={method:"GET",headers:Wl(hn)},Gn=oa.replace("{app-id}",Ht),Qn=yield fetch(Gn,Ln);if(200!==Qn.status&&304!==Qn.status){let Ci="";try{const Zt=yield Qn.json();null!==(dt=Zt.error)&&void 0!==dt&&dt.message&&(Ci=Zt.error.message)}catch{}throw Bo.create("config-fetch-failed",{httpStatus:Qn.status,responseMessage:Ci})}return Qn.json()})).apply(this,arguments)}function nt(){return(nt=(0,v.Z)(function*(Ye,dt=gc,Ht){const{appId:hn,apiKey:Ln,measurementId:Gn}=Ye.options;if(!hn)throw Bo.create("no-app-id");if(!Ln){if(Gn)return{measurementId:Gn,appId:hn};throw Bo.create("no-api-key")}const Qn=dt.getThrottleMetadata(hn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ci=new pi;return setTimeout((0,v.Z)(function*(){Ci.abort()}),void 0!==Ht?Ht:Zo),Gt({appId:hn,apiKey:Ln,measurementId:Gn},Qn,Ci,dt)})).apply(this,arguments)}function Gt(Ye,dt,Ht){return sn.apply(this,arguments)}function sn(){return sn=(0,v.Z)(function*(Ye,{throttleEndTimeMillis:dt,backoffCount:Ht},hn,Ln=gc){var Gn;const{appId:Qn,measurementId:Ci}=Ye;try{yield function dn(Ye,dt){return new Promise((Ht,hn)=>{const Ln=Math.max(dt-Date.now(),0),Gn=setTimeout(Ht,Ln);Ye.addEventListener(()=>{clearTimeout(Gn),hn(Bo.create("fetch-throttle",{throttleEndTimeMillis:dt}))})})}(hn,dt)}catch(Zt){if(Ci)return po.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ci} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:Qn,measurementId:Ci};throw Zt}try{const Zt=yield function Ue(Ye){return rt.apply(this,arguments)}(Ye);return Ln.deleteThrottleMetadata(Qn),Zt}catch(Zt){const Li=Zt;if(!function Vn(Ye){if(!(Ye instanceof g.ZR&&Ye.customData))return!1;const dt=Number(Ye.customData.httpStatus);return 429===dt||500===dt||503===dt||504===dt}(Li)){if(Ln.deleteThrottleMetadata(Qn),Ci)return po.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ci} provided in the "measurementId" field in the local Firebase config. [${Li?.message}]`),{appId:Qn,measurementId:Ci};throw Zt}const qi=503===Number(null===(Gn=Li?.customData)||void 0===Gn?void 0:Gn.httpStatus)?(0,g.$s)(Ht,Ln.intervalMillis,pc):(0,g.$s)(Ht,Ln.intervalMillis),dr={throttleEndTimeMillis:Date.now()+qi,backoffCount:Ht+1};return Ln.setThrottleMetadata(Qn,dr),po.debug(`Calling attemptFetch again in ${qi} millis`),Gt(Ye,dr,hn,Ln)}}),sn.apply(this,arguments)}class pi{constructor(){this.listeners=[]}addEventListener(dt){this.listeners.push(dt)}abort(){this.listeners.forEach(dt=>dt())}}let Ri,_c;function br(){return(br=(0,v.Z)(function*(Ye,dt,Ht,hn,Ln){if(Ln&&Ln.global)Ye("event",Ht,hn);else{const Gn=yield dt;Ye("event",Ht,Object.assign(Object.assign({},hn),{send_to:Gn}))}})).apply(this,arguments)}function Nl(){return(Nl=(0,v.Z)(function*(){if(!(0,g.hl)())return po.warn(Bo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,g.eu)()}catch(Ye){return po.warn(Bo.create("indexeddb-unavailable",{errorInfo:Ye?.toString()}).message),!1}return!0})).apply(this,arguments)}function La(){return La=(0,v.Z)(function*(Ye,dt,Ht,hn,Ln,Gn,Qn){var Ci;const Zt=function Me(Ye){return nt.apply(this,arguments)}(Ye);Zt.then(Ho=>{Ht[Ho.measurementId]=Ho.appId,Ye.options.measurementId&&Ho.measurementId!==Ye.options.measurementId&&po.warn(`The measurement ID in the local Firebase config (${Ye.options.measurementId}) does not match the measurement ID fetched from the server (${Ho.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ho=>po.error(Ho)),dt.push(Zt);const Li=function yc(){return Nl.apply(this,arguments)}().then(Ho=>{if(Ho)return hn.getId()}),[qi,dr]=yield Promise.all([Zt,Li]);(function Kl(Ye){const dt=window.document.getElementsByTagName("script");for(const Ht of Object.values(dt))if(Ht.src&&Ht.src.includes(yl)&&Ht.src.includes(Ye))return Ht;return null})(Gn)||function Fs(Ye,dt){const Ht=function sa(Ye,dt){let Ht;return window.trustedTypes&&(Ht=window.trustedTypes.createPolicy(Ye,dt)),Ht}("firebase-js-sdk-policy",{createScriptURL:rl}),hn=document.createElement("script"),Ln=`${yl}?l=${Ye}&id=${dt}`;hn.src=Ht?Ht?.createScriptURL(Ln):Ln,hn.async=!0,document.head.appendChild(hn)}(Gn,qi.measurementId),_c&&(Ln("consent","default",_c),function wr(Ye){_c=Ye}(void 0)),Ln("js",new Date);const ps=null!==(Ci=Qn?.config)&&void 0!==Ci?Ci:{};return ps[us]="firebase",ps.update=!0,null!=dr&&(ps[Ea]=dr),Ln("config",qi.measurementId,ps),Ri&&(Ln("set",Ri),function vc(Ye){Ri=Ye}(void 0)),qi.measurementId}),La.apply(this,arguments)}class Yl{constructor(dt){this.app=dt}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}}let Ms={},zl=[];const Dl={};let $l,Bs,za="dataLayer",ka=!1;function bc(Ye,dt,Ht){!function ms(){const Ye=[];if((0,g.ru)()&&Ye.push("This is a browser extension environment."),(0,g.zI)()||Ye.push("Cookies are not available."),Ye.length>0){const dt=Ye.map((hn,Ln)=>`(${Ln+1}) ${hn}`).join(" "),Ht=Bo.create("invalid-analytics-context",{errorInfo:dt});po.warn(Ht.message)}}();const hn=Ye.options.appId;if(!hn)throw Bo.create("no-app-id");if(!Ye.options.apiKey){if(!Ye.options.measurementId)throw Bo.create("no-api-key");po.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ye.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ms[hn])throw Bo.create("already-exists",{id:hn});if(!ka){!function bl(Ye){let dt=[];Array.isArray(window[Ye])?dt=window[Ye]:window[Ye]=dt}(za);const{wrappedGtag:Gn,gtagCore:Qn}=function Lc(Ye,dt,Ht,hn,Ln){let Gn=function(...Qn){window[hn].push(arguments)};return window[Ln]&&"function"==typeof window[Ln]&&(Gn=window[Ln]),window[Ln]=function Tl(Ye,dt,Ht,hn){function Gn(){return Gn=(0,v.Z)(function*(Qn,...Ci){try{if("event"===Qn){const[Zt,Li]=Ci;yield function $c(Ye,dt,Ht,hn,Ln){return zs.apply(this,arguments)}(Ye,dt,Ht,Zt,Li)}else if("config"===Qn){const[Zt,Li]=Ci;yield function mc(Ye,dt,Ht,hn,Ln,Gn){return El.apply(this,arguments)}(Ye,dt,Ht,hn,Zt,Li)}else if("consent"===Qn){const[Zt]=Ci;Ye("consent","update",Zt)}else if("get"===Qn){const[Zt,Li,qi]=Ci;Ye("get",Zt,Li,qi)}else if("set"===Qn){const[Zt]=Ci;Ye("set",Zt)}else Ye(Qn,...Ci)}catch(Zt){po.error(Zt)}}),Gn.apply(this,arguments)}return function Ln(Qn){return Gn.apply(this,arguments)}}(Gn,Ye,dt,Ht),{gtagCore:Gn,wrappedGtag:window[Ln]}}(Ms,zl,Dl,za,"gtag");Bs=Gn,$l=Qn,ka=!0}return Ms[hn]=function Jo(Ye,dt,Ht,hn,Ln,Gn,Qn){return La.apply(this,arguments)}(Ye,zl,Dl,dt,$l,za,Ht),new Yl(Ye)}function Jc(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,v.Z)(function*(){if((0,g.ru)()||!(0,g.zI)()||!(0,g.hl)())return!1;try{return yield(0,g.eu)()}catch{return!1}})).apply(this,arguments)}const Ml="@firebase/analytics";!function Fl(){(0,b._registerComponent)(new P.wA(Rl,(dt,{options:Ht})=>bc(dt.getProvider("app").getImmediate(),dt.getProvider("installations-internal").getImmediate(),Ht),"PUBLIC")),(0,b._registerComponent)(new P.wA("analytics-internal",function Ye(dt){try{const Ht=dt.getProvider(Rl).getImmediate();return{logEvent:(hn,Ln,Gn)=>function $s(Ye,dt,Ht,hn){Ye=(0,g.m9)(Ye),function Ni(Ye,dt,Ht,hn,Ln){return br.apply(this,arguments)}(Bs,Ms[Ye.app.options.appId],dt,Ht,hn).catch(Ln=>po.error(Ln))}(Ht,hn,Ln,Gn)}}catch(Ht){throw Bo.create("interop-component-reg-failed",{reason:Ht})}},"PRIVATE")),(0,b.registerVersion)(Ml,"0.10.0"),(0,b.registerVersion)(Ml,"0.10.0","esm2017")}();var Bl=p(1954),Tc=p(2631);const qc=new class Sc extends Tc.v{}(class Fc extends Bl.o{constructor(dt,Ht){super(dt,Ht),this.scheduler=dt,this.work=Ht}schedule(dt,Ht=0){return Ht>0?super.schedule(dt,Ht):(this.delay=Ht,this.state=dt,this.scheduler.flush(this),this)}execute(dt,Ht){return Ht>0||this.closed?super.execute(dt,Ht):this._execute(dt,Ht)}requestAsyncId(dt,Ht,hn=0){return null!=hn&&hn>0||null==hn&&this.delay>0?super.requestAsyncId(dt,Ht,hn):(dt.flush(this),0)}});var ql=p(6321),Za=p(9397),Ba=p(5137),sl=p(3093);const Xl=new e.GfV("7.6.1"),Ul="__angularfire_symbol__analyticsIsSupportedValue",$a="__angularfire_symbol__analyticsIsSupported",Cc="__angularfire_symbol__remoteConfigIsSupportedValue",Js="__angularfire_symbol__remoteConfigIsSupported",Bc="__angularfire_symbol__messagingIsSupportedValue",Us="__angularfire_symbol__messagingIsSupported";function Gl(Ye,dt,Ht){if(dt){if(1===dt.length)return dt[0];const Gn=dt.filter(Qn=>Qn.app===Ht);if(1===Gn.length)return Gn[0]}return Ht.container.getProvider(Ye).getImmediate({optional:!0})}globalThis[$a]||(globalThis[$a]=Jc().then(Ye=>globalThis[Ul]=Ye).catch(()=>globalThis[Ul]=!1)),globalThis[Us]||(globalThis[Us]=di().then(Ye=>globalThis[Bc]=Ye).catch(()=>globalThis[Bc]=!1)),globalThis[Js]||(globalThis[Js]=xs().then(Ye=>globalThis[Cc]=Ye).catch(()=>globalThis[Cc]=!1));const ec=(Ye,dt)=>{const Ht=dt?[dt]:(0,t.C6)(),hn=[];return Ht.forEach(Ln=>{Ln.container.getProvider(Ye).instances.forEach(Qn=>{hn.includes(Qn)||hn.push(Qn)})}),hn};function tc(){}class zr{constructor(dt,Ht=qc){this.zone=dt,this.delegate=Ht}now(){return this.delegate.now()}schedule(dt,Ht,hn){const Ln=this.zone;return this.delegate.schedule(function(Qn){Ln.runGuarded(()=>{dt.apply(this,[Qn])})},Ht,hn)}}class yo{constructor(dt){this.zone=dt,this.task=null}call(dt,Ht){const hn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tc,{},tc,tc)),Ht.pipe((0,Za.b)({next:hn,complete:hn,error:hn})).subscribe(dt).add(hn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xl=(()=>{class Ye{constructor(Ht){this.ngZone=Ht,this.outsideAngular=Ht.runOutsideAngular(()=>new zr(Zone.current)),this.insideAngular=Ht.run(()=>new zr(Zone.current,ql.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ye.\u0275fac=function(Ht){return new(Ht||Ye)(e.LFG(e.R0b))},Ye.\u0275prov=e.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})();function Qs(){const Ye=globalThis.\u0275AngularFireScheduler;if(!Ye)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ye}function Il(Ye){return Qs(),function ic(Ye){return function(Ht){return(Ht=Ht.lift(new yo(Ye.ngZone))).pipe((0,Ba.R)(Ye.outsideAngular),(0,sl.Q)(Ye.insideAngular))}}(Qs())(Ye)}},6878:(Wn,et,p)=>{"use strict";p.d(et,{$:()=>ls,A:()=>d,D:()=>S,I:()=>ln,J:()=>Hr,L:()=>li,N:()=>He,P:()=>Jo,Q:()=>Ha,R:()=>$o,U:()=>as,V:()=>xs,W:()=>Is,X:()=>co,Y:()=>io,Z:()=>fa,_:()=>Ks,a:()=>Go,a0:()=>ks,a1:()=>Ia,a2:()=>Ot,a3:()=>zo,a4:()=>Es,a5:()=>Os,a6:()=>cs,a7:()=>ma,a8:()=>na,a9:()=>ul,aA:()=>ne,aB:()=>Cc,aC:()=>vt,aD:()=>ze,aE:()=>Ba,aF:()=>Qc,aG:()=>kc,aH:()=>On,aL:()=>ro,aO:()=>hr,aa:()=>wl,ab:()=>fl,ac:()=>Oa,ad:()=>dc,ae:()=>hl,af:()=>ml,ai:()=>uc,aj:()=>nl,ak:()=>_l,an:()=>Aa,ao:()=>Vt,aq:()=>Vi,ar:()=>Pl,as:()=>Fe,at:()=>In,au:()=>En,av:()=>T,aw:()=>ps,ax:()=>Uc,ay:()=>Nn,az:()=>L,b:()=>vl,c:()=>Bs,d:()=>bc,e:()=>ld,f:()=>Ml,g:()=>Sc,h:()=>Bl,i:()=>Po,j:()=>ql,k:()=>bo,l:()=>aa,m:()=>yd,p:()=>m,r:()=>Cl,s:()=>Ya,u:()=>yc});var e=p(5861),t=p(9058),v=p(534),b=p(7582),g=p(7879),P=p(4537);const m={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},d={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const S=function f(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},x=function _(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},A=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new g.Yd("@firebase/auth");function I(Le,...W){O.logLevel<=g.in.ERROR&&O.error(`Auth (${v.SDK_VERSION}): ${Le}`,...W)}function T(Le,...W){throw z(Le,...W)}function L(Le,...W){return z(Le,...W)}function y(Le,W,se){const Je=Object.assign(Object.assign({},x()),{[W]:se});return new t.LL("auth","Firebase",Je).create(W,{appName:Le.name})}function B(Le,W,se){if(!(W instanceof se))throw se.name!==W.constructor.name&&T(Le,"argument-error"),y(Le,"argument-error",`Type of ${W.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z(Le,...W){if("string"!=typeof Le){const se=W[0],Je=[...W.slice(1)];return Je[0]&&(Je[0].appName=Le.name),Le._errorFactory.create(se,...Je)}return A.create(Le,...W)}function ne(Le,W,...se){if(!Le)throw z(W,...se)}function ae(Le){const W="INTERNAL ASSERTION FAILED: "+Le;throw I(W),new Error(W)}function Fe(Le,W){Le||ae(W)}function Y(){var Le;return typeof self<"u"&&(null===(Le=self.location)||void 0===Le?void 0:Le.href)||""}function le(){return"http:"===G()||"https:"===G()}function G(){var Le;return typeof self<"u"&&(null===(Le=self.location)||void 0===Le?void 0:Le.protocol)||null}class ge{constructor(W,se){this.shortDelay=W,this.longDelay=se,Fe(se>W,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(Le,W){Fe(Le.emulator,"Emulator should always be set here");const{url:se}=Le.emulator;return W?`${se}${W.startsWith("/")?W.slice(1):W}`:se}class Ce{static initialize(W,se,Je){this.fetchImpl=W,se&&(this.headersImpl=se),Je&&(this.responseImpl=Je)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new ge(3e4,6e4);function ke(Le,W){return Le.tenantId&&!W.tenantId?Object.assign(Object.assign({},W),{tenantId:Le.tenantId}):W}function he(Le,W,se,Je){return we.apply(this,arguments)}function we(){return(we=(0,e.Z)(function*(Le,W,se,Je,Kt={}){return Te(Le,Kt,(0,e.Z)(function*(){let an={},Hn={};Je&&("GET"===W?Hn=Je:an={body:JSON.stringify(Je)});const ri=(0,t.xO)(Object.assign({key:Le.config.apiKey},Hn)).slice(1),Si=yield Le._getAdditionalHeaders();return Si["Content-Type"]="application/json",Le.languageCode&&(Si["X-Firebase-Locale"]=Le.languageCode),Ce.fetch()(Ze(Le,Le.config.apiHost,se,ri),Object.assign({method:W,headers:Si,referrerPolicy:"no-referrer"},an))}))})).apply(this,arguments)}function Te(Le,W,se){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,e.Z)(function*(Le,W,se){Le._canInitEmulator=!1;const Je=Object.assign(Object.assign({},pe),W);try{const Kt=new Re(Le),an=yield Promise.race([se(),Kt.promise]);Kt.clearNetworkTimeout();const Hn=yield an.json();if("needConfirmation"in Hn)throw be(Le,"account-exists-with-different-credential",Hn);if(an.ok&&!("errorMessage"in Hn))return Hn;{const ri=an.ok?Hn.errorMessage:Hn.error.message,[Si,Ii]=ri.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Si)throw be(Le,"credential-already-in-use",Hn);if("EMAIL_EXISTS"===Si)throw be(Le,"email-already-in-use",Hn);if("USER_DISABLED"===Si)throw be(Le,"user-disabled",Hn);const Yi=Je[Si]||Si.toLowerCase().replace(/[_\s]+/g,"-");if(Ii)throw y(Le,Yi,Ii);T(Le,Yi)}}catch(Kt){if(Kt instanceof t.ZR)throw Kt;T(Le,"network-request-failed",{message:String(Kt)})}})).apply(this,arguments)}function je(Le,W,se,Je){return ft.apply(this,arguments)}function ft(){return(ft=(0,e.Z)(function*(Le,W,se,Je,Kt={}){const an=yield he(Le,W,se,Je,Kt);return"mfaPendingCredential"in an&&T(Le,"multi-factor-auth-required",{_serverResponse:an}),an})).apply(this,arguments)}function Ze(Le,W,se,Je){const Kt=`${W}${se}?${Je}`;return Le.config.emulator?Ie(Le.config,Kt):`${Le.config.apiScheme}://${Kt}`}class Re{constructor(W){this.auth=W,this.timer=null,this.promise=new Promise((se,Je)=>{this.timer=setTimeout(()=>Je(L(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function be(Le,W,se){const Je={appName:Le.name};se.email&&(Je.email=se.email),se.phoneNumber&&(Je.phoneNumber=se.phoneNumber);const Kt=L(Le,W,Je);return Kt.customData._tokenResponse=se,Kt}function ie(){return(ie=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:delete",W)})).apply(this,arguments)}function oe(){return(oe=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function X(){return(X=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:lookup",W)})).apply(this,arguments)}function $(Le){if(Le)try{const W=new Date(Number(Le));if(!isNaN(W.getTime()))return W.toUTCString()}catch{}}function q(){return(q=(0,e.Z)(function*(Le,W=!1){const se=(0,t.m9)(Le),Je=yield se.getIdToken(W),Kt=xe(Je);ne(Kt&&Kt.exp&&Kt.auth_time&&Kt.iat,se.auth,"internal-error");const an="object"==typeof Kt.firebase?Kt.firebase:void 0,Hn=an?.sign_in_provider;return{claims:Kt,token:Je,authTime:$(_e(Kt.auth_time)),issuedAtTime:$(_e(Kt.iat)),expirationTime:$(_e(Kt.exp)),signInProvider:Hn||null,signInSecondFactor:an?.sign_in_second_factor||null}})).apply(this,arguments)}function _e(Le){return 1e3*Number(Le)}function xe(Le){const[W,se,Je]=Le.split(".");if(void 0===W||void 0===se||void 0===Je)return I("JWT malformed, contained fewer than 3 sections"),null;try{const Kt=(0,t.tV)(se);return Kt?JSON.parse(Kt):(I("Failed to decode base64 JWT payload"),null)}catch(Kt){return I("Caught error parsing JWT payload as JSON",Kt?.toString()),null}}function Ge(Le,W){return ct.apply(this,arguments)}function ct(){return(ct=(0,e.Z)(function*(Le,W,se=!1){if(se)return W;try{return yield W}catch(Je){throw Je instanceof t.ZR&&function Xe({code:Le}){return"auth/user-disabled"===Le||"auth/user-token-expired"===Le}(Je)&&Le.auth.currentUser===Le&&(yield Le.auth.signOut()),Je}})).apply(this,arguments)}class tt{constructor(W){this.user=W,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(W){var se;if(W){const Je=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Je}{this.errorBackoff=3e4;const Kt=(null!==(se=this.user.stsTokenManager.expirationTime)&&void 0!==se?se:0)-Date.now()-3e5;return Math.max(0,Kt)}}schedule(W=!1){var se=this;if(!this.isRunning)return;const Je=this.getInterval(W);this.timerId=setTimeout((0,e.Z)(function*(){yield se.iteration()}),Je)}iteration(){var W=this;return(0,e.Z)(function*(){try{yield W.user.getIdToken(!0)}catch(se){return void("auth/network-request-failed"===se?.code&&W.schedule(!0))}W.schedule()})()}}class gt{constructor(W,se){this.createdAt=W,this.lastLoginAt=se,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(W){this.createdAt=W.createdAt,this.lastLoginAt=W.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qe(Le){return yt.apply(this,arguments)}function yt(){return yt=(0,e.Z)(function*(Le){var W;const se=Le.auth,Je=yield Le.getIdToken(),Kt=yield Ge(Le,function ee(Le,W){return X.apply(this,arguments)}(se,{idToken:Je}));ne(Kt?.users.length,se,"internal-error");const an=Kt.users[0];Le._notifyReloadListener(an);const Hn=null!==(W=an.providerUserInfo)&&void 0!==W&&W.length?function Et(Le){return Le.map(W=>{var{providerId:se}=W,Je=(0,b._T)(W,["providerId"]);return{providerId:se,uid:Je.rawId||"",displayName:Je.displayName||null,email:Je.email||null,phoneNumber:Je.phoneNumber||null,photoURL:Je.photoUrl||null}})}(an.providerUserInfo):[],ri=function We(Le,W){return[...Le.filter(Je=>!W.some(Kt=>Kt.providerId===Je.providerId)),...W]}(Le.providerData,Hn),Yi=!!Le.isAnonymous&&!(Le.email&&an.passwordHash||ri?.length),Cr={uid:an.localId,displayName:an.displayName||null,photoURL:an.photoUrl||null,email:an.email||null,emailVerified:an.emailVerified||!1,phoneNumber:an.phoneNumber||null,tenantId:an.tenantId||null,providerData:ri,metadata:new gt(an.createdAt,an.lastLoginAt),isAnonymous:Yi};Object.assign(Le,Cr)}),yt.apply(this,arguments)}function fe(){return(fe=(0,e.Z)(function*(Le){const W=(0,t.m9)(Le);yield Qe(W),yield W.auth._persistUserIfCurrent(W),W.auth._notifyListenersIfCurrent(W)})).apply(this,arguments)}function Qt(){return(Qt=(0,e.Z)(function*(Le,W){const se=yield Te(Le,{},(0,e.Z)(function*(){const Je=(0,t.xO)({grant_type:"refresh_token",refresh_token:W}).slice(1),{tokenApiHost:Kt,apiKey:an}=Le.config,Hn=Ze(Le,Kt,"/v1/token",`key=${an}`),ri=yield Le._getAdditionalHeaders();return ri["Content-Type"]="application/x-www-form-urlencoded",Ce.fetch()(Hn,{method:"POST",headers:ri,body:Je})}));return{accessToken:se.access_token,expiresIn:se.expires_in,refreshToken:se.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(W){ne(W.idToken,"internal-error"),ne(typeof W.idToken<"u","internal-error"),ne(typeof W.refreshToken<"u","internal-error");const se="expiresIn"in W&&typeof W.expiresIn<"u"?Number(W.expiresIn):function Ee(Le){const W=xe(Le);return ne(W,"internal-error"),ne(typeof W.exp<"u","internal-error"),ne(typeof W.iat<"u","internal-error"),Number(W.exp)-Number(W.iat)}(W.idToken);this.updateTokensAndExpiration(W.idToken,W.refreshToken,se)}getToken(W,se=!1){var Je=this;return(0,e.Z)(function*(){return ne(!Je.accessToken||Je.refreshToken,W,"user-token-expired"),se||!Je.accessToken||Je.isExpired?Je.refreshToken?(yield Je.refresh(W,Je.refreshToken),Je.accessToken):null:Je.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(W,se){var Je=this;return(0,e.Z)(function*(){const{accessToken:Kt,refreshToken:an,expiresIn:Hn}=yield function Wt(Le,W){return Qt.apply(this,arguments)}(W,se);Je.updateTokensAndExpiration(Kt,an,Number(Hn))})()}updateTokensAndExpiration(W,se,Je){this.refreshToken=se||null,this.accessToken=W||null,this.expirationTime=Date.now()+1e3*Je}static fromJSON(W,se){const{refreshToken:Je,accessToken:Kt,expirationTime:an}=se,Hn=new qt;return Je&&(ne("string"==typeof Je,"internal-error",{appName:W}),Hn.refreshToken=Je),Kt&&(ne("string"==typeof Kt,"internal-error",{appName:W}),Hn.accessToken=Kt),an&&(ne("number"==typeof an,"internal-error",{appName:W}),Hn.expirationTime=an),Hn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(W){this.accessToken=W.accessToken,this.refreshToken=W.refreshToken,this.expirationTime=W.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function un(Le,W){ne("string"==typeof Le||typeof Le>"u","internal-error",{appName:W})}class fn{constructor(W){var{uid:se,auth:Je,stsTokenManager:Kt}=W,an=(0,b._T)(W,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=se,this.auth=Je,this.stsTokenManager=Kt,this.accessToken=Kt.accessToken,this.displayName=an.displayName||null,this.email=an.email||null,this.emailVerified=an.emailVerified||!1,this.phoneNumber=an.phoneNumber||null,this.photoURL=an.photoURL||null,this.isAnonymous=an.isAnonymous||!1,this.tenantId=an.tenantId||null,this.providerData=an.providerData?[...an.providerData]:[],this.metadata=new gt(an.createdAt||void 0,an.lastLoginAt||void 0)}getIdToken(W){var se=this;return(0,e.Z)(function*(){const Je=yield Ge(se,se.stsTokenManager.getToken(se.auth,W));return ne(Je,se.auth,"internal-error"),se.accessToken!==Je&&(se.accessToken=Je,yield se.auth._persistUserIfCurrent(se),se.auth._notifyListenersIfCurrent(se)),Je})()}getIdTokenResult(W){return function J(Le){return q.apply(this,arguments)}(this,W)}reload(){return function Dt(Le){return fe.apply(this,arguments)}(this)}_assign(W){this!==W&&(ne(this.uid===W.uid,this.auth,"internal-error"),this.displayName=W.displayName,this.photoURL=W.photoURL,this.email=W.email,this.emailVerified=W.emailVerified,this.phoneNumber=W.phoneNumber,this.isAnonymous=W.isAnonymous,this.tenantId=W.tenantId,this.providerData=W.providerData.map(se=>Object.assign({},se)),this.metadata._copy(W.metadata),this.stsTokenManager._assign(W.stsTokenManager))}_clone(W){const se=new fn(Object.assign(Object.assign({},this),{auth:W,stsTokenManager:this.stsTokenManager._clone()}));return se.metadata._copy(this.metadata),se}_onReload(W){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=W,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(W){this.reloadListener?this.reloadListener(W):this.reloadUserInfo=W}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(W,se=!1){var Je=this;return(0,e.Z)(function*(){let Kt=!1;W.idToken&&W.idToken!==Je.stsTokenManager.accessToken&&(Je.stsTokenManager.updateFromServerResponse(W),Kt=!0),se&&(yield Qe(Je)),yield Je.auth._persistUserIfCurrent(Je),Kt&&Je.auth._notifyListenersIfCurrent(Je)})()}delete(){var W=this;return(0,e.Z)(function*(){const se=yield W.getIdToken();return yield Ge(W,function Q(Le,W){return ie.apply(this,arguments)}(W.auth,{idToken:se})),W.stsTokenManager.clearRefreshToken(),W.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(W=>Object.assign({},W)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(W,se){var Je,Kt,an,Hn,ri,Si,Ii,Yi;const Cr=null!==(Je=se.displayName)&&void 0!==Je?Je:void 0,Ps=null!==(Kt=se.email)&&void 0!==Kt?Kt:void 0,oc=null!==(an=se.phoneNumber)&&void 0!==an?an:void 0,V=null!==(Hn=se.photoURL)&&void 0!==Hn?Hn:void 0,r=null!==(ri=se.tenantId)&&void 0!==ri?ri:void 0,l=null!==(Si=se._redirectEventId)&&void 0!==Si?Si:void 0,h=null!==(Ii=se.createdAt)&&void 0!==Ii?Ii:void 0,M=null!==(Yi=se.lastLoginAt)&&void 0!==Yi?Yi:void 0,{uid:k,emailVerified:j,isAnonymous:te,providerData:De,stsTokenManager:Pe}=se;ne(k&&Pe,W,"internal-error");const lt=qt.fromJSON(this.name,Pe);ne("string"==typeof k,W,"internal-error"),un(Cr,W.name),un(Ps,W.name),ne("boolean"==typeof j,W,"internal-error"),ne("boolean"==typeof te,W,"internal-error"),un(oc,W.name),un(V,W.name),un(r,W.name),un(l,W.name),un(h,W.name),un(M,W.name);const pt=new fn({uid:k,auth:W,email:Ps,emailVerified:j,displayName:Cr,isAnonymous:te,photoURL:V,phoneNumber:oc,tenantId:r,stsTokenManager:lt,createdAt:h,lastLoginAt:M});return De&&Array.isArray(De)&&(pt.providerData=De.map(Bt=>Object.assign({},Bt))),l&&(pt._redirectEventId=l),pt}static _fromIdTokenResponse(W,se,Je=!1){return(0,e.Z)(function*(){const Kt=new qt;Kt.updateFromServerResponse(se);const an=new fn({uid:se.localId,auth:W,stsTokenManager:Kt,isAnonymous:Je});return yield Qe(an),an})()}}const wt=new Map;function vt(Le){Fe(Le instanceof Function,"Expected a class definition");let W=wt.get(Le);return W?(Fe(W instanceof Le,"Instance stored in cache mismatched with class"),W):(W=new Le,wt.set(Le,W),W)}const He=(()=>{class Le{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(se,Je){var Kt=this;return(0,e.Z)(function*(){Kt.storage[se]=Je})()}_get(se){var Je=this;return(0,e.Z)(function*(){const Kt=Je.storage[se];return void 0===Kt?null:Kt})()}_remove(se){var Je=this;return(0,e.Z)(function*(){delete Je.storage[se]})()}_addListener(se,Je){}_removeListener(se,Je){}}return Le.type="NONE",Le})();function ze(Le,W,se){return`firebase:${Le}:${W}:${se}`}class st{constructor(W,se,Je){this.persistence=W,this.auth=se,this.userKey=Je;const{config:Kt,name:an}=this.auth;this.fullUserKey=ze(this.userKey,Kt.apiKey,an),this.fullPersistenceKey=ze("persistence",Kt.apiKey,an),this.boundEventHandler=se._onStorageEvent.bind(se),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(W){return this.persistence._set(this.fullUserKey,W.toJSON())}getCurrentUser(){var W=this;return(0,e.Z)(function*(){const se=yield W.persistence._get(W.fullUserKey);return se?fn._fromJSON(W.auth,se):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(W){var se=this;return(0,e.Z)(function*(){if(se.persistence===W)return;const Je=yield se.getCurrentUser();return yield se.removeCurrentUser(),se.persistence=W,Je?se.setCurrentUser(Je):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(W,se,Je="authUser"){return(0,e.Z)(function*(){if(!se.length)return new st(vt(He),W,Je);const Kt=(yield Promise.all(se.map(function(){var Ii=(0,e.Z)(function*(Yi){if(yield Yi._isAvailable())return Yi});return function(Yi){return Ii.apply(this,arguments)}}()))).filter(Ii=>Ii);let an=Kt[0]||vt(He);const Hn=ze(Je,W.config.apiKey,W.name);let ri=null;for(const Ii of se)try{const Yi=yield Ii._get(Hn);if(Yi){const Cr=fn._fromJSON(W,Yi);Ii!==an&&(ri=Cr),an=Ii;break}}catch{}const Si=Kt.filter(Ii=>Ii._shouldAllowMigration);return an._shouldAllowMigration&&Si.length?(an=Si[0],ri&&(yield an._set(Hn,ri.toJSON())),yield Promise.all(se.map(function(){var Ii=(0,e.Z)(function*(Yi){if(Yi!==an)try{yield Yi._remove(Hn)}catch{}});return function(Yi){return Ii.apply(this,arguments)}}())),new st(an,W,Je)):new st(an,W,Je)})()}}function at(Le){const W=Le.toLowerCase();if(W.includes("opera/")||W.includes("opr/")||W.includes("opios/"))return"Opera";if(on(W))return"IEMobile";if(W.includes("msie")||W.includes("trident/"))return"IE";if(W.includes("edge/"))return"Edge";if(St(W))return"Firefox";if(W.includes("silk/"))return"Silk";if(tn(W))return"Blackberry";if(Mn(W))return"Webos";if(bt(W))return"Safari";if((W.includes("chrome/")||xt(W))&&!W.includes("edge/"))return"Chrome";if(En(W))return"Android";{const Je=Le.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Je?.length)return Je[1]}return"Other"}function St(Le=(0,t.z$)()){return/firefox\//i.test(Le)}function bt(Le=(0,t.z$)()){const W=Le.toLowerCase();return W.includes("safari/")&&!W.includes("chrome/")&&!W.includes("crios/")&&!W.includes("android")}function xt(Le=(0,t.z$)()){return/crios\//i.test(Le)}function on(Le=(0,t.z$)()){return/iemobile/i.test(Le)}function En(Le=(0,t.z$)()){return/android/i.test(Le)}function tn(Le=(0,t.z$)()){return/blackberry/i.test(Le)}function Mn(Le=(0,t.z$)()){return/webos/i.test(Le)}function In(Le=(0,t.z$)()){return/iphone|ipad|ipod/i.test(Le)||/macintosh/i.test(Le)&&/mobile/i.test(Le)}function Nn(Le=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(Le)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(Le)}function vn(Le=(0,t.z$)()){return In(Le)||En(Le)||Mn(Le)||tn(Le)||/windows phone/i.test(Le)||on(Le)}function yn(Le,W=[]){let se;switch(Le){case"Browser":se=at((0,t.z$)());break;case"Worker":se=`${at((0,t.z$)())}-${Le}`;break;default:se=Le}const Je=W.length?W.join(","):"FirebaseCore-web";return`${se}/JsCore/${v.SDK_VERSION}/${Je}`}function _n(){return(_n=(0,e.Z)(function*(Le){return(yield he(Le,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function At(Le,W){return ht.apply(this,arguments)}function ht(){return(ht=(0,e.Z)(function*(Le,W){return he(Le,"GET","/v2/recaptchaConfig",ke(Le,W))})).apply(this,arguments)}function Tn(Le){return void 0!==Le&&void 0!==Le.getResponse}function qe(Le){return void 0!==Le&&void 0!==Le.enterprise}class Ct{constructor(W){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===W.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=W.recaptchaKey.split("/")[3],this.emailPasswordEnabled=W.recaptchaEnforcementState.some(se=>"EMAIL_PASSWORD_PROVIDER"===se.provider&&"OFF"!==se.enforcementState)}}function Rt(Le){return new Promise((W,se)=>{const Je=document.createElement("script");Je.setAttribute("src",Le),Je.onload=W,Je.onerror=Kt=>{const an=L("internal-error");an.customData=Kt,se(an)},Je.type="text/javascript",Je.charset="UTF-8",function Jt(){var Le,W;return null!==(W=null===(Le=document.getElementsByTagName("head"))||void 0===Le?void 0:Le[0])&&void 0!==W?W:document}().appendChild(Je)})}function xn(Le){return`__${Le}${Math.floor(1e6*Math.random())}`}class en{constructor(W){this.type="recaptcha-enterprise",this.auth=On(W)}verify(W="verify",se=!1){var Je=this;return(0,e.Z)(function*(){function an(){return an=(0,e.Z)(function*(ri){if(!se){if(null==ri.tenantId&&null!=ri._agentRecaptchaConfig)return ri._agentRecaptchaConfig.siteKey;if(null!=ri.tenantId&&void 0!==ri._tenantRecaptchaConfigs[ri.tenantId])return ri._tenantRecaptchaConfigs[ri.tenantId].siteKey}return new Promise(function(){var Si=(0,e.Z)(function*(Ii,Yi){At(ri,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Cr=>{if(void 0!==Cr.recaptchaKey){const Ps=new Ct(Cr);return null==ri.tenantId?ri._agentRecaptchaConfig=Ps:ri._tenantRecaptchaConfigs[ri.tenantId]=Ps,Ii(Ps.siteKey)}Yi(new Error("recaptcha Enterprise site key undefined"))}).catch(Cr=>{Yi(Cr)})});return function(Ii,Yi){return Si.apply(this,arguments)}}())}),an.apply(this,arguments)}function Hn(ri,Si,Ii){const Yi=window.grecaptcha;qe(Yi)?Yi.enterprise.ready(()=>{Yi.enterprise.execute(ri,{action:W}).then(Cr=>{Si(Cr)}).catch(()=>{Si("NO_RECAPTCHA")})}):Ii(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ri,Si)=>{(function Kt(ri){return an.apply(this,arguments)})(Je.auth).then(Ii=>{if(!se&&qe(window.grecaptcha))Hn(Ii,ri,Si);else{if(typeof window>"u")return void Si(new Error("RecaptchaVerifier is only supported in browser"));Rt("https://www.google.com/recaptcha/enterprise.js?render="+Ii).then(()=>{Hn(Ii,ri,Si)}).catch(Yi=>{Si(Yi)})}}).catch(Ii=>{Si(Ii)})})})()}}function An(Le,W,se){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,e.Z)(function*(Le,W,se,Je=!1){const Kt=new en(Le);let an;try{an=yield Kt.verify(se)}catch{an=yield Kt.verify(se,!0)}const Hn=Object.assign({},W);return Object.assign(Hn,Je?{captchaResp:an}:{captchaResponse:an}),Object.assign(Hn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Hn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Hn})).apply(this,arguments)}class Xn{constructor(W){this.auth=W,this.queue=[]}pushCallback(W,se){const Je=an=>new Promise((Hn,ri)=>{try{Hn(W(an))}catch(Si){ri(Si)}});Je.onAbort=se,this.queue.push(Je);const Kt=this.queue.length-1;return()=>{this.queue[Kt]=()=>Promise.resolve()}}runMiddleware(W){var se=this;return(0,e.Z)(function*(){if(se.auth.currentUser===W)return;const Je=[];try{for(const Kt of se.queue)yield Kt(W),Kt.onAbort&&Je.push(Kt.onAbort)}catch(Kt){Je.reverse();for(const an of Je)try{an()}catch{}throw se.auth._errorFactory.create("login-blocked",{originalMessage:Kt?.message})}})()}}class Ut{constructor(W,se,Je,Kt){this.app=W,this.heartbeatServiceProvider=se,this.appCheckServiceProvider=Je,this.config=Kt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new Xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=W.name,this.clientVersion=Kt.sdkClientVersion}_initializeWithPersistence(W,se){var Je=this;return se&&(this._popupRedirectResolver=vt(se)),this._initializationPromise=this.queue((0,e.Z)(function*(){var Kt,an;if(!Je._deleted&&(Je.persistenceManager=yield st.create(Je,W),!Je._deleted)){if(null!==(Kt=Je._popupRedirectResolver)&&void 0!==Kt&&Kt._shouldInitProactively)try{yield Je._popupRedirectResolver._initialize(Je)}catch{}yield Je.initializeCurrentUser(se),Je.lastNotifiedUid=(null===(an=Je.currentUser)||void 0===an?void 0:an.uid)||null,!Je._deleted&&(Je._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var W=this;return(0,e.Z)(function*(){if(W._deleted)return;const se=yield W.assertedPersistence.getCurrentUser();if(W.currentUser||se){if(W.currentUser&&se&&W.currentUser.uid===se.uid)return W._currentUser._assign(se),void(yield W.currentUser.getIdToken());yield W._updateCurrentUser(se,!0)}})()}initializeCurrentUser(W){var se=this;return(0,e.Z)(function*(){var Je;const Kt=yield se.assertedPersistence.getCurrentUser();let an=Kt,Hn=!1;if(W&&se.config.authDomain){yield se.getOrInitRedirectPersistenceManager();const ri=null===(Je=se.redirectUser)||void 0===Je?void 0:Je._redirectEventId,Si=an?._redirectEventId,Ii=yield se.tryRedirectSignIn(W);(!ri||ri===Si)&&Ii?.user&&(an=Ii.user,Hn=!0)}if(!an)return se.directlySetCurrentUser(null);if(!an._redirectEventId){if(Hn)try{yield se.beforeStateQueue.runMiddleware(an)}catch(ri){an=Kt,se._popupRedirectResolver._overrideRedirectResult(se,()=>Promise.reject(ri))}return an?se.reloadAndSetCurrentUserOrClear(an):se.directlySetCurrentUser(null)}return ne(se._popupRedirectResolver,se,"argument-error"),yield se.getOrInitRedirectPersistenceManager(),se.redirectUser&&se.redirectUser._redirectEventId===an._redirectEventId?se.directlySetCurrentUser(an):se.reloadAndSetCurrentUserOrClear(an)})()}tryRedirectSignIn(W){var se=this;return(0,e.Z)(function*(){let Je=null;try{Je=yield se._popupRedirectResolver._completeRedirectFn(se,W,!0)}catch{yield se._setRedirectUser(null)}return Je})()}reloadAndSetCurrentUserOrClear(W){var se=this;return(0,e.Z)(function*(){try{yield Qe(W)}catch(Je){if("auth/network-request-failed"!==Je?.code)return se.directlySetCurrentUser(null)}return se.directlySetCurrentUser(W)})()}useDeviceLanguage(){this.languageCode=function ce(){if(typeof navigator>"u")return null;const Le=navigator;return Le.languages&&Le.languages[0]||Le.language||null}()}_delete(){var W=this;return(0,e.Z)(function*(){W._deleted=!0})()}updateCurrentUser(W){var se=this;return(0,e.Z)(function*(){const Je=W?(0,t.m9)(W):null;return Je&&ne(Je.auth.config.apiKey===se.config.apiKey,se,"invalid-user-token"),se._updateCurrentUser(Je&&Je._clone(se))})()}_updateCurrentUser(W,se=!1){var Je=this;return(0,e.Z)(function*(){if(!Je._deleted)return W&&ne(Je.tenantId===W.tenantId,Je,"tenant-id-mismatch"),se||(yield Je.beforeStateQueue.runMiddleware(W)),Je.queue((0,e.Z)(function*(){yield Je.directlySetCurrentUser(W),Je.notifyAuthListeners()}))})()}signOut(){var W=this;return(0,e.Z)(function*(){return yield W.beforeStateQueue.runMiddleware(null),(W.redirectPersistenceManager||W._popupRedirectResolver)&&(yield W._setRedirectUser(null)),W._updateCurrentUser(null,!0)})()}setPersistence(W){var se=this;return this.queue((0,e.Z)(function*(){yield se.assertedPersistence.setPersistence(vt(W))}))}initializeRecaptchaConfig(){var W=this;return(0,e.Z)(function*(){const se=yield At(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Je=new Ct(se);null==W.tenantId?W._agentRecaptchaConfig=Je:W._tenantRecaptchaConfigs[W.tenantId]=Je,Je.emailPasswordEnabled&&new en(W).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(W){this._errorFactory=new t.LL("auth","Firebase",W())}onAuthStateChanged(W,se,Je){return this.registerStateListener(this.authStateSubscription,W,se,Je)}beforeAuthStateChanged(W,se){return this.beforeStateQueue.pushCallback(W,se)}onIdTokenChanged(W,se,Je){return this.registerStateListener(this.idTokenSubscription,W,se,Je)}toJSON(){var W;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(W=this._currentUser)||void 0===W?void 0:W.toJSON()}}_setRedirectUser(W,se){var Je=this;return(0,e.Z)(function*(){const Kt=yield Je.getOrInitRedirectPersistenceManager(se);return null===W?Kt.removeCurrentUser():Kt.setCurrentUser(W)})()}getOrInitRedirectPersistenceManager(W){var se=this;return(0,e.Z)(function*(){if(!se.redirectPersistenceManager){const Je=W&&vt(W)||se._popupRedirectResolver;ne(Je,se,"argument-error"),se.redirectPersistenceManager=yield st.create(se,[vt(Je._redirectPersistence)],"redirectUser"),se.redirectUser=yield se.redirectPersistenceManager.getCurrentUser()}return se.redirectPersistenceManager})()}_redirectUserForId(W){var se=this;return(0,e.Z)(function*(){var Je,Kt;return se._isInitialized&&(yield se.queue((0,e.Z)(function*(){}))),(null===(Je=se._currentUser)||void 0===Je?void 0:Je._redirectEventId)===W?se._currentUser:(null===(Kt=se.redirectUser)||void 0===Kt?void 0:Kt._redirectEventId)===W?se.redirectUser:null})()}_persistUserIfCurrent(W){var se=this;return(0,e.Z)(function*(){if(W===se.currentUser)return se.queue((0,e.Z)(function*(){return se.directlySetCurrentUser(W)}))})()}_notifyListenersIfCurrent(W){W===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var W,se;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Je=null!==(se=null===(W=this.currentUser)||void 0===W?void 0:W.uid)&&void 0!==se?se:null;this.lastNotifiedUid!==Je&&(this.lastNotifiedUid=Je,this.authStateSubscription.next(this.currentUser))}registerStateListener(W,se,Je,Kt){if(this._deleted)return()=>{};const an="function"==typeof se?se:se.next.bind(se),Hn=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Hn,this,"internal-error"),Hn.then(()=>an(this.currentUser)),"function"==typeof se?W.addObserver(se,Je,Kt):W.addObserver(se)}directlySetCurrentUser(W){var se=this;return(0,e.Z)(function*(){se.currentUser&&se.currentUser!==W&&se._currentUser._stopProactiveRefresh(),W&&se.isProactiveRefreshEnabled&&W._startProactiveRefresh(),se.currentUser=W,W?yield se.assertedPersistence.setCurrentUser(W):yield se.assertedPersistence.removeCurrentUser()})()}queue(W){return this.operations=this.operations.then(W,W),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(W){!W||this.frameworks.includes(W)||(this.frameworks.push(W),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var W=this;return(0,e.Z)(function*(){var se;const Je={"X-Client-Version":W.clientVersion};W.app.options.appId&&(Je["X-Firebase-gmpid"]=W.app.options.appId);const Kt=yield null===(se=W.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===se?void 0:se.getHeartbeatsHeader();Kt&&(Je["X-Firebase-Client"]=Kt);const an=yield W._getAppCheckToken();return an&&(Je["X-Firebase-AppCheck"]=an),Je})()}_getAppCheckToken(){var W=this;return(0,e.Z)(function*(){var se;const Je=yield null===(se=W.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===se?void 0:se.getToken();return Je?.error&&function C(Le,...W){O.logLevel<=g.in.WARN&&O.warn(`Auth (${v.SDK_VERSION}): ${Le}`,...W)}(`Error while retrieving App Check token: ${Je.error}`),Je?.token})()}}function On(Le){return(0,t.m9)(Le)}class Ne{constructor(W){this.auth=W,this.observer=null,this.addObserver=(0,t.ne)(se=>this.observer=se)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ln(Le,W,se){const Je=On(Le);ne(Je._canInitEmulator,Je,"emulator-config-failed"),ne(/^https?:\/\//.test(W),Je,"invalid-emulator-scheme");const Kt=!!se?.disableWarnings,an=Fn(W),{host:Hn,port:ri}=function vi(Le){const W=Fn(Le),se=/(\/\/)?([^?#/]+)/.exec(Le.substr(W.length));if(!se)return{host:"",port:null};const Je=se[2].split("@").pop()||"",Kt=/^(\[[^\]]+\])(:|$)/.exec(Je);if(Kt){const an=Kt[1];return{host:an,port:vr(Je.substr(an.length+1))}}{const[an,Hn]=Je.split(":");return{host:an,port:vr(Hn)}}}(W);Je.config.emulator={url:`${an}//${Hn}${null===ri?"":`:${ri}`}/`},Je.settings.appVerificationDisabledForTesting=!0,Je.emulatorConfig=Object.freeze({host:Hn,port:ri,protocol:an.replace(":",""),options:Object.freeze({disableWarnings:Kt})}),Kt||function Zr(){function Le(){const W=document.createElement("p"),se=W.style;W.innerText="Running in emulator mode. Do not use with production credentials.",se.position="fixed",se.width="100%",se.backgroundColor="#ffffff",se.border=".1em solid #000000",se.color="#b50000",se.bottom="0px",se.left="0px",se.margin="0px",se.zIndex="10000",se.textAlign="center",W.classList.add("firebase-emulator-warning"),document.body.appendChild(W)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",Le):Le())}()}function Fn(Le){const W=Le.indexOf(":");return W<0?"":Le.substr(0,W+1)}function vr(Le){if(!Le)return null;const W=Number(Le);return isNaN(W)?null:W}class Hr{constructor(W,se){this.providerId=W,this.signInMethod=se}toJSON(){return ae("not implemented")}_getIdTokenResponse(W){return ae("not implemented")}_linkToIdToken(W,se){return ae("not implemented")}_getReauthenticationResolver(W){return ae("not implemented")}}function Fi(Le,W){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:resetPassword",ke(Le,W))})).apply(this,arguments)}function Ko(Le,W){return Co.apply(this,arguments)}function Co(){return(Co=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function zi(){return(zi=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",ke(Le,W))})).apply(this,arguments)}function jr(Le,W){return ir.apply(this,arguments)}function ir(){return(ir=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithPassword",ke(Le,W))})).apply(this,arguments)}function ao(Le,W){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:sendOobCode",ke(Le,W))})).apply(this,arguments)}function xr(){return(xr=(0,e.Z)(function*(Le,W){return ao(Le,W)})).apply(this,arguments)}function lo(Le,W){return qo.apply(this,arguments)}function qo(){return(qo=(0,e.Z)(function*(Le,W){return ao(Le,W)})).apply(this,arguments)}function As(Le,W){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,e.Z)(function*(Le,W){return ao(Le,W)})).apply(this,arguments)}function $i(){return($i=(0,e.Z)(function*(Le,W){return ao(Le,W)})).apply(this,arguments)}function Kr(){return(Kr=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithEmailLink",ke(Le,W))})).apply(this,arguments)}function $r(){return($r=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithEmailLink",ke(Le,W))})).apply(this,arguments)}class mo extends Hr{constructor(W,se,Je,Kt=null){super("password",Je),this._email=W,this._password=se,this._tenantId=Kt}static _fromEmailAndPassword(W,se){return new mo(W,se,"password")}static _fromEmailAndCode(W,se,Je=null){return new mo(W,se,"emailLink",Je)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W;if(se?.email&&se?.password){if("password"===se.signInMethod)return this._fromEmailAndPassword(se.email,se.password);if("emailLink"===se.signInMethod)return this._fromEmailAndCode(se.email,se.password,se.tenantId)}return null}_getIdTokenResponse(W){var se=this;return(0,e.Z)(function*(){var Je;switch(se.signInMethod){case"password":const Kt={returnSecureToken:!0,email:se._email,password:se._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Je=W._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const an=yield An(W,Kt,"signInWithPassword");return jr(W,an)}return jr(W,Kt).catch(function(){var an=(0,e.Z)(function*(Hn){if("auth/missing-recaptcha-token"===Hn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ri=yield An(W,Kt,"signInWithPassword");return jr(W,ri)}return Promise.reject(Hn)});return function(Hn){return an.apply(this,arguments)}}());case"emailLink":return function Pr(Le,W){return Kr.apply(this,arguments)}(W,{email:se._email,oobCode:se._password});default:T(W,"internal-error")}})()}_linkToIdToken(W,se){var Je=this;return(0,e.Z)(function*(){switch(Je.signInMethod){case"password":return Ko(W,{idToken:se,returnSecureToken:!0,email:Je._email,password:Je._password});case"emailLink":return function Do(Le,W){return $r.apply(this,arguments)}(W,{idToken:se,email:Je._email,oobCode:Je._password});default:T(W,"internal-error")}})()}_getReauthenticationResolver(W){return this._getIdTokenResponse(W)}}function Dn(Le,W){return qn.apply(this,arguments)}function qn(){return(qn=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithIdp",ke(Le,W))})).apply(this,arguments)}class li extends Hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(W){const se=new li(W.providerId,W.signInMethod);return W.idToken||W.accessToken?(W.idToken&&(se.idToken=W.idToken),W.accessToken&&(se.accessToken=W.accessToken),W.nonce&&!W.pendingToken&&(se.nonce=W.nonce),W.pendingToken&&(se.pendingToken=W.pendingToken)):W.oauthToken&&W.oauthTokenSecret?(se.accessToken=W.oauthToken,se.secret=W.oauthTokenSecret):T("argument-error"),se}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W,{providerId:Je,signInMethod:Kt}=se,an=(0,b._T)(se,["providerId","signInMethod"]);if(!Je||!Kt)return null;const Hn=new li(Je,Kt);return Hn.idToken=an.idToken||void 0,Hn.accessToken=an.accessToken||void 0,Hn.secret=an.secret,Hn.nonce=an.nonce,Hn.pendingToken=an.pendingToken||null,Hn}_getIdTokenResponse(W){return Dn(W,this.buildRequest())}_linkToIdToken(W,se){const Je=this.buildRequest();return Je.idToken=se,Dn(W,Je)}_getReauthenticationResolver(W){const se=this.buildRequest();return se.autoCreate=!1,Dn(W,se)}buildRequest(){const W={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)W.pendingToken=this.pendingToken;else{const se={};this.idToken&&(se.id_token=this.idToken),this.accessToken&&(se.access_token=this.accessToken),this.secret&&(se.oauth_token_secret=this.secret),se.providerId=this.providerId,this.nonce&&!this.pendingToken&&(se.nonce=this.nonce),W.postBody=(0,t.xO)(se)}return W}}function Qi(){return(Qi=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:sendVerificationCode",ke(Le,W))})).apply(this,arguments)}function Wi(){return(Wi=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithPhoneNumber",ke(Le,W))})).apply(this,arguments)}function Io(){return(Io=(0,e.Z)(function*(Le,W){const se=yield je(Le,"POST","/v1/accounts:signInWithPhoneNumber",ke(Le,W));if(se.temporaryProof)throw be(Le,"account-exists-with-different-credential",se);return se})).apply(this,arguments)}const Lo={USER_NOT_FOUND:"user-not-found"};function js(){return(js=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithPhoneNumber",ke(Le,Object.assign(Object.assign({},W),{operation:"REAUTH"})),Lo)})).apply(this,arguments)}class eo extends Hr{constructor(W){super("phone","phone"),this.params=W}static _fromVerification(W,se){return new eo({verificationId:W,verificationCode:se})}static _fromTokenResponse(W,se){return new eo({phoneNumber:W,temporaryProof:se})}_getIdTokenResponse(W){return function sr(Le,W){return Wi.apply(this,arguments)}(W,this._makeVerificationRequest())}_linkToIdToken(W,se){return function Ir(Le,W){return Io.apply(this,arguments)}(W,Object.assign({idToken:se},this._makeVerificationRequest()))}_getReauthenticationResolver(W){return function ko(Le,W){return js.apply(this,arguments)}(W,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:W,phoneNumber:se,verificationId:Je,verificationCode:Kt}=this.params;return W&&se?{temporaryProof:W,phoneNumber:se}:{sessionInfo:Je,code:Kt}}toJSON(){const W={providerId:this.providerId};return this.params.phoneNumber&&(W.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(W.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(W.verificationCode=this.params.verificationCode),this.params.verificationId&&(W.verificationId=this.params.verificationId),W}static fromJSON(W){"string"==typeof W&&(W=JSON.parse(W));const{verificationId:se,verificationCode:Je,phoneNumber:Kt,temporaryProof:an}=W;return Je||se||Kt||an?new eo({verificationId:se,verificationCode:Je,phoneNumber:Kt,temporaryProof:an}):null}}class ss{constructor(W){var se,Je,Kt,an,Hn,ri;const Si=(0,t.zd)((0,t.pd)(W)),Ii=null!==(se=Si.apiKey)&&void 0!==se?se:null,Yi=null!==(Je=Si.oobCode)&&void 0!==Je?Je:null,Cr=function _o(Le){switch(Le){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Kt=Si.mode)&&void 0!==Kt?Kt:null);ne(Ii&&Yi&&Cr,"argument-error"),this.apiKey=Ii,this.operation=Cr,this.code=Yi,this.continueUrl=null!==(an=Si.continueUrl)&&void 0!==an?an:null,this.languageCode=null!==(Hn=Si.languageCode)&&void 0!==Hn?Hn:null,this.tenantId=null!==(ri=Si.tenantId)&&void 0!==ri?ri:null}static parseLink(W){const se=function os(Le){const W=(0,t.zd)((0,t.pd)(Le)).link,se=W?(0,t.zd)((0,t.pd)(W)).deep_link_id:null,Je=(0,t.zd)((0,t.pd)(Le)).deep_link_id;return(Je?(0,t.zd)((0,t.pd)(Je)).link:null)||Je||se||W||Le}(W);try{return new ss(se)}catch{return null}}}let Ha=(()=>{class Le{constructor(){this.providerId=Le.PROVIDER_ID}static credential(se,Je){return mo._fromEmailAndPassword(se,Je)}static credentialWithLink(se,Je){const Kt=ss.parseLink(Je);return ne(Kt,"argument-error"),mo._fromEmailAndCode(se,Kt.code,Kt.tenantId)}}return Le.PROVIDER_ID="password",Le.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Le.EMAIL_LINK_SIGN_IN_METHOD="emailLink",Le})();class Xo{constructor(W){this.providerId=W,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(W){this.defaultLanguageCode=W}setCustomParameters(W){return this.customParameters=W,this}getCustomParameters(){return this.customParameters}}class Vs extends Xo{constructor(){super(...arguments),this.scopes=[]}addScope(W){return this.scopes.includes(W)||this.scopes.push(W),this}getScopes(){return[...this.scopes]}}class co extends Vs{static credentialFromJSON(W){const se="string"==typeof W?JSON.parse(W):W;return ne("providerId"in se&&"signInMethod"in se,"argument-error"),li._fromParams(se)}credential(W){return this._credential(Object.assign(Object.assign({},W),{nonce:W.rawNonce}))}_credential(W){return ne(W.idToken||W.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},W),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(W){return co.oauthCredentialFromTaggedObject(W)}static credentialFromError(W){return co.oauthCredentialFromTaggedObject(W.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:W}){if(!W)return null;const{oauthIdToken:se,oauthAccessToken:Je,oauthTokenSecret:Kt,pendingToken:an,nonce:Hn,providerId:ri}=W;if(!Je&&!Kt&&!se&&!an||!ri)return null;try{return new co(ri)._credential({idToken:se,accessToken:Je,nonce:Hn,pendingToken:an})}catch{return null}}}let as=(()=>{class Le extends Vs{constructor(){super("facebook.com")}static credential(se){return li._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.FACEBOOK_SIGN_IN_METHOD,accessToken:se})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se||!("oauthAccessToken"in se)||!se.oauthAccessToken)return null;try{return Le.credential(se.oauthAccessToken)}catch{return null}}}return Le.FACEBOOK_SIGN_IN_METHOD="facebook.com",Le.PROVIDER_ID="facebook.com",Le})(),xs=(()=>{class Le extends Vs{constructor(){super("google.com"),this.addScope("profile")}static credential(se,Je){return li._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.GOOGLE_SIGN_IN_METHOD,idToken:se,accessToken:Je})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{oauthIdToken:Je,oauthAccessToken:Kt}=se;if(!Je&&!Kt)return null;try{return Le.credential(Je,Kt)}catch{return null}}}return Le.GOOGLE_SIGN_IN_METHOD="google.com",Le.PROVIDER_ID="google.com",Le})(),Is=(()=>{class Le extends Vs{constructor(){super("github.com")}static credential(se){return li._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.GITHUB_SIGN_IN_METHOD,accessToken:se})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se||!("oauthAccessToken"in se)||!se.oauthAccessToken)return null;try{return Le.credential(se.oauthAccessToken)}catch{return null}}}return Le.GITHUB_SIGN_IN_METHOD="github.com",Le.PROVIDER_ID="github.com",Le})();class hr extends Hr{constructor(W,se){super(W,W),this.pendingToken=se}_getIdTokenResponse(W){return Dn(W,this.buildRequest())}_linkToIdToken(W,se){const Je=this.buildRequest();return Je.idToken=se,Dn(W,Je)}_getReauthenticationResolver(W){const se=this.buildRequest();return se.autoCreate=!1,Dn(W,se)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W,{providerId:Je,signInMethod:Kt,pendingToken:an}=se;return Je&&Kt&&an&&Je===Kt?new hr(Je,an):null}static _create(W,se){return new hr(W,se)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class io extends Xo{constructor(W){ne(W.startsWith("saml."),"argument-error"),super(W)}static credentialFromResult(W){return io.samlCredentialFromTaggedObject(W)}static credentialFromError(W){return io.samlCredentialFromTaggedObject(W.customData||{})}static credentialFromJSON(W){const se=hr.fromJSON(W);return ne(se,"argument-error"),se}static samlCredentialFromTaggedObject({_tokenResponse:W}){if(!W)return null;const{pendingToken:se,providerId:Je}=W;if(!se||!Je)return null;try{return hr._create(Je,se)}catch{return null}}}let fa=(()=>{class Le extends Vs{constructor(){super("twitter.com")}static credential(se,Je){return li._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.TWITTER_SIGN_IN_METHOD,oauthToken:se,oauthTokenSecret:Je})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{oauthAccessToken:Je,oauthTokenSecret:Kt}=se;if(!Je||!Kt)return null;try{return Le.credential(Je,Kt)}catch{return null}}}return Le.TWITTER_SIGN_IN_METHOD="twitter.com",Le.PROVIDER_ID="twitter.com",Le})();function Mo(Le,W){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signUp",ke(Le,W))})).apply(this,arguments)}class mr{constructor(W){this.user=W.user,this.providerId=W.providerId,this._tokenResponse=W._tokenResponse,this.operationType=W.operationType}static _fromIdTokenResponse(W,se,Je,Kt=!1){return(0,e.Z)(function*(){const an=yield fn._fromIdTokenResponse(W,Je,Kt),Hn=Fo(Je);return new mr({user:an,providerId:Hn,_tokenResponse:Je,operationType:se})})()}static _forOperation(W,se,Je){return(0,e.Z)(function*(){yield W._updateTokensIfNecessary(Je,!0);const Kt=Fo(Je);return new mr({user:W,providerId:Kt,_tokenResponse:Je,operationType:se})})()}}function Fo(Le){return Le.providerId?Le.providerId:"phoneNumber"in Le?"phone":null}function Ks(Le){return pr.apply(this,arguments)}function pr(){return(pr=(0,e.Z)(function*(Le){var W;const se=On(Le);if(yield se._initializationPromise,null!==(W=se.currentUser)&&void 0!==W&&W.isAnonymous)return new mr({user:se.currentUser,providerId:null,operationType:"signIn"});const Je=yield Mo(se,{returnSecureToken:!0}),Kt=yield mr._fromIdTokenResponse(se,"signIn",Je,!0);return yield se._updateCurrentUser(Kt.user),Kt})).apply(this,arguments)}class ys extends t.ZR{constructor(W,se,Je,Kt){var an;super(se.code,se.message),this.operationType=Je,this.user=Kt,Object.setPrototypeOf(this,ys.prototype),this.customData={appName:W.name,tenantId:null!==(an=W.tenantId)&&void 0!==an?an:void 0,_serverResponse:se.customData._serverResponse,operationType:Je}}static _fromErrorAndOperation(W,se,Je,Kt){return new ys(W,se,Je,Kt)}}function Yo(Le,W,se,Je){return("reauthenticate"===W?se._getReauthenticationResolver(Le):se._getIdTokenResponse(Le)).catch(an=>{throw"auth/multi-factor-auth-required"===an.code?ys._fromErrorAndOperation(Le,an,W,Je):an})}function ws(Le){return new Set(Le.map(({providerId:W})=>W).filter(W=>!!W))}function Aa(Le,W){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le);yield es(!0,se,W);const{providerUserInfo:Je}=yield function ye(Le,W){return oe.apply(this,arguments)}(se.auth,{idToken:yield se.getIdToken(),deleteProvider:[W]}),Kt=ws(Je||[]);return se.providerData=se.providerData.filter(an=>Kt.has(an.providerId)),Kt.has("phone")||(se.phoneNumber=null),yield se.auth._persistUserIfCurrent(se),se}),Ns.apply(this,arguments)}function vo(Le,W){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,e.Z)(function*(Le,W,se=!1){const Je=yield Ge(Le,W._linkToIdToken(Le.auth,yield Le.getIdToken()),se);return mr._forOperation(Le,"link",Je)})).apply(this,arguments)}function es(Le,W,se){return ha.apply(this,arguments)}function ha(){return(ha=(0,e.Z)(function*(Le,W,se){yield Qe(W);const Kt=!1===Le?"provider-already-linked":"no-such-provider";ne(ws(W.providerData).has(se)===Le,W.auth,Kt)})).apply(this,arguments)}function xa(Le,W){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,e.Z)(function*(Le,W,se=!1){const{auth:Je}=Le,Kt="reauthenticate";try{const an=yield Ge(Le,Yo(Je,Kt,W,Le),se);ne(an.idToken,Je,"internal-error");const Hn=xe(an.idToken);ne(Hn,Je,"internal-error");const{sub:ri}=Hn;return ne(Le.uid===ri,Je,"user-mismatch"),mr._forOperation(Le,Kt,an)}catch(an){throw"auth/user-not-found"===an?.code&&T(Je,"user-mismatch"),an}})).apply(this,arguments)}function Br(Le,W){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,e.Z)(function*(Le,W,se=!1){const Kt=yield Yo(Le,"signIn",W),an=yield mr._fromIdTokenResponse(Le,"signIn",Kt);return se||(yield Le._updateCurrentUser(an.user)),an})).apply(this,arguments)}function ls(Le,W){return ta.apply(this,arguments)}function ta(){return(ta=(0,e.Z)(function*(Le,W){return Br(On(Le),W)})).apply(this,arguments)}function ks(Le,W){return bs.apply(this,arguments)}function bs(){return(bs=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le);return yield es(!1,se,W.providerId),vo(se,W)})).apply(this,arguments)}function Ia(Le,W){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,e.Z)(function*(Le,W){return xa((0,t.m9)(Le),W)})).apply(this,arguments)}function _t(){return(_t=(0,e.Z)(function*(Le,W){return je(Le,"POST","/v1/accounts:signInWithCustomToken",ke(Le,W))})).apply(this,arguments)}function Ot(Le,W){return ut.apply(this,arguments)}function ut(){return ut=(0,e.Z)(function*(Le,W){const se=On(Le),Je=yield function kn(Le,W){return _t.apply(this,arguments)}(se,{token:W,returnSecureToken:!0}),Kt=yield mr._fromIdTokenResponse(se,"signIn",Je);return yield se._updateCurrentUser(Kt.user),Kt}),ut.apply(this,arguments)}class $t{constructor(W,se){this.factorId=W,this.uid=se.mfaEnrollmentId,this.enrollmentTime=new Date(se.enrolledAt).toUTCString(),this.displayName=se.displayName}static _fromServerResponse(W,se){return"phoneInfo"in se?wn._fromServerResponse(W,se):"totpInfo"in se?Ti._fromServerResponse(W,se):T(W,"internal-error")}}class wn extends $t{constructor(W){super("phone",W),this.phoneNumber=W.phoneInfo}static _fromServerResponse(W,se){return new wn(se)}}class Ti extends $t{constructor(W){super("totp",W)}static _fromServerResponse(W,se){return new Ti(se)}}function Zi(Le,W,se){var Je;ne((null===(Je=se.url)||void 0===Je?void 0:Je.length)>0,Le,"invalid-continue-uri"),ne(typeof se.dynamicLinkDomain>"u"||se.dynamicLinkDomain.length>0,Le,"invalid-dynamic-link-domain"),W.continueUrl=se.url,W.dynamicLinkDomain=se.dynamicLinkDomain,W.canHandleCodeInApp=se.handleCodeInApp,se.iOS&&(ne(se.iOS.bundleId.length>0,Le,"missing-ios-bundle-id"),W.iOSBundleId=se.iOS.bundleId),se.android&&(ne(se.android.packageName.length>0,Le,"missing-android-pkg-name"),W.androidInstallApp=se.android.installApp,W.androidMinimumVersionCode=se.android.minimumVersion,W.androidPackageName=se.android.packageName)}function zo(Le,W,se){return ts.apply(this,arguments)}function ts(){return ts=(0,e.Z)(function*(Le,W,se){var Je;const Kt=On(Le),an={requestType:"PASSWORD_RESET",email:W,clientType:"CLIENT_TYPE_WEB"};if(null!==(Je=Kt._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const Hn=yield An(Kt,an,"getOobCode",!0);se&&Zi(Kt,Hn,se),yield lo(Kt,Hn)}else se&&Zi(Kt,an,se),yield lo(Kt,an).catch(function(){var Hn=(0,e.Z)(function*(ri){if("auth/missing-recaptcha-token"!==ri.code)return Promise.reject(ri);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Si=yield An(Kt,an,"getOobCode",!0);se&&Zi(Kt,Si,se),yield lo(Kt,Si)}});return function(ri){return Hn.apply(this,arguments)}}())}),ts.apply(this,arguments)}function Es(Le,W,se){return si.apply(this,arguments)}function si(){return(si=(0,e.Z)(function*(Le,W,se){yield Fi((0,t.m9)(Le),{oobCode:W,newPassword:se})})).apply(this,arguments)}function Os(Le,W){return to.apply(this,arguments)}function to(){return to=(0,e.Z)(function*(Le,W){yield function vs(Le,W){return zi.apply(this,arguments)}((0,t.m9)(Le),{oobCode:W})}),to.apply(this,arguments)}function cs(Le,W){return dl.apply(this,arguments)}function dl(){return(dl=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le),Je=yield Fi(se,{oobCode:W}),Kt=Je.requestType;switch(ne(Kt,se,"internal-error"),Kt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(Je.newEmail,se,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(Je.mfaInfo,se,"internal-error");default:ne(Je.email,se,"internal-error")}let an=null;return Je.mfaInfo&&(an=$t._fromServerResponse(On(se),Je.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Je.requestType?Je.newEmail:Je.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Je.requestType?Je.email:Je.newEmail)||null,multiFactorInfo:an},operation:Kt}})).apply(this,arguments)}function ma(Le,W){return wa.apply(this,arguments)}function wa(){return(wa=(0,e.Z)(function*(Le,W){const{data:se}=yield cs((0,t.m9)(Le),W);return se.email})).apply(this,arguments)}function na(Le,W,se){return ds.apply(this,arguments)}function ds(){return ds=(0,e.Z)(function*(Le,W,se){var Je;const Kt=On(Le),an={returnSecureToken:!0,email:W,password:se,clientType:"CLIENT_TYPE_WEB"};let Hn;if(null!==(Je=Kt._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const Ii=yield An(Kt,an,"signUpPassword");Hn=Mo(Kt,Ii)}else Hn=Mo(Kt,an).catch(function(){var Ii=(0,e.Z)(function*(Yi){if("auth/missing-recaptcha-token"===Yi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Cr=yield An(Kt,an,"signUpPassword");return Mo(Kt,Cr)}return Promise.reject(Yi)});return function(Yi){return Ii.apply(this,arguments)}}());const ri=yield Hn.catch(Ii=>Promise.reject(Ii)),Si=yield mr._fromIdTokenResponse(Kt,"signIn",ri);return yield Kt._updateCurrentUser(Si.user),Si}),ds.apply(this,arguments)}function ul(Le,W,se){return ls((0,t.m9)(Le),Ha.credential(W,se))}function wl(Le,W,se){return pa.apply(this,arguments)}function pa(){return pa=(0,e.Z)(function*(Le,W,se){var Je;const Kt=On(Le),an={requestType:"EMAIL_SIGNIN",email:W,clientType:"CLIENT_TYPE_WEB"};function Hn(ri,Si){ne(Si.handleCodeInApp,Kt,"argument-error"),Si&&Zi(Kt,ri,Si)}if(null!==(Je=Kt._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const ri=yield An(Kt,an,"getOobCode",!0);Hn(ri,se),yield As(Kt,ri)}else Hn(an,se),yield As(Kt,an).catch(function(){var ri=(0,e.Z)(function*(Si){if("auth/missing-recaptcha-token"!==Si.code)return Promise.reject(Si);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ii=yield An(Kt,an,"getOobCode",!0);Hn(Ii,se),yield As(Kt,Ii)}});return function(Si){return ri.apply(this,arguments)}}())}),pa.apply(this,arguments)}function fl(Le,W){const se=ss.parseLink(W);return"EMAIL_SIGNIN"===se?.operation}function Oa(Le,W,se){return wo.apply(this,arguments)}function wo(){return(wo=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le),Kt=Ha.credentialWithLink(W,se||Y());return ne(Kt._tenantId===(Je.tenantId||null),Je,"tenant-id-mismatch"),ls(Je,Kt)})).apply(this,arguments)}function Pa(){return(Pa=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:createAuthUri",ke(Le,W))})).apply(this,arguments)}function dc(Le,W){return ja.apply(this,arguments)}function ja(){return ja=(0,e.Z)(function*(Le,W){const Je={identifier:W,continueUri:le()?Y():"http://localhost"},{signinMethods:Kt}=yield function zc(Le,W){return Pa.apply(this,arguments)}((0,t.m9)(Le),Je);return Kt||[]}),ja.apply(this,arguments)}function hl(Le,W){return ga.apply(this,arguments)}function ga(){return ga=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le),Kt={requestType:"VERIFY_EMAIL",idToken:yield Le.getIdToken()};W&&Zi(se.auth,Kt,W);const{email:an}=yield function rs(Le,W){return xr.apply(this,arguments)}(se.auth,Kt);an!==Le.email&&(yield Le.reload())}),ga.apply(this,arguments)}function ml(Le,W,se){return _a.apply(this,arguments)}function _a(){return _a=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le),an={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield Le.getIdToken(),newEmail:W};se&&Zi(Je.auth,an,se);const{email:Hn}=yield function yi(Le,W){return $i.apply(this,arguments)}(Je.auth,an);Hn!==Le.email&&(yield Le.reload())}),_a.apply(this,arguments)}function gl(){return(gl=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function uc(Le,W){return va.apply(this,arguments)}function va(){return va=(0,e.Z)(function*(Le,{displayName:W,photoURL:se}){if(void 0===W&&void 0===se)return;const Je=(0,t.m9)(Le),an={idToken:yield Je.getIdToken(),displayName:W,photoUrl:se,returnSecureToken:!0},Hn=yield Ge(Je,function pl(Le,W){return gl.apply(this,arguments)}(Je.auth,an));Je.displayName=Hn.displayName||null,Je.photoURL=Hn.photoUrl||null;const ri=Je.providerData.find(({providerId:Si})=>"password"===Si);ri&&(ri.displayName=Je.displayName,ri.photoURL=Je.photoURL),yield Je._updateTokensIfNecessary(Hn)}),va.apply(this,arguments)}function nl(Le,W){return Ol((0,t.m9)(Le),W,null)}function _l(Le,W){return Ol((0,t.m9)(Le),null,W)}function Ol(Le,W,se){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,e.Z)(function*(Le,W,se){const{auth:Je}=Le,an={idToken:yield Le.getIdToken(),returnSecureToken:!0};W&&(an.email=W),se&&(an.password=se);const Hn=yield Ge(Le,Ko(Je,an));yield Le._updateTokensIfNecessary(Hn,!0)})).apply(this,arguments)}class Ss{constructor(W,se,Je={}){this.isNewUser=W,this.providerId=se,this.profile=Je}}class or extends Ss{constructor(W,se,Je,Kt){super(W,se,Je),this.username=Kt}}class Va extends Ss{constructor(W,se){super(W,"facebook.com",se)}}class $e extends or{constructor(W,se){super(W,"github.com",se,"string"==typeof se?.login?se?.login:null)}}class Yt extends Ss{constructor(W,se){super(W,"google.com",se)}}class mt extends or{constructor(W,se,Je){super(W,"twitter.com",se,Je)}}function Vt(Le){const{user:W,_tokenResponse:se}=Le;return W.isAnonymous&&!se?{providerId:null,isNewUser:!1,profile:null}:function Ra(Le){var W,se;if(!Le)return null;const{providerId:Je}=Le,Kt=Le.rawUserInfo?JSON.parse(Le.rawUserInfo):{},an=Le.isNewUser||"identitytoolkit#SignupNewUserResponse"===Le.kind;if(!Je&&Le?.idToken){const Hn=null===(se=null===(W=xe(Le.idToken))||void 0===W?void 0:W.firebase)||void 0===se?void 0:se.sign_in_provider;if(Hn)return new Ss(an,"anonymous"!==Hn&&"custom"!==Hn?Hn:null)}if(!Je)return null;switch(Je){case"facebook.com":return new Va(an,Kt);case"github.com":return new $e(an,Kt);case"google.com":return new Yt(an,Kt);case"twitter.com":return new mt(an,Kt,Le.screenName||null);case"custom":case"anonymous":return new Ss(an,null);default:return new Ss(an,Je,Kt)}}(se)}class _r{constructor(W,se,Je){this.type=W,this.credential=se,this.auth=Je}static _fromIdtoken(W,se){return new _r("enroll",W,se)}static _fromMfaPendingCredential(W){return new _r("signin",W)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(W){var se,Je;if(W?.multiFactorSession){if(null!==(se=W.multiFactorSession)&&void 0!==se&&se.pendingCredential)return _r._fromMfaPendingCredential(W.multiFactorSession.pendingCredential);if(null!==(Je=W.multiFactorSession)&&void 0!==Je&&Je.idToken)return _r._fromIdtoken(W.multiFactorSession.idToken)}return null}}class ns{constructor(W,se,Je){this.session=W,this.hints=se,this.signInResolver=Je}static _fromError(W,se){const Je=On(W),Kt=se.customData._serverResponse,an=(Kt.mfaInfo||[]).map(ri=>$t._fromServerResponse(Je,ri));ne(Kt.mfaPendingCredential,Je,"internal-error");const Hn=_r._fromMfaPendingCredential(Kt.mfaPendingCredential);return new ns(Hn,an,function(){var ri=(0,e.Z)(function*(Si){const Ii=yield Si._process(Je,Hn);delete Kt.mfaInfo,delete Kt.mfaPendingCredential;const Yi=Object.assign(Object.assign({},Kt),{idToken:Ii.idToken,refreshToken:Ii.refreshToken});switch(se.operationType){case"signIn":const Cr=yield mr._fromIdTokenResponse(Je,se.operationType,Yi);return yield Je._updateCurrentUser(Cr.user),Cr;case"reauthenticate":return ne(se.user,Je,"internal-error"),mr._forOperation(se.user,se.operationType,Yi);default:T(Je,"internal-error")}});return function(Si){return ri.apply(this,arguments)}}())}resolveSignIn(W){var se=this;return(0,e.Z)(function*(){return se.signInResolver(W)})()}}function Vi(Le,W){var se;const Je=(0,t.m9)(Le),Kt=W;return ne(W.customData.operationType,Je,"argument-error"),ne(null===(se=Kt.customData._serverResponse)||void 0===se?void 0:se.mfaPendingCredential,Je,"argument-error"),ns._fromError(Je,Kt)}class ya{constructor(W){this.user=W,this.enrolledFactors=[],W._onReload(se=>{se.mfaInfo&&(this.enrolledFactors=se.mfaInfo.map(Je=>$t._fromServerResponse(W.auth,Je)))})}static _fromUser(W){return new ya(W)}getSession(){var W=this;return(0,e.Z)(function*(){return _r._fromIdtoken(yield W.user.getIdToken(),W.user.auth)})()}enroll(W,se){var Je=this;return(0,e.Z)(function*(){const Kt=W,an=yield Je.getSession(),Hn=yield Ge(Je.user,Kt._process(Je.user.auth,an,se));return yield Je.user._updateTokensIfNecessary(Hn),Je.user.reload()})()}unenroll(W){var se=this;return(0,e.Z)(function*(){const Je="string"==typeof W?W:W.uid,Kt=yield se.user.getIdToken();try{const an=yield Ge(se.user,function ia(Le,W){return he(Le,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(Le,W))}(se.user.auth,{idToken:Kt,mfaEnrollmentId:Je}));se.enrolledFactors=se.enrolledFactors.filter(({uid:Hn})=>Hn!==Je),yield se.user._updateTokensIfNecessary(an),yield se.user.reload()}catch(an){throw an}})()}}const ra=new WeakMap;function Pl(Le){const W=(0,t.m9)(Le);return ra.has(W)||ra.set(W,ya._fromUser(W)),ra.get(W)}const ba="__sak";class Ka{constructor(W,se){this.storageRetriever=W,this.type=se}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(W,se){return this.storage.setItem(W,JSON.stringify(se)),Promise.resolve()}_get(W){const se=this.storage.getItem(W);return Promise.resolve(se?JSON.parse(se):null)}_remove(W){return this.storage.removeItem(W),Promise.resolve()}get storage(){return this.storageRetriever()}}const vl=(()=>{class Le extends Ka{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(se,Je)=>this.onStorageEvent(se,Je),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ds(){const Le=(0,t.z$)();return bt(Le)||In(Le)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(se){for(const Je of Object.keys(this.listeners)){const Kt=this.storage.getItem(Je),an=this.localCache[Je];Kt!==an&&se(Je,an,Kt)}}onStorageEvent(se,Je=!1){if(!se.key)return void this.forAllChangedKeys((ri,Si,Ii)=>{this.notifyListeners(ri,Ii)});const Kt=se.key;if(Je?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ri=this.storage.getItem(Kt);if(se.newValue!==ri)null!==se.newValue?this.storage.setItem(Kt,se.newValue):this.storage.removeItem(Kt);else if(this.localCache[Kt]===se.newValue&&!Je)return}const an=()=>{const ri=this.storage.getItem(Kt);!Je&&this.localCache[Kt]===ri||this.notifyListeners(Kt,ri)},Hn=this.storage.getItem(Kt);!function ni(){return(0,t.w1)()&&10===document.documentMode}()||Hn===se.newValue||se.newValue===se.oldValue?an():setTimeout(an,10)}notifyListeners(se,Je){this.localCache[se]=Je;const Kt=this.listeners[se];if(Kt)for(const an of Array.from(Kt))an(Je&&JSON.parse(Je))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((se,Je,Kt)=>{this.onStorageEvent(new StorageEvent("storage",{key:se,oldValue:Je,newValue:Kt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(se,Je){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[se]||(this.listeners[se]=new Set,this.localCache[se]=this.storage.getItem(se)),this.listeners[se].add(Je)}_removeListener(se,Je){this.listeners[se]&&(this.listeners[se].delete(Je),0===this.listeners[se].size&&delete this.listeners[se]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(se,Je){var Kt=()=>super._set,an=this;return(0,e.Z)(function*(){yield Kt().call(an,se,Je),an.localCache[se]=JSON.stringify(Je)})()}_get(se){var Je=()=>super._get,Kt=this;return(0,e.Z)(function*(){const an=yield Je().call(Kt,se);return Kt.localCache[se]=JSON.stringify(an),an})()}_remove(se){var Je=()=>super._remove,Kt=this;return(0,e.Z)(function*(){yield Je().call(Kt,se),delete Kt.localCache[se]})()}}return Le.type="LOCAL",Le})(),Go=(()=>{class Le extends Ka{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(se,Je){}_removeListener(se,Je){}}return Le.type="SESSION",Le})();let il=(()=>{class Le{constructor(se){this.eventTarget=se,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(se){const Je=this.receivers.find(an=>an.isListeningto(se));if(Je)return Je;const Kt=new Le(se);return this.receivers.push(Kt),Kt}isListeningto(se){return this.eventTarget===se}handleEvent(se){var Je=this;return(0,e.Z)(function*(){const Kt=se,{eventId:an,eventType:Hn,data:ri}=Kt.data,Si=Je.handlersMap[Hn];if(!Si?.size)return;Kt.ports[0].postMessage({status:"ack",eventId:an,eventType:Hn});const Ii=Array.from(Si).map(function(){var Cr=(0,e.Z)(function*(Ps){return Ps(Kt.origin,ri)});return function(Ps){return Cr.apply(this,arguments)}}()),Yi=yield function Zc(Le){return Promise.all(Le.map(function(){var W=(0,e.Z)(function*(se){try{return{fulfilled:!0,value:yield se}}catch(Je){return{fulfilled:!1,reason:Je}}});return function(se){return W.apply(this,arguments)}}()))}(Ii);Kt.ports[0].postMessage({status:"done",eventId:an,eventType:Hn,response:Yi})})()}_subscribe(se,Je){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[se]||(this.handlersMap[se]=new Set),this.handlersMap[se].add(Je)}_unsubscribe(se,Je){this.handlersMap[se]&&Je&&this.handlersMap[se].delete(Je),(!Je||0===this.handlersMap[se].size)&&delete this.handlersMap[se],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return Le.receivers=[],Le})();function ro(Le="",W=10){let se="";for(let Je=0;Je<W;Je++)se+=Math.floor(10*Math.random());return Le+se}class Wa{constructor(W){this.target=W,this.handlers=new Set}removeMessageHandler(W){W.messageChannel&&(W.messageChannel.port1.removeEventListener("message",W.onMessage),W.messageChannel.port1.close()),this.handlers.delete(W)}_send(W,se,Je=50){var Kt=this;return(0,e.Z)(function*(){const an=typeof MessageChannel<"u"?new MessageChannel:null;if(!an)throw new Error("connection_unavailable");let Hn,ri;return new Promise((Si,Ii)=>{const Yi=ro("",20);an.port1.start();const Cr=setTimeout(()=>{Ii(new Error("unsupported_event"))},Je);ri={messageChannel:an,onMessage(Ps){const oc=Ps;if(oc.data.eventId===Yi)switch(oc.data.status){case"ack":clearTimeout(Cr),Hn=setTimeout(()=>{Ii(new Error("timeout"))},3e3);break;case"done":clearTimeout(Hn),Si(oc.data.response);break;default:clearTimeout(Cr),clearTimeout(Hn),Ii(new Error("invalid_response"))}}},Kt.handlers.add(ri),an.port1.addEventListener("message",ri.onMessage),Kt.target.postMessage({eventType:W,eventId:Yi,data:se},[an.port2])}).finally(()=>{ri&&Kt.removeMessageHandler(ri)})})()}}function Oo(){return window}function Ea(){return typeof Oo().WorkerGlobalScope<"u"&&"function"==typeof Oo().importScripts}function Zo(){return(Zo=(0,e.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const po="firebaseLocalStorageDb",Bo="firebaseLocalStorage",rl="fbase_key";class Ta{constructor(W){this.request=W}toPromise(){return new Promise((W,se)=>{this.request.addEventListener("success",()=>{W(this.request.result)}),this.request.addEventListener("error",()=>{se(this.request.error)})})}}function sa(Le,W){return Le.transaction([Bo],W?"readwrite":"readonly").objectStore(Bo)}function bl(){const Le=indexedDB.open(po,1);return new Promise((W,se)=>{Le.addEventListener("error",()=>{se(Le.error)}),Le.addEventListener("upgradeneeded",()=>{const Je=Le.result;try{Je.createObjectStore(Bo,{keyPath:rl})}catch(Kt){se(Kt)}}),Le.addEventListener("success",(0,e.Z)(function*(){const Je=Le.result;Je.objectStoreNames.contains(Bo)?W(Je):(Je.close(),yield function Fs(){const Le=indexedDB.deleteDatabase(po);return new Ta(Le).toPromise()}(),W(yield bl()))}))})}function mc(Le,W,se){return El.apply(this,arguments)}function El(){return(El=(0,e.Z)(function*(Le,W,se){const Je=sa(Le,!0).put({[rl]:W,value:se});return new Ta(Je).toPromise()})).apply(this,arguments)}function zs(){return(zs=(0,e.Z)(function*(Le,W){const se=sa(Le,!1).get(W),Je=yield new Ta(se).toPromise();return void 0===Je?null:Je.value})).apply(this,arguments)}function Tl(Le,W){const se=sa(Le,!0).delete(W);return new Ta(se).toPromise()}const Po=(()=>{class Le{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var se=this;return(0,e.Z)(function*(){return se.db||(se.db=yield bl()),se.db})()}_withRetries(se){var Je=this;return(0,e.Z)(function*(){let Kt=0;for(;;)try{const an=yield Je._openDb();return yield se(an)}catch(an){if(Kt++>3)throw an;Je.db&&(Je.db.close(),Je.db=void 0)}})()}initializeServiceWorkerMessaging(){var se=this;return(0,e.Z)(function*(){return Ea()?se.initializeReceiver():se.initializeSender()})()}initializeReceiver(){var se=this;return(0,e.Z)(function*(){se.receiver=il._getInstance(function yl(){return Ea()?self:null}()),se.receiver._subscribe("keyChanged",function(){var Je=(0,e.Z)(function*(Kt,an){return{keyProcessed:(yield se._poll()).includes(an.key)}});return function(Kt,an){return Je.apply(this,arguments)}}()),se.receiver._subscribe("ping",function(){var Je=(0,e.Z)(function*(Kt,an){return["keyChanged"]});return function(Kt,an){return Je.apply(this,arguments)}}())})()}initializeSender(){var se=this;return(0,e.Z)(function*(){var Je,Kt;if(se.activeServiceWorker=yield function us(){return Zo.apply(this,arguments)}(),!se.activeServiceWorker)return;se.sender=new Wa(se.activeServiceWorker);const an=yield se.sender._send("ping",{},800);an&&null!==(Je=an[0])&&void 0!==Je&&Je.fulfilled&&null!==(Kt=an[0])&&void 0!==Kt&&Kt.value.includes("keyChanged")&&(se.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(se){var Je=this;return(0,e.Z)(function*(){if(Je.sender&&Je.activeServiceWorker&&function oa(){var Le;return(null===(Le=navigator?.serviceWorker)||void 0===Le?void 0:Le.controller)||null}()===Je.activeServiceWorker)try{yield Je.sender._send("keyChanged",{key:se},Je.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const se=yield bl();return yield mc(se,ba,"1"),yield Tl(se,ba),!0}catch{}return!1})()}_withPendingWrite(se){var Je=this;return(0,e.Z)(function*(){Je.pendingWrites++;try{yield se()}finally{Je.pendingWrites--}})()}_set(se,Je){var Kt=this;return(0,e.Z)(function*(){return Kt._withPendingWrite((0,e.Z)(function*(){return yield Kt._withRetries(an=>mc(an,se,Je)),Kt.localCache[se]=Je,Kt.notifyServiceWorker(se)}))})()}_get(se){var Je=this;return(0,e.Z)(function*(){const Kt=yield Je._withRetries(an=>function $c(Le,W){return zs.apply(this,arguments)}(an,se));return Je.localCache[se]=Kt,Kt})()}_remove(se){var Je=this;return(0,e.Z)(function*(){return Je._withPendingWrite((0,e.Z)(function*(){return yield Je._withRetries(Kt=>Tl(Kt,se)),delete Je.localCache[se],Je.notifyServiceWorker(se)}))})()}_poll(){var se=this;return(0,e.Z)(function*(){const Je=yield se._withRetries(Hn=>{const ri=sa(Hn,!1).getAll();return new Ta(ri).toPromise()});if(!Je)return[];if(0!==se.pendingWrites)return[];const Kt=[],an=new Set;for(const{fbase_key:Hn,value:ri}of Je)an.add(Hn),JSON.stringify(se.localCache[Hn])!==JSON.stringify(ri)&&(se.notifyListeners(Hn,ri),Kt.push(Hn));for(const Hn of Object.keys(se.localCache))se.localCache[Hn]&&!an.has(Hn)&&(se.notifyListeners(Hn,null),Kt.push(Hn));return Kt})()}notifyListeners(se,Je){this.localCache[se]=Je;const Kt=this.listeners[se];if(Kt)for(const an of Array.from(Kt))an(Je)}startPolling(){var se=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return se._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(se,Je){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[se]||(this.listeners[se]=new Set,this._get(se)),this.listeners[se].add(Je)}_removeListener(se,Je){this.listeners[se]&&(this.listeners[se].delete(Je),0===this.listeners[se].size&&delete this.listeners[se]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return Le.type="LOCAL",Le})(),Me=1e12;class nt{constructor(W){this.auth=W,this.counter=Me,this._widgets=new Map}render(W,se){const Je=this.counter;return this._widgets.set(Je,new Gt(W,this.auth.name,se||{})),this.counter++,Je}reset(W){var se;const Je=W||Me;null===(se=this._widgets.get(Je))||void 0===se||se.delete(),this._widgets.delete(Je)}getResponse(W){var se;return(null===(se=this._widgets.get(W||Me))||void 0===se?void 0:se.getResponse())||""}execute(W){var se=this;return(0,e.Z)(function*(){var Je;return null===(Je=se._widgets.get(W||Me))||void 0===Je||Je.execute(),""})()}}class Gt{constructor(W,se,Je){this.params=Je,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Kt="string"==typeof W?document.getElementById(W):W;ne(Kt,"argument-error",{appName:se}),this.container=Kt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sn(Le){const W=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Je=0;Je<Le;Je++)W.push(se.charAt(Math.floor(62*Math.random())));return W.join("")}(50);const{callback:W,"expired-callback":se}=this.params;if(W)try{W(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,se)try{se()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dn=xn("rcb"),Vn=new ge(3e4,6e4);class Ri{constructor(){var W;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(W=Oo().grecaptcha)||void 0===W||!W.render)}load(W,se=""){return ne(function Ni(Le){return Le.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(Le)}(se),W,"argument-error"),this.shouldResolveImmediately(se)&&Tn(Oo().grecaptcha)?Promise.resolve(Oo().grecaptcha):new Promise((Je,Kt)=>{const an=Oo().setTimeout(()=>{Kt(L(W,"network-request-failed"))},Vn.get());Oo()[dn]=()=>{Oo().clearTimeout(an),delete Oo()[dn];const ri=Oo().grecaptcha;if(!ri||!Tn(ri))return void Kt(L(W,"internal-error"));const Si=ri.render;ri.render=(Ii,Yi)=>{const Cr=Si(Ii,Yi);return this.counter++,Cr},this.hostLanguage=se,Je(ri)},Rt(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:dn,render:"explicit",hl:se})}`).catch(()=>{clearTimeout(an),Kt(L(W,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(W){var se;return!(null===(se=Oo().grecaptcha)||void 0===se||!se.render)&&(W===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class br{load(W){return(0,e.Z)(function*(){return new nt(W)})()}clearedOneInstance(){}}const Qr="recaptcha",oo={theme:"light",type:"image"};class $o{constructor(W,se=Object.assign({},oo),Je){this.parameters=se,this.type=Qr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(Je),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Kt="string"==typeof W?document.getElementById(W):W;ne(Kt,this.auth,"argument-error"),this.container=Kt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new br:new Ri,this.validateStartingState()}verify(){var W=this;return(0,e.Z)(function*(){W.assertNotDestroyed();const se=yield W.render(),Je=W.getAssertedRecaptcha();return Je.getResponse(se)||new Promise(an=>{const Hn=ri=>{ri&&(W.tokenChangeListeners.delete(Hn),an(ri))};W.tokenChangeListeners.add(Hn),W.isInvisible&&Je.execute(se)})})()}render(){try{this.assertNotDestroyed()}catch(W){return Promise.reject(W)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(W=>{throw this.renderPromise=null,W})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(W=>{this.container.removeChild(W)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(W){return se=>{if(this.tokenChangeListeners.forEach(Je=>Je(se)),"function"==typeof W)W(se);else if("string"==typeof W){const Je=Oo()[W];"function"==typeof Je&&Je(se)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var W=this;return(0,e.Z)(function*(){if(yield W.init(),!W.widgetId){let se=W.container;if(!W.isInvisible){const Je=document.createElement("div");se.appendChild(Je),se=Je}W.widgetId=W.getAssertedRecaptcha().render(se,W.parameters)}return W.widgetId})()}init(){var W=this;return(0,e.Z)(function*(){ne(le()&&!Ea(),W.auth,"internal-error"),yield function fs(){let Le=null;return new Promise(W=>{"complete"!==document.readyState?(Le=()=>W(),window.addEventListener("load",Le)):W()}).catch(W=>{throw Le&&window.removeEventListener("load",Le),W})}(),W.recaptcha=yield W._recaptchaLoader.load(W.auth,W.auth.languageCode||void 0);const se=yield function mn(Le){return _n.apply(this,arguments)}(W.auth);ne(se,W.auth,"internal-error"),W.parameters.sitekey=se})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class is{constructor(W,se){this.verificationId=W,this.onConfirmation=se}confirm(W){const se=eo._fromVerification(this.verificationId,W);return this.onConfirmation(se)}}function Ya(Le,W,se){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,e.Z)(function*(Le,W,se){const Je=On(Le),Kt=yield wr(Je,W,(0,t.m9)(se));return new is(Kt,an=>ls(Je,an))})).apply(this,arguments)}function aa(Le,W,se){return hs.apply(this,arguments)}function hs(){return(hs=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);yield es(!1,Je,"phone");const Kt=yield wr(Je.auth,W,(0,t.m9)(se));return new is(Kt,an=>ks(Je,an))})).apply(this,arguments)}function Cl(Le,W,se){return _c.apply(this,arguments)}function _c(){return(_c=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le),Kt=yield wr(Je.auth,W,(0,t.m9)(se));return new is(Kt,an=>Ia(Je,an))})).apply(this,arguments)}function wr(Le,W,se){return vc.apply(this,arguments)}function vc(){return vc=(0,e.Z)(function*(Le,W,se){var Je;const Kt=yield se.verify();try{let an;if(ne("string"==typeof Kt,Le,"argument-error"),ne(se.type===Qr,Le,"argument-error"),an="string"==typeof W?{phoneNumber:W}:W,"session"in an){const Hn=an.session;if("phoneNumber"in an)return ne("enroll"===Hn.type,Le,"internal-error"),(yield function Jr(Le,W){return he(Le,"POST","/v2/accounts/mfaEnrollment:start",ke(Le,W))}(Le,{idToken:Hn.credential,phoneEnrollmentInfo:{phoneNumber:an.phoneNumber,recaptchaToken:Kt}})).phoneSessionInfo.sessionInfo;{ne("signin"===Hn.type,Le,"internal-error");const ri=(null===(Je=an.multiFactorHint)||void 0===Je?void 0:Je.uid)||an.multiFactorUid;return ne(ri,Le,"missing-multi-factor-info"),(yield function Na(Le,W){return he(Le,"POST","/v2/accounts/mfaSignIn:start",ke(Le,W))}(Le,{mfaPendingCredential:Hn.credential,mfaEnrollmentId:ri,phoneSignInInfo:{recaptchaToken:Kt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Hn}=yield function Hi(Le,W){return Qi.apply(this,arguments)}(Le,{phoneNumber:an.phoneNumber,recaptchaToken:Kt});return Hn}}finally{se._reset()}}),vc.apply(this,arguments)}function yc(Le,W){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,e.Z)(function*(Le,W){yield vo((0,t.m9)(Le),W)})).apply(this,arguments)}let Jo=(()=>{class Le{constructor(se){this.providerId=Le.PROVIDER_ID,this.auth=On(se)}verifyPhoneNumber(se,Je){return wr(this.auth,se,(0,t.m9)(Je))}static credential(se,Je){return eo._fromVerification(se,Je)}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{phoneNumber:Je,temporaryProof:Kt}=se;return Je&&Kt?eo._fromTokenResponse(Je,Kt):null}}return Le.PROVIDER_ID="phone",Le.PHONE_SIGN_IN_METHOD="phone",Le})();function La(Le,W){return W?vt(W):(ne(Le._popupRedirectResolver,Le,"argument-error"),Le._popupRedirectResolver)}class Yl extends Hr{constructor(W){super("custom","custom"),this.params=W}_getIdTokenResponse(W){return Dn(W,this._buildIdpRequest())}_linkToIdToken(W,se){return Dn(W,this._buildIdpRequest(se))}_getReauthenticationResolver(W){return Dn(W,this._buildIdpRequest())}_buildIdpRequest(W){const se={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return W&&(se.idToken=W),se}}function Ms(Le){return Br(Le.auth,new Yl(Le),Le.bypassAuthState)}function zl(Le){const{auth:W,user:se}=Le;return ne(se,W,"internal-error"),xa(se,new Yl(Le),Le.bypassAuthState)}function Dl(Le){return za.apply(this,arguments)}function za(){return(za=(0,e.Z)(function*(Le){const{auth:W,user:se}=Le;return ne(se,W,"internal-error"),vo(se,new Yl(Le),Le.bypassAuthState)})).apply(this,arguments)}class Zl{constructor(W,se,Je,Kt,an=!1){this.auth=W,this.resolver=Je,this.user=Kt,this.bypassAuthState=an,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(se)?se:[se]}execute(){var W=this;return new Promise(function(){var se=(0,e.Z)(function*(Je,Kt){W.pendingPromise={resolve:Je,reject:Kt};try{W.eventManager=yield W.resolver._initialize(W.auth),yield W.onExecution(),W.eventManager.registerConsumer(W)}catch(an){W.reject(an)}});return function(Je,Kt){return se.apply(this,arguments)}}())}onAuthEvent(W){var se=this;return(0,e.Z)(function*(){const{urlResponse:Je,sessionId:Kt,postBody:an,tenantId:Hn,error:ri,type:Si}=W;if(ri)return void se.reject(ri);const Ii={auth:se.auth,requestUri:Je,sessionId:Kt,tenantId:Hn||void 0,postBody:an||void 0,user:se.user,bypassAuthState:se.bypassAuthState};try{se.resolve(yield se.getIdpTask(Si)(Ii))}catch(Yi){se.reject(Yi)}})()}onError(W){this.reject(W)}getIdpTask(W){switch(W){case"signInViaPopup":case"signInViaRedirect":return Ms;case"linkViaPopup":case"linkViaRedirect":return Dl;case"reauthViaPopup":case"reauthViaRedirect":return zl;default:T(this.auth,"internal-error")}}resolve(W){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(W),this.unregisterAndCleanUp()}reject(W){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(W),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $l=new ge(2e3,1e4);function Bs(Le,W,se){return ka.apply(this,arguments)}function ka(){return(ka=(0,e.Z)(function*(Le,W,se){const Je=On(Le);B(Le,W,Xo);const Kt=La(Je,se);return new ol(Je,"signInViaPopup",W,Kt).executeNotNull()})).apply(this,arguments)}function ld(Le,W,se){return ms.apply(this,arguments)}function ms(){return(ms=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,Xo);const Kt=La(Je.auth,se);return new ol(Je.auth,"reauthViaPopup",W,Kt,Je).executeNotNull()})).apply(this,arguments)}function bc(Le,W,se){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,Xo);const Kt=La(Je.auth,se);return new ol(Je.auth,"linkViaPopup",W,Kt,Je).executeNotNull()})).apply(this,arguments)}let ol=(()=>{class Le extends Zl{constructor(se,Je,Kt,an,Hn){super(se,Je,an,Hn),this.provider=Kt,this.authWindow=null,this.pollId=null,Le.currentPopupAction&&Le.currentPopupAction.cancel(),Le.currentPopupAction=this}executeNotNull(){var se=this;return(0,e.Z)(function*(){const Je=yield se.execute();return ne(Je,se.auth,"internal-error"),Je})()}onExecution(){var se=this;return(0,e.Z)(function*(){Fe(1===se.filter.length,"Popup operations only handle one event");const Je=ro();se.authWindow=yield se.resolver._openPopup(se.auth,se.provider,se.filter[0],Je),se.authWindow.associatedEvent=Je,se.resolver._originValidation(se.auth).catch(Kt=>{se.reject(Kt)}),se.resolver._isIframeWebStorageSupported(se.auth,Kt=>{Kt||se.reject(L(se.auth,"web-storage-unsupported"))}),se.pollUserCancellation()})()}get eventId(){var se;return(null===(se=this.authWindow)||void 0===se?void 0:se.associatedEvent)||null}cancel(){this.reject(L(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Le.currentPopupAction=null}pollUserCancellation(){const se=()=>{var Je,Kt;this.pollId=null!==(Kt=null===(Je=this.authWindow)||void 0===Je?void 0:Je.window)&&void 0!==Kt&&Kt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(L(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(se,$l.get())};se()}}return Le.currentPopupAction=null,Le})();const Jc="pendingRedirect",Zs=new Map;class Jl extends Zl{constructor(W,se,Je=!1){super(W,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],se,void 0,Je),this.eventId=null}execute(){var W=()=>super.execute,se=this;return(0,e.Z)(function*(){let Je=Zs.get(se.auth._key());if(!Je){try{const an=(yield function vd(Le,W){return kl.apply(this,arguments)}(se.resolver,se.auth))?yield W().call(se):null;Je=()=>Promise.resolve(an)}catch(Kt){Je=()=>Promise.reject(Kt)}Zs.set(se.auth._key(),Je)}return se.bypassAuthState||Zs.set(se.auth._key(),()=>Promise.resolve(null)),Je()})()}onAuthEvent(W){var se=()=>super.onAuthEvent,Je=this;return(0,e.Z)(function*(){if("signInViaRedirect"===W.type)return se().call(Je,W);if("unknown"!==W.type){if(W.eventId){const Kt=yield Je.auth._redirectUserForId(W.eventId);if(Kt)return Je.user=Kt,se().call(Je,W);Je.resolve(null)}}else Je.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function kl(){return(kl=(0,e.Z)(function*(Le,W){const se=Fa(W),Je=$s(Le);if(!(yield Je._isAvailable()))return!1;const Kt="true"===(yield Je._get(se));return yield Je._remove(se),Kt})).apply(this,arguments)}function Ql(Le,W){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,e.Z)(function*(Le,W){return $s(Le)._set(Fa(W),"true")})).apply(this,arguments)}function kc(){Zs.clear()}function Qc(Le,W){Zs.set(Le._key(),W)}function $s(Le){return vt(Le._redirectPersistence)}function Fa(Le){return ze(Jc,Le.config.apiKey,Le.name)}function Ml(Le,W,se){return function Al(Le,W,se){return Fl.apply(this,arguments)}(Le,W,se)}function Fl(){return(Fl=(0,e.Z)(function*(Le,W,se){const Je=On(Le);B(Le,W,Xo),yield Je._initializationPromise;const Kt=La(Je,se);return yield Ql(Kt,Je),Kt._openRedirect(Je,W,"signInViaRedirect")})).apply(this,arguments)}function Bl(Le,W,se){return function Fc(Le,W,se){return Tc.apply(this,arguments)}(Le,W,se)}function Tc(){return(Tc=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,Xo),yield Je.auth._initializationPromise;const Kt=La(Je.auth,se);yield Ql(Kt,Je.auth);const an=yield Xl(Je);return Kt._openRedirect(Je.auth,W,"reauthViaRedirect",an)})).apply(this,arguments)}function Sc(Le,W,se){return function qc(Le,W,se){return Xc.apply(this,arguments)}(Le,W,se)}function Xc(){return(Xc=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,Xo),yield Je.auth._initializationPromise;const Kt=La(Je.auth,se);yield es(!1,Je,W.providerId),yield Ql(Kt,Je.auth);const an=yield Xl(Je);return Kt._openRedirect(Je.auth,W,"linkViaRedirect",an)})).apply(this,arguments)}function ql(Le,W){return Za.apply(this,arguments)}function Za(){return(Za=(0,e.Z)(function*(Le,W){return yield On(Le)._initializationPromise,Ba(Le,W,!1)})).apply(this,arguments)}function Ba(Le,W){return sl.apply(this,arguments)}function sl(){return(sl=(0,e.Z)(function*(Le,W,se=!1){const Je=On(Le),Kt=La(Je,W),Hn=yield new Jl(Je,Kt,se).execute();return Hn&&!se&&(delete Hn.user._redirectEventId,yield Je._persistUserIfCurrent(Hn.user),yield Je._setRedirectUser(null,W)),Hn})).apply(this,arguments)}function Xl(Le){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,e.Z)(function*(Le){const W=ro(`${Le.uid}:::`);return Le._redirectEventId=W,yield Le.auth._setRedirectUser(Le),yield Le.auth._persistUserIfCurrent(Le),W})).apply(this,arguments)}class Cc{constructor(W){this.auth=W,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(W){this.consumers.add(W),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,W)&&(this.sendToConsumer(this.queuedRedirectEvent,W),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(W){this.consumers.delete(W)}onEvent(W){if(this.hasEventBeenHandled(W))return!1;let se=!1;return this.consumers.forEach(Je=>{this.isEventForConsumer(W,Je)&&(se=!0,this.sendToConsumer(W,Je),this.saveEventToCache(W))}),this.hasHandledPotentialRedirect||!function Us(Le){switch(Le.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bc(Le);default:return!1}}(W)||(this.hasHandledPotentialRedirect=!0,se||(this.queuedRedirectEvent=W,se=!0)),se}sendToConsumer(W,se){var Je;if(W.error&&!Bc(W)){const Kt=(null===(Je=W.error.code)||void 0===Je?void 0:Je.split("auth/")[1])||"internal-error";se.onError(L(this.auth,Kt))}else se.onAuthEvent(W)}isEventForConsumer(W,se){const Je=null===se.eventId||!!W.eventId&&W.eventId===se.eventId;return se.filter.includes(W.type)&&Je}hasEventBeenHandled(W){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Js(W))}saveEventToCache(W){this.cachedEventUids.add(Js(W)),this.lastProcessedEventTime=Date.now()}}function Js(Le){return[Le.type,Le.eventId,Le.sessionId,Le.tenantId].filter(W=>W).join("-")}function Bc({type:Le,error:W}){return"unknown"===Le&&"auth/no-auth-event"===W?.code}function Uc(Le){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,e.Z)(function*(Le,W={}){return he(Le,"GET","/v1/projects",W)})).apply(this,arguments)}const Pd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tu=/^https?/;function ec(){return(ec=(0,e.Z)(function*(Le){if(Le.config.emulator)return;const{authorizedDomains:W}=yield Uc(Le);for(const se of W)try{if(tc(se))return}catch{}T(Le,"unauthorized-domain")})).apply(this,arguments)}function tc(Le){const W=Y(),{protocol:se,hostname:Je}=new URL(W);if(Le.startsWith("chrome-extension://")){const Hn=new URL(Le);return""===Hn.hostname&&""===Je?"chrome-extension:"===se&&Le.replace("chrome-extension://","")===W.replace("chrome-extension://",""):"chrome-extension:"===se&&Hn.hostname===Je}if(!tu.test(se))return!1;if(Pd.test(Le))return Je===Le;const Kt=Le.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Kt+"|"+Kt+")$","i").test(Je)}const zr=new ge(3e4,6e4);function yo(){const Le=Oo().___jsl;if(Le?.H)for(const W of Object.keys(Le.H))if(Le.H[W].r=Le.H[W].r||[],Le.H[W].L=Le.H[W].L||[],Le.H[W].r=[...Le.H[W].L],Le.CP)for(let se=0;se<Le.CP.length;se++)Le.CP[se]=null}let Qs=null;const Sa=new ge(5e3,15e3),ed="__/auth/iframe",nc="emulator/auth/iframe",Il={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ic=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gc(Le){const W=Le.config;ne(W.authDomain,Le,"auth-domain-config-required");const se=W.emulator?Ie(W,nc):`https://${Le.config.authDomain}/${ed}`,Je={apiKey:W.apiKey,appName:Le.name,v:v.SDK_VERSION},Kt=ic.get(Le.config.apiHost);Kt&&(Je.eid=Kt);const an=Le._getFrameworks();return an.length&&(Je.fw=an.join(",")),`${se}?${(0,t.xO)(Je).slice(1)}`}function Ye(){return Ye=(0,e.Z)(function*(Le){const W=yield function Gs(Le){return Qs=Qs||function xl(Le){return new Promise((W,se)=>{var Je,Kt,an;function Hn(){yo(),gapi.load("gapi.iframes",{callback:()=>{W(gapi.iframes.getContext())},ontimeout:()=>{yo(),se(L(Le,"network-request-failed"))},timeout:zr.get()})}if(null!==(Kt=null===(Je=Oo().gapi)||void 0===Je?void 0:Je.iframes)&&void 0!==Kt&&Kt.Iframe)W(gapi.iframes.getContext());else{if(null===(an=Oo().gapi)||void 0===an||!an.load){const ri=xn("iframefcb");return Oo()[ri]=()=>{gapi.load?Hn():se(L(Le,"network-request-failed"))},Rt(`https://apis.google.com/js/api.js?onload=${ri}`).catch(Si=>se(Si))}Hn()}}).catch(W=>{throw Qs=null,W})}(Le),Qs}(Le),se=Oo().gapi;return ne(se,Le,"internal-error"),W.open({where:document.body,url:Gc(Le),messageHandlersFilter:se.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Il,dontclear:!0},Je=>new Promise(function(){var Kt=(0,e.Z)(function*(an,Hn){yield Je.restyle({setHideOnLeave:!1});const ri=L(Le,"network-request-failed"),Si=Oo().setTimeout(()=>{Hn(ri)},Sa.get());function Ii(){Oo().clearTimeout(Si),an(Je)}Je.ping(Ii).then(Ii,()=>{Hn(ri)})});return function(an,Hn){return Kt.apply(this,arguments)}}()))}),Ye.apply(this,arguments)}const dt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qn{constructor(W){this.window=W,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Li="__/auth/handler",qi="emulator/auth/handler",dr=encodeURIComponent("fac");function ps(Le,W,se,Je,Kt,an){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,e.Z)(function*(Le,W,se,Je,Kt,an){ne(Le.config.authDomain,Le,"auth-domain-config-required"),ne(Le.config.apiKey,Le,"invalid-api-key");const Hn={apiKey:Le.config.apiKey,appName:Le.name,authType:se,redirectUrl:Je,v:v.SDK_VERSION,eventId:Kt};if(W instanceof Xo){W.setDefaultLanguage(Le.languageCode),Hn.providerId=W.providerId||"",(0,t.xb)(W.getCustomParameters())||(Hn.customParameters=JSON.stringify(W.getCustomParameters()));for(const[Yi,Cr]of Object.entries(an||{}))Hn[Yi]=Cr}if(W instanceof Vs){const Yi=W.getScopes().filter(Cr=>""!==Cr);Yi.length>0&&(Hn.scopes=Yi.join(","))}Le.tenantId&&(Hn.tid=Le.tenantId);const ri=Hn;for(const Yi of Object.keys(ri))void 0===ri[Yi]&&delete ri[Yi];const Si=yield Le._getAppCheckToken(),Ii=Si?`#${dr}=${encodeURIComponent(Si)}`:"";return`${function Dc({config:Le}){return Le.emulator?Ie(Le,qi):`https://${Le.authDomain}/${Li}`}(Le)}?${(0,t.xO)(ri).slice(1)}${Ii}`})).apply(this,arguments)}const al="webStorageSupport",bo=class rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=Ba,this._overrideRedirectResult=Qc}_openPopup(W,se,Je,Kt){var an=this;return(0,e.Z)(function*(){var Hn;Fe(null===(Hn=an.eventManagers[W._key()])||void 0===Hn?void 0:Hn.manager,"_initialize() not called before _openPopup()");const ri=yield ps(W,se,Je,Y(),Kt);return function Ci(Le,W,se,Je=500,Kt=600){const an=Math.max((window.screen.availHeight-Kt)/2,0).toString(),Hn=Math.max((window.screen.availWidth-Je)/2,0).toString();let ri="";const Si=Object.assign(Object.assign({},dt),{width:Je.toString(),height:Kt.toString(),top:an,left:Hn}),Ii=(0,t.z$)().toLowerCase();se&&(ri=xt(Ii)?"_blank":se),St(Ii)&&(W=W||"http://localhost",Si.scrollbars="yes");const Yi=Object.entries(Si).reduce((Ps,[oc,V])=>`${Ps}${oc}=${V},`,"");if(function $n(Le=(0,t.z$)()){var W;return In(Le)&&!(null===(W=window.navigator)||void 0===W||!W.standalone)}(Ii)&&"_self"!==ri)return function Zt(Le,W){const se=document.createElement("a");se.href=Le,se.target=W;const Je=document.createEvent("MouseEvent");Je.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),se.dispatchEvent(Je)}(W||"",ri),new Qn(null);const Cr=window.open(W||"",ri,Yi);ne(Cr,Le,"popup-blocked");try{Cr.focus()}catch{}return new Qn(Cr)}(W,ri,ro())})()}_openRedirect(W,se,Je,Kt){var an=this;return(0,e.Z)(function*(){return yield an._originValidation(W),function Rl(Le){Oo().location.href=Le}(yield ps(W,se,Je,Y(),Kt)),new Promise(()=>{})})()}_initialize(W){const se=W._key();if(this.eventManagers[se]){const{manager:Kt,promise:an}=this.eventManagers[se];return Kt?Promise.resolve(Kt):(Fe(an,"If manager is not set, promise should be"),an)}const Je=this.initAndGetManager(W);return this.eventManagers[se]={promise:Je},Je.catch(()=>{delete this.eventManagers[se]}),Je}initAndGetManager(W){var se=this;return(0,e.Z)(function*(){const Je=yield function cd(Le){return Ye.apply(this,arguments)}(W),Kt=new Cc(W);return Je.register("authEvent",an=>(ne(an?.authEvent,W,"invalid-auth-event"),{status:Kt.onEvent(an.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),se.eventManagers[W._key()]={manager:Kt},se.iframes[W._key()]=Je,Kt})()}_isIframeWebStorageSupported(W,se){this.iframes[W._key()].send(al,{type:al},Kt=>{var an;const Hn=null===(an=Kt?.[0])||void 0===an?void 0:an[al];void 0!==Hn&&se(!!Hn),T(W,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(W){const se=W._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function Gl(Le){return ec.apply(this,arguments)}(W)),this.originValidationPromises[se]}get _shouldInitProactively(){return vn()||bt()||In()}};class qs{constructor(W){this.factorId=W}_process(W,se,Je){switch(se.type){case"enroll":return this._finalizeEnroll(W,se.credential,Je);case"signin":return this._finalizeSignIn(W,se.credential);default:return ae("unexpected MultiFactorSessionType")}}}class Mc extends qs{constructor(W){super("phone"),this.credential=W}static _fromCredential(W){return new Mc(W)}_finalizeEnroll(W,se,Je){return function no(Le,W){return he(Le,"POST","/v2/accounts/mfaEnrollment:finalize",ke(Le,W))}(W,{idToken:se,displayName:Je,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(W,se){return function gc(Le,W){return he(Le,"POST","/v2/accounts/mfaSignIn:finalize",ke(Le,W))}(W,{mfaPendingCredential:se,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yd=(()=>{class Le{constructor(){}static assertion(se){return Mc._fromCredential(se)}}return Le.FACTOR_ID="phone",Le})();var xc="@firebase/auth";class Ed{constructor(W){this.auth=W,this.internalListeners=new Map}getUid(){var W;return this.assertAuthConfigured(),(null===(W=this.auth.currentUser)||void 0===W?void 0:W.uid)||null}getToken(W){var se=this;return(0,e.Z)(function*(){return se.assertAuthConfigured(),yield se.auth._initializationPromise,se.auth.currentUser?{accessToken:yield se.auth.currentUser.getIdToken(W)}:null})()}addAuthTokenListener(W){if(this.assertAuthConfigured(),this.internalListeners.has(W))return;const se=this.auth.onIdTokenChanged(Je=>{W(Je?.stsTokenManager.accessToken||null)});this.internalListeners.set(W,se),this.updateProactiveRefresh()}removeAuthTokenListener(W){this.assertAuthConfigured();const se=this.internalListeners.get(W);se&&(this.internalListeners.delete(W),se(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function ud(Le){(0,v._registerComponent)(new P.wA("auth",(W,{options:se})=>{const Je=W.getProvider("app").getImmediate(),Kt=W.getProvider("heartbeat"),an=W.getProvider("app-check-internal"),{apiKey:Hn,authDomain:ri}=Je.options;ne(Hn&&!Hn.includes(":"),"invalid-api-key",{appName:Je.name});const Si={apiKey:Hn,authDomain:ri,clientPlatform:Le,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(Le)},Ii=new Ut(Je,Kt,an,Si);return function Pt(Le,W){const se=W?.persistence||[],Je=(Array.isArray(se)?se:[se]).map(vt);W?.errorMap&&Le._updateErrorMap(W.errorMap),Le._initializeWithPersistence(Je,W?.popupRedirectResolver)}(Ii,se),Ii},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((W,se,Je)=>{W.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new P.wA("auth-internal",W=>{const se=On(W.getProvider("auth").getImmediate());return new Ed(se)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(xc,"0.23.2",function Kd(Le){switch(Le){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Le)),(0,v.registerVersion)(xc,"0.23.2","esm2017")}("Browser")},9058:(Wn,et,p)=>{"use strict";p.d(et,{$s:()=>vt,BH:()=>y,L:()=>i,LL:()=>we,Pz:()=>L,UG:()=>ae,US:()=>P,ZB:()=>f,ZR:()=>he,aH:()=>T,b$:()=>le,eu:()=>pe,hl:()=>Ce,jU:()=>Fe,m9:()=>ze,ne:()=>Ge,pd:()=>xe,r3:()=>ye,ru:()=>Y,tV:()=>c,uI:()=>ne,vZ:()=>$,w1:()=>Se,xO:()=>q,xb:()=>ee,z$:()=>z,zI:()=>Ae,zd:()=>_e});const b=function(st){const at=[];let St=0;for(let bt=0;bt<st.length;bt++){let xt=st.charCodeAt(bt);xt<128?at[St++]=xt:xt<2048?(at[St++]=xt>>6|192,at[St++]=63&xt|128):55296==(64512&xt)&&bt+1<st.length&&56320==(64512&st.charCodeAt(bt+1))?(xt=65536+((1023&xt)<<10)+(1023&st.charCodeAt(++bt)),at[St++]=xt>>18|240,at[St++]=xt>>12&63|128,at[St++]=xt>>6&63|128,at[St++]=63&xt|128):(at[St++]=xt>>12|224,at[St++]=xt>>6&63|128,at[St++]=63&xt|128)}return at},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(st,at){if(!Array.isArray(st))throw Error("encodeByteArray takes an array as a parameter");this.init_();const St=at?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let xt=0;xt<st.length;xt+=3){const on=st[xt],En=xt+1<st.length,tn=En?st[xt+1]:0,Mn=xt+2<st.length,In=Mn?st[xt+2]:0;let ni=(15&tn)<<2|In>>6,vn=63&In;Mn||(vn=64,En||(ni=64)),bt.push(St[on>>2],St[(3&on)<<4|tn>>4],St[ni],St[vn])}return bt.join("")},encodeString(st,at){return this.HAS_NATIVE_SUPPORT&&!at?btoa(st):this.encodeByteArray(b(st),at)},decodeString(st,at){return this.HAS_NATIVE_SUPPORT&&!at?atob(st):function(st){const at=[];let St=0,bt=0;for(;St<st.length;){const xt=st[St++];if(xt<128)at[bt++]=String.fromCharCode(xt);else if(xt>191&&xt<224){const on=st[St++];at[bt++]=String.fromCharCode((31&xt)<<6|63&on)}else if(xt>239&&xt<365){const Mn=((7&xt)<<18|(63&st[St++])<<12|(63&st[St++])<<6|63&st[St++])-65536;at[bt++]=String.fromCharCode(55296+(Mn>>10)),at[bt++]=String.fromCharCode(56320+(1023&Mn))}else{const on=st[St++],En=st[St++];at[bt++]=String.fromCharCode((15&xt)<<12|(63&on)<<6|63&En)}}return at.join("")}(this.decodeStringToByteArray(st,at))},decodeStringToByteArray(st,at){this.init_();const St=at?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let xt=0;xt<st.length;){const on=St[st.charAt(xt++)],tn=xt<st.length?St[st.charAt(xt)]:0;++xt;const In=xt<st.length?St[st.charAt(xt)]:64;++xt;const $n=xt<st.length?St[st.charAt(xt)]:64;if(++xt,null==on||null==tn||null==In||null==$n)throw new D;bt.push(on<<2|tn>>4),64!==In&&(bt.push(tn<<4&240|In>>2),64!==$n&&bt.push(In<<6&192|$n))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let st=0;st<this.ENCODED_VALS.length;st++)this.byteToCharMap_[st]=this.ENCODED_VALS.charAt(st),this.charToByteMap_[this.byteToCharMap_[st]]=st,this.byteToCharMapWebSafe_[st]=this.ENCODED_VALS_WEBSAFE.charAt(st),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[st]]=st,st>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(st)]=st,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(st)]=st)}}};class D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(st){return function(st){const at=b(st);return P.encodeByteArray(at,!0)}(st).replace(/\./g,"")},c=function(st){try{return P.decodeString(st,!0)}catch(at){console.error("base64Decode failed: ",at)}return null};function f(st,at){if(!(at instanceof Object))return at;switch(at.constructor){case Date:return new Date(at.getTime());case Object:void 0===st&&(st={});break;case Array:st=[];break;default:return at}for(const St in at)!at.hasOwnProperty(St)||!_(St)||(st[St]=f(st[St],at[St]));return st}function _(st){return"__proto__"!==st}const O=()=>{try{return function S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const st=process.env.__FIREBASE_DEFAULTS__;return st?JSON.parse(st):void 0})()||(()=>{if(typeof document>"u")return;let st;try{st=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const at=st&&c(st[1]);return at&&JSON.parse(at)})()}catch(st){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${st}`)}},T=()=>{var st;return null===(st=O())||void 0===st?void 0:st.config},L=st=>{var at;return null===(at=O())||void 0===at?void 0:at[`_${st}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((at,St)=>{this.resolve=at,this.reject=St})}wrapCallback(at){return(St,bt)=>{St?this.reject(St):this.resolve(bt),"function"==typeof at&&(this.promise.catch(()=>{}),1===at.length?at(St):at(St,bt))}}}function z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z())}function ae(){var st;const at=null===(st=O())||void 0===st?void 0:st.forceEnvironment;if("node"===at)return!0;if("browser"===at)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function Y(){const st="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof st&&void 0!==st.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const st=z();return st.indexOf("MSIE ")>=0||st.indexOf("Trident/")>=0}function Ce(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((st,at)=>{try{let St=!0;const bt="validate-browser-context-for-indexeddb-analytics-module",xt=self.indexedDB.open(bt);xt.onsuccess=()=>{xt.result.close(),St||self.indexedDB.deleteDatabase(bt),st(!0)},xt.onupgradeneeded=()=>{St=!1},xt.onerror=()=>{var on;at((null===(on=xt.error)||void 0===on?void 0:on.message)||"")}}catch(St){at(St)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(at,St,bt){super(St),this.code=at,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(at,St,bt){this.service=at,this.serviceName=St,this.errors=bt}create(at,...St){const bt=St[0]||{},xt=`${this.service}/${at}`,on=this.errors[at],En=on?function Te(st,at){return st.replace(Oe,(St,bt)=>{const xt=at[bt];return null!=xt?String(xt):`<${bt}?>`})}(on,bt):"Error";return new he(xt,`${this.serviceName}: ${En} (${xt}).`,bt)}}const Oe=/\{\$([^}]+)}/g;function ye(st,at){return Object.prototype.hasOwnProperty.call(st,at)}function ee(st){for(const at in st)if(Object.prototype.hasOwnProperty.call(st,at))return!1;return!0}function $(st,at){if(st===at)return!0;const St=Object.keys(st),bt=Object.keys(at);for(const xt of St){if(!bt.includes(xt))return!1;const on=st[xt],En=at[xt];if(re(on)&&re(En)){if(!$(on,En))return!1}else if(on!==En)return!1}for(const xt of bt)if(!St.includes(xt))return!1;return!0}function re(st){return null!==st&&"object"==typeof st}function q(st){const at=[];for(const[St,bt]of Object.entries(st))Array.isArray(bt)?bt.forEach(xt=>{at.push(encodeURIComponent(St)+"="+encodeURIComponent(xt))}):at.push(encodeURIComponent(St)+"="+encodeURIComponent(bt));return at.length?"&"+at.join("&"):""}function _e(st){const at={};return st.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[xt,on]=bt.split("=");at[decodeURIComponent(xt)]=decodeURIComponent(on)}}),at}function xe(st){const at=st.indexOf("?");if(!at)return"";const St=st.indexOf("#",at);return st.substring(at,St>0?St:void 0)}function Ge(st,at){const St=new ct(st,at);return St.subscribe.bind(St)}class ct{constructor(at,St){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=St,this.task.then(()=>{at(this)}).catch(bt=>{this.error(bt)})}next(at){this.forEachObserver(St=>{St.next(at)})}error(at){this.forEachObserver(St=>{St.error(at)}),this.close(at)}complete(){this.forEachObserver(at=>{at.complete()}),this.close()}subscribe(at,St,bt){let xt;if(void 0===at&&void 0===St&&void 0===bt)throw new Error("Missing Observer.");xt=function tt(st,at){if("object"!=typeof st||null===st)return!1;for(const St of at)if(St in st&&"function"==typeof st[St])return!0;return!1}(at,["next","error","complete"])?at:{next:at,error:St,complete:bt},void 0===xt.next&&(xt.next=gt),void 0===xt.error&&(xt.error=gt),void 0===xt.complete&&(xt.complete=gt);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?xt.error(this.finalError):xt.complete()}catch{}}),this.observers.push(xt),on}unsubscribeOne(at){void 0===this.observers||void 0===this.observers[at]||(delete this.observers[at],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(at){if(!this.finalized)for(let St=0;St<this.observers.length;St++)this.sendOne(St,at)}sendOne(at,St){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[at])try{St(this.observers[at])}catch(bt){typeof console<"u"&&console.error&&console.error(bt)}})}close(at){this.finalized||(this.finalized=!0,void 0!==at&&(this.finalError=at),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gt(){}const qt=1e3,un=2,fn=144e5,wt=.5;function vt(st,at=qt,St=un){const bt=at*Math.pow(St,st),xt=Math.round(wt*bt*(Math.random()-.5)*2);return Math.min(fn,bt+xt)}function ze(st){return st&&st._delegate?st._delegate:st}},2392:(Wn,et,p)=>{"use strict";p.d(et,{E:()=>P});var e=p(5879),t=p(5908),v=p(9397),b=p(1270),g=p(1367);const P=(D,m)=>{const i=(0,e.f3M)(t.F0),c=(0,e.f3M)(g.g),d=(0,e.f3M)(b.K);return null!=localStorage.getItem("apiToken")?!!d.calledGetUserData||d.isCompletedCallGetUserData().pipe((0,v.b)(f=>null!=c.userData||i.navigateByUrl("/landing"))):i.navigateByUrl("/landing")}},9857:(Wn,et,p)=>{"use strict";p.d(et,{a:()=>b});var e=p(863),t=p(5879),v=p(9429);let b=(()=>{class g{constructor(D){this.restProvider=D}getDetailsByCatalogId(D){return new Promise((m,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetDetailsByCatalogAsync/"+D).then(c=>{m(c)},c=>{i(c)})})}getAllCatalogDetailsByCatalogIds(D){return new Promise((m,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+D).then(c=>{m(c)},c=>{i(c)})})}static#e=this.\u0275fac=function(m){return new(m||g)(t.LFG(v.C))};static#t=this.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7983:(Wn,et,p)=>{"use strict";p.d(et,{o:()=>he});var e=p(1476),t=p(7700),v=p(8923),b=p(2877),g=p(5313),P=p(3566),D=p(9604);class m{}var i=p(95),c=p(5550),d=p(5879),f=p(8726),_=p(3931),S=p(2067),x=p(5220),A=p(6814),N=p(2032),O=p(4170);function C(we,Te){1&we&&(d.TgZ(0,"mat-error"),d._uU(1," Nombre es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function I(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM(Oe);const ft=d.oxw();return d.KtG(ft.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM(Oe);const ft=d.oxw();return d.KtG(ft.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"Nombre"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,C,4,0,"mat-error",8),d.qZA()(),d.TgZ(12,"div",9)(13,"button",10),d.NdJ("click",function(){d.CHM(Oe);const ft=d.oxw();return d.KtG(ft.closeModal())}),d._uU(14,"Close"),d.qZA(),d.TgZ(15,"button",11),d._uU(16,"Guardar"),d.qZA()()(),d._UZ(17,"app-custom-spinner",12)}if(2&we){const Oe=d.oxw();d.Q6J("formGroup",Oe.genreFormGroup),d.xp6(3),d.Oqu(Oe.genre&&Oe.genre.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",Oe.matcher),d.xp6(1),d.Q6J("ngIf",Oe.genreFormGroup.controls.name.hasError("required")),d.xp6(4),d.Q6J("disabled",Oe.showLoading||!Oe.genreFormGroup.valid),d.xp6(2),d.Q6J("showLoading",Oe.showLoading)}}let T=(()=>{class we{constructor(Oe,je,ft,Ze){this.formBuilder=Oe,this.activeModal=je,this.snackbarService=ft,this.genreService=Ze,this.showLoading=!1,this.matcher=new c.n}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new i.NI(this.genre.Name,[i.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var Oe=JSON.parse(JSON.stringify(this.genre));Oe.Name=this.genreFormGroup.value.name,this.genreService.saveItem(Oe).then(je=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",D.dA.Success),this.activeModal.close()},je=>{this.showLoading=!1,console.error(je)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(je){return new(je||we)(d.Y36(i.qu),d.Y36(f.Kz),d.Y36(_.c),d.Y36(S.c))};static#t=this.\u0275cmp=d.Xpm({type:we,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(je,ft){1&je&&d.YNc(0,I,18,6,"ng-template",0),2&je&&d.Q6J("ngIf",null!=ft.genre&&ft.genreFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,x.D,A.O5,N.Nt,O.KE,O.hX,O.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return we})();var L=p(5986),y=p(5940),B=p(2596);function z(we,Te){1&we&&(d.TgZ(0,"div",32),d._UZ(1,"mat-spinner"),d.qZA())}function ne(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"th",33)(1,"mat-checkbox",34),d.NdJ("change",function(ft){d.CHM(Oe);const Ze=d.oxw();return d.KtG(ft?Ze.toggleAllRows():null)}),d.qZA()()}if(2&we){const Oe=d.oxw();d.xp6(1),d.Q6J("checked",Oe.selection.hasValue()&&Oe.isAllSelected())("indeterminate",Oe.selection.hasValue()&&!Oe.isAllSelected())}}function ae(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"td",35)(1,"mat-checkbox",36),d.NdJ("click",function(ft){const Re=d.CHM(Oe).$implicit,be=d.oxw();return d.KtG(be.onChangeCheckValue(ft,Re))}),d.qZA()()}if(2&we){const Oe=Te.$implicit,je=d.oxw();d.xp6(1),d.Q6J("checked",je.selection.isSelected(Oe))}}function Fe(we,Te){1&we&&(d.TgZ(0,"th",37),d._uU(1,"N\xb0"),d.qZA())}function Y(we,Te){if(1&we&&(d.TgZ(0,"td",38),d._uU(1),d.qZA()),2&we){const Oe=Te.index,je=d.oxw();d.xp6(1),d.hij(" ",je.getElementNumber(Oe,je.currentPage,je.itemsPerPage),"")}}function le(we,Te){1&we&&(d.TgZ(0,"th",39),d._uU(1," Nombre "),d.qZA())}function G(we,Te){if(1&we&&(d.TgZ(0,"td",40),d._uU(1),d.qZA()),2&we){const Oe=Te.$implicit;d.xp6(1),d.hij(" ",Oe.Name," ")}}function Se(we,Te){1&we&&d._UZ(0,"th",41)}function ce(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"td",42)(1,"div",43)(2,"button",44),d.NdJ("click",function(){const Ze=d.CHM(Oe).$implicit,Re=d.oxw();return d.KtG(Re.editItem(Ze))}),d._UZ(3,"i",45),d.qZA(),d.TgZ(4,"button",46),d.NdJ("click",function(){const Ze=d.CHM(Oe).$implicit,Re=d.oxw();return d.KtG(Re.deleteItem(Ze))}),d._UZ(5,"i",7),d.qZA()()()}}function ge(we,Te){1&we&&d._UZ(0,"tr",47)}function Ie(we,Te){1&we&&d._UZ(0,"tr",48)}function Ce(we,Te){1&we&&(d.TgZ(0,"td",51),d._uU(1,"No se encontraron datos"),d.qZA())}function pe(we,Te){if(1&we&&(d.TgZ(0,"tr",49),d.YNc(1,Ce,2,0,"td",50),d.qZA()),2&we){const Oe=d.oxw();d.xp6(1),d.Q6J("ngIf",!Oe.showLoading)}}const Ae=function(we){return{disable:we}},ke=function(){return[5,10,25,100]};let he=(()=>{class we extends b.G{constructor(Oe,je,ft,Ze,Re){super(ft),this.modalService=Oe,this.dialog=je,this.matPaginatorIntl=ft,this.snackbarService=Ze,this.genreService=Re,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Oe=>{this.updatePageData(Oe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Oe=>{this.currentPage=1,this.sortBy=Oe.active,this.sortDirection=Oe.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Oe){this.searchText=Oe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Oe=new m;this.showModalForm(Oe)}editItem(Oe){this.showModalForm(Oe)}showModalForm(Oe){var je=this,ft=this.modalService.open(T,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ft.componentInstance.genre=Oe,ft.closed.subscribe(Ze=>{je.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Oe=>{this.showLoading=!1;var je=Oe.Data;this.totalCount=Oe.TotalCount,this.listItems=je,this.dataSource=new g.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Oe=>{this.showLoading=!1})}deleteItem(Oe){var je=new t.vA;je.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Oe.Name+"?",accordMessage:"Si, eliminar el rol '"+Oe.Name+"'"},this.dialog.open(v.k,je).afterClosed().subscribe(ft=>{ft&&this.executeDeleteItem(Oe)})}executeDeleteItem(Oe){this.showLoading=!0,this.genreService.deleteItem(Oe.Id).then(je=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},je=>{this.showLoading=!1,this.snackbarService.showSnackBar(je,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Oe=new t.vA;Oe.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(v.k,Oe).afterClosed().subscribe(je=>{je&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(Oe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Oe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Oe,D.dA.Error)})}static#e=this.\u0275fac=function(je){return new(je||we)(d.Y36(f.FF),d.Y36(t.uw),d.Y36(e.ye),d.Y36(_.c),d.Y36(S.c))};static#t=this.\u0275cmp=d.Xpm({type:we,selectors:[["app-genre-list"]],viewQuery:function(je,ft){if(1&je&&(d.Gf(e.NW,5),d.Gf(P.YE,5)),2&je){let Ze;d.iGM(Ze=d.CRH())&&(ft.paginator=Ze.first),d.iGM(Ze=d.CRH())&&(ft.sort=Ze.first)}},features:[d.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(je,ft){1&je&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3," G\xe9neros"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return ft.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return ft.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(Re){return ft.applyFilter(Re)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,z,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,ne,2,2,"th",17),d.YNc(25,ae,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,Fe,2,0,"th",20),d.YNc(28,Y,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,le,2,0,"th",23),d.YNc(31,G,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,Se,1,0,"th",26),d.YNc(34,ce,6,0,"td",27),d.BQk(),d.YNc(35,ge,1,0,"tr",28),d.YNc(36,Ie,1,0,"tr",29),d.YNc(37,pe,2,1,"tr",30),d.qZA()()()()(),d.TgZ(38,"div",1)(39,"div",9),d._UZ(40,"mat-paginator",31),d.qZA()()()()),2&je&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,Ae,!ft.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",ft.showLoading),d.xp6(2),d.Q6J("dataSource",ft.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",ft.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",ft.displayedColumns),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,ke)))},dependencies:[A.mk,A.O5,e.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,N.Nt,O.KE,O.hX,P.YE,P.nU,L.oG,y.Ou,B.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return we})()},298:(Wn,et,p)=>{"use strict";p.d(et,{I:()=>D});var e=p(5879),t=p(8726),v=p(6814),b=p(5986);function g(m,i){if(1&m){const c=e.EpF();e.TgZ(0,"p")(1,"mat-checkbox",10),e.NdJ("click",function(f){const S=e.CHM(c).$implicit,x=e.oxw(2);return e.KtG(x.onChangeCheckValue(f,S))}),e._uU(2),e.qZA()()}if(2&m){const c=i.$implicit,d=e.oxw(2);e.xp6(1),e.Q6J("checked",d.selection.isSelected(c)),e.xp6(1),e.Oqu(c.Name)}}function P(m,i){if(1&m){const c=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(c);const f=e.oxw();return e.KtG(f.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,g,3,2,"ng-template",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(c);const f=e.oxw();return e.KtG(f.closeModal())}),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(c);const f=e.oxw();return e.KtG(f.onSaveSelection())}),e._uU(11,"Guardar"),e.qZA()()}if(2&m){const c=e.oxw();e.xp6(2),e.Oqu("G\xe9neros"),e.xp6(4),e.Q6J("ngForOf",c.listAllGenres)}}let D=(()=>{class m{constructor(c){this.activeModal=c}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(c,d){c.target.checked?this.selection.select(d):this.selection.deselect(d)}static#e=this.\u0275fac=function(d){return new(d||m)(e.Y36(t.Kz))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(d,f){1&d&&(e.YNc(0,P,12,2,"ng-template",0),e._uU(1," <\n")),2&d&&e.Q6J("ngIf",null!=f.listAllGenres)},dependencies:[v.sg,v.O5,b.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return m})()},2067:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>g});var e=p(863),t=p(2372),v=p(5879),b=p(9429);let g=(()=>{class P{constructor(m){this.restProvider=m}getAllGenres(){return new Promise((m,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllAsync").then(c=>{m(c)},c=>{console.error(c),i(c)})})}getItems(m,i,c,d,f,_){return new Promise((S,x)=>{let A=(0,t.Z)();this.lastCallGuid=A;var N="?page="+m.toString()+"&take="+i.toString()+"&sortBy="+c+"&sortDirection="+d+"&searchText="+f+"&searchBy="+_;this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllWithPaginationAsync"+N).then(C=>{this.lastCallGuid==A&&S(C)},C=>{console.error(C),x(C)})})}saveItem(m){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(m.Id>0?e.yw.PUT:e.yw.POST,m.Id>0?"/genres/Update":"/genres/Create",m).then(_=>{i(!0)},_=>{console.error(_),c(_)})})}deleteItem(m){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/Delete/"+m).then(f=>{i(f)},f=>{console.error(f),c(f)})})}deleteItems(m){return new Promise((i,c)=>{let d=[];for(let S=0;S<m.length;S++)d.push(m[S].Id);var f=d.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/DeleteList/"+f).then(S=>{i(S)},S=>{console.error(S),c(S)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(b.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},7591:(Wn,et,p)=>{"use strict";p.d(et,{U:()=>oe});var e=p(2877),t=p(1476),v=p(3566),b=p(7700),g=p(5313),P=p(8923),D=p(9604),m=p(3826),i=p(863),c=p(95),d=p(5550),f=p(5879),_=p(9857),S=p(8726),x=p(3931),A=p(5864),N=p(5220),O=p(6814),C=p(2032),I=p(4170),T=p(5986),L=p(3680),y=p(8525);function B(ee,X){1&ee&&(f.TgZ(0,"mat-error"),f._uU(1," T\xedtulo es "),f.TgZ(2,"strong"),f._uU(3,"requerido"),f.qZA()())}function z(ee,X){if(1&ee&&(f.TgZ(0,"mat-option",12),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.Q6J("value",$.Id),f.xp6(1),f.hij(" ",$.Name," ")}}function ne(ee,X){if(1&ee&&(f.TgZ(0,"mat-option",12),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.Q6J("value",$.Id),f.xp6(1),f.hij(" ",$.Title," ")}}function ae(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"form",1),f.NdJ("ngSubmit",function(){f.CHM($);const J=f.oxw();return f.KtG(J.saveItem())}),f.TgZ(1,"div",2)(2,"h5",3),f._uU(3),f.qZA(),f.TgZ(4,"button",4),f.NdJ("click",function(){f.CHM($);const J=f.oxw();return f.KtG(J.closeModal())}),f._UZ(5,"i",5),f.qZA()(),f.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),f._uU(9,"T\xedtulo"),f.qZA(),f._UZ(10,"input",7),f.YNc(11,B,4,0,"mat-error",8),f.qZA(),f.TgZ(12,"mat-form-field")(13,"mat-label"),f._uU(14,"Path"),f.qZA(),f._UZ(15,"input",9),f.qZA(),f.TgZ(16,"mat-form-field")(17,"mat-label"),f._uU(18,"N\xfamero de Orden"),f.qZA(),f._UZ(19,"input",10),f.qZA(),f.TgZ(20,"mat-form-field")(21,"mat-label"),f._uU(22,"Tipo de \xcdcono"),f.qZA(),f.TgZ(23,"mat-select",11)(24,"mat-option",12),f._uU(25,"--"),f.qZA(),f.YNc(26,z,2,2,"mat-option",13),f.qZA()(),f.TgZ(27,"mat-form-field")(28,"mat-label"),f._uU(29,"Icon Class"),f.qZA(),f._UZ(30,"input",14),f.qZA(),f.TgZ(31,"mat-form-field")(32,"mat-label"),f._uU(33,"Menu Padre"),f.qZA(),f.TgZ(34,"mat-select",15)(35,"mat-option",12),f._uU(36,"--"),f.qZA(),f.YNc(37,ne,2,2,"mat-option",13),f.qZA()(),f.TgZ(38,"mat-checkbox",16),f._uU(39,"Activo"),f.qZA()(),f.TgZ(40,"div",17)(41,"button",18),f.NdJ("click",function(){f.CHM($);const J=f.oxw();return f.KtG(J.closeModal())}),f._uU(42,"Cerrar"),f.qZA(),f.TgZ(43,"button",19),f._uU(44,"Guardar"),f.qZA()()(),f._UZ(45,"app-custom-spinner",20)}if(2&ee){const $=f.oxw();f.Q6J("formGroup",$.menuFormGroup),f.xp6(3),f.Oqu($.menu.Id>0?"Editar":"Nuevo"),f.xp6(7),f.Q6J("errorStateMatcher",$.matcher),f.xp6(1),f.Q6J("ngIf",$.menuFormGroup.controls.title.hasError("required")),f.xp6(13),f.Q6J("value",void 0),f.xp6(2),f.Q6J("ngForOf",$.listIconTypes),f.xp6(9),f.Q6J("value",void 0),f.xp6(2),f.Q6J("ngForOf",$.listMenusSelectable),f.xp6(6),f.Q6J("disabled",$.showLoading||!$.menuFormGroup.valid),f.xp6(2),f.Q6J("showLoading",$.showLoading)}}let Fe=(()=>{class ee{constructor($,re,J,q,_e){this.catalogService=$,this.formBuilder=re,this.activeModal=J,this.snackbarService=q,this.menuService=_e,this.showLoading=!1,this.matcher=new d.n}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then($=>{this.listMenusSelectable=$.Data.filter(J=>J.Id!=this.menu.Id)},$=>{console.error($)})}getIconTypes(){this.catalogService.getDetailsByCatalogId(i.P9.IconTypes).then($=>{this.listIconTypes=$.Data},$=>{console.error($)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new c.NI(this.menu.Title,[c.kI.required]),path:new c.NI(this.menu.Path),iconType:new c.NI(this.menu.IconTypeCatalogDetailId),iconClass:new c.NI(this.menu.IconClass),sortOrder:new c.NI(this.menu.SortOrder),parentId:new c.NI(this.menu.ParentId),enabled:new c.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var $=JSON.parse(JSON.stringify(this.menu));$.Title=this.menuFormGroup.value.title,$.Path=this.menuFormGroup.value.path,$.IconClass=this.menuFormGroup.value.iconClass,$.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?($.IconTypeCatalogId=i.P9.IconTypes,$.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):($.IconTypeCatalogId=void 0,$.IconTypeCatalogDetailId=void 0),$.ParentId=this.menuFormGroup.value.parentId,$.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem($).then(re=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",D.dA.Success),this.menuService.getManageMenu(),this.activeModal.close()},re=>{this.showLoading=!1,console.error(re)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(re){return new(re||ee)(f.Y36(_.a),f.Y36(c.qu),f.Y36(S.Kz),f.Y36(x.c),f.Y36(A.h))};static#t=this.\u0275cmp=f.Xpm({type:ee,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(re,J){1&re&&f.YNc(0,ae,46,10,"ng-template",0),2&re&&f.Q6J("ngIf",null!=J.menu&&J.menuFormGroup)},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,N.D,O.sg,O.O5,C.Nt,I.KE,I.hX,I.TO,T.oG,L.ey,y.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return ee})();var Y=p(5940),le=p(2596);function G(ee,X){1&ee&&(f.TgZ(0,"div",41),f._UZ(1,"mat-spinner"),f.qZA())}function Se(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"th",42)(1,"mat-checkbox",43),f.NdJ("change",function(J){f.CHM($);const q=f.oxw();return f.KtG(J?q.toggleAllRows():null)}),f.qZA()()}if(2&ee){const $=f.oxw();f.xp6(1),f.Q6J("checked",$.selection.hasValue()&&$.isAllSelected())("indeterminate",$.selection.hasValue()&&!$.isAllSelected())}}function ce(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"td",44)(1,"mat-checkbox",45),f.NdJ("click",function(J){const _e=f.CHM($).$implicit,xe=f.oxw();return f.KtG(xe.onChangeCheckValue(J,_e))}),f.qZA()()}if(2&ee){const $=X.$implicit,re=f.oxw();f.xp6(1),f.Q6J("checked",re.selection.isSelected($))}}function ge(ee,X){1&ee&&(f.TgZ(0,"th",46),f._uU(1,"N\xb0"),f.qZA())}function Ie(ee,X){if(1&ee&&(f.TgZ(0,"td",47),f._uU(1),f.qZA()),2&ee){const $=X.index,re=f.oxw();f.xp6(1),f.hij(" ",re.getElementNumber($,re.currentPage,re.itemsPerPage),"")}}function Ce(ee,X){1&ee&&(f.TgZ(0,"th",48),f._uU(1,"T\xedtulo"),f.qZA())}function pe(ee,X){if(1&ee&&(f.TgZ(0,"td",49),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.Title," ")}}function Ae(ee,X){1&ee&&(f.TgZ(0,"th",50),f._uU(1,"Path"),f.qZA())}function ke(ee,X){if(1&ee&&(f.TgZ(0,"td",51),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.Path," ")}}function he(ee,X){1&ee&&(f.TgZ(0,"th",52),f._uU(1,"\xcdcono"),f.qZA())}function we(ee,X){if(1&ee&&(f.TgZ(0,"td",53),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.IconClass," ")}}function Te(ee,X){1&ee&&(f.TgZ(0,"th",54),f._uU(1,"Orden"),f.qZA())}function Oe(ee,X){if(1&ee&&(f.TgZ(0,"td",55),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.SortOrder," ")}}function je(ee,X){1&ee&&f._UZ(0,"th",56)}function ft(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"td",57)(1,"div",58)(2,"button",59),f.NdJ("click",function(){const q=f.CHM($).$implicit,_e=f.oxw();return f.KtG(_e.editItem(q))}),f._UZ(3,"i",60),f.qZA(),f.TgZ(4,"button",61),f.NdJ("click",function(){const q=f.CHM($).$implicit,_e=f.oxw();return f.KtG(_e.deleteItem(q))}),f._UZ(5,"i",7),f.qZA()()()}}function Ze(ee,X){1&ee&&f._UZ(0,"tr",62)}function Re(ee,X){1&ee&&f._UZ(0,"tr",63)}function be(ee,X){1&ee&&(f.TgZ(0,"td",66),f._uU(1,"No se encontraron datos"),f.qZA())}function Q(ee,X){if(1&ee&&(f.TgZ(0,"tr",64),f.YNc(1,be,2,0,"td",65),f.qZA()),2&ee){const $=f.oxw();f.xp6(1),f.Q6J("ngIf",!$.showLoading)}}const ie=function(ee){return{disable:ee}},ye=function(){return[5,10,25,100]};let oe=(()=>{class ee extends e.G{constructor($,re,J,q,_e){super(J),this.modalService=$,this.dialog=re,this.matPaginatorIntl=J,this.snackbarService=q,this.menuService=_e}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe($=>{this.updatePageData($),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe($=>{this.currentPage=1,this.sortBy=$.active,this.sortDirection=$.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter($){this.searchText=$.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var $=new m.v;$.Enabled=!0,this.showModalForm($)}editItem($){this.showModalForm($)}showModalForm($){var re=this,J=this.modalService.open(Fe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});J.componentInstance.menu=$,J.closed.subscribe(q=>{re.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then($=>{this.showLoading=!1;var re=$.Data;this.totalCount=$.TotalCount,this.listItems=re,this.dataSource=new g.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},$=>{this.showLoading=!1})}deleteItem($){var re=new b.vA;re.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+$.Title+"?",accordMessage:"Si, eliminar el menu '"+$.Title+"'"},this.dialog.open(P.k,re).afterClosed().subscribe(J=>{J&&this.executeDeleteItem($)})}executeDeleteItem($){this.showLoading=!0,this.menuService.deleteItem($.Id).then(re=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},re=>{this.showLoading=!1,this.snackbarService.showSnackBar(re,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var $=new b.vA;$.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,$).afterClosed().subscribe(re=>{re&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then($=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},$=>{this.showLoading=!1,this.snackbarService.showSnackBar($,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(re){return new(re||ee)(f.Y36(S.FF),f.Y36(b.uw),f.Y36(t.ye),f.Y36(x.c),f.Y36(A.h))};static#t=this.\u0275cmp=f.Xpm({type:ee,selectors:[["app-menu-list"]],viewQuery:function(re,J){if(1&re&&(f.Gf(t.NW,5),f.Gf(v.YE,5)),2&re){let q;f.iGM(q=f.CRH())&&(J.paginator=q.first),f.iGM(q=f.CRH())&&(J.sort=q.first)}},features:[f.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(re,J){1&re&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),f._uU(3,"Menus"),f.qZA()(),f.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),f.NdJ("click",function(){return J.showNewItem()}),f._UZ(8,"i",5),f.qZA(),f.TgZ(9,"button",6),f.NdJ("click",function(){return J.deleteSelectedItems()}),f._UZ(10,"i",7),f.qZA()(),f._UZ(11,"div",8),f.qZA(),f.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),f._uU(16,"Buscar"),f.qZA(),f.TgZ(17,"input",10,11),f.NdJ("keyup",function(_e){return J.applyFilter(_e)}),f.qZA()(),f.TgZ(19,"div",12),f.YNc(20,G,2,0,"div",13),f.TgZ(21,"div",14)(22,"table",15),f.ynx(23,16),f.YNc(24,Se,2,2,"th",17),f.YNc(25,ce,2,1,"td",18),f.BQk(),f.ynx(26,19),f.YNc(27,ge,2,0,"th",20),f.YNc(28,Ie,2,1,"td",21),f.BQk(),f.ynx(29,22),f.YNc(30,Ce,2,0,"th",23),f.YNc(31,pe,2,1,"td",24),f.BQk(),f.ynx(32,25),f.YNc(33,Ae,2,0,"th",26),f.YNc(34,ke,2,1,"td",27),f.BQk(),f.ynx(35,28),f.YNc(36,he,2,0,"th",29),f.YNc(37,we,2,1,"td",30),f.BQk(),f.ynx(38,31),f.YNc(39,Te,2,0,"th",32),f.YNc(40,Oe,2,1,"td",33),f.BQk(),f.ynx(41,34),f.YNc(42,je,1,0,"th",35),f.YNc(43,ft,6,0,"td",36),f.BQk(),f.YNc(44,Ze,1,0,"tr",37),f.YNc(45,Re,1,0,"tr",38),f.YNc(46,Q,2,1,"tr",39),f.qZA()()()()(),f.TgZ(47,"div",1)(48,"div",9),f._UZ(49,"mat-paginator",40),f.qZA()()()()),2&re&&(f.xp6(9),f.Q6J("ngClass",f.VKq(7,ie,!J.selection.hasValue())),f.xp6(11),f.Q6J("ngIf",J.showLoading),f.xp6(2),f.Q6J("dataSource",J.dataSource),f.xp6(22),f.Q6J("matHeaderRowDef",J.getDisplayedColumns()),f.xp6(1),f.Q6J("matRowDefColumns",J.getDisplayedColumns()),f.xp6(4),f.Q6J("color","primary")("pageSizeOptions",f.DdM(9,ye)))},dependencies:[O.mk,O.O5,t.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,C.Nt,I.KE,I.hX,v.YE,v.nU,T.oG,Y.Ou,le.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return ee})()},3826:(Wn,et,p)=>{"use strict";p.d(et,{v:()=>e});class e{}},5864:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>D});var e=p(863),t=p(2372),v=p(8645),b=p(5879),g=p(1367),P=p(9429);let D=(()=>{class m{constructor(c,d){this.sharedDataService=c,this.restProvider=d,this.completedLoadUserManageMenu$=new v.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetByUserAsync/"+this.sharedDataService.userData.Id).then(f=>{this.sharedDataService.manageMenus=f.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,c(!0)},f=>{d(f)})})}getAllMenus(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllAsync").then(_=>{c(_)},_=>{console.error(_),d(_)})})}getItems(c,d,f,_,S,x){return new Promise((A,N)=>{let O=(0,t.Z)();this.lastCallGuid=O;var C="?page="+c.toString()+"&take="+d.toString()+"&sortBy="+f+"&sortDirection="+_+"&searchText="+S+"&searchBy="+x;this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllWithPaginationAsync"+C).then(T=>{this.lastCallGuid==O&&A(T)},T=>{console.error(T),N(T)})})}saveItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(c.Id>0?e.yw.PUT:e.yw.POST,c.Id>0?"/menus/Update":"/menus/Create",c).then(x=>{d(!0)},x=>{console.error(x),f(x)})})}deleteItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/Delete/"+c).then(S=>{d(S)},S=>{console.error(S),f(S)})})}deleteItems(c){return new Promise((d,f)=>{let _=[];for(let A=0;A<c.length;A++)_.push(c[A].Id);var S=_.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/DeleteList/"+S).then(A=>{d(A)},A=>{console.error(A),f(A)})})}static#e=this.\u0275fac=function(d){return new(d||m)(b.LFG(g.g),b.LFG(P.C))};static#t=this.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7581:(Wn,et,p)=>{"use strict";p.d(et,{O:()=>X});var e=p(2877),t=p(1476),v=p(3566),b=p(7700),g=p(5313),P=p(8923),D=p(9604);class m{}var i=p(95),c=p(5550),d=p(8337),f=p(298),_=p(5879),S=p(5731),x=p(8726),A=p(2067),N=p(3931),O=p(863),C=p(2372),I=p(9429);let T=(()=>{class ${constructor(J){this.restProvider=J}getMovie(J){return new Promise((q,_e)=>{this.restProvider.executeSinovadApiService(O.yw.GET,"/movies/GetAsync/"+J).then(xe=>{q(xe)},xe=>{console.error(xe),_e(xe)})})}getItems(J,q,_e,xe,Ee,Ge){return new Promise((ct,Xe)=>{let tt=(0,C.Z)();this.lastCallGuid=tt;var gt="?page="+J.toString()+"&take="+q.toString()+"&sortBy="+_e+"&sortDirection="+xe+"&searchText="+Ee+"&searchBy="+Ge;this.restProvider.executeSinovadApiService(O.yw.GET,"/movies/GetAllWithPaginationAsync"+gt).then(yt=>{this.lastCallGuid==tt&&ct(yt)},yt=>{console.error(yt),Xe(yt)})})}saveItem(J){return new Promise((q,_e)=>{this.restProvider.executeSinovadApiService(J.Id>0?O.yw.PUT:O.yw.POST,J.Id>0?"/movies/Update":"/movies/Create",J).then(Ge=>{q(!0)},Ge=>{console.error(Ge),_e(Ge)})})}deleteItem(J){return new Promise((q,_e)=>{this.restProvider.executeSinovadApiService(O.yw.DELETE,"/movies/Delete/"+J).then(Ee=>{q(Ee)},Ee=>{console.error(Ee),_e(Ee)})})}deleteItems(J){return new Promise((q,_e)=>{let xe=[];for(let ct=0;ct<J.length;ct++)xe.push(J[ct].Id);var Ee=xe.join(",");this.restProvider.executeSinovadApiService(O.yw.DELETE,"/movies/DeleteList/"+Ee).then(ct=>{q(ct)},ct=>{console.error(ct),_e(ct)})})}static#e=this.\u0275fac=function(q){return new(q||$)(_.LFG(I.C))};static#t=this.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();var L=p(5220),y=p(6814),B=p(2032),z=p(4170),ne=p(8034);function ae($,re){1&$&&(_.TgZ(0,"mat-error"),_._uU(1," T\xedtulo es "),_.TgZ(2,"strong"),_._uU(3,"requerido"),_.qZA()())}function Fe($,re){if(1&$){const J=_.EpF();_.TgZ(0,"form",1),_.NdJ("ngSubmit",function(){_.CHM(J);const _e=_.oxw();return _.KtG(_e.saveItem())}),_.TgZ(1,"div",2)(2,"h5",3),_._uU(3),_.qZA(),_.TgZ(4,"button",4),_.NdJ("click",function(){_.CHM(J);const _e=_.oxw();return _.KtG(_e.closeModal())}),_._UZ(5,"i",5),_.qZA()(),_.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),_._uU(9,"T\xedtulo"),_.qZA(),_._UZ(10,"input",7),_.YNc(11,ae,4,0,"mat-error",8),_.qZA(),_.TgZ(12,"mat-form-field")(13,"mat-label"),_._uU(14,"Fecha de Lanzamiento"),_.qZA(),_._UZ(15,"input",9),_.TgZ(16,"mat-hint"),_._uU(17,"MM/DD/YYYY"),_.qZA(),_._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),_.qZA(),_.TgZ(21,"mat-form-field")(22,"mat-label"),_._uU(23,"G\xe9neros"),_.qZA(),_.TgZ(24,"textarea",12),_.NdJ("click",function(){_.CHM(J);const _e=_.oxw();return _.KtG(_e.showGenresSelectionModal())}),_.qZA()(),_.TgZ(25,"mat-form-field")(26,"mat-label"),_._uU(27,"Directores"),_.qZA(),_._UZ(28,"textarea",13),_.qZA(),_.TgZ(29,"mat-form-field")(30,"mat-label"),_._uU(31,"Actores"),_.qZA(),_._UZ(32,"textarea",14),_.qZA(),_.TgZ(33,"mat-form-field")(34,"mat-label"),_._uU(35,"Resumen"),_.qZA(),_._UZ(36,"textarea",15),_.qZA(),_.TgZ(37,"mat-form-field")(38,"mat-label"),_._uU(39,"Im\xe1gen"),_.qZA(),_._UZ(40,"textarea",16),_.qZA()(),_.TgZ(41,"div",17)(42,"button",18),_.NdJ("click",function(){_.CHM(J);const _e=_.oxw();return _.KtG(_e.closeModal())}),_._uU(43,"Close"),_.qZA(),_.TgZ(44,"button",19),_._uU(45,"Guardar"),_.qZA()()(),_._UZ(46,"app-custom-spinner",20)}if(2&$){const J=_.MAs(20),q=_.oxw();_.Q6J("formGroup",q.movieFormGroup),_.xp6(3),_.Oqu(q.movie.Id>0?"Editar":"Nuevo"),_.xp6(7),_.Q6J("errorStateMatcher",q.matcher),_.xp6(1),_.Q6J("ngIf",q.movieFormGroup.controls.title.hasError("required")),_.xp6(4),_.Q6J("matDatepicker",J),_.xp6(3),_.Q6J("for",J),_.xp6(6),_.Q6J("readonly",!0),_.xp6(20),_.Q6J("disabled",q.showLoading||!q.movieFormGroup.valid),_.xp6(2),_.Q6J("showLoading",q.showLoading)}}let Y=(()=>{class ${constructor(J,q,_e,xe,Ee,Ge,ct){this.commonService=J,this.modalService=q,this.genreService=_e,this.formBuilder=xe,this.activeModal=Ee,this.snackbarService=Ge,this.movieService=ct,this.showLoading=!1,this.matcher=new c.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(J=>{this.listGenres=J.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new i.NI(this.movie.Title,[i.kI.required]),releaseDate:new i.NI(this.commonService.formatDate(this.movie.ReleaseDate)),directors:new i.NI(this.movie.Directors),actors:new i.NI(this.movie.Actors),overview:new i.NI(this.movie.Overview),posterPath:new i.NI(this.movie.PosterPath),selectedGenres:new i.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(J=>{this.movie=J.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var J=JSON.parse(JSON.stringify(this.movie));J.Title=this.movieFormGroup.value.title,J.ReleaseDate=this.movieFormGroup.value.releaseDate,J.Directors=this.movieFormGroup.value.directors,J.Actors=this.movieFormGroup.value.actors,J.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(J).then(q=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",D.dA.Success),this.activeModal.close()},q=>{this.showLoading=!1,console.error(q)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(q=>q.GenreName).join(", "):""}showGenresSelectionModal(){var J=this,q=this.modalService.open(f.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});q.componentInstance.listAllGenres=this.listGenres,q.componentInstance.selection=new d.Ov(!0,this.getMovieGenres()),q.closed.subscribe(_e=>{J.setMovieGenres(_e)})}getMovieGenres(){var J=this.movie.ListItemGenres.map(q=>q.GenreId);return this.listGenres.filter(q=>-1!=J.indexOf(q.Id))}setMovieGenres(J){var q=[];J.forEach(_e=>{q.push({MovieId:this.movie.Id,GenreId:_e.Id,GenreName:_e.Name})}),this.movie.ListItemGenres=q,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(q){return new(q||$)(_.Y36(S.v),_.Y36(x.FF),_.Y36(A.c),_.Y36(i.qu),_.Y36(x.Kz),_.Y36(N.c),_.Y36(T))};static#t=this.\u0275cmp=_.Xpm({type:$,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(q,_e){1&q&&_.YNc(0,Fe,47,9,"ng-template",0),2&q&&_.Q6J("ngIf",null!=_e.movie&&_e.movieFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,L.D,y.O5,B.Nt,z.KE,z.hX,z.bx,z.TO,z.R9,ne.Mq,ne.hl,ne.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return $})();var le=p(5986),G=p(5940),Se=p(2596);function ce($,re){1&$&&(_.TgZ(0,"div",39),_._UZ(1,"mat-spinner"),_.qZA())}function ge($,re){if(1&$){const J=_.EpF();_.TgZ(0,"th",40)(1,"mat-checkbox",41),_.NdJ("change",function(_e){_.CHM(J);const xe=_.oxw();return _.KtG(_e?xe.toggleAllRows():null)}),_.qZA()()}if(2&$){const J=_.oxw();_.xp6(1),_.Q6J("checked",J.selection.hasValue()&&J.isAllSelected())("indeterminate",J.selection.hasValue()&&!J.isAllSelected())}}function Ie($,re){if(1&$){const J=_.EpF();_.TgZ(0,"td",42)(1,"mat-checkbox",43),_.NdJ("click",function(_e){const Ee=_.CHM(J).$implicit,Ge=_.oxw();return _.KtG(Ge.onChangeCheckValue(_e,Ee))}),_.qZA()()}if(2&$){const J=re.$implicit,q=_.oxw();_.xp6(1),_.Q6J("checked",q.selection.isSelected(J))}}function Ce($,re){1&$&&(_.TgZ(0,"th",44),_._uU(1,"N\xb0"),_.qZA())}function pe($,re){if(1&$&&(_.TgZ(0,"td",45),_._uU(1),_.qZA()),2&$){const J=re.index,q=_.oxw();_.xp6(1),_.hij(" ",q.getElementNumber(J,q.currentPage,q.itemsPerPage),"")}}function Ae($,re){1&$&&(_.TgZ(0,"th",46),_._uU(1,"T\xedtulo"),_.qZA())}function ke($,re){if(1&$&&(_.TgZ(0,"td",47),_._uU(1),_.qZA()),2&$){const J=re.$implicit;_.xp6(1),_.hij(" ",J.Title," ")}}function he($,re){1&$&&(_.TgZ(0,"th",48),_._uU(1,"Fecha"),_.qZA())}function we($,re){if(1&$&&(_.TgZ(0,"td",49),_._uU(1),_.ALo(2,"date"),_.qZA()),2&$){const J=re.$implicit;_.xp6(1),_.hij(" ",_.xi3(2,1,J.ReleaseDate,"dd-MM-YYYY ")," ")}}function Te($,re){1&$&&(_.TgZ(0,"th",50),_._uU(1,"Actores"),_.qZA())}function Oe($,re){if(1&$&&(_.TgZ(0,"td",51),_._uU(1),_.qZA()),2&$){const J=re.$implicit;_.xp6(1),_.hij(" ",J.Actors," ")}}function je($,re){1&$&&(_.TgZ(0,"th",50),_._uU(1,"Directores"),_.qZA())}function ft($,re){if(1&$&&(_.TgZ(0,"td",51),_._uU(1),_.qZA()),2&$){const J=re.$implicit;_.xp6(1),_.hij(" ",J.Directors," ")}}function Ze($,re){1&$&&_._UZ(0,"th",52)}function Re($,re){if(1&$){const J=_.EpF();_.TgZ(0,"td",53)(1,"div",54)(2,"button",55),_.NdJ("click",function(){const xe=_.CHM(J).$implicit,Ee=_.oxw();return _.KtG(Ee.editItem(xe))}),_._UZ(3,"i",56),_.qZA(),_.TgZ(4,"button",57),_.NdJ("click",function(){const xe=_.CHM(J).$implicit,Ee=_.oxw();return _.KtG(Ee.deleteItem(xe))}),_._UZ(5,"i",7),_.qZA()()()}}function be($,re){1&$&&_._UZ(0,"tr",58)}function Q($,re){1&$&&_._UZ(0,"tr",59)}function ie($,re){1&$&&(_.TgZ(0,"td",62),_._uU(1,"No se encontraron datos"),_.qZA())}function ye($,re){if(1&$&&(_.TgZ(0,"tr",60),_.YNc(1,ie,2,0,"td",61),_.qZA()),2&$){const J=_.oxw();_.xp6(1),_.Q6J("ngIf",!J.showLoading)}}const oe=function($){return{disable:$}},ee=function(){return[5,10,25,100]};let X=(()=>{class $ extends e.G{constructor(J,q,_e,xe,Ee){super(_e),this.modalService=J,this.dialog=q,this.matPaginatorIntl=_e,this.snackbarService=xe,this.movieService=Ee}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(J=>{this.updatePageData(J),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(J=>{this.currentPage=1,this.sortBy=J.active,this.sortDirection=J.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(J){this.searchText=J.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var J=new m;this.showModalForm(J)}editItem(J){this.showModalForm(J)}showModalForm(J){var q=this,_e=this.modalService.open(Y,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});_e.componentInstance.movie=J,_e.closed.subscribe(xe=>{q.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(J=>{this.showLoading=!1;var q=J.Data;this.totalCount=J.TotalCount,this.listItems=q,this.dataSource=new g.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},J=>{this.showLoading=!1})}deleteItem(J){var q=new b.vA;q.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+J.Title+"?",accordMessage:"Si, eliminar el movie '"+J.Title+"'"},this.dialog.open(P.k,q).afterClosed().subscribe(_e=>{_e&&this.executeDeleteItem(J)})}executeDeleteItem(J){this.showLoading=!0,this.movieService.deleteItem(J.Id).then(q=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},q=>{this.showLoading=!1,this.snackbarService.showSnackBar(q,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var J=new b.vA;J.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,J).afterClosed().subscribe(q=>{q&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(J=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},J=>{this.showLoading=!1,this.snackbarService.showSnackBar(J,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(q){return new(q||$)(_.Y36(x.FF),_.Y36(b.uw),_.Y36(t.ye),_.Y36(N.c),_.Y36(T))};static#t=this.\u0275cmp=_.Xpm({type:$,selectors:[["app-movie-list"]],viewQuery:function(q,_e){if(1&q&&(_.Gf(t.NW,5),_.Gf(v.YE,5)),2&q){let xe;_.iGM(xe=_.CRH())&&(_e.paginator=xe.first),_.iGM(xe=_.CRH())&&(_e.sort=xe.first)}},features:[_.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(q,_e){1&q&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),_._uU(3," Pel\xedculas"),_.qZA()(),_.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),_.NdJ("click",function(){return _e.showNewItem()}),_._UZ(8,"i",5),_.qZA(),_.TgZ(9,"button",6),_.NdJ("click",function(){return _e.deleteSelectedItems()}),_._UZ(10,"i",7),_.qZA()(),_._UZ(11,"div",8),_.qZA(),_.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),_._uU(16,"Buscar"),_.qZA(),_.TgZ(17,"input",10,11),_.NdJ("keyup",function(Ee){return _e.applyFilter(Ee)}),_.qZA()(),_.TgZ(19,"div",12),_.YNc(20,ce,2,0,"div",13),_.TgZ(21,"div",14)(22,"table",15),_.ynx(23,16),_.YNc(24,ge,2,2,"th",17),_.YNc(25,Ie,2,1,"td",18),_.BQk(),_.ynx(26,19),_.YNc(27,Ce,2,0,"th",20),_.YNc(28,pe,2,1,"td",21),_.BQk(),_.ynx(29,22),_.YNc(30,Ae,2,0,"th",23),_.YNc(31,ke,2,1,"td",24),_.BQk(),_.ynx(32,25),_.YNc(33,he,2,0,"th",26),_.YNc(34,we,3,4,"td",27),_.BQk(),_.ynx(35,28),_.YNc(36,Te,2,0,"th",29),_.YNc(37,Oe,2,1,"td",30),_.BQk(),_.ynx(38,31),_.YNc(39,je,2,0,"th",29),_.YNc(40,ft,2,1,"td",30),_.BQk(),_.ynx(41,32),_.YNc(42,Ze,1,0,"th",33),_.YNc(43,Re,6,0,"td",34),_.BQk(),_.YNc(44,be,1,0,"tr",35),_.YNc(45,Q,1,0,"tr",36),_.YNc(46,ye,2,1,"tr",37),_.qZA()()()()(),_.TgZ(47,"div",1)(48,"div",9),_._UZ(49,"mat-paginator",38),_.qZA()()()()),2&q&&(_.xp6(9),_.Q6J("ngClass",_.VKq(7,oe,!_e.selection.hasValue())),_.xp6(11),_.Q6J("ngIf",_e.showLoading),_.xp6(2),_.Q6J("dataSource",_e.dataSource),_.xp6(22),_.Q6J("matHeaderRowDef",_e.getDisplayedColumns()),_.xp6(1),_.Q6J("matRowDefColumns",_e.getDisplayedColumns()),_.xp6(4),_.Q6J("color","primary")("pageSizeOptions",_.DdM(9,ee)))},dependencies:[y.mk,y.O5,t.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,B.Nt,z.KE,z.hX,v.YE,v.nU,le.oG,G.Ou,Se.gM,y.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return $})()},2070:(Wn,et,p)=>{"use strict";p.d(et,{C:()=>Oe});var e=p(1476),t=p(7700),v=p(8923),b=p(2877),g=p(5313),P=p(3566),D=p(9604);class m{}var i=p(95),c=p(5550),d=p(5879),f=p(8726),_=p(3931),S=p(863),x=p(2372),A=p(9429);let N=(()=>{class je{constructor(Ze){this.restProvider=Ze}getItems(Ze,Re,be,Q,ie,ye){return new Promise((oe,ee)=>{let X=(0,x.Z)();this.lastCallGuid=X;var $="?page="+Ze.toString()+"&take="+Re.toString()+"&sortBy="+be+"&sortDirection="+Q+"&searchText="+ie+"&searchBy="+ye;this.restProvider.executeSinovadApiService(S.yw.GET,"/roles/GetAllWithPaginationAsync"+$).then(J=>{this.lastCallGuid==X&&oe(J)},J=>{console.error(J),ee(J)})})}saveItem(Ze){return new Promise((Re,be)=>{this.restProvider.executeSinovadApiService(Ze.Id>0?S.yw.PUT:S.yw.POST,Ze.Id>0?"/roles/Update":"/roles/Create",Ze).then(ye=>{Re(!0)},ye=>{console.error(ye),be(ye)})})}deleteItem(Ze){return new Promise((Re,be)=>{this.restProvider.executeSinovadApiService(S.yw.DELETE,"/roles/Delete/"+Ze).then(ie=>{Re(ie)},ie=>{console.error(ie),be(ie)})})}deleteItems(Ze){return new Promise((Re,be)=>{let Q=[];for(let oe=0;oe<Ze.length;oe++)Q.push(Ze[oe].Id);var ie=Q.join(",");this.restProvider.executeSinovadApiService(S.yw.DELETE,"/roles/DeleteList/"+ie).then(oe=>{Re(oe)},oe=>{console.error(oe),be(oe)})})}static#e=this.\u0275fac=function(Re){return new(Re||je)(d.LFG(A.C))};static#t=this.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();var O=p(5220),C=p(6814),I=p(2032),T=p(4170),L=p(5986);function y(je,ft){1&je&&(d.TgZ(0,"mat-error"),d._uU(1," Nombre es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function B(je,ft){if(1&je){const Ze=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM(Ze);const be=d.oxw();return d.KtG(be.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM(Ze);const be=d.oxw();return d.KtG(be.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"Nombre"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,y,4,0,"mat-error",8),d.qZA(),d.TgZ(12,"mat-checkbox",9),d._uU(13,"Activo"),d.qZA()(),d.TgZ(14,"div",10)(15,"button",11),d.NdJ("click",function(){d.CHM(Ze);const be=d.oxw();return d.KtG(be.closeModal())}),d._uU(16,"Close"),d.qZA(),d.TgZ(17,"button",12),d._uU(18,"Guardar"),d.qZA()()(),d._UZ(19,"app-custom-spinner",13)}if(2&je){const Ze=d.oxw();d.Q6J("formGroup",Ze.roleFormGroup),d.xp6(3),d.Oqu(Ze.role&&Ze.role.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",Ze.matcher),d.xp6(1),d.Q6J("ngIf",Ze.roleFormGroup.controls.name.hasError("required")),d.xp6(6),d.Q6J("disabled",Ze.showLoading||!Ze.roleFormGroup.valid),d.xp6(2),d.Q6J("showLoading",Ze.showLoading)}}let z=(()=>{class je{constructor(Ze,Re,be,Q){this.formBuilder=Ze,this.activeModal=Re,this.snackbarService=be,this.roleService=Q,this.showLoading=!1,this.matcher=new c.n}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new i.NI(this.role.Name,[i.kI.required]),enabled:new i.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var Ze=JSON.parse(JSON.stringify(this.role));Ze.Name=this.roleFormGroup.value.name,Ze.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(Ze).then(Re=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",D.dA.Success),this.activeModal.close()},Re=>{this.showLoading=!1,this.snackbarService.showSnackBar(Re,D.dA.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Re){return new(Re||je)(d.Y36(i.qu),d.Y36(f.Kz),d.Y36(_.c),d.Y36(N))};static#t=this.\u0275cmp=d.Xpm({type:je,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Re,be){1&Re&&d.YNc(0,B,20,6,"ng-template",0),2&Re&&d.Q6J("ngIf",null!=be.role&&be.roleFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,O.D,C.O5,I.Nt,T.KE,T.hX,T.TO,L.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return je})();var ne=p(5940),ae=p(2596);function Fe(je,ft){1&je&&(d.TgZ(0,"div",32),d._UZ(1,"mat-spinner"),d.qZA())}function Y(je,ft){if(1&je){const Ze=d.EpF();d.TgZ(0,"th",33)(1,"mat-checkbox",34),d.NdJ("change",function(be){d.CHM(Ze);const Q=d.oxw();return d.KtG(be?Q.toggleAllRows():null)}),d.qZA()()}if(2&je){const Ze=d.oxw();d.xp6(1),d.Q6J("checked",Ze.selection.hasValue()&&Ze.isAllSelected())("indeterminate",Ze.selection.hasValue()&&!Ze.isAllSelected())}}function le(je,ft){if(1&je){const Ze=d.EpF();d.TgZ(0,"td",35)(1,"mat-checkbox",36),d.NdJ("click",function(be){const ie=d.CHM(Ze).$implicit,ye=d.oxw();return d.KtG(ye.onChangeCheckValue(be,ie))}),d.qZA()()}if(2&je){const Ze=ft.$implicit,Re=d.oxw();d.xp6(1),d.Q6J("checked",Re.selection.isSelected(Ze))}}function G(je,ft){1&je&&(d.TgZ(0,"th",37),d._uU(1,"N\xb0"),d.qZA())}function Se(je,ft){if(1&je&&(d.TgZ(0,"td",38),d._uU(1),d.qZA()),2&je){const Ze=ft.index,Re=d.oxw();d.xp6(1),d.hij(" ",Re.getElementNumber(Ze,Re.currentPage,Re.itemsPerPage),"")}}function ce(je,ft){1&je&&(d.TgZ(0,"th",39),d._uU(1," Nombre "),d.qZA())}function ge(je,ft){if(1&je&&(d.TgZ(0,"td",40),d._uU(1),d.qZA()),2&je){const Ze=ft.$implicit;d.xp6(1),d.hij(" ",Ze.Name," ")}}function Ie(je,ft){1&je&&d._UZ(0,"th",41)}function Ce(je,ft){if(1&je){const Ze=d.EpF();d.TgZ(0,"td",42)(1,"div",43)(2,"button",44),d.NdJ("click",function(){const Q=d.CHM(Ze).$implicit,ie=d.oxw();return d.KtG(ie.editItem(Q))}),d._UZ(3,"i",45),d.qZA(),d.TgZ(4,"button",46),d.NdJ("click",function(){const Q=d.CHM(Ze).$implicit,ie=d.oxw();return d.KtG(ie.deleteItem(Q))}),d._UZ(5,"i",7),d.qZA()()()}}function pe(je,ft){1&je&&d._UZ(0,"tr",47)}function Ae(je,ft){1&je&&d._UZ(0,"tr",48)}function ke(je,ft){1&je&&(d.TgZ(0,"td",51),d._uU(1,"No se encontraron datos"),d.qZA())}function he(je,ft){if(1&je&&(d.TgZ(0,"tr",49),d.YNc(1,ke,2,0,"td",50),d.qZA()),2&je){const Ze=d.oxw();d.xp6(1),d.Q6J("ngIf",!Ze.showLoading)}}const we=function(je){return{disable:je}},Te=function(){return[5,10,25,100]};let Oe=(()=>{class je extends b.G{constructor(Ze,Re,be,Q,ie){super(be),this.modalService=Ze,this.dialog=Re,this.matPaginatorIntl=be,this.snackbarService=Q,this.roleService=ie,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Ze=>{this.updatePageData(Ze),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Ze=>{this.currentPage=1,this.sortBy=Ze.active,this.sortDirection=Ze.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Ze){this.searchText=Ze.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Ze=new m;Ze.Enabled=!0,this.showModalForm(Ze)}editItem(Ze){this.showModalForm(Ze)}showModalForm(Ze){var Re=this,be=this.modalService.open(z,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});be.componentInstance.role=Ze,be.closed.subscribe(Q=>{Re.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Ze=>{this.showLoading=!1;var Re=Ze.Data;this.totalCount=Ze.TotalCount,this.listItems=Re,this.dataSource=new g.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Ze=>{this.showLoading=!1})}deleteItem(Ze){var Re=new t.vA;Re.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Ze.Name+"?",accordMessage:"Si, eliminar el rol '"+Ze.Name+"'"},this.dialog.open(v.k,Re).afterClosed().subscribe(be=>{be&&this.executeDeleteItem(Ze)})}executeDeleteItem(Ze){this.showLoading=!0,this.roleService.deleteItem(Ze.Id).then(Re=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},Re=>{this.showLoading=!1,this.snackbarService.showSnackBar(Re,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Ze=new t.vA;Ze.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(v.k,Ze).afterClosed().subscribe(Re=>{Re&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(Ze=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Ze=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ze,D.dA.Error)})}static#e=this.\u0275fac=function(Re){return new(Re||je)(d.Y36(f.FF),d.Y36(t.uw),d.Y36(e.ye),d.Y36(_.c),d.Y36(N))};static#t=this.\u0275cmp=d.Xpm({type:je,selectors:[["app-role-list"]],viewQuery:function(Re,be){if(1&Re&&(d.Gf(e.NW,5),d.Gf(P.YE,5)),2&Re){let Q;d.iGM(Q=d.CRH())&&(be.paginator=Q.first),d.iGM(Q=d.CRH())&&(be.sort=Q.first)}},features:[d.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Re,be){1&Re&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3," Roles"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return be.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return be.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(ie){return be.applyFilter(ie)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,Fe,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,Y,2,2,"th",17),d.YNc(25,le,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,G,2,0,"th",20),d.YNc(28,Se,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,ce,2,0,"th",23),d.YNc(31,ge,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,Ie,1,0,"th",26),d.YNc(34,Ce,6,0,"td",27),d.BQk(),d.YNc(35,pe,1,0,"tr",28),d.YNc(36,Ae,1,0,"tr",29),d.YNc(37,he,2,1,"tr",30),d.qZA()()()()(),d.TgZ(38,"div",1)(39,"div",9),d._UZ(40,"mat-paginator",31),d.qZA()()()()),2&Re&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,we,!be.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",be.showLoading),d.xp6(2),d.Q6J("dataSource",be.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",be.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",be.displayedColumns),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,Te)))},dependencies:[C.mk,C.O5,e.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,I.Nt,T.KE,T.hX,P.YE,P.nU,L.oG,ne.Ou,ae.gM]})}return je})()},5510:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>D});var e=p(863),t=p(2372),v=p(5879),b=p(1044),g=p(1367),P=p(9429);let D=(()=>{class m{constructor(c,d,f){this.libraryService=c,this.sharedDataService=d,this.restProvider=f}getMediaServers(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedDataService.userData.Id).then(f=>{this.sharedDataService.mediaServers=f.Data,this.sharedDataService.mediaServers.forEach(S=>{this.executeGetLibrariesByMediaServer(S)}),c(!0)},f=>{d(f)})})}executeGetLibrariesByMediaServer(c){c.isSecureConnection?this.libraryService.getLibrariesByMediaServer(c.Url).then(d=>{c.ListLibraries=d},d=>{}):c.ListLibraries=[]}getMediaServerByGuid(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetByGuidAsync/"+c).then(_=>{d(_)},_=>{console.error(_),f(_)})})}getItems(c,d,f,_,S,x,A){return new Promise((N,O)=>{let C=(0,t.Z)();this.lastCallGuid=C;var I="?page="+d.toString()+"&take="+f.toString()+"&sortBy="+_+"&sortDirection="+S+"&searchText="+x+"&searchBy="+A;this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+c+I).then(L=>{this.lastCallGuid==C&&N(L)},L=>{console.error(L),O(L)})})}saveItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(c.Id>0?e.yw.PUT:e.yw.POST,c.Id>0?"/mediaServers/Update":"/mediaServers/Create",c).then(x=>{d(!0)},x=>{console.error(x),f(x)})})}deleteItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/Delete/"+c).then(S=>{d(S)},S=>{console.error(S),f(S)})})}deleteItems(c){return new Promise((d,f)=>{let _=[];for(let A=0;A<c.length;A++)_.push(c[A].Id);var S=_.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/DeleteList/"+S).then(A=>{d(A)},A=>{console.error(A),f(A)})})}updateMediaServer(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.PUT,"/mediaServers/Update",c).then(S=>{d(S)},S=>{console.error(S),f(S)})})}static#e=this.\u0275fac=function(d){return new(d||m)(v.LFG(b.$),v.LFG(g.g),v.LFG(P.C))};static#t=this.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},2098:(Wn,et,p)=>{"use strict";p.d(et,{f:()=>Jt});var e=p(2877),t=p(1476),v=p(3566),b=p(7700),g=p(5313),P=p(8923),D=p(9604);class m{}var i=p(5879),c=p(8726),d=p(6814);class f{}class _{}var S=p(95),x=p(5550),A=p(3931),N=p(863),O=p(2372),C=p(9429);let I=(()=>{class Rt{constructor(kt){this.restProvider=kt}getItems(kt,It,Nt,en,An,Kn,Xn){return new Promise((Ut,On)=>{let Ne=(0,O.Z)();this.lastCallGuid=Ne;var Ft="?page="+It.toString()+"&take="+Nt.toString()+"&sortBy="+en+"&sortDirection="+An+"&searchText="+Kn+"&searchBy="+Xn;this.restProvider.executeSinovadApiService(N.yw.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+kt+Ft).then(ln=>{this.lastCallGuid==Ne&&Ut(ln)},ln=>{console.error(ln),On(ln)})})}saveItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?N.yw.PUT:N.yw.POST,kt.Id>0?"/episodes/Update":"/episodes/Create",kt).then(Kn=>{It(!0)},Kn=>{console.error(Kn),Nt(Kn)})})}createList(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.POST,"/episodes/CreateList",kt).then(en=>{It(!0)},en=>{console.error(en),Nt(en)})})}deleteItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.DELETE,"/episodes/Delete/"+kt).then(An=>{It(An)},An=>{console.error(An),Nt(An)})})}deleteItems(kt){return new Promise((It,Nt)=>{let en=[];for(let Xn=0;Xn<kt.length;Xn++)en.push(kt[Xn].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(N.yw.DELETE,"/episodes/DeleteList/"+An).then(Xn=>{It(Xn)},Xn=>{console.error(Xn),Nt(Xn)})})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.LFG(C.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();var T=p(5220),L=p(2032),y=p(4170);function B(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," T\xcdtulo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function z(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"T\xcdtulo"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,B,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Rt){const kt=i.oxw();i.Q6J("formGroup",kt.episodeFormGroup),i.xp6(3),i.Oqu(kt.episode.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",kt.matcher),i.xp6(1),i.Q6J("ngIf",kt.episodeFormGroup.controls.title.hasError("required")),i.xp6(12),i.Q6J("disabled",kt.showLoading||!kt.episodeFormGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let ne=(()=>{class Rt{constructor(kt,It,Nt,en){this.formBuilder=kt,this.activeModal=It,this.snackbarService=Nt,this.episodeService=en,this.showLoading=!1,this.matcher=new x.n}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new S.NI(this.episode.Title,[S.kI.required]),episodeNumber:new S.NI(this.episode.EpisodeNumber),summary:new S.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.episode));kt.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,kt.Title=this.episodeFormGroup.value.title,kt.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(kt).then(It=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",D.dA.Success),this.activeModal.close()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,D.dA.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(S.qu),i.Y36(c.Kz),i.Y36(A.c),i.Y36(I))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,z,26,6,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.episode&&Nt.episodeFormGroup)},dependencies:[S._Y,S.Fj,S.wV,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();function ae(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Fe(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Y(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.save())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3,"Rango de Episodios"),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Desde"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,ae,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Hasta"),i.qZA(),i._UZ(15,"input",9),i.YNc(16,Fe,4,0,"mat-error",8),i.qZA()(),i.TgZ(17,"div",10)(18,"button",11),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(19,"Close"),i.qZA(),i.TgZ(20,"button",12),i._uU(21,"Guardar"),i.qZA()(),i._UZ(22,"app-custom-spinner",13),i.qZA()}if(2&Rt){const kt=i.oxw();i.Q6J("formGroup",kt.formGroup),i.xp6(11),i.Q6J("ngIf",kt.formGroup.controls.initialEpisodeNumber.hasError("required")),i.xp6(5),i.Q6J("ngIf",kt.formGroup.controls.lastEpisodeNumber.hasError("required")),i.xp6(4),i.Q6J("disabled",kt.showLoading||!kt.formGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let le=(()=>{class Rt{constructor(kt,It,Nt){this.formBuilder=kt,this.episodeService=It,this.activeModal=Nt,this.matcher=new x.n,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new S.NI("",[S.kI.required]),lastEpisodeNumber:new S.NI("",[S.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let It=[];for(let Nt=Number(this.formGroup.value.initialEpisodeNumber);Nt<=Number(this.formGroup.value.lastEpisodeNumber);Nt++){var kt=new _;kt.EpisodeNumber=Nt,kt.SeasonId=this.parent.Id,kt.Title="Episodio "+Nt,It.push(kt)}this.episodeService.createList(It).then(Nt=>{this.showLoading=!1,this.activeModal.close(!0)},Nt=>{this.showLoading=!1,console.error(Nt)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(S.qu),i.Y36(I),i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,Y,23,5,"form",0),2&It&&i.Q6J("ngIf",Nt.formGroup)},dependencies:[S._Y,S.Fj,S.wV,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();var G=p(5986),Se=p(5940),ce=p(2596);function ge(Rt,xn){1&Rt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function Ie(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Nt){i.CHM(kt);const en=i.oxw();return i.KtG(Nt?en.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function Ce(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Nt){const An=i.CHM(kt).$implicit,Kn=i.oxw();return i.KtG(Kn.onChangeCheckValue(Nt,An))}),i.qZA()()}if(2&Rt){const kt=xn.$implicit,It=i.oxw();i.xp6(1),i.Q6J("checked",It.selection.isSelected(kt))}}function pe(Rt,xn){1&Rt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function Ae(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.EpisodeNumber,"")}}function ke(Rt,xn){1&Rt&&(i.TgZ(0,"th",39),i._uU(1,"T\xcdtulo"),i.qZA())}function he(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Title," ")}}function we(Rt,xn){1&Rt&&i._UZ(0,"th",41)}function Te(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(5,"i",7),i.qZA()()()}}function Oe(Rt,xn){1&Rt&&i._UZ(0,"tr",47)}function je(Rt,xn){1&Rt&&i._UZ(0,"tr",48)}function ft(Rt,xn){1&Rt&&(i.TgZ(0,"td",51),i._uU(1,"No se encontraron datos"),i.qZA())}function Ze(Rt,xn){if(1&Rt&&(i.TgZ(0,"tr",49),i.YNc(1,ft,2,0,"td",50),i.qZA()),2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const Re=function(Rt){return{disable:Rt}},be=function(){return[5,10,25,100]};let Q=(()=>{class Rt extends e.G{constructor(kt,It,Nt,en,An){super(en),this.modalService=kt,this.dialog=It,this.episodeService=Nt,this.matPaginatorIntl=en,this.snackbarService=An}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new _;kt.SeasonId=this.parentItem.Id,this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var It=this,Nt=this.modalService.open(ne,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Nt.componentInstance.episode=kt,Nt.closed.subscribe(en=>{It.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var It=kt.Data;this.totalCount=kt.TotalCount,this.listItems=It,this.dataSource=new g.by(It),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var It=new b.vA;It.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+kt.Title+"?",accordMessage:"Si, eliminar el episodio '"+kt.Title+"'"},this.dialog.open(P.k,It).afterClosed().subscribe(Nt=>{Nt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.episodeService.deleteItem(kt.Id).then(It=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new b.vA;kt.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(It=>{It&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,D.dA.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var kt=this,It=this.modalService.open(le,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.parent=this.parentItem,It.closed.subscribe(Nt=>{kt.getAllItems()})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.FF),i.Y36(b.uw),i.Y36(I),i.Y36(t.ye),i.Y36(A.c))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-list"]],viewQuery:function(It,Nt){if(1&It&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&It){let en;i.iGM(en=i.CRH())&&(Nt.paginator=en.first),i.iGM(en=i.CRH())&&(Nt.sort=en.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(It,Nt){1&It&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Nt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Nt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA(),i.TgZ(11,"button",8),i.NdJ("click",function(){return Nt.showEpisodeRangeModal()}),i._uU(12," Agregar por Rango "),i.qZA()()(),i.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),i._uU(17,"Buscar"),i.qZA(),i.TgZ(18,"input",10,11),i.NdJ("keyup",function(An){return Nt.applyFilter(An)}),i.qZA()(),i.TgZ(20,"div",12),i.YNc(21,ge,2,0,"div",13),i.TgZ(22,"div",14)(23,"table",15),i.ynx(24,16),i.YNc(25,Ie,2,2,"th",17),i.YNc(26,Ce,2,1,"td",18),i.BQk(),i.ynx(27,19),i.YNc(28,pe,2,0,"th",20),i.YNc(29,Ae,2,1,"td",21),i.BQk(),i.ynx(30,22),i.YNc(31,ke,2,0,"th",23),i.YNc(32,he,2,1,"td",24),i.BQk(),i.ynx(33,25),i.YNc(34,we,1,0,"th",26),i.YNc(35,Te,6,0,"td",27),i.BQk(),i.YNc(36,Oe,1,0,"tr",28),i.YNc(37,je,1,0,"tr",29),i.YNc(38,Ze,2,1,"tr",30),i.qZA()()()()(),i.TgZ(39,"div",1)(40,"div",9),i._UZ(41,"mat-paginator",31),i.qZA()()()()),2&It&&(i.xp6(3),i.hij("",Nt.parentItem.Name," :Episodios"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,Re,!Nt.selection.hasValue())),i.xp6(12),i.Q6J("ngIf",Nt.showLoading),i.xp6(2),i.Q6J("dataSource",Nt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Nt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Nt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,be)))},dependencies:[d.mk,d.O5,t.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,L.Nt,y.KE,y.hX,v.YE,v.nU,G.oG,Se.Ou,ce.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Rt})();function ie(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-episode-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(2),i.hij("",kt.parent.Name," :Episodios"),i.xp6(4),i.Q6J("parentItem",kt.parent)}}let ye=(()=>{class Rt{constructor(kt){this.activeModal=kt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(It,Nt){1&It&&i.YNc(0,ie,10,2,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.parent)},dependencies:[d.O5,Q]})}return Rt})(),oe=(()=>{class Rt{constructor(kt){this.restProvider=kt}getItems(kt,It,Nt,en,An,Kn,Xn){return new Promise((Ut,On)=>{let Ne=(0,O.Z)();this.lastCallGuid=Ne;var Ft="?page="+It.toString()+"&take="+Nt.toString()+"&sortBy="+en+"&sortDirection="+An+"&searchText="+Kn+"&searchBy="+Xn;this.restProvider.executeSinovadApiService(N.yw.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+kt+Ft).then(ln=>{this.lastCallGuid==Ne&&Ut(ln)},ln=>{console.error(ln),On(ln)})})}saveItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?N.yw.PUT:N.yw.POST,kt.Id>0?"/seasons/Update":"/seasons/Create",kt).then(Kn=>{It(!0)},Kn=>{console.error(Kn),Nt(Kn)})})}deleteItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.DELETE,"/seasons/Delete/"+kt).then(An=>{It(An)},An=>{console.error(An),Nt(An)})})}deleteItems(kt){return new Promise((It,Nt)=>{let en=[];for(let Xn=0;Xn<kt.length;Xn++)en.push(kt[Xn].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(N.yw.DELETE,"/seasons/DeleteList/"+An).then(Xn=>{It(Xn)},Xn=>{console.error(Xn),Nt(Xn)})})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.LFG(C.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();function ee(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function X(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,ee,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Rt){const kt=i.oxw();i.Q6J("formGroup",kt.seasonFormGroup),i.xp6(3),i.Oqu(kt.season.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",kt.matcher),i.xp6(1),i.Q6J("ngIf",kt.seasonFormGroup.controls.name.hasError("required")),i.xp6(12),i.Q6J("disabled",kt.showLoading||!kt.seasonFormGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let $=(()=>{class Rt{constructor(kt,It,Nt,en){this.formBuilder=kt,this.activeModal=It,this.snackbarService=Nt,this.seasonService=en,this.showLoading=!1,this.matcher=new x.n}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new S.NI(this.season.Name,[S.kI.required]),seasonNumber:new S.NI(this.season.SeasonNumber),summary:new S.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.season));kt.SeasonNumber=this.seasonFormGroup.value.seasonNumber,kt.Name=this.seasonFormGroup.value.name,kt.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(kt).then(It=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",D.dA.Success),this.activeModal.close()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,D.dA.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(S.qu),i.Y36(c.Kz),i.Y36(A.c),i.Y36(oe))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,X,26,6,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.season&&Nt.seasonFormGroup)},dependencies:[S._Y,S.Fj,S.wV,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();function re(Rt,xn){1&Rt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function J(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Nt){i.CHM(kt);const en=i.oxw();return i.KtG(Nt?en.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function q(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Nt){const An=i.CHM(kt).$implicit,Kn=i.oxw();return i.KtG(Kn.onChangeCheckValue(Nt,An))}),i.qZA()()}if(2&Rt){const kt=xn.$implicit,It=i.oxw();i.xp6(1),i.Q6J("checked",It.selection.isSelected(kt))}}function _e(Rt,xn){1&Rt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function xe(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.SeasonNumber,"")}}function Ee(Rt,xn){1&Rt&&(i.TgZ(0,"th",39),i._uU(1,"Nombre"),i.qZA())}function Ge(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Name," ")}}function ct(Rt,xn){1&Rt&&i._UZ(0,"th",41)}function Xe(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.showEpisodeListModal(en))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(5,"i",47),i.qZA(),i.TgZ(6,"button",48),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(7,"i",7),i.qZA()()()}}function tt(Rt,xn){1&Rt&&i._UZ(0,"tr",49)}function gt(Rt,xn){1&Rt&&i._UZ(0,"tr",50)}function Qe(Rt,xn){1&Rt&&(i.TgZ(0,"td",53),i._uU(1,"No se encontraron datos"),i.qZA())}function yt(Rt,xn){if(1&Rt&&(i.TgZ(0,"tr",51),i.YNc(1,Qe,2,0,"td",52),i.qZA()),2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const Dt=function(Rt){return{disable:Rt}},fe=function(){return[5,10,25,100]};let We=(()=>{class Rt extends e.G{constructor(kt,It,Nt,en,An){super(en),this.modalService=kt,this.dialog=It,this.seasonService=Nt,this.matPaginatorIntl=en,this.snackbarService=An}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new f;this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var It=this,Nt=this.modalService.open($,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Nt.componentInstance.season=kt,Nt.closed.subscribe(en=>{It.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var It=kt.Data;this.totalCount=kt.TotalCount,this.listItems=It,this.dataSource=new g.by(It),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var It=new b.vA;It.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+kt.Name+"?",accordMessage:"Si, eliminar la temporada '"+kt.Name+"'"},this.dialog.open(P.k,It).afterClosed().subscribe(Nt=>{Nt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.seasonService.deleteItem(kt.Id).then(It=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new b.vA;kt.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(It=>{It&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,D.dA.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(kt){var Nt=this.modalService.open(ye,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Nt.componentInstance.parent=kt,Nt.closed.subscribe(en=>{})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.FF),i.Y36(b.uw),i.Y36(oe),i.Y36(t.ye),i.Y36(A.c))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-list"]],viewQuery:function(It,Nt){if(1&It&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&It){let en;i.iGM(en=i.CRH())&&(Nt.paginator=en.first),i.iGM(en=i.CRH())&&(Nt.sort=en.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(It,Nt){1&It&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Nt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Nt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(An){return Nt.applyFilter(An)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,re,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,J,2,2,"th",17),i.YNc(25,q,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,_e,2,0,"th",20),i.YNc(28,xe,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,Ee,2,0,"th",23),i.YNc(31,Ge,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,ct,1,0,"th",26),i.YNc(34,Xe,8,0,"td",27),i.BQk(),i.YNc(35,tt,1,0,"tr",28),i.YNc(36,gt,1,0,"tr",29),i.YNc(37,yt,2,1,"tr",30),i.qZA()()()()(),i.TgZ(38,"div",1)(39,"div",9),i._UZ(40,"mat-paginator",31),i.qZA()()()()),2&It&&(i.xp6(3),i.hij("",Nt.parentItem.Name," :Temporadas"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,Dt,!Nt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Nt.showLoading),i.xp6(2),i.Q6J("dataSource",Nt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Nt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Nt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,fe)))},dependencies:[d.mk,d.O5,t.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,L.Nt,y.KE,y.hX,v.YE,v.nU,G.oG,Se.Ou,ce.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Rt})();function Et(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-season-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(2),i.hij("",kt.parent.Name," :Temporadas"),i.xp6(4),i.Q6J("parentItem",kt.parent)}}let Wt=(()=>{class Rt{constructor(kt){this.activeModal=kt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(It,Nt){1&It&&i.YNc(0,Et,10,2,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.parent)},dependencies:[d.O5,We]})}return Rt})();var Qt=p(8337),qt=p(298),un=p(5731),fn=p(2067);let wt=(()=>{class Rt{constructor(kt){this.restProvider=kt}getTvSerie(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.GET,"/tvseries/GetAsync/"+kt).then(en=>{It(en)},en=>{console.error(en),Nt(en)})})}getItems(kt,It,Nt,en,An,Kn){return new Promise((Xn,Ut)=>{let On=(0,O.Z)();this.lastCallGuid=On;var Ne="?page="+kt.toString()+"&take="+It.toString()+"&sortBy="+Nt+"&sortDirection="+en+"&searchText="+An+"&searchBy="+Kn;this.restProvider.executeSinovadApiService(N.yw.GET,"/tvseries/GetAllWithPaginationAsync"+Ne).then(Pt=>{this.lastCallGuid==On&&Xn(Pt)},Pt=>{console.error(Pt),Ut(Pt)})})}saveItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?N.yw.PUT:N.yw.POST,kt.Id>0?"/tvseries/Update":"/tvseries/Create",kt).then(Kn=>{It(!0)},Kn=>{console.error(Kn),Nt(Kn)})})}deleteItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.DELETE,"/tvseries/Delete/"+kt).then(An=>{It(An)},An=>{console.error(An),Nt(An)})})}deleteItems(kt){return new Promise((It,Nt)=>{let en=[];for(let Xn=0;Xn<kt.length;Xn++)en.push(kt[Xn].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(N.yw.DELETE,"/tvseries/DeleteList/"+An).then(Xn=>{It(Xn)},Xn=>{console.error(Xn),Nt(Xn)})})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.LFG(C.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();var vt=p(8034);function it(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function He(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,it,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Primera fecha de emisi\xf3n"),i.qZA(),i._UZ(15,"input",9),i.TgZ(16,"mat-hint"),i._uU(17,"MM/DD/YYYY"),i.qZA(),i._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),i.qZA(),i.TgZ(21,"mat-form-field")(22,"mat-label"),i._uU(23,"\xdaltima fecha de emisi\xf3n"),i.qZA(),i._UZ(24,"input",12),i.TgZ(25,"mat-hint"),i._uU(26,"MM/DD/YYYY"),i.qZA(),i._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),i.qZA(),i.TgZ(30,"mat-form-field")(31,"mat-label"),i._uU(32,"G\xe9neros"),i.qZA(),i.TgZ(33,"textarea",13),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.showGenresSelectionModal())}),i.qZA()(),i.TgZ(34,"mat-form-field")(35,"mat-label"),i._uU(36,"Directores"),i.qZA(),i._UZ(37,"textarea",14),i.qZA(),i.TgZ(38,"mat-form-field")(39,"mat-label"),i._uU(40,"Actores"),i.qZA(),i._UZ(41,"textarea",15),i.qZA(),i.TgZ(42,"mat-form-field")(43,"mat-label"),i._uU(44,"Resumen"),i.qZA(),i._UZ(45,"textarea",16),i.qZA(),i.TgZ(46,"mat-form-field")(47,"mat-label"),i._uU(48,"Im\xe1gen"),i.qZA(),i._UZ(49,"textarea",17),i.qZA()(),i.TgZ(50,"div",18)(51,"button",19),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(52,"Close"),i.qZA(),i.TgZ(53,"button",20),i._uU(54,"Guardar"),i.qZA()()(),i._UZ(55,"app-custom-spinner",21)}if(2&Rt){const kt=i.MAs(20),It=i.oxw();i.Q6J("formGroup",It.tvserieFormGroup),i.xp6(3),i.Oqu(It.tvserie.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",It.matcher),i.xp6(1),i.Q6J("ngIf",It.tvserieFormGroup.controls.name.hasError("required")),i.xp6(4),i.Q6J("matDatepicker",kt),i.xp6(3),i.Q6J("for",kt),i.xp6(6),i.Q6J("matDatepicker",kt),i.xp6(3),i.Q6J("for",kt),i.xp6(6),i.Q6J("readonly",!0),i.xp6(20),i.Q6J("disabled",It.showLoading||!It.tvserieFormGroup.valid),i.xp6(2),i.Q6J("showLoading",It.showLoading)}}let ze=(()=>{class Rt{constructor(kt,It,Nt,en,An,Kn,Xn){this.commonService=kt,this.modalService=It,this.genreService=Nt,this.formBuilder=en,this.activeModal=An,this.snackbarService=Kn,this.tvserieService=Xn,this.showLoading=!1,this.matcher=new x.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(kt=>{this.listGenres=kt.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new S.NI(this.tvserie.Name,[S.kI.required]),firstAirDate:new S.NI(this.commonService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new S.NI(this.commonService.formatDate(this.tvserie.LastAirDate)),directors:new S.NI(this.tvserie.Directors),actors:new S.NI(this.tvserie.Actors),overview:new S.NI(this.tvserie.Overview),posterPath:new S.NI(this.tvserie.PosterPath),selectedGenres:new S.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(kt=>{this.tvserie=kt.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.tvserie));kt.Name=this.tvserieFormGroup.value.name,kt.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,kt.LastAirDate=this.tvserieFormGroup.value.lastAirDate,kt.Directors=this.tvserieFormGroup.value.directors,kt.Actors=this.tvserieFormGroup.value.actors,kt.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(kt).then(It=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",D.dA.Success),this.activeModal.close()},It=>{this.showLoading=!1,console.error(It)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(It=>It.GenreName).join(", "):""}showGenresSelectionModal(){var kt=this,It=this.modalService.open(qt.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.listAllGenres=this.listGenres,It.componentInstance.selection=new Qt.Ov(!0,this.getTvSerieGenres()),It.closed.subscribe(Nt=>{kt.setTvSerieGenres(Nt)})}getTvSerieGenres(){var kt=this.tvserie.ListItemGenres.map(It=>It.GenreId);return this.listGenres.filter(It=>-1!=kt.indexOf(It.Id))}setTvSerieGenres(kt){var It=[];kt.forEach(Nt=>{It.push({TvSerieId:this.tvserie.Id,GenreId:Nt.Id,GenreName:Nt.Name})}),this.tvserie.ListItemGenres=It,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(un.v),i.Y36(c.FF),i.Y36(fn.c),i.Y36(S.qu),i.Y36(c.Kz),i.Y36(A.c),i.Y36(wt))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,He,56,11,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.tvserie&&Nt.tvserieFormGroup)},dependencies:[S._Y,S.Fj,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.bx,y.TO,y.R9,vt.Mq,vt.hl,vt.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();function st(Rt,xn){1&Rt&&(i.TgZ(0,"div",40),i._UZ(1,"mat-spinner"),i.qZA())}function at(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"th",41)(1,"mat-checkbox",42),i.NdJ("change",function(Nt){i.CHM(kt);const en=i.oxw();return i.KtG(Nt?en.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function St(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",43)(1,"mat-checkbox",44),i.NdJ("click",function(Nt){const An=i.CHM(kt).$implicit,Kn=i.oxw();return i.KtG(Kn.onChangeCheckValue(Nt,An))}),i.qZA()()}if(2&Rt){const kt=xn.$implicit,It=i.oxw();i.xp6(1),i.Q6J("checked",It.selection.isSelected(kt))}}function bt(Rt,xn){1&Rt&&(i.TgZ(0,"th",45),i._uU(1,"N\xb0"),i.qZA())}function xt(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",46),i._uU(1),i.qZA()),2&Rt){const kt=xn.index,It=i.oxw();i.xp6(1),i.hij(" ",It.getElementNumber(kt,It.currentPage,It.itemsPerPage),"")}}function on(Rt,xn){1&Rt&&(i.TgZ(0,"th",47),i._uU(1,"Nombre"),i.qZA())}function En(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",48),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Name," ")}}function tn(Rt,xn){1&Rt&&(i.TgZ(0,"th",49),i._uU(1,"Primera emisi\xf3n"),i.qZA())}function Mn(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,kt.FirstAirDate,"dd-MM-YYYY")," ")}}function In(Rt,xn){1&Rt&&(i.TgZ(0,"th",49),i._uU(1,"\xdaltima emisi\xf3n"),i.qZA())}function Nn(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,kt.LastAirDate,"dd-MM-YYYY")," ")}}function $n(Rt,xn){1&Rt&&(i.TgZ(0,"th",51),i._uU(1,"Actores"),i.qZA())}function ni(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Rt){const kt=xn.$implicit,It=i.MAs(1);i.Udp("cursor",It.offsetWidth<It.scrollWidth?"pointer":""),i.s9C("matTooltip",It.offsetWidth<It.scrollWidth?kt.Actors:""),i.xp6(2),i.Oqu(kt.Actors)}}function vn(Rt,xn){1&Rt&&(i.TgZ(0,"th",51),i._uU(1,"Directores"),i.qZA())}function pn(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Rt){const kt=xn.$implicit,It=i.MAs(1);i.Udp("cursor",It.offsetWidth<It.scrollWidth?"pointer":""),i.s9C("matTooltip",It.offsetWidth<It.scrollWidth?kt.Directors:""),i.xp6(2),i.hij(" ",kt.Directors," ")}}function yn(Rt,xn){1&Rt&&i._UZ(0,"th",54)}function mn(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",55)(1,"div",56)(2,"button",57),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.showSeasonListModal(en))}),i._UZ(3,"i",58),i.qZA(),i.TgZ(4,"button",59),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(5,"i",60),i.qZA(),i.TgZ(6,"button",61),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(7,"i",7),i.qZA()()()}}function _n(Rt,xn){1&Rt&&i._UZ(0,"tr",62)}function At(Rt,xn){1&Rt&&i._UZ(0,"tr",63)}function ht(Rt,xn){1&Rt&&(i.TgZ(0,"td",66),i._uU(1,"No se encontraron datos"),i.qZA())}function Tn(Rt,xn){if(1&Rt&&(i.TgZ(0,"tr",64),i.YNc(1,ht,2,0,"td",65),i.qZA()),2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const qe=function(Rt){return{disable:Rt}},Ct=function(){return[5,10,25,100]};let Jt=(()=>{class Rt extends e.G{constructor(kt,It,Nt,en,An){super(Nt),this.modalService=kt,this.dialog=It,this.matPaginatorIntl=Nt,this.snackbarService=en,this.tvserieService=An}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new m;this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var It=this,Nt=this.modalService.open(ze,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Nt.componentInstance.tvserie=kt,Nt.closed.subscribe(en=>{It.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var It=kt.Data;this.totalCount=kt.TotalCount,this.listItems=It,this.dataSource=new g.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var It=new b.vA;It.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+kt.Name+"?",accordMessage:"Si, eliminar la serie '"+kt.Name+"'"},this.dialog.open(P.k,It).afterClosed().subscribe(Nt=>{Nt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.tvserieService.deleteItem(kt.Id).then(It=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new b.vA;kt.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(It=>{It&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(kt){var Nt=this.modalService.open(Wt,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Nt.componentInstance.parent=kt,Nt.closed.subscribe(en=>{})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.FF),i.Y36(b.uw),i.Y36(t.ye),i.Y36(A.c),i.Y36(wt))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-tvserie-list"]],viewQuery:function(It,Nt){if(1&It&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&It){let en;i.iGM(en=i.CRH())&&(Nt.paginator=en.first),i.iGM(en=i.CRH())&&(Nt.sort=en.first)}},features:[i.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(It,Nt){1&It&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3,"Series"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Nt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Nt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(An){return Nt.applyFilter(An)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,st,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,at,2,2,"th",17),i.YNc(25,St,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,bt,2,0,"th",20),i.YNc(28,xt,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,on,2,0,"th",23),i.YNc(31,En,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,tn,2,0,"th",26),i.YNc(34,Mn,3,4,"td",27),i.BQk(),i.ynx(35,28),i.YNc(36,In,2,0,"th",26),i.YNc(37,Nn,3,4,"td",27),i.BQk(),i.ynx(38,29),i.YNc(39,$n,2,0,"th",30),i.YNc(40,ni,3,4,"td",31),i.BQk(),i.ynx(41,32),i.YNc(42,vn,2,0,"th",30),i.YNc(43,pn,3,4,"td",31),i.BQk(),i.ynx(44,33),i.YNc(45,yn,1,0,"th",34),i.YNc(46,mn,8,0,"td",35),i.BQk(),i.YNc(47,_n,1,0,"tr",36),i.YNc(48,At,1,0,"tr",37),i.YNc(49,Tn,2,1,"tr",38),i.qZA()()()()(),i.TgZ(50,"div",1)(51,"div",9),i._UZ(52,"mat-paginator",39),i.qZA()()()()),2&It&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,qe,!Nt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Nt.showLoading),i.xp6(2),i.Q6J("dataSource",Nt.dataSource),i.xp6(25),i.Q6J("matHeaderRowDef",Nt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Nt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,Ct)))},dependencies:[d.mk,d.O5,t.NW,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,L.Nt,y.KE,y.hX,v.YE,v.nU,G.oG,Se.Ou,ce.gM,d.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Rt})()},1716:(Wn,et,p)=>{"use strict";p.d(et,{C:()=>Xe});var e=p(2877),t=p(1476),v=p(3566),b=p(5313),g=p(7700),P=p(8923),D=p(9604),m=p(5879),i=p(8726),c=p(6814),d=p(5510),f=p(3931),_=p(2032),S=p(4170),x=p(5940);function A(tt,gt){1&tt&&(m.TgZ(0,"div",27),m._UZ(1,"mat-spinner"),m.qZA())}function N(tt,gt){1&tt&&(m.TgZ(0,"th",28),m._uU(1,"N\xb0"),m.qZA())}function O(tt,gt){if(1&tt&&(m.TgZ(0,"td",29),m._uU(1),m.qZA()),2&tt){const Qe=gt.index,yt=m.oxw();m.xp6(1),m.hij(" ",yt.getElementNumber(Qe,yt.currentPage,yt.itemsPerPage),"")}}function C(tt,gt){1&tt&&(m.TgZ(0,"th",30),m._uU(1,"Nombre del dispositivo"),m.qZA())}function I(tt,gt){if(1&tt&&(m.TgZ(0,"td",31),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.DeviceName," ")}}function T(tt,gt){1&tt&&(m.TgZ(0,"th",30),m._uU(1,"Nombre familiar"),m.qZA())}function L(tt,gt){if(1&tt&&(m.TgZ(0,"td",31),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.FamilyName," ")}}function y(tt,gt){1&tt&&(m.TgZ(0,"th",32),m._uU(1,"IP Privada"),m.qZA())}function B(tt,gt){if(1&tt&&(m.TgZ(0,"td",33),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.IpAddress," ")}}function z(tt,gt){1&tt&&(m.TgZ(0,"th",34),m._uU(1,"Puerto"),m.qZA())}function ne(tt,gt){if(1&tt&&(m.TgZ(0,"td",35),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.Port," ")}}function ae(tt,gt){1&tt&&m._UZ(0,"tr",36)}function Fe(tt,gt){1&tt&&m._UZ(0,"tr",37)}function Y(tt,gt){1&tt&&(m.TgZ(0,"td",40),m._uU(1,"No se encontraron datos"),m.qZA())}function le(tt,gt){if(1&tt&&(m.TgZ(0,"tr",38),m.YNc(1,Y,2,0,"td",39),m.qZA()),2&tt){const Qe=m.oxw();m.xp6(1),m.Q6J("ngIf",!Qe.showLoading)}}const G=function(){return[5,10,25,100]};let Se=(()=>{class tt extends e.G{constructor(Qe,yt,Dt,fe){super(Dt),this.dialog=Qe,this.mediaServerService=yt,this.matPaginatorIntl=Dt,this.snackbarService=fe}ngAfterViewInit(){this.paginator.page.subscribe(Qe=>{this.updatePageData(Qe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Qe=>{this.currentPage=1,this.sortBy=Qe.active,this.sortDirection=Qe.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(Qe){this.searchText=Qe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Qe=>{this.showLoading=!1;var yt=Qe.Data;this.totalCount=Qe.TotalCount,this.listItems=yt,this.dataSource=new b.by(yt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Qe=>{this.showLoading=!1})}deleteItem(Qe){var yt=new g.vA;yt.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+Qe.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+Qe.DeviceName+"'"},this.dialog.open(P.k,yt).afterClosed().subscribe(Dt=>{Dt&&this.executeDeleteItem(Qe)})}executeDeleteItem(Qe){this.showLoading=!0,this.mediaServerService.deleteItem(Qe.Id).then(yt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},yt=>{this.showLoading=!1,this.snackbarService.showSnackBar(yt,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Qe=new g.vA;Qe.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,Qe).afterClosed().subscribe(yt=>{yt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(Qe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Qe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Qe,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.Y36(g.uw),m.Y36(d.Z),m.Y36(t.ye),m.Y36(f.c))};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-media-server-list"]],viewQuery:function(yt,Dt){if(1&yt&&(m.Gf(t.NW,5),m.Gf(v.YE,5)),2&yt){let fe;m.iGM(fe=m.CRH())&&(Dt.paginator=fe.first),m.iGM(fe=m.CRH())&&(Dt.sort=fe.first)}},inputs:{parentItem:"parentItem"},features:[m.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(yt,Dt){1&yt&&(m.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),m._uU(3),m.qZA()(),m.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),m._uU(9,"Buscar"),m.qZA(),m.TgZ(10,"input",4,5),m.NdJ("keyup",function(We){return Dt.applyFilter(We)}),m.qZA()(),m.TgZ(12,"div",6),m.YNc(13,A,2,0,"div",7),m.TgZ(14,"div",8)(15,"table",9),m.ynx(16,10),m.YNc(17,N,2,0,"th",11),m.YNc(18,O,2,1,"td",12),m.BQk(),m.ynx(19,13),m.YNc(20,C,2,0,"th",14),m.YNc(21,I,2,1,"td",15),m.BQk(),m.ynx(22,16),m.YNc(23,T,2,0,"th",14),m.YNc(24,L,2,1,"td",15),m.BQk(),m.ynx(25,17),m.YNc(26,y,2,0,"th",18),m.YNc(27,B,2,1,"td",19),m.BQk(),m.ynx(28,20),m.YNc(29,z,2,0,"th",21),m.YNc(30,ne,2,1,"td",22),m.BQk(),m.YNc(31,ae,1,0,"tr",23),m.YNc(32,Fe,1,0,"tr",24),m.YNc(33,le,2,1,"tr",25),m.qZA()()()()(),m.TgZ(34,"div",1)(35,"div",3),m._UZ(36,"mat-paginator",26),m.qZA()()()()),2&yt&&(m.xp6(3),m.hij("",Dt.parentItem.UserName," : Servidores multimedia"),m.xp6(10),m.Q6J("ngIf",Dt.showLoading),m.xp6(2),m.Q6J("dataSource",Dt.dataSource),m.xp6(16),m.Q6J("matHeaderRowDef",Dt.getDisplayedColumns()),m.xp6(1),m.Q6J("matRowDefColumns",Dt.getDisplayedColumns()),m.xp6(4),m.Q6J("color","primary")("pageSizeOptions",m.DdM(7,G)))},dependencies:[c.O5,t.NW,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,b.Ee,_.Nt,S.KE,S.hX,v.YE,v.nU,x.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return tt})();function ce(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"div",1),m._UZ(1,"h5",2),m.TgZ(2,"button",3),m.NdJ("click",function(){m.CHM(Qe);const Dt=m.oxw();return m.KtG(Dt.closeModal())}),m._UZ(3,"i",4),m.qZA()(),m.TgZ(4,"div",5),m._UZ(5,"app-media-server-list",6),m.qZA(),m.TgZ(6,"div",7)(7,"button",8),m.NdJ("click",function(){m.CHM(Qe);const Dt=m.oxw();return m.KtG(Dt.closeModal())}),m._uU(8,"Close"),m.qZA()()}if(2&tt){const Qe=m.oxw();m.xp6(5),m.Q6J("parentItem",Qe.parent)}}let ge=(()=>{class tt{constructor(Qe){this.activeModal=Qe}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.Y36(i.Kz))};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(yt,Dt){1&yt&&m.YNc(0,ce,9,1,"ng-template",0),2&yt&&m.Q6J("ngIf",null!=Dt.parent)},dependencies:[c.O5,Se]})}return tt})();var Ie=p(5908),Ce=p(9223);function pe(tt,gt){if(1&tt&&m._UZ(0,"img",7),2&tt){const Qe=m.oxw().$implicit;m.Q6J("src",Qe.imageUrl,m.LSH)}}function Ae(tt,gt){if(1&tt&&m._UZ(0,"i"),2&tt){const Qe=m.oxw().$implicit;m.Tol(Qe.iconClass)}}function ke(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){const fe=m.CHM(Qe).$implicit,We=m.oxw();return m.KtG(We.onClickContextMenuOption(fe))}),m.TgZ(1,"div",3),m.YNc(2,pe,1,1,"img",4),m.YNc(3,Ae,1,3,"i",5),m.qZA(),m.TgZ(4,"div",6),m._uU(5),m.qZA()()}if(2&tt){const Qe=gt.$implicit;m.Udp("border-bottom",Qe.showBorderBottom?"1px solid black":""),m.xp6(2),m.Q6J("ngIf",Qe.imageUrl),m.xp6(1),m.Q6J("ngIf",Qe.iconClass),m.xp6(2),m.hij(" ",Qe.text," ")}}let we=(()=>{class tt{constructor(){this.hideContextMenu=new m.vpe,this.clickOption=new m.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(Qe){this.clickOption.emit(Qe)}static#e=this.\u0275fac=function(yt){return new(yt||tt)};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(yt,Dt){1&yt&&(m.TgZ(0,"div",0),m.NdJ("clickOutside",function(){return Dt.onClickOutside()}),m.YNc(1,ke,6,5,"ng-template",1),m.qZA()),2&yt&&(m.Udp("top",Dt.top+"px")("left",Dt.left+"px"),m.xp6(1),m.Q6J("ngForOf",Dt.listOptions))},dependencies:[c.sg,c.O5,Ce._],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return tt})(),Te=(()=>{class tt{constructor(Qe,yt,Dt){this.factoryResolver=Qe,this.injector=yt,this.applicationRef=Dt}show(Qe,yt,Dt,fe){return new Promise((We,Et)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Qt=this.factoryResolver.resolveComponentFactory(we).create(this.injector);this.lastViewRef=Qt.hostView,this.applicationRef.attachView(Qt.hostView);let qt=this;Qt.instance.left=yt,Qt.instance.top=Dt,Qt.instance.listOptions=fe,Qt.instance.clickOption.subscribe(wt=>{Qt.destroy(),qt.applicationRef.detachView(Qt.hostView),We(wt)}),Qt.instance.hideContextMenu.subscribe(wt=>{Qt.destroy(),qt.applicationRef.detachView(Qt.hostView),Et(!0)});const un=Qt.hostView.rootNodes[0];document.getElementById(Qe).appendChild(un)})}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.LFG(m._Vd),m.LFG(m.zs3),m.LFG(m.z2F))};static#t=this.\u0275prov=m.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();var Oe=p(1270),je=p(2596);function ft(tt,gt){1&tt&&(m.TgZ(0,"div",26),m._UZ(1,"mat-spinner"),m.qZA())}function Ze(tt,gt){1&tt&&(m.TgZ(0,"th",27),m._uU(1,"N\xb0"),m.qZA())}function Re(tt,gt){if(1&tt&&(m.TgZ(0,"td",28),m._uU(1),m.qZA()),2&tt){const Qe=gt.index,yt=m.oxw();m.xp6(1),m.hij(" ",yt.getElementNumber(Qe,yt.currentPage,yt.itemsPerPage),"")}}function be(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Usuario "),m.qZA())}function Q(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.UserName," ")}}function ie(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Correo "),m.qZA())}function ye(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.Email," ")}}function oe(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Nombres "),m.qZA())}function ee(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.FirstName," ")}}function X(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Apellidos "),m.qZA())}function $(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.LastName," ")}}function re(tt,gt){1&tt&&m._UZ(0,"th",31)}function J(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"td",32)(1,"div",33)(2,"button",34),m.NdJ("click",function(){const fe=m.CHM(Qe).$implicit,We=m.oxw();return m.KtG(We.deleteItem(fe))}),m._UZ(3,"i",35),m.qZA()()()}}function q(tt,gt){1&tt&&m._UZ(0,"tr",36)}const _e=function(tt){return{active:tt}};function xe(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"tr",37),m.NdJ("contextmenu",function(Dt){const We=m.CHM(Qe).$implicit,Et=m.oxw();return m.KtG(Et.onContextMenuItem(Dt,We))}),m.qZA()}if(2&tt){const Qe=gt.$implicit,yt=m.oxw();m.Q6J("ngClass",m.VKq(1,_e,yt.lastSelectedItem&&Qe.Id==yt.lastSelectedItem.Id))}}function Ee(tt,gt){1&tt&&(m.TgZ(0,"td",40),m._uU(1,"No se encontraron datos"),m.qZA())}function Ge(tt,gt){if(1&tt&&(m.TgZ(0,"tr",38),m.YNc(1,Ee,2,0,"td",39),m.qZA()),2&tt){const Qe=m.oxw();m.xp6(1),m.Q6J("ngIf",!Qe.showLoading)}}const ct=function(){return[5,10,25,100]};let Xe=(()=>{class tt extends e.G{constructor(Qe,yt,Dt,fe,We,Et,Wt){super(Et),this.router=Qe,this.modalService=yt,this.contextMenuService=Dt,this.dialog=fe,this.userService=We,this.matPaginatorIntl=Et,this.snackbarService=Wt}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Qe=>{this.updatePageData(Qe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Qe=>{this.currentPage=1,this.sortBy=Qe.active,this.sortDirection=Qe.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(Qe){this.searchText=Qe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Qe=>{this.showLoading=!1;var yt=Qe.Data;this.totalCount=Qe.TotalCount,this.listItems=yt,this.dataSource=new b.by(yt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Qe=>{this.showLoading=!1})}deleteItem(Qe){var yt=new g.vA;yt.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+Qe.UserName+"?",accordMessage:"Si, eliminar el usuario '"+Qe.UserName+"'"},this.dialog.open(P.k,yt).afterClosed().subscribe(Dt=>{Dt&&this.executeDeleteItem(Qe)})}executeDeleteItem(Qe){this.showLoading=!0,this.userService.deleteItem(Qe.Id).then(yt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},yt=>{this.showLoading=!1,this.snackbarService.showSnackBar(yt,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Qe=new g.vA;Qe.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,Qe).afterClosed().subscribe(yt=>{yt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(Qe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Qe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Qe,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(Qe,yt){this.lastSelectedItem=yt,Qe.preventDefault(),Qe.stopPropagation();let Dt=[];Dt.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),Dt&&Dt.length>0&&this.renderContextMenuComponent(Qe.clientX,Qe.clientY,Dt,yt)}renderContextMenuComponent(Qe,yt,Dt,fe){this.contextMenuService.show("sinovadMainContainer",Qe,yt,Dt).then(We=>{"ShowMediaServers"==We.key&&this.showMediaServerListModal(fe)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(Qe){var yt=this,Dt=this.modalService.open(ge,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Dt.componentInstance.parent=Qe,Dt.closed.subscribe(fe=>{yt.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.Y36(Ie.F0),m.Y36(i.FF),m.Y36(Te),m.Y36(g.uw),m.Y36(Oe.K),m.Y36(t.ye),m.Y36(f.c))};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-user-list"]],viewQuery:function(yt,Dt){if(1&yt&&(m.Gf(t.NW,5),m.Gf(v.YE,5)),2&yt){let fe;m.iGM(fe=m.CRH())&&(Dt.paginator=fe.first),m.iGM(fe=m.CRH())&&(Dt.sort=fe.first)}},features:[m.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(yt,Dt){1&yt&&(m.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),m._uU(3,"Usuarios"),m.qZA()(),m.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),m._uU(9,"Buscar"),m.qZA(),m.TgZ(10,"input",4,5),m.NdJ("keyup",function(We){return Dt.applyFilter(We)}),m.qZA()(),m.TgZ(12,"div",6),m.YNc(13,ft,2,0,"div",7),m.TgZ(14,"div",8)(15,"table",9),m.ynx(16,10),m.YNc(17,Ze,2,0,"th",11),m.YNc(18,Re,2,1,"td",12),m.BQk(),m.ynx(19,13),m.YNc(20,be,2,0,"th",14),m.YNc(21,Q,2,1,"td",15),m.BQk(),m.ynx(22,16),m.YNc(23,ie,2,0,"th",14),m.YNc(24,ye,2,1,"td",15),m.BQk(),m.ynx(25,17),m.YNc(26,oe,2,0,"th",14),m.YNc(27,ee,2,1,"td",15),m.BQk(),m.ynx(28,18),m.YNc(29,X,2,0,"th",14),m.YNc(30,$,2,1,"td",15),m.BQk(),m.ynx(31,19),m.YNc(32,re,1,0,"th",20),m.YNc(33,J,4,0,"td",21),m.BQk(),m.YNc(34,q,1,0,"tr",22),m.YNc(35,xe,1,3,"tr",23),m.YNc(36,Ge,2,1,"tr",24),m.qZA()()()()(),m.TgZ(37,"div",1)(38,"div",3),m._UZ(39,"mat-paginator",25),m.qZA()()()()),2&yt&&(m.xp6(13),m.Q6J("ngIf",Dt.showLoading),m.xp6(2),m.Q6J("dataSource",Dt.dataSource),m.xp6(19),m.Q6J("matHeaderRowDef",Dt.getDisplayedColumns()),m.xp6(1),m.Q6J("matRowDefColumns",Dt.getDisplayedColumns()),m.xp6(4),m.Q6J("color","primary")("pageSizeOptions",m.DdM(6,ct)))},dependencies:[c.mk,c.O5,t.NW,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,b.Ee,_.Nt,S.KE,S.hX,v.YE,v.nU,x.Ou,je.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return tt})()},1270:(Wn,et,p)=>{"use strict";p.d(et,{K:()=>i});var e=p(863),t=p(2372),v=p(8645),b=p(5879),g=p(5864),P=p(7541),D=p(1367),m=p(9429);let i=(()=>{class c{constructor(f,_,S,x){this.menuService=f,this.signalIRHubService=_,this.sharedDataService=S,this.restProvider=x,this.completedCallGetUserData$=new v.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedDataService.manageMenus=[],this.sharedDataService.currentProfile=void 0,this.sharedDataService.userData=void 0,this.sharedDataService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetUserData").then(f=>{let _=f.Data;_&&_.User?(this.sharedDataService.userData=_.User,this.sharedDataService.mediaServers=_.MediaServers,this.sharedDataService.linkedAccounts=_.LinkedAccounts,this.sharedDataService.listProfiles=_.Profiles,this.sharedDataService.currentProfile=_.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},f=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(f)})}getItems(f,_,S,x,A,N){return new Promise((O,C)=>{let I=(0,t.Z)();this.lastCallGuid=I;var T="?page="+f.toString()+"&take="+_.toString()+"&sortBy="+S+"&sortDirection="+x+"&searchText="+A+"&searchBy="+N;this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetAllWithPaginationAsync"+T).then(y=>{this.lastCallGuid==I&&O(y)},y=>{console.error(y),C(y)})})}saveItem(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(f.Id>0?e.yw.PUT:e.yw.POST,f.Id>0?"/users/Update":"/users/Create",f).then(N=>{_(!0)},N=>{console.error(N),S(N)})})}deleteItem(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/Delete/"+f).then(A=>{_(A)},A=>{console.error(A),S(A)})})}deleteItems(f){return new Promise((_,S)=>{let x=[];for(let O=0;O<f.length;O++)x.push(f[O].Id);var A=x.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/DeleteList/"+A).then(O=>{_(O)},O=>{console.error(O),S(O)})})}validateConfirmEmailToken(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateConfirmEmailToken",f).then(x=>{_(x)},x=>{console.error(x),S(x)})})}recoverPassword(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/RecoverPassword",f).then(x=>{_(x)},x=>{console.error(x),S(x)})})}registerUser(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/Register",f).then(x=>{_(x)},x=>{console.error(x),S(x)})})}validateResetPasswordToken(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateResetPasswordToken",f).then(x=>{_(x)},x=>{console.error(x),S(x)})})}resetPassword(f){return new Promise((_,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ResetPassword",f).then(x=>{_(x)},x=>{console.error(x),S(x)})})}static#e=this.\u0275fac=function(_){return new(_||c)(b.LFG(g.h),b.LFG(P.n),b.LFG(D.g),b.LFG(m.C))};static#t=this.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},914:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>ce});var e=p(863);class t{constructor(Ie,Ce,pe){this.router=Ie,this.activeRoute=Ce,this.sharedDataService=pe}initializeHeaderData(){var Ie=this.activeRoute.snapshot.params.serverGuid;if(null!=Ie){var Ce=this.sharedDataService.mediaServers.find(ke=>ke.Guid==Ie);if(Ce){this.mediaServer=JSON.parse(JSON.stringify(Ce));var pe=this.activeRoute.snapshot.params.libraryId;if(null!=Ce.ListLibraries&&Ce.ListLibraries.length>0){var Ae=Ce.ListLibraries.find(ke=>ke.MediaServerId==this.mediaServer.Id&&ke.Id==pe);null!=Ae?(this.library=Ae,this.title=Ae.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}var v=p(7394),b=p(5879),g=p(7541),P=p(1044),D=p(5908),m=p(1367),i=p(6814),c=p(5940),d=p(1444),f=p(1531);function _(ge,Ie){if(1&ge&&b._UZ(0,"img",10),2&ge){const Ce=b.oxw(3);b.Q6J("src",Ce.getUrlByItemDetailMovieDataBase(Ce.detail),b.LSH)}}function S(ge,Ie){if(1&ge&&(b.TgZ(0,"div",11)(1,"button",12)(2,"div",13),b._uU(3),b.qZA(),b.TgZ(4,"div",14),b._uU(5),b.qZA()()()),2&ge){const Ce=b.oxw(3);b.xp6(3),b.hij(" ",Ce.title," "),b.xp6(2),b.hij(" ",Ce.subtitle," ")}}function x(ge,Ie){if(1&ge&&(b.TgZ(0,"div",18)(1,"span",23),b._uU(2,"Director: "),b.qZA(),b.TgZ(3,"span",24),b._uU(4),b.qZA()()),2&ge){const Ce=b.oxw(5);b.xp6(4),b.Oqu(Ce.detail.MediaItem.Directors)}}function A(ge,Ie){if(1&ge&&(b.TgZ(0,"div",18)(1,"span",23),b._uU(2,"Reparto: "),b.qZA(),b.TgZ(3,"span",24),b._uU(4),b.qZA()()),2&ge){const Ce=b.oxw(5);b.xp6(4),b.Oqu(Ce.detail.MediaItem.Actors)}}function N(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"div")(1,"div")(2,"button",25),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(5);return b.KtG(Ae.continueVideo())}),b._uU(3,"Continuar"),b.qZA()(),b.TgZ(4,"div",26),b._UZ(5,"div",27),b.qZA(),b.TgZ(6,"div",28),b._uU(7),b.qZA()()}if(2&ge){const Ce=b.oxw(5);b.xp6(5),b.Udp("width",Ce.getWidthProgressItem(Ce.lastEpisodeWatched)),b.xp6(2),b.hij(" ",Ce.lastEpisodeWatched.Subtitle," ")}}function O(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"button",29),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(6);return b.KtG(Ae.showVideo())}),b._uU(1,"Ver desde el principio"),b.qZA(),b.TgZ(2,"button",25),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(6);return b.KtG(Ae.continueVideo())}),b._uU(3,"Continuar viendo"),b.qZA()}}function C(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"button",30),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(6);return b.KtG(Ae.showVideo())}),b._UZ(1,"i",31),b._uU(2," Ver ahora "),b.qZA()}}function I(ge,Ie){if(1&ge&&(b.YNc(0,O,4,0,"ng-template",0),b.YNc(1,C,3,0,"ng-template",0)),2&ge){const Ce=b.oxw(5);b.Q6J("ngIf",Ce.itemUserData),b.xp6(1),b.Q6J("ngIf",!Ce.itemUserData)}}function T(ge,Ie){if(1&ge&&(b.TgZ(0,"div",32),b._uU(1),b.qZA()),2&ge){const Ce=b.oxw(5);b.xp6(1),b.hij(" ",Ce.detail.MediaItem.Overview," ")}}function L(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"img",47),b.NdJ("error",function(){b.CHM(Ce),b.oxw();const Ae=b.MAs(12),ke=b.MAs(7),he=b.MAs(18),we=b.oxw(5);return b.KtG(we.onInitializeItemsRow(Ae,ke,he))}),b.qZA()}}const y=function(ge){return{selected:ge}};function B(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"div",48)(1,"button",49),b.NdJ("click",function(){const ke=b.CHM(Ce).$implicit,he=b.oxw(6);return b.KtG(he.onClickSeason(ke))}),b.TgZ(2,"span"),b._uU(3),b.qZA()()()}if(2&ge){const Ce=Ie.$implicit,pe=b.oxw(6);b.xp6(1),b.MGl("id","section_season_",Ce.SeasonNumber,""),b.Q6J("ngClass",b.VKq(3,y,Ce.SeasonNumber==pe.detail.CurrentSeason.SeasonNumber)),b.xp6(2),b.Oqu(Ce.Name)}}function z(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"section",50)(1,"button",51),b.NdJ("click",function(){const ke=b.CHM(Ce).$implicit,he=b.oxw(6);return b.KtG(he.onClickEpisode(ke))}),b.TgZ(2,"div",52),b._UZ(3,"img",10),b.qZA(),b.TgZ(4,"div",53)(5,"div",54),b._uU(6),b.qZA(),b.TgZ(7,"div",55),b._uU(8),b.qZA()()()()}if(2&ge){const Ce=Ie.$implicit,pe=b.oxw(6);b.hYB("id","section_episode_s",Ce.SeasonNumber,"_e",Ce.EpisodeNumber,""),b.xp6(1),b.hYB("id","button_episode_s",Ce.SeasonNumber,"_e",Ce.EpisodeNumber,""),b.xp6(2),b.Q6J("src",pe.getEpisodeImagePath(Ce),b.LSH),b.xp6(3),b.AsE(" ",Ce.EpisodeNumber,". ",Ce.Name," "),b.xp6(2),b.hij(" ",Ce.Overview," ")}}function ne(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"div",33)(1,"div"),b._uU(2," EPISODIOS "),b.qZA(),b.TgZ(3,"div",34),b.YNc(4,L,1,0,"img",35),b.TgZ(5,"div",3)(6,"div",36,37),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.MAs(12),ke=b.MAs(7),he=b.MAs(18),we=b.oxw(5);return b.KtG(we.onClickButtonLeftScroll(Ae,ke,he))}),b._UZ(8,"img",38),b.ALo(9,"async"),b.ALo(10,"formatDataPipe"),b.qZA()(),b.TgZ(11,"div",39,40)(13,"section",41,42),b.YNc(15,B,4,5,"ng-template",43),b.qZA()(),b.TgZ(16,"div",3)(17,"div",44,45),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.MAs(12),ke=b.MAs(7),he=b.MAs(18),we=b.oxw(5);return b.KtG(we.onClickButtonRightScroll(Ae,ke,he))}),b._UZ(19,"img",38),b.ALo(20,"async"),b.ALo(21,"formatDataPipe"),b.qZA()()(),b.TgZ(22,"div",46),b.YNc(23,z,9,8,"ng-template",43),b.qZA()()}if(2&ge){const Ce=b.oxw(5);b.xp6(4),b.Q6J("ngIf",!Ce.startResize),b.xp6(4),b.Q6J("src",b.lcZ(9,5,b.xi3(10,7,"left.png","GetIconURLByKey")),b.LSH),b.xp6(7),b.Q6J("ngForOf",Ce.detail.ListSeasons),b.xp6(4),b.Q6J("src",b.lcZ(20,10,b.xi3(21,12,"right.png","GetIconURLByKey")),b.LSH),b.xp6(4),b.Q6J("ngForOf",Ce.detail.CurrentSeason.ListEpisodes)}}function ae(ge,Ie){if(1&ge&&(b.TgZ(0,"div",16)(1,"div",17),b._uU(2),b.qZA(),b.TgZ(3,"div",18),b._uU(4),b.qZA(),b.YNc(5,x,5,1,"div",19),b.YNc(6,A,5,1,"div",19),b.TgZ(7,"section",20),b.YNc(8,N,8,3,"ng-template",0),b.YNc(9,I,2,2,"ng-template",0),b.qZA(),b.YNc(10,T,2,1,"div",21),b.YNc(11,ne,24,15,"div",22),b.qZA()),2&ge){const Ce=b.oxw(4);b.xp6(2),b.hij(" ",Ce.detail.MediaItem.Title," "),b.xp6(2),b.hij(" ",Ce.detail.MediaItem.Genres," "),b.xp6(1),b.Q6J("ngIf",Ce.detail.MediaItem.Directors),b.xp6(1),b.Q6J("ngIf",Ce.detail.MediaItem.Actors),b.xp6(2),b.Q6J("ngIf",Ce.lastEpisodeWatched),b.xp6(1),b.Q6J("ngIf",!Ce.lastEpisodeWatched),b.xp6(1),b.Q6J("ngIf",!Ce.lastEpisodeWatched),b.xp6(1),b.Q6J("ngIf",Ce.detail.ListSeasons&&Ce.detail.ListSeasons.length>0)}}function Fe(ge,Ie){if(1&ge&&(b.TgZ(0,"div",15),b.YNc(1,ae,12,8,"ng-template",0),b.qZA()),2&ge){const Ce=b.oxw(3);b.Udp("height",Ce.title?"calc(100% - 65px)":"100%"),b.xp6(1),b.Q6J("ngIf",Ce.detail)}}function Y(ge,Ie){if(1&ge&&(b.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),b.YNc(5,_,1,1,"img",6),b.qZA()()(),b.TgZ(6,"div",7),b.YNc(7,S,6,2,"div",8),b.YNc(8,Fe,2,3,"div",9),b.qZA()()),2&ge){const Ce=b.MAs(1),pe=b.oxw(2);b.xp6(4),b.Udp("width",Ce.clientWidth+"px"),b.xp6(1),b.Q6J("ngIf",pe.detail),b.xp6(2),b.Q6J("ngIf",pe.title),b.xp6(1),b.Q6J("ngIf",pe.detail)}}function le(ge,Ie){if(1&ge&&b._UZ(0,"app-server-connection-error",56),2&ge){const Ce=b.oxw(2);b.Q6J("mediaServer",Ce.mediaServer)}}function G(ge,Ie){if(1&ge&&(b.YNc(0,Y,9,5,"ng-template",0),b.YNc(1,le,1,1,"ng-template",0)),2&ge){const Ce=b.oxw();b.Q6J("ngIf",Ce.mediaServer&&Ce.mediaServer.isSecureConnection),b.xp6(1),b.Q6J("ngIf",Ce.mediaServer&&!Ce.mediaServer.isSecureConnection)}}function Se(ge,Ie){1&ge&&(b.TgZ(0,"div",57),b._UZ(1,"mat-spinner"),b.qZA())}let ce=(()=>{class ge extends t{constructor(Ce,pe,Ae,ke,he,we){super(ke,Ae,we),this.signalIrService=Ce,this.libraryService=pe,this.activeRoute=Ae,this.router=ke,this.ref=he,this.sharedDataService=we,this._window=window,this.startResize=!1,this.subscription=new v.w0,this.loadingConnection=!0,this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Te=>{this.mediaServer&&this.mediaServer.Guid==Te&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Te=>{this.mediaServer&&this.mediaServer.Guid==Te&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getMediaItemDetail(){let Ce=this.activeRoute.snapshot.queryParams.mediaId;Ce?this.libraryService.getMediaItemDetail(this.mediaServer.Url,Ce).then(pe=>{this.detail=pe,this.detail.CurrentSeason=this.detail.ListSeasons[0]},pe=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(Ce){return this.detail.MediaItem.MetadataAgentsId==e.DM.TMDb&&Ce.PosterPath?this.sharedDataService.urlEpisodeDataBase+Ce.PosterPath:Ce.ListMediaFiles&&Ce.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+Ce.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(Ce){return Ce.MediaItem.MetadataAgentsId==e.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+Ce.MediaItem.PosterPath:Ce.MediaItem.PosterPath?Ce.MediaItem.PosterPath:Ce.ListMediaFiles&&Ce.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+Ce.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae){pe.style.display=Ce.scrollLeft<=0?"none":"flex",Ae.style.display=Ce.scrollWidth==Ce.scrollLeft+Ce.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(Ce,pe,Ae){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae)},250)}onClickButtonLeftScroll(Ce,pe,Ae){Ce.scrollLeft=Ce.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae)}onClickButtonRightScroll(Ce,pe,Ae){Ce.scrollLeft=Ce.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae)}getWidthProgressItem(Ce){return Ce.CurrentTime/Ce.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==e.DD.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let Ce=this.detail.ListSeasons[0];Ce.ListEpisodes&&Ce.ListEpisodes.length>0&&this.getVideoByEpisode(Ce.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(Ce){this.detail.CurrentSeason=Ce}onClickEpisode(Ce){this.getVideoByEpisode(Ce)}getVideoByEpisode(Ce){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+Ce.ListMediaFiles[0].Id)}onResize(Ce){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(pe){return new(pe||ge)(b.Y36(g.n),b.Y36(P.$),b.Y36(D.gz),b.Y36(D.F0),b.Y36(b.sBO),b.Y36(m.g))};static#t=this.\u0275cmp=b.Xpm({type:ge,selectors:[["app-item-detail"]],hostBindings:function(pe,Ae){1&pe&&b.NdJ("resize",function(he){return Ae.onResize(he)},!1,b.Jf7)},features:[b.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(pe,Ae){1&pe&&(b.YNc(0,G,2,2,"ng-template",0),b.YNc(1,Se,2,0,"ng-template",0)),2&pe&&(b.Q6J("ngIf",!Ae.loadingConnection),b.xp6(1),b.Q6J("ngIf",Ae.loadingConnection))},dependencies:[i.mk,i.sg,i.O5,c.Ou,d.Z,i.Ov,f.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return ge})()},9817:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>oc});var e=p(5094),t=p(2372),v=p(4753);function b(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var h,M,k,j,te,g={exports:{}};h=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,M=/^(?=([^\/?#]*))\1([^]*)$/,k=/(?:\/|^)\.(?=\/)/g,j=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,g.exports=te={buildAbsoluteURL:function(De,Pe,lt){if(lt=lt||{},De=De.trim(),!(Pe=Pe.trim())){if(!lt.alwaysNormalize)return De;var pt=te.parseURL(De);if(!pt)throw new Error("Error trying to parse base URL.");return pt.path=te.normalizePath(pt.path),te.buildURLFromParts(pt)}var Bt=te.parseURL(Pe);if(!Bt)throw new Error("Error trying to parse relative URL.");if(Bt.scheme)return lt.alwaysNormalize?(Bt.path=te.normalizePath(Bt.path),te.buildURLFromParts(Bt)):Pe;var jt=te.parseURL(De);if(!jt)throw new Error("Error trying to parse base URL.");if(!jt.netLoc&&jt.path&&"/"!==jt.path[0]){var Xt=M.exec(jt.path);jt.netLoc=Xt[1],jt.path=Xt[2]}jt.netLoc&&!jt.path&&(jt.path="/");var cn={scheme:jt.scheme,netLoc:Bt.netLoc,path:null,params:Bt.params,query:Bt.query,fragment:Bt.fragment};if(!Bt.netLoc&&(cn.netLoc=jt.netLoc,"/"!==Bt.path[0]))if(Bt.path){var bn=jt.path,Bn=bn.substring(0,bn.lastIndexOf("/")+1)+Bt.path;cn.path=te.normalizePath(Bn)}else cn.path=jt.path,Bt.params||(cn.params=jt.params,Bt.query||(cn.query=jt.query));return null===cn.path&&(cn.path=lt.alwaysNormalize?te.normalizePath(Bt.path):Bt.path),te.buildURLFromParts(cn)},parseURL:function(De){var Pe=h.exec(De);return Pe?{scheme:Pe[1]||"",netLoc:Pe[2]||"",path:Pe[3]||"",params:Pe[4]||"",query:Pe[5]||"",fragment:Pe[6]||""}:null},normalizePath:function(De){for(De=De.split("").reverse().join("").replace(k,"");De.length!==(De=De.replace(j,"")).length;);return De.split("").reverse().join("")},buildURLFromParts:function(De){return De.scheme+De.netLoc+De.path+De.params+De.query+De.fragment}};var P=g.exports;function D(V,r){var l=Object.keys(V);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(V);r&&(h=h.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),l.push.apply(l,h)}return l}function m(V){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?D(Object(l),!0).forEach(function(h){i(V,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(l)):D(Object(l)).forEach(function(h){Object.defineProperty(V,h,Object.getOwnPropertyDescriptor(l,h))})}return V}function i(V,r,l){return r=function f(V){var r=function d(V,r){if("object"!=typeof V||null===V)return V;var l=V[Symbol.toPrimitive];if(void 0!==l){var h=l.call(V,r||"default");if("object"!=typeof h)return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(V)}(V,"string");return"symbol"==typeof r?r:String(r)}(r),r in V?Object.defineProperty(V,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):V[r]=l,V}function c(){return c=Object.assign?Object.assign.bind():function(V){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(V[h]=l[h])}return V},c.apply(this,arguments)}const _=Number.isFinite||function(V){return"number"==typeof V&&isFinite(V)};let S=function(V){return V.MEDIA_ATTACHING="hlsMediaAttaching",V.MEDIA_ATTACHED="hlsMediaAttached",V.MEDIA_DETACHING="hlsMediaDetaching",V.MEDIA_DETACHED="hlsMediaDetached",V.BUFFER_RESET="hlsBufferReset",V.BUFFER_CODECS="hlsBufferCodecs",V.BUFFER_CREATED="hlsBufferCreated",V.BUFFER_APPENDING="hlsBufferAppending",V.BUFFER_APPENDED="hlsBufferAppended",V.BUFFER_EOS="hlsBufferEos",V.BUFFER_FLUSHING="hlsBufferFlushing",V.BUFFER_FLUSHED="hlsBufferFlushed",V.MANIFEST_LOADING="hlsManifestLoading",V.MANIFEST_LOADED="hlsManifestLoaded",V.MANIFEST_PARSED="hlsManifestParsed",V.LEVEL_SWITCHING="hlsLevelSwitching",V.LEVEL_SWITCHED="hlsLevelSwitched",V.LEVEL_LOADING="hlsLevelLoading",V.LEVEL_LOADED="hlsLevelLoaded",V.LEVEL_UPDATED="hlsLevelUpdated",V.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",V.LEVELS_UPDATED="hlsLevelsUpdated",V.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",V.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",V.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",V.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",V.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",V.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",V.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",V.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",V.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",V.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",V.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",V.CUES_PARSED="hlsCuesParsed",V.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",V.INIT_PTS_FOUND="hlsInitPtsFound",V.FRAG_LOADING="hlsFragLoading",V.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",V.FRAG_LOADED="hlsFragLoaded",V.FRAG_DECRYPTED="hlsFragDecrypted",V.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",V.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",V.FRAG_PARSING_METADATA="hlsFragParsingMetadata",V.FRAG_PARSED="hlsFragParsed",V.FRAG_BUFFERED="hlsFragBuffered",V.FRAG_CHANGED="hlsFragChanged",V.FPS_DROP="hlsFpsDrop",V.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",V.ERROR="hlsError",V.DESTROYING="hlsDestroying",V.KEY_LOADING="hlsKeyLoading",V.KEY_LOADED="hlsKeyLoaded",V.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",V.BACK_BUFFER_REACHED="hlsBackBufferReached",V}({}),x=function(V){return V.NETWORK_ERROR="networkError",V.MEDIA_ERROR="mediaError",V.KEY_SYSTEM_ERROR="keySystemError",V.MUX_ERROR="muxError",V.OTHER_ERROR="otherError",V}({}),A=function(V){return V.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",V.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",V.KEY_SYSTEM_NO_SESSION="keySystemNoSession",V.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",V.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",V.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",V.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",V.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",V.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",V.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",V.MANIFEST_LOAD_ERROR="manifestLoadError",V.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",V.MANIFEST_PARSING_ERROR="manifestParsingError",V.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",V.LEVEL_EMPTY_ERROR="levelEmptyError",V.LEVEL_LOAD_ERROR="levelLoadError",V.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",V.LEVEL_PARSING_ERROR="levelParsingError",V.LEVEL_SWITCH_ERROR="levelSwitchError",V.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",V.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",V.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",V.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",V.FRAG_LOAD_ERROR="fragLoadError",V.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",V.FRAG_DECRYPT_ERROR="fragDecryptError",V.FRAG_PARSING_ERROR="fragParsingError",V.FRAG_GAP="fragGap",V.REMUX_ALLOC_ERROR="remuxAllocError",V.KEY_LOAD_ERROR="keyLoadError",V.KEY_LOAD_TIMEOUT="keyLoadTimeOut",V.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",V.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",V.BUFFER_APPEND_ERROR="bufferAppendError",V.BUFFER_APPENDING_ERROR="bufferAppendingError",V.BUFFER_STALLED_ERROR="bufferStalledError",V.BUFFER_FULL_ERROR="bufferFullError",V.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",V.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",V.INTERNAL_EXCEPTION="internalException",V.INTERNAL_ABORTED="aborted",V.UNKNOWN="unknown",V}({});const N=function(){},O={trace:N,debug:N,log:N,warn:N,info:N,error:N};let C=O;const y=C,B=/^(\d+)x(\d+)$/,z=/(.+?)=(".*?"|.*?)(?:,|$)/g;class ne{constructor(r){"string"==typeof r&&(r=ne.parseAttrList(r));for(const l in r)r.hasOwnProperty(l)&&("X-"===l.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(l)),this[l]=r[l])}decimalInteger(r){const l=parseInt(this[r],10);return l>Number.MAX_SAFE_INTEGER?1/0:l}hexadecimalInteger(r){if(this[r]){let l=(this[r]||"0x").slice(2);l=(1&l.length?"0":"")+l;const h=new Uint8Array(l.length/2);for(let M=0;M<l.length/2;M++)h[M]=parseInt(l.slice(2*M,2*M+2),16);return h}return null}hexadecimalIntegerAsNumber(r){const l=parseInt(this[r],16);return l>Number.MAX_SAFE_INTEGER?1/0:l}decimalFloatingPoint(r){return parseFloat(this[r])}optionalFloat(r,l){const h=this[r];return h?parseFloat(h):l}enumeratedString(r){return this[r]}bool(r){return"YES"===this[r]}decimalResolution(r){const l=B.exec(this[r]);if(null!==l)return{width:parseInt(l[1],10),height:parseInt(l[2],10)}}static parseAttrList(r){let l;const h={};for(z.lastIndex=0;null!==(l=z.exec(r));){let k=l[2];0===k.indexOf('"')&&k.lastIndexOf('"')===k.length-1&&(k=k.slice(1,-1)),h[l[1].trim()]=k}return h}}function Fe(V){return"SCTE35-OUT"===V||"SCTE35-IN"===V}class Y{constructor(r,l){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,l){const h=l.attr;for(const M in h)if(Object.prototype.hasOwnProperty.call(r,M)&&r[M]!==h[M]){y.warn(`DATERANGE tag attribute: "${M}" does not match for tags with ID: "${r.ID}"`),this._badValueForSameId=M;break}r=c(new ne({}),h,r)}if(this.attr=r,this._startDate=new Date(r["START-DATE"]),"END-DATE"in this.attr){const h=new Date(this.attr["END-DATE"]);_(h.getTime())&&(this._endDate=h)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const r=this.duration;return null!==r?new Date(this._startDate.getTime()+1e3*r):null}get duration(){if("DURATION"in this.attr){const r=this.attr.decimalFloatingPoint("DURATION");if(_(r))return r}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&_(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class le{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Se{constructor(r){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=r}setByteRange(r,l){const h=r.split("@",2),M=[];M[0]=1===h.length?l?l.byteRangeEndOffset:0:parseInt(h[1]),M[1]=parseInt(h[0])+M[0],this._byteRange=M}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=P.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(r){this._url=r}}class ce extends Se{constructor(r,l){super(l),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new le,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=r}get decryptdata(){const{levelkeys:r}=this;if(!r&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const l=this.levelkeys.identity;if(l)this._decryptdata=l.getDecryptData(this.sn);else{const h=Object.keys(this.levelkeys);if(1===h.length)return this._decryptdata=this.levelkeys[h[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!_(this.programDateTime))return null;const r=_(this.duration)?this.duration:0;return this.programDateTime+1e3*r}get encrypted(){var r;if(null!=(r=this._decryptdata)&&r.encrypted)return!0;if(this.levelkeys){const l=Object.keys(this.levelkeys),h=l.length;if(h>1||1===h&&this.levelkeys[l[0]].encrypted)return!0}return!1}setKeyFormat(r){if(this.levelkeys){const l=this.levelkeys[r];l&&!this._decryptdata&&(this._decryptdata=l.getDecryptData(this.sn))}}abortRequests(){var r,l;null==(r=this.loader)||r.abort(),null==(l=this.keyLoader)||l.abort()}setElementaryStreamInfo(r,l,h,M,k,j=!1){const{elementaryStreams:te}=this,De=te[r];De?(De.startPTS=Math.min(De.startPTS,l),De.endPTS=Math.max(De.endPTS,h),De.startDTS=Math.min(De.startDTS,M),De.endDTS=Math.max(De.endDTS,k)):te[r]={startPTS:l,endPTS:h,startDTS:M,endDTS:k,partial:j}}clearElementaryStreamInfo(){const{elementaryStreams:r}=this;r.audio=null,r.video=null,r.audiovideo=null}}class ge extends Se{constructor(r,l,h,M,k){super(h),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new le,this.duration=r.decimalFloatingPoint("DURATION"),this.gap=r.bool("GAP"),this.independent=r.bool("INDEPENDENT"),this.relurl=r.enumeratedString("URI"),this.fragment=l,this.index=M;const j=r.enumeratedString("BYTERANGE");j&&this.setByteRange(j,k),k&&(this.fragOffset=k.fragOffset+k.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:r}=this;return!!(r.audio||r.video||r.audiovideo)}}class Ce{constructor(r){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=r}reloaded(r){if(!r)return this.advanced=!0,void(this.updated=!0);const l=this.lastPartSn-r.lastPartSn,h=this.lastPartIndex-r.lastPartIndex;this.updated=this.endSN!==r.endSN||!!h||!!l,this.advanced=this.endSN>r.endSN||l>0||0===l&&h>0,this.misses=this.updated||this.advanced?Math.floor(.6*r.misses):r.misses+1,this.availabilityDelay=r.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&_(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const r=this.driftEndTime-this.driftStartTime;return r>0?1e3*(this.driftEnd-this.driftStart)/r:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var r;return null!=(r=this.fragments)&&r.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function pe(V){return Uint8Array.from(atob(V),r=>r.charCodeAt(0))}function we(V){return Uint8Array.from(unescape(encodeURIComponent(V)),r=>r.charCodeAt(0))}var Te={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Oe_FAIRPLAY="com.apple.streamingkeydelivery",Oe_PLAYREADY="com.microsoft.playready",Oe_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function je(V){switch(V){case Oe_FAIRPLAY:return Te.FAIRPLAY;case Oe_PLAYREADY:return Te.PLAYREADY;case Oe_WIDEVINE:return Te.WIDEVINE;case"org.w3.clearkey":return Te.CLEARKEY}}function Re(V){switch(V){case Te.FAIRPLAY:return Oe_FAIRPLAY;case Te.PLAYREADY:return Oe_PLAYREADY;case Te.WIDEVINE:return Oe_WIDEVINE;case Te.CLEARKEY:return"org.w3.clearkey"}}function be(V){const{drmSystems:r,widevineLicenseUrl:l}=V,h=r?[Te.FAIRPLAY,Te.WIDEVINE,Te.PLAYREADY,Te.CLEARKEY].filter(M=>!!r[M]):[];return!h[Te.WIDEVINE]&&l&&h.push(Te.WIDEVINE),h}const Q=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function oe(V,r,l){return Uint8Array.prototype.slice?V.slice(r,l):new Uint8Array(Array.prototype.slice.call(V,r,l))}const ee=(V,r)=>r+10<=V.length&&73===V[r]&&68===V[r+1]&&51===V[r+2]&&V[r+3]<255&&V[r+4]<255&&V[r+6]<128&&V[r+7]<128&&V[r+8]<128&&V[r+9]<128,X=(V,r)=>r+10<=V.length&&51===V[r]&&68===V[r+1]&&73===V[r+2]&&V[r+3]<255&&V[r+4]<255&&V[r+6]<128&&V[r+7]<128&&V[r+8]<128&&V[r+9]<128,$=(V,r)=>{const l=r;let h=0;for(;ee(V,r);)h+=10,h+=re(V,r+6),X(V,r+10)&&(h+=10),r+=h;if(h>0)return V.subarray(l,l+h)},re=(V,r)=>{let l=0;return l=(127&V[r])<<21,l|=(127&V[r+1])<<14,l|=(127&V[r+2])<<7,l|=127&V[r+3],l},J=(V,r)=>ee(V,r)&&re(V,r+6)+10<=V.length-r,_e=V=>V&&"PRIV"===V.key&&"com.apple.streaming.transportStreamTimestamp"===V.info,xe=V=>{const r=String.fromCharCode(V[0],V[1],V[2],V[3]),l=re(V,4);return{type:r,size:l,data:V.subarray(10,10+l)}},Ee=V=>{let r=0;const l=[];for(;ee(V,r);){const h=re(V,r+6);r+=10;const M=r+h;for(;r+8<M;){const k=xe(V.subarray(r)),j=Ge(k);j&&l.push(j),r+=k.size+10}X(V,r)&&(r+=10)}return l},Ge=V=>"PRIV"===V.type?ct(V):"W"===V.type[0]?tt(V):Xe(V),ct=V=>{if(V.size<2)return;const r=Qe(V.data,!0),l=new Uint8Array(V.data.subarray(r.length+1));return{key:V.type,info:r,data:l.buffer}},Xe=V=>{if(V.size<2)return;if("TXXX"===V.type){let l=1;const h=Qe(V.data.subarray(l),!0);l+=h.length+1;const M=Qe(V.data.subarray(l));return{key:V.type,info:h,data:M}}const r=Qe(V.data.subarray(1));return{key:V.type,data:r}},tt=V=>{if("WXXX"===V.type){if(V.size<2)return;let l=1;const h=Qe(V.data.subarray(l),!0);l+=h.length+1;const M=Qe(V.data.subarray(l));return{key:V.type,info:h,data:M}}const r=Qe(V.data);return{key:V.type,data:r}},gt=V=>{if(8===V.data.byteLength){const r=new Uint8Array(V.data);let h=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7];return h/=45,1&r[3]&&(h+=47721858.84),Math.round(h)}},Qe=(V,r=!1)=>{const l=function Dt(){return!yt&&typeof self.TextDecoder<"u"&&(yt=new self.TextDecoder("utf-8")),yt}();if(l){const Pe=l.decode(V);if(r){const lt=Pe.indexOf("\0");return-1!==lt?Pe.substring(0,lt):Pe}return Pe.replace(/\0/g,"")}const h=V.length;let M,k,j,te="",De=0;for(;De<h;){if(M=V[De++],0===M&&r)return te;if(0!==M&&3!==M)switch(M>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:te+=String.fromCharCode(M);break;case 12:case 13:k=V[De++],te+=String.fromCharCode((31&M)<<6|63&k);break;case 14:k=V[De++],j=V[De++],te+=String.fromCharCode((15&M)<<12|(63&k)<<6|(63&j)<<0)}}return te};let yt;const fe_hexDump=function(V){let r="";for(let l=0;l<V.length;l++){let h=V[l].toString(16);h.length<2&&(h="0"+h),r+=h}return r},We=Math.pow(2,32)-1,Et=[].push,Wt={video:1,audio:2,id3:3,text:4};function Qt(V){return String.fromCharCode.apply(null,V)}function qt(V,r){const l=V[r]<<8|V[r+1];return l<0?65536+l:l}function un(V,r){const l=fn(V,r);return l<0?4294967296+l:l}function fn(V,r){return V[r]<<24|V[r+1]<<16|V[r+2]<<8|V[r+3]}function wt(V,r,l){V[r]=l>>24,V[r+1]=l>>16&255,V[r+2]=l>>8&255,V[r+3]=255&l}function vt(V,r){const l=[];if(!r.length)return l;const h=V.byteLength;for(let M=0;M<h;){const k=un(V,M),te=k>1?M+k:h;if(Qt(V.subarray(M+4,M+8))===r[0])if(1===r.length)l.push(V.subarray(M+8,te));else{const De=vt(V.subarray(M+8,te),r.slice(1));De.length&&Et.apply(l,De)}M=te}return l}function it(V){const r=[],l=V[0];let h=8;const M=un(V,h);h+=4,h+=0===l?8:16,h+=2;let te=V.length+0;const De=qt(V,h);h+=2;for(let Pe=0;Pe<De;Pe++){let lt=h;const pt=un(V,lt);lt+=4;const Bt=2147483647&pt;if((2147483648&pt)>>>31==1)return y.warn("SIDX has hierarchical references (not supported)"),null;const Xt=un(V,lt);lt+=4,r.push({referenceSize:Bt,subsegmentDuration:Xt,info:{duration:Xt/M,start:te,end:te+Bt-1}}),te+=Bt,lt+=4,h=lt}return{earliestPresentationTime:0,timescale:M,version:l,referencesCount:De,references:r}}function He(V){const r=[],l=vt(V,["moov","trak"]);for(let M=0;M<l.length;M++){const k=l[M],j=vt(k,["tkhd"])[0];if(j){let te=j[0],De=0===te?12:20;const Pe=un(j,De),lt=vt(k,["mdia","mdhd"])[0];if(lt){te=lt[0],De=0===te?12:20;const pt=un(lt,De),Bt=vt(k,["mdia","hdlr"])[0];if(Bt){const Xt={soun:"audio",vide:"video"}[Qt(Bt.subarray(8,12))];if(Xt){const cn=vt(k,["mdia","minf","stbl","stsd"])[0];let bn;cn&&(bn=Qt(cn.subarray(12,16))),r[Pe]={timescale:pt,type:Xt},r[Xt]={timescale:pt,id:Pe,codec:bn}}}}}}return vt(V,["moov","mvex","trex"]).forEach(M=>{const k=un(M,4),j=r[k];j&&(j.default={duration:un(M,12),flags:un(M,20)})}),r}function st(V){const r=vt(V,["schm"])[0];if(r){const l=Qt(r.subarray(4,8));if("cbcs"===l||"cenc"===l)return vt(V,["schi","tenc"])[0]}return y.error("[eme] missing 'schm' box"),null}function bt(V){const r=un(V,0);let l=8;1&r&&(l+=4),4&r&&(l+=4);let h=0;const M=un(V,4);for(let k=0;k<M;k++)256&r&&(h+=un(V,l),l+=4),512&r&&(l+=4),1024&r&&(l+=4),2048&r&&(l+=4);return h}function En(V,r){const l=new Uint8Array(V.length+r.length);return l.set(V),l.set(r,V.length),l}function tn(V,r){const l=[],h=r.samples,M=r.timescale,k=r.id;let j=!1;return vt(h,["moof"]).map(De=>{const Pe=De.byteOffset-8;vt(De,["traf"]).map(pt=>{const Bt=vt(pt,["tfdt"]).map(jt=>{const Xt=jt[0];let cn=un(jt,4);return 1===Xt&&(cn*=Math.pow(2,32),cn+=un(jt,8)),cn/M})[0];return void 0!==Bt&&(V=Bt),vt(pt,["tfhd"]).map(jt=>{const Xt=un(jt,4),cn=16777215&un(jt,0);let zn=0;const ui=0!=(16&cn);let oi=0;const Ai=0!=(32&cn);let hi=8;Xt===k&&(0!=(1&cn)&&(hi+=8),0!=(2&cn)&&(hi+=4),0!=(8&cn)&&(zn=un(jt,hi),hi+=4),ui&&(oi=un(jt,hi),hi+=4),Ai&&(hi+=4),"video"===r.type&&(j=function Mn(V){if(!V)return!1;const r=V.indexOf("."),l=r<0?V:V.substring(0,r);return"hvc1"===l||"hev1"===l||"dvh1"===l||"dvhe"===l}(r.codec)),vt(pt,["trun"]).map(Di=>{const wi=Di[0],ci=16777215&un(Di,0),Ui=0!=(1&ci);let ji=0;const xo=0!=(4&ci),Xs=0!=(256&ci);let Dr=0;const Ro=0!=(512&ci);let jo=0;const Ki=0!=(1024&ci),rr=0!=(2048&ci);let No=0;const Vo=un(Di,4);let Lr=8;Ui&&(ji=un(Di,Lr),Lr+=4),xo&&(Lr+=4);let Hs=ji+Pe;for(let la=0;la<Vo;la++){if(Xs?(Dr=un(Di,Lr),Lr+=4):Dr=zn,Ro?(jo=un(Di,Lr),Lr+=4):jo=oi,Ki&&(Lr+=4),rr&&(No=0===wi?un(Di,Lr):fn(Di,Lr),Lr+=4),"video"===r.type){let Qa=0;for(;Qa<jo;){const qa=un(h,Hs);Hs+=4,In(j,h[Hs])&&Nn(h.subarray(Hs,Hs+qa),j?2:1,V+No/M,l),Hs+=qa,Qa+=qa+4}}V+=Dr/M}}))})})}),l}function In(V,r){if(V){const l=r>>1&63;return 39===l||40===l}return 6==(31&r)}function Nn(V,r,l,h){const M=$n(V);let k=0;k+=r;let j=0,te=0,De=!1,Pe=0;for(;k<M.length;){j=0;do{if(k>=M.length)break;Pe=M[k++],j+=Pe}while(255===Pe);te=0;do{if(k>=M.length)break;Pe=M[k++],te+=Pe}while(255===Pe);const lt=M.length-k;if(!De&&4===j&&k<M.length){if(De=!0,181===M[k++]){const Bt=qt(M,k);if(k+=2,49===Bt){const jt=un(M,k);if(k+=4,1195456820===jt){const Xt=M[k++];if(3===Xt){const cn=M[k++],Bn=64&cn,ti=Bn?2+3*(31&cn):0,zn=new Uint8Array(ti);if(Bn){zn[0]=cn;for(let ui=1;ui<ti;ui++)zn[ui]=M[k++]}h.push({type:Xt,payloadType:j,pts:l,bytes:zn})}}}}}else if(5===j&&te<lt){if(De=!0,te>16){const pt=[];for(let Xt=0;Xt<16;Xt++){const cn=M[k++].toString(16);pt.push(1==cn.length?"0"+cn:cn),(3===Xt||5===Xt||7===Xt||9===Xt)&&pt.push("-")}const Bt=te-16,jt=new Uint8Array(Bt);for(let Xt=0;Xt<Bt;Xt++)jt[Xt]=M[k++];h.push({payloadType:j,pts:l,uuid:pt.join(""),userData:Qe(jt),userDataBytes:jt})}}else if(te<lt)k+=te;else if(te>lt)break}}function $n(V){const r=V.byteLength,l=[];let h=1;for(;h<r-2;)0===V[h]&&0===V[h+1]&&3===V[h+2]?(l.push(h+2),h+=2):h++;if(0===l.length)return V;const M=r-l.length,k=new Uint8Array(M);let j=0;for(h=0;h<M;j++,h++)j===l[0]&&(j++,l.shift()),k[h]=V[j];return k}let mn={};class _n{static clearKeyUriToKeyIdMap(){mn={}}constructor(r,l,h,M=[1],k=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=r,this.uri=l,this.keyFormat=h,this.keyFormatVersions=M,this.iv=k,this.encrypted=!!r&&"NONE"!==r,this.isCommonEncryption=this.encrypted&&"AES-128"!==r}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Oe_FAIRPLAY:case Oe_WIDEVINE:case Oe_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(r){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof r&&("AES-128"===this.method&&!this.iv&&y.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),r=0);const h=function At(V){const r=new Uint8Array(16);for(let l=12;l<16;l++)r[l]=V>>8*(15-l)&255;return r}(r);return new _n(this.method,this.uri,"identity",this.keyFormatVersions,h)}const l=function he(V){const r=V.split(":");let l=null;if("data"===r[0]&&2===r.length){const h=r[1].split(";"),M=h[h.length-1].split(",");if(2===M.length){const j=M[1];"base64"===M[0]?(h.splice(-1,1),l=pe(j)):l=function Ae(V){const r=we(V).subarray(0,16),l=new Uint8Array(16);return l.set(r,16-r.length),l}(j)}}return l}(this.uri);if(l)switch(this.keyFormat){case Oe_WIDEVINE:this.pssh=l,l.length>=22&&(this.keyId=l.subarray(l.length-22,l.length-6));break;case Oe_PLAYREADY:{const h=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function pn(V,r,l){if(16!==V.byteLength)throw new RangeError("Invalid system id");let h,M,k;if(r){h=1,M=new Uint8Array(16*r.length);for(let te=0;te<r.length;te++){const De=r[te];if(16!==De.byteLength)throw new RangeError("Invalid key");M.set(De,16*te)}}else h=0,M=new Uint8Array;h>0?(k=new Uint8Array(4),r.length>0&&new DataView(k.buffer).setUint32(0,r.length,!1)):k=new Uint8Array;const j=new Uint8Array(4);return l&&l.byteLength>0&&new DataView(j.buffer).setUint32(0,l.byteLength,!1),function vn(V,...r){const l=r.length;let h=8,M=l;for(;M--;)h+=r[M].byteLength;const k=new Uint8Array(h);for(k[0]=h>>24&255,k[1]=h>>16&255,k[2]=h>>8&255,k[3]=255&h,k.set(V,4),M=0,h=8;M<l;M++)k.set(r[M],h),h+=r[M].byteLength;return k}([112,115,115,104],new Uint8Array([h,0,0,0]),V,k,M,j,l||new Uint8Array)}(h,null,l);const M=new Uint16Array(l.buffer,l.byteOffset,l.byteLength/2),k=String.fromCharCode.apply(null,Array.from(M)),j=k.substring(k.indexOf("<"),k.length),Pe=(new DOMParser).parseFromString(j,"text/xml").getElementsByTagName("KID")[0];if(Pe){const lt=Pe.childNodes[0]?Pe.childNodes[0].nodeValue:Pe.getAttribute("VALUE");if(lt){const pt=pe(lt).subarray(0,16);(function ke(V){const r=function(h,M,k){const j=h[M];h[M]=h[k],h[k]=j};r(V,0,3),r(V,1,2),r(V,4,5),r(V,6,7)})(pt),this.keyId=pt}}break}default:{let h=l.subarray(0,16);if(16!==h.length){const M=new Uint8Array(16);M.set(h,16-h.length),h=M}this.keyId=h;break}}if(!this.keyId||16!==this.keyId.byteLength){let h=mn[this.uri];if(!h){const M=Object.keys(mn).length%Number.MAX_SAFE_INTEGER;h=new Uint8Array(16),new DataView(h.buffer,12,4).setUint32(0,M),mn[this.uri]=h}this.keyId=h}return this}}const ht=/\{\$([a-zA-Z0-9-_]+)\}/g;function Tn(V){return ht.test(V)}function qe(V,r,l){if(null!==V.variableList||V.hasVariableRefs)for(let h=l.length;h--;){const M=l[h],k=r[M];k&&(r[M]=Ct(V,k))}}function Ct(V,r){if(null!==V.variableList||V.hasVariableRefs){const l=V.variableList;return r.replace(ht,h=>{const M=h.substring(2,h.length-1),k=l?.[M];return void 0===k?(V.playlistParsingError||(V.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${M}"`)),h):k})}return r}function Jt(V,r,l){let M,k,h=V.variableList;if(h||(V.variableList=h={}),"QUERYPARAM"in r){M=r.QUERYPARAM;try{const j=new self.URL(l).searchParams;if(!j.has(M))throw new Error(`"${M}" does not match any query parameter in URI: "${l}"`);k=j.get(M)}catch(j){V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${j.message}`))}}else M=r.NAME,k=r.VALUE;M in h?V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${M}"`)):h[M]=k||""}function Rt(V,r,l){const h=r.IMPORT;if(l&&h in l){let M=V.variableList;M||(V.variableList=M={}),M[h]=l[h]}else V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${h}"`))}function xn(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const kt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},It=xn();function en(V,r){var l;return null!=(l=It?.isTypeSupported(`${r||"video"}/mp4;codecs="${V}"`))&&l}const An=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Kn=/#EXT-X-MEDIA:(.*)/g,Xn=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ut=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),On=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ne{static findGroup(r,l){for(let h=0;h<r.length;h++){const M=r[h];if(M.id===l)return M}}static convertAVC1ToAVCOTI(r){const l=r.split(".");if(l.length>2){let h=l.shift()+".";return h+=parseInt(l.shift()).toString(16),h+=("000"+parseInt(l.shift()).toString(16)).slice(-4),h}return r}static resolve(r,l){return P.buildAbsoluteURL(l,r,{alwaysNormalize:!0})}static isMediaPlaylist(r){return Xn.test(r)}static parseMasterPlaylist(r,l){const M={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Tn(r)},k=[];let j;for(An.lastIndex=0;null!=(j=An.exec(r));)if(j[1]){var te;const Pe=new ne(j[1]);qe(M,Pe,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const lt=Ct(M,j[2]),pt={attrs:Pe,bitrate:Pe.decimalInteger("AVERAGE-BANDWIDTH")||Pe.decimalInteger("BANDWIDTH"),name:Pe.NAME,url:Ne.resolve(lt,l)},Bt=Pe.decimalResolution("RESOLUTION");Bt&&(pt.width=Bt.width,pt.height=Bt.height),ln((Pe.CODECS||"").split(/[ ,]+/).filter(jt=>jt),pt),pt.videoCodec&&-1!==pt.videoCodec.indexOf("avc1")&&(pt.videoCodec=Ne.convertAVC1ToAVCOTI(pt.videoCodec)),null!=(te=pt.unknownCodecs)&&te.length||k.push(pt),M.levels.push(pt)}else if(j[3]){const lt=j[4];switch(j[3]){case"SESSION-DATA":{const pt=new ne(lt);qe(M,pt,["DATA-ID","LANGUAGE","VALUE","URI"]);const Bt=pt["DATA-ID"];Bt&&(null===M.sessionData&&(M.sessionData={}),M.sessionData[Bt]=pt);break}case"SESSION-KEY":{const pt=Ft(lt,l,M);pt.encrypted&&pt.isSupported()?(null===M.sessionKeys&&(M.sessionKeys=[]),M.sessionKeys.push(pt)):y.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${lt}"`);break}case"DEFINE":{const pt=new ne(lt);qe(M,pt,["NAME","VALUE","QUERYPARAM"]),Jt(M,pt,l)}break;case"CONTENT-STEERING":{const pt=new ne(lt);qe(M,pt,["SERVER-URI","PATHWAY-ID"]),M.contentSteering={uri:Ne.resolve(pt["SERVER-URI"],l),pathwayId:pt["PATHWAY-ID"]||"."};break}case"START":M.startTimeOffset=Pt(lt)}}return M.levels=k.length>0&&k.length<M.levels.length?k:M.levels,0===M.levels.length&&(M.playlistParsingError=new Error("no levels found in manifest")),M}static parseMasterPlaylistMedia(r,l,h){let M;const k={},j=h.levels,te={AUDIO:j.map(Pe=>({id:Pe.attrs.AUDIO,audioCodec:Pe.audioCodec})),SUBTITLES:j.map(Pe=>({id:Pe.attrs.SUBTITLES,textCodec:Pe.textCodec})),"CLOSED-CAPTIONS":[]};let De=0;for(Kn.lastIndex=0;null!==(M=Kn.exec(r));){const Pe=new ne(M[1]),lt=Pe.TYPE;if(lt){const pt=te[lt],Bt=k[lt]||[];k[lt]=Bt,qe(h,Pe,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const jt={attrs:Pe,bitrate:0,id:De++,groupId:Pe["GROUP-ID"]||"",instreamId:Pe["INSTREAM-ID"],name:Pe.NAME||Pe.LANGUAGE||"",type:lt,default:Pe.bool("DEFAULT"),autoselect:Pe.bool("AUTOSELECT"),forced:Pe.bool("FORCED"),lang:Pe.LANGUAGE,url:Pe.URI?Ne.resolve(Pe.URI,l):""};if(null!=pt&&pt.length){const Xt=Ne.findGroup(pt,jt.groupId)||pt[0];Fn(jt,Xt,"audioCodec"),Fn(jt,Xt,"textCodec")}Bt.push(jt)}}return k}static parseLevelPlaylist(r,l,h,M,k,j){const te=new Ce(l),De=te.fragments;let bn,Bn,ti,Pe=null,lt=0,pt=0,Bt=0,jt=0,Xt=null,cn=new ce(M,l),zn=-1,ui=!1;for(Ut.lastIndex=0,te.m3u8=r,te.hasVariableRefs=Tn(r);null!==(bn=Ut.exec(r));){ui&&(ui=!1,cn=new ce(M,l),cn.start=Bt,cn.sn=lt,cn.cc=jt,cn.level=h,Pe&&(cn.initSegment=Pe,cn.rawProgramDateTime=Pe.rawProgramDateTime,Pe.rawProgramDateTime=null));const Di=bn[1];if(Di){cn.duration=parseFloat(Di);const wi=(" "+bn[2]).slice(1);cn.title=wi||null,cn.tagList.push(wi?["INF",Di,wi]:["INF",Di])}else if(bn[3]){if(_(cn.duration)){cn.start=Bt,ti&&Hr(cn,ti,te),cn.sn=lt,cn.level=h,cn.cc=jt,cn.urlId=k,De.push(cn);const wi=(" "+bn[3]).slice(1);cn.relurl=Ct(te,wi),vr(cn,Xt),Xt=cn,Bt+=cn.duration,lt++,pt=0,ui=!0}}else if(bn[4]){const wi=(" "+bn[4]).slice(1);Xt?cn.setByteRange(wi,Xt):cn.setByteRange(wi)}else if(bn[5])cn.rawProgramDateTime=(" "+bn[5]).slice(1),cn.tagList.push(["PROGRAM-DATE-TIME",cn.rawProgramDateTime]),-1===zn&&(zn=De.length);else{if(bn=bn[0].match(On),!bn){y.warn("No matches on slow regex match for level playlist!");continue}for(Bn=1;Bn<bn.length&&!(typeof bn[Bn]<"u");Bn++);const wi=(" "+bn[Bn]).slice(1),ci=(" "+bn[Bn+1]).slice(1),Ui=bn[Bn+2]?(" "+bn[Bn+2]).slice(1):"";switch(wi){case"PLAYLIST-TYPE":te.type=ci.toUpperCase();break;case"MEDIA-SEQUENCE":lt=te.startSN=parseInt(ci);break;case"SKIP":{const ji=new ne(ci);qe(te,ji,["RECENTLY-REMOVED-DATERANGES"]);const xo=ji.decimalInteger("SKIPPED-SEGMENTS");if(_(xo)){te.skippedSegments=xo;for(let Dr=xo;Dr--;)De.unshift(null);lt+=xo}const Xs=ji.enumeratedString("RECENTLY-REMOVED-DATERANGES");Xs&&(te.recentlyRemovedDateranges=Xs.split("\t"));break}case"TARGETDURATION":te.targetduration=Math.max(parseInt(ci),1);break;case"VERSION":te.version=parseInt(ci);break;case"EXTM3U":break;case"ENDLIST":te.live=!1;break;case"#":(ci||Ui)&&cn.tagList.push(Ui?[ci,Ui]:[ci]);break;case"DISCONTINUITY":jt++,cn.tagList.push(["DIS"]);break;case"GAP":cn.gap=!0,cn.tagList.push([wi]);break;case"BITRATE":cn.tagList.push([wi,ci]);break;case"DATERANGE":{const ji=new ne(ci);qe(te,ji,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),qe(te,ji,ji.clientAttrs);const xo=new Y(ji,te.dateRanges[ji.ID]);xo.isValid||te.skippedSegments?te.dateRanges[xo.id]=xo:y.warn(`Ignoring invalid DATERANGE tag: "${ci}"`),cn.tagList.push(["EXT-X-DATERANGE",ci]);break}case"DEFINE":{const ji=new ne(ci);qe(te,ji,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in ji?Rt(te,ji,j):Jt(te,ji,l)}break;case"DISCONTINUITY-SEQUENCE":jt=parseInt(ci);break;case"KEY":{const ji=Ft(ci,l,te);if(ji.isSupported()){if("NONE"===ji.method){ti=void 0;break}ti||(ti={}),ti[ji.keyFormat]&&(ti=c({},ti)),ti[ji.keyFormat]=ji}else y.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${ci}"`);break}case"START":te.startTimeOffset=Pt(ci);break;case"MAP":{const ji=new ne(ci);if(qe(te,ji,["BYTERANGE","URI"]),cn.duration){const xo=new ce(M,l);Zr(xo,ji,h,ti),Pe=xo,cn.initSegment=Pe,Pe.rawProgramDateTime&&!cn.rawProgramDateTime&&(cn.rawProgramDateTime=Pe.rawProgramDateTime)}else Zr(cn,ji,h,ti),Pe=cn,ui=!0;break}case"SERVER-CONTROL":{const ji=new ne(ci);te.canBlockReload=ji.bool("CAN-BLOCK-RELOAD"),te.canSkipUntil=ji.optionalFloat("CAN-SKIP-UNTIL",0),te.canSkipDateRanges=te.canSkipUntil>0&&ji.bool("CAN-SKIP-DATERANGES"),te.partHoldBack=ji.optionalFloat("PART-HOLD-BACK",0),te.holdBack=ji.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const ji=new ne(ci);te.partTarget=ji.decimalFloatingPoint("PART-TARGET");break}case"PART":{let ji=te.partList;ji||(ji=te.partList=[]);const xo=pt>0?ji[ji.length-1]:void 0,Xs=pt++,Dr=new ne(ci);qe(te,Dr,["BYTERANGE","URI"]);const Ro=new ge(Dr,cn,l,Xs,xo);ji.push(Ro),cn.duration+=Ro.duration;break}case"PRELOAD-HINT":{const ji=new ne(ci);qe(te,ji,["URI"]),te.preloadHint=ji;break}case"RENDITION-REPORT":{const ji=new ne(ci);qe(te,ji,["URI"]),te.renditionReports=te.renditionReports||[],te.renditionReports.push(ji);break}default:y.warn(`line parsed but not handled: ${bn}`)}}}Xt&&!Xt.relurl?(De.pop(),Bt-=Xt.duration,te.partList&&(te.fragmentHint=Xt)):te.partList&&(vr(cn,Xt),cn.cc=jt,te.fragmentHint=cn,ti&&Hr(cn,ti,te));const oi=De.length,Ai=De[0],hi=De[oi-1];if(Bt+=te.skippedSegments*te.targetduration,Bt>0&&oi&&hi){te.averagetargetduration=Bt/oi;const Di=hi.sn;te.endSN="initSegment"!==Di?Di:0,te.live||(hi.endList=!0),Ai&&(te.startCC=Ai.cc)}else te.endSN=0,te.startCC=0;return te.fragmentHint&&(Bt+=te.fragmentHint.duration),te.totalduration=Bt,te.endCC=jt,zn>0&&function vi(V,r){let l=V[r];for(let h=r;h--;){const M=V[h];if(!M)return;M.programDateTime=l.programDateTime-1e3*M.duration,l=M}}(De,zn),te}}function Ft(V,r,l){var h,M;const k=new ne(V);qe(l,k,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const j=null!=(h=k.METHOD)?h:"",te=k.URI,De=k.hexadecimalInteger("IV"),Pe=k.KEYFORMATVERSIONS,lt=null!=(M=k.KEYFORMAT)?M:"identity";te&&k.IV&&!De&&y.error(`Invalid IV: ${k.IV}`);const pt=te?Ne.resolve(te,r):"",Bt=(Pe||"1").split("/").map(Number).filter(Number.isFinite);return new _n(j,pt,lt,Bt,De)}function Pt(V){const l=new ne(V).decimalFloatingPoint("TIME-OFFSET");return _(l)?l:null}function ln(V,r){["video","audio","text"].forEach(l=>{const h=V.filter(M=>function Nt(V,r){const l=kt[r];return!!l&&!0===l[V.slice(0,4)]}(M,l));if(h.length){const M=h.filter(k=>0===k.lastIndexOf("avc1",0)||0===k.lastIndexOf("mp4a",0));r[`${l}Codec`]=M.length>0?M[0]:h[0],V=V.filter(k=>-1===h.indexOf(k))}}),r.unknownCodecs=V}function Fn(V,r,l){const h=r[l];h&&(V[l]=h)}function vr(V,r){V.rawProgramDateTime?V.programDateTime=Date.parse(V.rawProgramDateTime):null!=r&&r.programDateTime&&(V.programDateTime=r.endProgramDateTime),_(V.programDateTime)||(V.programDateTime=null,V.rawProgramDateTime=null)}function Zr(V,r,l,h){V.relurl=r.URI,r.BYTERANGE&&V.setByteRange(r.BYTERANGE),V.level=l,V.sn="initSegment",h&&(V.levelkeys=h),V.initSegment=null}function Hr(V,r,l){V.levelkeys=r;const{encryptedFragments:h}=l;(!h.length||h[h.length-1].levelkeys!==r)&&Object.keys(r).some(M=>r[M].isCommonEncryption)&&h.push(V)}function Ko(V){const{type:r}=V;switch(r){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Co(V,r){let l=V.url;return(void 0===l||0===l.indexOf("data:"))&&(l=r.url),l}class vs{constructor(r){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=r,this.registerListeners()}startLoad(r){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:r}=this;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.on(S.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_LOADING,this.onLevelLoading,this),r.off(S.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.off(S.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(r){const l=this.hls.config,j=new(l.pLoader||l.loader)(l);return this.loaders[r.type]=j,j}getInternalLoader(r){return this.loaders[r.type]}resetInternalLoader(r){this.loaders[r]&&delete this.loaders[r]}destroyInternalLoaders(){for(const r in this.loaders){const l=this.loaders[r];l&&l.destroy(),this.resetInternalLoader(r)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(r,l){const{url:h}=l;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:h,deliveryDirectives:null})}onLevelLoading(r,l){const{id:h,level:M,url:k,deliveryDirectives:j}=l;this.load({id:h,level:M,responseType:"text",type:"level",url:k,deliveryDirectives:j})}onAudioTrackLoading(r,l){const{id:h,groupId:M,url:k,deliveryDirectives:j}=l;this.load({id:h,groupId:M,level:null,responseType:"text",type:"audioTrack",url:k,deliveryDirectives:j})}onSubtitleTrackLoading(r,l){const{id:h,groupId:M,url:k,deliveryDirectives:j}=l;this.load({id:h,groupId:M,level:null,responseType:"text",type:"subtitleTrack",url:k,deliveryDirectives:j})}load(r){var l;const h=this.hls.config;let k,M=this.getInternalLoader(r);if(M){const Pe=M.context;if(Pe&&Pe.url===r.url)return void y.trace("[playlist-loader]: playlist request ongoing");y.log(`[playlist-loader]: aborting previous loader for type: ${r.type}`),M.abort()}if(k="manifest"===r.type?h.manifestLoadPolicy.default:c({},h.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),M=this.createInternalLoader(r),null!=(l=r.deliveryDirectives)&&l.part){let Pe;if("level"===r.type&&null!==r.level?Pe=this.hls.levels[r.level].details:"audioTrack"===r.type&&null!==r.id?Pe=this.hls.audioTracks[r.id].details:"subtitleTrack"===r.type&&null!==r.id&&(Pe=this.hls.subtitleTracks[r.id].details),Pe){const lt=Pe.partTarget,pt=Pe.targetduration;if(lt&&pt){const Bt=1e3*Math.max(3*lt,.8*pt);k=c({},k,{maxTimeToFirstByteMs:Math.min(Bt,k.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Bt,k.maxTimeToFirstByteMs)})}}}const j=k.errorRetry||k.timeoutRetry||{};M.load(r,{loadPolicy:k,timeout:k.maxLoadTimeMs,maxRetry:j.maxNumRetry||0,retryDelay:j.retryDelayMs||0,maxRetryDelay:j.maxRetryDelayMs||0},{onSuccess:(Pe,lt,pt,Bt)=>{const jt=this.getInternalLoader(pt);this.resetInternalLoader(pt.type);const Xt=Pe.data;0===Xt.indexOf("#EXTM3U")?(lt.parsing.start=performance.now(),Ne.isMediaPlaylist(Xt)?this.handleTrackOrLevelPlaylist(Pe,lt,pt,Bt||null,jt):this.handleMasterPlaylist(Pe,lt,pt,Bt)):this.handleManifestParsingError(Pe,pt,new Error("no EXTM3U delimiter"),Bt||null,lt)},onError:(Pe,lt,pt,Bt)=>{this.handleNetworkError(lt,pt,!1,Pe,Bt)},onTimeout:(Pe,lt,pt)=>{this.handleNetworkError(lt,pt,!0,void 0,Pe)}})}handleMasterPlaylist(r,l,h,M){const k=this.hls,j=r.data,te=Co(r,h),De=Ne.parseMasterPlaylist(j,te);if(De.playlistParsingError)return void this.handleManifestParsingError(r,h,De.playlistParsingError,M,l);const{contentSteering:Pe,levels:lt,sessionData:pt,sessionKeys:Bt,startTimeOffset:jt,variableList:Xt}=De;this.variableList=Xt;const{AUDIO:cn=[],SUBTITLES:bn,"CLOSED-CAPTIONS":Bn}=Ne.parseMasterPlaylistMedia(j,te,De);cn.length&&!cn.some(zn=>!zn.url)&&lt[0].audioCodec&&!lt[0].attrs.AUDIO&&(y.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),cn.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ne({}),bitrate:0,url:""})),k.trigger(S.MANIFEST_LOADED,{levels:lt,audioTracks:cn,subtitles:bn,captions:Bn,contentSteering:Pe,url:te,stats:l,networkDetails:M,sessionData:pt,sessionKeys:Bt,startTimeOffset:jt,variableList:Xt})}handleTrackOrLevelPlaylist(r,l,h,M,k){const j=this.hls,{id:te,level:De,type:Pe}=h,lt=Co(r,h),pt=_(te)?te:0,Bt=_(De)?De:pt,jt=Ko(h),Xt=Ne.parseLevelPlaylist(r.data,lt,Bt,jt,pt,this.variableList);if("manifest"===Pe){const cn={attrs:new ne({}),bitrate:0,details:Xt,name:"",url:lt};j.trigger(S.MANIFEST_LOADED,{levels:[cn],audioTracks:[],url:lt,stats:l,networkDetails:M,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}l.parsing.end=performance.now(),h.levelDetails=Xt,this.handlePlaylistLoaded(Xt,r,l,h,M,k)}handleManifestParsingError(r,l,h,M,k){this.hls.trigger(S.ERROR,{type:x.NETWORK_ERROR,details:A.MANIFEST_PARSING_ERROR,fatal:"manifest"===l.type,url:r.url,err:h,error:h,reason:h.message,response:r,context:l,networkDetails:M,stats:k})}handleNetworkError(r,l,h=!1,M,k){let j=`A network ${h?"timeout":"error"+(M?" (status "+M.code+")":"")} occurred while loading ${r.type}`;"level"===r.type?j+=`: ${r.level} id: ${r.id}`:("audioTrack"===r.type||"subtitleTrack"===r.type)&&(j+=` id: ${r.id} group-id: "${r.groupId}"`);const te=new Error(j);y.warn(`[playlist-loader]: ${j}`);let De=A.UNKNOWN,Pe=!1;const lt=this.getInternalLoader(r);switch(r.type){case"manifest":De=h?A.MANIFEST_LOAD_TIMEOUT:A.MANIFEST_LOAD_ERROR,Pe=!0;break;case"level":De=h?A.LEVEL_LOAD_TIMEOUT:A.LEVEL_LOAD_ERROR,Pe=!1;break;case"audioTrack":De=h?A.AUDIO_TRACK_LOAD_TIMEOUT:A.AUDIO_TRACK_LOAD_ERROR,Pe=!1;break;case"subtitleTrack":De=h?A.SUBTITLE_TRACK_LOAD_TIMEOUT:A.SUBTITLE_LOAD_ERROR,Pe=!1}lt&&this.resetInternalLoader(r.type);const pt={type:x.NETWORK_ERROR,details:De,fatal:Pe,url:r.url,loader:lt,context:r,error:te,networkDetails:l,stats:k};M&&(pt.response=m({url:l?.url||r.url,data:void 0},M)),this.hls.trigger(S.ERROR,pt)}handlePlaylistLoaded(r,l,h,M,k,j){const te=this.hls,{type:De,level:Pe,id:lt,groupId:pt,deliveryDirectives:Bt}=M,jt=Co(l,M),Xt=Ko(M),cn="number"==typeof M.level&&"main"===Xt?Pe:void 0;if(!r.fragments.length){const Bn=new Error("No Segments found in Playlist");return void te.trigger(S.ERROR,{type:x.NETWORK_ERROR,details:A.LEVEL_EMPTY_ERROR,fatal:!1,url:jt,error:Bn,reason:Bn.message,response:l,context:M,level:cn,parent:Xt,networkDetails:k,stats:h})}r.targetduration||(r.playlistParsingError=new Error("Missing Target Duration"));const bn=r.playlistParsingError;if(bn)te.trigger(S.ERROR,{type:x.NETWORK_ERROR,details:A.LEVEL_PARSING_ERROR,fatal:!1,url:jt,error:bn,reason:bn.message,response:l,context:M,level:cn,parent:Xt,networkDetails:k,stats:h});else switch(r.live&&j&&(j.getCacheAge&&(r.ageHeader=j.getCacheAge()||0),(!j.getCacheAge||isNaN(r.ageHeader))&&(r.ageHeader=0)),De){case"manifest":case"level":te.trigger(S.LEVEL_LOADED,{details:r,level:cn||0,id:lt||0,stats:h,networkDetails:k,deliveryDirectives:Bt});break;case"audioTrack":te.trigger(S.AUDIO_TRACK_LOADED,{details:r,id:lt||0,groupId:pt||"",stats:h,networkDetails:k,deliveryDirectives:Bt});break;case"subtitleTrack":te.trigger(S.SUBTITLE_TRACK_LOADED,{details:r,id:lt||0,groupId:pt||"",stats:h,networkDetails:k,deliveryDirectives:Bt})}}}function zi(V,r){let l;try{l=new Event("addtrack")}catch{l=document.createEvent("Event"),l.initEvent("addtrack",!1,!1)}l.track=V,r.dispatchEvent(l)}function jr(V,r){const l=V.mode;if("disabled"===l&&(V.mode="hidden"),V.cues&&!V.cues.getCueById(r.id))try{if(V.addCue(r),!V.cues.getCueById(r.id))throw new Error(`addCue is failed for: ${r}`)}catch(h){y.debug(`[texttrack-utils]: ${h}`);try{const M=new self.TextTrackCue(r.startTime,r.endTime,r.text);M.id=r.id,V.addCue(M)}catch(M){y.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${M}`)}}"disabled"===l&&(V.mode=l)}function ir(V){const r=V.mode;if("disabled"===r&&(V.mode="hidden"),V.cues)for(let l=V.cues.length;l--;)V.removeCue(V.cues[l]);"disabled"===r&&(V.mode=r)}function ao(V,r,l,h){const M=V.mode;if("disabled"===M&&(V.mode="hidden"),V.cues&&V.cues.length>0){const k=function rs(V,r,l){const h=[],M=function Vr(V,r){if(r<V[0].startTime)return 0;const l=V.length-1;if(r>V[l].endTime)return-1;let h=0,M=l;for(;h<=M;){const k=Math.floor((M+h)/2);if(r<V[k].startTime)M=k-1;else{if(!(r>V[k].startTime&&h<l))return k;h=k+1}}return V[h].startTime-r<r-V[M].startTime?h:M}(V,r);if(M>-1)for(let k=M,j=V.length;k<j;k++){const te=V[k];if(te.startTime>=r&&te.endTime<=l)h.push(te);else if(te.startTime>l)return h}return h}(V.cues,r,l);for(let j=0;j<k.length;j++)(!h||h(k[j]))&&V.removeCue(k[j])}"disabled"===M&&(V.mode=M)}var xr_emsg="https://aomedia.org/emsg/ID3";function qo(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const As=(()=>{const V=qo();try{new V(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Tr(V,r){return V.getTime()/1e3-r}function yi(V){return Uint8Array.from(V.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class $i{constructor(r){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=r,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(S.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(S.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(r,l){this.media=l.media}onMediaDetaching(){this.id3Track&&(ir(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(r){const l=this.getID3Track(r.textTracks);return l.mode="hidden",l}getID3Track(r){if(this.media){for(let l=0;l<r.length;l++){const h=r[l];if("metadata"===h.kind&&"id3"===h.label)return zi(h,this.media),h}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(r,l){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:h,enableID3MetadataCues:M}}}=this;if(!h&&!M)return;const{samples:k}=l;this.id3Track||(this.id3Track=this.createTrack(this.media));const j=qo();for(let te=0;te<k.length;te++){const De=k[te].type;if(De===xr_emsg&&!h||!M)continue;const Pe=Ee(k[te].data);if(Pe){const lt=k[te].pts;let pt=lt+k[te].duration;pt>As&&(pt=As),pt-lt<=0&&(pt=lt+.25);for(let jt=0;jt<Pe.length;jt++){const Xt=Pe[jt];if(!_e(Xt)){this.updateId3CueEnds(lt,De);const cn=new j(lt,pt,"");cn.value=Xt,De&&(cn.type=De),this.id3Track.addCue(cn)}}}}}updateId3CueEnds(r,l){var h;const M=null==(h=this.id3Track)?void 0:h.cues;if(M)for(let k=M.length;k--;){const j=M[k];j.type===l&&j.startTime<r&&j.endTime===As&&(j.endTime=r)}}onBufferFlushing(r,{startOffset:l,endOffset:h,type:M}){const{id3Track:k,hls:j}=this;if(!j)return;const{config:{enableEmsgMetadataCues:te,enableID3MetadataCues:De}}=j;if(k&&(te||De)){let Pe;Pe="audio"===M?lt=>"org.id3"===lt.type&&De:"video"===M?lt=>lt.type===xr_emsg&&te:lt=>"org.id3"===lt.type&&De||lt.type===xr_emsg&&te,ao(k,l,h,Pe)}}onLevelUpdated(r,{details:l}){if(!this.media||!l.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:h,id3Track:M}=this,{dateRanges:k}=l,j=Object.keys(k);if(M){const lt=Object.keys(h).filter(pt=>!j.includes(pt));for(let pt=lt.length;pt--;){const Bt=lt[pt];Object.keys(h[Bt].cues).forEach(jt=>{M.removeCue(h[Bt].cues[jt])}),delete h[Bt]}}const te=l.fragments[l.fragments.length-1];if(0===j.length||!_(te?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const De=te.programDateTime/1e3-te.start,Pe=qo();for(let lt=0;lt<j.length;lt++){const pt=j[lt],Bt=k[pt],jt=h[pt],Xt=jt?.cues||{};let cn=jt?.durationKnown||!1;const bn=Tr(Bt.startDate,De);let Bn=As;const ti=Bt.endDate;if(ti)Bn=Tr(ti,De),cn=!0;else if(Bt.endOnNext&&!cn){const ui=j.reduce((oi,Ai)=>{const hi=k[Ai];return hi.class===Bt.class&&hi.id!==Ai&&hi.startDate>Bt.startDate&&oi.push(hi),oi},[]).sort((oi,Ai)=>oi.startDate.getTime()-Ai.startDate.getTime())[0];ui&&(Bn=Tr(ui.startDate,De),cn=!0)}const zn=Object.keys(Bt.attr);for(let ui=0;ui<zn.length;ui++){const oi=zn[ui];if("ID"===(V=oi)||"CLASS"===V||"START-DATE"===V||"DURATION"===V||"END-DATE"===V||"END-ON-NEXT"===V)continue;let Ai=Xt[oi];if(Ai)cn&&!jt.durationKnown&&(Ai.endTime=Bn);else{let hi=Bt.attr[oi];Ai=new Pe(bn,Bn,""),Fe(oi)&&(hi=yi(hi)),Ai.value={key:oi,data:hi},Ai.type="com.apple.quicktime.HLS",Ai.id=pt,this.id3Track.addCue(Ai),Xt[oi]=Ai}}h[pt]={cues:Xt,dateRange:Bt,durationKnown:cn}}var V}}class Pr{constructor(r){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=r,this.config=r.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:r,levelDetails:l}=this;return void 0!==r.liveMaxLatencyDuration?r.liveMaxLatencyDuration:l?r.liveMaxLatencyDurationCount*l.targetduration:0}get targetLatency(){const{levelDetails:r}=this;if(null===r)return null;const{holdBack:l,partHoldBack:h,targetduration:M}=r,{liveSyncDuration:k,liveSyncDurationCount:j,lowLatencyMode:te}=this.config,De=this.hls.userConfig;let Pe=te&&h||l;return(De.liveSyncDuration||De.liveSyncDurationCount||0===Pe)&&(Pe=void 0!==k?k:j*M),Pe+Math.min(1*this.stallCount,M)}get liveSyncPosition(){const r=this.estimateLiveEdge(),l=this.targetLatency,h=this.levelDetails;if(null===r||null===l||null===h)return null;const M=h.edge,te=M-(this.config.lowLatencyMode&&h.partTarget||h.targetduration);return Math.min(Math.max(M-h.totalduration,r-l-this.edgeStalled),te)}get drift(){const{levelDetails:r}=this;return null===r?1:r.drift}get edgeStalled(){const{levelDetails:r}=this;return null===r?0:Math.max(r.age-3*(this.config.lowLatencyMode&&r.partTarget||r.targetduration),0)}get forwardBufferLength(){const{media:r,levelDetails:l}=this;if(!r||!l)return 0;const h=r.buffered.length;return(h?r.buffered.end(h-1):l.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(S.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(S.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(S.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(S.ERROR,this.onError,this)}onMediaAttached(r,l){this.media=l.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(r,{details:l}){this.levelDetails=l,l.advanced&&this.timeupdate(),!l.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(r,l){var h;l.details===A.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(h=this.levelDetails)&&h.live&&y.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:r,levelDetails:l}=this;if(!r||!l)return;this.currentTime=r.currentTime;const h=this.computeLatency();if(null===h)return;this._latency=h;const{lowLatencyMode:M,maxLiveSyncPlaybackRate:k}=this.config;if(!M||1===k)return;const j=this.targetLatency;if(null===j)return;const te=h-j,De=Math.min(this.maxLatency,j+l.targetduration);if(l.live&&te<De&&te>.05&&this.forwardBufferLength>1){const lt=Math.min(2,Math.max(1,k)),pt=Math.round(2/(1+Math.exp(-.75*te-this.edgeStalled))*20)/20;r.playbackRate=Math.min(lt,Math.max(1,pt))}else 1!==r.playbackRate&&0!==r.playbackRate&&(r.playbackRate=1)}estimateLiveEdge(){const{levelDetails:r}=this;return null===r?null:r.edge+r.age}computeLatency(){const r=this.estimateLiveEdge();return null===r?null:r-this.currentTime}}const Kr=["NONE","TYPE-0","TYPE-1",null];class mo{constructor(r,l,h){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=r,this.part=l,this.skip=h}addDirectives(r){const l=new self.URL(r);return void 0!==this.msn&&l.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&l.searchParams.set("_HLS_part",this.part.toString()),this.skip&&l.searchParams.set("_HLS_skip",this.skip),l.href}}class Dn{constructor(r){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[r.url],this._attrs=[r.attrs],this.bitrate=r.bitrate,r.details&&(this.details=r.details),this.id=r.id||0,this.name=r.name,this.width=r.width||0,this.height=r.height||0,this.audioCodec=r.audioCodec,this.videoCodec=r.videoCodec,this.unknownCodecs=r.unknownCodecs,this.codecSet=[r.videoCodec,r.audioCodec].filter(l=>l).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(r){const l=r%this.url.length;this._urlId!==l&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=l)}get audioGroupId(){var r;return null==(r=this.audioGroupIds)?void 0:r[this.urlId]}get textGroupId(){var r;return null==(r=this.textGroupIds)?void 0:r[this.urlId]}addFallback(r){this.url.push(r.url),this._attrs.push(r.attrs)}}function qn(V,r){const l=r.startPTS;if(_(l)){let M,h=0;r.sn>V.sn?(h=l-V.start,M=V):(h=V.start-l,M=r),M.duration!==h&&(M.duration=h)}else r.start=r.sn>V.sn?V.cc===r.cc&&V.minEndPTS?V.start+(V.minEndPTS-V.start):V.start+V.duration:Math.max(V.start-r.duration,0)}function mi(V,r,l,h,M,k){h-l<=0&&(y.warn("Fragment should have a positive duration",r),h=l+r.duration,k=M+r.duration);let te=l,De=h;const Pe=r.startPTS,lt=r.endPTS;if(_(Pe)){const bn=Math.abs(Pe-l);r.deltaPTS=_(r.deltaPTS)?Math.max(bn,r.deltaPTS):bn,te=Math.max(l,Pe),l=Math.min(l,Pe),M=Math.min(M,r.startDTS),De=Math.min(h,lt),h=Math.max(h,lt),k=Math.max(k,r.endDTS)}const pt=l-r.start;0!==r.start&&(r.start=l),r.duration=h-r.start,r.startPTS=l,r.maxStartPTS=te,r.startDTS=M,r.endPTS=h,r.minEndPTS=De,r.endDTS=k;const Bt=r.sn;if(!V||Bt<V.startSN||Bt>V.endSN)return 0;let jt;const Xt=Bt-V.startSN,cn=V.fragments;for(cn[Xt]=r,jt=Xt;jt>0;jt--)qn(cn[jt],cn[jt-1]);for(jt=Xt;jt<cn.length-1;jt++)qn(cn[jt],cn[jt+1]);return V.fragmentHint&&qn(cn[cn.length-1],V.fragmentHint),V.PTSKnown=V.alignedSliding=!0,pt}function Wi(V,r){const l=r.startSN+r.skippedSegments-V.startSN,h=V.fragments;l<0||l>=h.length||Ir(r,h[l].start)}function Ir(V,r){if(r){const l=V.fragments;for(let h=V.skippedSegments;h<l.length;h++)l[h].start+=r;V.fragmentHint&&(V.fragmentHint.start+=r)}}function ko(V,r,l){var h;return null!=V&&V.details?js(null==(h=V.details)?void 0:h.partList,r,l):null}function js(V,r,l){if(V)for(let h=V.length;h--;){const M=V[h];if(M.index===l&&M.fragment.sn===r)return M}return null}function eo(V){switch(V.details){case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_TIMEOUT:case A.LEVEL_LOAD_TIMEOUT:case A.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function _o(V,r){const l=eo(r);return V.default[(l?"timeout":"error")+"Retry"]}function os(V,r){const l="linear"===V.backoff?1:Math.pow(2,r);return Math.min(l*V.retryDelayMs,V.maxRetryDelayMs)}function ss(V){return m(m({},V),{errorRetry:null,timeoutRetry:null})}function cr(V,r,l,h){return!!V&&r<V.maxNumRetry&&(function Ha(V){return 0===V&&!1===navigator.onLine||!!V&&(V<400||V>499)}(h)||!!l)}const Xo={search:function(V,r){let l=0,h=V.length-1,M=null,k=null;for(;l<=h;){M=(l+h)/2|0,k=V[M];const j=r(k);if(j>0)l=M+1;else{if(!(j<0))return k;h=M-1}}return null}};function co(V,r,l=0,h=0){let M=null;if(V?M=r[V.sn-r[0].sn+1]||null:0===l&&0===r[0].start&&(M=r[0]),M&&0===as(l,h,M))return M;const k=Xo.search(r,as.bind(null,l,h));return!k||k===V&&M?M:k}function as(V=0,r=0,l){if(l.start<=V&&l.start+l.duration>V)return 0;const h=Math.min(r,l.duration+(l.deltaPTS?l.deltaPTS:0));return l.start+l.duration-h<=V?1:l.start-h>V&&l.start?-1:0}function xs(V,r,l){const h=1e3*Math.min(r,l.duration+(l.deltaPTS?l.deltaPTS:0));return(l.endProgramDateTime||0)-h>V}function fa(V,r,l){if(performance.now()-V.lastErrorPerfMs>3e5)return!0;const h=V.details;if(r.details===A.FRAG_GAP&&h&&r.frag){const k=co(null,h.fragments,r.frag.start);if(k&&!k.gap)return!0}if(l&&V.errors.length<l.errors.length){const M=V.errors[V.errors.length-1];if(h&&M.frag&&r.frag&&Math.abs(M.frag.start-r.frag.start)>3*h.targetduration)return!0}return!1}class Mo{constructor(r,l){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=y.log.bind(y,`${l}:`),this.warn=y.warn.bind(y,`${l}:`),this.hls=r}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(r,l){const h=l?.renditionReports;if(h){let M=-1;for(let k=0;k<h.length;k++){const j=h[k];let te;try{te=new self.URL(j.URI,l.url).href}catch(De){y.warn(`Could not construct new URL for Rendition Report: ${De}`),te=j.URI||""}if(te===r){M=k;break}te===r.substring(0,te.length)&&(M=k)}if(-1!==M){const k=h[M],j=parseInt(k["LAST-MSN"])||l?.lastPartSn;let te=parseInt(k["LAST-PART"])||l?.lastPartIndex;if(this.hls.config.lowLatencyMode){const De=Math.min(l.age-l.partTarget,l.targetduration);te>=0&&De>l.partTarget&&(te+=1)}return new mo(j,te>=0?te:void 0,"")}}}loadPlaylist(r){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(r){return this.canLoad&&!!r&&!!r.url&&(!r.details||r.details.live)}shouldReloadPlaylist(r){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(r)}playlistLoaded(r,l,h){const{details:M,stats:k}=l,j=self.performance.now(),te=k.loading.first?Math.max(0,j-k.loading.first):0;if(M.advancedDateTime=Date.now()-te,M.live||null!=h&&h.live){if(M.reloaded(h),h&&this.log(`live playlist ${r} ${M.advanced?"REFRESHED "+M.lastPartSn+"-"+M.lastPartIndex:"MISSED"}`),h&&M.fragments.length>0&&function li(V,r){let l=null;const h=V.fragments;for(let De=h.length-1;De>=0;De--){const Pe=h[De].initSegment;if(Pe){l=Pe;break}}V.fragmentHint&&delete V.fragmentHint.endPTS;let k,M=0;if(function sr(V,r,l){const h=r.skippedSegments,M=Math.max(V.startSN,r.startSN)-r.startSN,k=(V.fragmentHint?1:0)+(h?r.endSN:Math.min(V.endSN,r.endSN))-r.startSN,j=r.startSN-V.startSN,te=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments,De=V.fragmentHint?V.fragments.concat(V.fragmentHint):V.fragments;for(let Pe=M;Pe<=k;Pe++){const lt=De[j+Pe];let pt=te[Pe];h&&!pt&&Pe<h&&(pt=r.fragments[Pe]=lt),lt&&pt&&l(lt,pt)}}(V,r,(De,Pe)=>{De.relurl&&(M=De.cc-Pe.cc),_(De.startPTS)&&_(De.endPTS)&&(Pe.start=Pe.startPTS=De.startPTS,Pe.startDTS=De.startDTS,Pe.maxStartPTS=De.maxStartPTS,Pe.endPTS=De.endPTS,Pe.endDTS=De.endDTS,Pe.minEndPTS=De.minEndPTS,Pe.duration=De.endPTS-De.startPTS,Pe.duration&&(k=Pe),r.PTSKnown=r.alignedSliding=!0),Pe.elementaryStreams=De.elementaryStreams,Pe.loader=De.loader,Pe.stats=De.stats,Pe.urlId=De.urlId,De.initSegment&&(Pe.initSegment=De.initSegment,l=De.initSegment)}),l&&(r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments).forEach(Pe=>{var lt;(!Pe.initSegment||Pe.initSegment.relurl===(null==(lt=l)?void 0:lt.relurl))&&(Pe.initSegment=l)}),r.skippedSegments)if(r.deltaUpdateFailed=r.fragments.some(De=>!De),r.deltaUpdateFailed){y.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let De=r.skippedSegments;De--;)r.fragments.shift();r.startSN=r.fragments[0].sn,r.startCC=r.fragments[0].cc}else r.canSkipDateRanges&&(r.dateRanges=function Hi(V,r,l){const h=c({},V);return l&&l.forEach(M=>{delete h[M]}),Object.keys(r).forEach(M=>{const k=new Y(r[M].attr,h[M]);k.isValid?h[M]=k:y.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(r[M].attr)}"`)}),h}(V.dateRanges,r.dateRanges,r.recentlyRemovedDateranges));const j=r.fragments;if(M){y.warn("discontinuity sliding from playlist, take drift into account");for(let De=0;De<j.length;De++)j[De].cc+=M}r.skippedSegments&&(r.startCC=r.fragments[0].cc),function Qi(V,r,l){if(V&&r){let h=0;for(let M=0,k=V.length;M<=k;M++){const j=V[M],te=r[M+h];j&&te&&j.index===te.index&&j.fragment.sn===te.fragment.sn?l(j,te):h--}}}(V.partList,r.partList,(De,Pe)=>{Pe.elementaryStreams=De.elementaryStreams,Pe.stats=De.stats}),k?mi(r,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):Wi(V,r),j.length&&(r.totalduration=r.edge-j[0].start),r.driftStartTime=V.driftStartTime,r.driftStart=V.driftStart;const te=r.advancedDateTime;if(r.advanced&&te){const De=r.edge;r.driftStart||(r.driftStartTime=te,r.driftStart=De),r.driftEndTime=te,r.driftEnd=De}else r.driftEndTime=V.driftEndTime,r.driftEnd=V.driftEnd,r.advancedDateTime=V.advancedDateTime}(h,M),!this.canLoad||!M.live)return;let De,Pe,lt;if(M.canBlockReload&&M.endSN&&M.advanced){const bn=this.hls.config.lowLatencyMode,Bn=M.lastPartSn,ti=M.endSN,zn=M.lastPartIndex,oi=Bn===ti;-1!==zn?(Pe=oi?ti+1:Bn,lt=oi?bn?0:zn:zn+1):Pe=ti+1;const hi=M.age;let wi=Math.min(hi+M.ageHeader-M.partTarget,1.5*M.targetduration);if(wi>0){if(h&&wi>h.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${h.tuneInGoal} to: ${wi} with playlist age: ${M.age}`),wi=0;else{const ci=Math.floor(wi/M.targetduration);Pe+=ci,void 0!==lt&&(lt+=Math.round(wi%M.targetduration/M.partTarget)),this.log(`CDN Tune-in age: ${M.ageHeader}s last advanced ${hi.toFixed(2)}s goal: ${wi} skip sn ${ci} to part ${lt}`)}M.tuneInGoal=wi}if(De=this.getDeliveryDirectives(M,l.deliveryDirectives,Pe,lt),bn||!oi)return void this.loadPlaylist(De)}else M.canBlockReload&&(De=this.getDeliveryDirectives(M,l.deliveryDirectives,Pe,lt));const pt=this.hls.mainForwardBufferInfo,Xt=function Io(V,r=1/0){let l=1e3*V.targetduration;if(V.updated){const h=V.fragments;if(h.length&&4*l>r){const k=1e3*h[h.length-1].duration;k<l&&(l=k)}}else l/=2;return Math.round(l)}(M,1e3*(M.edge-(pt?pt.end-pt.len:0)));M.updated&&j>this.requestScheduled+Xt&&(this.requestScheduled=k.loading.start),void 0!==Pe&&M.canBlockReload?this.requestScheduled=k.loading.first+Xt-(1e3*M.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+Xt<j?this.requestScheduled=j:this.requestScheduled-j<=0&&(this.requestScheduled+=Xt);let cn=this.requestScheduled-j;cn=Math.max(0,cn),this.log(`reload live playlist ${r} in ${Math.round(cn)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(De),cn)}else this.clearTimer()}getDeliveryDirectives(r,l,h,M){let k=function $r(V,r){const{canSkipUntil:l,canSkipDateRanges:h,endSN:M}=V;return l&&(void 0!==r?r-M:0)<l?h?"v2":"YES":""}(r,h);return null!=l&&l.skip&&r.deltaUpdateFailed&&(h=l.msn,M=l.part,k=""),new mo(h,M,k)}checkRetry(r){const l=r.details,h=eo(r),M=r.errorAction,{action:k,retryCount:j=0,retryConfig:te}=M||{},De=!!M&&!!te&&(5===k||!M.resolved&&2===k);if(De){var Pe;if(this.requestScheduled=-1,j>=te.maxNumRetry)return!1;if(h&&null!=(Pe=r.context)&&Pe.deliveryDirectives)this.warn(`Retrying playlist loading ${j+1}/${te.maxNumRetry} after "${l}" without delivery-directives`),this.loadPlaylist();else{const lt=os(te,j);this.timer=self.setTimeout(()=>this.loadPlaylist(),lt),this.warn(`Retrying playlist loading ${j+1}/${te.maxNumRetry} after "${l}" in ${lt}ms`)}r.levelRetry=!0,M.resolved=!0}return De}}let Fr;class mr extends Mo{constructor(r,l){super(r,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=l,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this),r.on(S.ERROR,this.onError,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this),r.off(S.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(l=>{l.loadError=0,l.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(r,l){this.resetLevels()}onManifestLoaded(r,l){const h=[],M={};let k;l.levels.forEach(j=>{var te;const De=j.attrs;-1!==(null==(te=j.audioCodec)?void 0:te.indexOf("mp4a.40.34"))&&(Fr||(Fr=/chrome|firefox/i.test(navigator.userAgent)),Fr&&(j.audioCodec=void 0));const{AUDIO:Pe,CODECS:lt,"FRAME-RATE":pt,"PATHWAY-ID":Bt,RESOLUTION:jt,SUBTITLES:Xt}=De,bn=`${Bt||"."}-${j.bitrate}-${jt}-${pt}-${lt}`;k=M[bn],k?k.addFallback(j):(k=new Dn(j),M[bn]=k,h.push(k)),Fo(k,"audio",Pe),Fo(k,"text",Xt)}),this.filterAndSortMediaOptions(h,l)}filterAndSortMediaOptions(r,l){let h=[],M=[],k=!1,j=!1,te=!1,De=r.filter(({audioCodec:jt,videoCodec:Xt,width:cn,height:bn,unknownCodecs:Bn})=>(k||(k=!(!cn||!bn)),j||(j=!!Xt),te||(te=!!jt),!(null!=Bn&&Bn.length)&&(!jt||en(jt,"audio"))&&(!Xt||en(Xt,"video"))));if((k||j)&&te&&(De=De.filter(({videoCodec:jt,width:Xt,height:cn})=>!!jt||!(!Xt||!cn))),0===De.length)return void Promise.resolve().then(()=>{if(this.hls){const jt=new Error("no level with compatible codecs found in manifest");this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,error:jt,reason:jt.message})}});l.audioTracks&&(h=l.audioTracks.filter(jt=>!jt.audioCodec||en(jt.audioCodec,"audio")),Ks(h)),l.subtitles&&(M=l.subtitles,Ks(M));const Pe=De.slice(0);De.sort((jt,Xt)=>jt.attrs["HDCP-LEVEL"]!==Xt.attrs["HDCP-LEVEL"]?(jt.attrs["HDCP-LEVEL"]||"")>(Xt.attrs["HDCP-LEVEL"]||"")?1:-1:jt.bitrate!==Xt.bitrate?jt.bitrate-Xt.bitrate:jt.attrs["FRAME-RATE"]!==Xt.attrs["FRAME-RATE"]?jt.attrs.decimalFloatingPoint("FRAME-RATE")-Xt.attrs.decimalFloatingPoint("FRAME-RATE"):jt.attrs.SCORE!==Xt.attrs.SCORE?jt.attrs.decimalFloatingPoint("SCORE")-Xt.attrs.decimalFloatingPoint("SCORE"):k&&jt.height!==Xt.height?jt.height-Xt.height:0);let lt=Pe[0];if(this.steering&&(De=this.steering.filterParsedLevels(De),De.length!==Pe.length))for(let jt=0;jt<Pe.length;jt++)if(Pe[jt].pathwayId===De[0].pathwayId){lt=Pe[jt];break}this._levels=De;for(let jt=0;jt<De.length;jt++)if(De[jt]===lt){this._firstLevel=jt,this.log(`manifest loaded, ${De.length} level(s) found, first bitrate: ${lt.bitrate}`);break}const Bt={levels:De,audioTracks:h,subtitleTracks:M,sessionData:l.sessionData,sessionKeys:l.sessionKeys,firstLevel:this._firstLevel,stats:l.stats,audio:te,video:j,altAudio:!(te&&!j)&&h.some(jt=>!!jt.url)};this.hls.trigger(S.MANIFEST_PARSED,Bt),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(r){const l=this._levels;if(0===l.length)return;if(r<0||r>=l.length){const lt=new Error("invalid level idx"),pt=r<0;if(this.hls.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.LEVEL_SWITCH_ERROR,level:r,fatal:pt,error:lt,reason:lt.message}),pt)return;r=Math.min(r,l.length-1)}const h=this.currentLevelIndex,M=this.currentLevel,k=M?M.attrs["PATHWAY-ID"]:void 0,j=l[r],te=j.attrs["PATHWAY-ID"];if(this.currentLevelIndex=r,this.currentLevel=j,h===r&&j.details&&M&&k===te)return;this.log(`Switching to level ${r}${te?" with Pathway "+te:""} from level ${h}${k?" with Pathway "+k:""}`);const De=c({},j,{level:r,maxBitrate:j.maxBitrate,attrs:j.attrs,uri:j.uri,urlId:j.urlId});delete De._attrs,delete De._urlId,this.hls.trigger(S.LEVEL_SWITCHING,De);const Pe=j.details;if(!Pe||Pe.live){const lt=this.switchParams(j.uri,M?.details);this.loadPlaylist(lt)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(r){this.manualLevelIndex=r,void 0===this._startLevel&&(this._startLevel=r),-1!==r&&(this.level=r)}get firstLevel(){return this._firstLevel}set firstLevel(r){this._firstLevel=r}get startLevel(){if(void 0===this._startLevel){const r=this.hls.config.startLevel;return void 0!==r?r:this._firstLevel}return this._startLevel}set startLevel(r){this._startLevel=r}onError(r,l){l.fatal||!l.context||"level"===l.context.type&&l.context.level===this.level&&this.checkRetry(l)}onFragLoaded(r,{frag:l}){if(void 0!==l&&"main"===l.type){const h=this._levels[l.level];void 0!==h&&(h.loadError=0)}}onLevelLoaded(r,l){var h;const{level:M,details:k}=l,j=this._levels[M];var te;if(!j)return this.warn(`Invalid level index ${M}`),void(null!=(te=l.deliveryDirectives)&&te.skip&&(k.deltaUpdateFailed=!0));M===this.currentLevelIndex?(0===j.fragmentError&&(j.loadError=0),this.playlistLoaded(M,l,j.details)):null!=(h=l.deliveryDirectives)&&h.skip&&(k.deltaUpdateFailed=!0)}onAudioTrackSwitched(r,l){const h=this.currentLevel;if(!h)return;const M=this.hls.audioTracks[l.id].groupId;if(h.audioGroupIds&&h.audioGroupId!==M){let k=-1;for(let j=0;j<h.audioGroupIds.length;j++)if(h.audioGroupIds[j]===M){k=j;break}-1!==k&&k!==h.urlId&&(h.urlId=k,this.canLoad&&this.startLoad())}}loadPlaylist(r){super.loadPlaylist();const l=this.currentLevelIndex,h=this.currentLevel;if(h&&this.shouldLoadPlaylist(h)){const M=h.urlId;let k=h.uri;if(r)try{k=r.addDirectives(k)}catch(te){this.warn(`Could not construct new URL with HLS Delivery Directives: ${te}`)}const j=h.attrs["PATHWAY-ID"];this.log(`Loading level index ${l}${void 0!==r?.msn?" at sn "+r.msn+" part "+r.part:""} with${j?" Pathway "+j:""} URI ${M+1}/${h.url.length} ${k}`),this.clearTimer(),this.hls.trigger(S.LEVEL_LOADING,{url:k,level:l,id:M,deliveryDirectives:r||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(r){this.level=r,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=r)}removeLevel(r,l){const h=(k,j)=>j!==l,M=this._levels.filter((k,j)=>j!==r||(k.url.length>1&&void 0!==l?(k.url=k.url.filter(h),k.audioGroupIds&&(k.audioGroupIds=k.audioGroupIds.filter(h)),k.textGroupIds&&(k.textGroupIds=k.textGroupIds.filter(h)),k.urlId=0,!0):(this.steering&&this.steering.removeLevel(k),!1)));this.hls.trigger(S.LEVELS_UPDATED,{levels:M})}onLevelsUpdated(r,{levels:l}){l.forEach((h,M)=>{const{details:k}=h;null!=k&&k.fragments&&k.fragments.forEach(j=>{j.level=M})}),this._levels=l}}function Fo(V,r,l){l&&("audio"===r?(V.audioGroupIds||(V.audioGroupIds=[]),V.audioGroupIds[V.url.length-1]=l):"text"===r&&(V.textGroupIds||(V.textGroupIds=[]),V.textGroupIds[V.url.length-1]=l))}function Ks(V){const r={};V.forEach(l=>{const h=l.groupId||"";l.id=r[h]=r[h]||0,r[h]++})}class ys{constructor(r){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=r,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(S.BUFFER_APPENDED,this.onBufferAppended,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.BUFFER_APPENDED,this.onBufferAppended,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(r,l){const h=this.activePartLists[l];if(h)for(let M=h.length;M--;){const k=h[M];if(!k)break;const j=k.end;if(k.start<=r&&null!==j&&r<=j)return k}return this.getBufferedFrag(r,l)}getBufferedFrag(r,l){const{fragments:h}=this,M=Object.keys(h);for(let k=M.length;k--;){const j=h[M[k]];if(j?.body.type===l&&j.buffered){const te=j.body;if(te.start<=r&&r<=te.end)return te}}return null}detectEvictedFragments(r,l,h,M){this.timeRanges&&(this.timeRanges[r]=l);const k=M?.fragment.sn||-1;Object.keys(this.fragments).forEach(j=>{const te=this.fragments[j];if(!te||k>=te.body.sn)return;if(!te.buffered&&!te.loaded)return void(te.body.type===h&&this.removeFragment(te.body));const De=te.range[r];De&&De.time.some(Pe=>{const lt=!this.isTimeBuffered(Pe.startPTS,Pe.endPTS,l);return lt&&this.removeFragment(te.body),lt})})}detectPartialFragments(r){const l=this.timeRanges,{frag:h,part:M}=r;if(!l||"initSegment"===h.sn)return;const k=ws(h),j=this.fragments[k];if(!j||j.buffered&&h.gap)return;const te=!h.relurl;Object.keys(l).forEach(De=>{const Pe=h.elementaryStreams[De];Pe&&(j.range[De]=this.getBufferedTimes(h,M,te||!0===Pe.partial,l[De]))}),j.loaded=null,Object.keys(j.range).length?(j.buffered=!0,j.body.endList&&(this.endListFragments[j.body.type]=j),Yo(j)||this.removeParts(h.sn-1,h.type)):this.removeFragment(j.body)}removeParts(r,l){const h=this.activePartLists[l];h&&(this.activePartLists[l]=h.filter(M=>M.fragment.sn>=r))}fragBuffered(r,l){const h=ws(r);let M=this.fragments[h];!M&&l&&(M=this.fragments[h]={body:r,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},r.gap&&(this.hasGaps=!0)),M&&(M.loaded=null,M.buffered=!0)}getBufferedTimes(r,l,h,M){const k={time:[],partial:h},j=r.start,te=r.end,De=r.minEndPTS||te,Pe=r.maxStartPTS||j;for(let lt=0;lt<M.length;lt++){const pt=M.start(lt)-this.bufferPadding,Bt=M.end(lt)+this.bufferPadding;if(Pe>=pt&&De<=Bt){k.time.push({startPTS:Math.max(j,M.start(lt)),endPTS:Math.min(te,M.end(lt))});break}if(j<Bt&&te>pt)k.partial=!0,k.time.push({startPTS:Math.max(j,M.start(lt)),endPTS:Math.min(te,M.end(lt))});else if(te<=pt)break}return k}getPartialFragment(r){let h,M,k,l=null,j=0;const{bufferPadding:te,fragments:De}=this;return Object.keys(De).forEach(Pe=>{const lt=De[Pe];lt&&Yo(lt)&&(M=lt.body.start-te,k=lt.body.end+te,r>=M&&r<=k&&(h=Math.min(r-M,k-r),j<=h&&(l=lt.body,j=h)))}),l}isEndListAppended(r){const l=this.endListFragments[r];return void 0!==l&&(l.buffered||Yo(l))}getState(r){const l=ws(r),h=this.fragments[l];return h?h.buffered?Yo(h)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(r,l,h){let M,k;for(let j=0;j<h.length;j++){if(M=h.start(j)-this.bufferPadding,k=h.end(j)+this.bufferPadding,r>=M&&l<=k)return!0;if(l<=M)return!1}return!1}onFragLoaded(r,l){const{frag:h,part:M}=l;if("initSegment"===h.sn||h.bitrateTest)return;const k=M?null:l,j=ws(h);this.fragments[j]={body:h,appendedPTS:null,loaded:k,buffered:!1,range:Object.create(null)}}onBufferAppended(r,l){const{frag:h,part:M,timeRanges:k}=l;if("initSegment"===h.sn)return;const j=h.type;if(M){let te=this.activePartLists[j];te||(this.activePartLists[j]=te=[]),te.push(M)}this.timeRanges=k,Object.keys(k).forEach(te=>{this.detectEvictedFragments(te,k[te],j,M)})}onFragBuffered(r,l){this.detectPartialFragments(l)}hasFragment(r){const l=ws(r);return!!this.fragments[l]}hasParts(r){var l;return!(null==(l=this.activePartLists[r])||!l.length)}removeFragmentsInRange(r,l,h,M,k){M&&!this.hasGaps||Object.keys(this.fragments).forEach(j=>{const te=this.fragments[j];if(!te)return;const De=te.body;De.type!==h||M&&!De.gap||De.start<l&&De.end>r&&(te.buffered||k)&&this.removeFragment(De)})}removeFragment(r){const l=ws(r);r.stats.loaded=0,r.clearElementaryStreamInfo();const h=this.activePartLists[r.type];if(h){const M=r.sn;this.activePartLists[r.type]=h.filter(k=>k.fragment.sn!==M)}delete this.fragments[l],r.endList&&delete this.endListFragments[r.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Yo(V){var r,l,h;return V.buffered&&(V.body.gap||(null==(r=V.range.video)?void 0:r.partial)||(null==(l=V.range.audio)?void 0:l.partial)||(null==(h=V.range.audiovideo)?void 0:h.partial))}function ws(V){return`${V.type}_${V.level}_${V.urlId}_${V.sn}`}const Aa=Math.pow(2,17);class Ns{constructor(r){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=r}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(r,l){const h=r.url;if(!h)return Promise.reject(new es({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_ERROR,fatal:!1,frag:r,error:new Error("Fragment does not have a "+(h?"part list":"url")),networkDetails:null}));this.abort();const M=this.config,k=M.fLoader,j=M.loader;return new Promise((te,De)=>{if(this.loader&&this.loader.destroy(),r.gap){if(r.tagList.some(jt=>"GAP"===jt[0]))return void De(Ls(r));r.gap=!1}const Pe=this.loader=r.loader=k?new k(M):new j(M),lt=vo(r),pt=ss(M.fragLoadPolicy.default),Bt={loadPolicy:pt,timeout:pt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===r.sn?1/0:Aa};r.stats=Pe.stats,Pe.load(lt,Bt,{onSuccess:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe);let Bn=jt.data;cn.resetIV&&r.decryptdata&&(r.decryptdata.iv=new Uint8Array(Bn.slice(0,16)),Bn=Bn.slice(16)),te({frag:r,part:null,payload:Bn,networkDetails:bn})},onError:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe),De(new es({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_ERROR,fatal:!1,frag:r,response:m({url:h,data:void 0},jt),error:new Error(`HTTP Error ${jt.code} ${jt.text}`),networkDetails:cn,stats:bn}))},onAbort:(jt,Xt,cn)=>{this.resetLoader(r,Pe),De(new es({type:x.NETWORK_ERROR,details:A.INTERNAL_ABORTED,fatal:!1,frag:r,error:new Error("Aborted"),networkDetails:cn,stats:jt}))},onTimeout:(jt,Xt,cn)=>{this.resetLoader(r,Pe),De(new es({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,error:new Error(`Timeout after ${Bt.timeout}ms`),networkDetails:cn,stats:jt}))},onProgress:(jt,Xt,cn,bn)=>{l&&l({frag:r,part:null,payload:cn,networkDetails:bn})}})})}loadPart(r,l,h){this.abort();const M=this.config,k=M.fLoader,j=M.loader;return new Promise((te,De)=>{if(this.loader&&this.loader.destroy(),r.gap||l.gap)return void De(Ls(r,l));const Pe=this.loader=r.loader=k?new k(M):new j(M),lt=vo(r,l),pt=ss(M.fragLoadPolicy.default),Bt={loadPolicy:pt,timeout:pt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Aa};l.stats=Pe.stats,Pe.load(lt,Bt,{onSuccess:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe),this.updateStatsFromPart(r,l);const Bn={frag:r,part:l,payload:jt.data,networkDetails:bn};h(Bn),te(Bn)},onError:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe),De(new es({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_ERROR,fatal:!1,frag:r,part:l,response:m({url:lt.url,data:void 0},jt),error:new Error(`HTTP Error ${jt.code} ${jt.text}`),networkDetails:cn,stats:bn}))},onAbort:(jt,Xt,cn)=>{r.stats.aborted=l.stats.aborted,this.resetLoader(r,Pe),De(new es({type:x.NETWORK_ERROR,details:A.INTERNAL_ABORTED,fatal:!1,frag:r,part:l,error:new Error("Aborted"),networkDetails:cn,stats:jt}))},onTimeout:(jt,Xt,cn)=>{this.resetLoader(r,Pe),De(new es({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,part:l,error:new Error(`Timeout after ${Bt.timeout}ms`),networkDetails:cn,stats:jt}))}})})}updateStatsFromPart(r,l){const h=r.stats,M=l.stats,k=M.total;if(h.loaded+=M.loaded,k){const De=Math.round(r.duration/l.duration),Pe=Math.min(Math.round(h.loaded/k),De),pt=(De-Pe)*Math.round(h.loaded/Pe);h.total=h.loaded+pt}else h.total=Math.max(h.loaded,h.total);const j=h.loading,te=M.loading;j.start?j.first+=te.first-te.start:(j.start=te.start,j.first=te.first),j.end=te.end}resetLoader(r,l){r.loader=null,this.loader===l&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),l.destroy()}}function vo(V,r=null){const l=r||V,h={frag:V,part:r,responseType:"arraybuffer",url:l.url,headers:{},rangeStart:0,rangeEnd:0},M=l.byteRangeStartOffset,k=l.byteRangeEndOffset;if(_(M)&&_(k)){var j;let te=M,De=k;if("initSegment"===V.sn&&"AES-128"===(null==(j=V.decryptdata)?void 0:j.method)){const Pe=k-M;Pe%16&&(De=k+(16-Pe%16)),0!==M&&(h.resetIV=!0,te=M-16)}h.rangeStart=te,h.rangeEnd=De}return h}function Ls(V,r){const l=new Error(`GAP ${V.gap?"tag":"attribute"} found`),h={type:x.MEDIA_ERROR,details:A.FRAG_GAP,fatal:!1,frag:V,error:l,networkDetails:null};return r&&(h.part=r),(r||V).stats.aborted=!0,new es(h)}class es extends Error{constructor(r){super(r.error.message),this.data=void 0,this.data=r}}class ha{constructor(r){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=r}abort(r){for(const l in this.keyUriToKeyInfo){const h=this.keyUriToKeyInfo[l].loader;if(h){if(r&&r!==h.context.frag.type)return;h.abort()}}}detach(){for(const r in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[r];(l.mediaKeySessionContext||l.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[r]}}destroy(){this.detach();for(const r in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[r].loader;l&&l.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(r,l=A.KEY_LOAD_ERROR,h,M,k){return new es({type:x.NETWORK_ERROR,details:l,fatal:!1,frag:r,response:k,error:h,networkDetails:M})}loadClear(r,l){if(this.emeController&&this.config.emeEnabled){const{sn:h,cc:M}=r;for(let k=0;k<l.length;k++){const j=l[k];if(M<=j.cc&&("initSegment"===h||"initSegment"===j.sn||h<j.sn)){this.emeController.selectKeySystemFormat(j).then(te=>{j.setKeyFormat(te)});break}}}}load(r){return!r.decryptdata&&r.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(r).then(l=>this.loadInternal(r,l)):this.loadInternal(r)}loadInternal(r,l){var h,M;l&&r.setKeyFormat(l);const k=r.decryptdata;if(!k){const Pe=new Error(l?`Expected frag.decryptdata to be defined after setting format ${l}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(r,A.KEY_LOAD_ERROR,Pe))}const j=k.uri;if(!j)return Promise.reject(this.createKeyLoadError(r,A.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${j}"`)));let te=this.keyUriToKeyInfo[j];if(null!=(h=te)&&h.decryptdata.key)return k.key=te.decryptdata.key,Promise.resolve({frag:r,keyInfo:te});var De;if(null!=(M=te)&&M.keyLoadPromise)switch(null==(De=te.mediaKeySessionContext)?void 0:De.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return te.keyLoadPromise.then(Pe=>(k.key=Pe.keyInfo.decryptdata.key,{frag:r,keyInfo:te}))}switch(te=this.keyUriToKeyInfo[j]={decryptdata:k,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},k.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===k.keyFormat?this.loadKeyHTTP(te,r):this.loadKeyEME(te,r);case"AES-128":return this.loadKeyHTTP(te,r);default:return Promise.reject(this.createKeyLoadError(r,A.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${k.method}"`)))}}loadKeyEME(r,l){const h={frag:l,keyInfo:r};if(this.emeController&&this.config.emeEnabled){const M=this.emeController.loadKey(h);if(M)return(r.keyLoadPromise=M.then(k=>(r.mediaKeySessionContext=k,h))).catch(k=>{throw r.keyLoadPromise=null,k})}return Promise.resolve(h)}loadKeyHTTP(r,l){const h=this.config,k=new(0,h.loader)(h);return l.keyLoader=r.loader=k,r.keyLoadPromise=new Promise((j,te)=>{const De={keyInfo:r,frag:l,responseType:"arraybuffer",url:r.decryptdata.uri},Pe=h.keyLoadPolicy.default;k.load(De,{loadPolicy:Pe,timeout:Pe.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Bt,jt,Xt,cn)=>{const{frag:bn,keyInfo:Bn,url:ti}=Xt;if(!bn.decryptdata||Bn!==this.keyUriToKeyInfo[ti])return te(this.createKeyLoadError(bn,A.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),cn));Bn.decryptdata.key=bn.decryptdata.key=new Uint8Array(Bt.data),bn.keyLoader=null,Bn.loader=null,j({frag:bn,keyInfo:Bn})},onError:(Bt,jt,Xt,cn)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,A.KEY_LOAD_ERROR,new Error(`HTTP Error ${Bt.code} loading key ${Bt.text}`),Xt,m({url:De.url,data:void 0},Bt)))},onTimeout:(Bt,jt,Xt)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,A.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Xt))},onAbort:(Bt,jt,Xt)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,A.INTERNAL_ABORTED,new Error("key loading aborted"),Xt))}})})}resetLoader(r){const{frag:l,keyInfo:h,url:M}=r,k=h.loader;l.keyLoader===k&&(l.keyLoader=null,h.loader=null),delete this.keyUriToKeyInfo[M],k&&k.destroy()}}class xa{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(r){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,r),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const Ws={length:0,start:()=>0,end:()=>0};class Br{static isBuffered(r,l){try{if(r){const h=Br.getBuffered(r);for(let M=0;M<h.length;M++)if(l>=h.start(M)&&l<=h.end(M))return!0}}catch{}return!1}static bufferInfo(r,l,h){try{if(r){const M=Br.getBuffered(r),k=[];let j;for(j=0;j<M.length;j++)k.push({start:M.start(j),end:M.end(j)});return this.bufferedInfo(k,l,h)}}catch{}return{len:0,start:l,end:l,nextStart:void 0}}static bufferedInfo(r,l,h){l=Math.max(0,l),r.sort(function(Pe,lt){return Pe.start-lt.start||lt.end-Pe.end});let M=[];if(h)for(let Pe=0;Pe<r.length;Pe++){const lt=M.length;if(lt){const pt=M[lt-1].end;r[Pe].start-pt<h?r[Pe].end>pt&&(M[lt-1].end=r[Pe].end):M.push(r[Pe])}else M.push(r[Pe])}else M=r;let j,k=0,te=l,De=l;for(let Pe=0;Pe<M.length;Pe++){const lt=M[Pe].start,pt=M[Pe].end;if(l+h>=lt&&l<pt)te=lt,De=pt,k=De-l;else if(l+h<lt){j=lt;break}}return{len:k,start:te||0,end:De||0,nextStart:j}}static getBuffered(r){try{return r.buffered}catch(l){return y.log("failed to get media.buffered",l),Ws}}}class Uo{constructor(r,l,h,M=0,k=-1,j=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=r,this.sn=l,this.id=h,this.size=M,this.part=k,this.partial=j}}function ta(V,r){let l=null;for(let h=0,M=V.length;h<M;h++){const k=V[h];if(k&&k.cc===r){l=k;break}}return l}function Ia(V,r){if(V){const l=V.start+r;V.start=V.startPTS=l,V.endPTS=l+V.duration}}function Ur(V,r){const l=r.fragments;for(let h=0,M=l.length;h<M;h++)Ia(l[h],V);r.fragmentHint&&Ia(r.fragmentHint,V),r.alignedSliding=!0}function ut(V,r){if(!V.hasProgramDateTime||!r.hasProgramDateTime)return;const l=V.fragments,h=r.fragments;if(!l.length||!h.length)return;const k=h[Math.round(h.length/2)-1],j=ta(l,k.cc)||l[Math.round(l.length/2)-1],te=k.programDateTime,De=j.programDateTime;null!==te&&null!==De&&Ur((De-te)/1e3-(j.start-k.start),V)}class $t{constructor(r,l){this.subtle=void 0,this.aesIV=void 0,this.subtle=r,this.aesIV=l}decrypt(r,l){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},l,r)}}class wn{constructor(r,l){this.subtle=void 0,this.key=void 0,this.subtle=r,this.key=l}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Zi{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(r){const l=new DataView(r),h=new Uint32Array(4);for(let M=0;M<4;M++)h[M]=l.getUint32(4*M);return h}initTable(){const r=this.sBox,l=this.invSBox,h=this.subMix,M=h[0],k=h[1],j=h[2],te=h[3],De=this.invSubMix,Pe=De[0],lt=De[1],pt=De[2],Bt=De[3],jt=new Uint32Array(256);let Xt=0,cn=0,bn=0;for(bn=0;bn<256;bn++)jt[bn]=bn<128?bn<<1:bn<<1^283;for(bn=0;bn<256;bn++){let Bn=cn^cn<<1^cn<<2^cn<<3^cn<<4;Bn=Bn>>>8^255&Bn^99,r[Xt]=Bn,l[Bn]=Xt;const ti=jt[Xt],zn=jt[ti],ui=jt[zn];let oi=257*jt[Bn]^16843008*Bn;M[Xt]=oi<<24|oi>>>8,k[Xt]=oi<<16|oi>>>16,j[Xt]=oi<<8|oi>>>24,te[Xt]=oi,oi=16843009*ui^65537*zn^257*ti^16843008*Xt,Pe[Bn]=oi<<24|oi>>>8,lt[Bn]=oi<<16|oi>>>16,pt[Bn]=oi<<8|oi>>>24,Bt[Bn]=oi,Xt?(Xt=ti^jt[jt[jt[ui^ti]]],cn^=jt[jt[cn]]):Xt=cn=1}}expandKey(r){const l=this.uint8ArrayToUint32Array_(r);let h=!0,M=0;for(;M<l.length&&h;)h=l[M]===this.key[M],M++;if(h)return;this.key=l;const k=this.keySize=l.length;if(4!==k&&6!==k&&8!==k)throw new Error("Invalid aes key size="+k);const j=this.ksRows=4*(k+6+1);let te,De;const Pe=this.keySchedule=new Uint32Array(j),lt=this.invKeySchedule=new Uint32Array(j),pt=this.sBox,Bt=this.rcon,jt=this.invSubMix,Xt=jt[0],cn=jt[1],bn=jt[2],Bn=jt[3];let ti,zn;for(te=0;te<j;te++)te<k?ti=Pe[te]=l[te]:(zn=ti,te%k==0?(zn=zn<<8|zn>>>24,zn=pt[zn>>>24]<<24|pt[zn>>>16&255]<<16|pt[zn>>>8&255]<<8|pt[255&zn],zn^=Bt[te/k|0]<<24):k>6&&te%k==4&&(zn=pt[zn>>>24]<<24|pt[zn>>>16&255]<<16|pt[zn>>>8&255]<<8|pt[255&zn]),Pe[te]=ti=(Pe[te-k]^zn)>>>0);for(De=0;De<j;De++)te=j-De,zn=3&De?Pe[te]:Pe[te-4],lt[De]=De<4||te<=4?zn:Xt[pt[zn>>>24]]^cn[pt[zn>>>16&255]]^bn[pt[zn>>>8&255]]^Bn[pt[255&zn]],lt[De]=lt[De]>>>0}networkToHostOrderSwap(r){return r<<24|(65280&r)<<8|(16711680&r)>>8|r>>>24}decrypt(r,l,h){const M=this.keySize+6,k=this.invKeySchedule,j=this.invSBox,te=this.invSubMix,De=te[0],Pe=te[1],lt=te[2],pt=te[3],Bt=this.uint8ArrayToUint32Array_(h);let jt=Bt[0],Xt=Bt[1],cn=Bt[2],bn=Bt[3];const Bn=new Int32Array(r),ti=new Int32Array(Bn.length);let zn,ui,oi,Ai,hi,Di,wi,ci,Ui,ji,xo,Xs,Dr,Ro;const jo=this.networkToHostOrderSwap;for(;l<Bn.length;){for(Ui=jo(Bn[l]),ji=jo(Bn[l+1]),xo=jo(Bn[l+2]),Xs=jo(Bn[l+3]),hi=Ui^k[0],Di=Xs^k[1],wi=xo^k[2],ci=ji^k[3],Dr=4,Ro=1;Ro<M;Ro++)zn=De[hi>>>24]^Pe[Di>>16&255]^lt[wi>>8&255]^pt[255&ci]^k[Dr],ui=De[Di>>>24]^Pe[wi>>16&255]^lt[ci>>8&255]^pt[255&hi]^k[Dr+1],oi=De[wi>>>24]^Pe[ci>>16&255]^lt[hi>>8&255]^pt[255&Di]^k[Dr+2],Ai=De[ci>>>24]^Pe[hi>>16&255]^lt[Di>>8&255]^pt[255&wi]^k[Dr+3],hi=zn,Di=ui,wi=oi,ci=Ai,Dr+=4;zn=j[hi>>>24]<<24^j[Di>>16&255]<<16^j[wi>>8&255]<<8^j[255&ci]^k[Dr],ui=j[Di>>>24]<<24^j[wi>>16&255]<<16^j[ci>>8&255]<<8^j[255&hi]^k[Dr+1],oi=j[wi>>>24]<<24^j[ci>>16&255]<<16^j[hi>>8&255]<<8^j[255&Di]^k[Dr+2],Ai=j[ci>>>24]<<24^j[hi>>16&255]<<16^j[Di>>8&255]<<8^j[255&wi]^k[Dr+3],ti[l]=jo(zn^jt),ti[l+1]=jo(Ai^Xt),ti[l+2]=jo(oi^cn),ti[l+3]=jo(ui^bn),jt=Ui,Xt=ji,cn=xo,bn=Xs,l+=4}return ti.buffer}}class ts{constructor(r,{removePKCS7Padding:l=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=r.enableSoftwareAES,this.removePKCS7Padding=l,l)try{const h=self.crypto;h&&(this.subtle=h.subtle||h.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:r,remainderData:l}=this;if(!r||l)return this.reset(),null;const h=new Uint8Array(r);return this.reset(),this.removePKCS7Padding?function Ti(V){const r=V.byteLength,l=r&&new DataView(V.buffer).getUint8(r-1);return l?oe(V,0,r-l):V}(h):h}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(r,l,h){return this.useSoftware?new Promise((M,k)=>{this.softwareDecrypt(new Uint8Array(r),l,h);const j=this.flush();j?M(j.buffer):k(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(r),l,h)}softwareDecrypt(r,l,h){const{currentIV:M,currentResult:k,remainderData:j}=this;this.logOnce("JS AES decrypt"),j&&(r=En(j,r),this.remainderData=null);const te=this.getValidChunk(r);if(!te.length)return null;M&&(h=M);let De=this.softwareDecrypter;De||(De=this.softwareDecrypter=new Zi),De.expandKey(l);const Pe=k;return this.currentResult=De.decrypt(te.buffer,0,h),this.currentIV=oe(te,-16).buffer,Pe||null}webCryptoDecrypt(r,l,h){const M=this.subtle;return(this.key!==l||!this.fastAesKey)&&(this.key=l,this.fastAesKey=new wn(M,l)),this.fastAesKey.expandKey().then(k=>M?(this.logOnce("WebCrypto AES decrypt"),new $t(M,new Uint8Array(h)).decrypt(r.buffer,k)):Promise.reject(new Error("web crypto not initialized"))).catch(k=>(y.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${k.name}: ${k.message}`),this.onWebCryptoError(r,l,h)))}onWebCryptoError(r,l,h){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(r,l,h);const M=this.flush();if(M)return M.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(r){let l=r;const h=r.length-r.length%16;return h!==r.length&&(l=oe(r,0,h),this.remainderData=oe(r,h)),l}logOnce(r){this.logEnabled&&(y.log(`[decrypter]: ${r}`),this.logEnabled=!1)}}class Os extends xa{constructor(r,l,h,M,k){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=k,this.logPrefix=M,this.log=y.log.bind(y,`${M}:`),this.warn=y.warn.bind(y,`${M}:`),this.hls=r,this.fragmentLoader=new Ns(r.config),this.keyLoader=h,this.fragmentTracker=l,this.config=r.config,this.decrypter=new ts(r.config),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(r){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const r=this.fragCurrent;null!=r&&r.loader&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(r,l){if(l.live||r.nextStart||!r.end||!this.media)return!1;const h=l.partList;if(null!=h&&h.length){const k=h[h.length-1];return Br.isBuffered(this.media,k.start+k.duration/2)}return this.fragmentTracker.isEndListAppended(l.fragments[l.fragments.length-1].type)}getLevelDetails(){var r;if(this.levels&&null!==this.levelLastLoaded)return null==(r=this.levels[this.levelLastLoaded])?void 0:r.details}onMediaAttached(r,l){const h=this.media=this.mediaBuffer=l.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),h.addEventListener("seeking",this.onvseeking),h.addEventListener("ended",this.onvended);const M=this.config;this.levels&&M.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(M.startPosition)}onMediaDetaching(){const r=this.media;null!=r&&r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),r&&this.onvseeking&&this.onvended&&(r.removeEventListener("seeking",this.onvseeking),r.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:r,fragCurrent:l,media:h,mediaBuffer:M,state:k}=this,j=h?h.currentTime:0,te=Br.bufferInfo(M||h,j,r.maxBufferHole);if(this.log(`media seeking to ${_(j)?j.toFixed(3):j}, state: ${k}`),"ENDED"===this.state)this.resetLoadingState();else if(l){const De=r.maxFragLookUpTolerance,Pe=l.start-De,lt=l.start+l.duration+De;if(!te.len||lt<te.start||Pe>te.end){const pt=j>lt;(j<Pe||pt)&&(pt&&l.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),l.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}h&&(this.fragmentTracker.removeFragmentsInRange(j,1/0,this.playlistType,!0),this.lastCurrentTime=j),!this.loadedmetadata&&!te.len&&(this.nextLoadPosition=this.startPosition=j),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(r,l){this.startTimeOffset=l.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(r,l,h){this._loadFragForPlayback(r,l,h)}_loadFragForPlayback(r,l,h){this._doFragLoad(r,l,h,k=>{if(this.fragContextChanged(r))return this.warn(`Fragment ${r.sn}${k.part?" p: "+k.part.index:""} of level ${r.level} was dropped during download.`),void this.fragmentTracker.removeFragment(r);r.stats.chunkCount++,this._handleFragmentLoadProgress(k)}).then(k=>{if(!k)return;const j=this.state;this.fragContextChanged(r)?("FRAG_LOADING"===j||!this.fragCurrent&&"PARSING"===j)&&(this.fragmentTracker.removeFragment(r),this.state="IDLE"):("payload"in k&&(this.log(`Loaded fragment ${r.sn} of level ${r.level}`),this.hls.trigger(S.FRAG_LOADED,k)),this._handleFragmentLoadComplete(k))}).catch(k=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(k),this.resetFragmentLoading(r))})}clearTrackerIfNeeded(r){var l;const{fragmentTracker:h}=this;if("APPENDING"===h.getState(r)){const j=this.getFwdBufferInfo(this.mediaBuffer,r.type),te=Math.max(r.duration,j?j.len:this.config.maxBufferLength);this.reduceMaxBufferLength(te)&&h.removeFragment(r)}else 0===(null==(l=this.mediaBuffer)?void 0:l.buffered.length)?h.removeAllFragments():h.hasParts(r.type)&&(h.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type}),"PARTIAL"===h.getState(r)&&h.removeFragment(r))}flushMainBuffer(r,l,h=null){r-l&&this.hls.trigger(S.BUFFER_FLUSHING,{startOffset:r,endOffset:l,type:h})}_loadInitSegment(r,l){this._doFragLoad(r,l).then(h=>{if(!h||this.fragContextChanged(r)||!this.levels)throw new Error("init load aborted");return h}).then(h=>{const{hls:M}=this,{payload:k}=h,j=r.decryptdata;if(k&&k.byteLength>0&&j&&j.key&&j.iv&&"AES-128"===j.method){const te=self.performance.now();return this.decrypter.decrypt(new Uint8Array(k),j.key.buffer,j.iv.buffer).catch(De=>{throw M.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_DECRYPT_ERROR,fatal:!1,error:De,reason:De.message,frag:r}),De}).then(De=>{const Pe=self.performance.now();return M.trigger(S.FRAG_DECRYPTED,{frag:r,payload:De,stats:{tstart:te,tdecrypt:Pe}}),h.payload=De,h})}return h}).then(h=>{const{fragCurrent:M,hls:k,levels:j}=this;if(!j)throw new Error("init load aborted, missing levels");const te=r.stats;this.state="IDLE",l.fragmentError=0,r.data=new Uint8Array(h.payload),te.parsing.start=te.buffering.start=self.performance.now(),te.parsing.end=te.buffering.end=self.performance.now(),h.frag===M&&k.trigger(S.FRAG_BUFFERED,{stats:te,frag:M,part:null,id:r.type}),this.tick()}).catch(h=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(h),this.resetFragmentLoading(r))})}fragContextChanged(r){const{fragCurrent:l}=this;return!r||!l||r.level!==l.level||r.sn!==l.sn||r.urlId!==l.urlId}fragBufferedComplete(r,l){var h,M,k,j;const te=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${r.type} sn: ${r.sn}${l?" part: "+l.index:""} of ${"main"===this.playlistType?"level":"track"} ${r.level} (frag:[${(null!=(h=r.startPTS)?h:NaN).toFixed(3)}-${(null!=(M=r.endPTS)?M:NaN).toFixed(3)}] > buffer:${te?function(V){let r="";const l=V.length;for(let h=0;h<l;h++)r+=`[${V.start(h).toFixed(3)}-${V.end(h).toFixed(3)}]`;return r}(Br.getBuffered(te)):"(detached)"})`),this.state="IDLE",te&&(!this.loadedmetadata&&"main"==r.type&&te.buffered.length&&(null==(k=this.fragCurrent)?void 0:k.sn)===(null==(j=this.fragPrevious)?void 0:j.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(r){const{transmuxer:l}=this;if(!l)return;const{frag:h,part:M,partsLoaded:k}=r,j=!k||0===k.length||k.some(De=>!De),te=new Uo(h.level,h.sn,h.stats.chunkCount+1,0,M?M.index:-1,!j);l.flush(te)}_handleFragmentLoadProgress(r){}_doFragLoad(r,l,h=null,M){var k;const j=l?.details;if(!this.levels||!j)throw new Error(`frag load aborted, missing level${j?"":" detail"}s`);let te=null;if(!r.encrypted||null!=(k=r.decryptdata)&&k.key?!r.encrypted&&j.encryptedFragments.length&&this.keyLoader.loadClear(r,j.encryptedFragments):(this.log(`Loading key for ${r.sn} of [${j.startSN}-${j.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${r.level}`),this.state="KEY_LOADING",this.fragCurrent=r,te=this.keyLoader.load(r).then(lt=>{if(!this.fragContextChanged(lt.frag))return this.hls.trigger(S.KEY_LOADED,lt),"KEY_LOADING"===this.state&&(this.state="IDLE"),lt}),this.hls.trigger(S.KEY_LOADING,{frag:r}),null===this.fragCurrent&&(te=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),h=Math.max(r.start,h||0),this.config.lowLatencyMode&&"initSegment"!==r.sn){const lt=j.partList;if(lt&&M){h>r.end&&j.fragmentHint&&(r=j.fragmentHint);const pt=this.getNextPart(lt,r,h);if(pt>-1){const Bt=lt[pt];let jt;return this.log(`Loading part sn: ${r.sn} p: ${Bt.index} cc: ${r.cc} of playlist [${j.startSN}-${j.endSN}] parts [0-${pt}-${lt.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(h.toFixed(3))}`),this.nextLoadPosition=Bt.start+Bt.duration,this.state="FRAG_LOADING",jt=te?te.then(Xt=>!Xt||this.fragContextChanged(Xt.frag)?null:this.doFragPartsLoad(r,Bt,l,M)).catch(Xt=>this.handleFragLoadError(Xt)):this.doFragPartsLoad(r,Bt,l,M).catch(Xt=>this.handleFragLoadError(Xt)),this.hls.trigger(S.FRAG_LOADING,{frag:r,part:Bt,targetBufferTime:h}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):jt}if(!r.url||this.loadedEndOfParts(lt,h))return Promise.resolve(null)}}this.log(`Loading fragment ${r.sn} cc: ${r.cc} ${j?"of ["+j.startSN+"-"+j.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(h.toFixed(3))}`),_(r.sn)&&!this.bitrateTest&&(this.nextLoadPosition=r.start+r.duration),this.state="FRAG_LOADING";const De=this.config.progressive;let Pe;return Pe=De&&te?te.then(lt=>!lt||this.fragContextChanged(lt?.frag)?null:this.fragmentLoader.load(r,M)).catch(lt=>this.handleFragLoadError(lt)):Promise.all([this.fragmentLoader.load(r,De?M:void 0),te]).then(([lt])=>(!De&&lt&&M&&M(lt),lt)).catch(lt=>this.handleFragLoadError(lt)),this.hls.trigger(S.FRAG_LOADING,{frag:r,targetBufferTime:h}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):Pe}doFragPartsLoad(r,l,h,M){return new Promise((k,j)=>{var te;const De=[],Pe=null==(te=h.details)?void 0:te.partList,lt=pt=>{this.fragmentLoader.loadPart(r,pt,M).then(Bt=>{De[pt.index]=Bt;const jt=Bt.part;this.hls.trigger(S.FRAG_LOADED,Bt);const Xt=ko(h,r.sn,pt.index+1)||js(Pe,r.sn,pt.index+1);if(!Xt)return k({frag:r,part:jt,partsLoaded:De});lt(Xt)}).catch(j)};lt(l)})}handleFragLoadError(r){if("data"in r){const l=r.data;r.data&&l.details===A.INTERNAL_ABORTED?this.handleFragLoadAborted(l.frag,l.part):this.hls.trigger(S.ERROR,l)}else this.hls.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.INTERNAL_EXCEPTION,err:r,error:r,fatal:!0});return null}_handleTransmuxerFlush(r){const l=this.getCurrentContext(r);if(!l||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:h,part:M,level:k}=l,j=self.performance.now();h.stats.parsing.end=j,M&&(M.stats.parsing.end=j),this.updateLevelTiming(h,M,k,r.partial)}getCurrentContext(r){const{levels:l,fragCurrent:h}=this,{level:M,sn:k,part:j}=r;if(null==l||!l[M])return this.warn(`Levels object was unset while buffering fragment ${k} of level ${M}. The current chunk will not be buffered.`),null;const te=l[M],De=j>-1?ko(te,k,j):null,Pe=De?De.fragment:function Lo(V,r,l){if(null==V||!V.details)return null;const h=V.details;let M=h.fragments[r-h.startSN];return M||(M=h.fragmentHint,M&&M.sn===r)?M:r<h.startSN&&l&&l.sn===r?l:null}(te,k,h);return Pe?(h&&h!==Pe&&(Pe.stats=h.stats),{frag:Pe,part:De,level:te}):null}bufferFragmentData(r,l,h,M,k){var j;if(!r||"PARSING"!==this.state)return;const{data1:te,data2:De}=r;let Pe=te;if(te&&De&&(Pe=En(te,De)),null!=(j=Pe)&&j.length&&(this.hls.trigger(S.BUFFER_APPENDING,{type:r.type,frag:l,part:h,chunkMeta:M,parent:l.type,data:Pe}),r.dropped&&r.independent&&!h)){if(k)return;this.flushBufferGap(l)}}flushBufferGap(r){const l=this.media;if(!l)return;if(!Br.isBuffered(l,l.currentTime))return void this.flushMainBuffer(0,r.start);const h=l.currentTime,M=Br.bufferInfo(l,h,0),j=Math.min(2*this.config.maxFragLookUpTolerance,.25*r.duration),te=Math.max(Math.min(r.start-j,M.end-j),h+j);r.start-te>j&&this.flushMainBuffer(te,r.start)}getFwdBufferInfo(r,l){const h=this.getLoadPosition();return _(h)?this.getFwdBufferInfoAtPos(r,h,l):null}getFwdBufferInfoAtPos(r,l,h){const{config:{maxBufferHole:M}}=this,k=Br.bufferInfo(r,l,M);if(0===k.len&&void 0!==k.nextStart){const j=this.fragmentTracker.getBufferedFrag(l,h);if(j&&k.nextStart<j.end)return Br.bufferInfo(r,l,Math.max(k.nextStart,M))}return k}getMaxBufferLength(r){const{config:l}=this;let h;return h=r?Math.max(8*l.maxBufferSize/r,l.maxBufferLength):l.maxBufferLength,Math.min(h,l.maxMaxBufferLength)}reduceMaxBufferLength(r){const l=this.config;return l.maxMaxBufferLength>=(r||l.maxBufferLength)&&(l.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${l.maxMaxBufferLength}s`),!0)}getAppendedFrag(r,l="main"){const h=this.fragmentTracker.getAppendedFrag(r,"main");return h&&"fragment"in h?h.fragment:h}getNextFragment(r,l){const h=l.fragments,M=h.length;if(!M)return null;const{config:k}=this,j=h[0].start;let te;if(l.live){const De=k.initialLiveManifestSize;if(M<De)return this.warn(`Not enough fragments to start playback (have: ${M}, need: ${De})`),null;!l.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(te=this.getInitialLiveFragment(l,h),this.startPosition=te?this.hls.liveSyncPosition||te.start:r)}else r<=j&&(te=h[0]);return te||(te=this.getFragmentAtPosition(r,k.lowLatencyMode?l.partEnd:l.fragmentEnd,l)),this.mapToInitFragWhenRequired(te)}isLoopLoading(r,l){const h=this.fragmentTracker.getState(r);return("OK"===h||"PARTIAL"===h&&!!r.gap)&&this.nextLoadPosition>l}getNextFragmentLoopLoading(r,l,h,M,k){const j=r.gap,te=this.getNextFragment(this.nextLoadPosition,l);if(null===te)return te;if(r=te,j&&r&&!r.gap&&h.nextStart){const De=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,h.nextStart,M);if(null!==De&&h.len+De.len>=k)return this.log(`buffer full after gaps in "${M}" playlist starting at sn: ${r.sn}`),null}return r}mapToInitFragWhenRequired(r){return null==r||!r.initSegment||null!=r&&r.initSegment.data||this.bitrateTest?r:r.initSegment}getNextPart(r,l,h){let M=-1,k=!1,j=!0;for(let te=0,De=r.length;te<De;te++){const Pe=r[te];if(j=j&&!Pe.independent,M>-1&&h<Pe.start)break;const lt=Pe.loaded;lt?M=-1:(k||Pe.independent||j)&&Pe.fragment===l&&(M=te),k=lt}return M}loadedEndOfParts(r,l){const h=r[r.length-1];return h&&l>h.start&&h.loaded}getInitialLiveFragment(r,l){const h=this.fragPrevious;let M=null;if(h){if(r.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${h.programDateTime}`),M=function Vs(V,r,l){if(null===r||!Array.isArray(V)||!V.length||!_(r))return null;if(r<(V[0].programDateTime||0))return null;if(r>=(V[V.length-1].endProgramDateTime||0))return null;l=l||0;for(let k=0;k<V.length;++k){const j=V[k];if(xs(r,l,j))return j}return null}(l,h.endProgramDateTime,this.config.maxFragLookUpTolerance)),!M){const k=h.sn+1;if(k>=r.startSN&&k<=r.endSN){const j=l[k-r.startSN];h.cc===j.cc&&(M=j,this.log(`Live playlist, switching playlist, load frag with next SN: ${M.sn}`))}M||(M=function Is(V,r){return Xo.search(V,l=>l.cc<r?1:l.cc>r?-1:0)}(l,h.cc),M&&this.log(`Live playlist, switching playlist, load frag with same CC: ${M.sn}`))}}else{const k=this.hls.liveSyncPosition;null!==k&&(M=this.getFragmentAtPosition(k,this.bitrateTest?r.fragmentEnd:r.edge,r))}return M}getFragmentAtPosition(r,l,h){const{config:M}=this;let{fragPrevious:k}=this,{fragments:j,endSN:te}=h;const{fragmentHint:De}=h,Pe=M.maxFragLookUpTolerance,lt=h.partList,pt=!!(M.lowLatencyMode&&null!=lt&&lt.length&&De);let Bt;if(pt&&De&&!this.bitrateTest&&(j=j.concat(De),te=De.sn),Bt=r<l?co(k,j,r,r>l-Pe?0:Pe):j[j.length-1],Bt){const jt=Bt.sn-h.startSN,Xt=this.fragmentTracker.getState(Bt);if(("OK"===Xt||"PARTIAL"===Xt&&Bt.gap)&&(k=Bt),k&&Bt.sn===k.sn&&(!pt||lt[0].fragment.sn>Bt.sn)&&k&&Bt.level===k.level){const bn=j[jt+1];Bt=Bt.sn<te&&"OK"!==this.fragmentTracker.getState(bn)?bn:null}}return Bt}synchronizeToLiveEdge(r){const{config:l,media:h}=this;if(!h)return;const M=this.hls.liveSyncPosition,k=h.currentTime,te=r.edge,De=k>=r.fragments[0].start-l.maxFragLookUpTolerance&&k<=te;null!==M&&h.duration>M&&(k<M||!De)&&(!De&&h.readyState<4||k<te-(void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*r.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=M),h.readyState&&(this.warn(`Playback: ${k.toFixed(3)} is located too far from the end of live sliding playlist: ${te}, reset currentTime to : ${M.toFixed(3)}`),h.currentTime=M))}alignPlaylists(r,l){const{levels:h,levelLastLoaded:M,fragPrevious:k}=this,j=null!==M?h[M]:null,te=r.fragments.length;if(!te)return this.warn("No fragments in live playlist"),0;const De=r.fragments[0].start,Pe=!l,lt=r.alignedSliding&&_(De);if(Pe||!lt&&!De){!function kn(V,r,l){r&&(function _t(V,r,l){if(function ks(V,r,l){return!(!r.details||!(l.endCC>l.startCC||V&&V.cc<l.startCC))}(V,l,r)){const h=function bs(V,r,l=0){const h=V.fragments,M=r.fragments;if(!M.length||!h.length)return void y.log("No fragments to align");const k=ta(h,M[0].cc);if(k&&(!k||k.startPTS))return k;y.log("No frag in previous level to align on")}(l.details,r);h&&_(h.start)&&(y.log(`Adjusting PTS using last level due to CC increase within current level ${r.url}`),Ur(h.start,r))}}(V,l,r),!l.alignedSliding&&r.details&&function Ot(V,r){if(!r.fragments.length||!V.hasProgramDateTime||!r.hasProgramDateTime)return;const l=r.fragments[0].programDateTime,h=V.fragments[0].programDateTime,M=(h-l)/1e3+r.fragments[0].start;M&&_(M)&&(y.log(`Adjusting PTS using programDateTime delta ${h-l}ms, sliding:${M.toFixed(3)} ${V.url} `),Ur(M,V))}(l,r.details),!l.alignedSliding&&r.details&&!l.skippedSegments&&Wi(r.details,l))}(k,j,r);const pt=r.fragments[0].start;return this.log(`Live playlist sliding: ${pt.toFixed(2)} start-sn: ${l?l.startSN:"na"}->${r.startSN} prev-sn: ${k?k.sn:"na"} fragments: ${te}`),pt}return De}waitForCdnTuneIn(r){return r.live&&r.canBlockReload&&r.partTarget&&r.tuneInGoal>Math.max(r.partHoldBack,3*r.partTarget)}setStartPosition(r,l){let h=this.startPosition;if(h<l&&(h=-1),-1===h||-1===this.lastCurrentTime){const M=null!==this.startTimeOffset,k=M?this.startTimeOffset:r.startTimeOffset;null!==k&&_(k)?(h=l+k,k<0&&(h+=r.totalduration),h=Math.min(Math.max(l,h),l+r.totalduration),this.log(`Start time offset ${k} found in ${M?"multivariant":"media"} playlist, adjust startPosition to ${h}`),this.startPosition=h):r.live?h=this.hls.liveSyncPosition||l:this.startPosition=h=0,this.lastCurrentTime=h}this.nextLoadPosition=h}getLoadPosition(){const{media:r}=this;let l=0;return this.loadedmetadata&&r?l=r.currentTime:this.nextLoadPosition&&(l=this.nextLoadPosition),l}handleFragLoadAborted(r,l){this.transmuxer&&"initSegment"!==r.sn&&r.stats.aborted&&(this.warn(`Fragment ${r.sn}${l?" part "+l.index:""} of level ${r.level} was aborted`),this.resetFragmentLoading(r))}resetFragmentLoading(r){(!this.fragCurrent||!this.fragContextChanged(r)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(r,l){if(l.chunkMeta&&!l.frag){const pt=this.getCurrentContext(l.chunkMeta);pt&&(l.frag=pt.frag)}const h=l.frag;if(!h||h.type!==r||!this.levels)return;var M;if(this.fragContextChanged(h))return void this.warn(`Frag load error must match current frag to retry ${h.url} > ${null==(M=this.fragCurrent)?void 0:M.url}`);const k=l.details===A.FRAG_GAP;k&&this.fragmentTracker.fragBuffered(h,!0);const j=l.errorAction,{action:te,retryCount:De=0,retryConfig:Pe}=j||{};if(j&&5===te&&Pe){var lt;this.resetStartWhenNotLoaded(null!=(lt=this.levelLastLoaded)?lt:h.level);const pt=os(Pe,De);this.warn(`Fragment ${h.sn} of ${r} ${h.level} errored with ${l.details}, retrying loading ${De+1}/${Pe.maxNumRetry} in ${pt}ms`),j.resolved=!0,this.retryDate=self.performance.now()+pt,this.state="FRAG_LOADING_WAITING_RETRY"}else Pe&&j?(this.resetFragmentErrors(r),De<Pe.maxNumRetry?k||(j.resolved=!0):y.warn(`${l.details} reached or exceeded max retry (${De})`)):this.state=2===j?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(r){if("PARSING"===this.state||"PARSED"===this.state){const l=r.parent,h=this.getFwdBufferInfo(this.mediaBuffer,l),M=h&&h.len>.5;M&&this.reduceMaxBufferLength(h.len);const k=!M;return k&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${l} buffer`),r.frag&&(this.fragmentTracker.removeFragment(r.frag),this.nextLoadPosition=r.frag.start),this.resetLoadingState(),k}return!1}resetFragmentErrors(r){"audio"===r&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(r,l,h){if(!r)return;const M=Br.getBuffered(r);this.fragmentTracker.detectEvictedFragments(l,M,h),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(r){if(!this.loadedmetadata){this.startFragRequested=!1;const l=this.levels?this.levels[r].details:null;null!=l&&l.live?(this.startPosition=-1,this.setStartPosition(l,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(r){var l;this.warn(`The loading context changed while buffering fragment ${r.sn} of level ${r.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(l=this.levelLastLoaded)?l:r.level),this.resetLoadingState()}removeUnbufferedFrags(r=0){this.fragmentTracker.removeFragmentsInRange(r,1/0,this.playlistType,!1,!0)}updateLevelTiming(r,l,h,M){var k;const j=h.details;if(j){if(Object.keys(r.elementaryStreams).reduce((De,Pe)=>{const lt=r.elementaryStreams[Pe];if(lt){const pt=lt.endPTS-lt.startPTS;if(pt<=0)return this.warn(`Could not parse fragment ${r.sn} ${Pe} duration reliably (${pt})`),De||!1;const Bt=M?0:mi(j,r,lt.startPTS,lt.endPTS,lt.startDTS,lt.endDTS);return this.hls.trigger(S.LEVEL_PTS_UPDATED,{details:j,level:h,drift:Bt,type:Pe,frag:r,start:lt.startPTS,end:lt.endPTS}),!0}return De},!1))h.fragmentError=0;else if(null===(null==(k=this.transmuxer)?void 0:k.error)){const De=new Error(`Found no media in fragment ${r.sn} of level ${r.level} resetting transmuxer to fallback to playlist timing`);if(0===h.fragmentError&&(h.fragmentError++,r.gap=!0,this.fragmentTracker.removeFragment(r),this.fragmentTracker.fragBuffered(r,!0)),this.warn(De.message),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,error:De,frag:r,reason:`Found no media in msn ${r.sn} of level "${h.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(S.FRAG_PARSED,{frag:r,part:l})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(r){var l,h,M;"demuxerWorker"===r.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(l=null!=(h=this.levelLastLoaded)?h:null==(M=this.fragCurrent)?void 0:M.level)?l:0),this.resetLoadingState())}set state(r){const l=this._state;l!==r&&(this._state=r,this.log(`${l}->${r}`))}get state(){return this._state}}function to(){return self.SourceBuffer||self.WebKitSourceBuffer}function ds(V="",r=9e4){return{type:V,id:-1,pid:-1,inputTimeScale:r,sequenceNumber:-1,samples:[],dropped:0}}class ul{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(r,l,h,M){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(r){this.initPTS=r,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(r,l){return!1}appendFrame(r,l,h){}demux(r,l){this.cachedData&&(r=En(this.cachedData,r),this.cachedData=null);let k,h=$(r,0),M=h?h.length:0;const j=this._audioTrack,te=this._id3Track,De=h?(V=>{const r=Ee(V);for(let l=0;l<r.length;l++){const h=r[l];if(_e(h))return gt(h)}})(h):void 0,Pe=r.length;for((null===this.basePTS||0===this.frameIndex&&_(De))&&(this.basePTS=wl(De,l,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),h&&h.length>0&&te.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:h,type:"org.id3",duration:Number.POSITIVE_INFINITY});M<Pe;){if(this.canParse(r,M)){const lt=this.appendFrame(j,r,M);lt?(this.frameIndex++,this.lastPTS=lt.sample.pts,M+=lt.length,k=M):M=Pe}else J(r,M)?(h=$(r,M),te.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:h,type:"org.id3",duration:Number.POSITIVE_INFINITY}),M+=h.length,k=M):M++;if(M===Pe&&k!==Pe){const lt=oe(r,k);this.cachedData=this.cachedData?En(this.cachedData,lt):lt}}return{audioTrack:j,videoTrack:ds(),id3Track:te,textTrack:ds()}}demuxSampleAes(r,l,h){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(r){const l=this.cachedData;return l&&(this.cachedData=null,this.demux(l,0)),{audioTrack:this._audioTrack,videoTrack:ds(),id3Track:this._id3Track,textTrack:ds()}}destroy(){}}const wl=(V,r,l)=>_(V)?90*V:9e4*r+(l?9e4*l.baseTime/l.timescale:0);function fl(V,r){return 255===V[r]&&240==(246&V[r+1])}function Oa(V,r){return 1&V[r+1]?7:9}function wo(V,r){return(3&V[r+3])<<11|V[r+4]<<3|(224&V[r+5])>>>5}function Pa(V,r){return r+1<V.length&&fl(V,r)}function ja(V,r){if(Pa(V,r)){const l=Oa(V,r);if(r+l>=V.length)return!1;const h=wo(V,r);if(h<=l)return!1;const M=r+h;return M===V.length||Pa(V,M)}return!1}function hl(V,r,l,h,M){if(!V.samplerate){const k=function pa(V,r,l,h){let M,k,j,te;const De=navigator.userAgent.toLowerCase(),Pe=h,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];M=1+((192&r[l+2])>>>6);const pt=(60&r[l+2])>>>2;if(!(pt>lt.length-1))return j=(1&r[l+2])<<2,j|=(192&r[l+3])>>>6,y.log(`manifest codec:${h}, ADTS type:${M}, samplingIndex:${pt}`),/firefox/i.test(De)?pt>=6?(M=5,te=new Array(4),k=pt-3):(M=2,te=new Array(2),k=pt):-1!==De.indexOf("android")?(M=2,te=new Array(2),k=pt):(M=5,te=new Array(4),h&&(-1!==h.indexOf("mp4a.40.29")||-1!==h.indexOf("mp4a.40.5"))||!h&&pt>=6?k=pt-3:((h&&-1!==h.indexOf("mp4a.40.2")&&(pt>=6&&1===j||/vivaldi/i.test(De))||!h&&1===j)&&(M=2,te=new Array(2)),k=pt)),te[0]=M<<3,te[0]|=(14&pt)>>1,te[1]|=(1&pt)<<7,te[1]|=j<<3,5===M&&(te[1]|=(14&k)>>1,te[2]=(1&k)<<7,te[2]|=8,te[3]=0),{config:te,samplerate:lt[pt],channelCount:j,codec:"mp4a.40."+M,manifestCodec:Pe};V.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${pt}`})}(r,l,h,M);if(!k)return;V.config=k.config,V.samplerate=k.samplerate,V.channelCount=k.channelCount,V.codec=k.codec,V.manifestCodec=k.manifestCodec,y.log(`parsed codec:${V.codec}, rate:${k.samplerate}, channels:${k.channelCount}`)}}function ga(V){return 9216e4/V}function _a(V,r,l,h,M){const j=h+M*ga(V.samplerate),te=function ml(V,r){const l=Oa(V,r);if(r+l<=V.length){const h=wo(V,r)-l;if(h>0)return{headerLength:l,frameLength:h}}}(r,l);let De;if(te){const{frameLength:pt,headerLength:Bt}=te,jt=Bt+pt,Xt=Math.max(0,l+jt-r.length);Xt?(De=new Uint8Array(jt-Bt),De.set(r.subarray(l+Bt,r.length),0)):De=r.subarray(l+Bt,l+jt);const cn={unit:De,pts:j};return Xt||V.samples.push(cn),{sample:cn,length:jt,missing:Xt}}const Pe=r.length-l;return De=new Uint8Array(Pe),De.set(r.subarray(l,r.length),0),{sample:{unit:De,pts:j},length:Pe,missing:-1}}const gl=/\/emsg[-/]ID3/i;let va=null;const nl=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],_l=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ol=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Ts=[0,1,1,4];function Ra(V,r,l,h,M){if(l+24>r.length)return;const k=Ss(r,l);if(k&&l+k.frameLength<=r.length){const te=h+M*(9e4*k.samplesPerFrame/k.sampleRate),De={unit:r.subarray(l,l+k.frameLength),pts:te,dts:te};return V.config=[],V.channelCount=k.channelCount,V.samplerate=k.sampleRate,V.samples.push(De),{sample:De,length:k.frameLength,missing:0}}}function Ss(V,r){const l=V[r+1]>>3&3,h=V[r+1]>>1&3,M=V[r+2]>>4&15,k=V[r+2]>>2&3;if(1!==l&&0!==M&&15!==M&&3!==k){const te=V[r+3]>>6,Pe=1e3*nl[14*(3===l?3-h:3===h?3:4)+M-1],pt=_l[3*(3===l?0:2===l?1:2)+k],Bt=3===te?1:2,jt=Ol[l][h],Xt=Ts[h],cn=8*jt*Xt,bn=Math.floor(jt*Pe/pt+(V[r+2]>>1&1))*Xt;if(null===va){const zn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);va=zn?parseInt(zn[1]):0}return!!va&&va<=87&&2===h&&Pe>=224e3&&0===te&&(V[r+3]=128|V[r+3]),{sampleRate:pt,channelCount:Bt,frameLength:bn,samplesPerFrame:cn}}}function or(V,r){return 255===V[r]&&224==(224&V[r+1])&&0!=(6&V[r+1])}function Va(V,r){return r+1<V.length&&or(V,r)}function Yt(V,r){if(r+1<V.length&&or(V,r)){const h=Ss(V,r);let M=4;null!=h&&h.frameLength&&(M=h.frameLength);const k=r+M;return k===V.length||Va(V,k)}return!1}class mt{constructor(r){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=r,this.bytesAvailable=r.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const r=this.data,l=this.bytesAvailable,h=r.byteLength-l,M=new Uint8Array(4),k=Math.min(4,l);if(0===k)throw new Error("no bytes available");M.set(r.subarray(h,h+k)),this.word=new DataView(M.buffer).getUint32(0),this.bitsAvailable=8*k,this.bytesAvailable-=k}skipBits(r){let l;r=Math.min(r,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>r?(this.word<<=r,this.bitsAvailable-=r):(l=(r-=this.bitsAvailable)>>3,r-=l<<3,this.bytesAvailable-=l,this.loadWord(),this.word<<=r,this.bitsAvailable-=r)}readBits(r){let l=Math.min(this.bitsAvailable,r);const h=this.word>>>32-l;if(r>32&&y.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=l,this.bitsAvailable>0)this.word<<=l;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return l=r-l,l>0&&this.bitsAvailable?h<<l|this.readBits(l):h}skipLZ(){let r;for(r=0;r<this.bitsAvailable;++r)if(this.word&2147483648>>>r)return this.word<<=r,this.bitsAvailable-=r,r;return this.loadWord(),r+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const r=this.skipLZ();return this.readBits(r+1)-1}readEG(){const r=this.readUEG();return 1&r?1+r>>>1:-1*(r>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(r){let M,l=8,h=8;for(let k=0;k<r;k++)0!==h&&(M=this.readEG(),h=(l+M+256)%256),l=0===h?l:h}readSPS(){let k,j,te,r=0,l=0,h=0,M=0;const De=this.readUByte.bind(this),Pe=this.readBits.bind(this),lt=this.readUEG.bind(this),pt=this.readBoolean.bind(this),Bt=this.skipBits.bind(this),jt=this.skipEG.bind(this),Xt=this.skipUEG.bind(this),cn=this.skipScalingList.bind(this);De();const bn=De();if(Pe(5),Bt(3),De(),Xt(),100===bn||110===bn||122===bn||244===bn||44===bn||83===bn||86===bn||118===bn||128===bn){const Ai=lt();if(3===Ai&&Bt(1),Xt(),Xt(),Bt(1),pt())for(j=3!==Ai?8:12,te=0;te<j;te++)pt()&&cn(te<6?16:64)}Xt();const Bn=lt();if(0===Bn)lt();else if(1===Bn)for(Bt(1),jt(),jt(),k=lt(),te=0;te<k;te++)jt();Xt(),Bt(1);const ti=lt(),zn=lt(),ui=Pe(1);0===ui&&Bt(1),Bt(1),pt()&&(r=lt(),l=lt(),h=lt(),M=lt());let oi=[1,1];if(pt()&&pt())switch(De()){case 1:oi=[1,1];break;case 2:oi=[12,11];break;case 3:oi=[10,11];break;case 4:oi=[16,11];break;case 5:oi=[40,33];break;case 6:oi=[24,11];break;case 7:oi=[20,11];break;case 8:oi=[32,11];break;case 9:oi=[80,33];break;case 10:oi=[18,11];break;case 11:oi=[15,11];break;case 12:oi=[64,33];break;case 13:oi=[160,99];break;case 14:oi=[4,3];break;case 15:oi=[3,2];break;case 16:oi=[2,1];break;case 255:oi=[De()<<8|De(),De()<<8|De()]}return{width:Math.ceil(16*(ti+1)-2*r-2*l),height:(2-ui)*(zn+1)*16-(ui?2:4)*(h+M),pixelRatio:oi}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Vt{constructor(r,l,h){this.keyData=void 0,this.decrypter=void 0,this.keyData=h,this.decrypter=new ts(l,{removePKCS7Padding:!1})}decryptBuffer(r){return this.decrypter.decrypt(r,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(r,l,h){const M=r[l].unit;if(M.length<=16)return;const k=M.subarray(16,M.length-M.length%16),j=k.buffer.slice(k.byteOffset,k.byteOffset+k.length);this.decryptBuffer(j).then(te=>{const De=new Uint8Array(te);M.set(De,16),this.decrypter.isSync()||this.decryptAacSamples(r,l+1,h)})}decryptAacSamples(r,l,h){for(;;l++){if(l>=r.length)return void h();if(!(r[l].unit.length<32||(this.decryptAacSample(r,l,h),this.decrypter.isSync())))return}}getAvcEncryptedData(r){const l=16*Math.floor((r.length-48)/160)+16,h=new Int8Array(l);let M=0;for(let k=32;k<r.length-16;k+=160,M+=16)h.set(r.subarray(k,k+16),M);return h}getAvcDecryptedUnit(r,l){const h=new Uint8Array(l);let M=0;for(let k=32;k<r.length-16;k+=160,M+=16)r.set(h.subarray(M,M+16),k);return r}decryptAvcSample(r,l,h,M,k){const j=$n(k.data),te=this.getAvcEncryptedData(j);this.decryptBuffer(te.buffer).then(De=>{k.data=this.getAvcDecryptedUnit(j,De),this.decrypter.isSync()||this.decryptAvcSamples(r,l,h+1,M)})}decryptAvcSamples(r,l,h,M){if(r instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;l++,h=0){if(l>=r.length)return void M();const k=r[l].units;for(;!(h>=k.length);h++){const j=k[h];if(!(j.data.length<=48||1!==j.type&&5!==j.type||(this.decryptAvcSample(r,l,h,M,j),this.decrypter.isSync())))return}}}}const Sn=188;class Zn{constructor(r,l,h){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=r,this.config=l,this.typeSupported=h}static probe(r){const l=Zn.syncOffset(r);return l>0&&y.warn(`MPEG2-TS detected but first sync word found @ offset ${l}`),-1!==l}static syncOffset(r){const l=r.length;let h=Math.min(940,r.length-Sn)+1,M=0;for(;M<h;){let k=!1,j=-1,te=0;for(let De=M;De<l;De+=Sn){if(71!==r[De]){if(te)return-1;break}if(te++,-1===j&&(j=De,0!==j&&(h=Math.min(j+18612,r.length-Sn)+1)),k||(k=0===Bi(r,De)),k&&te>1&&(0===j&&te>2||De+Sn>h))return j}M++}return-1}static createTrack(r,l){return{container:"video"===r||"audio"===r?"video/mp2t":void 0,type:r,id:Wt[r],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===r?l:void 0}}resetInitSegment(r,l,h,M){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Zn.createTrack("video"),this._audioTrack=Zn.createTrack("audio",M),this._id3Track=Zn.createTrack("id3"),this._txtTrack=Zn.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=l,this.videoCodec=h,this._duration=M}resetTimeStamp(){}resetContiguity(){const{_audioTrack:r,_avcTrack:l,_id3Track:h}=this;r&&(r.pesData=null),l&&(l.pesData=null),h&&(h.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(r,l,h=!1,M=!1){let k;h||(this.sampleAes=null);const j=this._avcTrack,te=this._audioTrack,De=this._id3Track,Pe=this._txtTrack;let lt=j.pid,pt=j.pesData,Bt=te.pid,jt=De.pid,Xt=te.pesData,cn=De.pesData,bn=null,Bn=this.pmtParsed,ti=this._pmtId,zn=r.length;if(this.remainderData&&(zn=(r=En(this.remainderData,r)).length,this.remainderData=null),zn<Sn&&!M)return this.remainderData=r,{audioTrack:te,videoTrack:j,id3Track:De,textTrack:Pe};const ui=Math.max(0,Zn.syncOffset(r));zn-=(zn-ui)%Sn,zn<r.byteLength&&!M&&(this.remainderData=new Uint8Array(r.buffer,zn,r.buffer.byteLength-zn));let oi=0;for(let hi=ui;hi<zn;hi+=Sn)if(71===r[hi]){const Di=!!(64&r[hi+1]),wi=Bi(r,hi);let Ui;if((48&r[hi+3])>>4>1){if(Ui=hi+5+r[hi+4],Ui===hi+Sn)continue}else Ui=hi+4;switch(wi){case lt:Di&&(pt&&(k=ur(pt))&&this.parseAVCPES(j,Pe,k,!1),pt={data:[],size:0}),pt&&(pt.data.push(r.subarray(Ui,hi+Sn)),pt.size+=hi+Sn-Ui);break;case Bt:if(Di){if(Xt&&(k=ur(Xt)))switch(te.segmentCodec){case"aac":this.parseAACPES(te,k);break;case"mp3":this.parseMPEGPES(te,k)}Xt={data:[],size:0}}Xt&&(Xt.data.push(r.subarray(Ui,hi+Sn)),Xt.size+=hi+Sn-Ui);break;case jt:Di&&(cn&&(k=ur(cn))&&this.parseID3PES(De,k),cn={data:[],size:0}),cn&&(cn.data.push(r.subarray(Ui,hi+Sn)),cn.size+=hi+Sn-Ui);break;case 0:Di&&(Ui+=r[Ui]+1),ti=this._pmtId=Rr(r,Ui);break;case ti:{Di&&(Ui+=r[Ui]+1);const ji=gr(r,Ui,this.typeSupported,h);lt=ji.avc,lt>0&&(j.pid=lt),Bt=ji.audio,Bt>0&&(te.pid=Bt,te.segmentCodec=ji.segmentCodec),jt=ji.id3,jt>0&&(De.pid=jt),null!==bn&&!Bn&&(y.warn(`MPEG-TS PMT found at ${hi} after unknown PID '${bn}'. Backtracking to sync byte @${ui} to parse all TS packets.`),bn=null,hi=ui-188),Bn=this.pmtParsed=!0;break}case 17:case 8191:break;default:bn=wi}}else oi++;if(oi>0){const hi=new Error(`Found ${oi} TS packet/s that do not start with 0x47`);this.observer.emit(S.ERROR,S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,error:hi,reason:hi.message})}j.pesData=pt,te.pesData=Xt,De.pesData=cn;const Ai={audioTrack:te,videoTrack:j,id3Track:De,textTrack:Pe};return M&&this.extractRemainingSamples(Ai),Ai}flush(){const{remainderData:r}=this;let l;return this.remainderData=null,l=r?this.demux(r,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(l),this.sampleAes?this.decrypt(l,this.sampleAes):l}extractRemainingSamples(r){const{audioTrack:l,videoTrack:h,id3Track:M,textTrack:k}=r,j=h.pesData,te=l.pesData,De=M.pesData;let Pe;if(j&&(Pe=ur(j))?(this.parseAVCPES(h,k,Pe,!0),h.pesData=null):h.pesData=j,te&&(Pe=ur(te))){switch(l.segmentCodec){case"aac":this.parseAACPES(l,Pe);break;case"mp3":this.parseMPEGPES(l,Pe)}l.pesData=null}else null!=te&&te.size&&y.log("last AAC PES packet truncated,might overlap between fragments"),l.pesData=te;De&&(Pe=ur(De))?(this.parseID3PES(M,Pe),M.pesData=null):M.pesData=De}demuxSampleAes(r,l,h){const M=this.demux(r,h,!0,!this.config.progressive),k=this.sampleAes=new Vt(this.observer,this.config,l);return this.decrypt(M,k)}decrypt(r,l){return new Promise(h=>{const{audioTrack:M,videoTrack:k}=r;M.samples&&"aac"===M.segmentCodec?l.decryptAacSamples(M.samples,0,()=>{k.samples?l.decryptAvcSamples(k.samples,0,0,()=>{h(r)}):h(r)}):k.samples&&l.decryptAvcSamples(k.samples,0,0,()=>{h(r)})})}destroy(){this._duration=0}parseAVCPES(r,l,h,M){const k=this.parseAVCNALu(r,h.data);let te,j=this.avcSample,De=!1;h.data=null,j&&k.length&&!r.audFound&&(nr(j,r),j=this.avcSample=ai(!1,h.pts,h.dts,"")),k.forEach(Pe=>{var lt;switch(Pe.type){case 1:{let Bt=!1;te=!0;const jt=Pe.data;if(De&&jt.length>4){const Xt=new mt(jt).readSliceType();(2===Xt||4===Xt||7===Xt||9===Xt)&&(Bt=!0)}var pt;Bt&&null!=(pt=j)&&pt.frame&&!j.key&&(nr(j,r),j=this.avcSample=null),j||(j=this.avcSample=ai(!0,h.pts,h.dts,"")),j.frame=!0,j.key=Bt;break}case 5:te=!0,null!=(lt=j)&&lt.frame&&!j.key&&(nr(j,r),j=this.avcSample=null),j||(j=this.avcSample=ai(!0,h.pts,h.dts,"")),j.key=!0,j.frame=!0;break;case 6:te=!0,Nn(Pe.data,1,h.pts,l.samples);break;case 7:if(te=!0,De=!0,!r.sps){const Bt=Pe.data,Xt=new mt(Bt).readSPS();r.width=Xt.width,r.height=Xt.height,r.pixelRatio=Xt.pixelRatio,r.sps=[Bt],r.duration=this._duration;const cn=Bt.subarray(1,4);let bn="avc1.";for(let Bn=0;Bn<3;Bn++){let ti=cn[Bn].toString(16);ti.length<2&&(ti="0"+ti),bn+=ti}r.codec=bn}break;case 8:te=!0,r.pps||(r.pps=[Pe.data]);break;case 9:te=!1,r.audFound=!0,j&&nr(j,r),j=this.avcSample=ai(!1,h.pts,h.dts,"");break;case 12:te=!0;break;default:te=!1,j&&(j.debug+="unknown NAL "+Pe.type+" ")}j&&te&&j.units.push(Pe)}),M&&j&&(nr(j,r),this.avcSample=null)}getLastNalUnit(r){var l;let M,h=this.avcSample;if((!h||0===h.units.length)&&(h=r[r.length-1]),null!=(l=h)&&l.units){const k=h.units;M=k[k.length-1]}return M}parseAVCNALu(r,l){const h=l.byteLength;let M=r.naluState||0;const k=M,j=[];let De,Pe,lt,te=0,pt=-1,Bt=0;for(-1===M&&(pt=0,Bt=31&l[0],M=0,te=1);te<h;)if(De=l[te++],M)if(1!==M)if(De)if(1===De){if(pt>=0){const jt={data:l.subarray(pt,te-M-1),type:Bt};j.push(jt)}else{const jt=this.getLastNalUnit(r.samples);if(jt&&(k&&te<=4-k&&jt.state&&(jt.data=jt.data.subarray(0,jt.data.byteLength-k)),Pe=te-M-1,Pe>0)){const Xt=new Uint8Array(jt.data.byteLength+Pe);Xt.set(jt.data,0),Xt.set(l.subarray(0,Pe),jt.data.byteLength),jt.data=Xt,jt.state=0}}te<h?(lt=31&l[te],pt=te,Bt=lt,M=0):M=-1}else M=0;else M=3;else M=De?0:2;else M=De?0:1;if(pt>=0&&M>=0){const jt={data:l.subarray(pt,h),type:Bt,state:M};j.push(jt)}if(0===j.length){const jt=this.getLastNalUnit(r.samples);if(jt){const Xt=new Uint8Array(jt.data.byteLength+l.byteLength);Xt.set(jt.data,0),Xt.set(l,jt.data.byteLength),jt.data=Xt}}return r.naluState=M,j}parseAACPES(r,l){let h=0;const M=this.aacOverFlow;let j,te,De,k=l.data;if(M){this.aacOverFlow=null;const pt=M.missing,Bt=M.sample.unit.byteLength;if(-1===pt){const jt=new Uint8Array(Bt+k.byteLength);jt.set(M.sample.unit,0),jt.set(k,Bt),k=jt}else{const jt=Bt-pt;M.sample.unit.set(k.subarray(0,pt),jt),r.samples.push(M.sample),h=M.missing}}for(j=h,te=k.length;j<te-1&&!Pa(k,j);j++);if(j!==h){let pt;const Bt=j<te-1;pt=Bt?`AAC PES did not start with ADTS header,offset:${j}`:"No ADTS header found in AAC PES";const jt=new Error(pt);if(y.warn(`parsing error: ${pt}`),this.observer.emit(S.ERROR,S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Bt,error:jt,reason:pt}),!Bt)return}if(hl(r,this.observer,k,j,this.audioCodec),void 0!==l.pts)De=l.pts;else{if(!M)return void y.warn("[tsdemuxer]: AAC PES unknown PTS");{const pt=ga(r.samplerate);De=M.sample.pts+pt}}let lt,Pe=0;for(;j<te;){if(lt=_a(r,k,j,De,Pe),j+=lt.length,lt.missing){this.aacOverFlow=lt;break}for(Pe++;j<te-1&&!Pa(k,j);j++);}}parseMPEGPES(r,l){const h=l.data,M=h.length;let k=0,j=0;const te=l.pts;if(void 0!==te)for(;j<M;)if(Va(h,j)){const De=Ra(r,h,j,te,k);if(!De)break;j+=De.length,k++}else j++;else y.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(r,l){if(void 0===l.pts)return void y.warn("[tsdemuxer]: ID3 PES unknown PTS");const h=c({},l,{type:this._avcTrack?xr_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});r.samples.push(h)}}function ai(V,r,l,h){return{key:V,frame:!1,pts:r,dts:l,units:[],debug:h,length:0}}function Bi(V,r){return((31&V[r+1])<<8)+V[r+2]}function Rr(V,r){return(31&V[r+10])<<8|V[r+11]}function gr(V,r,l,h){const M={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},j=r+3+((15&V[r+1])<<8|V[r+2])-4;for(r+=12+((15&V[r+10])<<8|V[r+11]);r<j;){const De=Bi(V,r);switch(V[r]){case 207:if(!h){y.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===M.audio&&(M.audio=De);break;case 21:-1===M.id3&&(M.id3=De);break;case 219:if(!h){y.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===M.avc&&(M.avc=De);break;case 3:case 4:!0!==l.mpeg&&!0!==l.mp3?y.log("MPEG audio found, not supported in this browser"):-1===M.audio&&(M.audio=De,M.segmentCodec="mp3");break;case 36:y.warn("Unsupported HEVC stream type found")}r+=5+((15&V[r+3])<<8|V[r+4])}return M}function ur(V){let l,h,M,k,j,r=0;const te=V.data;if(!V||0===V.size)return null;for(;te[0].length<19&&te.length>1;){const Pe=new Uint8Array(te[0].length+te[1].length);Pe.set(te[0]),Pe.set(te[1],te[0].length),te[0]=Pe,te.splice(1,1)}if(l=te[0],(l[0]<<16)+(l[1]<<8)+l[2]===1){if(h=(l[4]<<8)+l[5],h&&h>V.size-6)return null;const Pe=l[7];192&Pe&&(k=536870912*(14&l[9])+4194304*(255&l[10])+16384*(254&l[11])+128*(255&l[12])+(254&l[13])/2,64&Pe?(j=536870912*(14&l[14])+4194304*(255&l[15])+16384*(254&l[16])+128*(255&l[17])+(254&l[18])/2,k-j>54e5&&(y.warn(`${Math.round((k-j)/9e4)}s delta between PTS and DTS, align them`),k=j)):j=k),M=l[8];let lt=M+9;if(V.size<=lt)return null;V.size-=lt;const pt=new Uint8Array(V.size);for(let Bt=0,jt=te.length;Bt<jt;Bt++){l=te[Bt];let Xt=l.byteLength;if(lt){if(lt>Xt){lt-=Xt;continue}l=l.subarray(lt),Xt-=lt,lt=0}pt.set(l,r),r+=Xt}return h&&(h-=M+3),{data:pt,pts:k,dts:j,len:h}}return null}function nr(V,r){if(V.units.length&&V.frame){if(void 0===V.pts){const l=r.samples,h=l.length;if(!h)return void r.dropped++;{const M=l[h-1];V.pts=M.pts,V.dts=M.dts}}r.samples.push(V)}V.debug.length&&y.log(V.pts+"/"+V.dts+":"+V.debug)}class Nr{static getSilentFrame(r,l){if("mp4a.40.2"===r){if(1===l)return new Uint8Array([0,200,0,128,35,128]);if(2===l)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===l)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===l)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===l)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const _r=Math.pow(2,32)-1;let ns=(()=>{class V{static init(){let l;for(l in V.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},V.types)V.types.hasOwnProperty(l)&&(V.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);const h=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);V.HDLR_TYPES={video:h,audio:M};const k=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]);V.STTS=V.STSC=V.STCO=j,V.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),V.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),V.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),V.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const te=new Uint8Array([105,115,111,109]),De=new Uint8Array([97,118,99,49]),Pe=new Uint8Array([0,0,0,1]);V.FTYP=V.box(V.types.ftyp,te,Pe,te,De),V.DINF=V.box(V.types.dinf,V.box(V.types.dref,k))}static box(l,...h){let M=8,k=h.length;const j=k;for(;k--;)M+=h[k].byteLength;const te=new Uint8Array(M);for(te[0]=M>>24&255,te[1]=M>>16&255,te[2]=M>>8&255,te[3]=255&M,te.set(l,4),k=0,M=8;k<j;k++)te.set(h[k],M),M+=h[k].byteLength;return te}static hdlr(l){return V.box(V.types.hdlr,V.HDLR_TYPES[l])}static mdat(l){return V.box(V.types.mdat,l)}static mdhd(l,h){h*=l;const M=Math.floor(h/(_r+1)),k=Math.floor(h%(_r+1));return V.box(V.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,M>>24,M>>16&255,M>>8&255,255&M,k>>24,k>>16&255,k>>8&255,255&k,85,196,0,0]))}static mdia(l){return V.box(V.types.mdia,V.mdhd(l.timescale,l.duration),V.hdlr(l.type),V.minf(l))}static mfhd(l){return V.box(V.types.mfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l]))}static minf(l){return V.box(V.types.minf,"audio"===l.type?V.box(V.types.smhd,V.SMHD):V.box(V.types.vmhd,V.VMHD),V.DINF,V.stbl(l))}static moof(l,h,M){return V.box(V.types.moof,V.mfhd(l),V.traf(M,h))}static moov(l){let h=l.length;const M=[];for(;h--;)M[h]=V.trak(l[h]);return V.box.apply(null,[V.types.moov,V.mvhd(l[0].timescale,l[0].duration)].concat(M).concat(V.mvex(l)))}static mvex(l){let h=l.length;const M=[];for(;h--;)M[h]=V.trex(l[h]);return V.box.apply(null,[V.types.mvex,...M])}static mvhd(l,h){h*=l;const M=Math.floor(h/(_r+1)),k=Math.floor(h%(_r+1)),j=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,M>>24,M>>16&255,M>>8&255,255&M,k>>24,k>>16&255,k>>8&255,255&k,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return V.box(V.types.mvhd,j)}static sdtp(l){const h=l.samples||[],M=new Uint8Array(4+h.length);let k,j;for(k=0;k<h.length;k++)j=h[k].flags,M[k+4]=j.dependsOn<<4|j.isDependedOn<<2|j.hasRedundancy;return V.box(V.types.sdtp,M)}static stbl(l){return V.box(V.types.stbl,V.stsd(l),V.box(V.types.stts,V.STTS),V.box(V.types.stsc,V.STSC),V.box(V.types.stsz,V.STSZ),V.box(V.types.stco,V.STCO))}static avc1(l){let k,j,te,h=[],M=[];for(k=0;k<l.sps.length;k++)j=l.sps[k],te=j.byteLength,h.push(te>>>8&255),h.push(255&te),h=h.concat(Array.prototype.slice.call(j));for(k=0;k<l.pps.length;k++)j=l.pps[k],te=j.byteLength,M.push(te>>>8&255),M.push(255&te),M=M.concat(Array.prototype.slice.call(j));const De=V.box(V.types.avcC,new Uint8Array([1,h[3],h[4],h[5],255,224|l.sps.length].concat(h).concat([l.pps.length]).concat(M))),Pe=l.width,lt=l.height,pt=l.pixelRatio[0],Bt=l.pixelRatio[1];return V.box(V.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Pe>>8&255,255&Pe,lt>>8&255,255&lt,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),De,V.box(V.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),V.box(V.types.pasp,new Uint8Array([pt>>24,pt>>16&255,pt>>8&255,255&pt,Bt>>24,Bt>>16&255,Bt>>8&255,255&Bt])))}static esds(l){const h=l.config.length;return new Uint8Array([0,0,0,0,3,23+h,0,1,0,4,15+h,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([h]).concat(l.config).concat([6,1,2]))}static mp4a(l){const h=l.samplerate;return V.box(V.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,h>>8&255,255&h,0,0]),V.box(V.types.esds,V.esds(l)))}static mp3(l){const h=l.samplerate;return V.box(V.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,h>>8&255,255&h,0,0]))}static stsd(l){return V.box(V.types.stsd,V.STSD,"audio"===l.type?"mp3"===l.segmentCodec&&"mp3"===l.codec?V.mp3(l):V.mp4a(l):V.avc1(l))}static tkhd(l){const h=l.id,M=l.duration*l.timescale,k=l.width,j=l.height,te=Math.floor(M/(_r+1)),De=Math.floor(M%(_r+1));return V.box(V.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,h>>24&255,h>>16&255,h>>8&255,255&h,0,0,0,0,te>>24,te>>16&255,te>>8&255,255&te,De>>24,De>>16&255,De>>8&255,255&De,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,k>>8&255,255&k,0,0,j>>8&255,255&j,0,0]))}static traf(l,h){const M=V.sdtp(l),k=l.id,j=Math.floor(h/(_r+1)),te=Math.floor(h%(_r+1));return V.box(V.types.traf,V.box(V.types.tfhd,new Uint8Array([0,0,0,0,k>>24,k>>16&255,k>>8&255,255&k])),V.box(V.types.tfdt,new Uint8Array([1,0,0,0,j>>24,j>>16&255,j>>8&255,255&j,te>>24,te>>16&255,te>>8&255,255&te])),V.trun(l,M.length+16+20+8+16+8+8),M)}static trak(l){return l.duration=l.duration||4294967295,V.box(V.types.trak,V.tkhd(l),V.mdia(l))}static trex(l){const h=l.id;return V.box(V.types.trex,new Uint8Array([0,0,0,0,h>>24,h>>16&255,h>>8&255,255&h,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(l,h){const M=l.samples||[],k=M.length,j=12+16*k,te=new Uint8Array(j);let De,Pe,lt,pt,Bt,jt;for(te.set(["video"===l.type?1:0,0,15,1,k>>>24&255,k>>>16&255,k>>>8&255,255&k,(h+=8+j)>>>24&255,h>>>16&255,h>>>8&255,255&h],0),De=0;De<k;De++)Pe=M[De],lt=Pe.duration,pt=Pe.size,Bt=Pe.flags,jt=Pe.cts,te.set([lt>>>24&255,lt>>>16&255,lt>>>8&255,255&lt,pt>>>24&255,pt>>>16&255,pt>>>8&255,255&pt,Bt.isLeading<<2|Bt.dependsOn,Bt.isDependedOn<<6|Bt.hasRedundancy<<4|Bt.paddingValue<<1|Bt.isNonSync,61440&Bt.degradPrio,15&Bt.degradPrio,jt>>>24&255,jt>>>16&255,jt>>>8&255,255&jt],12+16*De);return V.box(V.types.trun,te)}static initSegment(l){V.types||V.init();const h=V.moov(l),M=new Uint8Array(V.FTYP.byteLength+h.byteLength);return M.set(V.FTYP),M.set(h,V.FTYP.byteLength),M}}return V.types=void 0,V.HDLR_TYPES=void 0,V.STTS=void 0,V.STSC=void 0,V.STCO=void 0,V.STSZ=void 0,V.VMHD=void 0,V.SMHD=void 0,V.STSD=void 0,V.FTYP=void 0,V.DINF=void 0,V})();function Jr(V,r,l=1,h=!1){const M=V*r*l;return h?Math.round(M):M}function Cs(V,r=!1){return Jr(V,1e3,1/9e4,r)}let ro,Pl=null,ba=null;class Ka{constructor(r,l,h,M=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=r,this.config=l,this.typeSupported=h,this.ISGenerated=!1,null===Pl){const j=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Pl=j?parseInt(j[1]):0}if(null===ba){const k=navigator.userAgent.match(/Safari\/(\d+)/i);ba=k?parseInt(k[1]):0}}destroy(){}resetTimeStamp(r){y.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=r}resetNextTimestamp(){y.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){y.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(r){let l=!1;const h=r.reduce((M,k)=>{const j=k.pts-M;return j<-4294967296?(l=!0,Ds(M,k.pts)):j>0?M:k.pts},r[0].pts);return l&&y.debug("PTS rollover detected"),h}remux(r,l,h,M,k,j,te,De){let Pe,lt,pt,Bt,jt,Xt,cn=k,bn=k;const ti=l.pid>-1,zn=l.samples.length,ui=r.samples.length>0,oi=te&&zn>0||zn>1;if((!(r.pid>-1)||ui)&&(!ti||oi)||this.ISGenerated||te){this.ISGenerated||(pt=this.generateIS(r,l,k,j));const hi=this.isVideoContiguous;let wi,Di=-1;if(oi&&(Di=function fc(V){for(let r=0;r<V.length;r++)if(V[r].key)return r;return-1}(l.samples),!hi&&this.config.forceKeyFrameOnDiscontinuity))if(Xt=!0,Di>0){y.warn(`[mp4-remuxer]: Dropped ${Di} out of ${zn} video samples due to a missing keyframe`);const ci=this.getVideoStartPts(l.samples);l.samples=l.samples.slice(Di),l.dropped+=Di,bn+=(l.samples[0].pts-ci)/l.inputTimeScale,wi=bn}else-1===Di&&(y.warn(`[mp4-remuxer]: No keyframe found out of ${zn} video samples`),Xt=!1);if(this.ISGenerated){if(ui&&oi){const ci=this.getVideoStartPts(l.samples),ji=(Ds(r.samples[0].pts,ci)-ci)/l.inputTimeScale;cn+=Math.max(0,ji),bn+=Math.max(0,-ji)}if(ui){if(r.samplerate||(y.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),pt=this.generateIS(r,l,k,j)),lt=this.remuxAudio(r,cn,this.isAudioContiguous,j,ti||oi||"audio"===De?bn:void 0),oi){const ci=lt?lt.endPTS-lt.startPTS:0;l.inputTimeScale||(y.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),pt=this.generateIS(r,l,k,j)),Pe=this.remuxVideo(l,bn,hi,ci)}}else oi&&(Pe=this.remuxVideo(l,bn,hi,0));Pe&&(Pe.firstKeyFrame=Di,Pe.independent=-1!==Di,Pe.firstKeyFramePTS=wi)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(h.samples.length&&(jt=di(h,k,this._initPTS,this._initDTS)),M.samples.length&&(Bt=ar(M,k,this._initPTS))),{audio:lt,video:Pe,initSegment:pt,independent:Xt,text:Bt,id3:jt}}generateIS(r,l,h,M){const k=r.samples,j=l.samples,te=this.typeSupported,De={},Pe=this._initPTS;let Bt,jt,Xt,lt=!Pe||M,pt="audio/mp4";if(lt&&(Bt=jt=1/0),r.config&&k.length&&("mp3"===(r.timescale=r.samplerate,r.segmentCodec)&&(te.mpeg?(pt="audio/mpeg",r.codec=""):te.mp3&&(r.codec="mp3")),De.audio={id:"audio",container:pt,codec:r.codec,initSegment:"mp3"===r.segmentCodec&&te.mpeg?new Uint8Array(0):ns.initSegment([r]),metadata:{channelCount:r.channelCount}},lt&&(Xt=r.inputTimeScale,Pe&&Xt===Pe.timescale?lt=!1:Bt=jt=k[0].pts-Math.round(Xt*h))),l.sps&&l.pps&&j.length&&(l.timescale=l.inputTimeScale,De.video={id:"main",container:"video/mp4",codec:l.codec,initSegment:ns.initSegment([l]),metadata:{width:l.width,height:l.height}},lt))if(Xt=l.inputTimeScale,Pe&&Xt===Pe.timescale)lt=!1;else{const cn=this.getVideoStartPts(j),bn=Math.round(Xt*h);jt=Math.min(jt,Ds(j[0].dts,cn)-bn),Bt=Math.min(Bt,cn-bn)}if(Object.keys(De).length)return this.ISGenerated=!0,lt?(this._initPTS={baseTime:Bt,timescale:Xt},this._initDTS={baseTime:jt,timescale:Xt}):Bt=Xt=void 0,{tracks:De,initPTS:Bt,timescale:Xt}}remuxVideo(r,l,h,M){const k=r.inputTimeScale,j=r.samples,te=[],De=j.length,Pe=this._initPTS;let jt,Xt,lt=this.nextAvcDts,pt=8,Bt=this.videoSampleDuration,cn=Number.POSITIVE_INFINITY,bn=Number.NEGATIVE_INFINITY,Bn=!1;h&&null!==lt||(lt=l*k-(j[0].pts-Ds(j[0].dts,j[0].pts)));const ti=Pe.baseTime*k/Pe.timescale;for(let Ki=0;Ki<De;Ki++){const rr=j[Ki];rr.pts=Ds(rr.pts-ti,lt),rr.dts=Ds(rr.dts-ti,lt),rr.dts<j[Ki>0?Ki-1:Ki].dts&&(Bn=!0)}Bn&&j.sort(function(Ki,rr){return Ki.dts-rr.dts||Ki.pts-rr.pts}),jt=j[0].dts,Xt=j[j.length-1].dts;const zn=Xt-jt,ui=zn?Math.round(zn/(De-1)):Bt||r.inputTimeScale/30;if(h){const Ki=jt-lt,rr=Ki>ui,No=Ki<-1;if((rr||No)&&(y.warn(rr?`AVC: ${Cs(Ki,!0)} ms (${Ki}dts) hole between fragments detected, filling it`:`AVC: ${Cs(-Ki,!0)} ms (${Ki}dts) overlapping between fragments detected`),!No||lt>=j[0].pts)){jt=lt;const Vo=j[0].pts-Ki;j[0].dts=jt,j[0].pts=Vo,y.log(`Video: First PTS/DTS adjusted: ${Cs(Vo,!0)}/${Cs(jt,!0)}, delta: ${Cs(Ki,!0)} ms`)}}jt=Math.max(0,jt);let oi=0,Ai=0;for(let Ki=0;Ki<De;Ki++){const rr=j[Ki],No=rr.units,Vo=No.length;let Lr=0;for(let Hs=0;Hs<Vo;Hs++)Lr+=No[Hs].data.length;Ai+=Lr,oi+=Vo,rr.length=Lr,rr.dts=Math.max(rr.dts,jt),cn=Math.min(rr.pts,cn),bn=Math.max(rr.pts,bn)}Xt=j[De-1].dts;const hi=Ai+4*oi+8;let Di;try{Di=new Uint8Array(hi)}catch(Ki){return void this.observer.emit(S.ERROR,S.ERROR,{type:x.MUX_ERROR,details:A.REMUX_ALLOC_ERROR,fatal:!1,error:Ki,bytes:hi,reason:`fail allocating video mdat ${hi}`})}const wi=new DataView(Di.buffer);wi.setUint32(0,hi),Di.set(ns.types.mdat,4);let ci=!1,Ui=Number.POSITIVE_INFINITY,ji=Number.POSITIVE_INFINITY,xo=Number.NEGATIVE_INFINITY,Xs=Number.NEGATIVE_INFINITY;for(let Ki=0;Ki<De;Ki++){const rr=j[Ki],No=rr.units;let Lr,Vo=0;for(let la=0,Qa=No.length;la<Qa;la++){const qa=No[la],Ic=qa.data,hd=qa.data.byteLength;wi.setUint32(pt,hd),pt+=4,Di.set(Ic,pt),pt+=hd,Vo+=4+hd}if(Ki<De-1)Bt=j[Ki+1].dts-rr.dts,Lr=j[Ki+1].pts-rr.pts;else{const la=this.config,Qa=Ki>0?rr.dts-j[Ki-1].dts:ui;if(Lr=Ki>0?rr.pts-j[Ki-1].pts:ui,la.stretchShortVideoTrack&&null!==this.nextAudioPts){const qa=Math.floor(la.maxBufferHole*k),Ic=(M?cn+M*k:this.nextAudioPts)-rr.pts;Ic>qa?(Bt=Ic-Qa,Bt<0?Bt=Qa:ci=!0,y.log(`[mp4-remuxer]: It is approximately ${Ic/90} ms to the next segment; using duration ${Bt/90} ms for the last video frame.`)):Bt=Qa}else Bt=Qa}const Hs=Math.round(rr.pts-rr.dts);Ui=Math.min(Ui,Bt),xo=Math.max(xo,Bt),ji=Math.min(ji,Lr),Xs=Math.max(Xs,Lr),te.push(new vl(rr.key,Bt,Vo,Hs))}if(te.length)if(Pl){if(Pl<70){const Ki=te[0].flags;Ki.dependsOn=2,Ki.isNonSync=0}}else if(ba&&Xs-ji<xo-Ui&&ui/xo<.025&&0===te[0].cts){y.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Ki=jt;for(let rr=0,No=te.length;rr<No;rr++){const Vo=Ki+te[rr].duration;te[rr].duration=rr<No-1?Vo+te[rr+1].cts-(Ki+te[rr].cts):rr?te[rr-1].duration:ui,te[rr].cts=0,Ki=Vo}}Bt=ci||!Bt?ui:Bt,this.nextAvcDts=lt=Xt+Bt,this.videoSampleDuration=Bt,this.isVideoContiguous=!0;const jo={data1:ns.moof(r.sequenceNumber++,jt,c({},r,{samples:te})),data2:Di,startPTS:cn/k,endPTS:(bn+Bt)/k,startDTS:jt/k,endDTS:lt/k,type:"video",hasAudio:!1,hasVideo:!0,nb:te.length,dropped:r.dropped};return r.samples=[],r.dropped=0,jo}remuxAudio(r,l,h,M,k){const j=r.inputTimeScale,De=j/(r.samplerate?r.samplerate:j),Pe="aac"===r.segmentCodec?1024:1152,lt=Pe*De,pt=this._initPTS,Bt="mp3"===r.segmentCodec&&this.typeSupported.mpeg,jt=[],Xt=void 0!==k;let cn=r.samples,bn=Bt?0:8,Bn=this.nextAudioPts||-1;const ti=l*j,zn=pt.baseTime*j/pt.timescale;if(this.isAudioContiguous=h=h||cn.length&&Bn>0&&(M&&Math.abs(ti-Bn)<9e3||Math.abs(Ds(cn[0].pts-zn,ti)-Bn)<20*lt),cn.forEach(function(Ro){Ro.pts=Ds(Ro.pts-zn,ti)}),!h||Bn<0){if(cn=cn.filter(Ro=>Ro.pts>=0),!cn.length)return;Bn=0===k?0:M&&!Xt?Math.max(0,ti):cn[0].pts}if("aac"===r.segmentCodec){const Ro=this.config.maxAudioFramesDrift;for(let jo=0,Ki=Bn;jo<cn.length;jo++){const rr=cn[jo],No=rr.pts,Vo=No-Ki,Lr=Math.abs(1e3*Vo/j);if(Vo<=-Ro*lt&&Xt)0===jo&&(y.warn(`Audio frame @ ${(No/j).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Vo/j)} ms.`),this.nextAudioPts=Bn=Ki=No);else if(Vo>=Ro*lt&&Lr<1e4&&Xt){let Hs=Math.round(Vo/lt);Ki=No-Hs*lt,Ki<0&&(Hs--,Ki+=lt),0===jo&&(this.nextAudioPts=Bn=Ki),y.warn(`[mp4-remuxer]: Injecting ${Hs} audio frame @ ${(Ki/j).toFixed(3)}s due to ${Math.round(1e3*Vo/j)} ms gap.`);for(let la=0;la<Hs;la++){const Qa=Math.max(Ki,0);let qa=Nr.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);qa||(y.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),qa=rr.unit.subarray()),cn.splice(jo,0,{unit:qa,pts:Qa}),Ki+=lt,jo++}}rr.pts=Ki,Ki+=lt}}let Ai,ui=null,oi=null,hi=0,Di=cn.length;for(;Di--;)hi+=cn[Di].unit.byteLength;for(let Ro=0,jo=cn.length;Ro<jo;Ro++){const Ki=cn[Ro],rr=Ki.unit;let No=Ki.pts;if(null!==oi)jt[Ro-1].duration=Math.round((No-oi)/De);else{if(h&&"aac"===r.segmentCodec&&(No=Bn),ui=No,!(hi>0))return;hi+=bn;try{Ai=new Uint8Array(hi)}catch(Lr){return void this.observer.emit(S.ERROR,S.ERROR,{type:x.MUX_ERROR,details:A.REMUX_ALLOC_ERROR,fatal:!1,error:Lr,bytes:hi,reason:`fail allocating audio mdat ${hi}`})}Bt||(new DataView(Ai.buffer).setUint32(0,hi),Ai.set(ns.types.mdat,4))}Ai.set(rr,bn);const Vo=rr.byteLength;bn+=Vo,jt.push(new vl(!0,Pe,Vo,0)),oi=No}const wi=jt.length;if(!wi)return;this.nextAudioPts=Bn=oi+De*jt[jt.length-1].duration;const Ui=Bt?new Uint8Array(0):ns.moof(r.sequenceNumber++,ui/De,c({},r,{samples:jt}));r.samples=[];const ji=ui/j,xo=Bn/j,Dr={data1:Ui,data2:Ai,startPTS:ji,endPTS:xo,startDTS:ji,endDTS:xo,type:"audio",hasAudio:!0,hasVideo:!1,nb:wi};return this.isAudioContiguous=!0,Dr}remuxEmptyAudio(r,l,h,M){const k=r.inputTimeScale,De=this.nextAudioPts,Pe=this._initDTS,lt=9e4*Pe.baseTime/Pe.timescale,pt=(null!==De?De:M.startDTS*k)+lt,jt=k/(r.samplerate?r.samplerate:k)*1024,Xt=Math.ceil((M.endDTS*k+lt-pt)/jt),cn=Nr.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);if(y.warn("[mp4-remuxer]: remux empty Audio"),!cn)return void y.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const bn=[];for(let Bn=0;Bn<Xt;Bn++){const ti=pt+Bn*jt;bn.push({unit:cn,pts:ti,dts:ti})}return r.samples=bn,this.remuxAudio(r,l,h,!1)}}function Ds(V,r){let l;if(null===r)return V;for(l=r<V?-8589934592:8589934592;Math.abs(V-r)>4294967296;)V+=l;return V}function di(V,r,l,h){const M=V.samples.length;if(!M)return;const k=V.inputTimeScale;for(let te=0;te<M;te++){const De=V.samples[te];De.pts=Ds(De.pts-l.baseTime*k/l.timescale,r*k)/k,De.dts=Ds(De.dts-h.baseTime*k/h.timescale,r*k)/k}const j=V.samples;return V.samples=[],{samples:j}}function ar(V,r,l){const h=V.samples.length;if(!h)return;const M=V.inputTimeScale;for(let j=0;j<h;j++){const te=V.samples[j];te.pts=Ds(te.pts-l.baseTime*M/l.timescale,r*M)/M}V.samples.sort((j,te)=>j.pts-te.pts);const k=V.samples;return V.samples=[],{samples:k}}class vl{constructor(r,l,h,M){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=l,this.size=h,this.cts=M,this.flags=new hc(r)}}class hc{constructor(r){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=r?2:1,this.isNonSync=r?0:1}}function il(V,r){const l=V?.codec;return l&&l.length>4?l:"hvc1"===l||"hev1"===l?"hvc1.1.6.L120.90":"av01"===l?"av01.0.04M.08":"avc1"===l||"video"===r?"avc1.42e01e":"mp4a.40.5"}try{ro=self.performance.now.bind(self.performance)}catch{y.debug("Unable to use Performance API on this environment"),ro=typeof self<"u"&&self.Date.now}const Wa=[{demux:class uc{constructor(r,l){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=l}resetTimeStamp(){}resetInitSegment(r,l,h,M){const k=this.videoTrack=ds("video",1),j=this.audioTrack=ds("audio",1),te=this.txtTrack=ds("text",1);if(this.id3Track=ds("id3",1),this.timeOffset=0,null==r||!r.byteLength)return;const De=He(r);if(De.video){const{id:Pe,timescale:lt,codec:pt}=De.video;k.id=Pe,k.timescale=te.timescale=lt,k.codec=pt}if(De.audio){const{id:Pe,timescale:lt,codec:pt}=De.audio;j.id=Pe,j.timescale=lt,j.codec=pt}te.id=Wt.text,k.sampleDuration=0,k.duration=j.duration=M}resetContiguity(){this.remainderData=null}static probe(r){return vt(r=r.length>16384?r.subarray(0,16384):r,["moof"]).length>0}demux(r,l){this.timeOffset=l;let h=r;const M=this.videoTrack,k=this.txtTrack;if(this.config.progressive){this.remainderData&&(h=En(this.remainderData,r));const te=function on(V){const r={valid:null,remainder:null},l=vt(V,["moof"]);if(!l)return r;if(l.length<2)return r.remainder=V,r;const h=l[l.length-1];return r.valid=oe(V,0,h.byteOffset-8),r.remainder=oe(V,h.byteOffset-8),r}(h);this.remainderData=te.remainder,M.samples=te.valid||new Uint8Array}else M.samples=h;const j=this.extractID3Track(M,l);return k.samples=tn(l,M),{videoTrack:M,audioTrack:this.audioTrack,id3Track:j,textTrack:this.txtTrack}}flush(){const r=this.timeOffset,l=this.videoTrack,h=this.txtTrack;l.samples=this.remainderData||new Uint8Array,this.remainderData=null;const M=this.extractID3Track(l,this.timeOffset);return h.samples=tn(r,l),{videoTrack:l,audioTrack:ds(),id3Track:M,textTrack:ds()}}extractID3Track(r,l){const h=this.id3Track;if(r.samples.length){const M=vt(r.samples,["emsg"]);M&&M.forEach(k=>{const j=function ni(V){const r=V[0];let l="",h="",M=0,k=0,j=0,te=0,De=0,Pe=0;if(0===r){for(;"\0"!==Qt(V.subarray(Pe,Pe+1));)l+=Qt(V.subarray(Pe,Pe+1)),Pe+=1;for(l+=Qt(V.subarray(Pe,Pe+1)),Pe+=1;"\0"!==Qt(V.subarray(Pe,Pe+1));)h+=Qt(V.subarray(Pe,Pe+1)),Pe+=1;h+=Qt(V.subarray(Pe,Pe+1)),Pe+=1,M=un(V,12),k=un(V,16),te=un(V,20),De=un(V,24),Pe=28}else if(1===r){Pe+=4,M=un(V,Pe),Pe+=4;const pt=un(V,Pe);Pe+=4;const Bt=un(V,Pe);for(Pe+=4,j=2**32*pt+Bt,Number.isSafeInteger(j)||(j=Number.MAX_SAFE_INTEGER,y.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),te=un(V,Pe),Pe+=4,De=un(V,Pe),Pe+=4;"\0"!==Qt(V.subarray(Pe,Pe+1));)l+=Qt(V.subarray(Pe,Pe+1)),Pe+=1;for(l+=Qt(V.subarray(Pe,Pe+1)),Pe+=1;"\0"!==Qt(V.subarray(Pe,Pe+1));)h+=Qt(V.subarray(Pe,Pe+1)),Pe+=1;h+=Qt(V.subarray(Pe,Pe+1)),Pe+=1}return{schemeIdUri:l,value:h,timeScale:M,presentationTime:j,presentationTimeDelta:k,eventDuration:te,id:De,payload:V.subarray(Pe,V.byteLength)}}(k);if(gl.test(j.schemeIdUri)){const te=_(j.presentationTime)?j.presentationTime/j.timeScale:l+j.presentationTimeDelta/j.timeScale;let De=4294967295===j.eventDuration?Number.POSITIVE_INFINITY:j.eventDuration/j.timeScale;De<=.001&&(De=Number.POSITIVE_INFINITY);const Pe=j.payload;h.samples.push({data:Pe,len:Pe.byteLength,dts:te,pts:te,type:xr_emsg,duration:De})}})}return h}demuxSampleAes(r,l,h){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class Go{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(r){this.initPTS=r,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(r,l,h,M){this.audioCodec=l,this.videoCodec=h,this.generateInitSegment(function ze(V,r){if(!V||!r)return V;const l=r.keyId;return l&&r.isCommonEncryption&&vt(V,["moov","trak"]).forEach(M=>{const j=vt(M,["mdia","minf","stbl","stsd"])[0].subarray(8);let te=vt(j,["enca"]);const De=te.length>0;De||(te=vt(j,["encv"])),te.forEach(Pe=>{vt(Pe.subarray(De?28:78),["sinf"]).forEach(Bt=>{const jt=st(Bt);if(jt){const Xt=jt.subarray(8,24);Xt.some(cn=>0!==cn)||(y.log(`[eme] Patching keyId in 'enc${De?"a":"v"}>sinf>>tenc' box: ${fe_hexDump(Xt)} -> ${fe_hexDump(l)}`),jt.set(l,8))}})})}),V}(r,M)),this.emitInitSegment=!0}generateInitSegment(r){let{audioCodec:l,videoCodec:h}=this;if(null==r||!r.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const M=this.initData=He(r);l||(l=il(M.audio,"audio")),h||(h=il(M.video,"video"));const k={};M.audio&&M.video?k.audiovideo={container:"video/mp4",codec:l+","+h,initSegment:r,id:"main"}:M.audio?k.audio={container:"audio/mp4",codec:l,initSegment:r,id:"audio"}:M.video?k.video={container:"video/mp4",codec:h,initSegment:r,id:"main"}:y.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=k}remux(r,l,h,M,k,j){var te,De;let{initPTS:Pe,lastEndTime:lt}=this;const pt={audio:void 0,video:void 0,text:M,id3:h,initSegment:void 0};_(lt)||(lt=this.lastEndTime=k||0);const Bt=l.samples;if(null==Bt||!Bt.length)return pt;const jt={initPTS:void 0,timescale:1};let Xt=this.initData;if(null!=(te=Xt)&&te.length||(this.generateInitSegment(Bt),Xt=this.initData),null==(De=Xt)||!De.length)return y.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),pt;this.emitInitSegment&&(jt.tracks=this.initTracks,this.emitInitSegment=!1);const cn=function St(V,r){let l=0,h=0,M=0;const k=vt(V,["moof","traf"]);for(let j=0;j<k.length;j++){const te=k[j],De=vt(te,["tfhd"])[0],lt=r[un(De,4)];if(!lt)continue;const pt=lt.default,Bt=un(De,0)|pt?.flags;let jt=pt?.duration;8&Bt&&(jt=un(De,2&Bt?12:8));const Xt=lt.timescale||9e4,cn=vt(te,["trun"]);for(let bn=0;bn<cn.length;bn++)l=bt(cn[bn]),!l&&jt&&(l=jt*un(cn[bn],4)),"video"===lt.type?h+=l/Xt:"audio"===lt.type&&(M+=l/Xt)}if(0===h&&0===M){let j=0;const te=vt(V,["sidx"]);for(let De=0;De<te.length;De++){const Pe=it(te[De]);null!=Pe&&Pe.references&&(j+=Pe.references.reduce((lt,pt)=>lt+pt.info.duration||0,0))}return j}return h||M}(Bt,Xt),bn=function at(V,r){return vt(r,["moof","traf"]).reduce((l,h)=>{const M=vt(h,["tfdt"])[0],k=M[0],j=vt(h,["tfhd"]).reduce((te,De)=>{const Pe=un(De,4),lt=V[Pe];if(lt){let pt=un(M,4);if(1===k){if(pt===We)return y.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),te;pt*=We+1,pt+=un(M,8)}const jt=pt/(lt.timescale||9e4);if(isFinite(jt)&&(null===te||jt<te))return jt}return te},null);return null!==j&&isFinite(j)&&(null===l||j<l)?j:l},null)}(Xt,Bt),Bn=null===bn?k:bn;(function Zc(V,r,l,h){if(null===V)return!0;const M=Math.max(h,1);return Math.abs(r-V.baseTime/V.timescale-l)>M}(Pe,Bn,k,cn)||jt.timescale!==Pe.timescale&&j)&&(jt.initPTS=Bn-k,Pe&&1===Pe.timescale&&y.warn("Adjusting initPTS by "+(jt.initPTS-Pe.baseTime)),this.initPTS=Pe={baseTime:jt.initPTS,timescale:1});const ti=r?Bn-Pe.baseTime/Pe.timescale:lt,zn=ti+cn;(function xt(V,r,l){vt(r,["moof","traf"]).forEach(h=>{vt(h,["tfhd"]).forEach(M=>{const k=un(M,4),j=V[k];if(!j)return;const te=j.timescale||9e4;vt(h,["tfdt"]).forEach(De=>{const Pe=De[0];let lt=un(De,4);if(0===Pe)lt-=l*te,lt=Math.max(lt,0),wt(De,4,lt);else{lt*=Math.pow(2,32),lt+=un(De,8),lt-=l*te,lt=Math.max(lt,0);const pt=Math.floor(lt/(We+1)),Bt=Math.floor(lt%(We+1));wt(De,4,pt),wt(De,8,Bt)}})})})})(Xt,Bt,Pe.baseTime/Pe.timescale),cn>0?this.lastEndTime=zn:(y.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const ui=!!Xt.audio,oi=!!Xt.video;let Ai="";ui&&(Ai+="audio"),oi&&(Ai+="video");const hi={data1:Bt,startPTS:ti,startDTS:ti,endPTS:zn,endDTS:zn,type:Ai,hasAudio:ui,hasVideo:oi,nb:1,dropped:0};return pt.audio="audio"===hi.type?hi:void 0,pt.video="audio"!==hi.type?hi:void 0,pt.initSegment=jt,pt.id3=di(h,k,Pe,Pe),M.samples.length&&(pt.text=ar(M,k,Pe)),pt}}},{demux:Zn,remux:Ka},{demux:class pl extends ul{constructor(r,l){super(),this.observer=void 0,this.config=void 0,this.observer=r,this.config=l}resetInitSegment(r,l,h,M){super.resetInitSegment(r,l,h,M),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:l,duration:M,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let h=($(r,0)||[]).length;for(let M=r.length;h<M;h++)if(ja(r,h))return y.log("ADTS sync word found !"),!0;return!1}canParse(r,l){return function dc(V,r){return function zc(V,r){return r+5<V.length}(V,r)&&fl(V,r)&&wo(V,r)<=V.length-r}(r,l)}appendFrame(r,l,h){hl(r,this.observer,l,h,r.manifestCodec);const M=_a(r,l,h,this.basePTS,this.frameIndex);if(M&&0===M.missing)return M}},remux:Ka},{demux:class uo extends ul{resetInitSegment(r,l,h,M){super.resetInitSegment(r,l,h,M),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:l,duration:M,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let h=($(r,0)||[]).length;for(let M=r.length;h<M;h++)if(Yt(r,h))return y.log("MPEG Audio sync word found !"),!0;return!1}canParse(r,l){return function $e(V,r){return or(V,r)&&4<=V.length-r}(r,l)}appendFrame(r,l,h){if(null!==this.basePTS)return Ra(r,l,h,this.basePTS,this.frameIndex)}},remux:Ka}];class Oo{constructor(r,l,h,M,k){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=r,this.typeSupported=l,this.config=h,this.vendor=M,this.id=k}configure(r){this.transmuxConfig=r,this.decrypter&&this.decrypter.reset()}push(r,l,h,M){const k=h.transmuxing;k.executeStart=ro();let j=new Uint8Array(r);const{currentTransmuxState:te,transmuxConfig:De}=this;M&&(this.currentTransmuxState=M);const{contiguous:Pe,discontinuity:lt,trackSwitch:pt,accurateTimeOffset:Bt,timeOffset:jt,initSegmentChange:Xt}=M||te,{audioCodec:cn,videoCodec:bn,defaultInitPts:Bn,duration:ti,initSegmentData:zn}=De,ui=function Rl(V,r){let l=null;return V.byteLength>0&&null!=r&&null!=r.key&&null!==r.iv&&null!=r.method&&(l=r),l}(j,l);if(ui&&"AES-128"===ui.method){const Di=this.getDecrypter();if(!Di.isSync())return this.decryptionPromise=Di.webCryptoDecrypt(j,ui.key.buffer,ui.iv.buffer).then(wi=>{const ci=this.push(wi,null,h);return this.decryptionPromise=null,ci}),this.decryptionPromise;{let wi=Di.softwareDecrypt(j,ui.key.buffer,ui.iv.buffer);if(h.part>-1&&(wi=Di.flush()),!wi)return k.executeEnd=ro(),Ea(h);j=new Uint8Array(wi)}}const oi=this.needsProbing(lt,pt);if(oi){const Di=this.configureTransmuxer(j);if(Di)return y.warn(`[transmuxer] ${Di.message}`),this.observer.emit(S.ERROR,S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,error:Di,reason:Di.message}),k.executeEnd=ro(),Ea(h)}(lt||pt||Xt||oi)&&this.resetInitSegment(zn,cn,bn,ti,l),(lt||Xt||oi)&&this.resetInitialTimestamp(Bn),Pe||this.resetContiguity();const Ai=this.transmux(j,ui,jt,Bt,h),hi=this.currentTransmuxState;return hi.contiguous=!0,hi.discontinuity=!1,hi.trackSwitch=!1,k.executeEnd=ro(),Ai}flush(r){const l=r.transmuxing;l.executeStart=ro();const{decrypter:h,currentTransmuxState:M,decryptionPromise:k}=this;if(k)return k.then(()=>this.flush(r));const j=[],{timeOffset:te}=M;if(h){const pt=h.flush();pt&&j.push(this.push(pt,null,r))}const{demuxer:De,remuxer:Pe}=this;if(!De||!Pe)return l.executeEnd=ro(),[Ea(r)];const lt=De.flush(te);return us(lt)?lt.then(pt=>(this.flushRemux(j,pt,r),j)):(this.flushRemux(j,lt,r),j)}flushRemux(r,l,h){const{audioTrack:M,videoTrack:k,id3Track:j,textTrack:te}=l,{accurateTimeOffset:De,timeOffset:Pe}=this.currentTransmuxState;y.log(`[transmuxer.ts]: Flushed fragment ${h.sn}${h.part>-1?" p: "+h.part:""} of level ${h.level}`);const lt=this.remuxer.remux(M,k,j,te,Pe,De,!0,this.id);r.push({remuxResult:lt,chunkMeta:h}),h.transmuxing.executeEnd=ro()}resetInitialTimestamp(r){const{demuxer:l,remuxer:h}=this;!l||!h||(l.resetTimeStamp(r),h.resetTimeStamp(r))}resetContiguity(){const{demuxer:r,remuxer:l}=this;!r||!l||(r.resetContiguity(),l.resetNextTimestamp())}resetInitSegment(r,l,h,M,k){const{demuxer:j,remuxer:te}=this;!j||!te||(j.resetInitSegment(r,l,h,M),te.resetInitSegment(r,l,h,k))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(r,l,h,M,k){let j;return j=l&&"SAMPLE-AES"===l.method?this.transmuxSampleAes(r,l,h,M,k):this.transmuxUnencrypted(r,h,M,k),j}transmuxUnencrypted(r,l,h,M){const{audioTrack:k,videoTrack:j,id3Track:te,textTrack:De}=this.demuxer.demux(r,l,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(k,j,te,De,l,h,!1,this.id),chunkMeta:M}}transmuxSampleAes(r,l,h,M,k){return this.demuxer.demuxSampleAes(r,l,h).then(j=>({remuxResult:this.remuxer.remux(j.audioTrack,j.videoTrack,j.id3Track,j.textTrack,h,M,!1,this.id),chunkMeta:k}))}configureTransmuxer(r){const{config:l,observer:h,typeSupported:M,vendor:k}=this;let j;for(let pt=0,Bt=Wa.length;pt<Bt;pt++)if(Wa[pt].demux.probe(r)){j=Wa[pt];break}if(!j)return new Error("Failed to find demuxer by probing fragment data");const te=this.demuxer,De=this.remuxer,Pe=j.remux,lt=j.demux;(!De||!(De instanceof Pe))&&(this.remuxer=new Pe(h,l,M,k)),(!te||!(te instanceof lt))&&(this.demuxer=new lt(h,l,M),this.probe=lt.probe)}needsProbing(r,l){return!this.demuxer||!this.remuxer||r||l}getDecrypter(){let r=this.decrypter;return r||(r=this.decrypter=new ts(this.config)),r}}const Ea=V=>({remuxResult:{},chunkMeta:V});function us(V){return"then"in V&&V.then instanceof Function}class Zo{constructor(r,l,h,M,k){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=r,this.videoCodec=l,this.initSegmentData=h,this.duration=M,this.defaultInitPts=k||null}}class oa{constructor(r,l,h,M,k,j){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=r,this.contiguous=l,this.accurateTimeOffset=h,this.trackSwitch=M,this.timeOffset=k,this.initSegmentChange=j}}var yl={exports:{}};!function(V){var r=Object.prototype.hasOwnProperty,l="~";function h(){}function M(De,Pe,lt){this.fn=De,this.context=Pe,this.once=lt||!1}function k(De,Pe,lt,pt,Bt){if("function"!=typeof lt)throw new TypeError("The listener must be a function");var jt=new M(lt,pt||De,Bt),Xt=l?l+Pe:Pe;return De._events[Xt]?De._events[Xt].fn?De._events[Xt]=[De._events[Xt],jt]:De._events[Xt].push(jt):(De._events[Xt]=jt,De._eventsCount++),De}function j(De,Pe){0==--De._eventsCount?De._events=new h:delete De._events[Pe]}function te(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(l=!1)),te.prototype.eventNames=function(){var lt,pt,Pe=[];if(0===this._eventsCount)return Pe;for(pt in lt=this._events)r.call(lt,pt)&&Pe.push(l?pt.slice(1):pt);return Object.getOwnPropertySymbols?Pe.concat(Object.getOwnPropertySymbols(lt)):Pe},te.prototype.listeners=function(Pe){var pt=this._events[l?l+Pe:Pe];if(!pt)return[];if(pt.fn)return[pt.fn];for(var Bt=0,jt=pt.length,Xt=new Array(jt);Bt<jt;Bt++)Xt[Bt]=pt[Bt].fn;return Xt},te.prototype.listenerCount=function(Pe){var pt=this._events[l?l+Pe:Pe];return pt?pt.fn?1:pt.length:0},te.prototype.emit=function(Pe,lt,pt,Bt,jt,Xt){var cn=l?l+Pe:Pe;if(!this._events[cn])return!1;var ti,zn,bn=this._events[cn],Bn=arguments.length;if(bn.fn){switch(bn.once&&this.removeListener(Pe,bn.fn,void 0,!0),Bn){case 1:return bn.fn.call(bn.context),!0;case 2:return bn.fn.call(bn.context,lt),!0;case 3:return bn.fn.call(bn.context,lt,pt),!0;case 4:return bn.fn.call(bn.context,lt,pt,Bt),!0;case 5:return bn.fn.call(bn.context,lt,pt,Bt,jt),!0;case 6:return bn.fn.call(bn.context,lt,pt,Bt,jt,Xt),!0}for(zn=1,ti=new Array(Bn-1);zn<Bn;zn++)ti[zn-1]=arguments[zn];bn.fn.apply(bn.context,ti)}else{var oi,ui=bn.length;for(zn=0;zn<ui;zn++)switch(bn[zn].once&&this.removeListener(Pe,bn[zn].fn,void 0,!0),Bn){case 1:bn[zn].fn.call(bn[zn].context);break;case 2:bn[zn].fn.call(bn[zn].context,lt);break;case 3:bn[zn].fn.call(bn[zn].context,lt,pt);break;case 4:bn[zn].fn.call(bn[zn].context,lt,pt,Bt);break;default:if(!ti)for(oi=1,ti=new Array(Bn-1);oi<Bn;oi++)ti[oi-1]=arguments[oi];bn[zn].fn.apply(bn[zn].context,ti)}}return!0},te.prototype.on=function(Pe,lt,pt){return k(this,Pe,lt,pt,!1)},te.prototype.once=function(Pe,lt,pt){return k(this,Pe,lt,pt,!0)},te.prototype.removeListener=function(Pe,lt,pt,Bt){var jt=l?l+Pe:Pe;if(!this._events[jt])return this;if(!lt)return j(this,jt),this;var Xt=this._events[jt];if(Xt.fn)Xt.fn===lt&&(!Bt||Xt.once)&&(!pt||Xt.context===pt)&&j(this,jt);else{for(var cn=0,bn=[],Bn=Xt.length;cn<Bn;cn++)(Xt[cn].fn!==lt||Bt&&!Xt[cn].once||pt&&Xt[cn].context!==pt)&&bn.push(Xt[cn]);bn.length?this._events[jt]=1===bn.length?bn[0]:bn:j(this,jt)}return this},te.prototype.removeAllListeners=function(Pe){var lt;return Pe?this._events[lt=l?l+Pe:Pe]&&j(this,lt):(this._events=new h,this._eventsCount=0),this},te.prototype.off=te.prototype.removeListener,te.prototype.addListener=te.prototype.on,te.prefixed=l,te.EventEmitter=te,V.exports=te}(yl);var Ao=b(yl.exports);const Bo=xn()||{isTypeSupported:()=>!1};class rl{constructor(r,l,h,M){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const k=r.config;this.hls=r,this.id=l,this.useWorker=!!k.enableWorker,this.onTransmuxComplete=h,this.onFlush=M;const j=(Pe,lt)=>{(lt=lt||{}).frag=this.frag,lt.id=this.id,Pe===S.ERROR&&(this.error=lt.error),this.hls.trigger(Pe,lt)};this.observer=new Ao,this.observer.on(S.FRAG_DECRYPTED,j),this.observer.on(S.ERROR,j);const te={mp4:Bo.isTypeSupported("video/mp4"),mpeg:Bo.isTypeSupported("audio/mpeg"),mp3:Bo.isTypeSupported('audio/mp4; codecs="mp3"')},De=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(k.workerPath||function ma(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{k.workerPath?(y.log(`loading Web Worker ${k.workerPath} for "${l}"`),this.workerContext=function na(V){const r=new self.URL(V,self.location.href).href;return{worker:new self.Worker(r),scriptURL:r}}(k.workerPath)):(y.log(`injecting Web Worker for "${l}"`),this.workerContext=function wa(){const V=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(V);return{worker:new self.Worker(r),objectURL:r}}()),this.onwmsg=pt=>this.onWorkerMessage(pt);const{worker:lt}=this.workerContext;lt.addEventListener("message",this.onwmsg),lt.onerror=pt=>{const Bt=new Error(`${pt.message}  (${pt.filename}:${pt.lineno})`);k.enableWorker=!1,y.warn(`Error in "${l}" Web Worker, fallback to inline`),this.hls.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Bt})},lt.postMessage({cmd:"init",typeSupported:te,vendor:De,id:l,config:JSON.stringify(k)})}catch(lt){y.warn(`Error setting up "${l}" Web Worker, fallback to inline`,lt),this.resetWorker(),this.error=null,this.transmuxer=new Oo(this.observer,te,k,De,l)}else this.transmuxer=new Oo(this.observer,te,k,De,l)}resetWorker(){if(this.workerContext){const{worker:r,objectURL:l}=this.workerContext;l&&self.URL.revokeObjectURL(l),r.removeEventListener("message",this.onwmsg),r.onerror=null,r.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const l=this.transmuxer;l&&(l.destroy(),this.transmuxer=null)}const r=this.observer;r&&r.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(r,l,h,M,k,j,te,De,Pe,lt){var pt,Bt;Pe.transmuxing.start=self.performance.now();const{transmuxer:jt}=this,Xt=j?j.start:k.start,cn=k.decryptdata,bn=this.frag,Bn=!(bn&&k.cc===bn.cc),ti=!(bn&&Pe.level===bn.level),zn=bn?Pe.sn-bn.sn:-1,ui=this.part?Pe.part-this.part.index:-1,Ai=!ti&&(1===zn||0===zn&&(1===ui||0===zn&&Pe.id>1&&Pe.id===bn?.stats.chunkCount&&ui<=0)),hi=self.performance.now();(ti||zn||0===k.stats.parsing.start)&&(k.stats.parsing.start=hi),j&&(ui||!Ai)&&(j.stats.parsing.start=hi);const Di=!(bn&&(null==(pt=k.initSegment)?void 0:pt.url)===(null==(Bt=bn.initSegment)?void 0:Bt.url)),wi=new oa(Bn,Ai,De,ti,Xt,Di);if(!Ai||Bn||Di){y.log(`[transmuxer-interface, ${k.type}]: Starting new transmux session for sn: ${Pe.sn} p: ${Pe.part} level: ${Pe.level} id: ${Pe.id}\n        discontinuity: ${Bn}\n        trackSwitch: ${ti}\n        contiguous: ${Ai}\n        accurateTimeOffset: ${De}\n        timeOffset: ${Xt}\n        initSegmentChange: ${Di}`);const ci=new Zo(h,M,l,te,lt);this.configureTransmuxer(ci)}if(this.frag=k,this.part=j,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:r,decryptdata:cn,chunkMeta:Pe,state:wi},r instanceof ArrayBuffer?[r]:[]);else if(jt){const ci=jt.push(r,cn,Pe,wi);us(ci)?(jt.async=!0,ci.then(Ui=>{this.handleTransmuxComplete(Ui)}).catch(Ui=>{this.transmuxerError(Ui,Pe,"transmuxer-interface push error")})):(jt.async=!1,this.handleTransmuxComplete(ci))}}flush(r){r.transmuxing.start=self.performance.now();const{transmuxer:l}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:r});else if(l){let h=l.flush(r);us(h)||l.async?(us(h)||(h=Promise.resolve(h)),h.then(k=>{this.handleFlushResult(k,r)}).catch(k=>{this.transmuxerError(k,r,"transmuxer-interface flush error")})):this.handleFlushResult(h,r)}}transmuxerError(r,l,h){this.hls&&(this.error=r,this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,chunkMeta:l,fatal:!1,error:r,err:r,reason:h}))}handleFlushResult(r,l){r.forEach(h=>{this.handleTransmuxComplete(h)}),this.onFlush(l)}onWorkerMessage(r){const l=r.data,h=this.hls;switch(l.event){case"init":{var M;const k=null==(M=this.workerContext)?void 0:M.objectURL;k&&self.URL.revokeObjectURL(k);break}case"transmuxComplete":this.handleTransmuxComplete(l.data);break;case"flush":this.onFlush(l.data);break;case"workerLog":y[l.data.logType]&&y[l.data.logType](l.data.message);break;default:l.data=l.data||{},l.data.frag=this.frag,l.data.id=this.id,h.trigger(l.event,l.data)}}configureTransmuxer(r){const{transmuxer:l}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:r}):l&&l.configure(r)}handleTransmuxComplete(r){r.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(r)}}class mc{constructor(r,l,h,M){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=r,this.media=l,this.fragmentTracker=h,this.hls=M}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(r,l){const{config:h,media:M,stalled:k}=this;if(null===M)return;const{currentTime:j,seeking:te}=M,De=this.seeking&&!te,Pe=!this.seeking&&te;if(this.seeking=te,j!==r){if(this.moved=!0,null!==k){if(this.stallReported){const Bn=self.performance.now()-k;y.warn(`playback not stuck anymore @${j}, after ${Math.round(Bn)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(Pe||De)return void(this.stalled=null);if(M.paused&&!te||M.ended||0===M.playbackRate||!Br.getBuffered(M).length)return;const lt=Br.bufferInfo(M,j,0),Bt=lt.nextStart||0;if(!(lt.len>0||Bt))return;if(te){const Bn=lt.len>2,ti=!Bt||l&&l.start<=j||Bt-j>2&&!this.fragmentTracker.getPartialFragment(j);if(Bn||ti)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var jt;const Bn=Math.max(Bt,lt.start||0)-j,ti=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,ui=(null==ti||null==(jt=ti.details)?void 0:jt.live)?2*ti.details.targetduration:2,oi=this.fragmentTracker.getPartialFragment(j);if(Bn>0&&(Bn<=ui||oi))return void this._trySkipBufferHole(oi)}const Xt=self.performance.now();if(null===k)return void(this.stalled=Xt);const cn=Xt-k;if(!te&&cn>=250&&(this._reportStall(lt),!this.media))return;const bn=Br.bufferInfo(M,j,h.maxBufferHole);this._tryFixBufferStall(bn,cn)}_tryFixBufferStall(r,l){const{config:h,fragmentTracker:M,media:k}=this;if(null===k)return;const j=k.currentTime,te=M.getPartialFragment(j);te&&(this._trySkipBufferHole(te)||!this.media)||(r.len>h.maxBufferHole||r.nextStart&&r.nextStart-j<h.maxBufferHole)&&l>1e3*h.highBufferWatchdogPeriod&&(y.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(r){const{hls:l,media:h,stallReported:M}=this;if(!M&&h){this.stallReported=!0;const k=new Error(`Playback stalling at @${h.currentTime} due to low buffer (${JSON.stringify(r)})`);y.warn(k.message),l.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_STALLED_ERROR,fatal:!1,error:k,buffer:r.len})}}_trySkipBufferHole(r){const{config:l,hls:h,media:M}=this;if(null===M)return 0;const k=M.currentTime,j=Br.bufferInfo(M,k,0),te=k<j.start?j.start:j.nextStart;if(te){const lt=te-k;if(lt>0&&(j.len<=l.maxBufferHole||j.len>0&&j.len<1&&M.readyState<3)){if(lt>l.maxBufferHole){const{fragmentTracker:Bt}=this;let jt=!1;if(0===k){const Xt=Bt.getAppendedFrag(0,"main");Xt&&te<Xt.end&&(jt=!0)}if(!jt){const Xt=r||Bt.getAppendedFrag(k,"main");if(Xt){let cn=!1,bn=Xt.end;for(;bn<te;){const Bn=Bt.getPartialFragment(bn);if(!Bn){cn=!0;break}bn+=Bn.duration}if(cn)return 0}}}const pt=Math.max(te+.05,k+.1);if(y.warn(`skipping hole, adjusting currentTime from ${k} to ${pt}`),this.moved=!0,this.stalled=null,M.currentTime=pt,r&&!r.gap){const Bt=new Error(`fragment loaded with buffer holes, seeking from ${k} to ${pt}`);h.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Bt,reason:Bt.message,frag:r})}return pt}}return 0}_tryNudgeBuffer(){const{config:r,hls:l,media:h,nudgeRetry:M}=this;if(null===h)return;const k=h.currentTime;if(this.nudgeRetry++,M<r.nudgeMaxRetry){const j=k+(M+1)*r.nudgeOffset,te=new Error(`Nudging 'currentTime' from ${k} to ${j}`);y.warn(te.message),h.currentTime=j,l.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_NUDGE_ON_STALL,error:te,fatal:!1})}else{const j=new Error(`Playhead still not moving while enough data buffered @${k} after ${r.nudgeMaxRetry} nudges`);y.error(j.message),l.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_STALLED_ERROR,error:j,fatal:!0})}}}class $c extends Os{constructor(r,l,h){super(r,l,h,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.on(S.ERROR,this.onError,this),r.on(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(S.BUFFER_CREATED,this.onBufferCreated,this),r.on(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.off(S.ERROR,this.onError,this),r.off(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(S.BUFFER_CREATED,this.onBufferCreated,this),r.off(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(r){if(this.levels){const{lastCurrentTime:l,hls:h}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let M=h.startLevel;-1===M&&(h.config.testBandwidth&&this.levels.length>1?(M=0,this.bitrateTest=!0):M=h.nextAutoLevel),this.level=h.nextLoadLevel=M,this.loadedmetadata=!1}l>0&&-1===r&&(this.log(`Override startPosition with lastCurrentTime @${l.toFixed(3)}`),r=l),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var r;const{levels:h,level:M}=this,k=null==h||null==(r=h[M])?void 0:r.details;if(k&&(!k.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(k))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var l;const h=self.performance.now(),M=this.retryDate;(!M||h>=M||null!=(l=this.media)&&l.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:r,levelLastLoaded:l,levels:h,media:M}=this,{config:k,nextLoadLevel:j}=r;if(null===l||!M&&(this.startFragRequested||!k.startFragPrefetch)||this.altAudio&&this.audioOnly||null==h||!h[j])return;const te=h[j],De=this.getMainFwdBufferInfo();if(null===De)return;const Pe=this.getLevelDetails();if(Pe&&this._streamEnded(De,Pe)){const bn={};return this.altAudio&&(bn.type="video"),this.hls.trigger(S.BUFFER_EOS,bn),void(this.state="ENDED")}r.loadLevel!==j&&-1===r.manualLevel&&this.log(`Adapting to level ${j} from level ${this.level}`),this.level=r.nextLoadLevel=j;const lt=te.details;if(!lt||"WAITING_LEVEL"===this.state||lt.live&&this.levelLastLoaded!==j)return this.level=j,void(this.state="WAITING_LEVEL");const pt=De.len,Bt=this.getMaxBufferLength(te.maxBitrate);if(pt>=Bt)return;this.backtrackFragment&&this.backtrackFragment.start>De.end&&(this.backtrackFragment=null);const jt=this.backtrackFragment?this.backtrackFragment.start:De.end;let Xt=this.getNextFragment(jt,lt);if(this.couldBacktrack&&!this.fragPrevious&&Xt&&"initSegment"!==Xt.sn&&"OK"!==this.fragmentTracker.getState(Xt)){var cn;const Bn=(null!=(cn=this.backtrackFragment)?cn:Xt).sn-lt.startSN,ti=lt.fragments[Bn-1];ti&&Xt.cc===ti.cc&&(Xt=ti,this.fragmentTracker.removeFragment(ti))}else this.backtrackFragment&&De.len&&(this.backtrackFragment=null);if(Xt&&this.isLoopLoading(Xt,jt)){if(!Xt.gap){const Bn=this.audioOnly&&!this.altAudio?"audio":"video",ti=("video"===Bn?this.videoBuffer:this.mediaBuffer)||this.media;ti&&this.afterBufferFlushed(ti,Bn,"main")}Xt=this.getNextFragmentLoopLoading(Xt,lt,De,"main",Bt)}Xt&&(Xt.initSegment&&!Xt.initSegment.data&&!this.bitrateTest&&(Xt=Xt.initSegment),this.loadFragment(Xt,te,jt))}loadFragment(r,l,h){const M=this.fragmentTracker.getState(r);this.fragCurrent=r,"NOT_LOADED"===M||"PARTIAL"===M?"initSegment"===r.sn?this._loadInitSegment(r,l):this.bitrateTest?(this.log(`Fragment ${r.sn} of level ${r.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(r,l)):(this.startFragRequested=!0,super.loadFragment(r,l,h)):this.clearTrackerIfNeeded(r)}getBufferedFrag(r){return this.fragmentTracker.getBufferedFrag(r,"main")}followingBufferedFrag(r){return r?this.getBufferedFrag(r.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:r,media:l}=this;if(null!=l&&l.readyState){let h;const M=this.getAppendedFrag(l.currentTime);M&&M.start>1&&this.flushMainBuffer(0,M.start-1);const k=this.getLevelDetails();if(null!=k&&k.live){const te=this.getMainFwdBufferInfo();if(!te||te.len<2*k.targetduration)return}if(!l.paused&&r){const Pe=this.fragLastKbps;h=Pe&&this.fragCurrent?this.fragCurrent.duration*r[this.hls.nextLoadLevel].maxBitrate/(1e3*Pe)+1:0}else h=0;const j=this.getBufferedFrag(l.currentTime+h);if(j){const te=this.followingBufferedFrag(j);if(te){this.abortCurrentFrag();const Pe=te.duration,lt=Math.max(j.end,(te.maxStartPTS?te.maxStartPTS:te.start)+Math.min(Math.max(Pe-this.config.maxFragLookUpTolerance,.5*Pe),.75*Pe));this.flushMainBuffer(lt,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const r=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,r&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(r,l){super.flushMainBuffer(r,l,this.altAudio?"video":null)}onMediaAttached(r,l){super.onMediaAttached(r,l);const h=l.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),h.addEventListener("playing",this.onvplaying),h.addEventListener("seeked",this.onvseeked),this.gapController=new mc(this.config,h,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:r}=this;r&&this.onvplaying&&this.onvseeked&&(r.removeEventListener("playing",this.onvplaying),r.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const r=this.media,l=r?r.currentTime:null;_(l)&&this.log(`Media seeked to ${l.toFixed(3)}`);const h=this.getMainFwdBufferInfo();null!==h&&0!==h.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${h?h.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(S.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(r,l){let k,h=!1,M=!1;l.levels.forEach(j=>{k=j.audioCodec,k&&(-1!==k.indexOf("mp4a.40.2")&&(h=!0),-1!==k.indexOf("mp4a.40.5")&&(M=!0))}),this.audioCodecSwitch=h&&M&&!function dl(){var V;const r=to();return"function"==typeof(null==r||null==(V=r.prototype)?void 0:V.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=l.levels,this.startFragRequested=!1}onLevelLoading(r,l){const{levels:h}=this;if(!h||"IDLE"!==this.state)return;const M=h[l.level];(!M.details||M.details.live&&this.levelLastLoaded!==l.level||this.waitForCdnTuneIn(M.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(r,l){var h;const{levels:M}=this,k=l.level,j=l.details,te=j.totalduration;if(!M)return void this.warn(`Levels were reset while loading level ${k}`);this.log(`Level ${k} loaded [${j.startSN},${j.endSN}]${j.lastPartSn?`[part-${j.lastPartSn}-${j.lastPartIndex}]`:""}, cc [${j.startCC}, ${j.endCC}] duration:${te}`);const De=M[k],Pe=this.fragCurrent;Pe&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(Pe.level!==l.level||Pe.urlId!==De.urlId)&&Pe.loader&&this.abortCurrentFrag();let lt=0;if(j.live||null!=(h=De.details)&&h.live){if(j.fragments[0]||(j.deltaUpdateFailed=!0),j.deltaUpdateFailed)return;lt=this.alignPlaylists(j,De.details)}if(De.details=j,this.levelLastLoaded=k,this.hls.trigger(S.LEVEL_UPDATED,{details:j,level:k}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(j))return;this.state="IDLE"}this.startFragRequested?j.live&&this.synchronizeToLiveEdge(j):this.setStartPosition(j,lt),this.tick()}_handleFragmentLoadProgress(r){var l;const{frag:h,part:M,payload:k}=r,{levels:j}=this;if(!j)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${h.sn} of level ${h.level} will not be buffered`);const te=j[h.level],De=te.details;if(!De)return this.warn(`Dropping fragment ${h.sn} of level ${h.level} after level details were reset`),void this.fragmentTracker.removeFragment(h);const Pe=te.videoCodec,lt=De.PTSKnown||!De.live,pt=null==(l=h.initSegment)?void 0:l.data,Bt=this._getAudioCodec(te),jt=this.transmuxer=this.transmuxer||new rl(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Xt=M?M.index:-1,bn=new Uo(h.level,h.sn,h.stats.chunkCount,k.byteLength,Xt,-1!==Xt);jt.push(k,pt,Bt,Pe,h,M,De.totalduration,lt,bn,this.initPTS[h.cc])}onAudioTrackSwitching(r,l){const h=this.altAudio;if(!l.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const j=this.fragCurrent;j&&(this.log("Switching to main audio track, cancel main fragment load"),j.abortRequests(),this.fragmentTracker.removeFragment(j)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const k=this.hls;h&&(k.trigger(S.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),k.trigger(S.AUDIO_TRACK_SWITCHED,l)}}onAudioTrackSwitched(r,l){const M=!!this.hls.audioTracks[l.id].url;if(M){const k=this.videoBuffer;k&&this.mediaBuffer!==k&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=k)}this.altAudio=M,this.tick()}onBufferCreated(r,l){const h=l.tracks;let M,k,j=!1;for(const te in h){const De=h[te];if("main"===De.id){if(k=te,M=De,"video"===te){const Pe=h[te];Pe&&(this.videoBuffer=Pe.buffer)}}else j=!0}j&&M?(this.log(`Alternate track found, use ${k}.buffered to schedule main fragment loading`),this.mediaBuffer=M.buffer):this.mediaBuffer=this.media}onFragBuffered(r,l){const{frag:h,part:M}=l;if(h&&"main"!==h.type)return;if(this.fragContextChanged(h))return this.warn(`Fragment ${h.sn}${M?" p: "+M.index:""} of level ${h.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const k=M?M.stats:h.stats;this.fragLastKbps=Math.round(8*k.total/(k.buffering.end-k.loading.first)),"initSegment"!==h.sn&&(this.fragPrevious=h),this.fragBufferedComplete(h,M)}onError(r,l){var h;if(l.fatal)this.state="ERROR";else switch(l.details){case A.FRAG_GAP:case A.FRAG_PARSING_ERROR:case A.FRAG_DECRYPT_ERROR:case A.FRAG_LOAD_ERROR:case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_ERROR:case A.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",l);break;case A.LEVEL_LOAD_ERROR:case A.LEVEL_LOAD_TIMEOUT:case A.LEVEL_PARSING_ERROR:!l.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(h=l.context)?void 0:h.type)&&(this.state="IDLE");break;case A.BUFFER_FULL_ERROR:if(!l.parent||"main"!==l.parent)return;this.reduceLengthAndFlushBuffer(l)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case A.INTERNAL_EXCEPTION:this.recoverWorkerError(l)}}checkBuffer(){const{media:r,gapController:l}=this;r&&l&&r.readyState&&(!this.loadedmetadata&&Br.getBuffered(r).length||l.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=r.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(r,{type:l}){("audio"!==l||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===l?this.videoBuffer:this.mediaBuffer)||this.media,l,"main")}onLevelsUpdated(r,l){this.levels=l.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:r}=this;if(!r)return;const l=r.currentTime;let h=this.startPosition;if(h>=0&&l<h){if(r.seeking)return void this.log(`could not seek to ${h}, already seeking at ${l}`);const M=Br.getBuffered(r),j=(M.length?M.start(0):0)-h;j>0&&(j<this.config.maxBufferHole||j<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${j} to match buffer start`),h+=j,this.startPosition=h),this.log(`seek to target start position ${h} from current time ${l}`),r.currentTime=h}}_getAudioCodec(r){let l=this.config.defaultAudioCodec||r.audioCodec;return this.audioCodecSwap&&l&&(this.log("Swapping audio codec"),l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),l}_loadBitrateTestFrag(r,l){r.bitrateTest=!0,this._doFragLoad(r,l).then(h=>{const{hls:M}=this;if(!h||this.fragContextChanged(r))return;l.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const k=r.stats;k.parsing.start=k.parsing.end=k.buffering.start=k.buffering.end=self.performance.now(),M.trigger(S.FRAG_LOADED,h),r.bitrateTest=!1})}_handleTransmuxComplete(r){var l;const h="main",{hls:M}=this,{remuxResult:k,chunkMeta:j}=r,te=this.getCurrentContext(j);if(!te)return void this.resetWhenMissingContext(j);const{frag:De,part:Pe,level:lt}=te,{video:pt,text:Bt,id3:jt,initSegment:Xt}=k,{details:cn}=lt,bn=this.altAudio?void 0:k.audio;if(this.fragContextChanged(De))this.fragmentTracker.removeFragment(De);else{if(this.state="PARSING",Xt){if(null!=Xt&&Xt.tracks){const zn=De.initSegment||De;this._bufferInitSegment(lt,Xt.tracks,zn,j),M.trigger(S.FRAG_PARSING_INIT_SEGMENT,{frag:zn,id:h,tracks:Xt.tracks})}const Bn=Xt.initPTS,ti=Xt.timescale;_(Bn)&&(this.initPTS[De.cc]={baseTime:Bn,timescale:ti},M.trigger(S.INIT_PTS_FOUND,{frag:De,id:h,initPTS:Bn,timescale:ti}))}if(pt&&cn&&"initSegment"!==De.sn){const Bn=cn.fragments[De.sn-1-cn.startSN],ti=De.sn===cn.startSN,zn=!Bn||De.cc>Bn.cc;if(!1!==k.independent){const{startPTS:ui,endPTS:oi,startDTS:Ai,endDTS:hi}=pt;if(Pe)Pe.elementaryStreams[pt.type]={startPTS:ui,endPTS:oi,startDTS:Ai,endDTS:hi};else if(pt.firstKeyFrame&&pt.independent&&1===j.id&&!zn&&(this.couldBacktrack=!0),pt.dropped&&pt.independent){const Di=this.getMainFwdBufferInfo(),wi=(Di?Di.end:this.getLoadPosition())+this.config.maxBufferHole;if(!ti&&wi<(pt.firstKeyFramePTS?pt.firstKeyFramePTS:ui)-this.config.maxBufferHole&&!zn)return void this.backtrack(De);zn&&(De.gap=!0),De.setElementaryStreamInfo(pt.type,De.start,oi,De.start,hi,!0)}De.setElementaryStreamInfo(pt.type,ui,oi,Ai,hi),this.backtrackFragment&&(this.backtrackFragment=De),this.bufferFragmentData(pt,De,Pe,j,ti||zn)}else{if(!ti&&!zn)return void this.backtrack(De);De.gap=!0}}if(bn){const{startPTS:Bn,endPTS:ti,startDTS:zn,endDTS:ui}=bn;Pe&&(Pe.elementaryStreams.audio={startPTS:Bn,endPTS:ti,startDTS:zn,endDTS:ui}),De.setElementaryStreamInfo("audio",Bn,ti,zn,ui),this.bufferFragmentData(bn,De,Pe,j)}cn&&null!=jt&&null!=(l=jt.samples)&&l.length&&M.trigger(S.FRAG_PARSING_METADATA,{id:h,frag:De,details:cn,samples:jt.samples}),cn&&Bt&&M.trigger(S.FRAG_PARSING_USERDATA,{id:h,frag:De,details:cn,samples:Bt.samples})}}_bufferInitSegment(r,l,h,M){if("PARSING"!==this.state)return;this.audioOnly=!!l.audio&&!l.video,this.altAudio&&!this.audioOnly&&delete l.audio;const{audio:k,video:j,audiovideo:te}=l;if(k){let De=r.audioCodec;const Pe=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(De&&(De=-1!==De.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==k.metadata.channelCount&&-1===Pe.indexOf("firefox")&&(De="mp4a.40.5")),-1!==Pe.indexOf("android")&&"audio/mpeg"!==k.container&&(De="mp4a.40.2",this.log(`Android: force audio codec to ${De}`)),r.audioCodec&&r.audioCodec!==De&&this.log(`Swapping manifest audio codec "${r.audioCodec}" for "${De}"`),k.levelCodec=De,k.id="main",this.log(`Init audio buffer, container:${k.container}, codecs[selected/level/parsed]=[${De||""}/${r.audioCodec||""}/${k.codec}]`)}j&&(j.levelCodec=r.videoCodec,j.id="main",this.log(`Init video buffer, container:${j.container}, codecs[level/parsed]=[${r.videoCodec||""}/${j.codec}]`)),te&&this.log(`Init audiovideo buffer, container:${te.container}, codecs[level/parsed]=[${r.attrs.CODECS||""}/${te.codec}]`),this.hls.trigger(S.BUFFER_CODECS,l),Object.keys(l).forEach(De=>{const lt=l[De].initSegment;null!=lt&&lt.byteLength&&this.hls.trigger(S.BUFFER_APPENDING,{type:De,data:lt,frag:h,part:null,chunkMeta:M,parent:h.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(r){this.couldBacktrack=!0,this.backtrackFragment=r,this.resetTransmuxer(),this.flushBufferGap(r),this.fragmentTracker.removeFragment(r),this.fragPrevious=null,this.nextLoadPosition=r.start,this.state="IDLE"}checkFragmentChanged(){const r=this.media;let l=null;if(r&&r.readyState>1&&!1===r.seeking){const h=r.currentTime;if(Br.isBuffered(r,h)?l=this.getAppendedFrag(h):Br.isBuffered(r,h+.1)&&(l=this.getAppendedFrag(h+.1)),l){this.backtrackFragment=null;const M=this.fragPlaying,k=l.level;(!M||l.sn!==M.sn||M.level!==k||l.urlId!==M.urlId)&&(this.fragPlaying=l,this.hls.trigger(S.FRAG_CHANGED,{frag:l}),(!M||M.level!==k)&&this.hls.trigger(S.LEVEL_SWITCHED,{level:k}))}}}get nextLevel(){const r=this.nextBufferedFrag;return r?r.level:-1}get currentFrag(){const r=this.media;return r?this.fragPlaying||this.getAppendedFrag(r.currentTime):null}get currentProgramDateTime(){const r=this.media;if(r){const l=r.currentTime,h=this.currentFrag;if(h&&_(l)&&_(h.programDateTime))return new Date(h.programDateTime+1e3*(l-h.start))}return null}get currentLevel(){const r=this.currentFrag;return r?r.level:-1}get nextBufferedFrag(){const r=this.currentFrag;return r?this.followingBufferedFrag(r):null}get forceStartLoad(){return this._forceStartLoad}}class zs{constructor(r,l=0,h=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=r,this.alpha_=r?Math.exp(Math.log(.5)/r):0,this.estimate_=l,this.totalWeight_=h}sample(r,l){const h=Math.pow(this.alpha_,r);this.estimate_=l*(1-h)+h*this.estimate_,this.totalWeight_+=r}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const r=1-Math.pow(this.alpha_,this.totalWeight_);if(r)return this.estimate_/r}return this.estimate_}}class Tl{constructor(r,l,h,M=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=h,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new zs(r),this.fast_=new zs(l),this.defaultTTFB_=M,this.ttfb_=new zs(r)}update(r,l){const{slow_:h,fast_:M,ttfb_:k}=this;h.halfLife!==r&&(this.slow_=new zs(r,h.getEstimate(),h.getTotalWeight())),M.halfLife!==l&&(this.fast_=new zs(l,M.getEstimate(),M.getTotalWeight())),k.halfLife!==r&&(this.ttfb_=new zs(r,k.getEstimate(),k.getTotalWeight()))}sample(r,l){const M=(r=Math.max(r,this.minDelayMs_))/1e3,k=8*l/M;this.fast_.sample(M,k),this.slow_.sample(M,k)}sampleTTFB(r){const l=r/1e3,h=Math.sqrt(2)*Math.exp(-Math.pow(l,2)/2);this.ttfb_.sample(h,Math.max(r,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class Kl{constructor(){this.chunks=[],this.dataLength=0}push(r){this.chunks.push(r),this.dataLength+=r.length}flush(){const{chunks:r,dataLength:l}=this;let h;return r.length?(h=1===r.length?r[0]:function pc(V,r){const l=new Uint8Array(r);let h=0;for(let M=0;M<V.length;M++){const k=V[M];l.set(k,h),h+=k.length}return l}(r,l),this.reset(),h):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Wl(V,r){if(V.length!==r.length)return!1;for(let l=0;l<V.length;l++)if(!Ue(V[l].attrs,r[l].attrs))return!1;return!0}function Ue(V,r){const l=V["STABLE-RENDITION-ID"];return l?l===r["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(h=>V[h]!==r[h])}class nt{constructor(r){this.buffered=void 0;const l=(h,M,k)=>{if((M>>>=0)>k-1)throw new DOMException(`Failed to execute '${h}' on 'TimeRanges': The index provided (${M}) is greater than the maximum bound (${k})`);return r[M][h]};this.buffered={get length(){return r.length},end:h=>l("end",h,r.length),start:h=>l("start",h,r.length)}}}function sn(V){const r=[];for(let l=0;l<V.length;l++){const h=V[l];("subtitles"===h.kind||"captions"===h.kind)&&h.label&&r.push(V[l])}return r}class dn{constructor(r){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=r}append(r,l){const h=this.queues[l];h.push(r),1===h.length&&this.buffers[l]&&this.executeNext(l)}insertAbort(r,l){this.queues[l].unshift(r),this.executeNext(l)}appendBlocker(r){let l;const h=new Promise(k=>{l=k});return this.append({execute:l,onStart:()=>{},onComplete:()=>{},onError:()=>{}},r),h}executeNext(r){const{buffers:l,queues:h}=this,M=l[r],k=h[r];if(k.length){const j=k[0];try{j.execute()}catch(te){y.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),j.onError(te),null!=M&&M.updating||(k.shift(),this.executeNext(r))}}}shiftAndExecuteNext(r){this.queues[r].shift(),this.executeNext(r)}current(r){return this.queues[r][0]}}const Vn=xn(),pi=/([ha]vc.)(?:\.[^.,]+)+/,Ni={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},br=function(r){let l=r;return Ni.hasOwnProperty(r)&&(l=Ni[r]),String.fromCharCode(l)},oo=100,$o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},fs={17:2,18:4,21:6,22:8,23:10,19:13,20:15},is={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ya={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Sl=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class aa{constructor(){this.time=null,this.verboseLevel=0}log(r,l){if(this.verboseLevel>=r){const h="function"==typeof l?l():l;y.log(`${this.time} [${r}] ${h}`)}}}const hs=function(r){const l=[];for(let h=0;h<r.length;h++)l.push(r[h].toString(16));return l};class Cl{constructor(r,l,h,M,k){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=r||"white",this.underline=l||!1,this.italics=h||!1,this.background=M||"black",this.flash=k||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(r){const l=["foreground","underline","italics","background","flash"];for(let h=0;h<l.length;h++){const M=l[h];r.hasOwnProperty(M)&&(this[M]=r[M])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(r){return this.foreground===r.foreground&&this.underline===r.underline&&this.italics===r.italics&&this.background===r.background&&this.flash===r.flash}copy(r){this.foreground=r.foreground,this.underline=r.underline,this.italics=r.italics,this.background=r.background,this.flash=r.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class _c{constructor(r,l,h,M,k,j){this.uchar=void 0,this.penState=void 0,this.uchar=r||" ",this.penState=new Cl(l,h,M,k,j)}reset(){this.uchar=" ",this.penState.reset()}setChar(r,l){this.uchar=r,this.penState.copy(l)}setPenState(r){this.penState.copy(r)}equals(r){return this.uchar===r.uchar&&this.penState.equals(r.penState)}copy(r){this.uchar=r.uchar,this.penState.copy(r.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class wr{constructor(r){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let l=0;l<oo;l++)this.chars.push(new _c);this.logger=r,this.pos=0,this.currPenState=new Cl}equals(r){let l=!0;for(let h=0;h<oo;h++)if(!this.chars[h].equals(r.chars[h])){l=!1;break}return l}copy(r){for(let l=0;l<oo;l++)this.chars[l].copy(r.chars[l])}isEmpty(){let r=!0;for(let l=0;l<oo;l++)if(!this.chars[l].isEmpty()){r=!1;break}return r}setCursor(r){this.pos!==r&&(this.pos=r),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>oo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=oo)}moveCursor(r){const l=this.pos+r;if(r>1)for(let h=this.pos+1;h<l+1;h++)this.chars[h].setPenState(this.currPenState);this.setCursor(l)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(r){r>=144&&this.backSpace();const l=br(r);this.pos>=oo?this.logger.log(0,()=>"Cannot insert "+r.toString(16)+" ("+l+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(l,this.currPenState),this.moveCursor(1))}clearFromPos(r){let l;for(l=r;l<oo;l++)this.chars[l].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const r=[];let l=!0;for(let h=0;h<oo;h++){const M=this.chars[h].uchar;" "!==M&&(l=!1),r.push(M)}return l?"":r.join("")}setPenStyles(r){this.currPenState.setStyles(r),this.chars[this.pos].setPenState(this.currPenState)}}class vc{constructor(r){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let l=0;l<15;l++)this.rows.push(new wr(r));this.logger=r,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let r=0;r<15;r++)this.rows[r].clear();this.currRow=14}equals(r){let l=!0;for(let h=0;h<15;h++)if(!this.rows[h].equals(r.rows[h])){l=!1;break}return l}copy(r){for(let l=0;l<15;l++)this.rows[l].copy(r.rows[l])}isEmpty(){let r=!0;for(let l=0;l<15;l++)if(!this.rows[l].isEmpty()){r=!1;break}return r}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(r){this.rows[this.currRow].insertChar(r)}setPen(r){this.rows[this.currRow].setPenStyles(r)}moveCursor(r){this.rows[this.currRow].moveCursor(r)}setCursor(r){this.logger.log(2,"setCursor: "+r),this.rows[this.currRow].setCursor(r)}setPAC(r){this.logger.log(2,()=>"pacData = "+JSON.stringify(r));let l=r.row-1;if(this.nrRollUpRows&&l<this.nrRollUpRows-1&&(l=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==l){for(let te=0;te<15;te++)this.rows[te].clear();const k=this.currRow+1-this.nrRollUpRows,j=this.lastOutputScreen;if(j){const te=j.rows[k].cueStartTime,De=this.logger.time;if(te&&null!==De&&te<De)for(let Pe=0;Pe<this.nrRollUpRows;Pe++)this.rows[l-this.nrRollUpRows+Pe+1].copy(j.rows[k+Pe])}}this.currRow=l;const h=this.rows[this.currRow];if(null!==r.indent){const j=Math.max(r.indent-1,0);h.setCursor(r.indent),r.color=h.chars[j].penState.foreground}this.setPen({foreground:r.color,underline:r.underline,italics:r.italics,background:"black",flash:!1})}setBkgData(r){this.logger.log(2,()=>"bkgData = "+JSON.stringify(r)),this.backSpace(),this.setPen(r),this.insertChar(32)}setRollUpRows(r){this.nrRollUpRows=r}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const l=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];l.clear(),this.rows.splice(this.currRow,0,l),this.logger.log(2,"Rolling up")}getDisplayText(r){r=r||!1;const l=[];let h="",M=-1;for(let k=0;k<15;k++){const j=this.rows[k].getTextString();j&&(M=k+1,l.push(r?"Row "+M+": '"+j+"'":j.trim()))}return l.length>0&&(h=r?"["+l.join(" | ")+"]":l.join("\n")),h}getTextAndFormat(){return this.rows}}class yc{constructor(r,l,h){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=r,this.outputFilter=l,this.mode=null,this.verbose=0,this.displayedMemory=new vc(h),this.nonDisplayedMemory=new vc(h),this.lastOutputScreen=new vc(h),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=h}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(r){this.outputFilter=r}setPAC(r){this.writeScreen.setPAC(r)}setBkgData(r){this.writeScreen.setBkgData(r)}setMode(r){r!==this.mode&&(this.mode=r,this.logger.log(2,()=>"MODE="+r),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=r)}insertChars(r){for(let h=0;h<r.length;h++)this.writeScreen.insertChar(r[h]);const l=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>l+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(r){this.logger.log(2,"RU("+r+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(r)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const r=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=r,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(r){this.logger.log(2,"TO("+r+") - Tab Offset"),this.writeScreen.moveCursor(r)}ccMIDROW(r){const l={flash:!1};if(l.underline=r%2==1,l.italics=r>=46,l.italics)l.foreground="white";else{const h=Math.floor(r/2)-16;l.foreground=["white","green","blue","cyan","red","yellow","magenta"][h]}this.logger.log(2,"MIDROW: "+JSON.stringify(l)),this.writeScreen.setPen(l)}outputDataUpdate(r=!1){const l=this.logger.time;null!==l&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,l,this.lastOutputScreen),r&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:l):this.cueStartTime=l,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(r){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,r,this.displayedMemory),this.cueStartTime=r))}}class Nl{constructor(r,l,h){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const M=new aa;this.channels=[null,new yc(r,l,M),new yc(r+1,h,M)],this.cmdHistory={a:null,b:null},this.logger=M}getHandler(r){return this.channels[r].getHandler()}setHandler(r,l){this.channels[r].setHandler(l)}addData(r,l){let h,M,k,j=!1;this.logger.time=r;for(let te=0;te<l.length;te+=2)if(M=127&l[te],k=127&l[te+1],0!==M||0!==k){if(this.logger.log(3,"["+hs([l[te],l[te+1]])+"] -> ("+hs([M,k])+")"),h=this.parseCmd(M,k),h||(h=this.parseMidrow(M,k)),h||(h=this.parsePAC(M,k)),h||(h=this.parseBackgroundAttributes(M,k)),!h&&(j=this.parseChars(M,k),j)){const De=this.currentChannel;De&&De>0?this.channels[De].insertChars(j):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!h&&!j&&this.logger.log(2,"Couldn't parse cleaned data "+hs([M,k])+" orig: "+hs([l[te],l[te+1]]))}}parseCmd(r,l){const{cmdHistory:h}=this;if(!((20===r||28===r||21===r||29===r)&&l>=32&&l<=47||(23===r||31===r)&&l>=33&&l<=35))return!1;if(La(r,l,h))return Jo(null,null,h),this.logger.log(3,"Repeated command ("+hs([r,l])+") is dropped"),!0;const j=20===r||21===r||23===r?1:2,te=this.channels[j];return 20===r||21===r||28===r||29===r?32===l?te.ccRCL():33===l?te.ccBS():34===l?te.ccAOF():35===l?te.ccAON():36===l?te.ccDER():37===l?te.ccRU(2):38===l?te.ccRU(3):39===l?te.ccRU(4):40===l?te.ccFON():41===l?te.ccRDC():42===l?te.ccTR():43===l?te.ccRTD():44===l?te.ccEDM():45===l?te.ccCR():46===l?te.ccENM():47===l&&te.ccEOC():te.ccTO(l-32),Jo(r,l,h),this.currentChannel=j,!0}parseMidrow(r,l){let h=0;if((17===r||25===r)&&l>=32&&l<=47){if(h=17===r?1:2,h!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const M=this.channels[h];return!!M&&(M.ccMIDROW(l),this.logger.log(3,"MIDROW ("+hs([r,l])+")"),!0)}return!1}parsePAC(r,l){let h;const M=this.cmdHistory;if(!((r>=17&&r<=23||r>=25&&r<=31)&&l>=64&&l<=127||(16===r||24===r)&&l>=64&&l<=95))return!1;if(La(r,l,M))return Jo(null,null,M),!0;const te=r<=23?1:2;h=l>=64&&l<=95?1===te?$o[r]:is[r]:1===te?fs[r]:Ya[r];const De=this.channels[te];return!!De&&(De.setPAC(this.interpretPAC(h,l)),Jo(r,l,M),this.currentChannel=te,!0)}interpretPAC(r,l){let h;const M={color:null,italics:!1,indent:null,underline:!1,row:r};return h=l>95?l-96:l-64,M.underline=1==(1&h),h<=13?M.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(h/2)]:h<=15?(M.italics=!0,M.color="white"):M.indent=4*Math.floor((h-16)/2),M}parseChars(r,l){let h,M=null,k=null;if(r>=25?(h=2,k=r-8):(h=1,k=r),k>=17&&k<=19){let j;j=17===k?l+80:18===k?l+112:l+144,this.logger.log(2,"Special char '"+br(j)+"' in channel "+h),M=[j]}else r>=32&&r<=127&&(M=0===l?[r]:[r,l]);if(M){const j=hs(M);this.logger.log(3,"Char codes =  "+j.join(",")),Jo(r,l,this.cmdHistory)}return M}parseBackgroundAttributes(r,l){if(!((16===r||24===r)&&l>=32&&l<=47||(23===r||31===r)&&l>=45&&l<=47))return!1;let k;const j={};return 16===r||24===r?(k=Math.floor((l-32)/2),j.background=Sl[k],l%2==1&&(j.background=j.background+"_semi")):45===l?j.background="transparent":(j.foreground="black",47===l&&(j.underline=!0)),this.channels[r<=23?1:2].setBkgData(j),Jo(r,l,this.cmdHistory),!0}reset(){for(let r=0;r<Object.keys(this.channels).length;r++){const l=this.channels[r];l&&l.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(r){for(let l=0;l<this.channels.length;l++){const h=this.channels[l];h&&h.cueSplitAtTime(r)}}}function Jo(V,r,l){l.a=V,l.b=r}function La(V,r,l){return l.a===V&&l.b===r}class Ms{constructor(r,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=r,this.trackName=l}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(r,l,h){(null===this.startTime||this.startTime>r)&&(this.startTime=r),this.endTime=l,this.screen=h,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var zl=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const V=["","lr","rl"],r=["start","middle","end","left","right"];function l(te,De){if("string"!=typeof De||!Array.isArray(te))return!1;const Pe=De.toLowerCase();return!!~te.indexOf(Pe)&&Pe}function M(te){return l(r,te)}function k(te,...De){let Pe=1;for(;Pe<arguments.length;Pe++){const lt=arguments[Pe];for(const pt in lt)te[pt]=lt[pt]}return te}function j(te,De,Pe){const lt=this,pt={enumerable:!0};lt.hasBeenReset=!1;let Bt="",jt=!1,Xt=te,cn=De,bn=Pe,Bn=null,ti="",zn=!0,ui="auto",oi="start",Ai=50,hi="middle",Di=50,wi="middle";Object.defineProperty(lt,"id",k({},pt,{get:function(){return Bt},set:function(ci){Bt=""+ci}})),Object.defineProperty(lt,"pauseOnExit",k({},pt,{get:function(){return jt},set:function(ci){jt=!!ci}})),Object.defineProperty(lt,"startTime",k({},pt,{get:function(){return Xt},set:function(ci){if("number"!=typeof ci)throw new TypeError("Start time must be set to a number.");Xt=ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"endTime",k({},pt,{get:function(){return cn},set:function(ci){if("number"!=typeof ci)throw new TypeError("End time must be set to a number.");cn=ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"text",k({},pt,{get:function(){return bn},set:function(ci){bn=""+ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"region",k({},pt,{get:function(){return Bn},set:function(ci){Bn=ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"vertical",k({},pt,{get:function(){return ti},set:function(ci){const Ui=function h(te){return l(V,te)}(ci);if(!1===Ui)throw new SyntaxError("An invalid or illegal string was specified.");ti=Ui,this.hasBeenReset=!0}})),Object.defineProperty(lt,"snapToLines",k({},pt,{get:function(){return zn},set:function(ci){zn=!!ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"line",k({},pt,{get:function(){return ui},set:function(ci){if("number"!=typeof ci&&"auto"!==ci)throw new SyntaxError("An invalid number or illegal string was specified.");ui=ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"lineAlign",k({},pt,{get:function(){return oi},set:function(ci){const Ui=M(ci);if(!Ui)throw new SyntaxError("An invalid or illegal string was specified.");oi=Ui,this.hasBeenReset=!0}})),Object.defineProperty(lt,"position",k({},pt,{get:function(){return Ai},set:function(ci){if(ci<0||ci>100)throw new Error("Position must be between 0 and 100.");Ai=ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"positionAlign",k({},pt,{get:function(){return hi},set:function(ci){const Ui=M(ci);if(!Ui)throw new SyntaxError("An invalid or illegal string was specified.");hi=Ui,this.hasBeenReset=!0}})),Object.defineProperty(lt,"size",k({},pt,{get:function(){return Di},set:function(ci){if(ci<0||ci>100)throw new Error("Size must be between 0 and 100.");Di=ci,this.hasBeenReset=!0}})),Object.defineProperty(lt,"align",k({},pt,{get:function(){return wi},set:function(ci){const Ui=M(ci);if(!Ui)throw new SyntaxError("An invalid or illegal string was specified.");wi=Ui,this.hasBeenReset=!0}})),lt.displayState=void 0}return j.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},j}();class Dl{decode(r,l){if(!r)return"";if("string"!=typeof r)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}function za(V){function r(h,M,k,j){return 3600*(0|h)+60*(0|M)+(0|k)+parseFloat(j||0)}const l=V.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return l?parseFloat(l[2])>59?r(l[2],l[3],0,l[4]):r(l[1],l[2],l[3],l[4]):null}class Zl{constructor(){this.values=Object.create(null)}set(r,l){!this.get(r)&&""!==l&&(this.values[r]=l)}get(r,l,h){return h?this.has(r)?this.values[r]:l[h]:this.has(r)?this.values[r]:l}has(r){return r in this.values}alt(r,l,h){for(let M=0;M<h.length;++M)if(l===h[M]){this.set(r,l);break}}integer(r,l){/^-?\d+$/.test(l)&&this.set(r,parseInt(l,10))}percent(r,l){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(l)){const h=parseFloat(l);if(h>=0&&h<=100)return this.set(r,h),!0}return!1}}function $l(V,r,l,h){const M=h?V.split(h):[V];for(const k in M){if("string"!=typeof M[k])continue;const j=M[k].split(l);2===j.length&&r(j[0],j[1])}}const Bs=new zl(0,0,""),ka="middle"===Bs.align?"middle":"center";function ld(V,r,l){const h=V;function M(){const te=za(V);if(null===te)throw new Error("Malformed timestamp: "+h);return V=V.replace(/^[^\sa-zA-Z-]+/,""),te}function j(){V=V.replace(/^\s+/,"")}if(j(),r.startTime=M(),j(),"--\x3e"!==V.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+h);V=V.slice(3),j(),r.endTime=M(),j(),function k(te,De){const Pe=new Zl;$l(te,function(Bt,jt){let Xt;switch(Bt){case"region":for(let cn=l.length-1;cn>=0;cn--)if(l[cn].id===jt){Pe.set(Bt,l[cn].region);break}break;case"vertical":Pe.alt(Bt,jt,["rl","lr"]);break;case"line":Xt=jt.split(","),Pe.integer(Bt,Xt[0]),Pe.percent(Bt,Xt[0])&&Pe.set("snapToLines",!1),Pe.alt(Bt,Xt[0],["auto"]),2===Xt.length&&Pe.alt("lineAlign",Xt[1],["start",ka,"end"]);break;case"position":Xt=jt.split(","),Pe.percent(Bt,Xt[0]),2===Xt.length&&Pe.alt("positionAlign",Xt[1],["start",ka,"end","line-left","line-right","auto"]);break;case"size":Pe.percent(Bt,jt);break;case"align":Pe.alt(Bt,jt,["start",ka,"end","left","right"])}},/:/,/\s/),De.region=Pe.get("region",null),De.vertical=Pe.get("vertical","");let lt=Pe.get("line","auto");"auto"===lt&&-1===Bs.line&&(lt=-1),De.line=lt,De.lineAlign=Pe.get("lineAlign","start"),De.snapToLines=Pe.get("snapToLines",!0),De.size=Pe.get("size",100),De.align=Pe.get("align",ka);let pt=Pe.get("position","auto");"auto"===pt&&50===Bs.position&&(pt="start"===De.align||"left"===De.align?0:"end"===De.align||"right"===De.align?100:50),De.position=pt}(V,r)}function ms(V){return V.replace(/<br(?: \/)?>/gi,"\n")}class bc{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Dl,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(r){const l=this;function h(){let k=l.buffer,j=0;for(k=ms(k);j<k.length&&"\r"!==k[j]&&"\n"!==k[j];)++j;const te=k.slice(0,j);return"\r"===k[j]&&++j,"\n"===k[j]&&++j,l.buffer=k.slice(j),te}function M(k){$l(k,function(j,te){},/:/)}r&&(l.buffer+=l.decoder.decode(r,{stream:!0}));try{let k="";if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;k=h();const te=k.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==te||!te[0])throw new Error("Malformed WebVTT signature.");l.state="HEADER"}let j=!1;for(;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(j?j=!1:k=h(),l.state){case"HEADER":/:/.test(k)?M(k):k||(l.state="ID");continue;case"NOTE":k||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(k)){l.state="NOTE";break}if(!k)continue;if(l.cue=new zl(0,0,""),l.state="CUE",-1===k.indexOf("--\x3e")){l.cue.id=k;continue}case"CUE":if(!l.cue){l.state="BADCUE";continue}try{ld(k,l.cue,l.regionList)}catch{l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":{const te=-1!==k.indexOf("--\x3e");if(!k||te&&(j=!0)){l.oncue&&l.cue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}if(null===l.cue)continue;l.cue.text&&(l.cue.text+="\n"),l.cue.text+=k}continue;case"BADCUE":k||(l.state="ID")}}}catch{"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this}flush(){const r=this;try{if((r.cue||"HEADER"===r.state)&&(r.buffer+="\n\n",r.parse()),"INITIAL"===r.state||"BADWEBVTT"===r.state)throw new Error("Malformed WebVTT signature.")}catch(l){r.onparsingerror&&r.onparsingerror(l)}return r.onflush&&r.onflush(),this}}const Ll=/\r\n|\n\r|\n|\r/g,ol=function(r,l,h=0){return r.slice(h,h+l.length)===l},Zs=function(r){let l=5381,h=r.length;for(;h;)l=33*l^r.charCodeAt(--h);return(l>>>0).toString()};function Jl(V,r,l){return Zs(V.toString())+Zs(r.toString())+Zs(l)}const Ql="stpp.ttml.im1t",Ec=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,kc=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Qc={left:"start",center:"center",right:"end",start:"start",end:"end"};function $s(V,r,l,h){const M=vt(new Uint8Array(V),["mdat"]);if(0===M.length)return void h(new Error("Could not parse IMSC1 mdat"));const k=M.map(te=>Qe(te)),j=function no(V,r,l=1,h=!1){return Jr(V,r,1/l,h)}(r.baseTime,1,r.timescale);try{k.forEach(te=>l(function Fa(V,r){const M=(new DOMParser).parseFromString(V,"text/xml").getElementsByTagName("tt")[0];if(!M)throw new Error("Invalid ttml");const k={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},j=Object.keys(k).reduce((pt,Bt)=>(pt[Bt]=M.getAttribute(`ttp:${Bt}`)||k[Bt],pt),{}),te="preserve"!==M.getAttribute("xml:space"),De=Al(Ml(M,"styling","style")),Pe=Al(Ml(M,"layout","region")),lt=Ml(M,"body","[begin]");return[].map.call(lt,pt=>{const Bt=Fl(pt,te);if(!Bt||!pt.hasAttribute("begin"))return null;const jt=Sc(pt.getAttribute("begin"),j),Xt=Sc(pt.getAttribute("dur"),j);let cn=Sc(pt.getAttribute("end"),j);if(null===jt)throw Tc(pt);if(null===cn){if(null===Xt)throw Tc(pt);cn=jt+Xt}const bn=new zl(jt-r,cn-r,Bt);bn.id=Jl(bn.startTime,bn.endTime,bn.text);const zn=function Bl(V,r,l){const h="http://www.w3.org/ns/ttml#styling";let M=null;const j=null!=V&&V.hasAttribute("style")?V.getAttribute("style"):null;return j&&l.hasOwnProperty(j)&&(M=l[j]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((te,De)=>{const Pe=Fc(r,h,De)||Fc(V,h,De)||Fc(M,h,De);return Pe&&(te[De]=Pe),te},{})}(Pe[pt.getAttribute("region")],De[pt.getAttribute("style")],De),{textAlign:ui}=zn;if(ui){const oi=Qc[ui];oi&&(bn.lineAlign=oi),bn.align=ui}return c(bn,zn),bn}).filter(pt=>null!==pt)}(te,j)))}catch(te){h(te)}}function Ml(V,r,l){const h=V.getElementsByTagName(r)[0];return h?[].slice.call(h.querySelectorAll(l)):[]}function Al(V){return V.reduce((r,l)=>{const h=l.getAttribute("xml:id");return h&&(r[h]=l),r},{})}function Fl(V,r){return[].slice.call(V.childNodes).reduce((l,h,M)=>{var k;return"br"===h.nodeName&&M?l+"\n":null!=(k=h.childNodes)&&k.length?Fl(h,r):r?l+h.textContent.trim().replace(/\s+/g," "):l+h.textContent},"")}function Fc(V,r,l){return V&&V.hasAttributeNS(r,l)?V.getAttributeNS(r,l):null}function Tc(V){return new Error(`Could not parse ttml timestamp ${V}`)}function Sc(V,r){if(!V)return null;let l=za(V);return null===l&&(Ec.test(V)?l=function qc(V,r){const l=Ec.exec(V);return 3600*(0|l[1])+60*(0|l[2])+(0|l[3])+((0|l[4])+(0|l[5])/r.subFrameRate)/r.frameRate}(V,r):kc.test(V)&&(l=function Xc(V,r){const l=kc.exec(V),h=Number(l[1]);switch(l[2]){case"h":return 3600*h;case"m":return 60*h;case"ms":return 1e3*h;case"f":return h/r.frameRate;case"t":return h/r.tickRate}return h}(V,r))),l}function Za(V,r){return!!V&&V.label===r.name&&!(V.textTrack1||V.textTrack2)}function Ba(V,r,l,h){return Math.min(r,h)-Math.max(V,l)}class Xl{constructor(r){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=r,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(r){this.streamController=r}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:r}=this;r.on(S.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.BUFFER_CODECS,this.onBufferCodecs,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:r}=this;r.off(S.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.BUFFER_CODECS,this.onBufferCodecs,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(r,l){const h=this.hls.levels[l.droppedLevel];this.isLevelAllowed(h)&&this.restrictedLevels.push({bitrate:h.bitrate,height:h.height,width:h.width})}onMediaAttaching(r,l){this.media=l.media instanceof HTMLVideoElement?l.media:null,this.clientRect=null}onManifestParsed(r,l){const h=this.hls;this.restrictedLevels=[],this.firstLevel=l.firstLevel,h.config.capLevelToPlayerSize&&l.video&&this.startCapping()}onBufferCodecs(r,l){this.hls.config.capLevelToPlayerSize&&l.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const r=this.hls.levels;if(r.length){const l=this.hls;l.autoLevelCapping=this.getMaxLevel(r.length-1),l.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=l.autoLevelCapping}}}getMaxLevel(r){const l=this.hls.levels;if(!l.length)return-1;const h=l.filter((M,k)=>this.isLevelAllowed(M)&&k<=r);return this.clientRect=null,Xl.getMaxLevelByMediaSize(h,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const r=this.media,l={width:0,height:0};if(r){const h=r.getBoundingClientRect();l.width=h.width,l.height=h.height,!l.width&&!l.height&&(l.width=h.right-h.left||r.width||0,l.height=h.bottom-h.top||r.height||0)}return this.clientRect=l,l}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let r=1;if(!this.hls.config.ignoreDevicePixelRatio)try{r=self.devicePixelRatio}catch{}return r}isLevelAllowed(r){return!this.restrictedLevels.some(h=>r.bitrate===h.bitrate&&r.width===h.width&&r.height===h.height)}static getMaxLevelByMediaSize(r,l,h){if(null==r||!r.length)return-1;const M=(j,te)=>!te||j.width!==te.width||j.height!==te.height;let k=r.length-1;for(let j=0;j<r.length;j+=1){const te=r[j];if((te.width>=l||te.height>=h)&&M(te,r[j+1])){k=j;break}}return k}}const $a="[eme]";let Cc=(()=>{class V{constructor(l){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=V.CDMCleanupPromise?[V.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=y.debug.bind(y,$a),this.log=y.log.bind(y,$a),this.warn=y.warn.bind(y,$a),this.error=y.error.bind(y,$a),this.hls=l,this.config=l.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const l=this.config;l.requestMediaKeySystemAccessFunc=null,l.licenseXhrSetup=l.licenseResponseCallback=void 0,l.drmSystems=l.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(S.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(S.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(S.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(S.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(l){const{drmSystems:h,widevineLicenseUrl:M}=this.config,k=h[l];if(k)return k.licenseUrl;if(l===Te.WIDEVINE&&M)return M;throw new Error(`no license server URL configured for key-system "${l}"`)}getServerCertificateUrl(l){const{drmSystems:h}=this.config,M=h[l];if(M)return M.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${l}"]`)}attemptKeySystemAccess(l){const h=this.hls.levels,M=(te,De,Pe)=>!!te&&Pe.indexOf(te)===De,k=h.map(te=>te.audioCodec).filter(M),j=h.map(te=>te.videoCodec).filter(M);return k.length+j.length===0&&j.push("avc1.42e01e"),new Promise((te,De)=>{const Pe=lt=>{const pt=lt.shift();this.getMediaKeysPromise(pt,k,j).then(Bt=>te({keySystem:pt,mediaKeys:Bt})).catch(Bt=>{lt.length?Pe(lt):De(Bt instanceof Js?Bt:new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_ACCESS,error:Bt,fatal:!0},Bt.message))})};Pe(l)})}requestMediaKeySystemAccess(l,h){const{requestMediaKeySystemAccessFunc:M}=this.config;if("function"!=typeof M){let k=`Configured requestMediaKeySystemAccess is not a function ${M}`;return null===Q&&"http:"===self.location.protocol&&(k=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(k))}return M(l,h)}getMediaKeysPromise(l,h,M){const k=function ie(V,r,l,h){let M;switch(V){case Te.FAIRPLAY:M=["cenc","sinf"];break;case Te.WIDEVINE:case Te.PLAYREADY:M=["cenc"];break;case Te.CLEARKEY:M=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${V}`)}return function ye(V,r,l,h){return[{initDataTypes:V,persistentState:h.persistentState||"not-allowed",distinctiveIdentifier:h.distinctiveIdentifier||"not-allowed",sessionTypes:h.sessionTypes||[h.sessionType||"temporary"],audioCapabilities:r.map(k=>({contentType:`audio/mp4; codecs="${k}"`,robustness:h.audioRobustness||"",encryptionScheme:h.audioEncryptionScheme||null})),videoCapabilities:l.map(k=>({contentType:`video/mp4; codecs="${k}"`,robustness:h.videoRobustness||"",encryptionScheme:h.videoEncryptionScheme||null}))}]}(M,r,l,h)}(l,h,M,this.config.drmSystemOptions),j=this.keySystemAccessPromises[l];let te=j?.keySystemAccess;if(!te){this.log(`Requesting encrypted media "${l}" key-system access with config: ${JSON.stringify(k)}`),te=this.requestMediaKeySystemAccess(l,k);const De=this.keySystemAccessPromises[l]={keySystemAccess:te};return te.catch(Pe=>{this.log(`Failed to obtain access to key-system "${l}": ${Pe}`)}),te.then(Pe=>{this.log(`Access for key-system "${Pe.keySystem}" obtained`);const lt=this.fetchServerCertificate(l);return this.log(`Create media-keys for "${l}"`),De.mediaKeys=Pe.createMediaKeys().then(pt=>(this.log(`Media-keys created for "${l}"`),lt.then(Bt=>Bt?this.setMediaKeysServerCertificate(pt,l,Bt):pt))),De.mediaKeys.catch(pt=>{this.error(`Failed to create media-keys for "${l}"}: ${pt}`)}),De.mediaKeys})}return te.then(()=>j.mediaKeys)}createMediaKeySessionContext({decryptdata:l,keySystem:h,mediaKeys:M}){this.log(`Creating key-system session "${h}" keyId: ${fe_hexDump(l.keyId||[])}`);const k=M.createSession(),j={decryptdata:l,keySystem:h,mediaKeys:M,mediaKeysSession:k,keyStatus:"status-pending"};return this.mediaKeySessions.push(j),j}renewKeySession(l){const h=l.decryptdata;if(h.pssh){const M=this.createMediaKeySessionContext(l),k=this.getKeyIdString(h);this.keyIdToKeySessionPromise[k]=this.generateRequestWithPreferredKeySession(M,"cenc",h.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(l)}getKeyIdString(l){if(!l)throw new Error("Could not read keyId of undefined decryptdata");if(null===l.keyId)throw new Error("keyId is null");return fe_hexDump(l.keyId)}updateKeySession(l,h){var M;const k=l.mediaKeysSession;return this.log(`Updating key-session "${k.sessionId}" for keyID ${fe_hexDump((null==(M=l.decryptdata)?void 0:M.keyId)||[])}\n      } (data length: ${h&&h.byteLength})`),k.update(h)}selectKeySystemFormat(l){const h=Object.keys(l.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${l.sn} ${l.type}: ${l.level}) key formats ${h.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(h)),this.keyFormatPromise}getKeyFormatPromise(l){return new Promise((h,M)=>{const k=be(this.config),j=l.map(je).filter(te=>!!te&&-1!==k.indexOf(te));return this.getKeySystemSelectionPromise(j).then(({keySystem:te})=>{const De=Re(te);De?h(De):M(new Error(`Unable to find format for key-system "${te}"`))}).catch(M)})}loadKey(l){const h=l.keyInfo.decryptdata,M=this.getKeyIdString(h),k=`(keyId: ${M} format: "${h.keyFormat}" method: ${h.method} uri: ${h.uri})`;this.log(`Starting session for key ${k}`);let j=this.keyIdToKeySessionPromise[M];return j||(j=this.keyIdToKeySessionPromise[M]=this.getKeySystemForKeyPromise(h).then(({keySystem:te,mediaKeys:De})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${l.frag.sn} ${l.frag.type}: ${l.frag.level} using key ${k}`),this.attemptSetMediaKeys(te,De).then(()=>{this.throwIfDestroyed();const Pe=this.createMediaKeySessionContext({keySystem:te,mediaKeys:De,decryptdata:h});return this.generateRequestWithPreferredKeySession(Pe,"cenc",h.pssh,"playlist-key")}))),j.catch(te=>this.handleError(te))),j}throwIfDestroyed(l="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(l){this.hls&&(this.error(l.message),this.hls.trigger(S.ERROR,l instanceof Js?l.data:{type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_KEYS,error:l,fatal:!0}))}getKeySystemForKeyPromise(l){const h=this.getKeyIdString(l),M=this.keyIdToKeySessionPromise[h];if(!M){const k=je(l.keyFormat),j=k?[k]:be(this.config);return this.attemptKeySystemAccess(j)}return M}getKeySystemSelectionPromise(l){if(l.length||(l=be(this.config)),0===l.length)throw new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(l)}_onMediaEncrypted(l){const{initDataType:h,initData:M}=l;if(this.debug(`"${l.type}" event: init data type: "${h}"`),null===M)return;let k,j;if("sinf"===h&&this.config.drmSystems[Te.FAIRPLAY]){const pt=Qt(new Uint8Array(M));try{const Bt=pe(JSON.parse(pt).sinf),jt=st(new Uint8Array(Bt));if(!jt)return;k=jt.subarray(8,24),j=Te.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const pt=function yn(V){if(!(V instanceof ArrayBuffer)||V.byteLength<32)return null;const r={version:0,systemId:"",kids:null,data:null},l=new DataView(V),h=l.getUint32(0);if(V.byteLength!==h&&h>44||1886614376!==l.getUint32(4)||(r.version=l.getUint32(8)>>>24,r.version>1))return null;r.systemId=fe_hexDump(new Uint8Array(V,12,16));const k=l.getUint32(28);if(0===r.version){if(h-32<k)return null;r.data=new Uint8Array(V,32,k)}else if(1===r.version){r.kids=[];for(let j=0;j<k;j++)r.kids.push(new Uint8Array(V,32+16*j,16))}return r}(M);if(null===pt)return;0===pt.version&&"edef8ba979d64acea3c827dcd51d21ed"===pt.systemId&&pt.data&&(k=pt.data.subarray(8,24)),j=function Ze(V){if("edef8ba979d64acea3c827dcd51d21ed"===V)return Te.WIDEVINE}(pt.systemId)}if(!j||!k)return;const te=fe_hexDump(k),{keyIdToKeySessionPromise:De,mediaKeySessions:Pe}=this;let lt=De[te];for(let pt=0;pt<Pe.length;pt++){const Bt=Pe[pt],jt=Bt.decryptdata;if(jt.pssh||!jt.keyId)continue;const Xt=fe_hexDump(jt.keyId);if(te===Xt||-1!==jt.uri.replace(/-/g,"").indexOf(te)){lt=De[Xt],delete De[Xt],jt.pssh=new Uint8Array(M),jt.keyId=k,lt=De[te]=lt.then(()=>this.generateRequestWithPreferredKeySession(Bt,h,M,"encrypted-event-key-match"));break}}lt||(lt=De[te]=this.getKeySystemSelectionPromise([j]).then(({keySystem:pt,mediaKeys:Bt})=>{var jt;this.throwIfDestroyed();const Xt=new _n("ISO-23001-7",te,null!=(jt=Re(pt))?jt:"");return Xt.pssh=new Uint8Array(M),Xt.keyId=k,this.attemptSetMediaKeys(pt,Bt).then(()=>{this.throwIfDestroyed();const cn=this.createMediaKeySessionContext({decryptdata:Xt,keySystem:pt,mediaKeys:Bt});return this.generateRequestWithPreferredKeySession(cn,h,M,"encrypted-event-no-match")})})),lt.catch(pt=>this.handleError(pt))}_onWaitingForKey(l){this.log(`"${l.type}" event`)}attemptSetMediaKeys(l,h){const M=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${l}"`);const k=Promise.all(M).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(h)});return this.setMediaKeysQueue.push(k),k.then(()=>{this.log(`Media-keys set for "${l}"`),M.push(k),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(j=>-1===M.indexOf(j))})}generateRequestWithPreferredKeySession(l,h,M,k){var j,te;const De=null==(j=this.config.drmSystems)||null==(te=j[l.keySystem])?void 0:te.generateRequest;if(De)try{const jt=De.call(this.hls,h,M,l);if(!jt)throw new Error("Invalid response from configured generateRequest filter");h=jt.initDataType,M=l.decryptdata.pssh=jt.initData?new Uint8Array(jt.initData):null}catch(jt){var Pe;if(this.warn(jt.message),null!=(Pe=this.hls)&&Pe.config.debug)throw jt}if(null===M)return this.log(`Skipping key-session request for "${k}" (no initData)`),Promise.resolve(l);const lt=this.getKeyIdString(l.decryptdata);this.log(`Generating key-session request for "${k}": ${lt} (init data type: ${h} length: ${M?M.byteLength:null})`);const pt=new Ao;l.mediaKeysSession.onmessage=jt=>{const Xt=l.mediaKeysSession;if(!Xt)return void pt.emit("error",new Error("invalid state"));const{messageType:cn,message:bn}=jt;this.log(`"${cn}" message event for session "${Xt.sessionId}" message size: ${bn.byteLength}`),"license-request"===cn||"license-renewal"===cn?this.renewLicense(l,bn).catch(Bn=>{this.handleError(Bn),pt.emit("error",Bn)}):"license-release"===cn?l.keySystem===Te.FAIRPLAY&&(this.updateKeySession(l,we("acknowledged")),this.removeSession(l)):this.warn(`unhandled media key message type "${cn}"`)},l.mediaKeysSession.onkeystatuseschange=jt=>{if(!l.mediaKeysSession)return void pt.emit("error",new Error("invalid state"));this.onKeyStatusChange(l);const cn=l.keyStatus;pt.emit("keyStatus",cn),"expired"===cn&&(this.warn(`${l.keySystem} expired for key ${lt}`),this.renewKeySession(l))};const Bt=new Promise((jt,Xt)=>{pt.on("error",Xt),pt.on("keyStatus",cn=>{cn.startsWith("usable")?jt():"output-restricted"===cn?Xt(new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===cn?Xt(new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${cn}"`)):"expired"===cn?Xt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${cn}"`)})});return l.mediaKeysSession.generateRequest(h,M).then(()=>{var jt;this.log(`Request generated for key-session "${null==(jt=l.mediaKeysSession)?void 0:jt.sessionId}" keyId: ${lt}`)}).catch(jt=>{throw new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_SESSION,error:jt,fatal:!1},`Error generating key-session request: ${jt}`)}).then(()=>Bt).catch(jt=>{throw pt.removeAllListeners(),this.removeSession(l),jt}).then(()=>(pt.removeAllListeners(),l))}onKeyStatusChange(l){l.mediaKeysSession.keyStatuses.forEach((h,M)=>{this.log(`key status change "${h}" for keyStatuses keyId: ${fe_hexDump("buffer"in M?new Uint8Array(M.buffer,M.byteOffset,M.byteLength):new Uint8Array(M))} session keyId: ${fe_hexDump(new Uint8Array(l.decryptdata.keyId||[]))} uri: ${l.decryptdata.uri}`),l.keyStatus=h})}fetchServerCertificate(l){const h=this.config,k=new(0,h.loader)(h),j=this.getServerCertificateUrl(l);return j?(this.log(`Fetching serverCertificate for "${l}"`),new Promise((te,De)=>{const Pe={responseType:"arraybuffer",url:j},lt=h.certLoadPolicy.default;k.load(Pe,{loadPolicy:lt,timeout:lt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(jt,Xt,cn,bn)=>{te(jt.data)},onError:(jt,Xt,cn,bn)=>{De(new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:cn,response:m({url:Pe.url,data:void 0},jt)},`"${l}" certificate request failed (${j}). Status: ${jt.code} (${jt.text})`))},onTimeout:(jt,Xt,cn)=>{De(new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:cn,response:{url:Pe.url,data:void 0}},`"${l}" certificate request timed out (${j})`))},onAbort:(jt,Xt,cn)=>{De(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(l,h,M){return new Promise((k,j)=>{l.setServerCertificate(M).then(te=>{this.log(`setServerCertificate ${te?"success":"not supported by CDM"} (${M?.byteLength}) on "${h}"`),k(l)}).catch(te=>{j(new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:te,fatal:!0},te.message))})})}renewLicense(l,h){return this.requestLicense(l,new Uint8Array(h)).then(M=>this.updateKeySession(l,new Uint8Array(M)).catch(k=>{throw new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:k,fatal:!0},k.message)}))}setupLicenseXHR(l,h,M,k){const j=this.config.licenseXhrSetup;return j?Promise.resolve().then(()=>{if(!M.decryptdata)throw new Error("Key removed");return j.call(this.hls,l,h,M,k)}).catch(te=>{if(!M.decryptdata)throw te;return l.open("POST",h,!0),j.call(this.hls,l,h,M,k)}).then(te=>(l.readyState||l.open("POST",h,!0),{xhr:l,licenseChallenge:te||k})):(l.open("POST",h,!0),Promise.resolve({xhr:l,licenseChallenge:k}))}requestLicense(l,h){const M=this.config.keyLoadPolicy.default;return new Promise((k,j)=>{const te=this.getLicenseServerUrl(l.keySystem);this.log(`Sending license request to URL: ${te}`);const De=new XMLHttpRequest;De.responseType="arraybuffer",De.onreadystatechange=()=>{if(!this.hls||!l.mediaKeysSession)return j(new Error("invalid state"));if(4===De.readyState)if(200===De.status){this._requestLicenseFailureCount=0;let Pe=De.response;this.log(`License received ${Pe instanceof ArrayBuffer?Pe.byteLength:Pe}`);const lt=this.config.licenseResponseCallback;if(lt)try{Pe=lt.call(this.hls,De,te,l)}catch(pt){this.error(pt)}k(Pe)}else{const Pe=M.errorRetry,lt=Pe?Pe.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>lt||De.status>=400&&De.status<500?j(new Js({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:De,response:{url:te,data:void 0,code:De.status,text:De.statusText}},`License Request XHR failed (${te}). Status: ${De.status} (${De.statusText})`)):(this.warn(`Retrying license request, ${lt-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(l,h).then(k,j))}},l.licenseXhr&&l.licenseXhr.readyState!==XMLHttpRequest.DONE&&l.licenseXhr.abort(),l.licenseXhr=De,this.setupLicenseXHR(De,te,l,h).then(({xhr:Pe,licenseChallenge:lt})=>{Pe.send(lt)})})}onMediaAttached(l,h){if(!this.config.emeEnabled)return;const M=h.media;this.media=M,M.addEventListener("encrypted",this.onMediaEncrypted),M.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const l=this.media,h=this.mediaKeySessions;l&&(l.removeEventListener("encrypted",this.onMediaEncrypted),l.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},_n.clearKeyUriToKeyIdMap();const M=h.length;V.CDMCleanupPromise=Promise.all(h.map(k=>this.removeSession(k)).concat(l?.setMediaKeys(null).catch(k=>{this.log(`Could not clear media keys: ${k}. media.src: ${l?.src}`)}))).then(()=>{M&&(this.log("finished closing key sessions and clearing media keys"),h.length=0)}).catch(k=>{this.log(`Could not close sessions and clear media keys: ${k}. media.src: ${l?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(l,{sessionKeys:h}){if(h&&this.config.emeEnabled&&!this.keyFormatPromise){const M=h.reduce((k,j)=>(-1===k.indexOf(j.keyFormat)&&k.push(j.keyFormat),k),[]);this.log(`Selecting key-system from session-keys ${M.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(M)}}removeSession(l){const{mediaKeysSession:h,licenseXhr:M}=l;if(h){this.log(`Remove licenses and keys and close session ${h.sessionId}`),h.onmessage=null,h.onkeystatuseschange=null,M&&M.readyState!==XMLHttpRequest.DONE&&M.abort(),l.mediaKeysSession=l.decryptdata=l.licenseXhr=void 0;const k=this.mediaKeySessions.indexOf(l);return k>-1&&this.mediaKeySessions.splice(k,1),h.remove().catch(j=>{this.log(`Could not remove session: ${j}`)}).then(()=>h.close()).catch(j=>{this.log(`Could not close session: ${j}`)})}}}return V.CDMCleanupPromise=void 0,V})();class Js extends Error{constructor(r,l){super(l),this.data=void 0,r.error||(r.error=new Error(l)),this.data=r,r.err=r.error}}class Ja{constructor(r){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=M=>{try{this.apply(M,{ot:"m",su:!this.initialized})}catch(k){y.warn("Could not generate manifest CMCD data.",k)}},this.applyFragmentData=M=>{try{const k=M.frag,j=this.hls.levels[k.level],te=this.getObjectType(k),De={d:1e3*k.duration,ot:te};("v"===te||"a"===te||"av"==te)&&(De.br=j.bitrate/1e3,De.tb=this.getTopBandwidth(te)/1e3,De.bl=this.getBufferLength(te)),this.apply(M,De)}catch(k){y.warn("Could not generate segment CMCD data.",k)}},this.hls=r;const l=this.config=r.config,{cmcd:h}=l;null!=h&&(l.pLoader=this.createPlaylistLoader(),l.fLoader=this.createFragmentLoader(),this.sid=h.sessionId||Ja.uuid(),this.cid=h.contentId,this.useHeaders=!0===h.useHeaders,this.registerListeners())}registerListeners(){const r=this.hls;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHED,this.onMediaDetached,this),r.on(S.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const r=this.hls;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHED,this.onMediaDetached,this),r.off(S.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(r,l){this.media=l.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(r,l){var h,M;this.audioBuffer=null==(h=l.tracks.audio)?void 0:h.buffer,this.videoBuffer=null==(M=l.tracks.video)?void 0:M.buffer}createData(){var r;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(r=this.media)?void 0:r.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(r,l={}){if(c(l,this.createData()),this.starved&&("i"===l.ot||"v"===l.ot||"av"===l.ot)&&(l.bs=!0,l.su=!0,this.starved=!1),null==l.su&&(l.su=this.buffering),this.useHeaders){const M=Ja.toHeaders(l);if(!Object.keys(M).length)return;r.headers||(r.headers={}),c(r.headers,M)}else{const M=Ja.toQuery(l);if(!M)return;r.url=Ja.appendQueryToUri(r.url,M)}}getObjectType(r){const{type:l}=r;return"subtitle"===l?"tt":"initSegment"===r.sn?"i":"audio"===l?"a":"main"===l?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(r){let h,l=0;const M=this.hls;if("a"===r)h=M.audioTracks;else{const k=M.maxAutoLevel;h=M.levels.slice(0,k>-1?k+1:M.levels.length)}for(const k of h)k.bitrate>l&&(l=k.bitrate);return l>0?l:NaN}getBufferLength(r){const l=this.hls.media,h="a"===r?this.audioBuffer:this.videoBuffer;return h&&l?1e3*Br.bufferInfo(h,l.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:r}=this.config,l=this.applyPlaylistData,h=r||this.config.loader;return class{constructor(k){this.loader=void 0,this.loader=new h(k)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(k,j,te){l(k),this.loader.load(k,j,te)}}}createFragmentLoader(){const{fLoader:r}=this.config,l=this.applyFragmentData,h=r||this.config.loader;return class{constructor(k){this.loader=void 0,this.loader=new h(k)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(k,j,te){l(k),this.loader.load(k,j,te)}}}static uuid(){const r=URL.createObjectURL(new Blob),l=r.toString();return URL.revokeObjectURL(r),l.slice(l.lastIndexOf("/")+1)}static serialize(r){const l=[],h=Pe=>!Number.isNaN(Pe)&&null!=Pe&&""!==Pe&&!1!==Pe,M=Pe=>Math.round(Pe),k=Pe=>100*M(Pe/100),te={br:M,d:M,bl:k,dl:k,mtp:k,nor:Pe=>encodeURIComponent(Pe),rtp:k,tb:M},De=Object.keys(r||{}).sort();for(const Pe of De){let lt=r[Pe];if(!h(lt)||"v"===Pe&&1===lt||"pr"==Pe&&1===lt)continue;const pt=te[Pe];pt&&(lt=pt(lt));const Bt=typeof lt;let jt;jt="ot"===Pe||"sf"===Pe||"st"===Pe?`${Pe}=${lt}`:"boolean"===Bt?Pe:"number"===Bt?`${Pe}=${lt}`:`${Pe}=${JSON.stringify(lt)}`,l.push(jt)}return l.join(",")}static toHeaders(r){const l=Object.keys(r),h={},M=["Object","Request","Session","Status"],k=[{},{},{},{}],j={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const te of l)k[null!=j[te]?j[te]:1][te]=r[te];for(let te=0;te<k.length;te++){const De=Ja.serialize(k[te]);De&&(h[`CMCD-${M[te]}`]=De)}return h}static toQuery(r){return`CMCD=${encodeURIComponent(Ja.serialize(r))}`}static appendQueryToUri(r,l){if(!l)return r;const h=r.includes("?")?"&":"?";return`${r}${h}${l}`}}function Gl(V,r,l,h){V&&Object.keys(r).forEach(M=>{const k=V.filter(j=>j.groupId===M).map(j=>{const te=c({},j);return te.details=void 0,te.attrs=new ne(te.attrs),te.url=te.attrs.URI=ec(j.url,j.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",l),te.groupId=te.attrs["GROUP-ID"]=r[M],te.attrs["PATHWAY-ID"]=h,te});V.push(...k)})}function ec(V,r,l,h){const{HOST:M,PARAMS:k,[l]:j}=h;let te;r&&(te=j?.[r],te&&(V=te));const De=new self.URL(V);return M&&!te&&(De.host=M),k&&Object.keys(k).sort().forEach(Pe=>{Pe&&De.searchParams.set(Pe,k[Pe])}),De.href}const tc=/^age:\s*[\d.]+\s*$/im;class zr{constructor(r){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=r&&r.xhrSetup||null,this.stats=new le,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const r=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),r&&(r.onreadystatechange=null,r.onprogress=null,4!==r.readyState&&(this.stats.aborted=!0,r.abort()))}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(r,l,h){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=r,this.config=l,this.callbacks=h,this.loadInternal()}loadInternal(){const{config:r,context:l}=this;if(!r)return;const h=this.loader=new self.XMLHttpRequest,M=this.stats;M.loading.first=0,M.loaded=0,M.aborted=!1;const k=this.xhrSetup;k?Promise.resolve().then(()=>{if(!this.stats.aborted)return k(h,l.url)}).catch(j=>(h.open("GET",l.url,!0),k(h,l.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(h,l,r)}).catch(j=>{this.callbacks.onError({code:h.status,text:j.message},l,h,M)}):this.openAndSendXhr(h,l,r)}openAndSendXhr(r,l,h){r.readyState||r.open("GET",l.url,!0);const M=this.context.headers,{maxTimeToFirstByteMs:k,maxLoadTimeMs:j}=h.loadPolicy;if(M)for(const te in M)r.setRequestHeader(te,M[te]);l.rangeEnd&&r.setRequestHeader("Range","bytes="+l.rangeStart+"-"+(l.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=l.responseType,self.clearTimeout(this.requestTimeout),h.timeout=k&&_(k)?k:j,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),h.timeout),r.send()}readystatechange(){const{context:r,loader:l,stats:h}=this;if(!r||!l)return;const M=l.readyState,k=this.config;if(!h.aborted&&M>=2&&(0===h.loading.first&&(h.loading.first=Math.max(self.performance.now(),h.loading.start),k.timeout!==k.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),k.timeout=k.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),k.loadPolicy.maxLoadTimeMs-(h.loading.first-h.loading.start)))),4===M)){self.clearTimeout(this.requestTimeout),l.onreadystatechange=null,l.onprogress=null;const j=l.status,te="text"!==l.responseType;if(j>=200&&j<300&&(te&&l.response||null!==l.responseText)){h.loading.end=Math.max(self.performance.now(),h.loading.first);const De=te?l.response:l.responseText;if(h.loaded=h.total="arraybuffer"===l.responseType?De.byteLength:De.length,h.bwEstimate=8e3*h.total/(h.loading.end-h.loading.first),!this.callbacks)return;const lt=this.callbacks.onProgress;if(lt&&lt(h,r,De,l),!this.callbacks)return;this.callbacks.onSuccess({url:l.responseURL,data:De,code:j},h,r,l)}else{const De=k.loadPolicy.errorRetry;cr(De,h.retry,!1,j)?this.retry(De):(y.error(`${j} while loading ${r.url}`),this.callbacks.onError({code:j,text:l.statusText},r,l,h))}}}loadtimeout(){var r;const l=null==(r=this.config)?void 0:r.loadPolicy.timeoutRetry;if(cr(l,this.stats.retry,!0))this.retry(l);else{y.warn(`timeout while loading ${this.context.url}`);const M=this.callbacks;M&&(this.abortInternal(),M.onTimeout(this.stats,this.context,this.loader))}}retry(r){const{context:l,stats:h}=this;this.retryDelay=os(r,h.retry),h.retry++,y.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${l.url}, retrying ${h.retry}/${r.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(r){const l=this.stats;l.loaded=r.loaded,r.lengthComputable&&(l.total=r.total)}getCacheAge(){let r=null;if(this.loader&&tc.test(this.loader.getAllResponseHeaders())){const l=this.loader.getResponseHeader("age");r=l?parseFloat(l):null}return r}getResponseHeader(r){return this.loader&&new RegExp(`^${r}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(r):null}}const xl=/(\d+)-(\d+)\/(\d+)/;class Qs{constructor(r){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=r.fetchSetup||nc,this.controller=new self.AbortController,this.stats=new le}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const r=this.response;null!=r&&r.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(r,l,h){const M=this.stats;if(M.loading.start)throw new Error("Loader can only be used once.");M.loading.start=self.performance.now();const k=function Gs(V,r){const l={method:"GET",mode:"cors",credentials:"same-origin",signal:r,headers:new self.Headers(c({},V.headers))};return V.rangeEnd&&l.headers.set("Range","bytes="+V.rangeStart+"-"+String(V.rangeEnd-1)),l}(r,this.controller.signal),j=h.onProgress,te="arraybuffer"===r.responseType,De=te?"byteLength":"length",{maxTimeToFirstByteMs:Pe,maxLoadTimeMs:lt}=l.loadPolicy;this.context=r,this.config=l,this.callbacks=h,this.request=this.fetchSetup(r,k),self.clearTimeout(this.requestTimeout),l.timeout=Pe&&_(Pe)?Pe:lt,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),h.onTimeout(M,r,this.response)},l.timeout),self.fetch(this.request).then(pt=>{this.response=this.loader=pt;const Bt=Math.max(self.performance.now(),M.loading.start);if(self.clearTimeout(this.requestTimeout),l.timeout=lt,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),h.onTimeout(M,r,this.response)},lt-(Bt-M.loading.start)),!pt.ok){const{status:jt,statusText:Xt}=pt;throw new Il(Xt||"fetch, bad network response",jt,pt)}return M.loading.first=Bt,M.total=function ed(V){const r=V.get("Content-Range");if(r){const h=function Sa(V){const r=xl.exec(V);if(r)return parseInt(r[2])-parseInt(r[1])+1}(r);if(_(h))return h}const l=V.get("Content-Length");if(l)return parseInt(l)}(pt.headers)||M.total,j&&_(l.highWaterMark)?this.loadProgressively(pt,M,r,l.highWaterMark,j):te?pt.arrayBuffer():"json"===r.responseType?pt.json():pt.text()}).then(pt=>{const{response:Bt}=this;self.clearTimeout(this.requestTimeout),M.loading.end=Math.max(self.performance.now(),M.loading.first);const jt=pt[De];jt&&(M.loaded=M.total=jt);const Xt={url:Bt.url,data:pt,code:Bt.status};j&&!_(l.highWaterMark)&&j(M,r,pt,Bt),h.onSuccess(Xt,M,r,Bt)}).catch(pt=>{self.clearTimeout(this.requestTimeout),M.aborted||h.onError({code:pt&&pt.code||0,text:pt?pt.message:null},r,pt?pt.details:null,M)})}getCacheAge(){let r=null;if(this.response){const l=this.response.headers.get("age");r=l?parseFloat(l):null}return r}getResponseHeader(r){return this.response?this.response.headers.get(r):null}loadProgressively(r,l,h,M=0,k){const j=new Kl,te=r.body.getReader(),De=()=>te.read().then(Pe=>{if(Pe.done)return j.dataLength&&k(l,h,j.flush(),r),Promise.resolve(new ArrayBuffer(0));const lt=Pe.value,pt=lt.length;return l.loaded+=pt,pt<M||j.dataLength?(j.push(lt),j.dataLength>=M&&k(l,h,j.flush(),r)):k(l,h,lt,r),De()}).catch(()=>Promise.reject());return De()}}function nc(V,r){return new self.Request(V.url,r)}class Il extends Error{constructor(r,l,h){super(r),this.code=void 0,this.details=void 0,this.code=l,this.details=h}}const ic=/\s/,Gc={newCue(V,r,l,h){const M=[];let k,j,te,De,Pe;const lt=self.VTTCue||self.TextTrackCue;for(let Bt=0;Bt<h.rows.length;Bt++)if(k=h.rows[Bt],te=!0,De=0,Pe="",!k.isEmpty()){var pt;for(let cn=0;cn<k.chars.length;cn++)ic.test(k.chars[cn].uchar)&&te?De++:(Pe+=k.chars[cn].uchar,te=!1);k.cueStartTime=r,r===l&&(l+=1e-4),De>=16?De--:De++;const jt=ms(Pe.trim()),Xt=Jl(r,l,jt);null!=V&&null!=(pt=V.cues)&&pt.getCueById(Xt)||(j=new lt(r,l,jt),j.id=Xt,j.line=Bt+1,j.align="left",j.position=10+Math.min(80,10*Math.floor(8*De/32)),M.push(j))}return V&&M.length&&(M.sort((Bt,jt)=>"auto"===Bt.line||"auto"===jt.line?0:Bt.line>8&&jt.line>8?jt.line-Bt.line:Bt.line-jt.line),M.forEach(Bt=>jr(V,Bt))),M}},Ye=m(m({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:zr,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class Lc{constructor(r){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=r;const l=r.config;this.bwEstimator=new Tl(l.abrEwmaSlowVoD,l.abrEwmaFastVoD,l.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(S.FRAG_LOADING,this.onFragLoading,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this),r.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:r}=this;r.off(S.FRAG_LOADING,this.onFragLoading,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this),r.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(r,l){var h;const M=l.frag;this.ignoreFragment(M)||(this.fragCurrent=M,this.partCurrent=null!=(h=l.part)?h:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(r,l){this.clearTimer()}getTimeToLoadFrag(r,l,h,M){return r+h/l+(M?this.lastLevelLoadSec:0)}onLevelLoaded(r,l){const h=this.hls.config,{total:M,bwEstimate:k}=l.stats;_(M)&&_(k)&&(this.lastLevelLoadSec=8*M/k),l.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:r,partCurrent:l,hls:h}=this,{autoLevelEnabled:M,media:k}=h;if(!r||!k)return;const j=performance.now(),te=l?l.stats:r.stats,De=l?l.duration:r.duration,Pe=j-te.loading.start;if(te.aborted||te.loaded&&te.loaded===te.total||0===r.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!M||k.paused||!k.playbackRate||!k.readyState)return;const lt=h.mainForwardBufferInfo;if(null===lt)return;const pt=this.bwEstimator.getEstimateTTFB(),Bt=Math.abs(k.playbackRate);if(Pe<=Math.max(pt,De/(2*Bt)*1e3))return;const jt=lt.len/Bt;if(jt>=2*De/Bt)return;const Xt=te.loading.first?te.loading.first-te.loading.start:-1,cn=te.loaded&&Xt>-1,bn=this.bwEstimator.getEstimate(),{levels:Bn,minAutoLevel:ti}=h,ui=te.total||Math.max(te.loaded,Math.round(De*Bn[r.level].maxBitrate/8));let oi=Pe-Xt;oi<1&&cn&&(oi=Math.min(Pe,8*te.loaded/bn));const Ai=cn?1e3*te.loaded/oi:0,hi=Ai?(ui-te.loaded)/Ai:8*ui/bn+pt/1e3;if(hi<=jt)return;const Di=Ai?8*Ai:bn;let ci,wi=Number.POSITIVE_INFINITY;for(ci=r.level-1;ci>ti&&(wi=this.getTimeToLoadFrag(pt/1e3,Di,De*Bn[ci].maxBitrate,!Bn[ci].details),!(wi<jt));ci--);wi>=hi||wi>10*De||(h.nextLoadLevel=ci,cn?this.bwEstimator.sample(Pe-Math.min(pt,Xt),te.loaded):this.bwEstimator.sampleTTFB(Pe),this.clearTimer(),y.warn(`[abr] Fragment ${r.sn}${l?" part "+l.index:""} of level ${r.level} is loading too slowly;\n      Time to underbuffer: ${jt.toFixed(3)} s\n      Estimated load time for current fragment: ${hi.toFixed(3)} s\n      Estimated load time for down switch fragment: ${wi.toFixed(3)} s\n      TTFB estimate: ${Xt}\n      Current BW estimate: ${_(bn)?(bn/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${ci}`),r.loader&&(this.fragCurrent=this.partCurrent=null,r.abortRequests()),h.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:l,stats:te}))}onFragLoaded(r,{frag:l,part:h}){const M=h?h.stats:l.stats;if("main"===l.type&&this.bwEstimator.sampleTTFB(M.loading.first-M.loading.start),!this.ignoreFragment(l)){if(this.clearTimer(),this.lastLoadedFragLevel=l.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const j=this.hls.levels[l.level],te=(j.loaded?j.loaded.bytes:0)+M.loaded,De=(j.loaded?j.loaded.duration:0)+(h?h.duration:l.duration);j.loaded={bytes:te,duration:De},j.realBitrate=Math.round(8*te/De)}l.bitrateTest&&(this.onFragBuffered(S.FRAG_BUFFERED,{stats:M,frag:l,part:h,id:l.type}),l.bitrateTest=!1)}}onFragBuffered(r,l){const{frag:h,part:M}=l,k=null!=M&&M.stats.loaded?M.stats:h.stats;if(k.aborted||this.ignoreFragment(h))return;const j=k.parsing.end-k.loading.start-Math.min(k.loading.first-k.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(j,k.loaded),k.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=h.bitrateTest?j/1e3:0}ignoreFragment(r){return"main"!==r.type||"initSegment"===r.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const r=this._nextAutoLevel;if(-1!==r&&!this.bwEstimator.canEstimate())return r;let h=this.getNextABRAutoLevel();if(-1!==r){const M=this.hls.levels;if(M.length>Math.max(r,h)&&M[r].loadError<=M[h].loadError)return r}return-1!==r&&(h=Math.min(r,h)),h}getNextABRAutoLevel(){const{fragCurrent:r,partCurrent:l,hls:h}=this,{maxAutoLevel:M,config:k,minAutoLevel:j,media:te}=h,De=l?l.duration:r?r.duration:0,Pe=te&&0!==te.playbackRate?Math.abs(te.playbackRate):1,lt=this.bwEstimator?this.bwEstimator.getEstimate():k.abrEwmaDefaultEstimate,pt=h.mainForwardBufferInfo,Bt=(pt?pt.len:0)/Pe;let jt=this.findBestLevel(lt,j,M,Bt,k.abrBandWidthFactor,k.abrBandWidthUpFactor);if(jt>=0)return jt;y.trace(`[abr] ${Bt?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let Xt=De?Math.min(De,k.maxStarvationDelay):k.maxStarvationDelay,cn=k.abrBandWidthFactor,bn=k.abrBandWidthUpFactor;if(!Bt){const Bn=this.bitrateTestDelay;Bn&&(Xt=(De?Math.min(De,k.maxLoadingDelay):k.maxLoadingDelay)-Bn,y.trace(`[abr] bitrate test took ${Math.round(1e3*Bn)}ms, set first fragment max fetchDuration to ${Math.round(1e3*Xt)} ms`),cn=bn=1)}return jt=this.findBestLevel(lt,j,M,Bt+Xt,cn,bn),Math.max(jt,0)}findBestLevel(r,l,h,M,k,j){var te;const{fragCurrent:De,partCurrent:Pe,lastLoadedFragLevel:lt}=this,{levels:pt}=this.hls,Bt=pt[lt],jt=!(null==Bt||null==(te=Bt.details)||!te.live),Xt=Bt?.codecSet,cn=Pe?Pe.duration:De?De.duration:0,bn=this.bwEstimator.getEstimateTTFB()/1e3;let Bn=l,ti=-1;for(let zn=h;zn>=l;zn--){const ui=pt[zn];if(!ui||Xt&&ui.codecSet!==Xt){ui&&(Bn=Math.min(zn,Bn),ti=Math.max(zn,ti));continue}-1!==ti&&y.trace(`[abr] Skipped level(s) ${Bn}-${ti} with CODECS:"${pt[ti].attrs.CODECS}"; not compatible with "${Bt.attrs.CODECS}"`);const oi=ui.details,Ai=(Pe?oi?.partTarget:oi?.averagetargetduration)||cn;let hi;hi=zn<=lt?k*r:j*r;const Di=pt[zn].maxBitrate,wi=this.getTimeToLoadFrag(bn,hi,Di*Ai,void 0===oi);if(y.trace(`[abr] level:${zn} adjustedbw-bitrate:${Math.round(hi-Di)} avgDuration:${Ai.toFixed(1)} maxFetchDuration:${M.toFixed(1)} fetchDuration:${wi.toFixed(1)}`),hi>Di&&(0===wi||!_(wi)||jt&&!this.bitrateTestDelay||wi<M))return zn}return-1}set nextAutoLevel(r){this._nextAutoLevel=r}},bufferController:class Ri{constructor(r){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:l,mediaSource:h}=this;y.log("[buffer-controller]: Media source opened"),l&&(l.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(S.MEDIA_ATTACHED,{media:l})),h&&h.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{y.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{y.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:l,_objectUrl:h}=this;l&&l.src!==h&&y.error(`Media element src was set while attaching MediaSource (${h} > ${l.src})`)},this.hls=r,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.BUFFER_RESET,this.onBufferReset,this),r.on(S.BUFFER_APPENDING,this.onBufferAppending,this),r.on(S.BUFFER_CODECS,this.onBufferCodecs,this),r.on(S.BUFFER_EOS,this.onBufferEos,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(S.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(S.FRAG_PARSED,this.onFragParsed,this),r.on(S.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.BUFFER_RESET,this.onBufferReset,this),r.off(S.BUFFER_APPENDING,this.onBufferAppending,this),r.off(S.BUFFER_CODECS,this.onBufferCodecs,this),r.off(S.BUFFER_EOS,this.onBufferEos,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(S.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(S.FRAG_PARSED,this.onFragParsed,this),r.off(S.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new dn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(r,l){let h=2;(l.audio&&!l.video||!l.altAudio)&&(h=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=h,y.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(r,l){const h=this.media=l.media;if(h&&Vn){const M=this.mediaSource=new Vn;M.addEventListener("sourceopen",this._onMediaSourceOpen),M.addEventListener("sourceended",this._onMediaSourceEnded),M.addEventListener("sourceclose",this._onMediaSourceClose),h.src=self.URL.createObjectURL(M),this._objectUrl=h.src,h.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:r,mediaSource:l,_objectUrl:h}=this;if(l){if(y.log("[buffer-controller]: media source detaching"),"open"===l.readyState)try{l.endOfStream()}catch(M){y.warn(`[buffer-controller]: onMediaDetaching: ${M.message} while calling endOfStream`)}this.onBufferReset(),l.removeEventListener("sourceopen",this._onMediaSourceOpen),l.removeEventListener("sourceended",this._onMediaSourceEnded),l.removeEventListener("sourceclose",this._onMediaSourceClose),r&&(r.removeEventListener("emptied",this._onMediaEmptied),h&&self.URL.revokeObjectURL(h),r.src===h?(r.removeAttribute("src"),r.load()):y.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(S.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(r=>{const l=this.sourceBuffer[r];try{l&&(this.removeBufferListeners(r),this.mediaSource&&this.mediaSource.removeSourceBuffer(l),this.sourceBuffer[r]=void 0)}catch(h){y.warn(`[buffer-controller]: Failed to reset the ${r} buffer`,h)}}),this._initSourceBuffer()}onBufferCodecs(r,l){const h=this.getSourceBufferTypes().length;Object.keys(l).forEach(M=>{if(h){const k=this.tracks[M];if(k&&"function"==typeof k.buffer.changeType){const{id:j,codec:te,levelCodec:De,container:Pe,metadata:lt}=l[M],pt=(k.levelCodec||k.codec).replace(pi,"$1"),Bt=(De||te).replace(pi,"$1");pt!==Bt&&(this.appendChangeType(M,`${Pe};codecs=${De||te}`),y.log(`[buffer-controller]: switching codec ${pt} to ${Bt}`),this.tracks[M]={buffer:k.buffer,codec:te,container:Pe,levelCodec:De,metadata:lt,id:j})}}else this.pendingTracks[M]=l[M]}),!h&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(r,l){const{operationQueue:h}=this,M={execute:()=>{const k=this.sourceBuffer[r];k&&(y.log(`[buffer-controller]: changing ${r} sourceBuffer type to ${l}`),k.changeType(l)),h.shiftAndExecuteNext(r)},onStart:()=>{},onComplete:()=>{},onError:k=>{y.warn(`[buffer-controller]: Failed to change ${r} SourceBuffer type`,k)}};h.append(M,r)}onBufferAppending(r,l){const{hls:h,operationQueue:M,tracks:k}=this,{data:j,type:te,frag:De,part:Pe,chunkMeta:lt}=l,pt=lt.buffering[te],Bt=self.performance.now();pt.start=Bt;const jt=De.stats.buffering,Xt=Pe?Pe.stats.buffering:null;0===jt.start&&(jt.start=Bt),Xt&&0===Xt.start&&(Xt.start=Bt);const cn=k.audio;let bn=!1;"audio"===te&&"audio/mpeg"===cn?.container&&(bn=!this.lastMpegAudioChunk||1===lt.id||this.lastMpegAudioChunk.sn!==lt.sn,this.lastMpegAudioChunk=lt);const Bn=De.start;M.append({execute:()=>{if(pt.executeStart=self.performance.now(),bn){const zn=this.sourceBuffer[te];if(zn){const ui=Bn-zn.timestampOffset;Math.abs(ui)>=.1&&(y.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Bn} (delta: ${ui}) sn: ${De.sn})`),zn.timestampOffset=Bn)}}this.appendExecutor(j,te)},onStart:()=>{},onComplete:()=>{const zn=self.performance.now();pt.executeEnd=pt.end=zn,0===jt.first&&(jt.first=zn),Xt&&0===Xt.first&&(Xt.first=zn);const{sourceBuffer:ui}=this,oi={};for(const Ai in ui)oi[Ai]=Br.getBuffered(ui[Ai]);this.appendError=0,this.hls.trigger(S.BUFFER_APPENDED,{type:te,frag:De,part:Pe,chunkMeta:lt,parent:De.type,timeRanges:oi})},onError:zn=>{y.error(`[buffer-controller]: Error encountered while trying to append to the ${te} SourceBuffer`,zn);const ui={type:x.MEDIA_ERROR,parent:De.type,details:A.BUFFER_APPEND_ERROR,frag:De,part:Pe,chunkMeta:lt,error:zn,err:zn,fatal:!1};zn.code===DOMException.QUOTA_EXCEEDED_ERR?ui.details=A.BUFFER_FULL_ERROR:(this.appendError++,ui.details=A.BUFFER_APPEND_ERROR,this.appendError>h.config.appendErrorMaxRetry&&(y.error(`[buffer-controller]: Failed ${h.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),ui.fatal=!0)),h.trigger(S.ERROR,ui)}},te)}onBufferFlushing(r,l){const{operationQueue:h}=this,M=k=>({execute:this.removeExecutor.bind(this,k,l.startOffset,l.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(S.BUFFER_FLUSHED,{type:k})},onError:j=>{y.warn(`[buffer-controller]: Failed to remove from ${k} SourceBuffer`,j)}});l.type?h.append(M(l.type),l.type):this.getSourceBufferTypes().forEach(k=>{h.append(M(k),k)})}onFragParsed(r,l){const{frag:h,part:M}=l,k=[],j=M?M.elementaryStreams:h.elementaryStreams;j.audiovideo?k.push("audiovideo"):(j.audio&&k.push("audio"),j.video&&k.push("video")),0===k.length&&y.warn(`Fragments must have at least one ElementaryStreamType set. type: ${h.type} level: ${h.level} sn: ${h.sn}`),this.blockBuffers(()=>{const De=self.performance.now();h.stats.buffering.end=De,M&&(M.stats.buffering.end=De),this.hls.trigger(S.FRAG_BUFFERED,{frag:h,part:M,stats:M?M.stats:h.stats,id:h.type})},k)}onFragChanged(r,l){this.flushBackBuffer()}onBufferEos(r,l){this.getSourceBufferTypes().reduce((M,k)=>{const j=this.sourceBuffer[k];return j&&(!l.type||l.type===k)&&(j.ending=!0,j.ended||(j.ended=!0,y.log(`[buffer-controller]: ${k} sourceBuffer now EOS`))),M&&!(j&&!j.ended)},!0)&&(y.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(k=>{const j=this.sourceBuffer[k];j&&(j.ending=!1)});const{mediaSource:M}=this;M&&"open"===M.readyState?(y.log("[buffer-controller]: Calling mediaSource.endOfStream()"),M.endOfStream()):M&&y.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${M.readyState}`)}))}onLevelUpdated(r,{details:l}){l.fragments.length&&(this.details=l,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:r,details:l,media:h,sourceBuffer:M}=this;if(!h||null===l)return;const k=this.getSourceBufferTypes();if(!k.length)return;const j=l.live&&null!==r.config.liveBackBufferLength?r.config.liveBackBufferLength:r.config.backBufferLength;if(!_(j)||j<0)return;const te=h.currentTime,De=l.levelTargetDuration,Pe=Math.max(j,De),lt=Math.floor(te/De)*De-Pe;k.forEach(pt=>{const Bt=M[pt];if(Bt){const jt=Br.getBuffered(Bt);if(jt.length>0&&lt>jt.start(0)){if(r.trigger(S.BACK_BUFFER_REACHED,{bufferEnd:lt}),l.live)r.trigger(S.LIVE_BACK_BUFFER_REACHED,{bufferEnd:lt});else if(Bt.ended&&jt.end(jt.length-1)-te<2*De)return void y.info(`[buffer-controller]: Cannot flush ${pt} back buffer while SourceBuffer is in ended state`);r.trigger(S.BUFFER_FLUSHING,{startOffset:0,endOffset:lt,type:pt})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:r,hls:l,media:h,mediaSource:M}=this,k=r.fragments[0].start+r.totalduration,j=h.duration,te=_(M.duration)?M.duration:0;r.live&&l.config.liveDurationInfinity?(y.log("[buffer-controller]: Media Source duration is set to Infinity"),M.duration=1/0,this.updateSeekableRange(r)):(k>te&&k>j||!_(j))&&(y.log(`[buffer-controller]: Updating Media Source duration to ${k.toFixed(3)}`),M.duration=k)}updateSeekableRange(r){const l=this.mediaSource,h=r.fragments;if(h.length&&r.live&&null!=l&&l.setLiveSeekableRange){const k=Math.max(0,h[0].start),j=Math.max(k,k+r.totalduration);l.setLiveSeekableRange(k,j)}}checkPendingTracks(){const{bufferCodecEventsExpected:r,operationQueue:l,pendingTracks:h}=this,M=Object.keys(h).length;if(M&&!r||2===M){this.createSourceBuffers(h),this.pendingTracks={};const k=this.getSourceBufferTypes();if(k.length)this.hls.trigger(S.BUFFER_CREATED,{tracks:this.tracks}),k.forEach(j=>{l.executeNext(j)});else{const j=new Error("could not create source buffer for media codec(s)");this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:j,reason:j.message})}}}createSourceBuffers(r){const{sourceBuffer:l,mediaSource:h}=this;if(!h)throw Error("createSourceBuffers called when mediaSource was null");for(const M in r)if(!l[M]){const k=r[M];if(!k)throw Error(`source buffer exists for track ${M}, however track does not`);const j=k.levelCodec||k.codec,te=`${k.container};codecs=${j}`;y.log(`[buffer-controller]: creating sourceBuffer(${te})`);try{const De=l[M]=h.addSourceBuffer(te),Pe=M;this.addBufferListener(Pe,"updatestart",this._onSBUpdateStart),this.addBufferListener(Pe,"updateend",this._onSBUpdateEnd),this.addBufferListener(Pe,"error",this._onSBUpdateError),this.tracks[M]={buffer:De,codec:j,container:k.container,levelCodec:k.levelCodec,metadata:k.metadata,id:k.id}}catch(De){y.error(`[buffer-controller]: error while trying to add sourceBuffer: ${De.message}`),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:De,mimeType:te})}}}_onSBUpdateStart(r){const{operationQueue:l}=this;l.current(r).onStart()}_onSBUpdateEnd(r){const{operationQueue:l}=this;l.current(r).onComplete(),l.shiftAndExecuteNext(r)}_onSBUpdateError(r,l){const h=new Error(`${r} SourceBuffer error`);y.error(`[buffer-controller]: ${h}`,l),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_APPENDING_ERROR,error:h,fatal:!1});const M=this.operationQueue.current(r);M&&M.onError(l)}removeExecutor(r,l,h){const{media:M,mediaSource:k,operationQueue:j,sourceBuffer:te}=this,De=te[r];if(!M||!k||!De)return y.warn(`[buffer-controller]: Attempting to remove from the ${r} SourceBuffer, but it does not exist`),void j.shiftAndExecuteNext(r);const Pe=_(M.duration)?M.duration:1/0,lt=_(k.duration)?k.duration:1/0,pt=Math.max(0,l),Bt=Math.min(h,Pe,lt);Bt>pt&&!De.ending?(De.ended=!1,y.log(`[buffer-controller]: Removing [${pt},${Bt}] from the ${r} SourceBuffer`),De.remove(pt,Bt)):j.shiftAndExecuteNext(r)}appendExecutor(r,l){const{operationQueue:h,sourceBuffer:M}=this,k=M[l];if(!k)return y.warn(`[buffer-controller]: Attempting to append to the ${l} SourceBuffer, but it does not exist`),void h.shiftAndExecuteNext(l);k.ended=!1,k.appendBuffer(r)}blockBuffers(r,l=this.getSourceBufferTypes()){if(!l.length)return y.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(r);const{operationQueue:h}=this,M=l.map(k=>h.appendBlocker(k));Promise.all(M).then(()=>{r(),l.forEach(k=>{const j=this.sourceBuffer[k];null!=j&&j.updating||h.shiftAndExecuteNext(k)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(r,l,h){const M=this.sourceBuffer[r];if(!M)return;const k=h.bind(this,r);this.listeners[r].push({event:l,listener:k}),M.addEventListener(l,k)}removeBufferListeners(r){const l=this.sourceBuffer[r];l&&this.listeners[r].forEach(h=>{l.removeEventListener(h.event,h.listener)})}},capLevelController:Xl,errorController:class io{constructor(r){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=r,this.log=y.log.bind(y,"[info]:"),this.warn=y.warn.bind(y,"[warning]:"),this.error=y.error.bind(y,"[error]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(S.ERROR,this.onError,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const r=this.hls;r&&(r.off(S.ERROR,this.onError,this),r.off(S.ERROR,this.onErrorOut,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(r){this.playlistError=0}stopLoad(){}getVariantLevelIndex(r){return"main"===r?.type?r.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(r,l){var h,M;if(l.fatal)return;const k=this.hls,j=l.context;switch(l.details){case A.FRAG_LOAD_ERROR:case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_ERROR:case A.KEY_LOAD_TIMEOUT:return void(l.errorAction=this.getFragRetryOrSwitchAction(l));case A.FRAG_PARSING_ERROR:if(null!=(h=l.frag)&&h.gap)return void(l.errorAction={action:0,flags:0});case A.FRAG_GAP:case A.FRAG_DECRYPT_ERROR:return l.errorAction=this.getFragRetryOrSwitchAction(l),void(l.errorAction.action=2);case A.LEVEL_EMPTY_ERROR:case A.LEVEL_PARSING_ERROR:{var te,De;const Pe="main"===l.parent?l.level:k.loadLevel;l.details===A.LEVEL_EMPTY_ERROR&&null!=(te=l.context)&&null!=(De=te.levelDetails)&&De.live?l.errorAction=this.getPlaylistRetryOrSwitchAction(l,Pe):(l.levelRetry=!1,l.errorAction=this.getLevelSwitchAction(l,Pe))}return;case A.LEVEL_LOAD_ERROR:case A.LEVEL_LOAD_TIMEOUT:return void("number"==typeof j?.level&&(l.errorAction=this.getPlaylistRetryOrSwitchAction(l,j.level)));case A.AUDIO_TRACK_LOAD_ERROR:case A.AUDIO_TRACK_LOAD_TIMEOUT:case A.SUBTITLE_LOAD_ERROR:case A.SUBTITLE_TRACK_LOAD_TIMEOUT:if(j){const Pe=k.levels[k.loadLevel];if(Pe&&("audioTrack"===j.type&&j.groupId===Pe.audioGroupId||"subtitleTrack"===j.type&&j.groupId===Pe.textGroupId))return l.errorAction=this.getPlaylistRetryOrSwitchAction(l,k.loadLevel),l.errorAction.action=2,void(l.errorAction.flags=1)}return;case A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const Pe=k.levels[k.loadLevel],lt=Pe?.attrs["HDCP-LEVEL"];lt&&(l.errorAction={action:2,flags:2,hdcpLevel:lt})}return;case A.BUFFER_ADD_CODEC_ERROR:case A.REMUX_ALLOC_ERROR:return void(l.errorAction=this.getLevelSwitchAction(l,null!=(M=l.level)?M:k.loadLevel));case A.INTERNAL_EXCEPTION:case A.BUFFER_APPENDING_ERROR:case A.BUFFER_APPEND_ERROR:case A.BUFFER_FULL_ERROR:case A.LEVEL_SWITCH_ERROR:case A.BUFFER_STALLED_ERROR:case A.BUFFER_SEEK_OVER_HOLE:case A.BUFFER_NUDGE_ON_STALL:return void(l.errorAction={action:0,flags:0})}if(l.type===x.KEY_SYSTEM_ERROR){const Pe=this.getVariantLevelIndex(l.frag);return l.levelRetry=!1,void(l.errorAction=this.getLevelSwitchAction(l,Pe))}}getPlaylistRetryOrSwitchAction(r,l){var h;const k=_o(this.hls.config.playlistLoadPolicy,r),j=this.playlistError++,te=null==(h=r.response)?void 0:h.code;if(cr(k,j,eo(r),te))return{action:5,flags:0,retryConfig:k,retryCount:j};const Pe=this.getLevelSwitchAction(r,l);return k&&(Pe.retryConfig=k,Pe.retryCount=j),Pe}getFragRetryOrSwitchAction(r){const l=this.hls,h=this.getVariantLevelIndex(r.frag),M=l.levels[h],{fragLoadPolicy:k,keyLoadPolicy:j}=l.config,te=_o(r.details.startsWith("key")?j:k,r),De=l.levels.reduce((pt,Bt)=>pt+Bt.fragmentError,0);if(M){var Pe;r.details!==A.FRAG_GAP&&M.fragmentError++;const pt=null==(Pe=r.response)?void 0:Pe.code;if(cr(te,De,eo(r),pt))return{action:5,flags:0,retryConfig:te,retryCount:De}}const lt=this.getLevelSwitchAction(r,h);return te&&(lt.retryConfig=te,lt.retryCount=De),lt}getLevelSwitchAction(r,l){const h=this.hls;null==l&&(l=h.loadLevel);const M=this.hls.levels[l];if(M&&(M.loadError++,h.autoLevelEnabled)){var k,j;let te=-1;const{levels:De,loadLevel:Pe,minAutoLevel:lt,maxAutoLevel:pt}=h,Bt=null==(k=r.frag)?void 0:k.type,{type:jt,groupId:Xt}=null!=(j=r.context)?j:{};for(let cn=De.length;cn--;){const bn=(cn+Pe)%De.length;if(bn!==Pe&&bn>=lt&&bn<=pt&&0===De[bn].loadError){const Bn=De[bn];if(r.details===A.FRAG_GAP&&r.frag){const ti=De[bn].details;if(ti){const zn=co(r.frag,ti.fragments,r.frag.start);if(null!=zn&&zn.gap)continue}}else{if("audioTrack"===jt&&Xt===Bn.audioGroupId||"subtitleTrack"===jt&&Xt===Bn.textGroupId)continue;if("audio"===Bt&&M.audioGroupId===Bn.audioGroupId||"subtitle"===Bt&&M.textGroupId===Bn.textGroupId)continue}te=bn;break}}if(te>-1&&h.loadLevel!==te)return r.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:te}}return{action:2,flags:1}}onErrorOut(r,l){var h;switch(null==(h=l.errorAction)?void 0:h.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(l),!l.errorAction.resolved&&l.details!==A.FRAG_GAP&&(l.fatal=!0)}l.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(r){const l=this.hls,h=r.errorAction;if(!h)return;const{flags:M,hdcpLevel:k,nextAutoLevel:j}=h;switch(M){case 0:this.switchLevel(r,j);break;case 1:h.resolved||(h.resolved=this.redundantFailover(r));break;case 2:k&&(l.maxHdcpLevel=Kr[Kr.indexOf(k)-1],h.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${l.maxHdcpLevel}" or lower`)}h.resolved||this.switchLevel(r,j)}switchLevel(r,l){void 0!==l&&r.errorAction&&(this.warn(`switching to level ${l} after ${r.details}`),this.hls.nextAutoLevel=l,r.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(r){const{hls:l,penalizedRenditions:h}=this,M="main"===r.parent?r.level:l.loadLevel,k=l.levels[M],j=k.url.length,te=r.frag?r.frag.urlId:k.urlId;k.urlId===te&&(!r.frag||k.details)&&this.penalizeRendition(k,r);for(let De=1;De<j;De++){const Pe=(te+De)%j,lt=h[Pe];if(!lt||fa(lt,r,h[te]))return this.warn(`Switching to Redundant Stream ${Pe+1}/${j}: "${k.url[Pe]}" after ${r.details}`),this.playlistError=0,l.levels.forEach(pt=>{pt.urlId=Pe}),l.nextLoadLevel=M,!0}return!1}penalizeRendition(r,l){const{penalizedRenditions:h}=this,M=h[r.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};M.lastErrorPerfMs=performance.now(),M.errors.push(l),M.details=r.details,h[r.urlId]=M}},fpsController:class Ul{constructor(r){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=r,this.registerListeners()}setStreamController(r){this.streamController=r}registerListeners(){this.hls.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(r,l){const h=this.hls.config;if(h.capLevelOnFPSDrop){const M=l.media instanceof self.HTMLVideoElement?l.media:null;this.media=M,M&&"function"==typeof M.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),h.fpsDroppedMonitoringPeriod)}}checkFPS(r,l,h){const M=performance.now();if(l){if(this.lastTime){const j=h-this.lastDroppedFrames,te=l-this.lastDecodedFrames,De=1e3*j/(M-this.lastTime),Pe=this.hls;if(Pe.trigger(S.FPS_DROP,{currentDropped:j,currentDecoded:te,totalDroppedFrames:h}),De>0&&j>Pe.config.fpsDroppedMonitoringThreshold*te){let lt=Pe.currentLevel;y.warn("drop FPS ratio greater than max allowed value for currentLevel: "+lt),lt>0&&(-1===Pe.autoLevelCapping||Pe.autoLevelCapping>=lt)&&(lt-=1,Pe.trigger(S.FPS_DROP_LEVEL_CAPPING,{level:lt,droppedLevel:Pe.currentLevel}),Pe.autoLevelCapping=lt,this.streamController.nextLevelSwitch())}}this.lastTime=M,this.lastDroppedFrames=h,this.lastDecodedFrames=l}}checkFPSInterval(){const r=this.media;if(r)if(this.isVideoPlaybackQualityAvailable){const l=r.getVideoPlaybackQuality();this.checkFPS(r,l.totalVideoFrames,l.droppedVideoFrames)}else this.checkFPS(r,r.webkitDecodedFrameCount,r.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Q,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function dt(){return{cueHandler:Gc,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class Me extends Os{constructor(r,l,h){super(r,l,h,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.ERROR,this.onError,this),r.on(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(S.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.on(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(S.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.ERROR,this.onError,this),r.off(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(S.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.off(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(S.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(r){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(r,l){this.mainDetails=l.details}onSubtitleFragProcessed(r,l){const{frag:h,success:M}=l;if(this.fragPrevious=h,this.state="IDLE",!M)return;const k=this.tracksBuffered[this.currentTrackId];if(!k)return;let j;const te=h.start;for(let Pe=0;Pe<k.length;Pe++)if(te>=k[Pe].start&&te<=k[Pe].end){j=k[Pe];break}const De=h.start+h.duration;j?j.end=De:(j={start:te,end:De},k.push(j)),this.fragmentTracker.fragBuffered(h)}onBufferFlushing(r,l){const{startOffset:h,endOffset:M}=l;if(0===h&&M!==Number.POSITIVE_INFINITY){const k=M-1;if(k<=0)return;l.endOffsetSubtitles=Math.max(0,k),this.tracksBuffered.forEach(j=>{for(let te=0;te<j.length;)if(j[te].end<=k)j.shift();else{if(!(j[te].start<k))break;j[te].start=k,te++}}),this.fragmentTracker.removeFragmentsInRange(h,k,"subtitle")}}onFragBuffered(r,l){var h;this.loadedmetadata||"main"!==l.frag.type||null!=(h=this.media)&&h.buffered.length&&(this.loadedmetadata=!0)}onError(r,l){const h=l.frag;"subtitle"===h?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(r,{subtitleTracks:l}){Wl(this.levels,l)?this.levels=l.map(h=>new Dn(h)):(this.tracksBuffered=[],this.levels=l.map(h=>{const M=new Dn(h);return this.tracksBuffered[M.id]=[],M}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(r,l){if(this.currentTrackId=l.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const h=this.levels[this.currentTrackId];this.mediaBuffer=null!=h&&h.details?this.mediaBufferTimeRanges:null,h&&this.setInterval(500)}onSubtitleTrackLoaded(r,l){var h;const{details:M,id:k}=l,{currentTrackId:j,levels:te}=this;if(!te.length)return;const De=te[j];if(k>=te.length||k!==j||!De)return;this.mediaBuffer=this.mediaBufferTimeRanges;let Pe=0;if(M.live||null!=(h=De.details)&&h.live){const lt=this.mainDetails;if(M.deltaUpdateFailed||!lt)return;const pt=lt.fragments[0];De.details?(Pe=this.alignPlaylists(M,De.details),0===Pe&&pt&&(Pe=pt.start,Ir(M,Pe))):M.hasProgramDateTime&&lt.hasProgramDateTime?(ut(M,lt),Pe=M.fragments[0].start):pt&&(Pe=pt.start,Ir(M,Pe))}De.details=M,this.levelLastLoaded=k,!this.startFragRequested&&(this.mainDetails||!M.live)&&this.setStartPosition(De.details,Pe),this.tick(),M.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(co(null,M.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),De.details=void 0))}_handleFragmentLoadComplete(r){const{frag:l,payload:h}=r,M=l.decryptdata,k=this.hls;if(!this.fragContextChanged(l)&&h&&h.byteLength>0&&M&&M.key&&M.iv&&"AES-128"===M.method){const j=performance.now();this.decrypter.decrypt(new Uint8Array(h),M.key.buffer,M.iv.buffer).catch(te=>{throw k.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_DECRYPT_ERROR,fatal:!1,error:te,reason:te.message,frag:l}),te}).then(te=>{const De=performance.now();k.trigger(S.FRAG_DECRYPTED,{frag:l,payload:te,stats:{tstart:j,tdecrypt:De}})}).catch(te=>{this.warn(`${te.name}: ${te.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:r,levels:l}=this,h=l[r];if(!l.length||!h||!h.details)return;const{config:M}=this,k=this.getLoadPosition(),j=Br.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],k,M.maxBufferHole),{end:te,len:De}=j,Pe=this.getFwdBufferInfo(this.media,"main"),lt=h.details;if(De>this.getMaxBufferLength(Pe?.len)+lt.levelTargetDuration)return;const Bt=lt.fragments,jt=Bt.length,Xt=lt.edge;let cn=null;const bn=this.fragPrevious;if(te<Xt){const Bn=M.maxFragLookUpTolerance,ti=te>Xt-Bn?0:Bn;cn=co(bn,Bt,Math.max(Bt[0].start,te),ti),!cn&&bn&&bn.start<Bt[0].start&&(cn=Bt[0])}else cn=Bt[jt-1];if(!cn)return;if(cn=this.mapToInitFragWhenRequired(cn),"initSegment"!==cn.sn){const ti=Bt[cn.sn-lt.startSN-1];ti&&ti.cc===cn.cc&&"NOT_LOADED"===this.fragmentTracker.getState(ti)&&(cn=ti)}"NOT_LOADED"===this.fragmentTracker.getState(cn)&&this.loadFragment(cn,h,te)}}else this.state="IDLE"}getMaxBufferLength(r){const l=super.getMaxBufferLength();return r?Math.max(l,r):l}loadFragment(r,l,h){this.fragCurrent=r,"initSegment"===r.sn?this._loadInitSegment(r,l):(this.startFragRequested=!0,super.loadFragment(r,l,h))}get mediaBufferTimeRanges(){return new nt(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class Gt extends Mo{constructor(r){super(r,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(r){this._subtitleDisplay=r,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(S.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.LEVEL_LOADING,this.onLevelLoading,this),r.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(S.ERROR,this.onError,this)}onMediaAttached(r,l){this.media=l.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(r){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,r)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),sn(this.media.textTracks).forEach(l=>{ir(l)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(r,l){this.tracks=l.subtitleTracks}onSubtitleTrackLoaded(r,l){const{id:h,details:M}=l,{trackId:k}=this,j=this.tracksInGroup[k];if(!j)return void this.warn(`Invalid subtitle track id ${h}`);const te=j.details;j.details=l.details,this.log(`subtitle track ${h} loaded [${M.startSN}-${M.endSN}]`),h===this.trackId&&this.playlistLoaded(h,l,te)}onLevelLoading(r,l){this.switchLevel(l.level)}onLevelSwitching(r,l){this.switchLevel(l.level)}switchLevel(r){const l=this.hls.levels[r];if(null==l||!l.textGroupIds)return;const h=l.textGroupIds[l.urlId],M=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==h){const k=this.tracks.filter(De=>!h||De.groupId===h);this.tracksInGroup=k;const j=this.findTrackId(M?.name)||this.findTrackId();this.groupId=h||null;const te={subtitleTracks:k};this.log(`Updating subtitle tracks, ${k.length} track(s) found in "${h}" group-id`),this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED,te),-1!==j&&this.setSubtitleTrack(j,M)}else this.shouldReloadPlaylist(M)&&this.setSubtitleTrack(this.trackId,M)}findTrackId(r){const l=this.tracksInGroup;for(let h=0;h<l.length;h++){const M=l[h];if((!this.selectDefaultTrack||M.default)&&(!r||r===M.name))return M.id}return-1}onError(r,l){l.fatal||!l.context||"subtitleTrack"===l.context.type&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&this.checkRetry(l)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(r){this.selectDefaultTrack=!1,this.setSubtitleTrack(r,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(r){super.loadPlaylist();const l=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(l)){const h=l.id,M=l.groupId;let k=l.url;if(r)try{k=r.addDirectives(k)}catch(j){this.warn(`Could not construct new URL with HLS Delivery Directives: ${j}`)}this.log(`Loading subtitle playlist for id ${h}`),this.hls.trigger(S.SUBTITLE_TRACK_LOADING,{url:k,id:h,groupId:M,deliveryDirectives:r||null})}}toggleTrackModes(r){const{media:l,trackId:h}=this;if(!l)return;const M=sn(l.textTracks),k=M.filter(te=>te.groupId===this.groupId);if(-1===r)[].slice.call(M).forEach(te=>{te.mode="disabled"});else{const te=k[h];te&&(te.mode="disabled")}const j=k[r];j&&(j.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(r,l){var h;const M=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=r);if(this.trackId!==r&&this.toggleTrackModes(r),this.trackId===r&&(-1===r||null!=(h=M[r])&&h.details)||r<-1||r>=M.length)return;this.clearTimer();const k=M[r];if(this.log(`Switching to subtitle-track ${r}`+(k?` "${k.name}" lang:${k.lang} group:${k.groupId}`:"")),this.trackId=r,k){const{id:j,groupId:te="",name:De,type:Pe,url:lt}=k;this.hls.trigger(S.SUBTITLE_TRACK_SWITCH,{id:j,groupId:te,name:De,type:Pe,url:lt});const pt=this.switchParams(k.url,l?.details);this.loadPlaylist(pt)}else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH,{id:r})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=-1;const l=sn(this.media.textTracks);for(let h=0;h<l.length;h++)if("hidden"===l[h].mode)r=h;else if("showing"===l[h].mode){r=h;break}this.subtitleTrack!==r&&(this.subtitleTrack=r)}},timelineController:class ql{constructor(r){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=r,this.config=r.config,this.Cues=r.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const l=new Ms(this,"textTrack1"),h=new Ms(this,"textTrack2"),M=new Ms(this,"textTrack3"),k=new Ms(this,"textTrack4");this.cea608Parser1=new Nl(1,l,h),this.cea608Parser2=new Nl(3,M,k)}r.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(S.FRAG_LOADING,this.onFragLoading,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this),r.on(S.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.on(S.FRAG_DECRYPTED,this.onFragDecrypted,this),r.on(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(S.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:r}=this;r.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(S.FRAG_LOADING,this.onFragLoading,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this),r.off(S.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.off(S.FRAG_DECRYPTED,this.onFragDecrypted,this),r.off(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(S.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(r,l,h,M,k){let j=!1;for(let te=k.length;te--;){const De=k[te],Pe=Ba(De[0],De[1],l,h);if(Pe>=0&&(De[0]=Math.min(De[0],l),De[1]=Math.max(De[1],h),j=!0,Pe/(h-l)>.5))return}if(j||k.push([l,h]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[r],l,h,M);else{const te=this.Cues.newCue(null,l,h,M);this.hls.trigger(S.CUES_PARSED,{type:"captions",cues:te,track:r})}}onInitPtsFound(r,{frag:l,id:h,initPTS:M,timescale:k}){const{unparsedVttFrags:j}=this;"main"===h&&(this.initPTS[l.cc]={baseTime:M,timescale:k}),j.length&&(this.unparsedVttFrags=[],j.forEach(te=>{this.onFragLoaded(S.FRAG_LOADED,te)}))}getExistingTrack(r){const{media:l}=this;if(l)for(let h=0;h<l.textTracks.length;h++){const M=l.textTracks[h];if(M[r])return M}return null}createCaptionsTrack(r){this.config.renderTextTracksNatively?this.createNativeTrack(r):this.createNonNativeTrack(r)}createNativeTrack(r){if(this.captionsTracks[r])return;const{captionsProperties:l,captionsTracks:h,media:M}=this,{label:k,languageCode:j}=l[r],te=this.getExistingTrack(r);if(te)h[r]=te,ir(h[r]),zi(h[r],M);else{const De=this.createTextTrack("captions",k,j);De&&(De[r]=!0,h[r]=De)}}createNonNativeTrack(r){if(this.nonNativeCaptionsTracks[r])return;const l=this.captionsProperties[r];if(!l)return;const M={_id:r,label:l.label,kind:"captions",default:!!l.media&&!!l.media.default,closedCaptions:l.media};this.nonNativeCaptionsTracks[r]=M,this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[M]})}createTextTrack(r,l,h){const M=this.media;if(M)return M.addTextTrack(r,l,h)}onMediaAttaching(r,l){this.media=l.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:r}=this;Object.keys(r).forEach(l=>{ir(r[l]),delete r[l]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:r}=this;if(!r)return;const l=r.textTracks;if(l)for(let h=0;h<l.length;h++)ir(l[h])}onSubtitleTracksUpdated(r,l){const h=l.subtitleTracks||[],M=h.some(k=>k.textCodec===Ql);if(this.config.enableWebVTT||M&&this.config.enableIMSC1){if(Wl(this.tracks,h))return void(this.tracks=h);if(this.textTracks=[],this.tracks=h,this.config.renderTextTracksNatively){const j=this.media?this.media.textTracks:null;this.tracks.forEach((te,De)=>{let Pe;if(j&&De<j.length){let lt=null;for(let pt=0;pt<j.length;pt++)if(Za(j[pt],te)){lt=j[pt];break}lt&&(Pe=lt)}if(Pe)ir(Pe);else{const lt=this._captionsOrSubtitlesFromCharacteristics(te);Pe=this.createTextTrack(lt,te.name,te.lang),Pe&&(Pe.mode="disabled")}Pe&&(Pe.groupId=te.groupId,this.textTracks.push(Pe))})}else if(this.tracks.length){const j=this.tracks.map(te=>({label:te.name,kind:te.type.toLowerCase(),default:te.default,subtitleTrack:te}));this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:j})}}}_captionsOrSubtitlesFromCharacteristics(r){if(r.attrs.CHARACTERISTICS){const l=/transcribes-spoken-dialog/gi.test(r.attrs.CHARACTERISTICS),h=/describes-music-and-sound/gi.test(r.attrs.CHARACTERISTICS);if(l&&h)return"captions"}return"subtitles"}onManifestLoaded(r,l){this.config.enableCEA708Captions&&l.captions&&l.captions.forEach(h=>{const M=/(?:CC|SERVICE)([1-4])/.exec(h.instreamId);if(!M)return;const j=this.captionsProperties[`textTrack${M[1]}`];j&&(j.label=h.name,h.lang&&(j.languageCode=h.lang),j.media=h)})}closedCaptionsForLevel(r){const l=this.hls.levels[r.level];return l?.attrs["CLOSED-CAPTIONS"]}onFragLoading(r,l){const{cea608Parser1:h,cea608Parser2:M,lastSn:k,lastPartIndex:j}=this;if(this.enabled&&h&&M&&"main"===l.frag.type){var te,De;const Pe=l.frag.sn,lt=null!=(te=null==l||null==(De=l.part)?void 0:De.index)?te:-1;Pe===k+1||Pe===k&&lt===j+1||(h.reset(),M.reset()),this.lastSn=Pe,this.lastPartIndex=lt}}onFragLoaded(r,l){const{frag:h,payload:M}=l;if("subtitle"===h.type)if(M.byteLength){const k=h.decryptdata;if(null==k||!k.encrypted||"stats"in l){const te=this.tracks[h.level],De=this.vttCCs;De[h.cc]||(De[h.cc]={start:h.start,prevCC:this.prevCC,new:!0},this.prevCC=h.cc),te&&te.textCodec===Ql?this._parseIMSC1(h,M):this._parseVTTs(l)}}else this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Empty subtitle payload")})}_parseIMSC1(r,l){const h=this.hls;$s(l,this.initPTS[r.cc],M=>{this._appendCues(M,r.level),h.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},M=>{y.log(`Failed to parse IMSC1: ${M}`),h.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:M})})}_parseVTTs(r){var l;const{frag:h,payload:M}=r,{initPTS:k,unparsedVttFrags:j}=this,te=k.length-1;if(!k[h.cc]&&-1===te)return void j.push(r);const De=this.hls;!function kl(V,r,l,h,M,k,j){const te=new bc,De=Qe(new Uint8Array(V)).trim().replace(Ll,"\n").split("\n"),Pe=[],lt=r?function Ys(V,r=1){return Jr(V,9e4,1/r)}(r.baseTime,r.timescale):0;let Xt,pt="00:00.000",Bt=0,jt=0,cn=!0;te.oncue=function(bn){const Bn=l[h];let ti=l.ccOffset;const zn=(Bt-lt)/9e4;if(null!=Bn&&Bn.new&&(void 0!==jt?ti=l.ccOffset=Bn.start:function(r,l,h){let M=r[l],k=r[M.prevCC];if(!k||!k.new&&M.new)return r.ccOffset=r.presentationOffset=M.start,void(M.new=!1);for(;null!=(j=k)&&j.new;){var j;r.ccOffset+=M.start-k.start,M.new=!1,M=k,k=r[M.prevCC]}r.presentationOffset=h}(l,h,zn)),zn){if(!r)return void(Xt=new Error("Missing initPTS for VTT MPEGTS"));ti=zn-l.presentationOffset}const ui=bn.endTime-bn.startTime,oi=Ds(9e4*(bn.startTime+ti-jt),9e4*M)/9e4;bn.startTime=Math.max(oi,0),bn.endTime=Math.max(oi+ui,0);const Ai=bn.text.trim();bn.text=decodeURIComponent(encodeURIComponent(Ai)),bn.id||(bn.id=Jl(bn.startTime,bn.endTime,Ai)),bn.endTime>0&&Pe.push(bn)},te.onparsingerror=function(bn){Xt=bn},te.onflush=function(){Xt?j(Xt):k(Pe)},De.forEach(bn=>{if(cn){if(ol(bn,"X-TIMESTAMP-MAP=")){cn=!1,bn.slice(16).split(",").forEach(Bn=>{ol(Bn,"LOCAL:")?pt=Bn.slice(6):ol(Bn,"MPEGTS:")&&(Bt=parseInt(Bn.slice(7)))});try{jt=function(r){let l=parseInt(r.slice(-3));const h=parseInt(r.slice(-6,-4)),M=parseInt(r.slice(-9,-7)),k=r.length>9?parseInt(r.substring(0,r.indexOf(":"))):0;if(!(_(l)&&_(h)&&_(M)&&_(k)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${r}`);return l+=1e3*h,l+=6e4*M,l+=36e5*k,l}(pt)/1e3}catch(Bn){Xt=Bn}return}""===bn&&(cn=!1)}te.parse(bn+"\n")}),te.flush()}(null!=(l=h.initSegment)&&l.data?En(h.initSegment.data,new Uint8Array(M)):M,this.initPTS[h.cc],this.vttCCs,h.cc,h.start,lt=>{this._appendCues(lt,h.level),De.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:h})},lt=>{const pt="Missing initPTS for VTT MPEGTS"===lt.message;pt?j.push(r):this._fallbackToIMSC1(h,M),y.log(`Failed to parse VTT cue: ${lt}`),!(pt&&te>h.cc)&&De.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:lt})})}_fallbackToIMSC1(r,l){const h=this.tracks[r.level];h.textCodec||$s(l,this.initPTS[r.cc],()=>{h.textCodec=Ql,this._parseIMSC1(r,l)},()=>{h.textCodec="wvtt"})}_appendCues(r,l){const h=this.hls;if(this.config.renderTextTracksNatively){const M=this.textTracks[l];if(!M||"disabled"===M.mode)return;r.forEach(k=>jr(M,k))}else{const M=this.tracks[l];if(!M)return;h.trigger(S.CUES_PARSED,{type:"subtitles",cues:r,track:M.default?"default":"subtitles"+l})}}onFragDecrypted(r,l){const{frag:h}=l;"subtitle"===h.type&&this.onFragLoaded(S.FRAG_LOADED,l)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(r,l){const{cea608Parser1:h,cea608Parser2:M}=this;if(!this.enabled||!h||!M)return;const{frag:k,samples:j}=l;if("main"!==k.type||"NONE"!==this.closedCaptionsForLevel(k))for(let te=0;te<j.length;te++){const De=j[te].bytes;if(De){const Pe=this.extractCea608Data(De);h.addData(j[te].pts,Pe[0]),M.addData(j[te].pts,Pe[1])}}}onBufferFlushing(r,{startOffset:l,endOffset:h,endOffsetSubtitles:M,type:k}){const{media:j}=this;if(j&&!(j.currentTime<h)){if(!k||"video"===k){const{captionsTracks:te}=this;Object.keys(te).forEach(De=>ao(te[De],l,h))}if(this.config.renderTextTracksNatively&&0===l&&void 0!==M){const{textTracks:te}=this;Object.keys(te).forEach(De=>ao(te[De],l,M))}}}extractCea608Data(r){const l=[[],[]],h=31&r[0];let M=2;for(let k=0;k<h;k++){const j=r[M++],te=127&r[M++],De=127&r[M++];if((0!==te||0!==De)&&0!=(4&j)){const lt=3&j;(0===lt||1===lt)&&(l[lt].push(te),l[lt].push(De))}}return l}},audioStreamController:class Na extends Os{constructor(r,l,h){super(r,l,h,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.on(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(S.ERROR,this.onError,this),r.on(S.BUFFER_RESET,this.onBufferReset,this),r.on(S.BUFFER_CREATED,this.onBufferCreated,this),r.on(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.off(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(S.ERROR,this.onError,this),r.off(S.BUFFER_RESET,this.onBufferReset,this),r.off(S.BUFFER_CREATED,this.onBufferCreated,this),r.off(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(r,{frag:l,id:h,initPTS:M,timescale:k}){if("main"===h){const j=l.cc;this.initPTS[l.cc]={baseTime:M,timescale:k},this.log(`InitPTS for cc: ${j} found from main: ${M}`),this.videoTrackCC=j,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(r){if(!this.levels)return this.startPosition=r,void(this.state="STOPPED");const l=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),l>0&&-1===r?(this.log(`Override startPosition with lastCurrentTime @${l.toFixed(3)}`),r=l,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var r;const{levels:h,trackId:M}=this,k=null==h||null==(r=h[M])?void 0:r.details;if(k){if(this.waitForCdnTuneIn(k))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var l;const h=performance.now(),M=this.retryDate;(!M||h>=M||null!=(l=this.media)&&l.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const h=this.waitingData;if(h){const{frag:M,part:k,cache:j,complete:te}=h;if(void 0!==this.initPTS[M.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const Pe={frag:M,part:k,payload:j.flush(),networkDetails:null};this._handleFragmentLoadProgress(Pe),te&&super._handleFragmentLoadComplete(Pe)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${M.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const De=this.getLoadPosition(),Pe=Br.bufferInfo(this.mediaBuffer,De,this.config.maxBufferHole);as(Pe.end,this.config.maxFragLookUpTolerance,M)<0&&(this.log(`Waiting fragment cc (${M.cc}) @ ${M.start} cancelled because another fragment at ${Pe.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const r=this.waitingData;r&&(this.fragmentTracker.removeFragment(r.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:r}=this;null!=r&&r.readyState&&(this.lastCurrentTime=r.currentTime)}doTickIdle(){const{hls:r,levels:l,media:h,trackId:M}=this;if(null==l||!l[M]||!h&&(this.startFragRequested||!r.config.startFragPrefetch))return;const j=l[M],te=j.details;if(!te||te.live&&this.levelLastLoaded!==M||this.waitForCdnTuneIn(te))return void(this.state="WAITING_TRACK");const De=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&De&&(this.bufferFlushed=!1,this.afterBufferFlushed(De,"audio","audio"));const Pe=this.getFwdBufferInfo(De,"audio");if(null===Pe)return;const{bufferedTrack:lt,switchingTrack:pt}=this;if(!pt&&this._streamEnded(Pe,te))return r.trigger(S.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Bt=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),jt=Pe.len,Xt=this.getMaxBufferLength(Bt?.len);if(jt>=Xt&&!pt)return;const bn=te.fragments[0].start;let Bn=Pe.end;if(pt&&h){const oi=this.getLoadPosition();lt&&pt.attrs!==lt.attrs&&(Bn=oi),te.PTSKnown&&oi<bn&&(Pe.end>bn||Pe.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),h.currentTime=bn+.05)}let ti=this.getNextFragment(Bn,te),zn=!1;if(ti&&this.isLoopLoading(ti,Bn)&&(zn=!!ti.gap,ti=this.getNextFragmentLoopLoading(ti,te,Pe,"main",Xt)),!ti)return void(this.bufferFlushed=!0);const ui=Bt&&ti.start>Bt.end+te.targetduration;if(ui||(null==Bt||!Bt.len)&&Pe.len){const oi=this.getAppendedFrag(ti.start,"main");if(null===oi||(zn||(zn=!!oi.gap||!!ui&&0===Bt.len),ui&&!zn||zn&&Pe.nextStart&&Pe.nextStart<oi.end))return}this.loadFragment(ti,j,Bn)}getMaxBufferLength(r){const l=super.getMaxBufferLength();return r?Math.min(Math.max(l,r),this.config.maxMaxBufferLength):l}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(r,{audioTracks:l}){this.resetTransmuxer(),this.levels=l.map(h=>new Dn(h))}onAudioTrackSwitching(r,l){const h=!!l.url;this.trackId=l.id;const{fragCurrent:M}=this;M&&(M.abortRequests(),this.removeUnbufferedFrags(M.start)),this.resetLoadingState(),h?this.setInterval(100):this.resetTransmuxer(),h?(this.switchingTrack=l,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=l,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(r,l){this.mainDetails=l.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(S.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(r,l){var h;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=l);const{levels:M}=this,{details:k,id:j}=l;if(!M)return void this.warn(`Audio tracks were reset while loading level ${j}`);this.log(`Track ${j} loaded [${k.startSN},${k.endSN}]${k.lastPartSn?`[part-${k.lastPartSn}-${k.lastPartIndex}]`:""},duration:${k.totalduration}`);const te=M[j];let De=0;if(k.live||null!=(h=te.details)&&h.live){const Pe=this.mainDetails;if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed||!Pe)return;!te.details&&k.hasProgramDateTime&&Pe.hasProgramDateTime?(ut(k,Pe),De=k.fragments[0].start):De=this.alignPlaylists(k,te.details)}te.details=k,this.levelLastLoaded=j,!this.startFragRequested&&(this.mainDetails||!k.live)&&this.setStartPosition(te.details,De),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(k)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(r){var l;const{frag:h,part:M,payload:k}=r,{config:j,trackId:te,levels:De}=this;if(!De)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${h.sn} of level ${h.level} will not be buffered`);const Pe=De[te];if(!Pe)return void this.warn("Audio track is undefined on fragment load progress");const lt=Pe.details;if(!lt)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(h.start);const pt=j.defaultAudioCodec||Pe.audioCodec||"mp4a.40.2";let Bt=this.transmuxer;Bt||(Bt=this.transmuxer=new rl(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const jt=this.initPTS[h.cc],Xt=null==(l=h.initSegment)?void 0:l.data;if(void 0!==jt){const bn=M?M.index:-1,ti=new Uo(h.level,h.sn,h.stats.chunkCount,k.byteLength,bn,-1!==bn);Bt.push(k,Xt,pt,"",h,M,lt.totalduration,!1,ti,jt)}else{this.log(`Unknown video PTS for cc ${h.cc}, waiting for video PTS before demuxing audio frag ${h.sn} of [${lt.startSN} ,${lt.endSN}],track ${te}`);const{cache:cn}=this.waitingData=this.waitingData||{frag:h,part:M,cache:new Kl,complete:!1};cn.push(new Uint8Array(k)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(r){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(r)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(r,l){const h=l.tracks.audio;h&&(this.mediaBuffer=h.buffer||null),l.tracks.video&&(this.videoBuffer=l.tracks.video.buffer||null)}onFragBuffered(r,l){const{frag:h,part:M}=l;if("audio"===h.type)if(this.fragContextChanged(h))this.warn(`Fragment ${h.sn}${M?" p: "+M.index:""} of level ${h.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==h.sn){this.fragPrevious=h;const k=this.switchingTrack;k&&(this.bufferedTrack=k,this.switchingTrack=null,this.hls.trigger(S.AUDIO_TRACK_SWITCHED,m({},k)))}this.fragBufferedComplete(h,M)}else if(!this.loadedmetadata&&"main"===h.type){const k=this.videoBuffer||this.media;k&&Br.getBuffered(k).length&&(this.loadedmetadata=!0)}}onError(r,l){var h;if(l.fatal)this.state="ERROR";else switch(l.details){case A.FRAG_GAP:case A.FRAG_PARSING_ERROR:case A.FRAG_DECRYPT_ERROR:case A.FRAG_LOAD_ERROR:case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_ERROR:case A.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",l);break;case A.AUDIO_TRACK_LOAD_ERROR:case A.AUDIO_TRACK_LOAD_TIMEOUT:case A.LEVEL_PARSING_ERROR:!l.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(h=l.context)?void 0:h.type)&&(this.state="IDLE");break;case A.BUFFER_FULL_ERROR:if(!l.parent||"audio"!==l.parent)return;this.reduceLengthAndFlushBuffer(l)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case A.INTERNAL_EXCEPTION:this.recoverWorkerError(l)}}onBufferFlushed(r,{type:l}){"audio"===l&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(r){var l;const h="audio",{hls:M}=this,{remuxResult:k,chunkMeta:j}=r,te=this.getCurrentContext(j);if(!te)return void this.resetWhenMissingContext(j);const{frag:De,part:Pe,level:lt}=te,{details:pt}=lt,{audio:Bt,text:jt,id3:Xt,initSegment:cn}=k;if(!this.fragContextChanged(De)&&pt){if(this.state="PARSING",this.switchingTrack&&Bt&&this.completeAudioSwitch(this.switchingTrack),null!=cn&&cn.tracks){const bn=De.initSegment||De;this._bufferInitSegment(cn.tracks,bn,j),M.trigger(S.FRAG_PARSING_INIT_SEGMENT,{frag:bn,id:h,tracks:cn.tracks})}if(Bt){const{startPTS:bn,endPTS:Bn,startDTS:ti,endDTS:zn}=Bt;Pe&&(Pe.elementaryStreams.audio={startPTS:bn,endPTS:Bn,startDTS:ti,endDTS:zn}),De.setElementaryStreamInfo("audio",bn,Bn,ti,zn),this.bufferFragmentData(Bt,De,Pe,j)}if(null!=Xt&&null!=(l=Xt.samples)&&l.length){const bn=c({id:h,frag:De,details:pt},Xt);M.trigger(S.FRAG_PARSING_METADATA,bn)}if(jt){const bn=c({id:h,frag:De,details:pt},jt);M.trigger(S.FRAG_PARSING_USERDATA,bn)}}else this.fragmentTracker.removeFragment(De)}_bufferInitSegment(r,l,h){if("PARSING"!==this.state)return;r.video&&delete r.video;const M=r.audio;if(!M)return;M.levelCodec=M.codec,M.id="audio",this.log(`Init audio buffer, container:${M.container}, codecs[parsed]=[${M.codec}]`),this.hls.trigger(S.BUFFER_CODECS,r);const k=M.initSegment;null!=k&&k.byteLength&&this.hls.trigger(S.BUFFER_APPENDING,{type:"audio",frag:l,part:null,chunkMeta:h,parent:l.type,data:k}),this.tick()}loadFragment(r,l,h){const M=this.fragmentTracker.getState(r);var k;this.fragCurrent=r,this.switchingTrack||"NOT_LOADED"===M||"PARTIAL"===M?"initSegment"===r.sn?this._loadInitSegment(r,l):null!=(k=l.details)&&k.live&&!this.initPTS[r.cc]?(this.log(`Waiting for video PTS in continuity counter ${r.cc} of live stream before loading audio fragment ${r.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(r,l,h)):this.clearTrackerIfNeeded(r)}completeAudioSwitch(r){const{hls:l,media:h,bufferedTrack:M}=this,k=M?.attrs,j=r.attrs;h&&k&&(k.CHANNELS!==j.CHANNELS||k.NAME!==j.NAME||k.LANGUAGE!==j.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=r,this.switchingTrack=null,l.trigger(S.AUDIO_TRACK_SWITCHED,m({},r))}},audioTrackController:class gc extends Mo{constructor(r){super(r,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(S.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.LEVEL_LOADING,this.onLevelLoading,this),r.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(S.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(r,l){this.tracks=l.audioTracks||[]}onAudioTrackLoaded(r,l){const{id:h,groupId:M,details:k}=l,j=this.tracksInGroup[h];if(!j||j.groupId!==M)return void this.warn(`Track with id:${h} and group:${M} not found in active group ${j.groupId}`);const te=j.details;j.details=l.details,this.log(`audio-track ${h} "${j.name}" lang:${j.lang} group:${M} loaded [${k.startSN}-${k.endSN}]`),h===this.trackId&&this.playlistLoaded(h,l,te)}onLevelLoading(r,l){this.switchLevel(l.level)}onLevelSwitching(r,l){this.switchLevel(l.level)}switchLevel(r){const l=this.hls.levels[r];if(null==l||!l.audioGroupIds)return;const h=l.audioGroupIds[l.urlId];if(this.groupId!==h){this.groupId=h||null;const M=this.tracks.filter(j=>!h||j.groupId===h);this.selectDefaultTrack&&!M.some(j=>j.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=M;const k={audioTracks:M};this.log(`Updating audio tracks, ${M.length} track(s) found in group:${h}`),this.hls.trigger(S.AUDIO_TRACKS_UPDATED,k),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(r,l){l.fatal||!l.context||"audioTrack"===l.context.type&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(l))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(r){this.selectDefaultTrack=!1,this.setAudioTrack(r)}setAudioTrack(r){const l=this.tracksInGroup;if(r<0||r>=l.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const h=this.currentTrack,M=l[r],{groupId:k,name:j}=M;if(this.log(`Switching to audio-track ${r} "${j}" lang:${M.lang} group:${k}`),this.trackId=r,this.currentTrack=M,this.selectDefaultTrack=!1,this.hls.trigger(S.AUDIO_TRACK_SWITCHING,m({},M)),M.details&&!M.details.live)return;const te=this.switchParams(M.url,h?.details);this.loadPlaylist(te)}selectInitialTrack(){const r=this.tracksInGroup,l=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==l)this.setAudioTrack(l);else{const h=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${r.length}`);this.warn(h.message),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:h})}}findTrackId(r){const l=this.tracksInGroup;for(let h=0;h<l.length;h++){const M=l[h];if((!this.selectDefaultTrack||M.default)&&(!r||void 0!==r.attrs["STABLE-RENDITION-ID"]&&r.attrs["STABLE-RENDITION-ID"]===M.attrs["STABLE-RENDITION-ID"]||r.name===M.name&&r.lang===M.lang))return M.id}return-1}loadPlaylist(r){super.loadPlaylist();const l=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(l)){const h=l.id,M=l.groupId;let k=l.url;if(r)try{k=r.addDirectives(k)}catch(j){this.warn(`Could not construct new URL with HLS Delivery Directives: ${j}`)}this.log(`loading audio-track playlist ${h} "${l.name}" lang:${l.lang} group:${M}`),this.clearTimer(),this.hls.trigger(S.AUDIO_TRACK_LOADING,{url:k,id:h,groupId:M,deliveryDirectives:r||null})}}},emeController:Cc,cmcdController:Ja,contentSteeringController:class tu{constructor(r){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=r,this.log=y.log.bind(y,"[content-steering]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.ERROR,this.onError,this)}unregisterListeners(){const r=this.hls;r&&(r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const r=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,r)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(r){const l=this.levels;l&&(this.levels=l.filter(h=>h!==r))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(r,l){const{contentSteering:h}=l;null!==h&&(this.pathwayId=h.pathwayId,this.uri=h.uri,this.started&&this.startLoad())}onManifestParsed(r,l){this.audioTracks=l.audioTracks,this.subtitleTracks=l.subtitleTracks}onError(r,l){const{errorAction:h}=l;if(2===h?.action&&1===h.flags){let M=this.pathwayPriority;const k=this.pathwayId;this.penalizedPathways[k]||(this.penalizedPathways[k]=performance.now()),!M&&this.levels&&(M=this.levels.reduce((j,te)=>(-1===j.indexOf(te.pathwayId)&&j.push(te.pathwayId),j),[])),M&&M.length>1&&(this.updatePathwayPriority(M),h.resolved=this.pathwayId!==k)}}filterParsedLevels(r){this.levels=r;let l=this.getLevelsForPathway(this.pathwayId);if(0===l.length){const h=r[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${h}"`),l=this.getLevelsForPathway(h),this.pathwayId=h}return l.length!==r.length?(this.log(`Found ${l.length}/${r.length} levels in Pathway "${this.pathwayId}"`),l):r}getLevelsForPathway(r){return null===this.levels?[]:this.levels.filter(l=>r===l.pathwayId)}updatePathwayPriority(r){let l;this.pathwayPriority=r;const h=this.penalizedPathways,M=performance.now();Object.keys(h).forEach(k=>{M-h[k]>3e5&&delete h[k]});for(let k=0;k<r.length;k++){const j=r[k];if(h[j])continue;if(j===this.pathwayId)return;const te=this.hls.nextLoadLevel,De=this.hls.levels[te];if(l=this.getLevelsForPathway(j),l.length>0){this.log(`Setting Pathway to "${j}"`),this.pathwayId=j,this.hls.trigger(S.LEVELS_UPDATED,{levels:l});const Pe=this.hls.levels[te];De&&Pe&&this.levels&&(Pe.attrs["STABLE-VARIANT-ID"]!==De.attrs["STABLE-VARIANT-ID"]&&Pe.bitrate!==De.bitrate&&this.log(`Unstable Pathways change from bitrate ${De.bitrate} to ${Pe.bitrate}`),this.hls.nextLoadLevel=te);break}}}clonePathways(r){const l=this.levels;if(!l)return;const h={},M={};r.forEach(k=>{const{ID:j,"BASE-ID":te,"URI-REPLACEMENT":De}=k;if(l.some(lt=>lt.pathwayId===j))return;const Pe=this.getLevelsForPathway(te).map(lt=>{const pt=c({},lt);pt.details=void 0,pt.url=ec(lt.uri,lt.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",De);const Bt=new ne(lt.attrs);Bt["PATHWAY-ID"]=j;const jt=Bt.AUDIO&&`${Bt.AUDIO}_clone_${j}`,Xt=Bt.SUBTITLES&&`${Bt.SUBTITLES}_clone_${j}`;jt&&(h[Bt.AUDIO]=jt,Bt.AUDIO=jt),Xt&&(M[Bt.SUBTITLES]=Xt,Bt.SUBTITLES=Xt),pt.attrs=Bt;const cn=new Dn(pt);return Fo(cn,"audio",jt),Fo(cn,"text",Xt),cn});l.push(...Pe),Gl(this.audioTracks,h,De,j),Gl(this.subtitleTracks,M,De,j)})}loadSteeringManifest(r){const l=this.hls.config,h=l.loader;let M;this.loader&&this.loader.destroy(),this.loader=new h(l);try{M=new self.URL(r)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${r}`)}if("data:"!==M.protocol){const lt=0|(this.hls.bandwidthEstimate||l.abrEwmaDefaultEstimate);M.searchParams.set("_HLS_pathway",this.pathwayId),M.searchParams.set("_HLS_throughput",""+lt)}const k={responseType:"json",url:M.href},j=l.steeringManifestLoadPolicy.default,te=j.errorRetry||j.timeoutRetry||{},De={loadPolicy:j,timeout:j.maxLoadTimeMs,maxRetry:te.maxNumRetry||0,retryDelay:te.retryDelayMs||0,maxRetryDelay:te.maxRetryDelayMs||0},Pe={onSuccess:(lt,pt,Bt,jt)=>{this.log(`Loaded steering manifest: "${M}"`);const Xt=lt.data;if(1!==Xt.VERSION)return void this.log(`Steering VERSION ${Xt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=Xt.TTL;const{"RELOAD-URI":cn,"PATHWAY-CLONES":bn,"PATHWAY-PRIORITY":Bn}=Xt;if(cn)try{this.uri=new self.URL(cn,M).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${cn}`)}this.scheduleRefresh(this.uri||Bt.url),bn&&this.clonePathways(bn),Bn&&this.updatePathwayPriority(Bn)},onError:(lt,pt,Bt,jt)=>{if(this.log(`Error loading steering manifest: ${lt.code} ${lt.text} (${pt.url})`),this.stopLoad(),410===lt.code)return this.enabled=!1,void this.log(`Steering manifest ${pt.url} no longer available`);let Xt=1e3*this.timeToLoad;if(429!==lt.code)this.scheduleRefresh(this.uri||pt.url,Xt);else{const cn=this.loader;if("function"==typeof cn?.getResponseHeader){const bn=cn.getResponseHeader("Retry-After");bn&&(Xt=1e3*parseFloat(bn))}this.log(`Steering manifest ${pt.url} rate limited`)}},onTimeout:(lt,pt,Bt)=>{this.log(`Timeout loading steering manifest (${pt.url})`),this.scheduleRefresh(this.uri||pt.url)}};this.log(`Requesting steering manifest: ${M}`),this.loader.load(k,De,Pe)}scheduleRefresh(r,l=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(r)},l)}}});function hn(V){return V&&"object"==typeof V?Array.isArray(V)?V.map(hn):Object.keys(V).reduce((r,l)=>(r[l]=hn(V[l]),r),{}):V}let Gn=(()=>{class V{static get version(){return"1.4.10"}static isSupported(){return function cs(){const V=xn();if(!V)return!1;const r=to();return!(!V||"function"!=typeof V.isTypeSupported||!V.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||r&&(!r.prototype||"function"!=typeof r.prototype.appendBuffer||"function"!=typeof r.prototype.remove))}()}static get Events(){return S}static get ErrorTypes(){return x}static get ErrorDetails(){return A}static get DefaultConfig(){return V.defaultConfig?V.defaultConfig:Ye}static set DefaultConfig(l){V.defaultConfig=l}constructor(l={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ao,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function L(V,r){if(self.console&&!0===V||"object"==typeof V){!function T(V,...r){r.forEach(function(l){C[l]=V[l]?V[l].bind(V):function I(V){const r=self.console[V];return r?r.bind(self.console,`[${V}] >`):N}(l)})}(V,"debug","log","info","warn","error");try{C.log(`Debug logs enabled for "${r}" in hls.js version 1.4.10`)}catch{C=O}}else C=O}(l.debug||!1,"Hls instance");const h=this.config=function Ht(V,r){if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==r.liveMaxLatencyDurationCount&&(void 0===r.liveSyncDurationCount||r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(void 0===r.liveSyncDuration||r.liveMaxLatencyDuration<=r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const l=hn(V),M=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(k=>{const j=`${"level"===k?"playlist":k}LoadPolicy`,te=void 0===r[j],De=[];M.forEach(Pe=>{const lt=`${k}Loading${Pe}`,pt=r[lt];if(void 0!==pt&&te){De.push(lt);const Bt=l[j].default;switch(r[j]={default:Bt},Pe){case"TimeOut":Bt.maxLoadTimeMs=pt,Bt.maxTimeToFirstByteMs=pt;break;case"MaxRetry":Bt.errorRetry.maxNumRetry=pt,Bt.timeoutRetry.maxNumRetry=pt;break;case"RetryDelay":Bt.errorRetry.retryDelayMs=pt,Bt.timeoutRetry.retryDelayMs=pt;break;case"MaxRetryTimeout":Bt.errorRetry.maxRetryDelayMs=pt,Bt.timeoutRetry.maxRetryDelayMs=pt}}}),De.length&&y.warn(`hls.js config: "${De.join('", "')}" setting(s) are deprecated, use "${j}": ${JSON.stringify(r[j])}`)}),m(m({},l),r)}(V.DefaultConfig,l);this.userConfig=l,this._autoLevelCapping=-1,h.progressive&&function Ln(V){const r=V.loader;r!==Qs&&r!==zr?(y.log("[config]: Custom loader detected, cannot enable progressive streaming"),V.progressive=!1):function yo(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(V.loader=Qs,V.progressive=!0,V.enableSoftwareAES=!0,y.log("[config]: Progressive streaming enabled, using FetchLoader"))}(h);const{abrController:M,bufferController:k,capLevelController:j,errorController:te,fpsController:De}=h,Pe=new te(this),lt=this.abrController=new M(this),pt=this.bufferController=new k(this),Bt=this.capLevelController=new j(this),jt=new De(this),Xt=new vs(this),cn=new $i(this),bn=h.contentSteeringController,Bn=bn?new bn(this):null,ti=this.levelController=new mr(this,Bn),zn=new ys(this),ui=new ha(this.config),oi=this.streamController=new $c(this,zn,ui);Bt.setStreamController(oi),jt.setStreamController(oi);const Ai=[Xt,ti,oi];Bn&&Ai.splice(1,0,Bn),this.networkControllers=Ai;const hi=[lt,pt,Bt,jt,cn,zn];this.audioTrackController=this.createController(h.audioTrackController,Ai);const Di=h.audioStreamController;Di&&Ai.push(new Di(this,zn,ui)),this.subtitleTrackController=this.createController(h.subtitleTrackController,Ai);const wi=h.subtitleStreamController;wi&&Ai.push(new wi(this,zn,ui)),this.createController(h.timelineController,hi),ui.emeController=this.emeController=this.createController(h.emeController,hi),this.cmcdController=this.createController(h.cmcdController,hi),this.latencyController=this.createController(Pr,hi),this.coreComponents=hi,Ai.push(Pe);const ci=Pe.onErrorOut;"function"==typeof ci&&this.on(S.ERROR,ci,Pe)}createController(l,h){if(l){const M=new l(this);return h&&h.push(M),M}return null}on(l,h,M=this){this._emitter.on(l,h,M)}once(l,h,M=this){this._emitter.once(l,h,M)}removeAllListeners(l){this._emitter.removeAllListeners(l)}off(l,h,M=this,k){this._emitter.off(l,h,M,k)}listeners(l){return this._emitter.listeners(l)}emit(l,h,M){return this._emitter.emit(l,h,M)}trigger(l,h){if(this.config.debug)return this.emit(l,l,h);try{return this.emit(l,l,h)}catch(M){y.error("An internal error happened while handling event "+l+'. Error message: "'+M.message+'". Here is a stacktrace:',M),this.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.INTERNAL_EXCEPTION,fatal:!1,event:l,error:M})}return!1}listenerCount(l){return this._emitter.listenerCount(l)}destroy(){y.log("destroy"),this.trigger(S.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(h=>h.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(h=>h.destroy()),this.coreComponents.length=0;const l=this.config;l.xhrSetup=l.fetchSetup=void 0,this.userConfig=null}attachMedia(l){y.log("attachMedia"),this._media=l,this.trigger(S.MEDIA_ATTACHING,{media:l})}detachMedia(){y.log("detachMedia"),this.trigger(S.MEDIA_DETACHING,void 0),this._media=null}loadSource(l){this.stopLoad();const h=this.media,M=this.url,k=this.url=P.buildAbsoluteURL(self.location.href,l,{alwaysNormalize:!0});y.log(`loadSource:${k}`),h&&M&&(M!==k||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(h)),this.trigger(S.MANIFEST_LOADING,{url:l})}startLoad(l=-1){y.log(`startLoad(${l})`),this.networkControllers.forEach(h=>{h.startLoad(l)})}stopLoad(){y.log("stopLoad"),this.networkControllers.forEach(l=>{l.stopLoad()})}swapAudioCodec(){y.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){y.log("recoverMediaError");const l=this._media;this.detachMedia(),l&&this.attachMedia(l)}removeLevel(l,h=0){this.levelController.removeLevel(l,h)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(l){y.log(`set currentLevel:${l}`),this.loadLevel=l,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(l){y.log(`set nextLevel:${l}`),this.levelController.manualLevel=l,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(l){y.log(`set loadLevel:${l}`),this.levelController.manualLevel=l}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(l){this.levelController.nextLoadLevel=l}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(l){y.log(`set firstLevel:${l}`),this.levelController.firstLevel=l}get startLevel(){return this.levelController.startLevel}set startLevel(l){y.log(`set startLevel:${l}`),-1!==l&&(l=Math.max(l,this.minAutoLevel)),this.levelController.startLevel=l}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(l){const h=!!l;h!==this.config.capLevelToPlayerSize&&(h?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=h)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:l}=this.abrController;return l?l.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:l}=this.abrController;return l?l.getEstimateTTFB():NaN}set autoLevelCapping(l){this._autoLevelCapping!==l&&(y.log(`set autoLevelCapping:${l}`),this._autoLevelCapping=l)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(l){Kr.indexOf(l)>-1&&(this._maxHdcpLevel=l)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:l,config:{minAutoBitrate:h}}=this;if(!l)return 0;const M=l.length;for(let k=0;k<M;k++)if(l[k].maxBitrate>=h)return k;return 0}get maxAutoLevel(){const{levels:l,autoLevelCapping:h,maxHdcpLevel:M}=this;let k;if(k=-1===h&&l&&l.length?l.length-1:h,M)for(let j=k;j--;){const te=l[j].attrs["HDCP-LEVEL"];if(te&&te<=M)return j}return k}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(l){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,l)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const l=this.audioTrackController;return l?l.audioTracks:[]}get audioTrack(){const l=this.audioTrackController;return l?l.audioTrack:-1}set audioTrack(l){const h=this.audioTrackController;h&&(h.audioTrack=l)}get subtitleTracks(){const l=this.subtitleTrackController;return l?l.subtitleTracks:[]}get subtitleTrack(){const l=this.subtitleTrackController;return l?l.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(l){const h=this.subtitleTrackController;h&&(h.subtitleTrack=l)}get subtitleDisplay(){const l=this.subtitleTrackController;return!!l&&l.subtitleDisplay}set subtitleDisplay(l){const h=this.subtitleTrackController;h&&(h.subtitleDisplay=l)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(l){this.config.lowLatencyMode=l}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return V.defaultConfig=void 0,V})();var Qn=p(863),Ci=p(7700),Zt=p(5879),Li=p(6814);function qi(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",7),Zt.NdJ("click",function(){const k=Zt.CHM(l).$implicit,j=Zt.oxw();return Zt.KtG(j.onClickDialogAction(k))}),Zt._uU(1),Zt.qZA()}if(2&V){const l=r.$implicit;Zt.xp6(1),Zt.Oqu(l.text)}}let Ho=(()=>{class V{constructor(l,h){this.dialog=l,this.options=h}onClickDialogAction(l){this.dialog.close(l)}static#e=this.\u0275fac=function(h){return new(h||V)(Zt.Y36(Ci.so),Zt.Y36(Ci.WI))};static#t=this.\u0275cmp=Zt.Xpm({type:V,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(h,M){1&h&&(Zt.TgZ(0,"div",0)(1,"h5",1),Zt._uU(2),Zt.qZA()(),Zt.TgZ(3,"div",2)(4,"div",3),Zt._uU(5),Zt.qZA()(),Zt.TgZ(6,"div",4)(7,"div",5),Zt.YNc(8,qi,2,1,"ng-template",6),Zt.qZA()()),2&h&&(Zt.xp6(2),Zt.Oqu(M.options.title),Zt.xp6(3),Zt.hij(" ",M.options.message," "),Zt.xp6(3),Zt.Q6J("ngForOf",M.options.actions))},dependencies:[Li.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return V})();var Dc=p(7394);class al{}class rc{}class bo{}class qs{}class Mc{}var yd=p(7541),td=p(5908),dd=p(1044),bd=p(9429);let Ac=(()=>{class V{constructor(l){this.restProvider=l}createTranscodedMediaFile(l,h){return new Promise((M,k)=>{this.restProvider.executeHttpMediaServerApi(Qn.yw.POST,l+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",h).then(te=>{M(te)},te=>{k(te)})})}retranscodeMediaFile(l,h){return new Promise((M,k)=>{this.restProvider.executeHttpMediaServerApi(Qn.yw.PUT,l+"/api/mediaFilePlaybacks/RetranscodeMediaFile",h).then(te=>{M(te)},te=>{k(te)})})}static#e=this.\u0275fac=function(h){return new(h||V)(Zt.LFG(bd.C))};static#t=this.\u0275prov=Zt.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})();var xc=p(5731),Hc=p(1367),Ed=p(9862);const Kd=["controlsContainer"],ud=["settingsContainer"],Wd=["videoPrincipalContainer"],Rd=["videoTarget"];function fd(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",55),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.goToPreviousEpisode())}),Zt._UZ(1,"i",56),Zt.qZA()}}function nd(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",57),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.goToNextEpisode())}),Zt._UZ(1,"i",58),Zt.qZA()}}function Nd(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",59,60),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.playOrPauseVideo())}),Zt._UZ(2,"i",61),Zt.qZA()}}function Le(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",62,63),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.playOrPauseVideo())}),Zt._UZ(2,"i",64),Zt.qZA()}}const W=function(V){return{"show-controls":V}};function se(V,r){if(1&V&&(Zt.TgZ(0,"div",65),Zt._uU(1," Cargando video... "),Zt.qZA()),2&V){const l=Zt.oxw(2);Zt.Q6J("ngClass",Zt.VKq(1,W,l.showControls))}}const Je=function(V){return{selected:V}};function Kt(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",76),Zt.NdJ("click",function(){const k=Zt.CHM(l).$implicit,j=Zt.oxw(3);return Zt.KtG(j.onClickPrincipalSettingsOption(k))}),Zt._uU(1),Zt.qZA()}if(2&V){const l=r.$implicit,h=Zt.oxw(3);Zt.MGl("id","stream_option_",l.index,""),Zt.Q6J("ngClass",Zt.VKq(3,Je,h.currentSelectedPrincipalSettingOption&&l.index==h.currentSelectedPrincipalSettingOption.index)),Zt.xp6(1),Zt.hij(" ",l.name," ")}}function an(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",76),Zt.NdJ("click",function(){const k=Zt.CHM(l).$implicit,j=Zt.oxw(4);return Zt.KtG(j.onClickStreamOption(k))}),Zt._uU(1),Zt.qZA()}if(2&V){const l=r.$implicit,h=Zt.oxw(4);Zt.hYB("id","stream_option_",h.currentSelectedPrincipalSettingOption.id,"_suboption_",l.index,""),Zt.Q6J("ngClass",Zt.VKq(4,Je,h.currentSelectedPrincipalSettingOption.selectedOption&&h.currentSelectedPrincipalSettingOption.selectedOption.index==l.index)),Zt.xp6(1),Zt.hij(" ",l.name," ")}}function Hn(V,r){if(1&V&&(Zt.TgZ(0,"section",77),Zt.YNc(1,an,2,6,"ng-template",74),Zt.qZA()),2&V){const l=Zt.oxw(3);Zt.MGl("id","streams_suboptions_section_",l.currentSelectedPrincipalSettingOption.index,""),Zt.xp6(1),Zt.Q6J("ngForOf",l.currentSelectedPrincipalSettingOption.listOptions)}}function ri(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"section",66,67)(2,"div",68)(3,"section",69)(4,"div",70)(5,"div",71)(6,"button",72),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.hideSettings())}),Zt._UZ(7,"i",11),Zt.qZA()()()(),Zt.TgZ(8,"section",73),Zt.YNc(9,Kt,2,5,"ng-template",74),Zt.qZA(),Zt.YNc(10,Hn,2,2,"section",75),Zt.qZA()()}if(2&V){const l=Zt.oxw(2);Zt.xp6(9),Zt.Q6J("ngForOf",l.listPrincipalSettingsOptions),Zt.xp6(1),Zt.Q6J("ngIf",l.currentSelectedPrincipalSettingOption)}}function Si(V,r){if(1&V&&Zt._UZ(0,"div",78),2&V){const l=r.$implicit,h=Zt.oxw(3);Zt.Udp("display",h.checkIfDisplaySubtitles(l)?"block":"none"),Zt.Q6J("innerHtml",l.text,Zt.oJD)}}function Ii(V,r){if(1&V&&Zt.YNc(0,Si,1,3,"ng-template",74),2&V){const l=Zt.oxw(2);Zt.Q6J("ngForOf",l.currentSubtitleData)}}function Yi(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"video",79,80),Zt.NdJ("error",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.onErrorVideo())})("loadedmetadata",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.onLoadedMetadata())})("loadeddata",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.onLoadedData())})("ended",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.OnEndedVideo())}),Zt.qZA()}}const Cr=function(V){return{show:V}};function Ps(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"div",4,5),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.MAs(1),k=Zt.oxw();return Zt.KtG(!k.commonService.isMobileDevice()&&k.onClickVideoContainer(M))})("touchstart",function(){Zt.CHM(l);const M=Zt.MAs(1),k=Zt.oxw();return Zt.KtG(k.commonService.isMobileDevice()&&k.onTouchVideoContainer(M))})("mousemove",function(){Zt.CHM(l);const M=Zt.MAs(1),k=Zt.oxw();return Zt.KtG(k.onMouseMoveVideoContainer(M))}),Zt.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.closeVideo())}),Zt._UZ(7,"i",11),Zt.qZA(),Zt.TgZ(8,"div",12),Zt._uU(9),Zt.qZA()(),Zt.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),Zt._uU(16),Zt.qZA(),Zt.TgZ(17,"div",19)(18,"div",20),Zt.NdJ("contextmenu",function(){Zt.CHM(l);const M=Zt.MAs(23),k=Zt.oxw();return Zt.KtG(!k.commonService.isMobileDevice()&&k.onClickSlider(M))})("click",function(){Zt.CHM(l);const M=Zt.MAs(23),k=Zt.oxw();return Zt.KtG(k.onClickSlider(M))})("touchend",function(){Zt.CHM(l);const M=Zt.MAs(23),k=Zt.oxw();return Zt.KtG(k.commonService.isMobileDevice()&&k.onClickSlider(M))})("touchstart",function(M){Zt.CHM(l);const k=Zt.MAs(23),j=Zt.MAs(15),te=Zt.oxw();return Zt.KtG(te.commonService.isMobileDevice()&&te.onTouchStartSlider(M,k,j))})("touchmove",function(M){Zt.CHM(l);const k=Zt.MAs(23),j=Zt.MAs(15),te=Zt.oxw();return Zt.KtG(te.commonService.isMobileDevice()&&te.onTouchMoveSlider(M,k,j))})("mousedown",function(M){Zt.CHM(l);const k=Zt.MAs(23),j=Zt.oxw();return Zt.KtG(j.onMouseDownSlider(M,k))})("mousemove",function(M){Zt.CHM(l);const k=Zt.MAs(23),j=Zt.oxw();return Zt.KtG(j.onMouseMoveSlider(M,k))}),Zt._UZ(19,"div",21,22),Zt.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),Zt._UZ(26,"div",27,28),Zt.qZA()()()()(),Zt.TgZ(28,"div",17,29),Zt._uU(30),Zt.qZA()()(),Zt.TgZ(31,"section",30)(32,"div",31),Zt.YNc(33,fd,2,0,"button",32),Zt.qZA(),Zt.TgZ(34,"div",33)(35,"div",34),Zt.YNc(36,nd,2,0,"button",35),Zt.TgZ(37,"button",36),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.onChangeObjectContain())}),Zt._UZ(38,"i",37),Zt.qZA(),Zt.TgZ(39,"button",38),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.toggleFullScreenVideo())}),Zt._UZ(40,"i",39),Zt.qZA(),Zt.TgZ(41,"button",40),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.showSettings())}),Zt._UZ(42,"i",41),Zt.qZA()()()(),Zt.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.rewindVideo())}),Zt._UZ(47,"i",46),Zt.qZA(),Zt.YNc(48,Nd,3,0,"button",47),Zt.YNc(49,Le,3,0,"button",48),Zt.TgZ(50,"button",49),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.forwardVideo())}),Zt._UZ(51,"i",50),Zt.qZA()()()()()()(),Zt.YNc(52,se,2,3,"div",51),Zt.YNc(53,ri,11,2,"section",52),Zt.YNc(54,Ii,1,1,"ng-template",53),Zt.YNc(55,Yi,2,0,"video",54),Zt.qZA()()}if(2&V){const l=Zt.MAs(15),h=Zt.MAs(20),M=Zt.MAs(29),k=Zt.oxw();Zt.xp6(3),Zt.Q6J("ngClass",Zt.VKq(22,Cr,k.showControls)),Zt.xp6(6),Zt.hij(" ",k.GetFullVideoTitle()," "),Zt.xp6(5),Zt.Udp("visibility",k.showControls?"":"hidden"),Zt.xp6(2),Zt.hij(" ",k.getVideoTime()," "),Zt.xp6(1),Zt.Udp("width","calc(100% - "+(l.offsetWidth+M.offsetWidth)+"px)"),Zt.xp6(5),Zt.Udp("width",h.offsetWidth+"px"),Zt.xp6(4),Zt.Udp("width",k.getSliderPogressWidth()),Zt.xp6(2),Zt.Udp("visibility",k.showControls?"":"hidden"),Zt.xp6(2),Zt.hij(" ",k.getDurationTime()," "),Zt.xp6(3),Zt.Q6J("ngIf",k.isEnablePreviousEpisodeButton()),Zt.xp6(3),Zt.Q6J("ngIf",k.isEnableNextEpisodeButton()),Zt.xp6(12),Zt.Q6J("ngIf",!k.isPlayingVideo()),Zt.xp6(1),Zt.Q6J("ngIf",k.isPlayingVideo()),Zt.xp6(3),Zt.Q6J("ngIf",!k.loadedData),Zt.xp6(1),Zt.Q6J("ngIf",k.showingSettings),Zt.xp6(1),Zt.Q6J("ngIf",k.currentSubtitleData),Zt.xp6(1),Zt.Q6J("ngIf",k.showVideoTarget)}}let oc=(()=>{class V{constructor(l,h,M,k,j,te,De,Pe,lt,pt){this.signalIrService=l,this.activeRoute=h,this.router=M,this.libraryService=k,this.dialog=j,this.mediaFilePlaybackService=te,this.commonService=De,this.sharedDataService=Pe,this.ref=lt,this.http=pt,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.subscription=new Dc.w0,this.isRetranscoding=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Bt=>{this.mediaServer&&this.mediaServer.Guid==Bt&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Bt=>{this.mediaServer&&this.mediaServer.Guid==Bt&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+Bt))})),this.subscription.add(this.signalIrService.isRemovedMediaFilePlayback().subscribe(Bt=>{this.mediaServer&&this.mediaServer.Guid==Bt.mediaServerGuid&&this.transcodedMediaFile&&this.transcodedMediaFile.Guid==Bt.mediaFilePlaybackGuid&&this.router.navigateByUrl("/media/server/"+Bt.mediaServerGuid)}))}ngOnInit(){this.initializeEventsAndIntervals();var l=this.activeRoute.snapshot.params.serverGuid;if(null!=l){var h=this.sharedDataService.mediaServers.find(M=>M.Guid==l);h&&(this.mediaServer=JSON.parse(JSON.stringify(h)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+l)},3e3))}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.subscription.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction),!this.sharedDataService.configurationData.alwaysFullScreen&&document.fullscreenElement&&document.exitFullscreen(),this.deleteTranscodedMediaFile()}initializeEventsAndIntervals(){let l=this;this.customMouseOutEvent=function(M){l.sliderContainer&&l.sliderContainer.startMove&&l.onClickSlider(l.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(M){l.deleteTranscodedMediaFile()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){l.mediaServer&&l.transcodedMediaFile&&!l.isRetranscoding&&l.signalIrService.updateCurrentTimeMediaFilePlayBack(l.mediaServer.Guid,l.transcodedMediaFile.Guid,l.getCurrentVideoTime(),l.isPlayingVideo()),l.ref.detectChanges()},0)}getMediaItemDetailByMediaFileAndProfile(){var l=this.activeRoute.snapshot.params.mediaFileId;l?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,l,this.sharedDataService.currentProfile.Id).then(h=>{this.itemDetail=h,this.CreateTranscodedMediaFile()},h=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}CreateTranscodedMediaFile(){var l=0;this.itemDetail.MediaFileProfile&&(l=this.itemDetail.MediaFileProfile.CurrentTime>20?this.itemDetail.MediaFileProfile.CurrentTime-20:0),this.createTranscodedMediaFile(l)}getVideoByEpisode(l){this.deleteTranscodedMediaFile(),this.itemDetail.ListSeasons&&(this.itemDetail.CurrentSeason=this.itemDetail.ListSeasons.find(h=>h.SeasonNumber==l.SeasonNumber),this.itemDetail.CurrentEpisode=this.itemDetail.CurrentSeason.ListEpisodes.find(h=>h.EpisodeNumber==l.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.transcodedMediaFile=void 0,this.createTranscodedMediaFile(0)}createTranscodedMediaFile(l){this.mediaFilePlaybackService.createTranscodedMediaFile(this.mediaServer.Url,this.GetMediaFilePlayback(l)).then(h=>{this.loadStatus=Qn.O5.Generated,this.transcodedMediaFile=h.Data,this.initializeStreams(),this.getVideoSource()},h=>{this.showLoadVideoErrorActionsDialog(),console.error(h)})}GetMediaFilePlayback(l){var h;(h=new al).Guid=(0,t.Z)();var M=new rc;M.ProfileId=this.sharedDataService.currentProfile.Id,M.ProfileName=this.sharedDataService.currentProfile.FullName,M.AvatarPath=this.sharedDataService.currentProfile.AvatarPath,h.ProfileData=M;var k=new bo;if(k.DeviceData=this.sharedDataService.deviceData,k.IsPlaying=!1,k.CurrentTime=l,h.ClientData=k,this.itemDetail.MediaItem.MediaTypeId==Qn.DD.Movie){var j=new qs,te=this.itemDetail.ListMediaFiles[0];j.Title=this.itemDetail.MediaItem.ExtendedTitle,j.PhysicalPath=te.PhysicalPath,j.MediaFileId=te.Id,j.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,te),h.ItemData=j}return this.itemDetail.MediaItem.MediaTypeId==Qn.DD.TvSerie&&((j=new qs).MediaFileId=(te=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,j.PhysicalPath=te.PhysicalPath,j.Title=this.itemDetail.MediaItem.Title,j.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name,j.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,te),h.ItemData=j),h}retranscodeMediaFile(l){this.deleteLastTranscodedMediaFileProcess();var h=new Mc;h.Guid=this.transcodedMediaFile.Guid,h.NewTime=l,this.loadStatus=Qn.O5.Empty,this.isRetranscoding=!0,this.mediaFilePlaybackService.retranscodeMediaFile(this.mediaServer.Url,h).then(M=>{this.isRetranscoding=!1,this.transcodedMediaFile.InitialTime=l,this.transcodedMediaFile.Url=M.Data,this.loadStatus=Qn.O5.Generated,this.updateAudioAndVideoList(),this.getVideoSource()},M=>{this.isRetranscoding=!1,this.showLoadVideoErrorActionsDialog(),console.error(M)})}deleteTranscodedMediaFile(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeMediaFilePlayBack(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}deleteLastTranscodedMediaFileProcess(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeLastTranscodedMediaFileProcess(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}GetFullVideoTitle(){var l="";return this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Qn.DD.Movie&&(l=this.itemDetail.MediaItem.ExtendedTitle),this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Qn.DD.TvSerie&&(l=this.itemDetail.MediaItem.Title+" T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),l}isEnablePreviousEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(j=>j.EpisodeNumber==M))return!0;{let j=l-1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==j);if(-1!=te){let De=this.itemDetail.ListSeasons[te];return!!(De&&De.ListEpisodes&&De.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(j=>j.EpisodeNumber==M))return!0;{let j=l+1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==j);if(-1!=te){let De=this.itemDetail.ListSeasons[te];return!!(De&&De.ListEpisodes&&De.ListEpisodes.length)}return!1}}return!1}goToNextEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber+1,k=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(j=>j.EpisodeNumber==M);if(-1!=k)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[k]);else{let j=l+1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==j);if(-1!=te){let De=this.itemDetail.ListSeasons[te];this.itemDetail.CurrentSeason=De,De&&De.ListEpisodes&&De.ListEpisodes.length&&this.getVideoByEpisode(De.ListEpisodes[0])}}}}goToPreviousEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber-1,k=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(j=>j.EpisodeNumber==M);if(-1!=k)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[k]);else{let j=l+1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==j);if(-1!=te){let De=this.itemDetail.ListSeasons[te];this.itemDetail.CurrentSeason=De,De&&De.ListEpisodes&&De.ListEpisodes.length&&this.getVideoByEpisode(De.ListEpisodes[De.ListEpisodes.length-1])}}}}onTouchVideoContainer(l){this.showingSettings||this.commonService.isMobileDevice()&&this.showControlsTemporarily(l)}onClickVideoContainer(l){this.showingSettings||(l.clicked=!0,setTimeout(()=>{l.clicked=!1},2e3),this.commonService.isMobileDevice()||this.showControlsTemporarily(l))}onTouchStartSlider(l,h,M){this.sliderContainer=h,h.startMove=!0,this.lastTmpVideoTime=(l.changedTouches[0].clientX-M.offsetWidth-8-4)/h.offsetWidth*100*this.transcodedMediaFile.Duration/100}onTouchMoveSlider(l,h,M){h.startMove&&(this.lastTmpVideoTime=(l.changedTouches[0].clientX-M.offsetWidth-8-4)/h.offsetWidth*100*this.transcodedMediaFile.Duration/100)}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(l){this.currentSelectedPrincipalSettingOption=l}onClickStreamOption(l){this.currentSelectedPrincipalSettingOption.selectedOption=l,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=l.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==l.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=l.index,this.hls.subtitleDisplay=!0))}getPosterPath(l,h){return l.MetadataAgentsId==Qn.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+l.PosterPath:l.PosterPath?l.PosterPath:this.mediaServer.Url+"/media/"+h.Guid+"/thumbnail.png"}getSubtitle(l){let h=this;this.http.get(l,{responseType:"text"}).subscribe(M=>{M&&(0,v.Q)(M)&&(0,v.Q)(M).entries?(h.currentSubtitleData=(0,v.Q)(M).entries,0==h.currentSubtitleData.length?setTimeout(()=>{h.getSubtitle(l)},1e3):h.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{h.getSubtitle(l)},1e3))},M=>{console.error(M),setTimeout(()=>{h.getSubtitle(l)},1e3)})}closeVideo(){this.router.navigateByUrl("/home")}getConfirmMessage(){var l="Vacio";switch(this.loadStatus){case Qn.O5.Empty:l="Vac\xedo";break;case Qn.O5.Generated:l="Generado";break;case Qn.O5.Initialized:l="Inicializado";break;case Qn.O5.LoadedMetada:l="Cargado Metadata";break;case Qn.O5.LoadedData:l="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+l+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.transcodedMediaFile.ListAudioStreams&&this.transcodedMediaFile.ListAudioStreams.length>0&&(this.transcodedMediaFile.ListAudioStreams.forEach(l=>{let h="";"spa"==l.language&&(h="Espa\xf1ol"),"eng"==l.language&&(h="Ingles"),l.title&&(h=h+" ("+l.title+")"),l.name=h}),this.listPrincipalSettingsOptions[0].listOptions=this.transcodedMediaFile.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.transcodedMediaFile.ListAudioStreams.find(l=>1==l.isDefault)),this.transcodedMediaFile.ListSubtitleStreams&&this.transcodedMediaFile.ListSubtitleStreams.length>0){this.transcodedMediaFile.ListSubtitleStreams.forEach(M=>{let k="";"spa"==M.language&&(k="Espa\xf1ol"),"eng"==M.language&&(k="Ingles"),M.title&&(k=k+" ("+M.title+")"),M.name=k});let l=[];l.push({index:1e6,name:"Ninguno"}),l=l.concat(this.transcodedMediaFile.ListSubtitleStreams),this.listPrincipalSettingsOptions[1].listOptions=l;let h=this.transcodedMediaFile.ListSubtitleStreams.find(M=>1==M.isDefault);null==h&&(h=l.find(M=>1e6==M.index)),this.listPrincipalSettingsOptions[1].selectedOption=h}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.transcodedMediaFile.InitialTime?this.transcodedMediaFile.InitialTime:0}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.Duration?this.getFormatTime(this.transcodedMediaFile.Duration):"00:00:00"}getFormatTime(l){var h=parseInt(l,10),M=Math.floor(h/3600),k=Math.floor((h-3600*M)/60),j=h-3600*M-60*k;return M<10&&(M="0"+M),k<10&&(k="0"+k),j<10&&(j="0"+j),M+":"+k+":"+j}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let l=this.getCurrentVideoTime();return null!=l&&l>0?this.getFormatTime(l):"00:00:00"}}onMouseDownSlider(l,h){this.sliderContainer=h,h.startMove=!0,this.calculateNewTimeToGo(l,h)}onMouseMoveSlider(l,h){h.startMove&&this.calculateNewTimeToGo(l,h)}calculateNewTimeToGo(l,h){this.lastTmpVideoTime=l.offsetX/h.offsetWidth*100*this.transcodedMediaFile.Duration/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(l){if(this.lastTmpVideoTime){if(l.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let h=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(h)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let h=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(h)}this.lastTmpVideoTime=void 0}}getSliderPogressWidth(){if(this.transcodedMediaFile&&this.transcodedMediaFile.Duration){let l=this.transcodedMediaFile.Duration,M=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/l*100;return M>100&&(M=100),M+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(l){let h=this;this.dashMediaPlayer=e.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.transcodedMediaFile.Duration,bufferToKeep:this.transcodedMediaFile.Duration}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,l),this.dashMediaPlayer.on(e.MediaPlayer.events.ERROR,function(M){console.log(M),console.error("hubo un error")}),this.dashMediaPlayer.on(e.MediaPlayer.events.PLAYBACK_ERROR,function(M){console.log(M),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(e.MediaPlayer.events.PLAYBACK_WAITING,function(M){console.error("PLAYBACK_WAITING"),console.log(M)}),this.dashMediaPlayer.on(e.MediaPlayer.events.BUFFER_EMPTY,function(M){console.error("BUFFER_EMPTY"),console.log(M)}),this.dashMediaPlayer.on(e.MediaPlayer.events.STREAM_INITIALIZED,function(M){console.error("STREAM_INITIALIZED"),h.initializeVideo=!0,console.log(M)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}getCurrentVideoTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(l){let M=1e3*(this.getCurrentVideoTime()-1);return l.from<=M&&l.to>=M}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.loadStatus=Qn.O5.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.loadStatus=Qn.O5.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}getVideoSource(){this.http.get(this.transcodedMediaFile.Url,{headers:void 0,responseType:"blob"}).subscribe(l=>{this.loadStatus=Qn.O5.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.transcodedMediaFile.Url.indexOf("mpd")?this.displayVideoUsingDash(this.transcodedMediaFile.Url):-1!=this.transcodedMediaFile.Url.indexOf("m3u8")?this.displayVideoUsingHLS(this.transcodedMediaFile.Url):(this.videoTarget.nativeElement.src=this.transcodedMediaFile.Url,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},l=>{console.error(l),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(l){let h=this;this.timeOutLoadVideoId=setTimeout(()=>{h.loadStatus!=Qn.O5.LoadedData&&h.showLoadVideoErrorActionsDialog()},1e4,h),this.showVideoInFullScreen(),Gn.isSupported()?(this.hls=new Gn,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(l),this.hls.on(Gn.Events.MEDIA_ATTACHED,function(M){console.log("MEDIA_ATTACHED"),console.log(M)}),this.hls.on(Gn.Events.AUDIO_TRACK_LOADED,function(M){console.log("AUDIO_LOADED"),console.log(M)}),this.hls.on(Gn.Events.MANIFEST_LOADED,function(M){console.log("MANIFEST_LOADED"),console.log(M)}),this.hls.on(Gn.Events.MANIFEST_PARSED,function(M){console.log("MANIFEST_PARSED"),console.log(M)}),this.hls.on(Gn.Events.ERROR,function(M){h.videoTarget.nativeElement.CurrentTime=h.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(M)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=l,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(l){let h=(0,t.Z)();this.lastTimeSpanChangeGUID=h,setTimeout(()=>{h==this.lastTimeSpanChangeGUID&&this.retranscodeMediaFile(l)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(l){this.initializeVideo=!1;let h=0;h=this.getCurrentVideoTime()-l>=0?l:this.getCurrentVideoTime(),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>h?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-h):(this.lastRealVideoTime=this.getCurrentVideoTime()-h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>h?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-h:(this.lastRealVideoTime=this.getCurrentVideoTime()-h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(l){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.transcodedMediaFile.Duration){let h=0;h=this.getCurrentVideoTime()+l>this.transcodedMediaFile.Duration?this.transcodedMediaFile.Duration>this.getCurrentVideoTime()?this.transcodedMediaFile.Duration-this.getCurrentVideoTime():0:l,this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=h?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+h):(this.lastRealVideoTime=this.getCurrentVideoTime()+h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=h?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+h:(this.lastRealVideoTime=this.getCurrentVideoTime()+h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(l){!this.showControls&&!l.clicked&&!this.showingSettings&&this.showControlsTemporarily(l)}executeShowControlsTemporarily(l,h){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{l.guid==h&&this.executeHideControls()},2e3)}showControlsTemporarily(l){if(!this.showControls){let h=(0,t.Z)();l.guid=h,this.commonService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(l,h)},250):this.executeShowControlsTemporarily(l,h)}}toogleVideoControls(l){this.showControls?this.showControls=!0:this.showControlsTemporarily(l)}showLoadVideoErrorActionsDialog(){var l=new Ci.vA;l.disableClose=!0,l.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(Ho,l).afterClosed().subscribe(h=>{"Si"==h.key&&this.onConfirmReplyVideo(),"No"==h.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(h){return new(h||V)(Zt.Y36(yd.n),Zt.Y36(td.gz),Zt.Y36(td.F0),Zt.Y36(dd.$),Zt.Y36(Ci.uw),Zt.Y36(Ac),Zt.Y36(xc.v),Zt.Y36(Hc.g),Zt.Y36(Zt.sBO),Zt.Y36(Ed.eN))};static#t=this.\u0275cmp=Zt.Xpm({type:V,selectors:[["app-item-video"]],viewQuery:function(h,M){if(1&h&&(Zt.Gf(Kd,5),Zt.Gf(ud,5),Zt.Gf(Wd,5),Zt.Gf(Rd,5)),2&h){let k;Zt.iGM(k=Zt.CRH())&&(M.controlsContainer=k.first),Zt.iGM(k=Zt.CRH())&&(M.settingsContainer=k.first),Zt.iGM(k=Zt.CRH())&&(M.videoPrincipalContainer=k.first),Zt.iGM(k=Zt.CRH())&&(M.videoTarget=k.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(h,M){1&h&&(Zt.TgZ(0,"div",0)(1,"div",1,2),Zt.YNc(3,Ps,56,24,"div",3),Zt.qZA()()),2&h&&(Zt.xp6(3),Zt.Q6J("ngIf",M.showVideo))},dependencies:[Li.mk,Li.sg,Li.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return V})()},1018:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>N});var e=p(7394),t=p(5879),v=p(7541),b=p(1044),g=p(5908),P=p(5731),D=p(1367),m=p(6814),i=p(5940),c=p(1444),d=p(3630);function f(O,C){if(1&O&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&O){const I=t.oxw(3);t.xp6(3),t.hij(" ",I.title," "),t.xp6(2),t.hij(" ",I.subtitle," ")}}function _(O,C){if(1&O&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,f,6,2,"div",3),t.TgZ(3,"div"),t._UZ(4,"app-media-items",4),t.qZA()()()),2&O){const I=t.oxw(2);t.xp6(2),t.Q6J("ngIf",I.title),t.xp6(1),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",I.itemsGroupList)}}function S(O,C){if(1&O&&t._UZ(0,"app-server-connection-error",9),2&O){const I=t.oxw(2);t.Q6J("mediaServer",I.currentMediaServer)}}function x(O,C){if(1&O&&(t.YNc(0,_,5,4,"ng-template",0),t.YNc(1,S,1,1,"ng-template",0)),2&O){const I=t.oxw();t.Q6J("ngIf",I.currentMediaServer&&I.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",I.currentMediaServer&&!I.currentMediaServer.isSecureConnection)}}function A(O,C){1&O&&(t.TgZ(0,"div",10),t._UZ(1,"mat-spinner"),t.qZA())}let N=(()=>{class O{constructor(I,T,L,y,B,z){this.signalIrService=I,this.libraryService=T,this.activeRoute=L,this.router=y,this.commonService=B,this.sharedDataService=z,this.itemsGroupList=[],this._window=window,this.subscription=new e.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let ne=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.loadingConnection=!1,ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByCurrentMediaServerAndCurrentLibrary())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!1,ne.clearItemsInGroup(ne.currentMediaServer.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByCurrentMediaServerAndCurrentLibrary())})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByCurrentMediaServerAndCurrentLibrary())}))}ngOnInit(){var I=this.activeRoute.snapshot.params.serverGuid;if(null!=I){var T=this.sharedDataService.mediaServers.find(L=>L.Guid==I);T?(this.currentMediaServer=JSON.parse(JSON.stringify(T)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getItemsByCurrentMediaServerAndCurrentLibrary(){var I=this.activeRoute.snapshot.params.libraryId;I?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(T=>{this.currentMediaServer.ListLibraries=T;var L=this.currentMediaServer.ListLibraries.findIndex(y=>y.Id==I);-1!=L&&(this.currentLibrary=this.currentMediaServer.ListLibraries[L],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedDataService.currentProfile.Id).then(y=>{this.setItemsInGroup(this.currentMediaServer.Id,y)},y=>{console.error(y)}))}):this.router.navigateByUrl("/404")}setItemsInGroup(I,T){T.length>0&&(T.forEach(L=>{var y=this.itemsGroupList.find(ae=>ae.Name==L.Name);if(null==y)this.itemsGroupList.push(L);else{var ne=y.ListItems.filter(ae=>ae.MediaServerId!=I).concat(L.ListItems).sort((ae,Fe)=>new Date(ae.Created).getTime()>new Date(Fe.Created).getTime()?-1:new Date(Fe.Created).getTime()>new Date(ae.Created).getTime()?1:0);y.ListItems=ne}}),this.itemsGroupList=this.itemsGroupList.sort((L,y)=>L.Id>y.Id?1:L.Id<=y.Id?-1:0))}clearItemsInGroup(I){this.itemsGroupList.forEach(T=>{var L=T.ListItems.filter(y=>y.MediaServerId!=I);T.ListItems=L.sort((y,B)=>new Date(y.Created).getTime()>new Date(B.Created).getTime()?-1:new Date(B.Created).getTime()>new Date(y.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(T){return new(T||O)(t.Y36(v.n),t.Y36(b.$),t.Y36(g.gz),t.Y36(g.F0),t.Y36(P.v),t.Y36(D.g))};static#t=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-library-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[3,"itemsGroupList"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(T,L){1&T&&(t.YNc(0,x,2,2,"ng-template",0),t.YNc(1,A,2,0,"ng-template",0)),2&T&&(t.Q6J("ngIf",!L.loadingConnection),t.xp6(1),t.Q6J("ngIf",L.loadingConnection))},dependencies:[m.O5,i.Ou,c.Z,d.y],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return O})()},2472:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>N});var e=p(7394),t=p(5879),v=p(7541),b=p(1044),g=p(5908),P=p(5731),D=p(1367),m=p(6814),i=p(5940),c=p(1444),d=p(3630);function f(O,C){if(1&O&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA()()()),2&O){const I=t.oxw(3);t.xp6(3),t.hij(" ",I.title," ")}}function _(O,C){if(1&O&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,f,4,1,"div",3),t.TgZ(3,"div"),t._UZ(4,"app-media-items",4),t.qZA()()()),2&O){const I=t.oxw(2);t.xp6(2),t.Q6J("ngIf",I.title),t.xp6(1),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",I.itemsGroupList)}}function S(O,C){if(1&O&&t._UZ(0,"app-server-connection-error",8),2&O){const I=t.oxw(2);t.Q6J("mediaServer",I.currentMediaServer)}}function x(O,C){if(1&O&&(t.YNc(0,_,5,4,"ng-template",0),t.YNc(1,S,1,1,"ng-template",0)),2&O){const I=t.oxw();t.Q6J("ngIf",I.currentMediaServer&&I.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",I.currentMediaServer&&!I.currentMediaServer.isSecureConnection)}}function A(O,C){1&O&&(t.TgZ(0,"div",9),t._UZ(1,"mat-spinner"),t.qZA())}let N=(()=>{class O{constructor(I,T,L,y,B,z){this.signalIrService=I,this.libraryService=T,this.activeRoute=L,this.router=y,this.commonService=B,this.sharedDataService=z,this.itemsGroupList=[],this._window=window,this.subscription=new e.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let ne=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.loadingConnection=!1,ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByMediaServer())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!1,ne.clearItemsInGroup(ne.currentMediaServer.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByMediaServer())})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByMediaServer())}))}ngOnInit(){var I=this.activeRoute.snapshot.params.serverGuid;if(null!=I){var T=this.sharedDataService.mediaServers.find(L=>L.Guid==I);T?(this.currentMediaServer=JSON.parse(JSON.stringify(T)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByMediaServer()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getItemsByMediaServer(){this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedDataService.currentProfile.Id).then(I=>{this.setItemsInGroup(this.currentMediaServer.Id,I)},I=>{console.error(I)})}setItemsInGroup(I,T){T.length>0&&(T.forEach(L=>{var y=this.itemsGroupList.find(ae=>ae.Name==L.Name);if(null==y)this.itemsGroupList.push(L);else{var ne=y.ListItems.filter(ae=>ae.MediaServerId!=I).concat(L.ListItems).sort((ae,Fe)=>new Date(ae.Created).getTime()>new Date(Fe.Created).getTime()?-1:new Date(Fe.Created).getTime()>new Date(ae.Created).getTime()?1:0);y.ListItems=ne}}),this.itemsGroupList=this.itemsGroupList.sort((L,y)=>L.Id>y.Id?1:L.Id<=y.Id?-1:0))}clearItemsInGroup(I){this.itemsGroupList.forEach(T=>{var L=T.ListItems.filter(y=>y.MediaServerId!=I);T.ListItems=L.sort((y,B)=>new Date(y.Created).getTime()>new Date(B.Created).getTime()?-1:new Date(B.Created).getTime()>new Date(y.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(T){return new(T||O)(t.Y36(v.n),t.Y36(b.$),t.Y36(g.gz),t.Y36(g.F0),t.Y36(P.v),t.Y36(D.g))};static#t=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-server-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[3,"itemsGroupList"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(T,L){1&T&&(t.YNc(0,x,2,2,"ng-template",0),t.YNc(1,A,2,0,"ng-template",0)),2&T&&(t.Q6J("ngIf",!L.loadingConnection),t.xp6(1),t.Q6J("ngIf",L.loadingConnection))},dependencies:[m.O5,i.Ou,c.Z,d.y],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return O})()},4748:(Wn,et,p)=>{"use strict";p.d(et,{n:()=>A});var e=p(5879),t=p(1791),v=p(5908),b=p(5731),g=p(1367),P=p(6814),D=p(5220),m=p(1531);function i(N,O){if(1&N&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&N){const C=e.oxw().$implicit,I=e.oxw(2);e.xp6(1),e.hij(" ",I.commonService.getInitials(C)," ")}}function c(N,O){if(1&N&&(e._UZ(0,"img",23),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&N){const C=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,C.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function d(N,O){1&N&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",6),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()()),2&N&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,e.xi3(4,3,"edit-profile.png","GetIconURLByKey")),e.LSH))}function f(N,O){if(1&N){const C=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const L=e.CHM(C).$implicit,y=e.oxw(2);return e.KtG(y.onSelectProfile(L))}),e.YNc(1,i,2,1,"div",20),e.YNc(2,c,3,6,"img",20),e.YNc(3,d,5,6,"div",21),e.TgZ(4,"div",22),e._uU(5),e.qZA()()}if(2&N){const C=O.$implicit,I=e.oxw(2);e.MGl("id","profile_",C.Id,""),e.xp6(1),e.Q6J("ngIf",null==C.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=C.AvatarPath),e.xp6(1),e.Q6J("ngIf",I.enableEditMode),e.xp6(2),e.hij(" ",C.FullName," ")}}function _(N,O){if(1&N&&e.YNc(0,f,6,5,"ng-template",18),2&N){const C=e.oxw();e.Q6J("ngForOf",C.sharedDataService.listProfiles)}}function S(N,O){if(1&N){const C=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(C);const T=e.oxw();return e.KtG(T.changeToEditMode())}),e._uU(1," EDITAR PERFILES "),e.qZA()}}function x(N,O){if(1&N){const C=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(C);const T=e.oxw();return e.KtG(T.confirmEdit())}),e._uU(1," LISTO "),e.qZA()}}let A=(()=>{class N{constructor(C,I,T,L){this.profileService=C,this.router=I,this.commonService=T,this.sharedDataService=L,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/profiles/add")}editProfile(C){this.router.navigateByUrl("/profiles/edit/"+C.Guid)}onSelectProfile(C){this.enableEditMode?this.editProfile(C):this.enterProfile(C)}enterProfile(C){this.sharedDataService.currentProfile=C,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedDataService.userData.Id,1,100,"Id","asc","","").then(C=>{let I=C.Data;this.sharedDataService.listProfiles=I,this.sharedDataService.currentProfile=I[0],this.showLoading=!1},C=>{this.showLoading=!1})}static#e=this.\u0275fac=function(I){return new(I||N)(e.Y36(t.H),e.Y36(v.F0),e.Y36(b.v),e.Y36(g.g))};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(I,T){if(1&I&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11," \xbfQui\xe9n eres? "),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,_,1,1,"ng-template",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return T.showNewProfile()}),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.ALo(17,"async"),e.ALo(18,"formatDataPipe"),e.qZA(),e.TgZ(19,"div",14),e._uU(20," Crear "),e.qZA()()()(),e.TgZ(21,"div",15,16),e.YNc(23,S,2,0,"ng-template",10),e.YNc(24,x,2,0,"ng-template",10),e.qZA()()(),e._UZ(25,"app-custom-spinner",17)),2&I){const L=e.MAs(4),y=e.MAs(22);e.xp6(6),e.Q6J("src",e.lcZ(7,8,e.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),e.LSH),e.xp6(3),e.Udp("height",T._window.innerWidth<768?"calc(100% - "+(L.offsetHeight+y.offsetHeight)+"px)":""),e.xp6(4),e.Q6J("ngIf",T.sharedDataService.listProfiles),e.xp6(3),e.Q6J("src",e.lcZ(17,13,e.xi3(18,15,"plus.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngIf",!T.enableEditMode),e.xp6(1),e.Q6J("ngIf",T.enableEditMode),e.xp6(1),e.Q6J("showLoading",T.showLoading)}},dependencies:[P.sg,P.O5,D.D,P.Ov,m.A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return N})()},1791:(Wn,et,p)=>{"use strict";p.d(et,{H:()=>P});var e=p(863),t=p(2372),v=p(5879),b=p(1367),g=p(9429);let P=(()=>{class D{constructor(i,c){this.sharedDataService=i,this.restProvider=c}uploadAvatarProfile(i){return new Promise((c,d)=>{this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(_=>{c(_)},_=>{console.error(_),d(_)})})}getProfileById(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAsync/"+i).then(f=>{c(f)},f=>{console.error(f),d(f)})})}getProfileByGuid(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetByGuidAsync/"+i).then(f=>{c(f)},f=>{console.error(f),d(f)})})}getAllProfiles(){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedDataService.userData.Id).then(d=>{let f=d.Data;this.sharedDataService.listProfiles=f,this.sharedDataService.currentProfile=f[0],i(!0)},d=>{c(d)})})}getProfiles(i,c,d,f,_,S,x){return new Promise((A,N)=>{let O=(0,t.Z)();this.lastCallGuid=O;var C="?page="+c.toString()+"&take="+d.toString()+"&sortBy="+f+"&sortDirection="+_+"&searchText="+S+"&searchBy="+x;this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+i+C).then(T=>{this.lastCallGuid==O&&A(T)},T=>{console.error(T),N(T)})})}saveItem(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(i.Id>0?e.yw.PUT:e.yw.POST,i.Id>0?"/profiles/Update":"/profiles/Create",i).then(S=>{c(!0)},S=>{console.error(S),d(S)})})}deleteItem(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/Delete/"+i).then(_=>{c(_)},_=>{console.error(_),d(_)})})}deleteItems(i){return new Promise((c,d)=>{let f=[];for(let x=0;x<i.length;x++)f.push(i[x].Id);var _=f.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/DeleteList/"+_).then(x=>{c(x)},x=>{console.error(x),d(x)})})}static#e=this.\u0275fac=function(c){return new(c||D)(v.LFG(b.g),v.LFG(g.C))};static#t=this.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},5529:(Wn,et,p)=>{"use strict";p.d(et,{H:()=>pe});var e=p(863),t=p(5879),v=p(9857),b=p(1367),g=p(6814),P=p(95),D=p(9429);let m=(()=>{class Ae{constructor(he){this.restProvider=he}setPassword(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/SetPassword",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}changePassword(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangePassword",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}changeUsername(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeUserName",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}changeNanes(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeNames",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.LFG(D.C))};static#t=this.\u0275prov=t.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();var i=p(5731);function c(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function d(Ae,ke){1&Ae&&t._UZ(0,"div",15)}const f=function(Ae){return{error:Ae}};let _=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new P.NI("",[P.kI.required]),confirmPassword:new P.NI("",[P.kI.required]),currentPassword:new P.NI("",[P.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedDataService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(he=>{this.loading=!1,this.closeChangePassword.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,c,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,d,1,0,"div",12),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,f,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"password")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,f,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"confirmPassword")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,f,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"currentPassword")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",Te.loading||!Te.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[g.mk,g.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function S(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function x(Ae,ke){1&Ae&&t._UZ(0,"div",14)}const A=function(Ae){return{error:Ae}};let N=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new P.NI("",[P.kI.required]),confirmPassword:new P.NI("",[P.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedDataService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(he=>{this.loading=!1,this.sharedDataService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,S,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,x,1,0,"div",11),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,A,Te.commonService.isInvalidFormControl(Te.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",Te.commonService.isInvalidFormControl(Te.setPasswordForm,"password")&&Te.commonService.hasRequireErrorFormControl(Te.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,A,Te.commonService.isInvalidFormControl(Te.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",Te.commonService.isInvalidFormControl(Te.setPasswordForm,"confirmPassword")&&Te.commonService.hasRequireErrorFormControl(Te.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",Te.loading||!Te.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[g.mk,g.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function O(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function C(Ae,ke){1&Ae&&t._UZ(0,"div",13)}const I=function(Ae){return{error:Ae}};let T=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new P.NI(this.sharedDataService.userData.UserName,[P.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedDataService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(he=>{this.loading=!1,this.sharedDataService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,O,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,C,1,0,"div",10),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,I,Te.commonService.isInvalidFormControl(Te.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",Te.commonService.isInvalidFormControl(Te.changeUsernameForm,"username")&&Te.commonService.hasRequireErrorFormControl(Te.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",Te.loading||Te.changeUsernameForm.pristine||!Te.changeUsernameForm.valid||Te.changeUsernameForm.value.username==Te.sharedDataService.userData.UserName),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[g.mk,g.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function L(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function y(Ae,ke){1&Ae&&t._UZ(0,"div",14)}const B=function(Ae){return{error:Ae}};let z=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new P.NI(this.sharedDataService.userData.FirstName,[P.kI.required]),lastName:new P.NI(this.sharedDataService.userData.LastName,[P.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedDataService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(he=>{this.loading=!1,this.sharedDataService.userData.FirstName=this.changeNamesData.FirstName,this.sharedDataService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,L,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,y,1,0,"div",11),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,B,Te.commonService.isInvalidFormControl(Te.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",Te.commonService.isInvalidFormControl(Te.changeNamesForm,"firstName")&&Te.commonService.hasRequireErrorFormControl(Te.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,B,Te.commonService.isInvalidFormControl(Te.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",Te.commonService.isInvalidFormControl(Te.changeNamesForm,"lastName")&&Te.commonService.hasRequireErrorFormControl(Te.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",Te.loading||Te.changeNamesForm.pristine||!Te.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[g.mk,g.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function ne(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&Ae){const he=t.oxw();t.xp6(9),t.Oqu(he.sharedDataService.userData.UserName)}}function ae(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function Fe(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&Ae){const he=t.oxw();t.xp6(9),t.AsE("",he.sharedDataService.userData.FirstName," ",he.sharedDataService.userData.LastName,"")}}function Y(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function le(Ae,ke){1&Ae&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function G(Ae,ke){1&Ae&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function Se(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,le,2,0,"span",18),t.YNc(9,G,2,0,"span",18),t.qZA()()()}if(2&Ae){const he=t.oxw();t.xp6(8),t.Q6J("ngIf",he.sharedDataService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!he.sharedDataService.userData.IsPasswordSetted)}}function ce(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function ge(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function Ie(Ae,ke){1&Ae&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function Ce(Ae,ke){if(1&Ae&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&Ae){const he=t.oxw();t.xp6(1),t.Oqu(he.currentUserLinkedAccountsText)}}let pe=(()=>{class Ae{constructor(he,we){this.catalogService=he,this.sharedDataService=we,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedDataService.linkedAccounts.map(he=>he.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(e.P9.LinkedAccountProvider).then(he=>{this.allLinkedAccountProviders=he.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(we=>-1!=this.currentUserLinkedAccountIds.indexOf(we.Id)).map(we=>we.Name).join(",")},he=>{})}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(v.a),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-my-account-page"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,ne,10,1,"div",4),t.YNc(9,ae,1,0,"app-change-username",5),t.YNc(10,Fe,10,2,"div",4),t.YNc(11,Y,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,Se,10,2,"div",4),t.YNc(24,ce,1,0,"app-change-password",10),t.YNc(25,ge,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,Ie,2,0,"ng-template",12),t.YNc(36,Ce,2,1,"ng-template",12),t.qZA()()()()),2&we&&(t.xp6(8),t.Q6J("ngIf",Te.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",Te.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(Te.sharedDataService.userData.Email),t.xp6(5),t.Q6J("ngIf",Te.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangePasswordSection&&Te.sharedDataService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangePasswordSection&&!Te.sharedDataService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==Te.sharedDataService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",Te.sharedDataService.linkedAccounts.length>0))},dependencies:[g.O5,_,N,T,z],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})()},4769:(Wn,et,p)=>{"use strict";p.d(et,{o:()=>Re});var e=p(5879),t=p(7700),v=p(95),b=p(5550),g=p(863),P=p(8777),D=p(1044),m=p(8726),i=p(5220),c=p(6814),d=p(2032),f=p(4170),_=p(3680),S=p(8525);function x(be,Q){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function A(be,Q){if(1&be&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&be){const ie=Q.$implicit;e.Q6J("value",ie.Id),e.xp6(1),e.hij(" ",ie.Name," ")}}function N(be,Q){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Tipo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function O(be,Q){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Directorio es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function C(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.saveStorage())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,x,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"mat-select",9)(16,"mat-option",10),e._uU(17,"--"),e.qZA(),e.YNc(18,A,2,2,"mat-option",11),e.qZA(),e.YNc(19,N,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Directorio"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.showChooserDirectoryModal())}),e.qZA(),e.YNc(24,O,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",13)(26,"button",14),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.closeModal())}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",15),e._uU(29,"Guardar"),e.qZA()()(),e._UZ(30,"app-custom-spinner",16)}if(2&be){const ie=e.oxw();e.Q6J("formGroup",ie.libraryFormGroup),e.xp6(3),e.Oqu(ie.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),e.xp6(7),e.Q6J("errorStateMatcher",ie.matcher),e.xp6(1),e.Q6J("ngIf",ie.libraryFormGroup.controls.name.hasError("required")),e.xp6(5),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",ie.mediaTypes),e.xp6(1),e.Q6J("ngIf",ie.libraryFormGroup.controls.mediaType.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",ie.matcher),e.xp6(1),e.Q6J("ngIf",ie.libraryFormGroup.controls.physicalPath.hasError("required")),e.xp6(4),e.Q6J("disabled",ie.showLoading||!ie.libraryFormGroup.valid),e.xp6(2),e.Q6J("showLoading",ie.showLoading)}}let I=(()=>{class be{constructor(ie,ye,oe,ee){this.libraryService=ie,this.activeModal=ye,this.formBuilder=oe,this.modalService=ee,this.showLoading=!1,this.matcher=new b.n,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new v.NI(this.library.Name,[v.kI.required]),mediaType:new v.NI(this.library.MediaTypeCatalogDetailId,[v.kI.required]),physicalPath:new v.NI(this.library.PhysicalPath,[v.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var ie=JSON.parse(JSON.stringify(this.library));ie.Name=this.libraryFormGroup.value.name,ie.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),ie.MediaTypeCatalogId=g.P9.MediaType,ie.PhysicalPath=this.libraryFormGroup.value.physicalPath,ie.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,ie).then(ye=>{this.showLoading=!1,this.activeModal.close()},ye=>{this.showLoading=!1,console.error(ye)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var ie=this,ye=this.modalService.open(P.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ye.componentInstance.mediaServer=this.mediaServer,ye.closed.subscribe(oe=>{ie.libraryFormGroup.controls.physicalPath.setValue(oe)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.Y36(D.$),e.Y36(m.Kz),e.Y36(v.qu),e.Y36(m.FF))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(ye,oe){1&ye&&e.YNc(0,C,31,11,"ng-template",0),2&ye&&e.Q6J("ngIf",null!=oe.library&&oe.libraryFormGroup)},dependencies:[v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,i.D,c.sg,c.O5,d.Nt,f.KE,f.hX,f.TO,_.ey,S.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return be})();var T=p(7394),L=p(8923),y=p(9604);class B{}var z=p(7541),ne=p(9223);function ae(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const ee=e.CHM(ie).$implicit,X=e.oxw(2);return e.KtG(X.onSelectItem(ee))}),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&be){const ie=Q.$implicit;e.xp6(1),e.Gre("",ie.iconClass," me-2"),e.xp6(2),e.Oqu(ie.title)}}function Fe(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("clickOutside",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.onClickOutside())}),e.TgZ(2,"div",3),e.YNc(3,ae,4,4,"ng-template",4),e.qZA()()()}if(2&be){const ie=e.oxw();e.xp6(1),e.Udp("top",ie.top+"px")("right",ie.right+"px"),e.xp6(2),e.Q6J("ngForOf",ie.options.listItems)}}let Y=(()=>{class be{constructor(ie){this.ref=ie,this.hide=new e.vpe,this.selectOption=new e.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(ie){this.selectOption.emit(ie)}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(ye,oe){1&ye&&e.YNc(0,Fe,4,5,"div",0),2&ye&&e.Q6J("ngIf",oe.showMenu)},dependencies:[c.sg,c.O5,ne._],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return be})(),Se=(()=>{class be{constructor(ie,ye,oe){this.factoryResolver=ie,this.injector=ye,this.applicationRef=oe}show(ie){return new Promise((ye,oe)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const X=this.factoryResolver.resolveComponentFactory(Y).create(this.injector);this.lastViewRef=X.hostView,this.applicationRef.attachView(X.hostView);let $=this;const re=ie.target.getBoundingClientRect();var J=window.innerWidth-re.right,q=re.top+re.height;X.instance.options=ie,X.instance.right=J,X.instance.top=q,X.instance.selectOption.subscribe(Ee=>{Ee.eventOnSelectItem&&Ee.eventOnSelectItem.emit(!0),X.destroy(),$.applicationRef.detachView(X.hostView),ye(Ee)}),X.instance.hide.subscribe(Ee=>{X.destroy(),$.applicationRef.detachView(X.hostView),oe(!0)});const _e=X.hostView.rootNodes[0];document.getElementById(ie.containerId).appendChild(_e)})}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var ce=p(3931),ge=p(5908),Ie=p(1367),Ce=p(5940),pe=p(1444);function Ae(be,Q){1&be&&e._UZ(0,"i",17)}function ke(be,Q){1&be&&e._UZ(0,"i",18)}const he=function(be){return{selected:be}};function we(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,Ae,1,0,"i",10),e.YNc(4,ke,1,0,"i",11),e.qZA(),e.TgZ(5,"a"),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div",13)(9,"button",14),e.NdJ("click",function(oe){const X=e.CHM(ie).$implicit,$=e.oxw(4);return e.KtG($.showActions(oe,X))}),e.TgZ(10,"span",15),e._UZ(11,"i",16),e.qZA()()()()()()}if(2&be){const ie=Q.$implicit,ye=e.oxw(4);e.Q6J("ngClass",e.VKq(4,he,ye.currentLibrary&&ye.currentLibrary.Id==ie.Id)),e.xp6(3),e.Q6J("ngIf",1==ie.MediaTypeCatalogDetailId),e.xp6(1),e.Q6J("ngIf",2==ie.MediaTypeCatalogDetailId),e.xp6(2),e.Oqu(ie.Name)}}function Te(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw(3);return e.KtG(oe.openNewLibrary())}),e._uU(7,"A\xf1adir biblioteca"),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw(3);return e.KtG(oe.updateVideoInAllLibraries())}),e._uU(9,"Buscar archivos en biblioteca"),e.qZA()(),e.YNc(10,we,12,6,"ng-template",6),e.qZA()}if(2&be){const ie=e.oxw(3);e.xp6(2),e.hij("",ie.mediaServer.FamilyName?ie.mediaServer.FamilyName:ie.mediaServer.DeviceName," - Bibliotecas"),e.xp6(3),e.hij("",ie.listLibraries?ie.listLibraries.length:""," bibliotecas"),e.xp6(5),e.Q6J("ngForOf",ie.listLibraries)}}function Oe(be,Q){if(1&be&&e.YNc(0,Te,11,3,"div",1),2&be){const ie=e.oxw(2);e.Q6J("ngIf",ie.mediaServer)}}function je(be,Q){if(1&be&&e._UZ(0,"app-server-connection-error",19),2&be){const ie=e.oxw(2);e.Q6J("mediaServer",ie.mediaServer)}}function ft(be,Q){if(1&be&&(e.YNc(0,Oe,1,1,"ng-template",0),e.YNc(1,je,1,1,"ng-template",0)),2&be){const ie=e.oxw();e.Q6J("ngIf",ie.mediaServer&&ie.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",ie.mediaServer&&!ie.mediaServer.isSecureConnection)}}function Ze(be,Q){1&be&&(e.TgZ(0,"div",20),e._UZ(1,"mat-spinner"),e.qZA())}let Re=(()=>{class be{constructor(ie,ye,oe,ee,X,$,re,J,q){this.signalIrService=ie,this.customMenuService=ye,this.modalService=oe,this.libraryService=ee,this.dialog=X,this.snackBarService=$,this.router=re,this.activeRoute=J,this.sharedDataService=q,this.loadingConnection=!0,this.subscription=new T.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(_e=>{this.mediaServer&&this.mediaServer.Guid==_e&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(_e=>{this.mediaServer&&this.mediaServer.Guid==_e&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var ie=this.activeRoute.snapshot.params.serverGuid,ye=this.sharedDataService.mediaServers.find(oe=>oe.Guid==ie);ye?(this.mediaServer=JSON.parse(JSON.stringify(ye)),ye.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(ie=>{this.listLibraries=ie},ie=>{})}openNewLibrary(){let ie=new B;ie.MediaServerId=this.mediaServer.Id,this.showModalForm(ie)}editLibrary(ie){this.showModalForm(JSON.parse(JSON.stringify(ie)))}showModalForm(ie){var ye=this,oe=this.modalService.open(I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});oe.componentInstance.library=ie,oe.componentInstance.mediaServer=this.mediaServer,oe.closed.subscribe(ee=>{ye.getAllItems()})}deleteLibrary(ie){var ye=new t.vA;ye.data={title:"Eliminar biblioteca",message:"La biblioteca '"+ie.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+ie.Name+"'"},this.dialog.open(L.k,ye).afterClosed().subscribe(oe=>{oe&&this.executeDeleteLibrary(ie)})}executeDeleteLibrary(ie){this.libraryService.deleteItem(this.mediaServer.Url,ie.Id).then(ye=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",y.dA.Success),this.getAllItems()},ye=>{console.error(ye),this.snackBarService.showSnackBar(ye,y.dA.Error)})}showActions(ie,ye){this.currentLibrary=ye;var oe=JSON.parse(JSON.stringify(ye)),ee=ie.currentTarget,X=[],$=new e.vpe;$.subscribe(q=>{this.editLibrary(oe)}),X.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:$});var re=new e.vpe;re.subscribe(q=>{this.updateLibraryVideos(oe)}),X.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:re});var J=new e.vpe;J.subscribe(q=>{this.deleteLibrary(oe)}),X.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:J}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:X,target:ee}).then(q=>{this.currentLibrary=void 0},q=>{this.currentLibrary=void 0})}updateLibraryVideos(ie){ie.Id>0&&null!=ie.PhysicalPath&&""!=ie.PhysicalPath&&this.searchFilesInLibraries([ie])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(ie){this.libraryService.searchFiles(this.mediaServer.Url,ie)}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.Y36(z.n),e.Y36(Se),e.Y36(m.FF),e.Y36(D.$),e.Y36(t.uw),e.Y36(ce.c),e.Y36(ge.F0),e.Y36(ge.gz),e.Y36(Ie.g))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(ye,oe){1&ye&&(e.YNc(0,ft,2,2,"ng-template",0),e.YNc(1,Ze,2,0,"ng-template",0)),2&ye&&(e.Q6J("ngIf",!oe.loadingConnection),e.xp6(1),e.Q6J("ngIf",oe.loadingConnection))},dependencies:[c.mk,c.sg,c.O5,Ce.Ou,pe.Z],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return be})()},1044:(Wn,et,p)=>{"use strict";p.d(et,{$:()=>g});var e=p(863),t=p(2372),v=p(5879),b=p(9429);let g=(()=>{class P{constructor(m){this.restProvider=m}getLibrariesByMediaServer(m){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetAllLibraries").then(f=>{i(f.Data)},f=>{c(f)})})}saveItem(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?e.yw.PUT:e.yw.POST,m+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(S=>{c(!0)},S=>{console.error(S),d(S)})})}deleteItem(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,m+"/api/libraries/Delete/"+i).then(_=>{c(_)},_=>{console.error(_),d(_)})})}deleteItems(m,i){return new Promise((c,d)=>{let f=[];for(let x=0;x<i.length;x++)f.push(i[x].Id);var _=f.join(",");this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,m+"/api/libraries/DeleteList/"+_).then(x=>{c(x)},x=>{console.error(x),d(x)})})}searchFiles(m,i){return new Promise((c,d)=>{let f=(0,t.Z)();this.restProvider.executeHttpMediaServerApi(e.yw.POST,m+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:f}).then(x=>{c(x)},x=>{console.error(x),d(x)})})}getAllMediaItemsBySearchQuery(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(_=>{c(_.Data)},_=>{d(_)})})}getAllMediaItems(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetAllMediaItems?profileId="+i).then(_=>{c(_.Data)},_=>{d(_)})})}getMediaItemsByLibrary(m,i,c){return new Promise((d,f)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+c).then(S=>{d(S.Data)},S=>{f(S)})})}getMediaItemsByMediaType(m,i,c){return new Promise((d,f)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+c).then(S=>{d(S.Data)},S=>{f(S)})})}getMediaItemDetail(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemDetail/"+i).then(_=>{c(_.Data)},_=>{d(_)})})}GetMediaItemDetailByMediaFileAndProfile(m,i,c){return new Promise((d,f)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+c).then(S=>{d(S.Data)},S=>{f(S)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(b.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},295:(Wn,et,p)=>{"use strict";p.d(et,{i:()=>O});var e=p(5861),t=p(95),v=p(7394),b=p(9604),g=p(5879),P=p(7541),D=p(5510),m=p(3931),i=p(5908),c=p(1367),d=p(6814),f=p(5940),_=p(1444);function S(C,I){if(1&C){const T=g.EpF();g.TgZ(0,"div",1)(1,"h2"),g._uU(2),g.qZA(),g.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),g._uU(10,"Privado"),g.qZA(),g.TgZ(11,"span",8)(12,"span",9),g._uU(13),g.qZA()()()(),g.TgZ(14,"div",5)(15,"form",10),g.NdJ("ngSubmit",function(){g.CHM(T);const y=g.oxw(2);return g.KtG(y.updateMediaServer())}),g.TgZ(16,"div",5)(17,"label",11),g._uU(18,"Nombre Familiar"),g.qZA(),g._UZ(19,"input",12),g.TgZ(20,"p",13),g._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),g.qZA()(),g.TgZ(22,"div",14)(23,"button",15)(24,"span",16),g._uU(25,"Guardar cambios"),g.qZA()(),g._UZ(26,"span",17),g.qZA()()()()()()()()}if(2&C){const T=g.oxw(2);g.xp6(2),g.hij("",T.mediaServer.FamilyName?T.mediaServer.FamilyName:T.mediaServer.DeviceName," - General"),g.xp6(11),g.Oqu(T.mediaServer.Url),g.xp6(2),g.Q6J("formGroup",T.customForm),g.xp6(4),g.Q6J("placeholder",T.mediaServer.FamilyName?T.mediaServer.FamilyName:T.mediaServer.DeviceName),g.xp6(4),g.Q6J("disabled",T.loading||T.customForm.pristine||T.customForm.invalid)}}function x(C,I){if(1&C&&g._UZ(0,"app-server-connection-error",18),2&C){const T=g.oxw(2);g.Q6J("mediaServer",T.mediaServer)}}function A(C,I){if(1&C&&(g.YNc(0,S,27,5,"ng-template",0),g.YNc(1,x,1,1,"ng-template",0)),2&C){const T=g.oxw();g.Q6J("ngIf",T.mediaServer&&T.mediaServer.isSecureConnection),g.xp6(1),g.Q6J("ngIf",T.mediaServer&&!T.mediaServer.isSecureConnection)}}function N(C,I){1&C&&(g.TgZ(0,"div",19),g._UZ(1,"mat-spinner"),g.qZA())}let O=(()=>{class C{constructor(T,L,y,B,z,ne,ae){this.signalIrService=T,this.serverService=L,this.snackBarService=y,this.formBuilder=B,this.router=z,this.activeRoute=ne,this.sharedDataService=ae,this.loading=!1,this.loadingConnection=!0,this.subscription=new v.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Fe=>{this.mediaServer&&this.mediaServer.Guid==Fe&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Fe=>{this.mediaServer&&this.mediaServer.Guid==Fe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var T=this.activeRoute.snapshot.params.serverGuid,L=this.sharedDataService.mediaServers.find(y=>y.Guid==T);L?(this.mediaServer=JSON.parse(JSON.stringify(L)),L.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new t.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getMediaServerData(){var T=this;return(0,e.Z)(function*(){T.loading=!0;var L=T.activeRoute.snapshot.params.serverGuid;T.serverService.getMediaServerByGuid(L).then(y=>{var B=y.Data,ne=T.sharedDataService.mediaServers.find(ae=>ae.Guid==L);ne.FamilyName=B.FamilyName,T.mediaServer=ne,T.customForm=T.formBuilder.group({familyName:new t.NI(T.mediaServer.FamilyName)}),T.loading=!1},y=>{T.router.navigateByUrl("/404"),T.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var T=JSON.parse(JSON.stringify(this.mediaServer));T.FamilyName=this.customForm.value.familyName,this.serverService.updateMediaServer(T).then(L=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",b.dA.Success)},L=>{this.loading=!1,console.error(L)})}static#e=this.\u0275fac=function(L){return new(L||C)(g.Y36(P.n),g.Y36(D.Z),g.Y36(m.c),g.Y36(t.qu),g.Y36(i.F0),g.Y36(i.gz),g.Y36(c.g))};static#t=this.\u0275cmp=g.Xpm({type:C,selectors:[["app-server-setttings-general-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(L,y){1&L&&(g.YNc(0,A,2,2,"ng-template",0),g.YNc(1,N,2,0,"ng-template",0)),2&L&&(g.Q6J("ngIf",!y.loadingConnection),g.xp6(1),g.Q6J("ngIf",y.loadingConnection))},dependencies:[d.O5,t._Y,t.Fj,t.JJ,t.JL,f.Ou,_.Z,t.sg,t.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return C})()},5934:(Wn,et,p)=>{"use strict";p.d(et,{$:()=>ne});var e=p(863),t=p(95),v=p(7394);class b{}var g=p(9604),P=p(8777),D=p(5879),m=p(9857),i=p(7541),c=p(9429);let d=(()=>{class ae{constructor(Y){this.restProvider=Y}getByMediaServer(Y){return new Promise((le,G)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,Y+"/api/transcoderSettings/GetAsync").then(ce=>{le(ce.Data)},ce=>{console.error(ce),G(ce)})})}saveItem(Y,le){return new Promise((G,Se)=>{this.restProvider.executeHttpMediaServerApi(e.yw.PUT,Y+"/api/transcoderSettings/Save",le).then(ge=>{G(!0)},ge=>{console.error(ge),Se(ge)})})}static#e=this.\u0275fac=function(le){return new(le||ae)(D.LFG(c.C))};static#t=this.\u0275prov=D.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();var f=p(8726),_=p(3931),S=p(5908),x=p(1367),A=p(6814),N=p(5940),O=p(1444);function C(ae,Fe){if(1&ae&&(D.TgZ(0,"option",19),D._uU(1),D.qZA()),2&ae){const Y=Fe.$implicit;D.Q6J("ngValue",Y.Id),D.xp6(1),D.Oqu(Y.Name)}}function I(ae,Fe){if(1&ae&&(D.TgZ(0,"option",19),D._uU(1),D.qZA()),2&ae){const Y=Fe.$implicit;D.Q6J("ngValue",Y.Id),D.xp6(1),D.Oqu(Y.Name)}}function T(ae,Fe){if(1&ae){const Y=D.EpF();D.TgZ(0,"div",2)(1,"h2"),D._uU(2),D.qZA(),D.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),D.NdJ("ngSubmit",function(){D.CHM(Y);const G=D.oxw(3);return D.KtG(G.saveTranscoder())}),D.TgZ(9,"div",6)(10,"label",8),D._uU(11,"M\xe9todo de transmisi\xf3n"),D.qZA(),D.TgZ(12,"select",9),D.YNc(13,C,2,2,"ng-template",10),D.qZA(),D.TgZ(14,"p",11),D._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),D.qZA()(),D.TgZ(16,"div",6)(17,"label",8),D._uU(18,"Carpeta temporal para el transcodificador"),D.qZA(),D.TgZ(19,"input",12),D.NdJ("click",function(){D.CHM(Y);const G=D.oxw(3);return D.KtG(G.showChooserDirectoryModal())}),D.qZA(),D.TgZ(20,"p",11),D._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),D.qZA()(),D.TgZ(22,"div",6)(23,"label",8),D._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),D.qZA(),D.TgZ(25,"select",13),D.YNc(26,I,2,2,"ng-template",10),D.qZA(),D.TgZ(27,"p",11),D._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),D.qZA()(),D.TgZ(29,"div",6)(30,"label",8),D._uU(31,"Factor de Tasa Constante"),D.qZA(),D._UZ(32,"input",14),D.TgZ(33,"p",11),D._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),D.qZA()(),D.TgZ(35,"div",15)(36,"button",16)(37,"span",17),D._uU(38,"Guardar cambios"),D.qZA()(),D._UZ(39,"span",18),D.qZA()()()()()()()()}if(2&ae){const Y=D.oxw(3);D.xp6(2),D.hij("",Y.mediaServer.FamilyName?Y.mediaServer.FamilyName:Y.mediaServer.DeviceName," - Transcodificador"),D.xp6(6),D.Q6J("formGroup",Y.customForm),D.xp6(5),D.Q6J("ngForOf",Y.transmissionMethodList),D.xp6(13),D.Q6J("ngForOf",Y.presetList),D.xp6(10),D.Q6J("disabled",Y.loading||Y.customForm.pristine||Y.customForm.invalid)}}function L(ae,Fe){if(1&ae&&D.YNc(0,T,40,5,"div",1),2&ae){const Y=D.oxw(2);D.Q6J("ngIf",Y.customForm)}}function y(ae,Fe){if(1&ae&&D._UZ(0,"app-server-connection-error",20),2&ae){const Y=D.oxw(2);D.Q6J("mediaServer",Y.mediaServer)}}function B(ae,Fe){if(1&ae&&(D.YNc(0,L,1,1,"ng-template",0),D.YNc(1,y,1,1,"ng-template",0)),2&ae){const Y=D.oxw();D.Q6J("ngIf",Y.mediaServer&&Y.mediaServer.isSecureConnection),D.xp6(1),D.Q6J("ngIf",Y.mediaServer&&!Y.mediaServer.isSecureConnection)}}function z(ae,Fe){1&ae&&(D.TgZ(0,"div",21),D._UZ(1,"mat-spinner"),D.qZA())}let ne=(()=>{class ae{constructor(Y,le,G,Se,ce,ge,Ie,Ce,pe){this.catalogService=Y,this.signalIrService=le,this.transcoderSettingsService=G,this.modalService=Se,this.snackBarService=ce,this.formBuilder=ge,this.router=Ie,this.activeRoute=Ce,this.sharedDataService=pe,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.subscription=new v.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Ae=>{this.mediaServer&&this.mediaServer.Guid==Ae&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Ae=>{this.mediaServer&&this.mediaServer.Guid==Ae&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){this.getCatalogDetails();var Y=this.activeRoute.snapshot.params.serverGuid,le=this.sharedDataService.mediaServers.find(G=>G.Guid==Y);le?(this.mediaServer=JSON.parse(JSON.stringify(le)),le.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(e.P9.TranscoderPreset+","+e.P9.VideoTransmissionType).then(le=>{let G=le.Data;this.transmissionMethodList=G.filter(Se=>Se.CatalogId==e.P9.VideoTransmissionType),this.presetList=G.filter(Se=>Se.CatalogId==e.P9.TranscoderPreset)},le=>{console.error(le)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(Y=>{if(this.currentTranscoderSettingss=Y,null==this.currentTranscoderSettingss){var le=new b;le.TemporaryFolder="",le.ConstantRateFactor=18,le.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=le}this.customForm=this.formBuilder.group({temporaryFolder:new t.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new t.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new t.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new t.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},Y=>{console.error(Y)})}saveTranscoder(){this.loading=!0;var Y=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));Y.TemporaryFolder=this.customForm.value.temporaryFolder,Y.ConstantRateFactor=this.customForm.value.constantRateFactor,Y.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,Y.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,Y).then(le=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",g.dA.Success)},le=>{this.loading=!1,this.snackBarService.showSnackBar(le,g.dA.Error),console.error(le)})}showChooserDirectoryModal(){var Y=this,le=this.modalService.open(P.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});le.componentInstance.mediaServer=this.mediaServer,le.closed.subscribe(G=>{Y.customForm.controls.temporaryFolder.setValue(G),Y.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(le){return new(le||ae)(D.Y36(m.a),D.Y36(i.n),D.Y36(d),D.Y36(f.FF),D.Y36(_.c),D.Y36(t.qu),D.Y36(S.F0),D.Y36(S.gz),D.Y36(x.g))};static#t=this.\u0275cmp=D.Xpm({type:ae,selectors:[["app-transcode-settings-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(le,G){1&le&&(D.YNc(0,B,2,2,"ng-template",0),D.YNc(1,z,2,0,"ng-template",0)),2&le&&(D.Q6J("ngIf",!G.loadingConnection),D.xp6(1),D.Q6J("ngIf",G.loadingConnection))},dependencies:[A.sg,A.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,N.Ou,O.Z,t.sg,t.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return ae})()},2680:(Wn,et,p)=>{"use strict";p.d(et,{I:()=>ae});var e=p(1476),t=p(2877),v=p(863),b=p(5313),g=p(7394),P=p(5879),D=p(1367),m=p(5908),i=p(7541),c=p(9429);let d=(()=>{class Fe{constructor(le){this.restProvider=le}getAlertsByMediaServer(le,G,Se){return new Promise((ce,ge)=>{var Ie="?page="+G.toString()+"&take="+Se.toString();this.restProvider.executeHttpMediaServerApi(v.yw.GET,le+"/api/alerts/GetAllWithPagination"+Ie).then(pe=>{ce(pe)},pe=>{ge(pe)})})}static#e=this.\u0275fac=function(G){return new(G||Fe)(P.LFG(c.C))};static#t=this.\u0275prov=P.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();var f=p(6814),_=p(5940),S=p(1444);function x(Fe,Y){1&Fe&&(P.TgZ(0,"div",18),P._UZ(1,"mat-spinner"),P.qZA())}function A(Fe,Y){if(1&Fe&&(P.TgZ(0,"td",19),P._UZ(1,"i"),P.qZA()),2&Fe){const le=Y.$implicit,G=P.oxw(4);P.xp6(1),P.Tol(G.getIconByAlertType(le.AlertType))}}function N(Fe,Y){if(1&Fe&&(P.TgZ(0,"td",20),P._uU(1),P.ALo(2,"date"),P.qZA()),2&Fe){const le=Y.$implicit;P.xp6(1),P.hij(" ",P.xi3(2,1,le.Created,"dd-MM-YYYY h:mm a")," ")}}function O(Fe,Y){if(1&Fe&&(P.TgZ(0,"td",21),P._uU(1),P.qZA()),2&Fe){const le=Y.$implicit;P.xp6(1),P.hij(" ",le.Description," ")}}function C(Fe,Y){1&Fe&&P._UZ(0,"tr",22)}function I(Fe,Y){1&Fe&&(P.TgZ(0,"td",25),P._uU(1,"No se encontraron datos"),P.qZA())}function T(Fe,Y){if(1&Fe&&(P.TgZ(0,"tr",23),P.YNc(1,I,2,0,"td",24),P.qZA()),2&Fe){const le=P.oxw(4);P.xp6(1),P.Q6J("ngIf",!le.showLoading)}}function L(Fe,Y){if(1&Fe&&(P.TgZ(0,"div",2)(1,"h2"),P._uU(2),P.qZA(),P.TgZ(3,"div",3)(4,"div",4)(5,"div",5),P.YNc(6,x,2,0,"div",6),P.TgZ(7,"div",7)(8,"table",8),P.ynx(9,9),P.YNc(10,A,2,3,"td",10),P.BQk(),P.ynx(11,11),P.YNc(12,N,3,4,"td",12),P.BQk(),P.ynx(13,13),P.YNc(14,O,2,1,"td",14),P.BQk(),P.YNc(15,C,1,0,"tr",15),P.YNc(16,T,2,1,"tr",16),P.qZA()()()()(),P.TgZ(17,"div",3)(18,"div",4),P._UZ(19,"mat-paginator",17),P.qZA()()()),2&Fe){const le=P.oxw(3);P.xp6(2),P.hij("",le.mediaServer.FamilyName?le.mediaServer.FamilyName:le.mediaServer.DeviceName," - Alertas"),P.xp6(4),P.Q6J("ngIf",le.showLoading),P.xp6(2),P.Q6J("dataSource",le.dataSource),P.xp6(7),P.Q6J("matRowDefColumns",le.getDisplayedColumns()),P.xp6(4),P.Q6J("color","primary")("hidePageSize",!0)}}function y(Fe,Y){if(1&Fe&&P.YNc(0,L,20,6,"div",1),2&Fe){const le=P.oxw(2);P.Q6J("ngIf",le.mediaServer)}}function B(Fe,Y){if(1&Fe&&P._UZ(0,"app-server-connection-error",26),2&Fe){const le=P.oxw(2);P.Q6J("mediaServer",le.mediaServer)}}function z(Fe,Y){if(1&Fe&&(P.YNc(0,y,1,1,"ng-template",0),P.YNc(1,B,1,1,"ng-template",0)),2&Fe){const le=P.oxw();P.Q6J("ngIf",le.mediaServer&&le.mediaServer.isSecureConnection),P.xp6(1),P.Q6J("ngIf",le.mediaServer&&!le.mediaServer.isSecureConnection)}}function ne(Fe,Y){1&Fe&&(P.TgZ(0,"div",27),P._UZ(1,"mat-spinner"),P.qZA())}let ae=(()=>{class Fe extends t.G{constructor(le,G,Se,ce,ge,Ie,Ce){super(Ce),this.ref=le,this.sharedDataService=G,this.router=Se,this.activeRoute=ce,this.signalIrService=ge,this.alertsService=Ie,this.matPaginatorIntl=Ce,this.loadingConnection=!0,this.subscription=new g.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var le=this.activeRoute.snapshot.params.serverGuid,G=this.sharedDataService.mediaServers.find(Se=>Se.Guid==le);G?(this.mediaServer=JSON.parse(JSON.stringify(G)),G.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(le=>{this.updatePageData(le),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(le=>{this.showLoading=!1;var G=le.Data;this.totalCount=le.TotalCount,this.listItems=G,this.dataSource=new b.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},le=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(le){return le==v.NK.Bullhorn?"fa-solid fa-bullhorn":le==v.NK.Tags?"fa-solid fa-tags":le==v.NK.Ok?"fa-solid fa-check":le==v.NK.Plus?"fa-solid fa-plus":le==v.NK.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(G){return new(G||Fe)(P.Y36(P.sBO),P.Y36(D.g),P.Y36(m.F0),P.Y36(m.gz),P.Y36(i.n),P.Y36(d),P.Y36(e.ye))};static#t=this.\u0275cmp=P.Xpm({type:Fe,selectors:[["app-alerts"]],viewQuery:function(G,Se){if(1&G&&P.Gf(e.NW,5),2&G){let ce;P.iGM(ce=P.CRH())&&(Se.paginator=ce.first)}},features:[P.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(G,Se){1&G&&(P.YNc(0,z,2,2,"ng-template",0),P.YNc(1,ne,2,0,"ng-template",0)),2&G&&(P.Q6J("ngIf",!Se.loadingConnection),P.xp6(1),P.Q6J("ngIf",Se.loadingConnection))},dependencies:[f.O5,e.NW,b.BZ,b.w1,b.Dz,b.nj,b.ev,b.Gk,b.Ee,_.Ou,S.Z,f.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return Fe})()},9411:(Wn,et,p)=>{"use strict";p.d(et,{M:()=>ne});var e=p(7394),t=p(5879),v=p(5731),b=p(1367),g=p(5908),P=p(7541),D=p(863),m=p(9429);let i=(()=>{class ae{constructor(Y){this.restProvider=Y}GetListMediaFilePlayback(Y){return new Promise((le,G)=>{this.restProvider.executeHttpMediaServerApi(D.yw.GET,Y+"/api/mediaFilePlaybacks/GetListMediaFilePlayback").then(ce=>{le(ce.Data)},ce=>{G(ce)})})}static#e=this.\u0275fac=function(le){return new(le||ae)(t.LFG(m.C))};static#t=this.\u0275prov=t.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();var c=p(6814),d=p(5940),f=p(1444),_=p(1531);function S(ae,Fe){if(1&ae&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&ae){const Y=t.oxw().$implicit;t.xp6(1),t.hij(" ",Y.ItemData.Subtitle," ")}}function x(ae,Fe){if(1&ae&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&ae){const Y=t.oxw().$implicit;t.xp6(1),t.lnq(" ",Y.ClientData.DeviceData.OperatingSystem," - ",Y.ClientData.DeviceData.DeviceType," - ",Y.ClientData.DeviceData.Browser," ")}}function A(ae,Fe){if(1&ae&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&ae){const Y=t.oxw().$implicit,le=t.oxw(5);t.xp6(1),t.hij(" ",le.commonService.getInitials(Y.ProfileData.ProfileName)," ")}}function N(ae,Fe){if(1&ae&&(t._UZ(0,"img",21),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&ae){const Y=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,Y.ProfileData.ProfileId,"GetAvatarImageURLByProfileId")),t.LSH)}}function O(ae,Fe){if(1&ae&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div"),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",10)(5,"div",11),t._uU(6),t.qZA(),t.YNc(7,S,2,1,"div",12),t.TgZ(8,"div",13),t._uU(9),t.qZA()()(),t.TgZ(10,"div",14)(11,"div",15),t._UZ(12,"div",16),t.qZA(),t.TgZ(13,"div",10),t.YNc(14,x,2,3,"div",17),t.TgZ(15,"div",13),t._uU(16),t.qZA(),t.TgZ(17,"div",13),t._uU(18),t.qZA()()(),t.TgZ(19,"div",18),t.YNc(20,A,2,1,"div",19),t.YNc(21,N,3,6,"img",19),t.TgZ(22,"span",20),t._uU(23),t.qZA()()()),2&ae){const Y=Fe.$implicit,le=t.oxw(5);t.xp6(3),t.Q6J("src",Y.ItemData.PosterPath,t.LSH),t.xp6(3),t.hij(" ",Y.ItemData.Title," "),t.xp6(1),t.Q6J("ngIf",Y.ItemData.Subtitle),t.xp6(2),t.hij(" ",le.getFormattedDuration(Y.ItemData.Duration)," "),t.xp6(3),t.Udp("width",le.getWidthProgressItem(Y.ClientData)),t.xp6(2),t.Q6J("ngIf",Y.ClientData.DeviceData),t.xp6(2),t.hij(" ",le.getPlayingMediaInfo(Y.ClientData)," "),t.xp6(2),t.hij(" Local (",Y.ClientData.LocalIpAddress,") "),t.xp6(2),t.Q6J("ngIf",null==Y.ProfileData.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=Y.ProfileData.AvatarPath),t.xp6(2),t.hij(" ",Y.ProfileData.ProfileName," ")}}function C(ae,Fe){if(1&ae&&t.YNc(0,O,24,12,"ng-template",6),2&ae){const Y=t.oxw(4);t.Q6J("ngForOf",Y.listItems)}}function I(ae,Fe){1&ae&&t._uU(0," No se est\xe1 reproduciendo nada actualmente ")}function T(ae,Fe){if(1&ae&&(t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"h2",4),t._uU(5,"Reproduciendo ahora"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,C,1,1,"ng-template",0),t.YNc(8,I,1,0,"ng-template",0),t.qZA()()()),2&ae){const Y=t.oxw(3);t.xp6(2),t.hij("",Y.mediaServer.FamilyName?Y.mediaServer.FamilyName:Y.mediaServer.DeviceName," - Panel de Control"),t.xp6(5),t.Q6J("ngIf",Y.listItems&&Y.listItems.length>0),t.xp6(1),t.Q6J("ngIf",null==Y.listItems||0==Y.listItems.length)}}function L(ae,Fe){if(1&ae&&t.YNc(0,T,9,3,"div",1),2&ae){const Y=t.oxw(2);t.Q6J("ngIf",Y.mediaServer)}}function y(ae,Fe){if(1&ae&&t._UZ(0,"app-server-connection-error",22),2&ae){const Y=t.oxw(2);t.Q6J("mediaServer",Y.mediaServer)}}function B(ae,Fe){if(1&ae&&(t.YNc(0,L,1,1,"ng-template",0),t.YNc(1,y,1,1,"ng-template",0)),2&ae){const Y=t.oxw();t.Q6J("ngIf",Y.mediaServer&&Y.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",Y.mediaServer&&!Y.mediaServer.isSecureConnection)}}function z(ae,Fe){1&ae&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}let ne=(()=>{class ae{constructor(Y,le,G,Se,ce,ge,Ie){this.commonService=Y,this.sharedDataService=le,this.ref=G,this.router=Se,this.activeRoute=ce,this.signalIrService=ge,this.dashboardService=Ie,this.loadingConnection=!0,this.subscription=new e.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isAddedMediaFilePlayback().subscribe(Ce=>{this.mediaServer&&this.mediaServer.Guid==Ce.mediaServerGuid&&null==this.listItems.find(Ae=>Ae.Guid==Ce.mediaFilePlaybackGuid)&&this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(Ae=>{var ke=Ae.find(he=>he.Guid==Ce.mediaFilePlaybackGuid);ke&&(this.listItems.push(ke),this.ref.detectChanges())},Ae=>{})})),this.subscription.add(this.signalIrService.isRemovedMediaFilePlayback().subscribe(Ce=>{if(this.mediaServer&&this.mediaServer.Guid==Ce.mediaServerGuid){var pe=this.listItems.findIndex(Ae=>Ae.Guid==Ce.mediaFilePlaybackGuid);-1!=pe&&(this.listItems.splice(pe,1),this.ref.detectChanges())}})),this.subscription.add(this.signalIrService.isUpdatingCurrentTimeMediaFilePlayBack().subscribe(Ce=>{if(this.mediaServer&&this.mediaServer.Guid==Ce.mediaServerGuid){var pe=this.listItems.find(Ae=>Ae.Guid==Ce.mediaFilePlaybackGuid);pe&&(pe.ClientData.CurrentTime=Ce.currentTime,pe.ClientData.IsPlaying=Ce.isPlaying,this.ref.detectChanges())}})),this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Ce=>{this.mediaServer&&this.mediaServer.Guid==Ce&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Ce=>{this.mediaServer&&this.mediaServer.Guid==Ce&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var Y=this.activeRoute.snapshot.params.serverGuid,le=this.sharedDataService.mediaServers.find(G=>G.Guid==Y);le?(this.mediaServer=JSON.parse(JSON.stringify(le)),le.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(Y=>{this.listItems=Y},Y=>{})}getFormattedDuration(Y){var le=parseInt(Y,10),G=Math.floor(le/3600),Se=Math.floor((le-3600*G)/60);return 0==G?Se+"min":G+"hr "+Se+"min"}getPlayingMediaInfo(Y){var le=this.getFormatTime(Y.CurrentTime),G=this.getFormatTime(Y.Duration);return(Y.IsPlaying?"Playing":"Paused")+" - "+le+" / "+G}getFormatTime(Y){var le=parseInt(Y,10),G=Math.floor(le/3600),Se=Math.floor((le-3600*G)/60),ce=le-3600*G-60*Se;return G<10&&(G="0"+G),Se<10&&(Se="0"+Se),ce<10&&(ce="0"+ce),G+":"+Se+":"+ce}getWidthProgressItem(Y){return Y.CurrentTime/Y.Duration*100+"%"}getInitials(Y){return Y.substring(0,1)}static#e=this.\u0275fac=function(le){return new(le||ae)(t.Y36(v.v),t.Y36(b.g),t.Y36(t.sBO),t.Y36(g.F0),t.Y36(g.gz),t.Y36(P.n),t.Y36(i))};static#t=this.\u0275cmp=t.Xpm({type:ae,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"playback-container"],[1,"items-playing-title"],[1,"cards-container"],["ngFor","",3,"ngForOf"],[1,"custom-card"],[1,"custom-card-item-content"],[3,"src"],[1,"custom-card-item-content-right"],[1,"custom-card-text-title"],["class","custom-card-text-subtitle",4,"ngIf"],[1,"custom-card-text-subtitle"],[1,"custom-card-client-content"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],["class","custom-card-text-title",4,"ngIf"],[1,"custom-card-profile-content"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(le,G){1&le&&(t.YNc(0,B,2,2,"ng-template",0),t.YNc(1,z,2,0,"ng-template",0)),2&le&&(t.Q6J("ngIf",!G.loadingConnection),t.xp6(1),t.Q6J("ngIf",G.loadingConnection))},dependencies:[c.sg,c.O5,d.Ou,f.Z,c.Ov,_.A],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px;max-width:950px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}.custom-card[_ngcontent-%COMP%]{display:block;color:#fff;width:280px;background-color:#00000026}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]{display:flex}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:120px}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content-right[_ngcontent-%COMP%]{padding:20px;display:block}.custom-card[_ngcontent-%COMP%]   .custom-card-text-subtitle[_ngcontent-%COMP%]{color:#ffffff73;margin-top:4px}.items-playing-title[_ngcontent-%COMP%]{font-size:20px}.custom-card-client-content[_ngcontent-%COMP%]{background-color:#2d3744}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#000}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:#007bff;height:100%}.custom-card-profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;width:100%;color:#fff}.playback-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}"]})}return ae})()},3482:(Wn,et,p)=>{"use strict";p.d(et,{p:()=>S});var e=p(1476),t=p(2877),v=p(5313),b=p(7394),g=p(5879),P=p(7541),D=p(1367),m=p(5908),i=p(6814);function c(x,A){if(1&x&&(g.TgZ(0,"td",13),g._uU(1),g.ALo(2,"date"),g.qZA()),2&x){const N=A.$implicit;g.xp6(1),g.hij(" ",g.xi3(2,1,N.Created,"dd-MM-YYYY h:mm a")," ")}}function d(x,A){if(1&x&&(g.TgZ(0,"td",14),g._uU(1),g.qZA()),2&x){const N=A.$implicit;g.xp6(1),g.hij(" ",N.Description," ")}}function f(x,A){1&x&&g._UZ(0,"tr",15)}function _(x,A){1&x&&(g.TgZ(0,"tr",16)(1,"td",17),g._uU(2,"No se encontraron datos"),g.qZA()())}let S=(()=>{class x extends t.G{constructor(N,O,C,I,T){super(T),this.signalIRHubService=N,this.sharedDataService=O,this.router=C,this.activeRoute=I,this.matPaginatorIntl=T,this.subscription=new b.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIRHubService.isUpdatingWebLogs().subscribe(L=>{this.getAllItems()}))}ngOnInit(){this.getAllItems()}ngAfterViewInit(){this.initializePaginator(),this.getAllItems()}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.listItems=this.sharedDataService.webLogs.sort((N,O)=>new Date(N.Created).getTime()>new Date(O.Created).getTime()?-1:new Date(O.Created).getTime()>new Date(N.Created).getTime()?1:0),this.totalCount=this.listItems.length,this.dataSource=new v.by(this.listItems)}initializePaginator(){this.paginator.page.subscribe(N=>{this.updatePageData(N),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage}),this.dataSource.paginator=this.paginator}getDisplayedColumns(){return["Created","Description"]}static#e=this.\u0275fac=function(O){return new(O||x)(g.Y36(P.n),g.Y36(D.g),g.Y36(m.F0),g.Y36(m.gz),g.Y36(e.ye))};static#t=this.\u0275cmp=g.Xpm({type:x,selectors:[["app-log-page"]],viewQuery:function(O,C){if(1&O&&g.Gf(e.NW,5),2&O){let I;g.iGM(I=g.CRH())&&(C.paginator=I.first)}},features:[g.qOj],decls:17,vars:4,consts:[["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(O,C){1&O&&(g.TgZ(0,"div",0)(1,"h2"),g._uU(2,"Sinovad Web - Logs"),g.qZA(),g.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5),g.ynx(8,6),g.YNc(9,c,3,4,"td",7),g.BQk(),g.ynx(10,8),g.YNc(11,d,2,1,"td",9),g.BQk(),g.YNc(12,f,1,0,"tr",10),g.YNc(13,_,3,0,"tr",11),g.qZA()()()()(),g.TgZ(14,"div",1)(15,"div",2),g._UZ(16,"mat-paginator",12),g.qZA()()()),2&O&&(g.xp6(7),g.Q6J("dataSource",C.dataSource),g.xp6(5),g.Q6J("matRowDefColumns",C.getDisplayedColumns()),g.xp6(4),g.Q6J("color","primary")("hidePageSize",!0))},dependencies:[e.NW,v.BZ,v.w1,v.Dz,v.nj,v.ev,v.Gk,v.Ee,i.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return x})()},8923:(Wn,et,p)=>{"use strict";p.d(et,{k:()=>P});var e=p(7700),t=p(5879),v=p(6814);const b=function(D){return{disabled:D}};let P=(()=>{class D{constructor(i,c){this.dialog=i,this.options=c}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||D)(t.Y36(e.so),t.Y36(e.WI))};static#t=this.\u0275cmp=t.Xpm({type:D,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(c,d){if(1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return d.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return d.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return d.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&c){const f=t.MAs(15);t.xp6(8),t.hij(" ",d.options.title," "),t.xp6(4),t.Oqu(d.options.message),t.xp6(4),t.hij("",d.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,b,!f.checked))}},dependencies:[v.mk,e.uh,e.xY,e.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return D})()},9604:(Wn,et,p)=>{"use strict";p.d(et,{dA:()=>m,fJ:()=>c});var e=p(6814),t=p(5879),v=p(2939);function b(d,f){1&d&&t._UZ(0,"i",4)}function g(d,f){1&d&&t._UZ(0,"i",5)}function P(d,f){1&d&&t._UZ(0,"i",6)}const D=function(d,f,_){return{success:d,info:f,error:_}};var m=function(d){return d[d.Success=1]="Success",d[d.Error=2]="Error",d[d.Info=3]="Info",d}(m||{});let c=(()=>{class d{constructor(_){this.toastOptions=_,this.snackBarRef=(0,t.f3M)(v.OX)}SnackBarType(){return m}static#e=this.\u0275fac=function(S){return new(S||d)(t.Y36(v.qD))};static#t=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(S,x){1&S&&(t.TgZ(0,"div",0),t.YNc(1,b,1,0,"i",1),t.YNc(2,g,1,0,"i",2),t.YNc(3,P,1,0,"i",3),t._uU(4),t.qZA()),2&S&&(t.Q6J("ngClass",t.kEZ(5,D,x.toastOptions.snackBarType==x.SnackBarType().Success,x.toastOptions.snackBarType==x.SnackBarType().Info,x.toastOptions.snackBarType==x.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",x.toastOptions.snackBarType==x.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",x.toastOptions.snackBarType==x.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",x.toastOptions.snackBarType==x.SnackBarType().Error),t.xp6(1),t.hij(" ",x.toastOptions.message,"\n"))},dependencies:[v.ZX,e.ez,e.mk,e.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return d})()},5220:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>b});var e=p(5879),t=p(6814);function v(g,P){1&g&&(e.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),e.qZA()()()()())}let b=(()=>{class g{constructor(D,m){this.ref=D,this.viewContainerRef=m,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(m){return new(m||g)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(m,i){1&m&&e.YNc(0,v,17,0,"div",0),2&m&&e.Q6J("ngIf",i.showLoading)},dependencies:[t.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return g})()},8777:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>_});var e=p(5879),t=p(863),v=p(4440),b=p.n(v),g=p(9429);let P=(()=>{class S{constructor(A){this.restProvider=A}getDirectoriesByMediaServer(A){return new Promise((N,O)=>{this.restProvider.executeHttpMethodByUrl(t.yw.GET,A+"/api/directories").then(C=>{N(C)},C=>{console.error(C),O(C)})})}getSubdirectoriesByMediaServerAndDirectoryPath(A,N){return new Promise((O,C)=>{var I=b().encode(N);this.restProvider.executeHttpMethodByUrl(t.yw.GET,A+"/api/directories/"+I).then(T=>{O(T)},T=>{console.error(T),C(T)})})}static#e=this.\u0275fac=function(N){return new(N||S)(e.LFG(g.C))};static#t=this.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var D=p(8726),m=p(6814);const i=function(S){return{"sinovad-directory-selected":S}};function c(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const C=e.CHM(A).$implicit,I=e.oxw();return e.KtG(I.onClickMainDirectory(C))}),e._uU(1),e.qZA()}if(2&S){const A=x.$implicit,N=e.oxw();e.Q6J("ngClass",e.VKq(2,i,N.selectedMainDirectory&&A.Name==N.selectedMainDirectory.Name)),e.xp6(1),e.hij(" ",A.Name," ")}}function d(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(A);const O=e.oxw();return e.KtG(O.onClickBackFolder())}),e._uU(1," <= .. [Regresar] "),e.qZA()}}function f(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){const C=e.CHM(A).$implicit,I=e.oxw();return e.KtG(I.onClickSubDirectory(C))}),e._uU(1),e.qZA()}if(2&S){const A=x.$implicit,N=e.oxw();e.Q6J("ngClass",e.VKq(2,i,N.selectedSubdirectory&&A.Name==N.selectedSubdirectory.Name)),e.xp6(1),e.hij(" ",A.Name," ")}}let _=(()=>{class S{constructor(A,N){this.directoryService=A,this.activeModal=N,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(A=>{this.listMainDirectories=JSON.parse(A);let N=this.listMainDirectories[0];this.selectedMainDirectory=N,this.getSubdirectoriesByPath(N)})}getSubdirectoriesByPath(A){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,A.Path).then(N=>{this.listSubdirectoriesTmp=JSON.parse(N)},N=>{console.error(N)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(A){this.selectedMainDirectory=A,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(A){if(null==this.selectedSubdirectory)this.selectedSubdirectory=A,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let N=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=A,this.selectedSubdirectory.ParentDirectory=N}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(N){return new(N||S)(e.Y36(P),e.Y36(D.Kz))};static#t=this.\u0275cmp=e.Xpm({type:S,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(N,O){1&N&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Seleccionar directorio"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return O.closeModal()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,c,2,4,"ng-template",7),e.qZA(),e.TgZ(9,"div",8),e.YNc(10,d,2,0,"button",9),e.YNc(11,f,2,4,"ng-template",7),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return O.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return O.saveDirectory()}),e._uU(16,"Guardar"),e.qZA()()),2&N&&(e.xp6(8),e.Q6J("ngForOf",O.listMainDirectories),e.xp6(2),e.Q6J("ngIf",O.selectedSubdirectory),e.xp6(1),e.Q6J("ngForOf",O.listSubdirectoriesTmp))},dependencies:[m.mk,m.sg,m.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return S})()},3630:(Wn,et,p)=>{"use strict";p.d(et,{y:()=>_});var e=p(5879),t=p(5908),v=p(5731),b=p(1367),g=p(6814),P=p(1531);function D(S,x){if(1&S&&(e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"div",25),e.qZA()()),2&S){const A=e.oxw().$implicit,N=e.MAs(2),O=e.oxw(3);e.xp6(1),e.Udp("width",N.clientWidth-8+"px"),e.xp6(1),e.Udp("width",O.getWidthProgressItem(A))}}function m(S,x){if(1&S&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.qZA()()),2&S){const A=e.oxw().$implicit;e.xp6(2),e.Oqu(A.Title)}}function i(S,x){if(1&S&&(e.TgZ(0,"div")(1,"div",27)(2,"span"),e._uU(3),e.qZA()()()),2&S){const A=e.oxw().$implicit;e.xp6(3),e.AsE("",A.Title," ",A.Subtitle,"")}}function c(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"div",16)(1,"button",17,18),e.NdJ("click",function(){const C=e.CHM(A).$implicit,I=e.oxw(3);return e.KtG(I.onClickItem(C))}),e._UZ(3,"img",19),e.YNc(4,D,3,4,"ng-template",20),e.qZA(),e.YNc(5,m,3,1,"div",21),e.YNc(6,i,4,2,"div",22),e.qZA()}if(2&S){const A=x.$implicit,N=e.oxw(2).$implicit,O=e.oxw();e.xp6(1),e.hYB("id","item_",N.Id,"_",A.MediaItemId,""),e.xp6(2),e.Q6J("src",O.commonService.getUrlByItemMovieDataBase(A),e.LSH),e.xp6(1),e.Q6J("ngIf",A.CurrentTime&&A.DurationTime),e.xp6(1),e.Q6J("ngIf",!A.Subtitle),e.xp6(1),e.Q6J("ngIf",A.Subtitle)}}function d(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"section",3)(1,"div",4)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7,8),e.NdJ("click",function(){e.CHM(A);const O=e.MAs(12),C=e.MAs(7),I=e.MAs(18),T=e.oxw(2);return e.KtG(T.onClickButtonLeftScroll(O,C,I))}),e._UZ(8,"img",9),e.ALo(9,"async"),e.ALo(10,"formatDataPipe"),e.qZA()(),e.TgZ(11,"div",10,11)(13,"div",12,13),e.YNc(15,c,7,6,"ng-template",1),e.qZA()(),e.TgZ(16,"div",6)(17,"div",14,15),e.NdJ("click",function(){e.CHM(A);const O=e.MAs(12),C=e.MAs(7),I=e.MAs(18),T=e.oxw(2);return e.KtG(T.onClickButtonRightScroll(O,C,I))}),e._UZ(19,"img",9),e.ALo(20,"async"),e.ALo(21,"formatDataPipe"),e.qZA()()()()}if(2&S){const A=e.oxw().$implicit;e.MGl("id","section_",A.Id,""),e.xp6(3),e.Oqu(A.Name),e.xp6(5),e.Q6J("src",e.lcZ(9,5,e.xi3(10,7,"scroll-left.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngForOf",A.ListItems),e.xp6(4),e.Q6J("src",e.lcZ(20,10,e.xi3(21,12,"scroll-right.png","GetIconURLByKey")),e.LSH)}}function f(S,x){if(1&S&&e.YNc(0,d,22,15,"section",2),2&S){const A=x.$implicit;e.Q6J("ngIf",A.ListItems&&A.ListItems.length>0)}}let _=(()=>{class S{constructor(A,N,O,C,I){this.activeRoute=A,this.router=N,this.ref=O,this.commonService=C,this.sharedDataService=I,this.itemsGroupList=[]}getWidthProgressItem(A){return A.CurrentTime/A.DurationTime*100+"%"}onClickButtonLeftScroll(A,N,O){A.scrollLeft=A.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(A,N,O)}onClickButtonRightScroll(A,N,O){A.scrollLeft=A.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(A,N,O)}verifyIfShoOrHiddenScrollButtons(A,N,O){N.style.display=A.scrollLeft<=0?"none":"flex",O.style.display=A.scrollWidth==A.scrollLeft+A.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(A,N,O){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(A,N,O)},250)}onClickItem(A){A.ContinueVideo?this.continueVideoByItem(A):this.getMediaItemDetail(A)}getMediaItemDetail(A){var N=this.sharedDataService.mediaServers.find(O=>O.Id==A.MediaServerId);this.router.navigateByUrl("/media/server/"+N.Guid+"/libraries/"+A.LibraryId+"/detail?mediaType="+A.MediaTypeId+"&mediaId="+A.MediaItemId)}continueVideoByItem(A){var N=this.sharedDataService.mediaServers.find(O=>O.Id==A.MediaServerId);this.router.navigateByUrl("/media/server/"+N.Guid+"/video/"+A.FileId)}static#e=this.\u0275fac=function(N){return new(N||S)(e.Y36(t.gz),e.Y36(t.F0),e.Y36(e.sBO),e.Y36(v.v),e.Y36(b.g))};static#t=this.\u0275cmp=e.Xpm({type:S,selectors:[["app-media-items"]],inputs:{itemsGroupList:"itemsGroupList"},decls:2,vars:3,consts:[[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(N,O){1&N&&(e.TgZ(0,"div",0),e.YNc(1,f,1,1,"ng-template",1),e.qZA()),2&N&&(e.Udp("height","100%"),e.xp6(1),e.Q6J("ngForOf",O.itemsGroupList))},dependencies:[g.sg,g.O5,g.Ov,P.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return S})()},1444:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>t});var e=p(5879);let t=(()=>{class v{constructor(){}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(P,D){1&P&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e._UZ(4,"div",3),e.qZA()()),2&P&&(e.xp6(3),e.hij(" No se puede conectar a ",D.mediaServer.FamilyName?D.mediaServer.FamilyName:D.mediaServer.DeviceName," "))}})}return v})()},9223:(Wn,et,p)=>{"use strict";p.d(et,{_:()=>t});var e=p(5879);let t=(()=>{class v{constructor(g){this.elementRef=g,this.clickOutside=new e.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(g,P){P&&(this.elementRef.nativeElement.contains(P)||this.clickOutside.emit(g))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(P){return new(P||v)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:v,selectors:[["","clickOutside",""]],hostBindings:function(P,D){1&P&&e.NdJ("click",function(i){return D.onClick(i,i.target)},!1,e.Jf7)("contextmenu",function(){return D.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return v})()},863:(Wn,et,p)=>{"use strict";p.d(et,{DD:()=>v,DM:()=>i,Ln:()=>b,NK:()=>d,O5:()=>m,P9:()=>e,jP:()=>c,yw:()=>D});var e=function(f){return f[f.MediaServerState=1]="MediaServerState",f[f.MediaType=2]="MediaType",f[f.VideoTransmissionType=3]="VideoTransmissionType",f[f.TranscoderPreset=4]="TranscoderPreset",f[f.IconTypes=5]="IconTypes",f[f.LinkedAccountProvider=6]="LinkedAccountProvider",f}(e||{}),v=function(f){return f[f.Movie=1]="Movie",f[f.TvSerie=2]="TvSerie",f[f.Music=3]="Music",f[f.Photo=4]="Photo",f[f.Other=5]="Other",f}(v||{}),b=function(f){return f[f.None=1]="None",f[f.MPEGDASH=2]="MPEGDASH",f[f.HLS=3]="HLS",f}(b||{}),D=function(f){return f[f.GET=0]="GET",f[f.POST=1]="POST",f[f.PUT=2]="PUT",f[f.DELETE=3]="DELETE",f}(D||{}),m=function(f){return f[f.Empty=0]="Empty",f[f.Generated=1]="Generated",f[f.Initialized=2]="Initialized",f[f.LoadedMetada=3]="LoadedMetada",f[f.LoadedData=4]="LoadedData",f}(m||{}),i=function(f){return f[f.SinovadDb=1]="SinovadDb",f[f.TMDb=2]="TMDb",f[f.IMDb=3]="IMDb",f}(i||{}),c=function(f){return f[f.Google=1]="Google",f[f.Facebook=2]="Facebook",f[f.Apple=3]="Apple",f}(c||{}),d=function(f){return f[f.Ok=1]="Ok",f[f.Plus=2]="Plus",f[f.Bin=3]="Bin",f[f.Bullhorn=4]="Bullhorn",f[f.Tags=5]="Tags",f}(d||{})},5550:(Wn,et,p)=>{"use strict";p.d(et,{n:()=>e});class e{isErrorState(v,b){return!!(v&&v.invalid&&(v.dirty||v.touched||b&&b.submitted))}}},2877:(Wn,et,p)=>{"use strict";p.d(et,{G:()=>v});var e=p(8337),t=p(5313);class v{constructor(g){this.matPaginatorIntl=g,this.showLoading=!0,this.dataSource=new t.by,this.selection=new e.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(g){this.itemsPerPage=g.pageSize,this.currentPage=g.pageIndex+1}getElementNumber(g,P,D){return g+1+(P-1)*D}onChangeCheckValue(g,P){let D=g.target.checked;if(D?this.selection.select(P):this.selection.deselect(P),g.shiftKey&&this.lastSelectedItem){let i=0;this.selection.hasValue()&&this.lastSelectedItem&&(i=this.listItems.indexOf(this.lastSelectedItem));let c=this.listItems.indexOf(P);if(D){var m;(m=this.listItems.filter(c>=i?d=>this.listItems.indexOf(d)<=c&&this.listItems.indexOf(d)>=i&&!this.selection.isSelected(d):d=>this.listItems.indexOf(d)>=c&&this.listItems.indexOf(d)<=i&&!this.selection.isSelected(d)))&&m.length>0&&this.selection.select(...m)}else{let d=[];d=this.listItems.filter(c>=i?f=>this.listItems.indexOf(f)<=c&&this.listItems.indexOf(f)>=i&&this.selection.isSelected(f):f=>this.listItems.indexOf(f)>=c&&this.listItems.indexOf(f)<=i&&this.selection.isSelected(f)),d&&d.length>0&&this.selection.deselect(...d)}}this.lastSelectedItem=P}}},1531:(Wn,et,p)=>{"use strict";p.d(et,{A:()=>b});var e=p(5879),t=p(6593),v=p(1367);let b=(()=>{class g{constructor(D,m){this.domSanitizer=D,this.sharedDataService=m}transform(D,...m){return new Promise((i,c)=>{let f;switch(null!=m[0]?m[0]:""){case"GetIconURLByKey":null!=D&&""!=D&&(f=this.sharedDataService.configurationData.developerMode?"assets/icon/"+D:this.sharedDataService.urlSinovadCdn+"/assets/icon/"+D,i(f));break;case"GetAvatarImageURLByProfileId":null!=D&&""!=D&&fetch(this.sharedDataService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+D).then(S=>S.blob()).then(S=>{f=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(S)),i(f)});break;case"GetSoundUrlByKey":null!=D&&""!=D&&(f=this.sharedDataService.configurationData.developerMode?"assets/sound/"+D:this.sharedDataService.urlSinovadCdn+"/assets/sound/"+D,i(f))}})}static#e=this.\u0275fac=function(m){return new(m||g)(e.Y36(t.H7,16),e.Y36(v.g,16))};static#t=this.\u0275pipe=e.Yjl({name:"formatDataPipe",type:g,pure:!0})}return g})()},3931:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>b});var e=p(2939),t=p(9604),v=p(5879);let b=(()=>{class g{constructor(D){this.snackBar=D}showSnackBar(D,m){var i=new e.u_;i.duration=2e3,i.data={message:D,snackBarType:m},this.snackBar.openFromComponent(t.fJ,i)}static#e=this.\u0275fac=function(m){return new(m||g)(v.LFG(e.ux))};static#t=this.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7102:(Wn,et,p)=>{"use strict";p.d(et,{m:()=>ke});var e=p(6814),t=p(1476),v=p(7700),b=p(2939),g=p(5313),P=p(2032),D=p(4170),m=p(3566),i=p(5986),c=p(5940),d=p(2596),f=p(3680),_=p(8525),S=p(8034),x=p(5879);let pe=(()=>{class he{static#e=this.\u0275fac=function(Oe){return new(Oe||he)};static#t=this.\u0275mod=x.oAB({type:he});static#n=this.\u0275inj=x.cJS({imports:[f.BQ,e.ez,f.BQ]})}return he})(),Ae=(()=>{class he{static#e=this.\u0275fac=function(Oe){return new(Oe||he)};static#t=this.\u0275mod=x.oAB({type:he});static#n=this.\u0275inj=x.cJS({imports:[e.ez,t.TU,v.Is,b.ZX,g.p0,P.c,D.lN,m.JX,i.p9,c.Cq,d.AV,f.Ng,_.LD,S.FA,f.XK,pe,t.TU,v.Is,b.ZX,g.p0,P.c,D.lN,m.JX,i.p9,c.Cq,d.AV,f.Ng,_.LD,S.FA,f.XK,pe]})}return he})(),ke=(()=>{class he{static#e=this.\u0275fac=function(Oe){return new(Oe||he)};static#t=this.\u0275mod=x.oAB({type:he});static#n=this.\u0275inj=x.cJS({imports:[e.ez,Ae,e.ez,Ae]})}return he})()},5731:(Wn,et,p)=>{"use strict";p.d(et,{v:()=>b});var e=p(863),t=p(5879),v=p(1367);let b=(()=>{class g{constructor(D){this.sharedDataService=D}checkIfIsEnableMenuOptionByPath(D){var m=!1;for(let i=0;i<this.sharedDataService.manageMenus.length;i++){const c=this.sharedDataService.manageMenus[i];if(c.ChildMenus&&-1!=c.ChildMenus.findIndex(d=>d.Path&&d.Path.includes(D))){m=!0;break}}return m}formatDate(D){const m=new Date(D);let i=""+(m.getMonth()+1),c=""+m.getDate();const d=m.getFullYear();return i.length<2&&(i="0"+i),c.length<2&&(c="0"+c),[d,i,c].join("-")}getInitials(D){return D.FullName.substring(0,1)}delay(D){return new Promise(m=>setTimeout(m,D))}hasRequireErrorFormControl(D,m){return!!D.controls[m].errors.required}isInvalidFormControl(D,m){return!(!D.controls[m].invalid||!D.controls[m].dirty&&!D.controls[m].touched)}hasErrorPatternFormControl(D,m){return!!D.controls[m].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(D){if(D.MetadataAgentsId==e.DM.TMDb)return this.sharedDataService.originalUrlImagesMovieDataBase+D.PosterPath;if(D.PosterPath)return D.PosterPath;var m=this.sharedDataService.mediaServers.find(i=>i.Id==D.MediaServerId);return m?m.Url+"/media/"+D.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(m){return new(m||g)(t.LFG(v.g))};static#t=this.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},9429:(Wn,et,p)=>{"use strict";p.d(et,{C:()=>g});var e=p(9862),t=p(863),v=p(5879),b=p(1367);let g=(()=>{class P{constructor(m,i){this.http=m,this.sharedDataService=i}performExecuteMethod(m,i,c){return new Promise((d,f)=>{try{let _={responseType:"text"};if(this.sharedDataService.apiToken){const x=new e.WM({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedDataService.apiToken});_.headers=x}m==t.yw.GET&&this.http.get(i,_).subscribe(S=>{d(S)},S=>{f(S)}),m==t.yw.POST&&this.http.post(i,c,_).subscribe(S=>{d(S)},S=>{f(S)}),m==t.yw.PUT&&this.http.put(i,c,_).subscribe(S=>{d(S)},S=>{f(S)}),m==t.yw.DELETE&&this.http.delete(i,_).subscribe(S=>{d(S)},S=>{f(S)})}catch(_){f(_)}})}executeSinovadApiService(m,i,c){let d=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((f,_)=>{try{this.performExecuteMethod(m,d,c).then(S=>{f(JSON.parse(S))},S=>{let x=S;if(null!=S.error){x=S.error;try{var A=JSON.parse(x);if(A.errors){let O=A.errors,C=[];Object.keys(O).map(I=>{var T=O[I].join("\n");C.push(T)}),x=C.join("\n")}else A.Errors?x=A.Errors.map(O=>O.ErrorMessage).join("\n"):A.Message&&(x=A.Message)}catch{}}401==S.status&&this.sharedDataService.apiToken&&(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(x),_(x)})}catch(S){_(S)}})}executeHttpMediaServerApi(m,i,c){return new Promise((d,f)=>{try{this.performExecuteMethod(m,i,c).then(_=>{try{d(JSON.parse(_))}catch(S){f(S)}},_=>{f(_)})}catch(_){f(_)}})}executeHttpMethodByUrl(m,i,c){return new Promise((d,f)=>{this.performExecuteMethod(m,i,c).then(_=>{d(_)},_=>{f(_)})})}executeHttpPostMethodWithFormData(m,i){let c=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+m;return new Promise((d,f)=>{let _={responseType:"text"};if(this.sharedDataService.apiToken){const x=new e.WM({Accept:"*/*",Authorization:"Bearer "+this.sharedDataService.apiToken});_.headers=x}this.http.post(c,i,_).subscribe(S=>{d(S)},S=>{f(S)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(e.eN),v.LFG(b.g))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},1367:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>v});class e{}var t=p(5879);let v=(()=>{class b{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.configurationData=new e,this.listProfiles=[],this.manageMenus=[],this.mediaServers=[],this.linkedAccounts=[],this.hubLog=[],this.webLogs=[]}static#e=this.\u0275fac=function(D){return new(D||b)};static#t=this.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},7541:(Wn,et,p)=>{"use strict";p.d(et,{n:()=>yt});const e=[0,2e3,1e4,3e4,null];class t{constructor(fe){this._retryDelays=void 0!==fe?[...fe,null]:e}nextRetryDelayInMilliseconds(fe){return this._retryDelays[fe.previousRetryCount]}}var v=p(5861);let b=(()=>{class Dt{}return Dt.Authorization="Authorization",Dt.Cookie="Cookie",Dt})();class g{constructor(fe,We,Et){this.statusCode=fe,this.statusText=We,this.content=Et}}class P{get(fe,We){return this.send({...We,method:"GET",url:fe})}post(fe,We){return this.send({...We,method:"POST",url:fe})}delete(fe,We){return this.send({...We,method:"DELETE",url:fe})}getCookieString(fe){return""}}class D extends P{constructor(fe,We){super(),this._innerClient=fe,this._accessTokenFactory=We}send(fe){var We=this;return(0,v.Z)(function*(){let Et=!0;We._accessTokenFactory&&(!We._accessToken||fe.url&&fe.url.indexOf("/negotiate?")>0)&&(Et=!1,We._accessToken=yield We._accessTokenFactory()),We._setAuthorizationHeader(fe);const Wt=yield We._innerClient.send(fe);return Et&&401===Wt.statusCode&&We._accessTokenFactory?(We._accessToken=yield We._accessTokenFactory(),We._setAuthorizationHeader(fe),yield We._innerClient.send(fe)):Wt})()}_setAuthorizationHeader(fe){fe.headers||(fe.headers={}),this._accessToken?fe.headers[b.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&fe.headers[b.Authorization]&&delete fe.headers[b.Authorization]}getCookieString(fe){return this._innerClient.getCookieString(fe)}}class m extends Error{constructor(fe,We){const Et=new.target.prototype;super(`${fe}: Status code '${We}'`),this.statusCode=We,this.__proto__=Et}}class i extends Error{constructor(fe="A timeout occurred."){const We=new.target.prototype;super(fe),this.__proto__=We}}class c extends Error{constructor(fe="An abort occurred."){const We=new.target.prototype;super(fe),this.__proto__=We}}class d extends Error{constructor(fe,We){const Et=new.target.prototype;super(fe),this.transport=We,this.errorType="UnsupportedTransportError",this.__proto__=Et}}class f extends Error{constructor(fe,We){const Et=new.target.prototype;super(fe),this.transport=We,this.errorType="DisabledTransportError",this.__proto__=Et}}class _ extends Error{constructor(fe,We){const Et=new.target.prototype;super(fe),this.transport=We,this.errorType="FailedToStartTransportError",this.__proto__=Et}}class S extends Error{constructor(fe){const We=new.target.prototype;super(fe),this.errorType="FailedToNegotiateWithServerError",this.__proto__=We}}class x extends Error{constructor(fe,We){const Et=new.target.prototype;super(fe),this.innerErrors=We,this.__proto__=Et}}var A=function(Dt){return Dt[Dt.Trace=0]="Trace",Dt[Dt.Debug=1]="Debug",Dt[Dt.Information=2]="Information",Dt[Dt.Warning=3]="Warning",Dt[Dt.Error=4]="Error",Dt[Dt.Critical=5]="Critical",Dt[Dt.None=6]="None",Dt}(A||{});class N{constructor(){}log(fe,We){}}N.instance=new N;const O="7.0.10";class C{static isRequired(fe,We){if(null==fe)throw new Error(`The '${We}' argument is required.`)}static isNotEmpty(fe,We){if(!fe||fe.match(/^\s*$/))throw new Error(`The '${We}' argument should not be empty.`)}static isIn(fe,We,Et){if(!(fe in We))throw new Error(`Unknown ${Et} value: ${fe}.`)}}class I{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function T(Dt,fe){let We="";return y(Dt)?(We=`Binary data of length ${Dt.byteLength}`,fe&&(We+=`. Content: '${function L(Dt){const fe=new Uint8Array(Dt);let We="";return fe.forEach(Et=>{We+=`0x${Et<16?"0":""}${Et.toString(16)} `}),We.substr(0,We.length-1)}(Dt)}'`)):"string"==typeof Dt&&(We=`String data of length ${Dt.length}`,fe&&(We+=`. Content: '${Dt}'`)),We}function y(Dt){return Dt&&typeof ArrayBuffer<"u"&&(Dt instanceof ArrayBuffer||Dt.constructor&&"ArrayBuffer"===Dt.constructor.name)}function B(Dt,fe,We,Et,Wt,Qt){return z.apply(this,arguments)}function z(){return(z=(0,v.Z)(function*(Dt,fe,We,Et,Wt,Qt){const qt={},[un,fn]=Y();qt[un]=fn,Dt.log(A.Trace,`(${fe} transport) sending data. ${T(Wt,Qt.logMessageContent)}.`);const wt=y(Wt)?"arraybuffer":"text",vt=yield We.post(Et,{content:Wt,headers:{...qt,...Qt.headers},responseType:wt,timeout:Qt.timeout,withCredentials:Qt.withCredentials});Dt.log(A.Trace,`(${fe} transport) request complete. Response status: ${vt.statusCode}.`)})).apply(this,arguments)}class ae{constructor(fe,We){this._subject=fe,this._observer=We}dispose(){const fe=this._subject.observers.indexOf(this._observer);fe>-1&&this._subject.observers.splice(fe,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(We=>{})}}class Fe{constructor(fe){this._minLevel=fe,this.out=console}log(fe,We){if(fe>=this._minLevel){const Et=`[${(new Date).toISOString()}] ${A[fe]}: ${We}`;switch(fe){case A.Critical:case A.Error:this.out.error(Et);break;case A.Warning:this.out.warn(Et);break;case A.Information:this.out.info(Et);break;default:this.out.log(Et)}}}}function Y(){let Dt="X-SignalR-User-Agent";return I.isNode&&(Dt="User-Agent"),[Dt,le(O,G(),I.isNode?"NodeJS":"Browser",Se())]}function le(Dt,fe,We,Et){let Wt="Microsoft SignalR/";const Qt=Dt.split(".");return Wt+=`${Qt[0]}.${Qt[1]}`,Wt+=` (${Dt}; `,Wt+=fe&&""!==fe?`${fe}; `:"Unknown OS; ",Wt+=`${We}`,Wt+=Et?`; ${Et}`:"; Unknown Runtime Version",Wt+=")",Wt}function G(){if(!I.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Se(){if(I.isNode)return process.versions.node}function ge(Dt){return Dt.stack?Dt.stack:Dt.message?Dt.message:`${Dt}`}class Ce extends P{constructor(fe){if(super(),this._logger=fe,typeof fetch>"u"){const We=require;this._jar=new(We("tough-cookie").CookieJar),this._fetchType=We("node-fetch"),this._fetchType=We("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Ie(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const We=require;this._abortControllerType=We("abort-controller")}else this._abortControllerType=AbortController}send(fe){var We=this;return(0,v.Z)(function*(){if(fe.abortSignal&&fe.abortSignal.aborted)throw new c;if(!fe.method)throw new Error("No method defined.");if(!fe.url)throw new Error("No url defined.");const Et=new We._abortControllerType;let Wt;fe.abortSignal&&(fe.abortSignal.onabort=()=>{Et.abort(),Wt=new c});let qt,Qt=null;fe.timeout&&(Qt=setTimeout(()=>{Et.abort(),We._logger.log(A.Warning,"Timeout from HTTP request."),Wt=new i},fe.timeout)),""===fe.content&&(fe.content=void 0),fe.content&&(fe.headers=fe.headers||{},fe.headers["Content-Type"]=y(fe.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{qt=yield We._fetchType(fe.url,{body:fe.content,cache:"no-cache",credentials:!0===fe.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...fe.headers},method:fe.method,mode:"cors",redirect:"follow",signal:Et.signal})}catch(wt){throw Wt||(We._logger.log(A.Warning,`Error from HTTP request. ${wt}.`),wt)}finally{Qt&&clearTimeout(Qt),fe.abortSignal&&(fe.abortSignal.onabort=null)}if(!qt.ok){const wt=yield pe(qt,"text");throw new m(wt||qt.statusText,qt.status)}const fn=yield pe(qt,fe.responseType);return new g(qt.status,qt.statusText,fn)})()}getCookieString(fe){let We="";return I.isNode&&this._jar&&this._jar.getCookies(fe,(Et,Wt)=>We=Wt.join("; ")),We}}function pe(Dt,fe){let We;switch(fe){case"arraybuffer":We=Dt.arrayBuffer();break;case"text":default:We=Dt.text();break;case"blob":case"document":case"json":throw new Error(`${fe} is not supported.`)}return We}class Ae extends P{constructor(fe){super(),this._logger=fe}send(fe){return fe.abortSignal&&fe.abortSignal.aborted?Promise.reject(new c):fe.method?fe.url?new Promise((We,Et)=>{const Wt=new XMLHttpRequest;Wt.open(fe.method,fe.url,!0),Wt.withCredentials=void 0===fe.withCredentials||fe.withCredentials,Wt.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===fe.content&&(fe.content=void 0),fe.content&&(y(fe.content)?Wt.setRequestHeader("Content-Type","application/octet-stream"):Wt.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const Qt=fe.headers;Qt&&Object.keys(Qt).forEach(qt=>{Wt.setRequestHeader(qt,Qt[qt])}),fe.responseType&&(Wt.responseType=fe.responseType),fe.abortSignal&&(fe.abortSignal.onabort=()=>{Wt.abort(),Et(new c)}),fe.timeout&&(Wt.timeout=fe.timeout),Wt.onload=()=>{fe.abortSignal&&(fe.abortSignal.onabort=null),Wt.status>=200&&Wt.status<300?We(new g(Wt.status,Wt.statusText,Wt.response||Wt.responseText)):Et(new m(Wt.response||Wt.responseText||Wt.statusText,Wt.status))},Wt.onerror=()=>{this._logger.log(A.Warning,`Error from HTTP request. ${Wt.status}: ${Wt.statusText}.`),Et(new m(Wt.statusText,Wt.status))},Wt.ontimeout=()=>{this._logger.log(A.Warning,"Timeout from HTTP request."),Et(new i)},Wt.send(fe.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class ke extends P{constructor(fe){if(super(),typeof fetch<"u"||I.isNode)this._httpClient=new Ce(fe);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Ae(fe)}}send(fe){return fe.abortSignal&&fe.abortSignal.aborted?Promise.reject(new c):fe.method?fe.url?this._httpClient.send(fe):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(fe){return this._httpClient.getCookieString(fe)}}var he=function(Dt){return Dt[Dt.None=0]="None",Dt[Dt.WebSockets=1]="WebSockets",Dt[Dt.ServerSentEvents=2]="ServerSentEvents",Dt[Dt.LongPolling=4]="LongPolling",Dt}(he||{}),we=function(Dt){return Dt[Dt.Text=1]="Text",Dt[Dt.Binary=2]="Binary",Dt}(we||{});class Te{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Oe{constructor(fe,We,Et){this._httpClient=fe,this._logger=We,this._pollAbort=new Te,this._options=Et,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(fe,We){var Et=this;return(0,v.Z)(function*(){if(C.isRequired(fe,"url"),C.isRequired(We,"transferFormat"),C.isIn(We,we,"transferFormat"),Et._url=fe,Et._logger.log(A.Trace,"(LongPolling transport) Connecting."),We===we.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[Wt,Qt]=Y(),qt={[Wt]:Qt,...Et._options.headers},un={abortSignal:Et._pollAbort.signal,headers:qt,timeout:1e5,withCredentials:Et._options.withCredentials};We===we.Binary&&(un.responseType="arraybuffer");const fn=`${fe}&_=${Date.now()}`;Et._logger.log(A.Trace,`(LongPolling transport) polling: ${fn}.`);const wt=yield Et._httpClient.get(fn,un);200!==wt.statusCode?(Et._logger.log(A.Error,`(LongPolling transport) Unexpected response code: ${wt.statusCode}.`),Et._closeError=new m(wt.statusText||"",wt.statusCode),Et._running=!1):Et._running=!0,Et._receiving=Et._poll(Et._url,un)})()}_poll(fe,We){var Et=this;return(0,v.Z)(function*(){try{for(;Et._running;)try{const Wt=`${fe}&_=${Date.now()}`;Et._logger.log(A.Trace,`(LongPolling transport) polling: ${Wt}.`);const Qt=yield Et._httpClient.get(Wt,We);204===Qt.statusCode?(Et._logger.log(A.Information,"(LongPolling transport) Poll terminated by server."),Et._running=!1):200!==Qt.statusCode?(Et._logger.log(A.Error,`(LongPolling transport) Unexpected response code: ${Qt.statusCode}.`),Et._closeError=new m(Qt.statusText||"",Qt.statusCode),Et._running=!1):Qt.content?(Et._logger.log(A.Trace,`(LongPolling transport) data received. ${T(Qt.content,Et._options.logMessageContent)}.`),Et.onreceive&&Et.onreceive(Qt.content)):Et._logger.log(A.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(Wt){Et._running?Wt instanceof i?Et._logger.log(A.Trace,"(LongPolling transport) Poll timed out, reissuing."):(Et._closeError=Wt,Et._running=!1):Et._logger.log(A.Trace,`(LongPolling transport) Poll errored after shutdown: ${Wt.message}`)}}finally{Et._logger.log(A.Trace,"(LongPolling transport) Polling complete."),Et.pollAborted||Et._raiseOnClose()}})()}send(fe){var We=this;return(0,v.Z)(function*(){return We._running?B(We._logger,"LongPolling",We._httpClient,We._url,fe,We._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var fe=this;return(0,v.Z)(function*(){fe._logger.log(A.Trace,"(LongPolling transport) Stopping polling."),fe._running=!1,fe._pollAbort.abort();try{yield fe._receiving,fe._logger.log(A.Trace,`(LongPolling transport) sending DELETE request to ${fe._url}.`);const We={},[Et,Wt]=Y();We[Et]=Wt;const Qt={headers:{...We,...fe._options.headers},timeout:fe._options.timeout,withCredentials:fe._options.withCredentials};yield fe._httpClient.delete(fe._url,Qt),fe._logger.log(A.Trace,"(LongPolling transport) DELETE request sent.")}finally{fe._logger.log(A.Trace,"(LongPolling transport) Stop finished."),fe._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let fe="(LongPolling transport) Firing onclose event.";this._closeError&&(fe+=" Error: "+this._closeError),this._logger.log(A.Trace,fe),this.onclose(this._closeError)}}}class je{constructor(fe,We,Et,Wt){this._httpClient=fe,this._accessToken=We,this._logger=Et,this._options=Wt,this.onreceive=null,this.onclose=null}connect(fe,We){var Et=this;return(0,v.Z)(function*(){return C.isRequired(fe,"url"),C.isRequired(We,"transferFormat"),C.isIn(We,we,"transferFormat"),Et._logger.log(A.Trace,"(SSE transport) Connecting."),Et._url=fe,Et._accessToken&&(fe+=(fe.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Et._accessToken)}`),new Promise((Wt,Qt)=>{let un,qt=!1;if(We===we.Text){if(I.isBrowser||I.isWebWorker)un=new Et._options.EventSource(fe,{withCredentials:Et._options.withCredentials});else{const fn=Et._httpClient.getCookieString(fe),wt={};wt.Cookie=fn;const[vt,it]=Y();wt[vt]=it,un=new Et._options.EventSource(fe,{withCredentials:Et._options.withCredentials,headers:{...wt,...Et._options.headers}})}try{un.onmessage=fn=>{if(Et.onreceive)try{Et._logger.log(A.Trace,`(SSE transport) data received. ${T(fn.data,Et._options.logMessageContent)}.`),Et.onreceive(fn.data)}catch(wt){return void Et._close(wt)}},un.onerror=fn=>{qt?Et._close():Qt(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},un.onopen=()=>{Et._logger.log(A.Information,`SSE connected to ${Et._url}`),Et._eventSource=un,qt=!0,Wt()}}catch(fn){return void Qt(fn)}}else Qt(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(fe){var We=this;return(0,v.Z)(function*(){return We._eventSource?B(We._logger,"SSE",We._httpClient,We._url,fe,We._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(fe){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(fe))}}class ft{constructor(fe,We,Et,Wt,Qt,qt){this._logger=Et,this._accessTokenFactory=We,this._logMessageContent=Wt,this._webSocketConstructor=Qt,this._httpClient=fe,this.onreceive=null,this.onclose=null,this._headers=qt}connect(fe,We){var Et=this;return(0,v.Z)(function*(){let Wt;return C.isRequired(fe,"url"),C.isRequired(We,"transferFormat"),C.isIn(We,we,"transferFormat"),Et._logger.log(A.Trace,"(WebSockets transport) Connecting."),Et._accessTokenFactory&&(Wt=yield Et._accessTokenFactory()),new Promise((Qt,qt)=>{let un;fe=fe.replace(/^http/,"ws");const fn=Et._httpClient.getCookieString(fe);let wt=!1;if(I.isNode||I.isReactNative){const vt={},[it,He]=Y();vt[it]=He,Wt&&(vt[b.Authorization]=`Bearer ${Wt}`),fn&&(vt[b.Cookie]=fn),un=new Et._webSocketConstructor(fe,void 0,{headers:{...vt,...Et._headers}})}else Wt&&(fe+=(fe.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Wt)}`);un||(un=new Et._webSocketConstructor(fe)),We===we.Binary&&(un.binaryType="arraybuffer"),un.onopen=vt=>{Et._logger.log(A.Information,`WebSocket connected to ${fe}.`),Et._webSocket=un,wt=!0,Qt()},un.onerror=vt=>{let it=null;it=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"There was an error with the transport",Et._logger.log(A.Information,`(WebSockets transport) ${it}.`)},un.onmessage=vt=>{if(Et._logger.log(A.Trace,`(WebSockets transport) data received. ${T(vt.data,Et._logMessageContent)}.`),Et.onreceive)try{Et.onreceive(vt.data)}catch(it){return void Et._close(it)}},un.onclose=vt=>{if(wt)Et._close(vt);else{let it=null;it=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",qt(new Error(it))}}})})()}send(fe){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(A.Trace,`(WebSockets transport) sending data. ${T(fe,this._logMessageContent)}.`),this._webSocket.send(fe),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(fe){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(A.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(fe)||!1!==fe.wasClean&&1e3===fe.code?fe instanceof Error?this.onclose(fe):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${fe.code} (${fe.reason||"no reason given"}).`)))}_isCloseEvent(fe){return fe&&"boolean"==typeof fe.wasClean&&"number"==typeof fe.code}}class Re{constructor(fe,We={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,C.isRequired(fe,"url"),this._logger=function ne(Dt){return void 0===Dt?new Fe(A.Information):null===Dt?N.instance:void 0!==Dt.log?Dt:new Fe(Dt)}(We.logger),this.baseUrl=this._resolveUrl(fe),(We=We||{}).logMessageContent=void 0!==We.logMessageContent&&We.logMessageContent,"boolean"!=typeof We.withCredentials&&void 0!==We.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");We.withCredentials=void 0===We.withCredentials||We.withCredentials,We.timeout=void 0===We.timeout?1e5:We.timeout;let Et=null,Wt=null;if(I.isNode){const Qt=require;Et=Qt("ws"),Wt=Qt("eventsource")}!I.isNode&&typeof WebSocket<"u"&&!We.WebSocket?We.WebSocket=WebSocket:I.isNode&&!We.WebSocket&&Et&&(We.WebSocket=Et),!I.isNode&&typeof EventSource<"u"&&!We.EventSource?We.EventSource=EventSource:I.isNode&&!We.EventSource&&typeof Wt<"u"&&(We.EventSource=Wt),this._httpClient=new D(We.httpClient||new ke(this._logger),We.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=We,this.onreceive=null,this.onclose=null}start(fe){var We=this;return(0,v.Z)(function*(){if(C.isIn(fe=fe||we.Binary,we,"transferFormat"),We._logger.log(A.Debug,`Starting connection with transfer format '${we[fe]}'.`),"Disconnected"!==We._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(We._connectionState="Connecting",We._startInternalPromise=We._startInternal(fe),yield We._startInternalPromise,"Disconnecting"===We._connectionState){const Et="Failed to start the HttpConnection before stop() was called.";return We._logger.log(A.Error,Et),yield We._stopPromise,Promise.reject(new c(Et))}if("Connected"!==We._connectionState){const Et="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return We._logger.log(A.Error,Et),Promise.reject(new c(Et))}We._connectionStarted=!0})()}send(fe){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Q(this.transport)),this._sendQueue.send(fe))}stop(fe){var We=this;return(0,v.Z)(function*(){return"Disconnected"===We._connectionState?(We._logger.log(A.Debug,`Call to HttpConnection.stop(${fe}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===We._connectionState?(We._logger.log(A.Debug,`Call to HttpConnection.stop(${fe}) ignored because the connection is already in the disconnecting state.`),We._stopPromise):(We._connectionState="Disconnecting",We._stopPromise=new Promise(Et=>{We._stopPromiseResolver=Et}),yield We._stopInternal(fe),void(yield We._stopPromise))})()}_stopInternal(fe){var We=this;return(0,v.Z)(function*(){We._stopError=fe;try{yield We._startInternalPromise}catch{}if(We.transport){try{yield We.transport.stop()}catch(Et){We._logger.log(A.Error,`HttpConnection.transport.stop() threw error '${Et}'.`),We._stopConnection()}We.transport=void 0}else We._logger.log(A.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(fe){var We=this;return(0,v.Z)(function*(){let Et=We.baseUrl;We._accessTokenFactory=We._options.accessTokenFactory,We._httpClient._accessTokenFactory=We._accessTokenFactory;try{if(We._options.skipNegotiation){if(We._options.transport!==he.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");We.transport=We._constructTransport(he.WebSockets),yield We._startTransport(Et,fe)}else{let Wt=null,Qt=0;do{if(Wt=yield We._getNegotiationResponse(Et),"Disconnecting"===We._connectionState||"Disconnected"===We._connectionState)throw new c("The connection was stopped during negotiation.");if(Wt.error)throw new Error(Wt.error);if(Wt.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(Wt.url&&(Et=Wt.url),Wt.accessToken){const qt=Wt.accessToken;We._accessTokenFactory=()=>qt,We._httpClient._accessToken=qt,We._httpClient._accessTokenFactory=void 0}Qt++}while(Wt.url&&Qt<100);if(100===Qt&&Wt.url)throw new Error("Negotiate redirection limit exceeded.");yield We._createTransport(Et,We._options.transport,Wt,fe)}We.transport instanceof Oe&&(We.features.inherentKeepAlive=!0),"Connecting"===We._connectionState&&(We._logger.log(A.Debug,"The HttpConnection connected successfully."),We._connectionState="Connected")}catch(Wt){return We._logger.log(A.Error,"Failed to start the connection: "+Wt),We._connectionState="Disconnected",We.transport=void 0,We._stopPromiseResolver(),Promise.reject(Wt)}})()}_getNegotiationResponse(fe){var We=this;return(0,v.Z)(function*(){const Et={},[Wt,Qt]=Y();Et[Wt]=Qt;const qt=We._resolveNegotiateUrl(fe);We._logger.log(A.Debug,`Sending negotiation request: ${qt}.`);try{const un=yield We._httpClient.post(qt,{content:"",headers:{...Et,...We._options.headers},timeout:We._options.timeout,withCredentials:We._options.withCredentials});if(200!==un.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${un.statusCode}'`));const fn=JSON.parse(un.content);return(!fn.negotiateVersion||fn.negotiateVersion<1)&&(fn.connectionToken=fn.connectionId),fn}catch(un){let fn="Failed to complete negotiation with the server: "+un;return un instanceof m&&404===un.statusCode&&(fn+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),We._logger.log(A.Error,fn),Promise.reject(new S(fn))}})()}_createConnectUrl(fe,We){return We?fe+(-1===fe.indexOf("?")?"?":"&")+`id=${We}`:fe}_createTransport(fe,We,Et,Wt){var Qt=this;return(0,v.Z)(function*(){let qt=Qt._createConnectUrl(fe,Et.connectionToken);if(Qt._isITransport(We))return Qt._logger.log(A.Debug,"Connection was provided an instance of ITransport, using that directly."),Qt.transport=We,yield Qt._startTransport(qt,Wt),void(Qt.connectionId=Et.connectionId);const un=[],fn=Et.availableTransports||[];let wt=Et;for(const vt of fn){const it=Qt._resolveTransportOrError(vt,We,Wt);if(it instanceof Error)un.push(`${vt.transport} failed:`),un.push(it);else if(Qt._isITransport(it)){if(Qt.transport=it,!wt){try{wt=yield Qt._getNegotiationResponse(fe)}catch(He){return Promise.reject(He)}qt=Qt._createConnectUrl(fe,wt.connectionToken)}try{return yield Qt._startTransport(qt,Wt),void(Qt.connectionId=wt.connectionId)}catch(He){if(Qt._logger.log(A.Error,`Failed to start the transport '${vt.transport}': ${He}`),wt=void 0,un.push(new _(`${vt.transport} failed: ${He}`,he[vt.transport])),"Connecting"!==Qt._connectionState){const ze="Failed to select transport before stop() was called.";return Qt._logger.log(A.Debug,ze),Promise.reject(new c(ze))}}}}return Promise.reject(un.length>0?new x(`Unable to connect to the server with any of the available transports. ${un.join(" ")}`,un):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(fe){switch(fe){case he.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new ft(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case he.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new je(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case he.LongPolling:return new Oe(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${fe}.`)}}_startTransport(fe,We){return this.transport.onreceive=this.onreceive,this.transport.onclose=Et=>this._stopConnection(Et),this.transport.connect(fe,We)}_resolveTransportOrError(fe,We,Et){const Wt=he[fe.transport];if(null==Wt)return this._logger.log(A.Debug,`Skipping transport '${fe.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${fe.transport}' because it is not supported by this client.`);if(!function be(Dt,fe){return!Dt||0!=(fe&Dt)}(We,Wt))return this._logger.log(A.Debug,`Skipping transport '${he[Wt]}' because it was disabled by the client.`),new f(`'${he[Wt]}' is disabled by the client.`,Wt);if(!(fe.transferFormats.map(qt=>we[qt]).indexOf(Et)>=0))return this._logger.log(A.Debug,`Skipping transport '${he[Wt]}' because it does not support the requested transfer format '${we[Et]}'.`),new Error(`'${he[Wt]}' does not support ${we[Et]}.`);if(Wt===he.WebSockets&&!this._options.WebSocket||Wt===he.ServerSentEvents&&!this._options.EventSource)return this._logger.log(A.Debug,`Skipping transport '${he[Wt]}' because it is not supported in your environment.'`),new d(`'${he[Wt]}' is not supported in your environment.`,Wt);this._logger.log(A.Debug,`Selecting transport '${he[Wt]}'.`);try{return this._constructTransport(Wt)}catch(qt){return qt}}_isITransport(fe){return fe&&"object"==typeof fe&&"connect"in fe}_stopConnection(fe){if(this._logger.log(A.Debug,`HttpConnection.stopConnection(${fe}) called while in state ${this._connectionState}.`),this.transport=void 0,fe=this._stopError||fe,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(A.Warning,`Call to HttpConnection.stopConnection(${fe}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${fe}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),fe?this._logger.log(A.Error,`Connection disconnected with error '${fe}'.`):this._logger.log(A.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(We=>{this._logger.log(A.Error,`TransportSendQueue.stop() threw error '${We}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(fe)}catch(We){this._logger.log(A.Error,`HttpConnection.onclose(${fe}) threw error '${We}'.`)}}}else this._logger.log(A.Debug,`Call to HttpConnection.stopConnection(${fe}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(fe){if(0===fe.lastIndexOf("https://",0)||0===fe.lastIndexOf("http://",0))return fe;if(!I.isBrowser)throw new Error(`Cannot resolve '${fe}'.`);const We=window.document.createElement("a");return We.href=fe,this._logger.log(A.Information,`Normalizing '${fe}' to '${We.href}'.`),We.href}_resolveNegotiateUrl(fe){const We=fe.indexOf("?");let Et=fe.substring(0,-1===We?fe.length:We);return"/"!==Et[Et.length-1]&&(Et+="/"),Et+="negotiate",Et+=-1===We?"":fe.substring(We),-1===Et.indexOf("negotiateVersion")&&(Et+=-1===We?"?":"&",Et+="negotiateVersion="+this._negotiateVersion),Et}}class Q{constructor(fe){this._transport=fe,this._buffer=[],this._executing=!0,this._sendBufferedData=new ie,this._transportResult=new ie,this._sendLoopPromise=this._sendLoop()}send(fe){return this._bufferData(fe),this._transportResult||(this._transportResult=new ie),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(fe){if(this._buffer.length&&typeof this._buffer[0]!=typeof fe)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof fe}`);this._buffer.push(fe),this._sendBufferedData.resolve()}_sendLoop(){var fe=this;return(0,v.Z)(function*(){for(;;){if(yield fe._sendBufferedData.promise,!fe._executing){fe._transportResult&&fe._transportResult.reject("Connection stopped.");break}fe._sendBufferedData=new ie;const We=fe._transportResult;fe._transportResult=void 0;const Et="string"==typeof fe._buffer[0]?fe._buffer.join(""):Q._concatBuffers(fe._buffer);fe._buffer.length=0;try{yield fe._transport.send(Et),We.resolve()}catch(Wt){We.reject(Wt)}}})()}static _concatBuffers(fe){const We=fe.map(Qt=>Qt.byteLength).reduce((Qt,qt)=>Qt+qt),Et=new Uint8Array(We);let Wt=0;for(const Qt of fe)Et.set(new Uint8Array(Qt),Wt),Wt+=Qt.byteLength;return Et.buffer}}class ie{constructor(){this.promise=new Promise((fe,We)=>[this._resolver,this._rejecter]=[fe,We])}resolve(){this._resolver()}reject(fe){this._rejecter(fe)}}class ye{static write(fe){return`${fe}${ye.RecordSeparator}`}static parse(fe){if(fe[fe.length-1]!==ye.RecordSeparator)throw new Error("Message is incomplete.");const We=fe.split(ye.RecordSeparator);return We.pop(),We}}ye.RecordSeparatorCode=30,ye.RecordSeparator=String.fromCharCode(ye.RecordSeparatorCode);class oe{writeHandshakeRequest(fe){return ye.write(JSON.stringify(fe))}parseHandshakeResponse(fe){let We,Et;if(y(fe)){const un=new Uint8Array(fe),fn=un.indexOf(ye.RecordSeparatorCode);if(-1===fn)throw new Error("Message is incomplete.");const wt=fn+1;We=String.fromCharCode.apply(null,Array.prototype.slice.call(un.slice(0,wt))),Et=un.byteLength>wt?un.slice(wt).buffer:null}else{const un=fe,fn=un.indexOf(ye.RecordSeparator);if(-1===fn)throw new Error("Message is incomplete.");const wt=fn+1;We=un.substring(0,wt),Et=un.length>wt?un.substring(wt):null}const Wt=ye.parse(We),Qt=JSON.parse(Wt[0]);if(Qt.type)throw new Error("Expected a handshake response from the server.");return[Et,Qt]}}var ee=function(Dt){return Dt[Dt.Invocation=1]="Invocation",Dt[Dt.StreamItem=2]="StreamItem",Dt[Dt.Completion=3]="Completion",Dt[Dt.StreamInvocation=4]="StreamInvocation",Dt[Dt.CancelInvocation=5]="CancelInvocation",Dt[Dt.Ping=6]="Ping",Dt[Dt.Close=7]="Close",Dt}(ee||{});class X{constructor(){this.observers=[]}next(fe){for(const We of this.observers)We.next(fe)}error(fe){for(const We of this.observers)We.error&&We.error(fe)}complete(){for(const fe of this.observers)fe.complete&&fe.complete()}subscribe(fe){return this.observers.push(fe),new ae(this,fe)}}var J=function(Dt){return Dt.Disconnected="Disconnected",Dt.Connecting="Connecting",Dt.Connected="Connected",Dt.Disconnecting="Disconnecting",Dt.Reconnecting="Reconnecting",Dt}(J||{});class q{constructor(fe,We,Et,Wt){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(A.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},C.isRequired(fe,"connection"),C.isRequired(We,"logger"),C.isRequired(Et,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=We,this._protocol=Et,this.connection=fe,this._reconnectPolicy=Wt,this._handshakeProtocol=new oe,this.connection.onreceive=Qt=>this._processIncomingData(Qt),this.connection.onclose=Qt=>this._connectionClosed(Qt),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=J.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ee.Ping})}static create(fe,We,Et,Wt){return new q(fe,We,Et,Wt)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(fe){if(this._connectionState!==J.Disconnected&&this._connectionState!==J.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!fe)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=fe}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var fe=this;return(0,v.Z)(function*(){if(fe._connectionState!==J.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));fe._connectionState=J.Connecting,fe._logger.log(A.Debug,"Starting HubConnection.");try{yield fe._startInternal(),I.isBrowser&&window.document.addEventListener("freeze",fe._freezeEventListener),fe._connectionState=J.Connected,fe._connectionStarted=!0,fe._logger.log(A.Debug,"HubConnection connected successfully.")}catch(We){return fe._connectionState=J.Disconnected,fe._logger.log(A.Debug,`HubConnection failed to start successfully because of error '${We}'.`),Promise.reject(We)}})()}_startInternal(){var fe=this;return(0,v.Z)(function*(){fe._stopDuringStartError=void 0,fe._receivedHandshakeResponse=!1;const We=new Promise((Et,Wt)=>{fe._handshakeResolver=Et,fe._handshakeRejecter=Wt});yield fe.connection.start(fe._protocol.transferFormat);try{const Et={protocol:fe._protocol.name,version:fe._protocol.version};if(fe._logger.log(A.Debug,"Sending handshake request."),yield fe._sendMessage(fe._handshakeProtocol.writeHandshakeRequest(Et)),fe._logger.log(A.Information,`Using HubProtocol '${fe._protocol.name}'.`),fe._cleanupTimeout(),fe._resetTimeoutPeriod(),fe._resetKeepAliveInterval(),yield We,fe._stopDuringStartError)throw fe._stopDuringStartError;fe.connection.features.inherentKeepAlive||(yield fe._sendMessage(fe._cachedPingMessage))}catch(Et){throw fe._logger.log(A.Debug,`Hub handshake failed with error '${Et}' during start(). Stopping HubConnection.`),fe._cleanupTimeout(),fe._cleanupPingTimer(),yield fe.connection.stop(Et),Et}})()}stop(){var fe=this;return(0,v.Z)(function*(){const We=fe._startPromise;fe._stopPromise=fe._stopInternal(),yield fe._stopPromise;try{yield We}catch{}})()}_stopInternal(fe){return this._connectionState===J.Disconnected?(this._logger.log(A.Debug,`Call to HubConnection.stop(${fe}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===J.Disconnecting?(this._logger.log(A.Debug,`Call to HttpConnection.stop(${fe}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=J.Disconnecting,this._logger.log(A.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(A.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=fe||new c("The connection was stopped before the hub handshake could complete."),this.connection.stop(fe)))}stream(fe,...We){const[Et,Wt]=this._replaceStreamingParams(We),Qt=this._createStreamInvocation(fe,We,Wt);let qt;const un=new X;return un.cancelCallback=()=>{const fn=this._createCancelInvocation(Qt.invocationId);return delete this._callbacks[Qt.invocationId],qt.then(()=>this._sendWithProtocol(fn))},this._callbacks[Qt.invocationId]=(fn,wt)=>{wt?un.error(wt):fn&&(fn.type===ee.Completion?fn.error?un.error(new Error(fn.error)):un.complete():un.next(fn.item))},qt=this._sendWithProtocol(Qt).catch(fn=>{un.error(fn),delete this._callbacks[Qt.invocationId]}),this._launchStreams(Et,qt),un}_sendMessage(fe){return this._resetKeepAliveInterval(),this.connection.send(fe)}_sendWithProtocol(fe){return this._sendMessage(this._protocol.writeMessage(fe))}send(fe,...We){const[Et,Wt]=this._replaceStreamingParams(We),Qt=this._sendWithProtocol(this._createInvocation(fe,We,!0,Wt));return this._launchStreams(Et,Qt),Qt}invoke(fe,...We){const[Et,Wt]=this._replaceStreamingParams(We),Qt=this._createInvocation(fe,We,!1,Wt);return new Promise((un,fn)=>{this._callbacks[Qt.invocationId]=(vt,it)=>{it?fn(it):vt&&(vt.type===ee.Completion?vt.error?fn(new Error(vt.error)):un(vt.result):fn(new Error(`Unexpected message type: ${vt.type}`)))};const wt=this._sendWithProtocol(Qt).catch(vt=>{fn(vt),delete this._callbacks[Qt.invocationId]});this._launchStreams(Et,wt)})}on(fe,We){!fe||!We||(fe=fe.toLowerCase(),this._methods[fe]||(this._methods[fe]=[]),-1===this._methods[fe].indexOf(We)&&this._methods[fe].push(We))}off(fe,We){if(!fe)return;fe=fe.toLowerCase();const Et=this._methods[fe];if(Et)if(We){const Wt=Et.indexOf(We);-1!==Wt&&(Et.splice(Wt,1),0===Et.length&&delete this._methods[fe])}else delete this._methods[fe]}onclose(fe){fe&&this._closedCallbacks.push(fe)}onreconnecting(fe){fe&&this._reconnectingCallbacks.push(fe)}onreconnected(fe){fe&&this._reconnectedCallbacks.push(fe)}_processIncomingData(fe){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(fe=this._processHandshakeResponse(fe),this._receivedHandshakeResponse=!0),fe){const We=this._protocol.parseMessages(fe,this._logger);for(const Et of We)switch(Et.type){case ee.Invocation:this._invokeClientMethod(Et);break;case ee.StreamItem:case ee.Completion:{const Wt=this._callbacks[Et.invocationId];if(Wt){Et.type===ee.Completion&&delete this._callbacks[Et.invocationId];try{Wt(Et)}catch(Qt){this._logger.log(A.Error,`Stream callback threw error: ${ge(Qt)}`)}}break}case ee.Ping:break;case ee.Close:{this._logger.log(A.Information,"Close message received from server.");const Wt=Et.error?new Error("Server returned an error on close: "+Et.error):void 0;!0===Et.allowReconnect?this.connection.stop(Wt):this._stopPromise=this._stopInternal(Wt);break}default:this._logger.log(A.Warning,`Invalid message type: ${Et.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(fe){let We,Et;try{[Et,We]=this._handshakeProtocol.parseHandshakeResponse(fe)}catch(Wt){const Qt="Error parsing handshake response: "+Wt;this._logger.log(A.Error,Qt);const qt=new Error(Qt);throw this._handshakeRejecter(qt),qt}if(We.error){const Wt="Server returned handshake error: "+We.error;this._logger.log(A.Error,Wt);const Qt=new Error(Wt);throw this._handshakeRejecter(Qt),Qt}return this._logger.log(A.Debug,"Server handshake complete."),this._handshakeResolver(),Et}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var fe=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let We=this._nextKeepAlive-(new Date).getTime();We<0&&(We=0),this._pingServerHandle=setTimeout((0,v.Z)(function*(){if(fe._connectionState===J.Connected)try{yield fe._sendMessage(fe._cachedPingMessage)}catch{fe._cleanupPingTimer()}}),We)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(fe){var We=this;return(0,v.Z)(function*(){const Et=fe.target.toLowerCase(),Wt=We._methods[Et];if(!Wt)return We._logger.log(A.Warning,`No client method with the name '${Et}' found.`),void(fe.invocationId&&(We._logger.log(A.Warning,`No result given for '${Et}' method and invocation ID '${fe.invocationId}'.`),yield We._sendWithProtocol(We._createCompletionMessage(fe.invocationId,"Client didn't provide a result.",null))));const Qt=Wt.slice(),qt=!!fe.invocationId;let un,fn,wt;for(const vt of Qt)try{const it=un;un=yield vt.apply(We,fe.arguments),qt&&un&&it&&(We._logger.log(A.Error,`Multiple results provided for '${Et}'. Sending error to server.`),wt=We._createCompletionMessage(fe.invocationId,"Client provided multiple results.",null)),fn=void 0}catch(it){fn=it,We._logger.log(A.Error,`A callback for the method '${Et}' threw error '${it}'.`)}wt?yield We._sendWithProtocol(wt):qt?(fn?wt=We._createCompletionMessage(fe.invocationId,`${fn}`,null):void 0!==un?wt=We._createCompletionMessage(fe.invocationId,null,un):(We._logger.log(A.Warning,`No result given for '${Et}' method and invocation ID '${fe.invocationId}'.`),wt=We._createCompletionMessage(fe.invocationId,"Client didn't provide a result.",null)),yield We._sendWithProtocol(wt)):un&&We._logger.log(A.Error,`Result given for '${Et}' method but server is not expecting a result.`)})()}_connectionClosed(fe){this._logger.log(A.Debug,`HubConnection.connectionClosed(${fe}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||fe||new c("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(fe||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===J.Disconnecting?this._completeClose(fe):this._connectionState===J.Connected&&this._reconnectPolicy?this._reconnect(fe):this._connectionState===J.Connected&&this._completeClose(fe)}_completeClose(fe){if(this._connectionStarted){this._connectionState=J.Disconnected,this._connectionStarted=!1,I.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(We=>We.apply(this,[fe]))}catch(We){this._logger.log(A.Error,`An onclose callback called with error '${fe}' threw error '${We}'.`)}}}_reconnect(fe){var We=this;return(0,v.Z)(function*(){const Et=Date.now();let Wt=0,Qt=void 0!==fe?fe:new Error("Attempting to reconnect due to a unknown error."),qt=We._getNextRetryDelay(Wt++,0,Qt);if(null===qt)return We._logger.log(A.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void We._completeClose(fe);if(We._connectionState=J.Reconnecting,We._logger.log(A.Information,fe?`Connection reconnecting because of error '${fe}'.`:"Connection reconnecting."),0!==We._reconnectingCallbacks.length){try{We._reconnectingCallbacks.forEach(un=>un.apply(We,[fe]))}catch(un){We._logger.log(A.Error,`An onreconnecting callback called with error '${fe}' threw error '${un}'.`)}if(We._connectionState!==J.Reconnecting)return void We._logger.log(A.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==qt;){if(We._logger.log(A.Information,`Reconnect attempt number ${Wt} will start in ${qt} ms.`),yield new Promise(un=>{We._reconnectDelayHandle=setTimeout(un,qt)}),We._reconnectDelayHandle=void 0,We._connectionState!==J.Reconnecting)return void We._logger.log(A.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield We._startInternal(),We._connectionState=J.Connected,We._logger.log(A.Information,"HubConnection reconnected successfully."),0!==We._reconnectedCallbacks.length)try{We._reconnectedCallbacks.forEach(un=>un.apply(We,[We.connection.connectionId]))}catch(un){We._logger.log(A.Error,`An onreconnected callback called with connectionId '${We.connection.connectionId}; threw error '${un}'.`)}return}catch(un){if(We._logger.log(A.Information,`Reconnect attempt failed because of error '${un}'.`),We._connectionState!==J.Reconnecting)return We._logger.log(A.Debug,`Connection moved to the '${We._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(We._connectionState===J.Disconnecting&&We._completeClose());Qt=un instanceof Error?un:new Error(un.toString()),qt=We._getNextRetryDelay(Wt++,Date.now()-Et,Qt)}}We._logger.log(A.Information,`Reconnect retries have been exhausted after ${Date.now()-Et} ms and ${Wt} failed attempts. Connection disconnecting.`),We._completeClose()})()}_getNextRetryDelay(fe,We,Et){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:We,previousRetryCount:fe,retryReason:Et})}catch(Wt){return this._logger.log(A.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${fe}, ${We}) threw error '${Wt}'.`),null}}_cancelCallbacksWithError(fe){const We=this._callbacks;this._callbacks={},Object.keys(We).forEach(Et=>{const Wt=We[Et];try{Wt(null,fe)}catch(Qt){this._logger.log(A.Error,`Stream 'error' callback called with '${fe}' threw error: ${ge(Qt)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(fe,We,Et,Wt){if(Et)return 0!==Wt.length?{arguments:We,streamIds:Wt,target:fe,type:ee.Invocation}:{arguments:We,target:fe,type:ee.Invocation};{const Qt=this._invocationId;return this._invocationId++,0!==Wt.length?{arguments:We,invocationId:Qt.toString(),streamIds:Wt,target:fe,type:ee.Invocation}:{arguments:We,invocationId:Qt.toString(),target:fe,type:ee.Invocation}}}_launchStreams(fe,We){if(0!==fe.length){We||(We=Promise.resolve());for(const Et in fe)fe[Et].subscribe({complete:()=>{We=We.then(()=>this._sendWithProtocol(this._createCompletionMessage(Et)))},error:Wt=>{let Qt;Qt=Wt instanceof Error?Wt.message:Wt&&Wt.toString?Wt.toString():"Unknown error",We=We.then(()=>this._sendWithProtocol(this._createCompletionMessage(Et,Qt)))},next:Wt=>{We=We.then(()=>this._sendWithProtocol(this._createStreamItemMessage(Et,Wt)))}})}}_replaceStreamingParams(fe){const We=[],Et=[];for(let Wt=0;Wt<fe.length;Wt++){const Qt=fe[Wt];if(this._isObservable(Qt)){const qt=this._invocationId;this._invocationId++,We[qt]=Qt,Et.push(qt.toString()),fe.splice(Wt,1)}}return[We,Et]}_isObservable(fe){return fe&&fe.subscribe&&"function"==typeof fe.subscribe}_createStreamInvocation(fe,We,Et){const Wt=this._invocationId;return this._invocationId++,0!==Et.length?{arguments:We,invocationId:Wt.toString(),streamIds:Et,target:fe,type:ee.StreamInvocation}:{arguments:We,invocationId:Wt.toString(),target:fe,type:ee.StreamInvocation}}_createCancelInvocation(fe){return{invocationId:fe,type:ee.CancelInvocation}}_createStreamItemMessage(fe,We){return{invocationId:fe,item:We,type:ee.StreamItem}}_createCompletionMessage(fe,We,Et){return We?{error:We,invocationId:fe,type:ee.Completion}:{invocationId:fe,result:Et,type:ee.Completion}}}class xe{constructor(){this.name="json",this.version=1,this.transferFormat=we.Text}parseMessages(fe,We){if("string"!=typeof fe)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!fe)return[];null===We&&(We=N.instance);const Et=ye.parse(fe),Wt=[];for(const Qt of Et){const qt=JSON.parse(Qt);if("number"!=typeof qt.type)throw new Error("Invalid payload.");switch(qt.type){case ee.Invocation:this._isInvocationMessage(qt);break;case ee.StreamItem:this._isStreamItemMessage(qt);break;case ee.Completion:this._isCompletionMessage(qt);break;case ee.Ping:case ee.Close:break;default:We.log(A.Information,"Unknown message type '"+qt.type+"' ignored.");continue}Wt.push(qt)}return Wt}writeMessage(fe){return ye.write(JSON.stringify(fe))}_isInvocationMessage(fe){this._assertNotEmptyString(fe.target,"Invalid payload for Invocation message."),void 0!==fe.invocationId&&this._assertNotEmptyString(fe.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(fe){if(this._assertNotEmptyString(fe.invocationId,"Invalid payload for StreamItem message."),void 0===fe.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(fe){if(fe.result&&fe.error)throw new Error("Invalid payload for Completion message.");!fe.result&&fe.error&&this._assertNotEmptyString(fe.error,"Invalid payload for Completion message."),this._assertNotEmptyString(fe.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(fe,We){if("string"!=typeof fe||""===fe)throw new Error(We)}}const Ee={trace:A.Trace,debug:A.Debug,info:A.Information,information:A.Information,warn:A.Warning,warning:A.Warning,error:A.Error,critical:A.Critical,none:A.None};class ct{configureLogging(fe){if(C.isRequired(fe,"logging"),function Xe(Dt){return void 0!==Dt.log}(fe))this.logger=fe;else if("string"==typeof fe){const We=function Ge(Dt){const fe=Ee[Dt.toLowerCase()];if(typeof fe<"u")return fe;throw new Error(`Unknown log level: ${Dt}`)}(fe);this.logger=new Fe(We)}else this.logger=new Fe(fe);return this}withUrl(fe,We){return C.isRequired(fe,"url"),C.isNotEmpty(fe,"url"),this.url=fe,this.httpConnectionOptions="object"==typeof We?{...this.httpConnectionOptions,...We}:{...this.httpConnectionOptions,transport:We},this}withHubProtocol(fe){return C.isRequired(fe,"protocol"),this.protocol=fe,this}withAutomaticReconnect(fe){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=fe?Array.isArray(fe)?new t(fe):fe:new t,this}build(){const fe=this.httpConnectionOptions||{};if(void 0===fe.logger&&(fe.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const We=new Re(this.url,fe);return q.create(We,this.logger||N.instance,this.protocol||new xe,this.reconnectPolicy)}}var tt=p(8645),gt=p(5879),Qe=p(1367);let yt=(()=>{class Dt{constructor(We){this.sharedDataService=We,this.addedMediaFilePlayBack$=new tt.x,this.removedMediaFilePlayBack$=new tt.x,this.updateCurrentTimeMediaFilePlayBack$=new tt.x,this.updateMediaServers$=new tt.x,this.enableMediaServerSubject$=new tt.x,this.disableMediaServerSubject$=new tt.x,this.updateLibrariesByMediaServerSubject$=new tt.x,this.updateItemsByMediaServerSubject$=new tt.x,this.webLogs$=new tt.x}addWebLog(We){this.sharedDataService.webLogs.push(We),this.webLogs$.next(this.sharedDataService.webLogs)}isUpdatingWebLogs(){return this.webLogs$.asObservable()}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(We){this.enableMediaServerSubject$.next(We)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(We){this.disableMediaServerSubject$.next(We)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(We){this.updateLibrariesByMediaServerSubject$.next(We)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(We){this.updateItemsByMediaServerSubject$.next(We)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){this.addWebLog({Created:new Date,Description:"Definiendo conexi\xf3n a Signal IR"});var We=(new ct).withUrl(this.sharedDataService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:he.WebSockets}).build();this.sharedDataService.hubConnection=We;let Et=this;this.sharedDataService.hubConnection.onclose(Wt=>{Et.addWebLog({Created:new Date,Description:"Se cerr\xf3 la conexi\xf3n a Signal IR "+Wt.message}),setTimeout(()=>{Et.sharedDataService.userData&&Et.tryStartHubConnection()},1e3,Et)}),this.tryStartHubConnection()}tryStartHubConnection(){let We=this;this.addWebLog({Created:new Date,Description:"Intentando conectarse a Signal IR"}),this.sharedDataService.hubConnection.start().then(()=>{We.addWebLog({Created:new Date,Description:"Se inicio satisfactoriamente la conexi\xf3n a Signal IR"}),We.removeHubHandlerMethods(),We.sharedDataService.hubConnection.onreconnecting(Et=>{We.addWebLog({Created:new Date,Description:"Reconectando a Signal IR"})}),We.sharedDataService.hubConnection.onreconnected(Et=>{We.addWebLog({Created:new Date,Description:"Reconexi\xf3n satisfactoria a Signal IR"})}),setTimeout(()=>{We.sharedDataService.hubConnection.invoke("AddConnectionToUserClientsGroup",this.sharedDataService.userData.Guid).then(Et=>{}),We.addHubEvents()},100,We)}).catch(Et=>{We.addWebLog({Created:new Date,Description:"Error al iniciar la conexi\xf3n a Signal IR"}),setTimeout(()=>{We.tryStartHubConnection()},1e3,We)})}stopConnection(){this.removeHubHandlerMethods(),this.sharedDataService.hubConnection.stop()}delay(We){return new Promise(Et=>setTimeout(Et,We))}removeHubHandlerMethods(){this.addWebLog({Created:new Date,Description:"Eliminando controladores para los metodos del hub"}),this.sharedDataService.hubConnection.off("UpdateCurrentTimeMediaFilePlayBack"),this.sharedDataService.hubConnection.off("AddedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("RemovedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("UpdateMediaServers"),this.sharedDataService.hubConnection.off("EnableMediaServer"),this.sharedDataService.hubConnection.off("DisableMediaServer"),this.sharedDataService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServerAndLibrary")}addHubEvents(){this.addWebLog({Created:new Date,Description:"Agregando controladores para los metodos del hub"}),this.sharedDataService.hubConnection.on("UpdateMediaServers",We=>{this.updateMediaServers()}),this.sharedDataService.hubConnection.on("EnableMediaServer",We=>{var Et=this.sharedDataService.mediaServers.find(Wt=>Wt.Guid==We);Et.isSecureConnection||(Et.isSecureConnection=!0),this.enableMediaServer(We)}),this.sharedDataService.hubConnection.on("DisableMediaServer",We=>{var Et=this.sharedDataService.mediaServers.find(Wt=>Wt.Guid==We);Et.isSecureConnection&&(Et.isSecureConnection=!1),this.disableMediaServer(We)}),this.sharedDataService.hubConnection.on("UpdateLibrariesByMediaServer",We=>{this.updateLibrariesByMediaServer(We)}),this.sharedDataService.hubConnection.on("UpdateItemsByMediaServer",We=>{this.updateItemsByMediaServer(We)}),this.sharedDataService.hubConnection.on("UpdateCurrentTimeMediaFilePlayBack",(We,Et,Wt,Qt)=>{this.updateCurrentTimeMediaFilePlayBack$.next({mediaServerGuid:We,mediaFilePlaybackGuid:Et,currentTime:Wt,isPlaying:Qt})}),this.sharedDataService.hubConnection.on("AddedMediaFilePlayBack",(We,Et)=>{this.addedMediaFilePlayBack$.next({mediaServerGuid:We,mediaFilePlaybackGuid:Et})}),this.sharedDataService.hubConnection.on("RemovedMediaFilePlayBack",(We,Et)=>{this.removedMediaFilePlayBack$.next({mediaServerGuid:We,mediaFilePlaybackGuid:Et})})}isRemovedMediaFilePlayback(){return this.removedMediaFilePlayBack$.asObservable()}isAddedMediaFilePlayback(){return this.addedMediaFilePlayBack$.asObservable()}removeMediaFilePlayBack(We,Et){let Wt=this;this.sharedDataService.hubConnection.send("RemoveMediaFilePlayBack",this.sharedDataService.userData.Guid,We,Et).then(Qt=>{console.log("RemoveMediaFilePlayBack Success")},Qt=>{console.error("RemoveMediaFilePlayBack Error"),setTimeout(()=>{Wt.removeMediaFilePlayBack(We,Et)},1e3,Wt)})}removeLastTranscodedMediaFileProcess(We,Et){let Wt=this;this.sharedDataService.hubConnection.send("RemoveLastTranscodedMediaFileProcess",this.sharedDataService.userData.Guid,We,Et).then(Qt=>{},Qt=>{setTimeout(()=>{Wt.removeLastTranscodedMediaFileProcess(We,Et)},1e3,Wt)})}updateCurrentTimeMediaFilePlayBack(We,Et,Wt,Qt){this.sharedDataService.hubConnection.send("UpdateCurrentTimeMediaFilePlayBack",this.sharedDataService.userData.Guid,We,Et,Wt,Qt)}isUpdatingCurrentTimeMediaFilePlayBack(){return this.updateCurrentTimeMediaFilePlayBack$.asObservable()}static#e=this.\u0275fac=function(Et){return new(Et||Dt)(gt.LFG(Qe.g))};static#t=this.\u0275prov=gt.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})()},4998:(Wn,et,p)=>{"use strict";var e=p(6593),t=p(5879),v=p(9862),b=p(5908),g=p(2392);const P=(de,Z)=>{const F=(0,t.f3M)(b.F0);return null==localStorage.getItem("apiToken")||F.navigateByUrl("/home")};var D=p(95),m=p(5550),i=p(863);class c{}class d{}var f=p(1270),_=p(6878),S=p(9058),x=p(534),A=p(7879),N=p(4537),O=p(9429),C=p(8645),I=p(2096),T=p(5592),L=p(2459),y=p(3019),B=p(3093),z=p(4664),ne=p(7398),ae=p(940),Fe=p(1374),Y=p(4674);function le(de,Z){return(0,Y.m)(Z)?(0,z.w)(()=>de,Z):(0,z.w)(()=>de)}var G=p(5137),Se=p(2181),ce=p(8186),ge=p(6304),Ie=p(6814);p(3182);var X=p(5861);const $=new Map,re={activated:!1,tokenObservers:[]},J={initialized:!1,enabled:!1};function q(de){return $.get(de)||Object.assign({},re)}function xe(){return J}const Ee="https://content-firebaseappcheck.googleapis.com/v1",Xe="exchangeDebugToken",tt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qe{constructor(Z,F,ue,Ke,Mt){if(this.operation=Z,this.retryPolicy=F,this.getWaitDuration=ue,this.lowerBound=Ke,this.upperBound=Mt,this.pending=null,this.nextErrorWaitInterval=Ke,Ke>Mt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Z){var F=this;return(0,X.Z)(function*(){F.stop();try{F.pending=new S.BH,yield function yt(de){return new Promise(Z=>{setTimeout(Z,de)})}(F.getNextRun(Z)),F.pending.resolve(),yield F.pending.promise,F.pending=new S.BH,yield F.operation(),F.pending.resolve(),yield F.pending.promise,F.process(!0).catch(()=>{})}catch(ue){F.retryPolicy(ue)?F.process(!1).catch(()=>{}):F.stop()}})()}getNextRun(Z){if(Z)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const F=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),F}}}const fe=new S.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Et(de){if(!q(de).activated)throw fe.create("use-before-activation",{appName:de.name})}function qt(de,Z){return un.apply(this,arguments)}function un(){return(un=(0,X.Z)(function*({url:de,body:Z},F){const ue={"Content-Type":"application/json"},Ke=F.getImmediate({optional:!0});if(Ke){const xi=yield Ke.getHeartbeatsHeader();xi&&(ue["X-Firebase-Client"]=xi)}const Mt={method:"POST",body:JSON.stringify(Z),headers:ue};let nn,gn;try{nn=yield fetch(de,Mt)}catch(xi){throw fe.create("fetch-network-error",{originalErrorMessage:xi?.message})}if(200!==nn.status)throw fe.create("fetch-status-error",{httpStatus:nn.status});try{gn=yield nn.json()}catch(xi){throw fe.create("fetch-parse-error",{originalErrorMessage:xi?.message})}const Rn=gn.ttl.match(/^([\d.]+)(s)$/);if(!Rn||!Rn[2]||isNaN(Number(Rn[1])))throw fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gn.ttl}`});const Yn=1e3*Number(Rn[1]),gi=Date.now();return{token:gn.token,expireTimeMillis:gi+Yn,issuedAtTimeMillis:gi}})).apply(this,arguments)}function vt(de,Z){const{projectId:F,appId:ue,apiKey:Ke}=de.options;return{url:`${Ee}/projects/${F}/apps/${ue}:${Xe}?key=${Ke}`,body:{debug_token:Z}}}const it="firebase-app-check-database",He=1,ze="firebase-app-check-store";let at=null;function Mn(){return(Mn=(0,X.Z)(function*(de,Z){const ue=(yield function St(){return at||(at=new Promise((de,Z)=>{try{const F=indexedDB.open(it,He);F.onsuccess=ue=>{de(ue.target.result)},F.onerror=ue=>{var Ke;Z(fe.create("storage-open",{originalErrorMessage:null===(Ke=ue.target.error)||void 0===Ke?void 0:Ke.message}))},F.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(ze,{keyPath:"compositeKey"})}}catch(F){Z(fe.create("storage-open",{originalErrorMessage:F?.message}))}}),at)}()).transaction(ze,"readwrite"),Mt=ue.objectStore(ze).put({compositeKey:de,value:Z});return new Promise((nn,gn)=>{Mt.onsuccess=Rn=>{nn()},ue.onerror=Rn=>{var Yn;gn(fe.create("storage-set",{originalErrorMessage:null===(Yn=Rn.target.error)||void 0===Yn?void 0:Yn.message}))}})})).apply(this,arguments)}const ni=new A.Yd("@firebase/app-check");function yn(de,Z){return(0,S.hl)()?function xt(de,Z){return function tn(de,Z){return Mn.apply(this,arguments)}(function $n(de){return`${de.options.appId}-${de.name}`}(de),Z)}(de,Z).catch(F=>{ni.warn(`Failed to write token to IndexedDB. Error: ${F}`)}):Promise.resolve()}function At(){return xe().enabled}function ht(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,X.Z)(function*(){const de=xe();if(de.enabled&&de.token)return de.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ct={error:"UNKNOWN_ERROR"};function Jt(de){return S.US.encodeString(JSON.stringify(de),!1)}function Rt(de){return xn.apply(this,arguments)}function xn(){return(xn=(0,X.Z)(function*(de,Z=!1){const F=de.app;Et(F);const ue=q(F);let Mt,Ke=ue.token;if(Ke&&!Ut(Ke)&&(ue.token=void 0,Ke=void 0),!Ke){const Rn=yield ue.cachedTokenPromise;Rn&&(Ut(Rn)?Ke=Rn:yield yn(F,void 0))}if(!Z&&Ke&&Ut(Ke))return{token:Ke.token};let gn,nn=!1;if(At()){ue.exchangeTokenPromise||(ue.exchangeTokenPromise=qt(vt(F,yield ht()),de.heartbeatServiceProvider).finally(()=>{ue.exchangeTokenPromise=void 0}),nn=!0);const Rn=yield ue.exchangeTokenPromise;return yield yn(F,Rn),ue.token=Rn,{token:Rn.token}}try{ue.exchangeTokenPromise||(ue.exchangeTokenPromise=ue.provider.getToken().finally(()=>{ue.exchangeTokenPromise=void 0}),nn=!0),Ke=yield q(F).exchangeTokenPromise}catch(Rn){"appCheck/throttled"===Rn.code?ni.warn(Rn.message):ni.error(Rn),Mt=Rn}return Ke?Mt?gn=Ut(Ke)?{token:Ke.token,internalError:Mt}:On(Mt):(gn={token:Ke.token},ue.token=Ke,yield yn(F,Ke)):gn=On(Mt),nn&&function Xn(de,Z){const F=q(de).tokenObservers;for(const ue of F)try{"EXTERNAL"===ue.type&&null!=Z.error?ue.error(Z.error):ue.next(Z)}catch{}}(F,gn),gn})).apply(this,arguments)}function kt(de){return It.apply(this,arguments)}function It(){return(It=(0,X.Z)(function*(de){const Z=de.app;Et(Z);const{provider:F}=q(Z);if(At()){const ue=yield ht(),{token:Ke}=yield qt(vt(Z,ue),de.heartbeatServiceProvider);return{token:Ke}}{const{token:ue}=yield F.getToken();return{token:ue}}})).apply(this,arguments)}function en(de,Z){const F=q(de),ue=F.tokenObservers.filter(Ke=>Ke.next!==Z);0===ue.length&&F.tokenRefresher&&F.tokenRefresher.isRunning()&&F.tokenRefresher.stop(),F.tokenObservers=ue}function An(de){const{app:Z}=de,F=q(Z);let ue=F.tokenRefresher;ue||(ue=function Kn(de){const{app:Z}=de;return new Qe((0,X.Z)(function*(){let ue;if(ue=q(Z).token?yield Rt(de,!0):yield Rt(de),ue.error)throw ue.error;if(ue.internalError)throw ue.internalError}),()=>!0,()=>{const F=q(Z);if(F.token){let ue=F.token.issuedAtTimeMillis+.5*(F.token.expireTimeMillis-F.token.issuedAtTimeMillis)+3e5;return ue=Math.min(ue,F.token.expireTimeMillis-3e5),Math.max(0,ue-Date.now())}return 0},tt.RETRIAL_MIN_WAIT,tt.RETRIAL_MAX_WAIT)}(de),F.tokenRefresher=ue),!ue.isRunning()&&F.isTokenAutoRefreshEnabled&&ue.start()}function Ut(de){return de.expireTimeMillis-Date.now()>0}function On(de){return{token:Jt(Ct),error:de}}class Ne{constructor(Z,F){this.app=Z,this.heartbeatServiceProvider=F}_delete(){const{tokenObservers:Z}=q(this.app);for(const F of Z)en(this.app,F.next);return Promise.resolve()}}const Do="app-check-internal";!function $r(){(0,x._registerComponent)(new N.wA("app-check",de=>function Ft(de,Z){return new Ne(de,Z)}(de.getProvider("app").getImmediate(),de.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((de,Z,F)=>{de.getProvider(Do).initialize()})),(0,x._registerComponent)(new N.wA(Do,de=>function Pt(de){return{getToken:Z=>Rt(de,Z),getLimitedUseToken:()=>kt(de),addTokenListener:Z=>function Nt(de,Z,F,ue){const{app:Ke}=de,Mt=q(Ke);if(Mt.tokenObservers=[...Mt.tokenObservers,{next:F,error:ue,type:Z}],Mt.token&&Ut(Mt.token)){const gn=Mt.token;Promise.resolve().then(()=>{F({token:gn.token}),An(de)}).catch(()=>{})}Mt.cachedTokenPromise.then(()=>An(de))}(de,"INTERNAL",Z),removeTokenListener:Z=>en(de.app,Z)}}(de.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)("@firebase/app-check","0.8.0")}();class qn{constructor(){return(0,ce.vb)("app-check")}}typeof window<"u"&&window;var cr=p(7142);const Xo=new t.OlP("angularfire2.auth.use-emulator"),Vs=new t.OlP("angularfire2.auth.settings"),co=new t.OlP("angularfire2.auth.tenant-id"),as=new t.OlP("angularfire2.auth.langugage-code"),xs=new t.OlP("angularfire2.auth.use-device-language"),Is=new t.OlP("angularfire.auth.persistence");let hr=(()=>{class de{constructor(F,ue,Ke,Mt,nn,gn,Rn,Yn,gi,xi,Yr,Er){const Xi=new C.x,Oi=(0,I.of)(void 0).pipe((0,B.Q)(nn.outsideAngular),(0,z.w)(()=>Mt.runOutsideAngular(()=>p.e(365).then(p.bind(p,6365)))),(0,ne.U)(()=>(0,ge.on)(F,Mt,ue)),(0,ne.U)(go=>((de,Z,F,ue,Ke,Mt,nn,gn)=>(0,ge.cc)(`${de.name}.auth`,"AngularFireAuth",de.name,()=>{const Rn=Z.runOutsideAngular(()=>de.auth());if(F&&Rn.useEmulator(...F),ue&&(Rn.tenantId=ue),Rn.languageCode=Ke,Mt&&Rn.useDeviceLanguage(),nn)for(const[Yn,gi]of Object.entries(nn))Rn.settings[Yn]=gi;return gn&&Rn.setPersistence(gn),Rn},[F,ue,Ke,Mt,nn,gn]))(go,Mt,gn,Yn,gi,xi,Rn,Yr)),(0,ae.d)({bufferSize:1,refCount:!1}));if((0,Ie.PM)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I.of)(null);else{Oi.pipe((0,Fe.P)()).subscribe();const gs=Oi.pipe((0,z.w)(Xr=>Xr.getRedirectResult().then(ll=>ll,()=>null)),ce.iC,(0,ae.d)({bufferSize:1,refCount:!1})),Rs=Oi.pipe((0,z.w)(Xr=>new T.y(ll=>({unsubscribe:Mt.runOutsideAngular(()=>Xr.onAuthStateChanged(Da=>ll.next(Da),Da=>ll.error(Da),()=>ll.complete()))})))),da=Oi.pipe((0,z.w)(Xr=>new T.y(ll=>({unsubscribe:Mt.runOutsideAngular(()=>Xr.onIdTokenChanged(Da=>ll.next(Da),Da=>ll.error(Da),()=>ll.complete()))}))));this.authState=gs.pipe(le(Rs),(0,G.R)(nn.outsideAngular),(0,B.Q)(nn.insideAngular)),this.user=gs.pipe(le(da),(0,G.R)(nn.outsideAngular),(0,B.Q)(nn.insideAngular)),this.idToken=this.user.pipe((0,z.w)(Xr=>Xr?(0,L.D)(Xr.getIdToken()):(0,I.of)(null))),this.idTokenResult=this.user.pipe((0,z.w)(Xr=>Xr?(0,L.D)(Xr.getIdTokenResult()):(0,I.of)(null))),this.credential=(0,y.T)(gs,Xi,this.authState.pipe((0,Se.h)(Xr=>!Xr))).pipe((0,ne.U)(Xr=>Xr?.user?Xr:null),(0,G.R)(nn.outsideAngular),(0,B.Q)(nn.insideAngular))}return(0,ge.pX)(this,Oi,Mt,{spy:{apply:(go,gs,Rs)=>{(go.startsWith("signIn")||go.startsWith("createUser"))&&Rs.then(da=>Xi.next(da))}}})}}return de.\u0275fac=function(F){return new(F||de)(t.LFG(ge.Dh),t.LFG(ge.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(ce.HU),t.LFG(Xo,8),t.LFG(Vs,8),t.LFG(co,8),t.LFG(as,8),t.LFG(xs,8),t.LFG(Is,8),t.LFG(qn,8))},de.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"any"}),de})(),Sr=(()=>{class de{constructor(){cr.Z.registerVersion("angularfire",ce.q4.full,"auth-compat")}}return de.\u0275fac=function(F){return new(F||de)},de.\u0275mod=t.oAB({type:de}),de.\u0275inj=t.cJS({providers:[hr]}),de})(),io=(()=>{class de{constructor(F,ue){this.restProvider=F,this.afAuth=ue}validateUser(F){return new Promise((ue,Ke)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/ValidateUser",{UserName:F}).then(Mt=>{ue(Mt)},Mt=>{Ke(Mt)})})}authenticateByLinkedAccount(F){return new Promise((ue,Ke)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticateLinkedAccount",F).then(Mt=>{ue(Mt)},Mt=>{Ke(Mt)})})}authenticateUser(F){return new Promise((ue,Ke)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticateUser",F).then(Mt=>{ue(Mt)},Mt=>{Ke(Mt)})})}authenticatePasswordAndConfirmLinkAccountToUser(F){return new Promise((ue,Ke)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",F).then(Mt=>{ue(Mt)},Mt=>{Ke(Mt)})})}authenticateWithGoogle(){return this.authenticate(new _.V)}authenticateWithFacebook(){return this.authenticate(new _.U)}authenticateWithApple(){}authenticate(F){return new Promise((ue,Ke)=>this.afAuth.signInWithPopup(F).then(Mt=>{ue(Mt)}).catch(Mt=>{Ke(Mt)}))}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(O.C),t.LFG(hr))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();var fa=p(5864),Mo=p(7541),Fr=p(1367),mr=p(5220),Fo=p(2032),Ks=p(4170),pr=p(1531);function ys(de,Z){if(1&de&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function Yo(de,Z){1&de&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function ws(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.validateUser())}),t.YNc(1,ys,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,Yo,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("formGroup",F.userFormGroup),t.xp6(1),t.Q6J("ngIf",F.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetIconURLByKey")),t.LSH)}}function Aa(de,Z){if(1&de&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function Ns(de,Z){1&de&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const vo=function(de){return{disable:de}};function Ls(de,Z){if(1&de){const F=t.EpF();t.YNc(0,Aa,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,Ns,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("ngIf",F.errorMessage),t.xp6(1),t.Q6J("formGroup",F.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,vo,F.showLoading))}}function es(de,Z){if(1&de&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function ha(de,Z){1&de&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function xa(de,Z){if(1&de){const F=t.EpF();t.YNc(0,es,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,ha,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("ngIf",F.errorMessage),t.xp6(5),t.hij(" ",F.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",F.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,vo,F.showLoading))}}let Ws=(()=>{class de{constructor(F,ue,Ke,Mt,nn,gn,Rn){this.userService=F,this.authenticationService=ue,this.menuService=Ke,this.signalIRHubService=Mt,this.formBuilder=nn,this.router=gn,this.sharedDataService=Rn,this._window=window,this.showLoading=!1,this.user=new c,this.userFormGroup=this.formBuilder.group({username:new D.NI("",[D.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new D.NI("",[D.kI.required])}),this.matcher=new m.n,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(F=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(F=>{this.setUserSessionDataAfterAuthenticate(F.Data)},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(F=>{var ue=new d;ue.AccessToken=F.credential.accessToken,ue.LinkedAccountProviderCatalogId=i.P9.LinkedAccountProvider,ue.LinkedAccountProviderCatalogDetailId=i.jP.Google,this.authenticationService.authenticateByLinkedAccount(ue).then(Ke=>{var Mt=Ke.Data;Mt.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=Mt.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(Mt)},Ke=>{this.showLoading=!1})},F=>{console.error(F),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(F=>{this.setUserSessionDataAfterAuthenticate(F.Data)},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(F){this.sharedDataService.apiToken=F.ApiToken,localStorage.setItem("apiToken",this.sharedDataService.apiToken);let ue=F.UserData;this.sharedDataService.userData=ue.User,this.sharedDataService.mediaServers=ue.MediaServers,this.sharedDataService.listProfiles=ue.Profiles,this.sharedDataService.linkedAccounts=ue.LinkedAccounts,this.sharedDataService.currentProfile=ue.Profiles[0],this.sharedDataService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["profiles"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(F=>{console.log(F),this.showLoading=!1},F=>{console.error(F),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(f.K),t.Y36(io),t.Y36(fa.h),t.Y36(Mo.n),t.Y36(D.qu),t.Y36(b.F0),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return Ke.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,ws,20,11,"ng-template",8),t.YNc(15,Ls,17,8,"ng-template",8),t.YNc(16,xa,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&ue&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!Ke.showPasswordForm&&!Ke.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",Ke.showPasswordForm&&!Ke.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",Ke.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",Ke.showLoading))},dependencies:[Ie.mk,Ie.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,Fo.Nt,Ks.KE,Ks.hX,Ks.TO,D.sg,D.u,Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return de})();class Br{}var Uo=p(5731);function ls(de,Z){if(1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&de){const F=t.oxw(2);t.xp6(2),t.hij(" ",F.commonService.hasRequireErrorFormControl(F.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":F.commonService.hasErrorPatternFormControl(F.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function ta(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function ks(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function bs(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function Ia(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Ur(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const kn=function(de){return{error:de}},_t=function(de){return{disable:de}};function Ot(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,ls,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,ta,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,ks,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,bs,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,Ia,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,Ur,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"firstName")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"lastName")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"username")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"password")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"confirmPassword")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,_t,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function ut(de,Z){1&de&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&de&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let $t=(()=>{class de{constructor(F,ue,Ke,Mt,nn){this.formBuilder=F,this.router=ue,this.userService=Ke,this.commonService=Mt,this.sharedDataService=nn,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new Br,this.registerUserForm=this.formBuilder.group({email:new D.NI("",[D.kI.required,D.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new D.NI("",[D.kI.required]),lastName:new D.NI("",[D.kI.required]),username:new D.NI("",[D.kI.required]),password:new D.NI("",[D.kI.required]),confirmPassword:new D.NI("",[D.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.userService.registerUser(this.registerUserModel).then(F=>{this.showLoading=!1,this.showSuccessMessage=!0},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(D.qu),t.Y36(b.F0),t.Y36(f.K),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return Ke.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Ot,49,35,"div",6),t.YNc(9,ut,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!Ke.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",Ke.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",Ke.showLoading))},dependencies:[Ie.mk,Ie.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,D.sg,D.u,Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return de})();var wn=p(4440),Ti=p.n(wn);class Zi{}class zo{}function ts(de,Z){1&de&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Es(de,Z){1&de&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const si=function(de){return{disable:de}};function Os(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,ts,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,Es,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.resetPasswordForm,"password")&&F.commonService.hasRequireErrorFormControl(F.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.resetPasswordForm,"confirmPassword")&&F.commonService.hasRequireErrorFormControl(F.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,si,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function to(de,Z){1&de&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function cs(de,Z){1&de&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function dl(de,Z){if(1&de&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,to,4,0,"ng-template",24),t.YNc(7,cs,4,0,"ng-template",24),t.qZA()()),2&de){const F=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",F.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",F.showInvalidTokenMessage)}}let ma=(()=>{class de{constructor(F,ue,Ke,Mt,nn,gn){this.formBuilder=F,this.router=ue,this.activeRoute=Ke,this.userService=Mt,this.commonService=nn,this.sharedDataService=gn,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Zi,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new D.NI("",[D.kI.required]),confirmPassword:new D.NI("",[D.kI.required])})}ngOnInit(){let F=this.activeRoute.snapshot.params.base64Data;if(null!=F)try{let Mt=Ti().decode(F);var ue=JSON.parse(Mt);if(this.resetPasswordToken=ue.ResetPasswordToken,this.userId=ue.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var Ke=new zo;Ke.ResetPasswordToken=this.resetPasswordToken,Ke.UserId=this.userId,this.userService.validateResetPasswordToken(Ke).then(nn=>{this.showResetPasswordForm=!0,this.showLoading=!1},nn=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=nn,console.error(nn)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.userService.resetPassword(this.resetPasswordModel).then(F=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(D.qu),t.Y36(b.F0),t.Y36(b.gz),t.Y36(f.K),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return Ke.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Os,25,13,"div",5),t.YNc(8,dl,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",Ke.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!Ke.showResetPasswordForm&&(Ke.showInvalidTokenMessage||Ke.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",Ke.showLoading))},dependencies:[Ie.mk,Ie.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,D.sg,D.u,Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return de})();class wa{}function na(de,Z){if(1&de&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&de){const F=t.oxw();t.xp6(1),t.Oqu(F.errorMessage)}}function ds(de,Z){1&de&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let ul=(()=>{class de{constructor(F,ue,Ke){this.router=F,this.activeRoute=ue,this.userService=Ke,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let F=this.activeRoute.snapshot.params.base64Data;if(null!=F)try{let Mt=Ti().decode(F);var ue=JSON.parse(Mt);if(ue.ConfirmEmailToken){this.showLoading=!0;var Ke=new wa;Ke.ConfirmEmailToken=ue.ConfirmEmailToken,Ke.UserId=ue.UserId,this.userService.validateConfirmEmailToken(Ke).then(nn=>{this.showLoading=!1,this.showSuccessMessage=!0},nn=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=nn,console.error(nn)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(f.K))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return Ke.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,na,2,1,"ng-template",8),t.YNc(15,ds,2,0,"ng-template",8),t.qZA()()()),2&ue&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",Ke.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",Ke.showSuccessMessage))},dependencies:[Ie.O5,Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return de})(),wl=(()=>{class de{constructor(F,ue){this.router=F,this.sharedDataService=ue}ngOnInit(){}goInitialPage(){this.router.navigateByUrl(null!=this.sharedDataService.apiToken?"/home":"/landing").then(ue=>{},ue=>{console.error(ue)})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return Ke.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return de})();const pa=["loginFormContainer"];let fl=(()=>{class de{constructor(F,ue,Ke){this.router=F,this.activeRoute=ue,this.sharedDataService=Ke,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-landing"]],viewQuery:function(ue,Ke){if(1&ue&&t.Gf(pa,5),2&ue){let Mt;t.iGM(Mt=t.CRH())&&(Ke.loginFormContainer=Mt.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return Ke.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return Ke.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&ue&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return de})();class Oa{}function wo(de,Z){if(1&de&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&de){const F=t.oxw(2);t.xp6(2),t.hij(" ",F.commonService.hasRequireErrorFormControl(F.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":F.commonService.hasErrorPatternFormControl(F.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const zc=function(de){return{disable:de}};function Pa(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,wo,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,zc,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function dc(de,Z){1&de&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&de&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let ja=(()=>{class de{constructor(F,ue,Ke,Mt,nn){this.formBuilder=F,this.router=ue,this.userService=Ke,this.commonService=Mt,this.sharedDataService=nn,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new Oa,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new D.NI("",[D.kI.required,D.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.userService.recoverPassword(this.recoverPasswordModel).then(F=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(D.qu),t.Y36(b.F0),t.Y36(f.K),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return Ke.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Pa,19,12,"div",5),t.YNc(8,dc,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!Ke.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",Ke.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",Ke.showLoading))},dependencies:[Ie.mk,Ie.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,D.sg,D.u,Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return de})();var hl=p(1044);const ga=["itemListContainer"];function ml(de,Z){if(1&de&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&de){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(F.Title)}}function _a(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const Mt=t.CHM(F).$implicit,nn=t.oxw(2);return t.KtG(nn.onClickItem(Mt))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,ml,3,1,"div",13),t.qZA()}if(2&de){const F=Z.$implicit,ue=t.oxw(2);t.xp6(1),t.hYB("id","item_",F.TvSerieId?F.TvSerie_ID:F.MovieId,"_",F.MediaType,""),t.xp6(1),t.Q6J("src",ue.commonService.getUrlByItemMovieDataBase(F),t.LSH),t.xp6(1),t.Q6J("ngIf",!F.Subtitle)}}function pl(de,Z){if(1&de&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,_a,4,4,"ng-template",3),t.qZA()()()()),2&de){const F=Z.$implicit;t.MGl("id","section_search_",Z.index,""),t.xp6(6),t.Q6J("ngForOf",F)}}let gl=(()=>{class de{constructor(F,ue,Ke,Mt){this.libraryService=F,this.router=ue,this.commonService=Ke,this.sharedDataService=Mt,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedDataService.mediaServers.forEach(F=>{F.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(F.Url,this.searchText).then(ue=>{this.listItems=this.listItems.concat(ue),this.buildGroupItems(this.listItems)},ue=>{console.error(ue)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(F){if(F&&F.length>0){let nn=window.innerWidth>=2048?250:180;var ue=Math.floor(this.container.nativeElement.offsetWidth/nn),Ke=F.reduce((gn,Rn,Yn)=>{var gi=Math.floor(Yn/ue)+1;return gn[`row${gi}`]=gn[`row${gi}`]||[],gn[`row${gi}`].push(Rn),gn},{}),Mt=Object.keys(Ke).map(function(gn){return Ke[gn]});this.listGroupItems=Mt}else this.listGroupItems=[]}onClickItem(F){this.getMediaDetail(F)}getMediaDetail(F){var ue=this.sharedDataService.mediaServers.find(Ke=>Ke.Id==F.MediaServerId);this.router.navigateByUrl("/media/server/"+ue.Guid+"/libraries/"+F.LibraryId+"/detail?mediaType="+F.MediaTypeId+"&mediaId="+F.MediaItemId)}onResize(F){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(hl.$),t.Y36(b.F0),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-vertical-item-list"]],viewQuery:function(ue,Ke){if(1&ue&&t.Gf(ga,5),2&ue){let Mt;t.iGM(Mt=t.CRH())&&(Ke.container=Mt.first)}},hostBindings:function(ue,Ke){1&ue&&t.NdJ("resize",function(nn){return Ke.onResize(nn)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,pl,7,2,"ng-template",3),t.qZA()()),2&ue&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",Ke.listGroupItems))},dependencies:[Ie.sg,Ie.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return de})();function uc(de,Z){if(1&de&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&de){const F=t.oxw();t.xp6(2),t.hij('Resultados para "',F.searchText,'"')}}let va=(()=>{class de{constructor(F,ue,Ke){this.router=F,this.route=ue,this.sharedDataService=Ke,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let F=this.route.snapshot.queryParams.text;null!=F&&""!=F?this.searchText=F:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(ue,Ke){if(1&ue&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,uc,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&ue){const Mt=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=Ke.searchText&&""!=Ke.searchText),t.xp6(1),t.Udp("height","calc(100% - "+Mt.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",Ke.searchText)}},dependencies:[Ie.O5,gl],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return de})();var nl=p(7394),_l=p(5940),Ol=p(3630);function Ts(de,Z){if(1&de&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4)(4,"div",5),t._uU(5," Inicio "),t.qZA()()(),t.TgZ(6,"div"),t._UZ(7,"app-media-items",6),t.qZA()()()),2&de){const F=t.oxw(2);t.xp6(6),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",F.itemsGroupList)}}function Ra(de,Z){1&de&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._uU(3," No hay servidores disponibles en este momento "),t.qZA(),t._UZ(4,"div",10),t.qZA()())}function Ss(de,Z){if(1&de&&(t.YNc(0,Ts,8,3,"ng-template",0),t.YNc(1,Ra,5,0,"ng-template",0)),2&de){const F=t.oxw();t.Q6J("ngIf",F.mediaServers&&F.isEnableAnyMediaServer()),t.xp6(1),t.Q6J("ngIf",F.mediaServers&&!F.isEnableAnyMediaServer())}}function or(de,Z){1&de&&(t.TgZ(0,"div",11),t._UZ(1,"mat-spinner"),t.qZA())}let Va=(()=>{class de{constructor(F,ue,Ke,Mt,nn){this.signalIrService=F,this.libraryService=ue,this.router=Ke,this.commonService=Mt,this.sharedDataService=nn,this.itemsGroupList=[],this._window=window,this.subscription=new nl.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let gn=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Rn=>{var Yn=gn.mediaServers.find(gi=>gi.Guid==Rn);Yn&&!Yn.isSecureConnection&&(gn.loadingConnection=!1,Yn.isSecureConnection=!0,gn.getAllItemsByMediaServer(Yn))})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Rn=>{var Yn=gn.mediaServers.find(gi=>gi.Guid==Rn);Yn&&Yn.isSecureConnection&&(Yn.isSecureConnection=!1,gn.clearItemsInGroup(Yn.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(Rn=>{var Yn=gn.mediaServers.find(gi=>gi.Guid==Rn);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0,gn.getAllItemsByMediaServer(Yn))})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(Rn=>{var Yn=gn.mediaServers.find(gi=>gi.Guid==Rn);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0,gn.getAllItemsByMediaServer(Yn))}))}ngOnInit(){this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.mediaServers.forEach(F=>{F.isSecureConnection&&this.getAllItemsByMediaServer(F)})}ngOnDestroy(){this.subscription.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(F=>F.isSecureConnection).length>0}considerAllMediaServers(){return!!window.location.pathname.endsWith("home")}getAllItemsByMediaServer(F){this.libraryService.getAllMediaItems(F.Url,this.sharedDataService.currentProfile.Id).then(ue=>{this.setItemsInGroup(F.Id,ue)},ue=>{})}setItemsInGroup(F,ue){ue.length>0&&(ue.forEach(Ke=>{var Mt=this.itemsGroupList.find(Yn=>Yn.Name==Ke.Name);if(null==Mt)this.itemsGroupList.push(Ke);else{var Rn=Mt.ListItems.filter(Yn=>Yn.MediaServerId!=F).concat(Ke.ListItems).sort((Yn,gi)=>new Date(Yn.Created).getTime()>new Date(gi.Created).getTime()?-1:new Date(gi.Created).getTime()>new Date(Yn.Created).getTime()?1:0);Mt.ListItems=Rn}}),this.itemsGroupList=this.itemsGroupList.sort((Ke,Mt)=>Ke.Id>Mt.Id?1:Ke.Id<=Mt.Id?-1:0))}clearItemsInGroup(F){this.itemsGroupList.forEach(ue=>{var Ke=ue.ListItems.filter(Mt=>Mt.MediaServerId!=F);ue.ListItems=Ke.sort((Mt,nn)=>new Date(Mt.Created).getTime()>new Date(nn.Created).getTime()?-1:new Date(nn.Created).getTime()>new Date(Mt.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Mo.n),t.Y36(hl.$),t.Y36(b.F0),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-home-page"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[3,"itemsGroupList"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(ue,Ke){1&ue&&(t.YNc(0,Ss,2,2,"ng-template",0),t.YNc(1,or,2,0,"ng-template",0)),2&ue&&(t.Q6J("ngIf",!Ke.loadingConnection),t.xp6(1),t.Q6J("ngIf",Ke.loadingConnection))},dependencies:[Ie.O5,_l.Ou,Ol.y]})}return de})();const $e=[{path:"home",component:Va,loadChildren:()=>p.e(434).then(p.bind(p,8434)).then(de=>de.HomeModule),canActivate:[g.E]},{path:"media",loadChildren:()=>p.e(169).then(p.bind(p,1169)).then(de=>de.MediaModule)},{path:"search",component:va,loadChildren:()=>p.e(85).then(p.bind(p,2085)).then(de=>de.MediaSearchModule),canActivate:[g.E]},{path:"profiles",loadChildren:()=>p.e(209).then(p.bind(p,4209)).then(de=>de.ProfilesModule)},{path:"settings",loadChildren:()=>p.e(573).then(p.bind(p,573)).then(de=>de.SettingsModule)},{path:"manage",loadChildren:()=>p.e(781).then(p.bind(p,1781)).then(de=>de.ManageModule)},{path:"landing",component:fl,canActivate:[P]},{path:"register",component:$t,loadChildren:()=>p.e(470).then(p.bind(p,1470)).then(de=>de.RegisterAcccountPageModule),canActivate:[P]},{path:"login",component:Ws,loadChildren:()=>p.e(717).then(p.bind(p,717)).then(de=>de.LoginPageModule),canActivate:[P]},{path:"recover",component:ja,loadChildren:()=>p.e(456).then(p.bind(p,456)).then(de=>de.RecoverPasswordPageModule),canActivate:[P]},{path:"reset/:base64Data",component:ma,loadChildren:()=>p.e(300).then(p.bind(p,2300)).then(de=>de.ResetPasswordPageModule),canActivate:[P]},{path:"confirm/:base64Data",component:ul,loadChildren:()=>p.e(159).then(p.bind(p,159)).then(de=>de.ConfirmEmailPageModule),canActivate:[P]},{path:"404",component:wl},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let Yt=(()=>{class de{static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({imports:[b.Bz.forRoot($e,{onSameUrlNavigation:"reload"}),b.Bz]})}return de})();var mt=p(6825);function Sn(de){return new t.vHH(3e3,!1)}function us(de){switch(de.length){case 0:return new mt.ZN;case 1:return de[0];default:return new mt.ZE(de)}}function Zo(de,Z,F=new Map,ue=new Map){const Ke=[],Mt=[];let nn=-1,gn=null;if(Z.forEach(Rn=>{const Yn=Rn.get("offset"),gi=Yn==nn,xi=gi&&gn||new Map;Rn.forEach((Yr,Er)=>{let Xi=Er,Oi=Yr;if("offset"!==Er)switch(Xi=de.normalizePropertyName(Xi,Ke),Oi){case mt.k1:Oi=F.get(Er);break;case mt.l3:Oi=ue.get(Er);break;default:Oi=de.normalizeStyleValue(Er,Xi,Oi,Ke)}xi.set(Xi,Oi)}),gi||Mt.push(xi),gn=xi,nn=Yn}),Ke.length)throw function fc(de){return new t.vHH(3502,!1)}();return Mt}function oa(de,Z,F,ue){switch(Z){case"start":de.onStart(()=>ue(F&&yl(F,"start",de)));break;case"done":de.onDone(()=>ue(F&&yl(F,"done",de)));break;case"destroy":de.onDestroy(()=>ue(F&&yl(F,"destroy",de)))}}function yl(de,Z,F){const Mt=po(de.element,de.triggerName,de.fromState,de.toState,Z||de.phaseName,F.totalTime??de.totalTime,!!F.disabled),nn=de._data;return null!=nn&&(Mt._data=nn),Mt}function po(de,Z,F,ue,Ke="",Mt=0,nn){return{element:de,triggerName:Z,fromState:F,toState:ue,phaseName:Ke,totalTime:Mt,disabled:!!nn}}function Ao(de,Z,F){let ue=de.get(Z);return ue||de.set(Z,ue=F),ue}function Bo(de){const Z=de.indexOf(":");return[de.substring(1,Z),de.slice(Z+1)]}const rl=(()=>typeof document>"u"?null:document.documentElement)();function Ta(de){const Z=de.parentNode||de.host||null;return Z===rl?null:Z}let Fs=null,bl=!1;function zs(de,Z){for(;Z;){if(Z===de)return!0;Z=Ta(Z)}return!1}function Tl(de,Z,F){if(F)return Array.from(de.querySelectorAll(Z));const ue=de.querySelector(Z);return ue?[ue]:[]}let Kl=(()=>{class de{validateStyleProperty(F){return function mc(de){Fs||(Fs=function $c(){return typeof document<"u"?document.body:null}()||{},bl=!!Fs.style&&"WebkitAppearance"in Fs.style);let Z=!0;return Fs.style&&!function sa(de){return"ebkit"==de.substring(1,6)}(de)&&(Z=de in Fs.style,!Z&&bl&&(Z="Webkit"+de.charAt(0).toUpperCase()+de.slice(1)in Fs.style)),Z}(F)}matchesElement(F,ue){return!1}containsElement(F,ue){return zs(F,ue)}getParentElement(F){return Ta(F)}query(F,ue,Ke){return Tl(F,ue,Ke)}computeStyle(F,ue,Ke){return Ke||""}animate(F,ue,Ke,Mt,nn,gn=[],Rn){return new mt.ZN(Ke,Mt)}static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})(),pc=(()=>{class de{static#e=this.NOOP=new Kl}return de})();const Po=1e3,Wl="ng-enter",Ue="ng-leave",rt="ng-trigger",Me=".ng-trigger",nt="ng-animating",Gt=".ng-animating";function sn(de){if("number"==typeof de)return de;const Z=de.match(/^(-?[\.\d]+)(m?s)/);return!Z||Z.length<2?0:dn(parseFloat(Z[1]),Z[2])}function dn(de,Z){return"s"===Z?de*Po:de}function Vn(de,Z,F){return de.hasOwnProperty("duration")?de:function pi(de,Z,F){let Ke,Mt=0,nn="";if("string"==typeof de){const gn=de.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===gn)return Z.push(Sn()),{duration:0,delay:0,easing:""};Ke=dn(parseFloat(gn[1]),gn[2]);const Rn=gn[3];null!=Rn&&(Mt=dn(parseFloat(Rn),gn[4]));const Yn=gn[5];Yn&&(nn=Yn)}else Ke=de;if(!F){let gn=!1,Rn=Z.length;Ke<0&&(Z.push(function Zn(){return new t.vHH(3100,!1)}()),gn=!0),Mt<0&&(Z.push(function ai(){return new t.vHH(3101,!1)}()),gn=!0),gn&&Z.splice(Rn,0,Sn())}return{duration:Ke,delay:Mt,easing:nn}}(de,Z,F)}function Ri(de,Z={}){return Object.keys(de).forEach(F=>{Z[F]=de[F]}),Z}function Ni(de){const Z=new Map;return Object.keys(de).forEach(F=>{Z.set(F,de[F])}),Z}function oo(de,Z=new Map,F){if(F)for(let[ue,Ke]of F)Z.set(ue,Ke);for(let[ue,Ke]of de)Z.set(ue,Ke);return Z}function $o(de,Z,F){Z.forEach((ue,Ke)=>{const Mt=wr(Ke);F&&!F.has(Ke)&&F.set(Ke,de.style[Mt]),de.style[Mt]=ue})}function fs(de,Z){Z.forEach((F,ue)=>{const Ke=wr(ue);de.style[Ke]=""})}function is(de){return Array.isArray(de)?1==de.length?de[0]:(0,mt.vP)(de):de}const Sl=new RegExp("{{\\s*(.+?)\\s*}}","g");function aa(de){let Z=[];if("string"==typeof de){let F;for(;F=Sl.exec(de);)Z.push(F[1]);Sl.lastIndex=0}return Z}function hs(de,Z,F){const ue=de.toString(),Ke=ue.replace(Sl,(Mt,nn)=>{let gn=Z[nn];return null==gn&&(F.push(function Rr(de){return new t.vHH(3003,!1)}()),gn=""),gn.toString()});return Ke==ue?de:Ke}function Cl(de){const Z=[];let F=de.next();for(;!F.done;)Z.push(F.value),F=de.next();return Z}const _c=/-+([a-z0-9])/g;function wr(de){return de.replace(_c,(...Z)=>Z[1].toUpperCase())}function Jo(de,Z,F){switch(Z.type){case 7:return de.visitTrigger(Z,F);case 0:return de.visitState(Z,F);case 1:return de.visitTransition(Z,F);case 2:return de.visitSequence(Z,F);case 3:return de.visitGroup(Z,F);case 4:return de.visitAnimate(Z,F);case 5:return de.visitKeyframes(Z,F);case 6:return de.visitStyle(Z,F);case 8:return de.visitReference(Z,F);case 9:return de.visitAnimateChild(Z,F);case 10:return de.visitAnimateRef(Z,F);case 11:return de.visitQuery(Z,F);case 12:return de.visitStagger(Z,F);default:throw function gr(de){return new t.vHH(3004,!1)}()}}function La(de,Z){return window.getComputedStyle(de)[Z]}const $l="*";function Bs(de,Z){const F=[];return"string"==typeof de?de.split(/\s*,\s*/).forEach(ue=>function ka(de,Z,F){if(":"==de[0]){const Rn=function ld(de,Z){switch(de){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(F,ue)=>parseFloat(ue)>parseFloat(F);case":decrement":return(F,ue)=>parseFloat(ue)<parseFloat(F);default:return Z.push(function Pl(de){return new t.vHH(3016,!1)}()),"* => *"}}(de,F);if("function"==typeof Rn)return void Z.push(Rn);de=Rn}const ue=de.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ue||ue.length<4)return F.push(function ra(de){return new t.vHH(3015,!1)}()),Z;const Ke=ue[1],Mt=ue[2],nn=ue[3];Z.push(Ll(Ke,nn));"<"==Mt[0]&&!(Ke==$l&&nn==$l)&&Z.push(Ll(nn,Ke))}(ue,F,Z)):F.push(de),F}const ms=new Set(["true","1"]),bc=new Set(["false","0"]);function Ll(de,Z){const F=ms.has(de)||bc.has(de),ue=ms.has(Z)||bc.has(Z);return(Ke,Mt)=>{let nn=de==$l||de==Ke,gn=Z==$l||Z==Mt;return!nn&&F&&"boolean"==typeof Ke&&(nn=Ke?ms.has(de):bc.has(de)),!gn&&ue&&"boolean"==typeof Mt&&(gn=Mt?ms.has(Z):bc.has(Z)),nn&&gn}}const Jc=new RegExp("s*:selfs*,?","g");function Zs(de,Z,F,ue){return new vd(de).build(Z,F,ue)}class vd{constructor(Z){this._driver=Z}build(Z,F,ue){const Ke=new Ec(F);return this._resetContextStyleTimingState(Ke),Jo(this,is(Z),Ke)}_resetContextStyleTimingState(Z){Z.currentQuerySelector="",Z.collectedStyles=new Map,Z.collectedStyles.set("",new Map),Z.currentTime=0}visitTrigger(Z,F){let ue=F.queryCount=0,Ke=F.depCount=0;const Mt=[],nn=[];return"@"==Z.name.charAt(0)&&F.errors.push(function nr(){return new t.vHH(3006,!1)}()),Z.definitions.forEach(gn=>{if(this._resetContextStyleTimingState(F),0==gn.type){const Rn=gn,Yn=Rn.name;Yn.toString().split(/\s*,\s*/).forEach(gi=>{Rn.name=gi,Mt.push(this.visitState(Rn,F))}),Rn.name=Yn}else if(1==gn.type){const Rn=this.visitTransition(gn,F);ue+=Rn.queryCount,Ke+=Rn.depCount,nn.push(Rn)}else F.errors.push(function uo(){return new t.vHH(3007,!1)}())}),{type:7,name:Z.name,states:Mt,transitions:nn,queryCount:ue,depCount:Ke,options:null}}visitState(Z,F){const ue=this.visitStyle(Z.styles,F),Ke=Z.options&&Z.options.params||null;if(ue.containsDynamicStyles){const Mt=new Set,nn=Ke||{};ue.styles.forEach(gn=>{gn instanceof Map&&gn.forEach(Rn=>{aa(Rn).forEach(Yn=>{nn.hasOwnProperty(Yn)||Mt.add(Yn)})})}),Mt.size&&(Cl(Mt.values()),F.errors.push(function Nr(de,Z){return new t.vHH(3008,!1)}()))}return{type:0,name:Z.name,style:ue,options:Ke?{params:Ke}:null}}visitTransition(Z,F){F.queryCount=0,F.depCount=0;const ue=Jo(this,is(Z.animation),F);return{type:1,matchers:Bs(Z.expr,F.errors),animation:ue,queryCount:F.queryCount,depCount:F.depCount,options:$s(Z.options)}}visitSequence(Z,F){return{type:2,steps:Z.steps.map(ue=>Jo(this,ue,F)),options:$s(Z.options)}}visitGroup(Z,F){const ue=F.currentTime;let Ke=0;const Mt=Z.steps.map(nn=>{F.currentTime=ue;const gn=Jo(this,nn,F);return Ke=Math.max(Ke,F.currentTime),gn});return F.currentTime=Ke,{type:3,steps:Mt,options:$s(Z.options)}}visitAnimate(Z,F){const ue=function Qc(de,Z){if(de.hasOwnProperty("duration"))return de;if("number"==typeof de)return Fa(Vn(de,Z).duration,0,"");const F=de;if(F.split(/\s+/).some(Mt=>"{"==Mt.charAt(0)&&"{"==Mt.charAt(1))){const Mt=Fa(0,0,"");return Mt.dynamic=!0,Mt.strValue=F,Mt}const Ke=Vn(F,Z);return Fa(Ke.duration,Ke.delay,Ke.easing)}(Z.timings,F.errors);F.currentAnimateTimings=ue;let Ke,Mt=Z.styles?Z.styles:(0,mt.oB)({});if(5==Mt.type)Ke=this.visitKeyframes(Mt,F);else{let nn=Z.styles,gn=!1;if(!nn){gn=!0;const Yn={};ue.easing&&(Yn.easing=ue.easing),nn=(0,mt.oB)(Yn)}F.currentTime+=ue.duration+ue.delay;const Rn=this.visitStyle(nn,F);Rn.isEmptyStep=gn,Ke=Rn}return F.currentAnimateTimings=null,{type:4,timings:ue,style:Ke,options:null}}visitStyle(Z,F){const ue=this._makeStyleAst(Z,F);return this._validateStyleAst(ue,F),ue}_makeStyleAst(Z,F){const ue=[],Ke=Array.isArray(Z.styles)?Z.styles:[Z.styles];for(let gn of Ke)"string"==typeof gn?gn===mt.l3?ue.push(gn):F.errors.push(new t.vHH(3002,!1)):ue.push(Ni(gn));let Mt=!1,nn=null;return ue.forEach(gn=>{if(gn instanceof Map&&(gn.has("easing")&&(nn=gn.get("easing"),gn.delete("easing")),!Mt))for(let Rn of gn.values())if(Rn.toString().indexOf("{{")>=0){Mt=!0;break}}),{type:6,styles:ue,easing:nn,offset:Z.offset,containsDynamicStyles:Mt,options:null}}_validateStyleAst(Z,F){const ue=F.currentAnimateTimings;let Ke=F.currentTime,Mt=F.currentTime;ue&&Mt>0&&(Mt-=ue.duration+ue.delay),Z.styles.forEach(nn=>{"string"!=typeof nn&&nn.forEach((gn,Rn)=>{const Yn=F.collectedStyles.get(F.currentQuerySelector),gi=Yn.get(Rn);let xi=!0;gi&&(Mt!=Ke&&Mt>=gi.startTime&&Ke<=gi.endTime&&(F.errors.push(function Vi(de,Z,F,ue,Ke){return new t.vHH(3010,!1)}()),xi=!1),Mt=gi.startTime),xi&&Yn.set(Rn,{startTime:Mt,endTime:Ke}),F.options&&function Ya(de,Z,F){const ue=Z.params||{},Ke=aa(de);Ke.length&&Ke.forEach(Mt=>{ue.hasOwnProperty(Mt)||F.push(function Bi(de){return new t.vHH(3001,!1)}())})}(gn,F.options,F.errors)})})}visitKeyframes(Z,F){const ue={type:5,styles:[],options:null};if(!F.currentAnimateTimings)return F.errors.push(function Jr(){return new t.vHH(3011,!1)}()),ue;let Mt=0;const nn=[];let gn=!1,Rn=!1,Yn=0;const gi=Z.steps.map(gs=>{const Rs=this._makeStyleAst(gs,F);let da=null!=Rs.offset?Rs.offset:function kc(de){if("string"==typeof de)return null;let Z=null;if(Array.isArray(de))de.forEach(F=>{if(F instanceof Map&&F.has("offset")){const ue=F;Z=parseFloat(ue.get("offset")),ue.delete("offset")}});else if(de instanceof Map&&de.has("offset")){const F=de;Z=parseFloat(F.get("offset")),F.delete("offset")}return Z}(Rs.styles),Xr=0;return null!=da&&(Mt++,Xr=Rs.offset=da),Rn=Rn||Xr<0||Xr>1,gn=gn||Xr<Yn,Yn=Xr,nn.push(Xr),Rs});Rn&&F.errors.push(function no(){return new t.vHH(3012,!1)}()),gn&&F.errors.push(function Cs(){return new t.vHH(3200,!1)}());const xi=Z.steps.length;let Yr=0;Mt>0&&Mt<xi?F.errors.push(function Ys(){return new t.vHH(3202,!1)}()):0==Mt&&(Yr=1/(xi-1));const Er=xi-1,Xi=F.currentTime,Oi=F.currentAnimateTimings,go=Oi.duration;return gi.forEach((gs,Rs)=>{const da=Yr>0?Rs==Er?1:Yr*Rs:nn[Rs],Xr=da*go;F.currentTime=Xi+Oi.delay+Xr,Oi.duration=Xr,this._validateStyleAst(gs,F),gs.offset=da,ue.styles.push(gs)}),ue}visitReference(Z,F){return{type:8,animation:Jo(this,is(Z.animation),F),options:$s(Z.options)}}visitAnimateChild(Z,F){return F.depCount++,{type:9,options:$s(Z.options)}}visitAnimateRef(Z,F){return{type:10,animation:this.visitReference(Z.animation,F),options:$s(Z.options)}}visitQuery(Z,F){const ue=F.currentQuerySelector,Ke=Z.options||{};F.queryCount++,F.currentQuery=Z;const[Mt,nn]=function kl(de){const Z=!!de.split(/\s*,\s*/).find(F=>":self"==F);return Z&&(de=de.replace(Jc,"")),de=de.replace(/@\*/g,Me).replace(/@\w+/g,F=>Me+"-"+F.slice(1)).replace(/:animating/g,Gt),[de,Z]}(Z.selector);F.currentQuerySelector=ue.length?ue+" "+Mt:Mt,Ao(F.collectedStyles,F.currentQuerySelector,new Map);const gn=Jo(this,is(Z.animation),F);return F.currentQuery=null,F.currentQuerySelector=ue,{type:11,selector:Mt,limit:Ke.limit||0,optional:!!Ke.optional,includeSelf:nn,animation:gn,originalSelector:Z.selector,options:$s(Z.options)}}visitStagger(Z,F){F.currentQuery||F.errors.push(function ia(){return new t.vHH(3013,!1)}());const ue="full"===Z.timings?{duration:0,delay:0,easing:"full"}:Vn(Z.timings,F.errors,!0);return{type:12,animation:Jo(this,is(Z.animation),F),timings:ue,options:null}}}class Ec{constructor(Z){this.errors=Z,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $s(de){return de?(de=Ri(de)).params&&(de.params=function Ql(de){return de?Ri(de):null}(de.params)):de={},de}function Fa(de,Z,F){return{duration:de,delay:Z,easing:F}}function Ml(de,Z,F,ue,Ke,Mt,nn=null,gn=!1){return{type:1,element:de,keyframes:Z,preStyleProps:F,postStyleProps:ue,duration:Ke,delay:Mt,totalTime:Ke+Mt,easing:nn,subTimeline:gn}}class Al{constructor(){this._map=new Map}get(Z){return this._map.get(Z)||[]}append(Z,F){let ue=this._map.get(Z);ue||this._map.set(Z,ue=[]),ue.push(...F)}has(Z){return this._map.has(Z)}clear(){this._map.clear()}}const Fc=new RegExp(":enter","g"),Sc=new RegExp(":leave","g");function qc(de,Z,F,ue,Ke,Mt=new Map,nn=new Map,gn,Rn,Yn=[]){return(new Xc).buildKeyframes(de,Z,F,ue,Ke,Mt,nn,gn,Rn,Yn)}class Xc{buildKeyframes(Z,F,ue,Ke,Mt,nn,gn,Rn,Yn,gi=[]){Yn=Yn||new Al;const xi=new Za(Z,F,Yn,Ke,Mt,gi,[]);xi.options=Rn;const Yr=Rn.delay?sn(Rn.delay):0;xi.currentTimeline.delayNextStep(Yr),xi.currentTimeline.setStyles([nn],null,xi.errors,Rn),Jo(this,ue,xi);const Er=xi.timelines.filter(Xi=>Xi.containsAnimation());if(Er.length&&gn.size){let Xi;for(let Oi=Er.length-1;Oi>=0;Oi--){const go=Er[Oi];if(go.element===F){Xi=go;break}}Xi&&!Xi.allowOnlyTimelineStyles()&&Xi.setStyles([gn],null,xi.errors,Rn)}return Er.length?Er.map(Xi=>Xi.buildKeyframes()):[Ml(F,[],[],[],0,Yr,"",!1)]}visitTrigger(Z,F){}visitState(Z,F){}visitTransition(Z,F){}visitAnimateChild(Z,F){const ue=F.subInstructions.get(F.element);if(ue){const Ke=F.createSubContext(Z.options),Mt=F.currentTimeline.currentTime,nn=this._visitSubInstructions(ue,Ke,Ke.options);Mt!=nn&&F.transformIntoNewTimeline(nn)}F.previousNode=Z}visitAnimateRef(Z,F){const ue=F.createSubContext(Z.options);ue.transformIntoNewTimeline(),this._applyAnimationRefDelays([Z.options,Z.animation.options],F,ue),this.visitReference(Z.animation,ue),F.transformIntoNewTimeline(ue.currentTimeline.currentTime),F.previousNode=Z}_applyAnimationRefDelays(Z,F,ue){for(const Ke of Z){const Mt=Ke?.delay;if(Mt){const nn="number"==typeof Mt?Mt:sn(hs(Mt,Ke?.params??{},F.errors));ue.delayNextStep(nn)}}}_visitSubInstructions(Z,F,ue){let Mt=F.currentTimeline.currentTime;const nn=null!=ue.duration?sn(ue.duration):null,gn=null!=ue.delay?sn(ue.delay):null;return 0!==nn&&Z.forEach(Rn=>{const Yn=F.appendInstructionToTimeline(Rn,nn,gn);Mt=Math.max(Mt,Yn.duration+Yn.delay)}),Mt}visitReference(Z,F){F.updateOptions(Z.options,!0),Jo(this,Z.animation,F),F.previousNode=Z}visitSequence(Z,F){const ue=F.subContextCount;let Ke=F;const Mt=Z.options;if(Mt&&(Mt.params||Mt.delay)&&(Ke=F.createSubContext(Mt),Ke.transformIntoNewTimeline(),null!=Mt.delay)){6==Ke.previousNode.type&&(Ke.currentTimeline.snapshotCurrentStyles(),Ke.previousNode=ql);const nn=sn(Mt.delay);Ke.delayNextStep(nn)}Z.steps.length&&(Z.steps.forEach(nn=>Jo(this,nn,Ke)),Ke.currentTimeline.applyStylesToKeyframe(),Ke.subContextCount>ue&&Ke.transformIntoNewTimeline()),F.previousNode=Z}visitGroup(Z,F){const ue=[];let Ke=F.currentTimeline.currentTime;const Mt=Z.options&&Z.options.delay?sn(Z.options.delay):0;Z.steps.forEach(nn=>{const gn=F.createSubContext(Z.options);Mt&&gn.delayNextStep(Mt),Jo(this,nn,gn),Ke=Math.max(Ke,gn.currentTimeline.currentTime),ue.push(gn.currentTimeline)}),ue.forEach(nn=>F.currentTimeline.mergeTimelineCollectedStyles(nn)),F.transformIntoNewTimeline(Ke),F.previousNode=Z}_visitTiming(Z,F){if(Z.dynamic){const ue=Z.strValue;return Vn(F.params?hs(ue,F.params,F.errors):ue,F.errors)}return{duration:Z.duration,delay:Z.delay,easing:Z.easing}}visitAnimate(Z,F){const ue=F.currentAnimateTimings=this._visitTiming(Z.timings,F),Ke=F.currentTimeline;ue.delay&&(F.incrementTime(ue.delay),Ke.snapshotCurrentStyles());const Mt=Z.style;5==Mt.type?this.visitKeyframes(Mt,F):(F.incrementTime(ue.duration),this.visitStyle(Mt,F),Ke.applyStylesToKeyframe()),F.currentAnimateTimings=null,F.previousNode=Z}visitStyle(Z,F){const ue=F.currentTimeline,Ke=F.currentAnimateTimings;!Ke&&ue.hasCurrentStyleProperties()&&ue.forwardFrame();const Mt=Ke&&Ke.easing||Z.easing;Z.isEmptyStep?ue.applyEmptyStep(Mt):ue.setStyles(Z.styles,Mt,F.errors,F.options),F.previousNode=Z}visitKeyframes(Z,F){const ue=F.currentAnimateTimings,Ke=F.currentTimeline.duration,Mt=ue.duration,gn=F.createSubContext().currentTimeline;gn.easing=ue.easing,Z.styles.forEach(Rn=>{gn.forwardTime((Rn.offset||0)*Mt),gn.setStyles(Rn.styles,Rn.easing,F.errors,F.options),gn.applyStylesToKeyframe()}),F.currentTimeline.mergeTimelineCollectedStyles(gn),F.transformIntoNewTimeline(Ke+Mt),F.previousNode=Z}visitQuery(Z,F){const ue=F.currentTimeline.currentTime,Ke=Z.options||{},Mt=Ke.delay?sn(Ke.delay):0;Mt&&(6===F.previousNode.type||0==ue&&F.currentTimeline.hasCurrentStyleProperties())&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=ql);let nn=ue;const gn=F.invokeQuery(Z.selector,Z.originalSelector,Z.limit,Z.includeSelf,!!Ke.optional,F.errors);F.currentQueryTotal=gn.length;let Rn=null;gn.forEach((Yn,gi)=>{F.currentQueryIndex=gi;const xi=F.createSubContext(Z.options,Yn);Mt&&xi.delayNextStep(Mt),Yn===F.element&&(Rn=xi.currentTimeline),Jo(this,Z.animation,xi),xi.currentTimeline.applyStylesToKeyframe(),nn=Math.max(nn,xi.currentTimeline.currentTime)}),F.currentQueryIndex=0,F.currentQueryTotal=0,F.transformIntoNewTimeline(nn),Rn&&(F.currentTimeline.mergeTimelineCollectedStyles(Rn),F.currentTimeline.snapshotCurrentStyles()),F.previousNode=Z}visitStagger(Z,F){const ue=F.parentContext,Ke=F.currentTimeline,Mt=Z.timings,nn=Math.abs(Mt.duration),gn=nn*(F.currentQueryTotal-1);let Rn=nn*F.currentQueryIndex;switch(Mt.duration<0?"reverse":Mt.easing){case"reverse":Rn=gn-Rn;break;case"full":Rn=ue.currentStaggerTime}const gi=F.currentTimeline;Rn&&gi.delayNextStep(Rn);const xi=gi.currentTime;Jo(this,Z.animation,F),F.previousNode=Z,ue.currentStaggerTime=Ke.currentTime-xi+(Ke.startTime-ue.currentTimeline.startTime)}}const ql={};class Za{constructor(Z,F,ue,Ke,Mt,nn,gn,Rn){this._driver=Z,this.element=F,this.subInstructions=ue,this._enterClassName=Ke,this._leaveClassName=Mt,this.errors=nn,this.timelines=gn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ql,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Rn||new Ba(this._driver,F,0),gn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(Z,F){if(!Z)return;const ue=Z;let Ke=this.options;null!=ue.duration&&(Ke.duration=sn(ue.duration)),null!=ue.delay&&(Ke.delay=sn(ue.delay));const Mt=ue.params;if(Mt){let nn=Ke.params;nn||(nn=this.options.params={}),Object.keys(Mt).forEach(gn=>{(!F||!nn.hasOwnProperty(gn))&&(nn[gn]=hs(Mt[gn],nn,this.errors))})}}_copyOptions(){const Z={};if(this.options){const F=this.options.params;if(F){const ue=Z.params={};Object.keys(F).forEach(Ke=>{ue[Ke]=F[Ke]})}}return Z}createSubContext(Z=null,F,ue){const Ke=F||this.element,Mt=new Za(this._driver,Ke,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ke,ue||0));return Mt.previousNode=this.previousNode,Mt.currentAnimateTimings=this.currentAnimateTimings,Mt.options=this._copyOptions(),Mt.updateOptions(Z),Mt.currentQueryIndex=this.currentQueryIndex,Mt.currentQueryTotal=this.currentQueryTotal,Mt.parentContext=this,this.subContextCount++,Mt}transformIntoNewTimeline(Z){return this.previousNode=ql,this.currentTimeline=this.currentTimeline.fork(this.element,Z),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(Z,F,ue){const Ke={duration:F??Z.duration,delay:this.currentTimeline.currentTime+(ue??0)+Z.delay,easing:""},Mt=new sl(this._driver,Z.element,Z.keyframes,Z.preStyleProps,Z.postStyleProps,Ke,Z.stretchStartingKeyframe);return this.timelines.push(Mt),Ke}incrementTime(Z){this.currentTimeline.forwardTime(this.currentTimeline.duration+Z)}delayNextStep(Z){Z>0&&this.currentTimeline.delayNextStep(Z)}invokeQuery(Z,F,ue,Ke,Mt,nn){let gn=[];if(Ke&&gn.push(this.element),Z.length>0){Z=(Z=Z.replace(Fc,"."+this._enterClassName)).replace(Sc,"."+this._leaveClassName);let Yn=this._driver.query(this.element,Z,1!=ue);0!==ue&&(Yn=ue<0?Yn.slice(Yn.length+ue,Yn.length):Yn.slice(0,ue)),gn.push(...Yn)}return!Mt&&0==gn.length&&nn.push(function ya(de){return new t.vHH(3014,!1)}()),gn}}class Ba{constructor(Z,F,ue,Ke){this._driver=Z,this.element=F,this.startTime=ue,this._elementTimelineStylesLookup=Ke,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(F),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(F,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(Z){const F=1===this._keyframes.size&&this._pendingStyles.size;this.duration||F?(this.forwardTime(this.currentTime+Z),F&&this.snapshotCurrentStyles()):this.startTime+=Z}fork(Z,F){return this.applyStylesToKeyframe(),new Ba(this._driver,Z,F||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(Z){this.applyStylesToKeyframe(),this.duration=Z,this._loadKeyframe()}_updateStyle(Z,F){this._localTimelineStyles.set(Z,F),this._globalTimelineStyles.set(Z,F),this._styleSummary.set(Z,{time:this.currentTime,value:F})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(Z){Z&&this._previousKeyframe.set("easing",Z);for(let[F,ue]of this._globalTimelineStyles)this._backFill.set(F,ue||mt.l3),this._currentKeyframe.set(F,mt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(Z,F,ue,Ke){F&&this._previousKeyframe.set("easing",F);const Mt=Ke&&Ke.params||{},nn=function Ul(de,Z){const F=new Map;let ue;return de.forEach(Ke=>{if("*"===Ke){ue=ue||Z.keys();for(let Mt of ue)F.set(Mt,mt.l3)}else oo(Ke,F)}),F}(Z,this._globalTimelineStyles);for(let[gn,Rn]of nn){const Yn=hs(Rn,Mt,ue);this._pendingStyles.set(gn,Yn),this._localTimelineStyles.has(gn)||this._backFill.set(gn,this._globalTimelineStyles.get(gn)??mt.l3),this._updateStyle(gn,Yn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((Z,F)=>{this._currentKeyframe.set(F,Z)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((Z,F)=>{this._currentKeyframe.has(F)||this._currentKeyframe.set(F,Z)}))}snapshotCurrentStyles(){for(let[Z,F]of this._localTimelineStyles)this._pendingStyles.set(Z,F),this._updateStyle(Z,F)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const Z=[];for(let F in this._currentKeyframe)Z.push(F);return Z}mergeTimelineCollectedStyles(Z){Z._styleSummary.forEach((F,ue)=>{const Ke=this._styleSummary.get(ue);(!Ke||F.time>Ke.time)&&this._updateStyle(ue,F.value)})}buildKeyframes(){this.applyStylesToKeyframe();const Z=new Set,F=new Set,ue=1===this._keyframes.size&&0===this.duration;let Ke=[];this._keyframes.forEach((gn,Rn)=>{const Yn=oo(gn,new Map,this._backFill);Yn.forEach((gi,xi)=>{gi===mt.k1?Z.add(xi):gi===mt.l3&&F.add(xi)}),ue||Yn.set("offset",Rn/this.duration),Ke.push(Yn)});const Mt=Z.size?Cl(Z.values()):[],nn=F.size?Cl(F.values()):[];if(ue){const gn=Ke[0],Rn=new Map(gn);gn.set("offset",0),Rn.set("offset",1),Ke=[gn,Rn]}return Ml(this.element,Ke,Mt,nn,this.duration,this.startTime,this.easing,!1)}}class sl extends Ba{constructor(Z,F,ue,Ke,Mt,nn,gn=!1){super(Z,F,nn.delay),this.keyframes=ue,this.preStyleProps=Ke,this.postStyleProps=Mt,this._stretchStartingKeyframe=gn,this.timings={duration:nn.duration,delay:nn.delay,easing:nn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let Z=this.keyframes,{delay:F,duration:ue,easing:Ke}=this.timings;if(this._stretchStartingKeyframe&&F){const Mt=[],nn=ue+F,gn=F/nn,Rn=oo(Z[0]);Rn.set("offset",0),Mt.push(Rn);const Yn=oo(Z[0]);Yn.set("offset",Xl(gn)),Mt.push(Yn);const gi=Z.length-1;for(let xi=1;xi<=gi;xi++){let Yr=oo(Z[xi]);const Er=Yr.get("offset");Yr.set("offset",Xl((F+Er*ue)/nn)),Mt.push(Yr)}ue=nn,F=0,Ke="",Z=Mt}return Ml(this.element,Z,this.preStyleProps,this.postStyleProps,ue,F,Ke,!0)}}function Xl(de,Z=3){const F=Math.pow(10,Z-1);return Math.round(de*F)/F}class Cc{}const Bc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Us extends Cc{normalizePropertyName(Z,F){return wr(Z)}normalizeStyleValue(Z,F,ue,Ke){let Mt="";const nn=ue.toString().trim();if(Bc.has(F)&&0!==ue&&"0"!==ue)if("number"==typeof ue)Mt="px";else{const gn=ue.match(/^[+-]?[\d\.]+([a-z]*)$/);gn&&0==gn[1].length&&Ke.push(function ur(de,Z){return new t.vHH(3005,!1)}())}return nn+Mt}}function Uc(de,Z,F,ue,Ke,Mt,nn,gn,Rn,Yn,gi,xi,Yr){return{type:0,element:de,triggerName:Z,isRemovalTransition:Ke,fromState:F,fromStyles:Mt,toState:ue,toStyles:nn,timelines:gn,queriedElements:Rn,preStyleProps:Yn,postStyleProps:gi,totalTime:xi,errors:Yr}}const Ja={};class Pd{constructor(Z,F,ue){this._triggerName=Z,this.ast=F,this._stateStyles=ue}match(Z,F,ue,Ke){return function Gl(de,Z,F,ue,Ke){return de.some(Mt=>Mt(Z,F,ue,Ke))}(this.ast.matchers,Z,F,ue,Ke)}buildStyles(Z,F,ue){let Ke=this._stateStyles.get("*");return void 0!==Z&&(Ke=this._stateStyles.get(Z?.toString())||Ke),Ke?Ke.buildStyles(F,ue):new Map}build(Z,F,ue,Ke,Mt,nn,gn,Rn,Yn,gi){const xi=[],Yr=this.ast.options&&this.ast.options.params||Ja,Xi=this.buildStyles(ue,gn&&gn.params||Ja,xi),Oi=Rn&&Rn.params||Ja,go=this.buildStyles(Ke,Oi,xi),gs=new Set,Rs=new Map,da=new Map,Xr="void"===Ke,ll={params:ec(Oi,Yr),delay:this.ast.options?.delay},Da=gi?[]:qc(Z,F,this.ast.animation,Mt,nn,Xi,go,ll,Yn,xi);let cl=0;if(Da.forEach(Cd=>{cl=Math.max(Cd.duration+Cd.delay,cl)}),xi.length)return Uc(F,this._triggerName,ue,Ke,Xr,Xi,go,[],[],Rs,da,cl,xi);Da.forEach(Cd=>{const Wc=Cd.element,nh=Ao(Rs,Wc,new Set);Cd.preStyleProps.forEach(Dd=>nh.add(Dd));const Hd=Ao(da,Wc,new Set);Cd.postStyleProps.forEach(Dd=>Hd.add(Dd)),Wc!==F&&gs.add(Wc)});const Kc=Cl(gs.values());return Uc(F,this._triggerName,ue,Ke,Xr,Xi,go,Da,Kc,Rs,da,cl)}}function ec(de,Z){const F=Ri(Z);for(const ue in de)de.hasOwnProperty(ue)&&null!=de[ue]&&(F[ue]=de[ue]);return F}class tc{constructor(Z,F,ue){this.styles=Z,this.defaultParams=F,this.normalizer=ue}buildStyles(Z,F){const ue=new Map,Ke=Ri(this.defaultParams);return Object.keys(Z).forEach(Mt=>{const nn=Z[Mt];null!==nn&&(Ke[Mt]=nn)}),this.styles.styles.forEach(Mt=>{"string"!=typeof Mt&&Mt.forEach((nn,gn)=>{nn&&(nn=hs(nn,Ke,F));const Rn=this.normalizer.normalizePropertyName(gn,F);nn=this.normalizer.normalizeStyleValue(gn,Rn,nn,F),ue.set(gn,nn)})}),ue}}class yo{constructor(Z,F,ue){this.name=Z,this.ast=F,this._normalizer=ue,this.transitionFactories=[],this.states=new Map,F.states.forEach(Ke=>{this.states.set(Ke.name,new tc(Ke.style,Ke.options&&Ke.options.params||{},ue))}),Qs(this.states,"true","1"),Qs(this.states,"false","0"),F.transitions.forEach(Ke=>{this.transitionFactories.push(new Pd(Z,Ke,this.states))}),this.fallbackTransition=function xl(de,Z,F){return new Pd(de,{type:1,animation:{type:2,steps:[],options:null},matchers:[(nn,gn)=>!0],options:null,queryCount:0,depCount:0},Z)}(Z,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(Z,F,ue,Ke){return this.transitionFactories.find(nn=>nn.match(Z,F,ue,Ke))||null}matchStyles(Z,F,ue){return this.fallbackTransition.buildStyles(Z,F,ue)}}function Qs(de,Z,F){de.has(Z)?de.has(F)||de.set(F,de.get(Z)):de.has(F)&&de.set(Z,de.get(F))}const Gs=new Al;class Sa{constructor(Z,F,ue){this.bodyNode=Z,this._driver=F,this._normalizer=ue,this._animations=new Map,this._playersById=new Map,this.players=[]}register(Z,F){const ue=[],Mt=Zs(this._driver,F,ue,[]);if(ue.length)throw function di(de){return new t.vHH(3503,!1)}();this._animations.set(Z,Mt)}_buildPlayer(Z,F,ue){const Ke=Z.element,Mt=Zo(this._normalizer,Z.keyframes,F,ue);return this._driver.animate(Ke,Mt,Z.duration,Z.delay,Z.easing,[],!0)}create(Z,F,ue={}){const Ke=[],Mt=this._animations.get(Z);let nn;const gn=new Map;if(Mt?(nn=qc(this._driver,F,Mt,Wl,Ue,new Map,new Map,ue,Gs,Ke),nn.forEach(gi=>{const xi=Ao(gn,gi.element,new Map);gi.postStyleProps.forEach(Yr=>xi.set(Yr,null))})):(Ke.push(function ar(){return new t.vHH(3300,!1)}()),nn=[]),Ke.length)throw function vl(de){return new t.vHH(3504,!1)}();gn.forEach((gi,xi)=>{gi.forEach((Yr,Er)=>{gi.set(Er,this._driver.computeStyle(xi,Er,mt.l3))})});const Yn=us(nn.map(gi=>{const xi=gn.get(gi.element);return this._buildPlayer(gi,new Map,xi)}));return this._playersById.set(Z,Yn),Yn.onDestroy(()=>this.destroy(Z)),this.players.push(Yn),Yn}destroy(Z){const F=this._getPlayer(Z);F.destroy(),this._playersById.delete(Z);const ue=this.players.indexOf(F);ue>=0&&this.players.splice(ue,1)}_getPlayer(Z){const F=this._playersById.get(Z);if(!F)throw function hc(de){return new t.vHH(3301,!1)}();return F}listen(Z,F,ue,Ke){const Mt=po(F,"","","");return oa(this._getPlayer(Z),ue,Mt,Ke),()=>{}}command(Z,F,ue,Ke){if("register"==ue)return void this.register(Z,Ke[0]);if("create"==ue)return void this.create(Z,F,Ke[0]||{});const Mt=this._getPlayer(Z);switch(ue){case"play":Mt.play();break;case"pause":Mt.pause();break;case"reset":Mt.reset();break;case"restart":Mt.restart();break;case"finish":Mt.finish();break;case"init":Mt.init();break;case"setPosition":Mt.setPosition(parseFloat(Ke[0]));break;case"destroy":this.destroy(Z)}}}const ed="ng-animate-queued",Il="ng-animate-disabled",Ye=[],dt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ht={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class Ln{get params(){return this.options.params}constructor(Z,F=""){this.namespaceId=F;const ue=Z&&Z.hasOwnProperty("value");if(this.value=function dr(de){return de??null}(ue?Z.value:Z),ue){const Mt=Ri(Z);delete Mt.value,this.options=Mt}else this.options={};this.options.params||(this.options.params={})}absorbOptions(Z){const F=Z.params;if(F){const ue=this.options.params;Object.keys(F).forEach(Ke=>{null==ue[Ke]&&(ue[Ke]=F[Ke])})}}}const Gn="void",Qn=new Ln(Gn);class Ci{constructor(Z,F,ue){this.id=Z,this.hostElement=F,this._engine=ue,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+Z,bo(F,this._hostClassName)}listen(Z,F,ue,Ke){if(!this._triggers.has(F))throw function Go(de,Z){return new t.vHH(3302,!1)}();if(null==ue||0==ue.length)throw function Zc(de){return new t.vHH(3303,!1)}();if(!function Ho(de){return"start"==de||"done"==de}(ue))throw function il(de,Z){return new t.vHH(3400,!1)}();const Mt=Ao(this._elementListeners,Z,[]),nn={name:F,phase:ue,callback:Ke};Mt.push(nn);const gn=Ao(this._engine.statesByElement,Z,new Map);return gn.has(F)||(bo(Z,rt),bo(Z,rt+"-"+F),gn.set(F,Qn)),()=>{this._engine.afterFlush(()=>{const Rn=Mt.indexOf(nn);Rn>=0&&Mt.splice(Rn,1),this._triggers.has(F)||gn.delete(F)})}}register(Z,F){return!this._triggers.has(Z)&&(this._triggers.set(Z,F),!0)}_getTrigger(Z){const F=this._triggers.get(Z);if(!F)throw function ro(de){return new t.vHH(3401,!1)}();return F}trigger(Z,F,ue,Ke=!0){const Mt=this._getTrigger(F),nn=new Li(this.id,F,Z);let gn=this._engine.statesByElement.get(Z);gn||(bo(Z,rt),bo(Z,rt+"-"+F),this._engine.statesByElement.set(Z,gn=new Map));let Rn=gn.get(F);const Yn=new Ln(ue,this.id);if(!(ue&&ue.hasOwnProperty("value"))&&Rn&&Yn.absorbOptions(Rn.options),gn.set(F,Yn),Rn||(Rn=Qn),Yn.value!==Gn&&Rn.value===Yn.value){if(!function dd(de,Z){const F=Object.keys(de),ue=Object.keys(Z);if(F.length!=ue.length)return!1;for(let Ke=0;Ke<F.length;Ke++){const Mt=F[Ke];if(!Z.hasOwnProperty(Mt)||de[Mt]!==Z[Mt])return!1}return!0}(Rn.params,Yn.params)){const Oi=[],go=Mt.matchStyles(Rn.value,Rn.params,Oi),gs=Mt.matchStyles(Yn.value,Yn.params,Oi);Oi.length?this._engine.reportError(Oi):this._engine.afterFlush(()=>{fs(Z,go),$o(Z,gs)})}return}const Yr=Ao(this._engine.playersByElement,Z,[]);Yr.forEach(Oi=>{Oi.namespaceId==this.id&&Oi.triggerName==F&&Oi.queued&&Oi.destroy()});let Er=Mt.matchTransition(Rn.value,Yn.value,Z,Yn.params),Xi=!1;if(!Er){if(!Ke)return;Er=Mt.fallbackTransition,Xi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:Z,triggerName:F,transition:Er,fromState:Rn,toState:Yn,player:nn,isFallbackTransition:Xi}),Xi||(bo(Z,ed),nn.onStart(()=>{qs(Z,ed)})),nn.onDone(()=>{let Oi=this.players.indexOf(nn);Oi>=0&&this.players.splice(Oi,1);const go=this._engine.playersByElement.get(Z);if(go){let gs=go.indexOf(nn);gs>=0&&go.splice(gs,1)}}),this.players.push(nn),Yr.push(nn),nn}deregister(Z){this._triggers.delete(Z),this._engine.statesByElement.forEach(F=>F.delete(Z)),this._elementListeners.forEach((F,ue)=>{this._elementListeners.set(ue,F.filter(Ke=>Ke.name!=Z))})}clearElementCache(Z){this._engine.statesByElement.delete(Z),this._elementListeners.delete(Z);const F=this._engine.playersByElement.get(Z);F&&(F.forEach(ue=>ue.destroy()),this._engine.playersByElement.delete(Z))}_signalRemovalForInnerTriggers(Z,F){const ue=this._engine.driver.query(Z,Me,!0);ue.forEach(Ke=>{if(Ke[hn])return;const Mt=this._engine.fetchNamespacesByElement(Ke);Mt.size?Mt.forEach(nn=>nn.triggerLeaveAnimation(Ke,F,!1,!0)):this.clearElementCache(Ke)}),this._engine.afterFlushAnimationsDone(()=>ue.forEach(Ke=>this.clearElementCache(Ke)))}triggerLeaveAnimation(Z,F,ue,Ke){const Mt=this._engine.statesByElement.get(Z),nn=new Map;if(Mt){const gn=[];if(Mt.forEach((Rn,Yn)=>{if(nn.set(Yn,Rn.value),this._triggers.has(Yn)){const gi=this.trigger(Z,Yn,Gn,Ke);gi&&gn.push(gi)}}),gn.length)return this._engine.markElementAsRemoved(this.id,Z,!0,F,nn),ue&&us(gn).onDone(()=>this._engine.processLeaveNode(Z)),!0}return!1}prepareLeaveAnimationListeners(Z){const F=this._elementListeners.get(Z),ue=this._engine.statesByElement.get(Z);if(F&&ue){const Ke=new Set;F.forEach(Mt=>{const nn=Mt.name;if(Ke.has(nn))return;Ke.add(nn);const Rn=this._triggers.get(nn).fallbackTransition,Yn=ue.get(nn)||Qn,gi=new Ln(Gn),xi=new Li(this.id,nn,Z);this._engine.totalQueuedPlayers++,this._queue.push({element:Z,triggerName:nn,transition:Rn,fromState:Yn,toState:gi,player:xi,isFallbackTransition:!0})})}}removeNode(Z,F){const ue=this._engine;if(Z.childElementCount&&this._signalRemovalForInnerTriggers(Z,F),this.triggerLeaveAnimation(Z,F,!0))return;let Ke=!1;if(ue.totalAnimations){const Mt=ue.players.length?ue.playersByQueriedElement.get(Z):[];if(Mt&&Mt.length)Ke=!0;else{let nn=Z;for(;nn=nn.parentNode;)if(ue.statesByElement.get(nn)){Ke=!0;break}}}if(this.prepareLeaveAnimationListeners(Z),Ke)ue.markElementAsRemoved(this.id,Z,!1,F);else{const Mt=Z[hn];(!Mt||Mt===dt)&&(ue.afterFlush(()=>this.clearElementCache(Z)),ue.destroyInnerAnimations(Z),ue._onRemovalComplete(Z,F))}}insertNode(Z,F){bo(Z,this._hostClassName)}drainQueuedTransitions(Z){const F=[];return this._queue.forEach(ue=>{const Ke=ue.player;if(Ke.destroyed)return;const Mt=ue.element,nn=this._elementListeners.get(Mt);nn&&nn.forEach(gn=>{if(gn.name==ue.triggerName){const Rn=po(Mt,ue.triggerName,ue.fromState.value,ue.toState.value);Rn._data=Z,oa(ue.player,gn.phase,Rn,gn.callback)}}),Ke.markedForDestroy?this._engine.afterFlush(()=>{Ke.destroy()}):F.push(ue)}),this._queue=[],F.sort((ue,Ke)=>{const Mt=ue.transition.ast.depCount,nn=Ke.transition.ast.depCount;return 0==Mt||0==nn?Mt-nn:this._engine.driver.containsElement(ue.element,Ke.element)?1:-1})}destroy(Z){this.players.forEach(F=>F.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,Z)}}class Zt{_onRemovalComplete(Z,F){this.onRemovalComplete(Z,F)}constructor(Z,F,ue){this.bodyNode=Z,this.driver=F,this._normalizer=ue,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ke,Mt)=>{}}get queuedPlayers(){const Z=[];return this._namespaceList.forEach(F=>{F.players.forEach(ue=>{ue.queued&&Z.push(ue)})}),Z}createNamespace(Z,F){const ue=new Ci(Z,F,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,F)?this._balanceNamespaceList(ue,F):(this.newHostElements.set(F,ue),this.collectEnterElement(F)),this._namespaceLookup[Z]=ue}_balanceNamespaceList(Z,F){const ue=this._namespaceList,Ke=this.namespacesByHostElement;if(ue.length-1>=0){let nn=!1,gn=this.driver.getParentElement(F);for(;gn;){const Rn=Ke.get(gn);if(Rn){const Yn=ue.indexOf(Rn);ue.splice(Yn+1,0,Z),nn=!0;break}gn=this.driver.getParentElement(gn)}nn||ue.unshift(Z)}else ue.push(Z);return Ke.set(F,Z),Z}register(Z,F){let ue=this._namespaceLookup[Z];return ue||(ue=this.createNamespace(Z,F)),ue}registerTrigger(Z,F,ue){let Ke=this._namespaceLookup[Z];Ke&&Ke.register(F,ue)&&this.totalAnimations++}destroy(Z,F){Z&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const ue=this._fetchNamespace(Z);this.namespacesByHostElement.delete(ue.hostElement);const Ke=this._namespaceList.indexOf(ue);Ke>=0&&this._namespaceList.splice(Ke,1),ue.destroy(F),delete this._namespaceLookup[Z]}))}_fetchNamespace(Z){return this._namespaceLookup[Z]}fetchNamespacesByElement(Z){const F=new Set,ue=this.statesByElement.get(Z);if(ue)for(let Ke of ue.values())if(Ke.namespaceId){const Mt=this._fetchNamespace(Ke.namespaceId);Mt&&F.add(Mt)}return F}trigger(Z,F,ue,Ke){if(ps(F)){const Mt=this._fetchNamespace(Z);if(Mt)return Mt.trigger(F,ue,Ke),!0}return!1}insertNode(Z,F,ue,Ke){if(!ps(F))return;const Mt=F[hn];if(Mt&&Mt.setForRemoval){Mt.setForRemoval=!1,Mt.setForMove=!0;const nn=this.collectedLeaveElements.indexOf(F);nn>=0&&this.collectedLeaveElements.splice(nn,1)}if(Z){const nn=this._fetchNamespace(Z);nn&&nn.insertNode(F,ue)}Ke&&this.collectEnterElement(F)}collectEnterElement(Z){this.collectedEnterElements.push(Z)}markElementAsDisabled(Z,F){F?this.disabledNodes.has(Z)||(this.disabledNodes.add(Z),bo(Z,Il)):this.disabledNodes.has(Z)&&(this.disabledNodes.delete(Z),qs(Z,Il))}removeNode(Z,F,ue){if(ps(F)){const Ke=Z?this._fetchNamespace(Z):null;Ke?Ke.removeNode(F,ue):this.markElementAsRemoved(Z,F,!1,ue);const Mt=this.namespacesByHostElement.get(F);Mt&&Mt.id!==Z&&Mt.removeNode(F,ue)}else this._onRemovalComplete(F,ue)}markElementAsRemoved(Z,F,ue,Ke,Mt){this.collectedLeaveElements.push(F),F[hn]={namespaceId:Z,setForRemoval:Ke,hasAnimation:ue,removedBeforeQueried:!1,previousTriggersValues:Mt}}listen(Z,F,ue,Ke,Mt){return ps(F)?this._fetchNamespace(Z).listen(F,ue,Ke,Mt):()=>{}}_buildInstruction(Z,F,ue,Ke,Mt){return Z.transition.build(this.driver,Z.element,Z.fromState.value,Z.toState.value,ue,Ke,Z.fromState.options,Z.toState.options,F,Mt)}destroyInnerAnimations(Z){let F=this.driver.query(Z,Me,!0);F.forEach(ue=>this.destroyActiveAnimationsForElement(ue)),0!=this.playersByQueriedElement.size&&(F=this.driver.query(Z,Gt,!0),F.forEach(ue=>this.finishActiveQueriedAnimationOnElement(ue)))}destroyActiveAnimationsForElement(Z){const F=this.playersByElement.get(Z);F&&F.forEach(ue=>{ue.queued?ue.markedForDestroy=!0:ue.destroy()})}finishActiveQueriedAnimationOnElement(Z){const F=this.playersByQueriedElement.get(Z);F&&F.forEach(ue=>ue.finish())}whenRenderingDone(){return new Promise(Z=>{if(this.players.length)return us(this.players).onDone(()=>Z());Z()})}processLeaveNode(Z){const F=Z[hn];if(F&&F.setForRemoval){if(Z[hn]=dt,F.namespaceId){this.destroyInnerAnimations(Z);const ue=this._fetchNamespace(F.namespaceId);ue&&ue.clearElementCache(Z)}this._onRemovalComplete(Z,F.setForRemoval)}Z.classList?.contains(Il)&&this.markElementAsDisabled(Z,!1),this.driver.query(Z,".ng-animate-disabled",!0).forEach(ue=>{this.markElementAsDisabled(ue,!1)})}flush(Z=-1){let F=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ue,Ke)=>this._balanceNamespaceList(ue,Ke)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ue=0;ue<this.collectedEnterElements.length;ue++)bo(this.collectedEnterElements[ue],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ue=[];try{F=this._flushAnimations(ue,Z)}finally{for(let Ke=0;Ke<ue.length;Ke++)ue[Ke]()}}else for(let ue=0;ue<this.collectedLeaveElements.length;ue++)this.processLeaveNode(this.collectedLeaveElements[ue]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ue=>ue()),this._flushFns=[],this._whenQuietFns.length){const ue=this._whenQuietFns;this._whenQuietFns=[],F.length?us(F).onDone(()=>{ue.forEach(Ke=>Ke())}):ue.forEach(Ke=>Ke())}}reportError(Z){throw function Wa(de){return new t.vHH(3402,!1)}()}_flushAnimations(Z,F){const ue=new Al,Ke=[],Mt=new Map,nn=[],gn=new Map,Rn=new Map,Yn=new Map,gi=new Set;this.disabledNodes.forEach(Ji=>{gi.add(Ji);const lr=this.driver.query(Ji,".ng-animate-queued",!0);for(let fr=0;fr<lr.length;fr++)gi.add(lr[fr])});const xi=this.bodyNode,Yr=Array.from(this.statesByElement.keys()),Er=rc(Yr,this.collectedEnterElements),Xi=new Map;let Oi=0;Er.forEach((Ji,lr)=>{const fr=Wl+Oi++;Xi.set(lr,fr),Ji.forEach(To=>bo(To,fr))});const go=[],gs=new Set,Rs=new Set;for(let Ji=0;Ji<this.collectedLeaveElements.length;Ji++){const lr=this.collectedLeaveElements[Ji],fr=lr[hn];fr&&fr.setForRemoval&&(go.push(lr),gs.add(lr),fr.hasAnimation?this.driver.query(lr,".ng-star-inserted",!0).forEach(To=>gs.add(To)):Rs.add(lr))}const da=new Map,Xr=rc(Yr,Array.from(gs));Xr.forEach((Ji,lr)=>{const fr=Ue+Oi++;da.set(lr,fr),Ji.forEach(To=>bo(To,fr))}),Z.push(()=>{Er.forEach((Ji,lr)=>{const fr=Xi.get(lr);Ji.forEach(To=>qs(To,fr))}),Xr.forEach((Ji,lr)=>{const fr=da.get(lr);Ji.forEach(To=>qs(To,fr))}),go.forEach(Ji=>{this.processLeaveNode(Ji)})});const ll=[],Da=[];for(let Ji=this._namespaceList.length-1;Ji>=0;Ji--)this._namespaceList[Ji].drainQueuedTransitions(F).forEach(fr=>{const To=fr.player,ua=fr.element;if(ll.push(To),this.collectedEnterElements.length){const el=ua[hn];if(el&&el.setForMove){if(el.previousTriggersValues&&el.previousTriggersValues.has(fr.triggerName)){const Pc=el.previousTriggersValues.get(fr.triggerName),Rc=this.statesByElement.get(fr.element);if(Rc&&Rc.has(fr.triggerName)){const xu=Rc.get(fr.triggerName);xu.value=Pc,Rc.set(fr.triggerName,xu)}}return void To.destroy()}}const ac=!xi||!this.driver.containsElement(xi,ua),Ma=da.get(ua),sd=Xi.get(ua),_s=this._buildInstruction(fr,ue,sd,Ma,ac);if(_s.errors&&_s.errors.length)return void Da.push(_s);if(ac)return To.onStart(()=>fs(ua,_s.fromStyles)),To.onDestroy(()=>$o(ua,_s.toStyles)),void Ke.push(To);if(fr.isFallbackTransition)return To.onStart(()=>fs(ua,_s.fromStyles)),To.onDestroy(()=>$o(ua,_s.toStyles)),void Ke.push(To);const ih=[];_s.timelines.forEach(el=>{el.stretchStartingKeyframe=!0,this.disabledNodes.has(el.element)||ih.push(el)}),_s.timelines=ih,ue.append(ua,_s.timelines),nn.push({instruction:_s,player:To,element:ua}),_s.queriedElements.forEach(el=>Ao(gn,el,[]).push(To)),_s.preStyleProps.forEach((el,Pc)=>{if(el.size){let Rc=Rn.get(Pc);Rc||Rn.set(Pc,Rc=new Set),el.forEach((xu,vf)=>Rc.add(vf))}}),_s.postStyleProps.forEach((el,Pc)=>{let Rc=Yn.get(Pc);Rc||Yn.set(Pc,Rc=new Set),el.forEach((xu,vf)=>Rc.add(vf))})});if(Da.length){const Ji=[];Da.forEach(lr=>{Ji.push(function Rl(de,Z){return new t.vHH(3505,!1)}())}),ll.forEach(lr=>lr.destroy()),this.reportError(Ji)}const cl=new Map,Kc=new Map;nn.forEach(Ji=>{const lr=Ji.element;ue.has(lr)&&(Kc.set(lr,lr),this._beforeAnimationBuild(Ji.player.namespaceId,Ji.instruction,cl))}),Ke.forEach(Ji=>{const lr=Ji.element;this._getPreviousPlayers(lr,!1,Ji.namespaceId,Ji.triggerName,null).forEach(To=>{Ao(cl,lr,[]).push(To),To.destroy()})});const Cd=go.filter(Ji=>bd(Ji,Rn,Yn)),Wc=new Map;al(Wc,this.driver,Rs,Yn,mt.l3).forEach(Ji=>{bd(Ji,Rn,Yn)&&Cd.push(Ji)});const Hd=new Map;Er.forEach((Ji,lr)=>{al(Hd,this.driver,new Set(Ji),Rn,mt.k1)}),Cd.forEach(Ji=>{const lr=Wc.get(Ji),fr=Hd.get(Ji);Wc.set(Ji,new Map([...lr?.entries()??[],...fr?.entries()??[]]))});const Dd=[],_f=[],Md={};nn.forEach(Ji=>{const{element:lr,player:fr,instruction:To}=Ji;if(ue.has(lr)){if(gi.has(lr))return fr.onDestroy(()=>$o(lr,To.toStyles)),fr.disabled=!0,fr.overrideTotalTime(To.totalTime),void Ke.push(fr);let ua=Md;if(Kc.size>1){let Ma=lr;const sd=[];for(;Ma=Ma.parentNode;){const _s=Kc.get(Ma);if(_s){ua=_s;break}sd.push(Ma)}sd.forEach(_s=>Kc.set(_s,ua))}const ac=this._buildAnimation(fr.namespaceId,To,cl,Mt,Hd,Wc);if(fr.setRealPlayer(ac),ua===Md)Dd.push(fr);else{const Ma=this.playersByElement.get(ua);Ma&&Ma.length&&(fr.parentPlayer=us(Ma)),Ke.push(fr)}}else fs(lr,To.fromStyles),fr.onDestroy(()=>$o(lr,To.toStyles)),_f.push(fr),gi.has(lr)&&Ke.push(fr)}),_f.forEach(Ji=>{const lr=Mt.get(Ji.element);if(lr&&lr.length){const fr=us(lr);Ji.setRealPlayer(fr)}}),Ke.forEach(Ji=>{Ji.parentPlayer?Ji.syncPlayerEvents(Ji.parentPlayer):Ji.destroy()});for(let Ji=0;Ji<go.length;Ji++){const lr=go[Ji],fr=lr[hn];if(qs(lr,Ue),fr&&fr.hasAnimation)continue;let To=[];if(gn.size){let ac=gn.get(lr);ac&&ac.length&&To.push(...ac);let Ma=this.driver.query(lr,Gt,!0);for(let sd=0;sd<Ma.length;sd++){let _s=gn.get(Ma[sd]);_s&&_s.length&&To.push(..._s)}}const ua=To.filter(ac=>!ac.destroyed);ua.length?Mc(this,lr,ua):this.processLeaveNode(lr)}return go.length=0,Dd.forEach(Ji=>{this.players.push(Ji),Ji.onDone(()=>{Ji.destroy();const lr=this.players.indexOf(Ji);this.players.splice(lr,1)}),Ji.play()}),Dd}afterFlush(Z){this._flushFns.push(Z)}afterFlushAnimationsDone(Z){this._whenQuietFns.push(Z)}_getPreviousPlayers(Z,F,ue,Ke,Mt){let nn=[];if(F){const gn=this.playersByQueriedElement.get(Z);gn&&(nn=gn)}else{const gn=this.playersByElement.get(Z);if(gn){const Rn=!Mt||Mt==Gn;gn.forEach(Yn=>{Yn.queued||!Rn&&Yn.triggerName!=Ke||nn.push(Yn)})}}return(ue||Ke)&&(nn=nn.filter(gn=>!(ue&&ue!=gn.namespaceId||Ke&&Ke!=gn.triggerName))),nn}_beforeAnimationBuild(Z,F,ue){const Mt=F.element,nn=F.isRemovalTransition?void 0:Z,gn=F.isRemovalTransition?void 0:F.triggerName;for(const Rn of F.timelines){const Yn=Rn.element,gi=Yn!==Mt,xi=Ao(ue,Yn,[]);this._getPreviousPlayers(Yn,gi,nn,gn,F.toState).forEach(Er=>{const Xi=Er.getRealPlayer();Xi.beforeDestroy&&Xi.beforeDestroy(),Er.destroy(),xi.push(Er)})}fs(Mt,F.fromStyles)}_buildAnimation(Z,F,ue,Ke,Mt,nn){const gn=F.triggerName,Rn=F.element,Yn=[],gi=new Set,xi=new Set,Yr=F.timelines.map(Xi=>{const Oi=Xi.element;gi.add(Oi);const go=Oi[hn];if(go&&go.removedBeforeQueried)return new mt.ZN(Xi.duration,Xi.delay);const gs=Oi!==Rn,Rs=function yd(de){const Z=[];return td(de,Z),Z}((ue.get(Oi)||Ye).map(cl=>cl.getRealPlayer())).filter(cl=>!!cl.element&&cl.element===Oi),da=Mt.get(Oi),Xr=nn.get(Oi),ll=Zo(this._normalizer,Xi.keyframes,da,Xr),Da=this._buildPlayer(Xi,ll,Rs);if(Xi.subTimeline&&Ke&&xi.add(Oi),gs){const cl=new Li(Z,gn,Oi);cl.setRealPlayer(Da),Yn.push(cl)}return Da});Yn.forEach(Xi=>{Ao(this.playersByQueriedElement,Xi.element,[]).push(Xi),Xi.onDone(()=>function qi(de,Z,F){let ue=de.get(Z);if(ue){if(ue.length){const Ke=ue.indexOf(F);ue.splice(Ke,1)}0==ue.length&&de.delete(Z)}return ue}(this.playersByQueriedElement,Xi.element,Xi))}),gi.forEach(Xi=>bo(Xi,nt));const Er=us(Yr);return Er.onDestroy(()=>{gi.forEach(Xi=>qs(Xi,nt)),$o(Rn,F.toStyles)}),xi.forEach(Xi=>{Ao(Ke,Xi,[]).push(Er)}),Er}_buildPlayer(Z,F,ue){return F.length>0?this.driver.animate(Z.element,F,Z.duration,Z.delay,Z.easing,ue):new mt.ZN(Z.duration,Z.delay)}}class Li{constructor(Z,F,ue){this.namespaceId=Z,this.triggerName=F,this.element=ue,this._player=new mt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(Z){this._containsRealPlayer||(this._player=Z,this._queuedCallbacks.forEach((F,ue)=>{F.forEach(Ke=>oa(Z,ue,void 0,Ke))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(Z.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(Z){this.totalTime=Z}syncPlayerEvents(Z){const F=this._player;F.triggerCallback&&Z.onStart(()=>F.triggerCallback("start")),Z.onDone(()=>this.finish()),Z.onDestroy(()=>this.destroy())}_queueEvent(Z,F){Ao(this._queuedCallbacks,Z,[]).push(F)}onDone(Z){this.queued&&this._queueEvent("done",Z),this._player.onDone(Z)}onStart(Z){this.queued&&this._queueEvent("start",Z),this._player.onStart(Z)}onDestroy(Z){this.queued&&this._queueEvent("destroy",Z),this._player.onDestroy(Z)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(Z){this.queued||this._player.setPosition(Z)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(Z){const F=this._player;F.triggerCallback&&F.triggerCallback(Z)}}function ps(de){return de&&1===de.nodeType}function Dc(de,Z){const F=de.style.display;return de.style.display=Z??"none",F}function al(de,Z,F,ue,Ke){const Mt=[];F.forEach(Rn=>Mt.push(Dc(Rn)));const nn=[];ue.forEach((Rn,Yn)=>{const gi=new Map;Rn.forEach(xi=>{const Yr=Z.computeStyle(Yn,xi,Ke);gi.set(xi,Yr),(!Yr||0==Yr.length)&&(Yn[hn]=Ht,nn.push(Yn))}),de.set(Yn,gi)});let gn=0;return F.forEach(Rn=>Dc(Rn,Mt[gn++])),nn}function rc(de,Z){const F=new Map;if(de.forEach(gn=>F.set(gn,[])),0==Z.length)return F;const Ke=new Set(Z),Mt=new Map;function nn(gn){if(!gn)return 1;let Rn=Mt.get(gn);if(Rn)return Rn;const Yn=gn.parentNode;return Rn=F.has(Yn)?Yn:Ke.has(Yn)?1:nn(Yn),Mt.set(gn,Rn),Rn}return Z.forEach(gn=>{const Rn=nn(gn);1!==Rn&&F.get(Rn).push(gn)}),F}function bo(de,Z){de.classList?.add(Z)}function qs(de,Z){de.classList?.remove(Z)}function Mc(de,Z,F){us(F).onDone(()=>de.processLeaveNode(Z))}function td(de,Z){for(let F=0;F<de.length;F++){const ue=de[F];ue instanceof mt.ZE?td(ue.players,Z):Z.push(ue)}}function bd(de,Z,F){const ue=F.get(de);if(!ue)return!1;let Ke=Z.get(de);return Ke?ue.forEach(Mt=>Ke.add(Mt)):Z.set(de,ue),F.delete(de),!0}class Ac{constructor(Z,F,ue){this.bodyNode=Z,this._driver=F,this._normalizer=ue,this._triggerCache={},this.onRemovalComplete=(Ke,Mt)=>{},this._transitionEngine=new Zt(Z,F,ue),this._timelineEngine=new Sa(Z,F,ue),this._transitionEngine.onRemovalComplete=(Ke,Mt)=>this.onRemovalComplete(Ke,Mt)}registerTrigger(Z,F,ue,Ke,Mt){const nn=Z+"-"+Ke;let gn=this._triggerCache[nn];if(!gn){const Rn=[],gi=Zs(this._driver,Mt,Rn,[]);if(Rn.length)throw function Ds(de,Z){return new t.vHH(3404,!1)}();gn=function zr(de,Z,F){return new yo(de,Z,F)}(Ke,gi,this._normalizer),this._triggerCache[nn]=gn}this._transitionEngine.registerTrigger(F,Ke,gn)}register(Z,F){this._transitionEngine.register(Z,F)}destroy(Z,F){this._transitionEngine.destroy(Z,F)}onInsert(Z,F,ue,Ke){this._transitionEngine.insertNode(Z,F,ue,Ke)}onRemove(Z,F,ue){this._transitionEngine.removeNode(Z,F,ue)}disableAnimations(Z,F){this._transitionEngine.markElementAsDisabled(Z,F)}process(Z,F,ue,Ke){if("@"==ue.charAt(0)){const[Mt,nn]=Bo(ue);this._timelineEngine.command(Mt,F,nn,Ke)}else this._transitionEngine.trigger(Z,F,ue,Ke)}listen(Z,F,ue,Ke,Mt){if("@"==ue.charAt(0)){const[nn,gn]=Bo(ue);return this._timelineEngine.listen(nn,F,gn,Mt)}return this._transitionEngine.listen(Z,F,ue,Ke,Mt)}flush(Z=-1){this._transitionEngine.flush(Z)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(Z){this._transitionEngine.afterFlushAnimationsDone(Z)}}let Hc=(()=>{class de{static#e=this.initialStylesByElement=new WeakMap;constructor(F,ue,Ke){this._element=F,this._startStyles=ue,this._endStyles=Ke,this._state=0;let Mt=de.initialStylesByElement.get(F);Mt||de.initialStylesByElement.set(F,Mt=new Map),this._initialStyles=Mt}start(){this._state<1&&(this._startStyles&&$o(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($o(this._element,this._initialStyles),this._endStyles&&($o(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(de.initialStylesByElement.delete(this._element),this._startStyles&&(fs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fs(this._element,this._endStyles),this._endStyles=null),$o(this._element,this._initialStyles),this._state=3)}}return de})();function Ed(de){let Z=null;return de.forEach((F,ue)=>{(function Kd(de){return"display"===de||"position"===de})(ue)&&(Z=Z||new Map,Z.set(ue,F))}),Z}class ud{constructor(Z,F,ue,Ke){this.element=Z,this.keyframes=F,this.options=ue,this._specialStyles=Ke,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=ue.duration,this._delay=ue.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const Z=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,Z,this.options),this._finalKeyframe=Z.length?Z[Z.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(Z){const F=[];return Z.forEach(ue=>{F.push(Object.fromEntries(ue))}),F}_triggerWebAnimation(Z,F,ue){return Z.animate(this._convertKeyframesToObject(F),ue)}onStart(Z){this._originalOnStartFns.push(Z),this._onStartFns.push(Z)}onDone(Z){this._originalOnDoneFns.push(Z),this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(Z=>Z()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}setPosition(Z){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=Z*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const Z=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ue,Ke)=>{"offset"!==Ke&&Z.set(Ke,this._finished?ue:La(this.element,Ke))}),this.currentSnapshot=Z}triggerCallback(Z){const F="start"===Z?this._onStartFns:this._onDoneFns;F.forEach(ue=>ue()),F.length=0}}class Wd{validateStyleProperty(Z){return!0}validateAnimatableStyleProperty(Z){return!0}matchesElement(Z,F){return!1}containsElement(Z,F){return zs(Z,F)}getParentElement(Z){return Ta(Z)}query(Z,F,ue){return Tl(Z,F,ue)}computeStyle(Z,F,ue){return window.getComputedStyle(Z)[F]}animate(Z,F,ue,Ke,Mt,nn=[]){const Rn={duration:ue,delay:Ke,fill:0==Ke?"both":"forwards"};Mt&&(Rn.easing=Mt);const Yn=new Map,gi=nn.filter(Er=>Er instanceof ud);(function yc(de,Z){return 0===de||0===Z})(ue,Ke)&&gi.forEach(Er=>{Er.currentSnapshot.forEach((Xi,Oi)=>Yn.set(Oi,Xi))});let xi=function br(de){return de.length?de[0]instanceof Map?de:de.map(Z=>Ni(Z)):[]}(F).map(Er=>oo(Er));xi=function Nl(de,Z,F){if(F.size&&Z.length){let ue=Z[0],Ke=[];if(F.forEach((Mt,nn)=>{ue.has(nn)||Ke.push(nn),ue.set(nn,Mt)}),Ke.length)for(let Mt=1;Mt<Z.length;Mt++){let nn=Z[Mt];Ke.forEach(gn=>nn.set(gn,La(de,gn)))}}return Z}(Z,xi,Yn);const Yr=function xc(de,Z){let F=null,ue=null;return Array.isArray(Z)&&Z.length?(F=Ed(Z[0]),Z.length>1&&(ue=Ed(Z[Z.length-1]))):Z instanceof Map&&(F=Ed(Z)),F||ue?new Hc(de,F,ue):null}(Z,xi);return new ud(Z,xi,Rn,Yr)}}let Rd=(()=>{class de extends mt._j{constructor(F,ue){super(),this._nextAnimationId=0,this._renderer=F.createRenderer(ue.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(F){const ue=this._nextAnimationId.toString();this._nextAnimationId++;const Ke=Array.isArray(F)?(0,mt.vP)(F):F;return Nd(this._renderer,null,ue,"register",[Ke]),new fd(ue,this._renderer)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t.FYo),t.LFG(Ie.K0))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})();class fd extends mt.LC{constructor(Z,F){super(),this._id=Z,this._renderer=F}create(Z,F){return new nd(this._id,Z,F||{},this._renderer)}}class nd{constructor(Z,F,ue,Ke){this.id=Z,this.element=F,this._renderer=Ke,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ue)}_listen(Z,F){return this._renderer.listen(this.element,`@@${this.id}:${Z}`,F)}_command(Z,...F){return Nd(this._renderer,this.element,this.id,Z,F)}onDone(Z){this._listen("done",Z)}onStart(Z){this._listen("start",Z)}onDestroy(Z){this._listen("destroy",Z)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(Z){this._command("setPosition",Z)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Nd(de,Z,F,ue,Ke){return de.setProperty(Z,`@@${F}:${ue}`,Ke)}const W="@.disabled";let se=(()=>{class de{constructor(F,ue,Ke){this.delegate=F,this.engine=ue,this._zone=Ke,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,ue.onRemovalComplete=(Mt,nn)=>{const gn=nn?.parentNode(Mt);gn&&nn.removeChild(gn,Mt)}}createRenderer(F,ue){const Mt=this.delegate.createRenderer(F,ue);if(!(F&&ue&&ue.data&&ue.data.animation)){let gi=this._rendererCache.get(Mt);return gi||(gi=new Je("",Mt,this.engine,()=>this._rendererCache.delete(Mt)),this._rendererCache.set(Mt,gi)),gi}const nn=ue.id,gn=ue.id+"-"+this._currentId;this._currentId++,this.engine.register(gn,F);const Rn=gi=>{Array.isArray(gi)?gi.forEach(Rn):this.engine.registerTrigger(nn,gn,F,gi.name,gi)};return ue.data.animation.forEach(Rn),new Kt(this,gn,Mt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(F,ue,Ke){F>=0&&F<this._microtaskId?this._zone.run(()=>ue(Ke)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Mt=>{const[nn,gn]=Mt;nn(gn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ue,Ke]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t.FYo),t.LFG(Ac),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})();class Je{constructor(Z,F,ue,Ke){this.namespaceId=Z,this.delegate=F,this.engine=ue,this._onDestroy=Ke}get data(){return this.delegate.data}destroyNode(Z){this.delegate.destroyNode?.(Z)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(Z,F){return this.delegate.createElement(Z,F)}createComment(Z){return this.delegate.createComment(Z)}createText(Z){return this.delegate.createText(Z)}appendChild(Z,F){this.delegate.appendChild(Z,F),this.engine.onInsert(this.namespaceId,F,Z,!1)}insertBefore(Z,F,ue,Ke=!0){this.delegate.insertBefore(Z,F,ue),this.engine.onInsert(this.namespaceId,F,Z,Ke)}removeChild(Z,F,ue){this.engine.onRemove(this.namespaceId,F,this.delegate)}selectRootElement(Z,F){return this.delegate.selectRootElement(Z,F)}parentNode(Z){return this.delegate.parentNode(Z)}nextSibling(Z){return this.delegate.nextSibling(Z)}setAttribute(Z,F,ue,Ke){this.delegate.setAttribute(Z,F,ue,Ke)}removeAttribute(Z,F,ue){this.delegate.removeAttribute(Z,F,ue)}addClass(Z,F){this.delegate.addClass(Z,F)}removeClass(Z,F){this.delegate.removeClass(Z,F)}setStyle(Z,F,ue,Ke){this.delegate.setStyle(Z,F,ue,Ke)}removeStyle(Z,F,ue){this.delegate.removeStyle(Z,F,ue)}setProperty(Z,F,ue){"@"==F.charAt(0)&&F==W?this.disableAnimations(Z,!!ue):this.delegate.setProperty(Z,F,ue)}setValue(Z,F){this.delegate.setValue(Z,F)}listen(Z,F,ue){return this.delegate.listen(Z,F,ue)}disableAnimations(Z,F){this.engine.disableAnimations(Z,F)}}class Kt extends Je{constructor(Z,F,ue,Ke,Mt){super(F,ue,Ke,Mt),this.factory=Z,this.namespaceId=F}setProperty(Z,F,ue){"@"==F.charAt(0)?"."==F.charAt(1)&&F==W?this.disableAnimations(Z,ue=void 0===ue||!!ue):this.engine.process(this.namespaceId,Z,F.slice(1),ue):this.delegate.setProperty(Z,F,ue)}listen(Z,F,ue){if("@"==F.charAt(0)){const Ke=function an(de){switch(de){case"body":return document.body;case"document":return document;case"window":return window;default:return de}}(Z);let Mt=F.slice(1),nn="";return"@"!=Mt.charAt(0)&&([Mt,nn]=function Hn(de){const Z=de.indexOf(".");return[de.substring(0,Z),de.slice(Z+1)]}(Mt)),this.engine.listen(this.namespaceId,Ke,Mt,nn,gn=>{this.factory.scheduleListenerCallback(gn._data||-1,ue,gn)})}return this.delegate.listen(Z,F,ue)}}const Yi=[{provide:mt._j,useClass:Rd},{provide:Cc,useFactory:function Si(){return new Us}},{provide:Ac,useClass:(()=>{class de extends Ac{constructor(F,ue,Ke,Mt){super(F.body,ue,Ke)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(Ie.K0),t.LFG(pc),t.LFG(Cc),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})()},{provide:t.FYo,useFactory:function Ii(de,Z,F){return new se(de,Z,F)},deps:[e.se,Ac,t.R0b]}],Cr=[{provide:pc,useFactory:()=>new Wd},{provide:t.QbO,useValue:"BrowserAnimations"},...Yi],Ps=[{provide:pc,useClass:Kl},{provide:t.QbO,useValue:"NoopAnimations"},...Yi];let oc=(()=>{class de{static withConfig(F){return{ngModule:de,providers:F.disableAnimations?Ps:Cr}}static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({providers:Cr,imports:[e.b2]})}return de})();const h_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};var M=p(4769),k=p(2680),j=p(9411);class te{}var De=p(295),Pe=p(5934),lt=p(5529),pt=p(7581),Bt=p(2098),jt=p(1716),Xt=p(7983),cn=p(7591),bn=p(2070),Bn=p(4748),ti=p(9817),zn=p(2472),ui=p(1018),oi=p(914),Ai=p(3482);const hi={UKNOWN:"Unknown"},Di={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:hi.UKNOWN},wi={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},ci={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Ui={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:hi.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},ji=[Ui.PS4,Ui.CHROME_BOOK,Ui.MAC,Ui.DELL,Ui.ASUS,Ui.UNKNOWN],xo={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:hi.UKNOWN},Xs={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:hi.UKNOWN.toLowerCase()},Dr={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},jo={...wi,...ci,...Dr,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},Ki={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},rr={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},No=Object.keys(Ki).reduce((de,Z)=>(de[Z]=Ki[Z],de),{}),Vo=Object.keys(rr).reduce((de,Z)=>(de[Di[Z]]=rr[Z],de),{});var Lr=Object.freeze({__proto__:null,BROWSERS:Di,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:Vo,BROWSER_VERSIONS_RE_MAP:rr,DESKTOP_DEVICES:ji,DEVICES:Ui,DEVICES_RE:jo,GENERAL:hi,MOBILES_RE:wi,OS:xo,OS_RE:Dr,OS_VERSIONS:Xs,OS_VERSIONS_RE:No,OS_VERSIONS_RE_MAP:Ki,TABLETS_RE:ci});class Hs{constructor(){}test(Z,F){return"string"==typeof F&&(F=new RegExp(F)),F instanceof RegExp?F.test(Z):F&&Array.isArray(F.and)?F.and.every(ue=>this.test(Z,ue)):F&&Array.isArray(F.or)?F.or.some(ue=>this.test(Z,ue)):!(!F||!F.not||this.test(Z,F.not))}exec(Z,F){return"string"==typeof F&&(F=new RegExp(F)),F instanceof RegExp?F.exec(Z):F&&Array.isArray(F)?F.reduce((ue,Ke)=>ue||this.exec(Z,Ke),null):null}}var la=function(de){return de.Mobile="mobile",de.Tablet="tablet",de.Desktop="desktop",de.Unknown="unknown",de}(la||{}),Qa=function(de){return de.Portrait="portrait",de.Landscape="landscape",de}(Qa||{});const qa="iPad";let Ic=(()=>{class de{constructor(F){this.platformId=F,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Hs,this.deviceType="",this.orientation="",(0,Ie.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(F=this.userAgent){F!==this.userAgent&&(this.userAgent=F);const ue=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(ue.forEach(Ke=>{this[Ke.prop]=Object.keys(Lr[Ke.const]).reduce((Mt,nn)=>"device"===Lr[Ke.const][nn]&&(0,Ie.NF)(this.platformId)&&(this.reTree.test(this.userAgent,ci[qa])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(Mt[Lr[Ke.const][nn]]=qa,Object):(Mt[Lr[Ke.const][nn]]=this.reTree.test(F,Lr[`${Ke.const}_RE`][nn]),Mt),{})}),ue.forEach(Ke=>{this[Ke.prop]=Object.keys(Lr[Ke.const]).map(Mt=>Lr[Ke.const][Mt]).reduce((Mt,nn)=>"device"===Ke.prop&&Mt===Lr[Ke.const].ANDROID?this[Ke.prop][nn]?nn:Mt:Mt===Lr[Ke.const].UNKNOWN&&this[Ke.prop][nn]?nn:Mt,Lr[Ke.const].UNKNOWN)}),this.browser_version="0",this.browser!==Di.UNKNOWN){const Mt=this.reTree.exec(F,Vo[this.browser]);Mt&&(this.browser_version=Mt[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Qa.Landscape:Qa.Portrait:hi.UKNOWN,this.deviceType=this.isTablet()?la.Tablet:this.isMobile(this.userAgent)?la.Mobile:this.isDesktop(this.userAgent)?la.Desktop:la.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(F=this.userAgent){return!this.isTablet(F)&&!!Object.keys(wi).find(Ke=>this.reTree.test(F,wi[Ke]))}isTablet(F=this.userAgent){return!(!(0,Ie.NF)(this.platformId)||!(this.reTree.test(this.userAgent,ci[qa])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(ci).find(Ke=>!!this.reTree.test(F,ci[Ke]))}isDesktop(F=this.userAgent){return(this.device!==Ui.UNKNOWN||!this.isMobile(F)&&!this.isTablet(F))&&ji.indexOf(this.device)>-1}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t.Lbi))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();function hd(de,Z){if(1&de&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&de){const F=t.oxw(3);t.xp6(1),t.hij(" ",F.commonService.getInitials(F.sharedDataService.currentProfile)," ")}}function jf(de,Z){if(1&de&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&de){const F=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,F.sharedDataService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Yd(de,Z){if(1&de&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,hd,2,1,"div",12),t.YNc(3,jf,3,6,"img",12)),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.sharedDataService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==F.sharedDataService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=F.sharedDataService.currentProfile.AvatarPath)}}function qu(de,Z){if(1&de&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&de){const F=t.oxw(2).$implicit,ue=t.oxw(3);t.xp6(1),t.hij(" ",ue.commonService.getInitials(F)," ")}}function Xu(de,Z){if(1&de&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&de){const F=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,F.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function pu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw().$implicit,Mt=t.oxw(3);return t.KtG(Mt.onSelectProfile(Ke))}),t.YNc(3,qu,2,1,"div",12),t.YNc(4,Xu,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&de){const F=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==F.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=F.AvatarPath),t.xp6(2),t.hij(" ",F.FullName," ")}}function ef(de,Z){if(1&de&&t.YNc(0,pu,7,3,"li",10),2&de){const F=Z.$implicit,ue=t.oxw(3);t.Q6J("ngIf",ue.sharedDataService.currentProfile&&F.Id!=ue.sharedDataService.currentProfile.Id)}}function tf(de,Z){if(1&de&&t.YNc(0,ef,1,1,"ng-template",14),2&de){const F=t.oxw(2);t.Q6J("ngForOf",F.sharedDataService.listProfiles)}}function Ld(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw(2);return t.KtG(Ke.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function nu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,Yd,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,tf,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,Ld,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&de){const F=t.oxw();t.xp6(5),t.Q6J("ngIf",F.sharedDataService.currentProfile),t.xp6(3),t.Q6J("ngIf",F.sharedDataService.listProfiles&&F.sharedDataService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",F.sharedDataService.manageMenus&&F.sharedDataService.manageMenus.length>0)}}let nf=(()=>{class de{constructor(F,ue,Ke,Mt,nn){this.commonService=F,this.userService=ue,this.ref=Ke,this.router=Mt,this.sharedDataService=nn}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onClickEditProfilesButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onSelectProfile(F){this.sharedDataService.currentProfile=F,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedDataService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Uo.v),t.Y36(f.K),t.Y36(t.sBO),t.Y36(b.F0),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(ue,Ke){1&ue&&t.YNc(0,nu,22,3,"div",0),2&ue&&t.Q6J("ngIf",!Ke.sharedDataService.showSplashScreen)},dependencies:[Ie.sg,Ie.O5,Ie.Ov,pr.A],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return de})();const gu=["searchTarget"],zd=function(){return["/home"]};function Vf(de,Z){1&de&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&de&&t.Q6J("routerLink",t.DdM(1,zd))}const _u=function(de){return{focused:de}};function Kf(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(Ke){t.CHM(F);const Mt=t.oxw();return t.KtG(Mt.searchText=Ke)})("change",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onChangeSearchValue())})("focus",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.isFocusSearch=!0)})("blur",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,_u,F.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",F.searchText)}}let Wf=(()=>{class de{constructor(F,ue,Ke){this.router=F,this.commonService=ue,this.sharedDataService=Ke,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const F=document.getElementById("userDropDown");document.addEventListener("click",ue=>{this.showDropDown=!!ue.composedPath().includes(F)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(F){this.selectOption.emit(F)}onSelectProfile(F){this.sharedDataService.currentProfile=F,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(F){F.preventDefault(),F.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-navbar"]],viewQuery:function(ue,Ke){if(1&ue&&t.Gf(gu,5),2&ue){let Mt;t.iGM(Mt=t.CRH())&&(Ke.searchTarget=Mt.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(nn){return Ke.onClickToggleSidebarButton(nn)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,Vf,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(nn){return Ke.searchText=nn})("change",function(){return Ke.onChangeSearchValue()})("focus",function(){return Ke.isFocusSearch=!0})("blur",function(){return Ke.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return Ke.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,Kf,9,4,"div",10),t.qZA()),2&ue&&(t.xp6(4),t.Q6J("ngIf",Ke.showingSidebarAccount||Ke.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,zd)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,_u,Ke.isFocusSearch&&!Ke.commonService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",Ke.searchText),t.xp6(5),t.Q6J("ngIf",Ke.commonService.isSmallDevice()&&Ke.showNavbarSearch))},dependencies:[Ie.mk,Ie.O5,D.Fj,D.JJ,D.On,b.rH,nf,Ie.Ov,pr.A],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return de})();var iu=p(9223);function Yf(de,Z){1&de&&t._UZ(0,"i",12)}const vu=function(de){return{selected:de}};function yu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const Mt=t.CHM(F).$implicit,nn=t.oxw(2);return t.KtG(nn.onClickDropDownMenuOption(Mt))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,Yf,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&de){const F=Z.$implicit;t.Q6J("ngClass",t.VKq(7,vu,F.isSelected)),t.xp6(4),t.hij(" ",F.title," "),t.xp6(2),t.hij(" ",F.subtitle," "),t.xp6(3),t.Q6J("ngIf",F.isSelected),t.xp6(2),t.Tol(F.iconClass)}}function rf(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClickOutside())}),t.YNc(1,yu,12,9,"ng-template",2),t.qZA()}if(2&de){const F=t.oxw();t.Udp("width",F.width+"px")("top",F.top+"px")("left",F.left+"px"),t.xp6(1),t.Q6J("ngForOf",F.dropDownMenuOptions.listItems)}}let ru=(()=>{class de{constructor(F,ue,Ke){this.commonService=F,this.ref=ue,this.router=Ke,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var F=this;return(0,X.Z)(function*(){yield F.commonService.delay(100),F.show=!0,F.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(F){this.clickItem.emit(F),this.router.navigateByUrl(F.path)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Uo.v),t.Y36(t.sBO),t.Y36(b.F0))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(ue,Ke){1&ue&&t.YNc(0,rf,2,7,"div",0),2&ue&&t.Q6J("ngIf",Ke.show)},dependencies:[Ie.mk,Ie.sg,Ie.O5,iu._],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return de})(),zf=(()=>{class de{constructor(F,ue,Ke){this.factoryResolver=F,this.injector=ue,this.applicationRef=Ke,this.isShowing=!1}show(F){return new Promise((ue,Ke)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Mt=this.factoryResolver.resolveComponentFactory(ru);this.componentRef=Mt.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let nn=this;const gn=F.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=F,this.componentRef.instance.left=gn.left,this.componentRef.instance.top=gn.top+gn.height,this.componentRef.instance.width=gn.width,this.componentRef.instance.clickItem.subscribe(gi=>{this.componentRef.destroy(),nn.applicationRef.detachView(this.componentRef.hostView),nn.isShowing=!1,ue(gi)}),this.componentRef.instance.hide.subscribe(gi=>{this.componentRef.destroy(),nn.applicationRef.detachView(this.componentRef.hostView),nn.isShowing=!1,Ke(!0)}),this.isShowing=!0;const Rn=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(Rn)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const Zf=["mediaServerButton"],ou=function(){return["/settings/account"]},Zd=function(de){return{selected:de}};function Td(de,Z){if(1&de&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._uU(3),t.qZA()(),t.TgZ(4,"div",7)(5,"a",8)(6,"div",9),t._UZ(7,"div",10),t.TgZ(8,"div",11),t._uU(9," Cuenta "),t.qZA()()()()()),2&de){const F=t.oxw();t.xp6(3),t.AsE(" ",F.sharedDataService.userData.FirstName," ",F.sharedDataService.userData.LastName," "),t.xp6(2),t.Q6J("routerLink",t.DdM(4,ou))("ngClass",t.VKq(5,Zd,F.isSelectedOption("/settings/account")))}}function sf(de,Z){1&de&&t._UZ(0,"i",23)}function af(de,Z){1&de&&t._UZ(0,"i",24)}function $f(de,Z){1&de&&t._UZ(0,"i",28)}function Jf(de,Z){1&de&&t._UZ(0,"i",29)}const su=function(de,Z){return{"icon-secure":de,"icon-alert":Z}};function Qf(de,Z){if(1&de&&(t.TgZ(0,"div",25),t.YNc(1,$f,1,0,"i",26),t.YNc(2,Jf,1,0,"i",27),t.qZA()),2&de){const F=t.oxw(2);t.Q6J("ngClass",t.WLB(3,su,F.selectedMediaServer.isSecureConnection,!F.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",F.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!F.selectedMediaServer.isSecureConnection)}}function lf(de,Z){1&de&&(t.TgZ(0,"div",30),t._UZ(1,"i",31),t.qZA())}function cf(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(Ke){t.CHM(F);const Mt=t.oxw();return t.KtG(Mt.togleDropDownMediaServers(Ke))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,sf,1,0,"i",19),t.YNc(7,af,1,0,"i",20),t.qZA(),t.YNc(8,Qf,3,6,"div",21),t.YNc(9,lf,2,0,"div",22),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("ngClass",t.VKq(6,Zd,F.isSelectedServerOption())),t.xp6(5),t.hij(" ",F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",F.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!F.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!F.loadingConnection),t.xp6(1),t.Q6J("ngIf",F.loadingConnection)}}const bu=function(de){return[de]};function Eu(de,Z){if(1&de&&(t.TgZ(0,"div",33)(1,"a",34)(2,"div",9),t._UZ(3,"div",10),t.TgZ(4,"div",11),t._uU(5),t.qZA()()()()),2&de){const F=Z.$implicit,ue=t.oxw(5);t.Q6J("ngClass",t.VKq(3,Zd,ue.isSelectedSidebarOption(F))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,bu,ue.getOptionPath(F))),t.xp6(4),t.hij(" ",F.name," ")}}function df(de,Z){if(1&de&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._uU(3),t.qZA()(),t.YNc(4,Eu,6,7,"ng-template",32),t.qZA()),2&de){const F=Z.$implicit;t.xp6(3),t.hij(" ",F.name," "),t.xp6(1),t.Q6J("ngForOf",F.listOptions)}}function au(de,Z){if(1&de&&t.YNc(0,df,5,2,"ng-template",32),2&de){const F=t.oxw(3);t.Q6J("ngForOf",F.serverModules)}}function $d(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"p",35),t._uU(2),t.qZA()()),2&de){const F=t.oxw(3);t.xp6(2),t.hij('No se puede conectar a "',F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName,'" desde este sitio')}}function Tu(de,Z){if(1&de&&(t.YNc(0,au,1,1,"ng-template",13),t.YNc(1,$d,3,1,"ng-template",13)),2&de){const F=t.oxw(2);t.Q6J("ngIf",!F.commonService.isHttpsSite()),t.xp6(1),t.Q6J("ngIf",F.commonService.isHttpsSite())}}function Su(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"p",35),t._uU(2),t.qZA()()),2&de){const F=t.oxw(2);t.xp6(2),t.hij('No se puede conectar a "',F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function lu(de,Z){if(1&de&&(t.YNc(0,Tu,2,2,"ng-template",13),t.YNc(1,Su,3,1,"ng-template",13)),2&de){const F=t.oxw();t.Q6J("ngIf",F.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!F.selectedMediaServer.isSecureConnection)}}function uf(de,Z){1&de&&(t.TgZ(0,"div",36),t._UZ(1,"mat-spinner"),t.qZA())}const Cu=function(){return["/settings/web/log"]};let kd=(()=>{class de{constructor(F,ue,Ke,Mt,nn,gn){this.signalIrService=F,this.dropDownServersService=ue,this.activeRoute=Ke,this.ref=Mt,this.commonService=nn,this.sharedDataService=gn,this.mediaServers=[],this.subscription=new nl.w0,this.collapseSidebar=new t.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:1,name:"Panel de Control",path:"/settings/server/{serverGuid}/status/dashboard"},{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcode"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe({next:Rn=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==Rn&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var Yn=this.mediaServers.find(gi=>gi.Guid==Rn);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0)},error:Rn=>{console.error("Ha ocurrido un error")},complete:()=>{console.info("completado")}})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Rn=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==Rn&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var Yn=this.mediaServers.find(gi=>gi.Guid==Rn);Yn&&Yn.isSecureConnection&&(Yn.isSecureConnection=!1)}))}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.firstChild&&this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var F=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,ue=this.mediaServers.find(Ke=>Ke.Guid==F);ue&&(this.selectedMediaServer=ue)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscription.unsubscribe()}getOptionPath(F){return F.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(F){F.isCollapsed=!F.isCollapsed}togleDropDownMediaServers(F){this.showMediaServerMenuOptions(F)}showMediaServerMenuOptions(F){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(ue=>{this.selectedMediaServer=ue.itemData},ue=>{})}getDropDownMenuOptions(){var F=void 0;if(this.mediaServerButton){let ue=[];this.mediaServers.forEach(Mt=>{ue.push({title:Mt.FamilyName?Mt.FamilyName:Mt.DeviceName,subtitle:Mt.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:Mt.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+Mt.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==Mt.Id,itemData:Mt})}),F={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:ue}}return F}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(F){return-1!=this.getOptionPath(F).indexOf(window.location.pathname)}isSelectedOption(F){return-1!=F.indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Mo.n),t.Y36(zf),t.Y36(b.gz),t.Y36(t.sBO),t.Y36(Uo.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-sidebar-account"]],viewQuery:function(ue,Ke){if(1&ue&&t.Gf(Zf,5),2&ue){let Mt;t.iGM(Mt=t.CRH())&&(Ke.mediaServerButton=Mt.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:17,vars:9,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container"],[3,"routerLink","ngClass"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(nn){return Ke.onClickOutsideSidebar(nn)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,Td,10,7,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7," Sinovad Web "),t.qZA()(),t.TgZ(8,"div",7)(9,"a",8)(10,"div",9),t._UZ(11,"div",10),t.TgZ(12,"div",11),t._uU(13," Hub Log "),t.qZA()()()()(),t.YNc(14,cf,10,8,"button",12),t.YNc(15,lu,2,2,"ng-template",13),t.YNc(16,uf,2,0,"ng-template",13),t.qZA()()()),2&ue&&(t.xp6(3),t.Q6J("ngIf",Ke.sharedDataService.userData),t.xp6(6),t.Q6J("routerLink",t.DdM(6,Cu))("ngClass",t.VKq(7,Zd,Ke.isSelectedOption("/settings/web/log"))),t.xp6(5),t.Q6J("ngIf",Ke.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",!Ke.loadingConnection&&Ke.selectedMediaServer&&Ke.serverModules&&Ke.serverModules.length>0),t.xp6(1),t.Q6J("ngIf",Ke.loadingConnection))},dependencies:[Ie.mk,Ie.sg,Ie.O5,iu._,_l.Ou,b.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return de})();function qf(de,Z){1&de&&t._UZ(0,"i",9)}function ff(de,Z){1&de&&t._UZ(0,"i",10)}function hf(de,Z){if(1&de&&t._UZ(0,"i"),2&de){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}const Xf=function(de){return[de]},eh=function(de){return{active:de}};function mf(de,Z){if(1&de&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,hf,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&de){const F=Z.$implicit,ue=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,Xf,F.Path))("ngClass",t.VKq(6,eh,ue.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title)}}function pf(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,mf,5,8,"ng-template",2),t.qZA()()),2&de){const F=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",F.ChildMenus)}}function cu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(Ke){const nn=t.CHM(F).$implicit,gn=t.oxw();return t.KtG(gn.onClickModule(nn,Ke))}),t.YNc(2,qf,1,0,"i",5),t.YNc(3,ff,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,pf,3,1,"div",8),t.qZA()}if(2&de){const F=Z.$implicit;t.xp6(2),t.Q6J("ngIf",F.isCollapsed),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed),t.xp6(2),t.Oqu(F.Title),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed)}}let Du=(()=>{class de{constructor(F){this.sharedDataService=F,this.collapseSidebar=new t.vpe}onClickModule(F,ue){ue.preventDefault(),ue.stopPropagation(),F.isCollapsed=!F.isCollapsed}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}isSelectedMenu(F){return-1!=F.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(nn){return Ke.onClickOutsideSidebar(nn)}),t.TgZ(1,"ul",1),t.YNc(2,cu,7,4,"ng-template",2),t.qZA()()),2&ue&&(t.xp6(2),t.Q6J("ngForOf",Ke.sharedDataService.manageMenus))},dependencies:[Ie.mk,Ie.sg,Ie.O5,iu._,b.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return de})();var md=p(3826);function th(de,Z){1&de&&t._UZ(0,"i",10)}function U(de,Z){1&de&&t._UZ(0,"i",11)}function Be(de,Z){if(1&de&&t._UZ(0,"i"),2&de){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}function w(de,Z){if(1&de&&t._UZ(0,"i"),2&de){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}const H=function(de){return[de]},ve=function(de){return{active:de}};function Tt(de,Z){if(1&de&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,w,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&de){const F=Z.$implicit,ue=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,H,F.Path))("ngClass",t.VKq(6,ve,ue.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title)}}function zt(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,Tt,5,8,"ng-template",2),t.qZA()()),2&de){const F=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",F.ChildMenus)}}function Pn(de,Z){if(1&de&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,th,1,0,"i",5),t.YNc(3,U,1,0,"i",6),t.YNc(4,Be,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,zt,3,1,"div",9),t.qZA()),2&de){const F=Z.$implicit,ue=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,H,F.Path))("ngClass",t.VKq(9,ve,ue.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",!F.IconClass&&F.isCollapsed),t.xp6(1),t.Q6J("ngIf",!F.IconClass&&!F.isCollapsed),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed)}}let Un=(()=>{class de{constructor(F,ue,Ke){this.libraryService=F,this.signalIrService=ue,this.sharedDataService=Ke,this.collapseSidebar=new t.vpe,this.subscription=new nl.w0,this.mediaMenu=[],this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Mt=>{var nn=this.mediaMenu.find(Rn=>Rn.MediaServerGuid==Mt);if(nn&&!nn.IsSecureConnection){nn.IsSecureConnection=!0;var gn=this.sharedDataService.mediaServers.find(Rn=>Rn.Guid==nn.MediaServerGuid);gn&&this.updateLibrariesInMediaServer(nn,gn)}})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Mt=>{var nn=this.mediaMenu.find(gn=>gn.MediaServerGuid==Mt);nn&&nn.IsSecureConnection&&(nn.IsSecureConnection=!1,nn.ChildMenus=[])})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(Mt=>{var nn=this.mediaMenu.find(Rn=>Rn.MediaServerGuid==Mt),gn=this.sharedDataService.mediaServers.find(Rn=>Rn.Guid==Mt);nn&&gn&&(nn.IsSecureConnection=!0,this.updateLibrariesInMediaServer(nn,gn))}))}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscription.unsubscribe()}getMediaMenu(){var F=[],ue=new md.v;ue.SortOrder=F.length+1,ue.Title="Inicio",ue.Path="/home",ue.IconClass="fa-house fa-solid",F.push(ue),this.mediaMenu=F,this.sharedDataService.mediaServers.forEach(Ke=>{var Mt=new md.v;Mt.SortOrder=this.mediaMenu.length+1,Mt.Title=null!=Ke.FamilyName&&""!=Ke.FamilyName?Ke.FamilyName:Ke.DeviceName,Mt.Path="/media/server/"+Ke.Guid,Mt.ChildMenus=[],Mt.MediaServerId=Ke.Id,Mt.MediaServerGuid=Ke.Guid,this.mediaMenu.push(Mt)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedDataService.mediaServers.forEach(F=>{var ue=this.mediaMenu.find(Ke=>Ke.MediaServerId==F.Id);F.isSecureConnection?(ue.IsSecureConnection=!0,this.updateLibrariesInMediaServer(ue,F)):(ue.IsSecureConnection=!1,ue.ChildMenus=[])})}updateLibrariesInMediaServer(F,ue){this.libraryService.getLibrariesByMediaServer(ue.Url).then(Ke=>{var Mt=[];Ke.forEach(nn=>{var gn=new md.v;gn.SortOrder=Mt.length+1,gn.Title=nn.Name,gn.Path="/media/server/"+ue.Guid+"/libraries/"+nn.Id,gn.IconClass=nn.MediaTypeCatalogDetailId==i.DD.Movie?"fa-film fa-solid":"fa-tv fa-solid",Mt.push(gn)}),F.ChildMenus=Mt})}onClickModule(F){F.isCollapsed=!F.isCollapsed}isSelectedMenu(F){return-1!=decodeURIComponent(window.location.pathname).indexOf(F.Path)}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(hl.$),t.Y36(Mo.n),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(ue,Ke){1&ue&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(nn){return Ke.onClickOutsideSidebar(nn)}),t.TgZ(1,"ul",1),t.YNc(2,Pn,8,11,"ng-template",2),t.qZA()()),2&ue&&(t.xp6(2),t.Q6J("ngForOf",Ke.mediaMenu))},dependencies:[Ie.mk,Ie.sg,Ie.O5,iu._,b.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return de})();function ei(de,Z){if(1&de&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&de){const F=t.MAs(2);t.xp6(5),t.Udp("width",F.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH)}}let ii=(()=>{class de{constructor(F,ue){this.domSanitizer=F,this.sharedDataService=ue}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(e.H7),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(ue,Ke){1&ue&&t.YNc(0,ei,8,8,"div",0),2&ue&&t.Q6J("ngIf",Ke.sharedDataService.showSplashScreen)},dependencies:[Ie.O5,Ie.Ov,pr.A],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return de})();function Mi(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-navbar",12),t.NdJ("toggleSidebar",function(){t.CHM(F);const Ke=t.oxw();return t.KtG(Ke.onClickToggleSidebarButton())}),t.qZA()}if(2&de){const F=t.oxw();t.Q6J("showingSidebarAccount",F.showingSidebarAccount)("showingSidebarAdminMode",F.showingSidebarAdminMode)}}function Ei(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-sidebar-administrator",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const Ke=t.oxw(2);return t.KtG(Ke.isCollapsedSidebar=!0)}),t.qZA()}}function ki(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-sidebar-account",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const Ke=t.oxw(2);return t.KtG(Ke.isCollapsedSidebar=!0)}),t.qZA()}}function qr(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-sidebar-media",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const Ke=t.oxw(2);return t.KtG(Ke.isCollapsedSidebar=!0)}),t.qZA()}}function Or(de,Z){if(1&de&&(t.TgZ(0,"section",13,14)(2,"div",15),t._UZ(3,"div",16),t.TgZ(4,"div",17),t.YNc(5,Ei,1,0,"app-sidebar-administrator",18),t.YNc(6,ki,1,0,"app-sidebar-account",18),t.YNc(7,qr,1,0,"app-sidebar-media",18),t.qZA()()()),2&de){const F=t.oxw();t.Udp("height","100%"),t.xp6(5),t.Q6J("ngIf",F.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",F.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",F.showingSidebarMedia)}}const er=function(de){return{locked:de}};let yr=(()=>{class de{constructor(F,ue,Ke,Mt,nn){this.commonService=F,this.deviceService=ue,this.userService=Ke,this.ref=Mt,this.sharedDataService=nn,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){var F=this.deviceService.getDeviceInfo();this.sharedDataService.deviceData=new te,this.sharedDataService.deviceData.OperatingSystem=F.os,this.sharedDataService.deviceData.DeviceType=F.deviceType,this.sharedDataService.deviceData.Browser=F.browser;const ue=window.location.search;if(""!=ue){var Ke=new URLSearchParams(ue).get("apiToken");null!=Ke&&localStorage.setItem("apiToken",Ke)}window.configurationData&&(this.sharedDataService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedDataService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let F=this;window.addEventListener("click",function(Mt){F.sharedDataService.configurationData.alwaysFullScreen&&F.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(F){this.isCollapsedSidebar=!0,this.sharedDataService.showSplashScreen=!1,(F instanceof wl||F instanceof ti.c||F instanceof Ws||F instanceof $t||F instanceof ja||F instanceof ma||F instanceof fl||F instanceof ul||F instanceof Bn.n)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(F instanceof Va||F instanceof zn.c||F instanceof ui.R||F instanceof oi.g||F instanceof va)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(F instanceof lt.H||F instanceof Pe.$||F instanceof De.i||F instanceof M.o||F instanceof k.I||F instanceof j.M||F instanceof Ai.p)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(F instanceof pt.O||F instanceof Bt.f||F instanceof cn.U||F instanceof Xt.o||F instanceof jt.C||F instanceof bn.C)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(F){}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Uo.v),t.Y36(Ic),t.Y36(f.K),t.Y36(t.sBO),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-root"]],hostBindings:function(ue,Ke){1&ue&&t.NdJ("resize",function(nn){return Ke.onResize(nn)},!1,t.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(ue,Ke){if(1&ue&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),t.YNc(5,Mi,1,2,"app-navbar",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",null,6),t.YNc(9,Or,8,5,"section",7),t.qZA(),t.TgZ(10,"section",8,9)(12,"router-outlet",10),t.NdJ("activate",function(nn){return Ke.onActivate(nn)}),t.qZA()()(),t._UZ(13,"div",null,11),t.qZA()(),t._UZ(15,"app-splash-screen")),2&ue){const Mt=t.MAs(4),nn=t.MAs(8),gn=t.MAs(14);t.xp6(5),t.Q6J("ngIf",!Ke.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(Mt.offsetHeight+gn.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(Ke.showRouterChildWithFullDimentions||Ke.commonService.isSmallDevice()&&Ke.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+nn.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,er,Ke.commonService.isSmallDevice()&&!Ke.isCollapsedSidebar))}},dependencies:[Ie.mk,Ie.O5,b.lC,Wf,kd,Du,Un,ii],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}.sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0}}"]})}return de})();var Mr=p(7102),Wo=p(4911),Gr=p(8504),so=p(2438),Eo=p(5211),Qo=p(2420);const fo=new T.y(Qo.Z);var ea=p(3168),Ua=p(4829),sc=p(9360);const wc={connector:()=>new C.x};function Ga(de,Z=wc){const{connector:F}=Z;return(0,sc.e)((ue,Ke)=>{const Mt=F();(0,Ua.Xf)(de(function Xa(de){return new T.y(Z=>de.subscribe(Z))}(Mt))).subscribe(Ke),Ke.add(ue.subscribe(Mt))})}var Oc=p(8180),id=p(9397),du=p(5177);const Sd="Service workers are disabled or not supported by this browser";class jc{constructor(Z){if(this.serviceWorker=Z,Z){const ue=(0,so.R)(Z,"controllerchange").pipe((0,ne.U)(()=>Z.controller)),Ke=(0,Wo.P)(()=>(0,I.of)(Z.controller)),Mt=(0,Eo.z)(Ke,ue);this.worker=Mt.pipe((0,Se.h)(gi=>!!gi)),this.registration=this.worker.pipe((0,z.w)(()=>Z.getRegistration()));const Yn=(0,so.R)(Z,"message").pipe((0,ne.U)(gi=>gi.data)).pipe((0,Se.h)(gi=>gi&&gi.type)).pipe(function Hl(de){return de?Z=>Ga(de)(Z):Z=>function Ca(de,Z){const F=(0,Y.m)(de)?de:()=>de;return(0,Y.m)(Z)?Ga(Z,{connector:F}):ue=>new ea.c(ue,F)}(new C.x)(Z)}());Yn.connect(),this.events=Yn}else this.worker=this.events=this.registration=function Jd(de){return(0,Wo.P)(()=>(0,Gr._)(new Error(de)))}(Sd)}postMessage(Z,F){return this.worker.pipe((0,Oc.q)(1),(0,id.b)(ue=>{ue.postMessage({action:Z,...F})})).toPromise().then(()=>{})}postMessageWithOperation(Z,F,ue){const Ke=this.waitForOperationCompleted(ue),Mt=this.postMessage(Z,F);return Promise.all([Mt,Ke]).then(([,nn])=>nn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Z){let F;return F="string"==typeof Z?ue=>ue.type===Z:ue=>Z.includes(ue.type),this.events.pipe((0,Se.h)(F))}nextEventOfType(Z){return this.eventsOfType(Z).pipe((0,Oc.q)(1))}waitForOperationCompleted(Z){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Se.h)(F=>F.nonce===Z),(0,Oc.q)(1),(0,ne.U)(F=>{if(void 0!==F.result)return F.result;throw new Error(F.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Vc=(()=>{class de{get isEnabled(){return this.sw.isEnabled}constructor(F){if(this.sw=F,this.pushManager=null,this.subscriptionChanges=new C.x,!F.isEnabled)return this.messages=fo,this.notificationClicks=fo,void(this.subscription=fo);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ne.U)(Ke=>Ke.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ne.U)(Ke=>Ke.data)),this.pushManager=this.sw.registration.pipe((0,ne.U)(Ke=>Ke.pushManager));const ue=this.pushManager.pipe((0,z.w)(Ke=>Ke.getSubscription()));this.subscription=(0,y.T)(ue,this.subscriptionChanges)}requestSubscription(F){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Sd));const ue={userVisibleOnly:!0};let Ke=this.decodeBase64(F.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Mt=new Uint8Array(new ArrayBuffer(Ke.length));for(let nn=0;nn<Ke.length;nn++)Mt[nn]=Ke.charCodeAt(nn);return ue.applicationServerKey=Mt,this.pushManager.pipe((0,z.w)(nn=>nn.subscribe(ue)),(0,Oc.q)(1)).toPromise().then(nn=>(this.subscriptionChanges.next(nn),nn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Oc.q)(1),(0,z.w)(ue=>{if(null===ue)throw new Error("Not subscribed to push notifications.");return ue.unsubscribe().then(Ke=>{if(!Ke)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Sd))}decodeBase64(F){return atob(F)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(jc))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})(),rd=(()=>{class de{get isEnabled(){return this.sw.isEnabled}constructor(F){if(this.sw=F,!F.isEnabled)return this.versionUpdates=fo,this.available=fo,this.activated=fo,void(this.unrecoverable=fo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Se.h)(ue=>"VERSION_READY"===ue.type),(0,ne.U)(ue=>({type:"UPDATE_AVAILABLE",current:ue.currentVersion,available:ue.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sd));const F=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:F},F)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sd));const F=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:F},F)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(jc))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})();const Fd=new t.OlP("NGSW_REGISTER_SCRIPT");function Bd(de,Z,F,ue){return()=>{if(!(0,Ie.NF)(ue)||!("serviceWorker"in navigator)||!1===F.enabled)return;let Ke;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof F.registrationStrategy)Ke=F.registrationStrategy();else{const[nn,...gn]=(F.registrationStrategy||"registerWhenStable:30000").split(":");switch(nn){case"registerImmediately":Ke=(0,I.of)(null);break;case"registerWithDelay":Ke=od(+gn[0]||0);break;case"registerWhenStable":Ke=gn[0]?(0,y.T)(Qd(de),od(+gn[0])):Qd(de);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${F.registrationStrategy}`)}}de.get(t.R0b).runOutsideAngular(()=>Ke.pipe((0,Oc.q)(1)).subscribe(()=>navigator.serviceWorker.register(Z,{scope:F.scope}).catch(nn=>console.error("Service worker registration failed with:",nn))))}}function od(de){return(0,I.of)(null).pipe((0,du.g)(de))}function Qd(de){return de.get(t.z2F).isStable.pipe((0,Se.h)(F=>F))}function gf(de,Z){return new jc((0,Ie.NF)(Z)&&!1!==de.enabled?navigator.serviceWorker:void 0)}class Ud{}function Mu(de,Z={}){return(0,t.MR2)([Vc,rd,{provide:Fd,useValue:de},{provide:Ud,useValue:Z},{provide:jc,useFactory:gf,deps:[Ud,t.Lbi]},{provide:t.ip1,useFactory:Bd,deps:[t.zs3,Fd,Ud,t.Lbi],multi:!0}])}let Gd=(()=>{class de{static register(F,ue={}){return{ngModule:de,providers:[Mu(F,ue)]}}static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({providers:[Vc,rd]})}return de})(),Au=(()=>{class de{static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de,bootstrap:[yr]});static#n=this.\u0275inj=t.cJS({providers:[{provide:Ie.mr,useValue:"/"}],imports:[e.b2,D.u5,Mr.m,v.JF,Yt,ge.hO.initializeApp(h_firebase),Sr,oc,Gd.register("ngsw-worker.js",{enabled:!(0,t.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]})}return de})();e.q6().bootstrapModule(Au).catch(de=>console.error(de))},4753:(Wn,et,p)=>{"use strict";et.Q=void 0;const t=p(2546),v=p(8540);et.Q=g=>g.startsWith("WEBVTT")?v.vttParser(g):t.srtParser(g)},2546:(Wn,et,p)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.srtParser=void 0;const e=p(4575),t=p(2279),b=D=>{let i,c,d,m=D.split(":");return 2===m.length?[c,d]=m:[i,c,d]=m,parseInt(d.replace(",",""),10)+60*parseInt(c,10)*1e3+60*(i?parseInt(i,10):0)*60*1e3},g=()=>({start(D){let m="ID",i={tokens:D.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==m;){const c=this[m](i);i=c.params,m=c.next}return i.result},ID(D){const{tokens:m,pos:i,current:c}=D;if(m.length<=i)return{next:"FINISH",params:D};if(t.isBlank(m[i]))return{next:"ID",params:{...D,pos:i+1}};const d=m[i].includes("--\x3e");return c.id=d?"":m[i],{next:"TIME_LINE",params:{...D,current:c,tokens:m,pos:d?i:i+1}}},TIME_LINE(D){const{tokens:m,pos:i,current:c}=D,d=m[i],[f,_]=d.split("--\x3e");return c.from=b(f),c.to=b(_),{next:"TEXT",params:{...D,current:c,pos:i+1}}},TEXT(D){const{tokens:m,pos:i,current:c}=D;return m.length<=i?{next:"FINISH",params:D}:(c.text=m[i],{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},MULTI_LINE_TEXT(D){const{tokens:m,pos:i,current:c}=D;return m.length<=i?{next:"FINISH",params:D}:t.isBlank(m[i])?{next:"FIN_ENTRY",params:D}:(c.text=`${c.text}\n${m[i]}`,{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},FIN_ENTRY(D){const{pos:m,current:i,result:c}=D;if(!e.isEntryFromPartial(i))throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);return c.push(i),{next:"ID",params:{...D,current:{},pos:m+1}}},FINISH:D=>({next:"FINISH",params:D})});et.srtParser=D=>({entries:g().start(D)})},4575:(Wn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isEntryFromPartial=void 0,et.isEntryFromPartial=e=>"string"==typeof e.id&&"number"==typeof e.from&&"number"==typeof e.to&&"string"==typeof e.text},2279:(Wn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isBlank=void 0,et.isBlank=e=>!e||/^\s*$/.test(e)},8540:(Wn,et,p)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.vttParser=void 0;const e=p(4575),t=p(2279),b=D=>{let i,c,d,m=D.split(":");return 2===m.length?[c,d]=m:[i,c,d]=m,parseInt(d.replace(".",""),10)+60*parseInt(c,10)*1e3+60*(i?parseInt(i,10):0)*60*1e3},g=()=>({start(D){let m="HEADER",i={tokens:D.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==m;){const c=this[m](i);i=c.params,m=c.next}return i.result},HEADER:D=>({next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:D.pos+1}}),ID_OR_NOTE_OR_STYLE(D){const{tokens:m,pos:i}=D;return m.length<=i?{next:"FINISH",params:D}:t.isBlank(m[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:i+1}}:m[i].toUpperCase().includes("NOTE")?{next:"NOTE",params:D}:m[i].toUpperCase().includes("STYLE")?{next:"STYLE",params:D}:{next:"ID",params:D}},STYLE(D){const{tokens:m,pos:i}=D;return t.isBlank(m[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:i+1}}:{next:"STYLE",params:{...D,pos:i+1}}},NOTE(D){const{tokens:m,pos:i}=D;return t.isBlank(m[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:i+1}}:{next:"STYLE",params:{...D,pos:i+1}}},ID(D){const{tokens:m,pos:i,current:c}=D;if(m.length<=i)return{next:"FINISH",params:D};if(t.isBlank(m[i]))return{next:"ID",params:{...D,pos:i+1}};const d=m[i].includes("--\x3e");return c.id=d?"":m[i],{next:"TIME_LINE",params:{...D,current:c,tokens:m,pos:d?i:i+1}}},TIME_LINE(D){const{tokens:m,pos:i,current:c}=D,d=m[i],[f,_]=d.split("--\x3e");return c.from=b(f),c.to=b(_),{next:"TEXT",params:{...D,current:c,pos:i+1}}},TEXT(D){const{tokens:m,pos:i,current:c}=D;return m.length<=i?{next:"FINISH",params:D}:(c.text=m[i],{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},MULTI_LINE_TEXT(D){const{tokens:m,pos:i,current:c}=D;return m.length<=i?{next:"FINISH",params:D}:t.isBlank(m[i])?{next:"FIN_ENTRY",params:D}:(c.text=`${c.text}\n${m[i]}`,{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},FIN_ENTRY(D){const{pos:m,current:i,result:c}=D;if(!e.isEntryFromPartial(i))throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);return c.push(i),{next:"ID_OR_NOTE_OR_STYLE",params:{...D,current:{},pos:m+1}}},FINISH:D=>({next:"FINISH",params:D})});et.vttParser=D=>({entries:g().start(D)})},9919:(Wn,et)=>{"use strict";et.byteLength=function D(_){var S=P(_),A=S[1];return 3*(S[0]+A)/4-A},et.toByteArray=function i(_){var S,T,x=P(_),A=x[0],N=x[1],O=new t(function m(_,S,x){return 3*(S+x)/4-x}(0,A,N)),C=0,I=N>0?A-4:A;for(T=0;T<I;T+=4)S=e[_.charCodeAt(T)]<<18|e[_.charCodeAt(T+1)]<<12|e[_.charCodeAt(T+2)]<<6|e[_.charCodeAt(T+3)],O[C++]=S>>16&255,O[C++]=S>>8&255,O[C++]=255&S;return 2===N&&(S=e[_.charCodeAt(T)]<<2|e[_.charCodeAt(T+1)]>>4,O[C++]=255&S),1===N&&(S=e[_.charCodeAt(T)]<<10|e[_.charCodeAt(T+1)]<<4|e[_.charCodeAt(T+2)]>>2,O[C++]=S>>8&255,O[C++]=255&S),O},et.fromByteArray=function f(_){for(var S,x=_.length,A=x%3,N=[],O=16383,C=0,I=x-A;C<I;C+=O)N.push(d(_,C,C+O>I?I:C+O));return 1===A?N.push(p[(S=_[x-1])>>2]+p[S<<4&63]+"=="):2===A&&N.push(p[(S=(_[x-2]<<8)+_[x-1])>>10]+p[S>>4&63]+p[S<<2&63]+"="),N.join("")};for(var p=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)p[b]=v[b],e[v.charCodeAt(b)]=b;function P(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=_.indexOf("=");return-1===x&&(x=S),[x,x===S?0:4-x%4]}function c(_){return p[_>>18&63]+p[_>>12&63]+p[_>>6&63]+p[63&_]}function d(_,S,x){for(var N=[],O=S;O<x;O+=3)N.push(c((_[O]<<16&16711680)+(_[O+1]<<8&65280)+(255&_[O+2])));return N.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},9007:(Wn,et,p)=>{"use strict";var t=p(9919),v=p(2601),b="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;et.lW=m,et.h2=50;var g=2147483647;function D(ee){if(ee>g)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var X=new Uint8Array(ee);return Object.setPrototypeOf(X,m.prototype),X}function m(ee,X,$){if("number"==typeof ee){if("string"==typeof X)throw new TypeError('The "string" argument must be of type string. Received type number');return f(ee)}return i(ee,X,$)}function i(ee,X,$){if("string"==typeof ee)return function _(ee,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!m.isEncoding(X))throw new TypeError("Unknown encoding: "+X);var $=0|I(ee,X),re=D($),J=re.write(ee,X);return J!==$&&(re=re.slice(0,J)),re}(ee,X);if(ArrayBuffer.isView(ee))return function x(ee){if(ie(ee,Uint8Array)){var X=new Uint8Array(ee);return A(X.buffer,X.byteOffset,X.byteLength)}return S(ee)}(ee);if(null==ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(ie(ee,ArrayBuffer)||ee&&ie(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(ee,SharedArrayBuffer)||ee&&ie(ee.buffer,SharedArrayBuffer)))return A(ee,X,$);if("number"==typeof ee)throw new TypeError('The "value" argument must not be of type number. Received type number');var re=ee.valueOf&&ee.valueOf();if(null!=re&&re!==ee)return m.from(re,X,$);var J=function N(ee){if(m.isBuffer(ee)){var X=0|O(ee.length),$=D(X);return 0===$.length||ee.copy($,0,0,X),$}return void 0!==ee.length?"number"!=typeof ee.length||ye(ee.length)?D(0):S(ee):"Buffer"===ee.type&&Array.isArray(ee.data)?S(ee.data):void 0}(ee);if(J)return J;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ee[Symbol.toPrimitive])return m.from(ee[Symbol.toPrimitive]("string"),X,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}function c(ee){if("number"!=typeof ee)throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function f(ee){return c(ee),D(ee<0?0:0|O(ee))}function S(ee){for(var X=ee.length<0?0:0|O(ee.length),$=D(X),re=0;re<X;re+=1)$[re]=255&ee[re];return $}function A(ee,X,$){if(X<0||ee.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<X+($||0))throw new RangeError('"length" is outside of buffer bounds');var re;return re=void 0===X&&void 0===$?new Uint8Array(ee):void 0===$?new Uint8Array(ee,X):new Uint8Array(ee,X,$),Object.setPrototypeOf(re,m.prototype),re}function O(ee){if(ee>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|ee}function I(ee,X){if(m.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||ie(ee,ArrayBuffer))return ee.byteLength;if("string"!=typeof ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);var $=ee.length,re=arguments.length>2&&!0===arguments[2];if(!re&&0===$)return 0;for(var J=!1;;)switch(X){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return ft(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return be(ee).length;default:if(J)return re?-1:ft(ee).length;X=(""+X).toLowerCase(),J=!0}}function T(ee,X,$){var re=!1;if((void 0===X||X<0)&&(X=0),X>this.length||((void 0===$||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(X>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return Ce(this,X,$);case"utf8":case"utf-8":return G(this,X,$);case"ascii":return ge(this,X,$);case"latin1":case"binary":return Ie(this,X,$);case"base64":return le(this,X,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,X,$);default:if(re)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),re=!0}}function L(ee,X,$){var re=ee[X];ee[X]=ee[$],ee[$]=re}function y(ee,X,$,re,J){if(0===ee.length)return-1;if("string"==typeof $?(re=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),ye($=+$)&&($=J?0:ee.length-1),$<0&&($=ee.length+$),$>=ee.length){if(J)return-1;$=ee.length-1}else if($<0){if(!J)return-1;$=0}if("string"==typeof X&&(X=m.from(X,re)),m.isBuffer(X))return 0===X.length?-1:B(ee,X,$,re,J);if("number"==typeof X)return X&=255,"function"==typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call(ee,X,$):Uint8Array.prototype.lastIndexOf.call(ee,X,$):B(ee,[X],$,re,J);throw new TypeError("val must be string, number or Buffer")}function B(ee,X,$,re,J){var Ge,q=1,_e=ee.length,xe=X.length;if(void 0!==re&&("ucs2"===(re=String(re).toLowerCase())||"ucs-2"===re||"utf16le"===re||"utf-16le"===re)){if(ee.length<2||X.length<2)return-1;q=2,_e/=2,xe/=2,$/=2}function Ee(gt,Qe){return 1===q?gt[Qe]:gt.readUInt16BE(Qe*q)}if(J){var ct=-1;for(Ge=$;Ge<_e;Ge++)if(Ee(ee,Ge)===Ee(X,-1===ct?0:Ge-ct)){if(-1===ct&&(ct=Ge),Ge-ct+1===xe)return ct*q}else-1!==ct&&(Ge-=Ge-ct),ct=-1}else for($+xe>_e&&($=_e-xe),Ge=$;Ge>=0;Ge--){for(var Xe=!0,tt=0;tt<xe;tt++)if(Ee(ee,Ge+tt)!==Ee(X,tt)){Xe=!1;break}if(Xe)return Ge}return-1}function z(ee,X,$,re){$=Number($)||0;var J=ee.length-$;re?(re=Number(re))>J&&(re=J):re=J;var q=X.length;re>q/2&&(re=q/2);for(var _e=0;_e<re;++_e){var xe=parseInt(X.substr(2*_e,2),16);if(ye(xe))return _e;ee[$+_e]=xe}return _e}function ne(ee,X,$,re){return Q(ft(X,ee.length-$),ee,$,re)}function ae(ee,X,$,re){return Q(function Ze(ee){for(var X=[],$=0;$<ee.length;++$)X.push(255&ee.charCodeAt($));return X}(X),ee,$,re)}function Fe(ee,X,$,re){return Q(be(X),ee,$,re)}function Y(ee,X,$,re){return Q(function Re(ee,X){for(var $,re,q=[],_e=0;_e<ee.length&&!((X-=2)<0);++_e)re=($=ee.charCodeAt(_e))>>8,q.push($%256),q.push(re);return q}(X,ee.length-$),ee,$,re)}function le(ee,X,$){return t.fromByteArray(0===X&&$===ee.length?ee:ee.slice(X,$))}function G(ee,X,$){$=Math.min(ee.length,$);for(var re=[],J=X;J<$;){var Ee,Ge,ct,Xe,q=ee[J],_e=null,xe=q>239?4:q>223?3:q>191?2:1;if(J+xe<=$)switch(xe){case 1:q<128&&(_e=q);break;case 2:128==(192&(Ee=ee[J+1]))&&(Xe=(31&q)<<6|63&Ee)>127&&(_e=Xe);break;case 3:Ge=ee[J+2],128==(192&(Ee=ee[J+1]))&&128==(192&Ge)&&(Xe=(15&q)<<12|(63&Ee)<<6|63&Ge)>2047&&(Xe<55296||Xe>57343)&&(_e=Xe);break;case 4:Ge=ee[J+2],ct=ee[J+3],128==(192&(Ee=ee[J+1]))&&128==(192&Ge)&&128==(192&ct)&&(Xe=(15&q)<<18|(63&Ee)<<12|(63&Ge)<<6|63&ct)>65535&&Xe<1114112&&(_e=Xe)}null===_e?(_e=65533,xe=1):_e>65535&&(re.push((_e-=65536)>>>10&1023|55296),_e=56320|1023&_e),re.push(_e),J+=xe}return function ce(ee){var X=ee.length;if(X<=Se)return String.fromCharCode.apply(String,ee);for(var $="",re=0;re<X;)$+=String.fromCharCode.apply(String,ee.slice(re,re+=Se));return $}(re)}!(m.TYPED_ARRAY_SUPPORT=function P(){try{var ee=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ee,X),42===ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(ee,X,$){return i(ee,X,$)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(ee,X,$){return function d(ee,X,$){return c(ee),ee<=0?D(ee):void 0!==X?"string"==typeof $?D(ee).fill(X,$):D(ee).fill(X):D(ee)}(ee,X,$)},m.allocUnsafe=function(ee){return f(ee)},m.allocUnsafeSlow=function(ee){return f(ee)},m.isBuffer=function(X){return null!=X&&!0===X._isBuffer&&X!==m.prototype},m.compare=function(X,$){if(ie(X,Uint8Array)&&(X=m.from(X,X.offset,X.byteLength)),ie($,Uint8Array)&&($=m.from($,$.offset,$.byteLength)),!m.isBuffer(X)||!m.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===$)return 0;for(var re=X.length,J=$.length,q=0,_e=Math.min(re,J);q<_e;++q)if(X[q]!==$[q]){re=X[q],J=$[q];break}return re<J?-1:J<re?1:0},m.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(X,$){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return m.alloc(0);var re;if(void 0===$)for($=0,re=0;re<X.length;++re)$+=X[re].length;var J=m.allocUnsafe($),q=0;for(re=0;re<X.length;++re){var _e=X[re];if(ie(_e,Uint8Array))q+_e.length>J.length?m.from(_e).copy(J,q):Uint8Array.prototype.set.call(J,_e,q);else{if(!m.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(J,q)}q+=_e.length}return J},m.byteLength=I,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<X;$+=2)L(this,$,$+1);return this},m.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<X;$+=4)L(this,$,$+3),L(this,$+1,$+2);return this},m.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<X;$+=8)L(this,$,$+7),L(this,$+1,$+6),L(this,$+2,$+5),L(this,$+3,$+4);return this},m.prototype.toLocaleString=m.prototype.toString=function(){var X=this.length;return 0===X?"":0===arguments.length?G(this,0,X):T.apply(this,arguments)},m.prototype.equals=function(X){if(!m.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===m.compare(this,X)},m.prototype.inspect=function(){var X="",$=et.h2;return X=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(X+=" ... "),"<Buffer "+X+">"},b&&(m.prototype[b]=m.prototype.inspect),m.prototype.compare=function(X,$,re,J,q){if(ie(X,Uint8Array)&&(X=m.from(X,X.offset,X.byteLength)),!m.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(void 0===$&&($=0),void 0===re&&(re=X?X.length:0),void 0===J&&(J=0),void 0===q&&(q=this.length),$<0||re>X.length||J<0||q>this.length)throw new RangeError("out of range index");if(J>=q&&$>=re)return 0;if(J>=q)return-1;if($>=re)return 1;if(this===X)return 0;for(var _e=(q>>>=0)-(J>>>=0),xe=(re>>>=0)-($>>>=0),Ee=Math.min(_e,xe),Ge=this.slice(J,q),ct=X.slice($,re),Xe=0;Xe<Ee;++Xe)if(Ge[Xe]!==ct[Xe]){_e=Ge[Xe],xe=ct[Xe];break}return _e<xe?-1:xe<_e?1:0},m.prototype.includes=function(X,$,re){return-1!==this.indexOf(X,$,re)},m.prototype.indexOf=function(X,$,re){return y(this,X,$,re,!0)},m.prototype.lastIndexOf=function(X,$,re){return y(this,X,$,re,!1)},m.prototype.write=function(X,$,re,J){if(void 0===$)J="utf8",re=this.length,$=0;else if(void 0===re&&"string"==typeof $)J=$,re=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(re)?(re>>>=0,void 0===J&&(J="utf8")):(J=re,re=void 0)}var q=this.length-$;if((void 0===re||re>q)&&(re=q),X.length>0&&(re<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var _e=!1;;)switch(J){case"hex":return z(this,X,$,re);case"utf8":case"utf-8":return ne(this,X,$,re);case"ascii":case"latin1":case"binary":return ae(this,X,$,re);case"base64":return Fe(this,X,$,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,X,$,re);default:if(_e)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),_e=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Se=4096;function ge(ee,X,$){var re="";$=Math.min(ee.length,$);for(var J=X;J<$;++J)re+=String.fromCharCode(127&ee[J]);return re}function Ie(ee,X,$){var re="";$=Math.min(ee.length,$);for(var J=X;J<$;++J)re+=String.fromCharCode(ee[J]);return re}function Ce(ee,X,$){var re=ee.length;(!X||X<0)&&(X=0),(!$||$<0||$>re)&&($=re);for(var J="",q=X;q<$;++q)J+=oe[ee[q]];return J}function pe(ee,X,$){for(var re=ee.slice(X,$),J="",q=0;q<re.length-1;q+=2)J+=String.fromCharCode(re[q]+256*re[q+1]);return J}function Ae(ee,X,$){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+X>$)throw new RangeError("Trying to access beyond buffer length")}function ke(ee,X,$,re,J,q){if(!m.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>J||X<q)throw new RangeError('"value" argument is out of bounds');if($+re>ee.length)throw new RangeError("Index out of range")}function he(ee,X,$,re,J,q){if($+re>ee.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function we(ee,X,$,re,J){return X=+X,$>>>=0,J||he(ee,0,$,4),v.write(ee,X,$,re,23,4),$+4}function Te(ee,X,$,re,J){return X=+X,$>>>=0,J||he(ee,0,$,8),v.write(ee,X,$,re,52,8),$+8}m.prototype.slice=function(X,$){var re=this.length;(X=~~X)<0?(X+=re)<0&&(X=0):X>re&&(X=re),($=void 0===$?re:~~$)<0?($+=re)<0&&($=0):$>re&&($=re),$<X&&($=X);var J=this.subarray(X,$);return Object.setPrototypeOf(J,m.prototype),J},m.prototype.readUintLE=m.prototype.readUIntLE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=this[X],q=1,_e=0;++_e<$&&(q*=256);)J+=this[X+_e]*q;return J},m.prototype.readUintBE=m.prototype.readUIntBE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=this[X+--$],q=1;$>0&&(q*=256);)J+=this[X+--$]*q;return J},m.prototype.readUint8=m.prototype.readUInt8=function(X,$){return X>>>=0,$||Ae(X,1,this.length),this[X]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(X,$){return X>>>=0,$||Ae(X,2,this.length),this[X]|this[X+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(X,$){return X>>>=0,$||Ae(X,2,this.length),this[X]<<8|this[X+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},m.prototype.readIntLE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=this[X],q=1,_e=0;++_e<$&&(q*=256);)J+=this[X+_e]*q;return J>=(q*=128)&&(J-=Math.pow(2,8*$)),J},m.prototype.readIntBE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=$,q=1,_e=this[X+--J];J>0&&(q*=256);)_e+=this[X+--J]*q;return _e>=(q*=128)&&(_e-=Math.pow(2,8*$)),_e},m.prototype.readInt8=function(X,$){return X>>>=0,$||Ae(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},m.prototype.readInt16LE=function(X,$){X>>>=0,$||Ae(X,2,this.length);var re=this[X]|this[X+1]<<8;return 32768&re?4294901760|re:re},m.prototype.readInt16BE=function(X,$){X>>>=0,$||Ae(X,2,this.length);var re=this[X+1]|this[X]<<8;return 32768&re?4294901760|re:re},m.prototype.readInt32LE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},m.prototype.readInt32BE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},m.prototype.readFloatLE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),v.read(this,X,!0,23,4)},m.prototype.readFloatBE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),v.read(this,X,!1,23,4)},m.prototype.readDoubleLE=function(X,$){return X>>>=0,$||Ae(X,8,this.length),v.read(this,X,!0,52,8)},m.prototype.readDoubleBE=function(X,$){return X>>>=0,$||Ae(X,8,this.length),v.read(this,X,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(X,$,re,J){X=+X,$>>>=0,re>>>=0,J||ke(this,X,$,re,Math.pow(2,8*re)-1,0);var _e=1,xe=0;for(this[$]=255&X;++xe<re&&(_e*=256);)this[$+xe]=X/_e&255;return $+re},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(X,$,re,J){X=+X,$>>>=0,re>>>=0,J||ke(this,X,$,re,Math.pow(2,8*re)-1,0);var _e=re-1,xe=1;for(this[$+_e]=255&X;--_e>=0&&(xe*=256);)this[$+_e]=X/xe&255;return $+re},m.prototype.writeUint8=m.prototype.writeUInt8=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,1,255,0),this[$]=255&X,$+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,65535,0),this[$]=255&X,this[$+1]=X>>>8,$+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,65535,0),this[$]=X>>>8,this[$+1]=255&X,$+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,4294967295,0),this[$+3]=X>>>24,this[$+2]=X>>>16,this[$+1]=X>>>8,this[$]=255&X,$+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,4294967295,0),this[$]=X>>>24,this[$+1]=X>>>16,this[$+2]=X>>>8,this[$+3]=255&X,$+4},m.prototype.writeIntLE=function(X,$,re,J){if(X=+X,$>>>=0,!J){var q=Math.pow(2,8*re-1);ke(this,X,$,re,q-1,-q)}var _e=0,xe=1,Ee=0;for(this[$]=255&X;++_e<re&&(xe*=256);)X<0&&0===Ee&&0!==this[$+_e-1]&&(Ee=1),this[$+_e]=(X/xe>>0)-Ee&255;return $+re},m.prototype.writeIntBE=function(X,$,re,J){if(X=+X,$>>>=0,!J){var q=Math.pow(2,8*re-1);ke(this,X,$,re,q-1,-q)}var _e=re-1,xe=1,Ee=0;for(this[$+_e]=255&X;--_e>=0&&(xe*=256);)X<0&&0===Ee&&0!==this[$+_e+1]&&(Ee=1),this[$+_e]=(X/xe>>0)-Ee&255;return $+re},m.prototype.writeInt8=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,1,127,-128),X<0&&(X=255+X+1),this[$]=255&X,$+1},m.prototype.writeInt16LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,32767,-32768),this[$]=255&X,this[$+1]=X>>>8,$+2},m.prototype.writeInt16BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,32767,-32768),this[$]=X>>>8,this[$+1]=255&X,$+2},m.prototype.writeInt32LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,2147483647,-2147483648),this[$]=255&X,this[$+1]=X>>>8,this[$+2]=X>>>16,this[$+3]=X>>>24,$+4},m.prototype.writeInt32BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[$]=X>>>24,this[$+1]=X>>>16,this[$+2]=X>>>8,this[$+3]=255&X,$+4},m.prototype.writeFloatLE=function(X,$,re){return we(this,X,$,!0,re)},m.prototype.writeFloatBE=function(X,$,re){return we(this,X,$,!1,re)},m.prototype.writeDoubleLE=function(X,$,re){return Te(this,X,$,!0,re)},m.prototype.writeDoubleBE=function(X,$,re){return Te(this,X,$,!1,re)},m.prototype.copy=function(X,$,re,J){if(!m.isBuffer(X))throw new TypeError("argument should be a Buffer");if(re||(re=0),!J&&0!==J&&(J=this.length),$>=X.length&&($=X.length),$||($=0),J>0&&J<re&&(J=re),J===re||0===X.length||0===this.length)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),X.length-$<J-re&&(J=X.length-$+re);var q=J-re;return this===X&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin($,re,J):Uint8Array.prototype.set.call(X,this.subarray(re,J),$),q},m.prototype.fill=function(X,$,re,J){if("string"==typeof X){if("string"==typeof $?(J=$,$=0,re=this.length):"string"==typeof re&&(J=re,re=this.length),void 0!==J&&"string"!=typeof J)throw new TypeError("encoding must be a string");if("string"==typeof J&&!m.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(1===X.length){var q=X.charCodeAt(0);("utf8"===J&&q<128||"latin1"===J)&&(X=q)}}else"number"==typeof X?X&=255:"boolean"==typeof X&&(X=Number(X));if($<0||this.length<$||this.length<re)throw new RangeError("Out of range index");if(re<=$)return this;var _e;if($>>>=0,re=void 0===re?this.length:re>>>0,X||(X=0),"number"==typeof X)for(_e=$;_e<re;++_e)this[_e]=X;else{var xe=m.isBuffer(X)?X:m.from(X,J),Ee=xe.length;if(0===Ee)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(_e=0;_e<re-$;++_e)this[_e+$]=xe[_e%Ee]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ft(ee,X){X=X||1/0;for(var $,re=ee.length,J=null,q=[],_e=0;_e<re;++_e){if(($=ee.charCodeAt(_e))>55295&&$<57344){if(!J){if($>56319){(X-=3)>-1&&q.push(239,191,189);continue}if(_e+1===re){(X-=3)>-1&&q.push(239,191,189);continue}J=$;continue}if($<56320){(X-=3)>-1&&q.push(239,191,189),J=$;continue}$=65536+(J-55296<<10|$-56320)}else J&&(X-=3)>-1&&q.push(239,191,189);if(J=null,$<128){if((X-=1)<0)break;q.push($)}else if($<2048){if((X-=2)<0)break;q.push($>>6|192,63&$|128)}else if($<65536){if((X-=3)<0)break;q.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;q.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return q}function be(ee){return t.toByteArray(function je(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee}(ee))}function Q(ee,X,$,re){for(var J=0;J<re&&!(J+$>=X.length||J>=ee.length);++J)X[J+$]=ee[J];return J}function ie(ee,X){return ee instanceof X||null!=ee&&null!=ee.constructor&&null!=ee.constructor.name&&ee.constructor.name===X.name}function ye(ee){return ee!=ee}var oe=function(){for(var ee="0123456789abcdef",X=new Array(256),$=0;$<16;++$)for(var re=16*$,J=0;J<16;++J)X[re+J]=ee[$]+ee[J];return X}()},5094:Wn=>{window,Wn.exports=function(et){var p={};function e(t){if(p[t])return p[t].exports;var v=p[t]={i:t,l:!1,exports:{}};return et[t].call(v.exports,v,v.exports,e),v.l=!0,v.exports}return e.m=et,e.c=p,e.d=function(t,v,b){e.o(t,v)||Object.defineProperty(t,v,{enumerable:!0,get:b})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,v){if(1&v&&(t=e(t)),8&v||4&v&&"object"==typeof t&&t&&t.__esModule)return t;var b=Object.create(null);if(e.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:t}),2&v&&"string"!=typeof t)for(var g in t)e.d(b,g,function(P){return t[P]}.bind(null,g));return b},e.n=function(t){var v=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(v,"a",v),v},e.o=function(t,v){return Object.prototype.hasOwnProperty.call(t,v)},e.p="/dist/",e(e.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(et,p,e){var b,g,P,D,m,t_encode=function(b){for(var g=[],P=0;P<b.length;++P){var D=b.charCodeAt(P);D<128?g.push(D):D<2048?(g.push(192|D>>6),g.push(128|63&D)):D<65536?(g.push(224|D>>12),g.push(128|63&D>>6),g.push(128|63&D)):(g.push(240|D>>18),g.push(128|63&D>>12),g.push(128|63&D>>6),g.push(128|63&D))}return g},t_decode=function(b){for(var g=[],P=0;P<b.length;){var D=b[P++];D<128||(D<224?(D=(31&D)<<6,D|=63&b[P++]):D<240?(D=(15&D)<<12,D|=(63&b[P++])<<6,D|=63&b[P++]):(D=(7&D)<<18,D|=(63&b[P++])<<12,D|=(63&b[P++])<<6,D|=63&b[P++])),g.push(String.fromCharCode(D))}return g.join("")},v={};b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=function(c){for(var d=0,f=[],_=0|c.length/3;0<_--;){var S=(c[d]<<16)+(c[d+1]<<8)+c[d+2];d+=3,f.push(b.charAt(63&S>>18)),f.push(b.charAt(63&S>>12)),f.push(b.charAt(63&S>>6)),f.push(b.charAt(63&S))}return c.length-d==2?(f.push(b.charAt(63&(S=(c[d]<<16)+(c[d+1]<<8))>>18)),f.push(b.charAt(63&S>>12)),f.push(b.charAt(63&S>>6)),f.push("=")):c.length-d==1&&(f.push(b.charAt(63&(S=c[d]<<16)>>18)),f.push(b.charAt(63&S>>12)),f.push("==")),f.join("")},P=function(){for(var i=[],c=0;c<64;++c)i[b.charCodeAt(c)]=c;return i["=".charCodeAt(0)]=0,i}(),D=function(c){for(var d=0,f=[],_=0|c.length/4;0<_--;){var S=(P[c.charCodeAt(d)]<<18)+(P[c.charCodeAt(d+1)]<<12)+(P[c.charCodeAt(d+2)]<<6)+P[c.charCodeAt(d+3)];f.push(255&S>>16),f.push(255&S>>8),f.push(255&S),d+=4}return f&&("="==c.charAt(d-2)?(f.pop(),f.pop()):"="==c.charAt(d-1)&&f.pop()),f},m={encode:function(i){for(var c=[],d=0;d<i.length;++d)c.push(i.charCodeAt(d));return c},decode:function(i){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join("")}},v.decodeArray=function(i){var c=D(i);return new Uint8Array(c)},v.encodeASCII=function(i){var c=m.encode(i);return g(c)},v.decodeASCII=function(i){var c=D(i);return m.decode(c)},v.encode=function(i){var c=t_encode(i);return g(c)},v.decode=function(i){var c=D(i);return t_decode(c)},p.decode=v.decode,p.decodeArray=v.decodeArray,p.encode=v.encode,p.encodeASCII=v.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(et,p,e){!function(t){"use strict";var v={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},b=function(y){var B=y;return v.hasOwnProperty(y)&&(B=v[y]),String.fromCharCode(B)},g=15,P=32,D={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},m={17:2,18:4,21:6,22:8,23:10,19:13,20:15},i={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(y){this.time=y},log:function(y,B){this.verboseLevel>=this.verboseFilter[y]&&console.log(this.time+" ["+y+"] "+B)}},_=function(y){for(var B=[],z=0;z<y.length;z++)B.push(y[z].toString(16));return B},S=function(y,B,z,ne,ae){this.foreground=y||"white",this.underline=B||!1,this.italics=z||!1,this.background=ne||"black",this.flash=ae||!1};S.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(y){for(var B=["foreground","underline","italics","background","flash"],z=0;z<B.length;z++){var ne=B[z];y.hasOwnProperty(ne)&&(this[ne]=y[ne])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(y){return this.foreground===y.foreground&&this.underline===y.underline&&this.italics===y.italics&&this.background===y.background&&this.flash===y.flash},copy:function(y){this.foreground=y.foreground,this.underline=y.underline,this.italics=y.italics,this.background=y.background,this.flash=y.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var x=function(y,B,z,ne,ae,Fe){this.uchar=y||" ",this.penState=new S(B,z,ne,ae,Fe)};x.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(y,B){this.uchar=y,this.penState.copy(B)},setPenState:function(y){this.penState.copy(y)},equals:function(y){return this.uchar===y.uchar&&this.penState.equals(y.penState)},copy:function(y){this.uchar=y.uchar,this.penState.copy(y.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var A=function(){this.chars=[];for(var y=0;y<P;y++)this.chars.push(new x);this.pos=0,this.currPenState=new S};A.prototype={equals:function(y){for(var B=!0,z=0;z<P;z++)if(!this.chars[z].equals(y.chars[z])){B=!1;break}return B},copy:function(y){for(var B=0;B<P;B++)this.chars[B].copy(y.chars[B])},isEmpty:function(){for(var y=!0,B=0;B<P;B++)if(!this.chars[B].isEmpty()){y=!1;break}return y},setCursor:function(y){this.pos!==y&&(this.pos=y),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>P&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=P)},moveCursor:function(y){var B=this.pos+y;if(y>1)for(var z=this.pos+1;z<B+1;z++)this.chars[z].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(y){y>=144&&this.backSpace();var B=b(y);this.pos>=P?f.log("ERROR","Cannot insert "+y.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(y){var B;for(B=y;B<P;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var y=[],B=!0,z=0;z<P;z++){var ne=this.chars[z].uchar;" "!==ne&&(B=!1),y.push(ne)}return B?"":y.join("")},setPenStyles:function(y){this.currPenState.setStyles(y),this.chars[this.pos].setPenState(this.currPenState)}};var N=function(){this.rows=[];for(var y=0;y<g;y++)this.rows.push(new A);this.currRow=14,this.nrRollUpRows=null,this.reset()};N.prototype={reset:function(){for(var y=0;y<g;y++)this.rows[y].clear();this.currRow=14},equals:function(y){for(var B=!0,z=0;z<g;z++)if(!this.rows[z].equals(y.rows[z])){B=!1;break}return B},copy:function(y){for(var B=0;B<g;B++)this.rows[B].copy(y.rows[B])},isEmpty:function(){for(var y=!0,B=0;B<g;B++)if(!this.rows[B].isEmpty()){y=!1;break}return y},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(y){this.rows[this.currRow].insertChar(y)},setPen:function(y){this.rows[this.currRow].setPenStyles(y)},moveCursor:function(y){this.rows[this.currRow].moveCursor(y)},setCursor:function(y){f.log("INFO","setCursor: "+y),this.rows[this.currRow].setCursor(y)},setPAC:function(y){f.log("INFO","pacData = "+JSON.stringify(y));var B=y.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var z=this.rows[this.currRow];if(null!==y.indent){var ae=Math.max(y.indent-1,0);z.setCursor(y.indent),y.color=z.chars[ae].penState.foreground}this.setPen({foreground:y.color,underline:y.underline,italics:y.italics,background:"black",flash:!1})},setBkgData:function(y){f.log("INFO","bkgData = "+JSON.stringify(y)),this.backSpace(),this.setPen(y),this.insertChar(32)},setRollUpRows:function(y){this.nrRollUpRows=y},rollUp:function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(y){y=y||!1;for(var B=[],z="",ae=0;ae<g;ae++){var Fe=this.rows[ae].getTextString();Fe&&B.push(y?"Row "+(ae+1)+': "'+Fe+'"':Fe.trim())}return B.length>0&&(z=y?"["+B.join(" | ")+"]":B.join("\n")),z},getTextAndFormat:function(){return this.rows}};var O=function(y,B){this.chNr=y,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new N,this.nonDisplayedMemory=new N,this.lastOutputScreen=new N,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(y){this.outputFilter=y},setPAC:function(y){this.writeScreen.setPAC(y)},setBkgData:function(y){this.writeScreen.setBkgData(y)},setMode:function(y){y!==this.mode&&(this.mode=y,f.log("INFO","MODE="+y),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=y)},insertChars:function(y){for(var B=0;B<y.length;B++)this.writeScreen.insertChar(y[B]);f.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(y){f.log("INFO","RU("+y+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(y)},cc_FON:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var y=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=y,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(y){f.log("INFO","TO("+y+") - Tab Offset"),this.writeScreen.moveCursor(y)},cc_MIDROW:function(y){var B={flash:!1};if(B.underline=y%2==1,B.italics=y>=46,B.italics)B.foreground="white";else{var z=Math.floor(y/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][z]}f.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var y=f.time;null!==y&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(y,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,y,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:y):this.cueStartTime=y,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(y){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,y,this.displayedMemory),this.cueStartTime=y))}};var C=function(y,B,z){this.field=y||1,this.outputs=[B,z],this.channels=[new O(1,B),new O(2,z)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};C.prototype={getHandler:function(y){return this.channels[y].getHandler()},setHandler:function(y,B){this.channels[y].setHandler(B)},addData:function(y,B){var z,ne,ae,Fe=!1;this.lastTime=y,f.setTime(y);for(var Y=0;Y<B.length;Y+=2)ae=127&B[Y+1],(ne=127&B[Y])>=16&&ne<=31&&ne===this.lastCmdA&&ae===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+_([ne,ae])+") is dropped")):0!==ne||0!==ae?(f.log("DATA","["+_([B[Y],B[Y+1]])+"] -> ("+_([ne,ae])+")"),(z=this.parseCmd(ne,ae))||(z=this.parseMidrow(ne,ae)),z||(z=this.parsePAC(ne,ae)),z||(z=this.parseBackgroundAttributes(ne,ae)),!z&&(Fe=this.parseChars(ne,ae))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Fe):f.log("WARNING","No channel found yet. TEXT-MODE?")),z?this.dataCounters.cmd+=2:Fe?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+_([ne,ae])+" orig: "+_([B[Y],B[Y+1]])))):this.dataCounters.padding+=2},parseCmd:function(y,B){var z;if(!((20===y||21===y||28===y||29===y)&&32<=B&&B<=47||(23===y||31===y)&&33<=B&&B<=35))return!1;var Fe=this.channels[(z=20===y||21===y||23===y?1:2)-1];return 20===y||21===y||28===y||29===y?32===B?Fe.cc_RCL():33===B?Fe.cc_BS():34===B?Fe.cc_AOF():35===B?Fe.cc_AON():36===B?Fe.cc_DER():37===B?Fe.cc_RU(2):38===B?Fe.cc_RU(3):39===B?Fe.cc_RU(4):40===B?Fe.cc_FON():41===B?Fe.cc_RDC():42===B?Fe.cc_TR():43===B?Fe.cc_RTD():44===B?Fe.cc_EDM():45===B?Fe.cc_CR():46===B?Fe.cc_ENM():47===B&&Fe.cc_EOC():Fe.cc_TO(B-32),this.lastCmdA=y,this.lastCmdB=B,this.currChNr=z,!0},parseMidrow:function(y,B){var z=null;if((17===y||25===y)&&32<=B&&B<=47){if((z=17===y?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;var ne=this.channels[z-1];return ne.insertChars([32]),ne.cc_MIDROW(B),f.log("DEBUG","MIDROW ("+_([y,B])+")"),this.lastCmdA=y,this.lastCmdB=B,!0}return!1},parsePAC:function(y,B){var z;if(!((17<=y&&y<=23||25<=y&&y<=31)&&64<=B&&B<=127||(16===y||24===y)&&64<=B&&B<=95))return!1;z=y<=23?1:2;var Y=this.interpretPAC(64<=B&&B<=95?1===z?D[y]:i[y]:1===z?m[y]:c[y],B);return this.channels[z-1].setPAC(Y),this.lastCmdA=y,this.lastCmdB=B,this.currChNr=z,!0},interpretPAC:function(y,B){var z,ne={color:null,italics:!1,indent:null,underline:!1,row:y};return ne.underline=1==(1&(z=B>95?B-96:B-64)),z<=13?ne.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(z/2)]:z<=15?(ne.italics=!0,ne.color="white"):ne.indent=4*Math.floor((z-16)/2),ne},parseChars:function(y,B){var z=null,ne=null,ae=null;if(y>=25?(z=2,ae=y-8):(z=1,ae=y),17<=ae&&ae<=19){var Y;f.log("INFO","Special char '"+b(Y=17===ae?B+80:18===ae?B+112:B+144)+"' in channel "+z),ne=[Y],this.lastCmdA=y,this.lastCmdB=B}else 32<=y&&y<=127&&(ne=0===B?[y]:[y,B],this.lastCmdA=null,this.lastCmdB=null);if(ne){var le=_(ne);f.log("DEBUG","Char codes =  "+le.join(","))}return ne},parseBackgroundAttributes:function(y,B){var z,ne;return!!((16===y||24===y)&&32<=B&&B<=47||(23===y||31===y)&&45<=B&&B<=47)&&(z={},16===y||24===y?(ne=Math.floor((B-32)/2),z.background=d[ne],B%2==1&&(z.background=z.background+"_semi")):45===B?z.background="transparent":(z.foreground="black",47===B&&(z.underline=!0)),this.channels[(y<24?1:2)-1].setBkgData(z),this.lastCmdA=y,this.lastCmdB=B,!0)},reset:function(){for(var y=0;y<this.channels.length;y++)this.channels[y]&&this.channels[y].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(y){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(y)}};t.logger=f,t.PenState=S,t.CaptionScreen=N,t.Cea608Parser=C,t.findCea608Nalus=function(y,B,z){for(var ne=0,ae=B,Y=[],le=function(Ce,pe,Ae,ke){if(4!==Ce||pe<8)return null;var he=Ae.getUint8(ke),we=Ae.getUint16(ke+1),Te=Ae.getUint32(ke+3),Oe=Ae.getUint8(ke+7);return 181==he&&49==we&&1195456820==Te&&3==Oe};ae<B+z;){if(ne=y.getUint32(ae),6==(31&y.getUint8(ae+4)))for(var G=ae+5,Se=-1;G<ae+4+ne-1;){Se=0;for(var ce=255;255===ce;)Se+=ce=y.getUint8(G),G++;var ge=0;for(ce=255;255===ce;)ge+=ce=y.getUint8(G),G++;le(Se,ge,y,G)&&Y.push([G,ge]),G+=ge}ae+=ne+4}return Y},t.extractCea608DataFromRange=function(y,B){var z=B[0],ne=[[],[]],ae=31&y.getUint8(z+=8);z+=2;for(var Fe=0;Fe<ae;Fe++){var Y=y.getUint8(z),le=4&Y,G=3&Y;z++;var Se=y.getUint8(z);z++;var ce=y.getUint8(z);z++,le&&(127&Se)+(127&ce)!=0&&(0===G?(ne[0].push(Se),ne[0].push(ce)):1===G&&(ne[1].push(Se),ne[1].push(ce)))}return ne}}(p)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p),p.default=function t(v){v=v||{},function g(){void 0===v.escapeMode&&(v.escapeMode=!0),void 0===v.attributePrefix&&(v.attributePrefix="_"),v.arrayAccessForm=v.arrayAccessForm||"none",v.emptyNodeForm=v.emptyNodeForm||"text",void 0===v.enableToStringFunc&&(v.enableToStringFunc=!0),v.arrayAccessFormPaths=v.arrayAccessFormPaths||[],void 0===v.skipEmptyTextNodesForObj&&(v.skipEmptyTextNodesForObj=!0),void 0===v.stripWhitespaces&&(v.stripWhitespaces=!0),v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[],void 0===v.useDoubleQuotes&&(v.useDoubleQuotes=!1),v.xmlElementsFilter=v.xmlElementsFilter||[],v.jsonPropertiesFilter=v.jsonPropertiesFilter||[],void 0===v.keepCData&&(v.keepCData=!1),void 0===v.ignoreRoot&&(v.ignoreRoot=!1)}();var P={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function m(le){var G=le.localName;return null==G&&(G=le.baseName),(null==G||""==G)&&(G=le.nodeName),G}function c(le){return"string"==typeof le?le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):le}function f(le,G,Se,ce){for(var ge=0;ge<le.length;ge++){var Ie=le[ge];if("string"==typeof Ie){if(Ie==ce)break}else if(Ie instanceof RegExp){if(Ie.test(ce))break}else if("function"==typeof Ie&&Ie(G,Se,ce))break}return ge!=le.length}function _(le,G,Se){"property"===v.arrayAccessForm&&(le[G+"_asArray"]=le[G]instanceof Array?le[G]:[le[G]]),!(le[G]instanceof Array)&&v.arrayAccessFormPaths.length>0&&f(v.arrayAccessFormPaths,le,G,Se)&&(le[G]=[le[G]])}function S(le){var G=le.split(/[-T:+Z]/g),Se=new Date(G[0],G[1]-1,G[2]),ce=G[5].split(".");if(Se.setHours(G[3],G[4],ce[0]),ce.length>1&&Se.setMilliseconds(ce[1]),G[6]&&G[7]){var ge=60*G[6]+Number(G[7]);ge=0+("-"==(/\d\d-\d\d:\d\d$/.test(le)?"-":"+")?-1*ge:ge),Se.setMinutes(Se.getMinutes()-ge-Se.getTimezoneOffset())}else-1!==le.indexOf("Z",le.length-1)&&(Se=new Date(Date.UTC(Se.getFullYear(),Se.getMonth(),Se.getDate(),Se.getHours(),Se.getMinutes(),Se.getSeconds(),Se.getMilliseconds())));return Se}function A(le,G,Se,ce){return!(G==P.ELEMENT_NODE&&v.xmlElementsFilter.length>0)||f(v.xmlElementsFilter,le,Se,ce)}function N(le,G){if(le.nodeType==P.DOCUMENT_NODE){for(var Se=new Object,ce=le.childNodes,ge=0;ge<ce.length;ge++)(Ie=ce[ge]).nodeType==P.ELEMENT_NODE&&(v.ignoreRoot?Se=N(Ie):(Se={})[Ce=m(Ie)]=N(Ie));return Se}if(le.nodeType==P.ELEMENT_NODE){(Se=new Object).__cnt=0;var pe=[];for(ce=le.childNodes,ge=0;ge<ce.length;ge++){var Ie,Ce=m(Ie=ce[ge]);if(Ie.nodeType!=P.COMMENT_NODE){var Ae=G+"."+Ce;if(A(Se,Ie.nodeType,Ce,Ae))if(Se.__cnt++,null==Se[Ce]){var ke=N(Ie,Ae);("#text"!=Ce||/[^\s]/.test(ke))&&((he={})[Ce]=ke,pe.push(he)),Se[Ce]=ke,_(Se,Ce,Ae)}else{var he;null!=Se[Ce]&&(Se[Ce]instanceof Array||(Se[Ce]=[Se[Ce]],_(Se,Ce,Ae))),ke=N(Ie,Ae),("#text"!=Ce||/[^\s]/.test(ke))&&((he={})[Ce]=ke,pe.push(he)),Se[Ce][Se[Ce].length]=ke}}}Se.__children=pe;for(var we=m(le),Te=0;Te<le.attributes.length;Te++){var Oe=le.attributes[Te];Se.__cnt++;for(var je=Oe.value,ft=0,Ze=v.matchers.length;ft<Ze;ft++){var Re=v.matchers[ft];Re.test(Oe,we)&&(je=Re.converter(Oe.value))}Se[v.attributePrefix+Oe.name]=je}var be=function i(le){return le.prefix}(le);return null!=be&&""!=be&&(Se.__cnt++,Se.__prefix=be),null!=Se["#text"]&&(Se.__text=Se["#text"],Se.__text instanceof Array&&(Se.__text=Se.__text.join("\n")),v.stripWhitespaces&&(Se.__text=Se.__text.trim()),delete Se["#text"],"property"==v.arrayAccessForm&&delete Se["#text_asArray"],Se.__text=function x(le,G,Se){if(v.datetimeAccessFormPaths.length>0){var ce=Se.split(".#")[0];return f(v.datetimeAccessFormPaths,le,G,ce)?S(le):le}return le}(Se.__text,Ce,G+"."+Ce)),null!=Se["#cdata-section"]&&(Se.__cdata=Se["#cdata-section"],delete Se["#cdata-section"],"property"==v.arrayAccessForm&&delete Se["#cdata-section_asArray"]),0==Se.__cnt&&"text"==v.emptyNodeForm?Se="":1==Se.__cnt&&null!=Se.__text?Se=Se.__text:1!=Se.__cnt||null==Se.__cdata||v.keepCData?Se.__cnt>1&&null!=Se.__text&&v.skipEmptyTextNodesForObj&&(v.stripWhitespaces&&""==Se.__text||""==Se.__text.trim())&&delete Se.__text:Se=Se.__cdata,delete Se.__cnt,v.enableToStringFunc&&(null!=Se.__text||null!=Se.__cdata)&&(Se.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),Se}if(le.nodeType==P.TEXT_NODE||le.nodeType==P.CDATA_SECTION_NODE)return le.nodeValue}function O(le,G,Se,ce){var ge="<"+(null!=le&&null!=le.__prefix?le.__prefix+":":"")+G;if(null!=Se)for(var Ie=0;Ie<Se.length;Ie++){var Ce=Se[Ie],pe=le[Ce];v.escapeMode&&(pe=c(pe)),ge+=" "+Ce.substr(v.attributePrefix.length)+"=",ge+=v.useDoubleQuotes?'"'+pe+'"':"'"+pe+"'"}return ge+(ce?"/>":">")}function C(le,G){return"</"+(null!=le.__prefix?le.__prefix+":":"")+G+">"}function T(le,G){return!!("property"==v.arrayAccessForm&&function I(le,G){return-1!==le.indexOf(G,le.length-G.length)}(G.toString(),"_asArray")||0==G.toString().indexOf(v.attributePrefix)||0==G.toString().indexOf("__")||le[G]instanceof Function)}function L(le){var G=0;if(le instanceof Object)for(var Se in le)T(le,Se)||G++;return G}function y(le,G,Se){return 0==v.jsonPropertiesFilter.length||""==Se||f(v.jsonPropertiesFilter,le,G,Se)}function B(le){var G=[];if(le instanceof Object)for(var Se in le)-1==Se.toString().indexOf("__")&&0==Se.toString().indexOf(v.attributePrefix)&&G.push(Se);return G}function ne(le){var G="";return le instanceof Object?G+=function z(le){var G="";return null!=le.__cdata&&(G+="<![CDATA["+le.__cdata+"]]>"),null!=le.__text&&(G+=v.escapeMode?c(le.__text):le.__text),G}(le):null!=le&&(G+=v.escapeMode?c(le):le),G}function ae(le,G){return""===le?G:le+"."+G}function Fe(le,G,Se,ce){var ge="";if(0==le.length)ge+=O(le,G,Se,!0);else for(var Ie=0;Ie<le.length;Ie++)ge+=O(le[Ie],G,B(le[Ie]),!1),ge+=Y(le[Ie],ae(ce,G)),ge+=C(le[Ie],G);return ge}function Y(le,G){var Se="";if(L(le)>0)for(var ge in le)if(!T(le,ge)&&(""==G||y(le,ge,ae(G,ge)))){var Ie=le[ge],Ce=B(Ie);null==Ie||null==Ie?Se+=O(Ie,ge,Ce,!0):Ie instanceof Object?Ie instanceof Array?Se+=Fe(Ie,ge,Ce,G):Ie instanceof Date?(Se+=O(Ie,ge,Ce,!1),Se+=Ie.toISOString(),Se+=C(Ie,ge)):L(Ie)>0||null!=Ie.__text||null!=Ie.__cdata?(Se+=O(Ie,ge,Ce,!1),Se+=Y(Ie,ae(G,ge)),Se+=C(Ie,ge)):Se+=O(Ie,ge,Ce,!0):(Se+=O(Ie,ge,Ce,!1),Se+=ne(Ie),Se+=C(Ie,ge))}return Se+ne(le)}this.parseXmlString=function(le){var Se;if(window.ActiveXObject||window,void 0===le)return null;if(window.DOMParser){var ce=new window.DOMParser;try{(Se=ce.parseFromString(le,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Se=null)}catch{Se=null}}else 0==le.indexOf("<?")&&(le=le.substr(le.indexOf("?>")+2)),(Se=new ActiveXObject("Microsoft.XMLDOM")).async="false",Se.loadXML(le);return Se},this.asArray=function(le){return void 0===le||null==le?[]:le instanceof Array?le:[le]},this.toXmlDateTime=function(le){return le instanceof Date?le.toISOString():"number"==typeof le?new Date(le).toISOString():null},this.asDateTime=function(le){return"string"==typeof le?S(le):le},this.xml2json=function(le){return N(le)},this.xml_str2json=function(le){var G=this.parseXmlString(le);return null!=G?this.xml2json(G):null},this.json2xml_str=function(le){return Y(le,"")},this.json2xml=function(le){var G=this.json2xml_str(le);return this.parseXmlString(G)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");e.d(p,"MediaPlayer",function(){return t.MediaPlayer});var v=e(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");e.d(p,"supportsMediaSource",function(){return v.supportsMediaSource});var b=e(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");e.d(p,"MetricsReporting",function(){return b.default});var g=e(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");e.d(p,"Protection",function(){return g.default});var P=e(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");e.d(p,"MediaPlayerFactory",function(){return P.default});var D=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(p,"Debug",function(){return D.default}),dashjs.Protection=g.default,dashjs.MetricsReporting=b.default,dashjs.MediaPlayerFactory=P.default,dashjs.Debug=D.default,dashjs.supportsMediaSource=v.supportsMediaSource,p.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(et,p,e){"use strict";e.r(p),function(t){var v=e(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");e.d(p,"MediaPlayer",function(){return v.default});var b=e(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");e.d(p,"FactoryMaker",function(){return b.default});var g=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(p,"Debug",function(){return g.default});var P=e(
/*! ./src/core/Version */
"./src/core/Version.js"),i=(e(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),c=i.dashjs;c||(c=i.dashjs={}),c.MediaPlayer=v.default,c.FactoryMaker=b.default,c.Debug=g.default,c.Version=Object(P.getVersionString)(),p.default=c}.call(this,e(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(et,p,e){"use strict";p.byteLength=function i(x){var A=m(x),O=A[1];return 3*(A[0]+O)/4-O},p.toByteArray=function d(x){var A,y,N=m(x),O=N[0],C=N[1],I=new b(function c(x,A,N){return 3*(A+N)/4-N}(0,O,C)),T=0,L=C>0?O-4:O;for(y=0;y<L;y+=4)A=v[x.charCodeAt(y)]<<18|v[x.charCodeAt(y+1)]<<12|v[x.charCodeAt(y+2)]<<6|v[x.charCodeAt(y+3)],I[T++]=A>>16&255,I[T++]=A>>8&255,I[T++]=255&A;return 2===C&&(A=v[x.charCodeAt(y)]<<2|v[x.charCodeAt(y+1)]>>4,I[T++]=255&A),1===C&&(A=v[x.charCodeAt(y)]<<10|v[x.charCodeAt(y+1)]<<4|v[x.charCodeAt(y+2)]>>2,I[T++]=A>>8&255,I[T++]=255&A),I},p.fromByteArray=function S(x){for(var A,N=x.length,O=N%3,C=[],I=16383,T=0,L=N-O;T<L;T+=I)C.push(_(x,T,T+I>L?L:T+I));return 1===O?C.push(t[(A=x[N-1])>>2]+t[A<<4&63]+"=="):2===O&&C.push(t[(A=(x[N-2]<<8)+x[N-1])>>10]+t[A>>4&63]+t[A<<2&63]+"="),C.join("")};for(var t=[],v=[],b=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0;P<64;++P)t[P]=g[P],v[g.charCodeAt(P)]=P;function m(x){var A=x.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=x.indexOf("=");return-1===N&&(N=A),[N,N===A?0:4-N%4]}function f(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[63&x]}function _(x,A,N){for(var C=[],I=A;I<N;I+=3)C.push(f((x[I]<<16&16711680)+(x[I+1]<<8&65280)+(255&x[I+2])));return C.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(et,p,e){"use strict";function g(D,m){return function i(c,d){for(var A,N,O,f=P(c,"tag"),_=P(d??"*","range"),S=[],x=-1;++x<_.length;)if(A=_[x].toLowerCase(),m||"*"!==A){for(N=-1,O=[];++N<f.length;)if(D(f[N].toLowerCase(),A)){if(!m)return f[N];S.push(f[N])}else O.push(f[N]);f=O}return m?S:void 0}}function P(D,m){var i=D&&"string"==typeof D?[D]:D;if(!i||"object"!=typeof i||!("length"in i))throw new Error("Invalid "+m+" `"+i+"`, expected non-empty string");return i}p.basicFilter=g(function t(D,m){return"*"===m||D===m||D.indexOf(m+"-")>-1},!0),p.extendedFilter=g(function v(D,m){var i=D.split("-"),c=m.split("-"),d=0,f=0;if("*"!==c[f]&&i[d]!==c[f])return!1;for(d++,f++;f<c.length;)if("*"!==c[f]){if(!i[d])return!1;if(i[d]!==c[f]){if(1===i[d].length)return!1;d++}else d++,f++}else f++;return!0},!0),p.lookup=g(function b(D,m){for(var c,i=m;;){if("*"===i||D===i)return!0;if((c=i.lastIndexOf("-"))<0)return!1;"-"===i.charAt(c-2)&&(c-=2),i=i.slice(0,c)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=e(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(et){et.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(et){et.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),v=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),b=e(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),g=e(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),P=e(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),D=e(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");et.exports=function d(A,N){var L,O=N||{},C=t.parse(String(A||"").toLowerCase(),O),I=t.stringify(C),T=-1;if(!I)return I;for(;++T<b.length;)v.extendedFilter(I,b[T].from).length&&(f(C,b[T].from,b[T].to),I=t.stringify(C));for(T=-1;++T<g.length;)_(C,g[T].from.field,g[T].from.value)&&S(C,g[T].to.field,g[T].to.value);for(I=t.stringify(Object.assign({},C,c)),T=-1;++T<P.length;)I===P[T]&&(f(C,P[T],P[T].split("-").slice(0,-1).join("-")),I=t.stringify(Object.assign({},C,c)));if(C.extensions.sort(x),O.warning)for(L in D)m.call(D[L],C[L])&&O.warning("Deprecated "+L+" `"+C[L]+"`, expected one of `"+D[L][C[L]].join("`, `")+"`",null,7);return C.script&&(C.script=C.script.charAt(0).toUpperCase()+C.script.slice(1)),C.region&&(C.region=C.region.toUpperCase()),t.stringify(C)};var m={}.hasOwnProperty,i=new Intl.Collator,c={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function f(A,N,O){var L,C=t.parse(N),I=t.parse(O),T=[];for(L in C)C[L]&&C[L].length&&_(A,L,C[L])&&T.push(L);for(L in I)I[L]&&I[L].length&&(T.indexOf(L)>-1||!A[L]||!A[L].length)&&S(A,L,I[L])}function _(A,N,O){var I,T,L,y,C=!1;if(O){if(T=I=A[N],I&&"object"==typeof I)for(T=[],L=-1;++L<I.length;)O.indexOf(y=I[L])<0?T.push(y):C=!0;else I===O&&(T=null,C=!0);A[N]=T}return C}function S(A,N,O){var I,T,L,C=A[N];if(C&&"object"==typeof C)for(I=[].concat(O),T=-1;++T<I.length;)C.indexOf(L=I[T])<0&&C.push(L);else A[N]=O}function x(A,N){return i.compare(A.singleton,N.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(et){et.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(et){et.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,p,e){"use strict";p.parse=e(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),p.stringify=e(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(et){et.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),v=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),b=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),g=e(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),P=e(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");et.exports=function m(c,d){var N,O,C,f=d||{},_={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},S=String(c),x=S.toLowerCase(),A=0;if(null==c)throw new Error("Expected string, got `"+c+"`");if(D.call(P,x))return(null==f.normalize||f.normalize)&&P[x]?m(P[x]):(_[-1===g.indexOf(x)?"irregular":"regular"]=S,_);for(;v(x.charCodeAt(A))&&A<9;)A++;if(A>1&&A<9){if(_.language=S.slice(0,A),A<4)for(O=0;45===x.charCodeAt(A)&&v(x.charCodeAt(A+1))&&v(x.charCodeAt(A+2))&&v(x.charCodeAt(A+3))&&!v(x.charCodeAt(A+4));){if(O>2)return I(A,3,"Too many extended language subtags, expected at most 3 subtags");_.extendedLanguageSubtags.push(S.slice(A+1,A+4)),A+=4,O++}for(45===x.charCodeAt(A)&&v(x.charCodeAt(A+1))&&v(x.charCodeAt(A+2))&&v(x.charCodeAt(A+3))&&v(x.charCodeAt(A+4))&&!v(x.charCodeAt(A+5))&&(_.script=S.slice(A+1,A+5),A+=5),45===x.charCodeAt(A)&&(v(x.charCodeAt(A+1))&&v(x.charCodeAt(A+2))&&!v(x.charCodeAt(A+3))?(_.region=S.slice(A+1,A+3),A+=3):b(x.charCodeAt(A+1))&&b(x.charCodeAt(A+2))&&b(x.charCodeAt(A+3))&&!b(x.charCodeAt(A+4))&&(_.region=S.slice(A+1,A+4),A+=4));45===x.charCodeAt(A);){for(C=N=A+1;t(x.charCodeAt(C));){if(C-N>7)return I(C,1,"Too long variant, expected at most 8 characters");C++}if(!(C-N>4||C-N>3&&b(x.charCodeAt(N))))break;_.variants.push(S.slice(N,C)),A=C}for(;45===x.charCodeAt(A)&&120!==x.charCodeAt(A+1)&&t(x.charCodeAt(A+1))&&45===x.charCodeAt(A+2)&&t(x.charCodeAt(A+3));){for(C=A+2,O=0;45===x.charCodeAt(C)&&t(x.charCodeAt(C+1))&&t(x.charCodeAt(C+2));)for(C=(N=C+1)+2,O++;t(x.charCodeAt(C));){if(C-N>7)return I(C,2,"Too long extension, expected at most 8 characters");C++}if(!O)return I(C,4,"Empty extension, extensions must have at least 2 characters of content");_.extensions.push({singleton:S.charAt(A+1),extensions:S.slice(A+3,C).split("-")}),A=C}}else A=0;if(0===A&&120===x.charCodeAt(A)||45===x.charCodeAt(A)&&120===x.charCodeAt(A+1))for(C=A=A?A+2:1;45===x.charCodeAt(C)&&t(x.charCodeAt(C+1));){for(C=N=A+1;t(x.charCodeAt(C));){if(C-N>7)return I(C,5,"Too long private-use area, expected at most 8 characters");C++}_.privateuse.push(S.slice(A+1,C)),A=C}return A!==S.length?I(A,6,"Found superfluous content after tag"):_;function I(T,L,y){return f.warning&&f.warning(y,L,T),f.forgiving?_:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var D={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(et){et.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=function t(v){var P,D,m,b=v||{},g=[];if(b.irregular||b.regular)return b.irregular||b.regular;if(b.language)for(g=g.concat(b.language,b.extendedLanguageSubtags||[],b.script||[],b.region||[],b.variants||[]),P=b.extensions||[],D=-1;++D<P.length;)(m=P[D]).singleton&&m.extensions&&m.extensions.length&&(g=g.concat(m.singleton,m.extensions));return b.privateuse&&b.privateuse.length&&(g=g.concat("x",b.privateuse)),g.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t){var v=e(
/*! base64-js */
"./node_modules/base64-js/index.js"),b=e(
/*! ieee754 */
"./node_modules/ieee754/index.js"),g=e(
/*! isarray */
"./node_modules/isarray/index.js");function D(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(re,J){if(D()<J)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(J)).__proto__=i.prototype:(null===re&&(re=new i(J)),re.length=J),re}function i(re,J,q){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(re,J,q);if("number"==typeof re){if("string"==typeof J)throw new Error("If encoding is specified then the first argument must be a string");return _(this,re)}return c(this,re,J,q)}function c(re,J,q,_e){if("number"==typeof J)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&J instanceof ArrayBuffer?function A(re,J,q,_e){if(q<0||J.byteLength<q)throw new RangeError("'offset' is out of bounds");if(J.byteLength<q+(_e||0))throw new RangeError("'length' is out of bounds");return J=void 0===q&&void 0===_e?new Uint8Array(J):void 0===_e?new Uint8Array(J,q):new Uint8Array(J,q,_e),i.TYPED_ARRAY_SUPPORT?(re=J).__proto__=i.prototype:re=x(re,J),re}(re,J,q,_e):"string"==typeof J?function S(re,J,q){if(("string"!=typeof q||""===q)&&(q="utf8"),!i.isEncoding(q))throw new TypeError('"encoding" must be a valid string encoding');var _e=0|I(J,q),xe=(re=m(re,_e)).write(J,q);return xe!==_e&&(re=re.slice(0,xe)),re}(re,J,q):function N(re,J){if(i.isBuffer(J)){var q=0|O(J.length);return 0===(re=m(re,q)).length||J.copy(re,0,0,q),re}if(J){if(typeof ArrayBuffer<"u"&&J.buffer instanceof ArrayBuffer||"length"in J)return"number"!=typeof J.length||function $(re){return re!=re}(J.length)?m(re,0):x(re,J);if("Buffer"===J.type&&g(J.data))return x(re,J.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(re,J)}function d(re){if("number"!=typeof re)throw new TypeError('"size" argument must be a number');if(re<0)throw new RangeError('"size" argument must not be negative')}function _(re,J){if(d(J),re=m(re,J<0?0:0|O(J)),!i.TYPED_ARRAY_SUPPORT)for(var q=0;q<J;++q)re[q]=0;return re}function x(re,J){var q=J.length<0?0:0|O(J.length);re=m(re,q);for(var _e=0;_e<q;_e+=1)re[_e]=255&J[_e];return re}function O(re){if(re>=D())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D().toString(16)+" bytes");return 0|re}function I(re,J){if(i.isBuffer(re))return re.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(re)||re instanceof ArrayBuffer))return re.byteLength;"string"!=typeof re&&(re=""+re);var q=re.length;if(0===q)return 0;for(var _e=!1;;)switch(J){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":case void 0:return ie(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return ee(re).length;default:if(_e)return ie(re).length;J=(""+J).toLowerCase(),_e=!0}}function T(re,J,q){var _e=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===q||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(J>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return pe(this,J,q);case"utf8":case"utf-8":return Se(this,J,q);case"ascii":return Ie(this,J,q);case"latin1":case"binary":return Ce(this,J,q);case"base64":return G(this,J,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,J,q);default:if(_e)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),_e=!0}}function L(re,J,q){var _e=re[J];re[J]=re[q],re[q]=_e}function y(re,J,q,_e,xe){if(0===re.length)return-1;if("string"==typeof q?(_e=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,isNaN(q)&&(q=xe?0:re.length-1),q<0&&(q=re.length+q),q>=re.length){if(xe)return-1;q=re.length-1}else if(q<0){if(!xe)return-1;q=0}if("string"==typeof J&&(J=i.from(J,_e)),i.isBuffer(J))return 0===J.length?-1:B(re,J,q,_e,xe);if("number"==typeof J)return J&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?xe?Uint8Array.prototype.indexOf.call(re,J,q):Uint8Array.prototype.lastIndexOf.call(re,J,q):B(re,[J],q,_e,xe);throw new TypeError("val must be string, number or Buffer")}function B(re,J,q,_e,xe){var tt,Ee=1,Ge=re.length,ct=J.length;if(void 0!==_e&&("ucs2"===(_e=String(_e).toLowerCase())||"ucs-2"===_e||"utf16le"===_e||"utf-16le"===_e)){if(re.length<2||J.length<2)return-1;Ee=2,Ge/=2,ct/=2,q/=2}function Xe(Dt,fe){return 1===Ee?Dt[fe]:Dt.readUInt16BE(fe*Ee)}if(xe){var gt=-1;for(tt=q;tt<Ge;tt++)if(Xe(re,tt)===Xe(J,-1===gt?0:tt-gt)){if(-1===gt&&(gt=tt),tt-gt+1===ct)return gt*Ee}else-1!==gt&&(tt-=tt-gt),gt=-1}else for(q+ct>Ge&&(q=Ge-ct),tt=q;tt>=0;tt--){for(var Qe=!0,yt=0;yt<ct;yt++)if(Xe(re,tt+yt)!==Xe(J,yt)){Qe=!1;break}if(Qe)return tt}return-1}function z(re,J,q,_e){q=Number(q)||0;var xe=re.length-q;_e?(_e=Number(_e))>xe&&(_e=xe):_e=xe;var Ee=J.length;if(Ee%2!=0)throw new TypeError("Invalid hex string");_e>Ee/2&&(_e=Ee/2);for(var Ge=0;Ge<_e;++Ge){var ct=parseInt(J.substr(2*Ge,2),16);if(isNaN(ct))return Ge;re[q+Ge]=ct}return Ge}function ne(re,J,q,_e){return X(ie(J,re.length-q),re,q,_e)}function ae(re,J,q,_e){return X(function ye(re){for(var J=[],q=0;q<re.length;++q)J.push(255&re.charCodeAt(q));return J}(J),re,q,_e)}function Fe(re,J,q,_e){return ae(re,J,q,_e)}function Y(re,J,q,_e){return X(ee(J),re,q,_e)}function le(re,J,q,_e){return X(function oe(re,J){for(var q,_e,Ee=[],Ge=0;Ge<re.length&&!((J-=2)<0);++Ge)_e=(q=re.charCodeAt(Ge))>>8,Ee.push(q%256),Ee.push(_e);return Ee}(J,re.length-q),re,q,_e)}function G(re,J,q){return v.fromByteArray(0===J&&q===re.length?re:re.slice(J,q))}function Se(re,J,q){q=Math.min(re.length,q);for(var _e=[],xe=J;xe<q;){var Xe,tt,gt,Qe,Ee=re[xe],Ge=null,ct=Ee>239?4:Ee>223?3:Ee>191?2:1;if(xe+ct<=q)switch(ct){case 1:Ee<128&&(Ge=Ee);break;case 2:128==(192&(Xe=re[xe+1]))&&(Qe=(31&Ee)<<6|63&Xe)>127&&(Ge=Qe);break;case 3:tt=re[xe+2],128==(192&(Xe=re[xe+1]))&&128==(192&tt)&&(Qe=(15&Ee)<<12|(63&Xe)<<6|63&tt)>2047&&(Qe<55296||Qe>57343)&&(Ge=Qe);break;case 4:tt=re[xe+2],gt=re[xe+3],128==(192&(Xe=re[xe+1]))&&128==(192&tt)&&128==(192&gt)&&(Qe=(15&Ee)<<18|(63&Xe)<<12|(63&tt)<<6|63&gt)>65535&&Qe<1114112&&(Ge=Qe)}null===Ge?(Ge=65533,ct=1):Ge>65535&&(_e.push((Ge-=65536)>>>10&1023|55296),Ge=56320|1023&Ge),_e.push(Ge),xe+=ct}return function ge(re){var J=re.length;if(J<=ce)return String.fromCharCode.apply(String,re);for(var q="",_e=0;_e<J;)q+=String.fromCharCode.apply(String,re.slice(_e,_e+=ce));return q}(_e)}p.Buffer=i,p.SlowBuffer=function C(re){return+re!=re&&(re=0),i.alloc(+re)},p.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function P(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===re.foo()&&"function"==typeof re.subarray&&0===re.subarray(1,1).byteLength}catch{return!1}}(),p.kMaxLength=D(),i.poolSize=8192,i._augment=function(re){return re.__proto__=i.prototype,re},i.from=function(re,J,q){return c(null,re,J,q)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(re,J,q){return function f(re,J,q,_e){return d(J),J<=0?m(re,J):void 0!==q?"string"==typeof _e?m(re,J).fill(q,_e):m(re,J).fill(q):m(re,J)}(null,re,J,q)},i.allocUnsafe=function(re){return _(null,re)},i.allocUnsafeSlow=function(re){return _(null,re)},i.isBuffer=function(J){return!(null==J||!J._isBuffer)},i.compare=function(J,q){if(!i.isBuffer(J)||!i.isBuffer(q))throw new TypeError("Arguments must be Buffers");if(J===q)return 0;for(var _e=J.length,xe=q.length,Ee=0,Ge=Math.min(_e,xe);Ee<Ge;++Ee)if(J[Ee]!==q[Ee]){_e=J[Ee],xe=q[Ee];break}return _e<xe?-1:xe<_e?1:0},i.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(J,q){if(!g(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return i.alloc(0);var _e;if(void 0===q)for(q=0,_e=0;_e<J.length;++_e)q+=J[_e].length;var xe=i.allocUnsafe(q),Ee=0;for(_e=0;_e<J.length;++_e){var Ge=J[_e];if(!i.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(xe,Ee),Ee+=Ge.length}return xe},i.byteLength=I,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<J;q+=2)L(this,q,q+1);return this},i.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<J;q+=4)L(this,q,q+3),L(this,q+1,q+2);return this},i.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<J;q+=8)L(this,q,q+7),L(this,q+1,q+6),L(this,q+2,q+5),L(this,q+3,q+4);return this},i.prototype.toString=function(){var J=0|this.length;return 0===J?"":0===arguments.length?Se(this,0,J):T.apply(this,arguments)},i.prototype.equals=function(J){if(!i.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===i.compare(this,J)},i.prototype.inspect=function(){var J="",q=p.INSPECT_MAX_BYTES;return this.length>0&&(J=this.toString("hex",0,q).match(/.{2}/g).join(" "),this.length>q&&(J+=" ... ")),"<Buffer "+J+">"},i.prototype.compare=function(J,q,_e,xe,Ee){if(!i.isBuffer(J))throw new TypeError("Argument must be a Buffer");if(void 0===q&&(q=0),void 0===_e&&(_e=J?J.length:0),void 0===xe&&(xe=0),void 0===Ee&&(Ee=this.length),q<0||_e>J.length||xe<0||Ee>this.length)throw new RangeError("out of range index");if(xe>=Ee&&q>=_e)return 0;if(xe>=Ee)return-1;if(q>=_e)return 1;if(this===J)return 0;for(var Ge=(Ee>>>=0)-(xe>>>=0),ct=(_e>>>=0)-(q>>>=0),Xe=Math.min(Ge,ct),tt=this.slice(xe,Ee),gt=J.slice(q,_e),Qe=0;Qe<Xe;++Qe)if(tt[Qe]!==gt[Qe]){Ge=tt[Qe],ct=gt[Qe];break}return Ge<ct?-1:ct<Ge?1:0},i.prototype.includes=function(J,q,_e){return-1!==this.indexOf(J,q,_e)},i.prototype.indexOf=function(J,q,_e){return y(this,J,q,_e,!0)},i.prototype.lastIndexOf=function(J,q,_e){return y(this,J,q,_e,!1)},i.prototype.write=function(J,q,_e,xe){if(void 0===q)xe="utf8",_e=this.length,q=0;else if(void 0===_e&&"string"==typeof q)xe=q,_e=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q|=0,isFinite(_e)?(_e|=0,void 0===xe&&(xe="utf8")):(xe=_e,_e=void 0)}var Ee=this.length-q;if((void 0===_e||_e>Ee)&&(_e=Ee),J.length>0&&(_e<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");for(var Ge=!1;;)switch(xe){case"hex":return z(this,J,q,_e);case"utf8":case"utf-8":return ne(this,J,q,_e);case"ascii":return ae(this,J,q,_e);case"latin1":case"binary":return Fe(this,J,q,_e);case"base64":return Y(this,J,q,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,J,q,_e);default:if(Ge)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),Ge=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ce=4096;function Ie(re,J,q){var _e="";q=Math.min(re.length,q);for(var xe=J;xe<q;++xe)_e+=String.fromCharCode(127&re[xe]);return _e}function Ce(re,J,q){var _e="";q=Math.min(re.length,q);for(var xe=J;xe<q;++xe)_e+=String.fromCharCode(re[xe]);return _e}function pe(re,J,q){var _e=re.length;(!J||J<0)&&(J=0),(!q||q<0||q>_e)&&(q=_e);for(var xe="",Ee=J;Ee<q;++Ee)xe+=Q(re[Ee]);return xe}function Ae(re,J,q){for(var _e=re.slice(J,q),xe="",Ee=0;Ee<_e.length;Ee+=2)xe+=String.fromCharCode(_e[Ee]+256*_e[Ee+1]);return xe}function ke(re,J,q){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+J>q)throw new RangeError("Trying to access beyond buffer length")}function he(re,J,q,_e,xe,Ee){if(!i.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>xe||J<Ee)throw new RangeError('"value" argument is out of bounds');if(q+_e>re.length)throw new RangeError("Index out of range")}function we(re,J,q,_e){J<0&&(J=65535+J+1);for(var xe=0,Ee=Math.min(re.length-q,2);xe<Ee;++xe)re[q+xe]=(J&255<<8*(_e?xe:1-xe))>>>8*(_e?xe:1-xe)}function Te(re,J,q,_e){J<0&&(J=4294967295+J+1);for(var xe=0,Ee=Math.min(re.length-q,4);xe<Ee;++xe)re[q+xe]=J>>>8*(_e?xe:3-xe)&255}function Oe(re,J,q,_e,xe,Ee){if(q+_e>re.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function je(re,J,q,_e,xe){return xe||Oe(re,0,q,4),b.write(re,J,q,_e,23,4),q+4}function ft(re,J,q,_e,xe){return xe||Oe(re,0,q,8),b.write(re,J,q,_e,52,8),q+8}i.prototype.slice=function(J,q){var xe,_e=this.length;if((J=~~J)<0?(J+=_e)<0&&(J=0):J>_e&&(J=_e),(q=void 0===q?_e:~~q)<0?(q+=_e)<0&&(q=0):q>_e&&(q=_e),q<J&&(q=J),i.TYPED_ARRAY_SUPPORT)(xe=this.subarray(J,q)).__proto__=i.prototype;else{var Ee=q-J;xe=new i(Ee,void 0);for(var Ge=0;Ge<Ee;++Ge)xe[Ge]=this[Ge+J]}return xe},i.prototype.readUIntLE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=this[J],Ee=1,Ge=0;++Ge<q&&(Ee*=256);)xe+=this[J+Ge]*Ee;return xe},i.prototype.readUIntBE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=this[J+--q],Ee=1;q>0&&(Ee*=256);)xe+=this[J+--q]*Ee;return xe},i.prototype.readUInt8=function(J,q){return q||ke(J,1,this.length),this[J]},i.prototype.readUInt16LE=function(J,q){return q||ke(J,2,this.length),this[J]|this[J+1]<<8},i.prototype.readUInt16BE=function(J,q){return q||ke(J,2,this.length),this[J]<<8|this[J+1]},i.prototype.readUInt32LE=function(J,q){return q||ke(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},i.prototype.readUInt32BE=function(J,q){return q||ke(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},i.prototype.readIntLE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=this[J],Ee=1,Ge=0;++Ge<q&&(Ee*=256);)xe+=this[J+Ge]*Ee;return xe>=(Ee*=128)&&(xe-=Math.pow(2,8*q)),xe},i.prototype.readIntBE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=q,Ee=1,Ge=this[J+--xe];xe>0&&(Ee*=256);)Ge+=this[J+--xe]*Ee;return Ge>=(Ee*=128)&&(Ge-=Math.pow(2,8*q)),Ge},i.prototype.readInt8=function(J,q){return q||ke(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},i.prototype.readInt16LE=function(J,q){q||ke(J,2,this.length);var _e=this[J]|this[J+1]<<8;return 32768&_e?4294901760|_e:_e},i.prototype.readInt16BE=function(J,q){q||ke(J,2,this.length);var _e=this[J+1]|this[J]<<8;return 32768&_e?4294901760|_e:_e},i.prototype.readInt32LE=function(J,q){return q||ke(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},i.prototype.readInt32BE=function(J,q){return q||ke(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},i.prototype.readFloatLE=function(J,q){return q||ke(J,4,this.length),b.read(this,J,!0,23,4)},i.prototype.readFloatBE=function(J,q){return q||ke(J,4,this.length),b.read(this,J,!1,23,4)},i.prototype.readDoubleLE=function(J,q){return q||ke(J,8,this.length),b.read(this,J,!0,52,8)},i.prototype.readDoubleBE=function(J,q){return q||ke(J,8,this.length),b.read(this,J,!1,52,8)},i.prototype.writeUIntLE=function(J,q,_e,xe){J=+J,q|=0,_e|=0,xe||he(this,J,q,_e,Math.pow(2,8*_e)-1,0);var Ge=1,ct=0;for(this[q]=255&J;++ct<_e&&(Ge*=256);)this[q+ct]=J/Ge&255;return q+_e},i.prototype.writeUIntBE=function(J,q,_e,xe){J=+J,q|=0,_e|=0,xe||he(this,J,q,_e,Math.pow(2,8*_e)-1,0);var Ge=_e-1,ct=1;for(this[q+Ge]=255&J;--Ge>=0&&(ct*=256);)this[q+Ge]=J/ct&255;return q+_e},i.prototype.writeUInt8=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,1,255,0),i.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),this[q]=255&J,q+1},i.prototype.writeUInt16LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8):we(this,J,q,!0),q+2},i.prototype.writeUInt16BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>8,this[q+1]=255&J):we(this,J,q,!1),q+2},i.prototype.writeUInt32LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[q+3]=J>>>24,this[q+2]=J>>>16,this[q+1]=J>>>8,this[q]=255&J):Te(this,J,q,!0),q+4},i.prototype.writeUInt32BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=255&J):Te(this,J,q,!1),q+4},i.prototype.writeIntLE=function(J,q,_e,xe){if(J=+J,q|=0,!xe){var Ee=Math.pow(2,8*_e-1);he(this,J,q,_e,Ee-1,-Ee)}var Ge=0,ct=1,Xe=0;for(this[q]=255&J;++Ge<_e&&(ct*=256);)J<0&&0===Xe&&0!==this[q+Ge-1]&&(Xe=1),this[q+Ge]=(J/ct>>0)-Xe&255;return q+_e},i.prototype.writeIntBE=function(J,q,_e,xe){if(J=+J,q|=0,!xe){var Ee=Math.pow(2,8*_e-1);he(this,J,q,_e,Ee-1,-Ee)}var Ge=_e-1,ct=1,Xe=0;for(this[q+Ge]=255&J;--Ge>=0&&(ct*=256);)J<0&&0===Xe&&0!==this[q+Ge+1]&&(Xe=1),this[q+Ge]=(J/ct>>0)-Xe&255;return q+_e},i.prototype.writeInt8=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,1,127,-128),i.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),J<0&&(J=255+J+1),this[q]=255&J,q+1},i.prototype.writeInt16LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8):we(this,J,q,!0),q+2},i.prototype.writeInt16BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>8,this[q+1]=255&J):we(this,J,q,!1),q+2},i.prototype.writeInt32LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8,this[q+2]=J>>>16,this[q+3]=J>>>24):Te(this,J,q,!0),q+4},i.prototype.writeInt32BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=255&J):Te(this,J,q,!1),q+4},i.prototype.writeFloatLE=function(J,q,_e){return je(this,J,q,!0,_e)},i.prototype.writeFloatBE=function(J,q,_e){return je(this,J,q,!1,_e)},i.prototype.writeDoubleLE=function(J,q,_e){return ft(this,J,q,!0,_e)},i.prototype.writeDoubleBE=function(J,q,_e){return ft(this,J,q,!1,_e)},i.prototype.copy=function(J,q,_e,xe){if(_e||(_e=0),!xe&&0!==xe&&(xe=this.length),q>=J.length&&(q=J.length),q||(q=0),xe>0&&xe<_e&&(xe=_e),xe===_e||0===J.length||0===this.length)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("sourceStart out of bounds");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),J.length-q<xe-_e&&(xe=J.length-q+_e);var Ge,Ee=xe-_e;if(this===J&&_e<q&&q<xe)for(Ge=Ee-1;Ge>=0;--Ge)J[Ge+q]=this[Ge+_e];else if(Ee<1e3||!i.TYPED_ARRAY_SUPPORT)for(Ge=0;Ge<Ee;++Ge)J[Ge+q]=this[Ge+_e];else Uint8Array.prototype.set.call(J,this.subarray(_e,_e+Ee),q);return Ee},i.prototype.fill=function(J,q,_e,xe){if("string"==typeof J){if("string"==typeof q?(xe=q,q=0,_e=this.length):"string"==typeof _e&&(xe=_e,_e=this.length),1===J.length){var Ee=J.charCodeAt(0);Ee<256&&(J=Ee)}if(void 0!==xe&&"string"!=typeof xe)throw new TypeError("encoding must be a string");if("string"==typeof xe&&!i.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe)}else"number"==typeof J&&(J&=255);if(q<0||this.length<q||this.length<_e)throw new RangeError("Out of range index");if(_e<=q)return this;var Ge;if(q>>>=0,_e=void 0===_e?this.length:_e>>>0,J||(J=0),"number"==typeof J)for(Ge=q;Ge<_e;++Ge)this[Ge]=J;else{var ct=i.isBuffer(J)?J:ie(new i(J,xe).toString()),Xe=ct.length;for(Ge=0;Ge<_e-q;++Ge)this[Ge+q]=ct[Ge%Xe]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function Q(re){return re<16?"0"+re.toString(16):re.toString(16)}function ie(re,J){J=J||1/0;for(var q,_e=re.length,xe=null,Ee=[],Ge=0;Ge<_e;++Ge){if((q=re.charCodeAt(Ge))>55295&&q<57344){if(!xe){if(q>56319){(J-=3)>-1&&Ee.push(239,191,189);continue}if(Ge+1===_e){(J-=3)>-1&&Ee.push(239,191,189);continue}xe=q;continue}if(q<56320){(J-=3)>-1&&Ee.push(239,191,189),xe=q;continue}q=65536+(xe-55296<<10|q-56320)}else xe&&(J-=3)>-1&&Ee.push(239,191,189);if(xe=null,q<128){if((J-=1)<0)break;Ee.push(q)}else if(q<2048){if((J-=2)<0)break;Ee.push(q>>6|192,63&q|128)}else if(q<65536){if((J-=3)<0)break;Ee.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;Ee.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return Ee}function ee(re){return v.toByteArray(function Re(re){if((re=function be(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(re).replace(Ze,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}(re))}function X(re,J,q,_e){for(var xe=0;xe<_e&&!(xe+q>=J.length||xe>=re.length);++xe)J[xe+q]=re[xe];return xe}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(et,p,e){var t={parseBuffer:function(g){return new v(g).parse()},addBoxProcessor:function(g,P){"string"!=typeof g||"function"!=typeof P||(b.prototype._boxProcessors[g]=P)},createFile:function(){return new v},createBox:function(g,P,D){var m=b.create(g);return P&&P.append(m,D),m},createFullBox:function(g,P,D){var m=t.createBox(g,P,D);return m.version=0,m.flags=0,m},Utils:{}};t.Utils.dataViewToString=function(g,P){var D=P||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(D).decode(g);var m=[],i=0;if("utf-8"===D)for(;i<g.byteLength;){var c=g.getUint8(i++);c<128||(c<224?(c=(31&c)<<6,c|=63&g.getUint8(i++)):c<240?(c=(15&c)<<12,c|=(63&g.getUint8(i++))<<6,c|=63&g.getUint8(i++)):(c=(7&c)<<18,c|=(63&g.getUint8(i++))<<12,c|=(63&g.getUint8(i++))<<6,c|=63&g.getUint8(i++))),m.push(String.fromCharCode(c))}else for(;i<g.byteLength;)m.push(String.fromCharCode(g.getUint8(i++)));return m.join("")},t.Utils.utf8ToByteArray=function(g){var P,D;if(typeof TextEncoder<"u")P=(new TextEncoder).encode(g);else for(P=[],D=0;D<g.length;++D){var m=g.charCodeAt(D);m<128?P.push(m):m<2048?(P.push(192|m>>6),P.push(128|63&m)):m<65536?(P.push(224|m>>12),P.push(128|63&m>>6),P.push(128|63&m)):(P.push(240|m>>18),P.push(128|63&m>>12),P.push(128|63&m>>6),P.push(128|63&m))}return P},t.Utils.appendBox=function(g,P,D){if(P._offset=g._cursor.offset,P._root=g._root?g._root:g,P._raw=g._raw,P._parent=g,-1!==D){if(null==D)return void g.boxes.push(P);var i,m=-1;if("number"==typeof D)m=D;else{if("string"==typeof D)i=D;else{if("object"!=typeof D||!D.type)return void g.boxes.push(P);i=D.type}for(var c=0;c<g.boxes.length;c++)if(i===g.boxes[c].type){m=c+1;break}}g.boxes.splice(m,0,P)}},p.parseBuffer=t.parseBuffer,p.addBoxProcessor=t.addBoxProcessor,p.createFile=t.createFile,p.createBox=t.createBox,p.createFullBox=t.createFullBox,p.Utils=t.Utils,t.Cursor=function(g){this.offset=typeof g>"u"?0:g};var v=function(g){this._cursor=new t.Cursor,this.boxes=[],g&&(this._raw=new DataView(g))};v.prototype.fetch=function(g){var P=this.fetchAll(g,!0);return P.length?P[0]:null},v.prototype.fetchAll=function(g,P){var D=[];return v._sweep.call(this,g,D,P),D},v.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var g=b.parse(this);if(typeof g.type>"u")break;this.boxes.push(g)}return this},v._sweep=function(g,P,D){for(var m in this.type&&this.type==g&&P.push(this),this.boxes){if(P.length&&D)return;v._sweep.call(this.boxes[m],g,P,D)}},v.prototype.write=function(){var P,g=0;for(P=0;P<this.boxes.length;P++)g+=this.boxes[P].getLength(!1);var D=new Uint8Array(g);for(this._rawo=new DataView(D.buffer),this.bytes=D,this._cursor.offset=0,P=0;P<this.boxes.length;P++)this.boxes[P].write();return D.buffer},v.prototype.append=function(g,P){t.Utils.appendBox(this,g,P)};var b=function(){this._cursor=new t.Cursor};b.parse=function(g){var P=new b;return P._offset=g._cursor.offset,P._root=g._root?g._root:g,P._raw=g._raw,P._parent=g,P._parseBox(),g._cursor.offset=P._raw.byteOffset+P._raw.byteLength,P},b.create=function(g){var P=new b;return P.type=g,P.boxes=[],P},b.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],b.prototype._boxProcessors={},b.prototype._procField=function(g,P,D){this._parsing?this[g]=this._readField(P,D):this._writeField(P,D,this[g])},b.prototype._procFieldArray=function(g,P,D,m){var i;if(this._parsing)for(this[g]=[],i=0;i<P;i++)this[g][i]=this._readField(D,m);else for(i=0;i<this[g].length;i++)this._writeField(D,m,this[g][i])},b.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},b.prototype._procEntries=function(g,P,D){var m;if(this._parsing)for(this[g]=[],m=0;m<P;m++)this[g].push({}),D.call(this,this[g][m]);else for(m=0;m<P;m++)D.call(this,this[g][m])},b.prototype._procSubEntries=function(g,P,D,m){var i;if(this._parsing)for(g[P]=[],i=0;i<D;i++)g[P].push({}),m.call(this,g[P][i]);else for(i=0;i<D;i++)m.call(this,g[P][i])},b.prototype._procEntryField=function(g,P,D,m){this._parsing?g[P]=this._readField(D,m):this._writeField(D,m,g[P])},b.prototype._procSubBoxes=function(g,P){var D;if(this._parsing)for(this[g]=[],D=0;D<P;D++)this[g].push(b.parse(this));else for(D=0;D<P;D++)this._rawo?this[g][D].write():this.size+=this[g][D].getLength()},b.prototype._readField=function(g,P){switch(g){case"uint":return this._readUint(P);case"int":return this._readInt(P);case"template":return this._readTemplate(P);case"string":return-1===P?this._readTerminatedString():this._readString(P);case"data":return this._readData(P);case"utf8":return this._readUTF8String();default:return-1}},b.prototype._readInt=function(g){var P=null,D=this._cursor.offset-this._raw.byteOffset;switch(g){case 8:P=this._raw.getInt8(D);break;case 16:P=this._raw.getInt16(D);break;case 32:P=this._raw.getInt32(D);break;case 64:var m=this._raw.getInt32(D),i=this._raw.getInt32(D+4);P=m*Math.pow(2,32)+i}return this._cursor.offset+=g>>3,P},b.prototype._readUint=function(g){var m,i,P=null,D=this._cursor.offset-this._raw.byteOffset;switch(g){case 8:P=this._raw.getUint8(D);break;case 16:P=this._raw.getUint16(D);break;case 24:P=((m=this._raw.getUint16(D))<<8)+(i=this._raw.getUint8(D+2));break;case 32:P=this._raw.getUint32(D);break;case 64:m=this._raw.getUint32(D),i=this._raw.getUint32(D+4),P=m*Math.pow(2,32)+i}return this._cursor.offset+=g>>3,P},b.prototype._readString=function(g){for(var P="",D=0;D<g;D++){var m=this._readUint(8);P+=String.fromCharCode(m)}return P},b.prototype._readTemplate=function(g){return this._readUint(g/2)+this._readUint(g/2)/Math.pow(2,g/2)},b.prototype._readTerminatedString=function(){for(var g="";this._cursor.offset-this._offset<this._raw.byteLength;){var P=this._readUint(8);if(0===P)break;g+=String.fromCharCode(P)}return g},b.prototype._readData=function(g){var P=g>0?g:this._raw.byteLength-(this._cursor.offset-this._offset);if(P>0){var D=new Uint8Array(this._raw.buffer,this._cursor.offset,P);return this._cursor.offset+=P,D}return null},b.prototype._readUTF8String=function(){var g=this._raw.byteLength-(this._cursor.offset-this._offset),P=null;return g>0&&(P=new DataView(this._raw.buffer,this._cursor.offset,g),this._cursor.offset+=g),P&&t.Utils.dataViewToString(P)},b.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},b.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},b.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(b.parse(this))},b.prototype.append=function(g,P){t.Utils.appendBox(this,g,P)},b.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var g=0;g<this.boxes.length;g++)this.size+=this.boxes[g].getLength();return this._data&&this._writeData(this._data),this.size},b.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var g=0;g<this.boxes.length;g++)this.boxes[g].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},b.prototype._writeInt=function(g,P){if(this._rawo){var D=this._cursor.offset-this._rawo.byteOffset;switch(g){case 8:this._rawo.setInt8(D,P);break;case 16:this._rawo.setInt16(D,P);break;case 32:this._rawo.setInt32(D,P);break;case 64:var m=Math.floor(P/Math.pow(2,32)),i=P-m*Math.pow(2,32);this._rawo.setUint32(D,m),this._rawo.setUint32(D+4,i)}this._cursor.offset+=g>>3}else this.size+=g>>3},b.prototype._writeUint=function(g,P){if(this._rawo){var m,i,D=this._cursor.offset-this._rawo.byteOffset;switch(g){case 8:this._rawo.setUint8(D,P);break;case 16:this._rawo.setUint16(D,P);break;case 24:i=255&P,this._rawo.setUint16(D,m=(16776960&P)>>8),this._rawo.setUint8(D+2,i);break;case 32:this._rawo.setUint32(D,P);break;case 64:i=P-(m=Math.floor(P/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(D,m),this._rawo.setUint32(D+4,i)}this._cursor.offset+=g>>3}else this.size+=g>>3},b.prototype._writeString=function(g,P){for(var D=0;D<g;D++)this._writeUint(8,P.charCodeAt(D))},b.prototype._writeTerminatedString=function(g){if(0!==g.length){for(var P=0;P<g.length;P++)this._writeUint(8,g.charCodeAt(P));this._writeUint(8,0)}},b.prototype._writeTemplate=function(g,P){var D=Math.floor(P),m=(P-D)*Math.pow(2,g/2);this._writeUint(g/2,D),this._writeUint(g/2,m)},b.prototype._writeData=function(g){if(g)if(this._rawo){if(g instanceof Array){for(var D=this._cursor.offset-this._rawo.byteOffset,P=0;P<g.length;P++)this._rawo.setInt8(D+P,g[P]);this._cursor.offset+=g.length}g instanceof Uint8Array&&(this._root.bytes.set(g,this._cursor.offset),this._cursor.offset+=g.length)}else this.size+=g.length},b.prototype._writeUTF8String=function(g){var P=t.Utils.utf8ToByteArray(g);if(this._rawo)for(var D=new DataView(this._rawo.buffer,this._cursor.offset,P.length),m=0;m<P.length;m++)D.setUint8(m,P[m]);else this.size+=P.length},b.prototype._writeField=function(g,P,D){switch(g){case"uint":this._writeUint(P,D);break;case"int":this._writeInt(P,D);break;case"template":this._writeTemplate(P,D);break;case"string":-1==P?this._writeTerminatedString(D):this._writeString(P,D);break;case"data":this._writeData(D);break;case"utf8":this._writeUTF8String(D)}},b.prototype._boxProcessors.avc1=b.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},b.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},b.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(g){this._procEntryField(g,"segment_duration","uint",1===this.version?64:32),this._procEntryField(g,"media_time","int",1===this.version?64:32),this._procEntryField(g,"media_rate_integer","int",16),this._procEntryField(g,"media_rate_fraction","int",16)})},b.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},b.prototype._boxProcessors.free=b.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},b.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},b.prototype._boxProcessors.ftyp=b.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var g=-1;this._parsing&&(g=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",g,"string",4)},b.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},b.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},b.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},b.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},b.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},b.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},b.prototype._boxProcessors.mp4a=b.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},b.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},b.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},b.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},b.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},b.prototype._boxProcessors.sdtp=function(){this._procFullBox();var g=-1;this._parsing&&(g=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",g,"uint",8)},b.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(g){this._parsing||(g.reference=(1&g.reference_type)<<31,g.reference|=2147483647&g.referenced_size,g.sap=(1&g.starts_with_SAP)<<31,g.sap|=(3&g.SAP_type)<<28,g.sap|=268435455&g.SAP_delta_time),this._procEntryField(g,"reference","uint",32),this._procEntryField(g,"subsegment_duration","uint",32),this._procEntryField(g,"sap","uint",32),this._parsing&&(g.reference_type=g.reference>>31&1,g.referenced_size=2147483647&g.reference,g.starts_with_SAP=g.sap>>31&1,g.SAP_type=g.sap>>28&7,g.SAP_delta_time=268435455&g.sap)})},b.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},b.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(g){this._procEntryField(g,"ranges_count","uint",32),this._procSubEntries(g,"ranges",g.ranges_count,function(P){this._procEntryField(P,"level","uint",8),this._procEntryField(P,"range_size","uint",24)})})},b.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},b.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(g){this._procEntryField(g,"sample_delta","uint",32),this._procEntryField(g,"subsample_count","uint",16),this._procSubEntries(g,"subsamples",g.subsample_count,function(P){this._procEntryField(P,"subsample_size","uint",1===this.version?32:16),this._procEntryField(P,"subsample_priority","uint",8),this._procEntryField(P,"discardable","uint",8),this._procEntryField(P,"codec_specific_parameters","uint",32)})})},b.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},b.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},b.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},b.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(g){this._procEntryField(g,"time","uint",1===this.version?64:32),this._procEntryField(g,"moof_offset","uint",1===this.version?64:32),this._procEntryField(g,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(g,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(g,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},b.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},b.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},b.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(g){256&this.flags&&this._procEntryField(g,"sample_duration","uint",32),512&this.flags&&this._procEntryField(g,"sample_size","uint",32),1024&this.flags&&this._procEntryField(g,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(g,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},b.prototype._boxProcessors["url "]=b.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},b.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},b.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},b.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},b.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){function A(N){return Object.prototype.toString.call(N)}p.isArray=function t(N){return Array.isArray?Array.isArray(N):"[object Array]"===A(N)},p.isBoolean=function v(N){return"boolean"==typeof N},p.isNull=function b(N){return null===N},p.isNullOrUndefined=function g(N){return null==N},p.isNumber=function P(N){return"number"==typeof N},p.isString=function D(N){return"string"==typeof N},p.isSymbol=function m(N){return"symbol"==typeof N},p.isUndefined=function i(N){return void 0===N},p.isRegExp=function c(N){return"[object RegExp]"===A(N)},p.isObject=function d(N){return"object"==typeof N&&null!==N},p.isDate=function f(N){return"[object Date]"===A(N)},p.isError=function _(N){return"[object Error]"===A(N)||N instanceof Error},p.isFunction=function S(N){return"function"==typeof N},p.isPrimitive=function x(N){return null===N||"boolean"==typeof N||"number"==typeof N||"string"==typeof N||"symbol"==typeof N||typeof N>"u"},p.isBuffer=e(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=e(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(et,p,e){(function(t,v){var g;g=function(){"use strict";function g(Ee){return"function"==typeof Ee}var D=Array.isArray?Array.isArray:function(Ee){return"[object Array]"===Object.prototype.toString.call(Ee)},m=0,i=void 0,c=void 0,d=function(Ge,ct){B[m]=Ge,B[m+1]=ct,2===(m+=2)&&(c?c(z):ae())};var S=typeof window<"u"?window:void 0,x=S||{},A=x.MutationObserver||x.WebKitMutationObserver,N=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var Ee=setTimeout;return function(){return Ee(z,1)}}var B=new Array(1e3);function z(){for(var Ee=0;Ee<m;Ee+=2)(0,B[Ee])(B[Ee+1]),B[Ee]=void 0,B[Ee+1]=void 0;m=0}var ae=void 0;function Fe(Ee,Ge){var ct=this,Xe=new this.constructor(G);void 0===Xe[le]&&ye(Xe);var tt=ct._state;if(tt){var gt=arguments[tt-1];d(function(){return Re(tt,Xe,gt,ct._result)})}else ft(ct,Xe,Ee,Ge);return Xe}function Y(Ee){if(Ee&&"object"==typeof Ee&&Ee.constructor===this)return Ee;var ct=new this(G);return we(ct,Ee),ct}ae=N?function C(){return function(){return t.nextTick(z)}}():A?function T(){var Ee=0,Ge=new A(z),ct=document.createTextNode("");return Ge.observe(ct,{characterData:!0}),function(){ct.data=Ee=++Ee%2}}():O?function L(){var Ee=new MessageChannel;return Ee.port1.onmessage=z,function(){return Ee.port2.postMessage(0)}}():void 0===S?function ne(){try{var Ee=Function("return this")().require("vertx");return i=Ee.runOnLoop||Ee.runOnContext,function I(){return typeof i<"u"?function(){i(z)}:y()}()}catch{return y()}}():y();var le=Math.random().toString(36).substring(2);function G(){}var Se=void 0,ce=1,ge=2;function he(Ee,Ge,ct){Ge.constructor===Ee.constructor&&ct===Fe&&Ge.constructor.resolve===Y?function ke(Ee,Ge){Ge._state===ce?Oe(Ee,Ge._result):Ge._state===ge?je(Ee,Ge._result):ft(Ge,void 0,function(ct){return we(Ee,ct)},function(ct){return je(Ee,ct)})}(Ee,Ge):void 0===ct?Oe(Ee,Ge):g(ct)?function Ae(Ee,Ge,ct){d(function(Xe){var tt=!1,gt=function pe(Ee,Ge,ct,Xe){try{Ee.call(Ge,ct,Xe)}catch(tt){return tt}}(ct,Ge,function(Qe){tt||(tt=!0,Ge!==Qe?we(Xe,Qe):Oe(Xe,Qe))},function(Qe){tt||(tt=!0,je(Xe,Qe))});!tt&&gt&&(tt=!0,je(Xe,gt))},Ee)}(Ee,Ge,ct):Oe(Ee,Ge)}function we(Ee,Ge){if(Ee===Ge)je(Ee,function Ie(){return new TypeError("You cannot resolve a promise with itself")}());else if(function b(Ee){var Ge=typeof Ee;return null!==Ee&&("object"===Ge||"function"===Ge)}(Ge)){var ct=void 0;try{ct=Ge.then}catch(Xe){return void je(Ee,Xe)}he(Ee,Ge,ct)}else Oe(Ee,Ge)}function Te(Ee){Ee._onerror&&Ee._onerror(Ee._result),Ze(Ee)}function Oe(Ee,Ge){Ee._state===Se&&(Ee._result=Ge,Ee._state=ce,0!==Ee._subscribers.length&&d(Ze,Ee))}function je(Ee,Ge){Ee._state===Se&&(Ee._state=ge,Ee._result=Ge,d(Te,Ee))}function ft(Ee,Ge,ct,Xe){var tt=Ee._subscribers,gt=tt.length;Ee._onerror=null,tt[gt]=Ge,tt[gt+ce]=ct,tt[gt+ge]=Xe,0===gt&&Ee._state&&d(Ze,Ee)}function Ze(Ee){var Ge=Ee._subscribers,ct=Ee._state;if(0!==Ge.length){for(var Xe=void 0,tt=void 0,gt=Ee._result,Qe=0;Qe<Ge.length;Qe+=3)tt=Ge[Qe+ct],(Xe=Ge[Qe])?Re(ct,Xe,tt,gt):tt(gt);Ee._subscribers.length=0}}function Re(Ee,Ge,ct,Xe){var tt=g(ct),gt=void 0,Qe=void 0,yt=!0;if(tt){try{gt=ct(Xe)}catch(Dt){yt=!1,Qe=Dt}if(Ge===gt)return void je(Ge,function Ce(){return new TypeError("A promises callback cannot return that same promise.")}())}else gt=Xe;Ge._state!==Se||(tt&&yt?we(Ge,gt):!1===yt?je(Ge,Qe):Ee===ce?Oe(Ge,gt):Ee===ge&&je(Ge,gt))}var Q=0;function ye(Ee){Ee[le]=Q++,Ee._state=void 0,Ee._result=void 0,Ee._subscribers=[]}var ee=function(){function Ee(Ge,ct){this._instanceConstructor=Ge,this.promise=new Ge(G),this.promise[le]||ye(this.promise),D(ct)?(this.length=ct.length,this._remaining=ct.length,this._result=new Array(this.length),0===this.length?Oe(this.promise,this._result):(this.length=this.length||0,this._enumerate(ct),0===this._remaining&&Oe(this.promise,this._result))):je(this.promise,function oe(){return new Error("Array Methods must be provided an Array")}())}return Ee.prototype._enumerate=function(ct){for(var Xe=0;this._state===Se&&Xe<ct.length;Xe++)this._eachEntry(ct[Xe],Xe)},Ee.prototype._eachEntry=function(ct,Xe){var tt=this._instanceConstructor,gt=tt.resolve;if(gt===Y){var Qe=void 0,yt=void 0,Dt=!1;try{Qe=ct.then}catch(We){Dt=!0,yt=We}if(Qe===Fe&&ct._state!==Se)this._settledAt(ct._state,Xe,ct._result);else if("function"!=typeof Qe)this._remaining--,this._result[Xe]=ct;else if(tt===_e){var fe=new tt(G);Dt?je(fe,yt):he(fe,ct,Qe),this._willSettleAt(fe,Xe)}else this._willSettleAt(new tt(function(We){return We(ct)}),Xe)}else this._willSettleAt(gt(ct),Xe)},Ee.prototype._settledAt=function(ct,Xe,tt){var gt=this.promise;gt._state===Se&&(this._remaining--,ct===ge?je(gt,tt):this._result[Xe]=tt),0===this._remaining&&Oe(gt,this._result)},Ee.prototype._willSettleAt=function(ct,Xe){var tt=this;ft(ct,void 0,function(gt){return tt._settledAt(ce,Xe,gt)},function(gt){return tt._settledAt(ge,Xe,gt)})},Ee}();var _e=function(){function Ee(Ge){this[le]=function ie(){return Q++}(),this._result=this._state=void 0,this._subscribers=[],G!==Ge&&("function"!=typeof Ge&&function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Ee?function be(Ee,Ge){try{Ge(function(Xe){we(Ee,Xe)},function(Xe){je(Ee,Xe)})}catch(ct){je(Ee,ct)}}(this,Ge):function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ee.prototype.catch=function(ct){return this.then(null,ct)},Ee.prototype.finally=function(ct){var tt=this.constructor;return g(ct)?this.then(function(gt){return tt.resolve(ct()).then(function(){return gt})},function(gt){return tt.resolve(ct()).then(function(){throw gt})}):this.then(ct,ct)},Ee}();return _e.prototype.then=Fe,_e.all=function X(Ee){return new ee(this,Ee).promise},_e.race=function $(Ee){var Ge=this;return D(Ee)?new Ge(function(ct,Xe){for(var tt=Ee.length,gt=0;gt<tt;gt++)Ge.resolve(Ee[gt]).then(ct,Xe)}):new Ge(function(ct,Xe){return Xe(new TypeError("You must pass an array to race."))})},_e.resolve=Y,_e.reject=function re(Ee){var ct=new this(G);return je(ct,Ee),ct},_e._setScheduler=function f(Ee){c=Ee},_e._setAsap=function _(Ee){d=Ee},_e._asap=d,_e.polyfill=function xe(){var Ee=void 0;if(typeof v<"u")Ee=v;else if(typeof self<"u")Ee=self;else try{Ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ge=Ee.Promise;if(Ge){var ct=null;try{ct=Object.prototype.toString.call(Ge.resolve())}catch{}if("[object Promise]"===ct&&!Ge.cast)return}Ee.Promise=_e},_e.Promise=_e,_e},et.exports=g()}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(et,p,e){"use strict";var b,t="object"==typeof Reflect?Reflect:null,v=t&&"function"==typeof t.apply?t.apply:function(y,B,z){return Function.prototype.apply.call(y,B,z)};b=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var P=Number.isNaN||function(y){return y!=y};function D(){D.init.call(this)}et.exports=D,et.exports.once=function C(L,y){return new Promise(function(B,z){function ne(Fe){L.removeListener(y,ae),z(Fe)}function ae(){"function"==typeof L.removeListener&&L.removeListener("error",ne),B([].slice.call(arguments))}T(L,y,ae,{once:!0}),"error"!==y&&function I(L,y,B){"function"==typeof L.on&&T(L,"error",y,B)}(L,ne,{once:!0})})},D.EventEmitter=D,D.prototype._events=void 0,D.prototype._eventsCount=0,D.prototype._maxListeners=void 0;var m=10;function i(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function c(L){return void 0===L._maxListeners?D.defaultMaxListeners:L._maxListeners}function d(L,y,B,z){var ne,ae,Fe;if(i(B),void 0===(ae=L._events)?(ae=L._events=Object.create(null),L._eventsCount=0):(void 0!==ae.newListener&&(L.emit("newListener",y,B.listener?B.listener:B),ae=L._events),Fe=ae[y]),void 0===Fe)Fe=ae[y]=B,++L._eventsCount;else if("function"==typeof Fe?Fe=ae[y]=z?[B,Fe]:[Fe,B]:z?Fe.unshift(B):Fe.push(B),(ne=c(L))>0&&Fe.length>ne&&!Fe.warned){Fe.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=L,Y.type=y,Y.count=Fe.length,function g(L){console&&console.warn&&console.warn(L)}(Y)}return L}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(L,y,B){var z={fired:!1,wrapFn:void 0,target:L,type:y,listener:B},ne=f.bind(z);return ne.listener=B,z.wrapFn=ne,ne}function S(L,y,B){var z=L._events;if(void 0===z)return[];var ne=z[y];return void 0===ne?[]:"function"==typeof ne?B?[ne.listener||ne]:[ne]:B?function O(L){for(var y=new Array(L.length),B=0;B<y.length;++B)y[B]=L[B].listener||L[B];return y}(ne):A(ne,ne.length)}function x(L){var y=this._events;if(void 0!==y){var B=y[L];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function A(L,y){for(var B=new Array(y),z=0;z<y;++z)B[z]=L[z];return B}function T(L,y,B,z){if("function"==typeof L.on)z.once?L.once(y,B):L.on(y,B);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(y,function ne(ae){z.once&&L.removeEventListener(y,ne),B(ae)})}}Object.defineProperty(D,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(L){if("number"!=typeof L||L<0||P(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");m=L}}),D.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},D.prototype.setMaxListeners=function(y){if("number"!=typeof y||y<0||P(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},D.prototype.getMaxListeners=function(){return c(this)},D.prototype.emit=function(y){for(var B=[],z=1;z<arguments.length;z++)B.push(arguments[z]);var ne="error"===y,ae=this._events;if(void 0!==ae)ne=ne&&void 0===ae.error;else if(!ne)return!1;if(ne){var Fe;if(B.length>0&&(Fe=B[0]),Fe instanceof Error)throw Fe;var Y=new Error("Unhandled error."+(Fe?" ("+Fe.message+")":""));throw Y.context=Fe,Y}var le=ae[y];if(void 0===le)return!1;if("function"==typeof le)v(le,this,B);else{var G=le.length,Se=A(le,G);for(z=0;z<G;++z)v(Se[z],this,B)}return!0},D.prototype.on=D.prototype.addListener=function(y,B){return d(this,y,B,!1)},D.prototype.prependListener=function(y,B){return d(this,y,B,!0)},D.prototype.once=function(y,B){return i(B),this.on(y,_(this,y,B)),this},D.prototype.prependOnceListener=function(y,B){return i(B),this.prependListener(y,_(this,y,B)),this},D.prototype.off=D.prototype.removeListener=function(y,B){var z,ne,ae,Fe,Y;if(i(B),void 0===(ne=this._events))return this;if(void 0===(z=ne[y]))return this;if(z===B||z.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete ne[y],ne.removeListener&&this.emit("removeListener",y,z.listener||B));else if("function"!=typeof z){for(ae=-1,Fe=z.length-1;Fe>=0;Fe--)if(z[Fe]===B||z[Fe].listener===B){Y=z[Fe].listener,ae=Fe;break}if(ae<0)return this;0===ae?z.shift():function N(L,y){for(;y+1<L.length;y++)L[y]=L[y+1];L.pop()}(z,ae),1===z.length&&(ne[y]=z[0]),void 0!==ne.removeListener&&this.emit("removeListener",y,Y||B)}return this},D.prototype.removeAllListeners=function(y){var B,z,ne;if(void 0===(z=this._events))return this;if(void 0===z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==z[y]&&(0==--this._eventsCount?this._events=Object.create(null):delete z[y]),this;if(0===arguments.length){var Fe,ae=Object.keys(z);for(ne=0;ne<ae.length;++ne)"removeListener"!==(Fe=ae[ne])&&this.removeAllListeners(Fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=z[y]))this.removeListener(y,B);else if(void 0!==B)for(ne=B.length-1;ne>=0;ne--)this.removeListener(y,B[ne]);return this},D.prototype.listeners=function(y){return S(this,y,!0)},D.prototype.rawListeners=function(y){return S(this,y,!1)},D.listenerCount=function(L,y){return"function"==typeof L.listenerCount?L.listenerCount(y):x.call(L,y)},D.prototype.listenerCount=x,D.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=Array.isArray,v=Object.keys,b=Object.prototype.hasOwnProperty;et.exports=function g(P,D){if(P===D)return!0;if(P&&D&&"object"==typeof P&&"object"==typeof D){var c,d,f,m=t(P),i=t(D);if(m&&i){if((d=P.length)!=D.length)return!1;for(c=d;0!=c--;)if(!g(P[c],D[c]))return!1;return!0}if(m!=i)return!1;var _=P instanceof Date,S=D instanceof Date;if(_!=S)return!1;if(_&&S)return P.getTime()==D.getTime();var x=P instanceof RegExp,A=D instanceof RegExp;if(x!=A)return!1;if(x&&A)return P.toString()==D.toString();var N=v(P);if((d=N.length)!==v(D).length)return!1;for(c=d;0!=c--;)if(!b.call(D,N[c]))return!1;for(c=d;0!=c--;)if(!g(P[f=N[c]],D[f]))return!1;return!0}return P!=P&&D!=D}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,p){p.read=function(e,t,v,b,g){var P,D,m=8*g-b-1,i=(1<<m)-1,c=i>>1,d=-7,f=v?g-1:0,_=v?-1:1,S=e[t+f];for(f+=_,P=S&(1<<-d)-1,S>>=-d,d+=m;d>0;P=256*P+e[t+f],f+=_,d-=8);for(D=P&(1<<-d)-1,P>>=-d,d+=b;d>0;D=256*D+e[t+f],f+=_,d-=8);if(0===P)P=1-c;else{if(P===i)return D?NaN:1/0*(S?-1:1);D+=Math.pow(2,b),P-=c}return(S?-1:1)*D*Math.pow(2,P-b)},p.write=function(e,t,v,b,g,P){var D,m,i,c=8*P-g-1,d=(1<<c)-1,f=d>>1,_=23===g?Math.pow(2,-24)-Math.pow(2,-77):0,S=b?0:P-1,x=b?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,D=d):(D=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-D))<1&&(D--,i*=2),(t+=D+f>=1?_/i:_*Math.pow(2,1-f))*i>=2&&(D++,i/=2),D+f>=d?(m=0,D=d):D+f>=1?(m=(t*i-1)*Math.pow(2,g),D+=f):(m=t*Math.pow(2,f-1)*Math.pow(2,g),D=0));g>=8;e[v+S]=255&m,S+=x,m/=256,g-=8);for(D=D<<g|m,c+=g;c>0;e[v+S]=255&D,S+=x,D/=256,c-=8);e[v+S-x]|=128*A}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b,g,P){function D(oe){if("contents"in oe)for(var ee=("styleAttrs"in oe?oe.styleAttrs[g.byName.ruby.qname]:null),X="span"===oe.kind&&("container"===ee||"textContainer"===ee||"baseContainer"===ee),$=oe.contents.length-1;$>=0;$--)!X||"styleAttrs"in oe.contents[$]&&g.byName.ruby.qname in oe.contents[$].styleAttrs?D(oe.contents[$]):delete oe.contents[$]}function m(oe,ee,X,$){var re=$&&"seq"===$.timeContainer,J=0;$&&(J=re&&X?X.end:$.begin),ee.begin=ee.explicit_begin?ee.explicit_begin+J:J;var q=ee.begin,_e=null;if("sets"in ee)for(var xe=0;xe<ee.sets.length;xe++)m(oe,ee.sets[xe],_e,ee),q="seq"===ee.timeContainer?ee.sets[xe].end:Math.max(q,ee.sets[xe].end),_e=ee.sets[xe];if("contents"in ee){if("contents"in ee)for(var Ee=0;Ee<ee.contents.length;Ee++)m(oe,ee.contents[Ee],_e,ee),q="seq"===ee.timeContainer?ee.contents[Ee].end:Math.max(q,ee.contents[Ee].end),_e=ee.contents[Ee]}else q=re?ee.begin:Number.POSITIVE_INFINITY;ee.end=null!==ee.explicit_end&&null!==ee.explicit_dur?Math.min(ee.begin+ee.explicit_dur,J+ee.explicit_end):null===ee.explicit_end&&null!==ee.explicit_dur?ee.begin+ee.explicit_dur:null!==ee.explicit_end&&null===ee.explicit_dur?J+ee.explicit_end:q,delete ee.explicit_begin,delete ee.explicit_dur,delete ee.explicit_end,oe._registerEvent(ee)}function i(oe){this.node=oe}function c(){this.events=[],this.head=new d,this.body=null}function d(){this.styling=new f,this.layout=new x}function f(){this.styles={},this.initials={}}function _(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function S(){this.styleAttrs=null}function x(){this.regions={}}function A(oe,ee){N.call(this,"image"),this.src=oe,this.type=ee}function N(oe){this.kind=oe}function O(oe){this.id=oe}function C(oe){this.regionID=oe}function I(oe){this.styleAttrs=oe}function T(oe){this.sets=oe}function L(oe){this.contents=oe}function y(oe,ee,X){this.explicit_begin=oe,this.explicit_end=ee,this.explicit_dur=X}function B(){N.call(this,"body")}function z(){N.call(this,"div")}function ne(){N.call(this,"p")}function ae(){N.call(this,"span")}function Fe(){N.call(this,"span")}function Y(){N.call(this,"br")}function le(){}function G(){}function Se(oe){return oe&&"xml:id"in oe.attributes&&oe.attributes["xml:id"].value||null}function Ie(oe){return oe&&"style"in oe.attributes?oe.attributes.style.value.split(" "):[]}function Ce(oe,ee){var X={};if(null!==oe)for(var $ in oe.attributes){var re=oe.attributes[$].uri+" "+oe.attributes[$].local,J=g.byQName[re];if(void 0!==J){var q=J.parse(oe.attributes[$].value);null!==q?(X[re]=q,J===g.byName.zIndex&&be(ee,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Q(ee,"Cannot parse styling attribute "+re+" --\x3e "+oe.attributes[$].value)}}return X}function pe(oe,ee,X){for(var $ in oe.attributes)if(oe.attributes[$].uri===ee&&oe.attributes[$].local===X)return oe.attributes[$].value;return null}function Te(oe,ee,X){var ct,Xe=null;return null!==(ct=/^(\d+(?:\.\d+)?)f$/.exec(X))?null!==ee&&(Xe=parseFloat(ct[1])/ee):null!==(ct=/^(\d+(?:\.\d+)?)t$/.exec(X))?null!==oe&&(Xe=parseFloat(ct[1])/oe):null!==(ct=/^(\d+(?:\.\d+)?)ms$/.exec(X))?Xe=parseFloat(ct[1])/1e3:null!==(ct=/^(\d+(?:\.\d+)?)s$/.exec(X))?Xe=parseFloat(ct[1]):null!==(ct=/^(\d+(?:\.\d+)?)h$/.exec(X))?Xe=3600*parseFloat(ct[1]):null!==(ct=/^(\d+(?:\.\d+)?)m$/.exec(X))?Xe=60*parseFloat(ct[1]):null!==(ct=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(X))?Xe=3600*parseInt(ct[1])+60*parseInt(ct[2])+parseFloat(ct[3]):null!==(ct=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(X))&&null!==ee&&(Xe=3600*parseInt(ct[1])+60*parseInt(ct[2])+parseInt(ct[3])+(null===ct[4]?0:parseInt(ct[4])/ee)),Xe}function je(oe,ee,X){for(;ee.styleRefs.length>0;){var $=ee.styleRefs.pop();$ in oe.styles?(je(oe,oe.styles[$],X),Ze(oe.styles[$].styleAttrs,ee.styleAttrs)):Q(X,"Non-existant style id referenced")}}function ft(oe,ee,X,$){for(var re=ee.length-1;re>=0;re--){var J=ee[re];J in oe.styles?Ze(oe.styles[J].styleAttrs,X):Q($,"Non-existant style id referenced")}}function Ze(oe,ee){for(var X in oe)oe.hasOwnProperty(X)&&(X in ee||(ee[X]=oe[X]))}function be(oe,ee){if(oe&&oe.warn&&oe.warn(ee))throw ee}function Q(oe,ee){if(oe&&oe.error&&oe.error(ee))throw ee}function ie(oe,ee){throw oe&&oe.fatal&&oe.fatal(ee),ee}function ye(oe,ee){for(var re,X=0,$=oe.length-1;X<=$;){var J=oe[re=Math.floor((X+$)/2)];if(J<ee)X=re+1;else{if(!(J>ee))return{found:!0,index:re};$=re-1}}return{found:!1,index:X}}t.fromXML=function(oe,ee,X){var $=v.parser(!0,{xmlns:!0}),re=[],J=[],q=[],_e=0,xe=null;$.onclosetag=function(tt){if(re[0]instanceof le)null!==xe.head&&null!==xe.head.styling&&ft(xe.head.styling,re[0].styleRefs,re[0].styleAttrs,ee),delete re[0].styleRefs;else if(re[0]instanceof f)for(var gt in re[0].styles)re[0].styles.hasOwnProperty(gt)&&je(re[0],re[0].styles[gt],ee);else if(re[0]instanceof ne||re[0]instanceof ae){if(re[0].contents.length>1){var yt,Qe=[re[0].contents[0]];for(yt=1;yt<re[0].contents.length;yt++)re[0].contents[yt]instanceof Fe&&Qe[Qe.length-1]instanceof Fe?Qe[Qe.length-1].text+=re[0].contents[yt].text:Qe.push(re[0].contents[yt]);re[0].contents=Qe}re[0]instanceof ae&&1===re[0].contents.length&&re[0].contents[0]instanceof Fe&&(re[0].text=re[0].contents[0].text,delete re[0].contents)}else re[0]instanceof i&&(re[0].node.uri===b.ns_tt&&"metadata"===re[0].node.local?_e--:_e>0&&X&&"onCloseTag"in X&&X.onCloseTag());q.shift(),J.shift(),re.shift()},$.ontext=function(tt){if(void 0!==re[0])if(re[0]instanceof ae||re[0]instanceof ne){if(re[0]instanceof ae){var gt=re[0].styleAttrs[g.byName.ruby.qname];if("container"===gt||"textContainer"===gt||"baseContainer"===gt)return}var Qe=new Fe;Qe.initFromText(xe,re[0],tt,J[0],q[0],ee),re[0].contents.push(Qe)}else re[0]instanceof i&&_e>0&&X&&"onText"in X&&X.onText(tt)},$.onopentag=function(tt){var gt=tt.attributes["xml:space"];q.unshift(gt?gt.value:0===q.length?"default":q[0]);var Qe=tt.attributes["xml:lang"];if(J.unshift(Qe?Qe.value:0===J.length?"":J[0]),tt.uri===b.ns_tt)if("tt"===tt.local)null!==xe&&ie(ee,"Two <tt> elements at ("+this.line+","+this.column+")"),(xe=new c).initFromNode(tt,J[0],ee),re.unshift(xe);else if("head"===tt.local)re[0]instanceof c||ie(ee,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),re.unshift(xe.head);else if("styling"===tt.local)re[0]instanceof d||ie(ee,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),re.unshift(xe.head.styling);else if("style"===tt.local){var yt;re[0]instanceof f?((yt=new _).initFromNode(tt,ee),yt.id?xe.head.styling.styles[yt.id]=yt:Q(ee,"<style> element missing @id attribute"),re.unshift(yt)):re[0]instanceof le?((yt=new _).initFromNode(tt,ee),Ze(yt.styleAttrs,re[0].styleAttrs),re.unshift(yt)):ie(ee,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===tt.local){var Dt;if(re[0]instanceof f){for(var fe in(Dt=new S).initFromNode(tt,ee),Dt.styleAttrs)Dt.styleAttrs.hasOwnProperty(fe)&&(xe.head.styling.initials[fe]=Dt.styleAttrs[fe]);re.unshift(Dt)}else ie(ee,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===tt.local)re[0]instanceof d||ie(ee,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),re.unshift(xe.head.layout);else if("region"===tt.local){re[0]instanceof x||ie(ee,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var We=new le;We.initFromNode(xe,tt,J[0],ee),!We.id||We.id in xe.head.layout.regions?Q(ee,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):xe.head.layout.regions[We.id]=We,re.unshift(We)}else if("body"===tt.local){re[0]instanceof c||ie(ee,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==xe.body&&ie(ee,"Second <body> element at "+this.line+","+this.column+")");var Et=new B;Et.initFromNode(xe,tt,J[0],ee),xe.body=Et,re.unshift(Et)}else if("div"===tt.local){re[0]instanceof z||re[0]instanceof B||ie(ee,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Wt=new z;Wt.initFromNode(xe,re[0],tt,J[0],ee);var Qt=Wt.styleAttrs[g.byName.backgroundImage.qname];Qt&&(Wt.contents.push(new A(Qt)),delete Wt.styleAttrs[g.byName.backgroundImage.qname]),re[0].contents.push(Wt),re.unshift(Wt)}else if("image"===tt.local){re[0]instanceof z||ie(ee,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var qt=new A;qt.initFromNode(xe,re[0],tt,J[0],ee),re[0].contents.push(qt),re.unshift(qt)}else if("p"===tt.local){re[0]instanceof z||ie(ee,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var un=new ne;un.initFromNode(xe,re[0],tt,J[0],ee),re[0].contents.push(un),re.unshift(un)}else if("span"===tt.local){re[0]instanceof ae||re[0]instanceof ne||ie(ee,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var fn=new ae;fn.initFromNode(xe,re[0],tt,J[0],q[0],ee),re[0].contents.push(fn),re.unshift(fn)}else if("br"===tt.local){re[0]instanceof ae||re[0]instanceof ne||ie(ee,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var wt=new Y;wt.initFromNode(xe,re[0],tt,J[0],ee),re[0].contents.push(wt),re.unshift(wt)}else if("set"===tt.local){re[0]instanceof ae||re[0]instanceof ne||re[0]instanceof z||re[0]instanceof B||re[0]instanceof le||re[0]instanceof Y||ie(ee,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var vt=new G;vt.initFromNode(xe,re[0],tt,ee),re[0].sets.push(vt),re.unshift(vt)}else re.unshift(new i(tt));else re.unshift(new i(tt));if(re[0]instanceof i)if(tt.uri===b.ns_tt&&"metadata"===tt.local)_e++;else if(_e>0&&X&&"onOpenTag"in X){var it=[];for(var He in tt.attributes)it[tt.attributes[He].uri+" "+tt.attributes[He].local]={uri:tt.attributes[He].uri,local:tt.attributes[He].local,value:tt.attributes[He].value};X.onOpenTag(tt.uri,tt.local,it)}},$.write(oe).close(),delete xe.head.styling.styles;var Ee=!1;for(var Ge in xe.head.layout.regions)if(xe.head.layout.regions.hasOwnProperty(Ge)){Ee=!0;break}if(!Ee){var ct=le.prototype.createDefaultRegion(xe.lang);xe.head.layout.regions[ct.id]=ct}for(var Xe in xe.head.layout.regions)xe.head.layout.regions.hasOwnProperty(Xe)&&m(xe,xe.head.layout.regions[Xe],null,null);return xe.body&&m(xe,xe.body,null,null),xe.body&&D(xe.body),xe},c.prototype.initFromNode=function(oe,ee,X){var $=function ke(oe,ee){var X=pe(oe,b.ns_ttp,"cellResolution"),$=15,re=32;if(null!==X){var q=/(\d+) (\d+)/.exec(X);null!==q?(re=parseInt(q[1]),$=parseInt(q[2])):be(ee,"Malformed cellResolution value (using initial value instead)")}return{w:re,h:$}}(oe,X);this.cellLength={h:new P.ComputedLength(0,1/$.h),w:new P.ComputedLength(1/$.w,0)};var re=function he(oe,ee){var re,X=pe(oe,b.ns_ttp,"frameRate"),$=30;null!==X&&(null!==(re=/(\d+)/.exec(X))?$=parseInt(re[1]):be(ee,"Malformed frame rate attribute (using initial value instead)"));var q=pe(oe,b.ns_ttp,"frameRateMultiplier"),_e=1;null!==q&&(null!==(re=/(\d+) (\d+)/.exec(q))?_e=parseInt(re[1])/parseInt(re[2]):be(ee,"Malformed frame rate multiplier attribute (using initial value instead)"));var Ee=_e*$,Ge=1,ct=pe(oe,b.ns_ttp,"tickRate");return null===ct?null!==X&&(Ge=Ee):null!==(re=/(\d+)/.exec(ct))?Ge=parseInt(re[1]):be(ee,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Ee,tickRate:Ge}}(oe,X);this.effectiveFrameRate=re.effectiveFrameRate,this.tickRate=re.tickRate,this.aspectRatio=function Ae(oe,ee){var X=pe(oe,b.ns_ittp,"aspectRatio");null===X&&(X=pe(oe,b.ns_ttp,"displayAspectRatio"));var $=null;if(null!==X){var J=/(\d+)\s+(\d+)/.exec(X);if(null!==J){var q=parseInt(J[1]),_e=parseInt(J[2]);0!==q&&0!==_e?$=q/_e:Q(ee,"Illegal aspectRatio values (ignoring)")}else Q(ee,"Malformed aspectRatio attribute (ignoring)")}return $}(oe,X);var J=pe(oe,b.ns_ttp,"timeBase");null!==J&&"media"!==J&&ie(X,"Unsupported time base");var q=function we(oe,ee){var X=pe(oe,b.ns_tts,"extent");if(null===X)return null;var $=X.split(" ");if(2!==$.length)return be(ee,"Malformed extent (ignoring)"),null;var re=P.parseLength($[0]),J=P.parseLength($[1]);return J&&re?{h:J,w:re}:(be(ee,"Malformed extent values (ignoring)"),null)}(oe,X);null===q?this.pxLength={h:null,w:null}:(("px"!==q.h.unit||"px"!==q.w.unit)&&ie(X,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/q.h.value),w:new P.ComputedLength(1/q.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=ee},c.prototype._registerEvent=function(oe){if(!(oe.end<=oe.begin)){var ee=ye(this.events,oe.begin);if(ee.found||this.events.splice(ee.index,0,oe.begin),oe.end!==Number.POSITIVE_INFINITY){var X=ye(this.events,oe.end);X.found||this.events.splice(X.index,0,oe.end)}}},c.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},c.prototype.getMediaTimeEvents=function(){return this.events},_.prototype.initFromNode=function(oe,ee){this.id=Se(oe),this.styleAttrs=Ce(oe,ee),this.styleRefs=Ie(oe)},S.prototype.initFromNode=function(oe,ee){for(var X in this.styleAttrs={},oe.attributes)oe.attributes[X].uri!==b.ns_itts&&oe.attributes[X].uri!==b.ns_ebutts&&oe.attributes[X].uri!==b.ns_tts||(this.styleAttrs[oe.attributes[X].uri+" "+oe.attributes[X].local]=oe.attributes[X].value)},A.prototype.initFromNode=function(oe,ee,X,$,re){this.src="src"in X.attributes?X.attributes.src.value:null,this.src||Q(re,"Invalid image@src attribute"),this.type="type"in X.attributes?X.attributes.type.value:null,this.type||Q(re,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),T.prototype.initFromNode.call(this,oe,ee,X,re),C.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},O.prototype.initFromNode=function(oe,ee,X,$){this.id=Se(X)},C.prototype.initFromNode=function(oe,ee,X,$){this.regionID=function ce(oe){return oe&&"region"in oe.attributes?oe.attributes.region.value:""}(X)},I.prototype.initFromNode=function(oe,ee,X,$){this.styleAttrs=Ce(X,$),null!==oe.head&&null!==oe.head.styling&&ft(oe.head.styling,Ie(X),this.styleAttrs,$)},T.prototype.initFromNode=function(oe,ee,X,$){this.sets=[]},L.prototype.initFromNode=function(oe,ee,X,$){this.contents=[]},y.prototype.initFromNode=function(oe,ee,X,$){var re=function Oe(oe,ee,X,$){var re=null;X&&"begin"in X.attributes&&null===(re=Te(oe.tickRate,oe.effectiveFrameRate,X.attributes.begin.value))&&be($,"Malformed begin value "+X.attributes.begin.value+" (using 0)");var J=null;X&&"dur"in X.attributes&&null===(J=Te(oe.tickRate,oe.effectiveFrameRate,X.attributes.dur.value))&&be($,"Malformed dur value "+X.attributes.dur.value+" (ignoring)");var q=null;return X&&"end"in X.attributes&&null===(q=Te(oe.tickRate,oe.effectiveFrameRate,X.attributes.end.value))&&be($,"Malformed end value (ignoring)"),{explicit_begin:re,explicit_end:q,explicit_dur:J}}(oe,0,X,$);this.explicit_begin=re.explicit_begin,this.explicit_end=re.explicit_end,this.explicit_dur=re.explicit_dur,this.timeContainer=function ge(oe,ee){var X=oe&&"timeContainer"in oe.attributes?oe.attributes.timeContainer.value:null;return X&&"par"!==X?"seq"===X?"seq":(Q(ee,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(X,$)},B.prototype.initFromNode=function(oe,ee,X,$){I.prototype.initFromNode.call(this,oe,null,ee,$),y.prototype.initFromNode.call(this,oe,null,ee,$),T.prototype.initFromNode.call(this,oe,null,ee,$),C.prototype.initFromNode.call(this,oe,null,ee,$),L.prototype.initFromNode.call(this,oe,null,ee,$),this.lang=X},z.prototype.initFromNode=function(oe,ee,X,$,re){I.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),T.prototype.initFromNode.call(this,oe,ee,X,re),C.prototype.initFromNode.call(this,oe,ee,X,re),L.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},ne.prototype.initFromNode=function(oe,ee,X,$,re){I.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),T.prototype.initFromNode.call(this,oe,ee,X,re),C.prototype.initFromNode.call(this,oe,ee,X,re),L.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},ae.prototype.initFromNode=function(oe,ee,X,$,re,J){I.prototype.initFromNode.call(this,oe,ee,X,J),y.prototype.initFromNode.call(this,oe,ee,X,J),T.prototype.initFromNode.call(this,oe,ee,X,J),C.prototype.initFromNode.call(this,oe,ee,X,J),L.prototype.initFromNode.call(this,oe,ee,X,J),this.space=re,this.lang=$},Fe.prototype.initFromText=function(oe,ee,X,$,re,J){y.prototype.initFromNode.call(this,oe,ee,null,J),this.text=X,this.space=re,this.lang=$},Y.prototype.initFromNode=function(oe,ee,X,$,re){C.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},le.prototype.createDefaultRegion=function(oe){var ee=new le;return O.call(ee,""),I.call(ee,{}),T.call(ee,[]),y.call(ee,0,Number.POSITIVE_INFINITY,null),this.lang=oe,ee},le.prototype.initFromNode=function(oe,ee,X,$){O.prototype.initFromNode.call(this,oe,null,ee,$),y.prototype.initFromNode.call(this,oe,null,ee,$),T.prototype.initFromNode.call(this,oe,null,ee,$),this.styleAttrs=Ce(ee,$),this.styleRefs=Ie(ee),this.lang=X},G.prototype.initFromNode=function(oe,ee,X,$){y.prototype.initFromNode.call(this,oe,ee,X,$);var re=Ce(X,$);for(var J in this.qname=null,this.value=null,re)if(re.hasOwnProperty(J)){if(this.qname){Q($,"More than one style specified on set");break}this.qname=J,this.value=re[J]}}}(p,typeof sax>"u"?e(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b){function g(Y,le,G,Se){var ce;if("region"===G.kind)(ce=document.createElement("div")).style.position="absolute";else if("body"===G.kind)ce=document.createElement("div");else if("div"===G.kind)ce=document.createElement("div");else if("image"===G.kind){if(ce=document.createElement("img"),null!==Y.imgResolver&&null!==G.src){var ge=Y.imgResolver(G.src,ce);ge&&(ce.src=ge),ce.height=Y.regionH,ce.width=Y.regionW}}else if("p"===G.kind)ce=document.createElement("p");else if("span"===G.kind)if("container"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("ruby"),Y.ruby=!0;else if("base"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rb");else if("text"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rt");else if("baseContainer"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rbc");else if("textContainer"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rtc");else{if("delimiter"===G.styleAttrs[b.byName.ruby.qname])return;ce=document.createElement("span")}else"br"===G.kind&&(ce=document.createElement("br"));if(ce){if(G.lang&&("region"===G.kind||G.lang!==Se.lang)&&(ce.lang=G.lang),le.appendChild(ce),ce.style.margin="0","region"===G.kind){var Ie=G.styleAttrs[b.byName.writingMode.qname];"lrtb"===Ie||"lr"===Ie?(Y.ipd="lr",Y.bpd="tb"):"rltb"===Ie||"rl"===Ie?(Y.ipd="rl",Y.bpd="tb"):"tblr"===Ie?(Y.ipd="tb",Y.bpd="lr"):("tbrl"===Ie||"tb"===Ie)&&(Y.ipd="tb",Y.bpd="rl")}else"p"===G.kind&&"tb"===Y.bpd&&(Y.ipd="ltr"===G.styleAttrs[b.byName.direction.qname]?"lr":"rl");for(var pe=0;pe<T.length;pe++){var Ae=T[pe],ke=G.styleAttrs[Ae.qname];void 0!==ke&&null!==Ae.map&&Ae.map(Y,ce,G,ke)}var he=ce,we=G.styleAttrs[b.byName.linePadding.qname];if(we&&!we.isZero()){var Te=we.toUsedLength(Y.w,Y.h);if(Te>0){var Oe=Math.ceil(Te)+"px";"tb"===Y.bpd?(he.style.paddingLeft=Oe,he.style.paddingRight=Oe):(he.style.paddingTop=Oe,he.style.paddingBottom=Oe),Y.lp=we}}var je=G.styleAttrs[b.byName.multiRowAlign.qname];if(je&&"auto"!==je){var ft=document.createElement("span");ft.style.display="inline-block",ft.style.textAlign=je,ce.appendChild(ft),he=ft,Y.mra=je}var Ze=G.styleAttrs[b.byName.rubyReserve.qname];if(Ze&&"none"!==Ze[0]&&(Y.rubyReserve=Ze),G.styleAttrs[b.byName.fillLineGap.qname]&&(Y.flg=!0),"span"===G.kind&&G.text){var Re=G.styleAttrs[b.byName.textEmphasis.qname];if(Re&&"none"!==Re.style&&(Y.textEmphasis=!0),b.byName.textCombine.qname in G.styleAttrs&&"all"===G.styleAttrs[b.byName.textCombine.qname])ce.textContent=G.text,Re&&C(Y,ce,0,Re);else for(var be="",Q=0;Q<G.text.length;Q++){be+=G.text.charAt(Q);var ie=G.text.charCodeAt(Q);if(ie<55296||ie>56319||Q===G.text.length-1){var ye=document.createElement("span");ye.textContent=be,Re&&C(Y,ye,0,Re),ce.appendChild(ye),be="",ye._isd_element=G}}}if("contents"in G)for(var oe=0;oe<G.contents.length;oe++)g(Y,he,G.contents[oe],G);var ee=[];if("p"===G.kind&&(N(Y,he,ee,null),Y.rubyReserve&&(function _(Y,le){for(var G=0;G<Y.length;G++){var Se=document.createElement("ruby"),ce=document.createElement("rb");ce.textContent="\u200b",Se.appendChild(ce);var ge,Ie,Ce=le.rubyReserve[1].toUsedLength(le.w,le.h)+"px";"both"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&1==Y.length?((ge=document.createElement("rtc")).style[z]=B?"after":"under",ge.textContent="\u200b",ge.style.fontSize=Ce,(Ie=document.createElement("rtc")).style[z]=B?"before":"over",Ie.textContent="\u200b",Ie.style.fontSize=Ce,Se.appendChild(ge),Se.appendChild(Ie)):((ge=document.createElement("rtc")).textContent="\u200b",ge.style.fontSize=Ce,ge.style[z]="after"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&G>0?B?"after":"tb"===le.bpd||"rl"===le.bpd?"under":"over":B?"before":"tb"===le.bpd||"rl"===le.bpd?"over":"under",Se.appendChild(ge));for(var Ae=null,ke=0;ke<Y[G].rbc.length;ke++)if("ruby"===Y[G].rbc[ke].localName){Ae=Y[G].rbc[ke];for(var he=0;he<Ae.style.length;he++)Se.style.setProperty(Ae.style.item(he),Ae.style.getPropertyValue(Ae.style.item(he)));break}(Ae=Ae||Y[G].elements[0].node).parentElement.insertBefore(Se,Ae)}}(ee,Y),Y.rubyReserve=null),(Y.ruby||Y.rubyReserve)&&(function f(Y,le){for(var G=0;G<Y.length;G++)for(var Se=0;Se<Y[G].rbc.length;Se++)Y[G].rbc[Se].style[z]||(Y[G].rbc[Se].style[z]=B?0===G?"before":"after":"tb"===le.bpd||"rl"===le.bpd?0===G?"over":"under":0===G?"under":"over")}(ee,Y),Y.ruby=null),Y.textEmphasis&&(function d(Y,le){for(var G=0;G<Y.length;G++)for(var Se=0;Se<Y[G].te.length;Se++)Y[G].te[Se].style[ae]&&"none"!==Y[G].te[Se].style[ae]||(Y[G].te[Se].style[ae]="tb"===le.bpd?0===G?"left over":"left under":"rl"===le.bpd?0===G?"right under":"left under":0===G?"left under":"right under")}(ee,Y),Y.textEmphasis=null),Y.mra&&(function c(Y){for(var le=0;le<Y.length-1;le++){var G=Y[le].elements.length;if(0!==G&&!1===Y[le].br){var Se=document.createElement("br"),ce=Y[le].elements[G-1].node;ce.parentElement.insertBefore(Se,ce.nextSibling)}}}(ee),Y.mra=null),Y.lp&&(function i(Y,le,G){if(null!==Y)for(var Se=0;Se<Y.length;Se++){var ce=Y[Se].elements.length,ge=Math.ceil(le)+"px",Ie="-"+Math.ceil(le)+"px";if(0!==ce){var Ce=Y[Se].elements[Y[Se].start_elem],pe=Y[Se].elements[Y[Se].end_elem];if(Ce===pe&&(elementBoundingRect=Ce.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===G.ipd?(Ce.node.style.marginLeft=Ie,Ce.node.style.paddingLeft=ge):"rl"===G.ipd?(Ce.node.style.paddingRight=ge,Ce.node.style.marginRight=Ie):"tb"===G.ipd&&(Ce.node.style.paddingTop=ge,Ce.node.style.marginTop=Ie),"lr"===G.ipd?(pe.node.style.marginRight=Ie,pe.node.style.paddingRight=ge):"rl"===G.ipd?(pe.node.style.paddingLeft=ge,pe.node.style.marginLeft=Ie):"tb"===G.ipd&&(pe.node.style.paddingBottom=ge,pe.node.style.marginBottom=Ie)}}}(ee,Y.lp.toUsedLength(Y.w,Y.h),Y),Y.lp=null),function P(Y){for(var le=0;le<Y.length;le++)for(var G=Y[le],Se=1;Se<G.elements.length;)m(G.elements[Se-1].node,G.elements[Se].node)?G.elements.splice(Se,1):Se++;for(var Ie,Ce,pe=[],Ae=0;Ae<Y.length;Ae++)for(var ke=0;ke<Y[Ae].elements.length;ke++)(Ce=D(Ie=Y[Ae].elements[ke].node,pe,!1))&&(Ie.style.backgroundColor=Ce);for(var he=0;he<pe.length;he++)pe[he].style.backgroundColor=""}(ee),Y.flg)){var X=A(he.getBoundingClientRect(),Y);(function S(Y,le,G,Se,ce){for(var ge=Math.sign(G-le),Ie=0;Ie<=Y.length;Ie++){var Ce,pe,Ae,ke;if(Ce=0===Ie?Math.round(le):Ie===Y.length?Math.round(G):Math.round((Y[Ie-1].after+Y[Ie].before)/2),Ie>0&&Y[Ie-1])for(Ae=0;Ae<Y[Ie-1].elements.length;Ae++)pe=ge*(Ce-(ke=Y[Ie-1].elements[Ae]).after)+"px","lr"===Se.bpd?ke.node.style.paddingRight=pe:"rl"===Se.bpd?ke.node.style.paddingLeft=pe:"tb"===Se.bpd&&(ke.node.style.paddingBottom=pe);if(Ie<Y.length)for(Ae=0;Ae<Y[Ie].elements.length;Ae++)pe=ge*((ke=Y[Ie].elements[Ae]).before-Ce)+"px","lr"===Se.bpd?ke.node.style.paddingLeft=pe:"rl"===Se.bpd?ke.node.style.paddingRight=pe:"tb"===Se.bpd&&(ke.node.style.paddingTop=pe)}})(ee,X.before,X.after,Y),Y.flg=null}if("region"===G.kind&&"tb"===Y.bpd&&Y.enableRollUp&&G.contents.length>0&&"after"===G.styleAttrs[b.byName.displayAlign.qname]){N(Y,he,ee,null);var re=new x(""===G.id?"_":G.id,ee);if(Y.currentISDState[re.id]=re,Y.previousISDState&&re.id in Y.previousISDState&&Y.previousISDState[re.id].plist.length>0&&re.plist.length>1&&re.plist[re.plist.length-2].text===Y.previousISDState[re.id].plist[Y.previousISDState[re.id].plist.length-1].text){var J=ce.firstElementChild,q=re.plist[re.plist.length-1].after-re.plist[re.plist.length-1].before;J.style.bottom="-"+q+"px",J.style.transition="transform 0.4s",J.style.position="relative",J.style.transform="translateY(-"+q+"px)"}}}else!function Fe(Y,le){if(Y&&Y.error&&Y.error(le))throw le}(Y.errorHandler,"Error processing ISD element kind: "+G.kind)}function D(Y,le,G){return Y.style.backgroundColor?(G&&!le.includes(Y)&&le.push(Y),Y.style.backgroundColor):"SPAN"===Y.parentElement.nodeName?D(Y.parentElement,le,!0):void 0}function m(Y,le){if("SPAN"===Y.tagName&&"SPAN"===le.tagName&&Y._isd_element===le._isd_element){Y.textContent+=le.textContent;for(var G=0;G<le.style.length;G++){var Se=le.style[G];(Se.indexOf("border")>=0||Se.indexOf("padding")>=0||Se.indexOf("margin")>=0)&&(Y.style[Se]=le.style[Se])}return le.parentElement.removeChild(le),!0}return!1}function x(Y,le){this.id=Y,this.plist=le}function A(Y,le){var G={before:null,after:null,start:null,end:null};return"tb"===le.bpd?(G.before=Y.top,G.after=Y.bottom,"lr"===le.ipd?(G.start=Y.left,G.end=Y.right):(G.start=Y.right,G.end=Y.left)):"lr"===le.bpd?(G.before=Y.left,G.after=Y.right,G.start=Y.top,G.end=Y.bottom):"rl"===le.bpd&&(G.before=Y.right,G.after=Y.left,G.start=Y.top,G.end=Y.bottom),G}function N(Y,le,G,Se){if("rt"!==le.localName&&"rtc"!==le.localName){var ce=le.style.backgroundColor||Se;if(0===le.childElementCount)if("span"===le.localName||"rb"===le.localName){var Ie=A(le.getBoundingClientRect(),Y);if(0!==G.length&&function O(Y,le,G,Se){return le<Se&&Y>G||Se<=le&&G>=Y}(Ie.before,Ie.after,G[G.length-1].before,G[G.length-1].after)){var Ce=Math.sign(Ie.after-Ie.before),pe=Math.sign(Ie.end-Ie.start);Ce*(Ie.before-G[G.length-1].before)<0&&(G[G.length-1].before=Ie.before),Ce*(Ie.after-G[G.length-1].after)>0&&(G[G.length-1].after=Ie.after),pe*(Ie.start-G[G.length-1].start)<0&&(G[G.length-1].start=Ie.start,G[G.length-1].start_elem=G[G.length-1].elements.length),pe*(Ie.end-G[G.length-1].end)>0&&(G[G.length-1].end=Ie.end,G[G.length-1].end_elem=G[G.length-1].elements.length)}else G.push({before:Ie.before,after:Ie.after,start:Ie.start,end:Ie.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});G[G.length-1].text+=le.textContent,G[G.length-1].elements.push({node:le,bgcolor:ce,before:Ie.before,after:Ie.after})}else"br"===le.localName&&0!==G.length&&(G[G.length-1].br=!0);else for(var Ae=le.firstChild;Ae;)Ae.nodeType===Node.ELEMENT_NODE&&(N(Y,Ae,G,ce),"ruby"===Ae.localName||"rtc"===Ae.localName?G.length>0&&G[G.length-1].rbc.push(Ae):"span"===Ae.localName&&Ae.style[ne]&&"none"!==Ae.style[ne]&&G.length>0&&G[G.length-1].te.push(Ae)),Ae=Ae.nextSibling}}function C(Y,le,G,Se){"none"!==Se.style&&(le.style[ne]="auto"===Se.style?"filled":Se.style+" "+Se.symbol,"before"===Se.position||"after"===Se.position)&&(le.style[ae]="tb"===Y.bpd?"before"===Se.position?"left over":"left under":"rl"===Y.bpd?"before"===Se.position?"right under":"left under":"before"===Se.position?"left under":"right under")}function I(Y,le){this.qname=Y,this.map=le}t.render=function(Y,le,G,Se,ce,ge,Ie,Ce,pe){var Ae=Se||le.clientHeight,ke=ce||le.clientWidth;if(null!==Y.aspectRatio){var he=Ae*Y.aspectRatio;he>ke?Ae=Math.round(ke/Y.aspectRatio):ke=he}var we=document.createElement("div");we.style.position="relative",we.style.width=ke+"px",we.style.height=Ae+"px",we.style.margin="auto",we.style.top=0,we.style.bottom=0,we.style.left=0,we.style.right=0,we.style.zIndex=0;var Te={h:Ae,w:ke,regionH:null,regionW:null,imgResolver:G,displayForcedOnlyMode:ge||!1,isd:Y,errorHandler:Ie,previousISDState:Ce,enableRollUp:pe||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(le.appendChild(we),"contents"in Y)for(var Oe=0;Oe<Y.contents.length;Oe++)g(Te,we,Y.contents[Oe],Y);return Te.currentISDState};for(var T=[new I("http://www.w3.org/ns/ttml#styling backgroundColor",function(Y,le,G,Se){0!==Se[3]&&(le.style.backgroundColor="rgba("+Se[0].toString()+","+Se[1].toString()+","+Se[2].toString()+","+(Se[3]/255).toString()+")")}),new I("http://www.w3.org/ns/ttml#styling color",function(Y,le,G,Se){le.style.color="rgba("+Se[0].toString()+","+Se[1].toString()+","+Se[2].toString()+","+(Se[3]/255).toString()+")"}),new I("http://www.w3.org/ns/ttml#styling direction",function(Y,le,G,Se){le.style.direction=Se}),new I("http://www.w3.org/ns/ttml#styling display",function(Y,le,G,Se){}),new I("http://www.w3.org/ns/ttml#styling displayAlign",function(Y,le,G,Se){le.style.display="flex",le.style.flexDirection="column","before"===Se?le.style.justifyContent="flex-start":"center"===Se?le.style.justifyContent="center":"after"===Se&&(le.style.justifyContent="flex-end")}),new I("http://www.w3.org/ns/ttml#styling extent",function(Y,le,G,Se){Y.regionH=Se.h.toUsedLength(Y.w,Y.h),Y.regionW=Se.w.toUsedLength(Y.w,Y.h);var ce=0,ge=0,Ie=G.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Ie&&(ce=Ie[0].toUsedLength(Y.w,Y.h)+Ie[2].toUsedLength(Y.w,Y.h),ge=Ie[1].toUsedLength(Y.w,Y.h)+Ie[3].toUsedLength(Y.w,Y.h)),le.style.height=Y.regionH-ce+"px",le.style.width=Y.regionW-ge+"px"}),new I("http://www.w3.org/ns/ttml#styling fontFamily",function(Y,le,G,Se){for(var ce=[],ge=0;ge<Se.length;ge++)"monospaceSerif"===Se[ge]?(ce.push("Courier New"),ce.push('"Liberation Mono"'),ce.push("Courier"),ce.push("monospace")):"proportionalSansSerif"===Se[ge]?(ce.push("Arial"),ce.push("Helvetica"),ce.push('"Liberation Sans"'),ce.push("sans-serif")):"monospace"===Se[ge]?ce.push("monospace"):"sansSerif"===Se[ge]?ce.push("sans-serif"):"serif"===Se[ge]?ce.push("serif"):"monospaceSansSerif"===Se[ge]?(ce.push("Consolas"),ce.push("monospace")):ce.push("proportionalSerif"===Se[ge]?"serif":Se[ge]);if(ce.length>0){for(var Ie=[ce[0]],Ce=1;Ce<ce.length;Ce++)-1==Ie.indexOf(ce[Ce])&&Ie.push(ce[Ce]);ce=Ie}le.style.fontFamily=ce.join(",")}),new I("http://www.w3.org/ns/ttml#styling shear",function(Y,le,G,Se){if(0!==Se){var ce=-.9*Se;le.style.transform="tb"===Y.bpd?"skewX("+ce+"deg)":"skewY("+ce+"deg)"}}),new I("http://www.w3.org/ns/ttml#styling fontSize",function(Y,le,G,Se){le.style.fontSize=Se.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling fontStyle",function(Y,le,G,Se){le.style.fontStyle=Se}),new I("http://www.w3.org/ns/ttml#styling fontWeight",function(Y,le,G,Se){le.style.fontWeight=Se}),new I("http://www.w3.org/ns/ttml#styling lineHeight",function(Y,le,G,Se){le.style.lineHeight="normal"===Se?"normal":Se.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling opacity",function(Y,le,G,Se){le.style.opacity=Se}),new I("http://www.w3.org/ns/ttml#styling origin",function(Y,le,G,Se){le.style.top=Se.h.toUsedLength(Y.w,Y.h)+"px",le.style.left=Se.w.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling overflow",function(Y,le,G,Se){le.style.overflow=Se}),new I("http://www.w3.org/ns/ttml#styling padding",function(Y,le,G,Se){var ce=[];ce[0]=Se[0].toUsedLength(Y.w,Y.h)+"px",ce[1]=Se[3].toUsedLength(Y.w,Y.h)+"px",ce[2]=Se[2].toUsedLength(Y.w,Y.h)+"px",ce[3]=Se[1].toUsedLength(Y.w,Y.h)+"px",le.style.padding=ce.join(" ")}),new I("http://www.w3.org/ns/ttml#styling position",function(Y,le,G,Se){le.style.top=Se.h.toUsedLength(Y.w,Y.h)+"px",le.style.left=Se.w.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling rubyAlign",function(Y,le,G,Se){le.style.rubyAlign="spaceAround"===Se?"space-around":"center"}),new I("http://www.w3.org/ns/ttml#styling rubyPosition",function(Y,le,G,Se){"before"!==Se&&"after"!==Se||(le.parentElement.style[z]=B?Se:"tb"===Y.bpd||"rl"===Y.bpd?"before"===Se?"over":"under":"before"===Se?"under":"over")}),new I("http://www.w3.org/ns/ttml#styling showBackground",null),new I("http://www.w3.org/ns/ttml#styling textAlign",function(Y,le,G,Se){le.style.textAlign="start"===Se?"rl"===Y.ipd?"right":"left":"end"===Se?"rl"===Y.ipd?"left":"right":Se}),new I("http://www.w3.org/ns/ttml#styling textDecoration",function(Y,le,G,Se){le.style.textDecoration=Se.join(" ").replace("lineThrough","line-through")}),new I("http://www.w3.org/ns/ttml#styling textOutline",function(Y,le,G,Se){}),new I("http://www.w3.org/ns/ttml#styling textShadow",function(Y,le,G,Se){var ce=G.styleAttrs[b.byName.textOutline.qname];if("none"===Se&&"none"===ce)le.style.textShadow="";else{var ge=[];if("none"!==ce){var Ie="rgba("+ce.color[0].toString()+","+ce.color[1].toString()+","+ce.color[2].toString()+","+(ce.color[3]/255).toString()+")";ge.push("1px 1px 1px "+Ie),ge.push("-1px 1px 1px "+Ie),ge.push("1px -1px 1px "+Ie),ge.push("-1px -1px 1px "+Ie)}if("none"!==Se)for(var Ce=0;Ce<Se.length;Ce++)ge.push(Se[Ce].x_off.toUsedLength(Y.w,Y.h)+"px "+Se[Ce].y_off.toUsedLength(Y.w,Y.h)+"px "+Se[Ce].b_radius.toUsedLength(Y.w,Y.h)+"px rgba("+Se[Ce].color[0].toString()+","+Se[Ce].color[1].toString()+","+Se[Ce].color[2].toString()+","+(Se[Ce].color[3]/255).toString()+")");le.style.textShadow=ge.join(",")}}),new I("http://www.w3.org/ns/ttml#styling textCombine",function(Y,le,G,Se){le.style.textCombineUpright=Se}),new I("http://www.w3.org/ns/ttml#styling textEmphasis",function(Y,le,G,Se){}),new I("http://www.w3.org/ns/ttml#styling unicodeBidi",function(Y,le,G,Se){le.style.unicodeBidi="bidiOverride"===Se?"bidi-override":Se}),new I("http://www.w3.org/ns/ttml#styling visibility",function(Y,le,G,Se){le.style.visibility=Se}),new I("http://www.w3.org/ns/ttml#styling wrapOption",function(Y,le,G,Se){le.style.whiteSpace="wrap"===Se?"preserve"===G.space?"pre-wrap":"normal":"preserve"===G.space?"pre":"noWrap"}),new I("http://www.w3.org/ns/ttml#styling writingMode",function(Y,le,G,Se){"lrtb"===Se||"lr"===Se||"rltb"===Se||"rl"===Se?le.style.writingMode="horizontal-tb":"tblr"===Se?le.style.writingMode="vertical-lr":("tbrl"===Se||"tb"===Se)&&(le.style.writingMode="vertical-rl")}),new I("http://www.w3.org/ns/ttml#styling zIndex",function(Y,le,G,Se){le.style.zIndex=Se}),new I("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(Y,le,G,Se){Y.displayForcedOnlyMode&&!1===Se&&(le.style.visibility="hidden")})],L={},y=0;y<T.length;y++)L[T[y].qname]=T[y];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),z=B?"webkitRubyPosition":"rubyPosition",ne="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(p,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b,g){t.generateISD=function(N,O,C){var L,I=new d(N),T={},y={},B=N.head.styling.initials[b.byName.showBackground.qname],z=N.head.styling.initials[b.byName.backgroundColor.qname];for(var ne in N.head.layout.regions)if(N.head.layout.regions.hasOwnProperty(ne)){var ae=N.head.layout.regions[ne],Fe=ae.styleAttrs[b.byName.showBackground.qname]||B;y[ae.id]=("always"===Fe||void 0===Fe)&&void 0!==(ae.styleAttrs[b.byName.backgroundColor.qname]||z)&&!(O<ae.begin||O>=ae.end)}for(var G in N.body&&N.body.regionID&&(y[N.body.regionID]=!0),L=null!==N.body?function le(ce,ge){if(ge.contents){var Ce={};for(var pe in ge)ge.hasOwnProperty(pe)&&(Ce[pe]=ge[pe]);return Ce.contents=[],ge.contents.filter(function Ie(Ae){return!(ce<Ae.begin||ce>=Ae.end)}).forEach(function(Ae){var ke=le(ce,Ae);ke.regionID&&(y[ke.regionID]=!0),null!==ke&&Ce.contents.push(ke)}),Ce}return ge}(O,N.body):null,void 0!==y[""]&&(y[""]=!0),y)if(y[G]){var Se=D(N,O,N.head.layout.regions[G],L,null,"",N.head.layout.regions[G],C,T);null!==Se&&I.contents.push(Se.element)}return I};var P=[b.byName.color.qname,b.byName.textCombine.qname,b.byName.textDecoration.qname,b.byName.textEmphasis.qname,b.byName.textOutline.qname,b.byName.textShadow.qname];function D(N,O,C,I,T,L,y,B,z){if(O<y.begin||O>=y.end)return null;var ne="regionID"in y&&""!==y.regionID?y.regionID:L;if(null!==T&&ne!==C.id&&(!("contents"in y)||"contents"in y&&0===y.contents.length||""!==ne))return null;var ae=new f(y);if("sets"in y)for(var Fe=0;Fe<y.sets.length;Fe++)O<y.sets[Fe].begin||O>=y.sets[Fe].end||(ae.styleAttrs[y.sets[Fe].qname]=y.sets[Fe].value);var Y={};for(var le in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(le)&&(Y[le]=!0,"region"===ae.kind&&le===b.byName.writingMode.qname&&!(b.byName.direction.qname in ae.styleAttrs))){var G=ae.styleAttrs[le];"lrtb"===G||"lr"===G?ae.styleAttrs[b.byName.direction.qname]="ltr":("rltb"===G||"rl"===G)&&(ae.styleAttrs[b.byName.direction.qname]="rtl")}if(null!==T)for(var Se=0;Se<b.all.length;Se++){var ce=b.all[Se];if(ce.qname===b.byName.textDecoration.qname){var ge=T.styleAttrs[ce.qname],Ie=ae.styleAttrs[ce.qname],Ce=[];void 0===Ie?Ce=ge:-1===Ie.indexOf("none")?((-1===Ie.indexOf("noUnderline")&&-1!==ge.indexOf("underline")||-1!==Ie.indexOf("underline"))&&Ce.push("underline"),(-1===Ie.indexOf("noLineThrough")&&-1!==ge.indexOf("lineThrough")||-1!==Ie.indexOf("lineThrough"))&&Ce.push("lineThrough"),(-1===Ie.indexOf("noOverline")&&-1!==ge.indexOf("overline")||-1!==Ie.indexOf("overline"))&&Ce.push("overline")):Ce.push("none"),ae.styleAttrs[ce.qname]=Ce}else if(ce.qname!==b.byName.fontSize.qname||ce.qname in ae.styleAttrs||"span"!==ae.kind||"textContainer"!==ae.styleAttrs[b.byName.ruby.qname])if(ce.qname!==b.byName.fontSize.qname||ce.qname in ae.styleAttrs||"span"!==ae.kind||"text"!==ae.styleAttrs[b.byName.ruby.qname])ce.inherit&&ce.qname in T.styleAttrs&&!(ce.qname in ae.styleAttrs)&&(ae.styleAttrs[ce.qname]=T.styleAttrs[ce.qname]);else{var Ae=T.styleAttrs[b.byName.fontSize.qname];ae.styleAttrs[ce.qname]="textContainer"===T.styleAttrs[b.byName.ruby.qname]?Ae:new g.ComputedLength(.5*Ae.rw,.5*Ae.rh)}else{var pe=T.styleAttrs[b.byName.fontSize.qname];ae.styleAttrs[ce.qname]=new g.ComputedLength(.5*pe.rw,.5*pe.rh)}}for(var ke=0;ke<b.all.length;ke++){var he=b.all[ke];if(!(he.qname in ae.styleAttrs||he.qname===b.byName.position.qname&&b.byName.origin.qname in ae.styleAttrs||he.qname===b.byName.origin.qname&&b.byName.position.qname in ae.styleAttrs)){var we=N.head.styling.initials[he.qname]||he.initial;if(null!==we&&("region"===ae.kind||!1===he.inherit&&null!==we)){var Te=he.parse(we);null!==Te?(ae.styleAttrs[he.qname]=Te,Y[he.qname]=!0):x(B,"Invalid initial value for '"+he.qname+"' on element '"+ae.kind)}}}for(var Oe=0;Oe<b.all.length;Oe++){var je=b.all[Oe];if(je.qname in Y&&null!==je.compute){var ft=je.compute(N,T,ae,ae.styleAttrs[je.qname],z);null!==ft?ae.styleAttrs[je.qname]=ft:(ae.styleAttrs[je.qname]=je.compute(N,T,ae,je.parse(je.initial),z),x(B,"Style '"+je.qname+"' on element '"+ae.kind+"' cannot be computed"))}}if("none"===ae.styleAttrs[b.byName.display.qname])return null;var Ze=null;null===T?Ze=null===I?[]:[I]:"contents"in y&&(Ze=y.contents);for(var Re=0;null!==Ze&&Re<Ze.length;Re++){var be=D(N,O,C,I,ae,ne,Ze[Re],B,z);null!==be&&ae.contents.push(be.element)}for(var Q in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(Q)){var ie=!1;if("span"===ae.kind){var ye=ae.styleAttrs[b.byName.ruby.qname];(ie=("container"===ye||"textContainer"===ye||"baseContainer"===ye)&&-1!==P.indexOf(Q))||(ie="container"!==ye&&Q===b.byName.rubyAlign.qname),ie||(ie=!("textContainer"===ye||"text"===ye)&&Q===b.byName.rubyPosition.qname)}if(!ie){var oe=b.byQName[Q];"applies"in oe&&(ie=-1===oe.applies.indexOf(ae.kind))}ie&&delete ae.styleAttrs[Q]}var ee=ae.styleAttrs[b.byName.ruby.qname];if("p"===ae.kind||"span"===ae.kind&&("textContainer"===ee||"text"===ee)){var X=[];i(ae,X),function m(N){function O(y){return"br"===y.kind||/[\r\n\t ]$/.test(y.text)}function C(y){return"br"===y.kind||"preserve"===y.space&&/^[\r\n]/.test(y.text)}for(var I,T=0;T<N.length;)if("br"!==(I=N[T]).kind&&"preserve"!==I.space){var L=I.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(L)&&(0===T||O(N[T-1]))&&(L=L.substring(1)),I.text=L,0===L.length?N.splice(T,1):T++}else T++;for(T=0;T<N.length;T++)"br"!==(I=N[T]).kind&&"preserve"!==I.space?/[ ]$/.test(I.text)&&(T===N.length-1||C(N[T+1]))&&(I.text=I.text.slice(0,-1)):T++}(X),c(ae)}return"div"===ae.kind&&b.byName.backgroundImage.qname in ae.styleAttrs||"br"===ae.kind||"image"===ae.kind||"contents"in ae&&ae.contents.length>0||"span"===ae.kind&&null!==ae.text||"region"===ae.kind&&"always"===ae.styleAttrs[b.byName.showBackground.qname]?{region_id:ne,element:ae}:null}function i(N,O){if("contents"in N)for(var C=0;C<N.contents.length;C++){var I=N.contents[C],T=I.styleAttrs[b.byName.ruby.qname];"span"===I.kind&&("textContainer"===T||"text"===T)||("contents"in I?i(I,O):("span"===I.kind&&0!==I.text.length||"br"===I.kind)&&O.push(I))}}function c(N){if("br"===N.kind)return!1;if("text"in N)return 0===N.text.length;if("contents"in N){for(var O=N.contents.length;O--;)c(N.contents[O])&&N.contents.splice(O,1);return 0===N.contents.length}}function d(N){this.contents=[],this.aspectRatio=N.aspectRatio,this.lang=N.lang}function f(N){for(var O in this.kind=N.kind||"region",this.lang=N.lang,N.id&&(this.id=N.id),this.styleAttrs={},N.styleAttrs)N.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=N.styleAttrs[O]);"src"in N&&(this.src=N.src),"type"in N&&(this.type=N.type),"text"in N?this.text=N.text:("region"===this.kind||"contents"in N)&&(this.contents=[]),"space"in N&&(this.space=N.space)}function x(N,O){if(N&&N.error&&N.error(O))throw O}}(p,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){p.generateISD=e(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,p.fromXML=e(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,p.renderHTML=e(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){var t;(t=p).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b){function g(m,i,c,d,f,_,S,x){this.name=i,this.ns=m,this.qname=m+" "+i,this.inherit=f,this.animatable=_,this.initial=c,this.applies=d,this.parse=S,this.compute=x}for(var P in t.all=[new g(v.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,b.parseColor,null),new g(v.ns_tts,"color","white",["span"],!0,!0,b.parseColor,null),new g(v.ns_tts,"direction","ltr",["p","span"],!0,!0,function(m){return m},null),new g(v.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(m){return m},null),new g(v.ns_tts,"displayAlign","before",["region"],!1,!0,function(m){return m},null),new g(v.ns_tts,"extent","auto",["tt","region"],!1,!0,function(m){if("auto"===m)return m;var i=m.split(" ");if(2!==i.length)return null;var c=b.parseLength(i[0]),d=b.parseLength(i[1]);return d&&c?{h:d,w:c}:null},function(m,i,c,d,f){var _,S;if("auto"===d)_=new b.ComputedLength(0,1);else if(null===(_=b.toComputedLength(d.h.value,d.h.unit,null,m.dimensions.h,null,m.pxLength.h)))return null;if("auto"===d)S=new b.ComputedLength(1,0);else if(null===(S=b.toComputedLength(d.w.value,d.w.unit,null,m.dimensions.w,null,m.pxLength.w)))return null;return{h:_,w:S}}),new g(v.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(m){for(var i=m.split(","),c=[],d=0;d<i.length;d++)"'"!==i[d].charAt(0)&&'"'!==i[d].charAt(0)&&"default"===i[d]?c.push("monospaceSerif"):c.push(i[d]);return c},null),new g(v.ns_tts,"shear","0%",["p"],!0,!0,b.parseLength,function(m,i,c,d){return"%"!==d.unit?null:Math.abs(d.value)>100?100*Math.sign(d.value):d.value}),new g(v.ns_tts,"fontSize","1c",["span","p"],!0,!0,b.parseLength,function(m,i,c,d,f){return b.toComputedLength(d.value,d.unit,null!==i?i.styleAttrs[t.byName.fontSize.qname]:m.cellLength.h,null!==i?i.styleAttrs[t.byName.fontSize.qname]:m.cellLength.h,m.cellLength.h,m.pxLength.h)}),new g(v.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(m){return m},null),new g(v.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(m){return m},null),new g(v.ns_tts,"lineHeight","normal",["p"],!0,!0,function(m){return"normal"===m?m:b.parseLength(m)},function(m,i,c,d,f){var _;if("normal"===d)_=d;else if(null===(_=b.toComputedLength(d.value,d.unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],m.cellLength.h,m.pxLength.h)))return null;return _}),new g(v.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new g(v.ns_tts,"origin","auto",["region"],!1,!0,function(m){if("auto"===m)return m;var i=m.split(" ");if(2!==i.length)return null;var c=b.parseLength(i[0]),d=b.parseLength(i[1]);return d&&c?{h:d,w:c}:null},function(m,i,c,d,f){var _,S;if("auto"===d)_=new b.ComputedLength(0,0);else if(null===(_=b.toComputedLength(d.h.value,d.h.unit,null,m.dimensions.h,null,m.pxLength.h)))return null;if("auto"===d)S=new b.ComputedLength(0,0);else if(null===(S=b.toComputedLength(d.w.value,d.w.unit,null,m.dimensions.w,null,m.pxLength.w)))return null;return{h:_,w:S}}),new g(v.ns_tts,"overflow","hidden",["region"],!1,!0,function(m){return m},null),new g(v.ns_tts,"padding","0px",["region"],!1,!0,function(m){var i=m.split(" ");if(i.length>4)return null;for(var c=[],d=0;d<i.length;d++){var f=b.parseLength(i[d]);if(!f)return null;c.push(f)}return c},function(m,i,c,d,f){var _;if(1===d.length)_=[d[0],d[0],d[0],d[0]];else if(2===d.length)_=[d[0],d[1],d[0],d[1]];else if(3===d.length)_=[d[0],d[1],d[2],d[1]];else{if(4!==d.length)return null;_=[d[0],d[1],d[2],d[3]]}var S=c.styleAttrs[t.byName.writingMode.qname];if("lrtb"===S||"lr"===S)_=[_[0],_[3],_[2],_[1]];else if("rltb"===S||"rl"===S)_=[_[0],_[1],_[2],_[3]];else if("tblr"===S)_=[_[3],_[0],_[1],_[2]];else{if("tbrl"!==S&&"tb"!==S)return null;_=[_[3],_[2],_[1],_[0]]}for(var x=[],A=0;A<_.length;A++)if(0===_[A].value)x[A]=new b.ComputedLength(0,0);else if(x[A]=b.toComputedLength(_[A].value,_[A].unit,c.styleAttrs[t.byName.fontSize.qname],0===A||2===A?c.styleAttrs[t.byName.extent.qname].h:c.styleAttrs[t.byName.extent.qname].w,0===A||2===A?m.cellLength.h:m.cellLength.w,0===A||2===A?m.pxLength.h:m.pxLength.w),null===x[A])return null;return x}),new g(v.ns_tts,"position","top left",["region"],!1,!0,function(m){return b.parsePosition(m)},function(m,i,c,d){var f,_;return null===(f=b.toComputedLength(d.v.offset.value,d.v.offset.unit,null,new b.ComputedLength(-c.styleAttrs[t.byName.extent.qname].h.rw,m.dimensions.h.rh-c.styleAttrs[t.byName.extent.qname].h.rh),null,m.pxLength.h))||("bottom"===d.v.edge&&(f=new b.ComputedLength(-f.rw-c.styleAttrs[t.byName.extent.qname].h.rw,m.dimensions.h.rh-f.rh-c.styleAttrs[t.byName.extent.qname].h.rh)),_=b.toComputedLength(d.h.offset.value,d.h.offset.unit,null,new b.ComputedLength(m.dimensions.w.rw-c.styleAttrs[t.byName.extent.qname].w.rw,-c.styleAttrs[t.byName.extent.qname].w.rh),null,m.pxLength.w),null===f)?null:("right"===d.h.edge&&(_=new b.ComputedLength(m.dimensions.w.rw-_.rw-c.styleAttrs[t.byName.extent.qname].w.rw,-_.rh-c.styleAttrs[t.byName.extent.qname].w.rh)),{h:f,w:_})}),new g(v.ns_tts,"ruby","none",["span"],!1,!0,function(m){return m},null),new g(v.ns_tts,"rubyAlign","center",["span"],!0,!0,function(m){return"center"===m||"spaceAround"===m?m:null},null),new g(v.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(m){return m},null),new g(v.ns_tts,"rubyReserve","none",["p"],!0,!0,function(m){var i=m.split(" "),c=[null,null];if(0===i.length||i.length>2)return null;if("none"!==i[0]&&"both"!==i[0]&&"after"!==i[0]&&"before"!==i[0]&&"outside"!==i[0])return null;if(c[0]=i[0],2===i.length&&"none"!==i[0]){var d=b.parseLength(i[1]);if(!d)return null;c[1]=d}return c},function(m,i,c,d,f){if("none"===d[0])return d;var _;return null===(_=null===d[1]?new b.ComputedLength(.5*c.styleAttrs[t.byName.fontSize.qname].rw,.5*c.styleAttrs[t.byName.fontSize.qname].rh):b.toComputedLength(d[1].value,d[1].unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],m.cellLength.h,m.pxLength.h))?null:[d[0],_]}),new g(v.ns_tts,"showBackground","always",["region"],!1,!0,function(m){return m},null),new g(v.ns_tts,"textAlign","start",["p"],!0,!0,function(m){return m},function(m,i,c,d,f){return"left"===d?"start":"right"===d?"end":d}),new g(v.ns_tts,"textCombine","none",["span"],!0,!0,function(m){return"none"===m||"all"===m?m:null},null),new g(v.ns_tts,"textDecoration","none",["span"],!0,!0,function(m){return m.split(" ")},null),new g(v.ns_tts,"textEmphasis","none",["span"],!0,!0,function(m){for(var i=m.split(" "),c={style:null,symbol:null,color:null,position:null},d=0;d<i.length;d++)if("none"===i[d]||"auto"===i[d])c.style=i[d];else if("filled"===i[d]||"open"===i[d])c.style=i[d];else if("circle"===i[d]||"dot"===i[d]||"sesame"===i[d])c.symbol=i[d];else if("current"===i[d])c.color=i[d];else if("outside"===i[d]||"before"===i[d]||"after"===i[d])c.position=i[d];else if(c.color=b.parseColor(i[d]),null===c.color)return null;return null==c.style&&null==c.symbol?c.style="auto":(c.symbol=c.symbol||"circle",c.style=c.style||"filled"),c.position=c.position||"outside",c.color=c.color||"current",c},null),new g(v.ns_tts,"textOutline","none",["span"],!0,!0,function(m){if("none"===m)return m;var i={},c=m.split(" ");if(0===c.length||c.length>2)return null;var d=b.parseColor(c[0]);if(i.color=d,null!==d&&c.shift(),1!==c.length)return null;var f=b.parseLength(c[0]);return f?(i.thickness=f,i):null},function(m,i,c,d,f){if("none"===d)return d;var _={};return _.color=null===d.color?c.styleAttrs[t.byName.color.qname]:d.color,_.thickness=b.toComputedLength(d.thickness.value,d.thickness.unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],m.cellLength.h,m.pxLength.h),null===_.thickness?null:_}),new g(v.ns_tts,"textShadow","none",["span"],!0,!0,b.parseTextShadow,function(m,i,c,d){if("none"===d)return d;for(var f=[],_=0;_<d.length;_++){var S={};if(S.x_off=b.toComputedLength(d[_][0].value,d[_][0].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,m.pxLength.w),null===S.x_off||(S.y_off=b.toComputedLength(d[_][1].value,d[_][1].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,m.pxLength.h),null===S.y_off))return null;if(null===d[_][2])S.b_radius=0;else if(S.b_radius=b.toComputedLength(d[_][2].value,d[_][2].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,m.pxLength.h),null===S.b_radius)return null;S.color=null===d[_][3]?c.styleAttrs[t.byName.color.qname]:d[_][3],f.push(S)}return f}),new g(v.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(m){return m},null),new g(v.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(m){return m},null),new g(v.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(m){return m},null),new g(v.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(m){return m},null),new g(v.ns_tts,"zIndex","auto",["region"],!1,!0,function(m){var i;return"auto"===m?i=m:(i=parseInt(m),isNaN(i)&&(i=null)),i},null),new g(v.ns_ebutts,"linePadding","0c",["p"],!0,!1,b.parseLength,function(m,i,c,d,f){return b.toComputedLength(d.value,d.unit,null,null,m.cellLength.w,null)}),new g(v.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(m){return m},null),new g(v.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(m){return m},null),new g(v.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(m){return"true"===m},null),new g(v.ns_itts,"fillLineGap","false",["p"],!0,!0,function(m){return"true"===m},null)],t.byQName={},t.all)t.byQName[t.all[P].qname]=t.all[P];for(var D in t.byName={},t.all)t.byName[t.all[D].name]=t.all[D]}(p,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){!function(t){var v=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,b=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,g=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,P={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(m){var i,c=null,d=P[m.toLowerCase()];return void 0!==d?c=d:null!==(i=v.exec(m))?c=[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),void 0!==i[4]?parseInt(i[4],16):255]:null!==(i=b.exec(m))?c=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),255]:null!==(i=g.exec(m))&&(c=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),parseInt(i[4])]),c};var D=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(m){var i,c=null;return null!==(i=D.exec(m))&&(c={value:parseFloat(i[1]),unit:i[2]}),c},t.parseTextShadow=function(m){for(var i=m.match(/([^\(,\)]|\([^\)]+\))+/g),c=[],d=0;d<i.length;d++){var f=i[d].split(" ");if(1===f.length&&"none"===f[0])return"none";if(f.length>1&&f.length<5){var _=[null,null,null,null],S=t.parseLength(f.shift());if(null===S||(_[0]=S,null===(S=t.parseLength(f.shift()))))return null;if(_[1]=S,0===f.length){c.push(_);continue}if(null!==(S=t.parseLength(f[0]))&&(_[2]=S,f.shift()),0===f.length){c.push(_);continue}var x=t.parseColor(f[0]);if(null===x)return null;_[3]=x,c.push(_)}}return c},t.parsePosition=function(m){var i=m.split(" "),c=function(N){return"center"===N||"left"===N||"top"===N||"bottom"===N||"right"===N};if(i.length>4)return null;for(var d=0;d<i.length;d++)if(!c(i[d])){var f=t.parseLength(i[d]);if(null===f)return null;i[d]=f}for(var _={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},S=0;S<i.length;){var x=i[S++];if(c(x)){var A={value:0,unit:"%"};2!==i.length&&S<i.length&&!c(i[S])&&(A=i[S++]),"right"===x?(_.h.edge=x,_.h.offset=A):"bottom"===x?(_.v.edge=x,_.v.offset=A):"left"===x?_.h.offset=A:"top"===x&&(_.v.offset=A)}else{if(1!==i.length&&2!==i.length)return null;1===S?_.h.offset=x:_.v.offset=x}}return _},t.ComputedLength=function(m,i){this.rw=m,this.rh=i},t.ComputedLength.prototype.toUsedLength=function(m,i){return m*this.rw+i*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(m,i,c,d,f,_){return"%"===i&&d?new t.ComputedLength(d.rw*m/100,d.rh*m/100):"em"===i&&c?new t.ComputedLength(c.rw*m,c.rh*m):"c"===i&&f?new t.ComputedLength(m*f.rw,m*f.rh):"px"===i&&_?new t.ComputedLength(m*_.rw,m*_.rh):"rh"===i?new t.ComputedLength(0,m/100):"rw"===i?new t.ComputedLength(m/100,0):null}}(p)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(et,p){et.exports="function"==typeof Object.create?function(t,v){v&&(t.super_=v,t.prototype=Object.create(v.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,v){if(v){t.super_=v;var b=function(){};b.prototype=v.prototype,t.prototype=new b,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=function t(v){var b="string"==typeof v?v.charCodeAt(0):v;return b>=97&&b<=122||b>=65&&b<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),v=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js");et.exports=function b(g){return t(g)||v(g)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=function t(v){var b="string"==typeof v?v.charCodeAt(0):v;return b>=48&&b<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,p){var e={}.toString;et.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){(function(t){function v(D,m){for(var i=0,c=D.length-1;c>=0;c--){var d=D[c];"."===d?D.splice(c,1):".."===d?(D.splice(c,1),i++):i&&(D.splice(c,1),i--)}if(m)for(;i--;i)D.unshift("..");return D}function g(D,m){if(D.filter)return D.filter(m);for(var i=[],c=0;c<D.length;c++)m(D[c],c,D)&&i.push(D[c]);return i}p.resolve=function(){for(var D="",m=!1,i=arguments.length-1;i>=-1&&!m;i--){var c=i>=0?arguments[i]:t.cwd();if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(D=c+"/"+D,m="/"===c.charAt(0))}return(m?"/":"")+(D=v(g(D.split("/"),function(d){return!!d}),!m).join("/"))||"."},p.normalize=function(D){var m=p.isAbsolute(D),i="/"===P(D,-1);return!(D=v(g(D.split("/"),function(c){return!!c}),!m).join("/"))&&!m&&(D="."),D&&i&&(D+="/"),(m?"/":"")+D},p.isAbsolute=function(D){return"/"===D.charAt(0)},p.join=function(){var D=Array.prototype.slice.call(arguments,0);return p.normalize(g(D,function(m,i){if("string"!=typeof m)throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},p.relative=function(D,m){function i(A){for(var N=0;N<A.length&&""===A[N];N++);for(var O=A.length-1;O>=0&&""===A[O];O--);return N>O?[]:A.slice(N,O-N+1)}D=p.resolve(D).substr(1),m=p.resolve(m).substr(1);for(var c=i(D.split("/")),d=i(m.split("/")),f=Math.min(c.length,d.length),_=f,S=0;S<f;S++)if(c[S]!==d[S]){_=S;break}var x=[];for(S=_;S<c.length;S++)x.push("..");return(x=x.concat(d.slice(_))).join("/")},p.sep="/",p.delimiter=":",p.dirname=function(D){if("string"!=typeof D&&(D+=""),0===D.length)return".";for(var m=D.charCodeAt(0),i=47===m,c=-1,d=!0,f=D.length-1;f>=1;--f)if(47===(m=D.charCodeAt(f))){if(!d){c=f;break}}else d=!1;return-1===c?i?"/":".":i&&1===c?"/":D.slice(0,c)},p.basename=function(D,m){var i=function b(D){"string"!=typeof D&&(D+="");var d,m=0,i=-1,c=!0;for(d=D.length-1;d>=0;--d)if(47===D.charCodeAt(d)){if(!c){m=d+1;break}}else-1===i&&(c=!1,i=d+1);return-1===i?"":D.slice(m,i)}(D);return m&&i.substr(-1*m.length)===m&&(i=i.substr(0,i.length-m.length)),i},p.extname=function(D){"string"!=typeof D&&(D+="");for(var m=-1,i=0,c=-1,d=!0,f=0,_=D.length-1;_>=0;--_){var S=D.charCodeAt(_);if(47!==S)-1===c&&(d=!1,c=_+1),46===S?-1===m?m=_:1!==f&&(f=1):-1!==m&&(f=-1);else if(!d){i=_+1;break}}return-1===m||-1===c||0===f||1===f&&m===c-1&&m===i+1?"":D.slice(m,c)};var P=function(D,m,i){return D.substr(m,i)}}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t){et.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function v(b,g,P,D){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var i,c,m=arguments.length;switch(m){case 0:case 1:return t.nextTick(b);case 2:return t.nextTick(function(){b.call(null,g)});case 3:return t.nextTick(function(){b.call(null,g,P)});case 4:return t.nextTick(function(){b.call(null,g,P,D)});default:for(i=new Array(m-1),c=0;c<i.length;)i[c++]=arguments[c];return t.nextTick(function(){b.apply(null,i)})}}}:t}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(et,p){var t,v,e=et.exports={};function b(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function P(A){if(t===setTimeout)return setTimeout(A,0);if((t===b||!t)&&setTimeout)return t=setTimeout,setTimeout(A,0);try{return t(A,0)}catch{try{return t.call(null,A,0)}catch{return t.call(this,A,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:b}catch{t=b}try{v="function"==typeof clearTimeout?clearTimeout:g}catch{v=g}}();var c,m=[],i=!1,d=-1;function f(){!i||!c||(i=!1,c.length?m=c.concat(m):d=-1,m.length&&_())}function _(){if(!i){var A=P(f);i=!0;for(var N=m.length;N;){for(c=m,m=[];++d<N;)c&&c[d].run();d=-1,N=m.length}c=null,i=!1,function D(A){if(v===clearTimeout)return clearTimeout(A);if((v===g||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(A);try{return v(A)}catch{try{return v.call(null,A)}catch{return v.call(this,A)}}}(A)}}function S(A,N){this.fun=A,this.array=N}function x(){}e.nextTick=function(A){var N=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)N[O-1]=arguments[O];m.push(new S(A,N)),1===m.length&&!i&&P(_)},S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=x,e.addListener=x,e.once=x,e.off=x,e.removeListener=x,e.removeAllListeners=x,e.emit=x,e.prependListener=x,e.prependOnceListener=x,e.listeners=function(A){return[]},e.binding=function(A){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(A){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),v=Object.keys||function(_){var S=[];for(var x in _)S.push(x);return S};et.exports=c;var b=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));b.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var g=e(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),P=e(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");b.inherits(c,g);for(var D=v(P.prototype),m=0;m<D.length;m++){var i=D[m];c.prototype[i]||(c.prototype[i]=P.prototype[i])}function c(_){if(!(this instanceof c))return new c(_);g.call(this,_),P.call(this,_),_&&!1===_.readable&&(this.readable=!1),_&&!1===_.writable&&(this.writable=!1),this.allowHalfOpen=!0,_&&!1===_.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||t.nextTick(f,this)}function f(_){_.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(_){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),c.prototype._destroy=function(_,S){this.push(null),this.end(),t.nextTick(S,_)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=b;var t=e(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),v=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function b(g){if(!(this instanceof b))return new b(g);t.call(this,g)}v.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),v.inherits(b,t),b.prototype._transform=function(g,P,D){D(null,g)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t,v){var b=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");et.exports=y;var P,g=e(
/*! isarray */
"./node_modules/isarray/index.js");y.ReadableState=L,e(
/*! events */
"./node_modules/events/events.js");var m=function(be,Q){return be.listeners(Q).length},i=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),c=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,d=t.Uint8Array||function(){};var S=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));S.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var x=e(
/*! util */
0),A=void 0;A=x&&x.debuglog?x.debuglog("stream"):function(){};var C,N=e(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");S.inherits(y,i);var I=["error","close","destroy","pause","resume"];function L(be,Q){var ie=Q instanceof(P=P||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(be=be||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!be.readableObjectMode);var ye=be.highWaterMark,oe=be.readableHighWaterMark;this.highWaterMark=ye||0===ye?ye:ie&&(oe||0===oe)?oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(C||(C=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new C(be.encoding),this.encoding=be.encoding)}function y(be){if(P=P||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof y))return new y(be);this._readableState=new L(be,this),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),i.call(this)}function B(be,Q,ie,ye,oe){var X,ee=be._readableState;return null===Q?(ee.reading=!1,function G(be,Q){if(!Q.ended){if(Q.decoder){var ie=Q.decoder.end();ie&&ie.length&&(Q.buffer.push(ie),Q.length+=Q.objectMode?1:ie.length)}Q.ended=!0,Se(be)}}(be,ee)):(oe||(X=function ne(be,Q){var ie;return!function _(be){return c.isBuffer(be)||be instanceof d}(Q)&&"string"!=typeof Q&&void 0!==Q&&!be.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}(ee,Q)),X?be.emit("error",X):ee.objectMode||Q&&Q.length>0?("string"!=typeof Q&&!ee.objectMode&&Object.getPrototypeOf(Q)!==c.prototype&&(Q=function f(be){return c.from(be)}(Q)),ye?ee.endEmitted?be.emit("error",new Error("stream.unshift() after end event")):z(be,ee,Q,!0):ee.ended?be.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!ie?(Q=ee.decoder.write(Q),ee.objectMode||0!==Q.length?z(be,ee,Q,!1):ge(be,ee)):z(be,ee,Q,!1))):ye||(ee.reading=!1)),function ae(be){return!be.ended&&(be.needReadable||be.length<be.highWaterMark||0===be.length)}(ee)}function z(be,Q,ie,ye){Q.flowing&&0===Q.length&&!Q.sync?(be.emit("data",ie),be.read(0)):(Q.length+=Q.objectMode?1:ie.length,ye?Q.buffer.unshift(ie):Q.buffer.push(ie),Q.needReadable&&Se(be)),ge(be,Q)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),y.prototype.destroy=O.destroy,y.prototype._undestroy=O.undestroy,y.prototype._destroy=function(be,Q){this.push(null),Q(be)},y.prototype.push=function(be,Q){var ye,ie=this._readableState;return ie.objectMode?ye=!0:"string"==typeof be&&((Q=Q||ie.defaultEncoding)!==ie.encoding&&(be=c.from(be,Q),Q=""),ye=!0),B(this,be,Q,!1,ye)},y.prototype.unshift=function(be){return B(this,be,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(be){return C||(C=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new C(be),this._readableState.encoding=be,this};var Fe=8388608;function le(be,Q){return be<=0||0===Q.length&&Q.ended?0:Q.objectMode?1:be!=be?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(be>Q.highWaterMark&&(Q.highWaterMark=function Y(be){return be>=Fe?be=Fe:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=Q.length?be:Q.ended?Q.length:(Q.needReadable=!0,0))}function Se(be){var Q=be._readableState;Q.needReadable=!1,Q.emittedReadable||(A("emitReadable",Q.flowing),Q.emittedReadable=!0,Q.sync?b.nextTick(ce,be):ce(be))}function ce(be){A("emit readable"),be.emit("readable"),he(be)}function ge(be,Q){Q.readingMore||(Q.readingMore=!0,b.nextTick(Ie,be,Q))}function Ie(be,Q){for(var ie=Q.length;!Q.reading&&!Q.flowing&&!Q.ended&&Q.length<Q.highWaterMark&&(A("maybeReadMore read 0"),be.read(0),ie!==Q.length);)ie=Q.length;Q.readingMore=!1}function pe(be){A("readable nexttick read 0"),be.read(0)}function ke(be,Q){Q.reading||(A("resume read 0"),be.read(0)),Q.resumeScheduled=!1,Q.awaitDrain=0,be.emit("resume"),he(be),Q.flowing&&!Q.reading&&be.read(0)}function he(be){var Q=be._readableState;for(A("flow",Q.flowing);Q.flowing&&null!==be.read(););}function we(be,Q){return 0===Q.length?null:(Q.objectMode?ie=Q.buffer.shift():!be||be>=Q.length?(ie=Q.decoder?Q.buffer.join(""):1===Q.buffer.length?Q.buffer.head.data:Q.buffer.concat(Q.length),Q.buffer.clear()):ie=function Te(be,Q,ie){var ye;return be<Q.head.data.length?(ye=Q.head.data.slice(0,be),Q.head.data=Q.head.data.slice(be)):ye=be===Q.head.data.length?Q.shift():ie?function Oe(be,Q){var ie=Q.head,ye=1,oe=ie.data;for(be-=oe.length;ie=ie.next;){var ee=ie.data,X=be>ee.length?ee.length:be;if(oe+=X===ee.length?ee:ee.slice(0,be),0==(be-=X)){X===ee.length?(++ye,Q.head=ie.next?ie.next:Q.tail=null):(Q.head=ie,ie.data=ee.slice(X));break}++ye}return Q.length-=ye,oe}(be,Q):function je(be,Q){var ie=c.allocUnsafe(be),ye=Q.head,oe=1;for(ye.data.copy(ie),be-=ye.data.length;ye=ye.next;){var ee=ye.data,X=be>ee.length?ee.length:be;if(ee.copy(ie,ie.length-be,0,X),0==(be-=X)){X===ee.length?(++oe,Q.head=ye.next?ye.next:Q.tail=null):(Q.head=ye,ye.data=ee.slice(X));break}++oe}return Q.length-=oe,ie}(be,Q),ye}(be,Q.buffer,Q.decoder),ie);var ie}function ft(be){var Q=be._readableState;if(Q.length>0)throw new Error('"endReadable()" called on non-empty stream');Q.endEmitted||(Q.ended=!0,b.nextTick(Ze,Q,be))}function Ze(be,Q){!be.endEmitted&&0===be.length&&(be.endEmitted=!0,Q.readable=!1,Q.emit("end"))}function Re(be,Q){for(var ie=0,ye=be.length;ie<ye;ie++)if(be[ie]===Q)return ie;return-1}y.prototype.read=function(be){A("read",be),be=parseInt(be,10);var Q=this._readableState,ie=be;if(0!==be&&(Q.emittedReadable=!1),0===be&&Q.needReadable&&(Q.length>=Q.highWaterMark||Q.ended))return A("read: emitReadable",Q.length,Q.ended),0===Q.length&&Q.ended?ft(this):Se(this),null;if(0===(be=le(be,Q))&&Q.ended)return 0===Q.length&&ft(this),null;var oe,ye=Q.needReadable;return A("need readable",ye),(0===Q.length||Q.length-be<Q.highWaterMark)&&A("length less than watermark",ye=!0),Q.ended||Q.reading?A("reading or ended",ye=!1):ye&&(A("do read"),Q.reading=!0,Q.sync=!0,0===Q.length&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(be=le(ie,Q))),null===(oe=be>0?we(be,Q):null)?(Q.needReadable=!0,be=0):Q.length-=be,0===Q.length&&(Q.ended||(Q.needReadable=!0),ie!==be&&Q.ended&&ft(this)),null!==oe&&this.emit("data",oe),oe},y.prototype._read=function(be){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(be,Q){var ie=this,ye=this._readableState;switch(ye.pipesCount){case 0:ye.pipes=be;break;case 1:ye.pipes=[ye.pipes,be];break;default:ye.pipes.push(be)}ye.pipesCount+=1,A("pipe count=%d opts=%j",ye.pipesCount,Q);var ee=Q&&!1===Q.end||be===v.stdout||be===v.stderr?Xe:$;function X(tt,gt){A("onunpipe"),tt===ie&&gt&&!1===gt.hasUnpiped&&(gt.hasUnpiped=!0,function q(){A("cleanup"),be.removeListener("close",Ge),be.removeListener("finish",ct),be.removeListener("drain",re),be.removeListener("error",Ee),be.removeListener("unpipe",X),ie.removeListener("end",$),ie.removeListener("end",Xe),ie.removeListener("data",xe),J=!0,ye.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&re()}())}function $(){A("onend"),be.end()}ye.endEmitted?b.nextTick(ee):ie.once("end",ee),be.on("unpipe",X);var re=function Ce(be){return function(){var Q=be._readableState;A("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,0===Q.awaitDrain&&m(be,"data")&&(Q.flowing=!0,he(be))}}(ie);be.on("drain",re);var J=!1;var _e=!1;function xe(tt){A("ondata"),_e=!1,!1===be.write(tt)&&!_e&&((1===ye.pipesCount&&ye.pipes===be||ye.pipesCount>1&&-1!==Re(ye.pipes,be))&&!J&&(A("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,_e=!0),ie.pause())}function Ee(tt){A("onerror",tt),Xe(),be.removeListener("error",Ee),0===m(be,"error")&&be.emit("error",tt)}function Ge(){be.removeListener("finish",ct),Xe()}function ct(){A("onfinish"),be.removeListener("close",Ge),Xe()}function Xe(){A("unpipe"),ie.unpipe(be)}return ie.on("data",xe),function T(be,Q,ie){if("function"==typeof be.prependListener)return be.prependListener(Q,ie);be._events&&be._events[Q]?g(be._events[Q])?be._events[Q].unshift(ie):be._events[Q]=[ie,be._events[Q]]:be.on(Q,ie)}(be,"error",Ee),be.once("close",Ge),be.once("finish",ct),be.emit("pipe",ie),ye.flowing||(A("pipe resume"),ie.resume()),be},y.prototype.unpipe=function(be){var Q=this._readableState,ie={hasUnpiped:!1};if(0===Q.pipesCount)return this;if(1===Q.pipesCount)return be&&be!==Q.pipes||(be||(be=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,be&&be.emit("unpipe",this,ie)),this;if(!be){var ye=Q.pipes,oe=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var ee=0;ee<oe;ee++)ye[ee].emit("unpipe",this,ie);return this}var X=Re(Q.pipes,be);return-1===X||(Q.pipes.splice(X,1),Q.pipesCount-=1,1===Q.pipesCount&&(Q.pipes=Q.pipes[0]),be.emit("unpipe",this,ie)),this},y.prototype.addListener=y.prototype.on=function(be,Q){var ie=i.prototype.on.call(this,be,Q);if("data"===be)!1!==this._readableState.flowing&&this.resume();else if("readable"===be){var ye=this._readableState;!ye.endEmitted&&!ye.readableListening&&(ye.readableListening=ye.needReadable=!0,ye.emittedReadable=!1,ye.reading?ye.length&&Se(this):b.nextTick(pe,this))}return ie},y.prototype.resume=function(){var be=this._readableState;return be.flowing||(A("resume"),be.flowing=!0,function Ae(be,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,b.nextTick(ke,be,Q))}(this,be)),this},y.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(be){var Q=this,ie=this._readableState,ye=!1;for(var oe in be.on("end",function(){if(A("wrapped end"),ie.decoder&&!ie.ended){var X=ie.decoder.end();X&&X.length&&Q.push(X)}Q.push(null)}),be.on("data",function(X){A("wrapped data"),ie.decoder&&(X=ie.decoder.write(X)),ie.objectMode&&null==X||!(ie.objectMode||X&&X.length)||Q.push(X)||(ye=!0,be.pause())}),be)void 0===this[oe]&&"function"==typeof be[oe]&&(this[oe]=function(X){return function(){return be[X].apply(be,arguments)}}(oe));for(var ee=0;ee<I.length;ee++)be.on(I[ee],this.emit.bind(this,I[ee]));return this._read=function(X){A("wrapped _read",X),ye&&(ye=!1,be.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=we}).call(this,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=g;var t=e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),v=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function b(m,i){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=i&&this.push(i),d(m);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function g(m){if(!(this instanceof g))return new g(m);t.call(this,m),this._transformState={afterTransform:b.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&("function"==typeof m.transform&&(this._transform=m.transform),"function"==typeof m.flush&&(this._flush=m.flush)),this.on("prefinish",P)}function P(){var m=this;"function"==typeof this._flush?this._flush(function(i,c){D(m,i,c)}):D(this,null,null)}function D(m,i,c){if(i)return m.emit("error",i);if(null!=c&&m.push(c),m._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(m._transformState.transforming)throw new Error("Calling transform done when still transforming");return m.push(null)}v.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),v.inherits(g,t),g.prototype.push=function(m,i){return this._transformState.needTransform=!1,t.prototype.push.call(this,m,i)},g.prototype._transform=function(m,i,c){throw new Error("_transform() is not implemented")},g.prototype._write=function(m,i,c){var d=this._transformState;if(d.writecb=c,d.writechunk=m,d.writeencoding=i,!d.transforming){var f=this._readableState;(d.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},g.prototype._read=function(m){var i=this._transformState;null!==i.writechunk&&i.writecb&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0},g.prototype._destroy=function(m,i){var c=this;t.prototype._destroy.call(this,m,function(d){i(d),c.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t,v,b){var g=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function D(ke){var he=this;this.next=null,this.entry=null,this.finish=function(){!function Ae(ke,he,we){var Te=ke.entry;for(ke.entry=null;Te;){var Oe=Te.callback;he.pendingcb--,Oe(we),Te=Te.next}he.corkedRequestsFree?he.corkedRequestsFree.next=ke:he.corkedRequestsFree=ke}(he,ke)}}et.exports=T;var i,m=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?v:g.nextTick;T.WritableState=C;var c=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));c.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var d={deprecate:e(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},f=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),_=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,S=b.Uint8Array||function(){};var I,N=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function C(ke,he){i=i||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var we=he instanceof i;this.objectMode=!!(ke=ke||{}).objectMode,we&&(this.objectMode=this.objectMode||!!ke.writableObjectMode);var Te=ke.highWaterMark,Oe=ke.writableHighWaterMark;this.highWaterMark=Te||0===Te?Te:we&&(Oe||0===Oe)?Oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ke.decodeStrings),this.defaultEncoding=ke.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ze){!function Y(ke,he){var we=ke._writableState,Te=we.sync,Oe=we.writecb;if(function Fe(ke){ke.writing=!1,ke.writecb=null,ke.length-=ke.writelen,ke.writelen=0}(we),he)!function ae(ke,he,we,Te,Oe){--he.pendingcb,we?(g.nextTick(Oe,Te),g.nextTick(Ce,ke,he),ke._writableState.errorEmitted=!0,ke.emit("error",Te)):(Oe(Te),ke._writableState.errorEmitted=!0,ke.emit("error",Te),Ce(ke,he))}(ke,we,Te,he,Oe);else{var je=ce(we);!je&&!we.corked&&!we.bufferProcessing&&we.bufferedRequest&&Se(ke,we),Te?m(le,ke,we,je,Oe):le(ke,we,je,Oe)}}(he,Ze)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}function T(ke){if(i=i||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(T,this)||this instanceof i))return new T(ke);this._writableState=new C(ke,this),this.writable=!0,ke&&("function"==typeof ke.write&&(this._write=ke.write),"function"==typeof ke.writev&&(this._writev=ke.writev),"function"==typeof ke.destroy&&(this._destroy=ke.destroy),"function"==typeof ke.final&&(this._final=ke.final)),f.call(this)}function z(ke,he,we,Te,Oe,je){if(!we){var ft=function B(ke,he,we){return!ke.objectMode&&!1!==ke.decodeStrings&&"string"==typeof he&&(he=_.from(he,we)),he}(he,Te,Oe);Te!==ft&&(we=!0,Oe="buffer",Te=ft)}var Ze=he.objectMode?1:Te.length;he.length+=Ze;var Re=he.length<he.highWaterMark;if(Re||(he.needDrain=!0),he.writing||he.corked){var be=he.lastBufferedRequest;he.lastBufferedRequest={chunk:Te,encoding:Oe,isBuf:we,callback:je,next:null},be?be.next=he.lastBufferedRequest:he.bufferedRequest=he.lastBufferedRequest,he.bufferedRequestCount+=1}else ne(ke,he,!1,Ze,Te,Oe,je);return Re}function ne(ke,he,we,Te,Oe,je,ft){he.writelen=Te,he.writecb=ft,he.writing=!0,he.sync=!0,we?ke._writev(Oe,he.onwrite):ke._write(Oe,je,he.onwrite),he.sync=!1}function le(ke,he,we,Te){we||function G(ke,he){0===he.length&&he.needDrain&&(he.needDrain=!1,ke.emit("drain"))}(ke,he),he.pendingcb--,Te(),Ce(ke,he)}function Se(ke,he){he.bufferProcessing=!0;var we=he.bufferedRequest;if(ke._writev&&we&&we.next){var Oe=new Array(he.bufferedRequestCount),je=he.corkedRequestsFree;je.entry=we;for(var ft=0,Ze=!0;we;)Oe[ft]=we,we.isBuf||(Ze=!1),we=we.next,ft+=1;Oe.allBuffers=Ze,ne(ke,he,!0,he.length,Oe,"",je.finish),he.pendingcb++,he.lastBufferedRequest=null,je.next?(he.corkedRequestsFree=je.next,je.next=null):he.corkedRequestsFree=new D(he),he.bufferedRequestCount=0}else{for(;we;){var Re=we.chunk;if(ne(ke,he,!1,he.objectMode?1:Re.length,Re,we.encoding,we.callback),we=we.next,he.bufferedRequestCount--,he.writing)break}null===we&&(he.lastBufferedRequest=null)}he.bufferedRequest=we,he.bufferProcessing=!1}function ce(ke){return ke.ending&&0===ke.length&&null===ke.bufferedRequest&&!ke.finished&&!ke.writing}function ge(ke,he){ke._final(function(we){he.pendingcb--,we&&ke.emit("error",we),he.prefinished=!0,ke.emit("prefinish"),Ce(ke,he)})}function Ce(ke,he){var we=ce(he);return we&&(function Ie(ke,he){!he.prefinished&&!he.finalCalled&&("function"==typeof ke._final?(he.pendingcb++,he.finalCalled=!0,g.nextTick(ge,ke,he)):(he.prefinished=!0,ke.emit("prefinish")))}(ke,he),0===he.pendingcb&&(he.finished=!0,ke.emit("finish"))),we}c.inherits(T,f),C.prototype.getBuffer=function(){for(var he=this.bufferedRequest,we=[];he;)we.push(he),he=he.next;return we},function(){try{Object.defineProperty(C.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(ke){return!!I.call(this,ke)||this===T&&ke&&ke._writableState instanceof C}})):I=function(ke){return ke instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(ke,he,we){var Te=this._writableState,Oe=!1,je=!Te.objectMode&&function A(ke){return _.isBuffer(ke)||ke instanceof S}(ke);return je&&!_.isBuffer(ke)&&(ke=function x(ke){return _.from(ke)}(ke)),"function"==typeof he&&(we=he,he=null),je?he="buffer":he||(he=Te.defaultEncoding),"function"!=typeof we&&(we=O),Te.ended?function L(ke,he){var we=new Error("write after end");ke.emit("error",we),g.nextTick(he,we)}(this,we):(je||function y(ke,he,we,Te){var Oe=!0,je=!1;return null===we?je=new TypeError("May not write null values to stream"):"string"!=typeof we&&void 0!==we&&!he.objectMode&&(je=new TypeError("Invalid non-string/buffer chunk")),je&&(ke.emit("error",je),g.nextTick(Te,je),Oe=!1),Oe}(this,Te,ke,we))&&(Te.pendingcb++,Oe=z(this,Te,je,ke,he,we)),Oe},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var ke=this._writableState;ke.corked&&(ke.corked--,!ke.writing&&!ke.corked&&!ke.finished&&!ke.bufferProcessing&&ke.bufferedRequest&&Se(this,ke))},T.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=he.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((he+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+he);return this._writableState.defaultEncoding=he,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(ke,he,we){we(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(ke,he,we){var Te=this._writableState;"function"==typeof ke?(we=ke,ke=null,he=null):"function"==typeof he&&(we=he,he=null),null!=ke&&this.write(ke,he),Te.corked&&(Te.corked=1,this.uncork()),!Te.ending&&!Te.finished&&function pe(ke,he,we){he.ending=!0,Ce(ke,he),we&&(he.finished?g.nextTick(we):ke.once("finish",we)),he.ended=!0,ke.writable=!1}(this,Te,we)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ke){this._writableState&&(this._writableState.destroyed=ke)}}),T.prototype.destroy=N.destroy,T.prototype._undestroy=N.undestroy,T.prototype._destroy=function(ke,he){this.end(),he(ke)}}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(et,p,e){"use strict";var v=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,b=e(
/*! util */
1);function g(P,D,m){P.copy(D,m)}et.exports=function(){function P(){(function t(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,P),this.head=null,this.tail=null,this.length=0}return P.prototype.push=function(m){var i={data:m,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},P.prototype.unshift=function(m){var i={data:m,next:this.head};0===this.length&&(this.tail=i),this.head=i,++this.length},P.prototype.shift=function(){if(0!==this.length){var m=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,m}},P.prototype.clear=function(){this.head=this.tail=null,this.length=0},P.prototype.join=function(m){if(0===this.length)return"";for(var i=this.head,c=""+i.data;i=i.next;)c+=m+i.data;return c},P.prototype.concat=function(m){if(0===this.length)return v.alloc(0);if(1===this.length)return this.head.data;for(var i=v.allocUnsafe(m>>>0),c=this.head,d=0;c;)g(c.data,i,d),d+=c.data.length,c=c.next;return i},P}(),b&&b.inspect&&b.inspect.custom&&(et.exports.prototype[b.inspect.custom]=function(){var P=b.inspect({length:this.length});return this.constructor.name+" "+P})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function g(P,D){P.emit("error",D)}et.exports={destroy:function v(P,D){var m=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(D?D(P):P&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(g,this,P),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(d){!D&&d?(t.nextTick(g,m,d),m._writableState&&(m._writableState.errorEmitted=!0)):D&&D(d)}),this)},undestroy:function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(et,p,e){var t=e(
/*! buffer */
"./node_modules/buffer/index.js"),v=t.Buffer;function b(P,D){for(var m in P)D[m]=P[m]}function g(P,D,m){return v(P,D,m)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?et.exports=t:(b(t,p),p.Buffer=g),b(v,g),g.from=function(P,D,m){if("number"==typeof P)throw new TypeError("Argument must not be a number");return v(P,D,m)},g.alloc=function(P,D,m){if("number"!=typeof P)throw new TypeError("Argument must be a number");var i=v(P);return void 0!==D?"string"==typeof m?i.fill(D,m):i.fill(D):i.fill(0),i},g.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return v(P)},g.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return t.SlowBuffer(P)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,p,e){(p=et.exports=e(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=p,p.Readable=p,p.Writable=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),p.Duplex=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),p.Transform=e(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),p.PassThrough=e(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(et,p,e){var t=e(
/*! buffer */
"./node_modules/buffer/index.js"),v=t.Buffer;function b(P,D){for(var m in P)D[m]=P[m]}function g(P,D,m){return v(P,D,m)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?et.exports=t:(b(t,p),p.Buffer=g),g.prototype=Object.create(v.prototype),b(v,g),g.from=function(P,D,m){if("number"==typeof P)throw new TypeError("Argument must not be a number");return v(P,D,m)},g.alloc=function(P,D,m){if("number"!=typeof P)throw new TypeError("Argument must be a number");var i=v(P);return void 0!==D?"string"==typeof m?i.fill(D,m):i.fill(D):i.fill(0),i},g.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return v(P)},g.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return t.SlowBuffer(P)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(et,p,e){(function(t){!function(v){v.parser=function(Q,ie){return new g(Q,ie)},v.SAXParser=g,v.SAXStream=f,v.createStream=function d(Q,ie){return new f(Q,ie)},v.MAX_BUFFER_LENGTH=65536;var i,b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function g(Q,ie){if(!(this instanceof g))return new g(Q,ie);var ye=this;(function D(Q){for(var ie=0,ye=b.length;ie<ye;ie++)Q[b[ie]]=""})(ye),ye.q=ye.c="",ye.bufferCheckPosition=v.MAX_BUFFER_LENGTH,ye.opt=ie||{},ye.opt.lowercase=ye.opt.lowercase||ye.opt.lowercasetags,ye.looseCase=ye.opt.lowercase?"toLowerCase":"toUpperCase",ye.tags=[],ye.closed=ye.closedRoot=ye.sawRoot=!1,ye.tag=ye.error=null,ye.strict=!!Q,ye.noscript=!(!Q&&!ye.opt.noscript),ye.state=G.BEGIN,ye.strictEntities=ye.opt.strictEntities,ye.ENTITIES=Object.create(ye.strictEntities?v.XML_ENTITIES:v.ENTITIES),ye.attribList=[],ye.opt.xmlns&&(ye.ns=Object.create(L)),ye.trackPosition=!1!==ye.opt.position,ye.trackPosition&&(ye.position=ye.line=ye.column=0),ce(ye,"onready")}v.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(Q){function ie(){}return ie.prototype=Q,new ie}),Object.keys||(Object.keys=function(Q){var ie=[];for(var ye in Q)Q.hasOwnProperty(ye)&&ie.push(ye);return ie}),g.prototype={end:function(){Ae(this)},write:function be(Q){var ie=this;if(this.error)throw this.error;if(ie.closed)return pe(ie,"Cannot write after close. Assign an onready handler.");if(null===Q)return Ae(ie);"object"==typeof Q&&(Q=Q.toString());for(var ye=0,oe="";oe=Re(Q,ye++),ie.c=oe,oe;)switch(ie.trackPosition&&(ie.position++,"\n"===oe?(ie.line++,ie.column=0):ie.column++),ie.state){case G.BEGIN:if(ie.state=G.BEGIN_WHITESPACE,"\ufeff"===oe)continue;Ze(ie,oe);continue;case G.BEGIN_WHITESPACE:Ze(ie,oe);continue;case G.TEXT:if(ie.sawRoot&&!ie.closedRoot){for(var ee=ye-1;oe&&"<"!==oe&&"&"!==oe;)(oe=Re(Q,ye++))&&ie.trackPosition&&(ie.position++,"\n"===oe?(ie.line++,ie.column=0):ie.column++);ie.textNode+=Q.substring(ee,ye-1)}"<"!==oe||ie.sawRoot&&ie.closedRoot&&!ie.strict?(le(_,oe)&&(!ie.sawRoot||ie.closedRoot)&&ke(ie,"Text data outside of root node."),"&"===oe?ie.state=G.TEXT_ENTITY:ie.textNode+=oe):(ie.state=G.OPEN_WAKA,ie.startTagPosition=ie.position);continue;case G.SCRIPT:"<"===oe?ie.state=G.SCRIPT_ENDING:ie.script+=oe;continue;case G.SCRIPT_ENDING:"/"===oe?ie.state=G.CLOSE_TAG:(ie.script+="<"+oe,ie.state=G.SCRIPT);continue;case G.OPEN_WAKA:"!"===oe?(ie.state=G.SGML_DECL,ie.sgmlDecl=""):Y(_,oe)||(Y(y,oe)?(ie.state=G.OPEN_TAG,ie.tagName=oe):"/"===oe?(ie.state=G.CLOSE_TAG,ie.tagName=""):"?"===oe?(ie.state=G.PROC_INST,ie.procInstName=ie.procInstBody=""):(ke(ie,"Unencoded <"),ie.startTagPosition+1<ie.position&&(oe=new Array(ie.position-ie.startTagPosition).join(" ")+oe),ie.textNode+="<"+oe,ie.state=G.TEXT));continue;case G.SGML_DECL:(ie.sgmlDecl+oe).toUpperCase()===O?(ge(ie,"onopencdata"),ie.state=G.CDATA,ie.sgmlDecl="",ie.cdata=""):ie.sgmlDecl+oe==="--"?(ie.state=G.COMMENT,ie.comment="",ie.sgmlDecl=""):(ie.sgmlDecl+oe).toUpperCase()===C?(ie.state=G.DOCTYPE,(ie.doctype||ie.sawRoot)&&ke(ie,"Inappropriately located doctype declaration"),ie.doctype="",ie.sgmlDecl=""):">"===oe?(ge(ie,"onsgmldeclaration",ie.sgmlDecl),ie.sgmlDecl="",ie.state=G.TEXT):(Y(A,oe)&&(ie.state=G.SGML_DECL_QUOTED),ie.sgmlDecl+=oe);continue;case G.SGML_DECL_QUOTED:oe===ie.q&&(ie.state=G.SGML_DECL,ie.q=""),ie.sgmlDecl+=oe;continue;case G.DOCTYPE:">"===oe?(ie.state=G.TEXT,ge(ie,"ondoctype",ie.doctype),ie.doctype=!0):(ie.doctype+=oe,"["===oe?ie.state=G.DOCTYPE_DTD:Y(A,oe)&&(ie.state=G.DOCTYPE_QUOTED,ie.q=oe));continue;case G.DOCTYPE_QUOTED:ie.doctype+=oe,oe===ie.q&&(ie.q="",ie.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:ie.doctype+=oe,"]"===oe?ie.state=G.DOCTYPE:Y(A,oe)&&(ie.state=G.DOCTYPE_DTD_QUOTED,ie.q=oe);continue;case G.DOCTYPE_DTD_QUOTED:ie.doctype+=oe,oe===ie.q&&(ie.state=G.DOCTYPE_DTD,ie.q="");continue;case G.COMMENT:"-"===oe?ie.state=G.COMMENT_ENDING:ie.comment+=oe;continue;case G.COMMENT_ENDING:"-"===oe?(ie.state=G.COMMENT_ENDED,ie.comment=Ce(ie.opt,ie.comment),ie.comment&&ge(ie,"oncomment",ie.comment),ie.comment=""):(ie.comment+="-"+oe,ie.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==oe?(ke(ie,"Malformed comment"),ie.comment+="--"+oe,ie.state=G.COMMENT):ie.state=G.TEXT;continue;case G.CDATA:"]"===oe?ie.state=G.CDATA_ENDING:ie.cdata+=oe;continue;case G.CDATA_ENDING:"]"===oe?ie.state=G.CDATA_ENDING_2:(ie.cdata+="]"+oe,ie.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===oe?(ie.cdata&&ge(ie,"oncdata",ie.cdata),ge(ie,"onclosecdata"),ie.cdata="",ie.state=G.TEXT):"]"===oe?ie.cdata+="]":(ie.cdata+="]]"+oe,ie.state=G.CDATA);continue;case G.PROC_INST:"?"===oe?ie.state=G.PROC_INST_ENDING:Y(_,oe)?ie.state=G.PROC_INST_BODY:ie.procInstName+=oe;continue;case G.PROC_INST_BODY:if(!ie.procInstBody&&Y(_,oe))continue;"?"===oe?ie.state=G.PROC_INST_ENDING:ie.procInstBody+=oe;continue;case G.PROC_INST_ENDING:">"===oe?(ge(ie,"onprocessinginstruction",{name:ie.procInstName,body:ie.procInstBody}),ie.procInstName=ie.procInstBody="",ie.state=G.TEXT):(ie.procInstBody+="?"+oe,ie.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:Y(B,oe)?ie.tagName+=oe:(he(ie),">"===oe?Oe(ie):"/"===oe?ie.state=G.OPEN_TAG_SLASH:(le(_,oe)&&ke(ie,"Invalid character in tag name"),ie.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===oe?(Oe(ie,!0),je(ie)):(ke(ie,"Forward-slash in opening tag not followed by >"),ie.state=G.ATTRIB);continue;case G.ATTRIB:if(Y(_,oe))continue;">"===oe?Oe(ie):"/"===oe?ie.state=G.OPEN_TAG_SLASH:Y(y,oe)?(ie.attribName=oe,ie.attribValue="",ie.state=G.ATTRIB_NAME):ke(ie,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===oe?ie.state=G.ATTRIB_VALUE:">"===oe?(ke(ie,"Attribute without value"),ie.attribValue=ie.attribName,Te(ie),Oe(ie)):Y(_,oe)?ie.state=G.ATTRIB_NAME_SAW_WHITE:Y(B,oe)?ie.attribName+=oe:ke(ie,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===oe)ie.state=G.ATTRIB_VALUE;else{if(Y(_,oe))continue;ke(ie,"Attribute without value"),ie.tag.attributes[ie.attribName]="",ie.attribValue="",ge(ie,"onattribute",{name:ie.attribName,value:""}),ie.attribName="",">"===oe?Oe(ie):Y(y,oe)?(ie.attribName=oe,ie.state=G.ATTRIB_NAME):(ke(ie,"Invalid attribute name"),ie.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(Y(_,oe))continue;Y(A,oe)?(ie.q=oe,ie.state=G.ATTRIB_VALUE_QUOTED):(ke(ie,"Unquoted attribute value"),ie.state=G.ATTRIB_VALUE_UNQUOTED,ie.attribValue=oe);continue;case G.ATTRIB_VALUE_QUOTED:if(oe!==ie.q){"&"===oe?ie.state=G.ATTRIB_VALUE_ENTITY_Q:ie.attribValue+=oe;continue}Te(ie),ie.q="",ie.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:Y(_,oe)?ie.state=G.ATTRIB:">"===oe?Oe(ie):"/"===oe?ie.state=G.OPEN_TAG_SLASH:Y(y,oe)?(ke(ie,"No whitespace between attributes"),ie.attribName=oe,ie.attribValue="",ie.state=G.ATTRIB_NAME):ke(ie,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(le(N,oe)){"&"===oe?ie.state=G.ATTRIB_VALUE_ENTITY_U:ie.attribValue+=oe;continue}Te(ie),">"===oe?Oe(ie):ie.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(ie.tagName)">"===oe?je(ie):Y(B,oe)?ie.tagName+=oe:ie.script?(ie.script+="</"+ie.tagName,ie.tagName="",ie.state=G.SCRIPT):(le(_,oe)&&ke(ie,"Invalid tagname in closing tag"),ie.state=G.CLOSE_TAG_SAW_WHITE);else{if(Y(_,oe))continue;le(y,oe)?ie.script?(ie.script+="</"+oe,ie.state=G.SCRIPT):ke(ie,"Invalid tagname in closing tag."):ie.tagName=oe}continue;case G.CLOSE_TAG_SAW_WHITE:if(Y(_,oe))continue;">"===oe?je(ie):ke(ie,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var $,re;switch(ie.state){case G.TEXT_ENTITY:$=G.TEXT,re="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:$=G.ATTRIB_VALUE_QUOTED,re="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:$=G.ATTRIB_VALUE_UNQUOTED,re="attribValue"}";"===oe?(ie[re]+=ft(ie),ie.entity="",ie.state=$):Y(ie.entity.length?ne:z,oe)?ie.entity+=oe:(ke(ie,"Invalid character in entity name"),ie[re]+="&"+ie.entity+oe,ie.entity="",ie.state=$);continue;default:throw new Error(ie,"Unknown state: "+ie.state)}return ie.position>=ie.bufferCheckPosition&&function P(Q){for(var ie=Math.max(v.MAX_BUFFER_LENGTH,10),ye=0,oe=0,ee=b.length;oe<ee;oe++){var X=Q[b[oe]].length;if(X>ie)switch(b[oe]){case"textNode":Ie(Q);break;case"cdata":ge(Q,"oncdata",Q.cdata),Q.cdata="";break;case"script":ge(Q,"onscript",Q.script),Q.script="";break;default:pe(Q,"Max buffer length exceeded: "+b[oe])}ye=Math.max(ye,X)}Q.bufferCheckPosition=v.MAX_BUFFER_LENGTH-ye+Q.position}(ie),ie},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function m(Q){Ie(Q),""!==Q.cdata&&(ge(Q,"oncdata",Q.cdata),Q.cdata=""),""!==Q.script&&(ge(Q,"onscript",Q.script),Q.script="")}(this)}};try{i=e(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{i=function(){}}var c=v.EVENTS.filter(function(Q){return"error"!==Q&&"end"!==Q});function f(Q,ie){if(!(this instanceof f))return new f(Q,ie);i.apply(this),this._parser=new g(Q,ie),this.writable=!0,this.readable=!0;var ye=this;this._parser.onend=function(){ye.emit("end")},this._parser.onerror=function(oe){ye.emit("error",oe),ye._parser.error=null},this._decoder=null,c.forEach(function(oe){Object.defineProperty(ye,"on"+oe,{get:function(){return ye._parser["on"+oe]},set:function(ee){if(!ee)return ye.removeAllListeners(oe),ye._parser["on"+oe]=ee,ee;ye.on(oe,ee)},enumerable:!0,configurable:!1})})}(f.prototype=Object.create(i.prototype,{constructor:{value:f}})).write=function(Q){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(Q)){if(!this._decoder){var ie=e(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ie("utf8")}Q=this._decoder.write(Q)}return this._parser.write(Q.toString()),this.emit("data",Q),!0},f.prototype.end=function(Q){return Q&&Q.length&&this.write(Q),this._parser.end(),!0},f.prototype.on=function(Q,ie){var ye=this;return!ye._parser["on"+Q]&&-1!==c.indexOf(Q)&&(ye._parser["on"+Q]=function(){var oe=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);oe.splice(0,0,Q),ye.emit.apply(ye,oe)}),i.prototype.on.call(ye,Q,ie)};var _="\r\n\t ",S="0124356789",x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",A="'\"",N=_+">",O="[CDATA[",C="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",L={xml:I,xmlns:T};_=ae(_),S=ae(S),x=ae(x);var y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ne=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ae(Q){return Q.split("").reduce(function(ie,ye){return ie[ye]=!0,ie},{})}function Y(Q,ie){return function Fe(Q){return"[object RegExp]"===Object.prototype.toString.call(Q)}(Q)?!!ie.match(Q):Q[ie]}function le(Q,ie){return!Y(Q,ie)}A=ae(A),N=ae(N);var Q,ie,ye,G=0;for(var Se in v.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},v.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},v.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(v.ENTITIES).forEach(function(Q){var ie=v.ENTITIES[Q],ye="number"==typeof ie?String.fromCharCode(ie):ie;v.ENTITIES[Q]=ye}),v.STATE)v.STATE[v.STATE[Se]]=Se;function ce(Q,ie,ye){Q[ie]&&Q[ie](ye)}function ge(Q,ie,ye){Q.textNode&&Ie(Q),ce(Q,ie,ye)}function Ie(Q){Q.textNode=Ce(Q.opt,Q.textNode),Q.textNode&&ce(Q,"ontext",Q.textNode),Q.textNode=""}function Ce(Q,ie){return Q.trim&&(ie=ie.trim()),Q.normalize&&(ie=ie.replace(/\s+/g," ")),ie}function pe(Q,ie){return Ie(Q),Q.trackPosition&&(ie+="\nLine: "+Q.line+"\nColumn: "+Q.column+"\nChar: "+Q.c),ie=new Error(ie),Q.error=ie,ce(Q,"onerror",ie),Q}function Ae(Q){return Q.sawRoot&&!Q.closedRoot&&ke(Q,"Unclosed root tag"),Q.state!==G.BEGIN&&Q.state!==G.BEGIN_WHITESPACE&&Q.state!==G.TEXT&&pe(Q,"Unexpected end"),Ie(Q),Q.c="",Q.closed=!0,ce(Q,"onend"),g.call(Q,Q.strict,Q.opt),Q}function ke(Q,ie){if("object"!=typeof Q||!(Q instanceof g))throw new Error("bad call to strictFail");Q.strict&&pe(Q,ie)}function he(Q){Q.strict||(Q.tagName=Q.tagName[Q.looseCase]());var ie=Q.tags[Q.tags.length-1]||Q,ye=Q.tag={name:Q.tagName,attributes:{}};Q.opt.xmlns&&(ye.ns=ie.ns),Q.attribList.length=0,ge(Q,"onopentagstart",ye)}function we(Q,ie){var oe=Q.indexOf(":")<0?["",Q]:Q.split(":"),ee=oe[0],X=oe[1];return ie&&"xmlns"===Q&&(ee="xmlns",X=""),{prefix:ee,local:X}}function Te(Q){if(Q.strict||(Q.attribName=Q.attribName[Q.looseCase]()),-1!==Q.attribList.indexOf(Q.attribName)||Q.tag.attributes.hasOwnProperty(Q.attribName))Q.attribName=Q.attribValue="";else{if(Q.opt.xmlns){var ie=we(Q.attribName,!0),oe=ie.local;if("xmlns"===ie.prefix)if("xml"===oe&&Q.attribValue!==I)ke(Q,"xml: prefix must be bound to "+I+"\nActual: "+Q.attribValue);else if("xmlns"===oe&&Q.attribValue!==T)ke(Q,"xmlns: prefix must be bound to "+T+"\nActual: "+Q.attribValue);else{var ee=Q.tag,X=Q.tags[Q.tags.length-1]||Q;ee.ns===X.ns&&(ee.ns=Object.create(X.ns)),ee.ns[oe]=Q.attribValue}Q.attribList.push([Q.attribName,Q.attribValue])}else Q.tag.attributes[Q.attribName]=Q.attribValue,ge(Q,"onattribute",{name:Q.attribName,value:Q.attribValue});Q.attribName=Q.attribValue=""}}function Oe(Q,ie){if(Q.opt.xmlns){var ye=Q.tag,oe=we(Q.tagName);ye.prefix=oe.prefix,ye.local=oe.local,ye.uri=ye.ns[oe.prefix]||"",ye.prefix&&!ye.uri&&(ke(Q,"Unbound namespace prefix: "+JSON.stringify(Q.tagName)),ye.uri=oe.prefix),ye.ns&&(Q.tags[Q.tags.length-1]||Q).ns!==ye.ns&&Object.keys(ye.ns).forEach(function(Xe){ge(Q,"onopennamespace",{prefix:Xe,uri:ye.ns[Xe]})});for(var X=0,$=Q.attribList.length;X<$;X++){var re=Q.attribList[X],J=re[0],q=re[1],_e=we(J,!0),xe=_e.prefix,Ge=""===xe?"":ye.ns[xe]||"",ct={name:J,value:q,prefix:xe,local:_e.local,uri:Ge};xe&&"xmlns"!==xe&&!Ge&&(ke(Q,"Unbound namespace prefix: "+JSON.stringify(xe)),ct.uri=xe),Q.tag.attributes[J]=ct,ge(Q,"onattribute",ct)}Q.attribList.length=0}Q.tag.isSelfClosing=!!ie,Q.sawRoot=!0,Q.tags.push(Q.tag),ge(Q,"onopentag",Q.tag),ie||(Q.state=Q.noscript||"script"!==Q.tagName.toLowerCase()?G.TEXT:G.SCRIPT,Q.tag=null,Q.tagName=""),Q.attribName=Q.attribValue="",Q.attribList.length=0}function je(Q){if(!Q.tagName)return ke(Q,"Weird empty close tag."),Q.textNode+="</>",void(Q.state=G.TEXT);if(Q.script){if("script"!==Q.tagName)return Q.script+="</"+Q.tagName+">",Q.tagName="",void(Q.state=G.SCRIPT);ge(Q,"onscript",Q.script),Q.script=""}var ie=Q.tags.length,ye=Q.tagName;Q.strict||(ye=ye[Q.looseCase]());for(var oe=ye;ie--&&Q.tags[ie].name!==oe;)ke(Q,"Unexpected close tag");if(ie<0)return ke(Q,"Unmatched closing tag: "+Q.tagName),Q.textNode+="</"+Q.tagName+">",void(Q.state=G.TEXT);Q.tagName=ye;for(var X=Q.tags.length;X-- >ie;){var $=Q.tag=Q.tags.pop();Q.tagName=Q.tag.name,ge(Q,"onclosetag",Q.tagName);var re={};for(var J in $.ns)re[J]=$.ns[J];Q.opt.xmlns&&$.ns!==(Q.tags[Q.tags.length-1]||Q).ns&&Object.keys($.ns).forEach(function(_e){ge(Q,"onclosenamespace",{prefix:_e,uri:$.ns[_e]})})}0===ie&&(Q.closedRoot=!0),Q.tagName=Q.attribValue=Q.attribName="",Q.attribList.length=0,Q.state=G.TEXT}function ft(Q){var oe,ie=Q.entity,ye=ie.toLowerCase(),ee="";return Q.ENTITIES[ie]?Q.ENTITIES[ie]:Q.ENTITIES[ye]?Q.ENTITIES[ye]:("#"===(ie=ye).charAt(0)&&("x"===ie.charAt(1)?(ie=ie.slice(2),ee=(oe=parseInt(ie,16)).toString(16)):(ie=ie.slice(1),ee=(oe=parseInt(ie,10)).toString(10))),ie=ie.replace(/^0+/,""),ee.toLowerCase()!==ie?(ke(Q,"Invalid character entity"),"&"+Q.entity+";"):String.fromCodePoint(oe))}function Ze(Q,ie){"<"===ie?(Q.state=G.OPEN_WAKA,Q.startTagPosition=Q.position):le(_,ie)&&(ke(Q,"Non-whitespace before first tag."),Q.textNode=ie,Q.state=G.TEXT)}function Re(Q,ie){var ye="";return ie<Q.length&&(ye=Q.charAt(ie)),ye}G=v.STATE,String.fromCodePoint||(Q=String.fromCharCode,ie=Math.floor,ye=function(){var ee=[],re=-1,J=arguments.length;if(!J)return"";for(var q="";++re<J;){var _e=Number(arguments[re]);if(!isFinite(_e)||_e<0||_e>1114111||ie(_e)!==_e)throw RangeError("Invalid code point: "+_e);_e<=65535?ee.push(_e):ee.push(55296+((_e-=65536)>>10),_e%1024+56320),(re+1===J||ee.length>16384)&&(q+=Q.apply(null,ee),ee.length=0)}return q},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ye,configurable:!0,writable:!0}):String.fromCodePoint=ye)}(p)}).call(this,e(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(et,p,e){(function(t,v){!function(b,g){"use strict";if(!b.setImmediate){var c,P=1,D={},m=!1,i=b.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(b);T=T&&T.setTimeout?T:b,"[object process]"==={}.toString.call(b.process)?function x(){c=function(L){v.nextTick(function(){S(L)})}}():function A(){if(b.postMessage&&!b.importScripts){var L=!0,y=b.onmessage;return b.onmessage=function(){L=!1},b.postMessage("","*"),b.onmessage=y,L}}()?function N(){var L="setImmediate$"+Math.random()+"$",y=function(B){B.source===b&&"string"==typeof B.data&&0===B.data.indexOf(L)&&S(+B.data.slice(L.length))};b.addEventListener?b.addEventListener("message",y,!1):b.attachEvent("onmessage",y),c=function(B){b.postMessage(L+B,"*")}}():b.MessageChannel?function O(){var L=new MessageChannel;L.port1.onmessage=function(y){S(y.data)},c=function(y){L.port2.postMessage(y)}}():i&&"onreadystatechange"in i.createElement("script")?function C(){var L=i.documentElement;c=function(y){var B=i.createElement("script");B.onreadystatechange=function(){S(y),B.onreadystatechange=null,L.removeChild(B),B=null},L.appendChild(B)}}():function I(){c=function(L){setTimeout(S,0,L)}}(),T.setImmediate=function d(L){"function"!=typeof L&&(L=new Function(""+L));for(var y=new Array(arguments.length-1),B=0;B<y.length;B++)y[B]=arguments[B+1];return D[P]={callback:L,args:y},c(P),P++},T.clearImmediate=f}function f(L){delete D[L]}function S(L){if(m)setTimeout(S,0,L);else{var y=D[L];if(y){m=!0;try{!function _(L){var y=L.callback,B=L.args;switch(B.length){case 0:y();break;case 1:y(B[0]);break;case 2:y(B[0],B[1]);break;case 3:y(B[0],B[1],B[2]);break;default:y.apply(g,B)}}(y)}finally{f(L),m=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,p,e){et.exports=b;var t=e(
/*! events */
"./node_modules/events/events.js").EventEmitter;function b(){t.call(this)}e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(b,t),b.Readable=e(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),b.Writable=e(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),b.Duplex=e(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),b.Transform=e(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),b.PassThrough=e(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),b.Stream=b,b.prototype.pipe=function(g,P){var D=this;function m(x){g.writable&&!1===g.write(x)&&D.pause&&D.pause()}function i(){D.readable&&D.resume&&D.resume()}D.on("data",m),g.on("drain",i),!g._isStdio&&(!P||!1!==P.end)&&(D.on("end",d),D.on("close",f));var c=!1;function d(){c||(c=!0,g.end())}function f(){c||(c=!0,"function"==typeof g.destroy&&g.destroy())}function _(x){if(S(),0===t.listenerCount(this,"error"))throw x}function S(){D.removeListener("data",m),g.removeListener("drain",i),D.removeListener("end",d),D.removeListener("close",f),D.removeListener("error",_),g.removeListener("error",_),D.removeListener("end",S),D.removeListener("close",S),g.removeListener("close",S)}return D.on("error",_),g.on("error",_),D.on("end",S),D.on("close",S),g.on("close",S),g.emit("pipe",D),g}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,v=t.isEncoding||function(C){switch((C=""+C)&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(C){var I;switch(this.encoding=function g(C){var I=function b(C){if(!C)return"utf8";for(var I;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(I)return;C=(""+C).toLowerCase(),I=!0}}(C);if("string"!=typeof I&&(t.isEncoding===v||!v(C)))throw new Error("Unknown encoding: "+C);return I||C}(C),this.encoding){case"utf16le":this.text=_,this.end=S,I=4;break;case"utf8":this.fillLast=c,I=4;break;case"base64":this.text=x,this.end=A,I=3;break;default:return this.write=N,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}function D(C){return C<=127?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function c(C){var I=this.lastTotal-this.lastNeed,T=function i(C,I,T){if(128!=(192&I[0]))return C.lastNeed=0,"\ufffd";if(C.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return C.lastNeed=1,"\ufffd";if(C.lastNeed>2&&I.length>2&&128!=(192&I[2]))return C.lastNeed=2,"\ufffd"}}(this,C);return void 0!==T?T:this.lastNeed<=C.length?(C.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,I,0,C.length),void(this.lastNeed-=C.length))}function _(C,I){if((C.length-I)%2==0){var T=C.toString("utf16le",I);if(T){var L=T.charCodeAt(T.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",I,C.length-1)}function S(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function x(C,I){var T=(C.length-I)%3;return 0===T?C.toString("base64",I):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",I,C.length-T))}function A(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function N(C){return C.toString(this.encoding)}function O(C){return C&&C.length?this.write(C):""}p.StringDecoder=P,P.prototype.write=function(C){if(0===C.length)return"";var I,T;if(this.lastNeed){if(void 0===(I=this.fillLast(C)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<C.length?I?I+this.text(C,T):this.text(C,T):I||""},P.prototype.end=function f(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+"\ufffd":I},P.prototype.text=function d(C,I){var T=function m(C,I,T){var L=I.length-1;if(L<T)return 0;var y=D(I[L]);return y>=0?(y>0&&(C.lastNeed=y-1),y):--L<T||-2===y?0:(y=D(I[L]))>=0?(y>0&&(C.lastNeed=y-2),y):--L<T||-2===y?0:(y=D(I[L]))>=0?(y>0&&(2===y?y=0:C.lastNeed=y-3),y):0}(this,C,I);if(!this.lastNeed)return C.toString("utf8",I);this.lastTotal=T;var L=C.length-(T-this.lastNeed);return C.copy(this.lastChar,0,L),C.toString("utf8",I,L)},P.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){(function(t){var v=typeof t<"u"&&t||typeof self<"u"&&self||window,b=Function.prototype.apply;function g(P,D){this._id=P,this._clearFn=D}p.setTimeout=function(){return new g(b.call(setTimeout,v,arguments),clearTimeout)},p.setInterval=function(){return new g(b.call(setInterval,v,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(P){P&&P.close()},g.prototype.unref=g.prototype.ref=function(){},g.prototype.close=function(){this._clearFn.call(v,this._id)},p.enroll=function(P,D){clearTimeout(P._idleTimeoutId),P._idleTimeout=D},p.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},p._unrefActive=p.active=function(P){clearTimeout(P._idleTimeoutId);var D=P._idleTimeout;D>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},D))},e(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),p.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,p.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(et,p,e){var t;!function(v,b){"use strict";var m="function",i="undefined",c="object",d="string",_="model",S="name",x="type",A="vendor",N="version",O="architecture",C="console",I="mobile",T="tablet",L="smarttv",y="wearable",B="embedded",ne="Amazon",ae="Apple",Y="BlackBerry",le="Browser",G="Chrome",ce="Firefox",ge="Google",pe="Microsoft",Ae="Motorola",ke="Opera",he="Samsung",Te="Sony",Oe="Xiaomi",je="Zebra",ft="Facebook",Re=function(xe){for(var Ee={},Ge=0;Ge<xe.length;Ge++)Ee[xe[Ge].toUpperCase()]=xe[Ge];return Ee},be=function(xe,Ee){return typeof xe===d&&-1!==Q(Ee).indexOf(Q(xe))},Q=function(xe){return xe.toLowerCase()},ye=function(xe,Ee){if(typeof xe===d)return xe=xe.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ee===i?xe:xe.substring(0,350)},oe=function(xe,Ee){for(var ct,Xe,tt,gt,Qe,yt,Ge=0;Ge<Ee.length&&!Qe;){var Dt=Ee[Ge],fe=Ee[Ge+1];for(ct=Xe=0;ct<Dt.length&&!Qe;)if(Qe=Dt[ct++].exec(xe))for(tt=0;tt<fe.length;tt++)yt=Qe[++Xe],typeof(gt=fe[tt])===c&&gt.length>0?2===gt.length?this[gt[0]]=typeof gt[1]==m?gt[1].call(this,yt):gt[1]:3===gt.length?this[gt[0]]=typeof gt[1]!==m||gt[1].exec&&gt[1].test?yt?yt.replace(gt[1],gt[2]):b:yt?gt[1].call(this,yt,gt[2]):b:4===gt.length&&(this[gt[0]]=yt?gt[3].call(this,yt.replace(gt[1],gt[2])):b):this[gt]=yt||b;Ge+=2}},ee=function(xe,Ee){for(var Ge in Ee)if(typeof Ee[Ge]===c&&Ee[Ge].length>0){for(var ct=0;ct<Ee[Ge].length;ct++)if(be(Ee[Ge][ct],xe))return"?"===Ge?b:Ge}else if(be(Ee[Ge],xe))return"?"===Ge?b:Ge;return xe},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},re={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[N,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[N,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,N],[/opios[\/ ]+([\w\.]+)/i],[N,[S,ke+" Mini"]],[/\bopr\/([\w\.]+)/i],[N,[S,ke]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[S,N],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[N,[S,"UC"+le]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[N,[S,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[N,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[N,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[N,[S,"IE"]],[/yabrowser\/([\w\.]+)/i],[N,[S,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+le],N],[/\bfocus\/([\w\.]+)/i],[N,[S,ce+" Focus"]],[/\bopt\/([\w\.]+)/i],[N,[S,ke+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[N,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[N,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[N,[S,ke+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[N,[S,"MIUI "+le]],[/fxios\/([-\w\.]+)/i],[N,[S,ce]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360 "+le]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1 "+le],N],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],N],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[S,N],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,ft],N],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[S,N],[/\bgsa\/([\w\.]+) .*safari\//i],[N,[S,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[N,[S,G+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,G+" WebView"],N],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[N,[S,"Android "+le]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,N],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[N,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[N,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[N,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[S,N],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],N],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[N,[S,ce+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,N]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,Q]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",Q]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[A,he],[x,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[A,he],[x,I]],[/\((ip(?:hone|od)[\w ]*);/i],[_,[A,ae],[x,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[A,ae],[x,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[A,"Huawei"],[x,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[A,"Huawei"],[x,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[A,Oe],[x,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[A,Oe],[x,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[A,"OPPO"],[x,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[A,"Vivo"],[x,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[_,[A,"Realme"],[x,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[A,Ae],[x,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[A,Ae],[x,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[A,"LG"],[x,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[A,"LG"],[x,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[A,"Lenovo"],[x,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[A,"Nokia"],[x,I]],[/(pixel c)\b/i],[_,[A,ge],[x,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[A,ge],[x,I]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[A,Te],[x,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[A,Te],[x,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[A,"OnePlus"],[x,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[A,ne],[x,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[A,ne],[x,I]],[/(playbook);[-\w\),; ]+(rim)/i],[_,A,[x,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[A,Y],[x,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[A,"ASUS"],[x,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[A,"ASUS"],[x,I]],[/(nexus 9)/i],[_,[A,"HTC"],[x,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[A,[_,/_/g," "],[x,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[A,"Acer"],[x,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[A,"Meizu"],[x,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[A,"Sharp"],[x,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[A,_,[x,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[A,_,[x,T]],[/(surface duo)/i],[_,[A,pe],[x,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[A,"Fairphone"],[x,I]],[/(u304aa)/i],[_,[A,"AT&T"],[x,I]],[/\bsie-(\w*)/i],[_,[A,"Siemens"],[x,I]],[/\b(rct\w+) b/i],[_,[A,"RCA"],[x,T]],[/\b(venue[\d ]{2,7}) b/i],[_,[A,"Dell"],[x,T]],[/\b(q(?:mv|ta)\w+) b/i],[_,[A,"Verizon"],[x,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[_,[A,"Barnes & Noble"],[x,T]],[/\b(tm\d{3}\w+) b/i],[_,[A,"NuVision"],[x,T]],[/\b(k88) b/i],[_,[A,"ZTE"],[x,T]],[/\b(nx\d{3}j) b/i],[_,[A,"ZTE"],[x,I]],[/\b(gen\d{3}) b.+49h/i],[_,[A,"Swiss"],[x,I]],[/\b(zur\d{3}) b/i],[_,[A,"Swiss"],[x,T]],[/\b((zeki)?tb.*\b) b/i],[_,[A,"Zeki"],[x,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[A,"Dragon Touch"],_,[x,T]],[/\b(ns-?\w{0,9}) b/i],[_,[A,"Insignia"],[x,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[_,[A,"NextBook"],[x,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[A,"Voice"],_,[x,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[A,"LvTel"],_,[x,I]],[/\b(ph-1) /i],[_,[A,"Essential"],[x,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[_,[A,"Envizen"],[x,T]],[/\b(trio[-\w\. ]+) b/i],[_,[A,"MachSpeed"],[x,T]],[/\btu_(1491) b/i],[_,[A,"Rotor"],[x,T]],[/(shield[\w ]+) b/i],[_,[A,"Nvidia"],[x,T]],[/(sprint) (\w+)/i],[A,_,[x,I]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[A,pe],[x,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[A,je],[x,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[A,je],[x,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[A,_,[x,C]],[/droid.+; (shield) bui/i],[_,[A,"Nvidia"],[x,C]],[/(playstation [345portablevi]+)/i],[_,[A,Te],[x,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[A,pe],[x,C]],[/smart-tv.+(samsung)/i],[A,[x,L]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[A,he],[x,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[A,"LG"],[x,L]],[/(apple) ?tv/i],[A,[_,ae+" TV"],[x,L]],[/crkey/i],[[_,G+"cast"],[A,ge],[x,L]],[/droid.+aft(\w)( bui|\))/i],[_,[A,ne],[x,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[A,"Sharp"],[x,L]],[/(bravia[\w ]+)( bui|\))/i],[_,[A,Te],[x,L]],[/(mitv-\w{5}) bui/i],[_,[A,Oe],[x,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[A,ye],[_,ye],[x,L]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[x,L]],[/((pebble))app/i],[A,_,[x,y]],[/droid.+; (glass) \d/i],[_,[A,ge],[x,y]],[/droid.+; (wt63?0{2,3})\)/i],[_,[A,je],[x,y]],[/(quest( 2)?)/i],[_,[A,ft],[x,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[A,[x,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[_,[x,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[x,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[x,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[x,I]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[A,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[N,[S,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[N,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[S,N],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[N,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,N],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[S,[N,ee,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,"Windows"],[N,ee,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[N,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,"Mac OS"],[N,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[N,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,N],[/\(bb(10);/i],[N,[S,Y]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[N,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[N,[S,ce+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[N,[S,"webOS"]],[/crkey\/([\d\.]+)/i],[N,[S,G+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[S,"Chromium OS"],N],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,N],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],N],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[S,N]]},J=function(xe,Ee){if(typeof xe===c&&(Ee=xe,xe=b),!(this instanceof J))return new J(xe,Ee).getResult();var Ge=xe||(typeof v!==i&&v.navigator&&v.navigator.userAgent?v.navigator.userAgent:""),ct=Ee?function(xe,Ee){var Ge={};for(var ct in xe)Ge[ct]=Ee[ct]&&Ee[ct].length%2==0?Ee[ct].concat(xe[ct]):xe[ct];return Ge}(re,Ee):re;return this.getBrowser=function(){var Xe={};return Xe[S]=b,Xe[N]=b,oe.call(Xe,Ge,ct.browser),Xe.major=function(xe){return typeof xe===d?xe.replace(/[^\d\.]/g,"").split(".")[0]:b}(Xe.version),Xe},this.getCPU=function(){var Xe={};return Xe[O]=b,oe.call(Xe,Ge,ct.cpu),Xe},this.getDevice=function(){var Xe={};return Xe[A]=b,Xe[_]=b,Xe[x]=b,oe.call(Xe,Ge,ct.device),Xe},this.getEngine=function(){var Xe={};return Xe[S]=b,Xe[N]=b,oe.call(Xe,Ge,ct.engine),Xe},this.getOS=function(){var Xe={};return Xe[S]=b,Xe[N]=b,oe.call(Xe,Ge,ct.os),Xe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ge},this.setUA=function(Xe){return Ge=typeof Xe===d&&Xe.length>350?ye(Xe,350):Xe,this},this.setUA(Ge),this};J.VERSION="1.0.32",J.BROWSER=Re([S,N,"major"]),J.CPU=Re([O]),J.DEVICE=Re([_,A,x,C,I,L,T,y,B]),J.ENGINE=J.OS=Re([S,N]),typeof p!==i?(typeof et!==i&&et.exports&&(p=et.exports=J),p.UAParser=J):e(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return J}.call(p,e,p,et))!==b&&(et.exports=t):typeof v!==i&&(v.UAParser=J);var q=typeof v!==i&&(v.jQuery||v.Zepto);if(q&&!q.ua){var _e=new J;q.ua=_e.getResult(),q.ua.get=function(){return _e.getUA()},q.ua.set=function(xe){_e.setUA(xe);var Ee=_e.getResult();for(var Ge in Ee)q.ua[Ge]=Ee[Ge]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){(function(t){function b(g){try{if(!t.localStorage)return!1}catch{return!1}var P=t.localStorage[g];return null!=P&&"true"===String(P).toLowerCase()}et.exports=function v(g,P){if(b("noDeprecation"))return g;var D=!1;return function m(){if(!D){if(b("throwDeprecation"))throw new Error(P);b("traceDeprecation")?console.trace(P):console.warn(P),D=!0}return g.apply(this,arguments)}}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(et,p){(function(e){et.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(et,p){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}et.exports=e},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./EventBus */
"./src/core/EventBus.js"),v=e(
/*! ./events/Events */
"./src/core/events/Events.js"),b=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),P=1,D=2,m=3,i=4,c=5;function d(_){_=_||{};var O,C,I,T,S=this.context,x=Object(t.default)(S).getInstance(),A=_.settings,N=[];function y(ce){return ce&&ce.bind?ce.bind(window.console):window.console.log.bind(window.console)}function ae(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[P,this].concat(ge))}function Fe(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[D,this].concat(ge))}function Y(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[m,this].concat(ge))}function le(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[i,this].concat(ge))}function G(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[c,this].concat(ge))}function Se(ce,ge){var Ie="",Ce=null;C&&(Ce=(new Date).getTime(),Ie+="["+(Ce-T)+"]"),I&&ge&&ge.getClassName&&(Ie+="["+ge.getClassName()+"]",ge.getType&&(Ie+="["+ge.getType()+"]")),Ie.length>0&&(Ie+=" ");for(var pe=arguments.length,Ae=new Array(pe>2?pe-2:0),ke=2;ke<pe;ke++)Ae[ke-2]=arguments[ke];Array.apply(null,Ae).forEach(function(he){Ie+=he+" "}),N[ce]&&A.get().debug.logLevel>=ce&&N[ce](Ie),A&&A.get().debug.dispatchEvent&&x.trigger(v.default.LOG,{message:Ie,level:ce})}return O={getLogger:function B(ce){return{fatal:ae.bind(ce),error:Fe.bind(ce),warn:Y.bind(ce),info:le.bind(ce),debug:G.bind(ce)}},setLogTimestampVisible:function z(ce){C=ce},setCalleeNameVisible:function ne(ce){I=ce}},function L(){C=!0,I=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(N[P]=y(window.console.error),N[D]=y(window.console.error),N[m]=y(window.console.warn),N[i]=y(window.console.info),N[c]=y(window.console.debug))}(),O}d.__dashjs_factory_name="Debug";var f=b.default.getSingletonFactory(d);f.LOG_LEVEL_NONE=0,f.LOG_LEVEL_FATAL=P,f.LOG_LEVEL_ERROR=D,f.LOG_LEVEL_WARNING=m,f.LOG_LEVEL_INFO=i,f.LOG_LEVEL_DEBUG=c,b.default.updateSingletonFactory(d.__dashjs_factory_name,f),p.default=f},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function P(){var m={};function f(x,A,N){var O=-1;return m[x]&&m[x].some(function(C,I){if(C&&C.callback===A&&(!N||N===C.scope))return O=I,!0}),O}return{on:function i(x,A,N){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!x)throw new Error("event type cannot be null or undefined");if(!A||"function"!=typeof A)throw new Error("listener must be a function: "+A);var C=O.priority||0;if(!(f(x,A,N)>=0)){m[x]=m[x]||[];var I={callback:A,scope:N,priority:C};N&&N.getStreamId&&(I.streamId=N.getStreamId()),N&&N.getType&&(I.mediaType=N.getType()),O&&O.mode&&(I.mode=O.mode),m[x].some(function(L,y){if(L&&C>L.priority)return m[x].splice(y,0,I),!0})||m[x].push(I)}},off:function c(x,A,N){if(x&&A&&m[x]){var O=f(x,A,N);O<0||(m[x][O]=null)}},trigger:function d(x){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(x&&m[x]){if((A=A||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");A.type=x,N.streamId&&(A.streamId=N.streamId),N.mediaType&&(A.mediaType=N.mediaType),m[x].filter(function(O){return!(!O||N.streamId&&O.streamId&&O.streamId!==N.streamId||N.mediaType&&O.mediaType&&O.mediaType!==N.mediaType||N.mode&&O.mode&&O.mode!==N.mode||!O.mode&&N.mode&&N.mode===v.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,A)})}},reset:function _(){m={}}}}P.__dashjs_factory_name="EventBus";var D=t.default.getSingletonFactory(P);D.EVENT_PRIORITY_LOW=0,D.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(P.__dashjs_factory_name,D),p.default=D},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=function(){var v,b=[],g={},P={};function m(I,T){for(var L in b){var y=b[L];if(y.context===I&&y.name===T)return y.instance}return null}function d(I,T){return T[I]}function f(I,T,L){I in L&&(L[I]=T)}function C(I,T,L){var y,B=I.__dashjs_factory_name,z=T[B];if(z){var ne=z.instance;if(!z.override)return ne.apply({context:T,factory:v},L);for(var ae in y=I.apply({context:T},L),ne=ne.apply({context:T,factory:v,parent:y},L))y.hasOwnProperty(ae)&&(y[ae]=ne[ae])}else y=I.apply({context:T},L);return y.getClassName=function(){return B},y}return v={extend:function D(I,T,L,y){!y[I]&&T&&(y[I]={instance:T,override:L})},getSingletonInstance:m,setSingletonInstance:function i(I,T,L){for(var y in b){var B=b[y];if(B.context===I&&B.name===T)return void(b[y].instance=L)}b.push({name:T,context:I,instance:L})},deleteSingletonInstances:function c(I){b=b.filter(function(T){return T.context!==I})},getSingletonFactory:function O(I){var T=d(I.__dashjs_factory_name,g);return T||(T=function(y){var B;return void 0===y&&(y={}),{getInstance:function(){return B||(B=m(y,I.__dashjs_factory_name)),B||(B=C(I,y,arguments),b.push({name:I.__dashjs_factory_name,context:y,instance:B})),B}}},g[I.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function N(I){return d(I,g)},updateSingletonFactory:function A(I,T){f(I,T,g)},getClassFactory:function x(I){var T=d(I.__dashjs_factory_name,P);return T||(T=function(y){return void 0===y&&(y={}),{create:function(){return C(I,y,arguments)}}},P[I.__dashjs_factory_name]=T),T},getClassFactoryByName:function S(I){return d(I,P)},updateClassFactory:function _(I,T){f(I,T,P)}}}();p.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./Utils.js */
"./src/core/Utils.js"),b=e(
/*! ../core/Debug */
"./src/core/Debug.js"),g=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),P=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),D=e(
/*! ./EventBus */
"./src/core/EventBus.js"),m=e(
/*! ./events/Events */
"./src/core/events/Events.js");function i(x){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(x)}function c(x,A,N){return(A=function d(x){var A=function f(x,A){if("object"!==i(x)||null===x)return x;var N=x[Symbol.toPrimitive];if(void 0!==N){var O=N.call(x,A||"default");if("object"!==i(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(x)}(x,"string");return"symbol"===i(A)?A:String(A)}(A))in x?Object.defineProperty(x,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):x[A]=N,x}function _(){var x,A,O=this.context,C=Object(D.default)(O).getInstance(),I={"streaming.delay.liveDelay":m.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":m.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":m.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":m.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":m.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:b.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:g.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:g.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:g.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:g.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(x={},c(x,P.HTTPRequest.MPD_TYPE,500),c(x,P.HTTPRequest.XLINK_EXPANSION_TYPE,500),c(x,P.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.INIT_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.LICENSE,1e3),c(x,P.HTTPRequest.OTHER_TYPE,1e3),c(x,"lowLatencyReductionFactor",10),x),retryAttempts:(A={},c(A,P.HTTPRequest.MPD_TYPE,3),c(A,P.HTTPRequest.XLINK_EXPANSION_TYPE,1),c(A,P.HTTPRequest.MEDIA_SEGMENT_TYPE,3),c(A,P.HTTPRequest.INIT_SEGMENT_TYPE,3),c(A,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),c(A,P.HTTPRequest.INDEX_SEGMENT_TYPE,3),c(A,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),c(A,P.HTTPRequest.LICENSE,3),c(A,P.HTTPRequest.OTHER_TYPE,3),c(A,"lowLatencyMultiplyFactor",5),A),abr:{movingAverageMethod:g.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:g.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:g.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:g.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},L=v.default.clone(T);function y(ae,Fe,Y){for(var le in ae)ae.hasOwnProperty(le)&&(Fe.hasOwnProperty(le)?"object"!==i(ae[le])||ae[le]instanceof Array||null===ae[le]?(Fe[le]=v.default.clone(ae[le]),I[Y+le]&&C.trigger(I[Y+le])):y(ae[le],Fe[le],Y.slice()+le+"."):console.error("Settings parameter "+Y+le+" is not supported"))}return{get:function B(){return L},update:function z(ae){"object"===i(ae)&&y(ae,L,"")},reset:function ne(){L=v.default.clone(T)}}}_.__dashjs_factory_name="Settings";var S=t.default.getSingletonFactory(_);p.default=S},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),v=e.n(t),b=e(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function P(_){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}function m(_,S){for(var x=0;x<S.length;x++){var A=S[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,c(A.key),A)}}function c(_){var S=function d(_,S){if("object"!==P(_)||null===_)return _;var x=_[Symbol.toPrimitive];if(void 0!==x){var A=x.call(_,S||"default");if("object"!==P(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(_)}(_,"string");return"symbol"===P(S)?S:String(S)}var f=function(){function _(){!function D(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_)}return function i(_,S,x){return S&&m(_.prototype,S),x&&m(_,x),Object.defineProperty(_,"prototype",{writable:!1}),_}(_,null,[{key:"mixin",value:function(x,A,N){var O,C={};if(x)for(var I in A)A.hasOwnProperty(I)&&(O=A[I],(!(I in x)||x[I]!==O&&(!(I in C)||C[I]!==O))&&(x[I]="object"===P(x[I])&&null!==x[I]?_.mixin(x[I],O,N):N(O)));return x}},{key:"clone",value:function(x){if(!x||"object"!==P(x))return x;var A;if(x instanceof Array){A=[];for(var N=0,O=x.length;N<O;++N)N in x&&A.push(_.clone(x[N]))}else A={};return _.mixin(A,x,_.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(x,A){try{if(!A||0===A.length)return x;var N=new URL(x);return A.forEach(function(O){O.key&&O.value&&N.searchParams.set(O.key,O.value)}),N.href}catch{return x}}},{key:"parseHttpHeaders",value:function(x){var A={};if(!x)return A;for(var N=x.trim().split("\r\n"),O=0,C=N.length;O<C;O++){var I=N[O],T=I.indexOf(": ");T>0&&(A[I.substring(0,T)]=I.substring(T+2))}return A}},{key:"generateUuid",value:function(){var x=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(N){var O=(x+16*Math.random())%16|0;return x=Math.floor(x/16),("x"==N?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(x){var A=0;if(0===x.length)return A;for(var N=0;N<x.length;N++)A=(A<<5)-A+x.charCodeAt(N),A|=0;return A}},{key:"getRelativeUrl",value:function(x,A){try{var N=new URL(x),O=new URL(A);if(N.protocol=O.protocol,N.origin!==O.origin)return A;var C=v.a.relative(N.pathname.substr(0,N.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),I=0===C.length?1:0;return C+=O.pathname.substr(O.pathname.lastIndexOf("/")+I,O.pathname.length-1),O.pathname.length<C.length?O.pathname:C}catch{return A}}},{key:"parseUserAgent",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var A=null===x&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(b.UAParser)(A)}catch{return{}}}}]),_}();p.default=f},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(et,p,e){"use strict";e.r(p),e.d(p,"getVersionString",function(){return v});var t="4.5.2";function v(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var C=d(I);function I(){var T;return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),(T=C.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));p.default=N},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i)}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"extend",value:function(d,f){if(d){var _=!!f&&f.override,S=!!f&&f.publicOnly;for(var x in d)!d.hasOwnProperty(x)||this[x]&&!_||S&&-1===d[x].indexOf("public_")||(this[x]=d[x])}}}]),i}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}function b(N,O){for(var C=0;C<O.length;C++){var I=O[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,P(I.key),I)}}function P(N){var O=function D(N,O){if("object"!==v(N)||null===N)return N;var C=N[Symbol.toPrimitive];if(void 0!==C){var I=C.call(N,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(N)}(N,"string");return"symbol"===v(O)?O:String(O)}function i(N,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),O&&c(N,O)}function c(N,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(N,O)}function d(N){var O=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=x(N);if(O){var L=x(this).constructor;T=Reflect.construct(I,arguments,L)}else T=I.apply(this,arguments);return function f(N,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function _(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N)}(this,T)}}function x(N){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(N)}p.default=function(N){i(C,N);var O=d(C);function C(){var I;return function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,C),(I=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",I.BUFFERING_COMPLETED="bufferingCompleted",I.BUFFER_CLEARED="bufferCleared",I.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",I.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",I.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",I.CURRENT_TRACK_CHANGED="currentTrackChanged",I.DATA_UPDATE_COMPLETED="dataUpdateCompleted",I.INBAND_EVENTS="inbandEvents",I.INITIAL_STREAM_SWITCH="initialStreamSwitch",I.INIT_FRAGMENT_LOADED="initFragmentLoaded",I.INIT_FRAGMENT_NEEDED="initFragmentNeeded",I.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",I.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",I.LOADING_COMPLETED="loadingCompleted",I.LOADING_PROGRESS="loadingProgress",I.LOADING_DATA_PROGRESS="loadingDataProgress",I.LOADING_ABANDONED="loadingAborted",I.MANIFEST_UPDATED="manifestUpdated",I.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",I.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",I.QUOTA_EXCEEDED="quotaExceeded",I.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",I.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",I.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",I.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",I.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",I.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",I.SOURCE_BUFFER_ERROR="sourceBufferError",I.STREAMS_COMPOSED="streamsComposed",I.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",I.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",I.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",I.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",I.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",I.URL_RESOLUTION_FAILED="urlResolutionFailed",I.VIDEO_CHUNK_RECEIVED="videoChunkReceived",I.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",I.XLINK_ELEMENT_LOADED="xlinkElementLoaded",I.XLINK_READY="xlinkReady",I.SEEK_TARGET="seekTarget",I.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",I.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",I.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",I.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",I.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",I}return function g(N,O,C){return O&&b(N.prototype,O),C&&b(N,C),Object.defineProperty(N,"prototype",{writable:!1}),N}(C)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var A=function(O){i(I,O);var C=d(I);function I(){return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),C.apply(this,arguments)}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),N=new A;p.default=N},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i)}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"extend",value:function(d,f){if(d){var _=!!f&&f.override,S=!!f&&f.publicOnly;for(var x in d)!d.hasOwnProperty(x)||this[x]&&!_||S&&-1===d[x].indexOf("public_")||(this[x]=d[x])}}}]),i}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),v=e(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),b=e(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),g=e(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),P=e(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),D=e(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),m=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),c=e(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),d=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),f=e.n(d);function _(){var S,x,A,N,O,C,I,T=this.context;function ae(He){return x.getRolesForAdaptation(He).filter(function(ze){return ze.value===t.default.MAIN})[0]}function Fe(He,ze,st){var at=x.getAdaptationsForType(N[0].mpd.manifest,He,ze);if(!at||0===at.length)return null;if(at.length>1&&st){var St=G(st,ze);if(O[st.id]&&O[st.id][ze])for(var bt=0,xt=at.length;bt<xt;bt++)if(Y(O[st.id][ze],St[bt]))return at[bt];for(var on=0,En=at.length;on<En;on++)if(ae(at[on]))return at[on]}return at[0]}function Y(He,ze){if(!He||!ze)return!1;var st=He.id===ze.id,at=He.codec===ze.codec,St=He.viewpoint===ze.viewpoint,bt=He.lang===ze.lang,xt=He.roles.toString()===ze.roles.toString(),on=He.accessibility.toString()===ze.accessibility.toString(),En=He.audioChannelConfiguration.toString()===ze.audioChannelConfiguration.toString();return st&&at&&St&&bt&&xt&&on&&En}function le(He,ze,st,at,St,bt){var En,tn,Mn,In,Nn,xt=[];if(!at||0===at.length)return[];var $n=x.getAdaptationsForPeriod(ze);for(Mn=0,Nn=at.length;Mn<Nn;Mn++)if(En=We($n[tn=x.getIndexForAdaptation(at[Mn],He,st.index)]),bt){var ni=En.accessibility.length;for(In=0;In<ni;In++)if(En){var vn=En.accessibility[In];if(0===vn.indexOf("cea-608:")){var yn=vn.substring(8).split(";");if("CC"===yn[0].substring(0,2))for(In=0;In<yn.length;In++)En||(En=We.call(this,$n[tn])),Et(En,yn[In].substring(0,3),yn[In].substring(4)),xt.push(En),En=null;else for(In=0;In<yn.length;In++)En||(En=We.call(this,$n[tn])),Et(En,"CC"+(In+1),yn[In]),xt.push(En),En=null}else 0===vn.indexOf("cea-608")&&(Et(En,C.CC1,"eng"),xt.push(En),En=null)}}else St===C.IMAGE?(Wt(En),xt.push(En),En=null):En&&xt.push(En);return xt}function G(He,ze,st){var at=N,St=st,bt=[];if(St)un(),at=be(St);else{if(!(N.length>0))return bt;St=N[0].mpd.manifest}var xt=fe(He,at),on=x.getAdaptationsForType(St,He?He.index:null,ze);return bt=le(St,xt,He,on,ze),ze===C.TEXT&&(on=x.getAdaptationsForType(St,He?He.index:null,C.VIDEO),bt=bt.concat(le(St,xt,He,on,ze,!0))),bt}function be(He){var ze=Q(He);return x.getRegularPeriods(ze)}function Q(He){var ze=yt(He);return x.getMpd(ze)}function tt(){N=[],O={}}function yt(He){return He||(N.length>0?N[0].mpd.manifest:null)}function Dt(He){try{var ze=fe(He.streamInfo,N),st=x.getAdaptationsForPeriod(ze);return He&&He.streamInfo&&void 0!==He.streamInfo.id&&st?st[He.index]:null}catch{return null}}function fe(He,ze){for(var st=ze.length,at=0;at<st;at++){var St=ze[at];if(He&&He.id===St.id)return St}return null}function We(He){if(!He)return null;var at,ze=new b.default,st=He.period.mpd.manifest.Period_asArray[He.period.index].AdaptationSet_asArray[He.index];if(ze.id=He.id,ze.index=He.index,ze.type=He.type,ze.streamInfo=Qt(He.period),ze.representationCount=x.getRepresentationCount(st),ze.labels=x.getLabelsForAdaptation(st),ze.lang=x.getLanguageForAdaptation(st),at=x.getViewpointForAdaptation(st),ze.viewpoint=at?at.value:void 0,ze.accessibility=x.getAccessibilityForAdaptation(st).map(function(xt){var on=xt.value,En=on;return xt.schemeIdUri&&xt.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(En=on?"cea-608:"+on:"cea-608",ze.embeddedCaptions=!0),En}),ze.audioChannelConfiguration=x.getAudioChannelConfigurationForAdaptation(st).map(function(xt){return xt.value}),0===ze.audioChannelConfiguration.length&&Array.isArray(st.Representation_asArray)&&st.Representation_asArray.length>0&&(ze.audioChannelConfiguration=x.getAudioChannelConfigurationForRepresentation(st.Representation_asArray[0]).map(function(xt){return xt.value})),ze.roles=x.getRolesForAdaptation(st).map(function(xt){return xt.value}),ze.codec=x.getCodec(st),ze.mimeType=x.getMimeType(st),ze.contentProtection=x.getContentProtectionData(st),ze.bitrateList=x.getBitrateListForAdaptation(st),ze.selectionPriority=x.getSelectionPriority(st),ze.contentProtection){var St=ze.contentProtection.map(function(xt){return x.getKID(xt)}).filter(function(xt){return null!==xt});if(St.length){var bt=St[0];ze.contentProtection.forEach(function(xt){xt.keyId=bt})}}return ze.isText=x.getIsText(st),ze.supplementalProperties=x.getSupplementalProperties(st),ze.isFragmented=x.getIsFragmented(st),ze.isEmbedded=!1,ze}function Et(He,ze,st){He.id=ze,He.index=100+parseInt(ze.substring(2,3)),He.type=C.TEXT,He.codec="cea-608-in-SEI",He.isEmbedded=!0,He.isFragmented=!1,He.lang=f()(st),He.roles=["caption"]}function Wt(He){He.type=C.IMAGE}function Qt(He){var ze=new g.default;return ze.id=He.id,ze.index=He.index,ze.start=He.start,ze.duration=He.duration,ze.manifestInfo=function qt(He){var ze=new P.default;return ze.dvrWindowSize=He.timeShiftBufferDepth,ze.loadedTime=He.manifest.loadedTime,ze.availableFrom=He.availabilityStartTime,ze.minBufferTime=He.manifest.minBufferTime,ze.maxFragmentDuration=He.maxSegmentDuration,ze.duration=x.getDuration(He.manifest),ze.isDynamic=x.getIsDynamic(He.manifest),ze.serviceDescriptions=x.getServiceDescriptions(He.manifest),ze.protocol=He.manifest.protocol,ze}(He.mpd),ze.isLast=1===He.mpd.manifest.Period_asArray.length||Math.abs(ze.start+ze.duration-ze.manifestInfo.duration)<1,ze}function un(){if(!C)throw new Error("setConfig function has to be called previously")}function fn(He){return N.length>0?N[0].mpd.manifest.Period_asArray[He]:null}function vt(He,ze,st){var St,bt,xt,on,En;if(He)for(St=He.AdaptationSet_asArray,on=0;on<St.length;on+=1)for(xt=St[on].Representation_asArray,En=0;En<xt.length;En+=1)if(ze===(bt=xt[En]).id)return st?En:bt;return null}return S={getBandwidthForRepresentation:function xe(He,ze){var st;return(st=vt(fn(ze),He))?st.bandwidth:null},getIndexForRepresentation:function Ee(He,ze){return function wt(He,ze){var st=vt(He,ze,!0);return null!==st?st:-1}(fn(ze),He)},getMaxIndexForBufferType:function Ge(He,ze){return function it(He,ze){var st,at,St,bt;if(!He||!ze)return-1;for(at=He.AdaptationSet_asArray,bt=0;bt<at.length;bt+=1)if(St=(st=at[bt]).Representation_asArray,x.getIsTypeOf(st,ze))return St.length;return-1}(fn(ze),He)},convertRepresentationToRepresentationInfo:function z(He){if(He){var ze=new v.default,at=x.getRepresentationFor(He.index,He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index]);return ze.id=He.id,ze.quality=He.index,ze.bandwidth=x.getBandwidth(at),ze.fragmentDuration=He.segmentDuration||(He.segments&&He.segments.length>0?He.segments[0].duration:NaN),ze.MSETimeOffset=He.MSETimeOffset,ze.mediaInfo=We(He.adaptation),ze}return null},getStreamsInfo:function ce(He,ze){var st=[],at=N;if(He&&(un(),at=be(He)),at.length>0){(!ze||ze>at.length)&&(ze=at.length);for(var St=0;St<ze;St++)st.push(Qt(at[St]))}return st},getMediaInfoForType:function ne(He,ze){if(0===N.length||!He)return null;var st=fe(He,N);if(!st)return null;var at=x.getAdaptationsForPeriod(st),St=Fe(He.index,ze,He);return St?We(at[x.getIndexForAdaptation(St,N[0].mpd.manifest,He.index)]):null},getAllMediaInfoForType:G,getAdaptationForType:Fe,getRealAdaptation:function ge(He,ze){var st,at,St=fe(He,N);return st=ze?ze.id:null,N.length>0&&St&&(at=st?x.getAdaptationForId(st,N[0].mpd.manifest,St.index):x.getAdaptationForIndex(ze?ze.index:null,N[0].mpd.manifest,St.index)),at},getProducerReferenceTimes:function Ie(He,ze){var st,at,St=fe(He,N);return st=ze?ze.id:null,N.length>0&&St&&(at=st?x.getAdaptationForId(st,N[0].mpd.manifest,St.index):x.getAdaptationForIndex(ze?ze.index:null,N[0].mpd.manifest,St.index)),at?x.getProducerReferenceTimesForAdaptation(at):[]},getRealPeriodByIndex:function pe(He){return x.getRealPeriodForIndex(He,N[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ce(He){try{return x.getEssentialPropertiesForRepresentation(He)}catch{return[]}},getVoRepresentations:function Ae(He){var st=Dt(He);return x.getRepresentationsForAdaptation(st)},getEventsFor:function he(He,ze,st){var at=[];if(N.length>0){var St=N[0].mpd.manifest;if(He instanceof g.default){var bt=fe(He,N);at=x.getEventsForPeriod(bt)}else if(He instanceof b.default){var xt=fe(st,N);at=x.getEventStreamForAdaptationSet(St,Dt(He),xt)}else if(He instanceof v.default){var on=fe(st,N);at=x.getEventStreamForRepresentation(St,ze,on)}}return at},getEvent:function ke(He,ze,st,at){try{if(!He||!ze||isNaN(st)||!at)return null;var St=He.scheme_id_uri,bt=He.value;if(!ze[St+"/"+bt])return null;var Nn,xt=new D.default,on=He.timescale||1,En=at.adaptation.period.start,tn=ze[St+"/"+bt],Mn=isNaN(at.presentationTimeOffset)?isNaN(tn.presentationTimeOffset)?0:tn.presentationTimeOffset:at.presentationTimeOffset,In=He.presentation_time_delta/on;Nn=0===He.version?En+st-Mn+In:En-Mn+In;var $n=He.event_duration/on,ni=He.id,vn=He.message_data;return xt.eventStream=tn,xt.eventStream.value=bt,xt.eventStream.timescale=on,xt.duration=$n,xt.id=ni,xt.calculatedPresentationTime=Nn,xt.messageData=vn,xt.presentationTimeDelta=In,xt}catch{return null}},getMpd:Q,setConfig:function B(He){He&&(He.constants&&(C=He.constants),He.cea608parser&&(I=He.cea608parser),He.errHandler&&x.setConfig({errHandler:He.errHandler}),He.BASE64&&x.setConfig({BASE64:He.BASE64}))},updatePeriods:function Se(He){if(!He)return null;un(),N=be(He)},getIsTextTrack:function Te(He){return x.getIsText(He)},getUTCTimingSources:function Oe(){var He=yt();return x.getUTCTimingSources(He)},getSuggestedPresentationDelay:function je(){return x.getSuggestedPresentationDelay(N.length>0?N[0].mpd:null)},getAvailabilityStartTime:function ft(He){var ze=Q(He);return x.getAvailabilityStartTime(ze)},getIsTypeOf:function Xe(He,ze){return x.getIsTypeOf(He,ze)},getIsDynamic:function Ze(He){var ze=yt(He);return x.getIsDynamic(ze)},getDuration:function Re(He){var ze=yt(He);return x.getDuration(ze)},getRegularPeriods:be,getContentSteering:function ie(He){return x.getContentSteering(He)},getLocation:function ye(He){return x.getLocation(He)},getPatchLocation:function X(He){var ze=x.getPatchLocation(He),st=x.getPublishTime(He);if(!ze||!st)return null;if(ze.hasOwnProperty("ttl")&&st){var at=1e3*parseFloat(ze.ttl);if(st.getTime()+at<=(new Date).getTime())return null}return ze.__text},getManifestUpdatePeriod:function oe(He){return x.getManifestUpdatePeriod(He,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function ee(He){return x.getPublishTime(He)},getIsDVB:function $(He){return x.hasProfile(He,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function re(He){return A.getIsPatch(He)},getBaseURLsFromElement:function J(He){return x.getBaseURLsFromElement(He)},getRepresentationSortFunction:function q(){return x.getRepresentationSortFunction()},getCodec:function _e(He,ze,st){return x.getCodec(He,ze,st)},getPeriodById:function ct(He){if(!He||0===N.length)return null;var ze=N.filter(function(st){return st.id===He});return ze&&ze.length>0?ze[0]:null},setCurrentMediaInfo:function we(He,ze,st){O[He]=O[He]||{},O[He][ze]=O[He][ze]||{},O[He][ze]=st},isPatchValid:function gt(He,ze){var st=x.getId(He),at=A.getMpdId(ze),St=x.getPublishTime(He),bt=A.getPublishTime(ze),xt=A.getOriginalPublishTime(ze);return!!(st&&at&&st==at&&St&&xt&&St.getTime()==xt.getTime()&&bt&&St.getTime()<bt.getTime())},applyPatchToManifest:function Qe(He,ze){A.getPatchOperations(ze).forEach(function(st){var at=st.getMpdTarget(He);if(null!==at){var St=at.name,bt=at.target,xt=at.leaf;if(st.xpath.findsAttribute()){switch(st.action){case"add":case"replace":bt[St]=st.value;break;case"remove":delete bt[St]}return}var on=(bt[St+"_asArray"]||[]).indexOf(xt),En="prepend"===st.position||"before"===st.position;if(("remove"===st.action||"replace"===st.action)&&(delete bt[St],-1!=on)){var tn=bt[St+"_asArray"];tn.splice(on,1),tn.length>1?bt[St]=tn:1==tn.length?bt[St]=tn[0]:delete bt[St+"_asArray"]}("add"===st.action||"replace"===st.action)&&Object.keys(st.value).forEach(function(Mn){var In=st.value[Mn],Nn=bt[Mn+"_asArray"]||[];0===Nn.length&&bt[Mn]&&Nn.push(bt[Mn]),0===Nn.length?Nn=In:Nn.splice.apply(Nn,[Mn==St&&-1!=on?on+(En?0:1)+("replace"==st.action?-1:0):En?0:Nn.length,0].concat(In)),bt[Mn+"_asArray"]=Nn,bt[Mn]=1==Nn.length?Nn[0]:Nn})}})},areMediaInfosEqual:Y,reset:tt},function y(){x=Object(i.default)(T).getInstance(),A=Object(c.default)(T).getInstance(),tt()}(),S}_.__dashjs_factory_name="DashAdapter",p.default=m.default.getSingletonFactory(_)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),v=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function c(d){var I,T,L,y,B,f=(d=d||{}).eventBus,_=d.debug,S=d.urlUtils,x=d.type,A=d.streamInfo,N=d.segmentsController,O=d.timelineConverter,C=d.baseURLController;function Fe(){return x}function le(){L=null}function Se(Oe,je,ft){var Re,be,Ze=C.resolve(ft.path);return Ze&&je!==Ze.url&&S.isRelative(je)?(Re=Ze.url,be=Ze.serviceLocation,je&&(Re=S.resolve(je,Re))):Re=je,!S.isRelative(Re)&&(Oe.url=Re,Oe.serviceLocation=be,!0)}function Ie(Oe,je){if(null==je)return null;var ft=new t.default,Ze=je.representation,Re=Ze.adaptation.period.mpd.manifest.Period_asArray[Ze.adaptation.period.index].AdaptationSet_asArray[Ze.adaptation.index].Representation_asArray[Ze.index].bandwidth,be=je.media;return be=Object(P.replaceTokenForTemplate)(be,"Number",je.replacementNumber),be=Object(P.replaceTokenForTemplate)(be,"Time",je.replacementTime),be=Object(P.replaceTokenForTemplate)(be,"Bandwidth",Re),be=Object(P.replaceIDForTemplate)(be,Ze.id),be=Object(P.unescapeDollarsInTemplate)(be),ft.mediaType=Fe(),ft.type=v.HTTPRequest.MEDIA_SEGMENT_TYPE,ft.range=je.mediaRange,ft.startTime=je.presentationStartTime,ft.mediaStartTime=je.mediaStartTime,ft.duration=je.duration,ft.timescale=Ze.timescale,ft.availabilityStartTime=je.availabilityStartTime,ft.availabilityEndTime=je.availabilityEndTime,ft.availabilityTimeComplete=Ze.availabilityTimeComplete,ft.wallStartTime=je.wallStartTime,ft.quality=Ze.index,ft.index=je.index,ft.mediaInfo=Oe,ft.adaptationIndex=Ze.adaptation.index,ft.representationId=Ze.id,Se(ft,be,Ze)?ft:void 0}function pe(Oe,je,ft){var Ze=null;if(!je||!je.segmentInfoType)return Ze;var Re=N.getSegmentByTime(je,ft);return Re&&(L=Re,T.debug("Index for time "+ft+" is "+Re.index),Ze=Ie(Oe,Re)),Ze}function Te(){T.debug("Dynamic stream complete"),B=!0}return I={initialize:function ne(Oe){y=Oe,B=!1,N.initialize(Oe)},getStreamId:function ae(){return A.id},getType:Fe,getStreamInfo:function Y(){return A},getInitRequest:function ce(Oe,je){return je?function ge(Oe,je,ft){var Ze=new t.default,Re=je.adaptation.period,be=Re.start;if(Ze.mediaType=ft,Ze.type=v.HTTPRequest.INIT_SEGMENT_TYPE,Ze.range=je.range,Ze.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(be,je,y),Ze.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(be+Re.duration,je,y),Ze.quality=je.index,Ze.mediaInfo=Oe,Ze.representationId=je.id,Se(Ze,je.initialization,je))return Ze.url=Object(P.replaceTokenForTemplate)(Ze.url,"Bandwidth",je.bandwidth),Ze}(Oe,je,Fe()):null},getSegmentRequestForTime:pe,getCurrentIndex:function we(){return L?L.index:-1},getNextSegmentRequest:function ke(Oe,je){var ft=null;if(!je||!je.segmentInfoType)return null;var Ze=L?L.index+1:0,Re=N.getSegmentByIndex(je,Ze,L?L.mediaStartTime:-1);if(Re)ft=Ie(Oe,Re),L=Re;else{if(y&&!B)return T.debug(Fe()+" No segment found at index: "+Ze+". Wait for next loop"),null;B=!0}return ft},isLastSegmentRequested:function Ce(Oe,je){if(!Oe||!L)return!1;if(B)return!0;if(!isFinite(Oe.adaptation.period.duration)||L.presentationStartTime+L.duration>je)return!1;if(Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.numberOfSegments)&&!isNaN(L.index)&&L.index>=Oe.mediaFinishedInformation.numberOfSegments-1){if(!y||Oe.segmentInfoType===D.default.SEGMENT_TEMPLATE)return!0;if(y&&Oe.segmentInfoType===D.default.SEGMENT_LIST&&Oe.adaptation.period.nextPeriodId)return!0}return!!(y&&Oe.adaptation.period.nextPeriodId&&Oe.segmentInfoType===D.default.SEGMENT_TIMELINE&&Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&L&&!isNaN(L.mediaStartTime)&&!isNaN(L.duration)&&L.mediaStartTime+L.duration>=Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function G(){le(),f.off(g.default.DYNAMIC_TO_STATIC,Te,I)},getNextSegmentRequestIdempotent:function Ae(Oe,je){var Re=N.getSegmentByIndex(je,L?L.index+1:0,L?L.mediaStartTime:-1);return Re?Ie(Oe,Re):null},getValidTimeAheadOfTargetTime:function he(Oe,je,ft,Ze){try{if(isNaN(Oe)||!je||!ft)return NaN;if(Oe<0&&(Oe=0),isNaN(Ze)&&(Ze=.5),pe(je,ft,Oe))return Oe;if(ft.adaptation.period.start+ft.adaptation.period.duration<Oe)return NaN;for(var Re=isFinite(ft.adaptation.period.duration)?ft.adaptation.period.start+ft.adaptation.period.duration:Oe+30,be=Math.min(Oe+Ze,Re),Q=NaN,ie=null;be<=Re;){var ye=null;if(be<=Re&&(ye=pe(je,ft,be)),ye){Q=be,ie=ye;break}be+=Ze}if(ie){var oe=ie.startTime+ie.duration;return Oe>ie.startTime&&oe-Oe>Ze?Oe:!isNaN(ie.startTime)&&Oe<ie.startTime&&Q>ie.startTime?ie.startTime+.001:Math.min(oe-Ze,Q)}return Q}catch{return NaN}}},function z(){T=_.getLogger(I),le(),f.on(g.default.DYNAMIC_TO_STATIC,Te,I)}(),I}c.__dashjs_factory_name="DashHandler",p.default=b.default.getClassFactory(c)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),P=e(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),D=e(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),m=e(
/*! ../core/Utils */
"./src/core/Utils.js"),i=e(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function c(d){var _,S,x,A,f=this.context,N=(d=d||{}).metricsModel;function ae(ye){var oe=N.getMetricsFor(ye,!0);if(!oe)return null;var $,ee=oe.HttpList,X=null;if(!ee||ee.length<=0)return null;for($=ee.length-1;$>=0;){if(ee[$].responsecode){X=ee[$];break}$--}return X}function Fe(ye){var oe=N.getMetricsFor(ye,!0);return oe&&oe.HttpList?oe.HttpList:[]}function le(ye,oe){if(!ye)return null;var ee=ye[oe];return ee&&0!==ee.length?ee[ee.length-1]:null}return _={getCurrentRepresentationSwitch:function I(ye){return le(N.getMetricsFor(ye,!0),g.default.TRACK_SWITCH)},getCurrentBufferState:function L(ye){return le(N.getMetricsFor(ye,!0),g.default.BUFFER_STATE)},getCurrentBufferLevel:function y(ye){var ee=le(N.getMetricsFor(ye,!0),g.default.BUFFER_LEVEL);return ee?P.default.round10(ee.level/1e3,-3):0},getCurrentHttpRequest:ae,getHttpRequests:Fe,getCurrentDroppedFrames:function G(){return le(N.getMetricsFor(t.default.VIDEO,!0),g.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function ce(ye){return le(N.getMetricsFor(ye,!0),g.default.SCHEDULING_INFO)},getCurrentDVRInfo:function we(ye){return le(ye?N.getMetricsFor(ye,!0):N.getMetricsFor(t.default.VIDEO,!0)||N.getMetricsFor(t.default.AUDIO,!0),g.default.DVR_INFO)},getCurrentManifestUpdate:function Ie(){return le(N.getMetricsFor(t.default.STREAM),g.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function je(ye,oe){if(!oe)return null;var ee={},X=ae(ye);X&&(ee=m.default.parseHttpHeaders(X._responseHeaders));var $=ee[oe.toLowerCase()];return void 0===$?null:$},getLatestMPDRequestHeaderValueByID:function Oe(ye){if(!ye)return null;var ee,X,$,oe={};for($=(ee=Fe(t.default.STREAM)).length-1;$>=0;$--)if((X=ee[$]).type===v.HTTPRequest.MPD_TYPE){oe=m.default.parseHttpHeaders(X._responseHeaders);break}var re=oe[ye.toLowerCase()];return void 0===re?null:re},addRepresentationSwitch:function T(ye,oe,ee,X,$){N.addRepresentationSwitch(ye,oe,ee,X,$)},addDVRInfo:function Te(ye,oe,ee,X){N.addDVRInfo(ye,oe,ee,X)},updateManifestUpdateInfo:function Ce(ye){var oe=this.getCurrentManifestUpdate();N.updateManifestUpdateInfo(oe,ye)},addManifestUpdateStreamInfo:function pe(ye){if(ye){var oe=this.getCurrentManifestUpdate();N.addManifestUpdateStreamInfo(oe,ye.id,ye.index,ye.start,ye.duration)}},addManifestUpdateRepresentationInfo:function he(ye,oe){if(ye){var ee=this.getCurrentManifestUpdate();N.addManifestUpdateRepresentationInfo(ee,ye.id,ye.index,ye.streamIndex,oe,ye.presentationTimeOffset,ye.startNumber,ye.fragmentInfoType)}},addManifestUpdate:function Ae(ye){N.addManifestUpdate(t.default.STREAM,ye.type,ye.requestStartDate,ye.requestEndDate)},addHttpRequest:function ke(ye,oe,ee,X,$){N.addHttpRequest(ye.mediaType,null,ye.type,ye.url,ye.quality,oe,ye.serviceLocation||null,ye.range||null,ye.requestStartDate,ye.firstByteDate,ye.requestEndDate,ee,ye.duration,X,$,ye.fileLoaderType)},addSchedulingInfo:function ge(ye,oe){N.addSchedulingInfo(ye.mediaType,new Date,ye.type,ye.startTime,ye.availabilityStartTime,ye.duration,ye.quality,ye.range,oe)},addRequestsQueue:function Y(ye,oe,ee){N.addRequestsQueue(ye,oe,ee)},addBufferLevel:function B(ye,oe,ee){N.addBufferLevel(ye,oe,ee)},addBufferState:function z(ye,oe,ee){N.addBufferState(ye,oe,ee)},addDroppedFrames:function Se(ye){N.addDroppedFrames(t.default.VIDEO,ye)},addPlayList:function ft(){A&&(N.addPlayList(A),A=null)},addDVBErrors:function ie(ye){N.addDVBErrors(ye)},createPlaylistMetrics:function Ze(ye,oe){(A=new i.PlayList).start=new Date,A.mstart=ye,A.starttype=oe},createPlaylistTraceMetrics:function Re(ye,oe,ee){!0===S&&(S=!1,(x=new i.PlayListTrace).representationid=ye,x.start=new Date,x.mstart=oe,x.playbackspeed=null!==ee?ee.toString():null)},updatePlayListTraceMetrics:function be(ye){if(x)for(var oe in x)x[oe]=ye[oe]},pushPlayListTraceMetrics:function Q(ye,oe){if(!1===S&&A&&x&&x.start){var ee=x.start,X=ye.getTime()-ee.getTime();x.duration=X,x.stopreason=oe,A.trace.push(x),S=!0}},clearAllCurrentMetrics:function ne(){N.clearAllCurrentMetrics()}},function O(){N=N||Object(D.default)(f).getInstance({settings:d.settings}),function C(){S=!0,x=null,A=null}()}(),_}c.__dashjs_factory_name="DashMetrics",p.default=b.default.getSingletonFactory(c)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),v=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),P=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function D(){var i,c,d,f,_,S,x,A,N,O,C,I,T,m=this.context;function ne(ce,ge,Ie,Ce){var pe=null,Ae=ce?T.resolve(ce.path):null,ke=Ce||{init:!0,url:Ae?Ae.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};c.debug("Start searching for initialization.");var he=Se(ke);A.load({request:he,success:function(je){if(ke.bytesLoaded=ke.range.end,!(pe=f.findInitRange(je)))return ke.range.end=ke.bytesLoaded+ke.bytesToLoad,ne(ce,ge,Ie,ke);ce.range=pe,Ie(ce)},error:function(){Ie(ce)}}),c.debug("Perform init search: "+ke.url)}function Fe(ce,ge,Ie,Ce,pe,Ae){if(Ie&&(void 0===Ie.start||void 0===Ie.end)){var ke=Ie?Ie.toString().split("-"):null;Ie=ke?{start:parseFloat(ke[0]),end:parseFloat(ke[1])}:null}pe=pe||Y;var he=null,we=null,Te=!!Ie,Oe=ce?T.resolve(ce.path):null,je={init:!1,url:Oe?Oe.url:void 0,range:Te?Ie:{start:0,end:1500},searching:!Te,bytesLoaded:Ae?Ae.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},ft=Se(je);A.load({request:ft,success:function(Q){var ie=je.bytesToLoad,ye=Q.byteLength;if(je.bytesLoaded=je.range.end-je.range.start,he=f.parse(Q),(we=he.getBox("sidx"))&&we.isComplete){var X,$,ee=we.references;if(null!=ee&&ee.length>0&&(X=1===ee[0].reference_type),X){c.debug("Initiate multiple SIDX load."),je.range.end=je.range.start+we.size;var re,J,q,_e,Ee=[],Ge=0,ct=(we.offset||je.range.start)+we.size,Xe=function(gt){gt?(Ee=Ee.concat(gt),++Ge>=J&&(Ee.sort(function(Qe,yt){return Qe.startTime-yt.startTime<0?-1:0}),pe(Ee,ce,Ce))):pe(null,ce,Ce)};for(re=0,J=ee.length;re<J;re++)q=ct,_e=ct+ee[re].referenced_size-1,ct+=ee[re].referenced_size,Fe(ce,ge,{start:q,end:_e},Ce,Xe,je)}else c.debug("Parsing segments from SIDX. representation "+ge+" - id: "+ce.id+" for range : "+je.range.start+" - "+je.range.end),$=function G(ce,ge){for(var we,Oe,je,Ie=ce.references,Ce=Ie.length,pe=ce.timescale,Ae=ce.earliest_presentation_time,ke=ge.range.start+ce.offset+ce.first_offset+ce.size,he=[],ft=0;ft<Ce;ft++)Oe=Ie[ft].subsegment_duration,je=Ie[ft].referenced_size,(we=new t.default).duration=Oe,we.startTime=Ae,we.timescale=pe,we.mediaRange=ke+"-"+(ke+je-1),he.push(we),Ae+=Oe,ke+=je;return he}(we,je),pe($,ce,Ce)}else{if(we)je.range.start=we.offset||je.range.start,je.range.end=je.range.start+(we.size||ie);else{if(ye<je.bytesLoaded)return void pe(null,ce,Ce);var oe=he.getLastBox();oe&&oe.size?(je.range.start=oe.offset+oe.size,je.range.end=je.range.start+ie):je.range.end+=ie}Fe(ce,ge,je.range,Ce,null,je)}},error:function(){pe(null,ce,Ce)}}),c.debug("Perform SIDX load for type ".concat(ge," : ").concat(je.url," with range ").concat(je.range.start," - ").concat(je.range.end))}function Y(ce,ge,Ie){Ie({segments:ce,representation:ge,error:ce?void 0:new v.default(N.SEGMENT_BASE_LOADER_ERROR_CODE,N.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Se(ce){if(ce.url){var ge=new g.default;return ge.setInfo(ce),ge}}return i={setConfig:function B(ce){ce.baseURLController&&(T=ce.baseURLController),ce.dashMetrics&&(S=ce.dashMetrics),ce.mediaPlayerModel&&(x=ce.mediaPlayerModel),ce.errHandler&&(d=ce.errHandler),ce.boxParser&&(f=ce.boxParser),ce.debug&&(c=ce.debug.getLogger(i)),ce.requestModifier&&(_=ce.requestModifier),ce.errors&&(N=ce.errors),ce.urlUtils&&(I=ce.urlUtils),ce.constants&&(O=ce.constants),ce.dashConstants&&(C=ce.dashConstants)},initialize:function y(){A=Object(P.default)(m).create({errHandler:d,dashMetrics:S,mediaPlayerModel:x,requestModifier:_,boxParser:f,errors:N,urlUtils:I,constants:O,dashConstants:C})},loadInitialization:function z(ce,ge){return new Promise(function(Ie){ne(ce,ge,Ie)})},loadSegments:function ae(ce,ge,Ie){return new Promise(function(Ce){Fe(ce,ge,Ie,Ce)})},reset:function le(){A&&(A.abort(),A=null)}}}D.__dashjs_factory_name="SegmentBaseLoader",p.default=b.default.getSingletonFactory(D)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),v=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),P=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),D=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),m=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function i(){var d,f,_,S,x,A,N,O,C,I,c=this.context;function z(G,Se,ce,ge){var Ce,pe,Ae,ke,he;for(pe=[],ke=0,he=(Ce=function B(G){var ge,Ie,Se=[],ce=Object(t.default)(c).create({data:G});for(ce.consumeTagAndSize(_.Segment.Cues);ce.moreData()&&ce.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((ge={}).CueTime=ce.parseTag(_.Segment.Cues.CuePoint.CueTime),ge.CueTracks=[];ce.moreData()&&ce.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ce=ce.getMatroskaCodedNum(),pe=ce.getPos();if((Ie={}).Track=ce.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Ie.Track)throw new Error("Cue track cannot be 0");Ie.ClusterPosition=ce.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ge.CueTracks.push(Ie),ce.setPos(pe+Ce)}if(0===ge.CueTracks.length)throw new Error("Mandatory cuetrack not found");Se.push(ge)}if(0===Se.length)throw new Error("mandatory cuepoint not found");return Se}(G)).length;ke<he;ke+=1)(Ae=new g.default).duration=ke<Ce.length-1?Ce[ke+1].CueTime-Ce[ke].CueTime:ge-Ce[ke].CueTime,Ae.startTime=Ce[ke].CueTime,Ae.timescale=1e3,Ae.mediaRange=Ce[ke].CueTracks[0].ClusterPosition+Se+"-"+(ke<Ce.length-1?Ce[ke+1].CueTracks[0].ClusterPosition+Se-1:ce-1),pe.push(Ae);return f.debug("Parsed cues: "+pe.length+" cues."),pe}function Y(G){var Se=new P.default;return Se.setInfo(G),Se}return d={setConfig:function y(G){if(!(G.baseURLController&&G.dashMetrics&&G.mediaPlayerModel&&G.errHandler))throw new Error(v.default.MISSING_CONFIG_ERROR);I=G.baseURLController,A=G.dashMetrics,N=G.mediaPlayerModel,S=G.errHandler,C=G.errors,f=G.debug.getLogger(d),x=G.requestModifier},initialize:function L(){O=Object(D.default)(c).create({errHandler:S,dashMetrics:A,mediaPlayerModel:N,requestModifier:x,errors:C})},loadInitialization:function ae(G,Se){return new Promise(function(ce){var ge=null,Ie=G?I.resolve(G.path):null,Ce=G?G.range.split("-"):null,pe={range:{start:Ce?parseFloat(Ce[0]):null,end:Ce?parseFloat(Ce[1]):null},request:ge,url:Ie?Ie.url:void 0,init:!0,mediaType:Se};f.info("Start loading initialization."),ge=Y(pe),O.load({request:ge,success:function(){ce(G)},error:function(){ce(G)}}),f.debug("Perform init load: "+pe.url)})},loadSegments:function Fe(G,Se,ce){return new Promise(function(ge){var Ie=null,Ce=G?I.resolve(G.path):null,pe=Ce?Ce.url:void 0;Ie=Y({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ie,url:pe,init:!1,mediaType:Se}),f.debug("Parsing ebml header"),O.load({request:Ie,success:function(Oe){!function ne(G,Se,ce,ge){if(G&&0!==G.byteLength){var Ce,pe,Ae,ke,Ie=Object(t.default)(c).create({data:G}),he=ce?ce.split("-"):null,we=null,Te={url:Se,range:{start:he?parseFloat(he[0]):null,end:he?parseFloat(he[1]):null},request:we};for(f.debug("Parse EBML header: "+Te.url),Ie.skipOverElement(_.EBML),Ie.consumeTag(_.Segment),Ae=Ie.getMatroskaCodedNum(),Ae+=Ie.getPos(),ke=Ie.getPos();Ie.moreData()&&!Ie.consumeTagAndSize(_.Segment.Info,!0);)if(!(Ie.skipOverElement(_.Segment.SeekHead,!0)||Ie.skipOverElement(_.Segment.Tracks,!0)||Ie.skipOverElement(_.Segment.Cues,!0)||Ie.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ce;){var Oe=Ie.getMatroskaCodedNum(!0),je=Ie.getMatroskaCodedNum();Oe===_.Segment.Info.Duration.tag?Ce=Ie[_.Segment.Info.Duration.parse](je):Ie.setPos(Ie.getPos()+je)}we=Y(Te),O.load({request:we,success:function(be){pe=z(be,ke,Ae,Ce),ge(pe)},error:function(){f.error("Download Error: Cues "+Te.url),ge(null)}}),f.debug("Perform cues load: "+Te.url+" bytes="+Te.range.start+"-"+Te.range.end)}else ge(null)}(Oe,pe,ce,function(je){ge({segments:je,representation:G,error:je?void 0:new m.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ge({representation:G,error:new m.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function le(){O&&(O.abort(),O=null)}},function T(){_={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),d}i.__dashjs_factory_name="WebmSegmentBaseLoader",p.default=b.default.getSingletonFactory(i)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),c}());p.default=i},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),g=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),D=e(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),m=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),_=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),S_THROUGHPUT="_DASH_throughput",S_PATHWAY="_DASH_pathway",S_URL="url";function x(){var O,C,I,T,L,y,B,z,ne,ae,Fe,Y,le,G,Se,A=this.context,N=Object(_.default)(A).getInstance();function Ce(Q){Q&&Q.toStreamInfo&&(T=Q.toStreamInfo)}function pe(Q){Q&&Q.request&&Q.request.serviceLocation&&(L=Q.request.serviceLocation)}function Ae(){var Q=Fe.getValue();return Se.getContentSteering(Q)}function he(){return new Promise(function(Q){try{var ie=Ae();if(!ie||!ie.serverUrl)return void Q();var ye=function we(Q){var ie=Q.proxyServerUrl?Q.proxyServerUrl:Q.serverUrl;I&&I.reloadUri&&(ie=N.isRelative(I.reloadUri)?N.resolve(I.reloadUri,Q.serverUrl):I.reloadUri);var ye=[];if(T){var oe=Se.getIsDynamic(),ee=Se.getAllMediaInfoForType(T,d.default.VIDEO).length>0?d.default.VIDEO:d.default.AUDIO,X=le.getThroughputHistory(),$=X?X.getAverageThroughput(ee,oe):NaN;isNaN($)||ye.push({key:S_THROUGHPUT,value:1e3*$})}return L&&ye.push({key:S_PATHWAY,value:L}),Q.proxyServerUrl&&Q.proxyServerUrl===ie&&Q.serverUrl&&ye.push({key:S_URL,value:encodeURI(Q.serverUrl)}),f.default.addAditionalQueryParameterToUrl(ie,ye)}(ie),oe=new P.default(ye);B.load({request:oe,success:function(X){(function Te(Q){!Q||!Q[m.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(Q[m.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new D.default).version=Q[m.default.CONTENT_STEERING_RESPONSE.VERSION],Q[m.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Q[m.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=Q[m.default.CONTENT_STEERING_RESPONSE.TTL]),Q[m.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=Q[m.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Q[m.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=Q[m.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Oe())})(X),G.trigger(i.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:ye}),Q()},error:function(X){(function ft(Q){C.warn("Error fetching data from content steering server",Q),Oe()})(X),Q(X)}})}catch(ee){Q(ee)}})}function Oe(){I&&I.ttl&&!isNaN(I.ttl)&&(y&&clearTimeout(y),y=setTimeout(function(){he()},1e3*I.ttl))}function je(){y&&clearTimeout(y),y=null}function be(){I=null,T=null,L=null,je()}return O={reset:function Re(){be(),G.off(i.default.PERIOD_SWITCH_COMPLETED,Ce,O),G.off(c.default.FRAGMENT_LOADING_STARTED,pe,O)},setConfig:function ge(Q){Q&&(Q.adapter&&(Se=Q.adapter),Q.errHandler&&(z=Q.errHandler),Q.dashMetrics&&(ne=Q.dashMetrics),Q.mediaPlayerModel&&(ae=Q.mediaPlayerModel),Q.requestModifier&&(Y=Q.requestModifier),Q.manifestModel&&(Fe=Q.manifestModel),Q.abrController&&(le=Q.abrController),Q.eventBus&&(G=Q.eventBus))},loadSteeringData:he,getCurrentSteeringResponseData:function Ze(){return I},shouldQueryBeforeStart:function ke(){var Q=Ae();return Q&&Q.queryBeforeStart},getSteeringDataFromManifest:Ae,stopSteeringRequestTimer:je,initialize:function Ie(){B=Object(b.default)(A).create({errHandler:z,dashMetrics:ne,mediaPlayerModel:ae,requestModifier:Y,errors:g.default}),G.on(i.default.PERIOD_SWITCH_COMPLETED,Ce,O),G.on(c.default.FRAGMENT_LOADING_STARTED,pe,O)}},function ce(){C=Object(v.default)(A).getInstance().getLogger(O),be()}(),O}x.__dashjs_factory_name="ContentSteeringController",p.default=t.default.getSingletonFactory(x)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),g=e(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function P(D){var C,I,T,L,y,m=(D=D||{}).eventBus,i=D.events,c=D.abrController,d=D.dashMetrics,f=D.playbackController,_=D.timelineConverter,S=D.type,x=D.streamInfo,A=D.dashConstants,N=D.segmentsController,O=D.isDynamic;function ne(){return S}function ae(){if(!(c&&d&&f&&_))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Y(){return T}function le(){return y}function G(){I=null,T=!0,L=[]}function ge(Re){return new Promise(function(be,Q){var ie=Re.hasInitialization(),ye=Re.hasSegments(),oe=[];oe.push(N.updateInitData(Re,ie)),oe.push(N.updateSegmentData(Re,ye)),Promise.all(oe).then(function(ee){ee[0]&&!ee[0].error&&(Re=function Ce(Re,be){return be&&!be.error&&be.representation?be.representation:Re}(Re,ee[0])),ee[1]&&!ee[1].error&&(Re=function pe(Re,be){if(be&&!be.error){var oe,ee,X,$,Q=be.segments,ie=[],ye=0;for(oe=0,ee=Q?Q.length:0;oe<ee;oe++)X=Q[oe],($=Object(g.getTimeBasedSegment)(_,O,Re,X.startTime,X.duration,X.timescale,X.media,X.mediaRange,ye))&&(ie.push($),$=null,ye++);return ie.length>0&&(Re.segments=ie),Re}}(Re,ee[1])),function Ie(Re){Re.mediaFinishedInformation=N.getMediaFinishedInformation(Re)}(Re),function Oe(Re){if(Y()){var ie,be=d.getCurrentManifestUpdate(),Q=!1;if(be){for(var oe=0;oe<be.representationInfo.length;oe++)if((ie=be.representationInfo[oe]).index===Re.index&&ie.mediaType===ne()){Q=!0;break}Q||d.addManifestUpdateRepresentationInfo(Re,ne())}if(function we(){for(var Re=0,be=L.length;Re<be;Re++){var Q=L[Re].segmentInfoType;if(!L[Re].hasInitialization()||(Q===A.SEGMENT_BASE||Q===A.BASE_URL)&&!L[Re].segments)return!1}return!0}()){c.setPlaybackQuality(S,x,function he(Re){return L.indexOf(Re)}(y));var ee=d.getCurrentDVRInfo(S);ee&&d.updateManifestUpdateInfo({latency:ee.range.end-f.getTime()}),d.getCurrentRepresentationSwitch(le().adaptation.type)||Ae(),Te()}}}(Re),be()}).catch(function(ee){Q(ee)})})}function Ae(){ae();var Re=new Date,be=le(),Q=1e3*f.getTime();be&&d.addRepresentationSwitch(be.adaptation.type,Re,Q,be.id),m.trigger(b.default.REPRESENTATION_SWITCH,{mediaType:S,streamId:x.id,currentRepresentation:be,numberOfRepresentations:L.length},{streamId:x.id,mediaType:S})}function ke(Re){return null==Re||Re>=L.length?null:L[Re]}function Te(Re){T=!1,m.trigger(i.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:y,error:Re},{streamId:x.id,mediaType:S})}function ft(Re){y=Re}function Ze(Re){if(Re.newDuration){var be=le();be&&be.adaptation.period&&(be.adaptation.period.duration=Re.newDuration)}}return C={getStreamId:function z(){return x.id},getType:ne,getData:function Fe(){return I},isUpdating:Y,updateData:function ce(Re,be,Q,ie,ye){if(ae(),T=!0,L=be,ft(ke(ye)),I=Re,Q!==t.default.VIDEO&&Q!==t.default.AUDIO&&(Q!==t.default.TEXT||!ie))return Te(),Promise.resolve();for(var ee=[],X=0,$=L.length;X<$;X++)ee.push(ge(L[X]));return Promise.all(ee)},getCurrentRepresentation:le,getRepresentationForQuality:ke,prepareQualityChange:function je(Re){ft(ke(Re)),Ae()},reset:function Se(){m.off(b.default.MANIFEST_VALIDITY_CHANGED,Ze,C),G()}},function B(){G(),m.on(b.default.MANIFEST_VALIDITY_CHANGED,Ze,C)}(),C}P.__dashjs_factory_name="RepresentationController",p.default=v.default.getClassFactory(P)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),b=e(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function g(D){var C,I,T,m=this.context,i=(D=D||{}).eventBus,c=D.events,d=D.dashMetrics,f=D.mediaPlayerModel,_=D.errHandler,S=D.baseURLController,x=D.debug,A=D.boxParser,N=D.requestModifier,O=D.errors;function y(Fe){return"webm"===(Fe?Fe.split("/")[1]:"").toLowerCase()}return C={initialize:function B(){I.initialize(),T.initialize()},getSegmentBaseInitSegment:function z(Fe){return y(Fe.representation.mimeType)?T.loadInitialization(Fe.representation,Fe.mediaType):I.loadInitialization(Fe.representation,Fe.mediaType)},getSegmentList:function ne(Fe){return y(Fe.mimeType)?T.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null):I.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null)},reset:function ae(){I.reset(),T.reset()}},function L(){I=Object(v.default)(m).getInstance(),T=Object(b.default)(m).getInstance(),I.setConfig({baseURLController:S,dashMetrics:d,mediaPlayerModel:f,errHandler:_,eventBus:i,events:c,errors:O,debug:x,boxParser:A,requestModifier:N}),T.setConfig({baseURLController:S,dashMetrics:d,mediaPlayerModel:f,errHandler:_,eventBus:i,events:c,errors:O,debug:x,requestModifier:N})}(),C}g.__dashjs_factory_name="SegmentBaseController";var P=t.default.getSingletonFactory(g);p.default=P},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),b=e(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),g=e(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),P=e(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function D(i){var S,x,c=this.context,d=(i=i||{}).dashConstants,f=i.type,_=i.segmentBaseController;function I(B){return B?B.segments?x[d.SEGMENT_BASE]:x[B.segmentInfoType]:null}return S={initialize:function N(B){x[d.SEGMENT_TIMELINE]=Object(v.default)(c).create(i,B),x[d.SEGMENT_TEMPLATE]=Object(b.default)(c).create(i,B),x[d.SEGMENT_LIST]=Object(g.default)(c).create(i,B),x[d.SEGMENT_BASE]=Object(P.default)(c).create(i,B)},updateInitData:function O(B,z){return z?Promise.resolve():_.getSegmentBaseInitSegment({representation:B,mediaType:f})},updateSegmentData:function C(B,z){return z?Promise.resolve():_.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:f})},getSegmentByIndex:function T(B,z,ne){var ae=I(B);return ae?ae.getSegmentByIndex(B,z,ne):null},getSegmentByTime:function L(B,z){var ne=I(B);return ne?ne.getSegmentByTime(B,z):null},getMediaFinishedInformation:function y(B){var z=I(B);return z?z.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function A(){x={}}(),S}D.__dashjs_factory_name="SegmentsController";var m=t.default.getClassFactory(D);p.default=m},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=[b.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],D_VIDEO="video",D_AUDIO="audio",D_ANY="any",D_ALL="all";function m(){var c,d,f,_,S,i=this.context;function O(){d={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},f=[]}function ae(G,Se,ce){try{d[G][Se]=ce/1e3}catch(ge){_.error(ge)}}return c={getServiceDescriptionSettings:function C(){return d},getProducerReferenceTimeOffsets:function Fe(){return f},calculateProducerReferenceTimeOffsets:function Y(G){try{var Se=[];if(G&&G.length>0){var ce=[b.default.VIDEO,b.default.AUDIO,b.default.TEXT],ge=S.getAvailabilityStartTime()/1e3;G.forEach(function(Ie){var Ce=ce.reduce(function(pe,Ae){return pe.concat(S.getAllMediaInfoForType(Ie,Ae))},[]).reduce(function(pe,Ae){return S.getProducerReferenceTimes(Ie,Ae).forEach(function(he){var we=S.getVoRepresentations(Ae);if(we&&we.length>0&&we[0].adaptation&&we[0].segmentInfoType===g.default.SEGMENT_TEMPLATE){var Te=we[0],je=new Date(he[g.default.WALL_CLOCK_TIME]).getTime()/1e3;pe.push({id:he[g.default.ID],to:ge-(je-(he[g.default.PRESENTATION_TIME]/Te[g.default.TIMESCALE]-Te[g.default.PRESENTATION_TIME_OFFSET]+Ie.start))})}}),pe},[]);Se=Se.concat(Ce)})}f=Se}catch(Ie){_.error(Ie),f=[]}},applyServiceDescription:function I(G){if(G&&G.serviceDescriptions){var Se=G.serviceDescriptions.filter(function(Ie){return P.includes(Ie.schemeIdUri)}),ce=G.serviceDescriptions.filter(function(Ie){return null==Ie.schemeIdUri}),ge=Se.length>0?Se[Se.length-1]:ce[ce.length-1];ge&&(ge.latency&&ge.latency.target>0&&function T(G){var Se;if(Se=G.schemeIdUri===b.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function y(G){return{liveDelay:G.latency.target/1e3,maxDrift:!isNaN(G.latency.max)&&G.latency.max>G.latency.target?(G.latency.max-G.latency.target+500)/1e3:NaN,referenceId:G.latency.referenceId||NaN}}(G):function L(G){return{liveDelay:G.latency.target/1e3,maxDrift:!isNaN(G.latency.max)&&G.latency.max>G.latency.target?(G.latency.max-G.latency.target+500)/1e3:NaN,referenceId:G.latency.referenceId||NaN}}(G),f.length>0){var ce=function le(G){var ce,Se=0,ge=f.filter(function(Ie){return Ie.id===G.referenceId});return 0===ge.length?(Se=f.length>0?f[0].to:0,ce=f[0].id||NaN):(Se=ge[0].to||0,ce=ge[0].id||NaN),{to:Se,id:ce}}(Se),ge=ce.to,Ie=ce.id;d.liveDelay=Se.liveDelay-ge,d.liveCatchup.maxDrift=Se.maxDrift,_.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ge," from ProducerReferenceTime element with id ").concat(Ie,".\n                Live Delay: ").concat(Se.liveDelay-ge,", Live catchup max drift: ").concat(Se.maxDrift,"\n            "))}else d.liveDelay=Se.liveDelay,d.liveCatchup.maxDrift=Se.maxDrift,_.debug("Found latency properties coming from service description: Live Delay: ".concat(Se.liveDelay,", Live catchup max drift: ").concat(Se.maxDrift))}(ge),ge.playbackRate&&function B(G){var Se=G.playbackRate.min?Math.round(1e3*(G.playbackRate.min-1))/1e3:NaN,ce=G.playbackRate.max?Math.round(1e3*(G.playbackRate.max-1))/1e3:NaN;d.liveCatchup.playbackRate.min=Se,d.liveCatchup.playbackRate.max=ce,_.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Se)),_.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ce))}(ge),ge.operatingBandwidth&&function ne(G){if(G&&G.operatingBandwidth&&G.operatingBandwidth.mediaType&&G.operatingBandwidth.mediaType!==D_ALL){var Se={};Se.minBandwidth=G.operatingBandwidth.min,Se.maxBandwidth=G.operatingBandwidth.max,Se.targetBandwidth=G.operatingBandwidth.target;var ce=[];G.operatingBandwidth.mediaType===D_VIDEO||G.operatingBandwidth.mediaType===D_AUDIO?ce.push(G.operatingBandwidth.mediaType):G.operatingBandwidth.mediaType===D_ANY&&(ce.push(D_AUDIO),ce.push(D_VIDEO)),ce.forEach(function(ge){isNaN(Se.minBandwidth)||ae("minBitrate",ge,Se.minBandwidth),isNaN(Se.maxBandwidth)||ae("maxBitrate",ge,Se.maxBandwidth),isNaN(Se.targetBandwidth)||ae("initialBitrate",ge,Se.targetBandwidth)})}}(ge))}},reset:function N(){O()},setConfig:function A(G){G&&G.adapter&&(S=G.adapter)}},function x(){_=Object(v.default)(i).getInstance().getLogger(c),O()}(),c}m.__dashjs_factory_name="ServiceDescriptionController",p.default=t.default.getSingletonFactory(m)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),g=e(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),P=e(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),D=e(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),m=e(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),i=e(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),c=e(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),d=e(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),f=e(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),_=e(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),S=e(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),x=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),N=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),C=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T(Y,le){var G=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!G){if(Array.isArray(Y)||(G=B(Y))||le&&Y&&"number"==typeof Y.length){G&&(Y=G);var Se=0,ce=function(){};return{s:ce,n:function(){return Se>=Y.length?{done:!0}:{done:!1,value:Y[Se++]}},e:function(Ae){throw Ae},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ce,ge=!0,Ie=!1;return{s:function(){G=G.call(Y)},n:function(){var Ae=G.next();return ge=Ae.done,Ae},e:function(Ae){Ie=!0,Ce=Ae},f:function(){try{!ge&&null!=G.return&&G.return()}finally{if(Ie)throw Ce}}}}function L(Y){return function ne(Y){if(Array.isArray(Y))return ae(Y)}(Y)||function z(Y){if(typeof Symbol<"u"&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}(Y)||B(Y)||function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(Y,le){if(Y){if("string"==typeof Y)return ae(Y,le);var G=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===G&&Y.constructor&&(G=Y.constructor.name),"Map"===G||"Set"===G)return Array.from(Y);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return ae(Y,le)}}function ae(Y,le){(null==le||le>Y.length)&&(le=Y.length);for(var G=0,Se=new Array(le);G<le;G++)Se[G]=Y[G];return Se}function Fe(){var Y,le,G,Se,ce=this.context,ge=Object(x.default)(ce).getInstance(),Ie=Number.isInteger||function(At){return"number"==typeof At&&isFinite(At)&&Math.floor(At)===At};function pe(At,ht){if(!At)throw new Error("adaptation is not defined");if(!ht)throw new Error("type is not defined");if(At.Representation_asArray&&At.Representation_asArray.length){var Tn=qt(At.Representation_asArray[0]);if(Tn&&Tn.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(Tn[0].schemeIdUri)>=0)return ht===t.default.IMAGE}if(At.ContentComponent_asArray&&At.ContentComponent_asArray.length>0){if(At.ContentComponent_asArray.length>1)return ht===t.default.MUXED;if(At.ContentComponent_asArray[0].contentType===ht)return!0}var qe=ht===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ht);if(At.Representation_asArray&&At.Representation_asArray.length&&qe.test(At.Representation_asArray[0].codecs))return!0;if(At.hasOwnProperty(v.default.MIME_TYPE))return qe.test(At.mimeType);if(At.Representation_asArray)for(var Jt,Rt=0;Rt<At.Representation_asArray.length;Rt++)if((Jt=At.Representation_asArray[Rt]).hasOwnProperty(v.default.MIME_TYPE))return qe.test(Jt.mimeType);return!1}function Ae(At){if(!At)throw new Error("adaptation is not defined");if(At.hasOwnProperty(v.default.SEGMENT_TEMPLATE)||At.hasOwnProperty(v.default.SEGMENT_TIMELINE)||At.hasOwnProperty(v.default.SEGMENT_LIST)||At.hasOwnProperty(v.default.SEGMENT_BASE))return!0;if(At.Representation_asArray&&At.Representation_asArray.length>0){var ht=At.Representation_asArray[0];if(ht.hasOwnProperty(v.default.SEGMENT_TEMPLATE)||ht.hasOwnProperty(v.default.SEGMENT_TIMELINE)||ht.hasOwnProperty(v.default.SEGMENT_LIST)||ht.hasOwnProperty(v.default.SEGMENT_BASE))return!0}return!1}function ke(At){return pe(At,t.default.AUDIO)}function he(At){return pe(At,t.default.VIDEO)}function we(At){return pe(At,t.default.TEXT)}function Te(At){return pe(At,t.default.MUXED)}function Oe(At){return pe(At,t.default.IMAGE)}function ye(){return function(At,ht){return At.bandwidth-ht.bandwidth}}function oe(At){return At&&Array.isArray(At.Representation_asArray)&&At.Representation_asArray.sort(function(At,ht){return At.bandwidth-ht.bandwidth}),At}function ee(At,ht){return At&&At.Period_asArray&&Ie(ht)&&At.Period_asArray[ht]?At.Period_asArray[ht].AdaptationSet_asArray:[]}function X(At){return At&&At.Period_asArray?At.Period_asArray:[]}function tt(At){var ht=!1;return At&&At.hasOwnProperty("type")&&(ht=At.type===v.default.DYNAMIC),ht}function qt(At){return At&&At.EssentialProperty_asArray&&At.EssentialProperty_asArray.length?At.EssentialProperty_asArray.map(function(ht){return{schemeIdUri:ht.schemeIdUri,value:ht.value}}):null}function vt(At){if(!At||!At.S_asArray)return NaN;var ht=At.S_asArray[0],Tn=At.S_asArray[1];return ht.hasOwnProperty("d")?ht.d:Tn.t-ht.t}function it(At){return At.adaptation.period.start-At.presentationTimeOffset}function st(At,ht){if(!At)throw new Error("Period cannot be null or undefined");var Tn=P.default.DEFAULT_ID+"_"+ht;return At.hasOwnProperty(v.default.ID)&&At.id.length>0&&"__proto__"!==At.id&&(Tn=At.id),Tn}function on(At,ht,Tn){var Ct,qe=[];if(!At)return qe;for(Ct=0;Ct<At.length;Ct++){var Jt=new d.default;if(Jt.timescale=1,Jt.representation=ht,!At[Ct].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Jt.schemeIdUri=At[Ct].schemeIdUri,At[Ct].hasOwnProperty(v.default.TIMESCALE)&&(Jt.timescale=At[Ct].timescale),At[Ct].hasOwnProperty(v.default.VALUE)&&(Jt.value=At[Ct].value),qe.push(Jt),Jt.period=Tn}return qe}function In(At){var ht=[],qe=!1;return(At.BaseURL_asArray||[At.baseUri]).some(function(Ct){if(Ct){var Jt=new c.default,Rt=Ct.__text||Ct;return ge.isRelative(Rt)&&(qe=!0,At.baseUri&&(Rt=ge.resolve(Rt,At.baseUri))),Jt.url=Rt,Jt.serviceLocation=Ct.hasOwnProperty(v.default.SERVICE_LOCATION)&&Ct.serviceLocation.length?Ct.serviceLocation:Rt,Ct.hasOwnProperty(v.default.DVB_PRIORITY)&&(Jt.dvb_priority=Ct[v.default.DVB_PRIORITY]),Ct.hasOwnProperty(v.default.DVB_WEIGHT)&&(Jt.dvb_weight=Ct[v.default.DVB_WEIGHT]),Ct.hasOwnProperty(v.default.AVAILABILITY_TIME_OFFSET)&&(Jt.availabilityTimeOffset=Ct[v.default.AVAILABILITY_TIME_OFFSET]),Ct.hasOwnProperty(v.default.AVAILABILITY_TIME_COMPLETE)&&(Jt.availabilityTimeComplete="false"!==Ct[v.default.AVAILABILITY_TIME_COMPLETE]),ht.push(Jt),qe}}),ht}return Y={getIsTypeOf:pe,getIsText:we,getIsFragmented:Ae,getProducerReferenceTimesForAdaptation:function je(At){var ht=At&&At.hasOwnProperty(v.default.PRODUCERREFERENCETIME_ASARRAY)?At[v.default.PRODUCERREFERENCETIME_ASARRAY]:[];(At&&At.hasOwnProperty(v.default.REPRESENTATION_ASARRAY)?At[v.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Ct){Ct.hasOwnProperty(v.default.PRODUCERREFERENCETIME_ASARRAY)&&ht.push.apply(ht,L(Ct[v.default.PRODUCERREFERENCETIME_ASARRAY]))});var qe=[];return ht.forEach(function(Ct){var Jt=new f.default;Ct.hasOwnProperty(v.default.ID)&&(Jt[v.default.ID]=Ct[v.default.ID],Ct.hasOwnProperty(v.default.WALL_CLOCK_TIME)&&(Jt[v.default.WALL_CLOCK_TIME]=Ct[v.default.WALL_CLOCK_TIME],Ct.hasOwnProperty(v.default.PRESENTATION_TIME)&&(Jt[v.default.PRESENTATION_TIME]=Ct[v.default.PRESENTATION_TIME],qe.push(Jt))))}),qe},getLanguageForAdaptation:function ft(At){var ht="";return At&&At.hasOwnProperty(v.default.LANG)&&(ht=At.lang),ht},getViewpointForAdaptation:function Ze(At){return At&&At.hasOwnProperty(v.default.VIEWPOINT)?At.Viewpoint:null},getRolesForAdaptation:function Re(At){return At&&At.hasOwnProperty(v.default.ROLE_ASARRAY)?At.Role_asArray:[]},getAccessibilityForAdaptation:function be(At){return At&&At.hasOwnProperty(v.default.ACCESSIBILITY_ASARRAY)?At.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function Q(At){return At&&At.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?At.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ie(At){return At&&At.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?At.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function J(At,ht,Tn){var qe=ee(ht,Tn);return qe.length>0&&Ie(At)?qe[At]:null},getIndexForAdaptation:function q(At,ht,Tn){if(!At)return-1;for(var qe=ee(ht,Tn),Ct=0;Ct<qe.length;Ct++)if(Object(S.default)(ce).getInstance().areEqual(qe[Ct],At))return Ct;return-1},getAdaptationForId:function re(At,ht,Tn){var Ct,Jt,qe=ee(ht,Tn);for(Ct=0,Jt=qe.length;Ct<Jt;Ct++)if(qe[Ct].hasOwnProperty(v.default.ID)&&qe[Ct].id===At)return qe[Ct];return null},getAdaptationsForType:function _e(At,ht,Tn){var Ct,Jt,qe=ee(At,ht),Rt=[];for(Ct=0,Jt=qe.length;Ct<Jt;Ct++)pe(qe[Ct],Tn)&&Rt.push(oe(qe[Ct]));return Rt},getRealPeriods:X,getRealPeriodForIndex:function $(At,ht){var Tn=X(ht);return Tn.length>0&&Ie(At)?Tn[At]:null},getCodec:function xe(At,ht,Tn){var qe=null;if(At&&At.Representation_asArray&&At.Representation_asArray.length>0){var Ct=Ie(ht)&&ht>=0&&ht<At.Representation_asArray.length?At.Representation_asArray[ht]:At.Representation_asArray[0];Ct&&(qe=Ct.mimeType+';codecs="'+Ct.codecs+'"',Tn&&void 0!==Ct.width&&(qe+=';width="'+Ct.width+'";height="'+Ct.height+'"'))}return qe&&(qe=qe.replace(/\sprofiles=[^;]*/g,"")),qe},getSelectionPriority:function Qt(At){try{var ht=At&&typeof At.selectionPriority<"u"?parseInt(At.selectionPriority):1;return isNaN(ht)?1:ht}catch{return 1}},getMimeType:function Ee(At){return At&&At.Representation_asArray&&At.Representation_asArray.length>0?At.Representation_asArray[0].mimeType:null},getKID:function Ge(At){return At&&At.hasOwnProperty(v.default.CENC_DEFAULT_KID)?At[v.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function ct(At){if(!At||!Array.isArray(At.Label_asArray))return[];for(var ht=[],Tn=0;Tn<At.Label_asArray.length;Tn++)ht.push({lang:At.Label_asArray[Tn].lang,text:At.Label_asArray[Tn].__text||At.Label_asArray[Tn]});return ht},getContentProtectionData:function Xe(At){return At&&At.hasOwnProperty(v.default.CONTENTPROTECTION_ASARRAY)&&0!==At.ContentProtection_asArray.length?At.ContentProtection_asArray:null},getIsDynamic:tt,getId:function gt(At){return At&&At[v.default.ID]||null},hasProfile:function Qe(At,ht){var Tn=!1;return At&&At.profiles&&At.profiles.length>0&&(Tn=-1!==At.profiles.indexOf(ht)),Tn},getDuration:function yt(At){return At&&At.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)?At.mediaPresentationDuration:At&&"dynamic"==At.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Dt(At){return At&&At.bandwidth?At.bandwidth:NaN},getManifestUpdatePeriod:function fe(At){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Tn=NaN;return At&&At.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(Tn=At.minimumUpdatePeriod),isNaN(Tn)?Tn:Math.max(Tn-ht,1)},getPublishTime:function We(At){return At&&At.hasOwnProperty(v.default.PUBLISH_TIME)?new Date(At[v.default.PUBLISH_TIME]):null},getRepresentationCount:function Et(At){return At&&Array.isArray(At.Representation_asArray)?At.Representation_asArray.length:0},getBitrateListForAdaptation:function Wt(At){var ht=oe(At);return(ht&&Array.isArray(ht.Representation_asArray)?ht.Representation_asArray:[]).map(function(qe){return{bandwidth:qe.bandwidth,width:qe.width||0,height:qe.height||0,scanType:qe.scanType||null,id:qe.id||null}})},getRepresentationFor:function un(At,ht){return ht&&ht.Representation_asArray&&ht.Representation_asArray.length>0&&Ie(At)?ht.Representation_asArray[At]:null},getRepresentationsForAdaptation:function wt(At){var qe,Ct,ht=[],Tn=function fn(At){if(At&&At.period&&Ie(At.period.index)){var ht=At.period.mpd.manifest.Period_asArray[At.period.index];if(ht&&ht.AdaptationSet_asArray&&Ie(At.index))return oe(ht.AdaptationSet_asArray[At.index])}}(At);if(Tn&&Tn.Representation_asArray){if(At&&At.period&&Ie(At.period.index)){var Jt=In(At.period.mpd.manifest);Jt&&(Ct=Jt[0])}for(var Rt=0,xn=Tn.Representation_asArray.length;Rt<xn;++Rt){var kt=Tn.Representation_asArray[Rt],It=new b.default;if(It.index=Rt,It.adaptation=At,kt.hasOwnProperty(v.default.ID)&&(It.id=kt.id),kt.hasOwnProperty(v.default.CODECS)&&(It.codecs=kt.codecs),kt.hasOwnProperty(v.default.MIME_TYPE)&&(It.mimeType=kt[v.default.MIME_TYPE]),kt.hasOwnProperty(v.default.CODEC_PRIVATE_DATA)&&(It.codecPrivateData=kt.codecPrivateData),kt.hasOwnProperty(v.default.BANDWITH)&&(It.bandwidth=kt.bandwidth),kt.hasOwnProperty(v.default.WIDTH)&&(It.width=kt.width),kt.hasOwnProperty(v.default.HEIGHT)&&(It.height=kt.height),kt.hasOwnProperty(v.default.SCAN_TYPE)&&(It.scanType=kt.scanType),kt.hasOwnProperty(v.default.MAX_PLAYOUT_RATE)&&(It.maxPlayoutRate=kt.maxPlayoutRate),kt.hasOwnProperty(v.default.SEGMENT_BASE)?(qe=kt.SegmentBase,It.segmentInfoType=v.default.SEGMENT_BASE):kt.hasOwnProperty(v.default.SEGMENT_LIST)?It.segmentInfoType=(qe=kt.SegmentList).hasOwnProperty(v.default.SEGMENT_TIMELINE)?v.default.SEGMENT_TIMELINE:v.default.SEGMENT_LIST:kt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)?(It.segmentInfoType=(qe=kt.SegmentTemplate).hasOwnProperty(v.default.SEGMENT_TIMELINE)?v.default.SEGMENT_TIMELINE:v.default.SEGMENT_TEMPLATE,qe.hasOwnProperty(v.default.INITIALIZATION_MINUS)&&(It.initialization=qe.initialization.split("$Bandwidth$").join(kt.bandwidth).split("$RepresentationID$").join(kt.id))):It.segmentInfoType=v.default.BASE_URL,It.essentialProperties=qt(kt),qe){if(qe.hasOwnProperty(v.default.INITIALIZATION)){var Nt=qe.Initialization;Nt.hasOwnProperty(v.default.SOURCE_URL)&&(It.initialization=Nt.sourceURL),Nt.hasOwnProperty(v.default.RANGE)&&(It.range=Nt.range)}else we(Tn)&&Ae(Tn)&&Tn.mimeType&&-1===Tn.mimeType.indexOf("application/mp4")&&(It.range=0);qe.hasOwnProperty(v.default.TIMESCALE)&&(It.timescale=qe.timescale),qe.hasOwnProperty(v.default.DURATION)?It.segmentDuration=qe.duration/It.timescale:kt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)&&(qe=kt.SegmentTemplate).hasOwnProperty(v.default.SEGMENT_TIMELINE)&&(It.segmentDuration=vt(qe.SegmentTimeline)/It.timescale),qe.hasOwnProperty(v.default.MEDIA)&&(It.media=qe.media),qe.hasOwnProperty(v.default.START_NUMBER)&&(It.startNumber=qe.startNumber),qe.hasOwnProperty(v.default.INDEX_RANGE)&&(It.indexRange=qe.indexRange),qe.hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(It.presentationTimeOffset=qe.presentationTimeOffset/It.timescale),qe.hasOwnProperty(v.default.AVAILABILITY_TIME_OFFSET)?It.availabilityTimeOffset=qe.availabilityTimeOffset:Ct&&void 0!==Ct.availabilityTimeOffset&&(It.availabilityTimeOffset=Ct.availabilityTimeOffset),qe.hasOwnProperty(v.default.AVAILABILITY_TIME_COMPLETE)?It.availabilityTimeComplete="false"!==qe.availabilityTimeComplete:Ct&&void 0!==Ct.availabilityTimeComplete&&(It.availabilityTimeComplete=Ct.availabilityTimeComplete)}It.MSETimeOffset=it(It),It.path=[At.period.index,At.index,Rt],ht.push(It)}}return ht},getAdaptationsForPeriod:function He(At){var qe,Ct,Jt,ht=At&&Ie(At.index)?At.mpd.manifest.Period_asArray[At.index]:null,Tn=[];if(ht&&ht.AdaptationSet_asArray)for(Jt=0;Jt<ht.AdaptationSet_asArray.length;Jt++)Ct=ht.AdaptationSet_asArray[Jt],qe=new g.default,Ct.hasOwnProperty(v.default.ID)&&(qe.id=Ct.id),qe.index=Jt,qe.period=At,Te(Ct)?qe.type=t.default.MUXED:ke(Ct)?qe.type=t.default.AUDIO:he(Ct)?qe.type=t.default.VIDEO:we(Ct)?qe.type=t.default.TEXT:Oe(Ct)?qe.type=t.default.IMAGE:le.warn("Unknown Adaptation stream type"),Tn.push(qe);return Tn},getRegularPeriods:function ze(At){var xn,kt,ht=!!At&&tt(At.manifest),Tn=[],qe=null,Ct=null,Jt=null,Rt=null;for(kt=0,xn=At&&At.manifest&&At.manifest.Period_asArray?At.manifest.Period_asArray.length:0;kt<xn;kt++)(Ct=At.manifest.Period_asArray[kt]).hasOwnProperty(v.default.START)?(Rt=new P.default).start=Ct.start:null!==qe&&qe.hasOwnProperty(v.default.DURATION)&&null!==Jt?(Rt=new P.default).start=parseFloat((Jt.start+Jt.duration).toFixed(5)):0===kt&&!ht&&((Rt=new P.default).start=0),null!==Jt&&isNaN(Jt.duration)&&(null!==Rt?Jt.duration=parseFloat((Rt.start-Jt.start).toFixed(5)):le.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Rt&&(Rt.id=st(Ct,kt),Rt.index=kt,Rt.mpd=At,Ct.hasOwnProperty(v.default.DURATION)&&(Rt.duration=Ct.duration),Jt&&(Jt.nextPeriodId=Rt.id),Tn.push(Rt),qe=Ct,Jt=Rt),Ct=null,Rt=null;return 0===Tn.length||null!==Jt&&isNaN(Jt.duration)&&(Jt.duration=parseFloat((function bt(At){!function St(){if(!G||!G.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Tn,ht=tt(At.mpd.manifest);return At.mpd.manifest.mediaPresentationDuration?Tn=At.mpd.manifest.mediaPresentationDuration:At.duration?Tn=At.duration:ht?Tn=Number.POSITIVE_INFINITY:G.error(new O.default(C.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",At)),Tn}(Jt)-Jt.start).toFixed(5))),Tn},getMpd:function at(At){var ht=new D.default;return At&&(ht.manifest=At,At.hasOwnProperty(v.default.AVAILABILITY_START_TIME)?ht.availabilityStartTime=new Date(At.availabilityStartTime.getTime()):At.loadedTime&&(ht.availabilityStartTime=new Date(At.loadedTime.getTime())),At.hasOwnProperty(v.default.AVAILABILITY_END_TIME)&&(ht.availabilityEndTime=new Date(At.availabilityEndTime.getTime())),At.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(ht.minimumUpdatePeriod=At.minimumUpdatePeriod),At.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)&&(ht.mediaPresentationDuration=At.mediaPresentationDuration),At.hasOwnProperty(v.default.SUGGESTED_PRESENTATION_DELAY)&&(ht.suggestedPresentationDelay=At.suggestedPresentationDelay),At.hasOwnProperty(v.default.TIMESHIFT_BUFFER_DEPTH)&&(ht.timeShiftBufferDepth=At.timeShiftBufferDepth),At.hasOwnProperty(v.default.MAX_SEGMENT_DURATION)&&(ht.maxSegmentDuration=At.maxSegmentDuration),At.hasOwnProperty(v.default.PUBLISH_TIME)&&(ht.publishTime=new Date(At.publishTime))),ht},getEventsForPeriod:function xt(At){var Jt,Rt,ht=At&&At.mpd&&At.mpd.manifest?At.mpd.manifest:null,Tn=ht?ht.Period_asArray:null,qe=Tn&&At&&Ie(At.index)?Tn[At.index].EventStream_asArray:null,Ct=[];if(qe)for(Jt=0;Jt<qe.length;Jt++){var xn=new d.default;if(xn.period=At,xn.timescale=1,!qe[Jt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(xn.schemeIdUri=qe[Jt][t.default.SCHEME_ID_URI],qe[Jt].hasOwnProperty(v.default.TIMESCALE)&&(xn.timescale=qe[Jt][v.default.TIMESCALE]),qe[Jt].hasOwnProperty(v.default.VALUE)&&(xn.value=qe[Jt][v.default.VALUE]),qe[Jt].hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(xn.presentationTimeOffset=qe[Jt][v.default.PRESENTATION_TIME_OFFSET]),Rt=0;qe[Jt].Event_asArray&&Rt<qe[Jt].Event_asArray.length;Rt++){var kt=qe[Jt].Event_asArray[Rt],It=new i.default;It.presentationTime=0,It.eventStream=xn,kt.hasOwnProperty(v.default.PRESENTATION_TIME)&&(It.presentationTime=kt.presentationTime),It.calculatedPresentationTime=It.presentationTime/xn.timescale+At.start-(xn.presentationTimeOffset?xn.presentationTimeOffset/xn.timescale:0),kt.hasOwnProperty(v.default.DURATION)&&(It.duration=kt.duration/xn.timescale),It.id=kt.hasOwnProperty(v.default.ID)?kt.id:null,It.messageData=kt.Signal&&kt.Signal.Binary?Se.decodeArray(kt.Signal.Binary.toString()):kt.messageData||kt.__cdata||kt.__text,Ct.push(It)}}return Ct},getEssentialPropertiesForRepresentation:qt,getEventStreamForAdaptationSet:function En(At,ht,Tn){var qe,Ct,Jt;return At&&At.Period_asArray&&ht&&ht.period&&Ie(ht.period.index)&&(Ct=At.Period_asArray[ht.period.index])&&Ct.AdaptationSet_asArray&&Ie(ht.index)&&(Jt=Ct.AdaptationSet_asArray[ht.index])&&(qe=Jt.InbandEventStream_asArray),on(qe,null,Tn)},getEventStreamForRepresentation:function tn(At,ht,Tn){var qe,Ct,Jt,Rt;return At&&At.Period_asArray&&ht&&ht.adaptation&&ht.adaptation.period&&Ie(ht.adaptation.period.index)&&(Ct=At.Period_asArray[ht.adaptation.period.index])&&Ct.AdaptationSet_asArray&&Ie(ht.adaptation.index)&&(Jt=Ct.AdaptationSet_asArray[ht.adaptation.index])&&Jt.Representation_asArray&&Ie(ht.index)&&(Rt=Jt.Representation_asArray[ht.index])&&(qe=Rt.InbandEventStream_asArray),on(qe,ht,Tn)},getUTCTimingSources:function Mn(At){var ht=tt(At),Tn=!!At&&At.hasOwnProperty(v.default.AVAILABILITY_START_TIME),qe=At?At.UTCTiming_asArray:null,Ct=[];return(ht||Tn)&&qe&&qe.forEach(function(Jt){var Rt=new m.default;Jt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Rt.schemeIdUri=Jt.schemeIdUri,Jt.hasOwnProperty(v.default.VALUE)&&(Rt.value=Jt.value.toString(),Ct.push(Rt)))}),Ct},getBaseURLsFromElement:In,getRepresentationSortFunction:ye,getContentSteering:function Nn(At){if(At&&At.hasOwnProperty(v.default.CONTENT_STEERING_AS_ARRAY)){var ht=At[v.default.CONTENT_STEERING_AS_ARRAY][0],Tn=new _.default;return Tn.serverUrl=ht.__text,ht.hasOwnProperty(v.default.DEFAULT_SERVICE_LOCATION)&&(Tn.defaultServiceLocation=ht[v.default.DEFAULT_SERVICE_LOCATION]),ht.hasOwnProperty(v.default.QUERY_BEFORE_START)&&(Tn.queryBeforeStart="true"===ht[v.default.QUERY_BEFORE_START].toLowerCase()),ht.hasOwnProperty(v.default.PROXY_SERVER_URL)&&(Tn.proxyServerUrl=ht[v.default.PROXY_SERVER_URL]),Tn}},getLocation:function $n(At){if(At&&At.hasOwnProperty(t.default.LOCATION))return At.Location=At.Location_asArray[0],At.Location},getPatchLocation:function ni(At){if(At&&At.hasOwnProperty(v.default.PATCH_LOCATION))return At.PatchLocation=At.PatchLocation_asArray[0],At.PatchLocation},getSuggestedPresentationDelay:function vn(At){return At&&At.hasOwnProperty(v.default.SUGGESTED_PRESENTATION_DELAY)?At.suggestedPresentationDelay:null},getAvailabilityStartTime:function pn(At){return At&&At.hasOwnProperty(v.default.AVAILABILITY_START_TIME)&&null!==At.availabilityStartTime?At.availabilityStartTime.getTime():null},getServiceDescriptions:function yn(At){var ht=[];if(At&&At.hasOwnProperty(v.default.SERVICE_DESCRIPTION)){var qe,Tn=T(At.ServiceDescription_asArray);try{for(Tn.s();!(qe=Tn.n()).done;){var Ct=qe.value,Jt=null,Rt=null,xn=null,kt=null,It=null,Nt=null;for(var en in Ct)Ct.hasOwnProperty(en)&&(en===v.default.ID?Jt=Ct[en]:en===v.default.SERVICE_DESCRIPTION_SCOPE?Rt=Ct[en].schemeIdUri:en===v.default.SERVICE_DESCRIPTION_LATENCY?xn={target:parseInt(Ct[en].target),max:parseInt(Ct[en].max),min:parseInt(Ct[en].min),referenceId:parseInt(Ct[en].referenceId)}:en===v.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?kt={max:parseFloat(Ct[en].max),min:parseFloat(Ct[en].min)}:en===v.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?It={mediaType:Ct[en].mediaType,max:parseInt(Ct[en].max),min:parseInt(Ct[en].min),target:parseInt(Ct[en].target),type:Ct[en].type,maxQualityDifference:parseInt(Ct[en].maxQualityDifference)}:en===v.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Nt={mediaType:Ct[en].mediaType,max:parseInt(Ct[en].max),min:parseInt(Ct[en].min),target:parseInt(Ct[en].target)}));ht.push({id:Jt,schemeIdUri:Rt,latency:xn,playbackRate:kt,operatingQuality:It,operatingBandwidth:Nt})}}catch(An){Tn.e(An)}finally{Tn.f()}}return ht},getSupplementalProperties:function mn(At){var ht={};if(At&&At.hasOwnProperty(v.default.SUPPLEMENTAL_PROPERTY)){var qe,Tn=T(At.SupplementalProperty_asArray);try{for(Tn.s();!(qe=Tn.n()).done;){var Ct=qe.value;Ct.hasOwnProperty(t.default.SCHEME_ID_URI)&&Ct.hasOwnProperty(v.default.VALUE)&&(ht[Ct[t.default.SCHEME_ID_URI]]=Ct[v.default.VALUE])}}catch(Jt){Tn.e(Jt)}finally{Tn.f()}}return ht},setConfig:function _n(At){At&&(At.errHandler&&(G=At.errHandler),At.BASE64&&(Se=At.BASE64))}},function Ce(){le=Object(N.default)(ce).getInstance().getLogger(Y)}(),Y}Fe.__dashjs_factory_name="DashManifestModel",p.default=A.default.getSingletonFactory(Fe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=e(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),P=e(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function D(){var m,i,c=this.context;return m={getIsPatch:function f(N){return N&&N.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function _(N){return N&&N.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(N[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function S(N){return N&&N.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(N[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function x(N){return N&&N[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function A(N){return N?(N.__children||[]).map(function(O){var C=Object.keys(O)[0];if("add"!==C&&"remove"!==C&&"replace"!==C)return i.warn("Ignoring node of invalid action: ".concat(C)),null;var I=O[C],T=I.sel;if("add"===C&&I.type){if(!I.type.startsWith("@"))return i.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;T="".concat(T,"/").concat(I.type)}var L=new g.default(T);if(!L.isValid())return i.warn("Ignoring action with invalid selector: ".concat(C," - ").concat(T)),null;var y=null;L.findsAttribute()?y=I.__text||"":"remove"!==C&&(y=I.__children.reduce(function(z,ne){var ae=Object.keys(ne)[0];return"#text"!==ae&&(z[ae]=z[ae]||[],z[ae].push(ne[ae])),z},{}));var B=new P.default(C,L,y);return"add"===C&&(B.position=I.pos),B}).filter(function(O){return!!O}):[]}},function d(){i=Object(b.default)(c).getInstance().getLogger(m)}(),m}D.__dashjs_factory_name="PatchManifestModel",p.default=v.default.getSingletonFactory(D)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),b=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),g=e(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),P=e(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),D=e(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),m=e(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),i=e(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),c=e(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),d=e(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function f(_){var A,N,O,C,I,S=this.context,x=(_=_||{}).debug;return A={parse:function B(z){var ne,ae=window.performance.now();if(!(ne=C.xml_str2json(z)))throw new Error("parsing the manifest failed");var Fe=window.performance.now();ne.Patch?((ne=ne.Patch).add_asArray&&ne.add_asArray.forEach(function(le){return I.run(le)}),ne.replace_asArray&&ne.replace_asArray.forEach(function(le){return I.run(le)})):I.run(ne=ne.MPD);var Y=window.performance.now();return N.info("Parsing complete: ( xml2json: "+(Fe-ae).toPrecision(3)+"ms, objectiron: "+(Y-Fe).toPrecision(3)+"ms, total: "+((Y-ae)/1e3).toPrecision(3)+"s)"),ne.protocol="DASH",ne},getMatchers:function L(){return O},getIron:function y(){return I}},function T(){N=x.getLogger(A),O=[new P.default,new D.default,new m.default,new i.default,new g.default],C=new b.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),I=Object(v.default)(S).create({adaptationset:new c.default,period:new d.default})}(),A}f.__dashjs_factory_name="DashParser",p.default=t.default.getClassFactory(f)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i);var _;this._name=c,this._merge=(_=c)&&_.length&&_.charAt(0)===_.charAt(0).toUpperCase()}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),i}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function g(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,D(_.key),_)}}function D(c){var d=function m(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==v(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=function(){function c(d,f,_){var S=this;(function b(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this._name=d||"",this._properties=[],this._children=_||[],Array.isArray(f)&&f.forEach(function(x){S._properties.push(new t.default(x))})}return function P(c,d,f){return d&&g(c.prototype,d),f&&g(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),c}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function g(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,D(T.key),T)}}function D(O){var C=function m(O,C){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===b(C)?C:String(C)}function c(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&d(O,C)}function d(O,C){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function f(O){var C=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=A(O);if(C){var y=A(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function _(O,C){if(C&&("object"===b(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function S(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}p.default=function(O){c(I,O);var C=f(I);function I(){!function i(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[v.default.PROFILES,v.default.WIDTH,v.default.HEIGHT,v.default.SAR,v.default.FRAMERATE,v.default.AUDIO_SAMPLING_RATE,v.default.MIME_TYPE,v.default.SEGMENT_PROFILES,v.default.CODECS,v.default.MAXIMUM_SAP_PERIOD,v.default.START_WITH_SAP,v.default.MAX_PLAYOUT_RATE,v.default.CODING_DEPENDENCY,v.default.SCAN_TYPE,v.default.FRAME_PACKING,v.default.AUDIO_CHANNEL_CONFIGURATION,v.default.CONTENT_PROTECTION,v.default.ESSENTIAL_PROPERTY,v.default.SUPPLEMENTAL_PROPERTY,v.default.INBAND_EVENT_STREAM];return C.call(this,v.default.ADAPTATION_SET,T,[new t.default(v.default.REPRESENTATION,T,[new t.default(v.default.SUB_REPRESENTATION,T)])])}return function P(O,C,I){return C&&g(O.prototype,C),I&&g(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function g(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,D(T.key),T)}}function D(O){var C=function m(O,C){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===b(C)?C:String(C)}function c(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&d(O,C)}function d(O,C){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function f(O){var C=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=A(O);if(C){var y=A(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function _(O,C){if(C&&("object"===b(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function S(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}p.default=function(O){c(I,O);var C=f(I);function I(){!function i(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[v.default.SEGMENT_BASE,v.default.SEGMENT_TEMPLATE,v.default.SEGMENT_LIST];return C.call(this,v.default.PERIOD,T,[new t.default(v.default.ADAPTATION_SET,T,[new t.default(v.default.REPRESENTATION,T)])])}return function P(O,C,I){return C&&g(O.prototype,C),I&&g(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c,d){(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this._test=c,this._converter=d}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),i}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function v(T){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(T)}function b(T,L){for(var y=0;y<L.length;y++){var B=L[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,P(B.key),B)}}function P(T){var L=function D(T,L){if("object"!==v(T)||null===T)return T;var y=T[Symbol.toPrimitive];if(void 0!==y){var B=y.call(T,L||"default");if("object"!==v(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(T)}(T,"string");return"symbol"===v(L)?L:String(L)}function i(T,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(L&&L.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),L&&c(T,L)}function c(T,L){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,z){return B.__proto__=z,B})(T,L)}function d(T){var L=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,B=x(T);if(L){var ne=x(this).constructor;z=Reflect.construct(B,arguments,ne)}else z=B.apply(this,arguments);return function f(T,L){if(L&&("object"===v(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function _(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,z)}}function x(T){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(T)}var C=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;p.default=function(T){i(y,T);var L=d(y);function y(){return function m(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}(this,y),L.call(this,function(B){return C.test(B.value)},function(B){var ne,z=C.exec(B);if(ne=Date.UTC(parseInt(z[1],10),parseInt(z[2],10)-1,parseInt(z[3],10),parseInt(z[4],10),parseInt(z[5],10),z[6]&&parseInt(z[6],10)||0,z[7]&&1e3*parseFloat(z[7])||0),z[9]&&z[10]){var ae=60*parseInt(z[9],10)+parseInt(z[10],10);ne+=("+"===z[8]?-1:1)*ae*60*1e3}return new Date(ne)})}return function g(T,L,y){return L&&b(T.prototype,L),y&&b(T,y),Object.defineProperty(T,"prototype",{writable:!1}),T}(y)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function g(z){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(z)}function P(z,ne){for(var ae=0;ae<ne.length;ae++){var Fe=ne[ae];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(z,m(Fe.key),Fe)}}function m(z){var ne=function i(z,ne){if("object"!==g(z)||null===z)return z;var ae=z[Symbol.toPrimitive];if(void 0!==ae){var Fe=ae.call(z,ne||"default");if("object"!==g(Fe))return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ne?String:Number)(z)}(z,"string");return"symbol"===g(ne)?ne:String(ne)}function d(z,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ne&&ne.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),ne&&f(z,ne)}function f(z,ne){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,Y){return Fe.__proto__=Y,Fe})(z,ne)}function _(z){var ne=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,Fe=N(z);if(ne){var le=N(this).constructor;Y=Reflect.construct(Fe,arguments,le)}else Y=Fe.apply(this,arguments);return function S(z,ne){if(ne&&("object"===g(ne)||"function"==typeof ne))return ne;if(void 0!==ne)throw new TypeError("Derived constructors may only return object or undefined");return function x(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z)}(this,Y)}}function N(z){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(z)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;p.default=function(z){d(ae,z);var ne=_(ae);function ae(){return function c(z,ne){if(!(z instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,ae),ne.call(this,function(Fe){for(var Y=[b.default.MIN_BUFFER_TIME,b.default.MEDIA_PRESENTATION_DURATION,b.default.MINIMUM_UPDATE_PERIOD,b.default.TIMESHIFT_BUFFER_DEPTH,b.default.MAX_SEGMENT_DURATION,b.default.MAX_SUBSEGMENT_DURATION,b.default.SUGGESTED_PRESENTATION_DELAY,b.default.START,v.default.START_TIME,b.default.DURATION],le=Y.length,G=0;G<le;G++)if(Fe.nodeName===Y[G])return O.test(Fe.value);return!1},function(Fe){var Y=O.exec(Fe),le=31536e3*parseFloat(Y[3]||0)+2592e3*parseFloat(Y[5]||0)+86400*parseFloat(Y[7]||0)+3600*parseFloat(Y[9]||0)+60*parseFloat(Y[11]||0)+parseFloat(Y[13]||0);return void 0!==Y[1]&&(le=-le),le})}return function D(z,ne,ae){return ne&&P(z.prototype,ne),ae&&P(z,ae),Object.defineProperty(z,"prototype",{writable:!1}),z}(ae)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),g=e.n(b);function P(T){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(T)}function D(T,L,y){return(L=c(L))in T?Object.defineProperty(T,L,{value:y,enumerable:!0,configurable:!0,writable:!0}):T[L]=y,T}function m(T,L){for(var y=0;y<L.length;y++){var B=L[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,c(B.key),B)}}function c(T){var L=function d(T,L){if("object"!==P(T)||null===T)return T;var y=T[Symbol.toPrimitive];if(void 0!==y){var B=y.call(T,L||"default");if("object"!==P(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(T)}(T,"string");return"symbol"===P(L)?L:String(L)}function _(T,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(L&&L.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),L&&S(T,L)}function S(T,L){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,z){return B.__proto__=z,B})(T,L)}function x(T){var L=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,B=C(T);if(L){var ne=C(this).constructor;z=Reflect.construct(B,arguments,ne)}else z=B.apply(this,arguments);return function A(T,L){if(L&&("object"===P(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function N(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,z)}}function C(T){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(T)}p.default=function(T){_(y,T);var L=x(y);function y(){return function f(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}(this,y),L.call(this,function(B,z){var ne,ae=(D(ne={},v.default.ADAPTATION_SET,[v.default.LANG]),D(ne,v.default.REPRESENTATION,[v.default.LANG]),D(ne,v.default.CONTENT_COMPONENT,[v.default.LANG]),D(ne,v.default.LABEL,[v.default.LANG]),D(ne,v.default.GROUP_LABEL,[v.default.LANG]),ne);if(ae.hasOwnProperty(z)){var Fe=ae[z];return void 0!==Fe&&Fe.indexOf(B.name)>=0}return!1},function(B){var z=g()(B);return void 0!==z?z:String(B)})}return function i(T,L,y){return L&&m(T.prototype,L),y&&m(T,y),Object.defineProperty(T,"prototype",{writable:!1}),T}(y)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}var A=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;p.default=function(O){i(I,O);var C=d(I);function I(){return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),C.call(this,function(T){return A.test(T.value)},function(T){return parseFloat(T)})}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(C){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(C)}function g(C,I,T){return(I=m(I))in C?Object.defineProperty(C,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[I]=T,C}function P(C,I){for(var T=0;T<I.length;T++){var L=I[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,m(L.key),L)}}function m(C){var I=function i(C,I){if("object"!==b(C)||null===C)return C;var T=C[Symbol.toPrimitive];if(void 0!==T){var L=T.call(C,I||"default");if("object"!==b(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(C)}(C,"string");return"symbol"===b(I)?I:String(I)}function d(C,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),I&&f(C,I)}function f(C,I){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,y){return L.__proto__=y,L})(C,I)}function _(C){var I=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,L=N(C);if(I){var B=N(this).constructor;y=Reflect.construct(L,arguments,B)}else y=L.apply(this,arguments);return function S(C,I){if(I&&("object"===b(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function x(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(this,y)}}function N(C){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(C)}p.default=function(C){d(T,C);var I=_(T);function T(){return function c(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}(this,T),I.call(this,function(L,y){var B,z=(g(B={},v.default.MPD,[v.default.ID,v.default.PROFILES]),g(B,v.default.PERIOD,[v.default.ID]),g(B,v.default.BASE_URL,[v.default.SERVICE_LOCATION,v.default.BYTE_RANGE]),g(B,v.default.SEGMENT_BASE,[v.default.INDEX_RANGE]),g(B,v.default.INITIALIZATION,[v.default.RANGE]),g(B,v.default.REPRESENTATION_INDEX,[v.default.RANGE]),g(B,v.default.SEGMENT_LIST,[v.default.INDEX_RANGE]),g(B,v.default.BITSTREAM_SWITCHING,[v.default.RANGE]),g(B,v.default.SEGMENT_URL,[v.default.MEDIA_RANGE,v.default.INDEX_RANGE]),g(B,v.default.SEGMENT_TEMPLATE,[v.default.INDEX_RANGE,v.default.MEDIA,v.default.INDEX,v.default.INITIALIZATION_MINUS,v.default.BITSTREAM_SWITCHING_MINUS]),g(B,v.default.ASSET_IDENTIFIER,[v.default.VALUE,v.default.ID]),g(B,v.default.EVENT_STREAM,[v.default.VALUE]),g(B,v.default.ADAPTATION_SET,[v.default.PROFILES,v.default.MIME_TYPE,v.default.SEGMENT_PROFILES,v.default.CODECS,v.default.CONTENT_TYPE]),g(B,v.default.FRAME_PACKING,[v.default.VALUE,v.default.ID]),g(B,v.default.AUDIO_CHANNEL_CONFIGURATION,[v.default.VALUE,v.default.ID]),g(B,v.default.CONTENT_PROTECTION,[v.default.VALUE,v.default.ID]),g(B,v.default.ESSENTIAL_PROPERTY,[v.default.VALUE,v.default.ID]),g(B,v.default.SUPPLEMENTAL_PROPERTY,[v.default.VALUE,v.default.ID]),g(B,v.default.INBAND_EVENT_STREAM,[v.default.VALUE,v.default.ID]),g(B,v.default.ACCESSIBILITY,[v.default.VALUE,v.default.ID]),g(B,v.default.ROLE,[v.default.VALUE,v.default.ID]),g(B,v.default.RATING,[v.default.VALUE,v.default.ID]),g(B,v.default.VIEWPOINT,[v.default.VALUE,v.default.ID]),g(B,v.default.CONTENT_COMPONENT,[v.default.CONTENT_TYPE]),g(B,v.default.REPRESENTATION,[v.default.ID,v.default.DEPENDENCY_ID,v.default.MEDIA_STREAM_STRUCTURE_ID]),g(B,v.default.SUBSET,[v.default.ID]),g(B,v.default.METRICS,[v.default.METRICS_MINUS]),g(B,v.default.REPORTING,[v.default.VALUE,v.default.ID]),B);if(z.hasOwnProperty(y)){var ne=z[y];return void 0!==ne&&ne.indexOf(L.name)>=0}return!1},function(L){return String(L)})}return function D(C,I,T){return I&&P(C.prototype,I),T&&P(C,T),Object.defineProperty(C,"prototype",{writable:!1}),C}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function b(P){function D(d,f){for(var _ in d)f.hasOwnProperty(_)||(f[_]=d[_])}function m(d,f,_){for(var S=0,x=d.length;S<x;++S){var A=d[S];if(f[A.name])if(_[A.name]){if(A.merge){var N=f[A.name],O=_[A.name];"object"===v(N)&&"object"===v(O)?D(N,O):_[A.name]=N+O}}else _[A.name]=f[A.name]}}function i(d,f){for(var _=0,S=d.children.length;_<S;++_){var x=d.children[_],A=f[x.name+"_asArray"];if(A)for(var N=0,O=A.length;N<O;++N){var C=A[N];m(d.properties,f,C),i(x,C)}}}return{run:function c(d){if(null===d||"object"!==v(d))return d;if(d.Period_asArray&&"period"in P)for(var f=P.period,_=d.Period_asArray,S=0,x=_.length;S<x;++S){var A=_[S];if(i(f,A),"adaptationset"in P){var N=A.AdaptationSet_asArray;if(N)for(var O=P.adaptationset,C=0,I=N.length;C<I;++C)i(O,N[C])}}return d}}}b.__dashjs_factory_name="ObjectIron";var g=t.default.getClassFactory(b);p.default=g},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function g(D,m){var i=(D=D||{}).timelineConverter;function d(){if(!i||!i.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function _(x,A){if(d(),!x)return null;var N=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,O=N.SegmentURL_asArray.length,C=x&&!isNaN(x.startNumber)?x.startNumber:1,I=Math.max(C-1,0),T=Math.max(A-I,0),L=null;if(T<O){var y=N.SegmentURL_asArray[T];(L=Object(b.getIndexBasedSegment)(i,m,x,A))&&(L.replacementTime=(C+A-1)*x.segmentDuration,L.media=y.media?y.media:"",L.mediaRange=y.mediaRange,L.indexRange=y.indexRange)}return L}return{getSegmentByIndex:_,getSegmentByTime:function S(x,A){if(d(),!x)return null;var N=x.segmentDuration;if(isNaN(N))return null;var O=i.calcPeriodRelativeTimeFromMpdRelativeTime(x,A);return _(x,Math.floor(O/N))},getMediaFinishedInformation:function f(x){var A={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!x)return A;var N=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,O=x&&!isNaN(x.startNumber)?x.startNumber:1,C=Math.max(O-1,0);return A.numberOfSegments=C+N.SegmentURL_asArray.length,A}}}g.__dashjs_factory_name="ListSegmentsGetter";var P=t.default.getClassFactory(g);p.default=P},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p),e.d(p,"default",function(){return m});var m=function(){function c(){!function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}(this,c)}return function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,null,[{key:"round10",value:function(f,_){return function i(c,d,f){return typeof f>"u"||0==+f?Math[c](d):(f=+f,null===(d=+d)||isNaN(d)||"number"!=typeof f||f%1!=0?NaN:(d=d.toString().split("e"),+((d=(d=Math[c](+(d[0]+"e"+(d[1]?+d[1]-f:-f)))).toString().split("e"))[0]+"e"+(d[1]?+d[1]+f:f))))}("round",f,_)}}]),c}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function b(P){var D=(P=P||{}).timelineConverter;function i(){if(!D||!D.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function d(S,x){if(i(),!S)return null;var N,A=S.segments?S.segments.length:-1;if(x<A&&(N=S.segments[x])&&N.index===x)return N;for(var O=0;O<A;O++)if((N=S.segments[O])&&N.index===x)return N;return null}return{getSegmentByIndex:d,getSegmentByTime:function f(S,x){return i(),d(S,function _(S,x){if(!S)return-1;var C,I,T,L,y,A=S.segments,N=A?A.length:null,O=-1;if(A&&N>0)for(y=0;y<N;y++)if(x+(C=(L=(I=A[y]).duration)/2)>=(T=I.presentationStartTime)&&x-C<T+L){O=I.index;break}return O}(S,x))},getMediaFinishedInformation:function c(S){var x={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!S||!S.segments||(x.numberOfSegments=S.segments.length),x}}}b.__dashjs_factory_name="SegmentBaseGetter";var g=t.default.getClassFactory(b);p.default=g},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(et,p,e){"use strict";e.r(p),e.d(p,"unescapeDollarsInTemplate",function(){return g}),e.d(p,"replaceIDForTemplate",function(){return P}),e.d(p,"replaceTokenForTemplate",function(){return D}),e.d(p,"getIndexBasedSegment",function(){return c}),e.d(p,"getTimeBasedSegment",function(){return d});var t=e(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function v(f,_){for(;f.length<_;)f="0"+f;return f}function g(f){return f&&f.split("$$").join("$")}function P(f,_){if(!_||!f||-1===f.indexOf("$RepresentationID$"))return f;var S=_.toString();return f.split("$RepresentationID$").join(S)}function D(f,_,S){var A,N,O,C,I,T,L=_.length;if(!f)return f;for(;;){if((A=f.indexOf("$"+_))<0||(N=f.indexOf("$",A+L))<0)return f;if((O=f.indexOf("%0",A+L))>A&&O<N)switch(C=f.charAt(N-1),I=parseInt(f.substring(O+2,N-1),10),C){case"d":case"i":case"u":T=v(S.toString(),I);break;case"x":T=v(S.toString(16),I);break;case"X":T=v(S.toString(16),I).toUpperCase();break;case"o":T=v(S.toString(8),I);break;default:return f}else T=S;f=f.substring(0,A)+T+f.substring(N+1)}}function m(f,_,S,x,A,N,O,C){var I=new t.default;return I.representation=f,I.duration=_,I.presentationStartTime=S,I.mediaStartTime=x,I.availabilityStartTime=A.calcAvailabilityStartTimeFromPresentationTime(N,f,O),I.availabilityEndTime=A.calcAvailabilityEndTimeFromPresentationTime(N+_,f,O),I.wallStartTime=A.calcWallTimeForSegment(I,O),I.replacementNumber=function b(f,_){return f.representation.startNumber+_}(I,C),I.index=C,I}function i(f,_,S,x){var A=_.adaptation.period;if(isFinite(A.duration)&&A.start+A.duration<=S.presentationStartTime)return!1;if(x){if("INF"===_.availabilityTimeOffset)return!0;var N=f.getClientReferenceTime();return S.availabilityStartTime.getTime()<=N&&(!isFinite(S.availabilityEndTime)||S.availabilityEndTime.getTime()>=N)}return!0}function c(f,_,S,x){var A,N,O;A=S.segmentDuration,isNaN(A)&&(A=S.adaptation.period.duration),N=parseFloat((S.adaptation.period.start+x*A).toFixed(5)),O=parseFloat((N+A).toFixed(5));var I=m(S,A,N,f.calcMediaTimeFromPresentationTime(N,S),f,O,_,x);return i(f,S,I,_)?I:null}function d(f,_,S,x,A,N,O,C,I,T){var B,ne,L=x/N,y=A/N;return B=f.calcPresentationTimeFromMediaTime(L,S),i(f,S,ne=m(S,y,B,L,f,B+y,_,I),_)?(ne.replacementTime=T||x,O=D(O,"Number",ne.replacementNumber),O=D(O,"Time",ne.replacementTime),ne.media=O,ne.mediaRange=C,ne):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function g(D,m){var i=(D=D||{}).timelineConverter;function d(){if(!i||!i.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function _(x,A){if(d(),!x)return null;var N=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate;A=Math.max(A,0);var O=Object(b.getIndexBasedSegment)(i,m,x,A);if(O){O.replacementTime=Math.round((A-1)*x.segmentDuration*x.timescale,10);var C=N.media;C=Object(b.replaceTokenForTemplate)(C,"Number",O.replacementNumber),C=Object(b.replaceTokenForTemplate)(C,"Time",O.replacementTime),O.media=C}return O}return{getSegmentByIndex:_,getSegmentByTime:function S(x,A){if(d(),!x)return null;var N=x.segmentDuration;if(isNaN(N))return null;var O=i.calcPeriodRelativeTimeFromMpdRelativeTime(x,A);return _(x,Math.floor(O/N))},getMediaFinishedInformation:function f(x){var A={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!x)return A;var N=x.segmentDuration;return A.numberOfSegments=isNaN(N)?1:Math.ceil(x.adaptation.period.duration/N),A}}}g.__dashjs_factory_name="TemplateSegmentsGetter";var P=t.default.getClassFactory(g);p.default=P},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=e(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),D=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),m=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),i=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function d(){var x,A,N,O,f=this.context,_=Object(t.default)(f).getInstance(),S=Object(D.default)(f).getInstance();function L(Te){O=Te}function B(Te,Oe,je,ft){var Ze,Re=Oe.adaptation.period.mpd,be=Re.availabilityStartTime;if(ft)Ze=je&&Re.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(be.getTime()+1e3*(Te+Re.timeShiftBufferDepth)):Re.availabilityEndTime;else if(je){var Q=Oe.availabilityTimeOffset;Ze=new Date(be.getTime()+1e3*(Te-Q))}else Ze=be;return Ze}function ae(Te,Oe){return(Te.getTime()-Oe.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Fe(Te,Oe){return Te+(Oe.adaptation.period.start-Oe.presentationTimeOffset)}function ge(Te){var Oe={start:NaN,end:NaN},je=Te[0].getAdapter().getRegularPeriods()[0],ft=ae(new Date,je);if(!Te||0===Te.length)return{range:Oe,now:ft};Te.forEach(function(Re){var be=Re.getAdapter(),Q=be.getMediaInfoForType(Re.getStreamInfo(),m.default.VIDEO)||be.getMediaInfoForType(Re.getStreamInfo(),m.default.AUDIO),ye=be.getVoRepresentations(Q)[0],oe={start:NaN,end:NaN};if(ye)if(ye.segmentInfoType===g.default.SEGMENT_TIMELINE)oe=function pe(Te){var ie,ye,oe,ee,je=A.getRepresentationFor(Te.index,Te.adaptation.period.mpd.manifest.Period_asArray[Te.adaptation.period.index].AdaptationSet_asArray[Te.adaptation.index]),Ze=je.SegmentTemplate.timescale,Re=je.SegmentTemplate.SegmentTimeline.S_asArray,be={start:0,end:0},Q=0;for(be.start=Fe(Re[0].t/Ze,Te),oe=0,ee=Re.length;oe<ee;oe++)ye=0,(ie=Re[oe]).hasOwnProperty("r")&&(ye=ie.r),Q+=ie.d*(1+ye);return be.end=Fe((Re[0].t+Q)/Ze,Te),be}(ye);else{var ee=ye.adaptation.period;oe.start=ee.start,oe.end=Math.max(ft,ee.start+ee.duration)}!isNaN(oe.start)&&(isNaN(Oe.start)||Oe.start>oe.start)&&(Oe.start=oe.start),!isNaN(oe.end)&&(isNaN(Oe.end)||Oe.end<oe.end)&&(Oe.end=oe.end)}),Oe.end=Math.min(ft,Oe.end);var Ze=Ce(Te,Oe.end,!0);return Oe.end=isNaN(Ze)?Oe.end:Ze,Oe.start=je&&je.mpd&&je.mpd.timeShiftBufferDepth&&!isNaN(je.mpd.timeShiftBufferDepth)&&!isNaN(Oe.end)?Math.max(Oe.end-je.mpd.timeShiftBufferDepth,Oe.start):Oe.start,Oe.start=Ce(Te,Oe.start),{range:Oe,now:ft}}function Ie(Te,Oe){N=Te-Oe.end}function Ce(Te,Oe){var je=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ft=0,Ze=!1,Re=NaN;!Ze&&ft<Te.length;){var be=Te[ft].getStreamInfo();be.start<=Oe&&(!isFinite(be.duration)||be.start+be.duration>=Oe)?(Re=Oe,Ze=!0):!je&&be.start>Oe&&(isNaN(Re)||be.start<Re)?Re=be.start:je&&be.start+be.duration<Oe&&(isNaN(Re)||be.start+be.duration>Re)&&(Re=be.start+be.duration),ft+=1}return Re}catch{return Oe}}function ke(Te){void 0!==Te.offset&&!isNaN(Te.offset)&&L(Te.offset/1e3)}function he(){O=0,N=0}function we(){_.off(v.default.UPDATE_TIME_SYNC_OFFSET,ke,this),he()}return x={initialize:function I(){he(),_.on(v.default.UPDATE_TIME_SYNC_OFFSET,ke,this)},getClientTimeOffset:function T(){return O},setClientTimeOffset:L,getClientReferenceTime:function y(){return Date.now()-1e3*N+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function z(Te,Oe,je){return B(Te,Oe,je)},calcAvailabilityEndTimeFromPresentationTime:function ne(Te,Oe,je){return B(Te,Oe,je,!0)},calcPresentationTimeFromWallTime:ae,calcPresentationTimeFromMediaTime:Fe,calcPeriodRelativeTimeFromMpdRelativeTime:function Ae(Te,Oe){return Oe-Te.adaptation.period.start},calcMediaTimeFromPresentationTime:function Y(Te,Oe){return Te-Oe.adaptation.period.start+Oe.presentationTimeOffset},calcWallTimeForSegment:function le(Te,Oe){var ft,Ze;return Oe&&(ft=Te.presentationStartTime+Te.representation.adaptation.period.mpd.suggestedPresentationDelay,Ze=new Date(Te.availabilityStartTime.getTime()+1e3*ft)),Ze},calcTimeShiftBufferWindow:function G(Te,Oe){if(!Oe)return function Se(Te){var Oe={start:NaN,end:NaN},je=0,ft=NaN;return Te.forEach(function(Ze){var Re=Ze.getStreamInfo();je+=Re.duration,(isNaN(ft)||Re.start<ft)&&(ft=Re.start)}),Oe.start=ft,Oe.end=ft+je,Oe}(Te);if(S.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var je=ge(Te);return Ie(je.now,je.range),je.range}return function ce(Te){var Oe={start:NaN,end:NaN};if(!Te||0===Te.length)return Oe;var je=Te[0].getAdapter().getRegularPeriods()[0],ft=ae(new Date,je),Ze=je.mpd.timeShiftBufferDepth,Re=isNaN(Ze)?0:ft-Ze;if(Oe.start=Ce(Te,Re),Oe.end=!isNaN(Oe.start)&&ft<Oe.start?ft:Ce(Te,ft,!0),!isNaN(Ze)&&Oe.end<ft-Ze&&(Oe.end=NaN),S.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var be=ge(Te);if(be.range.end<Oe.start)return _.trigger(i.default.CONFORMANCE_VIOLATION,{level:c.default.LEVELS.WARNING,event:c.default.EVENTS.INVALID_DVR_WINDOW}),Ie(be.now,be.range),be.range}return Oe}(Te)},reset:we},function C(){A=Object(P.default)(f).getInstance(),we()}(),x}d.__dashjs_factory_name="TimelineConverter",p.default=b.default.getSingletonFactory(d)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function g(D,m){var i=(D=D||{}).timelineConverter,c=D.dashMetrics;function f(){if(!i)throw new Error(v.default.MISSING_CONFIG_ERROR)}function S(C,I){var ne,ae,Fe,Y,le,G,Se,T=C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList,y=T.SegmentURL_asArray,B=0,z=-1;Se=C.timescale;var ce=!1;for(Fe=0,Y=(ne=T.SegmentTimeline.S_asArray).length;Fe<Y&&!ce;Fe++)for(G=0,(ae=ne[Fe]).hasOwnProperty("r")&&(G=ae.r),ae.hasOwnProperty("t")&&(B=ae.t),G<0&&(G=x(C,ne[Fe+1],ae,Se,B/Se)),le=0;le<=G&&!ce;le++)(ce=I(B,T,y,ae,Se,++z,Fe))&&(C.segmentDuration=ae.d/Se),B+=ae.d}function x(C,I,T,L,y){var B;if(I&&I.hasOwnProperty("t"))B=I.t/L;else try{var z=0;if(isNaN(C.adaptation.period.start)||isNaN(C.adaptation.period.duration)||!isFinite(C.adaptation.period.duration)){var ne=c.getCurrentDVRInfo();z=isNaN(ne.end)?0:ne.end}else z=C.adaptation.period.start+C.adaptation.period.duration;B=i.calcMediaTimeFromPresentationTime(z,C),C.segmentDuration=T.d/L}catch{B=0}return Math.max(Math.ceil((B-y)/(T.d/L))-1,0)}return{getSegmentByIndex:function A(C,I,T){if(f(),!C)return null;var L=null,y=!1;return S(C,function(B,z,ne,ae,Fe,Y,le){if(y||T<0){var G=z.media,Se=ae.mediaRange;return ne&&(G=ne[le].media||"",Se=ne[le].mediaRange),L=Object(b.getTimeBasedSegment)(i,m,C,B,ae.d,Fe,G,Se,Y,ae.tManifest),!0}return B>=T*Fe-.5*ae.d&&(y=!0),!1}),L},getSegmentByTime:function N(C,I){if(f(),!C)return null;void 0===I&&(I=null);var T=null,L=i.calcMediaTimeFromPresentationTime(I,C);return S(C,function(y,B,z,ne,ae,Fe,Y){var le=function O(C){return parseFloat(C.toPrecision(15))}(L*ae);if(le<y+ne.d&&le>=y){var G=B.media,Se=ne.mediaRange;return z&&(G=z[Y].media||"",Se=z[Y].mediaRange),T=Object(b.getTimeBasedSegment)(i,m,C,y,ne.d,ae,G,Se,Fe,ne.tManifest),!0}return!1}),T},getMediaFinishedInformation:function _(C){if(!C)return 0;var z,ne,ae,Fe,Y,le,G,L=0,y=0,B=0;for(G=C.timescale,Fe=(z=(C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList).SegmentTimeline.S_asArray).length,ae=0;ae<Fe;ae++)for(le=0,(ne=z[ae]).hasOwnProperty("r")&&(le=ne.r),ne.hasOwnProperty("t")&&(y=(L=ne.t)/G),le<0&&(le=x(C,z[ae+1],ne,G,y)),Y=0;Y<=le;Y++)B++,y=(L+=ne.d)/G;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:y}}}}g.__dashjs_factory_name="TimelineSegmentsGetter";var P=t.default.getClassFactory(g);p.default=P},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(d){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function v(d,f){for(var _=0;_<f.length;_++){var S=f[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,g(S.key),S)}}function b(d,f,_){return f&&v(d.prototype,f),_&&v(d,_),Object.defineProperty(d,"prototype",{writable:!1}),d}function g(d){var f=function P(d,f){if("object"!==t(d)||null===d)return d;var _=d[Symbol.toPrimitive];if(void 0!==_){var S=_.call(d,f||"default");if("object"!==t(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===t(f)?f:String(f)}e.r(p);var c=b(function d(f,_,S,x){(function D(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=f||"",this.serviceLocation=_||f||"",this.dvb_priority=S||1,this.dvb_weight=x||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});c.DEFAULT_DVB_PRIORITY=1,c.DEFAULT_DVB_WEIGHT=1,p.default=c},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function P(c){var d=function D(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==v(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=g(function c(d){(function m(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=d||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c,d,f){(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.action=c,this.xpath=d,this.value=f,this.position=null}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"getMpdTarget",value:function(d){return this.xpath.getMpdTarget(d,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),i}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p);var m=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});m.DEFAULT_ID="defaultId",p.default=m},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function g(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,D(_.key),_)}}function D(c){var d=function m(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==v(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=function(){function c(){(function b(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function P(c,d,f){return d&&g(c.prototype,d),f&&g(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),c}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c){var d=this;(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.valid="/"==c[0],this.path=c.split("/").filter(function(f){return 0!==f.length}).map(function(f){var _={name:f},S=f.indexOf("[");if(-1!=S){_.name=f.substring(0,S);var x=f.substring(S+1,f.length-1);d.valid=d.valid&&-1==x.indexOf("[");var A=x.indexOf("=");-1!=A?(_.attribute={name:x.substring(1,A),value:x.substring(A+1)},-1!=["'",'"'].indexOf(_.attribute.value[0])&&(_.attribute.value=_.attribute.value.substring(1,_.attribute.value.length-1))):_.position=parseInt(x,10)-1}return _})}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(d,f){for(var _=null,S=d,x=1,A="MPD";x<this.path.length&&null!==S;){_=S;var N=this.path[x];if(A=N.name,x!==this.path.length-1||!A.startsWith("@")){var O=_[A+"_asArray"]||[];0===O.length&&_[A]&&O.push(_[A]),N.position?S=O[N.position]||null:N.attribute?function(){var C=N.attribute;S=O.filter(function(I){return I[C.name]==C.value})[0]||null}():S=O[0]||null}x++}return null===S?null:A.startsWith("@")?{name:A.substring(1),leaf:S,target:S}:{name:A,leaf:S,target:f?_:S}}}]),i}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=e(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),g=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function D(m){var x,A,i=this.context,c=(m=m||{}).eventBus,d=m.events,f=m.urlUtils,_=m.errors,S=m.streamId;return x={checkForExistence:function O(L){var y=function(ne){c.trigger(d.CHECK_FOR_EXISTENCE_COMPLETED,{request:L,exists:ne})};if(L){var B=new b.default(L.url);A.load({request:B,success:function(){y(!0)},error:function(){y(!1)}})}else y(!1)},load:function C(L){var y=function(z,ne){c.trigger(d.LOADING_COMPLETED,{request:L,response:z||null,error:ne||null,sender:x})};L?A.load({request:L,progress:function(z){c.trigger(d.LOADING_PROGRESS,{request:L,stream:z.stream,streamId:S}),z.data&&c.trigger(d.LOADING_DATA_PROGRESS,{request:L,response:z.data||null,error:null,sender:x})},success:function(z){y(z)},error:function(z,ne,ae){y(void 0,new g.default(_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ae,ne))},abort:function(z){z&&c.trigger(d.LOADING_ABANDONED,{mediaType:z.mediaType,request:z,sender:x})}}):y(void 0,new g.default(_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){A&&A.abort()},reset:function T(){A&&(A.abort(),A=null)}},function N(){A=Object(v.default)(i).create({errHandler:m.errHandler,errors:_,dashMetrics:m.dashMetrics,mediaPlayerModel:m.mediaPlayerModel,requestModifier:m.requestModifier,urlUtils:f,constants:t.default,boxParser:m.boxParser,dashConstants:m.dashConstants,requestTimeout:m.settings.get().streaming.fragmentRequestTimeout})}(),x}D.__dashjs_factory_name="FragmentLoader",p.default=P.default.getClassFactory(D)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),g=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),P=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),m=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),i=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),_=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=e(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function x(N){var y,B,z,ne,ae,O=this.context,C=(N=N||{}).debug,I=N.settings,T=Object(c.default)(O).getInstance(),L=Object(P.default)(O).getInstance(),Fe=N.mssHandler,Y=N.errHandler;function G(Ie){T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:Ie.manifest})}return y={load:function ce(Ie){var Ce=new D.default(Ie,i.HTTPRequest.MPD_TYPE);z.load({request:Ce,success:function(Ae,ke,he){if(ne){var we,Te,Oe;if(he&&he!==Ie?(Te=L.parseBaseUrl(he),we=he):(L.isRelative(Ie)&&(Ie=L.resolve(Ie,window.location.href)),Te=L.parseBaseUrl(Ie)),"No Content"==ke)return void T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ae&&(ae=function Se(Ie){var Ce=null;return Ie.indexOf("SmoothStreamingMedia")>-1?(Fe&&(Ce=Fe.createMssParser(),Fe.registerEvents()),Ce):Ie.indexOf("MPD")>-1||Ie.indexOf("Patch")>-1?Object(S.default)(O).create({debug:C}):Ce}(Ae)),null===ae)return void T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ie))});ne.setMatchers(ae.getMatchers()),ne.setIron(ae.getIron());try{Oe=ae.parse(Ae)}catch{return void T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ie))})}if(Oe){if(Oe.url=we||Ie,Oe.originalUrl||(Oe.originalUrl=Oe.url),Oe.hasOwnProperty(t.default.LOCATION)&&(Te=L.parseBaseUrl(Oe.Location_asArray[0]),B.debug("BaseURI set by Location to: "+Te)),I&&I.get().streaming.enableManifestDurationMismatchFix&&Oe.mediaPresentationDuration&&Oe.Period_asArray.length>1){var je=Oe.Period_asArray.reduce(function(ft,Ze){return ft+Ze.duration},0);!isNaN(je)&&Oe.mediaPresentationDuration>je&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Oe.mediaPresentationDuration=je)}Oe.baseUri=Te,Oe.loadedTime=new Date,ne.resolveManifestOnLoad(Oe),T.trigger(d.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Ae})}else T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ie))})}},error:function(Ae,ke,he){T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Ie,", ").concat(he))})}})},reset:function ge(){T.off(d.default.XLINK_READY,G,y),Fe&&Fe.reset(),ne&&(ne.reset(),ne=null),z&&(z.abort(),z=null)}},function le(){B=C.getLogger(y),T.on(d.default.XLINK_READY,G,y),z=Object(g.default)(O).create({errHandler:N.errHandler,dashMetrics:N.dashMetrics,mediaPlayerModel:N.mediaPlayerModel,requestModifier:N.requestModifier,urlUtils:L,constants:t.default,dashConstants:v.default,errors:f.default,requestTimeout:N.settings.get().streaming.manifestRequestTimeout}),ne=Object(b.default)(O).create({errHandler:Y,dashMetrics:N.dashMetrics,mediaPlayerModel:N.mediaPlayerModel,requestModifier:N.requestModifier,settings:N.settings}),ae=null}(),y}x.__dashjs_factory_name="ManifestLoader";var A=_.default.getClassFactory(x);p.default=A},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),g=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../core/Debug */
"./src/core/Debug.js"),D=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),m=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function c(){var S,x,A,N,O,C,I,T,L,y,B,z,d=this.context,f=Object(t.default)(d).getInstance(),_=Object(i.default)(d).getInstance();function le(){A=NaN,I=!1,O=!0,C=!1,Se()}function Se(){null!==N&&(clearTimeout(N),N=null)}function ce(Te){Se(),!C&&(isNaN(Te)&&!isNaN(A)&&(Te=1e3*A),isNaN(Te)||(x.debug("Refresh manifest in "+Te+" milliseconds."),N=setTimeout(Ce,Te)))}function ge(){var Te=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var Oe=L.getValue(),je=Oe.url,ft=y.getPatchLocation(Oe),Ze=y.getLocation(Oe);ft&&!Te?je=ft:Ze&&(je=Ze),_.isRelative(je)&&(je=_.resolve(je,Oe.url)),T.load(je)}function Ie(Te){if(Te){if(y.getIsPatch(Te)){var Oe=Te;Te=L.getValue();var je=y.isPatchValid(Te,Oe),ft=je;if(je){var Ze=y.getPublishTime(Te);ft=y.applyPatchToManifest(Te,Oe);var Re=y.getPublishTime(Te);ft=Ze.getTime()!=Re.getTime()}if(!ft)return x.debug("Patch provided is invalid, performing full manifest refresh"),void ge(!0);Te.loadedTime=new Date}}else(Te=L.getValue()).loadedTime=new Date;if(L.getValue()&&L.getValue().type===m.default.DYNAMIC&&Te.type===m.default.STATIC)return f.trigger(v.default.DYNAMIC_TO_STATIC),I=!1,void(C=!0);L.setValue(Te);var be=new Date,Q=(be.getTime()-Te.loadedTime.getTime())/1e3;1e3*(A=y.getManifestUpdatePeriod(Te,Q))>2147483647&&(A=2147483.647),f.trigger(v.default.MANIFEST_UPDATED,{manifest:Te}),x.info("Manifest has been refreshed at "+be+"["+be.getTime()/1e3+"] "),O||ce()}function Ce(){if(!O){if(I)return void ce(z.get().streaming.manifestUpdateRetryInterval);ge()}}function pe(Te){Te.error?Te.error.code===D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(Te.error):Ie(Te.manifest)}function Ae(){O=!1,ce()}function ke(){(O=!z.get().streaming.scheduling.scheduleWhilePaused)&&Se()}function he(){I=!1}return S={initialize:function Fe(){le(),f.on(v.default.STREAMS_COMPOSED,he,this),f.on(b.default.PLAYBACK_STARTED,Ae,this),f.on(b.default.PLAYBACK_PAUSED,ke,this),f.on(v.default.INTERNAL_MANIFEST_LOADED,pe,this)},setManifest:function Y(Te){Ie(Te)},refreshManifest:ge,getIsUpdating:function we(){return I},setConfig:function ae(Te){Te&&(Te.manifestModel&&(L=Te.manifestModel),Te.adapter&&(y=Te.adapter),Te.manifestLoader&&(T=Te.manifestLoader),Te.errHandler&&(B=Te.errHandler),Te.settings&&(z=Te.settings))},reset:function G(){f.off(b.default.PLAYBACK_STARTED,Ae,this),f.off(b.default.PLAYBACK_PAUSED,ke,this),f.off(v.default.STREAMS_COMPOSED,he,this),f.off(v.default.INTERNAL_MANIFEST_LOADED,pe,this),le()}},function ne(){x=Object(P.default)(d).getInstance().getLogger(S)}(),S}c.__dashjs_factory_name="ManifestUpdater",p.default=g.default.getClassFactory(c)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),v=e.n(t),b=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=e(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),m=e(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),i=e(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),c=e(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),d=e(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),f=e(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),_=e(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),S=e(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),x=e(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),A=e(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),N=e(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=e(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),C=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),I=e(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=e(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),L=e(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),y=e(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=e(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),z=e(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),ne=e(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ae=e(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Fe=e(
/*! ./../core/Debug */
"./src/core/Debug.js"),Y=e(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),le=e(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),G=e(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),Se=e(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),ce=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),ge=e(
/*! ../core/Settings */
"./src/core/Settings.js"),Ie=e(
/*! ../core/Version */
"./src/core/Version.js"),Ce=e(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),pe=e(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Ae=e(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),ke=e(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),he=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),we=e(
/*! ../../externals/base64 */
"./externals/base64.js"),Te=e.n(we),Oe=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),je=e.n(Oe),ft=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Ze=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Re=e(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),be=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),Q=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ie=e(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),ye=e(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function oe(){var ct,Xe,tt,gt,Qe,yt,Dt,fe,We,Et,Wt,Qt,qt,un,fn,wt,vt,it,He,ze,st,at,St,bt,xt,on,En,tn,Mn,In,Nn,$n,ni,vn,pn,yn,mn,X="You must first call initialize() and set a source before calling this method",$="You must first call initialize() and set a valid source and view before calling this method",re="You must first call attachView() to set the video element before calling this method",q="MediaPlayer not initialized!",_e=this.context,xe=Object(le.default)(_e).getInstance(),Ee=Object(ge.default)(_e).getInstance(),Ge=Object(Fe.default)(_e).getInstance({settings:Ee});function Tn(){pr(null),Ir(null),gt=null,qt&&(qt.reset(),qt=null),un&&(un.reset(),un=null),He&&He.reset(),Ee.reset(),wt&&(wt.reset(),wt=null)}function Ct(){return!!tt&&!!vn.getElement()}function xn(){return Object(Ie.getVersionString)()}function en(){if(!Dt)throw $;return En.isPaused()}function Ut(){if(!Dt)throw $;return En.getIsDynamic()}function Hr(kn){var _t=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);if(!Ot)return 0;var ut=En.getOriginalLiveDelay(),$t=Ot.range.start+kn;return $t>Ot.range.end-ut&&($t=Ot.range.end-ut),$t}function Pi(kn){if(!Dt)throw $;var _t=Wi().currentTime;if(void 0!==kn)_t=bt.getTimeRelativeToStreamId(_t,kn);else if(En.getIsDynamic()){var Ot=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,ut=Nn.getCurrentDVRInfo(Ot);_t=null===ut||0===_t?0:Math.max(0,_t-ut.range.start)}return _t}function Ko(){if(!Dt)throw $;var kn=Wi().duration;if(En.getIsDynamic()){var _t=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);kn=Ot?Ot.range.end-Ot.range.start:0}return kn}function Vr(kn){Object(Ze.checkParameterType)(kn,"boolean"),fe=kn}function Kr(){He.restoreDefaultUTCTimingSources()}function qn(){return Nn}function Wi(){if(!vn.getElement())throw re;return vn.getElement()}function Ir(kn){if(!Qe)throw q;vn.setElement(kn),kn&&(ls(),function ta(){if(!un){var kn=dashjs.MetricsReporting;if("function"==typeof kn){var _t=kn(_e).create();un=_t.createMetricsReporting({debug:Ge,eventBus:xe,mediaElement:Wi(),adapter:vt,dashMetrics:Nn,mediaPlayerModel:it,events:G.default,constants:b.default,metricsConstants:P.default})}}}(),function ks(){if(!fn){var kn=dashjs.MssHandler;"function"==typeof kn&&(Y.default.extend(kn.errors),fn=kn(_e).create({eventBus:xe,mediaPlayerModel:it,dashMetrics:Nn,manifestModel:$n,playbackController:En,streamController:bt,protectionController:qt,baseURLController:st,errHandler:ze,events:G.default,constants:b.default,debug:Ge,initSegmentType:he.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Te.a,ISOBoxer:je.a,settings:Ee}))}}(),bt&&bt.switchToVideoElement()),Dt&&Ws(),Ur()}function _o(kn){if(!yt)throw X;var _t=bt.getActiveStreamInfo();return _t?Qt.getTracksFor(kn,_t.id):[]}function pr(kn){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Qe)throw q;"string"==typeof kn&&pn.initialize(kn),(null==_t||isNaN(_t))&&(_t=NaN),_t=Math.max(0,_t),tt=kn,(yt||Dt)&&Ws(),Ct()&&Ur(_t)}function Ls(){if(!yt)throw X;var kn=bt.getActiveStreamInfo();return kn?bt.getStreamById(kn.id):null}function Ws(){Dt=!1,yt=!1,vt.reset(),bt.reset(),on.reset(),In.reset(),En.reset(),tn.reset(),Mn.reset(),We.reset(),Qt.reset(),mn.reset(),qt&&(Ee.get().streaming.protection.keepProtectionMediaKeys?qt.stop():(qt.reset(),qt=null,ls())),xt.reset(),ni.reset()}function Uo(){return Object(x.default)(_e).create({debug:Ge,errHandler:ze,dashMetrics:Nn,mediaPlayerModel:it,requestModifier:Object(C.default)(_e).getInstance(),mssHandler:fn,settings:Ee})}function ls(){if(qt)return qt;var kn=dashjs.Protection;if("function"==typeof kn){var _t=kn(_e).create();return G.default.extend(kn.events),Se.default.extend(kn.events,{publicOnly:!0}),Y.default.extend(kn.errors),at||(at=Object(N.default)(_e).getInstance()),qt=_t.createProtectionSystem({debug:Ge,errHandler:ze,videoModel:vn,customParametersModel:He,capabilities:at,eventBus:xe,events:G.default,BASE64:Te.a,constants:b.default,cmcdModel:ni,settings:Ee})}return null}function bs(){if(!Qe)throw q;if(wt)return wt;var kn=dashjs.OfflineController;if("function"==typeof kn){G.default.extend(kn.events),Se.default.extend(kn.events,{publicOnly:!0}),Y.default.extend(kn.errors);var _t=Uo(),Ot=Object(Re.default)(_e).create();return Ot.setConfig({manifestModel:$n,adapter:vt,manifestLoader:_t,errHandler:ze}),wt=kn(_e).create({debug:Ge,manifestUpdater:Ot,baseURLController:st,manifestLoader:_t,manifestModel:$n,mediaPlayerModel:it,abrController:We,playbackController:En,adapter:vt,errHandler:ze,dashMetrics:Nn,timelineConverter:Wt,segmentBaseController:mn,schemeLoaderFactory:Et,eventBus:xe,events:G.default,errors:Y.default,constants:b.default,settings:Ee,dashConstants:g.default,urlUtils:Object(be.default)(_e).getInstance()})}return null}function Ia(kn){var _t=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);return Ot?kn+(Ot.manifestInfo.availableFrom.getTime()/1e3+Ot.range.start):0}function Ur(){var kn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;wt&&wt.resetRecords(),!yt&&tt&&(yt=!0,Xe.info("Streaming Initialized"),function Br(){var kn=Uo();bt||(bt=Object(m.default)(_e).getInstance()),xt||(xt=Object(ie.default)(_e).create({errHandler:ze,manifestModel:$n,adapter:vt,mediaController:Qt,videoModel:vn,settings:Ee})),St.setConfig({capabilities:at,customParametersModel:He,adapter:vt,settings:Ee,manifestModel:$n,errHandler:ze}),bt.setConfig({capabilities:at,capabilitiesFilter:St,manifestLoader:kn,manifestModel:$n,mediaPlayerModel:it,customParametersModel:He,protectionController:qt,textController:xt,adapter:vt,dashMetrics:Nn,errHandler:ze,timelineConverter:Wt,videoModel:vn,playbackController:En,serviceDescriptionController:tn,contentSteeringController:Mn,abrController:We,mediaController:Qt,settings:Ee,baseURLController:st,uriFragmentModel:pn,segmentBaseController:mn}),on.setConfig({settings:Ee,playbackController:En,streamController:bt,videoModel:vn,timelineConverter:Wt,adapter:vt}),En.setConfig({streamController:bt,serviceDescriptionController:tn,dashMetrics:Nn,adapter:vt,videoModel:vn,timelineConverter:Wt,settings:Ee}),In.setConfig({streamController:bt,playbackController:En,mediaPlayerModel:it,videoModel:vn,settings:Ee}),We.setConfig({streamController:bt,domStorage:yn,mediaPlayerModel:it,customParametersModel:He,dashMetrics:Nn,adapter:vt,videoModel:vn,settings:Ee}),ni.setConfig({abrController:We,dashMetrics:Nn,playbackController:En}),Mn.setConfig({adapter:vt,errHandler:ze,dashMetrics:Nn,mediaPlayerModel:it,manifestModel:$n,abrController:We,eventBus:xe,requestModifier:Object(C.default)(_e).getInstance()}),We.initialize(),bt.initialize(fe,gt),xt.initialize(),on.initialize(),In.initialize(),ni.initialize(),Mn.initialize(),mn.initialize()}(),"string"==typeof tt?bt.load(tt,kn):bt.loadWithManifest(tt,kn)),!Dt&&Ct()&&(Dt=!0,Xe.info("Playback Initialized"))}return ct={initialize:function ht(kn,_t,Ot){var ut=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;at||(at=Object(N.default)(_e).getInstance()).setConfig({settings:Ee}),ze||(ze=Object(A.default)(_e).getInstance()),at.supportsMediaSource()?(Qe||(Qe=!0,Wt=Object(ke.default)(_e).getInstance(),We||(We=Object(y.default)(_e).getInstance()).setConfig({settings:Ee}),Et||(Et=Object(B.default)(_e).getInstance()),En||(En=Object(D.default)(_e).getInstance()),Qt||(Qt=Object(_.default)(_e).getInstance()),bt||(bt=Object(m.default)(_e).getInstance()),on||(on=Object(i.default)(_e).getInstance()),In||(In=Object(c.default)(_e).getInstance()),tn||(tn=Object(d.default)(_e).getInstance()),Mn||(Mn=Object(f.default)(_e).getInstance()),St||(St=Object(O.default)(_e).getInstance()),vt=Object(pe.default)(_e).getInstance(),$n=Object(T.default)(_e).getInstance(),ni=Object(ne.default)(_e).getInstance(),Nn=Object(Ae.default)(_e).getInstance({settings:Ee}),yn=Object(ae.default)(_e).getInstance({settings:Ee}),vt.setConfig({constants:b.default,cea608parser:v.a,errHandler:ze,BASE64:Te.a}),st||(st=Object(S.default)(_e).create()),st.setConfig({adapter:vt}),tn.setConfig({adapter:vt}),mn||(mn=Object(Ce.default)(_e).getInstance({dashMetrics:Nn,mediaPlayerModel:it,errHandler:ze,baseURLController:st,events:G.default,eventBus:xe,debug:Ge,boxParser:Object(Q.default)(_e).getInstance(),requestModifier:Object(C.default)(_e).getInstance(),errors:Y.default})),Qt.setConfig({domStorage:yn,settings:Ee,customParametersModel:He}),it.setConfig({playbackController:En,serviceDescriptionController:tn}),Kr(),Vr(void 0===Ot||Ot),bs()),kn&&Ir(kn),_t&&pr(_t,ut),Xe.info("[dash.js "+xn()+"] MediaPlayer has been initialized")):ze.error(new ft.default(Y.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,Y.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function At(kn){kn&&(kn.capabilities&&(at=kn.capabilities),kn.capabilitiesFilter&&(St=kn.capabilitiesFilter),kn.streamController&&(bt=kn.streamController),kn.textController&&(xt=kn.textController),kn.gapController&&(on=kn.gapController),kn.playbackController&&(En=kn.playbackController),kn.serviceDescriptionController&&(tn=kn.serviceDescriptionController),kn.contentSteeringController&&(Mn=kn.contentSteeringController),kn.catchupController&&(In=kn.catchupController),kn.mediaPlayerModel&&(it=kn.mediaPlayerModel),kn.customParametersModel&&(He=kn.customParametersModel),kn.abrController&&(We=kn.abrController),kn.schemeLoaderFactory&&(Et=kn.schemeLoaderFactory),kn.mediaController&&(Qt=kn.mediaController),kn.settings&&(Ee=kn.settings))},on:function Jt(kn,_t,Ot,ut){xe.on(kn,_t,Ot,ut)},off:function Rt(kn,_t,Ot){xe.off(kn,_t,Ot)},extend:function vo(kn,_t,Ot){ce.default.extend(kn,_t,Ot,_e)},attachView:Ir,attachSource:pr,isReady:Ct,play:function It(){if(!Dt)throw $;(!fe||en()&&Dt)&&En.play(!0)},isPaused:en,pause:function Nt(){if(!Dt)throw $;En.pause()},isSeeking:function Xn(){if(!Dt)throw $;return En.isSeeking()},isDynamic:Ut,getLowLatencyModeEnabled:function On(){if(!Dt)throw $;return En.getLowLatencyModeEnabled()},seek:function An(kn){if(!Dt)throw $;if(Object(Ze.checkParameterType)(kn,"number"),isNaN(kn))throw b.default.BAD_ARGUMENT_ERROR;kn<0&&(kn=0);var _t=En.getIsDynamic()?Hr(kn):kn,Ot=Wi();!En.getIsDynamic()&&Ot.duration&&(_t=Math.min(Ot.duration,_t)),En.seek(_t,!1,!1,!0)},seekToOriginalLive:function Kn(){!Dt||!Ut()||En.seekToOriginalLive()},setPlaybackRate:function Ne(kn){Wi().playbackRate=kn},getPlaybackRate:function Ft(){return Wi().playbackRate},setMute:function Pt(kn){Object(Ze.checkParameterType)(kn,"boolean"),Wi().muted=kn},isMuted:function ln(){return Wi().muted},setVolume:function Fn(kn){if("number"!=typeof kn||isNaN(kn)||kn<0||kn>1)throw b.default.BAD_ARGUMENT_ERROR;Wi().volume=kn},getVolume:function vi(){return Wi().volume},time:Pi,duration:Ko,timeAsUTC:function Co(){if(!Dt)throw $;return Pi()<0?NaN:Ia(Pi())},durationAsUTC:function vs(){if(!Dt)throw $;return Ia(Ko())},getActiveStream:Ls,getDVRWindowSize:function Zr(){var kn=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,_t=Nn.getCurrentDVRInfo(kn);return _t?_t.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Hr,getTargetLiveDelay:function Fi(){if(!Dt)throw $;return En.getOriginalLiveDelay()},convertToTimeCode:function Ns(kn){kn=Math.max(kn,0);var _t=Math.floor(kn/3600),Ot=Math.floor(kn%3600/60),ut=Math.floor(kn%3600%60);return(0===_t?"":_t<10?"0"+_t.toString()+":":_t.toString()+":")+(Ot<10?"0"+Ot.toString():Ot.toString())+":"+(ut<10?"0"+ut.toString():ut.toString())},formatUTC:function Aa(kn,_t,Ot){var ut=arguments.length>3&&void 0!==arguments[3]&&arguments[3],$t=new Date(1e3*kn),wn=$t.toLocaleDateString(_t),Ti=$t.toLocaleTimeString(_t,{hour12:Ot});return ut?Ti+" "+wn:Ti},getVersion:xn,getDebug:function kt(){return Ge},getBufferLength:function vr(kn){var _t=[b.default.VIDEO,b.default.AUDIO,b.default.TEXT];if(kn)return-1!==_t.indexOf(kn)?qn().getCurrentBufferLevel(kn)||NaN:(Xe.warn("getBufferLength requested for invalid type"),NaN);var Ot=_t.map(function($t){return _o($t).length>0?qn().getCurrentBufferLevel($t):Number.MAX_VALUE}).reduce(function($t,wn){return Math.min($t,wn)});return Ot===Number.MAX_VALUE?NaN:Ot},getTTMLRenderingDiv:function Io(){return vn?vn.getTTMLRenderingDiv():null},getVideoElement:Wi,getSource:function Fo(){if(!tt)throw"You must first call attachSource() with a valid source before calling this method";return tt},updateSource:function Ks(kn){bt.load(tt=kn)},getCurrentLiveLatency:function xr(){if(!Qe)throw q;return Dt?En.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function zi(kn){if(!yt)throw X;return We.getTopBitrateInfoFor(kn)},setAutoPlay:Vr,getAutoPlay:function rs(){return fe},getDashMetrics:qn,getQualityFor:function jr(kn){if(!yt)throw X;if(kn===b.default.IMAGE){var _t=Ls();if(!_t)return-1;var Ot=_t.getThumbnailController();return Ot?Ot.getCurrentTrackIndex():-1}return We.getQualityFor(kn)},setQualityFor:function ir(kn,_t){var Ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!yt)throw X;if(kn===b.default.IMAGE){var ut=Ls();if(!ut)return;var $t=ut.getThumbnailController();$t&&$t.setTrackByIndex(_t)}We.setPlaybackQuality(kn,bt.getActiveStreamInfo(),_t,{forceReplace:Ot})},updatePortalSize:function ao(){We.setElementSize(),We.setWindowResizeEventCalled(!0)},enableText:function mi(kn){var _t=bt.getActiveStreamInfo();return!(!_t||!xt)&&xt.enableText(_t.id,kn)},enableForcedTextStreaming:function li(kn){return!(!bt.getActiveStreamInfo()||!xt)&&xt.enableForcedTextStreaming(kn)},isTextEnabled:function Hi(){var kn=bt.getActiveStreamInfo();return!(!kn||!xt)&&xt.isTextEnabled(kn)},setTextTrack:function Qi(kn){if(!Dt)throw $;var _t=bt.getActiveStreamInfo();!_t||!xt||xt.setTextTrack(_t.id,kn)},getBitrateInfoListFor:function js(kn){if(!yt)throw X;var _t=Ls();return _t?_t.getBitrateListFor(kn):[]},getStreamsFromManifest:function eo(kn){if(!yt)throw X;return vt.getStreamsInfo(kn)},getTracksFor:_o,getTracksForTypeFromManifest:function os(kn,_t,Ot){if(!yt)throw X;return(Ot=Ot||vt.getStreamsInfo(_t,1)[0])?vt.getAllMediaInfoForType(Ot,kn,_t):[]},getCurrentTrackFor:function ss(kn){if(!yt)throw X;var _t=bt.getActiveStreamInfo();return Qt.getCurrentTrackFor(kn,_t.id)},setInitialMediaSettingsFor:function cr(kn,_t){if(!Qe)throw q;Qt.setInitialSettings(kn,_t)},getInitialMediaSettingsFor:function Ha(kn){if(!Qe)throw q;return Qt.getInitialSettings(kn)},setCurrentTrack:function Xo(kn){if(!yt)throw X;Qt.setTrack(kn)},addABRCustomRule:function lo(kn,_t,Ot){He.addAbrCustomRule(kn,_t,Ot)},removeABRCustomRule:function qo(kn){He.removeAbrCustomRule(kn)},removeAllABRCustomRule:function As(){He.removeAllAbrCustomRule()},getABRCustomRules:function Tr(){return He.getAbrCustomRules()},getAverageThroughput:function Do(kn){var _t=We.getThroughputHistory(),Ot=En.getIsDynamic();return _t?_t.getAverageThroughput(kn,Ot):0},retrieveManifest:function mr(kn,_t){var Ot=Uo(),ut=this;xe.on(G.default.INTERNAL_MANIFEST_LOADED,function wn(Ti){Ti.error?_t(null,Ti.error):_t(Ti.manifest),xe.off(G.default.INTERNAL_MANIFEST_LOADED,wn,ut),Ot.reset()},ut),pn.initialize(kn),Ot.load(kn)},addUTCTimingSource:function yi(kn,_t){He.addUTCTimingSource(kn,_t)},removeUTCTimingSource:function $i(kn,_t){He.removeUTCTimingSource(kn,_t)},clearDefaultUTCTimingSources:function Pr(){He.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Kr,setXHRWithCredentialsForType:function $r(kn,_t){He.setXHRWithCredentialsForType(kn,_t)},getXHRWithCredentialsForType:function mo(kn){return He.getXHRWithCredentialsForType(kn)},getProtectionController:function io(){return ls()},attachProtectionController:function fa(kn){qt=kn},setProtectionData:function Mo(kn){gt=kn,bt&&bt.setProtectionData(gt)},registerLicenseRequestFilter:function Is(kn){He.registerLicenseRequestFilter(kn)},registerLicenseResponseFilter:function Wr(kn){He.registerLicenseResponseFilter(kn)},unregisterLicenseRequestFilter:function hr(kn){He.unregisterLicenseRequestFilter(kn)},unregisterLicenseResponseFilter:function Sr(kn){He.unregisterLicenseResponseFilter(kn)},registerCustomCapabilitiesFilter:function Vs(kn){He.registerCustomCapabilitiesFilter(kn)},unregisterCustomCapabilitiesFilter:function co(kn){He.unregisterCustomCapabilitiesFilter(kn)},setCustomInitialTrackSelectionFunction:function as(kn){He.setCustomInitialTrackSelectionFunction(kn)},resetCustomInitialTrackSelectionFunction:function xs(){He.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Lo(kn){if(!vn.getElement())throw re;vn.setTTMLRenderingDiv(kn)},attachVttRenderingDiv:function ko(kn){if(!vn.getElement())throw re;vn.setVttRenderingDiv(kn)},getCurrentTextTrackIndex:function sr(){var _t=bt.getActiveStreamInfo();if(_t&&xt)return xt.getCurrentTrackIdx(_t.id)},provideThumbnail:function Fr(kn,_t){if("function"==typeof _t){if(kn<0)return void _t(null);var Ot=En.getIsDynamic()?Hr(kn):kn,ut=bt.getStreamForTime(Ot);if(null===ut)return void _t(null);var $t=ut.getThumbnailController();return $t?$t.provide(Ot,_t):void _t(null)}},getDashAdapter:function es(){return vt},getOfflineController:function Dn(){return bs()},triggerSteeringRequest:function ha(){if(Mn)return Mn.loadSteeringData()},getCurrentSteeringResponseData:function xa(){if(Mn)return Mn.getCurrentSteeringResponseData()},getSettings:function ys(){return Ee.get()},updateSettings:function Yo(kn){Ee.update(kn)},resetSettings:function ws(){Ee.reset()},reset:Tn,destroy:function qe(){Tn(),ce.default.deleteSingletonInstances(_e)}},function _n(){Xe=Ge.getLogger(ct),Qe=!1,Dt=!1,yt=!1,fe=!0,qt=null,wt=null,gt=null,vt=null,mn=null,G.default.extend(Se.default),it=Object(L.default)(_e).getInstance(),He=Object(ye.default)(_e).getInstance(),vn=Object(z.default)(_e).getInstance(),pn=Object(I.default)(_e).getInstance()}(),ct}oe.__dashjs_factory_name="MediaPlayer";var ee=ce.default.getClassFactory(oe);ee.events=Se.default,ee.errors=Y.default,ce.default.updateClassFactory(oe.__dashjs_factory_name,ee),p.default=ee},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var C=d(I);function I(){var T;return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),(T=C.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));p.default=N},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var g,b=function v(){var c,i="application/dash+xml";function d(S,x,A){if(!S||!/^VIDEO$/i.test(S.nodeName))return null;if(S._dashjs_player)return S._dashjs_player;var N,O=S.id||S.name||"video element";if(!(x=x||[].slice.call(S.querySelectorAll("source")).filter(function(C){return C.type==i})[0])&&S.src)(x=document.createElement("source")).src=S.src;else if(!x&&!S.src)return null;return A=A||{},(N=Object(t.default)(A).create()).initialize(S,x.src,S.autoplay),c||(c=N.getDebug().getLogger()),c.debug("Converted "+O+" to dash.js player and added content: "+x.src),S._dashjs_player=N,N}function _(S){return/^VIDEO$/i.test(S.nodeName)?S:_(S.parentNode)}return{create:d,createAll:function f(S,x){var A=[];S=S||"[data-dashjs-player]";for(var N=(x=x||document).querySelectorAll(S),O=0;O<N.length;O++){var C=d(N[O],null);A.push(C)}for(var I=x.querySelectorAll('source[type="'+i+'"]'),T=0;T<I.length;T++){var y=d(_(I[T]),null);A.push(y)}return A}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?b.createAll():g=window.setInterval(function D(){window.dashjs&&(window.clearInterval(g),b.createAll())},500):window.addEventListener("load",function P(){window.removeEventListener("load",P),b.createAll()})),p.default=b},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ../core/Settings */
"./src/core/Settings.js"),D=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../core/events/Events */
"./src/core/events/Events.js");function _(x){var I,T,L,y,B,z,A=this.context,N=Object(P.default)(A).getInstance(),O=x.textController,C=x.eventBus,ne=[],ae=[],Fe=!1,Y=x.mediaSource,le=null;function ce($){return new Promise(function(re){X(function(){y.changeType&&y.changeType($),re()})})}function Ce($){return y=O.getTextSourceBuffer($),Promise.resolve()}function pe(){if("function"==typeof y.addEventListener)try{y.addEventListener("updateend",ye,!1),y.addEventListener("error",oe,!1),y.addEventListener("abort",oe,!1)}catch{z=setInterval(ye,50)}else z=setInterval(ye,50)}function he($){return new Promise(function(re){y&&N.get().streaming.buffer.useAppendWindow?X(function(){try{if(!y)return void re();var J=Y.duration,q=0;$&&!isNaN($.start)&&!isNaN($.duration)&&isFinite($.duration)&&(J=$.start+$.duration),$&&!isNaN($.start)&&(q=$.start),(y.appendWindowEnd!==J||y.appendWindowStart!==q)&&(y.appendWindowStart=0,y.appendWindowEnd=J+.01,y.appendWindowStart=Math.max(q-.1,0),L.debug("Updated append window for ".concat(B.type,". Set start to ").concat(y.appendWindowStart," and end to ").concat(y.appendWindowEnd))),re()}catch{L.warn("Failed to set append window"),re()}}):re()})}function we($){return new Promise(function(re){y?X(function(){try{y.timestampOffset!==$&&!isNaN($)&&(y.timestampOffset=$,L.debug("Set MSE timestamp offset to ".concat($))),re()}catch{re()}}):re()})}function be(){if(!Fe&&ae.length>0){Fe=!0;var $=ae[0];ae.splice(0,1);var re=function(){Fe=!1,ae.length>0&&be.call(this),$&&$.data&&$.data.segmentType&&$.data.segmentType!==m.HTTPRequest.INIT_SEGMENT_TYPE&&delete $.data.bytes,$.promise.resolve({chunk:$.data})};try{le=$.request,0===$.data.bytes.byteLength?re.call(this):(y.appendBuffer?y.appendBuffer($.data.bytes):y.append($.data.bytes,$.data),X(re.bind(this)))}catch(J){L.fatal('SourceBuffer append failed "'+J+'"'),ae.length>0?be():Fe=!1,delete $.data.bytes,$.promise.reject({chunk:$.data,error:new v.default(J.code,J.message)})}}}function ie(){ne.length>0&&!y.updating&&(ne.shift()(),ie())}function ye(){y.updating||ie()}function oe($){!function ee($,re){C.trigger($,re||{},{streamId:B.streamInfo.id,mediaType:T})}(i.default.SOURCE_BUFFER_ERROR,{error:$.target||{},lastRequestAppended:le})}function X($){ne.push($),y.updating||ie()}return I={getType:function Ae(){return T},getAllBufferRanges:function je(){try{return y.buffered}catch($){return L.error("getAllBufferRanges exception: "+$.message),null}},getBuffer:function Oe(){return y},append:function ft($){var re=this,J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(q,_e){$?(ae.push({data:$,promise:{resolve:q,reject:_e},request:J}),X(be.bind(re))):_e({chunk:$,error:new v.default(g.default.APPEND_ERROR_CODE,g.default.APPEND_ERROR_MESSAGE)})})},remove:function Re($){return new Promise(function(re,J){var q=$.start,_e=$.end;q>=0&&_e>q?X(function(){try{y.remove(q,_e),X(function(){re({from:q,to:_e,unintended:!1}),$.resolve&&$.resolve()})}catch(xe){J({from:q,to:_e,unintended:!1,error:new v.default(g.default.REMOVE_ERROR_CODE,g.default.REMOVE_ERROR_MESSAGE)}),$.reject&&$.reject(xe)}}):re()})},abort:function Q(){return new Promise(function($){try{ae=[],"open"===Y.readyState?X(function(){try{y&&y.abort(),$()}catch{$()}}):(y&&y.setTextTrack&&"ended"===Y.readyState&&y.abort(),$())}catch{$()}})},reset:function Te(){if(y){try{ne=[],function ke(){try{"function"==typeof y.removeEventListener&&(y.removeEventListener("updateend",ye,!1),y.removeEventListener("error",oe,!1),y.removeEventListener("abort",oe,!1)),clearInterval(z)}catch($){L.error($)}}(),Fe=!1,ae=[],(!y.getClassName||"TextSourceBuffer"!==y.getClassName())&&(L.debug("Removing sourcebuffer from media source"),Y.removeSourceBuffer(y))}catch{}y=null}le=null},updateTimestampOffset:we,initializeForStreamSwitch:function Se($,re,J){T=(B=$).type;var q=B.codec;(function ge($){y=$.getBuffer()})(J),pe();var _e=[];return _e.push(function Ze(){return new Promise(function($){X(function(){var re=y.appendWindowStart,J=y.appendWindowEnd;y&&(y.abort(),y.appendWindowStart=re,y.appendWindowEnd=J),$()})})}()),_e.push(he(B.streamInfo)),_e.push(ce(q)),re&&void 0!==re.MSETimeOffset&&_e.push(we(re.MSETimeOffset)),Promise.all(_e)},initializeForFirstUse:function Ie($,re,J){T=(B=re).type;var q=B.codec;try{if(q.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ce($);y=Y.addSourceBuffer(q),pe();var _e=[];return _e.push(he(B.streamInfo)),J&&void 0!==J.MSETimeOffset&&_e.push(we(J.MSETimeOffset)),Promise.all(_e)}catch(xe){return B.type==D.default.TEXT&&!B.isFragmented||-1!==q.indexOf('codecs="stpp')||-1!==q.indexOf('codecs="vtt')?Ce($):Promise.reject(xe)}},updateAppendWindow:he,changeType:ce},function G(){L=Object(t.default)(A).getInstance().getLogger(I)}(),I}_.__dashjs_factory_name="SourceBufferSink";var S=b.default.getClassFactory(_);p.default=S},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),g=e(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),P=e(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),D=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),d=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),S=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),x=e(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),A=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function N(O){O=O||{};var ke,he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,ye,oe,ee,X,$,re,C=this.context,I=Object(D.default)(C).getInstance(),T=Object(S.default)(C).getInstance(),L=O.manifestModel,y=O.mediaPlayerModel,B=O.dashMetrics,z=O.manifestUpdater,ne=O.adapter,ae=O.timelineConverter,Fe=O.capabilities,Y=O.errHandler,le=O.abrController,G=O.playbackController,Se=O.eventController,ce=O.mediaController,ge=O.protectionController,Ie=O.textController,Ce=O.videoModel,pe=O.streamInfo,Ae=O.settings;function Qe(Nt,en){return new Promise(function(An,Kn){bt(),be=!0,Mn();var Xn=Ce.getElement();A.forEach(function(Ut){(Ut!==t.default.VIDEO||!Xn||Xn&&/^VIDEO$/i.test(Xn.nodeName))&&function yt(Nt,en){var Ut,An=ne.getAllMediaInfoForType(pe,Nt),Kn=[],Xn=null;if(An&&0!==An.length){Nt===t.default.VIDEO&&(ft=!0),Nt===t.default.AUDIO&&(Ze=!0);for(var On=0,Ne=An.length;On<Ne;On++)Xn=An[On],Nt===t.default.TEXT&&Xn.isEmbedded&&(Ie.addEmbeddedTrack(pe,Xn),Kn.push(Xn)),Dt(Xn)&&ce.addTrack(Xn);if(Kn.length>0&&(ce.setInitialMediaSettingsForType(Nt,pe),Ie.addMediaInfosToBuffer(pe,Nt,Kn)),0!==(An=An.filter(function(Pt){return!Pt.isEmbedded})).length){if(Nt===t.default.IMAGE)return void(ie=Object(P.default)(C).create({streamInfo:pe,adapter:ne,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:X,eventBus:I,events:m.default,dashConstants:v.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();I.trigger(m.default.STREAM_INITIALIZING,{streamInfo:pe,mediaInfo:Xn}),ce.setInitialMediaSettingsForType(Nt,pe);var Ft=function fe(Nt,en){var An=Nt&&Nt.length>0?Nt[0]:null,Kn=Q.getModel(An?An.type:null),Xn=An?An.type:null,Ut=An?An.mimeType:null,On=An?An.isFragmented:null,Ne=Object(b.default)(C).create({streamInfo:pe,type:Xn,mimeType:Ut,timelineConverter:ae,adapter:ne,manifestModel:L,mediaPlayerModel:y,fragmentModel:Kn,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:le,playbackController:G,mediaController:ce,textController:Ie,errHandler:Y,settings:Ae,boxParser:ee,segmentBlacklistController:ye});Ne.initialize(en,ft,On),we.push(Ne);for(var Ft=0;Ft<Nt.length;Ft++)Ne.addMediaInfo(Nt[Ft]);return Xn===t.default.TEXT&&Ie.addMediaInfosToBuffer(pe,Xn,Nt,Kn),Ne}(An,en);(Ut=ce.getCurrentTrackFor(Nt,pe.id))&&(le.updateTopQualityIndex(Ut),Ft.selectMediaInfo(Nt===t.default.TEXT&&Ut.isEmbedded?An[0]:Ut))}}else he.info("No "+Nt+" data.")}(Ut,Nt)}),function We(Nt){return new Promise(function(en){var An={},Kn=we.map(function(Xn){return Xn.createBufferSinks(Nt)});Promise.all(Kn).then(function(Xn){Xn.forEach(function(Ut){Ut&&(An[Ut.getType()]=Ut)}),en(An)}).catch(function(){en(An)})})}(en).then(function(Ut){if(be=!1,0===we.length){var On="No streams to play.";Y.error(new f.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,On,L.getValue())),he.fatal(On)}else In();Ie.createTracks(pe),An(Ut)}).catch(function(Ut){Kn(Ut)})})}function Dt(Nt){var en=Nt?Nt.type:null;return en===t.default.MUXED?(he.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),Y.error(new f.default(c.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",L.getValue())),!1):!(en!==t.default.TEXT&&en!==t.default.IMAGE&&Nt.contentProtection&&!Fe.supportsEncryptedMedia()&&(Y.error(new f.default(c.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,c.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Et(Nt){for(var en=we?we.length:0,Kn=0;Kn<en;Kn++){var Xn=we[Kn].getFragmentModel();Xn.abortRequests(),Xn.resetInitialSettings(),we[Kn].reset(false,Nt)}Ie&&Ie.deactivateStream(pe),we=[],Oe=!1,je=!1,Rt(!1),vt(!1),I.trigger(m.default.STREAM_DEACTIVATED,{streamInfo:pe})}function qt(Nt){Et(Nt),Te=!1,ft=!1,Ze=!1,Re={},be=!1,$=!1,re=[]}function vt(Nt){$=Nt}function it(){return pe?pe.start:NaN}function He(){return pe?pe.id:null}function ze(){return pe}function bt(){if(!Ce||!le)throw new Error(t.default.MISSING_CONFIG_ERROR)}function on(Nt){Nt.error&&(Y.error(Nt.error),he.fatal(Nt.error.message))}function Mn(){if(Se){var Nt=ne.getEventsFor(pe);Nt&&Nt.length>0&&Se.addInlineEvents(Nt,pe.id)}}function In(){for(var Nt=we.length,An=Re.audio||Re.video?new f.default(c.default.DATA_UPDATE_FAILED_ERROR_CODE,c.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Kn=0;Kn<Nt;Kn++)if(we[Kn].isUpdating()||be)return;if(ge){ge.clearMediaInfoArray();for(var Xn=0;Xn<Nt&&we[Xn];Xn++){var Ut=we[Xn].getType(),On=we[Xn].getMediaInfo();if(Ut===t.default.AUDIO||Ut===t.default.VIDEO||Ut===t.default.TEXT&&On.isFragmented){var Ne=we[Xn].getMediaInfo();Ne&&ge.initializeForMedia(Ne)}}ge.handleKeySystemFromManifest()}An?Y.error(An):Te||(Te=!0,Ce.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(m.default.STREAM_INITIALIZED,{streamInfo:pe})}))}function $n(){var Nt=mn(),en=Nt.length;if(0!==en){for(var An=0;An<en;An++)if(!Nt[An].isBufferingCompleted()&&(Nt[An].getType()===t.default.AUDIO||Nt[An].getType()===t.default.VIDEO))return void he.debug("onBufferingCompleted - One streamProcessor has finished but",Nt[An].getType(),"one is not buffering completed");he.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),je=!0,I.trigger(m.default.STREAM_BUFFERING_COMPLETED,{streamInfo:pe},{streamInfo:pe})}else he.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function ni(Nt){Re[Nt.mediaType]=Nt.error,In()}function vn(Nt){Se&&Se.addInbandEvents(Nt.events,pe.id)}function pn(Nt){return Nt&&Nt.type?yn(Nt.type):null}function yn(Nt){return Nt?mn().filter(function(An){return An.getType()===Nt})[0]:null}function mn(){for(var en,An,Nt=[],Kn=0;Kn<we.length;Kn++)((en=(An=we[Kn]).getType())===t.default.AUDIO||en===t.default.VIDEO||en===t.default.TEXT)&&Nt.push(An);return Nt}function qe(Nt,en){var An=ze(),Kn=en.getStreamInfo();if(!Kn||!An)return!0;var Xn=ne.getAdaptationForType(Kn.index,Nt,Kn),Ut=ne.getAdaptationForType(An.index,Nt,An);return Xn&&Ut?!(!Ct(Ut)&&Ct(Xn)):!Xn&&!Ut}function Ct(Nt){return!!Nt&&!!(Nt.ContentProtection||Nt.Representation&&Nt.Representation.length>0&&Nt.Representation[0].ContentProtection)}function Jt(Nt,en){var An=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Nt||!Nt.hasOwnProperty("getStreamInfo"))return!1;var Kn=Nt.getStreamInfo(),Xn=An?An.getStreamInfo():ze();if(!Kn||!Xn)return!1;var Ut=ne.getAdaptationForType(Kn.index,en,Kn),On=ne.getAdaptationForType(Xn.index,en,Xn);if(!Ut||!On)return!Ut&&!On;var Ne=Ut&&On&&Ut.mimeType===On.mimeType,Ft=On.Representation_asArray.map(function(vi){return vi.codecs}),Pt=Ut.Representation_asArray.map(function(vi){return vi.codecs}),ln=Pt.some(function(vi){return Ft.indexOf(vi)>-1}),Fn=Pt.some(function(vi){return Ft.some(function(vr){return Fe.codecRootCompatibleWithCodec(vr,vi)})});return ln||Fn&&Ne}function Rt(Nt){oe=Nt}function xn(){return oe}return ke={initialize:function q(){(function _e(){I.on(m.default.BUFFERING_COMPLETED,$n,ke),I.on(m.default.DATA_UPDATE_COMPLETED,ni,ke),I.on(m.default.INBAND_EVENTS,vn,ke)})(),function Ee(){ge&&(I.on(m.default.KEY_ERROR,on,ke),I.on(m.default.SERVER_CERTIFICATE_UPDATED,on,ke),I.on(m.default.LICENSE_REQUEST_COMPLETE,on,ke),I.on(m.default.KEY_SYSTEM_SELECTED,on,ke),I.on(m.default.KEY_SESSION_CREATED,on,ke),I.on(m.default.KEY_STATUSES_CHANGED,on,ke))}(),Ie.initializeForStream(pe),I.trigger(m.default.STREAM_UPDATED,{streamInfo:pe})},getStreamId:function ct(){return pe?pe.id:null},activate:function Xe(Nt,en){return new Promise(function(An,Kn){if(!Oe)return xn()?(Oe=!0,I.trigger(m.default.STREAM_ACTIVATED,{streamInfo:pe}),void An(en)):void function tt(Nt,en){return Qe(Nt,en)}(Nt,en).then(function(Xn){Oe=!0,I.trigger(m.default.STREAM_ACTIVATED,{streamInfo:pe}),An(Xn)}).catch(function(Xn){Kn(Xn)});An(en)})},deactivate:Et,getIsActive:function Wt(){return Oe},getDuration:function fn(){return pe?pe.duration:NaN},getStartTime:it,getId:He,getStreamInfo:ze,getHasAudioTrack:function st(){return Ze},getHasVideoTrack:function at(){return ft},startPreloading:function gt(Nt,en){return new Promise(function(An,Kn){xn()?Kn():(he.info("[startPreloading] Preloading next stream with id ".concat(He())),Rt(!0),Qe(Nt,en).then(function(){for(var Xn=0;Xn<we.length&&we[Xn];Xn++)we[Xn].setExplicitBufferingTime(it()),we[Xn].getScheduleController().startScheduleTimer();An()}).catch(function(){Rt(!1),Kn()}))})},getThumbnailController:function St(){return ie},getBitrateListFor:function xt(Nt){if(bt(),Nt===t.default.IMAGE)return ie?ie.getBitrateList():[];var en=function Nn(Nt){for(var en=null,An=0;An<we.length;An++)if((en=we[An]).getType()===Nt)return en.getMediaInfo();return null}(Nt);return le.getBitrateList(en)},updateData:function At(Nt){return new Promise(function(en){be=!0,pe=Nt,Se&&Mn();for(var An=[],Kn=0,Xn=we.length;Kn<Xn;Kn++){var Ut=we[Kn],On=Ut.getMediaInfo();An.push(Ut.updateStreamInfo(pe));var Ne=ne.getAllMediaInfoForType(pe,Ut.getType());if(Ne){Ut.clearMediaInfoArray();for(var Ft=0;Ft<Ne.length;Ft++){var Pt=Ne[Ft];Ut.addMediaInfo(Ne[Ft]),ne.areMediaInfosEqual(On,Pt)&&(le.updateTopQualityIndex(Pt),An.push(Ut.selectMediaInfo(Pt)))}}}Promise.all(An).then(function(){for(An=[];re.length>0;){var ln=re.pop(),Fn=ln.newMediaInfo,vi=pn(ln.oldMediaInfo);if(!vi)return;An.push(vi.prepareTrackSwitch()),vi.selectMediaInfo(Fn)}return Promise.all(An)}).then(function(){be=!1,In(),I.trigger(m.default.STREAM_UPDATED,{streamInfo:pe}),en()})})},reset:function un(Nt){Q&&(Q.reset(),Q=null),le&&pe&&le.clearDataForStream(pe.id),ye&&(ye.reset(),ye=null),qt(Nt),pe=null,function xe(){I.off(m.default.DATA_UPDATE_COMPLETED,ni,ke),I.off(m.default.BUFFERING_COMPLETED,$n,ke),I.off(m.default.INBAND_EVENTS,vn,ke)}(),function Ge(){ge&&(I.off(m.default.KEY_ERROR,on,ke),I.off(m.default.SERVER_CERTIFICATE_UPDATED,on,ke),I.off(m.default.LICENSE_REQUEST_COMPLETE,on,ke),I.off(m.default.KEY_SYSTEM_SELECTED,on,ke),I.off(m.default.KEY_SESSION_CREATED,on,ke),I.off(m.default.KEY_STATUSES_CHANGED,on,ke))}()},getProcessors:mn,setMediaSource:function Qt(Nt){for(var en=0;en<we.length;)Dt(we[en].getMediaInfo())?(we[en].setMediaSource(Nt),en++):(we[en].reset(),we.splice(en,1));if(0===we.length){var An="No streams to play.";Y.error(new f.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,An+"nostreams",L.getValue())),he.fatal(An)}},isMediaCodecCompatible:function ht(Nt){var en=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Jt(Nt,t.default.VIDEO,en)&&Jt(Nt,t.default.AUDIO,en)},isProtectionCompatible:function Tn(Nt){return!Nt||qe(t.default.VIDEO,Nt)&&qe(t.default.AUDIO,Nt)},getPreloaded:xn,getIsEndedEventSignaled:function wt(){return $},setIsEndedEventSignaled:vt,getAdapter:function It(){return ne},getHasFinishedBuffering:function kt(){return je},setPreloaded:Rt,startScheduleControllers:function _n(){for(var Nt=we.length,en=0;en<Nt&&we[en];en++)we[en].getScheduleController().startScheduleTimer()},prepareTrackChange:function En(Nt){if(Oe&&pe){je=!1;var en=Nt.newMediaInfo,An=L.getValue();ne.setCurrentMediaInfo(pe.id,en.type,en);var Kn=pn(en);if(Kn){var Xn=G.getTime();he.info("Stream -  Process track changed at current time "+Xn),An.refreshManifestOnSwitchTrack?(re.push(Nt),z.getIsUpdating()||(he.debug("Stream -  Refreshing manifest for switch track"),z.refreshManifest())):Kn.selectMediaInfo(en).then(function(){(en.type===t.default.VIDEO||en.type===t.default.AUDIO)&&le.updateTopQualityIndex(en),Kn.prepareTrackSwitch()})}}},prepareQualityChange:function tn(Nt){var en=yn(Nt.mediaType);en&&en.prepareQualityChange(Nt)}},function J(){try{X=Object(i.default)(C).getInstance(),he=X.getLogger(ke),qt(),ee=Object(_.default)(C).getInstance(),ye=Object(x.default)(C).create({updateEventName:m.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SEGMENT_LOCATION_BLACKLIST_ADD}),Q=Object(g.default)(C).create({streamInfo:pe,mediaPlayerModel:y,dashMetrics:B,errHandler:Y,settings:Ae,boxParser:ee,dashConstants:v.default,urlUtils:T})}catch(Nt){throw Nt}}(),ke}N.__dashjs_factory_name="Stream",p.default=d.default.getClassFactory(N)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=e(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),P=e(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),D=e(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),m=e(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),i=e(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),c=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),f=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),x=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),N=e(
/*! ../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),C=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),I=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=e(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),L=e(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),y=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(z){z=z||{};var ft,Ze,Re,be,Q,ie,ye,oe,ee,X,$,re,J,ne=this.context,ae=Object(f.default)(ne).getInstance(),Fe=z.streamInfo,Y=z.type,le=z.errHandler,G=z.mimeType,Se=z.timelineConverter,ce=z.adapter,ge=z.manifestModel,Ie=z.mediaPlayerModel,Ce=z.fragmentModel,pe=z.abrController,Ae=z.playbackController,ke=z.mediaController,he=z.textController,we=z.dashMetrics,Te=z.settings,Oe=z.boxParser,je=z.segmentBlacklistController;function xe(){return Fe.id}function Ee(){return Y}function Ge(){return ce.getIsTextTrack(oe.getData())}function ct(){Q=[],be=null,J=0,ee=!1,X=!1}function yt(Ut){var On=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ut.sender){if(Ae.getIsManifestUpdateInProgress())return void Qt();if((!Ge()||he.isTextEnabled())&&ie&&Ut.representationId&&!ie.appendInitSegmentFromCache(Ut.representationId)){var Ne=oe.getCurrentRepresentation();if(0===Ne.range)return void Dt();var Ft=$?$.getInitRequest(be,Ne):null;Ft?Ce.executeRequest(Ft):On&&(ye.setInitSegmentRequired(!0),Qt())}}}function Dt(Ut){var On=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ae.getIsManifestUpdateInProgress()||ie.getIsPruningInProgress())Qt();else{var Ne=function Wt(){var On,Ut=ht();if(isNaN(J)||Ee()===t.default.TEXT&&!he.isTextEnabled())return null;var Ne=ee;if($){var Ft=oe&&Ut?oe.getRepresentationForQuality(Ut.quality):null;On=Ne?$.getSegmentRequestForTime(be,Ft,J):$.getNextSegmentRequest(be,Ft)}return On}();Ne?(ee=!1,function fe(Ut){isNaN(Ut.startTime+Ut.duration)||(J=Ut.startTime+Ut.duration),Ut.delayLoadingTime=(new Date).getTime()+ye.getTimeToLoadDelay(),ye.setTimeToLoadDelay(0),function Et(Ut){var On=Ut.url;return Ut.range&&(On=On.concat("_",Ut.range)),je.contains(On)}(Ut)?(Ze.warn("Fragment request url ".concat(Ut.url," for stream id ").concat(Fe.id," and media type ").concat(Y," is on the ignore list and will be skipped")),Qt()):(Ze.debug("Next fragment request url for stream id ".concat(Fe.id," and media type ").concat(Y," is ").concat(Ut.url)),Ce.executeRequest(Ut))}(Ne)):function We(Ut){var Ne,On=oe.getCurrentRepresentation();if(!Te.get().streaming.gaps.enableSeekFix||!ee&&0!==Ae.getTime()||(Re?Re&&On.segmentInfoType===v.default.SEGMENT_TIMELINE&&(Ne=$.getValidTimeAheadOfTargetTime(J,be,On,Te.get().streaming.gaps.threshold)):Ne=$.getValidTimeAheadOfTargetTime(J,be,On,Te.get().streaming.gaps.threshold),isNaN(Ne)||Ne===J)){if($.isLastSegmentRequested(On,J)){var Pt=$.getCurrentIndex();return Ze.debug("Segment requesting for stream ".concat(Fe.id," has finished")),ae.trigger(_.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Pt},{streamId:Fe.id,mediaType:Y}),ie.segmentRequestingCompleted(Pt),void ye.clearScheduleTimer()}Ut&&Qt()}else Ae.isSeeking()||0===Ae.getTime()?(Ze.warn("Adjusting playback time ".concat(Ne," because of gap in the manifest. Seeking by ").concat(Ne-J)),Ae.seek(Ne,!1,!1)):(Ze.warn("Adjusting buffering time ".concat(Ne," because of gap in the manifest. Adjusting time by ").concat(Ne-J)),Kn(Ne),Ut&&Qt())}(On)}}function Qt(){ye.startScheduleTimer(Ae.getLowLatencyModeEnabled()?Te.get().streaming.scheduling.lowLatencyTimeout:Te.get().streaming.scheduling.defaultTimeout)}function qt(Ut){Ut.error||(ye.setCurrentRepresentation(ce.convertRepresentationToRepresentationInfo(Ut.currentRepresentation)),ie.getIsBufferingCompleted()||ie.updateBufferTimestampOffset(Ut.currentRepresentation))}function un(Ut){we.addBufferState(Y,Ut.state,ye.getBufferTarget()),Ut.state===b.default.BUFFER_EMPTY&&!Ae.isSeeking()&&(Ze.info("Buffer is empty! Stalling!"),we.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function fn(Ut){Ce.syncExecutedRequestsWithBufferedRange(ie.getBuffer().getAllBufferRanges(),Fe.duration),Ut.quotaExceeded&&Ut.from>Ae.getTime()&&Kn(Ut.from),Ut.hasEnoughSpaceToAppend&&Ut.quotaExceeded&&ye.startScheduleTimer()}function wt(Ut){if(Ut&&Ut.lastRequestAppended&&Ut.lastRequestAppended.url){var On=Ut.lastRequestAppended.url;Ut.lastRequestAppended.range&&(On=On.concat("_",Ut.lastRequestAppended.range)),Ze.warn("Blacklisting segment with url ".concat(On)),je.add(On)}}function ze(){Nt(),X=!1}function st(Ut){Ze.info("onFragmentLoadingAbandoned request: "+Ut.request.url+" has been aborted"),!Ae.isSeeking()&&!ye.getSwitchStrack()&&!X&&(Ze.info("onFragmentLoadingAbandoned request: "+Ut.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ut.request&&Ut.request.isInitializationRequest()?ye.setInitSegmentRequired(!0):Kn(Ut.request.startTime+Ut.request.duration/2),ye.startScheduleTimer(0))}function at(Ut){Ze.info("OnFragmentLoadingCompleted for stream id "+Fe.id+" and media type "+Y+" - Url:",Ut.request?Ut.request.url:"undefined",Ut.request.range?", Range:"+Ut.request.range:""),Ge()&&ye.startScheduleTimer(0),Ut.error&&Ut.request.serviceLocation&&function St(Ut){Ze.info("Fragment loading completed with an error"),Ut&&Ut.request&&Ut.request.type&&(Ut.request.type===y.HTTPRequest.INIT_SEGMENT_TYPE?yt({representationId:Ut.request.representationId,sender:{}},!1):Ut.request.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Kn(Ut.request.startTime+Ut.request.duration/2),Dt({},!1)))}(Ut)}function bt(){Kn(Ae.getTime()),At().startScheduleTimer()}function xt(Ut){var On=Ut.currentTrackInfo;if(On){var Ne=Q.find(function(Ft){return Ft.index===On.index&&Ft.lang===On.lang});Ne&&ni(Ne).then(function(){ie.setIsBufferingCompleted(!1),Kn(Ae.getTime()),ye.setInitSegmentRequired(!0),ye.startScheduleTimer()})}}function on(Ut){Kn(Ut.quotaExceededTime),ye.clearScheduleTimer()}function tn(){return ie?ie.getBuffer():null}function ni(Ut){Ut!==be&&(!Ut||!be||Ut.type===be.type)&&(be=Ut);var On=ce.getRealAdaptation(Fe,be),Ne=ce.getVoRepresentations(be);if(oe){var Fn,Ft=oe.getData(),Pt=pe.getMaxAllowedIndexFor(Y,Fe.id),ln=pe.getMinAllowedIndexFor(Y,Fe.id),vr=null;return null!==Ft&&Ft.id===On.id||Y===t.default.TEXT?Fn=pe.getQualityFor(Y,Fe.id):(vr=pe.getThroughputHistory().getAverageThroughput(Y,Re)||pe.getInitialBitrateFor(Y,Fe.id),Fn=pe.getQualityForBitrate(be,vr,Fe.id)),void 0!==ln&&Fn<ln&&(Fn=ln),Fn>Pt&&(Fn=Pt),oe.updateData(On,Ne,Y,be.isFragmented,Fn)}return Promise.resolve()}function At(){return ye}function ht(Ut){var On;return void 0!==Ut?(Object(d.checkInteger)(Ut),On=oe?oe.getRepresentationForQuality(Ut):null):On=oe?oe.getCurrentRepresentation():null,ce.convertRepresentationToRepresentationInfo(On)}function Tn(){return!!ie&&ie.getIsBufferingCompleted()}function Jt(Ut){var On=Ut.chunk,Ne=On.bytes,Ft=On.quality,Pt=ht(Ft),ln=oe&&Pt?oe.getRepresentationForQuality(Pt.quality):null;if(Pt&&ln){var Fn=ce.getEventsFor(Pt.mediaInfo,null,Fe),vi=ce.getEventsFor(Pt,ln,Fe);if(Fn&&Fn.length>0||vi&&vi.length>0){var Zr=function Rt(Ut,On,Ne,Ft){try{for(var Pt={},ln=[],Fn=Ne.concat(Ft),vi=0,vr=Fn.length;vi<vr;vi++)Pt[Fn[vi].schemeIdUri+"/"+Fn[vi].value]=Fn[vi];var Zr=Object(I.default)(ne).getInstance().parse(Ut),Hr=Zr.getBoxes("emsg");if(!Hr||0===Hr.length)return ln;for(var Fi=Zr.getBox("sidx"),Pi=!Fi||isNaN(Fi.earliest_presentation_time)||isNaN(Fi.timescale)?On&&!isNaN(On.mediaStartTime)?On.mediaStartTime:0:Fi.earliest_presentation_time/Fi.timescale,Ko=Math.max(Pi,0),Co=oe.getCurrentRepresentation(),vs=0,zi=Hr.length;vs<zi;vs++){var jr=ce.getEvent(Hr[vs],Pt,Ko,Co);jr&&ln.push(jr)}return ln}catch{return[]}}(Ne,Ce.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,quality:Ft,index:On.index})[0],Fn,vi);ae.trigger(_.default.INBAND_EVENTS,{events:Zr},{streamId:Fe.id})}}}function It(){var Ut=Ae.getTime();Te.get().streaming.buffer.flushBufferAtTrackSwitch&&Ae.seek(Ut+.001,!1,!0),Kn(Ut),ie.setSeekTarget(Ut),ye.startScheduleTimer()}function Nt(){var Ut=Ae.getTime(),On=ie.getContinuousBufferTimeForTargetTime(Ut);Kn(isNaN(On)?Ut:On),ye.startScheduleTimer()}function An(Ut){Ut&&!isNaN(Ut.time)&&(Kn(Ut.time),ie.setSeekTarget(Ut.time))}function Kn(Ut){J=Ut,ee=!0}return ft={initialize:function _e(Ut,On,Ne){re=Object(L.default)(ne).create({events:_.default,eventBus:ae,streamInfo:Fe,timelineConverter:Se,dashConstants:v.default,segmentBaseController:z.segmentBaseController,type:Y}),($=Object(S.default)(ne).create({streamInfo:Fe,type:Y,timelineConverter:Se,dashMetrics:we,mediaPlayerModel:Ie,baseURLController:z.baseURLController,errHandler:le,segmentsController:re,settings:Te,boxParser:Oe,events:_.default,eventBus:ae,errors:x.default,debug:Object(N.default)(ne).getInstance(),requestModifier:Object(O.default)(ne).getInstance(),dashConstants:v.default,constants:t.default,urlUtils:Object(C.default)(ne).getInstance()})).initialize(Re=Fe.manifestInfo.isDynamic),pe.registerStreamType(Y,ft),oe=Object(i.default)(ne).create({streamInfo:Fe,type:Y,abrController:pe,dashMetrics:we,playbackController:Ae,timelineConverter:Se,dashConstants:v.default,events:_.default,eventBus:ae,errors:x.default,isDynamic:Re,segmentsController:re}),(ie=function en(Ut,On){return Ut?Ut!==t.default.TEXT||On?Object(P.default)(ne).create({streamInfo:Fe,type:Ut,mediaPlayerModel:Ie,manifestModel:ge,fragmentModel:Ce,errHandler:le,mediaController:ke,representationController:oe,adapter:ce,textController:he,abrController:pe,playbackController:Ae,settings:Te}):Object(D.default)(ne).create({streamInfo:Fe,type:Ut,mimeType:G,fragmentModel:Ce,textController:he,errHandler:le,settings:Te}):(le.error(new A.default(x.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,x.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(Y,Ne))&&ie.initialize(Ut),(ye=Object(m.default)(ne).create({streamInfo:Fe,type:Y,mimeType:G,adapter:ce,dashMetrics:we,mediaPlayerModel:Ie,fragmentModel:Ce,abrController:pe,playbackController:Ae,textController:he,mediaController:ke,bufferController:ie,settings:Te})).initialize(On),J=0,ee=!1},getStreamId:xe,getType:Ee,isUpdating:function tt(){return!!oe&&oe.isUpdating()},getBufferController:function Mn(){return ie},getFragmentModel:function In(){return Ce},getScheduleController:At,getRepresentationController:function En(){return oe},getRepresentationInfo:ht,getBufferLevel:function qe(){return ie?ie.getBufferLevel():0},isBufferingCompleted:Tn,createBufferSinks:function xn(Ut){var On=tn();return On?Promise.resolve(On):ie?ie.createBufferSink(be,Ut):Promise.resolve(null)},updateStreamInfo:function Nn(Ut){return Fe=Ut,Tn()?Promise.resolve():ie.updateAppendWindow()},getStreamInfo:function $n(){return Fe},selectMediaInfo:ni,clearMediaInfoArray:function pn(){Q=[]},addMediaInfo:function vn(Ut){-1===Q.indexOf(Ut)&&Q.push(Ut)},prepareTrackSwitch:function kt(){return new Promise(function(Ut){Ze.debug("Preparing track switch for type ".concat(Y));var On=Y===t.default.TEXT||Te.get().streaming.trackSwitchMode[Y]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Ae.getTimeToStreamEnd(Fe)>Te.get().streaming.buffer.stallThreshold;if(ie.getIsBufferingCompleted()&&!On)return ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){ae.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:Y})}).catch(function(){ae.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:Y})}),void Ut();ye.clearScheduleTimer(),ye.setSwitchTrack(!0),On?(ae.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Fe.id},{mediaType:Y,streamId:Fe.id}),Ce.abortRequests(),ie.prepareForReplacementTrackSwitch(be.codec).then(function(){var Ne=ht();return ie.updateBufferTimestampOffset(Ne)}).then(function(){It(),Ut()}).catch(function(){It(),Ut()})):ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){Nt(),Ut()}).catch(function(){Nt(),Ut()})})},prepareQualityChange:function vt(Ut){Ze.debug("Preparing quality switch for type ".concat(Y));var On=Ut.newQuality;X=!0,ye.clearScheduleTimer();var Ne=ht(On);ye.setCurrentRepresentation(Ne),oe.prepareQualityChange(On),Ce.abortRequests(),ie.updateBufferTimestampOffset(Ne).then(function(){Ut.reason&&Ut.reason.forceReplace?function it(){ae.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Fe.id},{mediaType:Y,streamId:Fe.id}),ie.prepareForReplacementQualitySwitch().then(function(){It(),X=!1}).catch(function(){It(),X=!1})}():Te.get().streaming.buffer.fastSwitchEnabled?function He(Ut){var On=Ae.getTime(),Ne=1.5*(isNaN(Ut.fragmentDuration)?1:Ut.fragmentDuration),Ft=Ce.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:On+Ne,threshold:0})[0];if(Ft&&!Ge()){var Pt=ie.getBufferLevel(),ln=pe.getAbandonmentStateFor(Fe.id,Y);Ft.quality<Ut.quality&&Pt>=Ne&&ln!==b.default.ABANDON_LOAD?(Kn(On+Ne),ye.setCheckPlaybackQuality(!1),ye.startScheduleTimer()):ze()}else ye.startScheduleTimer();X=!1}(Ne):ze(),we.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),we.createPlaylistTraceMetrics(Ne.id,1e3*Ae.getTime(),Ae.getPlaybackRate())})},getMediaInfo:function yn(){return be},getMediaSource:function mn(){return ie.getMediaSource()},setMediaSource:function _n(Ut){ie.setMediaSource(Ut)},getBuffer:tn,setExplicitBufferingTime:Kn,finalisePlayList:function Xn(Ut,On){we.pushPlayListTraceMetrics(Ut,On)},probeNextRequest:function Ct(){var Ut=ht(),On=oe&&Ut?oe.getRepresentationForQuality(Ut.quality):null;return $.getNextSegmentRequestIdempotent(be,On)},prepareInnerPeriodPlaybackSeeking:function gt(Ut){return new Promise(function(On){if(ie.hasBufferAtTime(Ut.seekTime))return ie.pruneBuffer(),void On();ye.clearScheduleTimer(),Ce.abortRequests(),ie.prepareForPlaybackSeek().then(function(){var Ft=ie.getAllRangesWithSafetyFactor(Ut.seekTime);return ie.clearBuffers(Ft)}).then(function(){var Ft=ie.getContinuousBufferTimeForTargetTime(Ut.seekTime);if(!isNaN(Ft)&&!isNaN(Fe.duration)&&isFinite(Fe.duration)&&Ft>=Fe.start+Fe.duration)ie.setIsBufferingCompleted(!0),On();else{var Pt=isNaN(Ft)?Ut.seekTime:Ft;Kn(Pt),ie.setSeekTarget(Pt);var ln=[];ln.push(ie.updateAppendWindow());var Fn=ht();ln.push(ie.updateBufferTimestampOffset(Fn)),Promise.all(ln).then(function(){ye.setInitSegmentRequired(!0),ye.setCheckPlaybackQuality(!1),ye.startScheduleTimer(),On()})}}).catch(function(Ft){Ze.error(Ft)})})},prepareOuterPeriodPlaybackSeeking:function Qe(){return new Promise(function(Ut,On){try{ye.clearScheduleTimer(),Ce.abortRequests(),ie.prepareForPlaybackSeek().then(function(){return ie.pruneAllSafely()}).then(function(){Ut()})}catch(Ne){On(Ne)}})},reset:function Xe(Ut,On){$&&$.reset(),ie&&(ie.reset(Ut,On),ie=null),ye&&(ye.reset(),ye=null),oe&&(oe.reset(),oe=null),re&&(re=null),pe&&pe.unRegisterStreamType(xe(),Y),ae.off(_.default.DATA_UPDATE_COMPLETED,qt,ft),ae.off(_.default.INIT_FRAGMENT_NEEDED,yt,ft),ae.off(_.default.MEDIA_FRAGMENT_NEEDED,Dt,ft),ae.off(_.default.MEDIA_FRAGMENT_LOADED,Jt,ft),ae.off(_.default.BUFFER_LEVEL_STATE_CHANGED,un,ft),ae.off(_.default.BUFFER_CLEARED,fn,ft),ae.off(_.default.SEEK_TARGET,An,ft),ae.off(_.default.FRAGMENT_LOADING_ABANDONED,st,ft),ae.off(_.default.FRAGMENT_LOADING_COMPLETED,at,ft),ae.off(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,ft),ae.off(_.default.SET_NON_FRAGMENTED_TEXT,xt,ft),ae.off(_.default.QUOTA_EXCEEDED,on,ft),ae.off(_.default.SOURCE_BUFFER_ERROR,wt,ft),ct(),Y=null,Fe=null}},function q(){Ze=Object(N.default)(ne).getInstance().getLogger(ft),ct(),ae.on(_.default.DATA_UPDATE_COMPLETED,qt,ft,{priority:f.default.EVENT_PRIORITY_HIGH}),ae.on(_.default.INIT_FRAGMENT_NEEDED,yt,ft),ae.on(_.default.MEDIA_FRAGMENT_NEEDED,Dt,ft),ae.on(_.default.MEDIA_FRAGMENT_LOADED,Jt,ft),ae.on(_.default.BUFFER_LEVEL_STATE_CHANGED,un,ft),ae.on(_.default.BUFFER_CLEARED,fn,ft),ae.on(_.default.SEEK_TARGET,An,ft),ae.on(_.default.FRAGMENT_LOADING_ABANDONED,st,ft),ae.on(_.default.FRAGMENT_LOADING_COMPLETED,at,ft),ae.on(_.default.QUOTA_EXCEEDED,on,ft),ae.on(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,ft),ae.on(_.default.SET_NON_FRAGMENTED_TEXT,xt,ft),ae.on(_.default.SOURCE_BUFFER_ERROR,wt,ft)}(),ft}B.__dashjs_factory_name="StreamProcessor",p.default=c.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),g=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),P=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function c(d){d=d||{};var _=this.context,S=Object(P.default)(_).getInstance(),x=Object(v.default)(_).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,errors:i.default});return{load:function N(C,I,T){var L=function(z,ne){I.resolved=!0,I.resolvedContent=z||null,S.trigger(D.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:T,error:z||ne?null:new t.default(i.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,i.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+C)})};if("urn:mpeg:dash:resolve-to-zero:2013"===C)L(null,!0);else{var y=new g.default(C,b.HTTPRequest.XLINK_EXPANSION_TYPE);x.load({request:y,success:function(z){L(z)},error:function(){L(null)}})}},reset:function O(){x&&(x.abort(),x=null)}}}c.__dashjs_factory_name="XlinkLoader",p.default=m.default.getClassFactory(c)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p),p.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),c}());p.default=i},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),c}());p.default=i},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),c}());p.default=i},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),v=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),P=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),D=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=e(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),d=e(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),f=e(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),_=e(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),S=e(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),x=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),N=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function L(){var ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,ye,oe,B=this.context,z=Object(x.default)(B).getInstance(),ne=Object(D.default)(B).getInstance();function q(){G={},Se={},ge={},ce={},ft={},be={},Q={},ie={},void 0===Ce&&(Ce=!1),Ze&&Ze.reset(),je=void 0,Ze=void 0,Re=void 0,clearTimeout(Ie),Ie=null}function Ge(tn){var Mn=tn.request.mediaType,In=tn.streamId;if(Mn&&In&&ce[In]&&oe.get().streaming.abr.autoSwitchBitrate[Mn]){var Nn=ce[In][Mn];if(Nn){var $n=Object(c.default)(B).create({abrController:ae,streamProcessor:Nn,currentRequest:tn.request,useBufferOccupancyABR:be[Mn],useL2AABR:Q[Mn],useLoLPABR:ie[Mn],videoModel:he}),ni=Y.shouldAbandonFragment($n,In);ni.quality>d.default.NO_CHANGE&&Nn.getFragmentModel().getRequests({state:P.default.FRAGMENT_MODEL_LOADING,index:tn.request.index})[0]&&(ge[In][Mn].state=b.default.ABANDON_LOAD,ft[In][Mn].reset(),ft[In][Mn].push({oldValue:qt(Mn,In),newValue:ni.quality,confidence:1,reason:ni.reason}),un(Mn,le.getActiveStreamInfo(),ni.quality,ni.reason),clearTimeout(Ie),Ie=setTimeout(function(){ge[In][Mn].state=b.default.ALLOW_LOAD,Ie=null},oe.get().streaming.abandonLoadTimeout))}}}function ct(tn){tn.mediaType===v.default.VIDEO&&(void 0!==je&&Ze.push(tn.streamId,je,he.getPlaybackQuality()),je=tn.newQuality)}function Xe(tn){tn.metric===b.default.HTTP_REQUEST&&tn.value&&tn.value.type===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(tn.mediaType===v.default.AUDIO||tn.mediaType===v.default.VIDEO)&&Re.push(tn.mediaType,tn.value,oe.get().streaming.abr.useDeadTimeLatency),tn.metric===b.default.BUFFER_LEVEL&&(tn.mediaType===v.default.AUDIO||tn.mediaType===v.default.VIDEO)&&function ze(tn,Mn){oe.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_DYNAMIC&&function st(tn,Mn){try{var In=we.getStableBufferTime(),ni=be[tn],vn=Mn>(ni?.5*In:In);be[tn]=vn,vn!==ni&&Fe.info(vn?"["+tn+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Mn.toFixed(3)+").":"["+tn+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Mn.toFixed(3)+").")}catch(pn){Fe.error(pn)}}(tn,Mn)}(tn.mediaType,.001*tn.value.level)}function tt(tn,Mn){try{return G[Mn]=G[Mn]||{},G[Mn].hasOwnProperty(tn)||(G[Mn][tn]=0),function We(tn,Mn,In){if(Mn!==v.default.VIDEO||!oe.get().streaming.abr.limitBitrateByPortal||!ce[In]||!ce[In][Mn])return tn;Ce||on();var Nn=ce[In][Mn].getStreamInfo(),$n=ke.getAdaptationForType(Nn.index,Mn,Nn).Representation_asArray,ni=tn;if(pe>0&&Ae>0){for(;ni>0&&$n[ni]&&pe<$n[ni].width&&pe-$n[ni-1].width<$n[ni].width-pe;)ni-=1;for(;ni<$n.length-1&&$n[ni].width===$n[ni+1].width;)ni+=1}return ni}(function fe(tn,Mn,In){var Nn=G[In][Mn],$n=oe.get().streaming.abr.maxRepresentationRatio[Mn];return isNaN($n)||$n>=1||$n<0?tn:Math.min(tn,Math.round(Nn*$n))}(function Dt(tn,Mn){var In=G[Mn][tn],Nn=In;if(!ce[Mn]||!ce[Mn][tn])return Nn;var $n=gt(tn,Mn);void 0!==$n&&(Nn=Math.max(In,$n));var ni=function Qe(tn,Mn){try{var In=we.getAbrBitrateParameter("maxBitrate",tn);return In>-1?it(ce[Mn][tn].getMediaInfo(),In,Mn):void 0}catch{return}}(tn,Mn);return void 0!==ni&&(Nn=Math.min(Nn,ni)),Nn}(tn,Mn),tn,Mn),tn,Mn)}catch{return}}function gt(tn,Mn){try{return function yt(tn,Mn){try{var In=we.getAbrBitrateParameter("minBitrate",tn);if(In>-1){var Nn=ce[Mn][tn].getMediaInfo(),$n=He(Nn),ni=it(Nn,In,Mn);return $n[ni]&&ni<$n.length-1&&$n[ni].bitrate<1e3*In&&ni++,ni}return}catch{return}}(tn,Mn)}catch{return}}function qt(tn){var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Mn||(Mn=le.getActiveStreamInfo().id),tn&&ce[Mn]&&ce[Mn][tn]&&Mn?(Se[Mn]=Se[Mn]||{},Se[Mn].hasOwnProperty(tn)||(Se[Mn][tn]=0),Se[Mn][tn]):0}catch{return 0}}function un(tn,Mn,In){var Nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Mn&&Mn.id&&tn){var $n=Mn.id,ni=qt(tn,$n);Object(N.checkInteger)(In);var vn=tt(tn,$n);In!==ni&&In>=0&&In<=vn&&wt(tn,ni,In,vn,Nn,$n)}}function wt(tn,Mn,In,Nn,$n,ni){if(tn&&ce[ni]&&ce[ni][tn]){var vn=ce[ni][tn].getStreamInfo(),pn=vn&&vn.manifestInfo&&vn.manifestInfo.isDynamic,yn=ye.getCurrentBufferLevel(tn);Fe.info("Stream ID: "+ni+" ["+tn+"] switch from "+Mn+" to "+In+"/"+Nn+" (buffer: "+yn+") "+($n?JSON.stringify($n):".")),Se[ni]=Se[ni]||{},Se[ni][tn]=In;var mn=function vt(tn,Mn,In){if(Mn&&ce&&ce[tn]&&ce[tn][Mn]){var Nn=He(ce[tn][Mn].getMediaInfo());return Nn[In]?Nn[In]:null}return null}(ni,tn,In);ne.trigger(m.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Mn,newQuality:In,reason:$n,streamInfo:vn,bitrateInfo:mn,maxIdx:Nn,mediaType:tn},{streamId:vn.id,mediaType:tn});var _n=Re.getAverageThroughput(tn,pn);isNaN(_n)||Oe.setSavedBitrateSettings(tn,_n)}}function it(tn,Mn,In){var Nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,$n=tn&&tn.type?ce[In][tn.type].getRepresentationInfo():null;if(oe.get().streaming.abr.useDeadTimeLatency&&Nn&&$n&&$n.fragmentDuration){var ni=$n.fragmentDuration;if((Nn/=1e3)>ni)return 0;Mn*=1-Nn/ni}for(var pn=He(tn),yn=pn.length-1;yn>=0;yn--)if(1e3*Mn>=pn[yn].bitrate)return yn;return 0}function He(tn){var Mn=[];if(!tn||!tn.bitrateList)return Mn;for(var $n,In=tn.bitrateList,Nn=tn.type,ni=0,vn=In.length;ni<vn;ni++)($n=new g.default).mediaType=Nn,$n.qualityIndex=ni,$n.bitrate=In[ni].bandwidth,$n.width=In[ni].width,$n.height=In[ni].height,$n.scanType=In[ni].scanType,Mn.push($n);return Mn}function on(){if(he){var Mn=oe.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;pe=he.getClientWidth()*Mn,Ae=he.getClientHeight()*Mn}}return ae={initialize:function X(){Ze=Object(_.default)(B).create(),Re=Object(S.default)(B).create({settings:oe}),(Y=Object(t.default)(B).create({dashMetrics:ye,customParametersModel:Te,mediaPlayerModel:we,settings:oe})).initialize(),ne.on(O.default.QUALITY_CHANGE_RENDERED,ct,ae),ne.on(O.default.METRIC_ADDED,Xe,ae),ne.on(m.default.LOADING_PROGRESS,Ge,ae)},isPlayingAtTopQuality:function bt(tn){var Mn=tn?tn.id:null,In=qt(v.default.AUDIO,Mn),Nn=qt(v.default.VIDEO,Mn);return In===tt(v.default.AUDIO,Mn)&&Nn===tt(v.default.VIDEO,Mn)},updateTopQualityIndex:function St(tn){var Mn=tn.type,In=tn.streamInfo.id,Nn=tn.representationCount-1;return G[In]=G[In]||{},G[In][Mn]=Nn,Nn},clearDataForStream:function En(tn){Ze&&Ze.clearForStream(tn),ce[tn]&&delete ce[tn],ft[tn]&&delete ft[tn],ge[tn]&&delete ge[tn]},getThroughputHistory:function at(){return Re},getBitrateList:He,getQualityForBitrate:it,getTopBitrateInfoFor:function Et(tn){var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Mn||(Mn=le.getActiveStreamInfo().id),tn&&ce&&ce[Mn]&&ce[Mn][tn]){var In=tt(tn,Mn),Nn=He(ce[Mn][tn].getMediaInfo());return Nn[In]?Nn[In]:null}return null},getMinAllowedIndexFor:gt,getMaxAllowedIndexFor:tt,getInitialBitrateFor:function Wt(tn,Mn){if(function Ee(){if(!Oe||!Oe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(v.default.MISSING_CONFIG_ERROR)}(),tn===v.default.TEXT)return NaN;var In=Oe.getSavedBitrateSettings(tn),Nn=we.getAbrBitrateParameter("initialBitrate",tn),$n=oe.get().streaming.abr.initialRepresentationRatio[tn];if(-1===Nn)if($n>-1){var ni=ce[Mn][tn].getStreamInfo(),vn=ke.getAdaptationForType(ni.index,tn,ni).Representation_asArray;Nn=Array.isArray(vn)?vn[Math.max(Math.round(vn.length*$n)-1,0)].bandwidth/1e3:0}else Nn=isNaN(In)?tn===v.default.VIDEO?1e3:100:In;return Nn},getQualityFor:qt,getAbandonmentStateFor:function fn(tn,Mn){return ge[tn]&&ge[tn][Mn]?ge[tn][Mn].state:null},setPlaybackQuality:un,checkPlaybackQuality:function Qt(tn,Mn){try{if(!(tn&&ce&&ce[Mn]&&ce[Mn][tn]))return!1;if(Ze){var In=he.getPlaybackQuality();In&&Ze.push(Mn,je,In)}if(!oe.get().streaming.abr.autoSwitchBitrate[tn])return!1;var Nn=qt(tn,Mn),$n=Object(c.default)(B).create({abrController:ae,switchHistory:ft[Mn][tn],droppedFramesHistory:Ze,streamProcessor:ce[Mn][tn],currentValue:Nn,useBufferOccupancyABR:be[tn],useL2AABR:Q[tn],useLoLPABR:ie[tn],videoModel:he}),ni=gt(tn,Mn),vn=tt(tn,Mn),pn=Y.getMaxQuality($n),yn=pn.quality;return void 0!==ni&&(yn>d.default.NO_CHANGE?yn:Nn)<ni&&(yn=ni),yn>vn&&(yn=vn),ft[Mn][tn].push({oldValue:Nn,newValue:yn}),yn>d.default.NO_CHANGE&&yn!==Nn&&(ge[Mn][tn].state===b.default.ALLOW_LOAD||yn<Nn)&&(wt(tn,Nn,yn,vn,pn.reason,Mn),!0)}catch{return!1}},setElementSize:on,setWindowResizeEventCalled:function xt(tn){Ce=tn},registerStreamType:function $(tn,Mn){var In=Mn.getStreamInfo().id;ce[In]||(ce[In]={}),ft[In]||(ft[In]={}),ge[In]||(ge[In]={}),ft[In][tn]=Object(f.default)(B).create(),ce[In][tn]=Mn,ge[In][tn]={},ge[In][tn].state=b.default.ALLOW_LOAD,function re(tn){var Mn=oe.get().streaming.abr.ABRStrategy;Mn===v.default.ABR_STRATEGY_L2A?(be[tn]=!1,ie[tn]=!1,Q[tn]=!0):Mn===v.default.ABR_STRATEGY_LoLP?(be[tn]=!1,ie[tn]=!0,Q[tn]=!1):Mn===v.default.ABR_STRATEGY_BOLA?(be[tn]=!0,ie[tn]=!1,Q[tn]=!1):Mn===v.default.ABR_STRATEGY_THROUGHPUT?(be[tn]=!1,ie[tn]=!1,Q[tn]=!1):Mn===v.default.ABR_STRATEGY_DYNAMIC&&(be[tn]=!(!be||!be[tn])&&be[tn],ie[tn]=!1,Q[tn]=!1)}(tn),tn===v.default.VIDEO&&on()},unRegisterStreamType:function J(tn,Mn){try{ce[tn]&&ce[tn][Mn]&&delete ce[tn][Mn],ft[tn]&&ft[tn][Mn]&&delete ft[tn][Mn],ge[tn]&&ge[tn][Mn]&&delete ge[tn][Mn]}catch{}},setConfig:function xe(tn){tn&&(tn.streamController&&(le=tn.streamController),tn.domStorage&&(Oe=tn.domStorage),tn.mediaPlayerModel&&(we=tn.mediaPlayerModel),tn.customParametersModel&&(Te=tn.customParametersModel),tn.dashMetrics&&(ye=tn.dashMetrics),tn.adapter&&(ke=tn.adapter),tn.videoModel&&(he=tn.videoModel),tn.settings&&(oe=tn.settings))},reset:function _e(){q(),ne.off(m.default.LOADING_PROGRESS,Ge,ae),ne.off(O.default.QUALITY_CHANGE_RENDERED,ct,ae),ne.off(O.default.METRIC_ADDED,Xe,ae),Y&&Y.reset()}},function ee(){Fe=z.getLogger(ae),q()}(),ae}L.__dashjs_factory_name="AbrController";var y=i.default.getSingletonFactory(L);y.QUALITY_DEFAULT=0,i.default.updateSingletonFactory(L.__dashjs_factory_name,y),p.default=y},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),v=e(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),b=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),g=e(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function i(){var c,d,x,A,f=this.context,_=Object(D.default)(f).getInstance(),S=Object(b.default)(f).getInstance();function N(B){x.invalidateSelectedIndexes(B.entry)}return c={reset:function L(){x.reset(),A.reset()},initialize:function y(B){x.setConfig({adapter:d}),function I(B){x.update(B),A.chooseSelector(d.getIsDVB(B))}(B)},resolve:function T(B){var ne=x.getForPath(B).reduce(function(ae,Fe){var Y=A.select(Fe);return Y?(S.isRelative(Y.url)?ae.url=S.resolve(Y.url,ae.url):(ae.url=Y.url,ae.serviceLocation=Y.serviceLocation),ae.availabilityTimeOffset=Y.availabilityTimeOffset,ae.availabilityTimeComplete=Y.availabilityTimeComplete,ae):new g.default},new g.default);if(!S.isRelative(ne.url))return ne},setConfig:function C(B){B.baseURLTreeModel&&(x=B.baseURLTreeModel),B.baseURLSelector&&(A=B.baseURLSelector),B.adapter&&(d=B.adapter)}},function O(){x=Object(t.default)(f).create(),A=Object(v.default)(f).create(),_.on(m.default.SERVICE_LOCATION_BLACKLIST_CHANGED,N,c)}(),c}i.__dashjs_factory_name="BaseURLController",p.default=P.default.getClassFactory(i)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function b(g){g=g||{};var P,D=[],m=Object(v.default)(this.context).getInstance(),i=g.updateEventName,c=g.addBlacklistEventName;function f(A){-1===D.indexOf(A)&&(D.push(A),m.trigger(i,{entry:A}))}function _(A){f(A.entry)}return P={add:f,contains:function d(A){return!!(D.length&&A&&A.length)&&-1!==D.indexOf(A)},reset:function x(){D=[]}},function S(){c&&m.on(c,_,P)}(),P}b.__dashjs_factory_name="BlackListController",p.default=t.default.getClassFactory(b)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),g=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),P=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),d=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),_=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),S=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=.01,O="BufferController";function C(I){I=I||{};var ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,T=this.context,L=Object(P.default)(T).getInstance(),y=I.errHandler,B=I.fragmentModel,z=I.representationController,ne=I.adapter,ae=I.textController,Fe=I.abrController,Y=I.playbackController,le=I.streamInfo,G=I.type,Se=I.settings;function re(It){Ae=It}function J(It){return ne.convertRepresentationToRepresentationInfo(z.getRepresentationForQuality(It))}function xe(It){Se.get().streaming.cacheInitSegments&&(ge.info("Init fragment finished loading saving to",G+"'s init cache"),Re.save(It.chunk)),ge.debug("Append Init fragment",G," with representationId:",It.chunk.representationId," and quality:",It.chunk.quality,", data size:",It.chunk.bytes.byteLength),ct(It.chunk)}function Ge(It){ct(It.chunk,It.request)}function ct(It){we.append(It,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(en){tt(en)}).catch(function(en){tt(en)}),It.mediaInfo.type===t.default.VIDEO&&Rt(D.default.VIDEO_CHUNK_RECEIVED,{chunk:It})}function Xe(It){if(It&&It.length>0)for(var Nt=0,en=It.length;Nt<en;Nt++)ge.debug("Buffered range: "+It.start(Nt)+" - "+It.end(Nt)+", currentTime = ",Y.getTime())}function tt(It){if(It.error)return 22===It.error.code&&function Qe(){if(Ze=!0,pe=.8*Tn(),ge.warn("Quota exceeded, Critical Buffer: "+pe),pe>0){var It=Math.max(.2*pe,1),Nt=pe-It,en=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQuality,.9*Nt),An=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Nt),Kn={streaming:{buffer:{bufferToKeep:parseFloat(It.toFixed(5)),bufferTimeAtTopQuality:parseFloat(en.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(An.toFixed(5))}}};Se.update(Kn)}}(),void((22===It.error.code||!Ct())&&(ge.warn("Clearing playback buffer to overcome quota exceed situation"),Rt(D.default.QUOTA_EXCEEDED,{criticalBufferLevel:pe,quotaExceededTime:It.chunk.start}),on(xt())));if(we&&(ze(),Ze=!1,(Oe=It.chunk)&&Oe.endFragment)){Oe&&!isNaN(Oe.index)&&(ke=Math.max(Oe.index,ke),st());var Nt=we.getAllBufferRanges();Oe.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Xe(Nt),un(),function gt(){if(!isNaN(ie)){if(G!==t.default.AUDIO&&G!==t.default.VIDEO)return void(ie=NaN);var It=Y.getTime(),Nt=it(It,0),en=it(ie,0);if(Nt&&en&&Nt.start===en.start)return void(ie=NaN);var An=z.getCurrentRepresentation().segmentDuration,Kn=it(ie,An);Kn&&(Se.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(It-ie)>An?ie<=Kn.end&&Y.seek(Math.max(ie,Kn.start),!1,!0):It<Kn.start&&Y.seek(Kn.start,!1,!0))}}()),Oe&&Rt(D.default.BYTES_APPENDED_END_FRAGMENT,{quality:Oe.quality,startTime:Oe.start,index:Oe.index,bufferedRanges:Nt,segmentType:Oe.segmentType,mediaType:G})}}function Et(){return new Promise(function(It,Nt){var en=Wt();if(!en||0===en.length)return un(),void It();on(en).then(function(){It()}).catch(function(An){Nt(An)})})}function Wt(It){var Nt=[],en=we.getAllBufferRanges();if(!en||0===en.length)return Nt;if(!It&&0!==It||isNaN(It))Nt.push({start:en.start(0),end:en.end(en.length-1)+.5});else{var An=function Qt(It,Nt){var en=Se.get().streaming.buffer.bufferToKeep,An=Nt.start(0);if(It-An>en){var Xn=Math.max(0,It-en),Ut=B.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:It,threshold:A})[0];if(Ut&&(Xn=Math.min(Ut.startTime,Xn)),Xn>0)return{start:An,end:Xn}}return null}(It,en),Kn=function qt(It,Nt){var en=Nt.end(Nt.length-1)+.5,An=qe(It),Xn=le.manifestInfo.duration>=Se.get().streaming.buffer.longFormContentDurationThreshold?Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Se.get().streaming.buffer.bufferTimeAtTopQuality,Ut=isNaN(An)?It:Math.min(An,It+Xn);if(Ut>=Nt.end(Nt.length-1))return null;var On=B.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:It,threshold:A})[0];if(On&&(Ut=Math.max(On.startTime+On.duration,Ut)),Se.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Ft=0;Ft<Nt.length;Ft++)if(Nt.start(Ft)<=It&&It<=Nt.end(Ft)&&Nt.start(Ft)<=Ut&&Ut<=Nt.end(Ft)){var Pt=Ut;Ut=Ft+1<Nt.length?Nt.start(Ft+1):Nt.end(Ft)+1,ge.debug("Buffered range ["+Nt.start(Ft)+", "+Nt.end(Ft)+"] overlaps with targetTime "+It+" and range to be pruned ["+Pt+", "+en+"], using ["+Ut+", "+en+"] instead"+(Ut<en?"":" (no actual pruning)"));break}return Ut<Nt.end(Nt.length-1)?{start:Ut,end:en}:null}(It,en);An&&Nt.push(An),Kn&&Nt.push(Kn)}return Nt}function un(){(!Q||G===t.default.TEXT&&ae.isTextEnabled())&&ze()}function fn(){at()}function wt(){at(),ie=NaN}function it(It,Nt){var Ne,Ft,en=we.getAllBufferRanges(),An=0,Kn=0,Xn=null,Ut=null,On=0,Pt=isNaN(Nt)?.15:Nt;if(null!=en){for(Ft=0,Ne=en.length;Ft<Ne;Ft++)if(An=en.start(Ft),Kn=en.end(Ft),null===Xn)On=Math.abs(An-It),(It>=An&&It<Kn||On<=Pt)&&(Xn=An,Ut=Kn);else{if(!((On=An-Ut)<=Pt))break;Ut=Kn}if(null!==Xn)return{start:Xn,end:Ut}}return null}function ze(){if(Y){var It=Se.get().streaming.gaps.jumpGaps&&!isNaN(Se.get().streaming.gaps.smallGapLimit)?Se.get().streaming.gaps.smallGapLimit:NaN;Ce=Math.max(function He(It,Nt){var en;return Se.get().streaming.gaps.jumpGaps&&(Nt=Se.get().streaming.gaps.smallGapLimit),null===(en=it(It,Nt))?0:en.end-It}(Y.getTime()||0,It),0),Rt(D.default.BUFFER_LEVEL_UPDATED,{mediaType:G,bufferLevel:Ce}),at()}}function st(){var It=ke>=he-1,Nt=Y.getTimeToStreamEnd(le)-Ce<1e-5;(It||Nt)&&!Ie&&(At(!0),ge.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(le.id," and type ").concat(G)))}function at(){G!==t.default.AUDIO&&G!==t.default.VIDEO||((!Y.getLowLatencyModeEnabled()&&Ce<Se.get().streaming.buffer.stallThreshold||0===Ce)&&!Ie?St(v.default.BUFFER_EMPTY):(Ie||Ce>=Se.get().streaming.buffer.stallThreshold||Y.getLowLatencyModeEnabled()&&Ce>0)&&St(v.default.BUFFER_LOADED))}function St(It){Te===It||It===v.default.BUFFER_EMPTY&&0===Y.getTime()||G===t.default.TEXT&&!ae.isTextEnabled()||(Te=It,Rt(D.default.BUFFER_LEVEL_STATE_CHANGED,{state:It}),Rt(It===v.default.BUFFER_LOADED?D.default.BUFFER_LOADED:D.default.BUFFER_EMPTY),ge.debug(It===v.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function bt(){!we||G===t.default.TEXT||Ie||on(xt())}function xt(){var It=[],Nt=we.getAllBufferRanges();if(!Nt||0===Nt.length)return It;var en=Y.getTime(),An=Math.max(0,en-Se.get().streaming.buffer.bufferToKeep),Kn=B.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:en,threshold:A})[0];if(Kn)An=Math.min(Kn.startTime,An);else if(0===en&&Y.getIsDynamic())return[];if(Nt.start(0)<=An){for(var Xn={start:0,end:An},Ut=0;Ut<Nt.length&&Nt.end(Ut)<=An;Ut++)Xn.end=Nt.end(Ut);Xn.start<Xn.end&&It.push(Xn)}return It}function on(It){return new Promise(function(Nt,en){if(It&&we&&0!==It.length){var An=[];It.forEach(function(Kn){An.push(function En(It){return new Promise(function(Nt,en){It.resolve=Nt,It.reject=en,be.push(It)})}(Kn))}),ft||tn(),Promise.all(An).then(function(){Nt()}).catch(function(Kn){en(Kn)})}else Nt()})}function tn(){try{if(0===be.length||!we)return ge.debug("Nothing to prune, halt pruning"),be=[],void(ft=!1);var It=we.getBuffer();if(!It||!It.buffered||0===It.buffered.length)return ge.debug("SourceBuffer is empty (or does not exist), halt pruning"),be=[],void(ft=!1);var Nt=be.shift();ge.debug("".concat(G,": Removing buffer from: ").concat(Nt.start," to ").concat(Nt.end)),ft=!0,Y.getTime()<Nt.end&&At(!1),we.remove(Nt).then(function(An){Mn(An)}).catch(function(An){Mn(An)})}catch{ft=!1}}function Mn(It){ge.debug("onRemoved buffer from:",It.from,"to",It.to),Xe(we.getAllBufferRanges()),0===be.length&&(ft=!1,ze()),It.unintended&&(ge.warn("Detected unintended removal from:",It.from,"to",It.to,"setting streamprocessor time to",It.from),Rt(D.default.SEEK_TARGET,{time:It.from})),ft?tn():(Q?Q=!1:ze(),Rt(D.default.BUFFER_CLEARED,{from:It.from,to:It.to,unintended:It.unintended,hasEnoughSpaceToAppend:Ct(),quotaExceeded:Ze}))}function In(It){return new Promise(function(Nt){It&&void 0!==It.MSETimeOffset&&we&&we.updateTimestampOffset?we.updateTimestampOffset(It.MSETimeOffset).then(function(){Nt()}).catch(function(){Nt()}):Nt()})}function Nn(){return we&&!Ie?we.updateAppendWindow(le):Promise.resolve()}function ni(){++je*(Se.get().streaming.wallclockTimeUpdateInterval/1e3)>=Se.get().streaming.buffer.bufferPruningInterval&&(je=0,bt())}function vn(){at()}function At(It){Ie!==It&&((Ie=It)?Rt(D.default.BUFFERING_COMPLETED):he=Number.POSITIVE_INFINITY)}function Tn(){try{var en,An,It=we.getAllBufferRanges(),Nt=0;if(!It)return Nt;for(An=0,en=It.length;An<en;An++)Nt+=It.end(An)-It.start(An);return Nt}catch{return 0}}function qe(It){try{var Nt=It,en=we.getAllBufferRanges();if(!en||0===en.length)return NaN;for(var An=0;Nt===It&&An<en.length;){var Kn=en.start(An),Xn=en.end(An);Nt>=Kn&&Nt<=Xn&&(Nt=Xn),An+=1}return Nt===It?NaN:Nt}catch{}}function Ct(){var It=Tn();return isNaN(It)||It<pe}function Rt(It,Nt){L.trigger(It,Nt||{},{streamId:le.id,mediaType:G})}function xn(It,Nt){if(pe=Number.POSITIVE_INFINITY,Te=void 0,he=Number.POSITIVE_INFINITY,ke=0,Oe=null,Ie=!1,ft=!1,Ze=!1,Ce=0,je=0,be=[],ie=NaN,we){var en=we;we=null,!It&&!Nt&&en.abort().then(function(){en.reset(Nt),en=null})}Q=!1}return ce={initialize:function oe(It){re(It),L.on(D.default.INIT_FRAGMENT_LOADED,xe,ce),L.on(D.default.MEDIA_FRAGMENT_LOADED,Ge,ce),L.on(D.default.WALLCLOCK_TIME_UPDATED,ni,ce),L.on(S.default.PLAYBACK_PLAYING,wt,ce),L.on(S.default.PLAYBACK_PROGRESS,un,ce),L.on(S.default.PLAYBACK_TIME_UPDATED,un,ce),L.on(S.default.PLAYBACK_RATE_CHANGED,vn,ce),L.on(S.default.PLAYBACK_STALLED,fn,ce)},getStreamId:function ee(){return le.id},getType:function X(){return G},getBufferControllerType:function $(){return O},createBufferSink:function q(It){var Nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(en,An){if(Re&&It&&Ae){var Kn=Fe.getQualityFor(G,le.id);we=Object(g.default)(T).create({mediaSource:Ae,textController:ae,eventBus:L}),function _e(It,Nt,en){var An=J(en);return Nt&&Nt[G]&&(G===t.default.VIDEO||G===t.default.AUDIO)?we.initializeForStreamSwitch(It,An,Nt[G]):we.initializeForFirstUse(le,It,An)}(It,Nt,Kn).then(function(){return In(J(Kn))}).then(function(){en(we)}).catch(function(Xn){ge.fatal("Caught error on create SourceBuffer: "+Xn),y.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+G)),An(Xn)})}else en(null)})},getBuffer:function pn(){return we},getBufferLevel:function yn(){return Ce},getRangeAt:it,hasBufferAtTime:function vt(It){try{var Nt=we.getAllBufferRanges();if(!Nt||0===Nt.length)return!1;for(var en=0;en<Nt.length;){var An=Nt.start(en),Kn=Nt.end(en);if(It>=An&&It<=Kn)return!0;en+=1}return!1}catch(Xn){return ge.error(Xn),!1}},pruneBuffer:bt,setMediaSource:re,getMediaSource:function mn(){return Ae},appendInitSegmentFromCache:function Ee(It){var Nt=Re.extract(le.id,It);return!!Nt&&(ge.info("Append Init fragment",G," with representationId:",Nt.representationId," and quality:",Nt.quality,", data size:",Nt.bytes.byteLength),ct(Nt),!0)},getIsBufferingCompleted:function _n(){return Ie},setIsBufferingCompleted:At,getIsPruningInProgress:function ht(){return ft},reset:function kt(It,Nt){L.off(D.default.INIT_FRAGMENT_LOADED,xe,this),L.off(D.default.MEDIA_FRAGMENT_LOADED,Ge,this),L.off(D.default.WALLCLOCK_TIME_UPDATED,ni,this),L.off(S.default.PLAYBACK_PLAYING,wt,this),L.off(S.default.PLAYBACK_PROGRESS,un,this),L.off(S.default.PLAYBACK_TIME_UPDATED,un,this),L.off(S.default.PLAYBACK_RATE_CHANGED,vn,this),L.off(S.default.PLAYBACK_STALLED,fn,this),xn(It,Nt)},prepareForPlaybackSeek:function yt(){return Ie&&At(!1),we.abort()},prepareForReplacementTrackSwitch:function Dt(It){return new Promise(function(Nt,en){we.abort().then(function(){return Nn()}).then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?we.changeType(It):Promise.resolve()}).then(function(){return Et()}).then(function(){At(!1),Nt()}).catch(function(An){en(An)})})},prepareForNonReplacementTrackSwitch:function We(It){return new Promise(function(Nt,en){Nn().then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?we.changeType(It):Promise.resolve()}).then(function(){Nt()}).catch(function(An){en(An)})})},prepareForReplacementQualitySwitch:function fe(){return new Promise(function(It,Nt){we.abort().then(function(){return Nn()}).then(function(){return Et()}).then(function(){At(!1),It()}).catch(function(en){Nt(en)})})},updateAppendWindow:Nn,getAllRangesWithSafetyFactor:Wt,getContinuousBufferTimeForTargetTime:qe,clearBuffers:on,pruneAllSafely:Et,updateBufferTimestampOffset:In,setSeekTarget:function Jt(It){ie=It},segmentRequestingCompleted:function $n(It){isNaN(It)||(he=It,st())}},function ye(){ge=Object(i.default)(T).getInstance().getLogger(ce),Re=Object(c.default)(T).getInstance(),xn()}(),ce}C.__dashjs_factory_name=O,p.default=m.default.getClassFactory(C)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),P=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function c(){var _,S,x,A,N,O,C,I,T,L,d=this.context,f=Object(b.default)(d).getInstance();function Y(){S=!1;var je=i.default.parseUserAgent();x=je&&je.browser&&je.browser.name&&"safari"===je.browser.name.toLowerCase()}function le(){S=!1}function G(je){if(je.streamId===O.getActiveStreamInfo().id&&T){var ft=C.getLiveDelay();C.getBufferLevel()>ft/2&&(T=!1)}}function Se(je){je.streamId===O.getActiveStreamInfo().id&&(T=je.state===m.default.BUFFER_EMPTY)}function ce(){I.getCatchupModeEnabled()||A.setPlaybackRate(1)}function ge(){C.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!C.isPaused()&&!C.isSeeking()&&function pe(){try{return!(!C.getTime()>0||S)&&(Ae()===g.default.LIVE_CATCHUP_MODE_LOLP?function he(je,ft){try{return Math.abs(Ce())>0||je<ft}catch{return!1}}(C.getBufferLevel(),N.get().streaming.liveCatchup.playbackBufferMin):function ke(){try{return Math.abs(Ce())>0}catch{return!1}}())}catch{return!1}}()&&function Ie(){if(!S&&A){var je,ft=A.getPlaybackRate(),Ze=I.getCatchupPlaybackRates(),Re=C.getBufferLevel(),be=Ce(),Q=I.getCatchupMaxDrift();if(!isNaN(Q)&&Q>0&&be>Q)L.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),S=!0,C.seekToCurrentLive(!0,!1);else{var ie=C.getCurrentLiveLatency(),ye=C.getLiveDelay();je=Ae()===g.default.LIVE_CATCHUP_MODE_LOLP?function Te(je,ft,Ze,Re,be){var Q;if(be<Re){var ie=Math.abs(je.min),ee=2*ie/(1+Math.pow(Math.E,-5*(be-Re)));L.debug("[LoL+ playback control_buffer-based] bufferLevel: "+be+", newRate: "+(Q=1-ie+ee))}else{var X=je.max,$=.02;Q=Math.abs(ft-Ze)<=$*Ze?1:1-X+2*X/(1+Math.pow(Math.E,-5*(ft-Ze))),L.debug("[LoL+ playback control_latency-based] latency: "+ft+", newRate: "+Q)}return Q}(Ze,ie,ye,N.get().streaming.liveCatchup.playbackBufferMin,Re):function we(je,ft,Ze,Re){if(T)return 1;var be=ft-Ze,Q=be<0?Math.abs(je.min):je.max,oe=1-Q+2*Q/(1+Math.pow(Math.E,-5*be));return C.getPlaybackStalled()&&Re<=Ze/2&&be>0&&(oe=1),oe}(Ze,ie,ye,Re);var ee=x?.25:.02/(.5/Ze.max);je&&Math.abs(ft-je)>=ee&&(L.debug("[CatchupController]: Setting playback rate to ".concat(je)),A.setPlaybackRate(je))}}}()}function Ce(){return C.getCurrentLiveLatency()-C.getLiveDelay()}function Ae(){var je=N.get().streaming.liveCatchup.playbackBufferMin;return N.get().streaming.liveCatchup.mode!==g.default.LIVE_CATCHUP_MODE_LOLP||null===je||isNaN(je)?g.default.LIVE_CATCHUP_MODE_DEFAULT:g.default.LIVE_CATCHUP_MODE_LOLP}function Oe(){I.getCatchupPlaybackRates(!0)}return _={reset:function Fe(){(function ne(){f.off(P.default.BUFFER_LEVEL_UPDATED,G,_),f.off(P.default.BUFFER_LEVEL_STATE_CHANGED,Se,_),f.off(P.default.PLAYBACK_PROGRESS,ge,_),f.off(P.default.PLAYBACK_TIME_UPDATED,ge,_),f.off(P.default.PLAYBACK_SEEKED,ge,_),f.off(D.default.SETTING_UPDATED_CATCHUP_ENABLED,ce,_),f.off(D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,_),f.off(D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,_),f.off(P.default.STREAM_INITIALIZED,Oe,_)})(),Y(),A.setPlaybackRate(1,!0)},setConfig:function B(je){je&&(je.settings&&(N=je.settings),je.videoModel&&(A=je.videoModel),je.streamController&&(O=je.streamController),je.playbackController&&(C=je.playbackController),je.mediaPlayerModel&&(I=je.mediaPlayerModel))},initialize:function y(){(function z(){f.on(P.default.BUFFER_LEVEL_UPDATED,G,_),f.on(P.default.BUFFER_LEVEL_STATE_CHANGED,Se,_),f.on(P.default.PLAYBACK_PROGRESS,ge,_),f.on(P.default.PLAYBACK_TIME_UPDATED,ge,_),f.on(P.default.PLAYBACK_SEEKED,le,_),f.on(D.default.SETTING_UPDATED_CATCHUP_ENABLED,ce,_),f.on(D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,_),f.on(D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,_),f.on(P.default.STREAM_INITIALIZED,Oe,_)})(),Oe()}},function ae(){L=Object(v.default)(d).getInstance().getLogger(_),Y()}(),_}c.__dashjs_factory_name="CatchupController",p.default=t.default.getSingletonFactory(c)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function D(){var A,N,O,C,I,T,L,y,B,z,ne,m="urn:mpeg:dash:event:2012",i=1,c="urn:mpeg:dash:event:callback:2015",d=1,f=300,_={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},S=this.context,x=Object(b.default)(S).getInstance();function Fe(){if(!L||!y)throw new Error("setConfig function has to be called previously")}function Y(){ne=!1,O={},C={},I=null,z=!1,T=Date.now()/1e3}function le(){try{null!==I&&ne&&(clearInterval(I),I=null,ne=!1,function ke(){try{he(C),he(O)}catch(oe){N.error(oe)}}())}catch(oe){throw oe}}function Se(){try{if(!z){z=!0;var oe=y.getTime(),ee=oe-T;ee=T>0?Math.max(0,ee):0,ce(C,ee,oe),ce(O,ee,oe),ge(C),ge(O),T=oe,z=!1}}catch(X){z=!1,N.error(X)}}function ce(oe,ee,X){try{we(oe,function(J){if(void 0!==J){var q=isNaN(J.duration)?0:J.duration;J.calculatedPresentationTime<=X&&J.calculatedPresentationTime+ee+q>=X?je(J,g.default.EVENT_MODE_ON_START):(Te(X,q+ee,J.calculatedPresentationTime)||function Oe(oe){try{return oe.calculatedPresentationTime>oe.eventStream.period.start+oe.eventStream.period.duration}catch(X){return N.error(X),!1}}(J))&&(N.debug("Removing event ".concat(J.id," from period ").concat(J.eventStream.period.id," as it is expired or invalid")),function ft(oe,ee){try{var X=ee.eventStream.schemeIdUri,$=ee.eventStream.period.id,re=ee.eventStream.value,J=ee.id;oe[$][X]=oe[$][X].filter(function(q){return re&&q.eventStream.value&&q.eventStream.value!==re||q.id!==J}),0===oe[$][X].length&&delete oe[$][X]}catch(q){N.error(q)}}(oe,J))}})}catch(re){N.error(re)}}function ge(oe){try{for(var ee in oe)oe.hasOwnProperty(ee)&&0===Object.keys(oe[ee]).length&&delete oe[ee]}catch(X){N.error(X)}}function pe(oe,ee){var X=arguments.length>2&&void 0!==arguments[2]&&arguments[2],$=oe.eventStream.schemeIdUri,re=oe.eventStream.value,J=oe.id,q=_.DISCARDED;ee[$]||(ee[$]=[]);var _e=ee[$].findIndex(function(Ee){return(!re||Ee.eventStream.value&&Ee.eventStream.value===re)&&Ee.id===J});if(-1===_e)ee[$].push(oe),oe.triggeredReceivedEvent=!1,oe.triggeredStartEvent=!1,q=_.ADDED;else if(X){var xe=ee[$][_e];oe.triggeredReceivedEvent=xe.triggeredReceivedEvent,oe.triggeredStartEvent=xe.triggeredStartEvent,ee[$][_e]=oe,q=_.UPDATED}return q}function Ae(oe){try{oe.eventStream.value==i&&x.trigger(g.default.MANIFEST_VALIDITY_CHANGED,{id:oe.id,validUntil:oe.calculatedPresentationTime,newDuration:4294967295==oe.calculatedPresentationTime?NaN:oe.calculatedPresentationTime+oe.duration,newManifestValidAfter:NaN},{mode:g.default.EVENT_MODE_ON_START})}catch($){N.error($)}}function he(oe){try{var ee=y.getTime();we(oe,function(re){var J=re.eventStream&&re.eventStream.period&&!isNaN(re.eventStream.period.duration)?re.eventStream.period.duration:NaN,q=re.eventStream&&re.eventStream.period&&!isNaN(re.eventStream.period.start)?re.eventStream.period.start:NaN;isNaN(J)||isNaN(q)||Math.abs(re.calculatedPresentationTime-ee)<f&&je(re,g.default.EVENT_MODE_ON_START)})}catch($){N.error($)}}function we(oe,ee){try{if(oe)for(var X=Object.keys(oe),$=0;$<X.length;$++)for(var re=oe[X[$]],J=Object.keys(re),q=0;q<J.length;q++)re[J[q]].forEach(function(xe){void 0!==xe&&ee(xe)})}catch(xe){N.error(xe)}}function Te(oe,ee,X){try{return oe-ee>X}catch($){return N.error($),!1}}function je(oe,ee){try{var X=y.getTime(),$=oe.id;if(ee===g.default.EVENT_MODE_ON_RECEIVE&&!oe.triggeredReceivedEvent)return N.debug("Received event ".concat($)),oe.triggeredReceivedEvent=!0,void x.trigger(oe.eventStream.schemeIdUri,{event:oe},{mode:ee});oe.triggeredStartEvent||(oe.eventStream.schemeIdUri===m&&oe.eventStream.value==i?(0!==oe.duration||0!==oe.presentationTimeDelta)&&(N.debug("Starting manifest refresh event ".concat($," at ").concat(X)),function Ze(){try{Fe(),L.refreshManifest()}catch(oe){N.error(oe)}}()):oe.eventStream.schemeIdUri===c&&oe.eventStream.value==d?(N.debug("Starting callback event ".concat($," at ").concat(X)),function Re(oe){try{Object(P.default)(S).create({}).load({method:"get",url:oe,request:{responseType:"arraybuffer"}})}catch(X){N.error(X)}}(oe.messageData)):(N.debug("Starting event ".concat($," from period ").concat(oe.eventStream.period.id," at ").concat(X)),x.trigger(oe.eventStream.schemeIdUri,{event:oe},{mode:ee})),oe.triggeredStartEvent=!0)}catch(re){N.error(re)}}return A={addInlineEvents:function Ie(oe,ee){try{if(Fe(),O[ee]||(O[ee]={}),oe)for(var X=0;X<oe.length;X++){var $=oe[X];if(!Te(y.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)){var q=pe($,O[ee],!0);q===_.ADDED?(N.debug("Added inline event with id ".concat($.id," from period ").concat(ee)),je($,g.default.EVENT_MODE_ON_RECEIVE)):q===_.UPDATED&&N.debug("Updated inline event with id ".concat($.id," from period ").concat(ee))}}}catch(_e){throw _e}},addInbandEvents:function Ce(oe,ee){try{Fe(),C[ee]||(C[ee]={});for(var X=0;X<oe.length;X++){var $=oe[X];Te(y.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)||(pe($,C[ee],!1)===_.ADDED?($.eventStream.schemeIdUri===m&&Ae($),N.debug("Added inband event with id ".concat($.id," from period ").concat(ee)),je($,g.default.EVENT_MODE_ON_RECEIVE)):N.debug("Inband event with scheme_id_uri ".concat($.eventStream.schemeIdUri,", value ").concat($.eventStream.value,", period id ").concat(ee," and event id ").concat($.id," was ignored because it has been added before.")))}Se()}catch(_e){throw _e}},getInbandEvents:function ie(){return C},getInlineEvents:function Q(){return O},start:function G(){try{Fe(),N.debug("Start Event Controller");var oe=B.get().streaming.eventControllerRefreshDelay;!ne&&!isNaN(oe)&&(ne=!0,I=setInterval(Se,oe))}catch(ee){throw ee}},setConfig:function be(oe){try{if(!oe)return;oe.manifestUpdater&&(L=oe.manifestUpdater),oe.playbackController&&(y=oe.playbackController),oe.settings&&(B=oe.settings)}catch(ee){throw ee}},reset:function ye(){le(),Y()}},function ae(){N=Object(v.default)(S).getInstance().getLogger(A),Y()}(),A}D.__dashjs_factory_name="EventController",p.default=t.default.getSingletonFactory(D)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),b=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),g=e(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),P=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),d=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function _(S){S=S||{};var L,y,B,x=this.context,A=Object(D.default)(x).getInstance(),N=S.errHandler,O=S.mediaPlayerModel,C=S.dashMetrics,I=Object(f.default)(x).getInstance(),T=S.streamInfo;function ne(){return T.id}function Fe(){for(var Se in B)B[Se].reset();B={}}function G(Se){if(Se.sender){var ce=Se.request,ge=Se.response,Ie=ce.isInitializationRequest(),Ce=ce.mediaInfo.streamInfo;if(Se.error&&(ce.mediaType===t.default.AUDIO||ce.mediaType===t.default.VIDEO||ce.mediaType===t.default.TEXT&&ce.mediaInfo.isFragmented)&&A.trigger(m.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Se.request.serviceLocation}),!ge||!Ce)return void y.warn("No "+ce.mediaType+" bytes to push or stream is inactive.");var pe=function le(Se,ce,ge,Ie){var Ce=new v.default;return Ce.streamId=ge,Ce.mediaInfo=ce.mediaInfo,Ce.segmentType=ce.type,Ce.start=ce.startTime,Ce.duration=ce.duration,Ce.end=Ce.start+Ce.duration,Ce.bytes=Se,Ce.index=ce.index,Ce.quality=ce.quality,Ce.representationId=ce.representationId,Ce.endFragment=Ie,Ce}(ge,ce,T.id,Se.type!==m.default.FRAGMENT_LOADING_PROGRESS);A.trigger(Ie?m.default.INIT_FRAGMENT_LOADED:m.default.MEDIA_FRAGMENT_LOADED,{chunk:pe,request:ce},{streamId:Ce.id,mediaType:ce.mediaType})}}return L={getStreamId:ne,getModel:function ae(Se){var ce=B[Se];return ce||(ce=Object(b.default)(x).create({streamInfo:T,type:Se,dashMetrics:C,fragmentLoader:Object(g.default)(x).create({dashMetrics:C,mediaPlayerModel:O,errHandler:N,requestModifier:Object(P.default)(x).getInstance(),settings:S.settings,boxParser:S.boxParser,eventBus:A,events:m.default,errors:c.default,dashConstants:S.dashConstants,urlUtils:S.urlUtils,streamId:ne()}),debug:I,eventBus:A,events:m.default}),B[Se]=ce),ce},reset:function Y(){A.off(i.default.FRAGMENT_LOADING_COMPLETED,G,this),A.off(i.default.FRAGMENT_LOADING_PROGRESS,G,this),Fe()}},function z(){y=I.getLogger(L),Fe(),A.on(i.default.FRAGMENT_LOADING_COMPLETED,G,L),A.on(i.default.FRAGMENT_LOADING_PROGRESS,G,L)}(),L}_.__dashjs_factory_name="FragmentController",p.default=d.default.getClassFactory(_)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function c(){var _,S,x,A,N,O,C,I,T,L,y,B,d=this.context,f=Object(g.default)(d).getInstance();function ae(){(function Te(){B.debug("Stopping the gap controller"),N&&(clearInterval(N),N=null)})(),function G(){f.off(b.default.WALLCLOCK_TIME_UPDATED,Ce,this),f.off(b.default.INITIAL_STREAM_SWITCH,Ie,this),f.off(b.default.PLAYBACK_SEEKING,Se,this),f.off(b.default.BUFFER_REPLACEMENT_STARTED,ce,_),f.off(b.default.TRACK_CHANGE_RENDERED,ge,_)}(),function Fe(){N=null,O=NaN,A=0,L=null,y={}}()}function Se(){L&&(clearTimeout(L),L=null)}function ce(je){try{if(je.streamId!==I.getActiveStreamInfo().id||je.mediaType!==P.default.VIDEO&&je.mediaType!==P.default.AUDIO)return;je.streamId===I.getActiveStreamInfo().id&&(y[je.mediaType]=!0)}catch(ft){B.error(ft)}}function ge(je){!je||!je.mediaType||(y[je.mediaType]=!1)}function Ie(){N||function we(){try{N||(B.debug("Starting the gap controller"),N=setInterval(function(){pe()&&Oe(C.getTime())},100))}catch{}}()}function Ce(){if(pe(x.get().streaming.gaps.enableSeekFix)&&++A>=10){var je=C.getTime();S===je?Oe(je,!0):(S=je,O=NaN),A=0}}function pe(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var ft=Object.keys(y).some(function(Re){return y[Re]}),Ze=!!je&&function Ae(){var je=I.getActiveStream(),ft=parseFloat((je.getStartTime()+je.getDuration()).toFixed(5));return C.getTime()+x.get().streaming.gaps.threshold>=ft}();return!ft&&x.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!C.isSeeking()||Ze)&&!C.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function Oe(je){var ye,ft=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ze=x.get().streaming.gaps.enableStallFix,Re=x.get().streaming.gaps.stallSeek,be=x.get().streaming.gaps.smallGapLimit,Q=x.get().streaming.gaps.jumpLargeGaps,ie=T.getBufferRange(),oe=NaN,ee=!1;if(ye=function ke(je,ft){try{if(!je||je.length<=1&&ft>0)return NaN;for(var Ze=NaN,Re=0;isNaN(Ze)&&Re<je.length;){var be=Re>0?je.end(Re-1):0;ft<je.start(Re)&&be-ft<x.get().streaming.gaps.threshold&&(Ze=Re),Re+=1}return Ze}catch{return null}}(ie,je),!isNaN(ye)){var X=ie.start(ye),$=X-je;$>0&&($<=be||Q)&&(oe=X)}var re=C.getTimeToStreamEnd();if(isNaN(oe)&&ft&&isFinite(re)&&!isNaN(re)&&re<be&&(oe=parseFloat(C.getStreamEndTime().toFixed(5)),ee=!0),Ze&&isNaN(oe)&&ft&&isNaN(ye)&&function he(je,ft){for(var Ze=0,Re=je.length;Ze<Re;Ze++)if(ft>=je.start(Ze)&&ft<=je.end(Ze))return!0;return!1}(ie,je)&&(0===Re?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Re,"s to break stall")),oe=je+Re)),oe>0&&O!==oe&&oe>je&&!L){var J=oe-je;if(ee){var q=I.getStreamForTime(oe),_e=q&&!!q.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(je," to ").concat(oe,". Gap duration: ").concat(J)),C.seek(oe,!0,_e)}else{var xe=C.getIsDynamic(),Ee=ye>0?ie.end(ye-1):je,Ge=xe?1e3*Math.max(0,J-.1):0;L=window.setTimeout(function(){C.seek(oe,!0,!0),B.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(Ee," and ending at ").concat(oe,". Jumping by: ").concat(oe-Ee)),L=null},Ge)}O=oe}}return _={reset:ae,setConfig:function Y(je){je&&(je.settings&&(x=je.settings),je.playbackController&&(C=je.playbackController),je.streamController&&(I=je.streamController),je.videoModel&&(T=je.videoModel))},initialize:function z(){!function le(){f.on(b.default.WALLCLOCK_TIME_UPDATED,Ce,this),f.on(b.default.INITIAL_STREAM_SWITCH,Ie,this),f.on(b.default.PLAYBACK_SEEKING,Se,this),f.on(b.default.BUFFER_REPLACEMENT_STARTED,ce,_),f.on(b.default.TRACK_CHANGE_RENDERED,ge,_)}()}},function ne(){B=Object(v.default)(d).getInstance().getLogger(_),ae()}(),_}c.__dashjs_factory_name="GapController",p.default=t.default.getSingletonFactory(c)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),m=e.n(D),i=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function d(){var x,A,N,O,C,I,T,L,_=this.context,S=Object(b.default)(_).getInstance();function ne(q,_e){return q&&N[_e]&&N[_e][q]?N[_e][q].list:[]}function ae(q,_e){return q&&N[_e]&&N[_e][q]?N[_e][q].current:null}function Y(q){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(q&&q.streamInfo){var xe=q.type,Ge=q.streamInfo.id,ct=ae(xe,Ge);if(N[Ge]&&N[Ge][xe]&&(N[Ge][xe].current=q,N[Ge][xe].current&&(xe!==t.default.TEXT&&!ge(q,ct)||xe===t.default.TEXT&&q.isFragmented)&&S.trigger(v.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:ct,newMediaInfo:q,switchMode:O.get().streaming.trackSwitchMode[xe]},{streamId:Ge}),!_e)){var Xe=function pe(q){var _e={lang:q.lang,viewpoint:q.viewpoint,roles:q.roles,accessibility:q.accessibility,audioChannelConfiguration:q.audioChannelConfiguration};return _e.lang||_e.viewpoint||_e.role&&_e.role.length>0||_e.accessibility&&_e.accessibility.length>0||_e.audioChannelConfiguration&&_e.audioChannelConfiguration.length>0?_e:null}(q);if(!Xe||!N[Ge][xe].storeLastSettings)return;Xe.roles&&(Xe.role=Xe.roles[0],delete Xe.roles),Xe.accessibility&&(Xe.accessibility=Xe.accessibility[0]),Xe.audioChannelConfiguration&&(Xe.audioChannelConfiguration=Xe.audioChannelConfiguration[0]),I[xe]=Xe,L.setSavedMediaSettings(xe,Xe)}}}function le(q,_e){!q||!_e||(C[q]=_e)}function G(q){return q?C[q]:null}function ge(q,_e){if(!q&&!_e)return!0;if(!q||!_e)return!1;var xe=q.id===_e.id,Ee=q.viewpoint===_e.viewpoint,Ge=q.lang===_e.lang,ct=q.codec===_e.codec,Xe=q.roles.toString()===_e.roles.toString(),tt=q.accessibility.toString()===_e.accessibility.toString(),gt=q.audioChannelConfiguration.toString()===_e.audioChannelConfiguration.toString();return xe&&ct&&Ee&&Ge&&Xe&&tt&&gt}function Ce(){N={},I={},function Ze(){C={audio:null,video:null,text:null}}()}function Ae(q,_e,xe){var Ee=[];return q.forEach(function(Ge){_e(xe,Ge)&&Ee.push(Ge)}),0!==Ee.length?Ee:q}function ke(q,_e){return!q.lang||q.lang instanceof RegExp?_e.lang.match(q.lang):""!==_e.lang&&Object(i.extendedFilter)(_e.lang,m()(q.lang)).length>0}function he(q,_e){return null==q.index||_e.index===q.index}function we(q,_e){return!q.viewpoint||q.viewpoint===_e.viewpoint}function Te(q,_e){var xe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!q.role||!!_e.roles.filter(function(Ge){return Ge===q.role})[0]||_e.type===t.default.AUDIO&&xe}function Oe(q,_e){return q.accessibility?!!_e.accessibility.filter(function(Ee){return Ee===q.accessibility})[0]:!_e.accessibility.length}function je(q,_e){return!q.audioChannelConfiguration||!!_e.audioChannelConfiguration.filter(function(Ee){return Ee===q.audioChannelConfiguration})[0]}function be(q){var Ee,_e=0,xe=[];return q.forEach(function(Ge){(Ee=Math.max.apply(Math,Ge.bitrateList.map(function(ct){return ct.bandwidth})))>_e?(_e=Ee,xe=[Ge]):Ee===_e&&xe.push(Ge)}),xe}function Q(q){var Ee,_e=1/0,xe=[];return q.forEach(function(Ge){var ct=Ge.bitrateList.reduce(function(Xe,tt){var gt=Math.max(1,tt.width*tt.height);return Xe+tt.bandwidth/gt},0);(Ee=ct/Ge.bitrateList.length)<_e?(_e=Ee,xe=[Ge]):Ee===_e&&xe.push(Ge)}),xe}function ie(q){var Ee,_e=0,xe=[];return q.forEach(function(Ge){(Ee=Ge.representationCount)>_e?(_e=Ee,xe=[Ge]):Ee===_e&&xe.push(Ge)}),xe}function ye(q,_e){if(q===t.default.TEXT)return _e[0];var Ee,xe=O.get().streaming.selectionModeForInitialTrack,Ge=T.getCustomInitialTrackSelectionFunction();if(Ge&&"function"==typeof Ge)Ee=Ge(_e);else switch(xe){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Ee=function oe(q){var _e=function Re(q){var _e=0,xe=[];return q.forEach(function(Ee){isNaN(Ee.selectionPriority)||(Ee.selectionPriority>_e?(_e=Ee.selectionPriority,xe=[Ee]):Ee.selectionPriority===_e&&xe.push(Ee))}),xe}(q);return _e.length>1&&(_e=be(_e)),_e.length>1&&(_e=ie(_e)),_e}(_e);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Ee=function ee(q){var _e=be(q);return _e.length>1&&(_e=ie(_e)),_e}(_e);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:Ee=X(_e);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Ee=function $(q){var _e=Q(q);return _e.length>1&&(_e=be(_e)),_e}(_e);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:Ee=function re(q){var _e=ie(q);return _e.length>1&&(_e=be(q)),_e}(_e);break;default:A.warn("Track selection mode ".concat(xe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Ee=X(_e)}return Ee.length>0?Ee[0]:_e[0]}function X(q){return q[0]}return x={setInitialMediaSettingsForType:function B(q,_e){var xe=I[q]||G(q),Ee=ne(q,_e.id),Ge=[];xe||le(q,xe=L.getSavedMediaSettings(q)),Ee&&0!==Ee.length&&(xe&&(Ge=Ae(Ge=Array.from(Ee),ke,xe),Ge=Ae(Ge,he,xe),Ge=Ae(Ge,we,xe),q===t.default.AUDIO&&I[q]||(Ge=Ae(Ge,Te,xe)),Ge=Ae(Ge,Oe,xe),Ge=Ae(Ge,je,xe)),0===Ge.length?Y(ye(q,Ee),!0):Y(Ge.length>1?ye(q,Ge):Ge[0]))},addTrack:function z(q){if(q){var _e=q.type;if(function ce(q){return q===t.default.AUDIO||q===t.default.VIDEO||q===t.default.TEXT||q===t.default.IMAGE}(_e)){var xe=q.streamInfo.id;N[xe]||(N[xe]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Ee=N[xe][_e].list,Ge=0,ct=Ee.length;Ge<ct;++Ge)if(ge(Ee[Ge],q))return;Ee.push(q)}}},getTracksFor:ne,getCurrentTrackFor:ae,isCurrentTrack:function Fe(q){if(!q)return!1;var _e=q.type,xe=q.streamInfo.id;return N[xe]&&N[xe][_e]&&ge(N[xe][_e].current,q)},setTrack:Y,selectInitialTrack:ye,setInitialSettings:le,getInitialSettings:G,getTracksWithHighestBitrate:be,getTracksWithHighestEfficiency:Q,getTracksWithWidestRange:ie,isTracksEqual:ge,matchSettings:function ft(q,_e){var xe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Ee=!1;if(q.lang){if(q.lang instanceof RegExp)Ee=_e.lang.match(q.lang);else if(""!==_e.lang){var Ge=m()(q.lang);Ge&&(Ee=Object(i.extendedFilter)(_e.lang,Ge).length>0)}}else Ee=!0;var ct=null==q.index||_e.index===q.index,Xe=!q.viewpoint||q.viewpoint===_e.viewpoint,tt=!q.role||!!_e.roles.filter(function(yt){return yt===q.role})[0],gt=!q.accessibility||!!_e.accessibility.filter(function(yt){return yt===q.accessibility})[0],Qe=!q.audioChannelConfiguration||!!_e.audioChannelConfiguration.filter(function(yt){return yt===q.audioChannelConfiguration})[0];return Ee&&ct&&Xe&&(tt||_e.type===t.default.AUDIO&&xe)&&gt&&Qe}catch(yt){return!1}},matchSettingsLang:ke,matchSettingsIndex:he,matchSettingsViewPoint:we,matchSettingsRole:Te,matchSettingsAccessibility:Oe,matchSettingsAudioChannelConfig:je,saveTextSettingsDisabled:function Se(){L.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Ie(q){q&&(q.domStorage&&(L=q.domStorage),q.settings&&(O=q.settings),q.customParametersModel&&(T=q.customParametersModel))},reset:Ce},function y(){A=Object(P.default)(_).getInstance().getLogger(x),Ce()}(),x}d.__dashjs_factory_name="MediaController";var f=g.default.getSingletonFactory(d);g.default.updateSingletonFactory(d.__dashjs_factory_name,f),p.default=f},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function b(){var g,P,D,m=this.context;return g={createMediaSource:function c(){var N="WebKitMediaSource"in window;return"MediaSource"in window?P=new MediaSource:N&&(P=new WebKitMediaSource),P},attachMediaSource:function d(N){var O=window.URL.createObjectURL(P);return N.setSource(O),O},detachMediaSource:function f(N){N.setSource(null)},setDuration:function _(N){!P||"open"!==P.readyState||null===N&&isNaN(N)||P.duration!==N&&(function A(N){for(var O=N.sourceBuffers,C=0;C<O.length;C++)if(O[C].updating)return!0;return!1}(P)?setTimeout(_.bind(null,N),50):(D.info("Set MediaSource duration:"+N),P.duration=N))},setSeekable:function S(N,O){P&&"function"==typeof P.setLiveSeekableRange&&"function"==typeof P.clearLiveSeekableRange&&"open"===P.readyState&&N>=0&&N<O&&(P.clearLiveSeekableRange(),P.setLiveSeekableRange(N,O))},signalEndOfStream:function x(N){if(N&&"open"===N.readyState){for(var O=N.sourceBuffers,C=0;C<O.length;C++)if(O[C].updating||0===O[C].buffered.length)return;D.info("call to mediaSource endOfStream"),N.endOfStream()}}},function i(){D=Object(v.default)(m).getInstance().getLogger(g)}(),g}b.__dashjs_factory_name="MediaSourceController",p.default=t.default.getSingletonFactory(b)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function c(){var _,S,x,A,N,O,C,I,T,L,y,B,z,ne,ae,Fe,le,G,Se,ce,ge,Ie,Ce,d=this.context,f=Object(v.default)(d).getInstance();function Ae(){ft(),ne=!1,L=0,y=0,Fe=0,ge=!1,le=!1,Ie=!1,G=NaN,C&&(f.off(b.default.DATA_UPDATE_COMPLETED,We,_),f.off(b.default.LOADING_PROGRESS,$n,_),f.off(b.default.MANIFEST_UPDATED,mn,_),f.off(b.default.STREAMS_COMPOSED,_n,_),f.off(D.default.PLAYBACK_ENDED,on,_),f.off(D.default.STREAM_INITIALIZING,vn,_),f.off(D.default.REPRESENTATION_SWITCH,pn,_),f.off(D.default.BUFFER_LEVEL_STATE_CHANGED,Qt,_),fe(),function Tn(){C.removeEventListener("canplay",Et),C.removeEventListener("canplaythrough",Wt),C.removeEventListener("play",qt),C.removeEventListener("waiting",un),C.removeEventListener("playing",fn),C.removeEventListener("pause",wt),C.removeEventListener("error",En),C.removeEventListener("seeking",vt),C.removeEventListener("seeked",it),C.removeEventListener("timeupdate",He),C.removeEventListener("progress",ze),C.removeEventListener("ratechange",st),C.removeEventListener("loadedmetadata",at),C.removeEventListener("loadeddata",St),C.removeEventListener("stalled",ni),C.removeEventListener("ended",bt),C.removeEventListener("volumechange",xt)}()),T=null,C=null,B=null,z=null}function Te(){return parseFloat((Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ye()).toFixed(5))}function Oe(qe){var Ct=qe||B;return Ct.start+Ct.duration}function je(){var qe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&C&&C.getElement()?(qe&&z&&ie(ye()),C.play()):ne=!0}function ft(){B&&C&&C.pause()}function Ze(qe){var Ct=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Jt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&C&&qe!==(isNaN(G)?C.getTime():G)&&((Se=!0===Jt)||(G=qe),S.info("Requesting seek to time: "+qe+(Se?" (internal)":"")),z&&Rt&&ie(qe),C.setCurrentTime(qe,Ct))}function Q(){if(B&&C&&z){var qe=x&&x.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,Ct=N.getCurrentDVRInfo(qe);return Ct&&Ct.range?Ct.range.end:0}}function ie(qe){var Ct=new Date(I.getClientReferenceTime()),Jt=O.getRegularPeriods()[0],Rt=I.calcPresentationTimeFromWallTime(Ct,Jt);L=Rt-qe}function ye(){return B&&C?C.getTime():null}function oe(){return B&&C?C.isPaused():null}function ee(){return B&&C?C.isSeeking():null}function X(){return B&&C?C.isStalled():null}function $(){return B&&C?C.getPlaybackRate():null}function J(){return B&&C?C.getEnded():null}function q(){return z}function Qe(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!oe()&&z&&0!==C.getReadyState()&&!ee()&&!ge){qe||(qe=x.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var Ct=ye(),Jt=function yt(qe,Ct){var Jt=N.getCurrentDVRInfo(Ct),Rt=Jt?Jt.range:null;return Rt?qe>Rt.end?Math.max(Rt.end-L,Rt.start):qe>0&&qe+.25<Rt.start&&Math.abs(qe-Rt.start)<31536e4?le?Math.max(Rt.end-L,Rt.start):Rt.start:qe:NaN}(Ct,qe);!isNaN(Jt)&&Jt!==Ct&&!ee()&&(X()||ce||1===C.getReadyState())&&(S.debug("UpdateCurrentTime: Seek to actual time: ".concat(Jt," from currentTime: ").concat(Ct)),Ze(Jt,!1,!1))}}function Dt(){null===T&&(T=setInterval(function(){!function tn(){f.trigger(b.default.WALLCLOCK_TIME_UPDATED,{isDynamic:z,time:new Date}),q()&&(x.addDVRMetric(),oe()?function Mn(){var qe=Date.now();(!ae||qe>ae+500)&&(ae=qe,He())}():Qe())}()},Ce.get().streaming.wallclockTimeUpdateInterval))}function fe(){clearInterval(T),T=null}function We(qe){var Ct=O.convertRepresentationToRepresentationInfo(qe.currentRepresentation),Jt=Ct?Ct.mediaInfo.streamInfo:null;null===Jt||B.id!==Jt.id||(B=Jt)}function Et(){f.trigger(b.default.CAN_PLAY)}function Wt(){f.trigger(b.default.CAN_PLAY_THROUGH)}function Qt(qe){qe.streamId===x.getActiveStreamInfo().id&&(ce=qe.state===m.default.BUFFER_EMPTY,Ce.get().streaming.buffer.setStallState&&C.setStallState(qe.mediaType,qe.state===m.default.BUFFER_EMPTY))}function qt(){S.info("Native video element event: play"),Qe(),Dt(),f.trigger(b.default.PLAYBACK_STARTED,{startTime:ye()})}function un(){S.info("Native video element event: waiting"),f.trigger(b.default.PLAYBACK_WAITING,{playingTime:ye()})}function fn(){S.info("Native video element event: playing"),Se=!1,f.trigger(b.default.PLAYBACK_PLAYING,{playingTime:ye()})}function wt(){S.info("Native video element event: pause"),f.trigger(b.default.PLAYBACK_PAUSED,{ended:J()})}function vt(){if(!Se){var qe=ye();!isNaN(G)&&G!==qe&&(qe=G),G=NaN,S.info("Seeking to: "+qe),Dt(),f.trigger(b.default.PLAYBACK_SEEKING,{seekTime:qe,streamId:B.id})}}function it(){S.info("Native video element event: seeked"),Se=!1,f.trigger(b.default.PLAYBACK_SEEKED)}function He(){B&&f.trigger(b.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Te(),time:ye(),streamId:B.id})}function ze(){f.trigger(b.default.PLAYBACK_PROGRESS,{streamId:B.id})}function st(){var qe=$();S.info("Native video element event: ratechange: ",qe),f.trigger(b.default.PLAYBACK_RATE_CHANGED,{playbackRate:qe})}function at(){S.info("Native video element event: loadedmetadata"),f.trigger(b.default.PLAYBACK_METADATA_LOADED),Dt()}function St(){S.info("Native video element event: loadeddata"),f.trigger(b.default.PLAYBACK_LOADED_DATA)}function bt(){S.info("Native video element event: ended"),ft(),fe();var qe=x?x.getActiveStreamInfo():null;qe&&f.trigger(b.default.PLAYBACK_ENDED,{isLast:qe.isLast})}function xt(){f.trigger(b.default.PLAYBACK_VOLUME_CHANGED)}function on(qe){if(T&&qe.isLast){S.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Ct=qe.seekTime?qe.seekTime:Oe();C.setCurrentTime(Ct),ft(),fe()}}function En(qe){f.trigger(b.default.PLAYBACK_ERROR,{error:(qe.target||qe.srcElement).error})}function $n(qe){if(!1===qe.stream&&le&&!isNaN(qe.request.duration)){var Ct=1.2*qe.request.duration;Ct>L&&(S.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ct.toFixed(2)),L=Ct,y=Ct)}}function ni(qe){f.trigger(b.default.PLAYBACK_STALLED,{e:qe})}function vn(qe){!function At(qe){qe&&qe.supplementalProperties&&"true"===qe.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(S.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),le=!0)}(qe.mediaInfo)}function pn(qe){var Ct=x.getActiveStreamInfo();!qe||!Ct||!qe.currentRepresentation||!qe.streamId||qe.streamId!==Ct.id||!qe.mediaType||qe.mediaType!==t.default.VIDEO&&qe.mediaType!==t.default.AUDIO||(le=!qe.currentRepresentation.availabilityTimeComplete)&&!Ie&&(Ie=!0)}function mn(){ge=!0}function _n(){ge=!1}return _={initialize:function ke(qe,Ct){B=qe,!0!==Ct&&function he(){(function ht(){C.addEventListener("canplay",Et),C.addEventListener("canplaythrough",Wt),C.addEventListener("play",qt),C.addEventListener("waiting",un),C.addEventListener("playing",fn),C.addEventListener("pause",wt),C.addEventListener("error",En),C.addEventListener("seeking",vt),C.addEventListener("seeked",it),C.addEventListener("timeupdate",He),C.addEventListener("progress",ze),C.addEventListener("ratechange",st),C.addEventListener("loadedmetadata",at),C.addEventListener("loadeddata",St),C.addEventListener("stalled",ni),C.addEventListener("ended",bt),C.addEventListener("volumechange",xt)})(),z=B.manifestInfo.isDynamic,ce=!1,Se=!1,f.on(b.default.DATA_UPDATE_COMPLETED,We,_),f.on(b.default.LOADING_PROGRESS,$n,_),f.on(b.default.MANIFEST_UPDATED,mn,_),f.on(b.default.STREAMS_COMPOSED,_n,_),f.on(D.default.PLAYBACK_ENDED,on,_,{priority:v.default.EVENT_PRIORITY_HIGH}),f.on(D.default.STREAM_INITIALIZING,vn,_),f.on(D.default.REPRESENTATION_SWITCH,pn,_),f.on(D.default.BUFFER_LEVEL_STATE_CHANGED,Qt,_),ne&&(ne=!1,je())}()},setConfig:function gt(qe){qe&&(qe.streamController&&(x=qe.streamController),qe.serviceDescriptionController&&(A=qe.serviceDescriptionController),qe.dashMetrics&&(N=qe.dashMetrics),qe.adapter&&(O=qe.adapter),qe.videoModel&&(C=qe.videoModel),qe.timelineConverter&&(I=qe.timelineConverter),qe.settings&&(Ce=qe.settings))},getTimeToStreamEnd:Te,getBufferLevel:function In(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ct=null;return x.getActiveStreamProcessors().forEach(function(Jt){if(!qe||0===qe.length||-1===qe.indexOf(Jt.getType())){var Rt=Jt.getBufferLevel();Ct=null===Ct?Rt:Math.min(Ct,Rt)}}),Ct},getPlaybackStalled:function we(){return ce},getTime:ye,getLowLatencyModeEnabled:function Nn(){return le},getInitialCatchupModeActivated:function yn(){return Ie},getIsManifestUpdateInProgress:function xe(){return ge},getPlaybackRate:$,getPlayedRanges:function re(){return B&&C?C.getPlayedRanges():null},getEnded:J,getIsDynamic:q,getStreamController:function _e(){return x},computeAndSetLiveDelay:function tt(qe,Ct){var Jt,Rt,xn,Nt=!isNaN(qe)&&isFinite(qe)?qe:NaN,en=O.getSuggestedPresentationDelay(),An=A.getServiceDescriptionSettings();return Jt=isNaN(Ce.get().streaming.delay.liveDelay)?null===Ce.get().streaming.delay.liveDelayFragmentCount||isNaN(Ce.get().streaming.delay.liveDelayFragmentCount)||isNaN(Nt)?An&&!isNaN(An.liveDelay)&&An.liveDelay>0?An.liveDelay:!0===Ce.get().streaming.delay.useSuggestedPresentationDelay&&null!==en&&!isNaN(en)&&en>0?en:isNaN(Nt)?Ct&&!isNaN(Ct.minBufferTime)?4*Ct.minBufferTime:4*B.manifestInfo.minBufferTime:4*Nt:Nt*Ce.get().streaming.delay.liveDelayFragmentCount:Ce.get().streaming.delay.liveDelay,null!==(xn=O.getAvailabilityStartTime())&&(Fe=xn),Rt=Ct&&Ct.dvrWindowSize>0?Math.min(Jt,Ct.dvrWindowSize):Jt,L=Rt,y=Rt,Rt},getLiveDelay:function Ge(){return L},getOriginalLiveDelay:function ct(){return y},getCurrentLiveLatency:function Xe(){if(!z||isNaN(Fe))return NaN;var qe=ye();if(isNaN(qe)||0===qe)return 0;var Ct=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((Ct-Fe-1e3*qe)/1e3).toFixed(3),0)},play:je,isPaused:oe,isStalled:X,pause:ft,isSeeking:ee,getStreamEndTime:Oe,seek:Ze,seekToOriginalLive:function Re(){var qe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ct=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Jt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=Q();0!==Rt&&Ze(Rt-(L=y),qe,Ct,Jt)},seekToCurrentLive:function be(){var qe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ct=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Jt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=Q();0!==Rt&&Ze(Rt-L,qe,Ct,Jt)},reset:Ae,updateCurrentTime:Qe,getAvailabilityStartTime:function Ee(){return Fe}},function pe(){S=Object(P.default)(d).getInstance().getLogger(_),Ae()}(),_}c.__dashjs_factory_name="PlaybackController",p.default=g.default.getSingletonFactory(c)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function c(d){d=d||{};var y,B,z,ne,ae,Fe,Y,le,G,Se,ce,ge,Ie,f=this.context,_=Object(b.default)(f).getInstance(),S=d.dashMetrics,x=d.mediaPlayerModel,A=d.fragmentModel,N=d.abrController,O=d.playbackController,C=d.textController,I=d.type,T=d.bufferController,L=d.settings;function we(yt){if(!T.getIsBufferingCompleted()){Te();var Dt=isNaN(yt)?0:yt;Fe=setTimeout(je,Dt)}}function Te(){Fe&&(clearTimeout(Fe),Fe=null)}function je(){try{if(function Ze(){try{return I===t.default.TEXT&&!C.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!L.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Te();if(function Re(){try{return ne&&(isNaN(Se)||ce||function Oe(){var Dt=N.getMaxAllowedIndexFor(I,B.id);return!(!isNaN(G)&&G==Dt||(z.info("Top quality "+I+" index has changed from "+G+" to "+Dt),G=Dt,0))}()||function be(){return!I||!ne||S.getCurrentBufferLevel(I)<Q()}())}catch{return!1}}()){var yt=!1;Ie&&(yt=N.checkPlaybackQuality(I,B.id)),yt||function ft(){ge||ne.quality!==Se||ce?(ce?(z.debug("Switch track for "+I+", representation id = "+ne.id),ce=!1):z.debug("Quality has changed, get init request for representationid = "+ne.id),_.trigger(g.default.INIT_FRAGMENT_NEEDED,{representationId:ne.id,sender:y},{streamId:B.id,mediaType:I}),Ie=!1,ge=!1):(z.debug("Media segment needed for ".concat(I," and stream id ").concat(B.id)),_.trigger(g.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:I}),Ie=!0)}()}else we(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}catch{we(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}}function Q(){var yt=NaN;return!I||!ne||(yt=I===t.default.TEXT?function ie(){try{if(C.isTextEnabled()){if(isNaN(ne.fragmentDuration)){var yt=S.getCurrentSchedulingInfo(m.default.SCHEDULING_INFO);return yt?yt.duration:0}return ne.fragmentDuration}return 0}catch{return 0}}():I===t.default.AUDIO&&Y?function ye(){try{var yt=S.getCurrentBufferLevel(t.default.VIDEO);return isNaN(ne.fragmentDuration)?yt+1:Math.max(yt+1,ne.fragmentDuration)}catch{return 0}}():function oe(){try{var yt=ne.mediaInfo.streamInfo;return N.isPlayingAtTopQuality(yt)?yt.manifestInfo.duration>=L.get().streaming.buffer.longFormContentDurationThreshold?L.get().streaming.buffer.bufferTimeAtTopQualityLongForm:L.get().streaming.buffer.bufferTimeAtTopQuality:x.getStableBufferTime()}catch{return x.getStableBufferTime()}}()),yt}function $(){re(!0)}function re(yt){if(O&&A){var Dt=A.getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];Dt&&O.getTime()>=Dt.startTime&&((!le.mediaInfo||Dt.mediaInfo.type===le.mediaInfo.type&&Dt.mediaInfo.id!==le.mediaInfo.id)&&yt&&_.trigger(g.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:le.mediaInfo,newMediaInfo:Dt.mediaInfo,streamId:B.id}),(Dt.quality!==le.quality||Dt.adaptationIndex!==le.adaptationIndex)&&yt&&(z.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(I)),_.trigger(g.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:le.quality,newQuality:Dt.quality,streamId:B.id})),le={mediaInfo:Dt.mediaInfo,quality:Dt.quality,adaptationIndex:Dt.adaptationIndex})}}function J(yt){z.debug("Appended bytes for ".concat(yt.mediaType," and stream id ").concat(B.id)),(isNaN(yt.index)||isNaN(Se))&&(Se=yt.quality,z.info("["+I+"] lastInitializedRepresentationInfo changed to "+yt.quality)),we(0)}function q(){A.abortRequests(),Te()}function _e(){L.get().streaming.scheduling.scheduleWhilePaused||we()}function xe(yt){S.updatePlayListTraceMetrics({playbackspeed:yt.playbackRate.toString()})}function tt(){Ie=!0,ae=0,Se=NaN,le={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},G=NaN,ce=!1,ge=!1}return y={initialize:function pe(yt){Y=yt,_.on(g.default.BYTES_APPENDED_END_FRAGMENT,J,y),_.on(g.default.URL_RESOLUTION_FAILED,q,y),_.on(i.default.PLAYBACK_STARTED,_e,y),_.on(i.default.PLAYBACK_RATE_CHANGED,xe,y),_.on(i.default.PLAYBACK_TIME_UPDATED,$,y)},getType:function Ae(){return I},getStreamId:function ke(){return B.id},setCurrentRepresentation:function he(yt){ne=yt},setTimeToLoadDelay:function Ee(yt){ae=yt},getTimeToLoadDelay:function Ge(){return ae},setSwitchTrack:function ee(yt){ce=yt},getSwitchStrack:function X(){return ce},startScheduleTimer:we,clearScheduleTimer:Te,reset:function gt(){_.off(g.default.BYTES_APPENDED_END_FRAGMENT,J,y),_.off(g.default.URL_RESOLUTION_FAILED,q,y),_.off(i.default.PLAYBACK_STARTED,_e,y),_.off(i.default.PLAYBACK_RATE_CHANGED,xe,y),_.off(i.default.PLAYBACK_TIME_UPDATED,$,y),Te(),re(!1),tt(),B=null},getBufferTarget:Q,getPlaybackController:function Qe(){return O},setCheckPlaybackQuality:function ct(yt){Ie=yt},setInitSegmentRequired:function Xe(yt){ge=yt}},function Ce(){z=Object(D.default)(f).getInstance().getLogger(y),tt(),B=d.streamInfo}(),y}c.__dashjs_factory_name="ScheduleController",p.default=P.default.getClassFactory(c)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../Stream */
"./src/streaming/Stream.js"),g=e(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),P=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),c=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),f=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),_=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),S=e(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),x=e(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),A=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),N=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=e(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),C=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(Y){return function B(Y){if(Array.isArray(Y))return z(Y)}(Y)||function y(Y){if(typeof Symbol<"u"&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}(Y)||function L(Y,le){if(Y){if("string"==typeof Y)return z(Y,le);var G=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===G&&Y.constructor&&(G=Y.constructor.name),"Map"===G||"Set"===G)return Array.from(Y);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return z(Y,le)}}(Y)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(Y,le){(null==le||le>Y.length)&&(le=Y.length);for(var G=0,Se=new Array(le);G<le;G++)Se[G]=Y[G];return Se}function Fe(){var G,Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,ye,oe,ee,X,$,re,J,q,_e,xe,Ee,Ge,ct,Xe,tt,gt,Qe,yt,Dt,fe,We,Et,Wt,Qt,qt,un,fn,wt,vt,Y=this.context,le=Object(P.default)(Y).getInstance();function at(){if(!(Ce&&Ce.hasOwnProperty("load")&&oe&&oe.hasOwnProperty("initialize")&&oe.hasOwnProperty("reset")&&oe.hasOwnProperty("getClientTimeOffset")&&pe&&ye&&ke&&Xe))throw new Error(t.default.MISSING_CONFIG_ERROR)}function on(){!function tn(){try{var Dn=Ae.getStreamsInfo();if(!X&&0===Dn.length)throw new Error("There are no periods in the MPD");X&&Dn.length>0&&ke.updateManifestUpdateInfo({currentTime:Xe.getTime(),buffered:ct.getBufferRange(),presentationStartTime:Dn[0].start,clientTimeOffset:oe.getClientTimeOffset()}),ee.length>0&&function Ko(Dn){0!==Dn.length?ee=ee.filter(function(qn){var li=Dn.filter(function(Hi){return Hi.id===qn.getId()}).length>0||qn.getId()===X.getId();return li||(Se.debug("Removing stream ".concat(qn.getId())),qn.reset(!0)),li}):Se.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Dn);for(var qn=[],mi=0,li=Dn.length;mi<li;mi++){var Hi=Dn[mi];qn.push(Mn(Hi)),ke.addManifestUpdateStreamInfo(Hi)}Promise.all(qn).then(function(){return qt.get().streaming.applyContentSteering&&!X&&Te.shouldQueryBeforeStart()?Te.loadSteeringData():Promise.resolve()}).then(function(){X||In(Dn),le.trigger(D.default.STREAMS_COMPOSED),An()}).catch(function(Qi){throw Qi})}catch(Qi){ye.error(new A.default(N.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Qi.message+" nostreamscomposed",pe.getValue())),Ee=!0,Do()}}()}function En(){un=!0}function Mn(Dn){var qn=Tr(Dn.id);return qn?qn.updateData(Dn):(qn=Object(b.default)(Y).create({manifestModel:pe,mediaPlayerModel:gt,dashMetrics:ke,manifestUpdater:Ie,adapter:Ae,timelineConverter:oe,capabilities:ce,capabilitiesFilter:ge,errHandler:ye,baseURLController:Oe,segmentBaseController:je,textController:re,abrController:Ze,playbackController:Xe,eventController:be,mediaController:Re,protectionController:$,videoModel:ct,streamInfo:Dn,settings:qt}),ee.push(qn),qn.initialize(),Promise.resolve())}function In(Dn){Ct();var qn=ke.getCurrentDVRInfo().range;if(qn.end<qn.start){fn&&clearTimeout(fn);var mi=Math.min(1e3*(-1*(qn.end-qn.start)+2),2147483647);return Se.debug("Waiting for ".concat(mi," ms before playback can start")),le.trigger(D.default.AST_IN_FUTURE,{delay:mi}),void(fn=setTimeout(function(){In(Dn)},mi))}qt.get().streaming.applyProducerReferenceTime&&tt.calculateProducerReferenceTimeOffsets(Dn);var li=Dn[0].manifestInfo;if(qt.get().streaming.applyServiceDescription&&tt.applyServiceDescription(li),Ae.getIsDynamic()){var Hi=Co(Dn,li);Xe.computeAndSetLiveDelay(Hi,li)}var Qi=function Zr(){var Dn;if(Ae.getIsDynamic()){var mi=ke.getCurrentDVRInfo();Dn=(mi&&mi.range?mi.range.end:0)-Xe.getOriginalLiveDelay();var Hi=mi?mi.range:null;if(Hi){if(isNaN(wt)&&-1===wt.toString().indexOf("posix:")){var sr=Hr(!0);isNaN(sr)||(Se.info("Start time from URI parameters: ".concat(sr)),Dn=Math.min(Dn,sr))}else{Se.info("Start time provided by the app: ".concat(wt));var Qi=Fi(!0,wt);isNaN(Qi)||(Dn=Math.min(Dn,Qi))}var Wi=qt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Dn=Math.max(Dn,Hi.start+Wi)}}else if(Dn=mo()[0].getStreamInfo().start,isNaN(wt)){var ko=Hr(!1);isNaN(ko)||(Se.info("Start time from URI parameters: ".concat(ko)),Dn=Math.max(Dn,ko))}else{Se.info("Start time provided by the app: ".concat(wt));var Lo=Fi(!1,wt);isNaN(Lo)||(Dn=Math.max(Dn,Lo))}return Dn}(),sr=qe(Qi),Wi=null!==sr?sr:ee[0];le.trigger(D.default.INITIAL_STREAM_SWITCH,{startTime:Qi}),Nn(Wi,null,Qi),function Kn(){We||(We=setInterval(function(){!_e&&Xe.getTimeToStreamEnd()<=0&&!Xe.isSeeking()&&le.trigger(D.default.PLAYBACK_ENDED,{isLast:lo().isLast})},200))}()}function Nn(Dn,qn,mi){try{if(_e||!Dn||qn===Dn&&Dn.getIsActive())return;_e=!0,le.trigger(D.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:qn?qn.getStreamInfo():null,toStreamInfo:Dn.getStreamInfo()});var li=!1;X=Dn,qn&&(li=ht(Dn,qn),qn.deactivate(li)),mi=isNaN(mi)?!li&&qn?Dn.getStreamInfo().start:NaN:mi,Se.info("Switch to stream ".concat(Dn.getId(),". Seektime is ").concat(mi,", current playback time is ").concat(Xe.getTime(),". Seamless period switch is set to ").concat(li)),Wt=Wt.filter(function(Hi){return Hi.getId()!==X.getId()}),Xe.initialize(lo(),!!qn),ct.getElement()&&$n(mi,li)}catch{_e=!1}}function $n(Dn,qn){var mi;function li(){if(Ge&&"open"===Ge.readyState){Se.debug("MediaSource is open!"),window.URL.revokeObjectURL(mi),Ge.removeEventListener("sourceopen",li),Ge.removeEventListener("webkitsourceopen",li),ln();var Qi=ke.getCurrentDVRInfo();he.setSeekable(Qi.range.start,Qi.range.end),ni(Dn,qn)}}function Hi(){Ge.addEventListener("sourceopen",li,!1),Ge.addEventListener("webkitsourceopen",li,!1),mi=he.attachMediaSource(ct),Se.debug("MediaSource attached to element.  Waiting on open...")}Ge?qn?ni(Dn,qn):(he.detachMediaSource(ct),Hi()):(Ge=he.createMediaSource(),Hi())}function ni(Dn,qn){X.activate(Ge,qn?Et:void 0,Dn).then(function(mi){if(mi){var li=Object.keys(mi);li.length>0&&mi[li[0]].getBuffer().changeType&&(Qt=!0),Et=mi}isNaN(Dn)||(le.trigger(D.default.SEEK_TARGET,{time:Dn},{streamId:X.getId()}),Xe.seek(Dn,!1,!0),X.startScheduleControllers()),_e=!1,le.trigger(D.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:lo()})})}function vn(Dn){var mi=qe(Dn.seekTime);mi&&mi!==X?mi&&mi!==X&&(pn(),function _n(Dn,qn){var mi=Dn&&!isNaN(Dn.seekTime)?Dn.seekTime:NaN,Hi=X.getProcessors().map(function(Qi){return Qi.prepareOuterPeriodPlaybackSeeking(Dn)});Promise.all(Hi).then(function(){Nn(qn,X,mi)}).catch(function(Qi){ye.error(Qi)})}(Dn,mi)):(pn(),function mn(Dn){X.getProcessors().forEach(function(mi){return mi.prepareInnerPeriodPlaybackSeeking(Dn)}),ao(i.PlayListTrace.USER_REQUEST_STOP_REASON)}(Dn)),Vr(i.PlayList.SEEK_START_REASON)}function pn(){yn()}function yn(){Wt&&Wt.length>0&&(Wt.forEach(function(Dn){Dn.deactivate(!0)}),Wt=[])}function At(Dn){Dn.newMediaInfo.streamInfo.id===X.getId()&&(yn(),X.prepareTrackChange(Dn))}function ht(Dn,qn){try{return qt.get().streaming.buffer.reuseExistingSourceBuffers&&(qn.isProtectionCompatible(Dn)||un)&&(Qt||qn.isMediaCodecCompatible(Dn,qn))}catch{return!1}}function Tn(Dn){var qn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ge&&!Dn.getPreloaded()&&ht(Dn,qn)&&Dn.startPreloading(Ge,Et).then(function(){Wt.push(Dn)})}function qe(Dn){if(isNaN(Dn))return null;for(var qn=ee.length,mi=0;mi<qn;mi++){var li=ee[mi];if(Dn<parseFloat((li.getStartTime()+li.getDuration()).toFixed(5)))return li}return null}function Ct(){try{var Dn=Ae.getIsDynamic(),mi=Ae.getStreamsInfo()[0].manifestInfo,li=Xe.getTime(),Hi=oe.calcTimeShiftBufferWindow(ee,Dn),Qi=On();if(typeof Hi.start>"u"||typeof Hi.end>"u")return;Qi&&0!==Qi.length?Qi.forEach(function(sr){ke.addDVRInfo(sr.getType(),li,mi,Hi)}):ke.addDVRInfo(t.default.VIDEO,li,mi,Hi)}catch{}}function Jt(Dn){if(Dt&&q){var qn=gt.getInitialBufferLevel(),mi=[t.default.TEXT];(isNaN(qn)||qn<=Xe.getBufferLevel(mi)||Ae.getIsDynamic()&&qn>Xe.getLiveDelay())&&(Dt=!1,Vr(i.PlayList.INITIAL_PLAYOUT_START_REASON),Xe.play())}Dn&&Dn.mediaType&&ke.addBufferLevel(Dn.mediaType,new Date,1e3*Dn.bufferLevel)}function Rt(Dn){Dn.streamInfo.id===X.getId()&&Dn.reason&&Dn.reason.forceReplace&&yn(),Tr(Dn.streamInfo.id).prepareQualityChange(Dn)}function xn(){if(Ae.getIsDynamic()&&0!==Xe.getOriginalLiveDelay()&&X){var Dn=Ae.getStreamsInfo();if(Dn.length>0){var qn=Dn[0].manifestInfo,mi=Co(Dn,qn);Xe.computeAndSetLiveDelay(mi,qn)}}}function kt(){if(zi()){var Dn=ct.getPlaybackQuality();Dn&&ke.addDroppedFrames(Dn)}}function It(){Se.debug("[onPlaybackStarted]"),!Dt&&yt&&Vr(i.PlayList.RESUME_FROM_PAUSE_START_REASON),Dt&&(Dt=!1),fe&&(fe=!1,qt.get().streaming.applyContentSteering&&!Te.shouldQueryBeforeStart()&&Te.loadSteeringData()),yt=!1}function Nt(Dn){Se.debug("[onPlaybackPaused]"),Dn.ended||(yt=!0,ao(i.PlayListTrace.USER_REQUEST_STOP_REASON))}function en(Dn){Se.debug("Stream with id ".concat(Dn.streamInfo.id," finished buffering")),Ge&&Dn.streamInfo.isLast?(Se.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),he.signalEndOfStream(Ge)):An()}function An(){if(X&&X.getHasFinishedBuffering())for(var Dn=function Pt(){var Dn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var qn=Dn||X||null;if(qn){var mi=qn.getStreamInfo();return ee.filter(function(li){var Hi=li.getStreamInfo();return Hi.start>mi.start&&mi.id!==Hi.id})}}catch{return[]}}(X),qn=0;qn<Dn.length;){var mi=Dn[qn],li=0===qn?X:Dn[qn-1];!mi.getPreloaded()&&li.getHasFinishedBuffering()&&Ge&&Tn(mi,li),qn+=1}}function Xn(){We&&(clearInterval(We),We=null)}function On(){return X?X.getProcessors():[]}function Ne(Dn){if(X&&!X.getIsEndedEventSignaled()){X.setIsEndedEventSignaled(!0);var qn=function Ft(){var qn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||X||null;if(!qn)return null;for(var mi=qn.getStreamInfo(),li=mi.start,Hi=0,Qi=-1,sr=NaN;Hi<ee.length;){var Ir=ee[Hi].getStreamInfo(),Io=Ir.start-li;Io>0&&(isNaN(sr)||Io<sr)&&mi.id!==Ir.id&&(sr=Io,Qi=Hi),Hi+=1}return Qi>=0?ee[Qi]:null}();qn?(Se.debug("StreamController onEnded, found next stream with id ".concat(qn.getStreamInfo().id,". Switching from ").concat(X.getStreamInfo().id," to ").concat(qn.getStreamInfo().id)),Nn(qn,X,NaN)):(Se.debug("StreamController no next stream found"),X.setIsEndedEventSignaled(!1)),ao(qn?i.PlayListTrace.END_OF_PERIOD_STOP_REASON:i.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Dn&&Dn.isLast&&(Xn(),Te.stopSteeringRequestTimer())}function ln(Dn){var qn=Dn||lo().manifestInfo.duration;he.setDuration(qn)}function Hr(Dn){var qn=ft.getURIFragmentData();if(!qn||!qn.t)return NaN;var li=mo()[0].getStreamInfo().start;return qn.t=qn.t.split(",")[0],Pi(Dn,qn.t,li)}function Fi(Dn,qn){var mi=0;return Dn||(mi=mo()[0].getStreamInfo().start),Pi(Dn,qn,mi)}function Pi(Dn,qn,mi){var li=Ae.getRegularPeriods()[0],Hi=qn.toString(),Qi=-1!==Hi.indexOf("posix:")?"now"===Hi.substring(6)?Date.now()/1e3:parseFloat(Hi.substring(6)):NaN;return Dn&&!isNaN(Qi)?oe.calcPresentationTimeFromWallTime(new Date(1e3*Qi),li):parseFloat(Hi)+mi}function Co(Dn,qn){try{var mi=NaN;if(qn&&!isNaN(qn.maxFragmentDuration)&&isFinite(qn.maxFragmentDuration))return qn.maxFragmentDuration;if(Dn&&1===Dn.length){var li=Dn[0],Qi=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(sr,Wi){var Ir=Ae.getMediaInfoForType(li,Wi);return Ir&&!1!==Ir.isFragmented&&sr.push(Ir),sr},[]).reduce(function(sr,Wi){var Ir=Ae.getVoRepresentations(Wi);return Ir&&Ir.length>0&&Ir.forEach(function(Io){Io&&sr.push(Io)}),sr},[]).reduce(function(sr,Wi){var Ir=Ae.convertRepresentationToRepresentationInfo(Wi);return Ir&&Ir.fragmentDuration&&!isNaN(Ir.fragmentDuration)&&sr.push(Ir.fragmentDuration),sr},[]);mi=Math.max.apply(Math,I(Qi))}return isFinite(mi)?mi:NaN}catch{return NaN}}function vs(Dn){if(Dn.error)Ee=!0,Do();else{Se.info("Manifest updated... updating data system wide.");var qn=Dn.manifest;Ae.updatePeriods(qn);var mi=Ae.getUTCTimingSources();Ae.getIsDynamic()&&(!mi||0===mi.length)&&le.trigger(_.default.CONFORMANCE_VIOLATION,{level:C.default.LEVELS.WARNING,event:C.default.EVENTS.NO_UTC_TIMING_ELEMENT});var li=Ae.getIsDynamic()?mi.concat(Qe.getUTCTimingSources()):mi,Hi=ie.isHTTPS(Dn.manifest.url);li.forEach(function(Qi){Qi.value.replace(/.*?:\/\//g,"")===qt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Qi.value=Qi.value.replace(Hi?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Hi?"https://":"http://"),Se.debug("Matching default timing source protocol to manifest protocol: ",Qi.value))}),ge.filterUnsupportedFeatures(qn).then(function(){Oe.initialize(qn),we.attemptSync(li,Ae.getIsDynamic())})}}function zi(){return!!X&&X.getHasVideoTrack()}function jr(){return!!X&&X.getHasAudioTrack()}function ao(Dn,qn){qn=qn||new Date,On().forEach(function(mi){mi.finalisePlayList(qn,Dn)}),ke.addPlayList()}function Vr(Dn){ke.createPlaylistMetrics(1e3*Xe.getTime(),Dn)}function rs(Dn){if(Dn.error){var qn="";switch(Dn.error.code){case 1:qn="MEDIA_ERR_ABORTED";break;case 2:qn="MEDIA_ERR_NETWORK";break;case 3:qn="MEDIA_ERR_DECODE",vt.counts.mediaErrorDecode+=1;break;case 4:qn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:qn="MEDIA_ERR_ENCRYPTED";break;default:qn="UNKNOWN"}if("MEDIA_ERR_DECODE"===qn&&qt.get().errors.recoverAttempts.mediaErrorDecode>=vt.counts.mediaErrorDecode)return void function xr(){Se.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Dn=Xe.getTime();X.deactivate(!1),Se.warn("MediaSource has been resetted. Resuming playback from time ".concat(Dn)),$n(Dn,!1)}();xe=!0,Dn.error.message&&(qn+=" ("+Dn.error.message+")"),Dn.error.msExtendedCode&&(qn+=" (0x"+(Dn.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Se.fatal("Video Element Error: "+qn),Dn.error&&Se.fatal(Dn.error),ye.error(new A.default(Dn.error.code,qn)),Do()}}function lo(){return X?X.getStreamInfo():null}function Tr(Dn){for(var qn=0,mi=ee.length;qn<mi;qn++)if(ee[qn].getId()===Dn)return ee[qn];return null}function yi(Dn){isNaN(Dn.newDuration)||ln(Dn.newDuration)}function Kr(){ee=[],wt=NaN,$=null,_e=!1,X=null,xe=!1,Ee=!1,Dt=!0,fe=!0,yt=!1,q=!0,We=null,un=!1,Qt=!1,Wt=[],fn=null,vt={counts:{mediaErrorDecode:0}}}function Do(){at(),we.reset(),ao(xe||Ee?i.PlayListTrace.FAILURE_STOP_REASON:i.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Dn=0,qn=ee?ee.length:0;Dn<qn;Dn++)ee[Dn].reset(xe);(function st(){le.off(_.default.PLAYBACK_TIME_UPDATED,kt,G),le.off(_.default.PLAYBACK_SEEKING,vn,G),le.off(_.default.PLAYBACK_ERROR,rs,G),le.off(_.default.PLAYBACK_STARTED,It,G),le.off(_.default.PLAYBACK_PAUSED,Nt,G),le.off(_.default.PLAYBACK_ENDED,Ne,G),le.off(_.default.METRIC_ADDED,$r,G),le.off(_.default.MANIFEST_VALIDITY_CHANGED,yi,G),le.off(_.default.BUFFER_LEVEL_UPDATED,Jt,G),le.off(_.default.QUALITY_CHANGE_REQUESTED,Rt,G),D.default.KEY_SESSION_UPDATED&&le.off(D.default.KEY_SESSION_UPDATED,En,G),le.off(D.default.MANIFEST_UPDATED,vs,G),le.off(D.default.STREAM_BUFFERING_COMPLETED,en,G),le.off(D.default.TIME_SYNCHRONIZATION_COMPLETED,on,G),le.off(D.default.CURRENT_TRACK_CHANGED,At,G),le.off(D.default.SETTING_UPDATED_LIVE_DELAY,xn,G),le.off(D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,xn,G)})(),Oe.reset(),Ie.reset(),be.reset(),ke.clearAllCurrentMetrics(),pe.setValue(null),Ce.reset(),oe.reset(),Q.reset(),Ge&&(he.detachMediaSource(ct),Ge=null),ct=null,$&&($=null,J=null,pe.getValue()&&le.trigger(D.default.PROTECTION_DESTROYED,{data:pe.getValue().url})),Xn(),le.trigger(D.default.STREAM_TEARDOWN_COMPLETE),Kr()}function $r(Dn){if(Dn.metric===v.default.DVR_INFO){var qn=jr()?t.default.AUDIO:t.default.VIDEO;Dn.mediaType===qn&&he.setSeekable(Dn.value.range.start,Dn.value.range.end)}}function mo(){return ee}return G={initialize:function He(Dn,qn){at(),q=Dn,J=qn,oe.initialize(),(Ie=Object(g.default)(Y).create()).setConfig({manifestModel:pe,adapter:Ae,manifestLoader:Ce,errHandler:ye,settings:qt}),Ie.initialize(),(be=Object(O.default)(Y).getInstance()).setConfig({manifestUpdater:Ie,playbackController:Xe,settings:qt}),be.start(),we.setConfig({dashMetrics:ke,baseURLController:Oe,errHandler:ye,settings:qt}),we.initialize(),$&&(le.trigger(D.default.PROTECTION_CREATED,{controller:$}),$.setMediaElement(ct.getElement()),J&&$.setProtectionData(J)),function ze(){le.on(_.default.PLAYBACK_TIME_UPDATED,kt,G),le.on(_.default.PLAYBACK_SEEKING,vn,G),le.on(_.default.PLAYBACK_ERROR,rs,G),le.on(_.default.PLAYBACK_STARTED,It,G),le.on(_.default.PLAYBACK_PAUSED,Nt,G),le.on(_.default.PLAYBACK_ENDED,Ne,G),le.on(_.default.METRIC_ADDED,$r,G),le.on(_.default.MANIFEST_VALIDITY_CHANGED,yi,G),le.on(_.default.BUFFER_LEVEL_UPDATED,Jt,G),le.on(_.default.QUALITY_CHANGE_REQUESTED,Rt,G),D.default.KEY_SESSION_UPDATED&&le.on(D.default.KEY_SESSION_UPDATED,En,G),le.on(D.default.MANIFEST_UPDATED,vs,G),le.on(D.default.STREAM_BUFFERING_COMPLETED,en,G),le.on(D.default.TIME_SYNCHRONIZATION_COMPLETED,on,G),le.on(D.default.CURRENT_TRACK_CHANGED,At,G),le.on(D.default.SETTING_UPDATED_LIVE_DELAY,xn,G),le.on(D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,xn,G)}()},getActiveStreamInfo:lo,addDVRMetric:Ct,hasVideoTrack:zi,hasAudioTrack:jr,getStreamById:Tr,getStreamForTime:qe,getTimeRelativeToStreamId:function Ut(Dn,qn){for(var mi=null,li=0,Hi=0,Qi=null,sr=0;sr<ee.length;sr++){if(Hi=(mi=ee[sr]).getStartTime(),Qi=mi.getDuration(),Number.isFinite(Hi)&&(li=Hi),mi.getId()===qn)return Dn-li;Number.isFinite(Qi)&&(li+=Qi)}return null},load:function bt(Dn){var qn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;at(),wt=qn,Ce.load(Dn)},loadWithManifest:function xt(Dn){var qn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function St(){if(!Ie||!Ie.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),wt=qn,Ie.setManifest(Dn)},getActiveStreamProcessors:On,setConfig:function $i(Dn){Dn&&(Dn.capabilities&&(ce=Dn.capabilities),Dn.capabilitiesFilter&&(ge=Dn.capabilitiesFilter),Dn.manifestLoader&&(Ce=Dn.manifestLoader),Dn.manifestModel&&(pe=Dn.manifestModel),Dn.mediaPlayerModel&&(gt=Dn.mediaPlayerModel),Dn.customParametersModel&&(Qe=Dn.customParametersModel),Dn.protectionController&&($=Dn.protectionController),Dn.adapter&&(Ae=Dn.adapter),Dn.dashMetrics&&(ke=Dn.dashMetrics),Dn.errHandler&&(ye=Dn.errHandler),Dn.timelineConverter&&(oe=Dn.timelineConverter),Dn.videoModel&&(ct=Dn.videoModel),Dn.playbackController&&(Xe=Dn.playbackController),Dn.serviceDescriptionController&&(tt=Dn.serviceDescriptionController),Dn.contentSteeringController&&(Te=Dn.contentSteeringController),Dn.textController&&(re=Dn.textController),Dn.abrController&&(Ze=Dn.abrController),Dn.mediaController&&(Re=Dn.mediaController),Dn.settings&&(qt=Dn.settings),Dn.baseURLController&&(Oe=Dn.baseURLController),Dn.uriFragmentModel&&(ft=Dn.uriFragmentModel),Dn.segmentBaseController&&(je=Dn.segmentBaseController))},setProtectionData:function Pr(Dn){J=Dn,$&&$.setProtectionData(J)},getIsStreamSwitchInProgress:function qo(){return _e},switchToVideoElement:function ir(Dn){X&&(Xe.initialize(lo()),$n(Dn,!1))},getHasMediaOrInitialisationError:function As(){return xe||Ee},getStreams:mo,getActiveStream:function Fn(){return X},getInitialPlayback:function vi(){return Dt},getAutoPlay:function vr(){return q},reset:Do},function it(){Se=Object(c.default)(Y).getInstance().getLogger(G),we=Object(S.default)(Y).getInstance(),he=Object(x.default)(Y).getInstance(),Q=Object(d.default)(Y).getInstance(),ie=Object(f.default)(Y).getInstance(),Kr()}(),G}Fe.__dashjs_factory_name="StreamController",p.default=m.default.getSingletonFactory(Fe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),D=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var y,B,z,ne,ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,Ae,I=this.context,T=Object(b.default)(I).getInstance(),L=Object(i.default)(I).getInstance();function we(){le=[],G=[],Se=null,ce=null,Ie=null,ge=NaN,z=!1,ne=!1,Ce=ae.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function je(){!ae.get().streaming.utcSynchronization.enabled||z||ne||!Ie||!Ie.value||!Ie.schemeIdUri||isNaN(ge)||isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)||ce&&(Date.now()-ce)/1e3<30||(le=[],ne=!0,ft(isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)?2:ae.get().streaming.utcSynchronization.backgroundAttempts))}function ft(Xe){try{if(Xe<=0)return void Ee();var tt=Date.now();Fe[Ie.schemeIdUri](Ie.value,function(gt){var Qe=Date.now(),yt=Re(tt,Qe,gt);le.push(yt),ft(Xe-1)},function(){Ee()})}catch{Ee()}}function Ze(){var tt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!G||0===G.length||tt>=G.length)Q();else{var gt=G[tt];if(gt)if(Fe.hasOwnProperty(gt.schemeIdUri)){var Qe=(new Date).getTime();Fe[gt.schemeIdUri](gt.value,function(yt){var Dt=(new Date).getTime(),fe=Re(Qe,Dt,yt);Ie=gt,Q(fe)},function(){Ze(tt+1)})}else Ze(tt+1);else Q()}}function Re(Xe,tt,gt){return gt-(tt-(tt-Xe)/2)}function Q(){var Xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,tt=isNaN(Xe);tt&&ae.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function q(){var Xe=Y.getLatestMPDRequestHeaderValueByID("Date"),tt=null!==Xe?new Date(Xe).getTime():Number.NaN;isNaN(tt)?_e(!0):_e(!1,tt-Date.now())}():_e(tt,Xe)}function ye(Xe){var tt=Date.parse(Xe);return isNaN(tt)&&(tt=function ie(Xe){var Dt,fe,We=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Xe);return Dt=Date.UTC(parseInt(We[1],10),parseInt(We[2],10)-1,parseInt(We[3],10),parseInt(We[4],10),parseInt(We[5],10),We[6]&&(parseInt(We[6],10)||0),We[7]&&1e3*parseFloat(We[7])||0),We[9]&&We[10]&&(fe=60*parseInt(We[9],10)+parseInt(We[10],10),Dt+=("+"===We[8]?-1:1)*fe*60*1e3),new Date(Dt).getTime()}(Xe)),tt}function oe(Xe){return Date.parse(Xe)}function ee(Xe){return Date.parse(Xe)}function X(Xe,tt,gt){gt()}function $(Xe,tt,gt){var Qe=ye(Xe);isNaN(Qe)?gt():tt(Qe)}function re(Xe,tt,gt,Qe,yt){var Dt,fe,We=!1,Et=new XMLHttpRequest,Wt=yt?v.HTTPRequest.HEAD:v.HTTPRequest.GET,Qt=tt.match(/\S+/g);if(tt=Qt.shift(),Dt=function(){We||(We=!0,Qt.length?re(Xe,Qt.join(" "),gt,Qe,yt):Qe())},fe=function(){var fn,wt;200===Et.status&&(fn=yt?Et.getResponseHeader("Date"):Et.response,wt=Xe(fn),isNaN(wt)||(gt(wt),We=!0))},L.isRelative(tt)){var qt=Ae.resolve();qt&&(tt=L.resolve(tt,qt.url))}Et.open(Wt,tt),Et.timeout=5e3,Et.onload=fe,Et.onloadend=Dt,Et.send()}function J(Xe,tt,gt){re(ee,Xe,tt,gt,!0)}function _e(Xe,tt){if(!isNaN(ge)&&!isNaN(tt)&&!Xe&&function xe(Xe){try{var fe,tt=Ge(Xe),gt=isNaN(Ce)?30:Ce,Qe=isNaN(ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,yt=isNaN(ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Dt=isNaN(ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;tt?(fe=Math.min(gt*Qe,yt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(fe))):(fe=Math.max(gt/Qe,Dt),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(fe))),Ce=fe}catch{}}(tt),!Xe&&!isNaN(tt)){Se=Date.now(),z=!1;var gt=isNaN(ge);ge=tt,gt&&je(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(tt))}Xe&&(Ie=null,z=!1,pe.error(new t.default(P.default.TIME_SYNC_FAILED_ERROR_CODE,P.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(g.default.UPDATE_TIME_SYNC_OFFSET,{offset:tt}),T.trigger(g.default.TIME_SYNCHRONIZATION_COMPLETED)}function Ee(){if(le&&0!==le.length){var Xe=le.reduce(function(tt,gt){return tt+gt},0)/le.length;Ge(Xe)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Xe)),T.trigger(g.default.UPDATE_TIME_SYNC_OFFSET,{offset:ge=Xe})),ne=!1,ce=Date.now()}}function Ge(Xe){try{if(isNaN(ge))return!0;var tt=ae.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ae.get().streaming.utcSynchronization.maximumAllowedDrift)?ae.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Xe>=ge-tt&&Xe<=ge+tt}catch{return!0}}return y={initialize:function Te(){we(),Fe={"urn:mpeg:dash:utc:http-head:2014":J,"urn:mpeg:dash:utc:http-xsdate:2014":re.bind(null,ye),"urn:mpeg:dash:utc:http-iso:2014":re.bind(null,oe),"urn:mpeg:dash:utc:direct:2014":$,"urn:mpeg:dash:utc:http-head:2012":J,"urn:mpeg:dash:utc:http-xsdate:2012":re.bind(null,ye),"urn:mpeg:dash:utc:http-iso:2012":re.bind(null,oe),"urn:mpeg:dash:utc:direct:2012":$,"urn:mpeg:dash:utc:http-ntp:2014":X,"urn:mpeg:dash:utc:ntp:2014":X,"urn:mpeg:dash:utc:sntp:2014":X}},attemptSync:function Oe(Xe,tt){if(G=Xe,!z){if(!function be(Xe){try{if(!Xe||!ae.get().streaming.utcSynchronization.enabled)return!1;var tt=isNaN(Ce)?30:Ce;return!(Se&&tt&&!isNaN(tt))||(Date.now()-Se)/1e3>=tt}catch{return!0}}(tt))return void T.trigger(g.default.TIME_SYNCHRONIZATION_COMPLETED);z=!0,Ze()}},setConfig:function he(Xe){Xe&&(Xe.dashMetrics&&(Y=Xe.dashMetrics),Xe.baseURLController&&(Ae=Xe.baseURLController),Xe.errHandler&&(pe=Xe.errHandler),Xe.settings&&(ae=Xe.settings))},reset:function ct(){we(),T.off(g.default.ATTEMPT_BACKGROUND_SYNC,je,y)}},function ke(){B=Object(m.default)(I).getInstance().getLogger(y),T.on(g.default.ATTEMPT_BACKGROUND_SYNC,je,y)}(),y}O.__dashjs_factory_name="TimeSyncController";var C=D.default.getSingletonFactory(O);C.HTTP_TIMEOUT_MS=5e3,D.default.updateSingletonFactory(O.__dashjs_factory_name,C),p.default=C},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),D=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),m=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i="onLoad";function f(_){_=_||{};var N,O,C,I,T,L,S=this.context,x=Object(v.default)(S).getInstance(),A=Object(D.default)(S).getInstance();function Fe(Ce,pe,Ae){var he,we,ke={};ke.elements=Ce,ke.type=pe,ke.resolveType=Ae,0===ke.elements.length&&le(ke);for(var Te=0;Te<ke.elements.length;Te++)we=A.isHTTPURL((he=ke.elements[Te]).url)?he.url:he.originalContent.BaseURL+he.url,L.load(we,he,ke)}function Y(Ce){var pe,Ae,we="";if(Ae=Ce.resolveObject,(pe=Ce.element).resolvedContent){var Te=0;0===pe.resolvedContent.indexOf("<?xml")&&(Te=pe.resolvedContent.indexOf("?>")+2),we=pe.resolvedContent.substr(0,Te)+"<response>"+pe.resolvedContent.substr(Te)+"</response>",pe.resolvedContent=T.xml_str2json(we)}(function ge(Ce){var pe;for(pe=0;pe<Ce.elements.length;pe++)if(!1===Ce.elements[pe].resolved)return!1;return!0})(Ae)&&le(Ae)}function le(Ce){var Ae,ke,pe=[];if(function Se(Ce){var Ae,ke,we,Te,Oe,pe=[];for(we=Ce.elements.length-1;we>=0;we--){if(ke=(Ae=Ce.elements[we]).type+"_asArray",Ae.resolvedContent){if(Ae.resolvedContent)for(Te=0;Te<Ae.resolvedContent[ke].length;Te++)pe.push(Ae.resolvedContent[ke][Te])}else delete Ae.originalContent["xlink:actuate"],delete Ae.originalContent["xlink:href"],pe.push(Ae.originalContent);for(Ae.parentElement[ke].splice(Ae.index,1),Oe=0;Oe<pe.length;Oe++)Ae.parentElement[ke].splice(Ae.index+Oe,0,pe[Oe]);pe=[]}Ce.elements.length>0&&C.run(I)}(Ce),"onActuate"===Ce.resolveType&&x.trigger(b.default.XLINK_READY,{manifest:I}),Ce.resolveType===i)switch(Ce.type){case m.default.PERIOD:for(Ae=0;Ae<I[m.default.PERIOD+"_asArray"].length;Ae++)(ke=I[m.default.PERIOD+"_asArray"][Ae]).hasOwnProperty(m.default.ADAPTATION_SET+"_asArray")&&(pe=pe.concat(G(ke[m.default.ADAPTATION_SET+"_asArray"],ke,m.default.ADAPTATION_SET,i))),ke.hasOwnProperty(m.default.EVENT_STREAM+"_asArray")&&(pe=pe.concat(G(ke[m.default.EVENT_STREAM+"_asArray"],ke,m.default.EVENT_STREAM,i)));Fe(pe,m.default.ADAPTATION_SET,i);break;case m.default.ADAPTATION_SET:x.trigger(b.default.XLINK_READY,{manifest:I})}}function G(Ce,pe,Ae,ke){var we,Te,Oe,he=[];for(Te=Ce.length-1;Te>=0;Te--)(we=Ce[Te]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===we["xlink:href"]&&Ce.splice(Te,1);for(Te=0;Te<Ce.length;Te++)(we=Ce[Te]).hasOwnProperty("xlink:href")&&we.hasOwnProperty("xlink:actuate")&&we["xlink:actuate"]===ke&&(Oe=ce(we["xlink:href"],pe,Ae,Te,ke,we),he.push(Oe));return he}function ce(Ce,pe,Ae,ke,he,we){return{url:Ce,parentElement:pe,type:Ae,index:ke,resolveType:he,originalContent:we,resolvedContent:null,resolved:!1}}return N={resolveManifestOnLoad:function ne(Ce){T=new P.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(I=Ce).Period_asArray?Fe(G(I.Period_asArray,I,m.default.PERIOD,i),m.default.PERIOD,i):x.trigger(b.default.XLINK_READY,{manifest:I})},setMatchers:function B(Ce){Ce&&(O=Ce)},setIron:function z(Ce){Ce&&(C=Ce)},reset:function ae(){x.off(b.default.XLINK_ELEMENT_LOADED,Y,N),L&&(L.reset(),L=null)}},function y(){x.on(b.default.XLINK_ELEMENT_LOADED,Y,N),L=Object(t.default)(S).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings})}(),N}f.__dashjs_factory_name="XlinkController",p.default=g.default.getClassFactory(f)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),v=e(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),b=e(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),g=e(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),P=e(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function D(){var i=this.context;return{createMetricsReporting:function f(x){return Object(t.default)(i).getInstance({eventBus:x.eventBus,dashMetrics:x.dashMetrics,metricsConstants:x.metricsConstants,events:x.events}).initialise(),Object(b.default)(i).create(x)},getReportingFactory:function _(){return Object(P.default)(i).getInstance()},getMetricsHandlerFactory:function S(){return Object(g.default)(i).getInstance()}}}D.__dashjs_factory_name="MetricsReporting";var m=dashjs.FactoryMaker.getClassFactory(D);m.events=v.default,dashjs.FactoryMaker.updateClassFactory(D.__dashjs_factory_name,m),p.default=m},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var C=d(I);function I(){var T;return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),(T=C.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));p.default=N},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),v=e(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),b=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function g(P){var D,m={},i=this.context,c=(P=P||{}).eventBus,d=P.events;function f(A){if(!A.error){var N=Object.keys(m);Object(v.default)(i).getInstance({adapter:P.adapter,constants:P.constants}).getMetrics(A.manifest).forEach(function(C){var I=JSON.stringify(C);if(m.hasOwnProperty(I))N.splice(I,1);else try{var T=Object(t.default)(i).create(P);T.initialize(C),m[I]=T}catch{}}),N.forEach(function(C){m[C].reset(),delete m[C]}),c.trigger(b.default.METRICS_INITIALISATION_COMPLETE)}}function _(){Object.keys(m).forEach(function(A){m[A].reset()}),m={}}return D={reset:function x(){c.off(d.MANIFEST_UPDATED,f,D),c.off(d.STREAM_TEARDOWN_COMPLETE,_,D)}},function S(){c.on(d.MANIFEST_UPDATED,f,D),c.on(d.STREAM_TEARDOWN_COMPLETE,_,D)}(),D}g.__dashjs_factory_name="MetricsCollectionController",p.default=dashjs.FactoryMaker.getClassFactory(g)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),v=e(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),b=e(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function g(P){P=P||{};var D,m,i,d=this.context;function _(){D&&D.reset(),m&&m.reset(),i&&i.reset()}return{initialize:function f(S){try{(i=Object(t.default)(d).create({mediaElement:P.mediaElement})).initialize(S.Range),(m=Object(v.default)(d).create({debug:P.debug,metricsConstants:P.metricsConstants,mediaPlayerModel:P.mediaPlayerModel})).initialize(S.Reporting,i),(D=Object(b.default)(d).create({debug:P.debug,eventBus:P.eventBus,metricsConstants:P.metricsConstants,events:P.events})).initialize(S.metrics,m)}catch(x){throw _(),x}},reset:_}}g.__dashjs_factory_name="MetricsController",p.default=dashjs.FactoryMaker.getClassFactory(g)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function v(b){var P,g=[],D=this.context,m=(b=b||{}).eventBus,i=b.events,c=Object(t.default)(D).getInstance({debug:b.debug,eventBus:b.eventBus,metricsConstants:b.metricsConstants});function d(S){g.forEach(function(x){x.handleNewMetric(S.metric,S.value,S.mediaType)})}return P={initialize:function f(S,x){S.split(",").forEach(function(A,N,O){var C;if(-1!==A.indexOf("(")&&-1===A.indexOf(")")){var I=O[N+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(A+=","+I,delete O[N+1])}(C=c.create(A,x))&&g.push(C)}),m.on(i.METRIC_ADDED,d,P),m.on(i.METRIC_UPDATED,d,P)},reset:function _(){m.off(i.METRIC_ADDED,d,P),m.off(i.METRIC_UPDATED,d,P),g.forEach(function(S){return S.reset()}),g=[]}}}v.__dashjs_factory_name="MetricsHandlersController",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function v(b){var D,m,g=!1,P=this.context,i=(b=b||{}).mediaElement;return D={initialize:function c(S){S&&S.length&&(S.forEach(function(x){var A=x.starttime;m.add(A,A+x.duration)}),g=!!S[0]._useWallClockTime)},reset:function d(){m.clear()},isEnabled:function _(){var x,S=m.length;if(!S)return!0;x=g?(new Date).getTime()/1e3:i.currentTime;for(var A=0;A<S;A+=1){var N=m.start(A),O=m.end(A);if(N<=x&&x<O)return!0}return!1}},function f(){m=Object(t.default)(P).create()}(),D}v.__dashjs_factory_name="RangeController",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function v(b){var g=[],D=Object(t.default)(this.context).getInstance(b);return{initialize:function m(d,f){d.some(function(_){var S=D.create(_,f);if(S)return g.push(S),!0})},reset:function i(){g.forEach(function(d){return d.reset()}),g=[]},report:function c(d,f){g.forEach(function(_){return _.report(d,f)})}}}v.__dashjs_factory_name="ReportingController",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),v=e(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),b=e(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),g=e(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function P(D){var m,i=(D=D||{}).debug?D.debug.getLogger(m):{},c=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,d=this.context,f={BufferLevel:t.default,DVBErrors:v.default,HttpList:b.default,PlayList:g.default,RepSwitchList:g.default,TcpList:g.default};return{create:function _(A,N){var C,O=A.match(c);if(O){try{(C=f[O[1]](d).create({eventBus:D.eventBus,metricsConstants:D.metricsConstants})).initialize(O[1],N,O[3],O[5])}catch(I){C=null,i.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(I.message,")"))}return C}},register:function S(A,N){f[A]=N},unregister:function x(A){delete f[A]}}}P.__dashjs_factory_name="MetricsHandlerFactory",p.default=dashjs.FactoryMaker.getSingletonFactory(P)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function v(b){b=b||{};var P,D,m,i,c,d=this.context,f=Object(t.default)(d).getInstance(),_=[],S=b.metricsConstants;function A(){var I=function x(){try{return Object.keys(_).map(function(I){return _[I]}).reduce(function(I,T){return I.level<T.level?I:T})}catch{return}}();I&&c!==I.t&&(c=I.t,P.report(m,I))}return{initialize:function N(I,T,L){T&&(D=f.validateN(L),P=T,m=f.reconstructFullMetricName(I,L),i=setInterval(A,D))},reset:function O(){clearInterval(i),i=null,D=0,P=null,c=null},handleNewMetric:function C(I,T,L){I===S.BUFFER_LEVEL&&(_[L]=T)}}}v.__dashjs_factory_name="BufferLevelHandler",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");p.default=dashjs.FactoryMaker.getClassFactory(function v(b){var P,D=(b=b||{}).eventBus,m=b.metricsConstants;function i(){D.off(t.default.METRICS_INITIALISATION_COMPLETE,i,this),D.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function c(_,S){S&&(P=S,D.on(t.default.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function d(){P=null},handleNewMetric:function f(_,S){_===m.DVB_ERRORS&&P&&P.report(_,S)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){var b,g;return{initialize:function P(i,c){b=i,g=c},reset:function D(){g=null,b=void 0},handleNewMetric:function m(i,c){i===b&&g&&g.report(b,c)}}}e.r(p),t.__dashjs_factory_name="GenericMetricHandler",p.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function v(b){b=b||{};var P,D,m,i,c,d=[],f=Object(t.default)(this.context).getInstance(),_=b.metricsConstants;function S(){d.length&&P&&P.report(i,d),d=[]}return{initialize:function x(O,C,I,T){C&&(D=f.validateN(I),P=C,T&&T.length&&(m=T),i=f.reconstructFullMetricName(O,I,T),c=setInterval(S,D))},reset:function A(){clearInterval(c),c=null,D=null,m=null,d=[],P=null},handleNewMetric:function N(O,C){O===_.HTTP_REQUEST&&(!m||m===C.type)&&d.push(C)}}}v.__dashjs_factory_name="HttpListHandler",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function v(b){var D,g={"urn:dvb:dash:reporting:2014":t.default},P=this.context,m=(b=b||{}).debug?b.debug.getLogger(D):{},i=b.metricsConstants,c=b.mediaPlayerModel||{};return{create:function d(S,x){var A;try{(A=g[S.schemeIdUri](P).create({metricsConstants:i,mediaPlayerModel:c})).initialize(S,x)}catch(N){A=null,m.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(S.schemeIdUri," (").concat(N.message,")"))}return A},register:function f(S,x){g[S]=x},unregister:function _(S){delete g[S]}}}v.__dashjs_factory_name="ReportingFactory",p.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),v=e(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),b=e(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function g(P){var D,i,c,d,f,_,S,x,m=this.context,O=[],C=(P=P||{}).metricsConstants;function B(){f=!1,_=!1,S=null,x=null}return D={report:function L(ne,ae){Array.isArray(ae)||(ae=[ae]),_&&x.isEnabled()&&ae.forEach(function(Fe){var Y=i.serialise(Fe);ne!==C.DVB_ERRORS&&(Y="metricname=".concat(ne,"&").concat(Y)),function T(ne,ae,Fe){var Y=new XMLHttpRequest;Y.withCredentials=c.getXHRWithCredentialsForType(C.HTTP_REQUEST_DVB_REPORTING_TYPE);var le=function(){var Se=O.indexOf(Y);-1!==Se&&(O.splice(Se,1),Y.status>=200&&Y.status<300?ae&&ae():Fe&&Fe())};O.push(Y);try{Y.open("GET",ne),Y.onloadend=le,Y.onerror=le,Y.send()}catch{Y.onerror()}}(Y="".concat(S,"?").concat(Y),null,function(){_=!1})})},initialize:function y(ne,ae){var Fe;if(x=ae,!(S=ne.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");f||((Fe=ne.dvb_probability)&&(1e3===Fe||Fe/1e3>=d.random())&&(_=!0),f=!0)},reset:function z(){B()}},function I(){i=Object(t.default)(m).getInstance(),d=Object(v.default)(m).getInstance(),c=Object(b.default)(m).getInstance(),B()}(),D}g.__dashjs_factory_name="DVBReporting",p.default=dashjs.FactoryMaker.getClassFactory(g)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),v=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function b(g){var P,D,m=(g=g||{}).eventBus,i=g.dashMetrics,c=g.metricsConstants,d=g.events;function f(T){var L=new t.default;if(D){for(var y in T)T.hasOwnProperty(y)&&(L[y]=T[y]);L.mpdurl||(L.mpdurl=D.originalUrl||D.url),L.terror||(L.terror=new Date),i.addDVBErrors(L)}}function _(T){T.error||(D=T.manifest)}function S(T){f({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function x(){f({errorcode:t.default.BECAME_REPORTER})}function N(T){T.metric===c.HTTP_REQUEST&&function A(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&f({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function O(T){var y;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:y=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:y=t.default.CORRUPT_MEDIA_OTHER;break;default:return}f({errorcode:y})}return P={initialise:function C(){m.on(d.MANIFEST_UPDATED,_,P),m.on(d.SERVICE_LOCATION_BLACKLIST_CHANGED,S,P),m.on(d.METRIC_ADDED,N,P),m.on(d.METRIC_UPDATED,N,P),m.on(d.PLAYBACK_ERROR,O,P),m.on(v.default.BECAME_REPORTING_PLAYER,x,P)},reset:function I(){m.off(d.MANIFEST_UPDATED,_,P),m.off(d.SERVICE_LOCATION_BLACKLIST_CHANGED,S,P),m.off(d.METRIC_ADDED,N,P),m.off(d.METRIC_UPDATED,N,P),m.off(d.PLAYBACK_ERROR,O,P),m.off(v.default.BECAME_REPORTING_PLAYER,x,P)}}}b.__dashjs_factory_name="DVBErrorsTranslator",p.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){return{reconstructFullMetricName:function(b,g,P){var D=b;return g&&(D+="("+g,P&&P.length&&(D+=","+P),D+=")"),D},validateN:function(b){if(!b)throw new Error("missing n");if(isNaN(b))throw new Error("n is NaN");if(b<0)throw new Error("n must be positive");return b}}}e.r(p),t.__dashjs_factory_name="HandlerHelpers",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),v=e(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),b=e(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function g(P){var m=(P=P||{}).adapter,i=P.constants;return{getMetrics:function d(f){var _=[];return f&&f.Metrics_asArray&&f.Metrics_asArray.forEach(function(S){var x=new t.default,A=m.getIsDynamic(f);S.hasOwnProperty("metrics")&&(x.metrics=S.metrics,S.Range_asArray&&S.Range_asArray.forEach(function(N){var O=new v.default;O.starttime=function c(f,_,S){var x,A,N=0;return _?N=m.getAvailabilityStartTime(f)/1e3:(x=m.getRegularPeriods(f)).length&&(N=x[0].start),A=N,S&&S.hasOwnProperty(i.START_TIME)&&(A+=S.starttime),A}(f,A,N),O.duration=N.hasOwnProperty("duration")?N.duration:m.getDuration(f),O._useWallClockTime=A,x.Range.push(O)}),S.Reporting_asArray&&(S.Reporting_asArray.forEach(function(N){var O=new b.default;N.hasOwnProperty(i.SCHEME_ID_URI)&&(O.schemeIdUri=N.schemeIdUri,N.hasOwnProperty("value")&&(O.value=N.value),N.hasOwnProperty(i.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=N[i.DVB_REPORTING_URL]),N.hasOwnProperty(i.DVB_PROBABILITY)&&(O.dvb_probability=N[i.DVB_PROBABILITY]),x.Reporting.push(O))}),_.push(x)))}),_}}}g.__dashjs_factory_name="ManifestParsing",p.default=dashjs.FactoryMaker.getSingletonFactory(g)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){return{serialise:function v(b){var D,m,g=[],P=[];for(D in b)if(b.hasOwnProperty(D)&&0!==D.indexOf("_")){if(null==(m=b[D])&&(m=""),Array.isArray(m)){if(!m.length)continue;P=[],m.forEach(function(i){var c="Object"!==Object.prototype.toString.call(i).slice(8,-1);P.push(c?i:v(i))}),m=P.map(encodeURIComponent).join(",")}else"string"==typeof m?m=encodeURIComponent(m):m instanceof Date?m=m.toISOString():"number"==typeof m&&(m=Math.round(m));g.push(D+"="+m)}return g.join("&")}}}e.r(p),t.__dashjs_factory_name="MetricSerialiser",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){var D,m,i,v=window.crypto||window.msCrypto,b=Uint32Array,g=Math.pow(2,8*b.BYTES_PER_ELEMENT)-1,P=10;function c(){v&&(D||(D=new b(P)),v.getRandomValues(D),m=0)}return i={random:function d(f,_){var S;return f||(f=0),_||(_=1),v?(m===D.length&&c(),S=D[m]/g,m+=1):S=Math.random(),S*(_-f)+f}},c(),i}e.r(p),t.__dashjs_factory_name="RNG",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p);var m=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});m.SSL_CONNECTION_FAILED_PREFIX="SSL",m.DNS_RESOLUTION_FAILED="C00",m.HOST_UNREACHABLE="C01",m.CONNECTION_REFUSED="C02",m.CONNECTION_ERROR="C03",m.CORRUPT_MEDIA_ISOBMFF="M00",m.CORRUPT_MEDIA_OTHER="M01",m.BASE_URL_CHANGED="F00",m.BECAME_REPORTER="S00",p.default=m},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,g(_.key),_)}}function b(c,d,f){return d&&v(c.prototype,d),f&&v(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function g(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);p.default=b(function c(){(function D(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(_){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}function g(_,S){for(var x=0;x<S.length;x++){var A=S[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,D(A.key),A)}}function P(_,S,x){return S&&g(_.prototype,S),x&&g(_,x),Object.defineProperty(_,"prototype",{writable:!1}),_}function D(_){var S=function m(_,S){if("object"!==b(_)||null===_)return _;var x=_[Symbol.toPrimitive];if(void 0!==x){var A=x.call(_,S||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(_)}(_,"string");return"symbol"===b(S)?S:String(S)}var c=NaN,d=P(function _(S,x){(function i(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:S||null,selectedIdx:x||c},this.children=[]});function f(){var _,S,x,A=this.context,N=Object(t.default)(A).getInstance();function T(Fe,Y,le){var G=x.getBaseURLsFromElement(le);Fe[Y]?N.areEqual(G,Fe[Y].data.baseUrls)||(Fe[Y].data.baseUrls=G,Fe[Y].data.selectedIdx=c):Fe[Y]=new d(G)}function L(Fe){!function I(){if(!x||!x.hasOwnProperty("getBaseURLsFromElement")||!x.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var Y=x.getBaseURLsFromElement(Fe);N.areEqual(Y,S.data.baseUrls)||(S.data.baseUrls=Y,S.data.selectedIdx=c),Fe&&Fe.Period_asArray&&Fe.Period_asArray.forEach(function(le,G){T(S.children,G,le),le.AdaptationSet_asArray&&le.AdaptationSet_asArray.forEach(function(Se,ce){T(S.children[G].children,ce,Se),Se.Representation_asArray&&Se.Representation_asArray.sort(x.getRepresentationSortFunction()).forEach(function(ge,Ie){T(S.children[G].children[ce].children,Ie,ge)})})})}function y(Fe,Y){var le=Y||S;Fe(le.data),le.children&&le.children.forEach(function(G){return y(Fe,G)})}function ne(){S=new d}return _={reset:ne,update:function z(Fe){L(Fe)},getForPath:function ae(Fe){var Y=S,le=[Y.data];return Fe&&Fe.forEach(function(G){(Y=Y.children[G])&&le.push(Y.data)}),le.filter(function(G){return G.baseUrls.length})},invalidateSelectedIndexes:function B(Fe){y(function(Y){isNaN(Y.selectedIdx)||Fe===Y.baseUrls[Y.selectedIdx].serviceLocation&&(Y.selectedIdx=c)})},setConfig:function C(Fe){Fe.adapter&&(x=Fe.adapter)}},function O(){ne()}(),_}f.__dashjs_factory_name="BaseURLTreeModel",p.default=v.default.getClassFactory(f)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=e(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),c=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function d(T,L){var y=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!y){if(Array.isArray(T)||(y=function f(T,L){if(T){if("string"==typeof T)return _(T,L);var y=Object.prototype.toString.call(T).slice(8,-1);if("Object"===y&&T.constructor&&(y=T.constructor.name),"Map"===y||"Set"===y)return Array.from(T);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return _(T,L)}}(T))||L&&T&&"number"==typeof T.length){y&&(T=y);var B=0,z=function(){};return{s:z,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(le){throw le},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Fe,ne=!0,ae=!1;return{s:function(){y=y.call(T)},n:function(){var le=y.next();return ne=le.done,le},e:function(le){ae=!0,Fe=le},f:function(){try{!ne&&null!=y.return&&y.return()}finally{if(ae)throw Fe}}}}function _(T,L){(null==L||L>T.length)&&(L=T.length);for(var y=0,B=new Array(L);y<L;y++)B[y]=T[y];return B}var A_MANIFEST="m",A_AUDIO="a",A_VIDEO="v",A_INIT="i",A_CAPTION="c",A_ISOBMFF_TEXT_TRACK="tt",A_ENCRYPTION_KEY="k",A_OTHER="o",N_DASH="d",N_MSS="s",O_VOD="v",O_LIVE="l";function I(){var T,L,y,B,z,ne,ae,Fe,Y,le,G=this.context,Se=Object(t.default)(G).getInstance(),ce=Object(P.default)(G).getInstance();function pe(){y={pr:1,nor:null,st:null,sf:null,sid:"".concat(c.default.generateUuid()),cid:null},Y={},Fe={},le={},ke()}function Ae(){ke()}function ke(){if(ne){var Qe=ne.getStreamController();if(Qe&&"function"==typeof Qe.getActiveStream){var yt=Qe.getActiveStream();yt&&(ae=yt.getProcessors())}}}function Te(Qe,yt){var We,Dt={},fe=d(yt);try{for(fe.s();!(We=fe.n()).done;){var Et=We.value;Qe[Et]&&(Dt[Et]=Qe[Et])}}catch(Wt){fe.e(Wt)}finally{fe.f()}return Dt}function je(Qe){var yt=ce.get().streaming.cmcd.enabledKeys;return Qe.filter(function(Dt){return yt.includes(Dt)})}function ft(Qe){try{return Qe.type===m.HTTPRequest.MPD_TYPE?function Re(){var Qe=oe();return Qe.ot=A_MANIFEST,Qe}():Qe.type===m.HTTPRequest.MEDIA_SEGMENT_TYPE?(function Q(Qe){le.hasOwnProperty(Qe)||(le[Qe]=!1),Fe.hasOwnProperty(Qe)||(Fe[Qe]=!1),Y.hasOwnProperty(Qe)||(Y[Qe]=!1)}(Qe.mediaType),function be(Qe){var fn,yt=oe(),Dt=function ee(Qe){try{return parseInt(Qe.mediaInfo.bitrateList[Qe.quality].bandwidth/1e3)}catch{return null}}(Qe),fe=function $(Qe){try{return isNaN(Qe.duration)?null:Math.round(1e3*Qe.duration)}catch{return null}}(Qe),We=function re(Qe){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(Qe)/100)}catch{return null}}(Qe.mediaType),Et=function J(Qe){try{var yt=y.pr,Dt=z.getCurrentBufferLevel(Qe);return isNaN(yt)||isNaN(Dt)?null:100*parseInt(Dt/yt*10)}catch{return null}}(Qe.mediaType),Wt=q(Qe.mediaType),Qt=function X(Qe){try{var yt=B.getTopBitrateInfoFor(Qe);return Math.round(yt.bitrate/1e3)}catch{return null}}(Qe.mediaType),qt=y.pr,un=function Xe(Qe){if(ae&&0!==ae.length){var Dt,yt=d(ae);try{for(yt.s();!(Dt=yt.n()).done;){var fe=Dt.value;if(fe.getType()===Qe)return fe.probeNextRequest()}}catch(We){yt.e(We)}finally{yt.f()}}}(Qe.mediaType);Qe.mediaType===D.default.VIDEO&&(fn=A_VIDEO),Qe.mediaType===D.default.AUDIO&&(fn=A_AUDIO),Qe.mediaType===D.default.TEXT&&(fn="application/mp4"===Qe.mediaInfo.mimeType?A_ISOBMFF_TEXT_TRACK:A_CAPTION);var wt=ce.get().streaming.cmcd.rtp;return wt||(wt=function tt(Qe){var yt=ne.getPlaybackRate();yt||(yt=1);var Dt=Qe.quality,We=Qe.mediaInfo,Et=Qe.duration,Wt=q(Qe.mediaType);0===Wt&&(Wt=500);var fn=We.bitrateList[Dt].bandwidth*Et/1e3/(Wt/yt/1e3),wt=ce.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ce.get().streaming.cmcd.rtpSafetyFactor)?ce.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(fn*wt/100)+1)}(Qe)),yt.rtp=wt,un&&(Qe.url!==un.url?yt.nor=encodeURIComponent(c.default.getRelativeUrl(Qe.url,un.url)):un.range&&(yt.nrr=un.range)),Dt&&(yt.br=Dt),fn&&(yt.ot=fn),isNaN(fe)||(yt.d=fe),isNaN(We)||(yt.mtp=We),isNaN(Et)||(yt.dl=Et),isNaN(Wt)||(yt.bl=Wt),isNaN(Qt)||(yt.tb=Qt),!isNaN(qt)&&1!==qt&&(yt.pr=qt),Y[Qe.mediaType]&&(yt.bs=!0,Y[Qe.mediaType]=!1),(Fe[Qe.mediaType]||!le[Qe.mediaType])&&(yt.su=!0,Fe[Qe.mediaType]=!1,le[Qe.mediaType]=!0),yt}(Qe)):Qe.type===m.HTTPRequest.INIT_SEGMENT_TYPE?function ie(){var Qe=oe();return Qe.ot=A_INIT,Qe.su=!0,Qe}():Qe.type===m.HTTPRequest.OTHER_TYPE||Qe.type===m.HTTPRequest.XLINK_EXPANSION_TYPE?function ye(){var Qe=oe();return Qe.ot=A_OTHER,Qe}():Qe.type===m.HTTPRequest.LICENSE?function Ze(Qe){var yt=oe();return yt.ot=A_ENCRYPTION_KEY,yt}():null}catch{return null}}function oe(){var Qe={},yt=ce.get().streaming.cmcd.cid?ce.get().streaming.cmcd.cid:y.cid;return Qe.v=1,Qe.sid=ce.get().streaming.cmcd.sid?ce.get().streaming.cmcd.sid:y.sid,Qe.sid="".concat(Qe.sid),yt&&(Qe.cid="".concat(yt)),!isNaN(y.pr)&&1!==y.pr&&null!==y.pr&&(Qe.pr=y.pr),y.st&&(Qe.st=y.st),y.sf&&(Qe.sf=y.sf),Qe}function q(Qe){try{var yt=z.getCurrentBufferLevel(Qe);return isNaN(yt)?null:100*parseInt(10*yt)}catch{return null}}function _e(Qe){try{y.pr=Qe.playbackRate}catch{}}function xe(Qe){try{var yt=T.getIsDynamic(Qe.data),fe=Qe.protocol&&"MSS"===Qe.protocol?N_MSS:N_DASH;y.st="".concat(yt?O_LIVE:O_VOD),y.sf="".concat(fe)}catch{}}function Ee(Qe){try{Qe.state&&Qe.mediaType&&Qe.state===v.default.BUFFER_EMPTY&&(Y[Qe.mediaType]||(Y[Qe.mediaType]=!0),Fe[Qe.mediaType]||(Fe[Qe.mediaType]=!0))}catch{}}function Ge(){for(var Qe in Y)Y.hasOwnProperty(Qe)&&(Y[Qe]=!0);for(var yt in Fe)Fe.hasOwnProperty(yt)&&(Fe[yt]=!0)}function ct(Qe){try{if(!Qe)return null;var yt=Object.keys(Qe).sort(function(We,Et){return We.localeCompare(Et)}),Dt=yt.length,fe=yt.reduce(function(We,Et,Wt){return"v"===Et&&1===Qe[Et]||(We+="string"==typeof Qe[Et]&&"ot"!==Et&&"sf"!==Et&&"st"!==Et?"".concat(Et,"=").concat(JSON.stringify(Qe[Et])):"".concat(Et,"=").concat(Qe[Et]),Wt<Dt-1&&(We+=",")),We},"");return(fe=fe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return L={getQueryParameter:function he(Qe){try{if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var yt=ft(Qe),fe=ct(function we(Qe){try{var yt=ce.get().streaming.cmcd.enabledKeys;return Object.keys(Qe).filter(function(Dt){return yt.includes(Dt)}).reduce(function(Dt,fe){return Dt[fe]=Qe[fe],Dt},{})}catch{return Qe}}(yt));return Se.trigger(b.default.CMCD_DATA_GENERATED,{url:Qe.url,mediaType:Qe.mediaType,cmcdData:yt,cmcdString:fe}),{key:"CMCD",value:fe}}return null}catch{return null}},getHeaderParameters:function Oe(Qe){try{if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var yt=ft(Qe),Dt=Te(yt,je(["br","d","ot","tb"])),fe=Te(yt,je(["bl","dl","mtp","nor","nrr","su"])),We=Te(yt,je(["bs","rtp"])),Et=Te(yt,je(["cid","pr","sf","sid","st","v"])),Wt={"CMCD-Object":ct(Dt),"CMCD-Request":ct(fe),"CMCD-Status":ct(We),"CMCD-Session":ct(Et)};return Se.trigger(b.default.CMCD_DATA_GENERATED,{url:Qe.url,mediaType:Qe.mediaType,cmcdData:yt,headers:Wt}),Wt}return null}catch{return null}},setConfig:function Ce(Qe){Qe&&(Qe.abrController&&(B=Qe.abrController),Qe.dashMetrics&&(z=Qe.dashMetrics),Qe.playbackController&&(ne=Qe.playbackController))},reset:function gt(){Se.off(v.default.PLAYBACK_RATE_CHANGED,_e,this),Se.off(v.default.MANIFEST_LOADED,xe,this),Se.off(v.default.BUFFER_LEVEL_STATE_CHANGED,Ee,L),Se.off(v.default.PLAYBACK_SEEKED,Ge,L),pe()},initialize:function Ie(){Se.on(v.default.PLAYBACK_RATE_CHANGED,_e,L),Se.on(v.default.MANIFEST_LOADED,xe,L),Se.on(v.default.BUFFER_LEVEL_STATE_CHANGED,Ee,L),Se.on(v.default.PLAYBACK_SEEKED,Ge,L),Se.on(v.default.PERIOD_SWITCH_COMPLETED,Ae,L)}},function ge(){T=Object(i.default)(G).getInstance(),pe()}(),L}I.__dashjs_factory_name="CmcdModel",p.default=g.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),g=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),D=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function i(){var c,d,f,_,S,x,A,N,O=this.context,C=Object(b.default)(O).getInstance();function T(){_=[],S=[],x=[],N=[],A=null,d=[]}function Ce(Q,ie){var ye=-1;Q.some(function(oe,ee){if(oe===ie)return ye=ee,!0}),!(ye<0)&&Q.splice(ye,1)}function pe(Q){var ie;for(ie=0;ie<N.length;ie++)if(N[ie].rulename===Q)return ie;return-1}function Te(Q,ie){je(Q,ie);var ye=new t.default;ye.schemeIdUri=Q,ye.value=ie,d.push(ye)}function je(Q,ie){Object(g.checkParameterType)(Q,"string"),Object(g.checkParameterType)(ie,"string"),d.forEach(function(ye,oe){ye.schemeIdUri===Q&&ye.value===ie&&d.splice(oe,1)})}return c={getCustomInitialTrackSelectionFunction:function ne(){return A},setCustomInitialTrackSelectionFunction:function B(Q){A=Q},resetCustomInitialTrackSelectionFunction:function z(){A=null},getLicenseResponseFilters:function Fe(){return S},getLicenseRequestFilters:function ae(){return _},getCustomCapabilitiesFilters:function ce(){return x},registerCustomCapabilitiesFilter:function ge(Q){x.push(Q)},registerLicenseResponseFilter:function le(Q){S.push(Q)},registerLicenseRequestFilter:function Y(Q){_.push(Q)},unregisterCustomCapabilitiesFilter:function Ie(Q){Ce(x,Q)},unregisterLicenseResponseFilter:function Se(Q){Ce(S,Q)},unregisterLicenseRequestFilter:function G(Q){Ce(_,Q)},addAbrCustomRule:function Ae(Q,ie,ye){if("string"!=typeof Q||Q!==P.default.ABANDON_FRAGMENT_RULES&&Q!==P.default.QUALITY_SWITCH_RULES||"string"!=typeof ie)throw D.default.BAD_ARGUMENT_ERROR;var oe=pe(ie);-1===oe?N.push({type:Q,rulename:ie,rule:ye}):(N[oe].type=Q,N[oe].rule=ye)},removeAllAbrCustomRule:function he(){N=[]},removeAbrCustomRule:function ke(Q){if(Q){var ie=pe(Q);-1!==ie&&N.splice(ie,1)}else N=[]},getAbrCustomRules:function we(){return N},addUTCTimingSource:Te,removeUTCTimingSource:je,getUTCTimingSources:function Oe(){return d},clearDefaultUTCTimingSources:function ft(){d=[]},restoreDefaultUTCTimingSources:function Ze(){var Q=C.get().streaming.utcSynchronization.defaultTimingSource;Te(Q.scheme,Q.value)},setXHRWithCredentialsForType:function Re(Q,ie){Q?f[Q]=!!ie:Object.keys(f).forEach(function(ye){Re(ye,ie)})},getXHRWithCredentialsForType:function be(Q){var ie=f[Q];return void 0===ie?f.default:ie},setConfig:function y(){},reset:function L(){T()}},function I(){f={default:false},T()}(),c}i.__dashjs_factory_name="CustomParametersModel",p.default=v.default.getSingletonFactory(i)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),b="loading",g="executed",D="failed";function m(c){var O,C,I,T,d=(c=c||{}).eventBus,f=c.events,_=c.dashMetrics,S=c.fragmentLoader,x=c.debug,A=c.streamInfo,N=c.type;function z(Ze){var ee;return!!Ze&&(ee=!1,I.some(function(X){if(function(oe,ee){return!isNaN(oe.index)&&oe.startTime===ee.startTime&&oe.adaptationIndex===ee.adaptationIndex&&oe.type===ee.type}(Ze,X)||function(oe,ee){return isNaN(oe.index)&&isNaN(ee.index)&&oe.quality===ee.quality}(Ze,X)||function(oe,ee){return oe.action===v.default.ACTION_COMPLETE&&oe.action===ee.action}(Ze,X))return ee=!0}),ee)}function Fe(Ze){return isNaN(Ze.duration)?.25:Math.min(Ze.duration/8,.5)}function Y(Ze){I=I.filter(function(Re){var be=Fe(Re);return isNaN(Re.startTime)||void 0!==Ze&&Re.startTime>=Ze-be})}function G(Ze,Re){Re<=Ze+.5||(I=I.filter(function(be){var Q=Fe(be);return isNaN(be.startTime)||be.startTime>=Re-Q||isNaN(be.duration)||be.startTime+be.duration<=Ze+Q}))}function Ce(Ze,Re,be){for(var ie=Ze.length-1;ie>=0;ie--){var ye=Ze[ie],oe=ye.startTime,ee=oe+ye.duration;if(be=isNaN(be)?Fe(ye):be,!isNaN(oe)&&!isNaN(ee)&&Re+be>=oe&&Re-be<ee||isNaN(oe)&&isNaN(Re))return ye}return null}function ke(Ze,Re){_.addSchedulingInfo(Ze,Re),_.addRequestsQueue(Ze.mediaType,T,I)}function he(Ze){Ze.sender===S&&(T.splice(T.indexOf(Ze.request),1),Ze.response&&!Ze.error&&I.push(Ze.request),ke(Ze.request,Ze.error?D:g),d.trigger(f.FRAGMENT_LOADING_COMPLETED,{request:Ze.request,response:Ze.response,error:Ze.error,sender:this},{streamId:A.id,mediaType:N}))}function we(Ze){Ze.sender===S&&d.trigger(f.FRAGMENT_LOADING_PROGRESS,{request:Ze.request,response:Ze.response,error:Ze.error,sender:this},{streamId:A.id,mediaType:N})}function Te(Ze){Ze.sender===S&&d.trigger(f.FRAGMENT_LOADING_ABANDONED,{request:Ze.request},{streamId:A.id,mediaType:N})}function Oe(){I=[],T=[]}return O={getStreamId:function y(){return A.id},getType:function B(){return N},getRequests:function ae(Ze){var be=[];return(Ze?Ze.state instanceof Array?Ze.state:[Ze.state]:[]).forEach(function(Q){var ie=function Ae(Ze){var Re;switch(Ze){case b:Re=T;break;case g:Re=I;break;default:Re=[]}return Re}(Q);be=be.concat(function pe(Ze,Re){return Re.hasOwnProperty("time")?[Ce(Ze,Re.time,Re.threshold)]:Ze.filter(function(be){for(var Q in Re)if("state"!==Q&&Re.hasOwnProperty(Q)&&be[Q]!=Re[Q])return!1;return!0})}(ie,Ze))}),be},isFragmentLoaded:z,isFragmentLoadedOrPending:function ne(Ze){var Q,Re=!1,be=0;if(!(Re=z(Ze)))for(be=0;be<T.length;be++)Ze.url===(Q=T[be]).url&&Ze.startTime===Q.startTime&&(Re=!0);return Re},removeExecutedRequestsBeforeTime:Y,removeExecutedRequestsAfterTime:function le(Ze){I=I.filter(function(Re){return isNaN(Re.startTime)||void 0!==Ze&&Re.startTime<Ze})},syncExecutedRequestsWithBufferedRange:function Se(Ze,Re){if(Ze&&0!==Ze.length){for(var be=0,Q=0,ie=Ze.length;Q<ie;Q++)G(be,Ze.start(Q)),be=Ze.end(Q);Re>0&&G(be,Re)}else Y()},abortRequests:function ce(){C.debug("abort requests"),S.abort(),T=[]},executeRequest:function ge(Ze){Ze.action===v.default.ACTION_DOWNLOAD?(ke(Ze,b),T.push(Ze),function Ie(Ze){d.trigger(f.FRAGMENT_LOADING_STARTED,{request:Ze},{streamId:A.id,mediaType:N}),S.load(Ze)}(Ze)):C.warn("Unknown request action.")},reset:function je(){d.off(f.LOADING_COMPLETED,he,this),d.off(f.LOADING_DATA_PROGRESS,we,this),d.off(f.LOADING_ABANDONED,Te,this),S&&S.reset(),Oe()},resetInitialSettings:Oe,addExecutedRequest:function ft(Ze){I.push(Ze)}},function L(){C=x.getLogger(O),Oe(),d.on(f.LOADING_COMPLETED,he,O),d.on(f.LOADING_DATA_PROGRESS,we,O),d.on(f.LOADING_ABANDONED,Te,O)}(),O}m.__dashjs_factory_name="FragmentModel";var i=t.default.getClassFactory(m);i.FRAGMENT_MODEL_LOADING=b,i.FRAGMENT_MODEL_EXECUTED=g,i.FRAGMENT_MODEL_CANCELED="canceled",i.FRAGMENT_MODEL_FAILED=D,t.default.updateClassFactory(m.__dashjs_factory_name,i),p.default=i},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var d,f,c=this.context,_={};function S(){f=Object(t.default)(c).getInstance().getLogger(d)}function x(I){for(var T={},L=0,y=0,B=0,z=0,ne=I.length,ae=0;ae<ne;++ae)L+=I[ae].chunkDownloadTimeRelativeMS,y+=I[ae].bufferLevel,B+=I[ae].chunkDownloadTimeRelativeMS*I[ae].bufferLevel,z+=I[ae].chunkDownloadTimeRelativeMS*I[ae].chunkDownloadTimeRelativeMS;return T.m=(B-L*y/ne)/(z-L*L/ne),T.b=y/ne-T.m*L/ne,function(Fe){return T.m*Fe+T.b}}function A(I){var L,T=!0,y=I.reduce(function(B,z){return B+z.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/y<.8&&(T=!1),L?L>B.bitrate&&(T=!1):L=B.bitrate}),T}return d={setup:S,addMeasurement:function C(I,T,L,y,B){I&&I.mediaType&&!_[I.mediaType]&&(_[I.mediaType]=[]);var z=I.mediaInfo.bitrateList.find(function(ne){return ne.id===I.representationId});_[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:y,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:L.reduce(function(ne,ae){return ne+ae.chunkDownloadDurationMS},0),segmentBytes:L.reduce(function(ne,ae){return ne+ae.chunkBytes},0),bitrate:z&&z.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:L,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:x(L.slice(1))}),_[I.mediaType].length>10&&_[I.mediaType].shift()},getThroughputCapacityDelayMS:function O(I,T){var L=_[I.mediaType]&&_[I.mediaType].slice(-3);return!L||L.length<3||!A(L)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function N(I){var T=_[I.mediaType].slice(-1).pop(),L=_[I.mediaType].slice(-3),y=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(y/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(y);var B=A(L),z=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var ne=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,ae=0,Fe=0,Y=0,le=0;le<T.chunkMeasurements.length;le++){var G=T.chunkMeasurements[le];if(ne<Fe+G.chunkDownloadDurationMS)break;Fe+=G.chunkDownloadDurationMS,ae+=G.chunkBytes,Y++}if(ne<0&&f.warn("request time was before adjusted availibitly start time"),ae&&Fe&&Y>.2*T.chunkMeasurements.length){var ce=T.segmentBytes/(ae/Fe);return T.fetchDownloadDurationMS<ce?T.fetchDownloadDurationMS*z:ce*z}var ge=T.bitrate;return T.bitrateList.some(function(Ie){if(Ie.bandwidth>T.bitrate)return ge=Ie.bandwidth,!0}),ge===T.bitrate?T.fetchDownloadDurationMS*z:z*T.segmentBytes*8*1e3/ge}},S(),d}b.__dashjs_factory_name="LowLatencyThroughputModel",p.default=v.default.getSingletonFactory(b)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function g(){var i,P=this.context,D=Object(t.default)(P).getInstance();return{getValue:function c(){return i},setValue:function d(f){i=f,f&&D.trigger(v.default.MANIFEST_LOADED,{data:f})}}}g.__dashjs_factory_name="ManifestModel",p.default=b.default.getSingletonFactory(g)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),f=-.5;function S(){var x,A,N,O,C=this.context,I=Object(b.default)(C).getInstance();function y(ge,Ie){return isNaN(ge)?0:ge>0?(Ie&&A.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ge<f?(Ie&&A.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(f,": ").concat(-50,"% playback speed.")),f):ge}function B(ge,Ie){return isNaN(ge)?0:ge<0?(Ie&&A.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ge>1?(Ie&&A.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ge}function le(){var ge=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,Ie=N.getLiveDelay();return!isNaN(Ie)&&Ie>0?Math.min(ge,Ie):ge}return x={getCatchupMaxDrift:function z(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var ge=O.getServiceDescriptionSettings();return ge&&ge.liveCatchup&&!isNaN(ge.liveCatchup.maxDrift)&&ge.liveCatchup.maxDrift>0?ge.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ae(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:N.getInitialCatchupModeActivated()},getStableBufferTime:le,getInitialBufferLevel:function Y(){var ge=I.get().streaming.buffer.initialBufferLevel;return isNaN(ge)||ge<0?0:Math.min(le(),ge)},getRetryAttemptsForType:function G(ge){var Ie=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return N.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[ge]*Ie:I.get().streaming.retryAttempts[ge]},getRetryIntervalsForType:function Se(ge){var Ie=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return N.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[ge]/Ie:I.get().streaming.retryIntervals[ge]},getCatchupPlaybackRates:function ne(ge){var Ie=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(Ie.min)||!isNaN(Ie.max))return{min:y(Ie.min,ge),max:B(Ie.max,ge)};var Ce=O.getServiceDescriptionSettings();if(Ce&&Ce.liveCatchup&&(!isNaN(Ce.liveCatchup.playbackRate.min)||!isNaN(Ce.liveCatchup.playbackRate.max))){var pe=Ce.liveCatchup.playbackRate;return{min:y(pe.min,ge),max:B(pe.max,ge)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Fe(ge,Ie){try{var Ce=I.get().streaming.abr[ge][Ie];if(!isNaN(Ce)&&-1!==Ce)return Ce;var pe=O.getServiceDescriptionSettings();return pe&&pe[ge]&&!isNaN(pe[ge][Ie])?pe[ge][Ie]:-1}catch{return-1}},setConfig:function L(ge){ge.playbackController&&(N=ge.playbackController),ge.serviceDescriptionController&&(O=ge.serviceDescriptionController)},reset:function ce(){}},function T(){A=Object(t.default)(C).getInstance().getLogger(x)}(),x}S.__dashjs_factory_name="MediaPlayerModel",p.default=v.default.getSingletonFactory(S)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),g=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),D=e(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),m=e(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),i=e(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),c=e(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),d=e(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),f=e(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),S=e(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),x=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function N(O){var L,y,C=(O=O||{}).settings,I=this.context,T=Object(_.default)(I).getInstance();function z(){T.trigger(x.default.METRICS_CHANGED)}function ne(Q){T.trigger(x.default.METRIC_CHANGED,{mediaType:Q}),z()}function ae(Q,ie,ye){T.trigger(x.default.METRIC_UPDATED,{mediaType:Q,metric:ie,value:ye}),ne(Q)}function Fe(Q,ie,ye){T.trigger(x.default.METRIC_ADDED,{mediaType:Q,metric:ie,value:ye}),ne(Q)}function G(Q,ie){var ye=null;return Q&&(y.hasOwnProperty(Q)?ye=y[Q]:ie||(ye=new b.default,y[Q]=ye)),ye}function Se(Q,ie,ye){var oe=G(Q);null!==oe&&(oe[ie].push(ye),oe[ie].length>C.get().streaming.metrics.maxListDepth&&oe[ie].shift())}function Ce(Q,ie,ye){Se(Q,ie,ye),Fe(Q,ie,ye)}return L={clearCurrentMetricsForType:function Y(Q){delete y[Q],ne(Q)},clearAllCurrentMetrics:function le(){y={},z()},getMetricsFor:G,addHttpRequest:function ge(Q,ie,ye,oe,ee,X,$,re,J,q,_e,xe,Ee,Ge,ct,Xe){var tt=new g.HTTPRequest;X&&X!==oe&&(ge(Q,null,ye,oe,ee,null,null,re,J,null,null,null,Ee,null,null,Xe),tt.actualurl=X),tt.tcpid=ie,tt.type=ye,tt.url=oe,tt.range=re,tt.trequest=J,tt.tresponse=q,tt.responsecode=xe,tt._tfinish=_e,tt._stream=Q,tt._mediaduration=Ee,tt._quality=ee,tt._responseHeaders=Ge,tt._serviceLocation=$,tt._fileLoaderType=Xe,ct?ct.forEach(function(gt){!function ce(Q,ie,ye,oe){var ee=new g.HTTPRequestTrace;return ee.s=ie,ee.d=ye,ee.b=oe,Q.trace.push(ee),Q.interval||(Q.interval=0),Q.interval+=ye,ee}(tt,gt.s,gt.d,gt.b)}):(delete tt.interval,delete tt.trace),Ce(Q,v.default.HTTP_REQUEST,tt)},addRepresentationSwitch:function Ie(Q,ie,ye,oe,ee){var X=new P.default;X.t=ie,X.mt=ye,X.to=oe,ee?X.lto=ee:delete X.lto,Ce(Q,v.default.TRACK_SWITCH,X)},addBufferLevel:function pe(Q,ie,ye){var oe=new D.default;oe.t=ie,oe.level=ye,Ce(Q,v.default.BUFFER_LEVEL,oe)},addBufferState:function Ae(Q,ie,ye){var oe=new m.default;oe.target=ye,oe.state=ie,Ce(Q,v.default.BUFFER_STATE,oe)},addDVRInfo:function ke(Q,ie,ye,oe){var ee=new i.default;ee.time=ie,ee.range=oe,ee.manifestInfo=ye,Ce(Q,v.default.DVR_INFO,ee)},addDroppedFrames:function he(Q,ie){var ye=new c.default,oe=G(Q).DroppedFrames;ie&&(ye.time=ie.creationTime,ye.droppedFrames=ie.droppedVideoFrames,!(oe.length>0&&oe[oe.length-1]==ye)&&Ce(Q,v.default.DROPPED_FRAMES,ye))},addSchedulingInfo:function we(Q,ie,ye,oe,ee,X,$,re,J){var q=new f.default;q.mediaType=Q,q.t=ie,q.type=ye,q.startTime=oe,q.availabilityStartTime=ee,q.duration=X,q.quality=$,q.range=re,q.state=J,Ce(Q,v.default.SCHEDULING_INFO,q)},addRequestsQueue:function Te(Q,ie,ye){var oe=new S.default;oe.loadingRequests=ie,oe.executedRequests=ye,G(Q).RequestsQueue=oe,Fe(Q,v.default.REQUESTS_QUEUE,oe)},addManifestUpdate:function Oe(Q,ie,ye,oe,ee,X,$,re,J,q){var _e=new d.ManifestUpdate;_e.mediaType=Q,_e.type=ie,_e.requestTime=ye,_e.fetchTime=oe,_e.availabilityStartTime=ee,_e.presentationStartTime=X,_e.clientTimeOffset=$,_e.currentTime=re,_e.buffered=J,_e.latency=q,Se(t.default.STREAM,v.default.MANIFEST_UPDATE,_e),Fe(Q,v.default.MANIFEST_UPDATE,_e)},updateManifestUpdateInfo:function je(Q,ie){if(Q){for(var ye in ie)Q[ye]=ie[ye];ae(Q.mediaType,v.default.MANIFEST_UPDATE,Q)}},addManifestUpdateStreamInfo:function ft(Q,ie,ye,oe,ee){if(Q){var X=new d.ManifestUpdateStreamInfo;X.id=ie,X.index=ye,X.start=oe,X.duration=ee,Q.streamInfo.push(X),ae(Q.mediaType,v.default.MANIFEST_UPDATE_STREAM_INFO,Q)}},addManifestUpdateRepresentationInfo:function Ze(Q,ie,ye,oe,ee,X,$,re){if(Q&&Q.representationInfo){var J=new d.ManifestUpdateRepresentationInfo;J.id=ie,J.index=ye,J.streamIndex=oe,J.mediaType=ee,J.startNumber=$,J.fragmentInfoType=re,J.presentationTimeOffset=X,Q.representationInfo.push(J),ae(Q.mediaType,v.default.MANIFEST_UPDATE_TRACK_INFO,Q)}},addPlayList:function Re(Q){Q.trace&&Array.isArray(Q.trace)?Q.trace.forEach(function(ie){ie.hasOwnProperty("subreplevel")&&!ie.subreplevel&&delete ie.subreplevel}):delete Q.trace,Ce(t.default.STREAM,v.default.PLAY_LIST,Q)},addDVBErrors:function be(Q){Ce(t.default.STREAM,v.default.DVB_ERRORS,Q)}},function B(){y={}}(),L}N.__dashjs_factory_name="MetricsModel",p.default=A.default.getSingletonFactory(N)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var P;return{initialize:function D(i){if(P=new t.default,!i)return null;var c=i.indexOf("#");if(-1!==c)for(var d=i.substr(c+1).split("&"),f=0,_=d.length;f<_;++f){var S=d[f],x=S.indexOf("=");if(-1!==x){var A=S.substring(0,x);P.hasOwnProperty(A)&&(P[A]=S.substr(x+1))}}},getURIFragmentData:function m(){return P}}}b.__dashjs_factory_name="URIFragmentModel",p.default=v.default.getSingletonFactory(b)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),D=new Map([[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function m(){var i,c,d,f,_,S,x,N=this.context,O=Object(v.default)(N).getInstance(),C=[];function y(){d&&(d.playbackRate=x||1,d.removeEventListener("canplay",y))}function Ce(){return C.length>0}function he(){if(d&&Ce()&&0===d.playbackRate){var Qe=document.createEvent("Event");Qe.initEvent("waiting",!0,!1),d.dispatchEvent(Qe)}}function ie(Qe,yt){d&&d.addEventListener(Qe,yt)}function ye(Qe,yt){d&&d.removeEventListener(Qe,yt)}function oe(){return d?d.readyState:NaN}function ee(){return d?d.buffered:null}function Ee(Qe,yt,Dt,fe,We){if(d)for(var Et=0;Et<d.textTracks.length;Et++)if(d.textTracks[Et].kind===Qe&&(!yt||d.textTracks[Et].label==yt)&&d.textTracks[Et].language===Dt&&d.textTracks[Et].isTTML===fe&&d.textTracks[Et].isEmbedded===We)return d.textTracks[Et];return null}function tt(Qe,yt){Qe===P.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||oe()>=Qe?yt():function gt(Qe,yt){ie(Qe,function fe(){ye(Qe,fe),yt(Qe)})}(D.get(Qe),yt)}return i={initialize:function T(){O.on(b.default.PLAYBACK_PLAYING,he,this)},setCurrentTime:function z(Qe,yt){f=Qe,tt(P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(d){if(d.currentTime===f)return void(f=NaN);try{f=yt?function ne(Qe){var yt=ee(),Dt=Qe,fe=9999999999;if(yt)for(var We=0;We<yt.length;We++){var Et=yt.start(We),Wt=yt.end(We),Qt=Math.abs(Et-Qe),qt=Math.abs(Wt-Qe);if(Qe>=Et&&Qe<=Wt)return Qe;Qt<fe&&(fe=Qt,Dt=Et),qt<fe&&(fe=qt,Dt=Wt)}return Dt}(f):f,d.currentTime=f,f=NaN}catch(Dt){0===d.readyState&&Dt.code===Dt.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=f,f=NaN},400)}}})},play:function Te(){if(d){d.autoplay=!0;var Qe=d.play();Qe&&Qe.catch&&typeof Promise<"u"&&Qe.catch(function(yt){"NotAllowedError"===yt.name&&O.trigger(b.default.PLAYBACK_NOT_ALLOWED),c.warn("Caught pending play exception - continuing (".concat(yt,")"))})}},isPaused:function Oe(){return d?d.paused:null},pause:function je(){d&&(d.pause(),d.autoplay=!1)},isStalled:Ce,isSeeking:function ft(){return d?d.seeking||!isNaN(f):null},getTime:function Ze(){return d?isNaN(f)?d.currentTime:f:null},getPlaybackRate:function Re(){return d?d.playbackRate:null},setPlaybackRate:function B(Qe){d&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&d.readyState<=2&&Qe>0?d.addEventListener("canplay",y):d.playbackRate=Qe)},getPlayedRanges:function be(){return d?d.played:null},getEnded:function Q(){return d?d.ended:null},setStallState:function Ie(Qe,yt){!function ke(Qe,yt){yt?function pe(Qe){null===Qe||!d||d.seeking||-1!==C.indexOf(Qe)||C.push(Qe)}(Qe):function Ae(Qe){var yt=C.indexOf(Qe);null!==Qe&&-1!==yt&&C.splice(yt,1)}(Qe)}(Qe,yt)},getElement:function ae(){return d},setElement:function Fe(Qe){if(!(null==Qe||Qe&&/^(VIDEO|AUDIO)$/i.test(Qe.nodeName)))throw"element is not video or audio DOM type!";(d=Qe)&&(d.preload="auto")},setSource:function Y(Qe){d&&(Qe?d.src=Qe:(d.removeAttribute("src"),d.load()))},getSource:function le(){return d?d.src:null},getTTMLRenderingDiv:function G(){return _},setTTMLRenderingDiv:function ce(Qe){(_=Qe).style.position="absolute",_.style.display="flex",_.style.overflow="hidden",_.style.pointerEvents="none",_.style.top=0,_.style.left=0},getVttRenderingDiv:function Se(){return S},setVttRenderingDiv:function ge(Qe){S=Qe},getPlaybackQuality:function we(){if(!d)return null;var Qe="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,Dt=null;return"getVideoPlaybackQuality"in d?Dt=d.getVideoPlaybackQuality():Qe&&(Dt={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),Dt},addEventListener:ie,removeEventListener:ye,getReadyState:oe,getBufferRange:ee,getClientWidth:function X(){return d?d.clientWidth:NaN},getClientHeight:function $(){return d?d.clientHeight:NaN},getTextTracks:function xe(){return d?d.textTracks:[]},getTextTrack:Ee,addTextTrack:function Ge(Qe,yt,Dt,fe,We){if(!d)return null;var Et=Ee(Qe,yt,Dt,fe,We);return Et||((Et=d.addTextTrack(Qe,yt,Dt)).isEmbedded=We,Et.isTTML=fe),Et},appendChild:function ct(Qe){d&&(d.appendChild(Qe),void 0!==Qe.isTTML&&(d.textTracks[d.textTracks.length-1].isTTML=Qe.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=Qe.isEmbedded))},removeChild:function Xe(Qe){d&&d.removeChild(Qe)},getVideoWidth:function re(){return d?d.videoWidth:NaN},getVideoHeight:function J(){return d?d.videoHeight:NaN},getVideoRelativeOffsetTop:function q(){var Qe=d.parentNode.host||d.parentNode;return Qe?d.getBoundingClientRect().top-Qe.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function _e(){var Qe=d.parentNode.host||d.parentNode;return Qe?d.getBoundingClientRect().left-Qe.getBoundingClientRect().left:NaN},waitForReadyState:tt,reset:function L(){O.off(b.default.PLAYBACK_PLAYING,he,this)}},function I(){c=Object(g.default)(N).getInstance().getLogger(i),f=NaN}(),i}m.__dashjs_factory_name="VideoModel",p.default=t.default.getSingletonFactory(m)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function P(x,A){return function i(x){if(Array.isArray(x))return x}(x)||function m(x,A){var N=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=N){var O,C,I,T,L=[],y=!0,B=!1;try{if(I=(N=N.call(x)).next,0===A){if(Object(N)!==N)return;y=!1}else for(;!(y=(O=I.call(N)).done)&&(L.push(O.value),L.length!==A);y=!0);}catch(z){B=!0,C=z}finally{try{if(!y&&null!=N.return&&(T=N.return(),Object(T)!==T))return}finally{if(B)throw C}}return L}}(x,A)||d(x,A)||function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(x,A){if(x){if("string"==typeof x)return f(x,A);var N=Object.prototype.toString.call(x).slice(8,-1);if("Object"===N&&x.constructor&&(N=x.constructor.name),"Map"===N||"Set"===N)return Array.from(x);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return f(x,A)}}function f(x,A){(null==A||A>x.length)&&(A=x.length);for(var N=0,O=new Array(A);N<A;N++)O[N]=x[N];return O}function _(x){var L,A=this.context,N=(x=x||{}).requestModifier,O=x.lowLatencyThroughputModel,C=x.boxParser,I=Object(v.default)(A).getInstance();function z(G){var pe,Se=new Date,ce=G.request,ge=new Headers;if(ce.range&&ge.append("Range","bytes="+ce.range),G.headers)for(var Ie in G.headers){var Ce=G.headers[Ie];Ce&&ge.append(Ie,Ce)}ce.requestStartDate||(ce.requestStartDate=Se),N&&N.modifyRequestHeader&&N.modifyRequestHeader({setRequestHeader:function(Oe,je){ge.append(Oe,je)}},{url:G.url}),"function"==typeof window.AbortController&&(pe=new AbortController,G.abortController=pe,pe.signal.onabort=G.onabort);var Ae={method:G.method,headers:ge,credentials:G.withCredentials?"include":void 0,signal:pe?pe.signal:void 0},ke=I.get().streaming.abr.fetchThroughputCalculationMode,he=Date.now(),we=0;new Promise(function(Te){if(ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(we=O.getThroughputCapacityDelayMS(ce,1e3*L.getCurrentBufferLevel(ce.mediaType))))return setTimeout(Te,we);Te()}).then(function(){var Te=Date.now();fetch(G.url,Ae).then(function(Oe){G.response||(G.response={}),G.response.status=Oe.status,G.response.statusText=Oe.statusText,G.response.responseURL=Oe.url,Oe.ok||G.onerror();var Ze,je="",ft=function c(x,A){var N=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!N){if(Array.isArray(x)||(N=d(x))||A&&x&&"number"==typeof x.length){N&&(x=N);var O=0,C=function(){};return{s:C,n:function(){return O>=x.length?{done:!0}:{done:!1,value:x[O++]}},e:function(B){throw B},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,I=!0,T=!1;return{s:function(){N=N.call(x)},n:function(){var B=N.next();return I=B.done,B},e:function(B){T=!0,L=B},f:function(){try{!I&&null!=N.return&&N.return()}finally{if(T)throw L}}}}(Oe.headers.keys());try{for(ft.s();!(Ze=ft.n()).done;){var Re=Ze.value;je+=Re+": "+Oe.headers.get(Re)+"\r\n"}}catch(tt){ft.e(tt)}finally{ft.f()}if(G.response.responseHeaders=je,!Oe.body)return Oe.arrayBuffer().then(function(tt){G.response.response=tt,G.progress({loaded:tt.byteLength,total:tt.byteLength,stream:!1}),G.onload(),G.onend()});var Qe,yt,be=parseInt(Oe.headers.get("Content-Length"),10),Q=0,ie=!1,ye=new Uint8Array,oe=0;if(ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var X=Te,$=0,J=P(Oe.body.tee(),2),_e=J[1];Qe=J[0].getReader(),yt=[],Qe.read().then(function Dt(fe){var We=fe.value,Et=fe.done;if($=Date.now(),We&&We.length){var Wt=$-X,Qt=We.length;yt.push({chunkDownloadTimeRelativeMS:$-Te,chunkDownloadDurationMS:Wt,chunkBytes:Qt,kbps:Math.round(8*Qt/(Wt/1e3)),bufferLevel:L.getCurrentBufferLevel(ce.mediaType)})}if(Et){var qt=$-Te,un=yt.reduce(function(fn,wt){return fn+wt.chunkBytes},0);return O.addMeasurement(ce,qt,yt,he,we,je),void G.progress({loaded:un,total:un,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(ce),stream:!0})}return X=Date.now(),Qe.read().then(Dt)}),G.reader=_e.getReader()}else G.reader=Oe.body.getReader();var xe=[],Ee=[],Ge=[],ct=!0;ne(G,function tt(gt){var Qe=gt.value;if(gt.done){if(ye){if(ke!==b.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Dt=null,fe=null;ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Dt=function le(G,Se){try{var ce,ge;ce=G.filter(function(Te,Oe){return Oe<G.length-1}),ge=Se.filter(function(Te,Oe){return Oe<Se.length-1});var Ie=[];if(ce.length>1){for(var Ce=0,pe=0,Ae=0;Ae<ce.length;Ae++)if(ce[Ae]&&ge[Ae]){var ke=ge[Ae].ts-ce[Ae].ts;if(ke>1)Ie.push(8*ge[Ae].bytes/ke);else{0===pe&&(pe=ce[Ae].ts);var he=ge[Ae].ts-pe;he>1?(Ie.push(8*Ce/he),Ce=0,pe=0):Ce+=ge[Ae].bytes}}if(Ie.length>0)return Ie.reduce(function(Te,Oe){return Te+Oe},0)/Ie.length}return null}catch{return null}}(Ee,Ge))&&(fe=8*Q/Dt):ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(fe=Y(xe,Q)),G.progress({loaded:Q,total:isNaN(be)?Q:be,lengthComputable:!0,time:fe,stream:!0})}G.response.response=ye.buffer}return G.onload(),void G.onend()}if(Qe&&Qe.length>0){ye=function ae(G,Se){if(0===G.length)return Se;var ce=new Uint8Array(G.length+Se.length);return ce.set(G),ce.set(Se,G.length),ce}(ye,Qe),Q+=Qe.length,xe.push({ts:Date.now(),bytes:Qe.length}),ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&ct&&C.findLastTopIsoBoxCompleted(["moof"],ye,oe).found&&(ct=!1,Ee.push({ts:performance.now(),bytes:Qe.length}));var Et=C.findLastTopIsoBoxCompleted(["moov","mdat"],ye,oe);if(Et.found){var Qt,Wt=Et.lastCompletedOffset+Et.size;ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!ct&&(ct=!0,Ge.push({ts:performance.now(),bytes:ye.length})),Wt===ye.length?(Qt=ye,ye=new Uint8Array):(Qt=new Uint8Array(ye.subarray(0,Wt)),ye=ye.subarray(Wt)),G.progress({data:Qt.buffer,lengthComputable:!1,noTrace:!0}),oe=0}else oe=Et.lastCompletedOffset,ie||(G.progress({lengthComputable:!1,noTrace:!0}),ie=!0)}ne(G,tt)})}).catch(function(Oe){G.onerror&&G.onerror(Oe)})})}function ne(G,Se){G.reader.read().then(Se).catch(function(ce){G.onerror&&200===G.response.status&&G.onerror(ce)})}function Y(G,Se){try{if((G=G.filter(function(Ie){return Ie.bytes>Se/4/G.length})).length>1){var ce=0,ge=(G[G.length-1].ts-G[0].ts)/G.length;return G.forEach(function(Ie,Ce){var pe=G[Ce+1];if(pe){var Ae=pe.ts-Ie.ts;ce+=Ae<ge?Ae:0}}),ce}return null}catch{return null}}return{load:function B(G){N&&N.modifyRequest?Object(g.modifyRequest)(G,N).then(function(){return z(G)}):z(G)},abort:function Fe(G){if(G.abortController)G.abortController.abort();else if(G.reader)try{G.reader.cancel(),G.onabort()}catch{}},calculateDownloadedTime:Y,setup:function y(G){L=G.dashMetrics}}}_.__dashjs_factory_name="FetchLoader";var S=t.default.getClassFactory(_);p.default=S},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),v=e(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),b=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),m=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),_=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),S=e(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),x=e(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function A(L){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(L)}function N(L,y,B){return(y=function O(L){var y=function C(L,y){if("object"!==A(L)||null===L)return L;var B=L[Symbol.toPrimitive];if(void 0!==B){var z=B.call(L,y||"default");if("object"!==A(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(L)}(L,"string");return"symbol"===A(y)?y:String(y)}(y))in L?Object.defineProperty(L,y,{value:B,enumerable:!0,configurable:!0,writable:!0}):L[y]=B,L}function I(L){var ce,ge,Ie,Ce,pe,Ae,ke,he,we,y=this.context,B=(L=L||{}).errHandler,z=L.dashMetrics,ne=L.mediaPlayerModel,ae=L.requestModifier,Fe=L.boxParser,Y=L.errors,le=L.requestTimeout||0,G=Object(c.default)(y).getInstance(),Se=Object(f.default)(y).getInstance();function Oe(Re,be){var J,Q=Re.request,ie=[],ye=!0,oe=!0,ee=new Date,X=ee,$=0,re=null;if(!ae||!z||!B)throw new Error("config object is not correct or missing");var Xe,q=function(Qt){if(oe=!1,Q.requestStartDate=ee,Q.requestEndDate=new Date,Q.firstByteDate=Q.firstByteDate||ee,Q.fileLoaderType=re,!Q.checkExistenceOnly){var qt=J.response?J.response.responseURL:null,un=J.response?J.response.status:null,fn=J.response&&J.response.getAllResponseHeaders?J.response.getAllResponseHeaders():J.response?J.response.responseHeaders:[];z.addHttpRequest(Q,qt,un,fn,Qt?ie:null),Q.type===b.HTTPRequest.MPD_TYPE&&z.addManifestUpdate(Q)}},_e=function(){if(-1!==ge.indexOf(J)&&(ge.splice(ge.indexOf(J),1),oe))if(q(!1),be>0){try{Se.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&Q.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&ne.getRetryAttemptsForType(b.HTTPRequest.MEDIA_SEGMENT_TYPE)===be&&G.trigger(d.default.ATTEMPT_BACKGROUND_SYNC)}catch{}be--;var qt={config:Re};Ce.push(qt),qt.timeout=setTimeout(function(){-1!==Ce.indexOf(qt)&&(Ce.splice(Ce.indexOf(qt),1),Oe(Re,be))},ne.getRetryIntervalsForType(Q.type))}else{if(Q.type===b.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new P.default(pe[Q.type],Q.url+" is not available",{request:Q,response:J.response})),Re.error&&Re.error(Q,"error",J.response.statusText),Re.complete&&Re.complete(Q,J.response.statusText)}};Q.hasOwnProperty("availabilityTimeComplete")&&!1===Q.availabilityTimeComplete&&window.fetch&&"arraybuffer"===Q.responseType&&Q.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE?((Xe=Object(v.default)(y).create({requestModifier:ae,lowLatencyThroughputModel:he,boxParser:Fe})).setup({dashMetrics:z}),re=_.default.FILE_LOADER_TYPES.FETCH):(Xe=Object(t.default)(y).create({requestModifier:ae}),re=_.default.FILE_LOADER_TYPES.XHR);var tt=null,gt=ae.modifyRequestURL?ae.modifyRequestURL(Q.url):Q.url;if(Se.get().streaming.cmcd&&Se.get().streaming.cmcd.enabled){var Qe=Se.get().streaming.cmcd.mode;if(Qe===_.default.CMCD_MODE_QUERY){var yt=function je(Re){try{var be=[],Q=Ae.getQueryParameter(Re);return Q&&be.push(Q),be}catch{return[]}}(Q);gt=m.default.addAditionalQueryParameterToUrl(gt,yt)}else Qe===_.default.CMCD_MODE_HEADER&&(tt=Ae.getHeaderParameters(Q))}Q.url=gt;var Dt=Q.checkExistenceOnly?b.HTTPRequest.HEAD:b.HTTPRequest.GET,fe=ke.getXHRWithCredentialsForType(Q.type);J={url:gt,method:Dt,withCredentials:fe,request:Q,onload:function(){J.response.status>=200&&J.response.status<=299&&(q(!0),Re.success&&Re.success(J.response.response,J.response.statusText,J.response.responseURL),Re.complete&&Re.complete(Q,J.response.statusText))},onend:_e,onerror:_e,progress:function(Qt){var qt=new Date;ye&&(ye=!1,(!Qt.lengthComputable||Qt.lengthComputable&&Qt.total!==Qt.loaded)&&(Q.firstByteDate=qt)),Qt.lengthComputable&&(Q.bytesLoaded=Qt.loaded,Q.bytesTotal=Qt.total),Qt.noTrace||(ie.push({s:X,d:Qt.time?Qt.time:qt.getTime()-X.getTime(),b:[Qt.loaded?Qt.loaded-$:0]}),X=qt,$=Qt.loaded),Re.progress&&Qt&&Re.progress(Qt)},onabort:function(){Re.abort&&Re.abort(Q)},ontimeout:function(Qt){var qt;qt=Qt.lengthComputable?"Request timeout: loaded: "+Qt.loaded+", out of: "+Qt.total+" : "+(Qt.loaded/Qt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",we.warn(qt)},loader:Xe,timeout:le,headers:tt};var We=(new Date).getTime();if(isNaN(Q.delayLoadingTime)||We>=Q.delayLoadingTime)ge.push(J),Xe.load(J);else{var Et={httpRequest:J};Ie.push(Et),Et.delayTimeout=setTimeout(function(){if(-1!==Ie.indexOf(Et)){Ie.splice(Ie.indexOf(Et),1);try{X=ee=new Date,ge.push(Et.httpRequest),Xe.load(Et.httpRequest)}catch{Et.httpRequest.onerror()}}},Q.delayLoadingTime-We)}}return ce={load:function ft(Re){Re.request?Oe(Re,ne.getRetryAttemptsForType(Re.request.type)):Re.error&&Re.error(Re.request,"error")},abort:function Ze(){Ce.forEach(function(Re){clearTimeout(Re.timeout),Re.config.request&&Re.config.abort&&Re.config.abort(Re.config.request)}),Ce=[],Ie.forEach(function(Re){return clearTimeout(Re.delayTimeout)}),Ie=[],ge.forEach(function(Re){Re.request.type!==b.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Re.onloadend=Re.onerror=Re.onprogress=void 0,Re.loader.abort(Re))}),ge=[]}},function Te(){var Re;we=Object(i.default)(y).getInstance().getLogger(ce),ge=[],Ie=[],Ce=[],Ae=Object(D.default)(y).getInstance(),he=Object(S.default)(y).getInstance(),ke=Object(x.default)(y).getInstance(),N(Re={},b.HTTPRequest.MPD_TYPE,Y.DOWNLOAD_ERROR_ID_MANIFEST_CODE),N(Re,b.HTTPRequest.XLINK_EXPANSION_TYPE,Y.DOWNLOAD_ERROR_ID_XLINK_CODE),N(Re,b.HTTPRequest.INIT_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),N(Re,b.HTTPRequest.MEDIA_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N(Re,b.HTTPRequest.INDEX_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N(Re,b.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N(Re,b.HTTPRequest.OTHER_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),pe=Re}(),ce}I.__dashjs_factory_name="HTTPLoader";var T=g.default.getClassFactory(I);p.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function b(){var D;function c(){D={}}function f(){c()}return function _(){f()}(),{getLoader:function d(S){for(var x in D)if(D.hasOwnProperty(x)&&S.startsWith(x))return D[x];return v.default},registerLoader:function m(S,x){D[S]=x},unregisterLoader:function i(S){D[S]&&delete D[S]},unregisterAllLoader:c,reset:f}}b.__dashjs_factory_name="SchemeLoaderFactory";var g=t.default.getSingletonFactory(b);p.default=g},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function b(P){P=P||{};var i,c,D=this.context;return i=Object(v.default)(D).getInstance(),{load:function d(_){if(!c){var S=i.getLoader(_&&_.request?_.request.url:null);c=S(D).create({errHandler:P.errHandler,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,dashMetrics:P.dashMetrics,boxParser:P.boxParser?P.boxParser:null,constants:P.constants?P.constants:null,dashConstants:P.dashConstants?P.dashConstants:null,urlUtils:P.urlUtils?P.urlUtils:null,requestTimeout:isNaN(P.requestTimeout)?0:P.requestTimeout,errors:P.errors})}c.load(_)},abort:function f(){c&&c.abort()}}}b.__dashjs_factory_name="URLLoader";var g=t.default.getClassFactory(b);p.default=g},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function b(P){var D=(P=P||{}).requestModifier;function c(f){var _=new Date,S=f.request,x=new XMLHttpRequest;if(x.open(f.method,f.url,!0),S.responseType&&(x.responseType=S.responseType),S.range&&x.setRequestHeader("Range","bytes="+S.range),S.requestStartDate||(S.requestStartDate=_),D&&D.modifyRequestHeader&&(x=D.modifyRequestHeader(x,{url:f.url})),f.headers)for(var A in f.headers){var N=f.headers[A];N&&x.setRequestHeader(A,N)}x.withCredentials=f.withCredentials,x.onload=f.onload,x.onloadend=f.onend,x.onerror=f.onerror,x.onprogress=f.progress,x.onabort=f.onabort,x.ontimeout=f.ontimeout,x.timeout=f.timeout,x.send(),f.response=x}return{load:function i(f){D&&D.modifyRequest?Object(v.modifyRequest)(f,D).then(function(){return c(f)}):c(f)},abort:function d(f){var _=f.response;_.onloadend=_.onerror=_.onprogress=void 0,_.abort()}}}b.__dashjs_factory_name="XHRLoader";var g=t.default.getClassFactory(b);p.default=g},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var m={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};p.default=function(){function c(){!function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}(this,c)}return function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,null,[{key:"findCencContentProtection",value:function(f){for(var _=null,S=0;S<f.length;++S){var x=f[S];"urn:mpeg:dash:mp4protection:2011"===x.schemeIdUri.toLowerCase()&&("cenc"===x.value.toLowerCase()||"cbcs"===x.value.toLowerCase())&&(_=x)}return _}},{key:"getPSSHData",value:function(f){var _=8,S=new DataView(f),x=S.getUint8(_);return _+=20,x>0&&(_+=4+16*S.getUint32(_)),f.slice(_+=4)}},{key:"getPSSHForKeySystem",value:function(f,_){var S=c.parsePSSHList(_);return f&&S.hasOwnProperty(f.uuid.toLowerCase())?S[f.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(f,_){return"pssh"in f?(f.pssh.__text=f.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),_.decodeArray(f.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(f){if(null==f)return[];for(var _=new DataView(f.buffer||f),x={},A=0;;){var O,C=void 0,I=void 0,T=A;if(A>=_.buffer.byteLength)break;if(O=A+_.getUint32(A),1886614376===_.getUint32(A+=4))if(0===(C=_.getUint8(A+=4))||1===C){A++,A+=3,I="";var L=void 0,y=void 0;for(L=0;L<4;L++)I+=1===(y=_.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=4,I+="-",L=0;L<2;L++)I+=1===(y=_.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=2,I+="-",L=0;L<2;L++)I+=1===(y=_.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=2,I+="-",L=0;L<2;L++)I+=1===(y=_.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=2,I+="-",L=0;L<6;L++)I+=1===(y=_.getUint8(A+L).toString(16)).length?"0"+y:y;A+=6,A+=4,x[I=I.toLowerCase()]=_.buffer.slice(T,O),A=O}else A=O;else A=O}return x}},{key:"getLicenseServerUrlFromMediaInfo",value:function(f,_){try{if(!f||0===f.length)return null;for(var S=0,x=null;S<f.length&&!x;){var A=f[S];if(A&&A.contentProtection&&A.contentProtection.length>0){var N=A.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===_});if(N&&N.length>0)for(var O=0;O<N.length&&!x;){for(var C=N[O],I=0;I<m.attributes.length&&!x;){for(var T=0,L=m.attributes[I];T<m.prefixes.length&&!x;)C[L]&&C[L].__prefix&&C[L].__prefix===m.prefixes[T]&&C[L].__text&&(x=C[L].__text),T+=1;I+=1}O+=1}}S+=1}return x}catch{return null}}}]),c}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),v=e(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=e(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),g=e(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),D=e(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),m=e(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),i=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],c=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function d(){var _,S=this.context;function N(O,C){for(var I=0;I<C.length;I++){var T=C[I];if("function"==typeof O[T[Object.keys(T)[0]]])return T}return null}return _={createProtectionSystem:function x(O){var C=null,I=Object(v.default)(S).getInstance();I.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),I.initialize();var T=function A(O){var C=O.debug,I=C.getLogger(_),T=O.eventBus,L=O.errHandler,y=O.videoModel?O.videoModel.getElement():null;return y&&void 0===y.onencrypted||y&&void 0===y.mediaKeys?N(y,c)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(D.default)(S).create({debug:C,eventBus:T,events:O.events,api:N(y,c)})):N(y,i)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(m.default)(S).create({debug:C,eventBus:T,errHandler:L,events:O.events,api:N(y,i)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(P.default)(S).create({debug:C,eventBus:T,events:O.events}))}(O);return!C&&T&&(C=Object(t.default)(S).create({protectionModel:T,protectionKeyController:I,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),C}}}d.__dashjs_factory_name="Protection";var f=dashjs.FactoryMaker.getClassFactory(d);f.events=b.default,f.errors=g.default,dashjs.FactoryMaker.updateClassFactory(d.__dashjs_factory_name,f),p.default=f},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var C=d(I);function I(){var T;return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),(T=C.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));p.default=N},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),b=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),g=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),m=e(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),i=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=e(
/*! ../../../core/Utils */
"./src/core/Utils.js"),d=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(I){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function C(I){var Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,T=(I=I||{}).protectionKeyController,L=I.protectionModel,y=I.eventBus,B=I.events,z=I.debug,ne=I.BASE64,ae=I.constants,Fe=[],Y=I.cmcdModel,le=I.settings,G=I.customParametersModel;function je(){if(!(y&&y.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function be(ze,st){ke||he?ke&&ie():function Q(ze,st){if(!he){he=!0;var xt,at=[];ze=ze.sort(function(on,En){return(Ce&&Ce[on.ks.systemString]&&Ce[on.ks.systemString].priority>=0?Ce[on.ks.systemString].priority:ze.length)-(Ce&&Ce[En.ks.systemString]&&Ce[En.ks.systemString].priority>=0?Ce[En.ks.systemString].priority:ze.length)});for(var St=0;St<ze.length;St++){var bt=yt(ze[St]);at.push({ks:ze[St].ks,configs:[bt],protData:ze[St].protData})}L.requestKeySystemAccess(at).then(function(on){return ce.info("DRM: KeySystem Access Granted for system string ("+((xt=on.data).mksa&&xt.mksa.selectedSystemString?xt.mksa.selectedSystemString:xt.keySystem.systemString)+")!  Selecting key system..."),L.selectKeySystem(xt)}).then(function(on){if(ke=on,he=!1,L){y.trigger(B.KEY_SYSTEM_SELECTED,{data:xt});var En=X(ke);En&&En.serverCertificate&&En.serverCertificate.length>0&&L.setServerCertificate(ne.decodeArray(En.serverCertificate).buffer),ie()}}).catch(function(on){ke=null,he=!1,st||y.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new P.default(g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,g.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+on.error)})})}}(ze,st)}function ie(){for(var ze,st=0;st<ge.length;st++)for(ze=0;ze<ge[st].length;ze++)if(ke===ge[st][ze].ks){ye(ge[st][ze]);break}ge=[]}function ye(ze){if(T.isClearKey(ke)&&ze.protData&&ze.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(ze.protData.clearkeys).length){var st={kids:Object.keys(ze.protData.clearkeys)};ze.initData=(new TextEncoder).encode(JSON.stringify(st))}ze.sessionId?oe(ze):null!==ze.initData&&ee(ze)}function oe(ze){je(),L.loadKeySession(ze)}function ee(ze){var st=t.default.getPSSHForKeySystem(ke,ze?ze.initData:null);if(st){if(function J(ze){if(!ze)return!1;try{for(var st=L.getSessions(),at=0;at<st.length;at++)if(st[at].getKeyId()===ze)return!0;return!1}catch{return!1}}(ze.keyId)||q(st))return;try{ze.initData=st,L.createKeySession(ze)}catch(at){y.trigger(B.KEY_SESSION_CREATED,{data:null,error:new P.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+at.message)})}}else ze&&ze.initData?L.createKeySession(ze):y.trigger(B.KEY_SESSION_CREATED,{data:null,error:new P.default(g.default.KEY_SESSION_CREATED_ERROR_CODE,g.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(ke?ke.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function X(ze){if(ze){var st=ze.systemString;if(Ce)return st in Ce?Ce[st]:null}return null}function q(ze){if(!ze)return!1;try{for(var st=L.getAllInitData(),at=0;at<st.length;at++)if(T.initDataEquals(ze,st[at]))return ce.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ge(ze){je(),ze?(L.setMediaElement(ze),y.on(B.NEED_KEY,vt,Se)):null===ze&&(L.setMediaElement(ze),y.off(B.NEED_KEY,vt,Se))}function yt(ze){var st=ze.protData,at=[],St=[],bt=st&&st.audioRobustness&&st.audioRobustness.length>0?st.audioRobustness:Ae,xt=st&&st.videoRobustness&&st.videoRobustness.length>0?st.videoRobustness:Ae,on=ze.sessionType,En=st&&st.distinctiveIdentifier?st.distinctiveIdentifier:"optional",tn=st&&st.persistentState?st.persistentState:"temporary"===on?"optional":"required";return Ie.forEach(function(Mn){Mn.type===ae.AUDIO?at.push(new v.default(Mn.codec,bt)):Mn.type===ae.VIDEO&&St.push(new v.default(Mn.codec,xt))}),new b.default(at,St,En,tn,[on])}function Dt(ze){ze.error?y.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:ze.error}):ce.debug("DRM: key status = "+ze.status)}function fe(ze){ce.debug("DRM: onKeyMessage");var st=ze.data;y.trigger(B.KEY_MESSAGE,{data:st});var at=st.messageType?st.messageType:"license-request",St=st.message,bt=st.sessionToken,xt=X(ke),on=T.getLicenseServerModelInstance(ke,xt,at),En={sessionToken:bt,messageType:at};if(St&&0!==St.byteLength){if(!on)return ce.debug("DRM: License server request not required for this message (type = "+ze.data.messageType+").  Session ID = "+bt.getSessionId()),void We(En);if(T.isClearKey(ke)){var tn=T.processClearKeyLicenseRequest(ke,xt,St);if(tn&&tn.keyPairs&&tn.keyPairs.length>0)return ce.debug("DRM: ClearKey license request handled by application!"),We(En),void L.updateKeySession(bt,tn)}!function Et(ze,st,at){var St=ze.sessionToken,bt=ze.messageType?ze.messageType:"license-request",xt={sessionToken:St,messageType:bt},on=ke?ke.systemString:null,En=function qt(ze,st,at,St,bt){var xt=null,on=St.message;if(ze&&ze.serverURL){var En=ze.serverURL;"string"==typeof En&&""!==En?xt=En:"object"===_(En)&&En.hasOwnProperty(st)&&(xt=En[st])}else if(ze&&ze.laURL&&""!==ze.laURL)xt=ze.laURL;else if(!(xt=t.default.getLicenseServerUrlFromMediaInfo(Ie,ke.schemeIdURI))&&!T.isClearKey(ke)){var tn=t.default.getPSSHData(at.initData);(xt=ke.getLicenseServerURLFromInitData(tn))||(xt=St.laURL)}return bt.getServerURLFromMessage(xt,on,st)}(at,bt,St,ze,st);if(En){var tn={},Mn=!1;at&&un(tn,at.httpRequestHeaders);var In=ze.message;un(tn,ke.getRequestHeadersFromMessage(In)),Object.keys(tn).forEach(function(Ct){"authorization"===Ct.toLowerCase()&&(Mn=!0)}),at&&"boolean"==typeof at.withCredentials&&(Mn=at.withCredentials);var $n=function(Jt){if(L)if(Jt.status>=200&&Jt.status<=299){var Rt=c.default.parseHttpHeaders(Jt.getAllResponseHeaders?Jt.getAllResponseHeaders():null),xn=new m.default(Jt.responseURL,Rt,Jt.response);wt(G.getLicenseResponseFilters(),xn).then(function(){var It=st.getLicenseMessage(xn.data,on,bt);null!==It?(We(xt),L.updateKeySession(St,It)):fn(Jt,xt,on,bt,st)})}else fn(Jt,xt,on,bt,st)},ni=function(Jt){We(xt,new P.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR aborted. status is "'+Jt.statusText+'" ('+Jt.status+"), readyState is "+Jt.readyState))},vn=function(Jt){We(xt,new P.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR error. status is "'+Jt.statusText+'" ('+Jt.status+"), readyState is "+Jt.readyState))},pn=ke.getLicenseRequestFromMessage(In),yn=st.getHTTPMethod(bt),mn=st.getResponseType(on,bt),_n=at&&!isNaN(at.httpTimeout)?at.httpTimeout:8e3,At=St.getSessionId()||null,ht=new D.default(En,yn,mn,tn,Mn,bt,At,pn),Tn=isNaN(le.get().streaming.retryAttempts[i.HTTPRequest.LICENSE])?3:le.get().streaming.retryAttempts[i.HTTPRequest.LICENSE];wt(G.getLicenseRequestFilters(),ht).then(function(){Wt(ht,Tn,_n,$n,ni,vn)})}else We(xt,new P.default(g.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(st,on,xt)}else We(En,new P.default(g.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function We(ze,st){y.trigger(B.LICENSE_REQUEST_COMPLETE,{data:ze,error:st})}function Wt(ze,st,at,St,bt,xt){var on=new XMLHttpRequest;if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===d.default.CMCD_MODE_QUERY){var tn=Y.getQueryParameter({url:ze.url,type:i.HTTPRequest.LICENSE});tn&&(ze.url=c.default.addAditionalQueryParameterToUrl(ze.url,[tn]))}for(var Mn in on.open(ze.method,ze.url,!0),on.responseType=ze.responseType,on.withCredentials=ze.withCredentials,at>0&&(on.timeout=at),ze.headers)on.setRequestHeader(Mn,ze.headers[Mn]);if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===d.default.CMCD_MODE_HEADER){var Nn=Y.getHeaderParameters({url:ze.url,type:i.HTTPRequest.LICENSE});if(Nn)for(var $n in Nn){var ni=Nn[$n];ni&&on.setRequestHeader($n,ni)}}var vn=function(){st--;var yn=isNaN(le.get().streaming.retryIntervals[i.HTTPRequest.LICENSE])?1e3:le.get().streaming.retryIntervals[i.HTTPRequest.LICENSE];Te=setTimeout(function(){Wt(ze,st,at,St,bt,xt)},yn)};on.onload=function(){we=null,this.status>=200&&this.status<=299||st<=0?St(this):(ce.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+st),vn())},on.ontimeout=on.onerror=function(){we=null,st<=0?xt(this):(ce.warn("License request network request failed . Retrying it... Pending retries: "+st),vn())},on.onabort=function(){bt(this)},y.trigger(B.LICENSE_REQUEST_SENDING,{url:ze.url,headers:ze.headers,payload:ze.data,sessionId:ze.sessionId}),we=on,on.send(ze.data)}function Qt(){we&&(we.onloadend=we.onerror=we.onprogress=void 0,we.abort(),we=null),Te&&(clearTimeout(Te),Te=null)}function un(ze,st){if(st)for(var at in st)ze[at]=st[at]}function fn(ze,st,at,St,bt){var xt="NONE",on=null;ze.response&&(xt=bt.getErrorResponse(ze.response,at,St),on={serverResponse:ze.response||null,responseCode:ze.status||null,responseText:ze.statusText||null}),We(st,new P.default(g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+at+' update, XHR complete. status is "'+ze.statusText+'" ('+ze.status+"), readyState is "+ze.readyState+".  Response is "+xt,on))}function wt(ze,st){return ze?ze.reduce(function(at,St){return at.then(function(){return St(st)})},Promise.resolve()):Promise.resolve()}function vt(ze,st){if(!le.get().streaming.protection.ignoreEmeEncryptedEvent){if(ce.debug("DRM: onNeedKey"),"cenc"!==ze.key.initDataType)return void ce.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+ze.key.initDataType);if(0===Ie.length&&(ce.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(st=typeof st>"u"?1:st+1)<5))return void Fe.push(setTimeout(function(){vt(ze,st)},500));var at=ze.key.initData;if(ArrayBuffer.isView(at)&&(at=at.buffer),ke){var St=t.default.getPSSHForKeySystem(ke,at);if(St&&q(St))return}ce.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(at)));var bt=T.getSupportedKeySystemsFromSegmentPssh(at,Ce,pe);if(0===bt.length)return void ce.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Re(ze){ge.push(ze),be(ze,!1)}(bt)}}return Se={initializeForMedia:function ft(ze){if(!ze)throw new Error("mediaInfo can not be null or undefined");je(),Ie.push(ze)},clearMediaInfoArray:function $(){Ie=[]},handleKeySystemFromManifest:function Ze(){if(Ie&&0!==Ie.length){var ze=[];Ie.forEach(function(st){var at=T.getSupportedKeySystemsFromContentProtection(st.contentProtection,Ce,pe);at.length>0&&(0===ze.length&&(ze=at),ge.push(at))}),ze&&ze.length>0&&be(ze,!0)}},createKeySession:ee,loadKeySession:oe,removeKeySession:function _e(ze){je(),L.removeKeySession(ze)},closeKeySession:function xe(ze){je(),L.closeKeySession(ze)},setServerCertificate:function Ee(ze){je(),L.setServerCertificate(ze)},setMediaElement:Ge,setSessionType:function ct(ze){pe=ze},setRobustnessLevel:function Xe(ze){Ae=ze},setProtectionData:function tt(ze){Ce=ze,T.setProtectionData(ze)},getSupportedKeySystemsFromContentProtection:function re(ze){return je(),T.getSupportedKeySystemsFromContentProtection(ze,Ce,pe)},getKeySystems:function it(){return T?T.getKeySystems():[]},setKeySystems:function He(ze){T&&T.setKeySystems(ze)},stop:function gt(){Qt(),L&&L.stop()},reset:function Qe(){y.off(B.INTERNAL_KEY_MESSAGE,fe,Se),y.off(B.INTERNAL_KEY_STATUS_CHANGED,Dt,Se),je(),Qt(),Ge(null),ke=null,he=!1,L&&(L.reset(),L=null),Fe.forEach(function(ze){return clearTimeout(ze)}),Fe=[],Ie=[],ge=[]}},function Oe(){ce=z.getLogger(Se),ge=[],Ie=[],pe="temporary",Ae="",we=null,Te=null,y.on(B.INTERNAL_KEY_MESSAGE,fe,Se),y.on(B.INTERNAL_KEY_STATUS_CHANGED,Dt,Se)}(),Se}C.__dashjs_factory_name="ProtectionController",p.default=f.default.getClassFactory(C)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),b=e(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),g=e(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),P=e(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),D=e(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),m=e(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),i=e(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),c=e(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),d=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function f(){var S,x,A,N,O,C,I,T,_=this.context;function ge(pe,Ae){return Ae&&pe in Ae?Ae[pe]:null}function Ie(pe,Ae){return pe&&pe.sessionId?pe.sessionId:Ae&&Ae.sessionId?Ae.sessionId:null}function Ce(pe,Ae){return pe&&pe.sessionType?pe.sessionType:Ae}return S={initialize:function y(){var pe;N=[],pe=Object(P.default)(_).getInstance({BASE64:O,settings:C}),N.push(pe),pe=Object(g.default)(_).getInstance({BASE64:O}),N.push(pe),pe=Object(v.default)(_).getInstance({BASE64:O}),N.push(pe),I=pe,pe=Object(b.default)(_).getInstance({BASE64:O,debug:x}),N.push(pe),T=pe},setProtectionData:function ce(pe){for(var ke=0;ke<N.length;ke++){var he=N[ke];he.hasOwnProperty("init")&&he.init((Te=he.systemString,Oe=void 0,Oe=null,pe&&(Oe=Te in pe?pe[Te]:null),Oe))}var Te,Oe},isClearKey:function ae(pe){return pe===I||pe===T},initDataEquals:function Fe(pe,Ae){if(pe.byteLength===Ae.byteLength){for(var ke=new Uint8Array(pe),he=new Uint8Array(Ae),we=0;we<ke.length;we++)if(ke[we]!==he[we])return!1;return!0}return!1},getKeySystems:function B(){return N},setKeySystems:function z(pe){N=pe},getKeySystemBySystemString:function ne(pe){for(var Ae=0;Ae<N.length;Ae++)if(N[Ae].systemString===pe)return N[Ae];return null},getSupportedKeySystemsFromContentProtection:function Y(pe,Ae,ke){var he,we,Te,Oe,je=[];if(pe){var ft=t.default.findCencContentProtection(pe);for(Te=0;Te<N.length;++Te){var Ze=ge((we=N[Te]).systemString,Ae);for(Oe=0;Oe<pe.length;++Oe)if((he=pe[Oe]).schemeIdUri.toLowerCase()===we.schemeIdURI){var Re=we.getInitData(he,ft);je.push({ks:N[Te],keyId:he.keyId,initData:Re,protData:Ze,cdmData:we.getCDMData(Ze?Ze.cdmData:null),sessionId:Ie(Ze,he),sessionType:Ce(Ze,ke)})}}}return je},getSupportedKeySystemsFromSegmentPssh:function le(pe,Ae,ke){for(var Te,he=[],we=t.default.parsePSSHList(pe),je=0;je<N.length;++je){var ft=ge((Te=N[je]).systemString,Ae);Te.uuid in we&&he.push({ks:Te,initData:we[Te.uuid],protData:ft,cdmData:Te.getCDMData(ft?ft.cdmData:null),sessionId:Ie(ft),sessionType:Ce(ft,ke)})}return he},getLicenseServerModelInstance:function G(pe,Ae,ke){if("license-release"===ke||"individualization-request"===ke)return null;var he=null;return Ae&&Ae.hasOwnProperty("drmtoday")?he=Object(D.default)(_).getInstance({BASE64:O}):pe.systemString===d.default.WIDEVINE_KEYSTEM_STRING?he=Object(i.default)(_).getInstance():pe.systemString===d.default.PLAYREADY_KEYSTEM_STRING?he=Object(m.default)(_).getInstance():pe.systemString===d.default.CLEARKEY_KEYSTEM_STRING&&(he=Object(c.default)(_).getInstance()),he},processClearKeyLicenseRequest:function Se(pe,Ae,ke){try{return pe.getClearKeysFromProtectionData(Ae,ke)}catch{return A.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function L(pe){pe&&(pe.debug&&(A=(x=pe.debug).getLogger(S)),pe.BASE64&&(O=pe.BASE64),pe.settings&&(C=pe.settings))}}}f.__dashjs_factory_name="ProtectionKeyController",p.default=dashjs.FactoryMaker.getSingletonFactory(f)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),b=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),g=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="e2719d58-a985-b3c9-781a-b030af78d30e",D=g.default.CLEARKEY_KEYSTEM_STRING,m="urn:uuid:"+P;function i(c){var f=(c=c||{}).BASE64;function x(I){try{var T=I.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(L){return String.fromCharCode(parseInt(L,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:P,schemeIdURI:m,systemString:D,getInitData:function S(I,T){try{var L=b.default.parseInitDataFromContentProtection(I,f);if(!L&&T){var B={kids:[x(T["cenc:default_KID"])]};L=(new TextEncoder).encode(JSON.stringify(B))}return L}catch{return null}},getRequestHeadersFromMessage:function A(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function N(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function C(){return null},getClearKeysFromProtectionData:function _(I,T){var L=null;if(I){for(var y=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],z=0;z<y.kids.length;z++){var ne=y.kids[z],ae=I.clearkeys&&I.clearkeys.hasOwnProperty(ne)?I.clearkeys[ne]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+ne+") is not known!");B.push(new t.default(ne,ae))}L=new v.default(B)}return L}}}i.__dashjs_factory_name="KeySystemClearKey",p.default=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),b="9a04f079-9840-4286-ab92-e65be0885f95",g=v.default.PLAYREADY_KEYSTEM_STRING,P="urn:uuid:"+b;function m(i){var d="utf-16",f=(i=i||{}).BASE64,_=i.settings;function S(){if(!f||!f.hasOwnProperty("decodeArray")||!f.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:b,schemeIdURI:P,systemString:g,getInitData:function O(T){var ne,ae,Fe,Y,le,L=new Uint8Array([112,115,115,104,0,0,0,0]),y=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,z=null;if(S(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,f);if("pro"in T)z=f.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;z=f.decodeArray(T.prheader.__text)}return ae=4+L.length+y.length+4+(ne=z.length),Fe=new ArrayBuffer(ae),Y=new Uint8Array(Fe),(le=new DataView(Fe)).setUint32(B,ae),Y.set(L,B+=4),Y.set(y,B+=L.length),le.setUint32(B+=y.length,ne),Y.set(z,B+=4),B+=ne,Y.buffer},getRequestHeadersFromMessage:function x(T){var L,y,B={},z=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var ne="utf-16"===d?new Uint16Array(T):new Uint8Array(T);L=String.fromCharCode.apply(null,ne);for(var ae=(y=z.parseFromString(L,"application/xml")).getElementsByTagName("name"),Fe=y.getElementsByTagName("value"),Y=0;Y<ae.length;Y++)B[ae[Y].childNodes[0].nodeValue]=Fe[Y].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function A(T){var L=null,y=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&T&&T.byteLength%2==1)return T;var B="utf-16"===d?new Uint16Array(T):new Uint8Array(T);S();var z=String.fromCharCode.apply(null,B),ne=y.parseFromString(z,"application/xml");if(!ne.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var ae=ne.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ae&&(L=f.decode(ae)),L},getLicenseServerURLFromInitData:function N(T){if(T)for(var L=new DataView(T),y=L.getUint16(4,!0),B=6,z=new DOMParser,ne=0;ne<y;ne++){var ae=L.getUint16(B,!0),Fe=L.getUint16(B+=2,!0);if(B+=2,1===ae){var Y=T.slice(B,B+Fe),le=String.fromCharCode.apply(null,new Uint16Array(Y)),G=z.parseFromString(le,"application/xml");if(G.getElementsByTagName("LA_URL")[0]){var Se=G.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Se)return Se}if(G.getElementsByTagName("LUI_URL")[0]){var ce=G.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(ce)return ce}}else B+=Fe}return null},getCDMData:function I(T){var L,y,B,z;if(S(),!T)return null;for(L=[],z=0;z<T.length;++z)L.push(T.charCodeAt(z)),L.push(0);for(L=String.fromCharCode.apply(null,L),L=f.encode(L),y='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",L),B=[],z=0;z<y.length;++z)B.push(y.charCodeAt(z)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function C(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');d=T}}}m.__dashjs_factory_name="KeySystemPlayReady",p.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),b=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),g=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",D=g.default.CLEARKEY_KEYSTEM_STRING,m="urn:uuid:"+P;function i(c){var d,f=c.BASE64,_=c.debug.getLogger(d);return{uuid:P,schemeIdURI:m,systemString:D,getInitData:function x(I){return b.default.parseInitDataFromContentProtection(I,f)},getRequestHeadersFromMessage:function A(){return null},getLicenseRequestFromMessage:function N(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function C(){return null},getClearKeysFromProtectionData:function S(I,T){var L=null;if(I){for(var y=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],z=0;z<y.kids.length;z++){var ne=y.kids[z],ae=I.clearkeys&&I.clearkeys.hasOwnProperty(ne)?I.clearkeys[ne]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+ne+") is not known!");B.push(new t.default(ne,ae))}L=new v.default(B),_.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return L}}}i.__dashjs_factory_name="KeySystemW3CClearKey",p.default=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),b="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",g=v.default.WIDEVINE_KEYSTEM_STRING,P="urn:uuid:"+b;function D(m){var c=(m=m||{}).BASE64;return{uuid:b,schemeIdURI:P,systemString:g,getInitData:function d(A){return t.default.parseInitDataFromContentProtection(A,c)},getRequestHeadersFromMessage:function f(){return null},getLicenseRequestFromMessage:function _(A){return new Uint8Array(A)},getLicenseServerURLFromInitData:function S(){return null},getCDMData:function x(){return null}}}D.__dashjs_factory_name="KeySystemWidevine",p.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function b(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var C=function D(O,C){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===v(C)?C:String(C)}function i(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&c(O,C)}function c(O,C){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function d(O){var C=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(C){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,C){if(C&&("object"===v(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function _(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var C=d(I);function I(){var T;return function m(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),(T=C.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function g(O,C,I){return C&&b(O.prototype,C),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));p.default=N},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),b=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),g=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),P=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),m=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function i(c){var N,O,C,I,T,L,y,B,z,d=this.context,f=(c=c||{}).eventBus,_=c.events,S=c.debug,x=c.api,A=c.errHandler;function ae(){C&&we();for(var Te=0;Te<y.length;Te++)Ie(y[Te]);f.trigger(_.TEARDOWN_COMPLETE)}function Ie(Te){try{C[x.cancelKeyRequest](I.systemString,Te.sessionId)}catch(Oe){f.trigger(_.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Te.sessionId+") "+Oe.message})}}function he(Te,Oe){if(!Oe||!Te)return null;for(var je=Te.length,ft=0;ft<je;ft++)if(Te[ft].sessionId==Oe)return Te[ft];return null}function we(){C.removeEventListener(x.keyerror,z),C.removeEventListener(x.needkey,z),C.removeEventListener(x.keymessage,z),C.removeEventListener(x.keyadded,z)}return N={getAllInitData:function Fe(){for(var Te=[],Oe=0;Oe<L.length;Oe++)Te.push(L[Oe].initData);for(var je=0;je<y.length;je++)Te.push(y[je].initData);return Te},getSessions:function Y(){return y.concat(L)},requestKeySystemAccess:function le(Te){return new Promise(function(Oe,je){var ft=C;ft||(ft=document.createElement("video"));for(var Ze=!1,Re=0;Re<Te.length;Re++)for(var be=Te[Re].ks.systemString,Q=Te[Re].configs,ye=null,oe=0;oe<Q.length;oe++){var ee=Q[oe].videoCapabilities;if(ee&&0!==ee.length){ye=[];for(var X=0;X<ee.length;X++)""!==ft.canPlayType(ee[X].contentType,be)&&ye.push(ee[X])}if(ye&&(!ye||0!==ye.length)){Ze=!0;var $=new P.default(null,ye),re=T.getKeySystemBySystemString(be),J=new D.default(re,$);f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Oe({data:J});break}}if(!Ze){var q="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),je({error:q})}})},selectKeySystem:function G(Te){return I=Te.keySystem,Promise.resolve(I)},setMediaElement:function Se(Te){if(C!==Te){if(C){we();for(var Oe=0;Oe<y.length;Oe++)Ie(y[Oe]);y=[]}(C=Te)&&(C.addEventListener(x.keyerror,z),C.addEventListener(x.needkey,z),C.addEventListener(x.keymessage,z),C.addEventListener(x.keyadded,z),f.trigger(_.VIDEO_ELEMENT_SELECTED))}},createKeySession:function ce(Te){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(B||0===y.length){var Oe={sessionId:null,keyId:Te.keyId,initData:Te.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return L.push(Oe),C[x.generateKeyRequest](I.systemString,new Uint8Array(Te.initData)),Oe}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ge(Te,Oe){var je=Te.sessionId;if(T.isClearKey(I))for(var ft=0;ft<Oe.keyPairs.length;ft++)C[x.addKey](I.systemString,Oe.keyPairs[ft].key,Oe.keyPairs[ft].keyID,je);else C[x.addKey](I.systemString,new Uint8Array(Oe),new Uint8Array(Te.initData),je);f.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:Ie,setServerCertificate:function Ce(){},loadKeySession:function pe(){},removeKeySession:function Ae(){},stop:ae,reset:ae},function ne(){O=S.getLogger(N),C=null,I=null,L=[],y=[],T=Object(t.default)(d).getInstance(),z=function ke(){return{handleEvent:function(Oe){var je=null;switch(Oe.type){case x.needkey:var ft=ArrayBuffer.isView(Oe.initData)?Oe.initData.buffer:Oe.initData;f.trigger(_.NEED_KEY,{key:new v.default(ft,"cenc")});break;case x.keyerror:if((je=he(y,Oe.sessionId))||(je=he(L,Oe.sessionId)),je){var Ze=m.default.MEDIA_KEYERR_CODE,Re="";switch(Oe.errorCode.code){case 1:Ze=m.default.MEDIA_KEYERR_UNKNOWN_CODE,Re+="MEDIA_KEYERR_UNKNOWN - "+m.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Ze=m.default.MEDIA_KEYERR_CLIENT_CODE,Re+="MEDIA_KEYERR_CLIENT - "+m.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Ze=m.default.MEDIA_KEYERR_SERVICE_CODE,Re+="MEDIA_KEYERR_SERVICE - "+m.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Ze=m.default.MEDIA_KEYERR_OUTPUT_CODE,Re+="MEDIA_KEYERR_OUTPUT - "+m.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Ze=m.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Re+="MEDIA_KEYERR_HARDWARECHANGE - "+m.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Ze=m.default.MEDIA_KEYERR_DOMAIN_CODE,Re+="MEDIA_KEYERR_DOMAIN - "+m.default.MEDIA_KEYERR_DOMAIN_MESSAGE}f.trigger(_.KEY_ERROR,{error:new b.default(Ze,Re+="  System Code = "+Oe.systemCode,je)})}else O.error("No session token found for key error");break;case x.keyadded:(je=he(y,Oe.sessionId))||(je=he(L,Oe.sessionId)),je?(O.debug("DRM: Key added."),f.trigger(_.KEY_ADDED,{data:je})):O.debug("No session token found for key added");break;case x.keymessage:if((B=null!=Oe.sessionId)?!(je=he(y,Oe.sessionId))&&L.length>0&&(je=L.shift(),y.push(je),je.sessionId=Oe.sessionId,f.trigger(_.KEY_SESSION_CREATED,{data:je})):L.length>0&&(je=L.shift(),y.push(je),0!==L.length&&A.error(new b.default(m.default.MEDIA_KEY_MESSAGE_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),je){var be=ArrayBuffer.isView(Oe.message)?Oe.message.buffer:Oe.message;je.keyMessage=be,f.trigger(_.INTERNAL_KEY_MESSAGE,{data:new g.default(je,be,Oe.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),N}i.__dashjs_factory_name="ProtectionModel_01b",p.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),b=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),g=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),D=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),m=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),i={};function c(d){var A,N,O,C,I,T,L,y,f=this.context,_=(d=d||{}).eventBus,S=d.events,x=d.debug;function le(Ze,Re,be,Q){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ie="Insecure origins are not allowed";return _.trigger(S.KEY_SYSTEM_ACCESS_COMPLETE,{error:ie}),void Q({error:ie})}var ee=Ze[Re].ks,X=ee.systemString;(function G(Ze,Re){return new Promise(function(be,Q){Se(Ze,Re,0,be,Q)})})((Ze[Re].protData&&Ze[Re].protData.systemStringPriority?Ze[Re].protData.systemStringPriority:null)||(i[X]?i[X]:[X]),Ze[Re].configs).then(function(re){var J="function"==typeof re.getConfiguration?re.getConfiguration():null,q=new D.default(ee,J);q.mksa=re,_.trigger(S.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),be({data:q})}).catch(function(re){if(Re+1<Ze.length)le(Ze,Re+1,be,Q);else{var J="Key system access denied! ";_.trigger(S.KEY_SYSTEM_ACCESS_COMPLETE,{error:J+re.message}),Q({error:J+re.message})}})}function Se(Ze,Re,be,Q,ie){var ye=Ze[be];N.debug("Requesting key system access for system string ".concat(ye)),navigator.requestMediaKeySystemAccess(ye,Re).then(function(oe){oe.selectedSystemString=ye,Q(oe)}).catch(function(oe){be+1<Ze.length?Se(Ze,Re,be+1,Q,ie):ie(oe)})}function we(Ze){var Re=Ze.session;return Re.removeEventListener("keystatuseschange",Ze),Re.removeEventListener("message",Ze),Re.close()}function Oe(Ze){for(var Re=0;Re<T.length;Re++)if(T[Re]===Ze){T.splice(Re,1);break}}function je(Ze){var Re,be;return Ze&&Ze.length>0&&(Ze[0]&&("string"==typeof Ze[0]?Re=Ze[0]:be=Ze[0]),Ze[1]&&("string"==typeof Ze[1]?Re=Ze[1]:be=Ze[1])),{status:Re,keyId:be}}function ft(Ze,Re){var be={session:Ze,keyId:Re.keyId,initData:Re.initData,sessionId:Re.sessionId,sessionType:Re.sessionType,handleEvent:function(ie){switch(ie.type){case"keystatuseschange":_.trigger(S.KEY_STATUSES_CHANGED,{data:this}),ie.target.keyStatuses.forEach(function(){var oe=je(arguments);_.trigger(S.INTERNAL_KEY_STATUS_CHANGED,"expired"===oe.status?{error:new g.default(b.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,b.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:oe)});break;case"message":var ye=ArrayBuffer.isView(ie.message)?ie.message.buffer:ie.message;_.trigger(S.INTERNAL_KEY_MESSAGE,{data:new P.default(this,ye,void 0,ie.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Ze.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Ze.expiration},getKeyStatuses:function(){return Ze.keyStatuses},getUsable:function(){var ie=!1;return Ze.keyStatuses.forEach(function(){"usable"===je(arguments).status&&(ie=!0)}),ie}};return Ze.addEventListener("keystatuseschange",be),Ze.addEventListener("message",be),Ze.closed.then(function(){Oe(be),N.debug("DRM: Session closed.  SessionID = "+be.getSessionId()),_.trigger(S.KEY_SESSION_CLOSED,{data:be.getSessionId()})}),T.push(be),be}return A={getAllInitData:function ae(){for(var Ze=[],Re=0;Re<T.length;Re++)T[Re].initData&&Ze.push(T[Re].initData);return Ze},getSessions:function Fe(){return T},requestKeySystemAccess:function Y(Ze){return new Promise(function(Re,be){le(Ze,0,Re,be)})},selectKeySystem:function ce(Ze){return new Promise(function(Re,be){Ze.mksa.createMediaKeys().then(function(Q){return O=Ze.keySystem,I=Q,C?C.setMediaKeys(I):Promise.resolve()}).then(function(){Re(O)}).catch(function(){be({error:"Error selecting keys system ("+Ze.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ge(Ze){C!==Ze&&(C&&(C.removeEventListener("encrypted",L),C.setMediaKeys&&C.setMediaKeys(null)),(C=Ze)&&(C.addEventListener("encrypted",L),C.setMediaKeys&&I&&C.setMediaKeys(I)))},setServerCertificate:function Ie(Ze){if(!O||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(Ze).then(function(){N.info("DRM: License server certificate successfully updated."),_.trigger(S.SERVER_CERTIFICATE_UPDATED)}).catch(function(Re){_.trigger(S.SERVER_CERTIFICATE_UPDATED,{error:new g.default(b.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,b.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Re.name)})})},createKeySession:function Ce(Ze){if(!O||!I)throw new Error("Can not create sessions until you have selected a key system");var Re=I.createSession(Ze.sessionType),be=ft(Re,Ze);Re.generateRequest(O.systemString===m.default.CLEARKEY_KEYSTEM_STRING&&(Ze.initData||Ze.protData&&Ze.protData.clearkeys)?m.default.INITIALIZATION_DATA_TYPE_KEYIDS:m.default.INITIALIZATION_DATA_TYPE_CENC,Ze.initData).then(function(){N.debug("DRM: Session created.  SessionID = "+be.getSessionId()),_.trigger(S.KEY_SESSION_CREATED,{data:be})}).catch(function(ie){Oe(be),_.trigger(S.KEY_SESSION_CREATED,{data:null,error:new g.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ie.name)})})},updateKeySession:function pe(Ze,Re){var be=Ze.session;y.isClearKey(O)&&(Re=Re.toJWK()),be.update(Re).then(function(){_.trigger(S.KEY_SESSION_UPDATED)}).catch(function(Q){_.trigger(S.KEY_ERROR,{error:new g.default(b.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+Q.name,Ze)})})},loadKeySession:function Ae(Ze){if(!O||!I)throw new Error("Can not load sessions until you have selected a key system");for(var Re=Ze.sessionId,be=0;be<T.length;be++)if(Re===T[be].sessionId)return void N.warn("DRM: Ignoring session ID because we have already seen it!");var Q=I.createSession(Ze.sessionType),ie=ft(Q,Ze);Q.load(Re).then(function(ye){ye?(N.debug("DRM: Session loaded.  SessionID = "+ie.getSessionId()),_.trigger(S.KEY_SESSION_CREATED,{data:ie})):(Oe(ie),_.trigger(S.KEY_SESSION_CREATED,{data:null,error:new g.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Re+")")}))}).catch(function(ye){Oe(ie),_.trigger(S.KEY_SESSION_CREATED,{data:null,error:new g.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Re+")! "+ye.name)})})},removeKeySession:function ke(Ze){Ze.session.remove().then(function(){N.debug("DRM: Session removed.  SessionID = "+Ze.getSessionId()),_.trigger(S.KEY_SESSION_REMOVED,{data:Ze.getSessionId()})},function(be){_.trigger(S.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Ze.getSessionId()+"). "+be.name})})},closeKeySession:function he(Ze){we(Ze).catch(function(Re){Oe(Ze),_.trigger(S.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ze.getSessionId()+") "+Re.name})})},stop:function ne(){for(var Ze,Re=0;Re<T.length;Re++)(Ze=T[Re]).getUsable()||we(Ze).catch(function(){Oe(Ze)})},reset:function z(){var Re,Ze=T.length;0!==Ze?function(){for(var be=function(ye){Oe(ye),0===T.length&&(C?(C.removeEventListener("encrypted",L),C.setMediaKeys(null).then(function(){_.trigger(S.TEARDOWN_COMPLETE)})):_.trigger(S.TEARDOWN_COMPLETE))},Q=0;Q<Ze;Q++)!function(ie){Re.session.closed.then(function(){be(ie)}),we(Re).catch(function(){be(ie)})}(Re=T[Q])}():_.trigger(S.TEARDOWN_COMPLETE)}},function B(){N=x.getLogger(A),O=null,C=null,I=null,T=[],y=Object(t.default)(f).getInstance(),L=function Te(){return{handleEvent:function(Re){if("encrypted"===Re.type&&Re.initData){var be=ArrayBuffer.isView(Re.initData)?Re.initData.buffer:Re.initData;_.trigger(S.NEED_KEY,{key:new v.default(be,Re.initDataType)})}}}}()}(),A}i[m.default.PLAYREADY_KEYSTEM_STRING]=[m.default.PLAYREADY_KEYSTEM_STRING,m.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],i[m.default.WIDEVINE_KEYSTEM_STRING]=[m.default.WIDEVINE_KEYSTEM_STRING],i[m.default.CLEARKEY_KEYSTEM_STRING]=[m.default.CLEARKEY_KEYSTEM_STRING],c.__dashjs_factory_name="ProtectionModel_21Jan2015",p.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),b=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),g=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),D=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),m=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function i(c){var A,N,O,C,I,T,L,y,B,d=this.context,f=(c=c||{}).eventBus,_=c.events,S=c.debug,x=c.api;function ne(){try{for(var we=0;we<L.length;we++)ge(L[we]);O&&O.removeEventListener(x.needkey,y),f.trigger(_.TEARDOWN_COMPLETE)}catch(Te){f.trigger(_.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Te.message})}}function ge(we){var Te=we.session;Te.removeEventListener(x.error,we),Te.removeEventListener(x.message,we),Te.removeEventListener(x.ready,we),Te.removeEventListener(x.close,we);for(var Oe=0;Oe<L.length;Oe++)if(L[Oe]===we){L.splice(Oe,1);break}Te[x.release]()}function ke(){var we=null,Te=function(){O.removeEventListener("loadedmetadata",we),O[x.setMediaKeys](I),f.trigger(_.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?Te():(we=Te.bind(this),O.addEventListener("loadedmetadata",we))}return A={getAllInitData:function ae(){for(var we=[],Te=0;Te<L.length;Te++)we.push(L[Te].initData);return we},getSessions:function Fe(){return L},requestKeySystemAccess:function Y(we){return new Promise(function(Te,Oe){for(var je=!1,ft=0;ft<we.length;ft++)for(var Ze=we[ft].ks.systemString,Re=we[ft].configs,be=null,Q=null,ie=0;ie<Re.length;ie++){var ye=Re[ie].audioCapabilities,oe=Re[ie].videoCapabilities;if(ye&&0!==ye.length){be=[];for(var ee=0;ee<ye.length;ee++)window[x.MediaKeys].isTypeSupported(Ze,ye[ee].contentType)&&be.push(ye[ee])}if(oe&&0!==oe.length){Q=[];for(var X=0;X<oe.length;X++)window[x.MediaKeys].isTypeSupported(Ze,oe[X].contentType)&&Q.push(oe[X])}if(!(!be&&!Q||be&&0===be.length||Q&&0===Q.length)){je=!0;var $=new D.default(be,Q),re=B.getKeySystemBySystemString(Ze),J=new m.default(re,$);f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Te({data:J});break}}if(!je){var q="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),Oe({error:q})}})},selectKeySystem:function le(we){return new Promise(function(Te,Oe){try{I=we.mediaKeys=new window[x.MediaKeys](we.keySystem.systemString),C=we.keySystem,T=we,O&&ke(),Te(C)}catch{Oe({error:"Error selecting keys system ("+C.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function G(we){O!==we&&(O&&O.removeEventListener(x.needkey,y),(O=we)&&(O.addEventListener(x.needkey,y),I&&ke()))},createKeySession:function Se(we){if(!C||!I||!T)throw new Error("Can not create sessions until you have selected a key system");var Te=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(Te=T.ksConfiguration.videoCapabilities[0]),null===Te&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(Te=T.ksConfiguration.audioCapabilities[0]),null===Te)throw new Error("Can not create sessions for unknown content types.");var je=I.createSession(Te.contentType,new Uint8Array(we.initData),we.cdmData?new Uint8Array(we.cdmData):null),ft=function he(we,Te){return{session:we,keyId:Te.keyId,initData:Te.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(je){switch(je.type){case x.error:f.trigger(_.KEY_ERROR,{error:new b.default(g.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case x.message:var Ze=ArrayBuffer.isView(je.message)?je.message.buffer:je.message;f.trigger(_.INTERNAL_KEY_MESSAGE,{data:new P.default(this,Ze,je.destinationURL)});break;case x.ready:N.debug("DRM: Key added."),f.trigger(_.KEY_ADDED);break;case x.close:N.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),f.trigger(_.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(je,we);je.addEventListener(x.error,ft),je.addEventListener(x.message,ft),je.addEventListener(x.ready,ft),je.addEventListener(x.close,ft),L.push(ft),N.debug("DRM: Session created.  SessionID = "+ft.getSessionId()),f.trigger(_.KEY_SESSION_CREATED,{data:ft})},updateKeySession:function ce(we,Te){var Oe=we.session;B.isClearKey(C)?Oe.update(new Uint8Array(Te.toJWK())):Oe.update(new Uint8Array(Te)),f.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:ge,setServerCertificate:function Ie(){},loadKeySession:function Ce(){},removeKeySession:function pe(){},stop:ne,reset:ne},function z(){N=S.getLogger(A),O=null,C=null,I=null,T=null,L=[],B=Object(t.default)(d).getInstance(),y=function Ae(){return{handleEvent:function(Te){if(Te.type===x.needkey&&Te.initData){var Oe=ArrayBuffer.isView(Te.initData)?Te.initData.buffer:Te.initData;f.trigger(_.NEED_KEY,{key:new v.default(Oe,"cenc")})}}}}()}(),A}i.__dashjs_factory_name="ProtectionModel_3Feb2014",p.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function b(){return{getServerURLFromMessage:function P(d){return d},getHTTPMethod:function D(){return"POST"},getResponseType:function m(){return"json"},getLicenseMessage:function i(d){if(!d.hasOwnProperty("keys"))return null;for(var f=[],_=0;_<d.keys.length;_++){var S=d.keys[_],x=S.kid.replace(/=/g,""),A=S.k.replace(/=/g,"");f.push(new t.default(x,A))}return new v.default(f)},getErrorResponse:function c(d){return String.fromCharCode.apply(null,new Uint8Array(d))}}}b.__dashjs_factory_name="ClearKey",p.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(b){var g=(b=b||{}).BASE64,P={};return P[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(x){return g.decodeArray(x.license)},getErrorResponse:function(x){return x}},P[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(x){return x},getErrorResponse:function(x){return String.fromCharCode.apply(null,new Uint8Array(x))}},{getServerURLFromMessage:function i(S){return S},getHTTPMethod:function c(){return"POST"},getResponseType:function d(S){return P[S].responseType},getLicenseMessage:function f(S,x){return function m(){if(!g||!g.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),P[x].getLicenseMessage(S)},getErrorResponse:function _(S,x){return P[x].getErrorResponse(S)}}}v.__dashjs_factory_name="DRMToday",p.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){var b="http://schemas.xmlsoap.org/soap/envelope/";function g(_){var S=String.fromCharCode.apply(null,new Uint8Array(_));return decodeURIComponent(escape(S))}function P(_){if(window.DOMParser){var S=g(_),A=(new window.DOMParser).parseFromString(S,"text/xml"),N=A?A.getElementsByTagNameNS(b,"Envelope")[0]:null,O=N?N.getElementsByTagNameNS(b,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(b,"Fault")[0])return null}return _}function D(_){var S="",x="",A="",N=-1,O=-1;if(window.DOMParser){var C=g(_),T=(new window.DOMParser).parseFromString(C,"text/xml"),L=T?T.getElementsByTagNameNS(b,"Envelope")[0]:null,y=L?L.getElementsByTagNameNS(b,"Body")[0]:null,B=y?y.getElementsByTagNameNS(b,"Fault")[0]:null,z=B?B.getElementsByTagName("detail")[0]:null,ne=z?z.getElementsByTagName("Exception")[0]:null,ae=null;if(null===B)return C;S=(ae=B.getElementsByTagName("faultstring")[0].firstChild)?ae.nodeValue:null,null!==ne&&(x=(ae=ne.getElementsByTagName("StatusCode")[0])?ae.firstChild.nodeValue:null,N=(A=(ae=ne.getElementsByTagName("Message")[0])?ae.firstChild.nodeValue:null)?A.lastIndexOf("[")+1:-1,O=A?A.indexOf("]"):-1,A=A?A.substring(N,O):"")}var Fe="code: ".concat(x,", name: ").concat(S);return A&&(Fe+=", message: ".concat(A)),Fe}return{getServerURLFromMessage:function m(_){return _},getHTTPMethod:function i(){return"POST"},getResponseType:function c(){return"arraybuffer"},getLicenseMessage:function d(_){return P.call(this,_)},getErrorResponse:function f(_){return D.call(this,_)}}}e.r(p),t.__dashjs_factory_name="PlayReady",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){return{getServerURLFromMessage:function b(i){return i},getHTTPMethod:function g(){return"POST"},getResponseType:function P(){return"arraybuffer"},getLicenseMessage:function D(i){return i},getErrorResponse:function m(i){return String.fromCharCode.apply(null,new Uint8Array(i))}}}e.r(p),t.__dashjs_factory_name="Widevine",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c,d){if(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),d&&"persistent"!==d&&"temporary"!==d)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=c,this.type=d}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"toJWK",value:function(){var d,f=this.keyPairs.length,_={keys:[]};for(d=0;d<f;d++)_.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[d].keyID,k:this.keyPairs[d].key});this.type&&(_.type=this.type);var x=JSON.stringify(_),A=x.length,N=new ArrayBuffer(A),O=new Uint8Array(N);for(d=0;d<A;d++)O[d]=x.charCodeAt(d);return N}}]),i}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f,_){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.sessionToken=c,this.message=d,this.defaultURL=f,this.messageType=_||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.keyID=c,this.key=d})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.keySystem=c,this.ksConfiguration=d})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f,_,S){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.initDataTypes=["cenc"],c&&c.length&&(this.audioCapabilities=c),d&&d.length&&(this.videoCapabilities=d),this.distinctiveIdentifier=f,this.persistentState=_,this.sessionTypes=S})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f,_,S,x,A,N){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=c,this.method=d,this.responseType=f,this.headers=_,this.withCredentials=S,this.messageType=x,this.sessionId=A,this.data=N})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=c,this.headers=d,this.data=f})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.contentType=c,this.robustness=d})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.initData=c,this.initDataType=d})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var g={},P={},D={};return{push:function m(f,_,S){if(_){g[f]||(g[f]=[],P[f]=0,D[f]=0);var x=S&&S.droppedVideoFrames?S.droppedVideoFrames:0,A=S&&S.totalVideoFrames?S.totalVideoFrames:0,N=x-P[f];P[f]=x;var O=A-D[f];D[f]=A;var C=g[f];isNaN(_)||(C[_]?(C[_].droppedVideoFrames+=N,C[_].totalVideoFrames+=O):C[_]={droppedVideoFrames:N,totalVideoFrames:O})}},getFrameHistory:function i(f){return g[f]},clearForStream:function c(f){try{delete g[f],delete P[f],delete D[f]}catch{}},reset:function d(){g={},P={},D={}}}}v.__dashjs_factory_name="DroppedFramesHistory";var b=t.default.getClassFactory(v);p.default=b},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var P=(b=b||{}).abrController,D=b.switchHistory,m=b.droppedFramesHistory,i=b.currentRequest,c=b.useBufferOccupancyABR,d=b.useL2AABR,f=b.useLoLPABR,_=b.streamProcessor?b.streamProcessor.getScheduleController():null,S=b.streamProcessor?b.streamProcessor.getRepresentationInfo():null,x=b.videoModel?b.videoModel:null;function O(){return S?S.mediaInfo:null}return{getMediaType:function A(){var Y=O();return Y?Y.type:null},getMediaInfo:O,getDroppedFramesHistory:function B(){return m},getCurrentRequest:function z(){return i},getSwitchHistory:function L(){return D},getStreamInfo:function N(){var Y=O();return Y?Y.streamInfo:null},getScheduleController:function I(){return _},getAbrController:function T(){return P},getRepresentationInfo:function C(){return S},useBufferOccupancyABR:function ne(){return c},useL2AABR:function ae(){return d},useLoLPABR:function Fe(){return f},getVideoModel:function y(){return x}}}v.__dashjs_factory_name="RulesContext",p.default=t.default.getClassFactory(v)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b={DEFAULT:.5,STRONG:1,WEAK:0};function g(D,m,i){return{quality:void 0===D?-1:D,reason:void 0===m?null:m,priority:function S(x){var A=b.DEFAULT;return(x===b.DEFAULT||x===b.STRONG||x===b.WEAK)&&(A=x),A}(i)}}g.__dashjs_factory_name="SwitchRequest";var P=t.default.getClassFactory(g);P.NO_CHANGE=-1,P.PRIORITY=b,t.default.updateClassFactory(g.__dashjs_factory_name,P),p.default=P},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function g(){var D=[],m=[];return{push:function i(f){f.newValue===v.default.NO_CHANGE&&(f.newValue=f.oldValue),D[f.oldValue]||(D[f.oldValue]={noDrops:0,drops:0,dropSize:0});var _=f.newValue-f.oldValue,S=_<0?1:0,x=S?-_:0,A=S?0:1;if(D[f.oldValue].drops+=S,D[f.oldValue].dropSize+=x,D[f.oldValue].noDrops+=A,m.push({idx:f.oldValue,noDrop:A,drop:S,dropSize:x}),m.length>8){var N=m.shift();D[N.idx].drops-=N.drop,D[N.idx].dropSize-=N.dropSize,D[N.idx].noDrops-=N.noDrop}},getSwitchRequests:function c(){return D},reset:function d(){D=[],m=[]}}}g.__dashjs_factory_name="SwitchRequestHistory";var P=t.default.getClassFactory(g);p.default=P},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(g){var N,O,C,I,T,D=3,m=4,i=4,c=1.3,d=1.3,A=(g=g||{}).settings;function z(pe,Ae,ke,he){var we=Math.pow(.5,ke/he.fast);pe.fastEstimate=(1-we)*Ae+we*pe.fastEstimate;var Te=Math.pow(.5,ke/he.slow);pe.slowEstimate=(1-Te)*Ae+Te*pe.slowEstimate,pe.totalWeight+=ke}function ae(pe,Ae,ke){return A.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function Y(pe,Ae){var ke=pe?T.throughputHalfLife:T.latencyHalfLife,he=pe?C[Ae]:I[Ae];if(!he||he.totalWeight<=0)return NaN;var we=he.fastEstimate/(1-Math.pow(.5,he.totalWeight/ke.fast)),Te=he.slowEstimate/(1-Math.pow(.5,he.totalWeight/ke.slow));return pe?Math.min(we,Te):Math.max(we,Te)}(pe,Ae):function Fe(pe,Ae,ke){var he=function ne(pe,Ae,ke){var he,we;if(pe?(he=N[Ae],we=ke?D:m):(he=O[Ae],we=i),he){if(we>=he.length)we=he.length;else if(pe)for(var Te=1;Te<we;++Te){var Oe=he[he.length-Te]/he[he.length-Te-1];if((Oe>=d||Oe<=1/c)&&(we+=1)===he.length)break}}else we=0;return we}(pe,Ae,ke),Te=(pe?N:O)[Ae];return 0!==he&&Te&&0!==Te.length?(Te=Te.slice(-he)).reduce(function(Oe,je){return Oe+je})/Te.length:NaN}(pe,Ae,ke)}function le(pe,Ae){return ae(!0,pe,Ae)}function ce(pe){N[pe]=N[pe]||[],O[pe]=O[pe]||[],C[pe]=C[pe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[pe]=I[pe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Ie(){N={},O={},C={},I={}}var Ce={push:function B(pe,Ae,ke){if(Ae.trace&&Ae.trace.length){var Oe,he=Ae.tresponse.getTime()-Ae.trequest.getTime()||1,we=Ae._tfinish.getTime()-Ae.tresponse.getTime()||1,Te=Ae.trace.reduce(function(ft,Ze){return ft+Ze.b[0]},0),je=0;if(0!==(Oe=Ae._fileLoaderType&&Ae._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Ae.trace.reduce(function(ft,Ze){return ft+Ze.d},0):ke?we:he+we)&&(je=Math.round(8*Te/Oe)),ce(pe),function y(pe,Ae,ke){return pe===t.default.VIDEO?ke<A.get().streaming.cacheLoadThresholds[t.default.VIDEO]:pe===t.default.AUDIO?ke<A.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(pe,0,we)){if(N[pe].length>0&&!N[pe].hasCachedEntries)return;N[pe].hasCachedEntries=!0}else N[pe]&&N[pe].hasCachedEntries&&function ge(pe){delete N[pe],delete O[pe],delete C[pe],delete I[pe],ce(pe)}(pe);N[pe].push(je),N[pe].length>20&&N[pe].shift(),O[pe].push(he),O[pe].length>20&&O[pe].shift(),z(C[pe],je,.001*we,T.throughputHalfLife),z(I[pe],he,1,T.latencyHalfLife)}},getAverageThroughput:le,getSafeAverageThroughput:function G(pe,Ae){var ke=le(pe,Ae);return isNaN(ke)||(ke*=A.get().streaming.abr.bandwidthSafetyFactor),ke},getAverageLatency:function Se(pe){return ae(!1,pe)},reset:Ie};return function L(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Ie()}(),Ce}b.__dashjs_factory_name="ThroughputHistory",p.default=v.default.getClassFactory(b)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),v=e(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),b=e(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),g=e(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),P=e(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),D=e(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),m=e(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),i=e(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),c=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),f=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),_="qualitySwitchRules",S="abandonFragmentRules";function x(N){var B,z,O=this.context,C=(N=N||{}).mediaPlayerModel,I=N.customParametersModel,T=N.dashMetrics,L=N.settings;function ae(ce){return ce.filter(function(ge){return ge.quality>d.default.NO_CHANGE})}function Fe(ce){var Ce,pe,Ae,ke,he,ge={},Ie=null;if(0!==ce.length){for(ge[d.default.PRIORITY.STRONG]={quality:d.default.NO_CHANGE,reason:null},ge[d.default.PRIORITY.WEAK]={quality:d.default.NO_CHANGE,reason:null},ge[d.default.PRIORITY.DEFAULT]={quality:d.default.NO_CHANGE,reason:null},Ce=0,pe=ce.length;Ce<pe;Ce+=1)(Ae=ce[Ce]).quality!==d.default.NO_CHANGE&&(ge[Ae.priority].quality===d.default.NO_CHANGE||ge[Ae.priority].quality>Ae.quality)&&(ge[Ae.priority].quality=Ae.quality,ge[Ae.priority].reason=Ae.reason||null);return ge[d.default.PRIORITY.WEAK].quality!==d.default.NO_CHANGE&&(Ie=ge[d.default.PRIORITY.WEAK]),ge[d.default.PRIORITY.DEFAULT].quality!==d.default.NO_CHANGE&&(Ie=ge[d.default.PRIORITY.DEFAULT]),ge[d.default.PRIORITY.STRONG].quality!==d.default.NO_CHANGE&&(Ie=ge[d.default.PRIORITY.STRONG]),Ie&&(ke=Ie.quality,he=Ie.reason),Object(d.default)(O).create(ke,he)}}return{initialize:function ne(){B=[],z=[],L.get().streaming.abr.useDefaultABRRules&&(L.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_L2A?B.push(Object(m.default)(O).create({dashMetrics:T,settings:L})):L.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_LoLP?B.push(Object(i.default)(O).create({dashMetrics:T})):(B.push(Object(D.default)(O).create({dashMetrics:T,mediaPlayerModel:C,settings:L})),B.push(Object(t.default)(O).create({dashMetrics:T})),L.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(v.default)(O).create({dashMetrics:T,settings:L})),L.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(P.default)(O).create()),L.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(g.default)(O).create()),L.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&z.push(Object(b.default)(O).create({dashMetrics:T,mediaPlayerModel:C,settings:L})))),I.getAbrCustomRules().forEach(function(ge){ge.type===_&&B.push(ge.rule(O).create()),ge.type===S&&z.push(ge.rule(O).create())})},reset:function G(){[B,z].forEach(function(ce){ce&&ce.length&&ce.forEach(function(ge){return ge.reset&&ge.reset()})}),B=[],z=[]},getMaxQuality:function Y(ce){return Fe(ae(B.map(function(pe){return pe.getMaxIndex(ce)})))||Object(d.default)(O).create()},getMinSwitchRequest:Fe,shouldAbandonFragment:function le(ce,ge){return Fe(ae(z.map(function(Ae){return Ae.shouldAbandon(ce,ge)})))||Object(d.default)(O).create()},getQualitySwitchRules:function Se(){return B}}}x.__dashjs_factory_name="ABRRulesCollection";var A=c.default.getClassFactory(x);A.QUALITY_SWITCH_RULES=_,A.ABANDON_FRAGMENT_RULES=S,c.default.updateSingletonFactory(x.__dashjs_factory_name,A),p.default=A},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function g(P){var S,x,A,N,O,c=this.context,d=(P=P||{}).mediaPlayerModel,f=P.dashMetrics,_=P.settings;function y(){A={},N={},O=[]}return S={shouldAbandon:function L(B){var z=Object(t.default)(c).create(t.default.NO_CHANGE,{name:g.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return z;var ne=B.getMediaInfo(),ae=B.getMediaType(),Fe=B.getStreamInfo(),Y=Fe?Fe.id:null,le=B.getCurrentRequest();if(!isNaN(le.index)){!function I(B,z){A[B]=A[B]||{},A[B][z]=A[B][z]||{}}(ae,le.index);var G=d.getStableBufferTime();if(f.getCurrentBufferLevel(ae)>G)return z;var ce=A[ae][le.index];if(null===ce||null===le.firstByteDate||N.hasOwnProperty(ce.id))return z;if(void 0===ce.firstByteTime&&(O[ae]=[],ce.firstByteTime=le.firstByteDate.getTime(),ce.segmentDuration=le.duration,ce.bytesTotal=le.bytesTotal,ce.id=le.index),ce.bytesLoaded=le.bytesLoaded,ce.elapsedTime=(new Date).getTime()-ce.firstByteTime,ce.bytesLoaded>0&&ce.elapsedTime>0&&function T(B,z){O[B]=O[B]||[],O[B].push(z)}(ae,Math.round(8*ce.bytesLoaded/ce.elapsedTime)),O[ae].length>=5&&ce.elapsedTime>500&&ce.bytesLoaded<ce.bytesTotal){var ge=O[ae].reduce(function(Te,Oe){return Te+Oe},0);if(ce.measuredBandwidthInKbps=Math.round(ge/O[ae].length),ce.estimatedTimeOfDownload=+(8*ce.bytesTotal/ce.measuredBandwidthInKbps/1e3).toFixed(2),ce.estimatedTimeOfDownload<1.8*ce.segmentDuration||0===B.getRepresentationInfo().quality)return z;if(!N.hasOwnProperty(ce.id)){var Ie=B.getAbrController(),Ce=ce.bytesTotal-ce.bytesLoaded,pe=Ie.getBitrateList(ne),Ae=Ie.getQualityForBitrate(ne,ce.measuredBandwidthInKbps*_.get().streaming.abr.bandwidthSafetyFactor,Y),ke=Ie.getMinAllowedIndexFor(ae,Y),he=void 0!==ke?Math.max(ke,Ae):Ae;Ce>ce.bytesTotal*pe[he].bitrate/pe[Ie.getQualityFor(ae,Y)].bitrate&&(z.quality=he,z.reason.throughput=ce.measuredBandwidthInKbps,z.reason.fragmentID=ce.id,N[ce.id]=ce,x.debug("["+ae+"] frag id",ce.id," is asking to abandon and switch to quality to ",he," measured bandwidth was",ce.measuredBandwidthInKbps),delete A[ae][ce.id])}}else ce.bytesLoaded===ce.bytesTotal&&delete A[ae][ce.id]}return z},reset:y},function C(){x=Object(b.default)(c).getInstance().getLogger(S),y()}(),S}g.__dashjs_factory_name="AbandonRequestsRule",p.default=v.default.getClassFactory(g)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),S=10;function N(O){var y,B,z,C=this.context,I=(O=O||{}).dashMetrics,T=O.mediaPlayerModel,L=Object(P.default)(C).getInstance();function Fe(Re,be,Q){var ie=Q.reduce(function(X,$,re){return $>Q[X]?re:X},0);if(0===ie)return null;var ye=Math.max(Re,S+2*be.length),oe=(Q[ie]-1)/(ye/S-1);return{gp:oe,Vp:S/oe}}function Y(Re){var be={},ie=Re.getMediaInfo().bitrateList.map(function(X){return X.bandwidth}),ye=function ae(Re){return Re.map(function(be){return Math.log(be)})}(ie);ye=ye.map(function(X){return X-ye[0]+1});var oe=T.getStableBufferTime(),ee=Fe(oe,ie,ye);return ee?(be.state=1,be.bitrates=ie,be.utilities=ye,be.stableBufferTime=oe,be.Vp=ee.Vp,be.gp=ee.gp,be.lastQuality=0,le(be)):be.state=0,be}function le(Re){Re.placeholderBuffer=0,Re.mostAdvancedSegmentStart=NaN,Re.lastSegmentWasReplacement=!1,Re.lastSegmentStart=NaN,Re.lastSegmentDurationS=NaN,Re.lastSegmentRequestTimeMs=NaN,Re.lastSegmentFinishTimeMs=NaN}function G(Re,be){var Q=T.getStableBufferTime();if(Re.stableBufferTime!==Q){var ie=Fe(Q,Re.bitrates,Re.utilities);if(ie.Vp!==Re.Vp||ie.gp!==Re.gp){var ye=I.getCurrentBufferLevel(be),oe=ye+Re.placeholderBuffer;oe-=S,oe*=ie.Vp/Re.Vp,oe+=S,Re.stableBufferTime=Q,Re.Vp=ie.Vp,Re.gp=ie.gp,Re.placeholderBuffer=Math.max(0,oe-ye)}}}function ge(Re,be){return Re.Vp*(Re.utilities[be]+Re.gp)}function Ie(Re,be){for(var Q=Re.bitrates[be],ie=Re.utilities[be],ye=0,oe=be-1;oe>=0;--oe)if(Re.utilities[oe]<Re.utilities[be]){var ee=Re.bitrates[oe];ye=Math.max(ye,Re.Vp*(Re.gp+(Q*Re.utilities[oe]-ee*ie)/(Q-ee)))}return ye}function pe(Re){var Q=Re.mediaType===c.default.AUDIO?[c.default.AUDIO]:z;for(var ie in Q)z.hasOwnProperty(ie)&&2===z[ie].state&&(z[ie].placeholderBuffer=0)}function Ae(){for(var Re in z)if(z.hasOwnProperty(Re)){var be=z[Re];0!==be.state&&(be.state=1,le(be))}}function ke(Re){if(Re&&Re.chunk&&Re.chunk.mediaInfo){var be=z[Re.chunk.mediaInfo.type];if(be&&0!==be.state){var Q=Re.chunk.start;isNaN(be.mostAdvancedSegmentStart)||Q>be.mostAdvancedSegmentStart?(be.mostAdvancedSegmentStart=Q,be.lastSegmentWasReplacement=!1):be.lastSegmentWasReplacement=!0,be.lastSegmentStart=Q,be.lastSegmentDurationS=Re.chunk.duration,be.lastQuality=Re.chunk.quality,we(be,Re.chunk.mediaInfo.type)}}}function he(Re){if(Re&&Re.metric===t.default.HTTP_REQUEST&&Re.value&&Re.value.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE&&Re.value.trace&&Re.value.trace.length){var be=z[Re.mediaType];be&&0!==be.state&&(be.lastSegmentRequestTimeMs=Re.value.trequest.getTime(),be.lastSegmentFinishTimeMs=Re.value._tfinish.getTime(),we(be,Re.mediaType))}}function we(Re,be){if(!isNaN(Re.lastSegmentStart)&&!isNaN(Re.lastSegmentRequestTimeMs)&&!isNaN(Re.placeholderBuffer)){if(Re.placeholderBuffer*=.99,!isNaN(Re.lastSegmentFinishTimeMs)){var ie=I.getCurrentBufferLevel(be)+.001*(Re.lastSegmentFinishTimeMs-Re.lastSegmentRequestTimeMs),ye=ge(Re,Re.lastQuality),oe=Math.max(0,ye-ie);Re.placeholderBuffer=Math.min(oe,Re.placeholderBuffer)}Re.lastSegmentWasReplacement&&!isNaN(Re.lastSegmentDurationS)&&(Re.placeholderBuffer+=Re.lastSegmentDurationS),Re.lastSegmentStart=NaN,Re.lastSegmentRequestTimeMs=NaN}}function Te(Re){if(Re){var be=z[Re.mediaType];be&&0!==be.state&&(be.abrQuality=Re.newQuality)}}function Oe(Re){if(Re){var be=z[Re.mediaType];if(be&&0!==be.state){var ie,Q=I.getCurrentBufferLevel(Re.mediaType);ie=be.abrQuality>0?Ie(be,be.abrQuality):S;var ye=Math.max(0,ie-Q);be.placeholderBuffer=Math.min(be.placeholderBuffer,ye)}}}function ft(){z={}}return y={getMaxIndex:function je(Re){var be=Object(v.default)(C).create();if(!(Re&&Re.hasOwnProperty("getMediaInfo")&&Re.hasOwnProperty("getMediaType")&&Re.hasOwnProperty("getScheduleController")&&Re.hasOwnProperty("getStreamInfo")&&Re.hasOwnProperty("getAbrController")&&Re.hasOwnProperty("useBufferOccupancyABR")))return be;var Q=Re.getMediaInfo(),ie=Re.getMediaType(),ye=Re.getScheduleController(),oe=Re.getStreamInfo(),ee=Re.getAbrController(),X=ee.getThroughputHistory(),$=oe?oe.id:null,re=oe&&oe.manifestInfo&&oe.manifestInfo.isDynamic,J=Re.useBufferOccupancyABR();if(be.reason=be.reason||{},!J)return be;ye.setTimeToLoadDelay(0);var q=function Se(Re){var be=Re.getMediaType(),Q=z[be];return Q?0!==Q.state&&G(Q,be):(Q=Y(Re),z[be]=Q),Q}(Re);if(0===q.state)return be;var ct,_e=I.getCurrentBufferLevel(ie),xe=X.getAverageThroughput(ie,re),Ee=X.getSafeAverageThroughput(ie,re),Ge=X.getAverageLatency(ie);if(be.reason.state=q.state,be.reason.throughput=xe,be.reason.latency=Ge,isNaN(xe))return be;switch(q.state){case 1:ct=ee.getQualityForBitrate(Q,Ee,$,Ge),be.quality=ct,be.reason.throughput=Ee,q.placeholderBuffer=Math.max(0,Ie(q,ct)-_e),q.lastQuality=ct,!isNaN(q.lastSegmentDurationS)&&_e>=q.lastSegmentDurationS&&(q.state=2);break;case 2:(function Ce(Re,be){var Q=Date.now();isNaN(Re.lastSegmentFinishTimeMs)?isNaN(Re.lastCallTimeMs)||(Re.placeholderBuffer+=Math.max(0,.001*(Q-Re.lastCallTimeMs))):Re.placeholderBuffer+=Math.max(0,.001*(Q-Re.lastSegmentFinishTimeMs)),Re.lastCallTimeMs=Q,Re.lastSegmentStart=NaN,Re.lastSegmentRequestTimeMs=NaN,Re.lastSegmentFinishTimeMs=NaN,G(Re,be)})(q,ie),ct=function ce(Re,be){for(var Q=Re.bitrates.length,ie=NaN,ye=NaN,oe=0;oe<Q;++oe){var ee=(Re.Vp*(Re.utilities[oe]+Re.gp)-be)/Re.bitrates[oe];(isNaN(ye)||ee>=ye)&&(ye=ee,ie=oe)}return ie}(q,_e+q.placeholderBuffer);var Xe=ee.getQualityForBitrate(Q,Ee,$,Ge);ct>q.lastQuality&&ct>Xe&&(ct=Math.max(Xe,q.lastQuality));var tt=Math.max(0,_e+q.placeholderBuffer-ge(q,ct));tt<=q.placeholderBuffer?(q.placeholderBuffer-=tt,tt=0):(tt-=q.placeholderBuffer,q.placeholderBuffer=0,ct<ee.getMaxAllowedIndexFor(ie,$)?ye.setTimeToLoadDelay(1e3*tt):tt=0),be.quality=ct,be.reason.throughput=xe,be.reason.latency=Ge,be.reason.bufferLevel=_e,be.reason.placeholderBuffer=q.placeholderBuffer,be.reason.delay=tt,q.lastQuality=ct;break;default:B.debug("BOLA ABR rule invoked in bad state."),be.quality=ee.getQualityForBitrate(Q,Ee,$,Ge),be.reason.state=q.state,be.reason.throughput=Ee,be.reason.latency=Ge,q.state=1,le(q)}return be},reset:function Ze(){ft(),L.off(i.default.BUFFER_EMPTY,pe,y),L.off(i.default.PLAYBACK_SEEKING,Ae,y),L.off(i.default.METRIC_ADDED,he,y),L.off(i.default.QUALITY_CHANGE_REQUESTED,Te,y),L.off(i.default.FRAGMENT_LOADING_ABANDONED,Oe,y),L.off(D.default.MEDIA_FRAGMENT_LOADED,ke,y)}},function ne(){B=Object(m.default)(C).getInstance().getLogger(y),ft(),L.on(i.default.BUFFER_EMPTY,pe,y),L.on(i.default.PLAYBACK_SEEKING,Ae,y),L.on(i.default.METRIC_ADDED,he,y),L.on(i.default.QUALITY_CHANGE_REQUESTED,Te,y),L.on(i.default.FRAGMENT_LOADING_ABANDONED,Oe,y),L.on(D.default.MEDIA_FRAGMENT_LOADED,ke,y)}(),y}N.__dashjs_factory_name="BolaRule",p.default=b.default.getClassFactory(N)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function g(){var D,m,P=this.context;return D={getMaxIndex:function f(_){var S=Object(v.default)(P).create();if(!_||!_.hasOwnProperty("getDroppedFramesHistory"))return S;var x=_.getDroppedFramesHistory(),A=_.getStreamInfo().id;if(x){var N=x.getFrameHistory(A);if(!N||0===N.length)return S;for(var O=0,C=0,I=v.default.NO_CHANGE,T=1;T<N.length;T++)if(N[T]&&(O=N[T].droppedVideoFrames,(C=N[T].totalVideoFrames)>375&&O/C>.15)){m.debug("index: "+(I=T-1)+" Dropped Frames: "+O+" Total Frames: "+C);break}return Object(v.default)(P).create(I,{droppedFrames:O})}return S}},function d(){m=Object(b.default)(P).getInstance().getLogger(D)}(),D}g.__dashjs_factory_name="DroppedFramesRule",p.default=t.default.getClassFactory(g)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),D=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function c(d){d=d||{};var N,O,C,_=2,S=this.context,x=Object(t.default)(S).getInstance(),A=d.dashMetrics;function B(){(C={})[D.default.VIDEO]={ignoreCount:_},C[D.default.AUDIO]={ignoreCount:_}}function z(){B()}function ne(Fe){!isNaN(Fe.startTime)&&(Fe.mediaType===D.default.AUDIO||Fe.mediaType===D.default.VIDEO)&&C[Fe.mediaType].ignoreCount>0&&C[Fe.mediaType].ignoreCount--}return N={getMaxIndex:function L(Fe){var Y=Object(P.default)(S).create();if(!Fe||!Fe.hasOwnProperty("getMediaType"))return Y;!function T(){if(!A||!A.hasOwnProperty("getCurrentBufferLevel")||!A.hasOwnProperty("getCurrentBufferState"))throw new Error(D.default.MISSING_CONFIG_ERROR)}();var le=Fe.getMediaType(),G=A.getCurrentBufferState(le),ce=Fe.getRepresentationInfo().fragmentDuration,ge=Fe.getStreamInfo(),Ie=ge?ge.id:null,Ce=Fe.getScheduleController(),pe=ge&&ge.manifestInfo&&ge.manifestInfo.isDynamic;if(function y(Fe,Y){return!Fe&&C[Y].ignoreCount>0}(Ce.getPlaybackController().getLowLatencyModeEnabled(),le)||!ce)return Y;if(G&&G.state===m.default.BUFFER_EMPTY)O.debug("["+le+"] Switch to index 0; buffer is empty."),Y.quality=0,Y.reason="InsufficientBufferRule: Buffer is empty";else{var he=Fe.getMediaInfo(),we=Fe.getAbrController(),Te=we.getThroughputHistory(),Oe=A.getCurrentBufferLevel(le),je=Te.getAverageThroughput(le,pe),ft=Te.getAverageLatency(le);Y.quality=we.getQualityForBitrate(he,je*(Oe/ce)*.5,Ie,ft),Y.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return Y},reset:function ae(){B(),x.off(i.default.PLAYBACK_SEEKING,z,N),x.off(v.default.BYTES_APPENDED_END_FRAGMENT,ne,N)}},function I(){O=Object(g.default)(S).getInstance().getLogger(N),B(),x.on(i.default.PLAYBACK_SEEKING,z,N),x.on(v.default.BYTES_APPENDED_END_FRAGMENT,ne,N)}(),N}c.__dashjs_factory_name="InsufficientBufferRule",p.default=b.default.getClassFactory(c)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function _(S){var O,C,I,T,x=this.context,A=(S=S||{}).dashMetrics,N=Object(P.default)(x).getInstance();function y(pe){var Ae={},ke=pe.getMediaInfo(),he=ke.bitrateList.map(function(we){return we.bandwidth/1e3});return Ae.state=1,Ae.bitrates=he,Ae.lastQuality=0,function B(pe){!pe||!pe.type||(I[pe.type]={},I[pe.type].w=[],I[pe.type].prev_w=[],I[pe.type].Q=0,I[pe.type].segment_request_start_s=0,I[pe.type].segment_download_finish_s=0,I[pe.type].B_target=1.5)}(ke),z(Ae),Ae}function z(pe){pe.placeholderBuffer=0,pe.mostAdvancedSegmentStart=NaN,pe.lastSegmentWasReplacement=!1,pe.lastSegmentStart=NaN,pe.lastSegmentDurationS=NaN,pe.lastSegmentRequestTimeMs=NaN,pe.lastSegmentFinishTimeMs=NaN}function ae(){for(var pe in C)if(C.hasOwnProperty(pe)){var Ae=C[pe];0!==Ae.state&&(Ae.state=1,z(Ae))}}function Fe(pe){if(pe&&pe.chunk&&pe.chunk.mediaInfo){var Ae=C[pe.chunk.mediaInfo.type],ke=I[pe.chunk.mediaInfo.type];if(Ae&&0!==Ae.state){var he=pe.chunk.start;isNaN(Ae.mostAdvancedSegmentStart)||he>Ae.mostAdvancedSegmentStart?(Ae.mostAdvancedSegmentStart=he,Ae.lastSegmentWasReplacement=!1):Ae.lastSegmentWasReplacement=!0,Ae.lastSegmentStart=he,Ae.lastSegmentDurationS=pe.chunk.duration,Ae.lastQuality=pe.chunk.quality,le(Ae,ke)}}}function Y(pe){if(pe&&pe.metric===t.default.HTTP_REQUEST&&pe.value&&pe.value.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE&&pe.value.trace&&pe.value.trace.length){var Ae=C[pe.mediaType],ke=I[pe.mediaType];Ae&&0!==Ae.state&&(Ae.lastSegmentRequestTimeMs=pe.value.trequest.getTime(),Ae.lastSegmentFinishTimeMs=pe.value._tfinish.getTime(),le(Ae,ke))}}function le(pe,Ae){!isNaN(pe.lastSegmentStart)&&!isNaN(pe.lastSegmentRequestTimeMs)&&(Ae.segment_request_start_s=.001*pe.lastSegmentRequestTimeMs,Ae.segment_download_finish_s=.001*pe.lastSegmentFinishTimeMs,pe.lastSegmentStart=NaN,pe.lastSegmentRequestTimeMs=NaN)}function G(pe){if(pe&&pe.mediaType){var Ae=C[pe.mediaType];Ae&&0!==Ae.state&&(Ae.abrQuality=pe.newQuality)}}function Se(pe,Ae){if(pe.length!==Ae.length)return-1;for(var ke=0,he=0;he<pe.length;he++)ke+=pe[he]*Ae[he];return ke}function Ie(){C={},I={}}return O={getMaxIndex:function ge(pe){var q,Ae=Object(v.default)(x).create(),he=Math.pow(4,.99),we=Math.max(Math.pow(4,1),he*Math.sqrt(4)),Te=pe.getMediaInfo(),Oe=pe.getMediaType(),je=Te.bitrateList.map(function(Wt){return Wt.bandwidth}),ft=je.length,Ze=pe.getScheduleController(),Re=pe.getStreamInfo(),be=pe.getAbrController(),Q=be.getThroughputHistory(),ie=Re&&Re.manifestInfo&&Re.manifestInfo.isDynamic,ye=pe.useL2AABR(),oe=A.getCurrentBufferLevel(Oe,!0),ee=Q.getSafeAverageThroughput(Oe,ie),X=Q.getAverageThroughput(Oe,ie),re=Q.getAverageLatency(Oe),_e=pe.getVideoModel().getPlaybackRate();if(!(pe&&pe.hasOwnProperty("getMediaInfo")&&pe.hasOwnProperty("getMediaType")&&pe.hasOwnProperty("getScheduleController")&&pe.hasOwnProperty("getStreamInfo")&&pe.hasOwnProperty("getAbrController")&&pe.hasOwnProperty("useL2AABR")&&(Ae.reason=Ae.reason||{},ye&&Oe!==i.default.AUDIO)))return Ae;Ze.setTimeToLoadDelay(0);var xe=function ne(pe){var Ae=pe.getMediaType(),ke=C[Ae];return ke||(ke=y(pe),C[Ae]=ke),ke}(pe);if(0===xe.state)return Ae;var Ee=I[Oe];if(!Ee||(Ae.reason.state=xe.state,Ae.reason.throughput=X,Ae.reason.latency=re,isNaN(X)))return Ae;switch(xe.state){case 1:if(q=be.getQualityForBitrate(Te,ee,Re.id,re),Ae.quality=q,Ae.reason.throughput=ee,xe.lastQuality=q,!isNaN(xe.lastSegmentDurationS)&&oe>=Ee.B_target){xe.state=2,Ee.Q=he;for(var Ge=0;Ge<ft;++Ge)Ee.prev_w[Ge]=Ge===xe.lastQuality?1:0}break;case 2:var ct=[],Xe=A.getCurrentHttpRequest(Oe).trace.reduce(function(Wt,Qt){return Wt+Qt.d},0),tt=A.getCurrentHttpRequest(Oe).trace.reduce(function(Wt,Qt){return Wt+Qt.b[0]},0),gt=Math.round(8*tt/Xe);gt<1&&(gt=1);for(var Qe=xe.lastSegmentDurationS,yt=1,Dt=0;Dt<ft;++Dt)je[Dt]=je[Dt]/1e3,_e*je[Dt]>gt&&(yt=-1),Ee.w[Dt]=Ee.prev_w[Dt]+yt*(Qe/(2*we))*((Ee.Q+he)*(_e*je[Dt]/gt));Ee.w=function ce(pe){for(var Ae=pe.length,ke=!1,he=[],we=0;we<Ae;++we)he[we]=pe[we];for(var Te=pe.sort(function(be,Q){return Q-be}),Oe=0,je=0,ft=[],Ze=0;Ze<Ae-1;++Ze)if((je=((Oe+=Te[Ze])-1)/(Ze+1))>=Te[Ze+1]){ke=!0;break}ke||(je=(Oe+Te[Ae-1]-1)/Ae);for(var Re=0;Re<Ae;++Re)ft[Re]=Math.max(he[Re]-je,0);return ft}(Ee.w);for(var fe=0;fe<ft;++fe)ct[fe]=Ee.w[fe]-Ee.prev_w[fe],Ee.prev_w[fe]=Ee.w[fe];Ee.Q=Math.max(0,Ee.Q-Qe+Qe*_e*((Se(je,Ee.prev_w)+Se(je,ct))/gt));for(var We=[],Et=0;Et<ft;++Et)We[Et]=Math.abs(je[Et]-Se(Ee.w,je));(q=We.indexOf(Math.min.apply(Math,We)))>xe.lastQuality&&je[xe.lastQuality+1]<=gt&&(q=xe.lastQuality+1),je[q]>=gt&&(Ee.Q=2*Math.max(he,Ee.Q)),Ae.quality=q,Ae.reason.throughput=X,Ae.reason.latency=re,Ae.reason.bufferLevel=oe,xe.lastQuality=Ae.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Ae.quality=be.getQualityForBitrate(Te,ee,Re.id,re),Ae.reason.state=xe.state,Ae.reason.throughput=ee,Ae.reason.latency=re,xe.state=1,z(xe)}return Ae},reset:function Ce(){Ie(),N.off(D.default.PLAYBACK_SEEKING,ae,O),N.off(D.default.MEDIA_FRAGMENT_LOADED,Fe,O),N.off(D.default.METRIC_ADDED,Y,O),N.off(D.default.QUALITY_CHANGE_REQUESTED,G,O)}},function L(){T=Object(m.default)(x).getInstance().getLogger(O),Ie(),N.on(D.default.PLAYBACK_SEEKING,ae,O),N.on(D.default.MEDIA_FRAGMENT_LOADED,Fe,O),N.on(D.default.METRIC_ADDED,Y,O),N.on(D.default.QUALITY_CHANGE_REQUESTED,G,O)}(),O}_.__dashjs_factory_name="L2ARule",p.default=b.default.getClassFactory(_)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function g(){var D,m,P=this.context;return D={getMaxIndex:function f(_){for(var S=_?_.getSwitchHistory():null,x=S?S.getSwitchRequests():[],A=0,N=0,O=0,C=Object(b.default)(P).create(),I=0;I<x.length;I++)if(void 0!==x[I]&&(O+=x[I].dropSize,(A+=x[I].drops)+(N+=x[I].noDrops)>=6&&A/N>.075)){C.quality=I>0&&x[I].drops>0?I-1:I,C.reason={index:C.quality,drops:A,noDrops:N,dropSize:O},m.debug("Switch history rule index: "+C.quality+" samples: "+(A+N)+" drops: "+A);break}return C}},function d(){m=Object(v.default)(P).getInstance().getLogger(D)}(),D}g.__dashjs_factory_name="SwitchHistoryRule",p.default=t.default.getClassFactory(g)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function P(D){var m=this.context,i=(D=D||{}).dashMetrics;return{getMaxIndex:function _(x){var A=Object(v.default)(m).create();if(!(x&&x.hasOwnProperty("getMediaInfo")&&x.hasOwnProperty("getMediaType")&&x.hasOwnProperty("useBufferOccupancyABR")&&x.hasOwnProperty("getAbrController")&&x.hasOwnProperty("getScheduleController")))return A;!function f(){if(!i||!i.hasOwnProperty("getCurrentBufferState"))throw new Error(b.default.MISSING_CONFIG_ERROR)}();var N=x.getMediaInfo(),O=x.getMediaType(),C=i.getCurrentBufferState(O),I=x.getScheduleController(),T=x.getAbrController(),L=x.getStreamInfo(),y=L?L.id:null,B=L&&L.manifestInfo?L.manifestInfo.isDynamic:null,z=T.getThroughputHistory(),ne=z.getSafeAverageThroughput(O,B),ae=z.getAverageLatency(O),Fe=x.useBufferOccupancyABR();return isNaN(ne)||!C||Fe||T.getAbandonmentStateFor(y,O)!==g.default.ABANDON_LOAD&&(C.state===g.default.BUFFER_LOADED||B)&&(A.quality=T.getQualityForBitrate(N,ne,y,ae),I.setTimeToLoadDelay(0),A.reason={throughput:ne,latency:ae}),A},reset:function S(){}}}P.__dashjs_factory_name="ThroughputRule",p.default=t.default.getClassFactory(P)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),b_MANUAL="manual_weight_selection",b_RANDOM="random_weight_selection",b_DYNAMIC="dynamic_weight_selection";function g(){var D,m,i,c,d,f,_,S,x,P=this.context;function O(){i=null,c=1,d=100,f=0,_=null,S=null,x=b_DYNAMIC}function C(){var ge=0;if(i)for(var Ie=0;Ie<i.length;Ie++){var Ce=i[Ie];Ce.state.throughput>ge&&(ge=Ce.state.throughput)}return ge}function T(ge,Ie,Ce){var pe=ge.map(function(ke,he){return Ce[he]*Math.pow(ke-Ie[he],2)}).reduce(function(ke,he){return ke+he});return(pe<0?-1:1)*Math.sqrt(Math.abs(pe))}function L(ge,Ie){return T([ge.state.throughput,ge.state.latency,ge.state.rebuffer,ge.state.switch],[Ie.state.throughput,Ie.state.latency,Ie.state.rebuffer,Ie.state.switch],[1,1,1,1])}function y(ge,Ie,Ce){for(var pe=0;pe<Ie.length;pe++){var Ae=Ie[pe],he=L(Ae,ge);B(Ae,Ce,Math.exp(-1*Math.pow(he,2)/(2*Math.pow(.1,2))))}}function B(ge,Ie,Ce){var pe=ge.state,Ae=[.01,.01,.01,.01];pe.throughput=pe.throughput+(Ie[0]-pe.throughput)*Ae[0]*Ce,pe.latency=pe.latency+(Ie[1]-pe.latency)*Ae[1]*Ce,pe.rebuffer=pe.rebuffer+(Ie[2]-pe.rebuffer)*Ae[2]*Ce,pe.switch=pe.switch+(Ie[3]-pe.switch)*Ae[3]*Ce}return D={getNextQuality:function ne(ge,Ie,Ce,pe,Ae,ke,he){var we=Ce,Te=pe,Oe=Ie,je=function G(ge){if(!i){i=[];var Ie=ge.bitrateList,Ce=[];f=Ie[0].bandwidth,Ie.forEach(function(ke){Ce.push(ke.bandwidth),ke.bandwidth<f&&(f=ke.bandwidth)}),c=function I(ge){var Ie=ge.map(function(Ce){return Math.pow(Ce,2)}).reduce(function(Ce,pe){return Ce+pe});return Math.sqrt(Ie)}(Ce);for(var pe=0;pe<Ie.length;pe++)i.push({qualityIndex:pe,bitrate:Ie[pe].bandwidth,state:{throughput:Ie[pe].bandwidth/c,latency:0,rebuffer:0,switch:0}});S=function ce(ge){var Ie=[],Ce=function Se(ge){for(var Ie=[],Ce=0;Ce<ge;Ce++){var pe=[Math.random()*C(),Math.random(),Math.random(),Math.random()];Ie.push(pe)}return Ie}(Math.pow(ge.length,2));Ie.push(Ce[0]);for(var pe=[1,1,1,1],Ae=1;Ae<ge.length;Ae++){for(var ke=null,he=null,we=0;we<Ce.length;we++){for(var Te=Ce[we],Oe=null,je=0;je<Ie.length;je++){var ft=T(Te,Ie[je],pe);(null===Oe||ft<Oe)&&(Oe=ft)}(null===he||Oe>he)&&(ke=Te,he=Oe)}Ie.push(ke)}for(var Ze=null,Re=null,be=0;be<Ie.length;be++){for(var Q=0,ie=0;ie<Ie.length;ie++)be!==ie&&(Q+=T(Ie[be],Ie[ie],pe));(null===Ze||Q>Ze)&&(Ze=Q,Re=be)}var ye=[];for(ye.push(Ie[Re]),Ie.splice(Re,1);Ie.length>0;){for(var oe=null,ee=null,X=0;X<Ie.length;X++){var $=T(ye[0],Ie[X],pe);(null===oe||$<oe)&&(oe=$,ee=X)}ye.push(Ie[ee]),Ie.splice(ee,1)}return ye}(i)}return i}(ge),ft=Ie/c;ft>1&&(ft=C()),Ce/=d,m.debug("getNextQuality called throughput:".concat(ft," latency:").concat(Ce," bufferSize:").concat(pe," currentQualityIndex:").concat(ke," playbackRate:").concat(Ae));var ie=je[ke],ye=ie.bitrate*he.getSegmentDuration()/Oe,oe=Math.max(0,ye-Te);if(Te-ye<he.getMinBuffer())return m.debug("Buffer is low for bitrate= ".concat(ie.bitrate," downloadTime=").concat(ye," currentBuffer=").concat(Te," rebuffer=").concat(oe)),function z(ge,Ie){var Ce=0,pe=ge;if(i)for(var Ae=0;Ae<i.length;Ae++){var ke=i[Ae];ke.bitrate<ge.bitrate&&ke.bitrate>Ce&&Ie>ke.bitrate&&(Ce=ke.bitrate,pe=ke)}return pe}(ie,Oe).qualityIndex;switch(x){case b_MANUAL:!function ae(){_=[.4,.4,.4,.4]}();break;case b_RANDOM:!function Fe(ge){_=function le(ge,Ie){for(var Ce=[],pe=Math.sqrt(2/ge),Ae=0;Ae<Ie;Ae++)Ce.push(Math.random()*pe);return _=Ce}(ge.length,4)}(je);break;default:!function Y(ge,Ie,Ce,pe,Ae,ke,he){_||(_=S[S.length-1]);var we=ge.findWeightVector(Ie,Ce,pe,Ae,ke,he);null!==we&&-1!==we&&(_=we)}(he,je,we,Te,oe,Oe,Ae)}for(var ee=null,X=null,$=null,re=0;re<je.length;re++){var J=je[re],q=J.state,_e=[q.throughput,q.latency,q.rebuffer,q.switch],xe=_.slice(),Ee=he.getNextBufferWithBitrate(J.bitrate,Te,Oe),Ge=Ee<he.getMinBuffer();Ge&&m.debug("Buffer is low for bitrate=".concat(J.bitrate," downloadTime=").concat(ye," currentBuffer=").concat(Te," nextBuffer=").concat(Ee)),(J.bitrate>Ie-1e4||Ge)&&J.bitrate!==f&&(xe[0]=100);var ct=T(_e,[ft,0,0,0],xe);(null===ee||ct<ee)&&(ee=ct,X=J.qualityIndex,$=J)}var Xe=Math.abs(ie.bitrate-$.bitrate)/c;return y(ie,je,[ft,Ce,oe,Xe]),y($,je,[ft,0,0,Xe]),X},reset:function N(){O()}},function A(){m=Object(v.default)(P).getInstance().getLogger(D),O()}(),D}g.__dashjs_factory_name="LearningAbrController",p.default=t.default.getClassFactory(g)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function b(){var g,P,D,m,i;function d(){P=null,D=null,m=null,i=null}function _(C,I,T,L){var y=new v.default;return y.type=C,y.weights.bitrateReward=I||1,y.weights.bitrateSwitchPenalty=1,y.weights.rebufferPenalty=T||1e3,y.weights.latencyPenalty=[],y.weights.latencyPenalty.push({threshold:1.1,penalty:.05*L}),y.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),y.weights.playbackSpeedPenalty=L||200,y}function x(C,I,T,L,y){y.bitrateWSum+=y.weights.bitrateReward*C,y.lastBitrate&&(y.bitrateSwitchWSum+=y.weights.bitrateSwitchPenalty*Math.abs(C-y.lastBitrate)),y.lastBitrate=C,y.rebufferWSum+=y.weights.rebufferPenalty*I;for(var B=0;B<y.weights.latencyPenalty.length;B++){var z=y.weights.latencyPenalty[B];if(T<=z.threshold){y.latencyWSum+=z.penalty*T;break}}y.playbackSpeedWSum+=y.weights.playbackSpeedPenalty*Math.abs(1-L),y.totalQoe=y.bitrateWSum-y.bitrateSwitchWSum-y.rebufferWSum-y.latencyWSum-y.playbackSpeedWSum}return g={setupPerSegmentQoe:function f(C,I,T){P=_("segment",C,I,T),D=C,m=I,i=T},logSegmentMetrics:function S(C,I,T,L){P&&x(C,I,T,L,P)},getPerSegmentQoe:function A(){return P},calculateSingleUseQoe:function N(C,I,T,L){var y=null;return D&&m&&i&&(y=_("segment",D,m,i)),y?(x(C,I,T,L,y),y.totalQoe):0},reset:function O(){d()}},function c(){d()}(),g}b.__dashjs_factory_name="LoLpQoeEvaluator",p.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),g=e(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),P=e(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),D=e(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),i=e(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function f(_){var A,N,O,C,S=(_=_||{}).dashMetrics,x=this.context;return N={getMaxIndex:function T(B){try{var z=Object(P.default)(x).create(),ne=B.getMediaInfo().type,ae=B.getAbrController(),Fe=B.getStreamInfo(),Y=ae.getQualityFor(ne,Fe.id),le=B.getMediaInfo(),G=S.getCurrentBufferState(ne),Se=B.getScheduleController(),ce=S.getCurrentBufferLevel(ne,!0),ge=Fe&&Fe.manifestInfo?Fe.manifestInfo.isDynamic:null,Ie=Se.getPlaybackController(),Ce=Ie.getCurrentLiveLatency();if(!B.useLoLPABR()||ne===i.default.AUDIO)return z;Ce||(Ce=0);var pe=Ie.getPlaybackRate(),ke=ae.getThroughputHistory().getSafeAverageThroughput(ne,ge);if(A.debug("Throughput ".concat(Math.round(ke)," kbps")),isNaN(ke)||!G||ae.getAbandonmentStateFor(Fe.id,ne)===D.default.ABANDON_LOAD)return z;for(var he=le.bitrateList,we=B.getRepresentationInfo().fragmentDuration,Te=he[0].bandwidth/1e3,Oe=he[he.length-1].bandwidth/1e3,je=0;je<he.length;je++){var ft=he[je].bandwidth/1e3;ft>Oe?Oe=ft:ft<Te&&(Te=ft)}var Re=he[Y].bandwidth/1e3,be=S.getCurrentHttpRequest(ne,!0),Q=(be.tresponse.getTime()-be.trequest.getTime())/1e3,ie=Q>we?Q-we:0;C.setupPerSegmentQoe(we,Oe,Te),C.logSegmentMetrics(Re,ie,Ce,pe);var ye=Object(m.default)(x).create({targetLatency:1.5,bufferMin:.3,segmentDuration:we,qoeEvaluator:C});return z.quality=O.getNextQuality(le,1e3*ke,Ce,ce,pe,Y,ye),z.reason={throughput:ke,latency:Ce},z.priority=P.default.PRIORITY.STRONG,Se.setTimeToLoadDelay(0),z.quality!==Y&&console.log("[TgcLearningRule]["+ne+"] requesting switch to index: ",z.quality,"Average throughput",Math.round(ke),"kbps"),z}catch(oe){throw oe}},reset:function y(){!function L(){O.reset(),C.reset()}()}},function I(){A=Object(t.default)(x).getInstance().getLogger(N),O=Object(b.default)(x).create(),C=Object(g.default)(x).create()}(),N}f.__dashjs_factory_name="LoLPRule",p.default=v.default.getClassFactory(f)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var i,f,_,g=b.targetLatency,P=b.bufferMin,D=b.segmentDuration,m=b.qoeEvaluator;function I(){return D}function L(y,B){var z=I();return B>z?y-z:y+z-B}return i={getMinBuffer:function C(){return P},getSegmentDuration:I,getNextBufferWithBitrate:function T(y,B,z){return L(B,y*D/z)},getNextBuffer:L,findWeightVector:function A(y,B,z,ne,ae,Fe){var Y=null,le=null,G=null,Se=Math.abs(B-_);return y.forEach(function(ce){f.forEach(function(ge){var Ie_latency=ge[1],Ie_buffer=ge[2],Ce=ce.bitrate*D/ae,pe=L(z,Ce),Ae=Math.max(1e-5,Ce-pe),Te=m.calculateSingleUseQoe(ce.bitrate,(0===Ie_buffer?10:1/Ie_buffer)*Ae,(0===Ie_latency?10:1/Ie_latency)*ce.state.latency,Fe);(null===Y||Te>Y)&&function N(y,B,z){return!(y>g+z)&&B>=P}(B,pe,Se)&&(Y=Te,le=ge,G=ce.bitrate)})}),null===le&&null===G&&(le=-1),_=B,le}},function S(){!function x(){f=function O(y,B){return function ae(Fe,Y,le){if(le===Y)return Fe;for(var G=Fe.length,Se=0;Se<G;Se++)for(var ce=Fe.shift(),ge=0;ge<y.length;ge++)Fe.push(ce.concat(y[ge]));return ae(Fe,Y,le+1)}(y.map(function(ae){return[ae]}),B,1)}([.2,.4,.6,.8,1],4),_=0}()}(),i}v.__dashjs_factory_name="LoLpWeightSelector",p.default=t.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b=0;function P(_){for(var S="",x=0;x<_.length;++x)S+=_[x].uchar;return S.length-S.replace(/^\s+/,"").length}function D(_){return"left: "+3.125*_.x+"%; top: "+6.66*_.y1+"%; width: "+(100-3.125*_.x)+"%; height: "+6.66*Math.max(_.y2-1-_.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function m(_){return"red"===_?"rgb(255, 0, 0)":"green"===_?"rgb(0, 255, 0)":"blue"===_?"rgb(0, 0, 255)":"cyan"===_?"rgb(0, 255, 255)":"magenta"===_?"rgb(255, 0, 255)":"yellow"===_?"rgb(255, 255, 0)":"white"===_?"rgb(255, 255, 255)":"black"===_?"rgb(0, 0, 0)":_}function i(_,S){var x=_.videoHeight/15;return S?"font-size: "+x+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(S.foreground?m(S.foreground):"rgb(255, 255, 255)")+"; font-style: "+(S.italics?"italic":"normal")+"; text-decoration: "+(S.underline?"underline":"none")+"; white-space: pre; background-color: "+(S.background?m(S.background):"transparent")+";":"font-size: "+x+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function c(_){return _.replace(/^\s+/g,"")}function d(_){return _.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function f(_,S,x,A){var ne,ae,N=null,C=!1,I=-1,T={start:S,end:x,spans:[]},L="style_cea608_white_black",y={},B={},z=[];for(ne=0;ne<15;++ne){var Fe=A.rows[ne],Y="",le=null;if(!1===Fe.isEmpty()){var G=P(Fe.chars);null===N&&(N={x:G,y1:ne,y2:ne+1,p:[]}),G!==I&&C&&(N.p.push(T),T={start:S,end:x,spans:[]},N.y2=ne,N.name="region_"+N.x+"_"+N.y1+"_"+N.y2,!1===y.hasOwnProperty(N.name)?(z.push(N),y[N.name]=N):y[N.name].p.contat(N.p),N={x:G,y1:ne,y2:ne+1,p:[]});for(var Se=0;Se<Fe.chars.length;++Se){var ce=Fe.chars[Se],ge=ce.penState;if(null===le||!ge.equals(le)){Y.trim().length>0&&(T.spans.push({name:L,line:Y,row:ne}),Y="");var Ie="style_cea608_"+ge.foreground+"_"+ge.background;ge.underline&&(Ie+="_underline"),ge.italics&&(Ie+="_italics"),B.hasOwnProperty(Ie)||(B[Ie]=JSON.parse(JSON.stringify(ge))),le=ge,L=Ie}Y+=ce.uchar}Y.trim().length>0&&T.spans.push({name:L,line:Y,row:ne}),C=!0,I=G}else C=!1,I=-1,N&&(N.p.push(T),T={start:S,end:x,spans:[]},N.y2=ne,N.name="region_"+N.x+"_"+N.y1+"_"+N.y2,!1===y.hasOwnProperty(N.name)?(z.push(N),y[N.name]=N):y[N.name].p.contat(N.p),N=null)}N&&(N.p.push(T),N.y2=ne+1,N.name="region_"+N.x+"_"+N.y1+"_"+N.y2,!1===y.hasOwnProperty(N.name)?(z.push(N),y[N.name]=N):y[N.name].p.contat(N.p),N=null);var Ce=[];for(ne=0;ne<z.length;++ne){var pe=z[ne],Ae="sub_cea608_"+b++,ke=document.createElement("div");ke.id=Ae;var he=D(pe);ke.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+he;var we=document.createElement("div");we.className="paragraph bodyStyle",we.style.cssText=i(_);var Te=document.createElement("div");Te.className="cueUniWrapper",Te.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Oe=0;Oe<pe.p.length;++Oe){var je=pe.p[Oe],ft=0;for(ae=0;ae<je.spans.length;++ae){var Ze=je.spans[ae];if(Ze.line.length>0){if(0!==ae&&ft!=Ze.row){var Re=document.createElement("br");Re.className="lineBreak",Te.appendChild(Re)}var be=!1;ft===Ze.row&&(be=!0),ft=Ze.row;var Q=B[Ze.name],ie=document.createElement("span");ie.className="spanPadding "+Ze.name+" customSpanColor",ie.style.cssText=i(_,Q),ie.textContent=0!==ae&&be?ae===je.spans.length-1?d(Ze.line):Ze.line:je.spans.length>1&&ae<je.spans.length-1&&Ze.row===je.spans[ae+1].row?c(Ze.line):Ze.line.trim(),Te.appendChild(ie)}}}we.appendChild(Te),ke.appendChild(we);var ye={bodyStyle:["%",90]};for(var oe in B)B.hasOwnProperty(oe)&&(ye[oe]=["%",90]);Ce.push({type:"html",start:S,end:x,cueHTMLElement:ke,cueID:Ae,cellResolution:[32,15],isFromCEA608:!0,fontSize:ye,lineHeight:{},linePadding:{}})}return Ce}}}v.__dashjs_factory_name="EmbeddedTextHtmlRender",p.default=t.default.getSingletonFactory(v)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),P=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),D=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),i="NotFragmentedTextBufferController";function c(d){d=d||{};var O,C,I,T,L,y,f=this.context,_=Object(t.default)(f).getInstance(),S=d.textController,x=d.errHandler,A=d.streamInfo,N=d.type;function G(X){T=X}function Ce(X){C!==X&&(C=X)&&function ee(X,$){_.trigger(X,$||{},{streamId:A.id,mediaType:N})}(v.default.BUFFERING_COMPLETED)}function ke(X){!X.chunk.bytes||C||(y.save(X.chunk),L.append(X.chunk),Ce(!0))}return O={initialize:function ne(X){G(X)},getStreamId:function Fe(){return A.id},getType:function Y(){return N},getBufferControllerType:function z(){return i},createBufferSink:function ae(X){return new Promise(function($,re){try{(L=Object(P.default)(f).create({mediaSource:T,textController:S,eventBus:_})).initializeForFirstUse(A,X),I||(L.getBuffer()&&"function"==typeof L.getBuffer().initialize&&L.getBuffer().initialize(),I=!0),$(L)}catch(J){x.error(new D.default(m.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,m.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+N)),re(J)}})},getBuffer:function le(){return L},getBufferLevel:function ge(){return 0},getRangeAt:function he(){return null},pruneBuffer:function ft(){},hasBufferAtTime:function we(){return!0},getAllRangesWithSafetyFactor:function Te(){return[]},getContinuousBufferTimeForTargetTime:function Oe(){return Number.POSITIVE_INFINITY},setMediaSource:G,getMediaSource:function Se(){return T},appendInitSegmentFromCache:function Ae(X){return null!==y.extract(A.id,X)},getIsBufferingCompleted:function Ie(){return C},setIsBufferingCompleted:Ce,getIsPruningInProgress:function ce(){return!1},reset:function pe(X){_.off(v.default.INIT_FRAGMENT_LOADED,ke,O),!X&&L&&(L.abort(),L.reset(),L=null)},clearBuffers:function je(){return Promise.resolve()},prepareForPlaybackSeek:function Re(){return Promise.resolve()},prepareForReplacementTrackSwitch:function be(){return C=!1,Promise.resolve()},setSeekTarget:function ie(){},updateAppendWindow:function Q(){return Promise.resolve()},pruneAllSafely:function oe(){return Promise.resolve()},updateBufferTimestampOffset:function Ze(){return Promise.resolve()},segmentRequestingCompleted:function ye(){}},function B(){I=!1,T=null,C=!1,y=Object(g.default)(f).getInstance(),_.on(v.default.INIT_FRAGMENT_LOADED,ke,O)}(),O}c.__dashjs_factory_name=i,p.default=b.default.getClassFactory(c)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),g=e(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),P=e(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),D=e(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),m=e(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),i=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),c=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function _(S){var L,y,B,z,ne,ae,Fe,Y,le,G,Se,ce,x=this.context,A=S.adapter,N=S.errHandler,O=S.manifestModel,C=S.mediaController,I=S.videoModel,T=S.settings;function Te($){var re=$.tracks,J=$.index,q=$.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Ze()||ce)be(q,-1);else{var xe=C.getCurrentTrackFor(t.default.TEXT,q);if(xe){var Ee={lang:xe.lang,role:xe.roles[0],index:xe.index,codec:xe.codec,accessibility:xe.accessibility[0]};re.some(function(Ge,ct){if(C.matchSettings(Ee,Ge))return be(q,ct),J=ct,!0})}le=!1}y[q].lastEnabledIndex=J,Y.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:Ze(),index:J,tracks:re,streamId:q}),Se=!0}function Oe($){try{var re=$.streamId;if(!z[re]||isNaN($.time))return;z[re].manualCueProcessing($.time)}catch{}}function je($){try{var re=$.streamId;if(!z[re])return;z[re].disableManualTracks()}catch{}}function Ze(){var $=!0;return le&&!G&&($=!1),$}function be($,re){(le=-1===re)&&C&&C.saveTextSettingsDisabled();var J=ye($);if(J!==re&&z[$]){z[$].disableManualTracks(),z[$].setModeForTrackIdx(J,t.default.TEXT_HIDDEN),z[$].setCurrentTrackIdx(re),z[$].setModeForTrackIdx(re,t.default.TEXT_SHOWING);var q=z[$].getCurrentTrackInfo();q&&q.isFragmented&&!q.isEmbedded?function Q($,re,J){if(B[$])for(var _e=B[$].getConfig().fragmentedTracks,xe=0;xe<_e.length;xe++){var Ee=_e[xe];if(re.lang===Ee.lang&&(Ee.id?re.id===Ee.id:re.index===Ee.index)){var Ge=C.getCurrentTrackFor(t.default.TEXT,$);(Ee.id?Ge.id!==Ee.id:Ge.index!==Ee.index)?(z[$].deleteCuesFromTrackIdx(J),B[$].setCurrentFragmentedTrackIdx(xe)):-1===J&&Y.trigger(c.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:$,mediaType:t.default.TEXT})}}}($,q,J):q&&!q.isFragmented&&function ie($,re){Y.trigger(c.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:re},{streamId:$,mediaType:t.default.TEXT})}($,q),C.setTrack(q)}}function ye($){return z[$].getCurrentTrackIdx()}function ee(){B={},z={},y={},le=!0,Se=!1,ce=!1}return L={deactivateStream:function oe($){if($){var re=$.id;B[re]&&B[re].resetMediaInfos(),z[re]&&z[re].deleteAllTextTracks()}},initialize:function Ie(){Y.on(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,Te,L),T.get().streaming.text.webvtt.customRenderingEnabled&&(Y.on(c.default.PLAYBACK_TIME_UPDATED,Oe,L),Y.on(c.default.PLAYBACK_SEEKING,je,L))},initializeForStream:function Ce($){var re=$.id,J=Object(g.default)(x).create({videoModel:I,settings:T,streamInfo:$});J.initialize(),z[re]=J;var q=Object(b.default)(x).create({errHandler:N,adapter:A,manifestModel:O,mediaController:C,videoModel:I,textTracks:J,vttParser:ne,vttCustomRenderingParser:ae,ttmlParser:Fe,streamInfo:$,settings:T});q.initialize(),B[re]=q,y[re]={},y[re].lastEnabledIndex=-1},createTracks:function pe($){var re=$.id;z[re]&&z[re].createTracks()},getTextSourceBuffer:function ke($){var re=$.id;if(B&&B[re])return B[re]},getAllTracksAreDisabled:function he(){return le},addEmbeddedTrack:function we($,re){var J=$.id;B[J]&&B[J].addEmbeddedTrack(re)},enableText:function ft($,re){Object(f.checkParameterType)(re,"boolean"),Ze()!==re&&(re&&be($,y[$].lastEnabledIndex),re||(y[$].lastEnabledIndex=ye($),Se?be($,-1):ce=!0))},isTextEnabled:Ze,setTextTrack:be,getCurrentTrackIdx:ye,enableForcedTextStreaming:function Re($){Object(f.checkParameterType)($,"boolean"),G=$},addMediaInfosToBuffer:function Ae($,re,J){var _e=$.id;B[_e]&&B[_e].addMediaInfos(re,J,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function X(){ee(),Y.off(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,Te,L),T.get().streaming.text.webvtt.customRenderingEnabled&&(Y.off(c.default.PLAYBACK_TIME_UPDATED,Oe,L),Y.off(c.default.PLAYBACK_SEEKING,je,L)),Object.keys(B).forEach(function($){B[$].resetEmbedded(),B[$].reset()})}},function ge(){G=!1,Se=!1,ce=!1,ne=Object(P.default)(x).getInstance(),ae=Object(D.default)(x).getInstance(),Fe=Object(m.default)(x).getInstance(),Y=Object(i.default)(x).getInstance(),ee()}(),L}_.__dashjs_factory_name="TextController",p.default=v.default.getClassFactory(_)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),g=e(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),P=e(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),D=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),c=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),d=e.n(c),f=e(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),_=e.n(f),S=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),N=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(C){var ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,je,ft,Ze,Re,be,I=C.errHandler,T=C.manifestModel,L=C.mediaController,y=C.videoModel,B=C.textTracks,z=C.vttParser,ne=C.vttCustomRenderingParser,ae=C.ttmlParser,Fe=C.streamInfo,Y=C.settings,le=this.context,G=Object(S.default)(le).getInstance(),Se=!1;function oe(){(function ye(){Ae=null,he=NaN,we=[],Te=null,ke=!1})(),pe=[],Ce=null}function $(He){var ze=new b.default;for(var at in He)ze[at]=He[at];ze.labels=He.labels,ze.defaultTrack=function un(He){var ze=!1;return je.length>1&&He.isEmbedded?ze=He.id&&He.id===t.default.CC1:1===je.length?He.id&&"string"==typeof He.id&&"CC"===He.id.substring(0,2)&&(ze=!0):0===je.length&&(ze=He.index===pe[0].index),ze}(He),ze.isFragmented=He.isFragmented,ze.isEmbedded=!!He.isEmbedded,ze.isTTML=function Xe(He){return He.codec&&He.codec.search(t.default.STPP)>=0||He.mimeType&&He.mimeType.search(t.default.TTML)>=0}(He),ze.kind=function tt(He,ze){var st=He.roles&&He.roles.length>0?ze[He.roles[0]]:ze.caption;return st===ze.caption||st===ze.subtitle?st:ze.caption}(He,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(ze)}function q(He){var ze=He.chunk;ze.mediaInfo.embeddedCaptions&&gt(ze.bytes,ze)}function ct(He){Oe=He}function gt(He,ze){var st=ze.mediaInfo,at=st.type,bt=st.codec||st.mimeType;bt?-1!==st.codec.indexOf("application/mp4")?function Qe(He,ze,st){var at;if("InitializationSegment"===ze.segmentType)ke=!0,he=Ie.getMediaTimescaleFromMoov(He);else{if(!ke)return;(at=Ie.getSamplesInfo(He).sampleList).length>0&&(Te=at[0].cts-ze.start*he),st.search(t.default.STPP)>=0?function yt(He,ze,st){var at,St;for(Ce=null!==Ce?Ce:fn(st),at=0;at<ze.length;at++){var bt=ze[at],xt=bt.cts,on=qt(),En=on+xt/he;ce.buffered.add(En,En+bt.duration/he);var Mn=new DataView(He,bt.offset,bt.subSizes[0]),In=d.a.Utils.dataViewToString(Mn,t.default.UTF8),Nn=[],$n=bt.offset+bt.subSizes[0];for(St=1;St<bt.subSizes.length;St++){var ni=new Uint8Array(He,$n,bt.subSizes[St]),vn=String.fromCharCode.apply(null,ni);Nn.push(vn),$n+=bt.subSizes[St]}try{var pn=T.getValue(),mn=Ce.parse(In,pn.ttmlTimeIsRelative?xt/he:0,xt/he,(xt+bt.duration)/he,Nn);B.addCaptions(Oe,on,mn)}catch(_n){Ae.removeExecutedRequestsBeforeTime(),this.remove(),ge.error("TTML parser error: "+_n.message)}}}(He,at,st):function Dt(He,ze){var st,at,St,bt=[];for(st=0;st<ze.length;st++){var xt=ze[st];xt.cts-=Te;var En=qt()+xt.cts/he;ce.buffered.add(En,En+xt.duration/he);var Mn=He.slice(xt.offset,xt.offset+xt.size),In=d.a.parseBuffer(Mn);for(at=0;at<In.boxes.length;at++){var Nn=In.boxes[at];if(ge.debug("VTT box1: "+Nn.type),"vtte"!==Nn.type&&"vttc"===Nn.type)for(ge.debug("VTT vttc boxes.length = "+Nn.boxes.length),St=0;St<Nn.boxes.length;St++){var $n=Nn.boxes[St];if(ge.debug("VTT box2: "+$n.type),"payl"===$n.type){var ni=$n.cue_text;ge.debug("VTT cue_text = "+ni);var vn=xt.cts/he,pn=(xt.cts+xt.duration)/he;bt.push({start:vn,end:pn,data:ni,styles:{}}),ge.debug("VTT "+vn+"-"+pn+" : "+ni)}}}}bt.length>0&&B.addCaptions(Oe,0,bt)}(He,at)}}(He,ze,bt):at===t.default.VIDEO?function We(He,ze){var st,at;if(ze.segmentType===v.HTTPRequest.INIT_SEGMENT_TYPE)0===ft&&(ft=Ie.getMediaTimescaleFromMoov(He));else if(ze.segmentType===v.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ft)return void ge.warn("CEA-608: No timescale for embeddedTextTrack yet");var St=(at=Ie.getSamplesInfo(He)).lastSequenceNumber;if(!Re[0]&&!Re[1]&&function Et(){for(var He,ze=0;ze<je.length;ze++){if(-1===(He=B.getTrackIdxForId(je[ze].id)))return void ge.warn("CEA-608: data before track is ready.");var st=Wt(He);Re[ze]=new _.a.Cea608Parser(ze+1,{newCue:st},null)}}(),ft){if(null!==Ze&&St!==Ze+at.numSequences)for(st=0;st<Re.length;st++)Re[st]&&Re[st].reset();for(var bt=function Qt(He,ze){if(0===ze.length)return null;for(var st={splits:[],fields:[[],[]]},at=new DataView(He),St=0;St<ze.length;St++)for(var bt=ze[St],xt=_.a.findCea608Nalus(at,bt.offset,bt.size),on=null,En=0,tn=0;tn<xt.length;tn++)for(var Mn=_.a.extractCea608DataFromRange(at,xt[tn]),In=0;In<2;In++)if(Mn[In].length>0){bt.cts!==on?En=0:En+=1;var Nn=qt();st.fields[In].push([bt.cts+Nn*ft,Mn[In],En]),on=bt.cts}return st.fields.forEach(function(ni){ni.sort(function(vn,pn){return vn[0]===pn[0]?vn[2]-pn[2]:vn[0]-pn[0]})}),st}(He,at.sampleList),xt=0;xt<Re.length;xt++){var on=bt.fields[xt],En=Re[xt];if(En)for(st=0;st<on.length;st++)En.addData(on[st][0]/ft,on[st][1])}Ze=St}}}(He,ze):function fe(He,ze,st){var at,St,bt=new DataView(He,0,He.byteLength);St=d.a.Utils.dataViewToString(bt,t.default.UTF8);try{at=fn(st).parse(St,0),B.addCaptions(B.getCurrentTrackIdx(),0,at),ce.buffered&&ce.buffered.add(ze.start,ze.end)}catch(xt){I.error(new A.default(N.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,N.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+xt.message,St))}}(He,ze,bt):ge.error("No text type defined")}function Wt(He){return function ze(st,at,St){var bt;(bt=y.getTTMLRenderingDiv()?be.createHTMLCaptionsFromScreen(y.getElement(),st,at,St):[{start:st,end:at,data:St.getDisplayText(),styles:{}}])&&B.addCaptions(He,0,bt)}}function qt(){return isNaN(ce.timestampOffset)?0:ce.timestampOffset}function fn(He){var ze;return He.search(t.default.VTT)>=0?ze=Y.get().streaming.text.webvtt.customRenderingEnabled&&ne?ne:z:(He.search(t.default.TTML)>=0||He.search(t.default.STPP)>=0)&&(ze=ae),ze}function vt(He){je.forEach(function(ze){var st=B.getTrackIdxForId(ze.id);st>=0&&B.deleteCuesFromTrackIdx(st,He.from,He.to)})}return ce={initialize:function ee(){Se||function _e(){je=[],Oe=null,ft=0,Re=[],Ze=null,Se=!0,be=Object(i.default)(le).getInstance(),G.on(x.default.VIDEO_CHUNK_RECEIVED,q,ce),G.on(x.default.BUFFER_CLEARED,vt,ce)}()},addMediaInfos:function X(He,ze,st){if(pe=pe.concat(ze),He===t.default.TEXT&&ze[0].isFragmented&&!ze[0].isEmbedded){Ae=st,ce.buffered=Object(P.default)(le).create(),we=L.getTracksFor(t.default.TEXT,Fe.id).filter(function(xt){return xt.isFragmented});for(var at=L.getCurrentTrackFor(t.default.TEXT,Fe.id),St=0;St<we.length;St++)if(we[St]===at){ct(St);break}}for(var bt=0;bt<ze.length;bt++)$(ze[bt])},resetMediaInfos:function it(){pe=[]},getStreamId:function ie(){return Fe.id},append:gt,abort:function re(){},addEmbeddedTrack:function Ee(He){if(Se&&He)if(He.id===t.default.CC1||He.id===t.default.CC3){for(var ze=0;ze<je.length;ze++)if(je[ze].id===He.id)return;je.push(He)}else ge.warn("Embedded track "+He.id+" not supported!")},resetEmbedded:function xe(){G.off(x.default.VIDEO_CHUNK_RECEIVED,q,ce),G.off(x.default.BUFFER_CLEARED,vt,ce),B&&B.deleteAllTextTracks(),Se=!1,je=[],Re=[null,null],Ze=null},getConfig:function Ge(){return{fragmentModel:Ae,fragmentedTracks:we,videoModel:y}},setCurrentFragmentedTrackIdx:ct,remove:function wt(He,ze){void 0===He&&He===ze&&(He=ce.buffered.start(0),ze=ce.buffered.end(ce.buffered.length-1)),ce.buffered.remove(He,ze),B.deleteCuesFromTrackIdx(Oe,He,ze)},reset:function J(){oe(),pe=[],Ie=null}},function Q(){ge=Object(m.default)(le).getInstance().getLogger(ce),Ie=Object(g.default)(le).getInstance(),oe()}(),ce}O.__dashjs_factory_name="TextSourceBuffer",p.default=D.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function c(S,x){var A=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!A){if(Array.isArray(S)||(A=function d(S,x){if(S){if("string"==typeof S)return f(S,x);var A=Object.prototype.toString.call(S).slice(8,-1);if("Object"===A&&S.constructor&&(A=S.constructor.name),"Map"===A||"Set"===A)return Array.from(S);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return f(S,x)}}(S))||x&&S&&"number"==typeof S.length){A&&(S=A);var N=0,O=function(){};return{s:O,n:function(){return N>=S.length?{done:!0}:{done:!1,value:S[N++]}},e:function(y){throw y},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,C=!0,I=!1;return{s:function(){A=A.call(S)},n:function(){var y=A.next();return C=y.done,y},e:function(y){I=!0,T=y},f:function(){try{!C&&null!=A.return&&A.return()}finally{if(I)throw T}}}}function f(S,x){(null==x||x>S.length)&&(x=S.length);for(var A=0,N=new Array(x);A<x;A++)N[A]=S[A];return N}function _(S){var I,T,L,y,B,z,ne,ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,x=this.context,A=Object(v.default)(x).getInstance(),N=S.videoModel,O=S.streamInfo,C=S.settings;function we(fe){return N.addTextTrack(fe.kind,void 0!==fe.id?fe.id:fe.lang,fe.lang,fe.isTTML,fe.isEmbedded)}function je(fe,We,Et,Wt,Qt,qt){var wt=0,vt=0;fe/We>Et/Wt?wt=(vt=We)/Wt*Et:vt=(wt=fe)/Et*Wt;var it,He,ze=0,st=0;return wt/vt>Qt?(st=vt,ze=vt*Qt):(ze=wt,st=wt/Qt),it=(fe-ze)/2,He=(We-st)/2,qt?{x:it+.1*ze,y:He+.1*st,w:.8*ze,h:.8*st}:{x:it,y:He,w:ze,h:st}}function ft(fe,We){var Et=N.getClientWidth(),Wt=N.getClientHeight(),Qt=N.getVideoWidth(),qt=N.getVideoHeight(),un=N.getVideoRelativeOffsetTop(),fn=N.getVideoRelativeOffsetLeft();if(0!==Qt&&0!==qt){var wt=Qt/qt,vt=!1;fe.isFromCEA608&&(wt=3.5/3,vt=!0);var it=je.call(this,Et,Wt,Qt,qt,wt,vt),He=it.w,ze=it.h,st=it.x,at=it.y;if(He!=Fe||ze!=Y||st!=ne||at!=ae||We){if(ne=st+fn,ae=at+un,Fe=He,Y=ze,le){var St=le.style;St&&(St.left=ne+"px",St.top=ae+"px",St.width=Fe+"px",St.height=Y+"px",St.zIndex=ce&&document[ce]||ge?Ce:null,A.trigger(g.default.CAPTION_CONTAINER_RESIZE))}var bt=fe.activeCues;if(bt)for(var xt=bt.length,on=0;on<xt;++on){var En=bt[on];En.scaleCue(En)}}}}function Ze(fe){var Wt,Qt,qt,un,fn;if(fe.cellResolution){var wt=[Fe/fe.cellResolution[0],Y/fe.cellResolution[1]];if(fe.linePadding)for(Wt in fe.linePadding)if(fe.linePadding.hasOwnProperty(Wt)){Qt=(fe.linePadding[Wt]*wt[0]).toString();for(var it=document.getElementsByClassName("spanPadding"),He=0;He<it.length;He++)it[He].style.cssText=it[He].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt),it[He].style.cssText=it[He].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}if(fe.fontSize){for(Wt in fe.fontSize)if(fe.fontSize.hasOwnProperty(Wt)){"%"===fe.fontSize[Wt][0]?qt=fe.fontSize[Wt][1]/100:"c"===fe.fontSize[Wt][0]&&(qt=fe.fontSize[Wt][1]),Qt=(qt*wt[1]).toString(),fn="defaultFontSize"!==Wt?document.getElementsByClassName(Wt):document.getElementsByClassName("paragraph");for(var ze=0;ze<fn.length;ze++)fn[ze].style.cssText=fn[ze].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}if(fe.lineHeight)for(Wt in fe.lineHeight)if(fe.lineHeight.hasOwnProperty(Wt)){"%"===fe.lineHeight[Wt][0]?un=fe.lineHeight[Wt][1]/100:"c"===fe.fontSize[Wt][0]&&(un=fe.lineHeight[Wt][1]),Qt=(un*wt[1]).toString(),fn=document.getElementsByClassName(Wt);for(var st=0;st<fn.length;st++)fn[st].style.cssText=fn[st].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}}}if(fe.isd){var at=document.getElementById(fe.cueID);at&&le.removeChild(at),Re(fe)}}function Re(fe){if(le){var We=document.createElement("div");le.appendChild(We),Ie=Object(m.renderHTML)(fe.isd,We,function(Et){var Wt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Qt=/^#(.*)$/;if(Wt.test(Et)){var qt=Wt.exec(Et),un=parseInt(qt[4],10)-1;return"data:image/png;base64,"+btoa(fe.images[un])}if(Qt.test(Et)){var vt=Qt.exec(Et);return"data:image/png;base64,"+fe.embeddedImages[vt[1]]}return null},le.clientHeight,le.clientWidth,!1,function(Et){T.info("renderCaption :",Et)},Ie,!0),We.id=fe.cueID,A.trigger(g.default.CAPTION_RENDERED,{captionDiv:We,currentTrackIdx:z})}}function be(fe,We,Et){var Wt=X(fe);if(Wt&&Array.isArray(Et)&&0!==Et.length)for(var Qt=0;Qt<Et.length;Qt++){var qt=void 0,un=Et[Qt];Wt.cellResolution=un.cellResolution,Wt.isFromCEA608=un.isFromCEA608,!isNaN(un.start)&&!isNaN(un.end)&&(qt="html"===un.type&&le?Q(un,We,Wt):un.data?ie(un,We,Wt):null);try{qt?_e(Wt,qt)||(C.get().streaming.text.webvtt.customRenderingEnabled?(Wt.manualCueList||(Wt.manualCueList=[]),Wt.manualCueList.push(qt)):Wt.addCue(qt)):T.error("impossible to display subtitles.")}catch(fn){throw Ee(Wt),Wt.addCue(qt),fn}}}function Q(fe,We,Et){var Wt=this,Qt=new L(fe.start+We,fe.end+We,"");return Qt.cueHTMLElement=fe.cueHTMLElement,Qt.isd=fe.isd,Qt.images=fe.images,Qt.embeddedImages=fe.embeddedImages,Qt.cueID=fe.cueID,Qt.scaleCue=Ze.bind(Wt),Qt.cellResolution=fe.cellResolution,Qt.lineHeight=fe.lineHeight,Qt.linePadding=fe.linePadding,Qt.fontSize=fe.fontSize,le.style.left=ne+"px",le.style.top=ae+"px",le.style.width=Fe+"px",le.style.height=Y+"px",Qt.onenter=function(){Et.mode===t.default.TEXT_SHOWING&&(this.isd?(Re(this),T.debug("Cue enter id:"+this.cueID)):(le.appendChild(this.cueHTMLElement),Ze.call(Wt,this),A.trigger(g.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:z})))},Qt.onexit=function(){if(le)for(var qt=le.childNodes,un=0;un<qt.length;++un)qt[un].id===this.cueID&&(T.debug("Cue exit id:"+qt[un].id),le.removeChild(qt[un]),--un)},Qt}function ie(fe,We,Et){var Wt=new L(fe.start-We,fe.end-We,fe.data);if(Wt.cueID="".concat(Wt.startTime,"_").concat(Wt.endTime),Wt.isActive=!1,fe.styles)try{void 0!==fe.styles.align&&"align"in Wt&&(Wt.align=fe.styles.align),void 0!==fe.styles.line&&"line"in Wt&&(Wt.line=fe.styles.line),void 0!==fe.styles.position&&"position"in Wt&&(Wt.position=fe.styles.position),void 0!==fe.styles.size&&"size"in Wt&&(Wt.size=fe.styles.size)}catch(Qt){T.error(Qt)}return Wt.onenter=function(){Et.mode===t.default.TEXT_SHOWING&&A.trigger(g.default.CAPTION_RENDERED,{currentTrackIdx:z})},Wt}function ee(){var Wt,We=[],Et=c(N.getTextTracks());try{for(Et.s();!(Wt=Et.n()).done;){var Qt=Wt.value;Qt.manualMode===t.default.TEXT_SHOWING&&We.push(Qt)}}catch(qt){Et.e(qt)}finally{Et.f()}return We}function X(fe){return fe>=0&&y[fe]?N.getTextTrack(y[fe].kind,y[fe].id,y[fe].lang,y[fe].isTTML,y[fe].isEmbedded):null}function J(fe){var We=this;if(fe!==z){var Et=X(z=fe);q.call(this,Et),Se&&(clearInterval(Se),Se=null),Et&&"html"===Et.renderingType&&(ft.call(this,Et,!0),window.ResizeObserver?(pe=new window.ResizeObserver(function(){ft.call(We,Et,!0)})).observe(N.getElement()):Se=setInterval(ft.bind(this,Et),500))}}function q(fe){Qe.call(this),fe&&"html"===fe.renderingType?tt.call(this):gt.call(this)}function _e(fe,We){if(!fe.cues)return!1;for(var Et=0;Et<fe.cues.length;Et++)if(fe.cues[Et].startTime===We.startTime&&fe.cues[Et].endTime===We.endTime)return!0;return!1}function xe(fe,We,Et){var Wt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(We)||(Wt?fe.startTime:fe.endTime)>=We)&&(isNaN(Et)||(Wt?fe.endTime:fe.startTime)<=Et)}function Ee(fe,We,Et){var Wt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(fe.cues)for(var Qt=fe.cues,un=Qt.length-1;un>=0;un--)xe(Qt[un],We,Et,Wt)&&(Qt[un].onexit&&Qt[un].onexit(),fe.removeCue(Qt[un]))}function tt(){var fe=document.getElementById("native-cue-style");if(!fe){(fe=document.createElement("style")).id="native-cue-style",document.head.appendChild(fe);var We=fe.sheet,Et=N.getElement();try{Et&&We.insertRule(Et.id?"#"+Et.id+"::cue {background: transparent}":0!==Et.classList.length?"."+Et.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(Wt){T.info(""+Wt.message)}}}function gt(){var fe=document.getElementById("native-cue-style");fe&&document.head.removeChild(fe)}function Qe(){if(le)for(;le.firstChild;)le.removeChild(le.firstChild)}return I={initialize:function ke(){typeof window>"u"||typeof navigator>"u"||(L=window.VTTCue||window.TextTrackCue,y=[],B=[],z=-1,ne=0,ae=0,Fe=0,Y=0,le=null,G=null,Se=null,ge=!1,Ce=2147483647,Ie=null,void 0!==document.fullscreenElement?ce="fullscreenElement":void 0!==document.webkitIsFullScreen?ce="webkitIsFullScreen":document.msFullscreenElement?ce="msFullscreenElement":document.mozFullScreen&&(ce="mozFullScreen"))},getStreamId:function he(){return O.id},addTextTrack:function Te(fe){y.push(fe)},addCaptions:be,createTracks:function Oe(){y.sort(function(fn,wt){return fn.index-wt.index}),le=N.getTTMLRenderingDiv(),G=N.getVttRenderingDiv();for(var fe=-1,We=0;We<y.length;We++){var Et=we(y[We]);B.push(Et),y[We].defaultTrack&&(Et.default=!0,fe=We);var Wt=X(We);Wt&&(Wt.mode=t.default.TEXT_SHOWING,Wt.renderingType=le&&(y[We].isTTML||y[We].isEmbedded)?"html":"default"),be(We,0,y[We].captionData),A.trigger(g.default.TEXT_TRACK_ADDED)}if(J.call(this,fe),fe>=0){A.on(g.default.PLAYBACK_METADATA_LOADED,function fn(){var wt=X(fe);wt&&"html"===wt.renderingType&&ft.call(this,wt,!0),A.off(g.default.PLAYBACK_METADATA_LOADED,fn,this)},this);for(var qt=0;qt<y.length;qt++){var un=X(qt);un&&(un.mode=qt===fe?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,un.manualMode=qt===fe?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}A.trigger(b.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:z,tracks:y,streamId:O.id})},getCurrentTrackIdx:function $(){return z},setCurrentTrackIdx:J,getTrackIdxForId:function re(fe){for(var We=-1,Et=0;Et<y.length;Et++)if(y[Et].id===fe){We=Et;break}return We},getCurrentTrackInfo:function Dt(){return y[z]},setModeForTrackIdx:function yt(fe,We){var Et=X(fe);Et&&Et.mode!==We&&(Et.mode=We),Et&&Et.manualMode!==We&&(Et.manualMode=We)},deleteCuesFromTrackIdx:function Ge(fe,We,Et){var Wt=X(fe);Wt&&Ee(Wt,We,Et)},deleteAllTextTracks:function ct(){for(var fe=B?B.length:0,We=0;We<fe;We++){var Et=X(We);Et&&Ee.call(this,Et,O.start,O.start+O.duration,!1)}B=[],y=[],Se&&(clearInterval(Se),Se=null),pe&&N&&(pe.unobserve(N.getElement()),pe=null),z=-1,Qe.call(this)},deleteTextTrack:function Xe(fe){N.removeChild(B[fe]),B.splice(fe,1)},manualCueProcessing:function ye(fe){var We=ee();if(We&&We.length>0){var Wt=We[0].manualCueList;Wt&&Wt.length>0&&Wt.forEach(function(Qt){if(Qt.startTime<=fe&&Qt.endTime>=fe&&!Qt.isActive)Qt.isActive=!0,WebVTT.processCues(window,[Qt],G,Qt.cueID);else if(Qt.isActive&&(Qt.startTime>fe||Qt.endTime<fe)&&(Qt.isActive=!1,G))for(var qt=G.childNodes,un=0;un<qt.length;++un)qt[un].id===Qt.cueID&&(G.removeChild(qt[un]),--un)})}},disableManualTracks:function oe(){var fe=ee();if(fe&&fe.length>0){var Et=fe[0].manualCueList;Et&&Et.length>0&&Et.forEach(function(Wt){if(Wt.isActive&&(Wt.isActive=!1,G))for(var Qt=G.childNodes,qt=0;qt<Qt.length;++qt)Qt[qt].id===Wt.cueID&&(G.removeChild(Qt[qt]),--qt)})}}},function Ae(){T=Object(D.default)(x).getInstance().getLogger(I)}(),I}_.__dashjs_factory_name="TextTracks",p.default=P.default.getClassFactory(_)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),g=e(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),P=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),D=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function m(i){var f,_,c=this.context,d=i.streamInfo;function C(y){_.setTrackByIndex(y)}function L(){_&&_.reset()}return f={getStreamId:function A(){return d.id},initialize:function x(){_.addTracks();var y=_.getTracks();y&&y.length>0&&C(0)},provide:function N(y,B){if("function"==typeof B){var ae,z=_.getCurrentTrack();if(!z||z.segmentDuration<=0||null==y)return void B(null);(ae=_.getThumbnailRequestForTime(y))&&(z.segmentDuration=ae.duration);var Fe=Math.floor(y%z.segmentDuration*z.tilesHor*z.tilesVert/z.segmentDuration),Y=new b.default;if(Y.width=Math.floor(z.widthPerTile),Y.height=Math.floor(z.heightPerTile),Y.x=Math.floor(Fe%z.tilesHor)*z.widthPerTile,Y.y=Math.floor(Fe/z.tilesHor)*z.heightPerTile,"readThumbnail"in z)return z.readThumbnail(y,function(G){Y.url=G,B(Y)});if(ae)Y.url=ae.url,z.segmentDuration=NaN;else{var le=Math.floor(y/z.segmentDuration);Y.url=function O(y,B){var z=B+y.startNumber,ne=Object(D.replaceTokenForTemplate)(y.templateUrl,"Number",z);return ne=Object(D.replaceTokenForTemplate)(ne,"Time",(z-1)*y.segmentDuration*y.timescale),ne=Object(D.replaceTokenForTemplate)(ne,"Bandwidth",y.bandwidth),Object(D.unescapeDollarsInTemplate)(ne)}(z,le)}B(Y)}},setTrackByIndex:C,getCurrentTrackIndex:function I(){return _.getCurrentTrackIndex()},getBitrateList:function T(){var y=_.getTracks(),B=0;return y.map(function(z){var ne=new P.default;return ne.mediaType=v.default.IMAGE,ne.qualityIndex=B++,ne.bitrate=z.bitrate,ne.width=z.width,ne.height=z.height,ne})},reset:L},function S(){L(),_=Object(g.default)(c).create({streamInfo:d,adapter:i.adapter,baseURLController:i.baseURLController,timelineConverter:i.timelineConverter,debug:i.debug,eventBus:i.eventBus,events:i.events,dashConstants:i.dashConstants,dashMetrics:i.dashMetrics,segmentBaseController:i.segmentBaseController})}(),f}m.__dashjs_factory_name="ThumbnailController",p.default=t.default.getClassFactory(m)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(et,p,e){"use strict";e.r(p),e.d(p,"THUMBNAILS_SCHEME_ID_URIS",function(){return f});var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),P=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),m=e(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),i=e(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),c=e(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),d=e(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),f=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function _(S){var z,ne,ae,Fe,Y,le,G,Se,x=this.context,A=S.adapter,N=S.baseURLController,O=S.streamInfo,C=S.timelineConverter,I=S.debug,T=S.eventBus,L=S.events,y=S.dashConstants,B=Object(P.default)(x).getInstance();function Ie(ft,Ze){var Re=new g.default;Re.id=ft.id,Re.bitrate=ft.bandwidth,Re.width=ft.width,Re.height=ft.height,Re.tilesHor=1,Re.tilesVert=1,ft.essentialProperties&&ft.essentialProperties.forEach(function(be){if(f.indexOf(be.schemeIdUri)>=0&&be.value){var Q=be.value.split("x");2===Q.length&&!isNaN(Q[0])&&!isNaN(Q[1])&&(Re.tilesHor=parseInt(Q[0],10),Re.tilesVert=parseInt(Q[1],10))}}),Ze?le.updateSegmentData(ft).then(function(be){!function Ce(ft,Ze,Re){var be=[],Q=function pe(ft,Ze){var Q,ie,ye,oe,Re=[],be=0;for(Q=0,ie=ft.segments.length;Q<ie;Q++)ye=ft.segments[Q],(oe=Object(D.getTimeBasedSegment)(C,A.getIsDynamic(),Ze,ye.startTime,ye.duration,ye.timescale,ye.media,ye.mediaRange,be))&&(Re.push(oe),oe=null,be++);return Re}(Re,Ze);Ze.segments=Q,ft.segmentDuration=Ze.segments[0].duration,ft.readThumbnail=function(ie,ye){var oe=null;be.some(function(ee){if(ee.start<=ie&&ee.end>ie)return oe=ee.url,!0}),oe?ye(oe):Ze.segments.some(function(ee){if(ee.mediaStartTime<=ie&&ee.mediaStartTime+ee.duration>ie){var X=N.resolve(Ze.path);return G.load({method:"get",url:X.url,request:{range:ee.mediaRange,responseType:"arraybuffer"},onload:function(re){var J=Se.getSamplesInfo(re.target.response),q=new Blob([re.target.response.slice(J.sampleList[0].offset,J.sampleList[0].offset+J.sampleList[0].size)],{type:"image/jpeg"}),_e=window.URL.createObjectURL(q);be.push({start:ee.mediaStartTime,end:ee.mediaStartTime+ee.duration,url:_e}),ye&&ye(_e)}}),!0}})}}(Re,ft,be)}):(Re.startNumber=ft.startNumber,Re.segmentDuration=ft.segmentDuration,Re.timescale=ft.timescale,Re.templateUrl=function Ae(ft){var Ze=B.isRelative(ft.media)?B.resolve(ft.media,N.resolve(ft.path).url):ft.media;return Ze?Object(D.replaceIDForTemplate)(Ze,ft.id):""}(ft)),Re.tilesHor>0&&Re.tilesVert>0&&(Re.widthPerTile=Re.width/Re.tilesHor,Re.heightPerTile=Re.height/Re.tilesVert,ne.push(Re))}function je(){ne=[],Fe=-1,Y=null}return z={getTracks:function ke(){return ne},addTracks:function ge(){if(O&&A&&(Y=A.getMediaInfoForType(O,t.default.IMAGE))){var ft=A.getVoRepresentations(Y);ft&&ft.length>0&&ft.forEach(function(Ze){(Ze.segmentInfoType===v.default.SEGMENT_TEMPLATE&&Ze.segmentDuration>0&&Ze.media||Ze.segmentInfoType===v.default.SEGMENT_TIMELINE)&&Ie(Ze),Ze.segmentInfoType===v.default.SEGMENT_BASE&&Ie(Ze,!0)}),ne.length>0&&ne.sort(function(Ze,Re){return Ze.bitrate-Re.bitrate})}},reset:je,setTrackByIndex:function Te(ft){!ne||0===ne.length||(ft>=ne.length&&(ft=ne.length-1),Fe=ft)},getCurrentTrack:function we(){return Fe<0?null:ne[Fe]},getCurrentTrackIndex:function he(){return Fe},getThumbnailRequestForTime:function Oe(ft){for(var Ze,Re=A.getVoRepresentations(Y),be=0;be<Re.length;be++)if(ne[Fe].id===Re[be].id){Ze=Re[be];break}return ae.getSegmentRequestForTime(Y,Ze,ft)}},function ce(){je(),G=Object(i.default)(x).create({}),Se=Object(m.default)(x).getInstance(),le=Object(d.default)(x).create({events:L,eventBus:T,streamInfo:O,timelineConverter:C,dashConstants:y,dashMetrics:S.dashMetrics,segmentBaseController:S.segmentBaseController,type:t.default.IMAGE}),(ae=Object(c.default)(x).create({streamInfo:O,type:t.default.IMAGE,timelineConverter:C,segmentsController:le,baseURLController:N,debug:I,eventBus:T,events:L,dashConstants:y,urlUtils:B})).initialize(!!A&&A.getIsDynamic())}(),z}_.__dashjs_factory_name="ThumbnailTracks",p.default=b.default.getClassFactory(_)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),P=e(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),D=e(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),c=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),d=e(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),f=e(
/*! ../../core/Settings */
"./src/core/Settings.js");function _(){var N,O,C,I,T,L,S=this.context,x=Object(v.default)(S).getInstance(),A=Object(f.default)(S).getInstance();function ae(){O.reset()}return N={chooseSelector:function z(Fe){Object(c.checkParameterType)(Fe,"boolean"),L=Fe?I:C},select:function ne(Fe){if(Fe){if(A.get().streaming.applyContentSteering){var Y=T.selectBaseUrlIndex(Fe);!isNaN(Y)&&-1!==Y&&(Fe.selectedIdx=Y)}if(!isNaN(Fe.selectedIdx))return Fe.baseUrls[Fe.selectedIdx];var le=L.select(Fe.baseUrls);return le?(Fe.selectedIdx=Fe.baseUrls.indexOf(le),le):(x.trigger(b.default.URL_RESOLUTION_FAILED,{error:new i.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(L===C&&ae()))}},reset:ae,setConfig:function B(Fe){Fe.selector&&(L=Fe.selector),Fe.contentSteeringSelector&&(T=Fe.contentSteeringSelector)}},function y(){O=Object(g.default)(S).create({updateEventName:b.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:b.default.SERVICE_LOCATION_BLACKLIST_ADD}),C=Object(D.default)(S).create({blacklistController:O}),I=Object(P.default)(S).create({blacklistController:O}),(T=Object(d.default)(S).create()).setConfig({blacklistController:O}),L=C}(),N}_.__dashjs_factory_name="BaseURLSelector",p.default=m.default.getClassFactory(_)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=e.n(g),D=e(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function m(){var i,c,d=this.context;function _(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var L=P.a.parseBuffer(T),y=Object(v.default)(d).create();return y.setData(L),y}function N(T,L){return T[L+3]>>>0|T[L+2]<<8>>>0|T[L+1]<<16>>>0|T[L]<<24>>>0}function O(T,L){return String.fromCharCode(T[L++])+String.fromCharCode(T[L++])+String.fromCharCode(T[L++])+String.fromCharCode(T[L])}return c={parse:_,findLastTopIsoBoxCompleted:function S(T,L,y){if(void 0===y&&(y=0),!L||y+8>=L.byteLength)return new D.default(0,!1);for(var z,B=L instanceof ArrayBuffer?new Uint8Array(L):L,ne=0;y<B.byteLength;){var ae=N(B,y),Fe=O(B,y+4);if(0===ae)break;y+ae<=B.byteLength&&(T.indexOf(Fe)>=0?z=new D.default(y,!0,ae):ne=y+ae),y+=ae}return z||new D.default(ne,!1)},getMediaTimescaleFromMoov:function A(T){var L=_(T),y=L?L.getBox("mdhd"):void 0;return y?y.timescale:NaN},getSamplesInfo:function x(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var z,ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,L=_(T),y=L.getBoxes("moof"),B=L.getBoxes("mfhd");he=L.getBoxes("moof").length,ke=B[B.length-1].sequence_number,ae=0,le=[];var Te=-1,Oe=-1;for(Ie=0;Ie<y.length;Ie++){var je=y[Ie],ft=je.getChildBoxes("traf");for(ce=0;ce<ft.length;ce++){var Ze=ft[ce],Re=Ze.getChildBox("tfhd"),be=Ze.getChildBox("tfdt");Y=be.baseMediaDecodeTime;var Q=Ze.getChildBoxes("trun"),ie=Ze.getChildBoxes("subs");for(ge=0;ge<Q.length;ge++){var ye=Q[ge];for(ae=ye.sample_count,Ae=(Re.base_data_offset||0)+(ye.data_offset||0),Se=0;Se<ae;Se++){var oe={dts:Y,cts:Y+(void 0!==(G=ye.samples[Se]).sample_composition_time_offset?G.sample_composition_time_offset:0),duration:z=void 0!==G.sample_duration?G.sample_duration:Re.default_sample_duration,offset:je.offset+Ae,size:Fe=void 0!==G.sample_size?G.sample_size:Re.default_sample_size,subSizes:[Fe]};if(ie)for(Ce=0;Ce<ie.length;Ce++){var ee=ie[Ce];if(Te<ee.entry_count-1&&Se>Oe&&(Te++,Oe+=ee.entries[Te].sample_delta),Se==Oe){oe.subSizes=[];var X=ee.entries[Te];for(pe=0;pe<X.subsample_count;pe++)oe.subSizes.push(X.subsamples[pe].subsample_size)}}le.push(oe),Ae+=Fe,Y+=z}}we=Y-be.baseMediaDecodeTime}}return{sampleList:le,lastSequenceNumber:ke,totalDuration:we,numSequences:he}},findInitRange:function C(T){var L=null,z=_(T);if(!z)return L;var ne=z.getBox("ftyp"),ae=z.getBox("moov");return i.debug("Searching for initialization."),ae&&ae.isComplete&&i.debug("Found the initialization.  Range: "+(L=(ne?ne.offset:ae.offset)+"-"+(ae.offset+ae.size-1))),L},parsePayload:function I(T,L,y){if(void 0===y&&(y=0),!L||y+8>=L.byteLength)return new D.default(0,!1);for(var z,B=L instanceof ArrayBuffer?new Uint8Array(L):L,ne=0;y<B.byteLength;){var ae=N(B,y),Fe=O(B,y+4);if(0===ae)break;y+ae<=B.byteLength&&(T.indexOf(Fe)>=0?z=new D.default(y,!0,ae,Fe):ne=y+ae),y+=ae}return z||new D.default(ne,!1)}},function f(){i=Object(t.default)(d).getInstance().getLogger(c)}(),c}m.__dashjs_factory_name="BoxParser",p.default=b.default.getSingletonFactory(m)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(et,p,e){"use strict";e.r(p),e.d(p,"supportsMediaSource",function(){return P});var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),g=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var m="WebKitMediaSource"in window,i="MediaSource"in window;return m||i}function D(){var m,i,c;return m={setConfig:function f(T){T&&T.settings&&(i=T.settings)},supportsMediaSource:P,supportsEncryptedMedia:function _(){return c},supportsCodec:function x(T,L){return L!==b.default.AUDIO&&L!==b.default.VIDEO?Promise.resolve(!0):function A(T,L){return i.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&L===b.default.AUDIO||L===b.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,L)?function O(T,L){return new Promise(function(y){if(T&&T.codec){var B={type:"media-source"};B[L]={},B[L].contentType=T.codec,B[L].width=T.width,B[L].height=T.height,B[L].bitrate=parseInt(T.bitrate),B[L].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(z){y(z.supported)}).catch(function(){y(!1)})}else y(!1)})}(T,L):function N(T){return new Promise(function(L){if(T&&T.codec){var y=T.codec;T.width&&T.height&&(y+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(y)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(y)?L(!0):L(!1)}else L(!1)})}(T)},setEncryptedMediaSupported:function S(T){c=T},supportsEssentialProperty:function C(T){try{return-1!==v.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(T,L){for(var z,y=T.split(".")[0],B=0===L.indexOf(y),ne=0;ne<g.length;ne++)if(g[ne].codec===y){z=g[ne];break}return z?B||z.compatibleCodecs.some(function(ae){return 0===L.indexOf(ae)}):B}},function d(){c=!1}(),m}D.__dashjs_factory_name="Capabilities",p.default=t.default.getSingletonFactory(D)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function D(){var c,d,f,_,S,x,m=this.context,i=Object(g.default)(m).getInstance();function C(ae,Fe){if(!Fe||!Fe.Period_asArray||0===Fe.Period_asArray.length)return Promise.resolve();var Y=[];return Fe.Period_asArray.forEach(function(le){Y.push(function I(ae,Fe){return new Promise(function(Y){if(ae&&ae.AdaptationSet_asArray&&0!==ae.AdaptationSet_asArray.length){var le=[];ae.AdaptationSet_asArray.forEach(function(G){d.getIsTypeOf(G,Fe)&&le.push(function T(ae,Fe){return new Promise(function(Y){if(ae.Representation_asArray&&0!==ae.Representation_asArray.length){var le=[],G=[];ae.Representation_asArray.forEach(function(Se,ce){var ge=d.getCodec(ae,ce,!1),Ie=function L(ae,Fe,Y){switch(ae){case b.default.VIDEO:return function y(ae,Fe){return{codec:Fe,width:ae.width||null,height:ae.height||null,framerate:ae.frameRate||null,bitrate:ae.bandwidth||null}}(Fe,Y);case b.default.AUDIO:return function B(ae,Fe){return{codec:Fe,bitrate:ae.bandwidth||null,samplerate:ae.audioSamplingRate||null}}(Fe,Y);default:return null}}(Fe,Se,ge);G.push(Ie),le.push(f.supportsCodec(Ie,Fe))}),Promise.all(le).then(function(Se){ae.Representation_asArray=ae.Representation_asArray.filter(function(ce,ge){return Se[ge]||x.debug("[Stream] Codec ".concat(G[ge].codec," not supported ")),Se[ge]}),Y()}).catch(function(){Y()})}else Y()})}(G,Fe))}),Promise.all(le).then(function(){ae.AdaptationSet_asArray=ae.AdaptationSet_asArray.filter(function(G){var Se=G.Representation_asArray&&G.Representation_asArray.length>0;return Se||(i.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:G}),x.warn("AdaptationSet has been removed because of no supported Representation")),Se}),Y()}).catch(function(){Y()})}else Y()})}(le,ae))}),Promise.all(Y)}return c={setConfig:function N(ae){ae&&(ae.adapter&&(d=ae.adapter),ae.capabilities&&(f=ae.capabilities),ae.settings&&(_=ae.settings),ae.customParametersModel&&(S=ae.customParametersModel))},filterUnsupportedFeatures:function O(ae){return new Promise(function(Fe){var Y=[];Y.push(C(b.default.VIDEO,ae)),Y.push(C(b.default.AUDIO,ae)),Promise.all(Y).then(function(){_.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function z(ae){!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Fe){Fe.AdaptationSet_asArray=Fe.AdaptationSet_asArray.filter(function(Y){return!Y.Representation_asArray||0===Y.Representation_asArray.length||(Y.Representation_asArray=Y.Representation_asArray.filter(function(le){var G=d.getEssentialPropertiesForRepresentation(le);if(G&&G.length>0)for(var Se=0;Se<G.length;){if(!f.supportsEssentialProperty(G[Se]))return x.debug("[Stream] EssentialProperty not supported: "+G[Se].schemeIdUri),!1;Se+=1}return!0}),Y.Representation_asArray&&Y.Representation_asArray.length>0)})})}(ae),function ne(ae){var Fe=S.getCustomCapabilitiesFilters();!Fe||0===Fe.length||!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Y){Y.AdaptationSet_asArray=Y.AdaptationSet_asArray.filter(function(le){return!le.Representation_asArray||0===le.Representation_asArray.length||(le.Representation_asArray=le.Representation_asArray.filter(function(G){return!Fe.some(function(Se){return!Se(G)})}),le.Representation_asArray&&le.Representation_asArray.length>0)})})}(ae),Fe()}).catch(function(){Fe()})})}},function A(){x=Object(v.default)(m).getInstance().getLogger(c)}(),c}D.__dashjs_factory_name="CapabilitiesFilter",p.default=t.default.getSingletonFactory(D)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function b(){return{customTimeRangeArray:[],length:0,add:function D(_,S){var x=0;for(x=0;x<this.customTimeRangeArray.length&&_>this.customTimeRangeArray[x].start;x++);for(this.customTimeRangeArray.splice(x,0,{start:_,end:S}),x=0;x<this.customTimeRangeArray.length-1;x++)this.mergeRanges(x,x+1)&&x--;this.length=this.customTimeRangeArray.length},clear:function m(){this.customTimeRangeArray=[],this.length=0},remove:function i(_,S){for(var x=0;x<this.customTimeRangeArray.length;x++)if(_<=this.customTimeRangeArray[x].start&&S>=this.customTimeRangeArray[x].end)this.customTimeRangeArray.splice(x,1),x--;else{if(_>this.customTimeRangeArray[x].start&&S<this.customTimeRangeArray[x].end){this.customTimeRangeArray.splice(x+1,0,{start:S,end:this.customTimeRangeArray[x].end}),this.customTimeRangeArray[x].end=_;break}_>this.customTimeRangeArray[x].start&&_<this.customTimeRangeArray[x].end?this.customTimeRangeArray[x].end=_:S>this.customTimeRangeArray[x].start&&S<this.customTimeRangeArray[x].end&&(this.customTimeRangeArray[x].start=S)}this.length=this.customTimeRangeArray.length},mergeRanges:function c(_,S){var x=this.customTimeRangeArray[_],A=this.customTimeRangeArray[S];return x.start<=A.start&&A.start<=x.end&&x.end<=A.end?(x.end=A.end,this.customTimeRangeArray.splice(S,1),!0):A.start<=x.start&&x.start<=A.end&&A.end<=x.end?(x.start=A.start,this.customTimeRangeArray.splice(S,1),!0):A.start<=x.start&&x.start<=A.end&&x.end<=A.end?(this.customTimeRangeArray.splice(_,1),!0):x.start<=A.start&&A.start<=x.end&&A.end<=x.end&&(this.customTimeRangeArray.splice(S,1),!0)},start:function d(_){return Object(v.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].start},end:function f(_){return Object(v.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].end}}}b.__dashjs_factory_name="CustomTimeRanges",p.default=t.default.getClassFactory(b)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),g=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],P="dashjs_?_bitrate",D="dashjs_?_settings",m="localStorage",c="lastBitrate",d="lastMediaSettings";function f(S){var N,O,C,x=this.context,A=(S=S||{}).settings;function T(le){if(void 0!==C)return C;C=!1;var ce;try{typeof window<"u"&&(ce=window[le])}catch(ge){return O.warn("DOMStorage access denied: "+ge.message),C}if(!ce||le!==m&&"sessionStorage"!==le)return C;try{ce.setItem("1","1"),ce.removeItem("1"),C=!0}catch(ge){O.warn("DOMStorage is supported, but cannot be used: "+ge.message)}return C}function y(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(le,G){return T(le)&&A.get().streaming[G+"CachingInfo"].enabled}function z(){if(!A)throw new Error(b.default.MISSING_CONFIG_ERROR)}return N={getSavedBitrateSettings:function ae(le){if(z(),!A.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var G=NaN;if(B(m,c)){var Se=P.replace(/\?/,le);try{var ce=JSON.parse(localStorage.getItem(Se))||{},ge=(new Date).getTime()-parseInt(ce.timestamp,10)>=A.get().streaming.lastBitrateCachingInfo.ttl||!1,Ie=parseFloat(ce.bitrate);isNaN(Ie)||ge?ge&&localStorage.removeItem(Se):(G=Ie,O.debug("Last saved bitrate for "+le+" was "+Ie))}catch{return null}}return G},setSavedBitrateSettings:function Y(le,G){if(B(m,c)&&G){var Se=P.replace(/\?/,le);try{localStorage.setItem(Se,JSON.stringify({bitrate:G.toFixed(3),timestamp:y()}))}catch(ce){O.error(ce.message)}}},getSavedMediaSettings:function ne(le){if(z(),!A.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var G=null;if(B(m,d)){var Se=D.replace(/\?/,le);try{var ce=JSON.parse(localStorage.getItem(Se))||{},ge=(new Date).getTime()-parseInt(ce.timestamp,10)>=A.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;G=ce.settings,ge&&(localStorage.removeItem(Se),G=null)}catch{return null}}return G},setSavedMediaSettings:function Fe(le,G){if(B(m,d)){var Se=D.replace(/\?/,le);try{localStorage.setItem(Se,JSON.stringify({settings:G,timestamp:y()}))}catch(ce){O.error(ce.message)}}}},function I(){O=Object(v.default)(x).getInstance().getLogger(N),function L(){T(m)&&g.forEach(function(le){var G=localStorage.getItem(le.oldKey);if(G){localStorage.removeItem(le.oldKey);try{localStorage.setItem(le.newKey,G)}catch(Se){O.error(Se.message)}}})}()}(),N}f.__dashjs_factory_name="DOMStorage";var _=t.default.getSingletonFactory(f);p.default=_},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b,g=/^[a-z][a-z0-9+\-_.]*:/i,P=/^https?:\/\//i,D=/^https:\/\//i,m=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,i=function(B,z){try{return new window.URL(B,z).toString()}catch{return B}},c=function(B,z){var ne=f;if(!z||!A(B))return B;N(B)&&(ne=_),O(B)&&(ne=x);var ae=ne(z),Fe="/"!==ae.charAt(ae.length-1)&&"/"!==B.charAt(0)?"/":"";return[ae,B].join(Fe)};function f(y){var B=y.indexOf("/"),z=y.lastIndexOf("/");return-1!==B?z===B+1?y:(-1!==y.indexOf("?")&&(y=y.substring(0,y.indexOf("?"))),y.substring(0,z+1)):""}function _(y){var B=y.match(m);return B?B[1]:""}function x(y){var B=y.match(g);return B?B[0]:""}function A(y){return!g.test(y)}function N(y){return A(y)&&"/"===y.charAt(0)}function O(y){return 0===y.indexOf("//")}return function d(){try{new window.URL("x","http://y"),b=i}catch{}finally{b=b||c}}(),{parseBaseUrl:f,parseOrigin:_,parseScheme:x,isRelative:A,isPathAbsolute:N,isSchemeRelative:O,isHTTPURL:function C(y){return P.test(y)},isHTTPS:function I(y){return D.test(y)},removeHostname:function S(y){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(y)[2].substring(1)},resolve:function T(y,B){return b(y,B)}}}v.__dashjs_factory_name="DefaultURLUtils",p.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){b=b||{};var g,P=new DataView(b.data),D=0;function c(O,C){var I=!0,T=0;if(void 0===C&&(C=!1),O.tag>16777215?(P.getUint32(D)!==O.tag&&(I=!1),T=4):O.tag>65535?(256*P.getUint16(D)+P.getUint8(D+2)!==O.tag&&(I=!1),T=3):O.tag>255?(P.getUint16(D)!==O.tag&&(I=!1),T=2):(P.getUint8(D)!==O.tag&&(I=!1),T=1),!I&&O.required&&!C)throw new Error("required tag not found");return I&&(D+=T),I}function S(O){var C=1,I=128,L=-1,y=0,B=P.getUint8(D),z=0;for(z=0;z<8;z+=1){if((B&I)===I){y=void 0===O?B&~I:B,L=z;break}I>>=1}for(z=0;z<L;z+=1,C+=1)y=y<<8|255&P.getUint8(D+C);return D+=C,y}return g={getPos:function m(){return D},setPos:function i(O){D=O},consumeTag:c,consumeTagAndSize:function d(O,C){var I=c(O,C);return I&&S(),I},parseTag:function f(O){var C;return c(O),C=S(),g[O.parse](C)},skipOverElement:function _(O,C){var T,I=c(O,C);return I&&(T=S(),D+=T),I},getMatroskaCodedNum:S,getMatroskaFloat:function x(O){var C;switch(O){case 4:C=P.getFloat32(D),D+=4;break;case 8:C=P.getFloat64(D),D+=8}return C},getMatroskaUint:function A(O){for(var C=0,I=0;I<O;I+=1)C<<=8,C|=255&P.getUint8(D+I);return D+=O,C},moreData:function N(){return D<P.byteLength}}}v.__dashjs_factory_name="EBMLParser",p.default=t.default.getClassFactory(v)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function g(){var D=this.context,m=Object(t.default)(D).getInstance();return{error:function i(c){m.trigger(v.default.ERROR,{error:c})}}}g.__dashjs_factory_name="ErrorHandler",p.default=b.default.getSingletonFactory(g)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b={};return{save:function g(i){var c=i.streamId,d=i.representationId;b[c]=b[c]||{},b[c][d]=i},extract:function P(i,c){return b&&b[i]&&b[i][c]?b[i][c]:null},reset:function D(){b={}}}}v.__dashjs_factory_name="InitCache",p.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var P;function m(f){var _=[];if(!f||!P||"function"!=typeof P.fetchAll)return _;for(var x,S=P.fetchAll(f),A=0,N=S.length;A<N;A++)(x=d(S[A]))&&_.push(x);return _}function d(f){if(!f)return null;var _=new t.default(f);return f.hasOwnProperty("_incomplete")&&(_.isComplete=!f._incomplete),_}return{getBox:function D(f){return f&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?d(P.fetch(f)):null},getBoxes:m,setData:function i(f){P=f},getLastBox:function c(){if(!P||!P.boxes||!P.boxes.length)return null;var _=m(P.boxes[P.boxes.length-1].type);return _.length>0?_[_.length-1]:null}}}b.__dashjs_factory_name="IsoFile",p.default=v.default.getClassFactory(b)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),b=e.n(v);function g(){return{areEqual:function D(m,i){return b()(m,i)}}}g.__dashjs_factory_name="ObjectUtils",p.default=t.default.getSingletonFactory(g)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(et,p,e){"use strict";e.r(p),e.d(p,"modifyRequest",function(){return v});var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(g,P){var D={url:g.url,method:g.method,headers:Object.assign({},g.headers),credentials:g.withCredentials?"include":void 0};return Promise.resolve(P.modifyRequest(D)).then(function(){return Object.assign(g,D,{withCredentials:"include"===D.credentials})})}function b(){return{modifyRequest:null,modifyRequestURL:function P(m){return m},modifyRequestHeader:function D(m,i){return m}}}b.__dashjs_factory_name="RequestModifier",p.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(et,p,e){"use strict";e.r(p),e.d(p,"checkParameterType",function(){return b}),e.d(p,"checkInteger",function(){return g}),e.d(p,"checkRange",function(){return P}),e.d(p,"checkIsVideoOrAudioType",function(){return D});var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(m)}function b(m,i){if(v(m)!==i)throw t.default.BAD_ARGUMENT_ERROR}function g(m){if(null===m||isNaN(m)||m%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function P(m,i,c){if(m<i||m>c)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function D(m){if("string"!=typeof m||m!==t.default.AUDIO&&m!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),m=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function c(){var _,S,d=this.context,f=Object(b.default)(d).getInstance(),x=0;function N(){var C="cue_TTML_"+x;return x++,C}return _={parse:function O(C,I,T,L,y){var ne,ae,Fe,B="",z=[],Y={},le={},G="",Se="",ce={onOpenTag:function(Ae,ke,he){if(he[" imagetype"]&&!he[" imageType"]&&(f.trigger(m.default.CONFORMANCE_VIOLATION,{level:i.default.LEVELS.ERROR,event:i.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),he[" imageType"]=he[" imagetype"]),"image"===ke&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Ae||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Ae)){if(!he[" imageType"]||"PNG"!==he[" imageType"].value)return void S.warn("smpte-tt imageType != PNG. Discarded");G=he["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){G&&(le[G]=Se.trim()),Se="",G=""},onText:function(Ae){G&&(Se+=Ae)}};if(!C)throw B="no ttml data to parse",new Error(B);Y.data=C,f.trigger(g.default.TTML_TO_PARSE,Y);var ge=Object(P.fromXML)(Y.data,function(pe){B=pe},ce);f.trigger(g.default.TTML_PARSED,{ttmlString:Y.data,ttmlDoc:ge});var Ie=ge.getMediaTimeEvents();for(Fe=0;Fe<Ie.length;Fe++){var Ce=Object(P.generateISD)(ge,Ie[Fe],function(pe){B=pe});Ce.contents.some(function(pe){return pe.contents.length})&&(ne=Ie[Fe]+I<T?T:Ie[Fe]+I)<(ae=Ie[Fe+1]+I>L?L:Ie[Fe+1]+I)&&z.push({start:ne,end:ae,type:"html",cueID:N(),isd:Ce,images:y,embeddedImages:le})}if(""!==B)throw S.error(B),new Error(B);return z}},function A(){S=Object(v.default)(d).getInstance().getLogger(_)}(),_}c.__dashjs_factory_name="TTMLParser",p.default=t.default.getSingletonFactory(c)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function b(){var D,m=[],i=this.context;function _(B,z,ne){var ae=function c(B){var z;for(z=0;z<m.length;z++)if(m[z].regex.test(B))return m[z].utils;return D}(ne||z);return ae&&"function"==typeof ae[B]?ae[B](z,ne):D[B](z,ne)}return function d(){D=Object(v.default)(i).getInstance()}(),{registerUrlRegex:function f(B,z){m.push({regex:B,utils:z})},parseBaseUrl:function S(B){return _("parseBaseUrl",B)},parseOrigin:function x(B){return _("parseOrigin",B)},parseScheme:function N(B){return _("parseScheme",B)},isRelative:function O(B){return _("isRelative",B)},isPathAbsolute:function C(B){return _("isPathAbsolute",B)},isSchemeRelative:function I(B){return _("isSchemeRelative",B)},isHTTPURL:function T(B){return _("isHTTPURL",B)},isHTTPS:function L(B){return _("isHTTPS",B)},removeHostname:function A(B){return _("removeHostname",B)},resolve:function y(B,z){return _("resolve",B,z)}}}b.__dashjs_factory_name="URLUtils";var g=t.default.getSingletonFactory(b);p.default=g},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function g(){var D,m,i,c,d,f,P=this.context;function x(C){var I=C.split(":"),T=I.length-1;return C=60*parseInt(I[T-1],10)+parseFloat(I[T]),2===T&&(C+=3600*parseInt(I[0],10)),C}function A(C){var I=C.split(c),T=I[1].split(f);return T.shift(),I[1]=T[0],T.shift(),{cuePoints:I,styles:N(T)}}function N(C){var I={};return C.forEach(function(T){if(T.split(/:/).length>1){var L=T.split(/:/)[1];L&&-1!=L.search(/%/)&&(L=parseInt(L.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(I.align=L),(T.match(/line/)||T.match(/L/))&&(I.line=L),(T.match(/position/)||T.match(/P/))&&(I.position=L),(T.match(/size/)||T.match(/S/))&&(I.size=L)}}),I}function O(C,I){for(var B,T=I,L="",y="";""!==C[T]&&T<C.length;)T++;if((B=T-I)>1)for(var z=0;z<B;z++){if((y=C[I+z]).match(c)){L="";break}L+=y,z!==B-1&&(L+="\n")}else(y=C[I]).match(c)||(L=y);return L}return D={parse:function S(C){var T,L,I=[];if(!C)return I;T=(C=C.split(i)).length,L=-1;for(var y=0;y<T;y++){var B=C[y];if(B.length>0&&"WEBVTT"!==B&&B.match(c)){var z=A(B),ne=z.cuePoints,ae=z.styles,Fe=O(C,y+1),Y=x(ne[0].replace(d,"")),le=x(ne[1].replace(d,""));!isNaN(Y)&&!isNaN(le)&&Y>=L&&le>Y?""!==Fe?(L=Y,I.push({start:Y,end:le,data:Fe,styles:ae})):m.error("Skipping cue due to empty/malformed cue text"):m.error("Skipping cue due to incorrect cue timing")}}return I}},function _(){m=Object(v.default)(P).getInstance().getLogger(D),i=/(?:\r\n|\r|\n)/gm,c=/-->/,d=/(^[\s]+|[\s]+$)/g,f=/\s\b/g}(),D}g.__dashjs_factory_name="VTTParser",p.default=t.default.getSingletonFactory(g)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b,g;return b={parse:function D(m){var i=[];return g.oncue=function(c){c.start=c.startTime,c.end=c.endTime,c.data=c.text,c.styles={align:c.align,line:c.line,position:c.position,size:c.size},i.push(c)},g.parse(m),i}},function P(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(g=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),b}v.__dashjs_factory_name="VttCustomRenderingParser",p.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var P=(b=b||{}).blacklistController;return{select:function D(m){var c,i=0;return m&&m.some(function(d,f){return i=f,!P.contains(d.serviceLocation)})&&(c=m[i]),c}}}v.__dashjs_factory_name="BasicSelector",p.default=t.default.getClassFactory(v)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function b(){var P,D,m,g=this.context;function f(){for(var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],x=0,A=NaN,N=function(){var I=_[x],T=S.findIndex(function(L){return L.serviceLocation&&L.serviceLocation===I});if(-1!==T&&!m.contains(S[T].serviceLocation))return A=T,"break";x+=1};x<_.length&&"break"!==N(););return A}return P={selectBaseUrlIndex:function d(_){var S=NaN;if(isNaN(_.selectedIdx)){var x=D.getSteeringDataFromManifest();x&&x.defaultServiceLocation&&(S=f([x.defaultServiceLocation],_.baseUrls))}var A=D.getCurrentSteeringResponseData();return _.baseUrls&&_.baseUrls.length&&A&&A.serviceLocationPriority&&A.serviceLocationPriority.length&&(S=f(A.serviceLocationPriority,_.baseUrls)),S},setConfig:function c(_){_.blacklistController&&(m=_.blacklistController),_.contentSteeringController&&(D=_.contentSteeringController)}},function i(){D=Object(v.default)(g).getInstance()}(),P}b.__dashjs_factory_name="ContentSteeringSelector",p.default=t.default.getClassFactory(b)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var P=(b=b||{}).blacklistController;return{select:function i(c){return c&&function m(c){var A,N,_=0,S=[],x=0;if((N=c.sort(function(C,I){var T=C.dvb_priority-I.dvb_priority;return isNaN(T)?0:T}).filter(function(C,I,T){return!I||T[0].dvb_priority&&C.dvb_priority&&T[0].dvb_priority===C.dvb_priority})).length)return N.length>1&&(N.forEach(function(O){S.push(_+=O.dvb_weight)}),A=Math.floor(Math.random()*(_-1)),S.every(function(O,C){return x=C,!(A<O)})),N[x]}(function D(c){var d=[];return c.filter(function(x){return!P.contains(x.serviceLocation)||(x.dvb_priority&&d.push(x.dvb_priority),!1)}).filter(function(x){return!(d.length&&x.dvb_priority&&-1!==d.indexOf(x.dvb_priority))})}(c))}}}v.__dashjs_factory_name="DVBSelector",p.default=t.default.getClassFactory(v)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.code=c||null,this.message=d||null,this.data=f||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function g(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,D(_.key),_)}}function D(c){var d=function m(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==v(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}var i=function(){function c(d){(function b(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.action=c.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=d||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function P(c,d,f){return d&&g(c.prototype,d),f&&g(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}]),c}();i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",p.default=i},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}function b(N,O){for(var C=0;C<O.length;C++){var I=O[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,P(I.key),I)}}function P(N){var O=function D(N,O){if("object"!==v(N)||null===N)return N;var C=N[Symbol.toPrimitive];if(void 0!==C){var I=C.call(N,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(N)}(N,"string");return"symbol"===v(O)?O:String(O)}function i(N,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),O&&c(N,O)}function c(N,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(N,O)}function d(N){var O=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=x(N);if(O){var L=x(this).constructor;T=Reflect.construct(I,arguments,L)}else T=I.apply(this,arguments);return function f(N,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function _(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N)}(this,T)}}function x(N){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(N)}p.default=function(N){i(C,N);var O=d(C);function C(I){var T;return function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,C),(T=O.call(this,I)).checkForExistenceOnly=!0,T}return function g(N,O,C){return O&&b(N.prototype,O),C&&b(N,C),Object.defineProperty(N,"prototype",{writable:!1}),N}(C)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c){if(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),this.offset=c._offset,this.type=c.type,this.size=c.size,this.boxes=[],c.boxes)for(var d=0;d<c.boxes.length;d++)this.boxes.push(new i(c.boxes[d]));switch(this.isComplete=!0,c.type){case"sidx":if(this.timescale=c.timescale,this.earliest_presentation_time=c.earliest_presentation_time,this.first_offset=c.first_offset,this.references=c.references,c.references){this.references=[];for(var f=0;f<c.references.length;f++)this.references.push({reference_type:c.references[f].reference_type,referenced_size:c.references[f].referenced_size,subsegment_duration:c.references[f].subsegment_duration})}break;case"emsg":this.id=c.id,this.version=1===c.version?1:0,this.value=c.value,this.timescale=c.timescale,this.scheme_id_uri=c.scheme_id_uri,this.presentation_time_delta=1===c.version?c.presentation_time:c.presentation_time_delta,this.event_duration=c.event_duration,this.message_data=c.message_data;break;case"mdhd":this.timescale=c.timescale;break;case"mfhd":this.sequence_number=c.sequence_number;break;case"subs":this.entry_count=c.entry_count,this.entries=c.entries;break;case"tfhd":this.base_data_offset=c.base_data_offset,this.sample_description_index=c.sample_description_index,this.default_sample_duration=c.default_sample_duration,this.default_sample_size=c.default_sample_size,this.default_sample_flags=c.default_sample_flags,this.flags=c.flags;break;case"tfdt":this.version=c.version,this.baseMediaDecodeTime=c.baseMediaDecodeTime,this.flags=c.flags;break;case"trun":if(this.sample_count=c.sample_count,this.first_sample_flags=c.first_sample_flags,this.data_offset=c.data_offset,this.flags=c.flags,this.samples=c.samples,c.samples){this.samples=[];for(var S=0,x=c.samples.length;S<x;S++)this.samples.push({sample_size:c.samples[S].sample_size,sample_duration:c.samples[S].sample_duration,sample_composition_time_offset:c.samples[S].sample_composition_time_offset})}}}return function g(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"getChildBox",value:function(d){for(var f=0;f<this.boxes.length;f++)if(this.boxes[f].type===d)return this.boxes[f]}},{key:"getChildBoxes",value:function(d){for(var f=[],_=0;_<this.boxes.length;_++)this.boxes[_].type===d&&f.push(this.boxes[_]);return f}}]),i}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.lastCompletedOffset=c,this.found=d,this.size=f})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(O)}function g(O,C){for(var I=0;I<C.length;I++){var T=C[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,D(T.key),T)}}function D(O){var C=function m(O,C){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,C||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(O)}(O,"string");return"symbol"===b(C)?C:String(C)}function c(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),C&&d(O,C)}function d(O,C){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,C)}function f(O){var C=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=A(O);if(C){var y=A(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function _(O,C){if(C&&("object"===b(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function S(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}p.default=function(O){c(I,O);var C=f(I);function I(T,L){var y;return function i(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,I),(y=C.call(this)).url=T||null,y.type=L||null,y.mediaType=t.default.STREAM,y.responseType="",y}return function P(O,C,I){return C&&g(O.prototype,C),I&&g(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(v.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}function b(N,O){for(var C=0;C<O.length;C++){var I=O[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,P(I.key),I)}}function P(N){var O=function D(N,O){if("object"!==v(N)||null===N)return N;var C=N[Symbol.toPrimitive];if(void 0!==C){var I=C.call(N,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(N)}(N,"string");return"symbol"===v(O)?O:String(O)}function i(N,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),O&&c(N,O)}function c(N,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(N,O)}function d(N){var O=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=x(N);if(O){var L=x(this).constructor;T=Reflect.construct(I,arguments,L)}else T=I.apply(this,arguments);return function f(N,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function _(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N)}(this,T)}}function x(N){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(N)}p.default=function(N){i(C,N);var O=d(C);function C(){var I;return function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,C),(I=O.call(this)).captionData=null,I.label=null,I.defaultTrack=!1,I.kind=null,I.isFragmented=!1,I.isEmbedded=!1,I.isTTML=null,I}return function g(N,O,C){return O&&b(N.prototype,O),C&&b(N,C),Object.defineProperty(N,"prototype",{writable:!1}),N}(C)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,P(_.key),_)}}function g(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function P(c){var d=function D(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==v(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=g(function c(){(function m(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,g(_.key),_)}}function b(c,d,f){return d&&v(c.prototype,d),f&&v(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function g(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}function D(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}e.r(p),e.d(p,"HTTPRequest",function(){return m}),e.d(p,"HTTPRequestTrace",function(){return i});var m=b(function c(){D(this,c),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),i=b(function c(){D(this,c),this.s=null,this.d=null,this.b=[]});m.GET="GET",m.HEAD="HEAD",m.MPD_TYPE="MPD",m.XLINK_EXPANSION_TYPE="XLinkExpansion",m.INIT_SEGMENT_TYPE="InitializationSegment",m.INDEX_SEGMENT_TYPE="IndexSegment",m.MEDIA_SEGMENT_TYPE="MediaSegment",m.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",m.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",m.DVB_REPORTING_TYPE="DVBReporting",m.LICENSE="license",m.CONTENT_STEERING_TYPE="ContentSteering",m.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(et,p,e){"use strict";function t(d){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function v(d,f){for(var _=0;_<f.length;_++){var S=f[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,g(S.key),S)}}function b(d,f,_){return f&&v(d.prototype,f),_&&v(d,_),Object.defineProperty(d,"prototype",{writable:!1}),d}function g(d){var f=function P(d,f){if("object"!==t(d)||null===d)return d;var _=d[Symbol.toPrimitive];if(void 0!==_){var S=_.call(d,f||"default");if("object"!==t(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===t(f)?f:String(f)}function D(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}e.r(p),e.d(p,"ManifestUpdate",function(){return m}),e.d(p,"ManifestUpdateStreamInfo",function(){return i}),e.d(p,"ManifestUpdateRepresentationInfo",function(){return c});var m=b(function d(){D(this,d),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),i=b(function d(){D(this,d),this.id=null,this.index=null,this.start=null,this.duration=null}),c=b(function d(){D(this,d),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,g(_.key),_)}}function b(c,d,f){return d&&v(c.prototype,d),f&&v(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function g(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var _=f.call(c,d||"default");if("object"!==t(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}function D(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}e.r(p),e.d(p,"PlayList",function(){return m}),e.d(p,"PlayListTrace",function(){return i});var m=b(function c(){D(this,c),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});m.INITIAL_PLAYOUT_START_REASON="initial_playout",m.SEEK_START_REASON="seek",m.RESUME_FROM_PAUSE_START_REASON="resume",m.METRICS_COLLECTION_START_REASON="metrics_collection_start";var i=b(function c(){D(this,c),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});i.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",i.REBUFFERING_REASON="rebuffering",i.USER_REQUEST_STOP_REASON="user_request",i.END_OF_PERIOD_STOP_REASON="end_of_period",i.END_OF_CONTENT_STOP_REASON="end_of_content",i.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",i.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,g(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function g(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,p){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,p){}}).default},4440:(Wn,et,p)=>{var e;!function(){"use strict";var t="object"==typeof window?window:{},v=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;v&&(t=global);var _,S,b=!t.HI_BASE64_NO_COMMON_JS&&Wn.exports,g=p.amdO,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),D={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},i=function(C){var I,T,L,y,B=[],z=0,ne=C.length;"="===C.charAt(ne-2)?ne-=2:"="===C.charAt(ne-1)&&(ne-=1);for(var ae=0,Fe=ne>>2<<2;ae<Fe;)I=D[C.charAt(ae++)],T=D[C.charAt(ae++)],L=D[C.charAt(ae++)],y=D[C.charAt(ae++)],B[z++]=255&(I<<2|T>>>4),B[z++]=255&(T<<4|L>>>2),B[z++]=255&(L<<6|y);var Y=ne-Fe;return 2===Y?(I=D[C.charAt(ae++)],T=D[C.charAt(ae++)],B[z++]=255&(I<<2|T>>>4)):3===Y&&(I=D[C.charAt(ae++)],T=D[C.charAt(ae++)],L=D[C.charAt(ae++)],B[z++]=255&(I<<2|T>>>4),B[z++]=255&(T<<4|L>>>2)),B},c=function(C){for(var I,T,L,y="",B=C.length,z=0,ne=3*parseInt(B/3);z<ne;)I=C[z++],T=C[z++],L=C[z++],y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[63&(T<<2|L>>>6)]+P[63&L];var ae=B-ne;return 1===ae?y+=P[(I=C[z])>>>2]+P[I<<4&63]+"==":2===ae&&(I=C[z++],y+=P[I>>>2]+P[63&(I<<4|(T=C[z])>>>4)]+P[T<<2&63]+"="),y},d=t.btoa,f=t.atob;if(v){var x=p(9007).lW;d=function(C){return new x(C,"ascii").toString("base64")},c=_=function(C){return new x(C).toString("base64")},f=function(C){return new x(C,"base64").toString("ascii")},S=function(C){return new x(C,"base64").toString()}}else d?(_=function(C){for(var I="",T=0;T<C.length;T++){var L=C.charCodeAt(T);L<128?I+=String.fromCharCode(L):L<2048?I+=String.fromCharCode(192|L>>6)+String.fromCharCode(128|63&L):L<55296||L>=57344?I+=String.fromCharCode(224|L>>12)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L):(L=65536+((1023&L)<<10|1023&C.charCodeAt(++T)),I+=String.fromCharCode(240|L>>18)+String.fromCharCode(128|L>>12&63)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L))}return d(I)},S=function(C){var I=f(C.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(I))return I;for(var z,ne,T="",L=0,y=I.length,B=0;L<y;)if((z=I.charCodeAt(L++))<=127)T+=String.fromCharCode(z);else{if(z>191&&z<=223)ne=31&z,B=1;else if(z<=239)ne=15&z,B=2;else{if(!(z<=247))throw"not a UTF-8 string";ne=7&z,B=3}for(var ae=0;ae<B;++ae){if((z=I.charCodeAt(L++))<128||z>191)throw"not a UTF-8 string";ne<<=6,ne+=63&z}if(ne>=55296&&ne<=57343||ne>1114111)throw"not a UTF-8 string";ne<=65535?T+=String.fromCharCode(ne):(ne-=65536,T+=String.fromCharCode(55296+(ne>>10)),T+=String.fromCharCode(56320+(1023&ne)))}return T}):(d=function(C){for(var I,T,L,y="",B=C.length,z=0,ne=3*parseInt(B/3);z<ne;)I=C.charCodeAt(z++),T=C.charCodeAt(z++),L=C.charCodeAt(z++),y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[63&(T<<2|L>>>6)]+P[63&L];var ae=B-ne;return 1===ae?(I=C.charCodeAt(z),y+=P[I>>>2]+P[I<<4&63]+"=="):2===ae&&(I=C.charCodeAt(z++),T=C.charCodeAt(z),y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[T<<2&63]+"="),y},_=function(C){for(var I,T,L,y="",B=function(C){for(var I=[],T=0;T<C.length;T++){var L=C.charCodeAt(T);L<128?I[I.length]=L:L<2048?(I[I.length]=192|L>>6,I[I.length]=128|63&L):L<55296||L>=57344?(I[I.length]=224|L>>12,I[I.length]=128|L>>6&63,I[I.length]=128|63&L):(L=65536+((1023&L)<<10|1023&C.charCodeAt(++T)),I[I.length]=240|L>>18,I[I.length]=128|L>>12&63,I[I.length]=128|L>>6&63,I[I.length]=128|63&L)}return I}(C),z=B.length,ne=0,ae=3*parseInt(z/3);ne<ae;)I=B[ne++],T=B[ne++],L=B[ne++],y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[63&(T<<2|L>>>6)]+P[63&L];var Fe=z-ae;return 1===Fe?y+=P[(I=B[ne])>>>2]+P[I<<4&63]+"==":2===Fe&&(I=B[ne++],y+=P[I>>>2]+P[63&(I<<4|(T=B[ne])>>>4)]+P[T<<2&63]+"="),y},f=function(C){var I,T,L,y,B="",z=C.length;"="===C.charAt(z-2)?z-=2:"="===C.charAt(z-1)&&(z-=1);for(var ne=0,ae=z>>2<<2;ne<ae;)I=D[C.charAt(ne++)],T=D[C.charAt(ne++)],L=D[C.charAt(ne++)],y=D[C.charAt(ne++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|L>>>2))+String.fromCharCode(255&(L<<6|y));var Fe=z-ae;return 2===Fe?(I=D[C.charAt(ne++)],T=D[C.charAt(ne++)],B+=String.fromCharCode(255&(I<<2|T>>>4))):3===Fe&&(I=D[C.charAt(ne++)],T=D[C.charAt(ne++)],L=D[C.charAt(ne++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|L>>>2))),B},S=function(C){for(var z,ne,I="",T=i(C),L=T.length,y=0,B=0;y<L;)if((z=T[y++])<=127)I+=String.fromCharCode(z);else{if(z>191&&z<=223)ne=31&z,B=1;else if(z<=239)ne=15&z,B=2;else{if(!(z<=247))throw"not a UTF-8 string";ne=7&z,B=3}for(var ae=0;ae<B;++ae){if((z=T[y++])<128||z>191)throw"not a UTF-8 string";ne<<=6,ne+=63&z}if(ne>=55296&&ne<=57343||ne>1114111)throw"not a UTF-8 string";ne<=65535?I+=String.fromCharCode(ne):(ne-=65536,I+=String.fromCharCode(55296+(ne>>10)),I+=String.fromCharCode(56320+(1023&ne)))}return I});var N=function(C,I){return I?f(C):S(C)},O={encode:function(C,I){var T="string"!=typeof C;return T&&C.constructor===t.ArrayBuffer&&(C=new Uint8Array(C)),T?c(C):!I&&/[^\x00-\x7F]/.test(C)?_(C):d(C)},decode:N,atob:f,btoa:d};N.bytes=i,N.string=N,b?Wn.exports=O:(t.base64=O,g&&void 0!==(e=function(){return O}.call(O,p,O,Wn))&&(Wn.exports=e))}()},2601:(Wn,et)=>{et.read=function(p,e,t,v,b){var g,P,D=8*b-v-1,m=(1<<D)-1,i=m>>1,c=-7,d=t?b-1:0,f=t?-1:1,_=p[e+d];for(d+=f,g=_&(1<<-c)-1,_>>=-c,c+=D;c>0;g=256*g+p[e+d],d+=f,c-=8);for(P=g&(1<<-c)-1,g>>=-c,c+=v;c>0;P=256*P+p[e+d],d+=f,c-=8);if(0===g)g=1-i;else{if(g===m)return P?NaN:1/0*(_?-1:1);P+=Math.pow(2,v),g-=i}return(_?-1:1)*P*Math.pow(2,g-v)},et.write=function(p,e,t,v,b,g){var P,D,m,i=8*g-b-1,c=(1<<i)-1,d=c>>1,f=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,_=v?0:g-1,S=v?1:-1,x=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(D=isNaN(e)?1:0,P=c):(P=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-P))<1&&(P--,m*=2),(e+=P+d>=1?f/m:f*Math.pow(2,1-d))*m>=2&&(P++,m/=2),P+d>=c?(D=0,P=c):P+d>=1?(D=(e*m-1)*Math.pow(2,b),P+=d):(D=e*Math.pow(2,d-1)*Math.pow(2,b),P=0));b>=8;p[t+_]=255&D,_+=S,D/=256,b-=8);for(P=P<<b|D,i+=b;i>0;p[t+_]=255&P,_+=S,P/=256,i-=8);p[t+_-S]|=128*x}},5619:(Wn,et,p)=>{"use strict";p.d(et,{X:()=>t});var e=p(8645);class t extends e.x{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const g=super._subscribe(b);return!g.closed&&b.next(this._value),g}getValue(){const{hasError:b,thrownError:g,_value:P}=this;if(b)throw g;return this._throwIfClosed(),P}next(b){super.next(this._value=b)}}},5592:(Wn,et,p)=>{"use strict";p.d(et,{y:()=>m});var e=p(305),t=p(7394),v=p(4850),b=p(8407),g=p(2653),P=p(4674),D=p(1441);let m=(()=>{class f{constructor(S){S&&(this._subscribe=S)}lift(S){const x=new f;return x.source=this,x.operator=S,x}subscribe(S,x,A){const N=function d(f){return f&&f instanceof e.Lv||function c(f){return f&&(0,P.m)(f.next)&&(0,P.m)(f.error)&&(0,P.m)(f.complete)}(f)&&(0,t.Nn)(f)}(S)?S:new e.Hp(S,x,A);return(0,D.x)(()=>{const{operator:O,source:C}=this;N.add(O?O.call(N,C):C?this._subscribe(N):this._trySubscribe(N))}),N}_trySubscribe(S){try{return this._subscribe(S)}catch(x){S.error(x)}}forEach(S,x){return new(x=i(x))((A,N)=>{const O=new e.Hp({next:C=>{try{S(C)}catch(I){N(I),O.unsubscribe()}},error:N,complete:A});this.subscribe(O)})}_subscribe(S){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(S)}[v.L](){return this}pipe(...S){return(0,b.U)(S)(this)}toPromise(S){return new(S=i(S))((x,A)=>{let N;this.subscribe(O=>N=O,O=>A(O),()=>x(N))})}}return f.create=_=>new f(_),f})();function i(f){var _;return null!==(_=f??g.config.Promise)&&void 0!==_?_:Promise}},8645:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>D});var e=p(5592),t=p(7394);const b=(0,p(2306).d)(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g=p(9039),P=p(1441);let D=(()=>{class i extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(d){const f=new m(this,this);return f.operator=d,f}_throwIfClosed(){if(this.closed)throw new b}next(d){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const f of this.currentObservers)f.next(d)}})}error(d){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=d;const{observers:f}=this;for(;f.length;)f.shift().error(d)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:d}=this;for(;d.length;)d.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var d;return(null===(d=this.observers)||void 0===d?void 0:d.length)>0}_trySubscribe(d){return this._throwIfClosed(),super._trySubscribe(d)}_subscribe(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)}_innerSubscribe(d){const{hasError:f,isStopped:_,observers:S}=this;return f||_?t.Lc:(this.currentObservers=null,S.push(d),new t.w0(()=>{this.currentObservers=null,(0,g.P)(S,d)}))}_checkFinalizedStatuses(d){const{hasError:f,thrownError:_,isStopped:S}=this;f?d.error(_):S&&d.complete()}asObservable(){const d=new e.y;return d.source=this,d}}return i.create=(c,d)=>new m(c,d),i})();class m extends D{constructor(c,d){super(),this.destination=c,this.source=d}next(c){var d,f;null===(f=null===(d=this.destination)||void 0===d?void 0:d.next)||void 0===f||f.call(d,c)}error(c){var d,f;null===(f=null===(d=this.destination)||void 0===d?void 0:d.error)||void 0===f||f.call(d,c)}complete(){var c,d;null===(d=null===(c=this.destination)||void 0===c?void 0:c.complete)||void 0===d||d.call(c)}_subscribe(c){var d,f;return null!==(f=null===(d=this.source)||void 0===d?void 0:d.subscribe(c))&&void 0!==f?f:t.Lc}}},305:(Wn,et,p)=>{"use strict";p.d(et,{Hp:()=>A,Lv:()=>f});var e=p(4674),t=p(7394),v=p(2653),b=p(3894),g=p(2420);const P=i("C",void 0,void 0);function i(T,L,y){return{kind:T,value:L,error:y}}var c=p(7599),d=p(1441);class f extends t.w0{constructor(L){super(),this.isStopped=!1,L?(this.destination=L,(0,t.Nn)(L)&&L.add(this)):this.destination=I}static create(L,y,B){return new A(L,y,B)}next(L){this.isStopped?C(function m(T){return i("N",T,void 0)}(L),this):this._next(L)}error(L){this.isStopped?C(function D(T){return i("E",void 0,T)}(L),this):(this.isStopped=!0,this._error(L))}complete(){this.isStopped?C(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(L){this.destination.next(L)}_error(L){try{this.destination.error(L)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function S(T,L){return _.call(T,L)}class x{constructor(L){this.partialObserver=L}next(L){const{partialObserver:y}=this;if(y.next)try{y.next(L)}catch(B){N(B)}}error(L){const{partialObserver:y}=this;if(y.error)try{y.error(L)}catch(B){N(B)}else N(L)}complete(){const{partialObserver:L}=this;if(L.complete)try{L.complete()}catch(y){N(y)}}}class A extends f{constructor(L,y,B){let z;if(super(),(0,e.m)(L)||!L)z={next:L??void 0,error:y??void 0,complete:B??void 0};else{let ne;this&&v.config.useDeprecatedNextContext?(ne=Object.create(L),ne.unsubscribe=()=>this.unsubscribe(),z={next:L.next&&S(L.next,ne),error:L.error&&S(L.error,ne),complete:L.complete&&S(L.complete,ne)}):z=L}this.destination=new x(z)}}function N(T){v.config.useDeprecatedSynchronousErrorHandling?(0,d.O)(T):(0,b.h)(T)}function C(T,L){const{onStoppedNotification:y}=v.config;y&&c.z.setTimeout(()=>y(T,L))}const I={closed:!0,next:g.Z,error:function O(T){throw T},complete:g.Z}},7394:(Wn,et,p)=>{"use strict";p.d(et,{Lc:()=>P,w0:()=>g,Nn:()=>D});var e=p(4674);const v=(0,p(2306).d)(i=>function(d){i(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((f,_)=>`${_+1}) ${f.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d});var b=p(9039);class g{constructor(c){this.initialTeardown=c,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let c;if(!this.closed){this.closed=!0;const{_parentage:d}=this;if(d)if(this._parentage=null,Array.isArray(d))for(const S of d)S.remove(this);else d.remove(this);const{initialTeardown:f}=this;if((0,e.m)(f))try{f()}catch(S){c=S instanceof v?S.errors:[S]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const S of _)try{m(S)}catch(x){c=c??[],x instanceof v?c=[...c,...x.errors]:c.push(x)}}if(c)throw new v(c)}}add(c){var d;if(c&&c!==this)if(this.closed)m(c);else{if(c instanceof g){if(c.closed||c._hasParent(this))return;c._addParent(this)}(this._finalizers=null!==(d=this._finalizers)&&void 0!==d?d:[]).push(c)}}_hasParent(c){const{_parentage:d}=this;return d===c||Array.isArray(d)&&d.includes(c)}_addParent(c){const{_parentage:d}=this;this._parentage=Array.isArray(d)?(d.push(c),d):d?[d,c]:c}_removeParent(c){const{_parentage:d}=this;d===c?this._parentage=null:Array.isArray(d)&&(0,b.P)(d,c)}remove(c){const{_finalizers:d}=this;d&&(0,b.P)(d,c),c instanceof g&&c._removeParent(this)}}g.EMPTY=(()=>{const i=new g;return i.closed=!0,i})();const P=g.EMPTY;function D(i){return i instanceof g||i&&"closed"in i&&(0,e.m)(i.remove)&&(0,e.m)(i.add)&&(0,e.m)(i.unsubscribe)}function m(i){(0,e.m)(i)?i():i.unsubscribe()}},2653:(Wn,et,p)=>{"use strict";p.d(et,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>P});var e=p(5592),t=p(7394),v=p(6196),b=p(8251),g=p(9360);class P extends e.y{constructor(m,i){super(),this.source=m,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,(0,g.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new t.w0;const i=this.getSubject();m.add(this.source.subscribe((0,b.x)(i,void 0,()=>{this._teardown(),i.complete()},c=>{this._teardown(),i.error(c)},()=>this._teardown()))),m.closed&&(this._connection=null,m=t.w0.EMPTY)}return m}refCount(){return(0,v.x)()(this)}}},2572:(Wn,et,p)=>{"use strict";p.d(et,{a:()=>c});var e=p(5592),t=p(7453),v=p(2459),b=p(2737),g=p(7400),P=p(9940),D=p(2714),m=p(8251),i=p(7103);function c(..._){const S=(0,P.yG)(_),x=(0,P.jO)(_),{args:A,keys:N}=(0,t.D)(_);if(0===A.length)return(0,v.D)([],S);const O=new e.y(function d(_,S,x=b.y){return A=>{f(S,()=>{const{length:N}=_,O=new Array(N);let C=N,I=N;for(let T=0;T<N;T++)f(S,()=>{const L=(0,v.D)(_[T],S);let y=!1;L.subscribe((0,m.x)(A,B=>{O[T]=B,y||(y=!0,I--),I||A.next(x(O.slice()))},()=>{--C||A.complete()}))},A)},A)}}(A,S,N?C=>(0,D.n)(N,C):b.y));return x?O.pipe((0,g.Z)(x)):O}function f(_,S,x){_?(0,i.f)(x,_,S):S()}},5211:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>g});var e=p(7537),v=p(9940),b=p(2459);function g(...P){return function t(){return(0,e.J)(1)}()((0,b.D)(P,(0,v.yG)(P)))}},4911:(Wn,et,p)=>{"use strict";p.d(et,{P:()=>v});var e=p(5592),t=p(4829);function v(b){return new e.y(g=>{(0,t.Xf)(b()).subscribe(g)})}},6232:(Wn,et,p)=>{"use strict";p.d(et,{E:()=>t});const t=new(p(5592).y)(g=>g.complete())},2459:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>L});var e=p(4829),t=p(3093),v=p(5137),P=p(5592),m=p(4971),i=p(4674),c=p(7103);function f(y,B){if(!y)throw new Error("Iterable cannot be null");return new P.y(z=>{(0,c.f)(z,B,()=>{const ne=y[Symbol.asyncIterator]();(0,c.f)(z,B,()=>{ne.next().then(ae=>{ae.done?z.complete():z.next(ae.value)})},0,!0)})})}var _=p(8382),S=p(4026),x=p(4266),A=p(3664),N=p(5726),O=p(9853),C=p(541);function L(y,B){return B?function T(y,B){if(null!=y){if((0,_.c)(y))return function b(y,B){return(0,e.Xf)(y).pipe((0,v.R)(B),(0,t.Q)(B))}(y,B);if((0,x.z)(y))return function D(y,B){return new P.y(z=>{let ne=0;return B.schedule(function(){ne===y.length?z.complete():(z.next(y[ne++]),z.closed||this.schedule())})})}(y,B);if((0,S.t)(y))return function g(y,B){return(0,e.Xf)(y).pipe((0,v.R)(B),(0,t.Q)(B))}(y,B);if((0,N.D)(y))return f(y,B);if((0,A.T)(y))return function d(y,B){return new P.y(z=>{let ne;return(0,c.f)(z,B,()=>{ne=y[m.h](),(0,c.f)(z,B,()=>{let ae,Fe;try{({value:ae,done:Fe}=ne.next())}catch(Y){return void z.error(Y)}Fe?z.complete():z.next(ae)},0,!0)}),()=>(0,i.m)(ne?.return)&&ne.return()})}(y,B);if((0,C.L)(y))return function I(y,B){return f((0,C.Q)(y),B)}(y,B)}throw(0,O.z)(y)}(y,B):(0,e.Xf)(y)}},2438:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>c});var e=p(4829),t=p(5592),v=p(1631),b=p(4266),g=p(4674),P=p(7400);const D=["addListener","removeListener"],m=["addEventListener","removeEventListener"],i=["on","off"];function c(x,A,N,O){if((0,g.m)(N)&&(O=N,N=void 0),O)return c(x,A,N).pipe((0,P.Z)(O));const[C,I]=function S(x){return(0,g.m)(x.addEventListener)&&(0,g.m)(x.removeEventListener)}(x)?m.map(T=>L=>x[T](A,L,N)):function f(x){return(0,g.m)(x.addListener)&&(0,g.m)(x.removeListener)}(x)?D.map(d(x,A)):function _(x){return(0,g.m)(x.on)&&(0,g.m)(x.off)}(x)?i.map(d(x,A)):[];if(!C&&(0,b.z)(x))return(0,v.z)(T=>c(T,A,N))((0,e.Xf)(x));if(!C)throw new TypeError("Invalid event target");return new t.y(T=>{const L=(...y)=>T.next(1<y.length?y:y[0]);return C(L),()=>I(L)})}function d(x,A){return N=>O=>x[N](A,O)}},4829:(Wn,et,p)=>{"use strict";p.d(et,{Xf:()=>_});var e=p(7582),t=p(4266),v=p(4026),b=p(5592),g=p(8382),P=p(5726),D=p(9853),m=p(3664),i=p(541),c=p(4674),d=p(3894),f=p(4850);function _(T){if(T instanceof b.y)return T;if(null!=T){if((0,g.c)(T))return function S(T){return new b.y(L=>{const y=T[f.L]();if((0,c.m)(y.subscribe))return y.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function x(T){return new b.y(L=>{for(let y=0;y<T.length&&!L.closed;y++)L.next(T[y]);L.complete()})}(T);if((0,v.t)(T))return function A(T){return new b.y(L=>{T.then(y=>{L.closed||(L.next(y),L.complete())},y=>L.error(y)).then(null,d.h)})}(T);if((0,P.D)(T))return O(T);if((0,m.T)(T))return function N(T){return new b.y(L=>{for(const y of T)if(L.next(y),L.closed)return;L.complete()})}(T);if((0,i.L)(T))return function C(T){return O((0,i.Q)(T))}(T)}throw(0,D.z)(T)}function O(T){return new b.y(L=>{(function I(T,L){var y,B,z,ne;return(0,e.mG)(this,void 0,void 0,function*(){try{for(y=(0,e.KL)(T);!(B=yield y.next()).done;)if(L.next(B.value),L.closed)return}catch(ae){z={error:ae}}finally{try{B&&!B.done&&(ne=y.return)&&(yield ne.call(y))}finally{if(z)throw z.error}}L.complete()})})(T,L).catch(y=>L.error(y))})}},3019:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>P});var e=p(7537),t=p(4829),v=p(6232),b=p(9940),g=p(2459);function P(...D){const m=(0,b.yG)(D),i=(0,b._6)(D,1/0),c=D;return c.length?1===c.length?(0,t.Xf)(c[0]):(0,e.J)(i)((0,g.D)(c,m)):v.E}},2096:(Wn,et,p)=>{"use strict";p.d(et,{of:()=>v});var e=p(9940),t=p(2459);function v(...b){const g=(0,e.yG)(b);return(0,t.D)(b,g)}},8504:(Wn,et,p)=>{"use strict";p.d(et,{_:()=>v});var e=p(5592),t=p(4674);function v(b,g){const P=(0,t.m)(b)?b:()=>b,D=m=>m.error(P());return new e.y(g?m=>g.schedule(D,0,m):D)}},4825:(Wn,et,p)=>{"use strict";p.d(et,{H:()=>g});var e=p(5592),t=p(6321),v=p(671);function g(P=0,D,m=t.P){let i=-1;return null!=D&&((0,v.K)(D)?m=D:i=D),new e.y(c=>{let d=function b(P){return P instanceof Date&&!isNaN(P)}(P)?+P-m.now():P;d<0&&(d=0);let f=0;return m.schedule(function(){c.closed||(c.next(f++),0<=i?this.schedule(void 0,i):c.complete())},d)})}},8251:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>t});var e=p(305);function t(b,g,P,D,m){return new v(b,g,P,D,m)}class v extends e.Lv{constructor(g,P,D,m,i,c){super(g),this.onFinalize=i,this.shouldUnsubscribe=c,this._next=P?function(d){try{P(d)}catch(f){g.error(f)}}:super._next,this._error=m?function(d){try{m(d)}catch(f){g.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=D?function(){try{D()}catch(d){g.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}},6328:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>v});var e=p(1631),t=p(4674);function v(b,g){return(0,t.m)(g)?(0,e.z)(b,g,1):(0,e.z)(b,1)}},3620:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>b});var e=p(6321),t=p(9360),v=p(8251);function b(g,P=e.z){return(0,t.e)((D,m)=>{let i=null,c=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const S=c;c=null,m.next(S)}};function _(){const S=d+g,x=P.now();if(x<S)return i=this.schedule(void 0,S-x),void m.add(i);f()}D.subscribe((0,v.x)(m,S=>{c=S,d=P.now(),i||(i=P.schedule(_,g),m.add(i))},()=>{f(),m.complete()},void 0,()=>{c=i=null}))})}},3572:(Wn,et,p)=>{"use strict";p.d(et,{d:()=>v});var e=p(9360),t=p(8251);function v(b){return(0,e.e)((g,P)=>{let D=!1;g.subscribe((0,t.x)(P,m=>{D=!0,P.next(m)},()=>{D||P.next(b),P.complete()}))})}},5177:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>_});var e=p(6321),t=p(5211),v=p(8180),b=p(9360),g=p(8251),P=p(2420),m=p(975),i=p(1631),c=p(4829);function d(S,x){return x?A=>(0,t.z)(x.pipe((0,v.q)(1),function D(){return(0,b.e)((S,x)=>{S.subscribe((0,g.x)(x,P.Z))})}()),A.pipe(d(S))):(0,i.z)((A,N)=>(0,c.Xf)(S(A,N)).pipe((0,v.q)(1),(0,m.h)(A)))}var f=p(4825);function _(S,x=e.z){const A=(0,f.H)(S,x);return d(()=>A)}},3997:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>b});var e=p(2737),t=p(9360),v=p(8251);function b(P,D=e.y){return P=P??g,(0,t.e)((m,i)=>{let c,d=!0;m.subscribe((0,v.x)(i,f=>{const _=D(f);(d||!P(c,_))&&(d=!1,c=_,i.next(f))}))})}function g(P,D){return P===D}},2181:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>v});var e=p(9360),t=p(8251);function v(b,g){return(0,e.e)((P,D)=>{let m=0;P.subscribe((0,t.x)(D,i=>b.call(g,i,m++)&&D.next(i)))})}},4716:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>t});var e=p(9360);function t(v){return(0,e.e)((b,g)=>{try{b.subscribe(g)}finally{g.add(v)}})}},1374:(Wn,et,p)=>{"use strict";p.d(et,{P:()=>D});var e=p(6973),t=p(2181),v=p(8180),b=p(3572),g=p(3026),P=p(2737);function D(m,i){const c=arguments.length>=2;return d=>d.pipe(m?(0,t.h)((f,_)=>m(f,_,d)):P.y,(0,v.q)(1),c?(0,b.d)(i):(0,g.T)(()=>new e.K))}},7398:(Wn,et,p)=>{"use strict";p.d(et,{U:()=>v});var e=p(9360),t=p(8251);function v(b,g){return(0,e.e)((P,D)=>{let m=0;P.subscribe((0,t.x)(D,i=>{D.next(b.call(g,i,m++))}))})}},975:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>t});var e=p(7398);function t(v){return(0,e.U)(()=>v)}},7537:(Wn,et,p)=>{"use strict";p.d(et,{J:()=>v});var e=p(1631),t=p(2737);function v(b=1/0){return(0,e.z)(t.y,b)}},1631:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>m});var e=p(7398),t=p(4829),v=p(9360),b=p(7103),g=p(8251),D=p(4674);function m(i,c,d=1/0){return(0,D.m)(c)?m((f,_)=>(0,e.U)((S,x)=>c(f,S,_,x))((0,t.Xf)(i(f,_))),d):("number"==typeof c&&(d=c),(0,v.e)((f,_)=>function P(i,c,d,f,_,S,x,A){const N=[];let O=0,C=0,I=!1;const T=()=>{I&&!N.length&&!O&&c.complete()},L=B=>O<f?y(B):N.push(B),y=B=>{S&&c.next(B),O++;let z=!1;(0,t.Xf)(d(B,C++)).subscribe((0,g.x)(c,ne=>{_?.(ne),S?L(ne):c.next(ne)},()=>{z=!0},void 0,()=>{if(z)try{for(O--;N.length&&O<f;){const ne=N.shift();x?(0,b.f)(c,x,()=>y(ne)):y(ne)}T()}catch(ne){c.error(ne)}}))};return i.subscribe((0,g.x)(c,L,()=>{I=!0,T()})),()=>{A?.()}}(f,_,i,d)))}},3093:(Wn,et,p)=>{"use strict";p.d(et,{Q:()=>b});var e=p(7103),t=p(9360),v=p(8251);function b(g,P=0){return(0,t.e)((D,m)=>{D.subscribe((0,v.x)(m,i=>(0,e.f)(m,g,()=>m.next(i),P),()=>(0,e.f)(m,g,()=>m.complete(),P),i=>(0,e.f)(m,g,()=>m.error(i),P)))})}},6196:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>v});var e=p(9360),t=p(8251);function v(){return(0,e.e)((b,g)=>{let P=null;b._refCount++;const D=(0,t.x)(g,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(P=null);const m=b._connection,i=P;P=null,m&&(!i||m===i)&&m.unsubscribe(),g.unsubscribe()});b.subscribe(D),D.closed||(P=b.connect())})}},3020:(Wn,et,p)=>{"use strict";p.d(et,{B:()=>g});var e=p(4829),t=p(8645),v=p(305),b=p(9360);function g(D={}){const{connector:m=(()=>new t.x),resetOnError:i=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=D;return f=>{let _,S,x,A=0,N=!1,O=!1;const C=()=>{S?.unsubscribe(),S=void 0},I=()=>{C(),_=x=void 0,N=O=!1},T=()=>{const L=_;I(),L?.unsubscribe()};return(0,b.e)((L,y)=>{A++,!O&&!N&&C();const B=x=x??m();y.add(()=>{A--,0===A&&!O&&!N&&(S=P(T,d))}),B.subscribe(y),!_&&A>0&&(_=new v.Hp({next:z=>B.next(z),error:z=>{O=!0,C(),S=P(I,i,z),B.error(z)},complete:()=>{N=!0,C(),S=P(I,c),B.complete()}}),(0,e.Xf)(L).subscribe(_))})(f)}}function P(D,m,...i){if(!0===m)return void D();if(!1===m)return;const c=new v.Hp({next:()=>{c.unsubscribe(),D()}});return(0,e.Xf)(m(...i)).subscribe(c)}},940:(Wn,et,p)=>{"use strict";p.d(et,{d:()=>g});var e=p(8645),t=p(4552);class v extends e.x{constructor(D=1/0,m=1/0,i=t.l){super(),this._bufferSize=D,this._windowTime=m,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,D),this._windowTime=Math.max(1,m)}next(D){const{isStopped:m,_buffer:i,_infiniteTimeWindow:c,_timestampProvider:d,_windowTime:f}=this;m||(i.push(D),!c&&i.push(d.now()+f)),this._trimBuffer(),super.next(D)}_subscribe(D){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(D),{_infiniteTimeWindow:i,_buffer:c}=this,d=c.slice();for(let f=0;f<d.length&&!D.closed;f+=i?1:2)D.next(d[f]);return this._checkFinalizedStatuses(D),m}_trimBuffer(){const{_bufferSize:D,_timestampProvider:m,_buffer:i,_infiniteTimeWindow:c}=this,d=(c?1:2)*D;if(D<1/0&&d<i.length&&i.splice(0,i.length-d),!c){const f=m.now();let _=0;for(let S=1;S<i.length&&i[S]<=f;S+=2)_=S;_&&i.splice(0,_+1)}}}var b=p(3020);function g(P,D,m){let i,c=!1;return P&&"object"==typeof P?({bufferSize:i=1/0,windowTime:D=1/0,refCount:c=!1,scheduler:m}=P):i=P??1/0,(0,b.B)({connector:()=>new v(i,D,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},836:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>t});var e=p(2181);function t(v){return(0,e.h)((b,g)=>v<=g)}},7921:(Wn,et,p)=>{"use strict";p.d(et,{O:()=>b});var e=p(5211),t=p(9940),v=p(9360);function b(...g){const P=(0,t.yG)(g);return(0,v.e)((D,m)=>{(P?(0,e.z)(g,D,P):(0,e.z)(g,D)).subscribe(m)})}},5137:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>t});var e=p(9360);function t(v,b=0){return(0,e.e)((g,P)=>{P.add(v.schedule(()=>g.subscribe(P),b))})}},4664:(Wn,et,p)=>{"use strict";p.d(et,{w:()=>b});var e=p(4829),t=p(9360),v=p(8251);function b(g,P){return(0,t.e)((D,m)=>{let i=null,c=0,d=!1;const f=()=>d&&!i&&m.complete();D.subscribe((0,v.x)(m,_=>{i?.unsubscribe();let S=0;const x=c++;(0,e.Xf)(g(_,x)).subscribe(i=(0,v.x)(m,A=>m.next(P?P(_,A,x,S++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}},8180:(Wn,et,p)=>{"use strict";p.d(et,{q:()=>b});var e=p(6232),t=p(9360),v=p(8251);function b(g){return g<=0?()=>e.E:(0,t.e)((P,D)=>{let m=0;P.subscribe((0,v.x)(D,i=>{++m<=g&&(D.next(i),g<=m&&D.complete())}))})}},9773:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>g});var e=p(9360),t=p(8251),v=p(4829),b=p(2420);function g(P){return(0,e.e)((D,m)=>{(0,v.Xf)(P).subscribe((0,t.x)(m,()=>m.complete(),b.Z)),!m.closed&&D.subscribe(m)})}},9397:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>g});var e=p(4674),t=p(9360),v=p(8251),b=p(2737);function g(P,D,m){const i=(0,e.m)(P)||D||m?{next:P,error:D,complete:m}:P;return i?(0,t.e)((c,d)=>{var f;null===(f=i.subscribe)||void 0===f||f.call(i);let _=!0;c.subscribe((0,v.x)(d,S=>{var x;null===(x=i.next)||void 0===x||x.call(i,S),d.next(S)},()=>{var S;_=!1,null===(S=i.complete)||void 0===S||S.call(i),d.complete()},S=>{var x;_=!1,null===(x=i.error)||void 0===x||x.call(i,S),d.error(S)},()=>{var S,x;_&&(null===(S=i.unsubscribe)||void 0===S||S.call(i)),null===(x=i.finalize)||void 0===x||x.call(i)}))}):b.y}},3026:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>b});var e=p(6973),t=p(9360),v=p(8251);function b(P=g){return(0,t.e)((D,m)=>{let i=!1;D.subscribe((0,v.x)(m,c=>{i=!0,m.next(c)},()=>i?m.complete():m.error(P())))})}function g(){return new e.K}},1954:(Wn,et,p)=>{"use strict";p.d(et,{o:()=>g});var e=p(7394);class t extends e.w0{constructor(D,m){super()}schedule(D,m=0){return this}}const v={setInterval(P,D,...m){const{delegate:i}=v;return i?.setInterval?i.setInterval(P,D,...m):setInterval(P,D,...m)},clearInterval(P){const{delegate:D}=v;return(D?.clearInterval||clearInterval)(P)},delegate:void 0};var b=p(9039);class g extends t{constructor(D,m){super(D,m),this.scheduler=D,this.work=m,this.pending=!1}schedule(D,m=0){var i;if(this.closed)return this;this.state=D;const c=this.id,d=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(d,c,m)),this.pending=!0,this.delay=m,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(d,this.id,m),this}requestAsyncId(D,m,i=0){return v.setInterval(D.flush.bind(D,this),i)}recycleAsyncId(D,m,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return m;null!=m&&v.clearInterval(m)}execute(D,m){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(D,m);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,m){let c,i=!1;try{this.work(D)}catch(d){i=!0,c=d||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:D,scheduler:m}=this,{actions:i}=m;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(i,this),null!=D&&(this.id=this.recycleAsyncId(m,D,null)),this.delay=null,super.unsubscribe()}}}},2631:(Wn,et,p)=>{"use strict";p.d(et,{v:()=>v});var e=p(4552);class t{constructor(g,P=t.now){this.schedulerActionCtor=g,this.now=P}schedule(g,P=0,D){return new this.schedulerActionCtor(this,g).schedule(D,P)}}t.now=e.l.now;class v extends t{constructor(g,P=t.now){super(g,P),this.actions=[],this._active=!1}flush(g){const{actions:P}=this;if(this._active)return void P.push(g);let D;this._active=!0;do{if(D=g.execute(g.state,g.delay))break}while(g=P.shift());if(this._active=!1,D){for(;g=P.shift();)g.unsubscribe();throw D}}}},6321:(Wn,et,p)=>{"use strict";p.d(et,{P:()=>b,z:()=>v});var e=p(1954);const v=new(p(2631).v)(e.o),b=v},4552:(Wn,et,p)=>{"use strict";p.d(et,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7599:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>e});const e={setTimeout(t,v,...b){const{delegate:g}=e;return g?.setTimeout?g.setTimeout(t,v,...b):setTimeout(t,v,...b)},clearTimeout(t){const{delegate:v}=e;return(v?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>t});const t=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Wn,et,p)=>{"use strict";p.d(et,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Wn,et,p)=>{"use strict";p.d(et,{K:()=>t});const t=(0,p(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Wn,et,p)=>{"use strict";p.d(et,{_6:()=>P,jO:()=>b,yG:()=>g});var e=p(4674),t=p(671);function v(D){return D[D.length-1]}function b(D){return(0,e.m)(v(D))?D.pop():void 0}function g(D){return(0,t.K)(v(D))?D.pop():void 0}function P(D,m){return"number"==typeof v(D)?D.pop():m}},7453:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>g});const{isArray:e}=Array,{getPrototypeOf:t,prototype:v,keys:b}=Object;function g(D){if(1===D.length){const m=D[0];if(e(m))return{args:m,keys:null};if(function P(D){return D&&"object"==typeof D&&t(D)===v}(m)){const i=b(m);return{args:i.map(c=>m[c]),keys:i}}}return{args:D,keys:null}}},9039:(Wn,et,p)=>{"use strict";function e(t,v){if(t){const b=t.indexOf(v);0<=b&&t.splice(b,1)}}p.d(et,{P:()=>e})},2306:(Wn,et,p)=>{"use strict";function e(t){const b=t(g=>{Error.call(g),g.stack=(new Error).stack});return b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b}p.d(et,{d:()=>e})},2714:(Wn,et,p)=>{"use strict";function e(t,v){return t.reduce((b,g,P)=>(b[g]=v[P],b),{})}p.d(et,{n:()=>e})},1441:(Wn,et,p)=>{"use strict";p.d(et,{O:()=>b,x:()=>v});var e=p(2653);let t=null;function v(g){if(e.config.useDeprecatedSynchronousErrorHandling){const P=!t;if(P&&(t={errorThrown:!1,error:null}),g(),P){const{errorThrown:D,error:m}=t;if(t=null,D)throw m}}else g()}function b(g){e.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=g)}},7103:(Wn,et,p)=>{"use strict";function e(t,v,b,g=0,P=!1){const D=v.schedule(function(){b(),P?t.add(this.schedule(null,g)):this.unsubscribe()},g);if(t.add(D),!P)return D}p.d(et,{f:()=>e})},2737:(Wn,et,p)=>{"use strict";function e(t){return t}p.d(et,{y:()=>e})},4266:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>e});const e=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>t});var e=p(4674);function t(v){return Symbol.asyncIterator&&(0,e.m)(v?.[Symbol.asyncIterator])}},4674:(Wn,et,p)=>{"use strict";function e(t){return"function"==typeof t}p.d(et,{m:()=>e})},8382:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>v});var e=p(4850),t=p(4674);function v(b){return(0,t.m)(b[e.L])}},3664:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>v});var e=p(4971),t=p(4674);function v(b){return(0,t.m)(b?.[e.h])}},2664:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>v});var e=p(5592),t=p(4674);function v(b){return!!b&&(b instanceof e.y||(0,t.m)(b.lift)&&(0,t.m)(b.subscribe))}},4026:(Wn,et,p)=>{"use strict";p.d(et,{t:()=>t});var e=p(4674);function t(v){return(0,e.m)(v?.then)}},541:(Wn,et,p)=>{"use strict";p.d(et,{L:()=>b,Q:()=>v});var e=p(7582),t=p(4674);function v(g){return(0,e.FC)(this,arguments,function*(){const D=g.getReader();try{for(;;){const{value:m,done:i}=yield(0,e.qq)(D.read());if(i)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(m)}}finally{D.releaseLock()}})}function b(g){return(0,t.m)(g?.getReader)}},671:(Wn,et,p)=>{"use strict";p.d(et,{K:()=>t});var e=p(4674);function t(v){return v&&(0,e.m)(v.schedule)}},9360:(Wn,et,p)=>{"use strict";p.d(et,{A:()=>t,e:()=>v});var e=p(4674);function t(b){return(0,e.m)(b?.lift)}function v(b){return g=>{if(t(g))return g.lift(function(P){try{return b(P,this)}catch(D){this.error(D)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>b});var e=p(7398);const{isArray:t}=Array;function b(g){return(0,e.U)(P=>function v(g,P){return t(P)?g(...P):g(P)}(g,P))}},2420:(Wn,et,p)=>{"use strict";function e(){}p.d(et,{Z:()=>e})},8407:(Wn,et,p)=>{"use strict";p.d(et,{U:()=>v,z:()=>t});var e=p(2737);function t(...b){return v(b)}function v(b){return 0===b.length?e.y:1===b.length?b[0]:function(P){return b.reduce((D,m)=>m(D),P)}}},3894:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>v});var e=p(2653),t=p(7599);function v(b){t.z.setTimeout(()=>{const{onUnhandledError:g}=e.config;if(!g)throw b;g(b)})}},9853:(Wn,et,p)=>{"use strict";function e(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(et,{z:()=>e})},2372:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>f});var e,t=new Uint8Array(16);function v(){if(!e&&!(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}const b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var D=[],m=0;m<256;++m)D.push((m+256).toString(16).substr(1));const c=function i(_){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=(D[_[S+0]]+D[_[S+1]]+D[_[S+2]]+D[_[S+3]]+"-"+D[_[S+4]]+D[_[S+5]]+"-"+D[_[S+6]]+D[_[S+7]]+"-"+D[_[S+8]]+D[_[S+9]]+"-"+D[_[S+10]]+D[_[S+11]]+D[_[S+12]]+D[_[S+13]]+D[_[S+14]]+D[_[S+15]]).toLowerCase();if(!function g(_){return"string"==typeof _&&b.test(_)}(x))throw TypeError("Stringified UUID is invalid");return x},f=function d(_,S,x){var A=(_=_||{}).random||(_.rng||v)();if(A[6]=15&A[6]|64,A[8]=63&A[8]|128,S){x=x||0;for(var N=0;N<16;++N)S[x+N]=A[N];return S}return c(A)}},6825:(Wn,et,p)=>{"use strict";p.d(et,{F4:()=>c,IO:()=>x,LC:()=>t,SB:()=>i,X$:()=>b,ZE:()=>O,ZN:()=>N,_j:()=>e,eR:()=>d,jt:()=>g,k1:()=>C,l3:()=>v,oB:()=>m,pV:()=>_,ru:()=>P,vP:()=>D});class e{}class t{}const v="*";function b(I,T){return{type:7,name:I,definitions:T,options:{}}}function g(I,T=null){return{type:4,styles:T,timings:I}}function P(I,T=null){return{type:3,steps:I,options:T}}function D(I,T=null){return{type:2,steps:I,options:T}}function m(I){return{type:6,styles:I,offset:null}}function i(I,T,L){return{type:0,name:I,styles:T,options:L}}function c(I){return{type:5,steps:I}}function d(I,T,L=null){return{type:1,expr:I,animation:T,options:L}}function _(I=null){return{type:9,options:I}}function x(I,T,L=null){return{type:11,selector:I,animation:T,options:L}}class N{constructor(T=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const L="start"==T?this._onStartFns:this._onDoneFns;L.forEach(y=>y()),L.length=0}}class O{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let L=0,y=0,B=0;const z=this.players.length;0==z?queueMicrotask(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++L==z&&this._onFinish()}),ne.onDestroy(()=>{++y==z&&this._onDestroy()}),ne.onStart(()=>{++B==z&&this._onStart()})}),this.totalTime=this.players.reduce((ne,ae)=>Math.max(ne,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const L=T*this.totalTime;this.players.forEach(y=>{const B=y.totalTime?Math.min(1,L/y.totalTime):1;y.setPosition(B)})}getPosition(){const T=this.players.reduce((L,y)=>null===L||y.totalTime>L.totalTime?y:L,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const L="start"==T?this._onStartFns:this._onDoneFns;L.forEach(y=>y()),L.length=0}}const C="!"},4300:(Wn,et,p)=>{"use strict";p.d(et,{$s:()=>Fe,Kd:()=>Qe,X6:()=>re,Zf:()=>T,iD:()=>L,ic:()=>Ie,kH:()=>Et,mK:()=>ie,qV:()=>Q,qm:()=>un,rt:()=>fn,s1:()=>Se,tE:()=>We,yG:()=>J});var e=p(6814),t=p(5879),v=p(2831),b=p(8645),g=p(7394),P=p(5619),D=p(2096),m=p(6028),i=p(9397),c=p(3620),d=p(2181),f=p(7398),_=p(8180),S=p(836),x=p(3997),A=p(9773),N=p(2495),O=p(7131),C=p(1088);const I=" ";function T(wt,vt,it){const He=y(wt,vt);He.some(ze=>ze.trim()==it.trim())||(He.push(it.trim()),wt.setAttribute(vt,He.join(I)))}function L(wt,vt,it){const ze=y(wt,vt).filter(st=>st!=it.trim());ze.length?wt.setAttribute(vt,ze.join(I)):wt.removeAttribute(vt)}function y(wt,vt){return(wt.getAttribute(vt)||"").match(/\S+/g)||[]}const z="cdk-describedby-message",ne="cdk-describedby-host";let ae=0,Fe=(()=>{class wt{constructor(it,He){this._platform=He,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ae++,this._document=it,this._id=(0,t.f3M)(t.AFp)+"-"+ae++}describe(it,He,ze){if(!this._canBeDescribed(it,He))return;const st=Y(He,ze);"string"!=typeof He?(le(He,this._id),this._messageRegistry.set(st,{messageElement:He,referenceCount:0})):this._messageRegistry.has(st)||this._createMessageElement(He,ze),this._isElementDescribedByMessage(it,st)||this._addMessageReference(it,st)}removeDescription(it,He,ze){if(!He||!this._isElementNode(it))return;const st=Y(He,ze);if(this._isElementDescribedByMessage(it,st)&&this._removeMessageReference(it,st),"string"==typeof He){const at=this._messageRegistry.get(st);at&&0===at.referenceCount&&this._deleteMessageElement(st)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const it=this._document.querySelectorAll(`[${ne}="${this._id}"]`);for(let He=0;He<it.length;He++)this._removeCdkDescribedByReferenceIds(it[He]),it[He].removeAttribute(ne);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(it,He){const ze=this._document.createElement("div");le(ze,this._id),ze.textContent=it,He&&ze.setAttribute("role",He),this._createMessagesContainer(),this._messagesContainer.appendChild(ze),this._messageRegistry.set(Y(it,He),{messageElement:ze,referenceCount:0})}_deleteMessageElement(it){this._messageRegistry.get(it)?.messageElement?.remove(),this._messageRegistry.delete(it)}_createMessagesContainer(){if(this._messagesContainer)return;const it="cdk-describedby-message-container",He=this._document.querySelectorAll(`.${it}[platform="server"]`);for(let st=0;st<He.length;st++)He[st].remove();const ze=this._document.createElement("div");ze.style.visibility="hidden",ze.classList.add(it),ze.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ze.setAttribute("platform","server"),this._document.body.appendChild(ze),this._messagesContainer=ze}_removeCdkDescribedByReferenceIds(it){const He=y(it,"aria-describedby").filter(ze=>0!=ze.indexOf(z));it.setAttribute("aria-describedby",He.join(" "))}_addMessageReference(it,He){const ze=this._messageRegistry.get(He);T(it,"aria-describedby",ze.messageElement.id),it.setAttribute(ne,this._id),ze.referenceCount++}_removeMessageReference(it,He){const ze=this._messageRegistry.get(He);ze.referenceCount--,L(it,"aria-describedby",ze.messageElement.id),it.removeAttribute(ne)}_isElementDescribedByMessage(it,He){const ze=y(it,"aria-describedby"),st=this._messageRegistry.get(He),at=st&&st.messageElement.id;return!!at&&-1!=ze.indexOf(at)}_canBeDescribed(it,He){if(!this._isElementNode(it))return!1;if(He&&"object"==typeof He)return!0;const ze=null==He?"":`${He}`.trim(),st=it.getAttribute("aria-label");return!(!ze||st&&st.trim()===ze)}_isElementNode(it){return it.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(e.K0),t.LFG(v.t4))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();function Y(wt,vt){return"string"==typeof wt?`${vt||""}/${wt}`:wt}function le(wt,vt){wt.id||(wt.id=`${z}-${vt}-${ae++}`)}class G{constructor(vt){this._items=vt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new b.x,this._typeaheadSubscription=g.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=it=>it.disabled,this._pressedLetters=[],this.tabOut=new b.x,this.change=new b.x,vt instanceof t.n_E&&(this._itemChangesSubscription=vt.changes.subscribe(it=>{if(this._activeItem){const ze=it.toArray().indexOf(this._activeItem);ze>-1&&ze!==this._activeItemIndex&&(this._activeItemIndex=ze)}}))}skipPredicate(vt){return this._skipPredicateFn=vt,this}withWrap(vt=!0){return this._wrap=vt,this}withVerticalOrientation(vt=!0){return this._vertical=vt,this}withHorizontalOrientation(vt){return this._horizontal=vt,this}withAllowedModifierKeys(vt){return this._allowedModifierKeys=vt,this}withTypeAhead(vt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,i.b)(it=>this._pressedLetters.push(it)),(0,c.b)(vt),(0,d.h)(()=>this._pressedLetters.length>0),(0,f.U)(()=>this._pressedLetters.join(""))).subscribe(it=>{const He=this._getItemsArray();for(let ze=1;ze<He.length+1;ze++){const st=(this._activeItemIndex+ze)%He.length,at=He[st];if(!this._skipPredicateFn(at)&&0===at.getLabel().toUpperCase().trim().indexOf(it)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(vt=!0){return this._homeAndEnd=vt,this}withPageUpDown(vt=!0,it=10){return this._pageUpAndDown={enabled:vt,delta:it},this}setActiveItem(vt){const it=this._activeItem;this.updateActiveItem(vt),this._activeItem!==it&&this.change.next(this._activeItemIndex)}onKeydown(vt){const it=vt.keyCode,ze=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!vt[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(it){case m.Mf:return void this.tabOut.next();case m.JH:if(this._vertical&&ze){this.setNextItemActive();break}return;case m.LH:if(this._vertical&&ze){this.setPreviousItemActive();break}return;case m.SV:if(this._horizontal&&ze){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case m.oh:if(this._horizontal&&ze){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case m.Sd:if(this._homeAndEnd&&ze){this.setFirstItemActive();break}return;case m.uR:if(this._homeAndEnd&&ze){this.setLastItemActive();break}return;case m.Ku:if(this._pageUpAndDown.enabled&&ze){const st=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(st>0?st:0,1);break}return;case m.VM:if(this._pageUpAndDown.enabled&&ze){const st=this._activeItemIndex+this._pageUpAndDown.delta,at=this._getItemsArray().length;this._setActiveItemByIndex(st<at?st:at-1,-1);break}return;default:return void((ze||(0,m.Vb)(vt,"shiftKey"))&&(vt.key&&1===vt.key.length?this._letterKeyStream.next(vt.key.toLocaleUpperCase()):(it>=m.A&&it<=m.Z||it>=m.xE&&it<=m.aO)&&this._letterKeyStream.next(String.fromCharCode(it))))}this._pressedLetters=[],vt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(vt){const it=this._getItemsArray(),He="number"==typeof vt?vt:it.indexOf(vt);this._activeItem=it[He]??null,this._activeItemIndex=He}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(vt){this._wrap?this._setActiveInWrapMode(vt):this._setActiveInDefaultMode(vt)}_setActiveInWrapMode(vt){const it=this._getItemsArray();for(let He=1;He<=it.length;He++){const ze=(this._activeItemIndex+vt*He+it.length)%it.length;if(!this._skipPredicateFn(it[ze]))return void this.setActiveItem(ze)}}_setActiveInDefaultMode(vt){this._setActiveItemByIndex(this._activeItemIndex+vt,vt)}_setActiveItemByIndex(vt,it){const He=this._getItemsArray();if(He[vt]){for(;this._skipPredicateFn(He[vt]);)if(!He[vt+=it])return;this.setActiveItem(vt)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class Se extends G{setActiveItem(vt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(vt),this.activeItem&&this.activeItem.setActiveStyles()}}let Ie=(()=>{class wt{constructor(it){this._platform=it}isDisabled(it){return it.hasAttribute("disabled")}isVisible(it){return function pe(wt){return!!(wt.offsetWidth||wt.offsetHeight||"function"==typeof wt.getClientRects&&wt.getClientRects().length)}(it)&&"visible"===getComputedStyle(it).visibility}isTabbable(it){if(!this._platform.isBrowser)return!1;const He=function Ce(wt){try{return wt.frameElement}catch{return null}}(function Re(wt){return wt.ownerDocument&&wt.ownerDocument.defaultView||window}(it));if(He&&(-1===je(He)||!this.isVisible(He)))return!1;let ze=it.nodeName.toLowerCase(),st=je(it);return it.hasAttribute("contenteditable")?-1!==st:!("iframe"===ze||"object"===ze||this._platform.WEBKIT&&this._platform.IOS&&!function ft(wt){let vt=wt.nodeName.toLowerCase(),it="input"===vt&&wt.type;return"text"===it||"password"===it||"select"===vt||"textarea"===vt}(it))&&("audio"===ze?!!it.hasAttribute("controls")&&-1!==st:"video"===ze?-1!==st&&(null!==st||this._platform.FIREFOX||it.hasAttribute("controls")):it.tabIndex>=0)}isFocusable(it,He){return function Ze(wt){return!function ke(wt){return function we(wt){return"input"==wt.nodeName.toLowerCase()}(wt)&&"hidden"==wt.type}(wt)&&(function Ae(wt){let vt=wt.nodeName.toLowerCase();return"input"===vt||"select"===vt||"button"===vt||"textarea"===vt}(wt)||function he(wt){return function Te(wt){return"a"==wt.nodeName.toLowerCase()}(wt)&&wt.hasAttribute("href")}(wt)||wt.hasAttribute("contenteditable")||Oe(wt))}(it)&&!this.isDisabled(it)&&(He?.ignoreVisibility||this.isVisible(it))}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(v.t4))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();function Oe(wt){if(!wt.hasAttribute("tabindex")||void 0===wt.tabIndex)return!1;let vt=wt.getAttribute("tabindex");return!(!vt||isNaN(parseInt(vt,10)))}function je(wt){if(!Oe(wt))return null;const vt=parseInt(wt.getAttribute("tabindex")||"",10);return isNaN(vt)?-1:vt}class be{get enabled(){return this._enabled}set enabled(vt){this._enabled=vt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}constructor(vt,it,He,ze,st=!1){this._element=vt,this._checker=it,this._ngZone=He,this._document=ze,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,st||this.attachAnchors()}destroy(){const vt=this._startAnchor,it=this._endAnchor;vt&&(vt.removeEventListener("focus",this.startAnchorListener),vt.remove()),it&&(it.removeEventListener("focus",this.endAnchorListener),it.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusInitialElement(vt)))})}focusFirstTabbableElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusFirstTabbableElement(vt)))})}focusLastTabbableElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusLastTabbableElement(vt)))})}_getRegionBoundary(vt){const it=this._element.querySelectorAll(`[cdk-focus-region-${vt}], [cdkFocusRegion${vt}], [cdk-focus-${vt}]`);return"start"==vt?it.length?it[0]:this._getFirstTabbableElement(this._element):it.length?it[it.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(vt){const it=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(it){if(!this._checker.isFocusable(it)){const He=this._getFirstTabbableElement(it);return He?.focus(vt),!!He}return it.focus(vt),!0}return this.focusFirstTabbableElement(vt)}focusFirstTabbableElement(vt){const it=this._getRegionBoundary("start");return it&&it.focus(vt),!!it}focusLastTabbableElement(vt){const it=this._getRegionBoundary("end");return it&&it.focus(vt),!!it}hasAttached(){return this._hasAttached}_getFirstTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const it=vt.children;for(let He=0;He<it.length;He++){const ze=it[He].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(it[He]):null;if(ze)return ze}return null}_getLastTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const it=vt.children;for(let He=it.length-1;He>=0;He--){const ze=it[He].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(it[He]):null;if(ze)return ze}return null}_createAnchor(){const vt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,vt),vt.classList.add("cdk-visually-hidden"),vt.classList.add("cdk-focus-trap-anchor"),vt.setAttribute("aria-hidden","true"),vt}_toggleAnchorTabIndex(vt,it){vt?it.setAttribute("tabindex","0"):it.removeAttribute("tabindex")}toggleAnchors(vt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}_executeOnStable(vt){this._ngZone.isStable?vt():this._ngZone.onStable.pipe((0,_.q)(1)).subscribe(vt)}}let Q=(()=>{class wt{constructor(it,He,ze){this._checker=it,this._ngZone=He,this._document=ze}create(it,He=!1){return new be(it,this._checker,this._ngZone,this._document,He)}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(Ie),t.LFG(t.R0b),t.LFG(e.K0))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})(),ie=(()=>{class wt{get enabled(){return this.focusTrap.enabled}set enabled(it){this.focusTrap.enabled=(0,N.Ig)(it)}get autoCapture(){return this._autoCapture}set autoCapture(it){this._autoCapture=(0,N.Ig)(it)}constructor(it,He,ze){this._elementRef=it,this._focusTrapFactory=He,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(it){const He=it.autoCapture;He&&!He.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,v.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(He){return new(He||wt)(t.Y36(t.SBq),t.Y36(Q),t.Y36(e.K0))};static#t=this.\u0275dir=t.lG2({type:wt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return wt})();function re(wt){return 0===wt.buttons||0===wt.offsetX&&0===wt.offsetY}function J(wt){const vt=wt.touches&&wt.touches[0]||wt.changedTouches&&wt.changedTouches[0];return!(!vt||-1!==vt.identifier||null!=vt.radiusX&&1!==vt.radiusX||null!=vt.radiusY&&1!==vt.radiusY)}const q=new t.OlP("cdk-input-modality-detector-options"),_e={ignoreKeys:[m.zL,m.jx,m.b2,m.MW,m.JU]},Ee=(0,v.i$)({passive:!0,capture:!0});let Ge=(()=>{class wt{get mostRecentModality(){return this._modality.value}constructor(it,He,ze,st){this._platform=it,this._mostRecentTarget=null,this._modality=new P.X(null),this._lastTouchMs=0,this._onKeydown=at=>{this._options?.ignoreKeys?.some(St=>St===at.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.sA)(at))},this._onMousedown=at=>{Date.now()-this._lastTouchMs<650||(this._modality.next(re(at)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.sA)(at))},this._onTouchstart=at=>{J(at)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.sA)(at))},this._options={..._e,...st},this.modalityDetected=this._modality.pipe((0,S.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,x.x)()),it.isBrowser&&He.runOutsideAngular(()=>{ze.addEventListener("keydown",this._onKeydown,Ee),ze.addEventListener("mousedown",this._onMousedown,Ee),ze.addEventListener("touchstart",this._onTouchstart,Ee)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ee),document.removeEventListener("mousedown",this._onMousedown,Ee),document.removeEventListener("touchstart",this._onTouchstart,Ee))}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(v.t4),t.LFG(t.R0b),t.LFG(e.K0),t.LFG(q,8))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();const ct=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Xe(){return null}}),tt=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gt=0,Qe=(()=>{class wt{constructor(it,He,ze,st){this._ngZone=He,this._defaultOptions=st,this._document=ze,this._liveElement=it||this._createLiveElement()}announce(it,...He){const ze=this._defaultOptions;let st,at;return 1===He.length&&"number"==typeof He[0]?at=He[0]:[st,at]=He,this.clear(),clearTimeout(this._previousTimeout),st||(st=ze&&ze.politeness?ze.politeness:"polite"),null==at&&ze&&(at=ze.duration),this._liveElement.setAttribute("aria-live",st),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(St=>this._currentResolve=St)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=it,"number"==typeof at&&(this._previousTimeout=setTimeout(()=>this.clear(),at)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const it="cdk-live-announcer-element",He=this._document.getElementsByClassName(it),ze=this._document.createElement("div");for(let st=0;st<He.length;st++)He[st].remove();return ze.classList.add(it),ze.classList.add("cdk-visually-hidden"),ze.setAttribute("aria-atomic","true"),ze.setAttribute("aria-live","polite"),ze.id="cdk-live-announcer-"+gt++,this._document.body.appendChild(ze),ze}_exposeAnnouncerToModals(it){const He=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ze=0;ze<He.length;ze++){const st=He[ze],at=st.getAttribute("aria-owns");at?-1===at.indexOf(it)&&st.setAttribute("aria-owns",at+" "+it):st.setAttribute("aria-owns",it)}}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(ct,8),t.LFG(t.R0b),t.LFG(e.K0),t.LFG(tt,8))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();const Dt=new t.OlP("cdk-focus-monitor-default-options"),fe=(0,v.i$)({passive:!0,capture:!0});let We=(()=>{class wt{constructor(it,He,ze,st,at){this._ngZone=it,this._platform=He,this._inputModalityDetector=ze,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b.x,this._rootNodeFocusAndBlurListener=St=>{for(let xt=(0,v.sA)(St);xt;xt=xt.parentElement)"focus"===St.type?this._onFocus(St,xt):this._onBlur(St,xt)},this._document=st,this._detectionMode=at?.detectionMode||0}monitor(it,He=!1){const ze=(0,N.fI)(it);if(!this._platform.isBrowser||1!==ze.nodeType)return(0,D.of)();const st=(0,v.kV)(ze)||this._getDocument(),at=this._elementInfo.get(ze);if(at)return He&&(at.checkChildren=!0),at.subject;const St={checkChildren:He,subject:new b.x,rootNode:st};return this._elementInfo.set(ze,St),this._registerGlobalListeners(St),St.subject}stopMonitoring(it){const He=(0,N.fI)(it),ze=this._elementInfo.get(He);ze&&(ze.subject.complete(),this._setClasses(He),this._elementInfo.delete(He),this._removeGlobalListeners(ze))}focusVia(it,He,ze){const st=(0,N.fI)(it);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([St,bt])=>this._originChanged(St,He,bt)):(this._setOrigin(He),"function"==typeof st.focus&&st.focus(ze))}ngOnDestroy(){this._elementInfo.forEach((it,He)=>this.stopMonitoring(He))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(it){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(it)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:it&&this._isLastInteractionFromInputLabel(it)?"mouse":"program"}_shouldBeAttributedToTouch(it){return 1===this._detectionMode||!!it?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(it,He){it.classList.toggle("cdk-focused",!!He),it.classList.toggle("cdk-touch-focused","touch"===He),it.classList.toggle("cdk-keyboard-focused","keyboard"===He),it.classList.toggle("cdk-mouse-focused","mouse"===He),it.classList.toggle("cdk-program-focused","program"===He)}_setOrigin(it,He=!1){this._ngZone.runOutsideAngular(()=>{this._origin=it,this._originFromTouchInteraction="touch"===it&&He,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(it,He){const ze=this._elementInfo.get(He),st=(0,v.sA)(it);!ze||!ze.checkChildren&&He!==st||this._originChanged(He,this._getFocusOrigin(st),ze)}_onBlur(it,He){const ze=this._elementInfo.get(He);!ze||ze.checkChildren&&it.relatedTarget instanceof Node&&He.contains(it.relatedTarget)||(this._setClasses(He),this._emitOrigin(ze,null))}_emitOrigin(it,He){it.subject.observers.length&&this._ngZone.run(()=>it.subject.next(He))}_registerGlobalListeners(it){if(!this._platform.isBrowser)return;const He=it.rootNode,ze=this._rootNodeFocusListenerCount.get(He)||0;ze||this._ngZone.runOutsideAngular(()=>{He.addEventListener("focus",this._rootNodeFocusAndBlurListener,fe),He.addEventListener("blur",this._rootNodeFocusAndBlurListener,fe)}),this._rootNodeFocusListenerCount.set(He,ze+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,A.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(it){const He=it.rootNode;if(this._rootNodeFocusListenerCount.has(He)){const ze=this._rootNodeFocusListenerCount.get(He);ze>1?this._rootNodeFocusListenerCount.set(He,ze-1):(He.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fe),He.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fe),this._rootNodeFocusListenerCount.delete(He))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(it,He,ze){this._setClasses(it,He),this._emitOrigin(ze,He),this._lastFocusOrigin=He}_getClosestElementsInfo(it){const He=[];return this._elementInfo.forEach((ze,st)=>{(st===it||ze.checkChildren&&st.contains(it))&&He.push([st,ze])}),He}_isLastInteractionFromInputLabel(it){const{_mostRecentTarget:He,mostRecentModality:ze}=this._inputModalityDetector;if("mouse"!==ze||!He||He===it||"INPUT"!==it.nodeName&&"TEXTAREA"!==it.nodeName||it.disabled)return!1;const st=it.labels;if(st)for(let at=0;at<st.length;at++)if(st[at].contains(He))return!0;return!1}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(t.R0b),t.LFG(v.t4),t.LFG(Ge),t.LFG(e.K0,8),t.LFG(Dt,8))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})(),Et=(()=>{class wt{constructor(it,He){this._elementRef=it,this._focusMonitor=He,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const it=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(it,1===it.nodeType&&it.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(He=>{this._focusOrigin=He,this.cdkFocusChange.emit(He)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(He){return new(He||wt)(t.Y36(t.SBq),t.Y36(We))};static#t=this.\u0275dir=t.lG2({type:wt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return wt})();const Wt="cdk-high-contrast-black-on-white",Qt="cdk-high-contrast-white-on-black",qt="cdk-high-contrast-active";let un=(()=>{class wt{constructor(it,He){this._platform=it,this._document=He,this._breakpointSubscription=(0,t.f3M)(C.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const it=this._document.createElement("div");it.style.backgroundColor="rgb(1,2,3)",it.style.position="absolute",this._document.body.appendChild(it);const He=this._document.defaultView||window,ze=He&&He.getComputedStyle?He.getComputedStyle(it):null,st=(ze&&ze.backgroundColor||"").replace(/ /g,"");switch(it.remove(),st){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const it=this._document.body.classList;it.remove(qt,Wt,Qt),this._hasCheckedHighContrastMode=!0;const He=this.getHighContrastMode();1===He?it.add(qt,Wt):2===He&&it.add(qt,Qt)}}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(v.t4),t.LFG(e.K0))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})(),fn=(()=>{class wt{constructor(it){it._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(un))};static#t=this.\u0275mod=t.oAB({type:wt});static#n=this.\u0275inj=t.cJS({imports:[O.Q8]})}return wt})()},9388:(Wn,et,p)=>{"use strict";p.d(et,{Is:()=>D,vT:()=>i});var e=p(5879),t=p(6814);const v=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function b(){return(0,e.f3M)(t.K0)}}),g=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D=(()=>{class c{constructor(f){this.value="ltr",this.change=new e.vpe,f&&(this.value=function P(c){const d=c?.toLowerCase()||"";return"auto"===d&&typeof navigator<"u"&&navigator?.language?g.test(navigator.language)?"rtl":"ltr":"rtl"===d?"rtl":"ltr"}((f.body?f.body.dir:null)||(f.documentElement?f.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(_){return new(_||c)(e.LFG(v,8))};static#t=this.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),i=(()=>{class c{static#e=this.\u0275fac=function(_){return new(_||c)};static#t=this.\u0275mod=e.oAB({type:c});static#n=this.\u0275inj=e.cJS({})}return c})()},2495:(Wn,et,p)=>{"use strict";p.d(et,{Eq:()=>g,HM:()=>P,Ig:()=>t,du:()=>m,fI:()=>D,su:()=>v,t6:()=>b});var e=p(5879);function t(i){return null!=i&&"false"!=`${i}`}function v(i,c=0){return b(i)?Number(i):c}function b(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function g(i){return Array.isArray(i)?i:[i]}function P(i){return null==i?"":"string"==typeof i?i:`${i}px`}function D(i){return i instanceof e.SBq?i.nativeElement:i}function m(i,c=/\s+/){const d=[];if(null!=i){const f=Array.isArray(i)?i:`${i}`.split(c);for(const _ of f){const S=`${_}`.trim();S&&d.push(S)}}return d}},8337:(Wn,et,p)=>{"use strict";p.d(et,{Ov:()=>i,Z9:()=>g,eX:()=>m,k:()=>f,o2:()=>b,yy:()=>D});var e=p(3168),t=p(8645),v=p(5879);class b{}function g(_){return _&&"function"==typeof _.connect&&!(_ instanceof e.c)}class D{applyChanges(S,x,A,N,O){S.forEachOperation((C,I,T)=>{let L,y;if(null==C.previousIndex){const B=A(C,I,T);L=x.createEmbeddedView(B.templateRef,B.context,B.index),y=1}else null==T?(x.remove(I),y=3):(L=x.get(I),x.move(L,T),y=2);O&&O({context:L?.context,operation:y,record:C})})}detach(){}}class m{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(S,x,A,N,O){S.forEachOperation((C,I,T)=>{let L,y;null==C.previousIndex?(L=this._insertView(()=>A(C,I,T),T,x,N(C)),y=L?1:0):null==T?(this._detachAndCacheView(I,x),y=3):(L=this._moveView(I,T,x,N(C)),y=2),O&&O({context:L?.context,operation:y,record:C})})}detach(){for(const S of this._viewCache)S.destroy();this._viewCache=[]}_insertView(S,x,A,N){const O=this._insertViewFromCache(x,A);if(O)return void(O.context.$implicit=N);const C=S();return A.createEmbeddedView(C.templateRef,C.context,C.index)}_detachAndCacheView(S,x){const A=x.detach(S);this._maybeCacheView(A,x)}_moveView(S,x,A,N){const O=A.get(S);return A.move(O,x),O.context.$implicit=N,O}_maybeCacheView(S,x){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(S);else{const A=x.indexOf(S);-1===A?S.destroy():x.remove(A)}}_insertViewFromCache(S,x){const A=this._viewCache.pop();return A&&x.insert(A,S),A||null}}class i{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(S=!1,x,A=!0,N){this._multiple=S,this._emitChanges=A,this.compareWith=N,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,x&&x.length&&(S?x.forEach(O=>this._markSelected(O)):this._markSelected(x[0]),this._selectedToEmit.length=0)}select(...S){this._verifyValueAssignment(S),S.forEach(A=>this._markSelected(A));const x=this._hasQueuedChanges();return this._emitChangeEvent(),x}deselect(...S){this._verifyValueAssignment(S),S.forEach(A=>this._unmarkSelected(A));const x=this._hasQueuedChanges();return this._emitChangeEvent(),x}setSelection(...S){this._verifyValueAssignment(S);const x=this.selected,A=new Set(S);S.forEach(O=>this._markSelected(O)),x.filter(O=>!A.has(O)).forEach(O=>this._unmarkSelected(O));const N=this._hasQueuedChanges();return this._emitChangeEvent(),N}toggle(S){return this.isSelected(S)?this.deselect(S):this.select(S)}clear(S=!0){this._unmarkAll();const x=this._hasQueuedChanges();return S&&this._emitChangeEvent(),x}isSelected(S){return this._selection.has(this._getConcreteValue(S))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(S){this._multiple&&this.selected&&this._selected.sort(S)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(S){S=this._getConcreteValue(S),this.isSelected(S)||(this._multiple||this._unmarkAll(),this.isSelected(S)||this._selection.add(S),this._emitChanges&&this._selectedToEmit.push(S))}_unmarkSelected(S){S=this._getConcreteValue(S),this.isSelected(S)&&(this._selection.delete(S),this._emitChanges&&this._deselectedToEmit.push(S))}_unmarkAll(){this.isEmpty()||this._selection.forEach(S=>this._unmarkSelected(S))}_verifyValueAssignment(S){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(S){if(this.compareWith){for(let x of this._selection)if(this.compareWith(S,x))return x;return S}return S}}const f=new v.OlP("_ViewRepeater")},6028:(Wn,et,p)=>{"use strict";p.d(et,{A:()=>ke,JH:()=>I,JU:()=>P,K5:()=>g,Ku:()=>_,LH:()=>O,L_:()=>f,MW:()=>tt,Mf:()=>v,SV:()=>C,Sd:()=>A,VM:()=>S,Vb:()=>Pt,Z:()=>Xe,aO:()=>ge,b2:()=>Ft,hY:()=>d,jx:()=>D,oh:()=>N,uR:()=>x,xE:()=>z,zL:()=>m});const v=9,g=13,P=16,D=17,m=18,d=27,f=32,_=33,S=34,x=35,A=36,N=37,O=38,C=39,I=40,z=48,ge=57,ke=65,Xe=90,tt=91,Ft=224;function Pt(ln,...Fn){return Fn.length?Fn.some(vi=>ln[vi]):ln.altKey||ln.shiftKey||ln.ctrlKey||ln.metaKey}},1088:(Wn,et,p)=>{"use strict";p.d(et,{Yg:()=>I,u3:()=>L});var e=p(5879),t=p(2495),v=p(8645),b=p(2572),g=p(5211),P=p(5592),D=p(8180),m=p(836),i=p(3620),c=p(7398),d=p(7921),f=p(9773),_=p(2831);const x=new Set;let A,N=(()=>{class y{constructor(z,ne){this._platform=z,this._nonce=ne,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C}matchMedia(z){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(y,B){if(!x.has(y))try{A||(A=document.createElement("style"),B&&(A.nonce=B),A.setAttribute("type","text/css"),document.head.appendChild(A)),A.sheet&&(A.sheet.insertRule(`@media ${y} {body{ }}`,0),x.add(y))}catch(z){console.error(z)}}(z,this._nonce),this._matchMedia(z)}static#e=this.\u0275fac=function(ne){return new(ne||y)(e.LFG(_.t4),e.LFG(e.Ojb,8))};static#t=this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function C(y){return{matches:"all"===y||""===y,media:y,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class y{constructor(z,ne){this._mediaMatcher=z,this._zone=ne,this._queries=new Map,this._destroySubject=new v.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(z){return T((0,t.Eq)(z)).some(ae=>this._registerQuery(ae).mql.matches)}observe(z){const ae=T((0,t.Eq)(z)).map(Y=>this._registerQuery(Y).observable);let Fe=(0,b.a)(ae);return Fe=(0,g.z)(Fe.pipe((0,D.q)(1)),Fe.pipe((0,m.T)(1),(0,i.b)(0))),Fe.pipe((0,c.U)(Y=>{const le={matches:!1,breakpoints:{}};return Y.forEach(({matches:G,query:Se})=>{le.matches=le.matches||G,le.breakpoints[Se]=G}),le}))}_registerQuery(z){if(this._queries.has(z))return this._queries.get(z);const ne=this._mediaMatcher.matchMedia(z),Fe={observable:new P.y(Y=>{const le=G=>this._zone.run(()=>Y.next(G));return ne.addListener(le),()=>{ne.removeListener(le)}}).pipe((0,d.O)(ne),(0,c.U)(({matches:Y})=>({query:z,matches:Y})),(0,f.R)(this._destroySubject)),mql:ne};return this._queries.set(z,Fe),Fe}static#e=this.\u0275fac=function(ne){return new(ne||y)(e.LFG(N),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function T(y){return y.map(B=>B.split(",")).reduce((B,z)=>B.concat(z)).map(B=>B.trim())}const L={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Wn,et,p)=>{"use strict";p.d(et,{Q8:()=>g});var e=p(5879);let t=(()=>{class P{create(m){return typeof MutationObserver>"u"?null:new MutationObserver(m)}static#e=this.\u0275fac=function(i){return new(i||P)};static#t=this.\u0275prov=e.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),g=(()=>{class P{static#e=this.\u0275fac=function(i){return new(i||P)};static#t=this.\u0275mod=e.oAB({type:P});static#n=this.\u0275inj=e.cJS({providers:[t]})}return P})()},3651:(Wn,et,p)=>{"use strict";p.d(et,{pI:()=>X,xu:()=>ee,_G:()=>he,aV:()=>ie,X_:()=>ae,Xj:()=>Ce,U8:()=>J,Iu:()=>pe});var e=p(799),t=p(6814),v=p(5879),b=p(2495),g=p(2831),P=p(2181),D=p(8180),m=p(9773),i=p(9360),c=p(8251),f=p(9388),_=p(8484),S=p(8645),x=p(7394),A=p(3019),N=p(6028);const O=(0,g.Mq)();class C{constructor(xe,Ee){this._viewportRuler=xe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ee}attach(){}enable(){if(this._canBeEnabled()){const xe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=xe.style.left||"",this._previousHTMLStyles.top=xe.style.top||"",xe.style.left=(0,b.HM)(-this._previousScrollPosition.left),xe.style.top=(0,b.HM)(-this._previousScrollPosition.top),xe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const xe=this._document.documentElement,Ge=xe.style,ct=this._document.body.style,Xe=Ge.scrollBehavior||"",tt=ct.scrollBehavior||"";this._isEnabled=!1,Ge.left=this._previousHTMLStyles.left,Ge.top=this._previousHTMLStyles.top,xe.classList.remove("cdk-global-scrollblock"),O&&(Ge.scrollBehavior=ct.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(Ge.scrollBehavior=Xe,ct.scrollBehavior=tt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ee=this._document.body,Ge=this._viewportRuler.getViewportSize();return Ee.scrollHeight>Ge.height||Ee.scrollWidth>Ge.width}}class T{constructor(xe,Ee,Ge,ct){this._scrollDispatcher=xe,this._ngZone=Ee,this._viewportRuler=Ge,this._config=ct,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(xe){this._overlayRef=xe}enable(){if(this._scrollSubscription)return;const xe=this._scrollDispatcher.scrolled(0).pipe((0,P.h)(Ee=>!Ee||!this._overlayRef.overlayElement.contains(Ee.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=xe.subscribe(()=>{const Ee=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ee-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=xe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L{enable(){}disable(){}attach(){}}function y(_e,xe){return xe.some(Ee=>_e.bottom<Ee.top||_e.top>Ee.bottom||_e.right<Ee.left||_e.left>Ee.right)}function B(_e,xe){return xe.some(Ee=>_e.top<Ee.top||_e.bottom>Ee.bottom||_e.left<Ee.left||_e.right>Ee.right)}class z{constructor(xe,Ee,Ge,ct){this._scrollDispatcher=xe,this._viewportRuler=Ee,this._ngZone=Ge,this._config=ct,this._scrollSubscription=null}attach(xe){this._overlayRef=xe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ee=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ge,height:ct}=this._viewportRuler.getViewportSize();y(Ee,[{width:Ge,height:ct,bottom:ct,right:Ge,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ne=(()=>{class _e{constructor(Ee,Ge,ct,Xe){this._scrollDispatcher=Ee,this._viewportRuler=Ge,this._ngZone=ct,this.noop=()=>new L,this.close=tt=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,tt),this.block=()=>new C(this._viewportRuler,this._document),this.reposition=tt=>new z(this._scrollDispatcher,this._viewportRuler,this._ngZone,tt),this._document=Xe}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(e.mF),v.LFG(e.rL),v.LFG(v.R0b),v.LFG(t.K0))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();class ae{constructor(xe){if(this.scrollStrategy=new L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,xe){const Ee=Object.keys(xe);for(const Ge of Ee)void 0!==xe[Ge]&&(this[Ge]=xe[Ge])}}}class le{constructor(xe,Ee){this.connectionPair=xe,this.scrollableViewProperties=Ee}}let ce=(()=>{class _e{constructor(Ee){this._attachedOverlays=[],this._document=Ee}ngOnDestroy(){this.detach()}add(Ee){this.remove(Ee),this._attachedOverlays.push(Ee)}remove(Ee){const Ge=this._attachedOverlays.indexOf(Ee);Ge>-1&&this._attachedOverlays.splice(Ge,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),ge=(()=>{class _e extends ce{constructor(Ee,Ge){super(Ee),this._ngZone=Ge,this._keydownListener=ct=>{const Xe=this._attachedOverlays;for(let tt=Xe.length-1;tt>-1;tt--)if(Xe[tt]._keydownEvents.observers.length>0){const gt=Xe[tt]._keydownEvents;this._ngZone?this._ngZone.run(()=>gt.next(ct)):gt.next(ct);break}}}add(Ee){super.add(Ee),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0),v.LFG(v.R0b,8))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Ie=(()=>{class _e extends ce{constructor(Ee,Ge,ct){super(Ee),this._platform=Ge,this._ngZone=ct,this._cursorStyleIsSet=!1,this._pointerDownListener=Xe=>{this._pointerDownEventTarget=(0,g.sA)(Xe)},this._clickListener=Xe=>{const tt=(0,g.sA)(Xe),gt="click"===Xe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:tt;this._pointerDownEventTarget=null;const Qe=this._attachedOverlays.slice();for(let yt=Qe.length-1;yt>-1;yt--){const Dt=Qe[yt];if(Dt._outsidePointerEvents.observers.length<1||!Dt.hasAttached())continue;if(Dt.overlayElement.contains(tt)||Dt.overlayElement.contains(gt))break;const fe=Dt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>fe.next(Xe)):fe.next(Xe)}}}add(Ee){if(super.add(Ee),!this._isAttached){const Ge=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ge)):this._addEventListeners(Ge),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ge.style.cursor,Ge.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ee=this._document.body;Ee.removeEventListener("pointerdown",this._pointerDownListener,!0),Ee.removeEventListener("click",this._clickListener,!0),Ee.removeEventListener("auxclick",this._clickListener,!0),Ee.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ee.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ee){Ee.addEventListener("pointerdown",this._pointerDownListener,!0),Ee.addEventListener("click",this._clickListener,!0),Ee.addEventListener("auxclick",this._clickListener,!0),Ee.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0),v.LFG(g.t4),v.LFG(v.R0b,8))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Ce=(()=>{class _e{constructor(Ee,Ge){this._platform=Ge,this._document=Ee}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ee="cdk-overlay-container";if(this._platform.isBrowser||(0,g.Oy)()){const ct=this._document.querySelectorAll(`.${Ee}[platform="server"], .${Ee}[platform="test"]`);for(let Xe=0;Xe<ct.length;Xe++)ct[Xe].remove()}const Ge=this._document.createElement("div");Ge.classList.add(Ee),(0,g.Oy)()?Ge.setAttribute("platform","test"):this._platform.isBrowser||Ge.setAttribute("platform","server"),this._document.body.appendChild(Ge),this._containerElement=Ge}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0),v.LFG(g.t4))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();class pe{constructor(xe,Ee,Ge,ct,Xe,tt,gt,Qe,yt,Dt=!1){this._portalOutlet=xe,this._host=Ee,this._pane=Ge,this._config=ct,this._ngZone=Xe,this._keyboardDispatcher=tt,this._document=gt,this._location=Qe,this._outsideClickDispatcher=yt,this._animationsDisabled=Dt,this._backdropElement=null,this._backdropClick=new S.x,this._attachments=new S.x,this._detachments=new S.x,this._locationChanges=x.w0.EMPTY,this._backdropClickHandler=fe=>this._backdropClick.next(fe),this._backdropTransitionendHandler=fe=>{this._disposeBackdrop(fe.target)},this._keydownEvents=new S.x,this._outsidePointerEvents=new S.x,ct.scrollStrategy&&(this._scrollStrategy=ct.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ct.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(xe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ee=this._portalOutlet.attach(xe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,D.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ee?.onDestroy&&Ee.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ee}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const xe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),xe}dispose(){const xe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,xe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(xe){xe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=xe,this.hasAttached()&&(xe.attach(this),this.updatePosition()))}updateSize(xe){this._config={...this._config,...xe},this._updateElementSize()}setDirection(xe){this._config={...this._config,direction:xe},this._updateElementDirection()}addPanelClass(xe){this._pane&&this._toggleClasses(this._pane,xe,!0)}removePanelClass(xe){this._pane&&this._toggleClasses(this._pane,xe,!1)}getDirection(){const xe=this._config.direction;return xe?"string"==typeof xe?xe:xe.value:"ltr"}updateScrollStrategy(xe){xe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=xe,this.hasAttached()&&(xe.attach(this),xe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const xe=this._pane.style;xe.width=(0,b.HM)(this._config.width),xe.height=(0,b.HM)(this._config.height),xe.minWidth=(0,b.HM)(this._config.minWidth),xe.minHeight=(0,b.HM)(this._config.minHeight),xe.maxWidth=(0,b.HM)(this._config.maxWidth),xe.maxHeight=(0,b.HM)(this._config.maxHeight)}_togglePointerEvents(xe){this._pane.style.pointerEvents=xe?"":"none"}_attachBackdrop(){const xe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(xe)})}):this._backdropElement.classList.add(xe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const xe=this._backdropElement;if(xe){if(this._animationsDisabled)return void this._disposeBackdrop(xe);xe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{xe.addEventListener("transitionend",this._backdropTransitionendHandler)}),xe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(xe)},500))}}_toggleClasses(xe,Ee,Ge){const ct=(0,b.Eq)(Ee||[]).filter(Xe=>!!Xe);ct.length&&(Ge?xe.classList.add(...ct):xe.classList.remove(...ct))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const xe=this._ngZone.onStable.pipe((0,m.R)((0,A.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),xe.unsubscribe())})})}_disposeScrollStrategy(){const xe=this._scrollStrategy;xe&&(xe.disable(),xe.detach&&xe.detach())}_disposeBackdrop(xe){xe&&(xe.removeEventListener("click",this._backdropClickHandler),xe.removeEventListener("transitionend",this._backdropTransitionendHandler),xe.remove(),this._backdropElement===xe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ae="cdk-overlay-connected-position-bounding-box",ke=/([A-Za-z%]+)$/;class he{get positions(){return this._preferredPositions}constructor(xe,Ee,Ge,ct,Xe){this._viewportRuler=Ee,this._document=Ge,this._platform=ct,this._overlayContainer=Xe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S.x,this._resizeSubscription=x.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(xe)}attach(xe){this._validatePositions(),xe.hostElement.classList.add(Ae),this._overlayRef=xe,this._boundingBox=xe.hostElement,this._pane=xe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const xe=this._originRect,Ee=this._overlayRect,Ge=this._viewportRect,ct=this._containerRect,Xe=[];let tt;for(let gt of this._preferredPositions){let Qe=this._getOriginPoint(xe,ct,gt),yt=this._getOverlayPoint(Qe,Ee,gt),Dt=this._getOverlayFit(yt,Ee,Ge,gt);if(Dt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(gt,Qe);this._canFitWithFlexibleDimensions(Dt,yt,Ge)?Xe.push({position:gt,origin:Qe,overlayRect:Ee,boundingBoxRect:this._calculateBoundingBoxRect(Qe,gt)}):(!tt||tt.overlayFit.visibleArea<Dt.visibleArea)&&(tt={overlayFit:Dt,overlayPoint:yt,originPoint:Qe,position:gt,overlayRect:Ee})}if(Xe.length){let gt=null,Qe=-1;for(const yt of Xe){const Dt=yt.boundingBoxRect.width*yt.boundingBoxRect.height*(yt.position.weight||1);Dt>Qe&&(Qe=Dt,gt=yt)}return this._isPushed=!1,void this._applyPosition(gt.position,gt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(tt.position,tt.originPoint);this._applyPosition(tt.position,tt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&we(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ae),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const xe=this._lastPosition;if(xe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ee=this._getOriginPoint(this._originRect,this._containerRect,xe);this._applyPosition(xe,Ee)}else this.apply()}withScrollableContainers(xe){return this._scrollables=xe,this}withPositions(xe){return this._preferredPositions=xe,-1===xe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(xe){return this._viewportMargin=xe,this}withFlexibleDimensions(xe=!0){return this._hasFlexibleDimensions=xe,this}withGrowAfterOpen(xe=!0){return this._growAfterOpen=xe,this}withPush(xe=!0){return this._canPush=xe,this}withLockedPosition(xe=!0){return this._positionLocked=xe,this}setOrigin(xe){return this._origin=xe,this}withDefaultOffsetX(xe){return this._offsetX=xe,this}withDefaultOffsetY(xe){return this._offsetY=xe,this}withTransformOriginOn(xe){return this._transformOriginSelector=xe,this}_getOriginPoint(xe,Ee,Ge){let ct,Xe;if("center"==Ge.originX)ct=xe.left+xe.width/2;else{const tt=this._isRtl()?xe.right:xe.left,gt=this._isRtl()?xe.left:xe.right;ct="start"==Ge.originX?tt:gt}return Ee.left<0&&(ct-=Ee.left),Xe="center"==Ge.originY?xe.top+xe.height/2:"top"==Ge.originY?xe.top:xe.bottom,Ee.top<0&&(Xe-=Ee.top),{x:ct,y:Xe}}_getOverlayPoint(xe,Ee,Ge){let ct,Xe;return ct="center"==Ge.overlayX?-Ee.width/2:"start"===Ge.overlayX?this._isRtl()?-Ee.width:0:this._isRtl()?0:-Ee.width,Xe="center"==Ge.overlayY?-Ee.height/2:"top"==Ge.overlayY?0:-Ee.height,{x:xe.x+ct,y:xe.y+Xe}}_getOverlayFit(xe,Ee,Ge,ct){const Xe=Oe(Ee);let{x:tt,y:gt}=xe,Qe=this._getOffset(ct,"x"),yt=this._getOffset(ct,"y");Qe&&(tt+=Qe),yt&&(gt+=yt);let We=0-gt,Et=gt+Xe.height-Ge.height,Wt=this._subtractOverflows(Xe.width,0-tt,tt+Xe.width-Ge.width),Qt=this._subtractOverflows(Xe.height,We,Et),qt=Wt*Qt;return{visibleArea:qt,isCompletelyWithinViewport:Xe.width*Xe.height===qt,fitsInViewportVertically:Qt===Xe.height,fitsInViewportHorizontally:Wt==Xe.width}}_canFitWithFlexibleDimensions(xe,Ee,Ge){if(this._hasFlexibleDimensions){const ct=Ge.bottom-Ee.y,Xe=Ge.right-Ee.x,tt=Te(this._overlayRef.getConfig().minHeight),gt=Te(this._overlayRef.getConfig().minWidth);return(xe.fitsInViewportVertically||null!=tt&&tt<=ct)&&(xe.fitsInViewportHorizontally||null!=gt&&gt<=Xe)}return!1}_pushOverlayOnScreen(xe,Ee,Ge){if(this._previousPushAmount&&this._positionLocked)return{x:xe.x+this._previousPushAmount.x,y:xe.y+this._previousPushAmount.y};const ct=Oe(Ee),Xe=this._viewportRect,tt=Math.max(xe.x+ct.width-Xe.width,0),gt=Math.max(xe.y+ct.height-Xe.height,0),Qe=Math.max(Xe.top-Ge.top-xe.y,0),yt=Math.max(Xe.left-Ge.left-xe.x,0);let Dt=0,fe=0;return Dt=ct.width<=Xe.width?yt||-tt:xe.x<this._viewportMargin?Xe.left-Ge.left-xe.x:0,fe=ct.height<=Xe.height?Qe||-gt:xe.y<this._viewportMargin?Xe.top-Ge.top-xe.y:0,this._previousPushAmount={x:Dt,y:fe},{x:xe.x+Dt,y:xe.y+fe}}_applyPosition(xe,Ee){if(this._setTransformOrigin(xe),this._setOverlayElementStyles(Ee,xe),this._setBoundingBoxStyles(Ee,xe),xe.panelClass&&this._addPanelClasses(xe.panelClass),this._lastPosition=xe,this._positionChanges.observers.length){const Ge=this._getScrollVisibility(),ct=new le(xe,Ge);this._positionChanges.next(ct)}this._isInitialRender=!1}_setTransformOrigin(xe){if(!this._transformOriginSelector)return;const Ee=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ge,ct=xe.overlayY;Ge="center"===xe.overlayX?"center":this._isRtl()?"start"===xe.overlayX?"right":"left":"start"===xe.overlayX?"left":"right";for(let Xe=0;Xe<Ee.length;Xe++)Ee[Xe].style.transformOrigin=`${Ge} ${ct}`}_calculateBoundingBoxRect(xe,Ee){const Ge=this._viewportRect,ct=this._isRtl();let Xe,tt,gt,Dt,fe,We;if("top"===Ee.overlayY)tt=xe.y,Xe=Ge.height-tt+this._viewportMargin;else if("bottom"===Ee.overlayY)gt=Ge.height-xe.y+2*this._viewportMargin,Xe=Ge.height-gt+this._viewportMargin;else{const Et=Math.min(Ge.bottom-xe.y+Ge.top,xe.y),Wt=this._lastBoundingBoxSize.height;Xe=2*Et,tt=xe.y-Et,Xe>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(tt=xe.y-Wt/2)}if("end"===Ee.overlayX&&!ct||"start"===Ee.overlayX&&ct)We=Ge.width-xe.x+this._viewportMargin,Dt=xe.x-this._viewportMargin;else if("start"===Ee.overlayX&&!ct||"end"===Ee.overlayX&&ct)fe=xe.x,Dt=Ge.right-xe.x;else{const Et=Math.min(Ge.right-xe.x+Ge.left,xe.x),Wt=this._lastBoundingBoxSize.width;Dt=2*Et,fe=xe.x-Et,Dt>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(fe=xe.x-Wt/2)}return{top:tt,left:fe,bottom:gt,right:We,width:Dt,height:Xe}}_setBoundingBoxStyles(xe,Ee){const Ge=this._calculateBoundingBoxRect(xe,Ee);!this._isInitialRender&&!this._growAfterOpen&&(Ge.height=Math.min(Ge.height,this._lastBoundingBoxSize.height),Ge.width=Math.min(Ge.width,this._lastBoundingBoxSize.width));const ct={};if(this._hasExactPosition())ct.top=ct.left="0",ct.bottom=ct.right=ct.maxHeight=ct.maxWidth="",ct.width=ct.height="100%";else{const Xe=this._overlayRef.getConfig().maxHeight,tt=this._overlayRef.getConfig().maxWidth;ct.height=(0,b.HM)(Ge.height),ct.top=(0,b.HM)(Ge.top),ct.bottom=(0,b.HM)(Ge.bottom),ct.width=(0,b.HM)(Ge.width),ct.left=(0,b.HM)(Ge.left),ct.right=(0,b.HM)(Ge.right),ct.alignItems="center"===Ee.overlayX?"center":"end"===Ee.overlayX?"flex-end":"flex-start",ct.justifyContent="center"===Ee.overlayY?"center":"bottom"===Ee.overlayY?"flex-end":"flex-start",Xe&&(ct.maxHeight=(0,b.HM)(Xe)),tt&&(ct.maxWidth=(0,b.HM)(tt))}this._lastBoundingBoxSize=Ge,we(this._boundingBox.style,ct)}_resetBoundingBoxStyles(){we(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){we(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(xe,Ee){const Ge={},ct=this._hasExactPosition(),Xe=this._hasFlexibleDimensions,tt=this._overlayRef.getConfig();if(ct){const Dt=this._viewportRuler.getViewportScrollPosition();we(Ge,this._getExactOverlayY(Ee,xe,Dt)),we(Ge,this._getExactOverlayX(Ee,xe,Dt))}else Ge.position="static";let gt="",Qe=this._getOffset(Ee,"x"),yt=this._getOffset(Ee,"y");Qe&&(gt+=`translateX(${Qe}px) `),yt&&(gt+=`translateY(${yt}px)`),Ge.transform=gt.trim(),tt.maxHeight&&(ct?Ge.maxHeight=(0,b.HM)(tt.maxHeight):Xe&&(Ge.maxHeight="")),tt.maxWidth&&(ct?Ge.maxWidth=(0,b.HM)(tt.maxWidth):Xe&&(Ge.maxWidth="")),we(this._pane.style,Ge)}_getExactOverlayY(xe,Ee,Ge){let ct={top:"",bottom:""},Xe=this._getOverlayPoint(Ee,this._overlayRect,xe);return this._isPushed&&(Xe=this._pushOverlayOnScreen(Xe,this._overlayRect,Ge)),"bottom"===xe.overlayY?ct.bottom=this._document.documentElement.clientHeight-(Xe.y+this._overlayRect.height)+"px":ct.top=(0,b.HM)(Xe.y),ct}_getExactOverlayX(xe,Ee,Ge){let tt,ct={left:"",right:""},Xe=this._getOverlayPoint(Ee,this._overlayRect,xe);return this._isPushed&&(Xe=this._pushOverlayOnScreen(Xe,this._overlayRect,Ge)),tt=this._isRtl()?"end"===xe.overlayX?"left":"right":"end"===xe.overlayX?"right":"left","right"===tt?ct.right=this._document.documentElement.clientWidth-(Xe.x+this._overlayRect.width)+"px":ct.left=(0,b.HM)(Xe.x),ct}_getScrollVisibility(){const xe=this._getOriginRect(),Ee=this._pane.getBoundingClientRect(),Ge=this._scrollables.map(ct=>ct.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(xe,Ge),isOriginOutsideView:y(xe,Ge),isOverlayClipped:B(Ee,Ge),isOverlayOutsideView:y(Ee,Ge)}}_subtractOverflows(xe,...Ee){return Ee.reduce((Ge,ct)=>Ge-Math.max(ct,0),xe)}_getNarrowedViewportRect(){const xe=this._document.documentElement.clientWidth,Ee=this._document.documentElement.clientHeight,Ge=this._viewportRuler.getViewportScrollPosition();return{top:Ge.top+this._viewportMargin,left:Ge.left+this._viewportMargin,right:Ge.left+xe-this._viewportMargin,bottom:Ge.top+Ee-this._viewportMargin,width:xe-2*this._viewportMargin,height:Ee-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(xe,Ee){return"x"===Ee?null==xe.offsetX?this._offsetX:xe.offsetX:null==xe.offsetY?this._offsetY:xe.offsetY}_validatePositions(){}_addPanelClasses(xe){this._pane&&(0,b.Eq)(xe).forEach(Ee=>{""!==Ee&&-1===this._appliedPanelClasses.indexOf(Ee)&&(this._appliedPanelClasses.push(Ee),this._pane.classList.add(Ee))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(xe=>{this._pane.classList.remove(xe)}),this._appliedPanelClasses=[])}_getOriginRect(){const xe=this._origin;if(xe instanceof v.SBq)return xe.nativeElement.getBoundingClientRect();if(xe instanceof Element)return xe.getBoundingClientRect();const Ee=xe.width||0,Ge=xe.height||0;return{top:xe.y,bottom:xe.y+Ge,left:xe.x,right:xe.x+Ee,height:Ge,width:Ee}}}function we(_e,xe){for(let Ee in xe)xe.hasOwnProperty(Ee)&&(_e[Ee]=xe[Ee]);return _e}function Te(_e){if("number"!=typeof _e&&null!=_e){const[xe,Ee]=_e.split(ke);return Ee&&"px"!==Ee?null:parseFloat(xe)}return _e||null}function Oe(_e){return{top:Math.floor(_e.top),right:Math.floor(_e.right),bottom:Math.floor(_e.bottom),left:Math.floor(_e.left),width:Math.floor(_e.width),height:Math.floor(_e.height)}}const Ze="cdk-global-overlay-wrapper";class Re{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(xe){const Ee=xe.getConfig();this._overlayRef=xe,this._width&&!Ee.width&&xe.updateSize({width:this._width}),this._height&&!Ee.height&&xe.updateSize({height:this._height}),xe.hostElement.classList.add(Ze),this._isDisposed=!1}top(xe=""){return this._bottomOffset="",this._topOffset=xe,this._alignItems="flex-start",this}left(xe=""){return this._xOffset=xe,this._xPosition="left",this}bottom(xe=""){return this._topOffset="",this._bottomOffset=xe,this._alignItems="flex-end",this}right(xe=""){return this._xOffset=xe,this._xPosition="right",this}start(xe=""){return this._xOffset=xe,this._xPosition="start",this}end(xe=""){return this._xOffset=xe,this._xPosition="end",this}width(xe=""){return this._overlayRef?this._overlayRef.updateSize({width:xe}):this._width=xe,this}height(xe=""){return this._overlayRef?this._overlayRef.updateSize({height:xe}):this._height=xe,this}centerHorizontally(xe=""){return this.left(xe),this._xPosition="center",this}centerVertically(xe=""){return this.top(xe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const xe=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement.style,Ge=this._overlayRef.getConfig(),{width:ct,height:Xe,maxWidth:tt,maxHeight:gt}=Ge,Qe=!("100%"!==ct&&"100vw"!==ct||tt&&"100%"!==tt&&"100vw"!==tt),yt=!("100%"!==Xe&&"100vh"!==Xe||gt&&"100%"!==gt&&"100vh"!==gt),Dt=this._xPosition,fe=this._xOffset,We="rtl"===this._overlayRef.getConfig().direction;let Et="",Wt="",Qt="";Qe?Qt="flex-start":"center"===Dt?(Qt="center",We?Wt=fe:Et=fe):We?"left"===Dt||"end"===Dt?(Qt="flex-end",Et=fe):("right"===Dt||"start"===Dt)&&(Qt="flex-start",Wt=fe):"left"===Dt||"start"===Dt?(Qt="flex-start",Et=fe):("right"===Dt||"end"===Dt)&&(Qt="flex-end",Wt=fe),xe.position=this._cssPosition,xe.marginLeft=Qe?"0":Et,xe.marginTop=yt?"0":this._topOffset,xe.marginBottom=this._bottomOffset,xe.marginRight=Qe?"0":Wt,Ee.justifyContent=Qt,Ee.alignItems=yt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const xe=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement,Ge=Ee.style;Ee.classList.remove(Ze),Ge.justifyContent=Ge.alignItems=xe.marginTop=xe.marginBottom=xe.marginLeft=xe.marginRight=xe.position="",this._overlayRef=null,this._isDisposed=!0}}let be=(()=>{class _e{constructor(Ee,Ge,ct,Xe){this._viewportRuler=Ee,this._document=Ge,this._platform=ct,this._overlayContainer=Xe}global(){return new Re}flexibleConnectedTo(Ee){return new he(Ee,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(e.rL),v.LFG(t.K0),v.LFG(g.t4),v.LFG(Ce))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Q=0,ie=(()=>{class _e{constructor(Ee,Ge,ct,Xe,tt,gt,Qe,yt,Dt,fe,We,Et){this.scrollStrategies=Ee,this._overlayContainer=Ge,this._componentFactoryResolver=ct,this._positionBuilder=Xe,this._keyboardDispatcher=tt,this._injector=gt,this._ngZone=Qe,this._document=yt,this._directionality=Dt,this._location=fe,this._outsideClickDispatcher=We,this._animationsModuleType=Et}create(Ee){const Ge=this._createHostElement(),ct=this._createPaneElement(Ge),Xe=this._createPortalOutlet(ct),tt=new ae(Ee);return tt.direction=tt.direction||this._directionality.value,new pe(Xe,Ge,ct,tt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ee){const Ge=this._document.createElement("div");return Ge.id="cdk-overlay-"+Q++,Ge.classList.add("cdk-overlay-pane"),Ee.appendChild(Ge),Ge}_createHostElement(){const Ee=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ee),Ee}_createPortalOutlet(Ee){return this._appRef||(this._appRef=this._injector.get(v.z2F)),new _.u0(Ee,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(ne),v.LFG(Ce),v.LFG(v._Vd),v.LFG(be),v.LFG(ge),v.LFG(v.zs3),v.LFG(v.R0b),v.LFG(t.K0),v.LFG(f.Is),v.LFG(t.Ye),v.LFG(Ie),v.LFG(v.QbO,8))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();const ye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],oe=new v.OlP("cdk-connected-overlay-scroll-strategy");let ee=(()=>{class _e{constructor(Ee){this.elementRef=Ee}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.Y36(v.SBq))};static#t=this.\u0275dir=v.lG2({type:_e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return _e})(),X=(()=>{class _e{get offsetX(){return this._offsetX}set offsetX(Ee){this._offsetX=Ee,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ee){this._offsetY=Ee,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ee){this._hasBackdrop=(0,b.Ig)(Ee)}get lockPosition(){return this._lockPosition}set lockPosition(Ee){this._lockPosition=(0,b.Ig)(Ee)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ee){this._flexibleDimensions=(0,b.Ig)(Ee)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ee){this._growAfterOpen=(0,b.Ig)(Ee)}get push(){return this._push}set push(Ee){this._push=(0,b.Ig)(Ee)}constructor(Ee,Ge,ct,Xe,tt){this._overlay=Ee,this._dir=tt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=x.w0.EMPTY,this._attachSubscription=x.w0.EMPTY,this._detachSubscription=x.w0.EMPTY,this._positionSubscription=x.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new v.vpe,this.positionChange=new v.vpe,this.attach=new v.vpe,this.detach=new v.vpe,this.overlayKeydown=new v.vpe,this.overlayOutsideClick=new v.vpe,this._templatePortal=new _.UE(Ge,ct),this._scrollStrategyFactory=Xe,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ee){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ee.origin&&this.open&&this._position.apply()),Ee.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ye);const Ee=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ee.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ee.detachments().subscribe(()=>this.detach.emit()),Ee.keydownEvents().subscribe(Ge=>{this.overlayKeydown.next(Ge),Ge.keyCode===N.hY&&!this.disableClose&&!(0,N.Vb)(Ge)&&(Ge.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ge=>{this.overlayOutsideClick.next(Ge)})}_buildConfig(){const Ee=this._position=this.positionStrategy||this._createPositionStrategy(),Ge=new ae({direction:this._dir,positionStrategy:Ee,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ge.width=this.width),(this.height||0===this.height)&&(Ge.height=this.height),(this.minWidth||0===this.minWidth)&&(Ge.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ge.minHeight=this.minHeight),this.backdropClass&&(Ge.backdropClass=this.backdropClass),this.panelClass&&(Ge.panelClass=this.panelClass),Ge}_updatePositionStrategy(Ee){const Ge=this.positions.map(ct=>({originX:ct.originX,originY:ct.originY,overlayX:ct.overlayX,overlayY:ct.overlayY,offsetX:ct.offsetX||this.offsetX,offsetY:ct.offsetY||this.offsetY,panelClass:ct.panelClass||void 0}));return Ee.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ge).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ee=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ee),Ee}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ee?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ee=>{this.backdropClick.emit(Ee)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function d(_e,xe=!1){return(0,i.e)((Ee,Ge)=>{let ct=0;Ee.subscribe((0,c.x)(Ge,Xe=>{const tt=_e(Xe,ct++);(tt||xe)&&Ge.next(Xe),!tt&&Ge.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Ee=>{this.positionChange.emit(Ee),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.Y36(ie),v.Y36(v.Rgc),v.Y36(v.s_b),v.Y36(oe),v.Y36(f.Is,8))};static#t=this.\u0275dir=v.lG2({type:_e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[v.TTD]})}return _e})();const re={provide:oe,deps:[ie],useFactory:function $(_e){return()=>_e.scrollStrategies.reposition()}};let J=(()=>{class _e{static#e=this.\u0275fac=function(Ge){return new(Ge||_e)};static#t=this.\u0275mod=v.oAB({type:_e});static#n=this.\u0275inj=v.cJS({providers:[ie,re],imports:[f.vT,_.eL,e.Cl,e.Cl]})}return _e})()},2831:(Wn,et,p)=>{"use strict";p.d(et,{Mq:()=>S,Oy:()=>T,ht:()=>C,i$:()=>d,kV:()=>O,qK:()=>m,sA:()=>I,t4:()=>b});var e=p(5879),t=p(6814);let v;try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let P,b=(()=>{class L{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(z){return new(z||L)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();const D=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function m(){if(P)return P;if("object"!=typeof document||!document)return P=new Set(D),P;let L=document.createElement("input");return P=new Set(D.filter(y=>(L.setAttribute("type",y),L.type===y))),P}let i,_,A;function d(L){return function c(){if(null==i&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>i=!0}))}finally{i=i||!1}return i}()?L:!!L.capture}function S(){if(null==_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return _=!1,_;if("scrollBehavior"in document.documentElement.style)_=!0;else{const L=Element.prototype.scrollTo;_=!!L&&!/\{\s*\[native code\]\s*\}/.test(L.toString())}}return _}function O(L){if(function N(){if(null==A){const L=typeof document<"u"?document.head:null;A=!(!L||!L.createShadowRoot&&!L.attachShadow)}return A}()){const y=L.getRootNode?L.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&y instanceof ShadowRoot)return y}return null}function C(){let L=typeof document<"u"&&document?document.activeElement:null;for(;L&&L.shadowRoot;){const y=L.shadowRoot.activeElement;if(y===L)break;L=y}return L}function I(L){return L.composedPath?L.composedPath()[0]:L.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Wn,et,p)=>{"use strict";p.d(et,{C5:()=>c,Pl:()=>C,UE:()=>d,eL:()=>T,en:()=>_,u0:()=>x});var e=p(5879),t=p(6814);class i{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class c extends i{constructor(B,z,ne,ae,Fe){super(),this.component=B,this.viewContainerRef=z,this.injector=ne,this.componentFactoryResolver=ae,this.projectableNodes=Fe}}class d extends i{constructor(B,z,ne,ae){super(),this.templateRef=B,this.viewContainerRef=z,this.context=ne,this.injector=ae}get origin(){return this.templateRef.elementRef}attach(B,z=this.context){return this.context=z,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class f extends i{constructor(B){super(),this.element=B instanceof e.SBq?B.nativeElement:B}}class _{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof c?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof d?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof f?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class x extends _{constructor(B,z,ne,ae,Fe){super(),this.outletElement=B,this._componentFactoryResolver=z,this._appRef=ne,this._defaultInjector=ae,this.attachDomPortal=Y=>{const le=Y.element,G=this._document.createComment("dom-portal");le.parentNode.insertBefore(G,le),this.outletElement.appendChild(le),this._attachedPortal=Y,super.setDisposeFn(()=>{G.parentNode&&G.parentNode.replaceChild(le,G)})},this._document=Fe}attachComponentPortal(B){const ne=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let ae;return B.viewContainerRef?(ae=B.viewContainerRef.createComponent(ne,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>ae.destroy())):(ae=ne.create(B.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=B,ae}attachTemplatePortal(B){let z=B.viewContainerRef,ne=z.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return ne.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),ne.detectChanges(),this.setDisposeFn(()=>{let ae=z.indexOf(ne);-1!==ae&&z.remove(ae)}),this._attachedPortal=B,ne}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let C=(()=>{class y extends _{constructor(z,ne,ae){super(),this._componentFactoryResolver=z,this._viewContainerRef=ne,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=Fe=>{const Y=Fe.element,le=this._document.createComment("dom-portal");Fe.setAttachedHost(this),Y.parentNode.insertBefore(le,Y),this._getRootNode().appendChild(Y),this._attachedPortal=Fe,super.setDisposeFn(()=>{le.parentNode&&le.parentNode.replaceChild(Y,le)})},this._document=ae}get portal(){return this._attachedPortal}set portal(z){this.hasAttached()&&!z&&!this._isInitialized||(this.hasAttached()&&super.detach(),z&&super.attach(z),this._attachedPortal=z||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(z){z.setAttachedHost(this);const ne=null!=z.viewContainerRef?z.viewContainerRef:this._viewContainerRef,Fe=(z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(z.component),Y=ne.createComponent(Fe,ne.length,z.injector||ne.injector,z.projectableNodes||void 0);return ne!==this._viewContainerRef&&this._getRootNode().appendChild(Y.hostView.rootNodes[0]),super.setDisposeFn(()=>Y.destroy()),this._attachedPortal=z,this._attachedRef=Y,this.attached.emit(Y),Y}attachTemplatePortal(z){z.setAttachedHost(this);const ne=this._viewContainerRef.createEmbeddedView(z.templateRef,z.context,{injector:z.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=z,this._attachedRef=ne,this.attached.emit(ne),ne}_getRootNode(){const z=this._viewContainerRef.element.nativeElement;return z.nodeType===z.ELEMENT_NODE?z:z.parentNode}static#e=this.\u0275fac=function(ne){return new(ne||y)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(t.K0))};static#t=this.\u0275dir=e.lG2({type:y,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]})}return y})(),T=(()=>{class y{static#e=this.\u0275fac=function(ne){return new(ne||y)};static#t=this.\u0275mod=e.oAB({type:y});static#n=this.\u0275inj=e.cJS({})}return y})()},799:(Wn,et,p)=>{"use strict";p.d(et,{ZD:()=>_e,mF:()=>Ze,Cl:()=>xe,rL:()=>Q});var e=p(2495),t=p(5879),v=p(8645),b=p(2096),g=p(5592),P=p(2438),D=p(1954),m=p(7394);const i={schedule(Ee){let Ge=requestAnimationFrame,ct=cancelAnimationFrame;const{delegate:Xe}=i;Xe&&(Ge=Xe.requestAnimationFrame,ct=Xe.cancelAnimationFrame);const tt=Ge(gt=>{ct=void 0,Ee(gt)});return new m.w0(()=>ct?.(tt))},requestAnimationFrame(...Ee){const{delegate:Ge}=i;return(Ge?.requestAnimationFrame||requestAnimationFrame)(...Ee)},cancelAnimationFrame(...Ee){const{delegate:Ge}=i;return(Ge?.cancelAnimationFrame||cancelAnimationFrame)(...Ee)},delegate:void 0};var d=p(2631);new class f extends d.v{flush(Ge){this._active=!0;const ct=this._scheduled;this._scheduled=void 0;const{actions:Xe}=this;let tt;Ge=Ge||Xe.shift();do{if(tt=Ge.execute(Ge.state,Ge.delay))break}while((Ge=Xe[0])&&Ge.id===ct&&Xe.shift());if(this._active=!1,tt){for(;(Ge=Xe[0])&&Ge.id===ct&&Xe.shift();)Ge.unsubscribe();throw tt}}}(class c extends D.o{constructor(Ge,ct){super(Ge,ct),this.scheduler=Ge,this.work=ct}requestAsyncId(Ge,ct,Xe=0){return null!==Xe&&Xe>0?super.requestAsyncId(Ge,ct,Xe):(Ge.actions.push(this),Ge._scheduled||(Ge._scheduled=i.requestAnimationFrame(()=>Ge.flush(void 0))))}recycleAsyncId(Ge,ct,Xe=0){var tt;if(null!=Xe?Xe>0:this.delay>0)return super.recycleAsyncId(Ge,ct,Xe);const{actions:gt}=Ge;null!=ct&&(null===(tt=gt[gt.length-1])||void 0===tt?void 0:tt.id)!==ct&&(i.cancelAnimationFrame(ct),Ge._scheduled=void 0)}});let A,x=1;const N={};function O(Ee){return Ee in N&&(delete N[Ee],!0)}const C={setImmediate(Ee){const Ge=x++;return N[Ge]=!0,A||(A=Promise.resolve()),A.then(()=>O(Ge)&&Ee()),Ge},clearImmediate(Ee){O(Ee)}},{setImmediate:T,clearImmediate:L}=C,y={setImmediate(...Ee){const{delegate:Ge}=y;return(Ge?.setImmediate||T)(...Ee)},clearImmediate(Ee){const{delegate:Ge}=y;return(Ge?.clearImmediate||L)(Ee)},delegate:void 0};new class z extends d.v{flush(Ge){this._active=!0;const ct=this._scheduled;this._scheduled=void 0;const{actions:Xe}=this;let tt;Ge=Ge||Xe.shift();do{if(tt=Ge.execute(Ge.state,Ge.delay))break}while((Ge=Xe[0])&&Ge.id===ct&&Xe.shift());if(this._active=!1,tt){for(;(Ge=Xe[0])&&Ge.id===ct&&Xe.shift();)Ge.unsubscribe();throw tt}}}(class B extends D.o{constructor(Ge,ct){super(Ge,ct),this.scheduler=Ge,this.work=ct}requestAsyncId(Ge,ct,Xe=0){return null!==Xe&&Xe>0?super.requestAsyncId(Ge,ct,Xe):(Ge.actions.push(this),Ge._scheduled||(Ge._scheduled=y.setImmediate(Ge.flush.bind(Ge,void 0))))}recycleAsyncId(Ge,ct,Xe=0){var tt;if(null!=Xe?Xe>0:this.delay>0)return super.recycleAsyncId(Ge,ct,Xe);const{actions:gt}=Ge;null!=ct&&(null===(tt=gt[gt.length-1])||void 0===tt?void 0:tt.id)!==ct&&(y.clearImmediate(ct),Ge._scheduled===ct&&(Ge._scheduled=void 0))}});var Fe=p(6321),Y=p(9360),le=p(4829),G=p(8251),ce=p(4825);function ge(Ee,Ge=Fe.z){return function Se(Ee){return(0,Y.e)((Ge,ct)=>{let Xe=!1,tt=null,gt=null,Qe=!1;const yt=()=>{if(gt?.unsubscribe(),gt=null,Xe){Xe=!1;const fe=tt;tt=null,ct.next(fe)}Qe&&ct.complete()},Dt=()=>{gt=null,Qe&&ct.complete()};Ge.subscribe((0,G.x)(ct,fe=>{Xe=!0,tt=fe,gt||(0,le.Xf)(Ee(fe)).subscribe(gt=(0,G.x)(ct,yt,Dt))},()=>{Qe=!0,(!Xe||!gt||gt.closed)&&ct.complete()}))})}(()=>(0,ce.H)(Ee,Ge))}var Ie=p(2181),Ce=p(2831),pe=p(6814),Ae=p(9388);let Ze=(()=>{class Ee{constructor(ct,Xe,tt){this._ngZone=ct,this._platform=Xe,this._scrolled=new v.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=tt}register(ct){this.scrollContainers.has(ct)||this.scrollContainers.set(ct,ct.elementScrolled().subscribe(()=>this._scrolled.next(ct)))}deregister(ct){const Xe=this.scrollContainers.get(ct);Xe&&(Xe.unsubscribe(),this.scrollContainers.delete(ct))}scrolled(ct=20){return this._platform.isBrowser?new g.y(Xe=>{this._globalSubscription||this._addGlobalListener();const tt=ct>0?this._scrolled.pipe(ge(ct)).subscribe(Xe):this._scrolled.subscribe(Xe);return this._scrolledCount++,()=>{tt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,b.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ct,Xe)=>this.deregister(Xe)),this._scrolled.complete()}ancestorScrolled(ct,Xe){const tt=this.getAncestorScrollContainers(ct);return this.scrolled(Xe).pipe((0,Ie.h)(gt=>!gt||tt.indexOf(gt)>-1))}getAncestorScrollContainers(ct){const Xe=[];return this.scrollContainers.forEach((tt,gt)=>{this._scrollableContainsElement(gt,ct)&&Xe.push(gt)}),Xe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ct,Xe){let tt=(0,e.fI)(Xe),gt=ct.getElementRef().nativeElement;do{if(tt==gt)return!0}while(tt=tt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ct=this._getWindow();return(0,P.R)(ct.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)(t.LFG(t.R0b),t.LFG(Ce.t4),t.LFG(pe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),Q=(()=>{class Ee{constructor(ct,Xe,tt){this._platform=ct,this._change=new v.x,this._changeListener=gt=>{this._change.next(gt)},this._document=tt,Xe.runOutsideAngular(()=>{if(ct.isBrowser){const gt=this._getWindow();gt.addEventListener("resize",this._changeListener),gt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ct=this._getWindow();ct.removeEventListener("resize",this._changeListener),ct.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ct={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ct}getViewportRect(){const ct=this.getViewportScrollPosition(),{width:Xe,height:tt}=this.getViewportSize();return{top:ct.top,left:ct.left,bottom:ct.top+tt,right:ct.left+Xe,height:tt,width:Xe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ct=this._document,Xe=this._getWindow(),tt=ct.documentElement,gt=tt.getBoundingClientRect();return{top:-gt.top||ct.body.scrollTop||Xe.scrollY||tt.scrollTop||0,left:-gt.left||ct.body.scrollLeft||Xe.scrollX||tt.scrollLeft||0}}change(ct=20){return ct>0?this._change.pipe(ge(ct)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ct=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ct.innerWidth,height:ct.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)(t.LFG(Ce.t4),t.LFG(t.R0b),t.LFG(pe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),_e=(()=>{class Ee{static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)};static#t=this.\u0275mod=t.oAB({type:Ee});static#n=this.\u0275inj=t.cJS({})}return Ee})(),xe=(()=>{class Ee{static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)};static#t=this.\u0275mod=t.oAB({type:Ee});static#n=this.\u0275inj=t.cJS({imports:[Ae.vT,_e,Ae.vT,_e]})}return Ee})()},6814:(Wn,et,p)=>{"use strict";p.d(et,{Do:()=>A,ED:()=>Zr,EM:()=>Vs,HT:()=>b,JF:()=>Wr,K0:()=>P,Mn:()=>Se,Mx:()=>kt,NF:()=>os,O5:()=>Ft,Ov:()=>rs,PM:()=>ss,RF:()=>vi,S$:()=>_,Tn:()=>ne,UT:()=>ce,V_:()=>m,Ye:()=>N,ax:()=>Ut,b0:()=>x,bD:()=>ko,ez:()=>Lo,mk:()=>en,mr:()=>S,n9:()=>vr,p6:()=>Ge,q:()=>v,sg:()=>Ut,tP:()=>Co,uU:()=>Pr,w_:()=>g,x:()=>z});var e=p(5879);let t=null;function v(){return t}function b($e){t||(t=$e)}class g{}const P=new e.OlP("DocumentToken");let D=(()=>{class $e{historyGo(mt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275prov=e.Yz7({token:$e,factory:function(){return(0,e.f3M)(i)},providedIn:"platform"})}return $e})();const m=new e.OlP("Location Initialized");let i=(()=>{class $e extends D{constructor(){super(),this._doc=(0,e.f3M)(P),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(mt){const Vt=v().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("popstate",mt,!1),()=>Vt.removeEventListener("popstate",mt)}onHashChange(mt){const Vt=v().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("hashchange",mt,!1),()=>Vt.removeEventListener("hashchange",mt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(mt){this._location.pathname=mt}pushState(mt,Vt,Sn){this._history.pushState(mt,Vt,Sn)}replaceState(mt,Vt,Sn){this._history.replaceState(mt,Vt,Sn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(mt=0){this._history.go(mt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275prov=e.Yz7({token:$e,factory:function(){return new $e},providedIn:"platform"})}return $e})();function c($e,Yt){if(0==$e.length)return Yt;if(0==Yt.length)return $e;let mt=0;return $e.endsWith("/")&&mt++,Yt.startsWith("/")&&mt++,2==mt?$e+Yt.substring(1):1==mt?$e+Yt:$e+"/"+Yt}function d($e){const Yt=$e.match(/#|\?|$/),mt=Yt&&Yt.index||$e.length;return $e.slice(0,mt-("/"===$e[mt-1]?1:0))+$e.slice(mt)}function f($e){return $e&&"?"!==$e[0]?"?"+$e:$e}let _=(()=>{class $e{historyGo(mt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275prov=e.Yz7({token:$e,factory:function(){return(0,e.f3M)(x)},providedIn:"root"})}return $e})();const S=new e.OlP("appBaseHref");let x=(()=>{class $e extends _{constructor(mt,Vt){super(),this._platformLocation=mt,this._removeListenerFns=[],this._baseHref=Vt??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(P).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}prepareExternalUrl(mt){return c(this._baseHref,mt)}path(mt=!1){const Vt=this._platformLocation.pathname+f(this._platformLocation.search),Sn=this._platformLocation.hash;return Sn&&mt?`${Vt}${Sn}`:Vt}pushState(mt,Vt,Sn,Zn){const ai=this.prepareExternalUrl(Sn+f(Zn));this._platformLocation.pushState(mt,Vt,ai)}replaceState(mt,Vt,Sn,Zn){const ai=this.prepareExternalUrl(Sn+f(Zn));this._platformLocation.replaceState(mt,Vt,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.LFG(D),e.LFG(S,8))};static#t=this.\u0275prov=e.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),A=(()=>{class $e extends _{constructor(mt,Vt){super(),this._platformLocation=mt,this._baseHref="",this._removeListenerFns=[],null!=Vt&&(this._baseHref=Vt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}path(mt=!1){let Vt=this._platformLocation.hash;return null==Vt&&(Vt="#"),Vt.length>0?Vt.substring(1):Vt}prepareExternalUrl(mt){const Vt=c(this._baseHref,mt);return Vt.length>0?"#"+Vt:Vt}pushState(mt,Vt,Sn,Zn){let ai=this.prepareExternalUrl(Sn+f(Zn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.pushState(mt,Vt,ai)}replaceState(mt,Vt,Sn,Zn){let ai=this.prepareExternalUrl(Sn+f(Zn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.replaceState(mt,Vt,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.LFG(D),e.LFG(S,8))};static#t=this.\u0275prov=e.Yz7({token:$e,factory:$e.\u0275fac})}return $e})(),N=(()=>{class $e{constructor(mt){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=mt;const Vt=this._locationStrategy.getBaseHref();this._basePath=function T($e){if(new RegExp("^(https?:)?//").test($e)){const[,mt]=$e.split(/\/\/[^\/]+/);return mt}return $e}(d(I(Vt))),this._locationStrategy.onPopState(Sn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Sn.state,type:Sn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(mt=!1){return this.normalize(this._locationStrategy.path(mt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(mt,Vt=""){return this.path()==this.normalize(mt+f(Vt))}normalize(mt){return $e.stripTrailingSlash(function C($e,Yt){if(!$e||!Yt.startsWith($e))return Yt;const mt=Yt.substring($e.length);return""===mt||["/",";","?","#"].includes(mt[0])?mt:Yt}(this._basePath,I(mt)))}prepareExternalUrl(mt){return mt&&"/"!==mt[0]&&(mt="/"+mt),this._locationStrategy.prepareExternalUrl(mt)}go(mt,Vt="",Sn=null){this._locationStrategy.pushState(Sn,"",mt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+f(Vt)),Sn)}replaceState(mt,Vt="",Sn=null){this._locationStrategy.replaceState(Sn,"",mt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+f(Vt)),Sn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(mt=0){this._locationStrategy.historyGo?.(mt)}onUrlChange(mt){return this._urlChangeListeners.push(mt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Vt=>{this._notifyUrlChangeListeners(Vt.url,Vt.state)})),()=>{const Vt=this._urlChangeListeners.indexOf(mt);this._urlChangeListeners.splice(Vt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(mt="",Vt){this._urlChangeListeners.forEach(Sn=>Sn(mt,Vt))}subscribe(mt,Vt,Sn){return this._subject.subscribe({next:mt,error:Vt,complete:Sn})}static#e=this.normalizeQueryParams=f;static#t=this.joinWithSlash=c;static#n=this.stripTrailingSlash=d;static#i=this.\u0275fac=function(Vt){return new(Vt||$e)(e.LFG(_))};static#r=this.\u0275prov=e.Yz7({token:$e,factory:function(){return function O(){return new N((0,e.LFG)(_))}()},providedIn:"root"})}return $e})();function I($e){return $e.replace(/\/index.html$/,"")}var z=function($e){return $e[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e}(z||{}),ne=function($e){return $e[$e.Narrow=0]="Narrow",$e[$e.Abbreviated=1]="Abbreviated",$e[$e.Wide=2]="Wide",$e[$e.Short=3]="Short",$e}(ne||{}),ae=function($e){return $e[$e.Short=0]="Short",$e[$e.Medium=1]="Medium",$e[$e.Long=2]="Long",$e[$e.Full=3]="Full",$e}(ae||{}),Fe=function($e){return $e[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e}(Fe||{});function Se($e,Yt,mt){const Vt=(0,e.cg1)($e),Zn=ye([Vt[e.wAp.DaysFormat],Vt[e.wAp.DaysStandalone]],Yt);return ye(Zn,mt)}function ce($e,Yt,mt){const Vt=(0,e.cg1)($e),Zn=ye([Vt[e.wAp.MonthsFormat],Vt[e.wAp.MonthsStandalone]],Yt);return ye(Zn,mt)}function pe($e,Yt){return ye((0,e.cg1)($e)[e.wAp.DateFormat],Yt)}function Ae($e,Yt){return ye((0,e.cg1)($e)[e.wAp.TimeFormat],Yt)}function ke($e,Yt){return ye((0,e.cg1)($e)[e.wAp.DateTimeFormat],Yt)}function he($e,Yt){const mt=(0,e.cg1)($e),Vt=mt[e.wAp.NumberSymbols][Yt];if(typeof Vt>"u"){if(Yt===Fe.CurrencyDecimal)return mt[e.wAp.NumberSymbols][Fe.Decimal];if(Yt===Fe.CurrencyGroup)return mt[e.wAp.NumberSymbols][Fe.Group]}return Vt}function Re($e){if(!$e[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${$e[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ye($e,Yt){for(let mt=Yt;mt>-1;mt--)if(typeof $e[mt]<"u")return $e[mt];throw new Error("Locale data API: locale data undefined")}function oe($e){const[Yt,mt]=$e.split(":");return{hours:+Yt,minutes:+mt}}const re=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,J={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _e=function($e){return $e[$e.Short=0]="Short",$e[$e.ShortGMT=1]="ShortGMT",$e[$e.Long=2]="Long",$e[$e.Extended=3]="Extended",$e}(_e||{}),xe=function($e){return $e[$e.FullYear=0]="FullYear",$e[$e.Month=1]="Month",$e[$e.Date=2]="Date",$e[$e.Hours=3]="Hours",$e[$e.Minutes=4]="Minutes",$e[$e.Seconds=5]="Seconds",$e[$e.FractionalSeconds=6]="FractionalSeconds",$e[$e.Day=7]="Day",$e}(xe||{}),Ee=function($e){return $e[$e.DayPeriods=0]="DayPeriods",$e[$e.Days=1]="Days",$e[$e.Months=2]="Months",$e[$e.Eras=3]="Eras",$e}(Ee||{});function Ge($e,Yt,mt,Vt){let Sn=function at($e){if(bt($e))return $e;if("number"==typeof $e&&!isNaN($e))return new Date($e);if("string"==typeof $e){if($e=$e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($e)){const[Sn,Zn=1,ai=1]=$e.split("-").map(Bi=>+Bi);return ct(Sn,Zn-1,ai)}const mt=parseFloat($e);if(!isNaN($e-mt))return new Date(mt);let Vt;if(Vt=$e.match(re))return function St($e){const Yt=new Date(0);let mt=0,Vt=0;const Sn=$e[8]?Yt.setUTCFullYear:Yt.setFullYear,Zn=$e[8]?Yt.setUTCHours:Yt.setHours;$e[9]&&(mt=Number($e[9]+$e[10]),Vt=Number($e[9]+$e[11])),Sn.call(Yt,Number($e[1]),Number($e[2])-1,Number($e[3]));const ai=Number($e[4]||0)-mt,Bi=Number($e[5]||0)-Vt,Rr=Number($e[6]||0),gr=Math.floor(1e3*parseFloat("0."+($e[7]||0)));return Zn.call(Yt,ai,Bi,Rr,gr),Yt}(Vt)}const Yt=new Date($e);if(!bt(Yt))throw new Error(`Unable to convert "${$e}" into a date`);return Yt}($e);Yt=Xe(mt,Yt)||Yt;let Bi,ai=[];for(;Yt;){if(Bi=q.exec(Yt),!Bi){ai.push(Yt);break}{ai=ai.concat(Bi.slice(1));const ur=ai.pop();if(!ur)break;Yt=ur}}let Rr=Sn.getTimezoneOffset();Vt&&(Rr=He(Vt,Rr),Sn=function st($e,Yt,mt){const Vt=mt?-1:1,Sn=$e.getTimezoneOffset();return function ze($e,Yt){return($e=new Date($e.getTime())).setMinutes($e.getMinutes()+Yt),$e}($e,Vt*(He(Yt,Sn)-Sn))}(Sn,Vt,!0));let gr="";return ai.forEach(ur=>{const nr=function it($e){if(vt[$e])return vt[$e];let Yt;switch($e){case"G":case"GG":case"GGG":Yt=fe(Ee.Eras,ne.Abbreviated);break;case"GGGG":Yt=fe(Ee.Eras,ne.Wide);break;case"GGGGG":Yt=fe(Ee.Eras,ne.Narrow);break;case"y":Yt=yt(xe.FullYear,1,0,!1,!0);break;case"yy":Yt=yt(xe.FullYear,2,0,!0,!0);break;case"yyy":Yt=yt(xe.FullYear,3,0,!1,!0);break;case"yyyy":Yt=yt(xe.FullYear,4,0,!1,!0);break;case"Y":Yt=wt(1);break;case"YY":Yt=wt(2,!0);break;case"YYY":Yt=wt(3);break;case"YYYY":Yt=wt(4);break;case"M":case"L":Yt=yt(xe.Month,1,1);break;case"MM":case"LL":Yt=yt(xe.Month,2,1);break;case"MMM":Yt=fe(Ee.Months,ne.Abbreviated);break;case"MMMM":Yt=fe(Ee.Months,ne.Wide);break;case"MMMMM":Yt=fe(Ee.Months,ne.Narrow);break;case"LLL":Yt=fe(Ee.Months,ne.Abbreviated,z.Standalone);break;case"LLLL":Yt=fe(Ee.Months,ne.Wide,z.Standalone);break;case"LLLLL":Yt=fe(Ee.Months,ne.Narrow,z.Standalone);break;case"w":Yt=fn(1);break;case"ww":Yt=fn(2);break;case"W":Yt=fn(1,!0);break;case"d":Yt=yt(xe.Date,1);break;case"dd":Yt=yt(xe.Date,2);break;case"c":case"cc":Yt=yt(xe.Day,1);break;case"ccc":Yt=fe(Ee.Days,ne.Abbreviated,z.Standalone);break;case"cccc":Yt=fe(Ee.Days,ne.Wide,z.Standalone);break;case"ccccc":Yt=fe(Ee.Days,ne.Narrow,z.Standalone);break;case"cccccc":Yt=fe(Ee.Days,ne.Short,z.Standalone);break;case"E":case"EE":case"EEE":Yt=fe(Ee.Days,ne.Abbreviated);break;case"EEEE":Yt=fe(Ee.Days,ne.Wide);break;case"EEEEE":Yt=fe(Ee.Days,ne.Narrow);break;case"EEEEEE":Yt=fe(Ee.Days,ne.Short);break;case"a":case"aa":case"aaa":Yt=fe(Ee.DayPeriods,ne.Abbreviated);break;case"aaaa":Yt=fe(Ee.DayPeriods,ne.Wide);break;case"aaaaa":Yt=fe(Ee.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":Yt=fe(Ee.DayPeriods,ne.Abbreviated,z.Standalone,!0);break;case"bbbb":Yt=fe(Ee.DayPeriods,ne.Wide,z.Standalone,!0);break;case"bbbbb":Yt=fe(Ee.DayPeriods,ne.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":Yt=fe(Ee.DayPeriods,ne.Abbreviated,z.Format,!0);break;case"BBBB":Yt=fe(Ee.DayPeriods,ne.Wide,z.Format,!0);break;case"BBBBB":Yt=fe(Ee.DayPeriods,ne.Narrow,z.Format,!0);break;case"h":Yt=yt(xe.Hours,1,-12);break;case"hh":Yt=yt(xe.Hours,2,-12);break;case"H":Yt=yt(xe.Hours,1);break;case"HH":Yt=yt(xe.Hours,2);break;case"m":Yt=yt(xe.Minutes,1);break;case"mm":Yt=yt(xe.Minutes,2);break;case"s":Yt=yt(xe.Seconds,1);break;case"ss":Yt=yt(xe.Seconds,2);break;case"S":Yt=yt(xe.FractionalSeconds,1);break;case"SS":Yt=yt(xe.FractionalSeconds,2);break;case"SSS":Yt=yt(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Yt=Et(_e.Short);break;case"ZZZZZ":Yt=Et(_e.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Yt=Et(_e.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Yt=Et(_e.Long);break;default:return null}return vt[$e]=Yt,Yt}(ur);gr+=nr?nr(Sn,mt,Rr):"''"===ur?"'":ur.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),gr}function ct($e,Yt,mt){const Vt=new Date(0);return Vt.setFullYear($e,Yt,mt),Vt.setHours(0,0,0),Vt}function Xe($e,Yt){const mt=function le($e){return(0,e.cg1)($e)[e.wAp.LocaleId]}($e);if(J[mt]=J[mt]||{},J[mt][Yt])return J[mt][Yt];let Vt="";switch(Yt){case"shortDate":Vt=pe($e,ae.Short);break;case"mediumDate":Vt=pe($e,ae.Medium);break;case"longDate":Vt=pe($e,ae.Long);break;case"fullDate":Vt=pe($e,ae.Full);break;case"shortTime":Vt=Ae($e,ae.Short);break;case"mediumTime":Vt=Ae($e,ae.Medium);break;case"longTime":Vt=Ae($e,ae.Long);break;case"fullTime":Vt=Ae($e,ae.Full);break;case"short":const Sn=Xe($e,"shortTime"),Zn=Xe($e,"shortDate");Vt=tt(ke($e,ae.Short),[Sn,Zn]);break;case"medium":const ai=Xe($e,"mediumTime"),Bi=Xe($e,"mediumDate");Vt=tt(ke($e,ae.Medium),[ai,Bi]);break;case"long":const Rr=Xe($e,"longTime"),gr=Xe($e,"longDate");Vt=tt(ke($e,ae.Long),[Rr,gr]);break;case"full":const ur=Xe($e,"fullTime"),nr=Xe($e,"fullDate");Vt=tt(ke($e,ae.Full),[ur,nr])}return Vt&&(J[mt][Yt]=Vt),Vt}function tt($e,Yt){return Yt&&($e=$e.replace(/\{([^}]+)}/g,function(mt,Vt){return null!=Yt&&Vt in Yt?Yt[Vt]:mt})),$e}function gt($e,Yt,mt="-",Vt,Sn){let Zn="";($e<0||Sn&&$e<=0)&&(Sn?$e=1-$e:($e=-$e,Zn=mt));let ai=String($e);for(;ai.length<Yt;)ai="0"+ai;return Vt&&(ai=ai.slice(ai.length-Yt)),Zn+ai}function yt($e,Yt,mt=0,Vt=!1,Sn=!1){return function(Zn,ai){let Bi=function Dt($e,Yt){switch($e){case xe.FullYear:return Yt.getFullYear();case xe.Month:return Yt.getMonth();case xe.Date:return Yt.getDate();case xe.Hours:return Yt.getHours();case xe.Minutes:return Yt.getMinutes();case xe.Seconds:return Yt.getSeconds();case xe.FractionalSeconds:return Yt.getMilliseconds();case xe.Day:return Yt.getDay();default:throw new Error(`Unknown DateType value "${$e}".`)}}($e,Zn);if((mt>0||Bi>-mt)&&(Bi+=mt),$e===xe.Hours)0===Bi&&-12===mt&&(Bi=12);else if($e===xe.FractionalSeconds)return function Qe($e,Yt){return gt($e,3).substring(0,Yt)}(Bi,Yt);const Rr=he(ai,Fe.MinusSign);return gt(Bi,Yt,Rr,Vt,Sn)}}function fe($e,Yt,mt=z.Format,Vt=!1){return function(Sn,Zn){return function We($e,Yt,mt,Vt,Sn,Zn){switch(mt){case Ee.Months:return ce(Yt,Sn,Vt)[$e.getMonth()];case Ee.Days:return Se(Yt,Sn,Vt)[$e.getDay()];case Ee.DayPeriods:const ai=$e.getHours(),Bi=$e.getMinutes();if(Zn){const gr=function be($e){const Yt=(0,e.cg1)($e);return Re(Yt),(Yt[e.wAp.ExtraData][2]||[]).map(Vt=>"string"==typeof Vt?oe(Vt):[oe(Vt[0]),oe(Vt[1])])}(Yt),ur=function Q($e,Yt,mt){const Vt=(0,e.cg1)($e);Re(Vt);const Zn=ye([Vt[e.wAp.ExtraData][0],Vt[e.wAp.ExtraData][1]],Yt)||[];return ye(Zn,mt)||[]}(Yt,Sn,Vt),nr=gr.findIndex(uo=>{if(Array.isArray(uo)){const[Nr,_r]=uo,ns=ai>=Nr.hours&&Bi>=Nr.minutes,Vi=ai<_r.hours||ai===_r.hours&&Bi<_r.minutes;if(Nr.hours<_r.hours){if(ns&&Vi)return!0}else if(ns||Vi)return!0}else if(uo.hours===ai&&uo.minutes===Bi)return!0;return!1});if(-1!==nr)return ur[nr]}return function G($e,Yt,mt){const Vt=(0,e.cg1)($e),Zn=ye([Vt[e.wAp.DayPeriodsFormat],Vt[e.wAp.DayPeriodsStandalone]],Yt);return ye(Zn,mt)}(Yt,Sn,Vt)[ai<12?0:1];case Ee.Eras:return function ge($e,Yt){return ye((0,e.cg1)($e)[e.wAp.Eras],Yt)}(Yt,Vt)[$e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${mt}`)}}(Sn,Zn,$e,Yt,mt,Vt)}}function Et($e){return function(Yt,mt,Vt){const Sn=-1*Vt,Zn=he(mt,Fe.MinusSign),ai=Sn>0?Math.floor(Sn/60):Math.ceil(Sn/60);switch($e){case _e.Short:return(Sn>=0?"+":"")+gt(ai,2,Zn)+gt(Math.abs(Sn%60),2,Zn);case _e.ShortGMT:return"GMT"+(Sn>=0?"+":"")+gt(ai,1,Zn);case _e.Long:return"GMT"+(Sn>=0?"+":"")+gt(ai,2,Zn)+":"+gt(Math.abs(Sn%60),2,Zn);case _e.Extended:return 0===Vt?"Z":(Sn>=0?"+":"")+gt(ai,2,Zn)+":"+gt(Math.abs(Sn%60),2,Zn);default:throw new Error(`Unknown zone width "${$e}"`)}}}const Wt=0,Qt=4;function un($e){return ct($e.getFullYear(),$e.getMonth(),$e.getDate()+(Qt-$e.getDay()))}function fn($e,Yt=!1){return function(mt,Vt){let Sn;if(Yt){const Zn=new Date(mt.getFullYear(),mt.getMonth(),1).getDay()-1,ai=mt.getDate();Sn=1+Math.floor((ai+Zn)/7)}else{const Zn=un(mt),ai=function qt($e){const Yt=ct($e,Wt,1).getDay();return ct($e,0,1+(Yt<=Qt?Qt:Qt+7)-Yt)}(Zn.getFullYear()),Bi=Zn.getTime()-ai.getTime();Sn=1+Math.round(Bi/6048e5)}return gt(Sn,$e,he(Vt,Fe.MinusSign))}}function wt($e,Yt=!1){return function(mt,Vt){return gt(un(mt).getFullYear(),$e,he(Vt,Fe.MinusSign),Yt)}}const vt={};function He($e,Yt){$e=$e.replace(/:/g,"");const mt=Date.parse("Jan 01, 1970 00:00:00 "+$e)/6e4;return isNaN(mt)?Yt:mt}function bt($e){return $e instanceof Date&&!isNaN($e.valueOf())}function kt($e,Yt){Yt=encodeURIComponent(Yt);for(const mt of $e.split(";")){const Vt=mt.indexOf("="),[Sn,Zn]=-1==Vt?[mt,""]:[mt.slice(0,Vt),mt.slice(Vt+1)];if(Sn.trim()===Yt)return decodeURIComponent(Zn)}return null}const It=/\s+/,Nt=[];let en=(()=>{class $e{constructor(mt,Vt,Sn,Zn){this._iterableDiffers=mt,this._keyValueDiffers=Vt,this._ngEl=Sn,this._renderer=Zn,this.initialClasses=Nt,this.stateMap=new Map}set klass(mt){this.initialClasses=null!=mt?mt.trim().split(It):Nt}set ngClass(mt){this.rawClass="string"==typeof mt?mt.trim().split(It):mt}ngDoCheck(){for(const Vt of this.initialClasses)this._updateState(Vt,!0);const mt=this.rawClass;if(Array.isArray(mt)||mt instanceof Set)for(const Vt of mt)this._updateState(Vt,!0);else if(null!=mt)for(const Vt of Object.keys(mt))this._updateState(Vt,!!mt[Vt]);this._applyStateDiff()}_updateState(mt,Vt){const Sn=this.stateMap.get(mt);void 0!==Sn?(Sn.enabled!==Vt&&(Sn.changed=!0,Sn.enabled=Vt),Sn.touched=!0):this.stateMap.set(mt,{enabled:Vt,changed:!0,touched:!0})}_applyStateDiff(){for(const mt of this.stateMap){const Vt=mt[0],Sn=mt[1];Sn.changed?(this._toggleClass(Vt,Sn.enabled),Sn.changed=!1):Sn.touched||(Sn.enabled&&this._toggleClass(Vt,!1),this.stateMap.delete(Vt)),Sn.touched=!1}}_toggleClass(mt,Vt){(mt=mt.trim()).length>0&&mt.split(It).forEach(Sn=>{Vt?this._renderer.addClass(this._ngEl.nativeElement,Sn):this._renderer.removeClass(this._ngEl.nativeElement,Sn)})}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return $e})();class Xn{constructor(Yt,mt,Vt,Sn){this.$implicit=Yt,this.ngForOf=mt,this.index=Vt,this.count=Sn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ut=(()=>{class $e{set ngForOf(mt){this._ngForOf=mt,this._ngForOfDirty=!0}set ngForTrackBy(mt){this._trackByFn=mt}get ngForTrackBy(){return this._trackByFn}constructor(mt,Vt,Sn){this._viewContainer=mt,this._template=Vt,this._differs=Sn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(mt){mt&&(this._template=mt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const mt=this._ngForOf;!this._differ&&mt&&(this._differ=this._differs.find(mt).create(this.ngForTrackBy))}if(this._differ){const mt=this._differ.diff(this._ngForOf);mt&&this._applyChanges(mt)}}_applyChanges(mt){const Vt=this._viewContainer;mt.forEachOperation((Sn,Zn,ai)=>{if(null==Sn.previousIndex)Vt.createEmbeddedView(this._template,new Xn(Sn.item,this._ngForOf,-1,-1),null===ai?void 0:ai);else if(null==ai)Vt.remove(null===Zn?void 0:Zn);else if(null!==Zn){const Bi=Vt.get(Zn);Vt.move(Bi,ai),On(Bi,Sn)}});for(let Sn=0,Zn=Vt.length;Sn<Zn;Sn++){const Bi=Vt.get(Sn).context;Bi.index=Sn,Bi.count=Zn,Bi.ngForOf=this._ngForOf}mt.forEachIdentityChange(Sn=>{On(Vt.get(Sn.currentIndex),Sn)})}static ngTemplateContextGuard(mt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return $e})();function On($e,Yt){$e.context.$implicit=Yt.item}let Ft=(()=>{class $e{constructor(mt,Vt){this._viewContainer=mt,this._context=new Pt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Vt}set ngIf(mt){this._context.$implicit=this._context.ngIf=mt,this._updateView()}set ngIfThen(mt){ln("ngIfThen",mt),this._thenTemplateRef=mt,this._thenViewRef=null,this._updateView()}set ngIfElse(mt){ln("ngIfElse",mt),this._elseTemplateRef=mt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(mt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return $e})();class Pt{constructor(){this.$implicit=null,this.ngIf=null}}function ln($e,Yt){if(Yt&&!Yt.createEmbeddedView)throw new Error(`${$e} must be a TemplateRef, but received '${(0,e.AaK)(Yt)}'.`)}class Fn{constructor(Yt,mt){this._viewContainerRef=Yt,this._templateRef=mt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Yt){Yt&&!this._created?this.create():!Yt&&this._created&&this.destroy()}}let vi=(()=>{class $e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(mt){this._ngSwitch=mt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(mt){this._defaultViews.push(mt)}_matchCase(mt){const Vt=mt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Vt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Vt}_updateDefaultCases(mt){if(this._defaultViews.length>0&&mt!==this._defaultUsed){this._defaultUsed=mt;for(const Vt of this._defaultViews)Vt.enforceState(mt)}}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return $e})(),vr=(()=>{class $e{constructor(mt,Vt,Sn){this.ngSwitch=Sn,Sn._addCase(),this._view=new Fn(mt,Vt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(vi,9))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return $e})(),Zr=(()=>{class $e{constructor(mt,Vt,Sn){Sn._addDefault(new Fn(mt,Vt))}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(vi,9))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return $e})(),Co=(()=>{class $e{constructor(mt){this._viewContainerRef=mt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(mt){if(mt.ngTemplateOutlet||mt.ngTemplateOutletInjector){const Vt=this._viewContainerRef;if(this._viewRef&&Vt.remove(Vt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Sn,ngTemplateOutletContext:Zn,ngTemplateOutletInjector:ai}=this;this._viewRef=Vt.createEmbeddedView(Sn,Zn,ai?{injector:ai}:void 0)}else this._viewRef=null}else this._viewRef&&mt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}return $e})();function zi($e,Yt){return new e.vHH(2100,!1)}class jr{createSubscription(Yt,mt){return(0,e.rg0)(()=>Yt.subscribe({next:mt,error:Vt=>{throw Vt}}))}dispose(Yt){(0,e.rg0)(()=>Yt.unsubscribe())}}class ir{createSubscription(Yt,mt){return Yt.then(mt,Vt=>{throw Vt})}dispose(Yt){}}const ao=new ir,Vr=new jr;let rs=(()=>{class $e{constructor(mt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=mt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(mt){return this._obj?mt!==this._obj?(this._dispose(),this.transform(mt)):this._latestValue:(mt&&this._subscribe(mt),this._latestValue)}_subscribe(mt){this._obj=mt,this._strategy=this._selectStrategy(mt),this._subscription=this._strategy.createSubscription(mt,Vt=>this._updateLatestValue(mt,Vt))}_selectStrategy(mt){if((0,e.QGY)(mt))return ao;if((0,e.F4k)(mt))return Vr;throw zi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(mt,Vt){mt===this._obj&&(this._latestValue=Vt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.sBO,16))};static#t=this.\u0275pipe=e.Yjl({name:"async",type:$e,pure:!1,standalone:!0})}return $e})();const yi=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),$i=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Pr=(()=>{class $e{constructor(mt,Vt,Sn){this.locale=mt,this.defaultTimezone=Vt,this.defaultOptions=Sn}transform(mt,Vt,Sn,Zn){if(null==mt||""===mt||mt!=mt)return null;try{return Ge(mt,Vt??this.defaultOptions?.dateFormat??"mediumDate",Zn||this.locale,Sn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ai){throw zi()}}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.soG,16),e.Y36(yi,24),e.Y36($i,24))};static#t=this.\u0275pipe=e.Yjl({name:"date",type:$e,pure:!0,standalone:!0})}return $e})(),Lo=(()=>{class $e{static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275mod=e.oAB({type:$e});static#n=this.\u0275inj=e.cJS({})}return $e})();const ko="browser",js="server";function os($e){return $e===ko}function ss($e){return $e===js}let Vs=(()=>{class $e{static#e=this.\u0275prov=(0,e.Yz7)({token:$e,providedIn:"root",factory:()=>new co((0,e.LFG)(P),window)})}return $e})();class co{constructor(Yt,mt){this.document=Yt,this.window=mt,this.offset=()=>[0,0]}setOffset(Yt){this.offset=Array.isArray(Yt)?()=>Yt:Yt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Yt){this.supportsScrolling()&&this.window.scrollTo(Yt[0],Yt[1])}scrollToAnchor(Yt){if(!this.supportsScrolling())return;const mt=function xs($e,Yt){const mt=$e.getElementById(Yt)||$e.getElementsByName(Yt)[0];if(mt)return mt;if("function"==typeof $e.createTreeWalker&&$e.body&&"function"==typeof $e.body.attachShadow){const Vt=$e.createTreeWalker($e.body,NodeFilter.SHOW_ELEMENT);let Sn=Vt.currentNode;for(;Sn;){const Zn=Sn.shadowRoot;if(Zn){const ai=Zn.getElementById(Yt)||Zn.querySelector(`[name="${Yt}"]`);if(ai)return ai}Sn=Vt.nextNode()}}return null}(this.document,Yt);mt&&(this.scrollToElement(mt),mt.focus())}setHistoryScrollRestoration(Yt){if(this.supportScrollRestoration()){const mt=this.window.history;mt&&mt.scrollRestoration&&(mt.scrollRestoration=Yt)}}scrollToElement(Yt){const mt=Yt.getBoundingClientRect(),Vt=mt.left+this.window.pageXOffset,Sn=mt.top+this.window.pageYOffset,Zn=this.offset();this.window.scrollTo(Vt-Zn[0],Sn-Zn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Yt=as(this.window.history)||as(Object.getPrototypeOf(this.window.history));return!(!Yt||!Yt.writable&&!Yt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function as($e){return Object.getOwnPropertyDescriptor($e,"scrollRestoration")}class Wr{}},9862:(Wn,et,p)=>{"use strict";p.d(et,{JF:()=>xt,WM:()=>_,eN:()=>Ce});var e=p(5879),t=p(2096),v=p(2459),b=p(5592),g=p(6328),P=p(2181),D=p(7398),m=p(4716),i=p(4664),c=p(6814);class d{}class f{}class _{constructor(pn){this.normalizedNames=new Map,this.lazyUpdate=null,pn?"string"==typeof pn?this.lazyInit=()=>{this.headers=new Map,pn.split("\n").forEach(yn=>{const mn=yn.indexOf(":");if(mn>0){const _n=yn.slice(0,mn),At=_n.toLowerCase(),ht=yn.slice(mn+1).trim();this.maybeSetNormalizedName(_n,At),this.headers.has(At)?this.headers.get(At).push(ht):this.headers.set(At,[ht])}})}:typeof Headers<"u"&&pn instanceof Headers?(this.headers=new Map,pn.forEach((yn,mn)=>{this.setHeaderEntries(mn,yn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(pn).forEach(([yn,mn])=>{this.setHeaderEntries(yn,mn)})}:this.headers=new Map}has(pn){return this.init(),this.headers.has(pn.toLowerCase())}get(pn){this.init();const yn=this.headers.get(pn.toLowerCase());return yn&&yn.length>0?yn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pn){return this.init(),this.headers.get(pn.toLowerCase())||null}append(pn,yn){return this.clone({name:pn,value:yn,op:"a"})}set(pn,yn){return this.clone({name:pn,value:yn,op:"s"})}delete(pn,yn){return this.clone({name:pn,value:yn,op:"d"})}maybeSetNormalizedName(pn,yn){this.normalizedNames.has(yn)||this.normalizedNames.set(yn,pn)}init(){this.lazyInit&&(this.lazyInit instanceof _?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pn=>this.applyUpdate(pn)),this.lazyUpdate=null))}copyFrom(pn){pn.init(),Array.from(pn.headers.keys()).forEach(yn=>{this.headers.set(yn,pn.headers.get(yn)),this.normalizedNames.set(yn,pn.normalizedNames.get(yn))})}clone(pn){const yn=new _;return yn.lazyInit=this.lazyInit&&this.lazyInit instanceof _?this.lazyInit:this,yn.lazyUpdate=(this.lazyUpdate||[]).concat([pn]),yn}applyUpdate(pn){const yn=pn.name.toLowerCase();switch(pn.op){case"a":case"s":let mn=pn.value;if("string"==typeof mn&&(mn=[mn]),0===mn.length)return;this.maybeSetNormalizedName(pn.name,yn);const _n=("a"===pn.op?this.headers.get(yn):void 0)||[];_n.push(...mn),this.headers.set(yn,_n);break;case"d":const At=pn.value;if(At){let ht=this.headers.get(yn);if(!ht)return;ht=ht.filter(Tn=>-1===At.indexOf(Tn)),0===ht.length?(this.headers.delete(yn),this.normalizedNames.delete(yn)):this.headers.set(yn,ht)}else this.headers.delete(yn),this.normalizedNames.delete(yn)}}setHeaderEntries(pn,yn){const mn=(Array.isArray(yn)?yn:[yn]).map(At=>At.toString()),_n=pn.toLowerCase();this.headers.set(_n,mn),this.maybeSetNormalizedName(pn,_n)}forEach(pn){this.init(),Array.from(this.normalizedNames.keys()).forEach(yn=>pn(this.normalizedNames.get(yn),this.headers.get(yn)))}}class x{encodeKey(pn){return C(pn)}encodeValue(pn){return C(pn)}decodeKey(pn){return decodeURIComponent(pn)}decodeValue(pn){return decodeURIComponent(pn)}}const N=/%(\d[a-f0-9])/gi,O={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function C(vn){return encodeURIComponent(vn).replace(N,(pn,yn)=>O[yn]??pn)}function I(vn){return`${vn}`}class T{constructor(pn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pn.encoder||new x,pn.fromString){if(pn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A(vn,pn){const yn=new Map;return vn.length>0&&vn.replace(/^\?/,"").split("&").forEach(_n=>{const At=_n.indexOf("="),[ht,Tn]=-1==At?[pn.decodeKey(_n),""]:[pn.decodeKey(_n.slice(0,At)),pn.decodeValue(_n.slice(At+1))],qe=yn.get(ht)||[];qe.push(Tn),yn.set(ht,qe)}),yn}(pn.fromString,this.encoder)}else pn.fromObject?(this.map=new Map,Object.keys(pn.fromObject).forEach(yn=>{const mn=pn.fromObject[yn],_n=Array.isArray(mn)?mn.map(I):[I(mn)];this.map.set(yn,_n)})):this.map=null}has(pn){return this.init(),this.map.has(pn)}get(pn){this.init();const yn=this.map.get(pn);return yn?yn[0]:null}getAll(pn){return this.init(),this.map.get(pn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pn,yn){return this.clone({param:pn,value:yn,op:"a"})}appendAll(pn){const yn=[];return Object.keys(pn).forEach(mn=>{const _n=pn[mn];Array.isArray(_n)?_n.forEach(At=>{yn.push({param:mn,value:At,op:"a"})}):yn.push({param:mn,value:_n,op:"a"})}),this.clone(yn)}set(pn,yn){return this.clone({param:pn,value:yn,op:"s"})}delete(pn,yn){return this.clone({param:pn,value:yn,op:"d"})}toString(){return this.init(),this.keys().map(pn=>{const yn=this.encoder.encodeKey(pn);return this.map.get(pn).map(mn=>yn+"="+this.encoder.encodeValue(mn)).join("&")}).filter(pn=>""!==pn).join("&")}clone(pn){const yn=new T({encoder:this.encoder});return yn.cloneFrom=this.cloneFrom||this,yn.updates=(this.updates||[]).concat(pn),yn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pn=>this.map.set(pn,this.cloneFrom.map.get(pn))),this.updates.forEach(pn=>{switch(pn.op){case"a":case"s":const yn=("a"===pn.op?this.map.get(pn.param):void 0)||[];yn.push(I(pn.value)),this.map.set(pn.param,yn);break;case"d":if(void 0===pn.value){this.map.delete(pn.param);break}{let mn=this.map.get(pn.param)||[];const _n=mn.indexOf(I(pn.value));-1!==_n&&mn.splice(_n,1),mn.length>0?this.map.set(pn.param,mn):this.map.delete(pn.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(pn,yn){return this.map.set(pn,yn),this}get(pn){return this.map.has(pn)||this.map.set(pn,pn.defaultValue()),this.map.get(pn)}delete(pn){return this.map.delete(pn),this}has(pn){return this.map.has(pn)}keys(){return this.map.keys()}}function z(vn){return typeof ArrayBuffer<"u"&&vn instanceof ArrayBuffer}function ne(vn){return typeof Blob<"u"&&vn instanceof Blob}function ae(vn){return typeof FormData<"u"&&vn instanceof FormData}class Y{constructor(pn,yn,mn,_n){let At;if(this.url=yn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pn.toUpperCase(),function B(vn){switch(vn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_n?(this.body=void 0!==mn?mn:null,At=_n):At=mn,At&&(this.reportProgress=!!At.reportProgress,this.withCredentials=!!At.withCredentials,At.responseType&&(this.responseType=At.responseType),At.headers&&(this.headers=At.headers),At.context&&(this.context=At.context),At.params&&(this.params=At.params)),this.headers||(this.headers=new _),this.context||(this.context=new y),this.params){const ht=this.params.toString();if(0===ht.length)this.urlWithParams=yn;else{const Tn=yn.indexOf("?");this.urlWithParams=yn+(-1===Tn?"?":Tn<yn.length-1?"&":"")+ht}}else this.params=new T,this.urlWithParams=yn}serializeBody(){return null===this.body?null:z(this.body)||ne(this.body)||ae(this.body)||function Fe(vn){return typeof URLSearchParams<"u"&&vn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof T?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ae(this.body)?null:ne(this.body)?this.body.type||null:z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof T?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pn={}){const yn=pn.method||this.method,mn=pn.url||this.url,_n=pn.responseType||this.responseType,At=void 0!==pn.body?pn.body:this.body,ht=void 0!==pn.withCredentials?pn.withCredentials:this.withCredentials,Tn=void 0!==pn.reportProgress?pn.reportProgress:this.reportProgress;let qe=pn.headers||this.headers,Ct=pn.params||this.params;const Jt=pn.context??this.context;return void 0!==pn.setHeaders&&(qe=Object.keys(pn.setHeaders).reduce((Rt,xn)=>Rt.set(xn,pn.setHeaders[xn]),qe)),pn.setParams&&(Ct=Object.keys(pn.setParams).reduce((Rt,xn)=>Rt.set(xn,pn.setParams[xn]),Ct)),new Y(yn,mn,At,{params:Ct,headers:qe,context:Jt,reportProgress:Tn,responseType:_n,withCredentials:ht})}}var le=function(vn){return vn[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn}(le||{});class G{constructor(pn,yn=200,mn="OK"){this.headers=pn.headers||new _,this.status=void 0!==pn.status?pn.status:yn,this.statusText=pn.statusText||mn,this.url=pn.url||null,this.ok=this.status>=200&&this.status<300}}class Se extends G{constructor(pn={}){super(pn),this.type=le.ResponseHeader}clone(pn={}){return new Se({headers:pn.headers||this.headers,status:void 0!==pn.status?pn.status:this.status,statusText:pn.statusText||this.statusText,url:pn.url||this.url||void 0})}}class ce extends G{constructor(pn={}){super(pn),this.type=le.Response,this.body=void 0!==pn.body?pn.body:null}clone(pn={}){return new ce({body:void 0!==pn.body?pn.body:this.body,headers:pn.headers||this.headers,status:void 0!==pn.status?pn.status:this.status,statusText:pn.statusText||this.statusText,url:pn.url||this.url||void 0})}}class ge extends G{constructor(pn){super(pn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pn.url||"(unknown url)"}`:`Http failure response for ${pn.url||"(unknown url)"}: ${pn.status} ${pn.statusText}`,this.error=pn.error||null}}function Ie(vn,pn){return{body:pn,headers:vn.headers,context:vn.context,observe:vn.observe,params:vn.params,reportProgress:vn.reportProgress,responseType:vn.responseType,withCredentials:vn.withCredentials}}let Ce=(()=>{class vn{constructor(yn){this.handler=yn}request(yn,mn,_n={}){let At;if(yn instanceof Y)At=yn;else{let qe,Ct;qe=_n.headers instanceof _?_n.headers:new _(_n.headers),_n.params&&(Ct=_n.params instanceof T?_n.params:new T({fromObject:_n.params})),At=new Y(yn,mn,void 0!==_n.body?_n.body:null,{headers:qe,context:_n.context,params:Ct,reportProgress:_n.reportProgress,responseType:_n.responseType||"json",withCredentials:_n.withCredentials})}const ht=(0,t.of)(At).pipe((0,g.b)(qe=>this.handler.handle(qe)));if(yn instanceof Y||"events"===_n.observe)return ht;const Tn=ht.pipe((0,P.h)(qe=>qe instanceof ce));switch(_n.observe||"body"){case"body":switch(At.responseType){case"arraybuffer":return Tn.pipe((0,D.U)(qe=>{if(null!==qe.body&&!(qe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return qe.body}));case"blob":return Tn.pipe((0,D.U)(qe=>{if(null!==qe.body&&!(qe.body instanceof Blob))throw new Error("Response is not a Blob.");return qe.body}));case"text":return Tn.pipe((0,D.U)(qe=>{if(null!==qe.body&&"string"!=typeof qe.body)throw new Error("Response is not a string.");return qe.body}));default:return Tn.pipe((0,D.U)(qe=>qe.body))}case"response":return Tn;default:throw new Error(`Unreachable: unhandled observe type ${_n.observe}}`)}}delete(yn,mn={}){return this.request("DELETE",yn,mn)}get(yn,mn={}){return this.request("GET",yn,mn)}head(yn,mn={}){return this.request("HEAD",yn,mn)}jsonp(yn,mn){return this.request("JSONP",yn,{params:(new T).append(mn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(yn,mn={}){return this.request("OPTIONS",yn,mn)}patch(yn,mn,_n={}){return this.request("PATCH",yn,Ie(_n,mn))}post(yn,mn,_n={}){return this.request("POST",yn,Ie(_n,mn))}put(yn,mn,_n={}){return this.request("PUT",yn,Ie(_n,mn))}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(d))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();function je(vn,pn){return pn(vn)}function ft(vn,pn){return(yn,mn)=>pn.intercept(yn,{handle:_n=>vn(_n,mn)})}const Re=new e.OlP(""),be=new e.OlP(""),Q=new e.OlP("");function ie(){let vn=null;return(pn,yn)=>{null===vn&&(vn=((0,e.f3M)(Re,{optional:!0})??[]).reduceRight(ft,je));const mn=(0,e.f3M)(e.HDt),_n=mn.add();return vn(pn,yn).pipe((0,m.x)(()=>mn.remove(_n)))}}let ye=(()=>{class vn extends d{constructor(yn,mn){super(),this.backend=yn,this.injector=mn,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(yn){if(null===this.chain){const _n=Array.from(new Set([...this.injector.get(be),...this.injector.get(Q,[])]));this.chain=_n.reduceRight((At,ht)=>function Ze(vn,pn,yn){return(mn,_n)=>yn.runInContext(()=>pn(mn,At=>vn(At,_n)))}(At,ht,this.injector),je)}const mn=this.pendingTasks.add();return this.chain(yn,_n=>this.backend.handle(_n)).pipe((0,m.x)(()=>this.pendingTasks.remove(mn)))}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(f),e.LFG(e.lqb))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();const ct=/^\)\]\}',?\n/;let tt=(()=>{class vn{constructor(yn){this.xhrFactory=yn}handle(yn){if("JSONP"===yn.method)throw new e.vHH(-2800,!1);const mn=this.xhrFactory;return(mn.\u0275loadImpl?(0,v.D)(mn.\u0275loadImpl()):(0,t.of)(null)).pipe((0,i.w)(()=>new b.y(At=>{const ht=mn.build();if(ht.open(yn.method,yn.urlWithParams),yn.withCredentials&&(ht.withCredentials=!0),yn.headers.forEach((Nt,en)=>ht.setRequestHeader(Nt,en.join(","))),yn.headers.has("Accept")||ht.setRequestHeader("Accept","application/json, text/plain, */*"),!yn.headers.has("Content-Type")){const Nt=yn.detectContentTypeHeader();null!==Nt&&ht.setRequestHeader("Content-Type",Nt)}if(yn.responseType){const Nt=yn.responseType.toLowerCase();ht.responseType="json"!==Nt?Nt:"text"}const Tn=yn.serializeBody();let qe=null;const Ct=()=>{if(null!==qe)return qe;const Nt=ht.statusText||"OK",en=new _(ht.getAllResponseHeaders()),An=function Xe(vn){return"responseURL"in vn&&vn.responseURL?vn.responseURL:/^X-Request-URL:/m.test(vn.getAllResponseHeaders())?vn.getResponseHeader("X-Request-URL"):null}(ht)||yn.url;return qe=new Se({headers:en,status:ht.status,statusText:Nt,url:An}),qe},Jt=()=>{let{headers:Nt,status:en,statusText:An,url:Kn}=Ct(),Xn=null;204!==en&&(Xn=typeof ht.response>"u"?ht.responseText:ht.response),0===en&&(en=Xn?200:0);let Ut=en>=200&&en<300;if("json"===yn.responseType&&"string"==typeof Xn){const On=Xn;Xn=Xn.replace(ct,"");try{Xn=""!==Xn?JSON.parse(Xn):null}catch(Ne){Xn=On,Ut&&(Ut=!1,Xn={error:Ne,text:Xn})}}Ut?(At.next(new ce({body:Xn,headers:Nt,status:en,statusText:An,url:Kn||void 0})),At.complete()):At.error(new ge({error:Xn,headers:Nt,status:en,statusText:An,url:Kn||void 0}))},Rt=Nt=>{const{url:en}=Ct(),An=new ge({error:Nt,status:ht.status||0,statusText:ht.statusText||"Unknown Error",url:en||void 0});At.error(An)};let xn=!1;const kt=Nt=>{xn||(At.next(Ct()),xn=!0);let en={type:le.DownloadProgress,loaded:Nt.loaded};Nt.lengthComputable&&(en.total=Nt.total),"text"===yn.responseType&&ht.responseText&&(en.partialText=ht.responseText),At.next(en)},It=Nt=>{let en={type:le.UploadProgress,loaded:Nt.loaded};Nt.lengthComputable&&(en.total=Nt.total),At.next(en)};return ht.addEventListener("load",Jt),ht.addEventListener("error",Rt),ht.addEventListener("timeout",Rt),ht.addEventListener("abort",Rt),yn.reportProgress&&(ht.addEventListener("progress",kt),null!==Tn&&ht.upload&&ht.upload.addEventListener("progress",It)),ht.send(Tn),At.next({type:le.Sent}),()=>{ht.removeEventListener("error",Rt),ht.removeEventListener("abort",Rt),ht.removeEventListener("load",Jt),ht.removeEventListener("timeout",Rt),yn.reportProgress&&(ht.removeEventListener("progress",kt),null!==Tn&&ht.upload&&ht.upload.removeEventListener("progress",It)),ht.readyState!==ht.DONE&&ht.abort()}})))}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(c.JF))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();const gt=new e.OlP("XSRF_ENABLED"),yt=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fe=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class We{}let Et=(()=>{class vn{constructor(yn,mn,_n){this.doc=yn,this.platform=mn,this.cookieName=_n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const yn=this.doc.cookie||"";return yn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(yn,this.cookieName),this.lastCookieString=yn),this.lastToken}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(c.K0),e.LFG(e.Lbi),e.LFG(yt))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();function Wt(vn,pn){const yn=vn.url.toLowerCase();if(!(0,e.f3M)(gt)||"GET"===vn.method||"HEAD"===vn.method||yn.startsWith("http://")||yn.startsWith("https://"))return pn(vn);const mn=(0,e.f3M)(We).getToken(),_n=(0,e.f3M)(fe);return null!=mn&&!vn.headers.has(_n)&&(vn=vn.clone({headers:vn.headers.set(_n,mn)})),pn(vn)}var qt=function(vn){return vn[vn.Interceptors=0]="Interceptors",vn[vn.LegacyInterceptors=1]="LegacyInterceptors",vn[vn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",vn[vn.NoXsrfProtection=3]="NoXsrfProtection",vn[vn.JsonpSupport=4]="JsonpSupport",vn[vn.RequestsMadeViaParent=5]="RequestsMadeViaParent",vn[vn.Fetch=6]="Fetch",vn}(qt||{});function fn(...vn){const pn=[Ce,tt,ye,{provide:d,useExisting:ye},{provide:f,useExisting:tt},{provide:be,useValue:Wt,multi:!0},{provide:gt,useValue:!0},{provide:We,useClass:Et}];for(const yn of vn)pn.push(...yn.\u0275providers);return(0,e.MR2)(pn)}const vt=new e.OlP("LEGACY_INTERCEPTOR_FN");function it(){return function un(vn,pn){return{\u0275kind:vn,\u0275providers:pn}}(qt.LegacyInterceptors,[{provide:vt,useFactory:ie},{provide:be,useExisting:vt,multi:!0}])}let xt=(()=>{class vn{static#e=this.\u0275fac=function(mn){return new(mn||vn)};static#t=this.\u0275mod=e.oAB({type:vn});static#n=this.\u0275inj=e.cJS({providers:[fn(it())]})}return vn})()},5879:(Wn,et,p)=>{"use strict";p.d(et,{$8M:()=>ql,$WT:()=>ao,$Z:()=>ig,AFp:()=>Mp,ALo:()=>Fv,AaK:()=>f,AsE:()=>Bm,BQk:()=>Sh,CHM:()=>vl,CRH:()=>Xv,DdM:()=>xv,EJc:()=>lC,EiD:()=>Au,EpF:()=>$g,F$t:()=>t_,F4k:()=>Jg,FYo:()=>Lp,FiY:()=>al,G48:()=>PC,Gf:()=>Qv,GfV:()=>kp,GkF:()=>Dm,Gpc:()=>x,Gre:()=>P_,HDt:()=>S0,Hsn:()=>n_,Ikx:()=>Gm,JOm:()=>cn,JVY:()=>Gr,JZr:()=>I,Jf7:()=>Hp,KtG:()=>hc,L6k:()=>so,LAX:()=>Qo,LFG:()=>it,LMc:()=>sD,LSH:()=>Mt,Lbi:()=>Kh,Lck:()=>qT,MAs:()=>Yg,MGl:()=>Ch,MMx:()=>bv,MR2:()=>Xr,NdJ:()=>Am,O4$:()=>nt,Ojb:()=>cy,OlP:()=>Oi,Oqu:()=>Fm,P3R:()=>xi,PXZ:()=>SC,Q6J:()=>Tm,QGY:()=>Mm,QbO:()=>ly,Qsj:()=>Sy,R0b:()=>cc,RDi:()=>ve,Rgc:()=>Gf,SBq:()=>Tf,SDv:()=>mv,Sil:()=>uC,Suo:()=>qv,TTD:()=>ml,TgZ:()=>bh,Tol:()=>__,Udp:()=>Nm,VKq:()=>Iv,VuI:()=>rD,W1O:()=>r0,WFA:()=>xm,WLB:()=>wv,X6Q:()=>OC,XFs:()=>_e,Xpm:()=>vi,Xq5:()=>wg,Xts:()=>go,Y36:()=>Ru,YKP:()=>vv,YNc:()=>Vg,Yjl:()=>vs,Yz7:()=>Re,Z0I:()=>ye,ZZ4:()=>Tp,_Bn:()=>_v,_UZ:()=>Cm,_Vd:()=>Ef,_c5:()=>ZC,_uU:()=>C_,aQg:()=>Sp,c2e:()=>T0,cJS:()=>Q,cg1:()=>jm,d8E:()=>Hm,dDg:()=>yC,dqk:()=>tt,eBb:()=>Eo,eFA:()=>F0,eJc:()=>sp,ekj:()=>Lm,eoX:()=>R0,f3M:()=>ze,g9A:()=>Ap,h0i:()=>Zu,hGG:()=>$C,hYB:()=>wm,hij:()=>Ah,iGM:()=>Jv,ifc:()=>Mn,ip1:()=>E0,jDz:()=>Ev,kEZ:()=>Ov,kL8:()=>j_,kcU:()=>sn,lG2:()=>Co,lcZ:()=>Bv,lnq:()=>Um,lqb:()=>Ma,lri:()=>O0,mCW:()=>wc,n5z:()=>Tc,n_E:()=>Ph,oAB:()=>Fi,oJD:()=>ue,oxw:()=>e_,pB0:()=>fo,q3G:()=>F,q4F:()=>Fp,qFp:()=>aD,qLn:()=>Ou,qOj:()=>mm,qZA:()=>Eh,qzn:()=>Mr,rWj:()=>P0,rg0:()=>dc,s9C:()=>Im,sBO:()=>RC,s_b:()=>Nh,soG:()=>kh,tb:()=>gp,tp0:()=>bo,uIk:()=>gm,vHH:()=>T,vpe:()=>Od,wAp:()=>Yu,xi3:()=>Uv,xp6:()=>Jp,ynx:()=>Th,z2F:()=>Qu,z3N:()=>yr,zSh:()=>lr,zW0:()=>Mg,zs3:()=>qd});var e=p(8645),t=p(7394),v=p(5619),b=p(5592),g=p(3019),P=p(2096),D=p(3020),m=p(4664),i=p(3997);function c(n){for(let o in n)if(n[o]===c)return o;throw Error("Could not find renamed property on target object.")}function d(n,o){for(const u in o)o.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&(n[u]=o[u])}function f(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(f).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const o=n.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function _(n,o){return null==n||""===n?null===o?"":o:null==o||""===o?n:n+" "+o}const S=c({__forward_ref__:c});function x(n){return n.__forward_ref__=x,n.toString=function(){return f(this())},n}function A(n){return N(n)?n():n}function N(n){return"function"==typeof n&&n.hasOwnProperty(S)&&n.__forward_ref__===x}function O(n){return n&&!!n.\u0275providers}const I="https://g.co/ng/security#xss";class T extends Error{constructor(o,u){super(function L(n,o){return`NG0${Math.abs(n)}${o?": "+o:""}`}(o,u)),this.code=o}}function y(n){return"string"==typeof n?n:null==n?"":String(n)}function Fe(n,o){throw new T(-201,!1)}function Oe(n,o,u,E){throw new Error(`ASSERTION ERROR: ${n}`+(null==E?"":` [Expected=> ${u} ${E} ${o} <=Actual]`))}function Re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Q(n){return{providers:n.providers||[],imports:n.imports||[]}}function ie(n){return oe(n,$)||oe(n,J)}function ye(n){return null!==ie(n)}function oe(n,o){return n.hasOwnProperty(o)?n[o]:null}function X(n){return n&&(n.hasOwnProperty(re)||n.hasOwnProperty(q))?n[re]:null}const $=c({\u0275prov:c}),re=c({\u0275inj:c}),J=c({ngInjectableDef:c}),q=c({ngInjectorDef:c});var _e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_e||{});let xe;function Ge(n){const o=xe;return xe=n,o}function ct(n,o,u){const E=ie(n);return E&&"root"==E.providedIn?void 0===E.value?E.value=E.factory():E.value:u&_e.Optional?null:void 0!==o?o:void Fe(f(n))}const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dt={},fe="__NG_DI_FLAG__",We="ngTempTokenPath",Wt=/\n/gm,qt="__source";let un;function wt(n){const o=un;return un=n,o}function vt(n,o=_e.Default){if(void 0===un)throw new T(-203,!1);return null===un?ct(n,void 0,o):un.get(n,o&_e.Optional?null:void 0,o)}function it(n,o=_e.Default){return(function Ee(){return xe}()||vt)(A(n),o)}function ze(n,o=_e.Default){return it(n,st(o))}function st(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function at(n){const o=[];for(let u=0;u<n.length;u++){const E=A(n[u]);if(Array.isArray(E)){if(0===E.length)throw new T(900,!1);let R,K=_e.Default;for(let me=0;me<E.length;me++){const Ve=E[me],ot=bt(Ve);"number"==typeof ot?-1===ot?R=Ve.token:K|=ot:R=Ve}o.push(it(R,K))}else o.push(it(E))}return o}function St(n,o){return n[fe]=o,n.prototype[fe]=o,n}function bt(n){return n[fe]}function En(n){return{toString:n}.toString()}var tn=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tn||{}),Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});const In={},Nn=[],$n=c({\u0275cmp:c}),ni=c({\u0275dir:c}),vn=c({\u0275pipe:c}),pn=c({\u0275mod:c}),yn=c({\u0275fac:c}),mn=c({__NG_ELEMENT_ID__:c}),_n=c({__NG_ENV_ID__:c});function At(n,o,u){let E=n.length;for(;;){const R=n.indexOf(o,u);if(-1===R)return R;if(0===R||n.charCodeAt(R-1)<=32){const K=o.length;if(R+K===E||n.charCodeAt(R+K)<=32)return R}u=R+1}}function ht(n,o,u){let E=0;for(;E<u.length;){const R=u[E];if("number"==typeof R){if(0!==R)break;E++;const K=u[E++],me=u[E++],Ve=u[E++];n.setAttribute(o,me,Ve,K)}else{const K=R,me=u[++E];qe(K)?n.setProperty(o,K,me):n.setAttribute(o,K,me),E++}}return E}function Tn(n){return 3===n||4===n||6===n}function qe(n){return 64===n.charCodeAt(0)}function Ct(n,o){if(null!==o&&0!==o.length)if(null===n||0===n.length)n=o.slice();else{let u=-1;for(let E=0;E<o.length;E++){const R=o[E];"number"==typeof R?u=R:0===u||Jt(n,u,R,null,-1===u||2===u?o[++E]:null)}}return n}function Jt(n,o,u,E,R){let K=0,me=n.length;if(-1===o)me=-1;else for(;K<n.length;){const Ve=n[K++];if("number"==typeof Ve){if(Ve===o){me=-1;break}if(Ve>o){me=K-1;break}}}for(;K<n.length;){const Ve=n[K];if("number"==typeof Ve)break;if(Ve===u){if(null===E)return void(null!==R&&(n[K+1]=R));if(E===n[K+1])return void(n[K+2]=R)}K++,null!==E&&K++,null!==R&&K++}-1!==me&&(n.splice(me,0,o),K=me+1),n.splice(K++,0,u),null!==E&&n.splice(K++,0,E),null!==R&&n.splice(K++,0,R)}const Rt="ng-template";function xn(n,o,u){let E=0,R=!0;for(;E<n.length;){let K=n[E++];if("string"==typeof K&&R){const me=n[E++];if(u&&"class"===K&&-1!==At(me.toLowerCase(),o,0))return!0}else{if(1===K){for(;E<n.length&&"string"==typeof(K=n[E++]);)if(K.toLowerCase()===o)return!0;return!1}"number"==typeof K&&(R=!1)}}return!1}function kt(n){return 4===n.type&&n.value!==Rt}function It(n,o,u){return o===(4!==n.type||u?n.value:Rt)}function Nt(n,o,u){let E=4;const R=n.attrs||[],K=function Ut(n){for(let o=0;o<n.length;o++)if(Tn(n[o]))return o;return n.length}(R);let me=!1;for(let Ve=0;Ve<o.length;Ve++){const ot=o[Ve];if("number"!=typeof ot){if(!me)if(4&E){if(E=2|1&E,""!==ot&&!It(n,ot,u)||""===ot&&1===o.length){if(en(E))return!1;me=!0}}else{const Lt=8&E?ot:o[++Ve];if(8&E&&null!==n.attrs){if(!xn(n.attrs,Lt,u)){if(en(E))return!1;me=!0}continue}const Cn=An(8&E?"class":ot,R,kt(n),u);if(-1===Cn){if(en(E))return!1;me=!0;continue}if(""!==Lt){let jn;jn=Cn>K?"":R[Cn+1].toLowerCase();const Jn=8&E?jn:null;if(Jn&&-1!==At(Jn,Lt,0)||2&E&&Lt!==jn){if(en(E))return!1;me=!0}}}}else{if(!me&&!en(E)&&!en(ot))return!1;if(me&&en(ot))continue;me=!1,E=ot|1&E}}return en(E)||me}function en(n){return 0==(1&n)}function An(n,o,u,E){if(null===o)return-1;let R=0;if(E||!u){let K=!1;for(;R<o.length;){const me=o[R];if(me===n)return R;if(3===me||6===me)K=!0;else{if(1===me||2===me){let Ve=o[++R];for(;"string"==typeof Ve;)Ve=o[++R];continue}if(4===me)break;if(0===me){R+=4;continue}}R+=K?1:2}return-1}return function On(n,o){let u=n.indexOf(4);if(u>-1)for(u++;u<n.length;){const E=n[u];if("number"==typeof E)return-1;if(E===o)return u;u++}return-1}(o,n)}function Kn(n,o,u=!1){for(let E=0;E<o.length;E++)if(Nt(n,o[E],u))return!0;return!1}function Ne(n,o){e:for(let u=0;u<o.length;u++){const E=o[u];if(n.length===E.length){for(let R=0;R<n.length;R++)if(n[R]!==E[R])continue e;return!0}}return!1}function Ft(n,o){return n?":not("+o.trim()+")":o}function Pt(n){let o=n[0],u=1,E=2,R="",K=!1;for(;u<n.length;){let me=n[u];if("string"==typeof me)if(2&E){const Ve=n[++u];R+="["+me+(Ve.length>0?'="'+Ve+'"':"")+"]"}else 8&E?R+="."+me:4&E&&(R+=" "+me);else""!==R&&!en(me)&&(o+=Ft(K,R),R=""),E=me,K=K||!en(E);u++}return""!==R&&(o+=Ft(K,R)),o}function vi(n){return En(()=>{const o=rs(n),u={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Nn,_:null,schemas:n.schemas||null,tView:null,id:""};xr(u);const E=n.dependencies;return u.directiveDefs=lo(E,!1),u.pipeDefs=lo(E,!0),u.id=function As(n){let o=0;const u=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const R of u)o=Math.imul(31,o)+R.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function Zr(n){return zi(n)||jr(n)}function Hr(n){return null!==n}function Fi(n){return En(()=>({type:n.type,bootstrap:n.bootstrap||Nn,declarations:n.declarations||Nn,imports:n.imports||Nn,exports:n.exports||Nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ko(n,o){if(null==n)return In;const u={};for(const E in n)if(n.hasOwnProperty(E)){let R=n[E],K=R;Array.isArray(R)&&(K=R[1],R=R[0]),u[R]=E,o&&(o[R]=K)}return u}function Co(n){return En(()=>{const o=rs(n);return xr(o),o})}function vs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function zi(n){return n[$n]||null}function jr(n){return n[ni]||null}function ir(n){return n[vn]||null}function ao(n){const o=zi(n)||jr(n)||ir(n);return null!==o&&o.standalone}function Vr(n,o){const u=n[pn]||null;if(!u&&!0===o)throw new Error(`Type ${f(n)} does not have '\u0275mod' property.`);return u}function rs(n){const o={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:n.inputs||In,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ko(n.inputs,o),outputs:Ko(n.outputs)}}function xr(n){n.features?.forEach(o=>o(n))}function lo(n,o){if(!n)return null;const u=o?ir:Zr;return()=>("function"==typeof n?n():n).map(E=>u(E)).filter(Hr)}const Tr=0,yi=1,$i=2,Pr=3,Kr=4,Do=5,$r=6,mo=7,Dn=8,qn=9,mi=10,li=11,Hi=12,Qi=13,sr=14,Wi=15,Ir=16,Io=17,Lo=18,ko=19,js=20,eo=21,_o=22,os=23,ss=24,cr=25,Xo=1,Vs=2,co=7,xs=9,Wr=11;function Sr(n){return Array.isArray(n)&&"object"==typeof n[Xo]}function io(n){return Array.isArray(n)&&!0===n[Xo]}function fa(n){return 0!=(4&n.flags)}function Mo(n){return n.componentOffset>-1}function Fr(n){return 1==(1&n.flags)}function mr(n){return!!n.template}function Fo(n){return 0!=(512&n[$i])}function _t(n,o){return n.hasOwnProperty(yn)?n[yn]:null}let Zi=tt.WeakRef??class Ti{constructor(o){this.ref=o}deref(){return this.ref}},Es=0,si=null,Os=!1;function to(n){const o=si;return si=n,o}class cs{constructor(){this.id=Es++,this.ref=function zo(n){return new Zi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const E=u.producerNode.deref();if(null!=E&&u.atTrackingVersion===this.trackingVersion){if(E.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),E?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Os;Os=!0;try{for(const[u,E]of this.consumers){const R=E.consumerNode.deref();null!=R&&R.trackingVersion===E.atTrackingVersion?R.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),R?.producers.delete(this.id))}}finally{Os=o}}producerAccessed(){if(Os)throw new Error("");if(null===si)return;let o=si.producers.get(this.id);void 0===o?(o={consumerNode:si.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:si.trackingVersion},si.producers.set(this.id,o),this.consumers.set(si.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=si.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==si?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let wl=null;function dc(n){const o=to(null);try{return n()}finally{to(o)}}const ja=()=>{};class hl extends cs{constructor(o,u,E){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=ja,this.registerOnCleanup=R=>{this.cleanupFn=R},this.consumerAllowSignalWrites=E}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=to(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ja,this.watch(this.registerOnCleanup)}finally{to(o)}}cleanup(){this.cleanupFn()}}class ga{constructor(o,u,E){this.previousValue=o,this.currentValue=u,this.firstChange=E}isFirstChange(){return this.firstChange}}function ml(){return _a}function _a(n){return n.type.prototype.ngOnChanges&&(n.setInput=gl),pl}function pl(){const n=va(this),o=n?.current;if(o){const u=n.previous;if(u===In)n.previous=o;else for(let E in o)u[E]=o[E];n.current=null,this.ngOnChanges(o)}}function gl(n,o,u,E){const R=this.declaredInputs[u],K=va(n)||function nl(n,o){return n[uc]=o}(n,{previous:In,current:null}),me=K.current||(K.current={}),Ve=K.previous,ot=Ve[R];me[R]=new ga(ot&&ot.currentValue,o,Ve===In),n[E]=o}ml.ngInherit=!0;const uc="__ngSimpleChanges__";function va(n){return n[uc]||null}const Ts=function(n,o,u){},Ra="svg";function or(n){for(;Array.isArray(n);)n=n[Tr];return n}function $e(n,o){return or(o[n])}function Yt(n,o){return or(o[n.index])}function Vt(n,o){return n.data[o]}function Sn(n,o){return n[o]}function Zn(n,o){const u=o[n];return Sr(u)?u:u[Tr]}function gr(n,o){return null==o?null:n[o]}function ur(n){n[Io]=0}function nr(n){1024&n[$i]||(n[$i]|=1024,Nr(n,1))}function uo(n){1024&n[$i]&&(n[$i]&=-1025,Nr(n,-1))}function Nr(n,o){let u=n[Pr];if(null===u)return;u[Do]+=o;let E=u;for(u=u[Pr];null!==u&&(1===o&&1===E[Do]||-1===o&&0===E[Do]);)u[Do]+=o,E=u,u=u[Pr]}const Vi={lFrame:Kl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ya(){return Vi.bindingsEnabled}function ra(){return null!==Vi.skipHydrationRootTNode}function di(){return Vi.lFrame.lView}function ar(){return Vi.lFrame.tView}function vl(n){return Vi.lFrame.contextLView=n,n[Dn]}function hc(n){return Vi.lFrame.contextLView=null,n}function Go(){let n=Zc();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zc(){return Vi.lFrame.currentTNode}function il(){const n=Vi.lFrame,o=n.currentTNode;return n.isParent?o:o.parent}function ro(n,o){const u=Vi.lFrame;u.currentTNode=n,u.isParent=o}function Wa(){return Vi.lFrame.isParent}function Oo(){Vi.lFrame.isParent=!1}function Zo(){const n=Vi.lFrame;let o=n.bindingRootIndex;return-1===o&&(o=n.bindingRootIndex=n.tView.bindingStartIndex),o}function oa(){return Vi.lFrame.bindingIndex}function po(){return Vi.lFrame.bindingIndex++}function Ao(n){const o=Vi.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+n,u}function rl(n){Vi.lFrame.inI18n=n}function Ta(n,o){const u=Vi.lFrame;u.bindingIndex=u.bindingRootIndex=n,Fs(o)}function Fs(n){Vi.lFrame.currentDirectiveIndex=n}function bl(n){const o=Vi.lFrame.currentDirectiveIndex;return-1===o?null:n[o]}function mc(){return Vi.lFrame.currentQueryIndex}function El(n){Vi.lFrame.currentQueryIndex=n}function $c(n){const o=n[yi];return 2===o.type?o.declTNode:1===o.type?n[$r]:null}function zs(n,o,u){if(u&_e.SkipSelf){let R=o,K=n;for(;!(R=R.parent,null!==R||u&_e.Host||(R=$c(K),null===R||(K=K[sr],10&R.type))););if(null===R)return!1;o=R,n=K}const E=Vi.lFrame=Lc();return E.currentTNode=o,E.lView=n,!0}function Tl(n){const o=Lc(),u=n[yi];Vi.lFrame=o,o.currentTNode=u.firstChild,o.lView=n,o.tView=u,o.contextLView=n,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Lc(){const n=Vi.lFrame,o=null===n?null:n.child;return null===o?Kl(n):o}function Kl(n){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=o),o}function pc(){const n=Vi.lFrame;return Vi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Po=pc;function Na(){const n=pc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ue(){return Vi.lFrame.selectedIndex}function rt(n){Vi.lFrame.selectedIndex=n}function Me(){const n=Vi.lFrame;return Vt(n.tView,n.selectedIndex)}function nt(){Vi.lFrame.currentNamespace=Ra}function sn(){!function dn(){Vi.lFrame.currentNamespace=null}()}let pi=!0;function Ri(){return pi}function Ni(n){pi=n}function Qr(n,o){for(let u=o.directiveStart,E=o.directiveEnd;u<E;u++){const K=n.data[u].type.prototype,{ngAfterContentInit:me,ngAfterContentChecked:Ve,ngAfterViewInit:ot,ngAfterViewChecked:Lt,ngOnDestroy:rn}=K;me&&(n.contentHooks??=[]).push(-u,me),Ve&&((n.contentHooks??=[]).push(u,Ve),(n.contentCheckHooks??=[]).push(u,Ve)),ot&&(n.viewHooks??=[]).push(-u,ot),Lt&&((n.viewHooks??=[]).push(u,Lt),(n.viewCheckHooks??=[]).push(u,Lt)),null!=rn&&(n.destroyHooks??=[]).push(u,rn)}}function oo(n,o,u){is(n,o,3,u)}function $o(n,o,u,E){(3&n[$i])===u&&is(n,o,u,E)}function fs(n,o){let u=n[$i];(3&u)===o&&(u&=8191,u+=1,n[$i]=u)}function is(n,o,u,E){const K=E??-1,me=o.length-1;let Ve=0;for(let ot=void 0!==E?65535&n[Io]:0;ot<me;ot++)if("number"==typeof o[ot+1]){if(Ve=o[ot],null!=E&&Ve>=E)break}else o[ot]<0&&(n[Io]+=65536),(Ve<K||-1==K)&&(Sl(n,u,o,ot),n[Io]=(4294901760&n[Io])+ot+2),ot++}function Ya(n,o){Ts(4,n,o);const u=to(null);try{o.call(n)}finally{to(u),Ts(5,n,o)}}function Sl(n,o,u,E){const R=u[E]<0,K=u[E+1],Ve=n[R?-u[E]:u[E]];R?n[$i]>>13<n[Io]>>16&&(3&n[$i])===o&&(n[$i]+=8192,Ya(Ve,K)):Ya(Ve,K)}const aa=-1;class hs{constructor(o,u,E){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=E}}function Yl(n){return n!==aa}function Ms(n){return 32767&n}function Dl(n,o){let u=function zl(n){return n>>16}(n),E=o;for(;u>0;)E=E[sr],u--;return E}let za=!0;function Zl(n){const o=za;return za=n,o}const Bs=255,ka=5;let ld=0;const ms={};function Ll(n,o){const u=Jc(n,o);if(-1!==u)return u;const E=o[yi];E.firstCreatePass&&(n.injectorIndex=o.length,ol(E.data,n),ol(o,null),ol(E.blueprint,null));const R=Zs(n,o),K=n.injectorIndex;if(Yl(R)){const me=Ms(R),Ve=Dl(R,o),ot=Ve[yi].data;for(let Lt=0;Lt<8;Lt++)o[K+Lt]=Ve[me+Lt]|ot[me+Lt]}return o[K+8]=R,K}function ol(n,o){n.push(0,0,0,0,0,0,0,0,o)}function Jc(n,o){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===o[n.injectorIndex+8]?-1:n.injectorIndex}function Zs(n,o){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let u=0,E=null,R=o;for(;null!==R;){if(E=Xc(R),null===E)return aa;if(u++,R=R[sr],-1!==E.injectorIndex)return E.injectorIndex|u<<16}return aa}function Jl(n,o,u){!function bc(n,o,u){let E;"string"==typeof u?E=u.charCodeAt(0)||0:u.hasOwnProperty(mn)&&(E=u[mn]),null==E&&(E=u[mn]=ld++);const R=E&Bs;o.data[n+(R>>ka)]|=1<<R}(n,o,u)}function kl(n,o,u){if(u&_e.Optional||void 0!==n)return n;Fe()}function Ql(n,o,u,E){if(u&_e.Optional&&void 0===E&&(E=null),!(u&(_e.Self|_e.Host))){const R=n[qn],K=Ge(void 0);try{return R?R.get(o,E,u&_e.Optional):ct(o,E,u&_e.Optional)}finally{Ge(K)}}return kl(E,0,u)}function Ec(n,o,u,E=_e.Default,R){if(null!==n){if(2048&o[$i]&&!(E&_e.Self)){const me=function qc(n,o,u,E,R){let K=n,me=o;for(;null!==K&&null!==me&&2048&me[$i]&&!(512&me[$i]);){const Ve=kc(K,me,u,E|_e.Self,ms);if(Ve!==ms)return Ve;let ot=K.parent;if(!ot){const Lt=me[js];if(Lt){const rn=Lt.get(u,ms,E);if(rn!==ms)return rn}ot=Xc(me),me=me[sr]}K=ot}return R}(n,o,u,E,ms);if(me!==ms)return me}const K=kc(n,o,u,E,ms);if(K!==ms)return K}return Ql(o,u,E,R)}function kc(n,o,u,E,R){const K=function Ml(n){if("string"==typeof n)return n.charCodeAt(0)||0;const o=n.hasOwnProperty(mn)?n[mn]:void 0;return"number"==typeof o?o>=0?o&Bs:Fc:o}(u);if("function"==typeof K){if(!zs(o,n,E))return E&_e.Host?kl(R,0,E):Ql(o,u,E,R);try{const me=K(E);if(null!=me||E&_e.Optional)return me;Fe()}finally{Po()}}else if("number"==typeof K){let me=null,Ve=Jc(n,o),ot=aa,Lt=E&_e.Host?o[Wi][$r]:null;for((-1===Ve||E&_e.SkipSelf)&&(ot=-1===Ve?Zs(n,o):o[Ve+8],ot!==aa&&Fl(E,!1)?(me=o[yi],Ve=Ms(ot),o=Dl(ot,o)):Ve=-1);-1!==Ve;){const rn=o[yi];if(Al(K,Ve,rn.data)){const Cn=Qc(Ve,o,u,me,E,Lt);if(Cn!==ms)return Cn}ot=o[Ve+8],ot!==aa&&Fl(E,o[yi].data[Ve+8]===Lt)&&Al(K,Ve,o)?(me=rn,Ve=Ms(ot),o=Dl(ot,o)):Ve=-1}}return R}function Qc(n,o,u,E,R,K){const me=o[yi],Ve=me.data[n+8],rn=$s(Ve,me,u,null==E?Mo(Ve)&&za:E!=me&&0!=(3&Ve.type),R&_e.Host&&K===Ve);return null!==rn?Fa(o,me,rn,Ve):ms}function $s(n,o,u,E,R){const K=n.providerIndexes,me=o.data,Ve=1048575&K,ot=n.directiveStart,rn=K>>20,jn=R?Ve+rn:n.directiveEnd;for(let Jn=E?Ve:Ve+rn;Jn<jn;Jn++){const fi=me[Jn];if(Jn<ot&&u===fi||Jn>=ot&&fi.type===u)return Jn}if(R){const Jn=me[ot];if(Jn&&mr(Jn)&&Jn.type===u)return ot}return null}function Fa(n,o,u,E){let R=n[u];const K=o.data;if(function Cl(n){return n instanceof hs}(R)){const me=R;me.resolving&&function z(n,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${u}`)}(function B(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():y(n)}(K[u]));const Ve=Zl(me.canSeeViewProviders);me.resolving=!0;const ot=me.injectImpl?Ge(me.injectImpl):null;zs(n,E,_e.Default);try{R=n[u]=me.factory(void 0,K,n,E),o.firstCreatePass&&u>=E.directiveStart&&function br(n,o,u){const{ngOnChanges:E,ngOnInit:R,ngDoCheck:K}=o.type.prototype;if(E){const me=_a(o);(u.preOrderHooks??=[]).push(n,me),(u.preOrderCheckHooks??=[]).push(n,me)}R&&(u.preOrderHooks??=[]).push(0-n,R),K&&((u.preOrderHooks??=[]).push(n,K),(u.preOrderCheckHooks??=[]).push(n,K))}(u,K[u],o)}finally{null!==ot&&Ge(ot),Zl(Ve),me.resolving=!1,Po()}}return R}function Al(n,o,u){return!!(u[o+(n>>ka)]&1<<n)}function Fl(n,o){return!(n&_e.Self||n&_e.Host&&o)}class Bl{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,E){return Ec(this._tNode,this._lView,o,st(E),u)}}function Fc(){return new Bl(Go(),di())}function Tc(n){return En(()=>{const o=n.prototype.constructor,u=o[yn]||Sc(o),E=Object.prototype;let R=Object.getPrototypeOf(n.prototype).constructor;for(;R&&R!==E;){const K=R[yn]||Sc(R);if(K&&K!==u)return K;R=Object.getPrototypeOf(R)}return K=>new K})}function Sc(n){return N(n)?()=>{const o=Sc(A(n));return o&&o()}:_t(n)}function Xc(n){const o=n[yi],u=o.type;return 2===u?o.declTNode:1===u?n[$r]:null}function ql(n){return function vd(n,o){if("class"===o)return n.classes;if("style"===o)return n.styles;const u=n.attrs;if(u){const E=u.length;let R=0;for(;R<E;){const K=u[R];if(Tn(K))break;if(0===K)R+=2;else if("number"==typeof K)for(R++;R<E&&"string"==typeof u[R];)R++;else{if(K===o)return u[R+1];R+=2}}}return null}(Go(),n)}const Ba="__parameters__";function $a(n,o,u){return En(()=>{const E=function Ul(n){return function(...u){if(n){const E=n(...u);for(const R in E)this[R]=E[R]}}}(o);function R(...K){if(this instanceof R)return E.apply(this,K),this;const me=new R(...K);return Ve.annotation=me,Ve;function Ve(ot,Lt,rn){const Cn=ot.hasOwnProperty(Ba)?ot[Ba]:Object.defineProperty(ot,Ba,{value:[]})[Ba];for(;Cn.length<=rn;)Cn.push(null);return(Cn[rn]=Cn[rn]||[]).push(me),ot}}return u&&(R.prototype=Object.create(u.prototype)),R.prototype.ngMetadataName=n,R.annotationCls=R,R})}function Sa(n,o){n.forEach(u=>Array.isArray(u)?Sa(u,o):o(u))}function ed(n,o,u){o>=n.length?n.push(u):n.splice(o,0,u)}function nc(n,o){return o>=n.length-1?n.pop():n.splice(o,1)[0]}function Il(n,o){const u=[];for(let E=0;E<n;E++)u.push(o);return u}function dt(n,o,u){let E=hn(n,o);return E>=0?n[1|E]=u:(E=~E,function cd(n,o,u,E){let R=n.length;if(R==o)n.push(u,E);else if(1===R)n.push(E,n[0]),n[0]=u;else{for(R--,n.push(n[R-1],n[R]);R>o;)n[R]=n[R-2],R--;n[o]=u,n[o+1]=E}}(n,E,o,u)),E}function Ht(n,o){const u=hn(n,o);if(u>=0)return n[1|u]}function hn(n,o){return function Gn(n,o,u){let E=0,R=n.length>>u;for(;R!==E;){const K=E+(R-E>>1),me=n[K<<u];if(o===me)return K<<u;me>o?R=K:E=K+1}return~(R<<u)}(n,o,1)}const al=St($a("Optional"),8),bo=St($a("SkipSelf"),4);function jt(n){return 128==(128&n.flags)}var cn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(cn||{});const bn=/^>|^->|<!--|-->|--!>|<!-$/g,Bn=/(<|>)/,ti="\u200b$1\u200b";const ui=new Map;let oi=0;const Xs="__ngContext__";function Dr(n,o){Sr(o)?(n[Xs]=o[ko],function hi(n){ui.set(n[ko],n)}(o)):n[Xs]=o}let Ic;function hd(n,o){return Ic(n,o)}function Yd(n){const o=n[Pr];return io(o)?o[Pr]:o}function pu(n){return tf(n[Hi])}function ef(n){return tf(n[Kr])}function tf(n){for(;null!==n&&!io(n);)n=n[Kr];return n}function Ld(n,o,u,E,R){if(null!=E){let K,me=!1;io(E)?K=E:Sr(E)&&(me=!0,E=E[Tr]);const Ve=or(E);0===n&&null!==u?null==R?sf(o,u,Ve):Td(o,u,Ve,R||null,!0):1===n&&null!==u?Td(o,u,Ve,R||null,!0):2===n?function lu(n,o,u){const E=su(n,o);E&&function $f(n,o,u,E){n.removeChild(o,u,E)}(n,E,o,u)}(o,Ve,me):3===n&&o.destroyNode(Ve),null!=K&&function hf(n,o,u,E,R){const K=u[co];K!==or(u)&&Ld(o,n,E,K,R);for(let Ve=Wr;Ve<u.length;Ve++){const ot=u[Ve];kd(ot[yi],ot,n,o,E,K)}}(o,n,K,u,R)}}function nu(n,o){return n.createText(o)}function gu(n,o){return n.createComment(function zn(n){return n.replace(bn,o=>o.replace(Bn,ti))}(o))}function zd(n,o,u){return n.createElement(o,u)}function vu(n,o){const u=n[xs],E=u.indexOf(o);uo(o),u.splice(E,1)}function yu(n,o){if(n.length<=Wr)return;const u=Wr+o,E=n[u];if(E){const R=E[Ir];null!==R&&R!==n&&vu(R,E),o>0&&(n[u-1][Kr]=E[Kr]);const K=nc(n,Wr+o);!function Vf(n,o){kd(n,o,o[li],2,null,null),o[Tr]=null,o[$r]=null}(E[yi],E);const me=K[Lo];null!==me&&me.detachView(K[yi]),E[Pr]=null,E[Kr]=null,E[$i]&=-129}return E}function rf(n,o){if(!(256&o[$i])){const u=o[li];o[os]?.destroy(),o[ss]?.destroy(),u.destroyNode&&kd(n,o,u,3,null,null),function Wf(n){let o=n[Hi];if(!o)return ru(n[yi],n);for(;o;){let u=null;if(Sr(o))u=o[Hi];else{const E=o[Wr];E&&(u=E)}if(!u){for(;o&&!o[Kr]&&o!==n;)Sr(o)&&ru(o[yi],o),o=o[Pr];null===o&&(o=n),Sr(o)&&ru(o[yi],o),u=o&&o[Kr]}o=u}}(o)}}function ru(n,o){if(!(256&o[$i])){o[$i]&=-129,o[$i]|=256,function Zf(n,o){let u;if(null!=n&&null!=(u=n.destroyHooks))for(let E=0;E<u.length;E+=2){const R=o[u[E]];if(!(R instanceof hs)){const K=u[E+1];if(Array.isArray(K))for(let me=0;me<K.length;me+=2){const Ve=R[K[me]],ot=K[me+1];Ts(4,Ve,ot);try{ot.call(Ve)}finally{Ts(5,Ve,ot)}}else{Ts(4,R,K);try{K.call(R)}finally{Ts(5,R,K)}}}}}(n,o),function zf(n,o){const u=n.cleanup,E=o[mo];if(null!==u)for(let K=0;K<u.length-1;K+=2)if("string"==typeof u[K]){const me=u[K+3];me>=0?E[me]():E[-me].unsubscribe(),K+=2}else u[K].call(E[u[K+1]]);null!==E&&(o[mo]=null);const R=o[eo];if(null!==R){o[eo]=null;for(let K=0;K<R.length;K++)(0,R[K])()}}(n,o),1===o[yi].type&&o[li].destroy();const u=o[Ir];if(null!==u&&io(o[Pr])){u!==o[Pr]&&vu(u,o);const E=o[Lo];null!==E&&E.detachView(n)}!function wi(n){ui.delete(n[ko])}(o)}}function ou(n,o,u){return Zd(n,o.parent,u)}function Zd(n,o,u){let E=o;for(;null!==E&&40&E.type;)E=(o=E).parent;if(null===E)return u[Tr];{const{componentOffset:R}=E;if(R>-1){const{encapsulation:K}=n.data[E.directiveStart+R];if(K===Mn.None||K===Mn.Emulated)return null}return Yt(E,u)}}function Td(n,o,u,E,R){n.insertBefore(o,u,E,R)}function sf(n,o,u){n.appendChild(o,u)}function af(n,o,u,E,R){null!==E?Td(n,o,u,E,R):sf(n,o,u)}function su(n,o){return n.parentNode(o)}function lf(n,o,u){return bu(n,o,u)}function cf(n,o,u){return 40&n.type?Yt(n,u):null}let Eu,cu,H,zt,bu=cf;function df(n,o){bu=n,Eu=o}function au(n,o,u,E){const R=ou(n,E,o),K=o[li],Ve=lf(E.parent||o[$r],E,o);if(null!=R)if(Array.isArray(u))for(let ot=0;ot<u.length;ot++)af(K,R,u[ot],Ve,!1);else af(K,R,u,Ve,!1);void 0!==Eu&&Eu(K,E,o,u,R)}function $d(n,o){if(null!==o){const u=o.type;if(3&u)return Yt(o,n);if(4&u)return Su(-1,n[o.index]);if(8&u){const E=o.child;if(null!==E)return $d(n,E);{const R=n[o.index];return io(R)?Su(-1,R):or(R)}}if(32&u)return hd(o,n)()||or(n[o.index]);{const E=Tu(n,o);return null!==E?Array.isArray(E)?E[0]:$d(Yd(n[Wi]),E):$d(n,o.next)}}return null}function Tu(n,o){return null!==o?n[Wi][$r].projection[o.projection]:null}function Su(n,o){const u=Wr+n+1;if(u<o.length){const E=o[u],R=E[yi].firstChild;if(null!==R)return $d(E,R)}return o[co]}function Cu(n,o,u,E,R,K,me){for(;null!=u;){const Ve=E[u.index],ot=u.type;if(me&&0===o&&(Ve&&Dr(or(Ve),E),u.flags|=2),32!=(32&u.flags))if(8&ot)Cu(n,o,u.child,E,R,K,!1),Ld(o,n,R,Ve,K);else if(32&ot){const Lt=hd(u,E);let rn;for(;rn=Lt();)Ld(o,n,R,rn,K);Ld(o,n,R,Ve,K)}else 16&ot?ff(n,o,E,u,R,K):Ld(o,n,R,Ve,K);u=me?u.projectionNext:u.next}}function kd(n,o,u,E,R,K){Cu(u,E,n.firstChild,o,R,K,!1)}function ff(n,o,u,E,R,K){const me=u[Wi],ot=me[$r].projection[E.projection];if(Array.isArray(ot))for(let Lt=0;Lt<ot.length;Lt++)Ld(o,n,R,ot[Lt],K);else{let Lt=ot;const rn=me[Pr];jt(E)&&(Lt.flags|=128),Cu(n,o,Lt,rn,R,K,!0)}}function mf(n,o,u){""===u?n.removeAttribute(o,"class"):n.setAttribute(o,"class",u)}function pf(n,o,u){const{mergedAttrs:E,classes:R,styles:K}=u;null!==E&&ht(n,o,E),null!==R&&mf(n,o,R),null!==K&&function eh(n,o,u){n.setAttribute(o,"style",u)}(n,o,K)}function md(n){return function Du(){if(void 0===cu&&(cu=null,tt.trustedTypes))try{cu=tt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cu}()?.createHTML(n)||n}function ve(n){H=n}function Tt(){if(void 0!==H)return H;if(typeof document<"u")return document;throw new T(210,!1)}function Pn(){if(void 0===zt&&(zt=null,tt.trustedTypes))try{zt=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zt}function Un(n){return Pn()?.createHTML(n)||n}function ii(n){return Pn()?.createScriptURL(n)||n}class Mi{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I})`}}class Ei extends Mi{getTypeName(){return"HTML"}}class ki extends Mi{getTypeName(){return"Style"}}class qr extends Mi{getTypeName(){return"Script"}}class Or extends Mi{getTypeName(){return"URL"}}class er extends Mi{getTypeName(){return"ResourceURL"}}function yr(n){return n instanceof Mi?n.changingThisBreaksApplicationSecurity:n}function Mr(n,o){const u=function Wo(n){return n instanceof Mi&&n.getTypeName()||null}(n);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${I})`)}return u===o}function Gr(n){return new Ei(n)}function so(n){return new ki(n)}function Eo(n){return new qr(n)}function Qo(n){return new Or(n)}function fo(n){return new er(n)}function ca(n){const o=new Ua(n);return function sc(){try{return!!(new window.DOMParser).parseFromString(md(""),"text/html")}catch{return!1}}()?new ea(o):o}class ea{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(md(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Ua{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=md(o),u}}const Xa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wc(n){return(n=String(n)).match(Xa)?n:"unsafe:"+n}function Ga(n){const o={};for(const u of n.split(","))o[u]=!0;return o}function Ca(...n){const o={};for(const u of n)for(const E in u)u.hasOwnProperty(E)&&(o[E]=!0);return o}const Hl=Ga("area,br,col,hr,img,wbr"),Oc=Ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),id=Ga("rp,rt"),jc=Ca(Hl,Ca(Oc,Ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ca(id,Ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ca(id,Oc)),Vc=Ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bd=Ca(Vc,Ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),od=Ga("script,style,template");class Qd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,E=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?E=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,E&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let R=this.checkClobberedElement(u,u.nextSibling);if(R){u=R;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!jc.hasOwnProperty(u))return this.sanitizedSomething=!0,!od.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const E=o.attributes;for(let R=0;R<E.length;R++){const K=E.item(R),me=K.name,Ve=me.toLowerCase();if(!Bd.hasOwnProperty(Ve)){this.sanitizedSomething=!0;continue}let ot=K.value;Vc[Ve]&&(ot=wc(ot)),this.buf.push(" ",me,'="',Mu(ot),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();jc.hasOwnProperty(u)&&!Hl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Mu(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const gf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ud=/([^\#-~ |!])/g;function Mu(n){return n.replace(/&/g,"&amp;").replace(gf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ud,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gd;function Au(n,o){let u=null;try{Gd=Gd||ca(n);let E=o?String(o):"";u=Gd.getInertBodyElement(E);let R=5,K=E;do{if(0===R)throw new Error("Failed to sanitize html because the input is unstable");R--,E=K,K=u.innerHTML,u=Gd.getInertBodyElement(E)}while(E!==K);return md((new Qd).sanitizeChildren(de(u)||u))}finally{if(u){const E=de(u)||u;for(;E.firstChild;)E.removeChild(E.firstChild)}}}function de(n){return"content"in n&&function Z(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var F=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(F||{});function ue(n){const o=Xi();return o?Un(o.sanitize(F.HTML,n)||""):Mr(n,"HTML")?Un(yr(n)):Au(Tt(),y(n))}function Mt(n){const o=Xi();return o?o.sanitize(F.URL,n)||"":Mr(n,"URL")?yr(n):wc(y(n))}function nn(n){const o=Xi();if(o)return ii(o.sanitize(F.RESOURCE_URL,n)||"");if(Mr(n,"ResourceURL"))return ii(yr(n));throw new T(904,!1)}function xi(n,o,u){return function gi(n,o){return"src"===o&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===o&&("base"===n||"link"===n)?nn:Mt}(o,u)(n)}function Xi(){const n=di();return n&&n[mi].sanitizer}class Oi{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Re({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const go=new Oi("ENVIRONMENT_INITIALIZER"),gs=new Oi("INJECTOR",-1),Rs=new Oi("INJECTOR_DEF_TYPES");class da{get(o,u=Dt){if(u===Dt){const E=new Error(`NullInjectorError: No provider for ${f(o)}!`);throw E.name="NullInjectorError",E}return u}}function Xr(n){return{\u0275providers:n}}function ll(...n){return{\u0275providers:Da(0,n),\u0275fromNgModule:!0}}function Da(n,...o){const u=[],E=new Set;let R;return Sa(o,K=>{const me=K;Kc(me,u,[],E)&&(R||=[],R.push(me))}),void 0!==R&&cl(R,u),u}function cl(n,o){for(let u=0;u<n.length;u++){const{providers:R}=n[u];Wc(R,K=>{o.push(K)})}}function Kc(n,o,u,E){if(!(n=A(n)))return!1;let R=null,K=X(n);const me=!K&&zi(n);if(K||me){if(me&&!me.standalone)return!1;R=n}else{const ot=n.ngModule;if(K=X(ot),!K)return!1;R=ot}const Ve=E.has(R);if(me){if(Ve)return!1;if(E.add(R),me.dependencies){const ot="function"==typeof me.dependencies?me.dependencies():me.dependencies;for(const Lt of ot)Kc(Lt,o,u,E)}}else{if(!K)return!1;{if(null!=K.imports&&!Ve){let Lt;E.add(R);try{Sa(K.imports,rn=>{Kc(rn,o,u,E)&&(Lt||=[],Lt.push(rn))})}finally{}void 0!==Lt&&cl(Lt,o)}if(!Ve){const Lt=_t(R)||(()=>new R);o.push({provide:R,useFactory:Lt,deps:Nn},{provide:Rs,useValue:R,multi:!0},{provide:go,useValue:()=>it(R),multi:!0})}const ot=K.providers;null==ot||Ve||Wc(ot,rn=>{o.push(rn)})}}return R!==n&&void 0!==n.providers}function Wc(n,o){for(let u of n)O(u)&&(u=u.\u0275providers),Array.isArray(u)?Wc(u,o):o(u)}const nh=c({provide:String,useValue:c});function Hd(n){return null!==n&&"object"==typeof n&&nh in n}function Md(n){return"function"==typeof n}const lr=new Oi("Set Injector scope."),fr={},To={};let ua;function ac(){return void 0===ua&&(ua=new da),ua}class Ma{}class sd extends Ma{get destroyed(){return this._destroyed}constructor(o,u,E,R){super(),this.parent=u,this.source=E,this.scopes=R,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vh(o,me=>this.processProvider(me)),this.records.set(gs,Pc(void 0,this)),R.has("environment")&&this.records.set(Ma,Pc(void 0,this));const K=this.records.get(lr);null!=K&&"string"==typeof K.value&&this.scopes.add(K.value),this.injectorDefTypes=new Set(this.get(Rs.multi,Nn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=wt(this),E=Ge(void 0);try{return o()}finally{wt(u),Ge(E)}}get(o,u=Dt,E=_e.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(_n))return o[_n](this);E=st(E);const R=wt(this),K=Ge(void 0);try{if(!(E&_e.SkipSelf)){let Ve=this.records.get(o);if(void 0===Ve){const ot=function vf(n){return"function"==typeof n||"object"==typeof n&&n instanceof Oi}(o)&&ie(o);Ve=ot&&this.injectableDefInScope(ot)?Pc(_s(o),fr):null,this.records.set(o,Ve)}if(null!=Ve)return this.hydrate(o,Ve)}return(E&_e.Self?ac():this.parent).get(o,u=E&_e.Optional&&u===Dt?null:u)}catch(me){if("NullInjectorError"===me.name){if((me[We]=me[We]||[]).unshift(f(o)),R)throw me;return function xt(n,o,u,E){const R=n[We];throw o[qt]&&R.unshift(o[qt]),n.message=function on(n,o,u,E=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let R=f(o);if(Array.isArray(o))R=o.map(f).join(" -> ");else if("object"==typeof o){let K=[];for(let me in o)if(o.hasOwnProperty(me)){let Ve=o[me];K.push(me+":"+("string"==typeof Ve?JSON.stringify(Ve):f(Ve)))}R=`{${K.join(", ")}}`}return`${u}${E?"("+E+")":""}[${R}]: ${n.replace(Wt,"\n  ")}`}("\n"+n.message,R,u,E),n.ngTokenPath=R,n[We]=null,n}(me,o,"R3InjectorError",this.source)}throw me}finally{Ge(K),wt(R)}}resolveInjectorInitializers(){const o=wt(this),u=Ge(void 0);try{const E=this.get(go.multi,Nn,_e.Self);for(const R of E)R()}finally{wt(o),Ge(u)}}toString(){const o=[],u=this.records;for(const E of u.keys())o.push(f(E));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(o){let u=Md(o=A(o))?o:A(o&&o.provide);const E=function jh(n){return Hd(n)?Pc(void 0,n.useValue):Pc(el(n),fr)}(o);if(Md(o)||!0!==o.multi)this.records.get(u);else{let R=this.records.get(u);R||(R=Pc(void 0,fr,!0),R.factory=()=>at(R.multi),this.records.set(u,R)),u=o,R.multi.push(o)}this.records.set(u,E)}hydrate(o,u){return u.value===fr&&(u.value=To,u.value=u.factory()),"object"==typeof u.value&&u.value&&function xu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=A(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function _s(n){const o=ie(n),u=null!==o?o.factory:_t(n);if(null!==u)return u;if(n instanceof Oi)throw new T(204,!1);if(n instanceof Function)return function ih(n){const o=n.length;if(o>0)throw Il(o,"?"),new T(204,!1);const u=function ee(n){return n&&(n[$]||n[J])||null}(n);return null!==u?()=>u.factory(n):()=>new n}(n);throw new T(204,!1)}function el(n,o,u){let E;if(Md(n)){const R=A(n);return _t(R)||_s(R)}if(Hd(n))E=()=>A(n.useValue);else if(function _f(n){return!(!n||!n.useFactory)}(n))E=()=>n.useFactory(...at(n.deps||[]));else if(function Dd(n){return!(!n||!n.useExisting)}(n))E=()=>it(A(n.useExisting));else{const R=A(n&&(n.useClass||n.provide));if(!function Rc(n){return!!n.deps}(n))return _t(R)||_s(R);E=()=>new R(...at(n.deps))}return E}function Pc(n,o,u=!1){return{factory:n,value:o,multi:u?[]:void 0}}function Vh(n,o){for(const u of n)Array.isArray(u)?Vh(u,o):u&&O(u)?Vh(u.\u0275providers,o):o(u)}const Mp=new Oi("AppId",{providedIn:"root",factory:()=>ay}),ay="ng",Ap=new Oi("Platform Initializer"),Kh=new Oi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ly=new Oi("AnimationModuleType"),cy=new Oi("CSP nonce",{providedIn:"root",factory:()=>Tt().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ip=(n,o)=>null;function wp(n,o){return Ip(n,o)}class vy{}class Rp{}class by{resolveComponentFactory(o){throw function yy(n){const o=Error(`No component factory found for ${f(n)}.`);return o.ngComponent=n,o}(o)}}let Ef=(()=>{class n{static#e=this.NULL=new by}return n})();function Ey(){return wu(Go(),di())}function wu(n,o){return new Tf(Yt(n,o))}let Tf=(()=>{class n{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=Ey}return n})();function Ty(n){return n instanceof Tf?n.nativeElement:n}class Lp{}let Sy=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Cy(){const n=di(),u=Zn(Go().index,n);return(Sr(u)?u:n)[li]}()}return n})(),Dy=(()=>{class n{static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:()=>null})}return n})();class kp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Fp=new kp("16.1.7"),tm={};function Sf(n){for(;n;){n[$i]|=64;const o=Yd(n);if(Fo(n)&&!o)return n;n=o}return null}function nm(n){return n.ngOriginalError}class Ou{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&nm(o);for(;u&&nm(u);)u=nm(u);return u||null}}const Gp=new Oi("",{providedIn:"root",factory:()=>!1});function Hp(n){return n.ownerDocument.defaultView}function jd(n){return n instanceof Function?n():n}class Yp extends cs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Sf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,E){const R=to(this);this.trackingVersion++;try{o(u,E)}finally{to(R)}}destroy(){this.trackingVersion++}}let ch=null;function zp(){return ch??=new Yp,ch}function Zp(n,o){return n[o]??zp()}function $p(n,o){const u=zp();u.hasReadASignal&&(n[o]=ch,u.lView=n,ch=new Yp)}const kr={};function Jp(n){Qp(ar(),di(),Ue()+n,!1)}function Qp(n,o,u,E){if(!E)if(3==(3&o[$i])){const K=n.preOrderCheckHooks;null!==K&&oo(o,K,u)}else{const K=n.preOrderHooks;null!==K&&$o(o,K,0,u)}rt(u)}function tg(n,o=null,u=null,E){const R=ng(n,o,u,E);return R.resolveInjectorInitializers(),R}function ng(n,o=null,u=null,E,R=new Set){const K=[u||Nn,ll(n)];return E=E||("object"==typeof n?void 0:f(n)),new sd(K,o||ac(),E||null,R)}let qd=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Dt;static#t=this.NULL=new da;static create(u,E){if(Array.isArray(u))return tg({name:""},E,u,"");{const R=u.name??"";return tg({name:R},u.parent,u.providers,R)}}static#n=this.\u0275prov=Re({token:n,providedIn:"any",factory:()=>it(gs)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Ru(n,o=_e.Default){const u=di();return null===u?it(n,o):Ec(Go(),u,A(n),o)}function ig(){throw new Error("invalid")}function dh(n,o,u,E,R,K,me,Ve,ot,Lt,rn){const Cn=o.blueprint.slice();return Cn[Tr]=R,Cn[$i]=140|E,(null!==Lt||n&&2048&n[$i])&&(Cn[$i]|=2048),ur(Cn),Cn[Pr]=Cn[sr]=n,Cn[Dn]=u,Cn[mi]=me||n&&n[mi],Cn[li]=Ve||n&&n[li],Cn[qn]=ot||n&&n[qn]||null,Cn[$r]=K,Cn[ko]=function Ai(){return oi++}(),Cn[_o]=rn,Cn[js]=Lt,Cn[Wi]=2==o.type?n[Wi]:Cn,Cn}function Nu(n,o,u,E,R){let K=n.data[o];if(null===K)K=im(n,o,u,E,R),function Bo(){return Vi.lFrame.inI18n}()&&(K.flags|=32);else if(64&K.type){K.type=u,K.value=E,K.attrs=R;const me=il();K.injectorIndex=null===me?-1:me.injectorIndex}return ro(K,!0),K}function im(n,o,u,E,R){const K=Zc(),me=Wa(),ot=n.data[o]=function Wy(n,o,u,E,R,K){let me=o?o.injectorIndex:-1,Ve=0;return ra()&&(Ve|=128),{type:u,index:E,insertBeforeIndex:null,injectorIndex:me,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ve,providerIndexes:0,value:R,attrs:K,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,me?K:K&&K.parent,u,o,E,R);return null===n.firstChild&&(n.firstChild=ot),null!==K&&(me?null==K.child&&null!==ot.parent&&(K.child=ot):null===K.next&&(K.next=ot,ot.prev=K)),ot}function Cf(n,o,u,E){if(0===u)return-1;const R=o.length;for(let K=0;K<u;K++)o.push(E),n.blueprint.push(E),n.data.push(null);return R}function rg(n,o,u,E,R){const K=Zp(o,os),me=Ue(),Ve=2&E;try{if(rt(-1),Ve&&o.length>cr&&Qp(n,o,cr,!1),Ts(Ve?2:0,R),Ve)K.runInContext(u,E,R);else{const Lt=to(null);try{u(E,R)}finally{to(Lt)}}}finally{Ve&&null===o[os]&&$p(o,os),rt(me),Ts(Ve?3:1,R)}}function rm(n,o,u){if(fa(o)){const E=to(null);try{const K=o.directiveEnd;for(let me=o.directiveStart;me<K;me++){const Ve=n.data[me];Ve.contentQueries&&Ve.contentQueries(1,u[me],me)}}finally{to(E)}}}function om(n,o,u){ya()&&(function qy(n,o,u,E){const R=u.directiveStart,K=u.directiveEnd;Mo(u)&&function ob(n,o,u){const E=Yt(o,n),R=og(u);let me=16;u.signals?me=4096:u.onPush&&(me=64);const Ve=uh(n,dh(n,R,null,me,E,o,null,n[mi].rendererFactory.createRenderer(E,u),null,null,null));n[o.index]=Ve}(o,u,n.data[R+u.componentOffset]),n.firstCreatePass||Ll(u,o),Dr(E,o);const me=u.initialInputs;for(let Ve=R;Ve<K;Ve++){const ot=n.data[Ve],Lt=Fa(o,n,Ve,u);Dr(Lt,o),null!==me&&sb(0,Ve-R,Lt,ot,0,me),mr(ot)&&(Zn(u.index,o)[Dn]=Fa(o,n,Ve,u))}}(n,o,u,Yt(u,o)),64==(64&u.flags)&&dg(n,o,u))}function sm(n,o,u=Yt){const E=o.localNames;if(null!==E){let R=o.index+1;for(let K=0;K<E.length;K+=2){const me=E[K+1],Ve=-1===me?u(o,n):n[me];n[R++]=Ve}}}function og(n){const o=n.tView;return null===o||o.incompleteFirstPass?n.tView=am(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):o}function am(n,o,u,E,R,K,me,Ve,ot,Lt,rn){const Cn=cr+E,jn=Cn+R,Jn=function Uy(n,o){const u=[];for(let E=0;E<o;E++)u.push(E<n?null:kr);return u}(Cn,jn),fi="function"==typeof Lt?Lt():Lt;return Jn[yi]={type:n,blueprint:Jn,template:u,queries:null,viewQuery:Ve,declTNode:o,data:Jn.slice().fill(null,Cn),bindingStartIndex:Cn,expandoStartIndex:jn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof K?K():K,pipeRegistry:"function"==typeof me?me():me,firstChild:null,schemas:ot,consts:fi,incompleteFirstPass:!1,ssrId:rn}}let sg=n=>null;function ag(n,o,u,E){for(let R in n)if(n.hasOwnProperty(R)){u=null===u?{}:u;const K=n[R];null===E?lg(u,o,R,K):E.hasOwnProperty(R)&&lg(u,o,E[R],K)}return u}function lg(n,o,u,E){n.hasOwnProperty(u)?n[u].push(o,E):n[u]=[o,E]}function Yc(n,o,u,E,R,K,me,Ve){const ot=Yt(o,u);let rn,Lt=o.inputs;!Ve&&null!=Lt&&(rn=Lt[E])?(fm(n,u,rn,E,R),Mo(o)&&function Zy(n,o){const u=Zn(o,n);16&u[$i]||(u[$i]|=64)}(u,o.index)):3&o.type&&(E=function zy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(E),R=null!=me?me(R,o.value||"",E):R,K.setProperty(ot,E,R))}function lm(n,o,u,E){if(ya()){const R=null===E?null:{"":-1},K=function eb(n,o){const u=n.directiveRegistry;let E=null,R=null;if(u)for(let K=0;K<u.length;K++){const me=u[K];if(Kn(o,me.selectors,!1))if(E||(E=[]),mr(me))if(null!==me.findHostDirectiveDefs){const Ve=[];R=R||new Map,me.findHostDirectiveDefs(me,Ve,R),E.unshift(...Ve,me),cm(n,o,Ve.length)}else E.unshift(me),cm(n,o,0);else R=R||new Map,me.findHostDirectiveDefs?.(me,E,R),E.push(me)}return null===E?null:[E,R]}(n,u);let me,Ve;null===K?me=Ve=null:[me,Ve]=K,null!==me&&cg(n,o,u,me,R,Ve),R&&function tb(n,o,u){if(o){const E=n.localNames=[];for(let R=0;R<o.length;R+=2){const K=u[o[R+1]];if(null==K)throw new T(-301,!1);E.push(o[R],K)}}}(u,E,R)}u.mergedAttrs=Ct(u.mergedAttrs,u.attrs)}function cg(n,o,u,E,R,K){for(let Lt=0;Lt<E.length;Lt++)Jl(Ll(u,o),n,E[Lt].type);!function ib(n,o,u){n.flags|=1,n.directiveStart=o,n.directiveEnd=o+u,n.providerIndexes=o}(u,n.data.length,E.length);for(let Lt=0;Lt<E.length;Lt++){const rn=E[Lt];rn.providersResolver&&rn.providersResolver(rn)}let me=!1,Ve=!1,ot=Cf(n,o,E.length,null);for(let Lt=0;Lt<E.length;Lt++){const rn=E[Lt];u.mergedAttrs=Ct(u.mergedAttrs,rn.hostAttrs),rb(n,u,o,ot,rn),nb(ot,rn,R),null!==rn.contentQueries&&(u.flags|=4),(null!==rn.hostBindings||null!==rn.hostAttrs||0!==rn.hostVars)&&(u.flags|=64);const Cn=rn.type.prototype;!me&&(Cn.ngOnChanges||Cn.ngOnInit||Cn.ngDoCheck)&&((n.preOrderHooks??=[]).push(u.index),me=!0),!Ve&&(Cn.ngOnChanges||Cn.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(u.index),Ve=!0),ot++}!function Yy(n,o,u){const R=o.directiveEnd,K=n.data,me=o.attrs,Ve=[];let ot=null,Lt=null;for(let rn=o.directiveStart;rn<R;rn++){const Cn=K[rn],jn=u?u.get(Cn):null,fi=jn?jn.outputs:null;ot=ag(Cn.inputs,rn,ot,jn?jn.inputs:null),Lt=ag(Cn.outputs,rn,Lt,fi);const bi=null===ot||null===me||kt(o)?null:ab(ot,rn,me);Ve.push(bi)}null!==ot&&(ot.hasOwnProperty("class")&&(o.flags|=8),ot.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=Ve,o.inputs=ot,o.outputs=Lt}(n,u,K)}function dg(n,o,u){const E=u.directiveStart,R=u.directiveEnd,K=u.index,me=function sa(){return Vi.lFrame.currentDirectiveIndex}();try{rt(K);for(let Ve=E;Ve<R;Ve++){const ot=n.data[Ve],Lt=o[Ve];Fs(Ve),(null!==ot.hostBindings||0!==ot.hostVars||null!==ot.hostAttrs)&&Xy(ot,Lt)}}finally{rt(-1),Fs(me)}}function Xy(n,o){null!==n.hostBindings&&n.hostBindings(1,o)}function cm(n,o,u){o.componentOffset=u,(n.components??=[]).push(o.index)}function nb(n,o,u){if(u){if(o.exportAs)for(let E=0;E<o.exportAs.length;E++)u[o.exportAs[E]]=n;mr(o)&&(u[""]=n)}}function rb(n,o,u,E,R){n.data[E]=R;const K=R.factory||(R.factory=_t(R.type)),me=new hs(K,mr(R),Ru);n.blueprint[E]=me,u[E]=me,function Jy(n,o,u,E,R){const K=R.hostBindings;if(K){let me=n.hostBindingOpCodes;null===me&&(me=n.hostBindingOpCodes=[]);const Ve=~o.index;(function Qy(n){let o=n.length;for(;o>0;){const u=n[--o];if("number"==typeof u&&u<0)return u}return 0})(me)!=Ve&&me.push(Ve),me.push(u,E,K)}}(n,o,E,Cf(n,u,R.hostVars,kr),R)}function Ad(n,o,u,E,R,K){const me=Yt(n,o);!function dm(n,o,u,E,R,K,me){if(null==K)n.removeAttribute(o,R,u);else{const Ve=null==me?y(K):me(K,E||"",R);n.setAttribute(o,R,Ve,u)}}(o[li],me,K,n.value,u,E,R)}function sb(n,o,u,E,R,K){const me=K[o];if(null!==me)for(let Ve=0;Ve<me.length;)ug(E,u,me[Ve++],me[Ve++],me[Ve++])}function ug(n,o,u,E,R){const K=to(null);try{const me=n.inputTransforms;null!==me&&me.hasOwnProperty(E)&&(R=me[E].call(o,R)),null!==n.setInput?n.setInput(o,R,u,E):o[E]=R}finally{to(K)}}function ab(n,o,u){let E=null,R=0;for(;R<u.length;){const K=u[R];if(0!==K)if(5!==K){if("number"==typeof K)break;if(n.hasOwnProperty(K)){null===E&&(E=[]);const me=n[K];for(let Ve=0;Ve<me.length;Ve+=2)if(me[Ve]===o){E.push(K,me[Ve+1],u[R+1]);break}}R+=2}else R+=2;else R+=4}return E}function fg(n,o,u,E){return[n,!0,!1,o,null,0,E,u,null,null,null]}function hg(n,o){const u=n.contentQueries;if(null!==u)for(let E=0;E<u.length;E+=2){const K=u[E+1];if(-1!==K){const me=n.data[K];El(u[E]),me.contentQueries(2,o[K],K)}}}function uh(n,o){return n[Hi]?n[Qi][Kr]=o:n[Hi]=o,n[Qi]=o,o}function um(n,o,u){El(0);const E=to(null);try{o(n,u)}finally{to(E)}}function mg(n){return n[mo]||(n[mo]=[])}function pg(n){return n.cleanup||(n.cleanup=[])}function gg(n,o,u){return(null===n||mr(n))&&(u=function Va(n){for(;Array.isArray(n);){if("object"==typeof n[Xo])return n;n=n[Tr]}return null}(u[o.index])),u[li]}function _g(n,o){const u=n[qn],E=u?u.get(Ou,null):null;E&&E.handleError(o)}function fm(n,o,u,E,R){for(let K=0;K<u.length;){const me=u[K++],Ve=u[K++];ug(n.data[me],o[me],E,Ve,R)}}function Vd(n,o,u){const E=$e(o,n);!function nf(n,o,u){n.setValue(o,u)}(n[li],E,u)}function lb(n,o){const u=Zn(o,n),E=u[yi];!function cb(n,o){for(let u=o.length;u<n.blueprint.length;u++)o.push(n.blueprint[u])}(E,u);const R=u[Tr];null!==R&&null===u[_o]&&(u[_o]=wp(R,u[qn])),hm(E,u,u[Dn])}function hm(n,o,u){Tl(o);try{const E=n.viewQuery;null!==E&&um(1,E,u);const R=n.template;null!==R&&rg(n,o,R,1,u),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&hg(n,o),n.staticViewQueries&&um(2,n.viewQuery,u);const K=n.components;null!==K&&function db(n,o){for(let u=0;u<o.length;u++)lb(n,o[u])}(o,K)}catch(E){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),E}finally{o[$i]&=-5,Na()}}let vg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(u,E,R){const K=typeof Zone>"u"?null:Zone.current,me=new hl(u,Lt=>{this.all.has(Lt)&&this.queue.set(Lt,K)},R);let Ve;this.all.add(me),me.notify();const ot=()=>{me.cleanup(),Ve?.(),this.all.delete(me),this.queue.delete(me)};return Ve=E?.onDestroy(ot),{destroy:ot}}flush(){if(0!==this.queue.size)for(const[u,E]of this.queue)this.queue.delete(u),E?E.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:()=>new n})}return n})();function fh(n,o,u){let E=u?n.styles:null,R=u?n.classes:null,K=0;if(null!==o)for(let me=0;me<o.length;me++){const Ve=o[me];"number"==typeof Ve?K=Ve:1==K?R=_(R,Ve):2==K&&(E=_(E,Ve+": "+o[++me]+";"))}u?n.styles=E:n.stylesWithoutHost=E,u?n.classes=R:n.classesWithoutHost=R}function Df(n,o,u,E,R=!1){for(;null!==u;){const K=o[u.index];if(null!==K&&E.push(or(K)),io(K)){for(let Ve=Wr;Ve<K.length;Ve++){const ot=K[Ve],Lt=ot[yi].firstChild;null!==Lt&&Df(ot[yi],ot,Lt,E)}K[co]!==K[Tr]&&E.push(K[co])}const me=u.type;if(8&me)Df(n,o,u.child,E);else if(32&me){const Ve=hd(u,o);let ot;for(;ot=Ve();)E.push(ot)}else if(16&me){const Ve=Tu(o,u);if(Array.isArray(Ve))E.push(...Ve);else{const ot=Yd(o[Wi]);Df(ot[yi],ot,Ve,E,!0)}}u=R?u.projectionNext:u.next}return E}function hh(n,o,u,E=!0){const R=o[mi].rendererFactory;R.begin&&R.begin();try{yg(n,o,n.template,u)}catch(me){throw E&&_g(o,me),me}finally{R.end&&R.end(),o[mi].effectManager?.flush()}}function yg(n,o,u,E){const R=o[$i];if(256!=(256&R)){o[mi].effectManager?.flush(),Tl(o);try{ur(o),function yl(n){return Vi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==u&&rg(n,o,u,2,E);const me=3==(3&R);if(me){const Lt=n.preOrderCheckHooks;null!==Lt&&oo(o,Lt,null)}else{const Lt=n.preOrderHooks;null!==Lt&&$o(o,Lt,0,null),fs(o,0)}if(function pb(n){for(let o=pu(n);null!==o;o=ef(o)){if(!o[Vs])continue;const u=o[xs];for(let E=0;E<u.length;E++){nr(u[E])}}}(o),bg(o,2),null!==n.contentQueries&&hg(n,o),me){const Lt=n.contentCheckHooks;null!==Lt&&oo(o,Lt)}else{const Lt=n.contentHooks;null!==Lt&&$o(o,Lt,1),fs(o,1)}!function By(n,o){const u=n.hostBindingOpCodes;if(null===u)return;const E=Zp(o,ss);try{for(let R=0;R<u.length;R++){const K=u[R];if(K<0)rt(~K);else{const me=K,Ve=u[++R],ot=u[++R];Ta(Ve,me),E.runInContext(ot,2,o[me])}}}finally{null===o[ss]&&$p(o,ss),rt(-1)}}(n,o);const Ve=n.components;null!==Ve&&Tg(o,Ve,0);const ot=n.viewQuery;if(null!==ot&&um(2,ot,E),me){const Lt=n.viewCheckHooks;null!==Lt&&oo(o,Lt)}else{const Lt=n.viewHooks;null!==Lt&&$o(o,Lt,2),fs(o,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o[$i]&=-73,uo(o)}finally{Na()}}}function bg(n,o){for(let u=pu(n);null!==u;u=ef(u))for(let E=Wr;E<u.length;E++)Eg(u[E],o)}function gb(n,o,u){Eg(Zn(o,n),u)}function Eg(n,o){if(!function Bi(n){return 128==(128&n[$i])}(n))return;const u=n[yi];if(80&n[$i]&&0===o||1024&n[$i]||2===o)yg(u,n,u.template,n[Dn]);else if(n[Do]>0){bg(n,1);const R=n[yi].components;null!==R&&Tg(n,R,1)}}function Tg(n,o,u){for(let E=0;E<o.length;E++)gb(n,o[E],u)}class Mf{get rootNodes(){const o=this._lView,u=o[yi];return Df(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(o){this._lView[Dn]=o}get destroyed(){return 256==(256&this._lView[$i])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Pr];if(io(o)){const u=o[8],E=u?u.indexOf(this):-1;E>-1&&(yu(o,E),nc(u,E))}this._attachedToViewContainer=!1}rf(this._lView[yi],this._lView)}onDestroy(o){!function _r(n,o){if(256==(256&n[$i]))throw new T(911,!1);null===n[eo]&&(n[eo]=[]),n[eo].push(o)}(this._lView,o)}markForCheck(){Sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[$i]&=-129}reattach(){this._lView[$i]|=128}detectChanges(){hh(this._lView[yi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kf(n,o){kd(n,o,o[li],2,null,null)}(this._lView[yi],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=o}}class _b extends Mf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;hh(o[yi],o,o[Dn],!1)}checkNoChanges(){}get context(){return null}}class Sg extends Ef{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=zi(o);return new Af(u,this.ngModule)}}function Cg(n){const o=[];for(let u in n)n.hasOwnProperty(u)&&o.push({propName:n[u],templateName:u});return o}class yb{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,E){E=st(E);const R=this.injector.get(o,tm,E);return R!==tm||u===tm?R:this.parentInjector.get(o,u,E)}}class Af extends Rp{get inputs(){const o=this.componentDef,u=o.inputTransforms,E=Cg(o.inputs);if(null!==u)for(const R of E)u.hasOwnProperty(R.propName)&&(R.transform=u[R.propName]);return E}get outputs(){return Cg(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function ln(n){return n.map(Pt).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,E,R){let K=(R=R||this.ngModule)instanceof Ma?R:R?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const me=K?new yb(o,K):o,Ve=me.get(Lp,null);if(null===Ve)throw new T(407,!1);const rn={rendererFactory:Ve,sanitizer:me.get(Dy,null),effectManager:me.get(vg,null)},Cn=Ve.createRenderer(null,this.componentDef),jn=this.componentDef.selectors[0][0]||"div",Jn=E?function Gy(n,o,u,E){const K=E.get(Gp,!1)||u===Mn.ShadowDom,me=n.selectRootElement(o,K);return function Hy(n){sg(n)}(me),me}(Cn,E,this.componentDef.encapsulation,me):zd(Cn,jn,function vb(n){const o=n.toLowerCase();return"svg"===o?Ra:"math"===o?"math":null}(jn)),Gi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,tr=am(0,null,null,1,0,null,null,null,null,null,null),_i=dh(null,tr,null,Gi,null,null,rn,Cn,me,null,null);let Ar,ho;Tl(_i);try{const So=this.componentDef;let Vl,Hh=null;So.findHostDirectiveDefs?(Vl=[],Hh=new Map,So.findHostDirectiveDefs(So,Vl,Hh),Vl.push(So)):Vl=[So];const lD=function Eb(n,o){const u=n[yi],E=cr;return n[E]=o,Nu(u,E,2,"#host",null)}(_i,Jn),cD=function Tb(n,o,u,E,R,K,me){const Ve=R[yi];!function Sb(n,o,u,E){for(const R of n)o.mergedAttrs=Ct(o.mergedAttrs,R.hostAttrs);null!==o.mergedAttrs&&(fh(o,o.mergedAttrs,!0),null!==u&&pf(E,u,o))}(E,n,o,me);let ot=null;null!==o&&(ot=wp(o,R[qn]));const Lt=K.rendererFactory.createRenderer(o,u);let rn=16;u.signals?rn=4096:u.onPush&&(rn=64);const Cn=dh(R,og(u),null,rn,R[n.index],n,K,Lt,null,null,ot);return Ve.firstCreatePass&&cm(Ve,n,E.length-1),uh(R,Cn),R[n.index]=Cn}(lD,Jn,So,Vl,_i,rn,Cn);ho=Vt(tr,cr),Jn&&function Db(n,o,u,E){if(E)ht(n,u,["ng-version",Fp.full]);else{const{attrs:R,classes:K}=function Fn(n){const o=[],u=[];let E=1,R=2;for(;E<n.length;){let K=n[E];if("string"==typeof K)2===R?""!==K&&o.push(K,n[++E]):8===R&&u.push(K);else{if(!en(R))break;R=K}E++}return{attrs:o,classes:u}}(o.selectors[0]);R&&ht(n,u,R),K&&K.length>0&&mf(n,u,K.join(" "))}}(Cn,So,Jn,E),void 0!==u&&function Mb(n,o,u){const E=n.projection=[];for(let R=0;R<o.length;R++){const K=u[R];E.push(null!=K?Array.from(K):null)}}(ho,this.ngContentSelectors,u),Ar=function Cb(n,o,u,E,R,K){const me=Go(),Ve=R[yi],ot=Yt(me,R);cg(Ve,R,me,u,null,E);for(let rn=0;rn<u.length;rn++)Dr(Fa(R,Ve,me.directiveStart+rn,me),R);dg(Ve,R,me),ot&&Dr(ot,R);const Lt=Fa(R,Ve,me.directiveStart+me.componentOffset,me);if(n[Dn]=R[Dn]=Lt,null!==K)for(const rn of K)rn(Lt,o);return rm(Ve,me,n),Lt}(cD,So,Vl,Hh,_i,[Ab]),hm(tr,_i,null)}finally{Na()}return new bb(this.componentType,Ar,wu(ho,_i),_i,ho)}}class bb extends vy{constructor(o,u,E,R,K){super(),this.location=E,this._rootLView=R,this._tNode=K,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new _b(R),this.componentType=o}setInput(o,u){const E=this._tNode.inputs;let R;if(null!==E&&(R=E[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const K=this._rootLView;fm(K[yi],K,R,o,u),this.previousInputValues.set(o,u),Sf(Zn(this._tNode.index,K))}}get injector(){return new Bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Ab(){const n=Go();Qr(di()[yi],n)}function mm(n){let o=function Dg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),u=!0;const E=[n];for(;o;){let R;if(mr(n))R=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new T(903,!1);R=o.\u0275dir}if(R){if(u){E.push(R);const me=n;me.inputs=mh(n.inputs),me.inputTransforms=mh(n.inputTransforms),me.declaredInputs=mh(n.declaredInputs),me.outputs=mh(n.outputs);const Ve=R.hostBindings;Ve&&Ob(n,Ve);const ot=R.viewQuery,Lt=R.contentQueries;if(ot&&Ib(n,ot),Lt&&wb(n,Lt),d(n.inputs,R.inputs),d(n.declaredInputs,R.declaredInputs),d(n.outputs,R.outputs),null!==R.inputTransforms&&(null===me.inputTransforms&&(me.inputTransforms={}),d(me.inputTransforms,R.inputTransforms)),mr(R)&&R.data.animation){const rn=n.data;rn.animation=(rn.animation||[]).concat(R.data.animation)}}const K=R.features;if(K)for(let me=0;me<K.length;me++){const Ve=K[me];Ve&&Ve.ngInherit&&Ve(n),Ve===mm&&(u=!1)}}o=Object.getPrototypeOf(o)}!function xb(n){let o=0,u=null;for(let E=n.length-1;E>=0;E--){const R=n[E];R.hostVars=o+=R.hostVars,R.hostAttrs=Ct(R.hostAttrs,u=Ct(u,R.hostAttrs))}}(E)}function mh(n){return n===In?{}:n===Nn?[]:n}function Ib(n,o){const u=n.viewQuery;n.viewQuery=u?(E,R)=>{o(E,R),u(E,R)}:o}function wb(n,o){const u=n.contentQueries;n.contentQueries=u?(E,R,K)=>{o(E,R,K),u(E,R,K)}:o}function Ob(n,o){const u=n.hostBindings;n.hostBindings=u?(E,R)=>{o(E,R),u(E,R)}:o}function Mg(n){return o=>{o.findHostDirectiveDefs=Ag,o.hostDirectives=(Array.isArray(n)?n:n()).map(u=>"function"==typeof u?{directive:A(u),inputs:In,outputs:In}:{directive:A(u.directive),inputs:xg(u.inputs),outputs:xg(u.outputs)})}}function Ag(n,o,u){if(null!==n.hostDirectives)for(const E of n.hostDirectives){const R=jr(E.directive);Lb(R.declaredInputs,E.inputs),Ag(R,o,u),u.set(R,E),o.push(R)}}function xg(n){if(void 0===n||0===n.length)return In;const o={};for(let u=0;u<n.length;u+=2)o[n[u]]=n[u+1];return o}function Lb(n,o){for(const u in o)o.hasOwnProperty(u)&&(n[o[u]]=n[u])}function wg(n){const o=n.inputConfig,u={};for(const E in o)if(o.hasOwnProperty(E)){const R=o[E];Array.isArray(R)&&R[2]&&(u[E]=R[2])}n.inputTransforms=u}function ph(n){return!!pm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xd(n,o,u){return n[o]=u}function jl(n,o,u){return!Object.is(n[o],u)&&(n[o]=u,!0)}function uu(n,o,u,E){const R=jl(n,o,u);return jl(n,o+1,E)||R}function gh(n,o,u,E,R){const K=uu(n,o,u,E);return jl(n,o+2,R)||K}function gm(n,o,u,E){const R=di();return jl(R,po(),o)&&(ar(),Ad(Me(),R,n,o,u,E)),gm}function ku(n,o,u,E){return jl(n,po(),u)?o+y(u)+E:kr}function Fu(n,o,u,E,R,K){const Ve=uu(n,oa(),u,R);return Ao(2),Ve?o+y(u)+E+y(R)+K:kr}function Vg(n,o,u,E,R,K,me,Ve){const ot=di(),Lt=ar(),rn=n+cr,Cn=Lt.firstCreatePass?function tE(n,o,u,E,R,K,me,Ve,ot){const Lt=o.consts,rn=Nu(o,n,4,me||null,gr(Lt,Ve));lm(o,u,rn,gr(Lt,ot)),Qr(o,rn);const Cn=rn.tView=am(2,rn,E,R,K,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Lt,null);return null!==o.queries&&(o.queries.template(o,rn),Cn.queries=o.queries.embeddedTView(rn)),rn}(rn,Lt,ot,o,u,E,R,K,me):Lt.data[rn];ro(Cn,!1);const jn=Kg(Lt,ot,Cn,n);Ri()&&au(Lt,ot,jn,Cn),Dr(jn,ot),uh(ot,ot[rn]=fg(jn,ot,jn,Cn)),Fr(Cn)&&om(Lt,ot,Cn),null!=me&&sm(ot,Cn,Ve)}let Kg=function Wg(n,o,u,E){return Ni(!0),o[li].createComment("")};function Yg(n){return Sn(function Rl(){return Vi.lFrame.contextLView}(),cr+n)}function Tm(n,o,u){const E=di();return jl(E,po(),o)&&Yc(ar(),Me(),E,n,o,E[li],u,!1),Tm}function Sm(n,o,u,E,R){const me=R?"class":"style";fm(n,u,o.inputs[me],me,E)}function bh(n,o,u,E){const R=di(),K=ar(),me=cr+n,Ve=R[li],ot=K.firstCreatePass?function oE(n,o,u,E,R,K){const me=o.consts,ot=Nu(o,n,2,E,gr(me,R));return lm(o,u,ot,gr(me,K)),null!==ot.attrs&&fh(ot,ot.attrs,!1),null!==ot.mergedAttrs&&fh(ot,ot.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,ot),ot}(me,K,R,o,u,E):K.data[me],Lt=zg(K,R,ot,Ve,o,n);R[me]=Lt;const rn=Fr(ot);return ro(ot,!0),pf(Ve,Lt,ot),32!=(32&ot.flags)&&Ri()&&au(K,R,Lt,ot),0===function Cs(){return Vi.lFrame.elementDepthCount}()&&Dr(Lt,R),function Ys(){Vi.lFrame.elementDepthCount++}(),rn&&(om(K,R,ot),rm(K,ot,R)),null!==E&&sm(R,ot),bh}function Eh(){let n=Go();Wa()?Oo():(n=n.parent,ro(n,!1));const o=n;(function Pl(n){return Vi.skipHydrationRootTNode===n})(o)&&function fc(){Vi.skipHydrationRootTNode=null}(),function ia(){Vi.lFrame.elementDepthCount--}();const u=ar();return u.firstCreatePass&&(Qr(u,n),fa(n)&&u.queries.elementEnd(n)),null!=o.classesWithoutHost&&function yc(n){return 0!=(8&n.flags)}(o)&&Sm(u,o,di(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Nl(n){return 0!=(16&n.flags)}(o)&&Sm(u,o,di(),o.stylesWithoutHost,!1),Eh}function Cm(n,o,u,E){return bh(n,o,u,E),Eh(),Cm}let zg=(n,o,u,E,R,K)=>(Ni(!0),zd(E,R,function Vn(){return Vi.lFrame.currentNamespace}()));function Th(n,o,u){const E=di(),R=ar(),K=n+cr,me=R.firstCreatePass?function lE(n,o,u,E,R){const K=o.consts,me=gr(K,E),Ve=Nu(o,n,8,"ng-container",me);return null!==me&&fh(Ve,me,!0),lm(o,u,Ve,gr(K,R)),null!==o.queries&&o.queries.elementStart(o,Ve),Ve}(K,R,E,o,u):R.data[K];ro(me,!0);const Ve=Zg(R,E,me,n);return E[K]=Ve,Ri()&&au(R,E,Ve,me),Dr(Ve,E),Fr(me)&&(om(R,E,me),rm(R,me,E)),null!=u&&sm(E,me),Th}function Sh(){let n=Go();const o=ar();return Wa()?Oo():(n=n.parent,ro(n,!1)),o.firstCreatePass&&(Qr(o,n),fa(n)&&o.queries.elementEnd(n)),Sh}function Dm(n,o,u){return Th(n,o,u),Sh(),Dm}let Zg=(n,o,u,E)=>(Ni(!0),gu(o[li],""));function $g(){return di()}function Mm(n){return!!n&&"function"==typeof n.then}function Jg(n){return!!n&&"function"==typeof n.subscribe}function Am(n,o,u,E){const R=di(),K=ar(),me=Go();return Qg(K,R,R[li],me,n,o,E),Am}function xm(n,o){const u=Go(),E=di(),R=ar();return Qg(R,E,gg(bl(R.data),u,E),u,n,o),xm}function Qg(n,o,u,E,R,K,me){const Ve=Fr(E),Lt=n.firstCreatePass&&pg(n),rn=o[Dn],Cn=mg(o);let jn=!0;if(3&E.type||me){const bi=Yt(E,o),Gi=me?me(bi):bi,tr=Cn.length,_i=me?ho=>me(or(ho[E.index])):E.index;let Ar=null;if(!me&&Ve&&(Ar=function uE(n,o,u,E){const R=n.cleanup;if(null!=R)for(let K=0;K<R.length-1;K+=2){const me=R[K];if(me===u&&R[K+1]===E){const Ve=o[mo],ot=R[K+2];return Ve.length>ot?Ve[ot]:null}"string"==typeof me&&(K+=2)}return null}(n,o,R,E.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=K,Ar.__ngLastListenerFn__=K,jn=!1;else{K=Xg(E,o,rn,K,!1);const ho=u.listen(Gi,R,K);Cn.push(K,ho),Lt&&Lt.push(R,_i,tr,tr+1)}}else K=Xg(E,o,rn,K,!1);const Jn=E.outputs;let fi;if(jn&&null!==Jn&&(fi=Jn[R])){const bi=fi.length;if(bi)for(let Gi=0;Gi<bi;Gi+=2){const So=o[fi[Gi]][fi[Gi+1]].subscribe(K),Vl=Cn.length;Cn.push(K,So),Lt&&Lt.push(R,E.index,Vl,-(Vl+1))}}}function qg(n,o,u,E){try{return Ts(6,o,u),!1!==u(E)}catch(R){return _g(n,R),!1}finally{Ts(7,o,u)}}function Xg(n,o,u,E,R){return function K(me){if(me===Function)return E;Sf(n.componentOffset>-1?Zn(n.index,o):o);let ot=qg(o,u,E,me),Lt=K.__ngNextListenerFn__;for(;Lt;)ot=qg(o,u,Lt,me)&&ot,Lt=Lt.__ngNextListenerFn__;return R&&!1===ot&&me.preventDefault(),ot}}function e_(n=1){return function gc(n){return(Vi.lFrame.contextLView=function Wl(n,o){for(;n>0;)o=o[sr],n--;return o}(n,Vi.lFrame.contextLView))[Dn]}(n)}function fE(n,o){let u=null;const E=function Xn(n){const o=n.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(n);for(let R=0;R<o.length;R++){const K=o[R];if("*"!==K){if(null===E?Kn(n,K,!0):Ne(E,K))return R}else u=R}return u}function t_(n){const o=di()[Wi][$r];if(!o.projection){const E=o.projection=Il(n?n.length:1,null),R=E.slice();let K=o.child;for(;null!==K;){const me=n?fE(K,n):0;null!==me&&(R[me]?R[me].projectionNext=K:E[me]=K,R[me]=K),K=K.next}}}function n_(n,o=0,u){const E=di(),R=ar(),K=Nu(R,cr+n,16,null,u||null);null===K.projection&&(K.projection=o),Oo(),(!E[_o]||ra())&&32!=(32&K.flags)&&function qf(n,o,u){ff(o[li],0,o,u,ou(n,u,o),lf(u.parent||o[$r],u,o))}(R,E,K)}function Im(n,o,u){return Ch(n,"",o,"",u),Im}function Ch(n,o,u,E,R){const K=di(),me=ku(K,o,u,E);return me!==kr&&Yc(ar(),Me(),K,n,me,K[li],R,!1),Ch}function wm(n,o,u,E,R,K,me){const Ve=di(),ot=Fu(Ve,o,u,E,R,K);return ot!==kr&&Yc(ar(),Me(),Ve,n,ot,Ve[li],me,!1),wm}function Dh(n,o){return n<<17|o<<2}function Xd(n){return n>>17&32767}function Om(n){return 2|n}function fu(n){return(131068&n)>>2}function Pm(n,o){return-131069&n|o<<2}function Rm(n){return 1|n}function d_(n,o,u,E,R){const K=n[u+1],me=null===o;let Ve=E?Xd(K):fu(K),ot=!1;for(;0!==Ve&&(!1===ot||me);){const rn=n[Ve+1];vE(n[Ve],o)&&(ot=!0,n[Ve+1]=E?Rm(rn):Om(rn)),Ve=E?Xd(rn):fu(rn)}ot&&(n[u+1]=E?Om(K):Rm(K))}function vE(n,o){return null===n||null==o||(Array.isArray(n)?n[1]:n)===o||!(!Array.isArray(n)||"string"!=typeof o)&&hn(n,o)>=0}const tl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function u_(n){return n.substring(tl.key,tl.keyEnd)}function f_(n,o){const u=tl.textEnd;return u===o?-1:(o=tl.keyEnd=function TE(n,o,u){for(;o<u&&n.charCodeAt(o)>32;)o++;return o}(n,tl.key=o,u),Ku(n,o,u))}function Ku(n,o,u){for(;o<u&&n.charCodeAt(o)<=32;)o++;return o}function Nm(n,o,u){return pd(n,o,u,!1),Nm}function Lm(n,o){return pd(n,o,null,!0),Lm}function __(n){gd(OE,wd,n,!0)}function wd(n,o){for(let u=function bE(n){return function m_(n){tl.key=0,tl.keyEnd=0,tl.value=0,tl.valueEnd=0,tl.textEnd=n.length}(n),f_(n,Ku(n,0,tl.textEnd))}(o);u>=0;u=f_(o,u))dt(n,u_(o),!0)}function pd(n,o,u,E){const R=di(),K=ar(),me=Ao(2);K.firstUpdatePass&&y_(K,n,me,E),o!==kr&&jl(R,me,o)&&E_(K,K.data[Ue()],R,R[li],n,R[me+1]=function RE(n,o){return null==n||""===n||("string"==typeof o?n+=o:"object"==typeof n&&(n=f(yr(n)))),n}(o,u),E,me)}function gd(n,o,u,E){const R=ar(),K=Ao(2);R.firstUpdatePass&&y_(R,null,K,E);const me=di();if(u!==kr&&jl(me,K,u)){const Ve=R.data[Ue()];if(S_(Ve,E)&&!v_(R,K)){let ot=E?Ve.classesWithoutHost:Ve.stylesWithoutHost;null!==ot&&(u=_(ot,u||"")),Sm(R,Ve,me,u,E)}else!function PE(n,o,u,E,R,K,me,Ve){R===kr&&(R=Nn);let ot=0,Lt=0,rn=0<R.length?R[0]:null,Cn=0<K.length?K[0]:null;for(;null!==rn||null!==Cn;){const jn=ot<R.length?R[ot+1]:void 0,Jn=Lt<K.length?K[Lt+1]:void 0;let bi,fi=null;rn===Cn?(ot+=2,Lt+=2,jn!==Jn&&(fi=Cn,bi=Jn)):null===Cn||null!==rn&&rn<Cn?(ot+=2,fi=rn):(Lt+=2,fi=Cn,bi=Jn),null!==fi&&E_(n,o,u,E,fi,bi,me,Ve),rn=ot<R.length?R[ot]:null,Cn=Lt<K.length?K[Lt]:null}}(R,Ve,me,me[li],me[K+1],me[K+1]=function wE(n,o,u){if(null==u||""===u)return Nn;const E=[],R=yr(u);if(Array.isArray(R))for(let K=0;K<R.length;K++)n(E,R[K],!0);else if("object"==typeof R)for(const K in R)R.hasOwnProperty(K)&&n(E,K,R[K]);else"string"==typeof R&&o(E,R);return E}(n,o,u),E,K)}}function v_(n,o){return o>=n.expandoStartIndex}function y_(n,o,u,E){const R=n.data;if(null===R[u+1]){const K=R[Ue()],me=v_(n,u);S_(K,E)&&null===o&&!me&&(o=!1),o=function ME(n,o,u,E){const R=bl(n);let K=E?o.residualClasses:o.residualStyles;if(null===R)0===(E?o.classBindings:o.styleBindings)&&(u=Pf(u=km(null,n,o,u,E),o.attrs,E),K=null);else{const me=o.directiveStylingLast;if(-1===me||n[me]!==R)if(u=km(R,n,o,u,E),null===K){let ot=function AE(n,o,u){const E=u?o.classBindings:o.styleBindings;if(0!==fu(E))return n[Xd(E)]}(n,o,E);void 0!==ot&&Array.isArray(ot)&&(ot=km(null,n,o,ot[1],E),ot=Pf(ot,o.attrs,E),function xE(n,o,u,E){n[Xd(u?o.classBindings:o.styleBindings)]=E}(n,o,E,ot))}else K=function IE(n,o,u){let E;const R=o.directiveEnd;for(let K=1+o.directiveStylingLast;K<R;K++)E=Pf(E,n[K].hostAttrs,u);return Pf(E,o.attrs,u)}(n,o,E)}return void 0!==K&&(E?o.residualClasses=K:o.residualStyles=K),u}(R,K,o,E),function gE(n,o,u,E,R,K){let me=K?o.classBindings:o.styleBindings,Ve=Xd(me),ot=fu(me);n[E]=u;let rn,Lt=!1;if(Array.isArray(u)?(rn=u[1],(null===rn||hn(u,rn)>0)&&(Lt=!0)):rn=u,R)if(0!==ot){const jn=Xd(n[Ve+1]);n[E+1]=Dh(jn,Ve),0!==jn&&(n[jn+1]=Pm(n[jn+1],E)),n[Ve+1]=function mE(n,o){return 131071&n|o<<17}(n[Ve+1],E)}else n[E+1]=Dh(Ve,0),0!==Ve&&(n[Ve+1]=Pm(n[Ve+1],E)),Ve=E;else n[E+1]=Dh(ot,0),0===Ve?Ve=E:n[ot+1]=Pm(n[ot+1],E),ot=E;Lt&&(n[E+1]=Om(n[E+1])),d_(n,rn,E,!0),d_(n,rn,E,!1),function _E(n,o,u,E,R){const K=R?n.residualClasses:n.residualStyles;null!=K&&"string"==typeof o&&hn(K,o)>=0&&(u[E+1]=Rm(u[E+1]))}(o,rn,n,E,K),me=Dh(Ve,ot),K?o.classBindings=me:o.styleBindings=me}(R,K,o,u,me,E)}}function km(n,o,u,E,R){let K=null;const me=u.directiveEnd;let Ve=u.directiveStylingLast;for(-1===Ve?Ve=u.directiveStart:Ve++;Ve<me&&(K=o[Ve],E=Pf(E,K.hostAttrs,R),K!==n);)Ve++;return null!==n&&(u.directiveStylingLast=Ve),E}function Pf(n,o,u){const E=u?1:2;let R=-1;if(null!==o)for(let K=0;K<o.length;K++){const me=o[K];"number"==typeof me?R=me:R===E&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),dt(n,me,!!u||o[++K]))}return void 0===n?null:n}function OE(n,o,u){const E=String(o);""!==E&&!E.includes(" ")&&dt(n,E,u)}function E_(n,o,u,E,R,K,me,Ve){if(!(3&o.type))return;const ot=n.data,Lt=ot[Ve+1],rn=function pE(n){return 1==(1&n)}(Lt)?T_(ot,o,u,R,fu(Lt),me):void 0;Mh(rn)||(Mh(K)||function hE(n){return 2==(2&n)}(Lt)&&(K=T_(ot,null,u,R,Ve,me)),function Xf(n,o,u,E,R){if(o)R?n.addClass(u,E):n.removeClass(u,E);else{let K=-1===E.indexOf("-")?void 0:cn.DashCase;null==R?n.removeStyle(u,E,K):("string"==typeof R&&R.endsWith("!important")&&(R=R.slice(0,-10),K|=cn.Important),n.setStyle(u,E,R,K))}}(E,me,$e(Ue(),u),R,K))}function T_(n,o,u,E,R,K){const me=null===o;let Ve;for(;R>0;){const ot=n[R],Lt=Array.isArray(ot),rn=Lt?ot[1]:ot,Cn=null===rn;let jn=u[R+1];jn===kr&&(jn=Cn?Nn:void 0);let Jn=Cn?Ht(jn,E):rn===E?jn:void 0;if(Lt&&!Mh(Jn)&&(Jn=Ht(ot,E)),Mh(Jn)&&(Ve=Jn,me))return Ve;const fi=n[R+1];R=me?Xd(fi):fu(fi)}if(null!==o){let ot=K?o.residualClasses:o.residualStyles;null!=ot&&(Ve=Ht(ot,E))}return Ve}function Mh(n){return void 0!==n}function S_(n,o){return 0!=(n.flags&(o?8:16))}function C_(n,o=""){const u=di(),E=ar(),R=n+cr,K=E.firstCreatePass?Nu(E,R,1,o,null):E.data[R],me=D_(E,u,K,o,n);u[R]=me,Ri()&&au(E,u,me,K),ro(K,!1)}let D_=(n,o,u,E,R)=>(Ni(!0),nu(o[li],E));function Fm(n){return Ah("",n,""),Fm}function Ah(n,o,u){const E=di(),R=ku(E,n,o,u);return R!==kr&&Vd(E,Ue(),R),Ah}function Bm(n,o,u,E,R){const K=di(),me=Fu(K,n,o,u,E,R);return me!==kr&&Vd(K,Ue(),me),Bm}function Um(n,o,u,E,R,K,me){const Ve=di(),ot=function Bu(n,o,u,E,R,K,me,Ve){const Lt=gh(n,oa(),u,R,me);return Ao(3),Lt?o+y(u)+E+y(R)+K+y(me)+Ve:kr}(Ve,n,o,u,E,R,K,me);return ot!==kr&&Vd(Ve,Ue(),ot),Um}function P_(n,o,u){gd(dt,wd,ku(di(),n,o,u),!0)}function Gm(n,o,u){const E=di();return jl(E,po(),o)&&Yc(ar(),Me(),E,n,o,E[li],u,!0),Gm}function Hm(n,o,u){const E=di();if(jl(E,po(),o)){const K=ar(),me=Me();Yc(K,me,E,n,o,gg(bl(K.data),me,E),u,!0)}return Hm}const hu=void 0;var eT=["en",[["a","p"],["AM","PM"],hu],[["AM","PM"],hu,hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hu,"{1} 'at' {0}",hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XE(n){const u=Math.floor(Math.abs(n)),E=n.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===E?1:5}];let Wu={};function jm(n){const o=function tT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let u=V_(o);if(u)return u;const E=o.split("-")[0];if(u=V_(E),u)return u;if("en"===E)return eT;throw new T(701,!1)}function j_(n){return jm(n)[Yu.PluralCase]}function V_(n){return n in Wu||(Wu[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),Wu[n]}var Yu=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Yu||{});const zu="en-US",xh={marker:"element"},Ih={marker:"ICU"};var Nc=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Nc||{});let K_=zu;function W_(n){(function Te(n,o){null==n&&Oe(o,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(K_=n.toLowerCase().replace(/_/g,"-"))}function Y_(n,o,u){const E=o.insertBeforeIndex,R=Array.isArray(E)?E[0]:E;return null===R?cf(n,0,u):or(u[R])}function z_(n,o,u,E,R){const K=o.insertBeforeIndex;if(Array.isArray(K)){let me=E,Ve=null;if(3&o.type||(Ve=me,me=R),null!==me&&-1===o.componentOffset)for(let ot=1;ot<K.length;ot++)Td(n,me,u[K[ot]],Ve,!1)}}function Z_(n,o){if(n.push(o),n.length>1)for(let u=n.length-2;u>=0;u--){const E=n[u];$_(E)||sT(E,o)&&null===aT(E)&&lT(E,o.index)}}function $_(n){return!(64&n.type)}function sT(n,o){return $_(o)||n.index>o.index}function aT(n){const o=n.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function lT(n,o){const u=n.insertBeforeIndex;Array.isArray(u)?u[0]=o:(df(Y_,z_),n.insertBeforeIndex=o)}function uT(n,o,u){const E=im(n,u,64,null,null);return Z_(o,E),E}function vT(){const n=[];let u,E,o=-1;function K(Ve,ot){o=0;const Lt=function wh(n,o){const u=o[n.currentCaseLViewIndex];return null===u?u:u<0?~u:u}(Ve,ot);E=null!==Lt?Ve.remove[Lt]:Nn}function me(){if(o<E.length){const Ve=E[o++];return Ve>0?u[Ve]:(n.push(o,E),K(u[yi].data[~Ve],u),me())}return 0===n.length?null:(E=n.pop(),o=n.pop(),me())}return function R(Ve,ot){for(u=ot;n.length;)n.pop();return K(Ve.value,ot),me}}const Oh=/\ufffd(\d+):?\d*\ufffd/gi,bT=/\ufffd(\d+)\ufffd/,rv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,kf="\ufffd",ET=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,TT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ST=/\uE500/g;function ov(n,o,u,E,R,K,me){const Ve=Cf(n,E,1,null);let ot=Ve<<Nc.SHIFT,Lt=il();o===Lt&&(Lt=null),null===Lt&&(ot|=Nc.APPEND_EAGERLY),me&&(ot|=Nc.COMMENT,function jf(n){void 0===Ic&&(Ic=n())}(vT)),R.push(ot,null===K?"":K);const rn=im(n,Ve,me?32:1,null===K?"":K,null);Z_(u,rn);const Cn=rn.index;return ro(rn,!1),null!==Lt&&o!==Lt&&function dT(n,o){let u=n.insertBeforeIndex;null===u?(df(Y_,z_),u=n.insertBeforeIndex=[null,o]):(function ce(n,o,u){n!=o&&Oe(u,n,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(Lt,Cn),rn}function MT(n,o,u,E,R,K,me){const Ve=me.match(Oh),ot=ov(n,o,u,K,E,Ve?null:me,!1);Ve&&Ff(R,me,ot.index,null,0,null)}function Ff(n,o,u,E,R,K){const me=n.length,Ve=me+1;n.push(null,null);const ot=me+2,Lt=o.split(Oh);let rn=0;for(let Cn=0;Cn<Lt.length;Cn++){const jn=Lt[Cn];if(1&Cn){const Jn=R+parseInt(jn,10);n.push(-1-Jn),rn|=sv(Jn)}else""!==jn&&n.push(jn)}return n.push(u<<2|(E?1:0)),E&&n.push(E,K),n[me]=rn,n[Ve]=n.length-ot,rn}function sv(n){return 1<<Math.min(n,31)}function av(n){let o,K,u="",E=0,R=!1;for(;null!==(o=ET.exec(n));)R?o[0]===`${kf}/*${K}${kf}`&&(E=o.index,R=!1):(u+=n.substring(E,o.index+o[0].length),K=o[1],R=!0);return u+=n.slice(E),u}function lv(n,o,u,E,R,K){let me=0;const Ve={type:R.type,currentCaseLViewIndex:Cf(n,o,1,null),anchorIdx:K,cases:[],create:[],remove:[],update:[]};(function NT(n,o,u){n.push(sv(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,R,K),function cT(n,o,u){const E=n.data[o];null===E?n.data[o]=u:E.value=u}(n,K,Ve);const ot=R.values;for(let Lt=0;Lt<ot.length;Lt++){const rn=ot[Lt],Cn=[];for(let jn=0;jn<rn.length;jn++){const Jn=rn[jn];if("string"!=typeof Jn){const fi=Cn.push(Jn)-1;rn[jn]=`\x3c!--\ufffd${fi}\ufffd--\x3e`}}me=PT(n,Ve,o,u,E,R.cases[Lt],rn.join(""),Cn)|me}me&&function LT(n,o,u){n.push(o,1,u<<2|3)}(u,me,K)}function OT(n){const o=[],u=[];let E=1,R=0;const K=Vm(n=n.replace(rv,function(me,Ve,ot){return E="select"===ot?0:1,R=parseInt(Ve.slice(1),10),""}));for(let me=0;me<K.length;){let Ve=K[me++].trim();1===E&&(Ve=Ve.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ve.length&&o.push(Ve);const ot=Vm(K[me++]);o.length>u.length&&u.push(ot)}return{type:E,mainBinding:R,cases:o,values:u}}function Vm(n){if(!n)return[];let o=0;const u=[],E=[],R=/[{}]/g;let K;for(R.lastIndex=0;K=R.exec(n);){const Ve=K.index;if("}"==K[0]){if(u.pop(),0==u.length){const ot=n.substring(o,Ve);rv.test(ot)?E.push(OT(ot)):E.push(ot),o=Ve+1}}else{if(0==u.length){const ot=n.substring(o,Ve);E.push(ot),o=Ve+1}u.push("{")}}const me=n.substring(o);return E.push(me),E}function PT(n,o,u,E,R,K,me,Ve){const ot=[],Lt=[],rn=[];o.cases.push(K),o.create.push(ot),o.remove.push(Lt),o.update.push(rn);const jn=ca(Tt()).getInertBodyElement(me),Jn=de(jn)||jn;return Jn?cv(n,o,u,E,ot,Lt,rn,Jn,R,Ve,0):0}function cv(n,o,u,E,R,K,me,Ve,ot,Lt,rn){let Cn=0,jn=Ve.firstChild;for(;jn;){const Jn=Cf(n,u,1,null);switch(jn.nodeType){case Node.ELEMENT_NODE:const fi=jn,bi=fi.tagName.toLowerCase();if(jc.hasOwnProperty(bi)){Km(R,xh,bi,ot,Jn),n.data[Jn]=bi;const Ar=fi.attributes;for(let ho=0;ho<Ar.length;ho++){const So=Ar.item(ho),Vl=So.name.toLowerCase();So.value.match(Oh)?Bd.hasOwnProperty(Vl)&&Ff(me,So.value,Jn,So.name,0,Vc[Vl]?wc:null):kT(R,Jn,So)}Cn=cv(n,o,u,E,R,K,me,jn,Jn,Lt,rn+1)|Cn,dv(K,Jn,rn)}break;case Node.TEXT_NODE:const Gi=jn.textContent||"",tr=Gi.match(Oh);Km(R,null,tr?"":Gi,ot,Jn),dv(K,Jn,rn),tr&&(Cn=Ff(me,Gi,Jn,null,0,null)|Cn);break;case Node.COMMENT_NODE:const _i=bT.exec(jn.textContent||"");if(_i){const ho=Lt[parseInt(_i[1],10)];Km(R,Ih,"",ot,Jn),lv(n,u,E,ot,ho,Jn),RT(K,Jn,rn)}}jn=jn.nextSibling}return Cn}function dv(n,o,u){0===u&&n.push(o)}function RT(n,o,u){0===u&&(n.push(~o),n.push(o))}function Km(n,o,u,E,R){null!==o&&n.push(o),n.push(u,R,function fT(n,o,u){return n|o<<17|u<<1}(0,E,R))}function kT(n,o,u){n.push(o<<1|1,u.name,u.value)}function fv(n,o,u=-1){const E=ar(),R=di(),K=cr+n,me=gr(E.consts,o),Ve=il();E.firstCreatePass&&function DT(n,o,u,E,R,K){const me=il(),Ve=[],ot=[],Lt=[[]];R=function wT(n,o){if(function IT(n){return-1===n}(o))return av(n);{const u=n.indexOf(`:${o}${kf}`)+2+o.toString().length,E=n.search(new RegExp(`${kf}\\/\\*\\d+:${o}${kf}`));return av(n.substring(u,E))}}(R,K);const rn=function CT(n){return n.replace(ST," ")}(R).split(TT);for(let Cn=0;Cn<rn.length;Cn++){let jn=rn[Cn];if(1&Cn){const Jn=47===jn.charCodeAt(0),bi=(jn.charCodeAt(Jn?1:0),cr+Number.parseInt(jn.substring(Jn?2:1)));if(Jn)Lt.shift(),ro(il(),!1);else{const Gi=uT(n,Lt[0],bi);Lt.unshift([]),ro(Gi,!0)}}else{const Jn=Vm(jn);for(let fi=0;fi<Jn.length;fi++){let bi=Jn[fi];if(1&fi){const Gi=bi;if("object"!=typeof Gi)throw new Error(`Unable to parse ICU expression in "${R}" message.`);lv(n,u,ot,o,Gi,ov(n,me,Lt[0],u,Ve,"",!0).index)}else""!==bi&&MT(n,me,Lt[0],Ve,ot,u,bi)}}}n.data[E]={create:Ve,update:ot}}(E,null===Ve?0:Ve.index,R,K,me,u),2===E.type?R[Wi][$i]|=32:R[$i]|=32;const ot=E.data[K],rn=Zd(E,Ve===R[$r]?null:Ve,R);(function pT(n,o,u,E){const R=n[li];for(let K=0;K<o.length;K++){const me=o[K++],Ve=o[K],Lt=(me&Nc.APPEND_EAGERLY)===Nc.APPEND_EAGERLY,rn=me>>>Nc.SHIFT;let Cn=n[rn];null===Cn&&(Cn=n[rn]=(me&Nc.COMMENT)===Nc.COMMENT?R.createComment(Ve):nu(R,Ve)),Lt&&null!==u&&Td(R,u,Cn,E,!1)}})(R,ot.create,rn,Ve&&8&Ve.type?R[Ve.index]:null),rl(!0)}function mv(n,o,u){fv(n,o,u),function hv(){rl(!1)}()}function Wm(n,o,u,E,R){if(n=A(n),Array.isArray(n))for(let K=0;K<n.length;K++)Wm(n[K],o,u,E,R);else{const K=ar(),me=di();let Ve=Md(n)?n:A(n.provide),ot=el(n);const Lt=Go(),rn=1048575&Lt.providerIndexes,Cn=Lt.directiveStart,jn=Lt.providerIndexes>>20;if(Md(n)||!n.multi){const Jn=new hs(ot,R,Ru),fi=zm(Ve,o,R?rn:rn+jn,Cn);-1===fi?(Jl(Ll(Lt,me),K,Ve),Ym(K,n,o.length),o.push(Ve),Lt.directiveStart++,Lt.directiveEnd++,R&&(Lt.providerIndexes+=1048576),u.push(Jn),me.push(Jn)):(u[fi]=Jn,me[fi]=Jn)}else{const Jn=zm(Ve,o,rn+jn,Cn),fi=zm(Ve,o,rn,rn+jn),Gi=fi>=0&&u[fi];if(R&&!Gi||!R&&!(Jn>=0&&u[Jn])){Jl(Ll(Lt,me),K,Ve);const tr=function QT(n,o,u,E,R){const K=new hs(n,u,Ru);return K.multi=[],K.index=o,K.componentProviders=0,gv(K,R,E&&!u),K}(R?JT:$T,u.length,R,E,ot);!R&&Gi&&(u[fi].providerFactory=tr),Ym(K,n,o.length,0),o.push(Ve),Lt.directiveStart++,Lt.directiveEnd++,R&&(Lt.providerIndexes+=1048576),u.push(tr),me.push(tr)}else Ym(K,n,Jn>-1?Jn:fi,gv(u[R?fi:Jn],ot,!R&&E));!R&&E&&Gi&&u[fi].componentProviders++}}}function Ym(n,o,u,E){const R=Md(o),K=function Ji(n){return!!n.useClass}(o);if(R||K){const ot=(K?A(o.useClass):o).prototype.ngOnDestroy;if(ot){const Lt=n.destroyHooks||(n.destroyHooks=[]);if(!R&&o.multi){const rn=Lt.indexOf(u);-1===rn?Lt.push(u,[E,ot]):Lt[rn+1].push(E,ot)}else Lt.push(u,ot)}}}function gv(n,o,u){return u&&n.componentProviders++,n.multi.push(o)-1}function zm(n,o,u,E){for(let R=u;R<E;R++)if(o[R]===n)return R;return-1}function $T(n,o,u,E){return Zm(this.multi,[])}function JT(n,o,u,E){const R=this.multi;let K;if(this.providerFactory){const me=this.providerFactory.componentProviders,Ve=Fa(u,u[yi],this.providerFactory.index,E);K=Ve.slice(0,me),Zm(R,K);for(let ot=me;ot<Ve.length;ot++)K.push(Ve[ot])}else K=[],Zm(R,K);return K}function Zm(n,o){for(let u=0;u<n.length;u++)o.push((0,n[u])());return o}function _v(n,o=[]){return u=>{u.providersResolver=(E,R)=>function ZT(n,o,u){const E=ar();if(E.firstCreatePass){const R=mr(n);Wm(u,E.data,E.blueprint,R,!0),Wm(o,E.data,E.blueprint,R,!1)}}(E,R?R(n):n,o)}}class Zu{}class vv{}function qT(n,o){return new $m(n,o??null,[])}class $m extends Zu{constructor(o,u,E){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sg(this);const R=Vr(o);this._bootstrapComponents=jd(R.bootstrap),this._r3Injector=ng(o,u,[{provide:Zu,useValue:this},{provide:Ef,useValue:this.componentFactoryResolver},...E],f(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jm extends vv{constructor(o){super(),this.moduleType=o}create(o){return new $m(this.moduleType,o,[])}}class yv extends Zu{constructor(o){super(),this.componentFactoryResolver=new Sg(this),this.instance=null;const u=new sd([...o.providers,{provide:Zu,useValue:this},{provide:Ef,useValue:this.componentFactoryResolver}],o.parent||ac(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function bv(n,o,u=null){return new yv({providers:n,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let eS=(()=>{class n{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const E=Da(0,u.type),R=E.length>0?bv([E],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,R)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Re({token:n,providedIn:"environment",factory:()=>new n(it(Ma))})}return n})();function Ev(n){n.getStandaloneInjector=o=>o.get(eS).getOrCreateStandaloneInjector(n)}function xv(n,o,u){const E=Zo()+n,R=di();return R[E]===kr?xd(R,E,u?o.call(u):o()):function xf(n,o){return n[o]}(R,E)}function Iv(n,o,u,E){return Pv(di(),Zo(),n,o,u,E)}function wv(n,o,u,E,R){return Rv(di(),Zo(),n,o,u,E,R)}function Ov(n,o,u,E,R,K){return function Nv(n,o,u,E,R,K,me,Ve){const ot=o+u;return gh(n,ot,R,K,me)?xd(n,ot+3,Ve?E.call(Ve,R,K,me):E(R,K,me)):Bf(n,ot+3)}(di(),Zo(),n,o,u,E,R,K)}function Bf(n,o){const u=n[o];return u===kr?void 0:u}function Pv(n,o,u,E,R,K){const me=o+u;return jl(n,me,R)?xd(n,me+1,K?E.call(K,R):E(R)):Bf(n,me+1)}function Rv(n,o,u,E,R,K,me){const Ve=o+u;return uu(n,Ve,R,K)?xd(n,Ve+2,me?E.call(me,R,K):E(R,K)):Bf(n,Ve+2)}function Fv(n,o){const u=ar();let E;const R=n+cr;u.firstCreatePass?(E=function pS(n,o){if(o)for(let u=o.length-1;u>=0;u--){const E=o[u];if(n===E.name)return E}}(o,u.pipeRegistry),u.data[R]=E,E.onDestroy&&(u.destroyHooks??=[]).push(R,E.onDestroy)):E=u.data[R];const K=E.factory||(E.factory=_t(E.type)),me=Ge(Ru);try{const Ve=Zl(!1),ot=K();return Zl(Ve),function rE(n,o,u,E){u>=n.data.length&&(n.data[u]=null,n.blueprint[u]=null),o[u]=E}(u,di(),R,ot),ot}finally{Ge(me)}}function Bv(n,o,u){const E=n+cr,R=di(),K=Sn(R,E);return Uf(R,E)?Pv(R,Zo(),o,K.transform,u,K):K.transform(u)}function Uv(n,o,u,E){const R=n+cr,K=di(),me=Sn(K,R);return Uf(K,R)?Rv(K,Zo(),o,me.transform,u,E,me):me.transform(u,E)}function Uf(n,o){return n[yi].data[o].pure}function qm(n){return o=>{setTimeout(n,void 0,o)}}const Od=class yS extends e.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,E){let R=o,K=u||(()=>null),me=E;if(o&&"object"==typeof o){const ot=o;R=ot.next?.bind(ot),K=ot.error?.bind(ot),me=ot.complete?.bind(ot)}this.__isAsync&&(K=qm(K),R&&(R=qm(R)),me&&(me=qm(me)));const Ve=super.subscribe({next:R,error:K,complete:me});return o instanceof t.w0&&o.add(Ve),Ve}};function bS(){return this._results[Symbol.iterator]()}class Ph{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Od)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ph.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=bS)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const E=this;E.dirty=!1;const R=function Gs(n){return n.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Qs(n,o,u){if(n.length!==o.length)return!1;for(let E=0;E<n.length;E++){let R=n[E],K=o[E];if(u&&(R=u(R),K=u(K)),K!==R)return!1}return!0}(E._results,R,u))&&(E._results=R,E.length=R.length,E.last=R[this.length-1],E.first=R[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gf=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=SS}return n})();const ES=Gf,TS=class extends ES{constructor(o,u,E){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=E}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u,null)}createEmbeddedViewImpl(o,u,E){const me=this._declarationTContainer.tView,Ve=dh(this._declarationLView,me,o,4096&this._declarationLView[$i]?4096:16,null,me.declTNode,null,null,null,u||null,E||null);Ve[Ir]=this._declarationLView[this._declarationTContainer.index];const Lt=this._declarationLView[Lo];return null!==Lt&&(Ve[Lo]=Lt.createEmbeddedView(me)),hm(me,Ve,o),new Mf(Ve)}};function SS(){return Rh(Go(),di())}function Rh(n,o){return 4&n.type?new TS(o,n,wu(n,o)):null}let Nh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wS}return n})();function wS(){return Wv(Go(),di())}const OS=Nh,Vv=class extends OS{constructor(o,u,E){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=E}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new Bl(this._hostTNode,this._hostLView)}get parentInjector(){const o=Zs(this._hostTNode,this._hostLView);if(Yl(o)){const u=Dl(o,this._hostLView),E=Ms(o);return new Bl(u[yi].data[E+8],u)}return new Bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Kv(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(o,u,E){let R,K;"number"==typeof E?R=E:null!=E&&(R=E.index,K=E.injector);const Ve=o.createEmbeddedViewImpl(u||{},K,null);return this.insertImpl(Ve,R,false),Ve}createComponent(o,u,E,R,K){const me=o&&!function xl(n){return"function"==typeof n}(o);let Ve;if(me)Ve=u;else{const bi=u||{};Ve=bi.index,E=bi.injector,R=bi.projectableNodes,K=bi.environmentInjector||bi.ngModuleRef}const ot=me?o:new Af(zi(o)),Lt=E||this.parentInjector;if(!K&&null==ot.ngModule){const Gi=(me?Lt:this.parentInjector).get(Ma,null);Gi&&(K=Gi)}zi(ot.componentType??{});const Jn=ot.create(Lt,R,null,K);return this.insertImpl(Jn.hostView,Ve,false),Jn}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,E){const R=o._lView,K=R[yi];if(function Rr(n){return io(n[Pr])}(R)){const ot=this.indexOf(o);if(-1!==ot)this.detach(ot);else{const Lt=R[Pr],rn=new Vv(Lt,Lt[$r],Lt[Pr]);rn.detach(rn.indexOf(o))}}const me=this._adjustIndex(u),Ve=this._lContainer;if(function iu(n,o,u,E){const R=Wr+E,K=u.length;E>0&&(u[R-1][Kr]=o),E<K-Wr?(o[Kr]=u[R],ed(u,Wr+E,o)):(u.push(o),o[Kr]=null),o[Pr]=u;const me=o[Ir];null!==me&&u!==me&&function Yf(n,o){const u=n[xs];o[Wi]!==o[Pr][Pr][Wi]&&(n[Vs]=!0),null===u?n[xs]=[o]:u.push(o)}(me,o);const Ve=o[Lo];null!==Ve&&Ve.insertView(n),o[$i]|=128}(K,R,Ve,me),!E){const ot=Su(me,Ve),Lt=R[li],rn=su(Lt,Ve[co]);null!==rn&&function _u(n,o,u,E,R,K){E[Tr]=R,E[$r]=o,kd(n,E,u,1,R,K)}(K,Ve[$r],Lt,R,rn,ot)}return o.attachToViewContainerRef(),ed(ep(Ve),me,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Kv(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),E=yu(this._lContainer,u);E&&(nc(ep(this._lContainer),u),rf(E[yi],E))}detach(o){const u=this._adjustIndex(o,-1),E=yu(this._lContainer,u);return E&&null!=nc(ep(this._lContainer),u)?new Mf(E):null}_adjustIndex(o,u=0){return o??this.length+u}};function Kv(n){return n[8]}function ep(n){return n[8]||(n[8]=[])}function Wv(n,o){let u;const E=o[n.index];return io(E)?u=E:(u=fg(E,o,null,n),o[n.index]=u,uh(o,u)),Yv(u,o,n,E),new Vv(u,n,o)}let Yv=function zv(n,o,u,E){if(n[co])return;let R;R=8&u.type?or(E):function PS(n,o){const u=n[li],E=u.createComment(""),R=Yt(o,n);return Td(u,su(u,R),E,function Qf(n,o){return n.nextSibling(o)}(u,R),!1),E}(o,u),n[co]=R};class tp{constructor(o){this.queryList=o,this.matches=null}clone(){return new tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class np{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const E=null!==o.contentQueries?o.contentQueries[0]:u.length,R=[];for(let K=0;K<E;K++){const me=u.getByIndex(K);R.push(this.queries[me.indexInDeclarationView].clone())}return new np(R)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==n0(o,u).matches&&this.queries[u].setDirty()}}class Zv{constructor(o,u,E=null){this.predicate=o,this.flags=u,this.read=E}}class ip{constructor(o=[]){this.queries=o}elementStart(o,u){for(let E=0;E<this.queries.length;E++)this.queries[E].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let E=0;E<this.length;E++){const R=null!==u?u.length:0,K=this.getByIndex(E).embeddedTView(o,R);K&&(K.indexInDeclarationView=E,null!==u?u.push(K):u=[K])}return null!==u?new ip(u):null}template(o,u){for(let E=0;E<this.queries.length;E++)this.queries[E].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class rp{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new rp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let E=o.parent;for(;null!==E&&8&E.type&&E.index!==u;)E=E.parent;return u===(null!==E?E.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const E=this.metadata.predicate;if(Array.isArray(E))for(let R=0;R<E.length;R++){const K=E[R];this.matchTNodeWithReadOption(o,u,LS(u,K)),this.matchTNodeWithReadOption(o,u,$s(u,o,K,!1,!1))}else E===Gf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,$s(u,o,E,!1,!1))}matchTNodeWithReadOption(o,u,E){if(null!==E){const R=this.metadata.read;if(null!==R)if(R===Tf||R===Nh||R===Gf&&4&u.type)this.addMatch(u.index,-2);else{const K=$s(u,o,R,!1,!1);null!==K&&this.addMatch(u.index,K)}else this.addMatch(u.index,E)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function LS(n,o){const u=n.localNames;if(null!==u)for(let E=0;E<u.length;E+=2)if(u[E]===o)return u[E+1];return null}function FS(n,o,u,E){return-1===u?function kS(n,o){return 11&n.type?wu(n,o):4&n.type?Rh(n,o):null}(o,n):-2===u?function BS(n,o,u){return u===Tf?wu(o,n):u===Gf?Rh(o,n):u===Nh?Wv(o,n):void 0}(n,o,E):Fa(n,n[yi],u,o)}function $v(n,o,u,E){const R=o[Lo].queries[E];if(null===R.matches){const K=n.data,me=u.matches,Ve=[];for(let ot=0;ot<me.length;ot+=2){const Lt=me[ot];Ve.push(Lt<0?null:FS(o,K[Lt],me[ot+1],u.metadata.read))}R.matches=Ve}return R.matches}function op(n,o,u,E){const R=n.queries.getByIndex(u),K=R.matches;if(null!==K){const me=$v(n,o,R,u);for(let Ve=0;Ve<K.length;Ve+=2){const ot=K[Ve];if(ot>0)E.push(me[Ve/2]);else{const Lt=K[Ve+1],rn=o[-ot];for(let Cn=Wr;Cn<rn.length;Cn++){const jn=rn[Cn];jn[Ir]===jn[Pr]&&op(jn[yi],jn,Lt,E)}if(null!==rn[xs]){const Cn=rn[xs];for(let jn=0;jn<Cn.length;jn++){const Jn=Cn[jn];op(Jn[yi],Jn,Lt,E)}}}}}return E}function Jv(n){const o=di(),u=ar(),E=mc();El(E+1);const R=n0(u,E);if(n.dirty&&function ai(n){return 4==(4&n[$i])}(o)===(2==(2&R.metadata.flags))){if(null===R.matches)n.reset([]);else{const K=R.crossesNgTemplate?op(u,o,E,[]):$v(u,o,R,E);n.reset(K,Ty),n.notifyOnChanges()}return!0}return!1}function Qv(n,o,u){const E=ar();E.firstCreatePass&&(t0(E,new Zv(n,o,u),-1),2==(2&o)&&(E.staticViewQueries=!0)),e0(E,di(),o)}function qv(n,o,u,E){const R=ar();if(R.firstCreatePass){const K=Go();t0(R,new Zv(o,u,E),K.index),function GS(n,o){const u=n.contentQueries||(n.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(n.queries.length-1,o)}(R,n),2==(2&u)&&(R.staticContentQueries=!0)}e0(R,di(),u)}function Xv(){return function US(n,o){return n[Lo].queries[o].queryList}(di(),mc())}function e0(n,o,u){const E=new Ph(4==(4&u));(function Ky(n,o,u,E){const R=mg(o);R.push(u),n.firstCreatePass&&pg(n).push(E,R.length-1)})(n,o,E,E.destroy),null===o[Lo]&&(o[Lo]=new np),o[Lo].queries.push(new tp(E))}function t0(n,o,u){null===n.queries&&(n.queries=new ip),n.queries.track(new rp(o,u))}function n0(n,o){return n.queries.getByIndex(o)}function r0(n,o){return Rh(n,o)}function sp(n){return!!Vr(n)}const E0=new Oi("Application Initializer");let up=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,E)=>{this.resolve=u,this.reject=E}),this.appInits=ze(E0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const R of this.appInits){const K=R();if(Mm(K))u.push(K);else if(Jg(K)){const me=new Promise((Ve,ot)=>{K.subscribe({complete:Ve,error:ot})});u.push(me)}}const E=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{E()}).catch(R=>{this.reject(R)}),0===u.length&&E(),this.initialized=!0}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T0=(()=>{class n{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const kh=new Oi("LocaleId",{providedIn:"root",factory:()=>ze(kh,_e.Optional|_e.SkipSelf)||function aC(){return typeof $localize<"u"&&$localize.locale||zu}()}),lC=new Oi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let S0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class dC{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let uC=(()=>{class n{compileModuleSync(u){return new Jm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const E=this.compileModuleSync(u),K=jd(Vr(u).declarations).reduce((me,Ve)=>{const ot=zi(Ve);return ot&&me.push(new Af(ot)),me},[]);return new dC(E,K)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M0(...n){}class cc{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:E=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Od(!1),this.onMicrotaskEmpty=new Od(!1),this.onStable=new Od(!1),this.onError=new Od(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!E&&u,R.shouldCoalesceRunChangeDetection=E,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function mC(){const n="function"==typeof tt.requestAnimationFrame;let o=tt[n?"requestAnimationFrame":"setTimeout"],u=tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const E=o[Zone.__symbol__("OriginalDelegate")];E&&(o=E);const R=u[Zone.__symbol__("OriginalDelegate")];R&&(u=R)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function _C(n){const o=()=>{!function gC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hp(n),n.isCheckStableRunning=!0,fp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,E,R,K,me,Ve)=>{try{return A0(n),u.invokeTask(R,K,me,Ve)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===K.type||n.shouldCoalesceRunChangeDetection)&&o(),x0(n)}},onInvoke:(u,E,R,K,me,Ve,ot)=>{try{return A0(n),u.invoke(R,K,me,Ve,ot)}finally{n.shouldCoalesceRunChangeDetection&&o(),x0(n)}},onHasTask:(u,E,R,K)=>{u.hasTask(R,K),E===R&&("microTask"==K.change?(n._hasPendingMicrotasks=K.microTask,hp(n),fp(n)):"macroTask"==K.change&&(n.hasPendingMacrotasks=K.macroTask))},onHandleError:(u,E,R,K)=>(u.handleError(R,K),n.runOutsideAngular(()=>n.onError.emit(K)),!1)})}(R)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cc.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(cc.isInAngularZone())throw new T(909,!1)}run(o,u,E){return this._inner.run(o,u,E)}runTask(o,u,E,R){const K=this._inner,me=K.scheduleEventTask("NgZoneEvent: "+R,o,pC,M0,M0);try{return K.runTask(me,u,E)}finally{K.cancelTask(me)}}runGuarded(o,u,E){return this._inner.runGuarded(o,u,E)}runOutsideAngular(o){return this._outer.run(o)}}const pC={};function fp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function A0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function x0(n){n._nesting--,fp(n)}class vC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Od,this.onMicrotaskEmpty=new Od,this.onStable=new Od,this.onError=new Od}run(o,u,E){return o.apply(u,E)}runGuarded(o,u,E){return o.apply(u,E)}runOutsideAngular(o){return o()}runTask(o,u,E,R){return o.apply(u,E)}}const I0=new Oi("",{providedIn:"root",factory:w0});function w0(){const n=ze(cc);let o=!0;const u=new b.y(R=>{o=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{R.next(o),R.complete()})}),E=new b.y(R=>{let K;n.runOutsideAngular(()=>{K=n.onStable.subscribe(()=>{cc.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(o=!0,R.next(!0))})})});const me=n.onUnstable.subscribe(()=>{cc.assertInAngularZone(),o&&(o=!1,n.runOutsideAngular(()=>{R.next(!1)}))});return()=>{K.unsubscribe(),me.unsubscribe()}});return(0,g.T)(u,E.pipe((0,D.B)()))}const O0=new Oi(""),P0=new Oi("");let mp,yC=(()=>{class n{constructor(u,E,R){this._ngZone=u,this.registry=E,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mp||(function bC(n){mp=n}(R),R.addToWindow(E)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(E=>!E.updateCb||!E.updateCb(u)||(clearTimeout(E.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,E,R){let K=-1;E&&E>0&&(K=setTimeout(()=>{this._callbacks=this._callbacks.filter(me=>me.timeoutId!==K),u(this._didWork,this.getPendingTasks())},E)),this._callbacks.push({doneCb:u,timeoutId:K,updateCb:R})}whenStable(u,E,R){if(R&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,E,R),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,E,R){return[]}static#e=this.\u0275fac=function(E){return new(E||n)(it(cc),it(R0),it(P0))};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac})}return n})(),R0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(u,E){this._applications.set(u,E)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,E=!0){return mp?.findTestabilityInTree(this,u,E)??null}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),eu=null;const N0=new Oi("AllowMultipleToken"),pp=new Oi("PlatformDestroyListeners"),gp=new Oi("appBootstrapListener");class SC{constructor(o,u){this.name=o,this.token=u}}function F0(n,o,u=[]){const E=`Platform: ${o}`,R=new Oi(E);return(K=[])=>{let me=_p();if(!me||me.injector.get(N0,!1)){const Ve=[...u,...K,{provide:R,useValue:!0}];n?n(Ve):function CC(n){if(eu&&!eu.get(N0,!1))throw new T(400,!1);(function L0(){!function fl(n){wl=n}(()=>{throw new T(600,!1)})})(),eu=n;const o=n.get(U0);(function k0(n){n.get(Ap,null)?.forEach(u=>u())})(n)}(function B0(n=[],o){return qd.create({name:o,providers:[{provide:lr,useValue:"platform"},{provide:pp,useValue:new Set([()=>eu=null])},...n]})}(Ve,E))}return function MC(n){const o=_p();if(!o)throw new T(401,!1);return o}()}}function _p(){return eu?.get(U0)??null}let U0=(()=>{class n{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,E){const R=function AC(n="zone.js",o){return"noop"===n?new vC:"zone.js"===n?new cc(o):n}(E?.ngZone,function G0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:E?.ngZoneEventCoalescing,runCoalescing:E?.ngZoneRunCoalescing}));return R.run(()=>{const K=function XT(n,o,u){return new $m(n,o,u)}(u.moduleType,this.injector,function W0(n){return[{provide:cc,useFactory:n},{provide:go,multi:!0,useFactory:()=>{const o=ze(IC,{optional:!0});return()=>o.initialize()}},{provide:K0,useFactory:xC},{provide:I0,useFactory:w0}]}(()=>R)),me=K.injector.get(Ou,null);return R.runOutsideAngular(()=>{const Ve=R.onError.subscribe({next:ot=>{me.handleError(ot)}});K.onDestroy(()=>{Fh(this._modules,K),Ve.unsubscribe()})}),function H0(n,o,u){try{const E=u();return Mm(E)?E.catch(R=>{throw o.runOutsideAngular(()=>n.handleError(R)),R}):E}catch(E){throw o.runOutsideAngular(()=>n.handleError(E)),E}}(me,R,()=>{const Ve=K.injector.get(up);return Ve.runInitializers(),Ve.donePromise.then(()=>(W_(K.injector.get(kh,zu)||zu),this._moduleDoBootstrap(K),K))})})}bootstrapModule(u,E=[]){const R=j0({},E);return function EC(n,o,u){const E=new Jm(u);return Promise.resolve(E)}(0,0,u).then(K=>this.bootstrapModuleFactory(K,R))}_moduleDoBootstrap(u){const E=u.injector.get(Qu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(R=>E.bootstrap(R));else{if(!u.instance.ngDoBootstrap)throw new T(-403,!1);u.instance.ngDoBootstrap(E)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(E=>E.destroy()),this._destroyListeners.forEach(E=>E());const u=this._injector.get(pp,null);u&&(u.forEach(E=>E()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(E){return new(E||n)(it(qd))};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function j0(n,o){return Array.isArray(o)?o.reduce(j0,n):{...n,...o}}let Qu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ze(K0),this.zoneIsStable=ze(I0),this.componentTypes=[],this.components=[],this.isStable=ze(S0).hasPendingTasks.pipe((0,m.w)(u=>u?(0,P.of)(!1):this.zoneIsStable),(0,i.x)(),(0,D.B)()),this._injector=ze(Ma)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,E){const R=u instanceof Rp;if(!this._injector.get(up).done)throw!R&&ao(u),new T(405,!1);let me;me=R?u:this._injector.get(Ef).resolveComponentFactory(u),this.componentTypes.push(me.componentType);const Ve=function TC(n){return n.isBoundToModule}(me)?void 0:this._injector.get(Zu),Lt=me.create(qd.NULL,[],E||me.selector,Ve),rn=Lt.location.nativeElement,Cn=Lt.injector.get(O0,null);return Cn?.registerApplication(rn),Lt.onDestroy(()=>{this.detachView(Lt.hostView),Fh(this.components,Lt),Cn?.unregisterApplication(rn)}),this._loadComponent(Lt),Lt}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const E=u;this._views.push(E),E.attachToAppRef(this)}detachView(u){const E=u;Fh(this._views,E),E.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const E=this._injector.get(gp,[]);E.push(...this._bootstrapListeners),E.forEach(R=>R(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Fh(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new T(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fh(n,o){const u=n.indexOf(o);u>-1&&n.splice(u,1)}const K0=new Oi("",{providedIn:"root",factory:()=>ze(Ou).handleError.bind(void 0)});function xC(){const n=ze(cc),o=ze(Ou);return u=>n.runOutsideAngular(()=>o.handleError(u))}let IC=(()=>{class n{constructor(){this.zone=ze(cc),this.applicationRef=ze(Qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OC(){return!1}function PC(){}let RC=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=NC}return n})();function NC(n){return function LC(n,o,u){if(Mo(n)&&!u){const E=Zn(n.index,o);return new Mf(E,E)}return 47&n.type?new Mf(o[Wi],o):null}(Go(),di(),16==(16&n))}class $0{constructor(){}supports(o){return ph(o)}create(o){return new HC(o)}}const GC=(n,o)=>o;class HC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||GC}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,E=this._removalsHead,R=0,K=null;for(;u||E;){const me=!E||u&&u.currentIndex<Q0(E,R,K)?u:E,Ve=Q0(me,R,K),ot=me.currentIndex;if(me===E)R--,E=E._nextRemoved;else if(u=u._next,null==me.previousIndex)R++;else{K||(K=[]);const Lt=Ve-R,rn=ot-R;if(Lt!=rn){for(let jn=0;jn<Lt;jn++){const Jn=jn<K.length?K[jn]:K[jn]=0,fi=Jn+jn;rn<=fi&&fi<Lt&&(K[jn]=Jn+1)}K[me.previousIndex]=rn-Lt}}Ve!==ot&&o(me,Ve,ot)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!ph(o))throw new T(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let R,K,me,u=this._itHead,E=!1;if(Array.isArray(o)){this.length=o.length;for(let Ve=0;Ve<this.length;Ve++)K=o[Ve],me=this._trackByFn(Ve,K),null!==u&&Object.is(u.trackById,me)?(E&&(u=this._verifyReinsertion(u,K,me,Ve)),Object.is(u.item,K)||this._addIdentityChange(u,K)):(u=this._mismatch(u,K,me,Ve),E=!0),u=u._next}else R=0,function Fb(n,o){if(Array.isArray(n))for(let u=0;u<n.length;u++)o(n[u]);else{const u=n[Symbol.iterator]();let E;for(;!(E=u.next()).done;)o(E.value)}}(o,Ve=>{me=this._trackByFn(R,Ve),null!==u&&Object.is(u.trackById,me)?(E&&(u=this._verifyReinsertion(u,Ve,me,R)),Object.is(u.item,Ve)||this._addIdentityChange(u,Ve)):(u=this._mismatch(u,Ve,me,R),E=!0),u=u._next,R++}),this.length=R;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,E,R){let K;return null===o?K=this._itTail:(K=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(E,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,K,R)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(E,R))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,K,R)):o=this._addAfter(new jC(u,E),K,R),o}_verifyReinsertion(o,u,E,R){let K=null===this._unlinkedRecords?null:this._unlinkedRecords.get(E,null);return null!==K?o=this._reinsertAfter(K,o._prev,R):o.currentIndex!=R&&(o.currentIndex=R,this._addToMoves(o,R)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,E){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const R=o._prevRemoved,K=o._nextRemoved;return null===R?this._removalsHead=K:R._nextRemoved=K,null===K?this._removalsTail=R:K._prevRemoved=R,this._insertAfter(o,u,E),this._addToMoves(o,E),o}_moveAfter(o,u,E){return this._unlink(o),this._insertAfter(o,u,E),this._addToMoves(o,E),o}_addAfter(o,u,E){return this._insertAfter(o,u,E),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,E){const R=null===u?this._itHead:u._next;return o._next=R,o._prev=u,null===R?this._itTail=o:R._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(o),o.currentIndex=E,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,E=o._next;return null===u?this._itHead=E:u._next=E,null===E?this._itTail=u:E._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jC{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let E;for(E=this._head;null!==E;E=E._nextDup)if((null===u||u<=E.currentIndex)&&Object.is(E.trackById,o))return E;return null}remove(o){const u=o._prevDup,E=o._nextDup;return null===u?this._head=E:u._nextDup=E,null===E?this._tail=u:E._prevDup=u,null===this._head}}class J0{constructor(){this.map=new Map}put(o){const u=o.trackById;let E=this.map.get(u);E||(E=new VC,this.map.set(u,E)),E.add(o)}get(o,u){const R=this.map.get(o);return R?R.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q0(n,o,u){const E=n.previousIndex;if(null===E)return E;let R=0;return u&&E<u.length&&(R=u[E]),E+o+R}class q0{constructor(){}supports(o){return o instanceof Map||pm(o)}create(){return new KC}}class KC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||pm(o)))throw new T(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(E,R)=>{if(u&&u.key===R)this._maybeAddToChanges(u,E),this._appendAfter=u,u=u._next;else{const K=this._getOrCreateRecordForKey(R,E);u=this._insertBeforeOrAppend(u,K)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let E=u;null!==E;E=E._nextRemoved)E===this._mapHead&&(this._mapHead=null),this._records.delete(E.key),E._nextRemoved=E._next,E.previousValue=E.currentValue,E.currentValue=null,E._prev=null,E._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const E=o._prev;return u._next=o,u._prev=E,o._prev=u,E&&(E._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const R=this._records.get(o);this._maybeAddToChanges(R,u);const K=R._prev,me=R._next;return K&&(K._next=me),me&&(me._prev=K),R._next=null,R._prev=null,R}const E=new WC(o);return this._records.set(o,E),E.currentValue=u,this._addToAdditions(E),E}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(E=>u(o[E],E))}}class WC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X0(){return new Tp([new $0])}let Tp=(()=>{class n{static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:X0});constructor(u){this.factories=u}static create(u,E){if(null!=E){const R=E.factories.slice();u=u.concat(R)}return new n(u)}static extend(u){return{provide:n,useFactory:E=>n.create(u,E||X0()),deps:[[n,new bo,new al]]}}find(u){const E=this.factories.find(R=>R.supports(u));if(null!=E)return E;throw new T(901,!1)}}return n})();function ey(){return new Sp([new q0])}let Sp=(()=>{class n{static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:ey});constructor(u){this.factories=u}static create(u,E){if(E){const R=E.factories.slice();u=u.concat(R)}return new n(u)}static extend(u){return{provide:n,useFactory:E=>n.create(u,E||ey()),deps:[[n,new bo,new al]]}}find(u){const E=this.factories.find(R=>R.supports(u));if(E)return E;throw new T(901,!1)}}return n})();const ZC=F0(null,"core",[]);let $C=(()=>{class n{constructor(u){}static#e=this.\u0275fac=function(E){return new(E||n)(it(Qu))};static#t=this.\u0275mod=Fi({type:n});static#n=this.\u0275inj=Q({})}return n})();function rD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function sD(n,o){const u=zi(n),E=o.elementInjector||ac();return new Af(u).create(E,o.projectableNodes,o.hostElement,o.environmentInjector)}function aD(n){const o=zi(n);if(!o)return null;const u=new Af(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},95:(Wn,et,p)=>{"use strict";p.d(et,{Zs:()=>Fo,Fj:()=>T,qu:()=>ta,NI:()=>Fi,u:()=>ko,sg:()=>Hi,u5:()=>Ur,Cf:()=>B,JU:()=>x,a5:()=>re,JJ:()=>xe,JL:()=>Ee,F:()=>vr,On:()=>lo,YN:()=>ss,wV:()=>Tr,UX:()=>kn,EJ:()=>os,kI:()=>ae,_Y:()=>qo,Kr:()=>as});var e=p(5879),t=p(6814),v=p(2459),b=p(5592),g=p(7453),P=p(4829),D=p(9940),m=p(8251),i=p(7400),c=p(2714),f=p(7398);let _=(()=>{class _t{constructor(ut,$t){this._renderer=ut,this._elementRef=$t,this.onChange=wn=>{},this.onTouched=()=>{}}setProperty(ut,$t){this._renderer.setProperty(this._elementRef.nativeElement,ut,$t)}registerOnTouched(ut){this.onTouched=ut}registerOnChange(ut){this.onChange=ut}setDisabledState(ut){this.setProperty("disabled",ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:_t})}return _t})(),S=(()=>{class _t extends _{static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,features:[e.qOj]})}return _t})();const x=new e.OlP("NgValueAccessor"),O={provide:x,useExisting:(0,e.Gpc)(()=>T),multi:!0},I=new e.OlP("CompositionEventMode");let T=(()=>{class _t extends _{constructor(ut,$t,wn){super(ut,$t),this._compositionMode=wn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C(){const _t=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(_t.toLowerCase())}())}writeValue(ut){this.setProperty("value",ut??"")}_handleInput(ut){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ut)}_compositionStart(){this._composing=!0}_compositionEnd(ut){this._composing=!1,this._compositionMode&&this.onChange(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("input",function(Zi){return wn._handleInput(Zi.target.value)})("blur",function(){return wn.onTouched()})("compositionstart",function(){return wn._compositionStart()})("compositionend",function(Zi){return wn._compositionEnd(Zi.target.value)})},features:[e._Bn([O]),e.qOj]})}return _t})();function L(_t){return null==_t||("string"==typeof _t||Array.isArray(_t))&&0===_t.length}function y(_t){return null!=_t&&"number"==typeof _t.length}const B=new e.OlP("NgValidators"),z=new e.OlP("NgAsyncValidators"),ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Ot){return function Fe(_t){return Ot=>{if(L(Ot.value)||L(_t))return null;const ut=parseFloat(Ot.value);return!isNaN(ut)&&ut<_t?{min:{min:_t,actual:Ot.value}}:null}}(Ot)}static max(Ot){return function Y(_t){return Ot=>{if(L(Ot.value)||L(_t))return null;const ut=parseFloat(Ot.value);return!isNaN(ut)&&ut>_t?{max:{max:_t,actual:Ot.value}}:null}}(Ot)}static required(Ot){return le(Ot)}static requiredTrue(Ot){return G(Ot)}static email(Ot){return function Se(_t){return L(_t.value)||ne.test(_t.value)?null:{email:!0}}(Ot)}static minLength(Ot){return function ce(_t){return Ot=>L(Ot.value)||!y(Ot.value)?null:Ot.value.length<_t?{minlength:{requiredLength:_t,actualLength:Ot.value.length}}:null}(Ot)}static maxLength(Ot){return function ge(_t){return Ot=>y(Ot.value)&&Ot.value.length>_t?{maxlength:{requiredLength:_t,actualLength:Ot.value.length}}:null}(Ot)}static pattern(Ot){return function Ie(_t){if(!_t)return Ce;let Ot,ut;return"string"==typeof _t?(ut="","^"!==_t.charAt(0)&&(ut+="^"),ut+=_t,"$"!==_t.charAt(_t.length-1)&&(ut+="$"),Ot=new RegExp(ut)):(ut=_t.toString(),Ot=_t),$t=>{if(L($t.value))return null;const wn=$t.value;return Ot.test(wn)?null:{pattern:{requiredPattern:ut,actualValue:wn}}}}(Ot)}static nullValidator(Ot){return null}static compose(Ot){return Oe(Ot)}static composeAsync(Ot){return ft(Ot)}}function le(_t){return L(_t.value)?{required:!0}:null}function G(_t){return!0===_t.value?null:{required:!0}}function Ce(_t){return null}function pe(_t){return null!=_t}function Ae(_t){return(0,e.QGY)(_t)?(0,v.D)(_t):_t}function ke(_t){let Ot={};return _t.forEach(ut=>{Ot=null!=ut?{...Ot,...ut}:Ot}),0===Object.keys(Ot).length?null:Ot}function he(_t,Ot){return Ot.map(ut=>ut(_t))}function Te(_t){return _t.map(Ot=>function we(_t){return!_t.validate}(Ot)?Ot:ut=>Ot.validate(ut))}function Oe(_t){if(!_t)return null;const Ot=_t.filter(pe);return 0==Ot.length?null:function(ut){return ke(he(ut,Ot))}}function je(_t){return null!=_t?Oe(Te(_t)):null}function ft(_t){if(!_t)return null;const Ot=_t.filter(pe);return 0==Ot.length?null:function(ut){return function d(..._t){const Ot=(0,D.jO)(_t),{args:ut,keys:$t}=(0,g.D)(_t),wn=new b.y(Ti=>{const{length:Zi}=ut;if(!Zi)return void Ti.complete();const zo=new Array(Zi);let ts=Zi,Es=Zi;for(let si=0;si<Zi;si++){let Os=!1;(0,P.Xf)(ut[si]).subscribe((0,m.x)(Ti,to=>{Os||(Os=!0,Es--),zo[si]=to},()=>ts--,void 0,()=>{(!ts||!Os)&&(Es||Ti.next($t?(0,c.n)($t,zo):zo),Ti.complete())}))}});return Ot?wn.pipe((0,i.Z)(Ot)):wn}(he(ut,Ot).map(Ae)).pipe((0,f.U)(ke))}}function Ze(_t){return null!=_t?ft(Te(_t)):null}function Re(_t,Ot){return null===_t?[Ot]:Array.isArray(_t)?[..._t,Ot]:[_t,Ot]}function be(_t){return _t._rawValidators}function Q(_t){return _t._rawAsyncValidators}function ie(_t){return _t?Array.isArray(_t)?_t:[_t]:[]}function ye(_t,Ot){return Array.isArray(_t)?_t.includes(Ot):_t===Ot}function oe(_t,Ot){const ut=ie(Ot);return ie(_t).forEach(wn=>{ye(ut,wn)||ut.push(wn)}),ut}function ee(_t,Ot){return ie(Ot).filter(ut=>!ye(_t,ut))}class X{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ot){this._rawValidators=Ot||[],this._composedValidatorFn=je(this._rawValidators)}_setAsyncValidators(Ot){this._rawAsyncValidators=Ot||[],this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ot){this._onDestroyCallbacks.push(Ot)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ot=>Ot()),this._onDestroyCallbacks=[]}reset(Ot=void 0){this.control&&this.control.reset(Ot)}hasError(Ot,ut){return!!this.control&&this.control.hasError(Ot,ut)}getError(Ot,ut){return this.control?this.control.getError(Ot,ut):null}}class $ extends X{get formDirective(){return null}get path(){return null}}class re extends X{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J{constructor(Ot){this._cd=Ot}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xe=(()=>{class _t extends J{constructor(ut){super(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(re,2))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($t,wn){2&$t&&e.ekj("ng-untouched",wn.isUntouched)("ng-touched",wn.isTouched)("ng-pristine",wn.isPristine)("ng-dirty",wn.isDirty)("ng-valid",wn.isValid)("ng-invalid",wn.isInvalid)("ng-pending",wn.isPending)},features:[e.qOj]})}return _t})(),Ee=(()=>{class _t extends J{constructor(ut){super(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36($,10))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($t,wn){2&$t&&e.ekj("ng-untouched",wn.isUntouched)("ng-touched",wn.isTouched)("ng-pristine",wn.isPristine)("ng-dirty",wn.isDirty)("ng-valid",wn.isValid)("ng-invalid",wn.isInvalid)("ng-pending",wn.isPending)("ng-submitted",wn.isSubmitted)},features:[e.qOj]})}return _t})();const vt="VALID",it="INVALID",He="PENDING",ze="DISABLED";function st(_t){return(xt(_t)?_t.validators:_t)||null}function St(_t,Ot){return(xt(Ot)?Ot.asyncValidators:_t)||null}function xt(_t){return null!=_t&&!Array.isArray(_t)&&"object"==typeof _t}function on(_t,Ot,ut){const $t=_t.controls;if(!(Ot?Object.keys($t):$t).length)throw new e.vHH(1e3,"");if(!$t[ut])throw new e.vHH(1001,"")}function En(_t,Ot,ut){_t._forEachChild(($t,wn)=>{if(void 0===ut[wn])throw new e.vHH(1002,"")})}class tn{constructor(Ot,ut){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ot),this._assignAsyncValidators(ut)}get validator(){return this._composedValidatorFn}set validator(Ot){this._rawValidators=this._composedValidatorFn=Ot}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ot){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ot}get parent(){return this._parent}get valid(){return this.status===vt}get invalid(){return this.status===it}get pending(){return this.status==He}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ot){this._assignValidators(Ot)}setAsyncValidators(Ot){this._assignAsyncValidators(Ot)}addValidators(Ot){this.setValidators(oe(Ot,this._rawValidators))}addAsyncValidators(Ot){this.setAsyncValidators(oe(Ot,this._rawAsyncValidators))}removeValidators(Ot){this.setValidators(ee(Ot,this._rawValidators))}removeAsyncValidators(Ot){this.setAsyncValidators(ee(Ot,this._rawAsyncValidators))}hasValidator(Ot){return ye(this._rawValidators,Ot)}hasAsyncValidator(Ot){return ye(this._rawAsyncValidators,Ot)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ot={}){this.touched=!0,this._parent&&!Ot.onlySelf&&this._parent.markAsTouched(Ot)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ot=>Ot.markAllAsTouched())}markAsUntouched(Ot={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ut=>{ut.markAsUntouched({onlySelf:!0})}),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot)}markAsDirty(Ot={}){this.pristine=!1,this._parent&&!Ot.onlySelf&&this._parent.markAsDirty(Ot)}markAsPristine(Ot={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ut=>{ut.markAsPristine({onlySelf:!0})}),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot)}markAsPending(Ot={}){this.status=He,!1!==Ot.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ot.onlySelf&&this._parent.markAsPending(Ot)}disable(Ot={}){const ut=this._parentMarkedDirty(Ot.onlySelf);this.status=ze,this.errors=null,this._forEachChild($t=>{$t.disable({...Ot,onlySelf:!0})}),this._updateValue(),!1!==Ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ot,skipPristineCheck:ut}),this._onDisabledChange.forEach($t=>$t(!0))}enable(Ot={}){const ut=this._parentMarkedDirty(Ot.onlySelf);this.status=vt,this._forEachChild($t=>{$t.enable({...Ot,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent}),this._updateAncestors({...Ot,skipPristineCheck:ut}),this._onDisabledChange.forEach($t=>$t(!1))}_updateAncestors(Ot){this._parent&&!Ot.onlySelf&&(this._parent.updateValueAndValidity(Ot),Ot.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ot){this._parent=Ot}getRawValue(){return this.value}updateValueAndValidity(Ot={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===He)&&this._runAsyncValidator(Ot.emitEvent)),!1!==Ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ot.onlySelf&&this._parent.updateValueAndValidity(Ot)}_updateTreeValidity(Ot={emitEvent:!0}){this._forEachChild(ut=>ut._updateTreeValidity(Ot)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ot){if(this.asyncValidator){this.status=He,this._hasOwnPendingAsyncValidator=!0;const ut=Ae(this.asyncValidator(this));this._asyncValidationSubscription=ut.subscribe($t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($t,{emitEvent:Ot})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ot,ut={}){this.errors=Ot,this._updateControlsErrors(!1!==ut.emitEvent)}get(Ot){let ut=Ot;return null==ut||(Array.isArray(ut)||(ut=ut.split(".")),0===ut.length)?null:ut.reduce(($t,wn)=>$t&&$t._find(wn),this)}getError(Ot,ut){const $t=ut?this.get(ut):this;return $t&&$t.errors?$t.errors[Ot]:null}hasError(Ot,ut){return!!this.getError(Ot,ut)}get root(){let Ot=this;for(;Ot._parent;)Ot=Ot._parent;return Ot}_updateControlsErrors(Ot){this.status=this._calculateStatus(),Ot&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ot)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(He)?He:this._anyControlsHaveStatus(it)?it:vt}_anyControlsHaveStatus(Ot){return this._anyControls(ut=>ut.status===Ot)}_anyControlsDirty(){return this._anyControls(Ot=>Ot.dirty)}_anyControlsTouched(){return this._anyControls(Ot=>Ot.touched)}_updatePristine(Ot={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot)}_updateTouched(Ot={}){this.touched=this._anyControlsTouched(),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot)}_registerOnCollectionChange(Ot){this._onCollectionChange=Ot}_setUpdateStrategy(Ot){xt(Ot)&&null!=Ot.updateOn&&(this._updateOn=Ot.updateOn)}_parentMarkedDirty(Ot){return!Ot&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ot){return null}_assignValidators(Ot){this._rawValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedValidatorFn=function at(_t){return Array.isArray(_t)?je(_t):_t||null}(this._rawValidators)}_assignAsyncValidators(Ot){this._rawAsyncValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedAsyncValidatorFn=function bt(_t){return Array.isArray(_t)?Ze(_t):_t||null}(this._rawAsyncValidators)}}class Mn extends tn{constructor(Ot,ut,$t){super(st(ut),St($t,ut)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(ut),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ot,ut){return this.controls[Ot]?this.controls[Ot]:(this.controls[Ot]=ut,ut.setParent(this),ut._registerOnCollectionChange(this._onCollectionChange),ut)}addControl(Ot,ut,$t={}){this.registerControl(Ot,ut),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}removeControl(Ot,ut={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],this.updateValueAndValidity({emitEvent:ut.emitEvent}),this._onCollectionChange()}setControl(Ot,ut,$t={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],ut&&this.registerControl(Ot,ut),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}contains(Ot){return this.controls.hasOwnProperty(Ot)&&this.controls[Ot].enabled}setValue(Ot,ut={}){En(this,0,Ot),Object.keys(Ot).forEach($t=>{on(this,!0,$t),this.controls[$t].setValue(Ot[$t],{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut)}patchValue(Ot,ut={}){null!=Ot&&(Object.keys(Ot).forEach($t=>{const wn=this.controls[$t];wn&&wn.patchValue(Ot[$t],{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut))}reset(Ot={},ut={}){this._forEachChild(($t,wn)=>{$t.reset(Ot[wn],{onlySelf:!0,emitEvent:ut.emitEvent})}),this._updatePristine(ut),this._updateTouched(ut),this.updateValueAndValidity(ut)}getRawValue(){return this._reduceChildren({},(Ot,ut,$t)=>(Ot[$t]=ut.getRawValue(),Ot))}_syncPendingControls(){let Ot=this._reduceChildren(!1,(ut,$t)=>!!$t._syncPendingControls()||ut);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){Object.keys(this.controls).forEach(ut=>{const $t=this.controls[ut];$t&&Ot($t,ut)})}_setUpControls(){this._forEachChild(Ot=>{Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ot){for(const[ut,$t]of Object.entries(this.controls))if(this.contains(ut)&&Ot($t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ut,$t,wn)=>(($t.enabled||this.disabled)&&(ut[wn]=$t.value),ut))}_reduceChildren(Ot,ut){let $t=Ot;return this._forEachChild((wn,Ti)=>{$t=ut($t,wn,Ti)}),$t}_allControlsDisabled(){for(const Ot of Object.keys(this.controls))if(this.controls[Ot].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ot){return this.controls.hasOwnProperty(Ot)?this.controls[Ot]:null}}class $n extends Mn{}const vn=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>pn}),pn="always";function yn(_t,Ot){return[...Ot.path,_t]}function mn(_t,Ot,ut=pn){Tn(_t,Ot),Ot.valueAccessor.writeValue(_t.value),(_t.disabled||"always"===ut)&&Ot.valueAccessor.setDisabledState?.(_t.disabled),function Ct(_t,Ot){Ot.valueAccessor.registerOnChange(ut=>{_t._pendingValue=ut,_t._pendingChange=!0,_t._pendingDirty=!0,"change"===_t.updateOn&&Rt(_t,Ot)})}(_t,Ot),function xn(_t,Ot){const ut=($t,wn)=>{Ot.valueAccessor.writeValue($t),wn&&Ot.viewToModelUpdate($t)};_t.registerOnChange(ut),Ot._registerOnDestroy(()=>{_t._unregisterOnChange(ut)})}(_t,Ot),function Jt(_t,Ot){Ot.valueAccessor.registerOnTouched(()=>{_t._pendingTouched=!0,"blur"===_t.updateOn&&_t._pendingChange&&Rt(_t,Ot),"submit"!==_t.updateOn&&_t.markAsTouched()})}(_t,Ot),function ht(_t,Ot){if(Ot.valueAccessor.setDisabledState){const ut=$t=>{Ot.valueAccessor.setDisabledState($t)};_t.registerOnDisabledChange(ut),Ot._registerOnDestroy(()=>{_t._unregisterOnDisabledChange(ut)})}}(_t,Ot)}function _n(_t,Ot,ut=!0){const $t=()=>{};Ot.valueAccessor&&(Ot.valueAccessor.registerOnChange($t),Ot.valueAccessor.registerOnTouched($t)),qe(_t,Ot),_t&&(Ot._invokeOnDestroyCallbacks(),_t._registerOnCollectionChange(()=>{}))}function At(_t,Ot){_t.forEach(ut=>{ut.registerOnValidatorChange&&ut.registerOnValidatorChange(Ot)})}function Tn(_t,Ot){const ut=be(_t);null!==Ot.validator?_t.setValidators(Re(ut,Ot.validator)):"function"==typeof ut&&_t.setValidators([ut]);const $t=Q(_t);null!==Ot.asyncValidator?_t.setAsyncValidators(Re($t,Ot.asyncValidator)):"function"==typeof $t&&_t.setAsyncValidators([$t]);const wn=()=>_t.updateValueAndValidity();At(Ot._rawValidators,wn),At(Ot._rawAsyncValidators,wn)}function qe(_t,Ot){let ut=!1;if(null!==_t){if(null!==Ot.validator){const wn=be(_t);if(Array.isArray(wn)&&wn.length>0){const Ti=wn.filter(Zi=>Zi!==Ot.validator);Ti.length!==wn.length&&(ut=!0,_t.setValidators(Ti))}}if(null!==Ot.asyncValidator){const wn=Q(_t);if(Array.isArray(wn)&&wn.length>0){const Ti=wn.filter(Zi=>Zi!==Ot.asyncValidator);Ti.length!==wn.length&&(ut=!0,_t.setAsyncValidators(Ti))}}}const $t=()=>{};return At(Ot._rawValidators,$t),At(Ot._rawAsyncValidators,$t),ut}function Rt(_t,Ot){_t._pendingDirty&&_t.markAsDirty(),_t.setValue(_t._pendingValue,{emitModelToViewChange:!1}),Ot.viewToModelUpdate(_t._pendingValue),_t._pendingChange=!1}function kt(_t,Ot){Tn(_t,Ot)}function Ut(_t,Ot){if(!_t.hasOwnProperty("model"))return!1;const ut=_t.model;return!!ut.isFirstChange()||!Object.is(Ot,ut.currentValue)}function Ne(_t,Ot){_t._syncPendingControls(),Ot.forEach(ut=>{const $t=ut.control;"submit"===$t.updateOn&&$t._pendingChange&&(ut.viewToModelUpdate($t._pendingValue),$t._pendingChange=!1)})}function Ft(_t,Ot){if(!Ot)return null;let ut,$t,wn;return Array.isArray(Ot),Ot.forEach(Ti=>{Ti.constructor===T?ut=Ti:function On(_t){return Object.getPrototypeOf(_t.constructor)===S}(Ti)?$t=Ti:wn=Ti}),wn||$t||ut||null}const Fn={provide:$,useExisting:(0,e.Gpc)(()=>vr)},vi=(()=>Promise.resolve())();let vr=(()=>{class _t extends ${constructor(ut,$t,wn){super(),this.callSetDisabledState=wn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new Mn({},je(ut),Ze($t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ut){vi.then(()=>{const $t=this._findContainer(ut.path);ut.control=$t.registerControl(ut.name,ut.control),mn(ut.control,ut,this.callSetDisabledState),ut.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ut)})}getControl(ut){return this.form.get(ut.path)}removeControl(ut){vi.then(()=>{const $t=this._findContainer(ut.path);$t&&$t.removeControl(ut.name),this._directives.delete(ut)})}addFormGroup(ut){vi.then(()=>{const $t=this._findContainer(ut.path),wn=new Mn({});kt(wn,ut),$t.registerControl(ut.name,wn),wn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ut){vi.then(()=>{const $t=this._findContainer(ut.path);$t&&$t.removeControl(ut.name)})}getFormGroup(ut){return this.form.get(ut.path)}updateModel(ut,$t){vi.then(()=>{this.form.get(ut.path).setValue($t)})}setValue(ut){this.control.setValue(ut)}onSubmit(ut){return this.submitted=!0,Ne(this.form,this._directives),this.ngSubmit.emit(ut),"dialog"===ut?.target?.method}onReset(){this.resetForm()}resetForm(ut=void 0){this.form.reset(ut),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ut){return ut.pop(),ut.length?this.form.get(ut):this.form}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(B,10),e.Y36(z,10),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("submit",function(Zi){return wn.onSubmit(Zi)})("reset",function(){return wn.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Fn]),e.qOj]})}return _t})();function Zr(_t,Ot){const ut=_t.indexOf(Ot);ut>-1&&_t.splice(ut,1)}function Hr(_t){return"object"==typeof _t&&null!==_t&&2===Object.keys(_t).length&&"value"in _t&&"disabled"in _t}const Fi=class extends tn{constructor(Ot=null,ut,$t){super(st(ut),St($t,ut)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ot),this._setUpdateStrategy(ut),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xt(ut)&&(ut.nonNullable||ut.initialValueIsDefault)&&(this.defaultValue=Hr(Ot)?Ot.value:Ot)}setValue(Ot,ut={}){this.value=this._pendingValue=Ot,this._onChange.length&&!1!==ut.emitModelToViewChange&&this._onChange.forEach($t=>$t(this.value,!1!==ut.emitViewToModelChange)),this.updateValueAndValidity(ut)}patchValue(Ot,ut={}){this.setValue(Ot,ut)}reset(Ot=this.defaultValue,ut={}){this._applyFormState(Ot),this.markAsPristine(ut),this.markAsUntouched(ut),this.setValue(this.value,ut),this._pendingChange=!1}_updateValue(){}_anyControls(Ot){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ot){this._onChange.push(Ot)}_unregisterOnChange(Ot){Zr(this._onChange,Ot)}registerOnDisabledChange(Ot){this._onDisabledChange.push(Ot)}_unregisterOnDisabledChange(Ot){Zr(this._onDisabledChange,Ot)}_forEachChild(Ot){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ot){Hr(Ot)?(this.value=this._pendingValue=Ot.value,Ot.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ot}},rs={provide:re,useExisting:(0,e.Gpc)(()=>lo)},xr=(()=>Promise.resolve())();let lo=(()=>{class _t extends re{constructor(ut,$t,wn,Ti,Zi,zo){super(),this._changeDetectorRef=Zi,this.callSetDisabledState=zo,this.control=new Fi,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=ut,this._setValidators($t),this._setAsyncValidators(wn),this.valueAccessor=Ft(0,Ti)}ngOnChanges(ut){if(this._checkForErrors(),!this._registered||"name"in ut){if(this._registered&&(this._checkName(),this.formDirective)){const $t=ut.name.previousValue;this.formDirective.removeControl({name:$t,path:this._getPath($t)})}this._setUpControl()}"isDisabled"in ut&&this._updateDisabled(ut),Ut(ut,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ut){this.viewModel=ut,this.update.emit(ut)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ut){xr.then(()=>{this.control.setValue(ut,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ut){const $t=ut.isDisabled.currentValue,wn=0!==$t&&(0,e.VuI)($t);xr.then(()=>{wn&&!this.control.disabled?this.control.disable():!wn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ut){return this._parent?yn(ut,this._parent):[ut]}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36($,9),e.Y36(B,10),e.Y36(z,10),e.Y36(x,10),e.Y36(e.sBO,8),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([rs]),e.qOj,e.TTD]})}return _t})(),qo=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return _t})();const As={provide:x,useExisting:(0,e.Gpc)(()=>Tr),multi:!0};let Tr=(()=>{class _t extends S{writeValue(ut){this.setProperty("value",ut??"")}registerOnChange(ut){this.onChange=$t=>{ut(""==$t?null:parseFloat($t))}}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("input",function(Zi){return wn.onChange(Zi.target.value)})("blur",function(){return wn.onTouched()})},features:[e._Bn([As]),e.qOj]})}return _t})(),Pr=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({})}return _t})();const Dn=new e.OlP("NgModelWithFormControlWarning"),li={provide:$,useExisting:(0,e.Gpc)(()=>Hi)};let Hi=(()=>{class _t extends ${constructor(ut,$t,wn){super(),this.callSetDisabledState=wn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(ut),this._setAsyncValidators($t)}ngOnChanges(ut){this._checkFormPresent(),ut.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ut){const $t=this.form.get(ut.path);return mn($t,ut,this.callSetDisabledState),$t.updateValueAndValidity({emitEvent:!1}),this.directives.push(ut),$t}getControl(ut){return this.form.get(ut.path)}removeControl(ut){_n(ut.control||null,ut,!1),function Pt(_t,Ot){const ut=_t.indexOf(Ot);ut>-1&&_t.splice(ut,1)}(this.directives,ut)}addFormGroup(ut){this._setUpFormContainer(ut)}removeFormGroup(ut){this._cleanUpFormContainer(ut)}getFormGroup(ut){return this.form.get(ut.path)}addFormArray(ut){this._setUpFormContainer(ut)}removeFormArray(ut){this._cleanUpFormContainer(ut)}getFormArray(ut){return this.form.get(ut.path)}updateModel(ut,$t){this.form.get(ut.path).setValue($t)}onSubmit(ut){return this.submitted=!0,Ne(this.form,this.directives),this.ngSubmit.emit(ut),"dialog"===ut?.target?.method}onReset(){this.resetForm()}resetForm(ut=void 0){this.form.reset(ut),this.submitted=!1}_updateDomValue(){this.directives.forEach(ut=>{const $t=ut.control,wn=this.form.get(ut.path);$t!==wn&&(_n($t||null,ut),(_t=>_t instanceof Fi)(wn)&&(mn(wn,ut,this.callSetDisabledState),ut.control=wn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ut){const $t=this.form.get(ut.path);kt($t,ut),$t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ut){if(this.form){const $t=this.form.get(ut.path);$t&&function It(_t,Ot){return qe(_t,Ot)}($t,ut)&&$t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tn(this.form,this),this._oldForm&&qe(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(B,10),e.Y36(z,10),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formGroup",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("submit",function(Zi){return wn.onSubmit(Zi)})("reset",function(){return wn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([li]),e.qOj,e.TTD]})}return _t})();const Lo={provide:re,useExisting:(0,e.Gpc)(()=>ko)};let ko=(()=>{class _t extends re{set isDisabled(ut){}static#e=this._ngModelWarningSentOnce=!1;constructor(ut,$t,wn,Ti,Zi){super(),this._ngModelWarningConfig=Zi,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=ut,this._setValidators($t),this._setAsyncValidators(wn),this.valueAccessor=Ft(0,Ti)}ngOnChanges(ut){this._added||this._setUpControl(),Ut(ut,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ut){this.viewModel=ut,this.update.emit(ut)}get path(){return yn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function($t){return new($t||_t)(e.Y36($,13),e.Y36(B,10),e.Y36(z,10),e.Y36(x,10),e.Y36(Dn,8))};static#n=this.\u0275dir=e.lG2({type:_t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Lo]),e.qOj,e.TTD]})}return _t})();const js={provide:x,useExisting:(0,e.Gpc)(()=>os),multi:!0};function eo(_t,Ot){return null==_t?`${Ot}`:(Ot&&"object"==typeof Ot&&(Ot="Object"),`${_t}: ${Ot}`.slice(0,50))}let os=(()=>{class _t extends S{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ut){this._compareWith=ut}writeValue(ut){this.value=ut;const wn=eo(this._getOptionId(ut),ut);this.setProperty("value",wn)}registerOnChange(ut){this.onChange=$t=>{this.value=this._getOptionValue($t),ut(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ut){for(const $t of this._optionMap.keys())if(this._compareWith(this._optionMap.get($t),ut))return $t;return null}_getOptionValue(ut){const $t=function _o(_t){return _t.split(":")[0]}(ut);return this._optionMap.has($t)?this._optionMap.get($t):ut}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("change",function(Zi){return wn.onChange(Zi.target.value)})("blur",function(){return wn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([js]),e.qOj]})}return _t})(),ss=(()=>{class _t{constructor(ut,$t,wn){this._element=ut,this._renderer=$t,this._select=wn,this._select&&(this.id=this._select._registerOption())}set ngValue(ut){null!=this._select&&(this._select._optionMap.set(this.id,ut),this._setElementValue(eo(this.id,ut)),this._select.writeValue(this._select.value))}set value(ut){this._setElementValue(ut),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ut){this._renderer.setProperty(this._element.nativeElement,"value",ut)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(os,9))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return _t})();const cr={provide:x,useExisting:(0,e.Gpc)(()=>co),multi:!0};function Ha(_t,Ot){return null==_t?`${Ot}`:("string"==typeof Ot&&(Ot=`'${Ot}'`),Ot&&"object"==typeof Ot&&(Ot="Object"),`${_t}: ${Ot}`.slice(0,50))}let co=(()=>{class _t extends S{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ut){this._compareWith=ut}writeValue(ut){let $t;if(this.value=ut,Array.isArray(ut)){const wn=ut.map(Ti=>this._getOptionId(Ti));$t=(Ti,Zi)=>{Ti._setSelected(wn.indexOf(Zi.toString())>-1)}}else $t=(wn,Ti)=>{wn._setSelected(!1)};this._optionMap.forEach($t)}registerOnChange(ut){this.onChange=$t=>{const wn=[],Ti=$t.selectedOptions;if(void 0!==Ti){const Zi=Ti;for(let zo=0;zo<Zi.length;zo++){const Es=this._getOptionValue(Zi[zo].value);wn.push(Es)}}else{const Zi=$t.options;for(let zo=0;zo<Zi.length;zo++){const ts=Zi[zo];if(ts.selected){const Es=this._getOptionValue(ts.value);wn.push(Es)}}}this.value=wn,ut(wn)}}_registerOption(ut){const $t=(this._idCounter++).toString();return this._optionMap.set($t,ut),$t}_getOptionId(ut){for(const $t of this._optionMap.keys())if(this._compareWith(this._optionMap.get($t)._value,ut))return $t;return null}_getOptionValue(ut){const $t=function Xo(_t){return _t.split(":")[0]}(ut);return this._optionMap.has($t)?this._optionMap.get($t)._value:ut}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("change",function(Zi){return wn.onChange(Zi.target)})("blur",function(){return wn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([cr]),e.qOj]})}return _t})(),as=(()=>{class _t{constructor(ut,$t,wn){this._element=ut,this._renderer=$t,this._select=wn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ut){null!=this._select&&(this._value=ut,this._setElementValue(Ha(this.id,ut)),this._select.writeValue(this._select.value))}set value(ut){this._select?(this._value=ut,this._setElementValue(Ha(this.id,ut)),this._select.writeValue(this._select.value)):this._setElementValue(ut)}_setElementValue(ut){this._renderer.setProperty(this._element.nativeElement,"value",ut)}_setSelected(ut){this._renderer.setProperty(this._element.nativeElement,"selected",ut)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(co,9))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return _t})(),Wr=(()=>{class _t{constructor(){this._validator=Ce}ngOnChanges(ut){if(this.inputName in ut){const $t=this.normalizeInput(ut[this.inputName].currentValue);this._enabled=this.enabled($t),this._validator=this._enabled?this.createValidator($t):Ce,this._onChange&&this._onChange()}}validate(ut){return this._validator(ut)}registerOnValidatorChange(ut){this._onChange=ut}enabled(ut){return null!=ut}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275dir=e.lG2({type:_t,features:[e.TTD]})}return _t})();const Mo={provide:B,useExisting:(0,e.Gpc)(()=>mr),multi:!0},Fr={provide:B,useExisting:(0,e.Gpc)(()=>Fo),multi:!0};let mr=(()=>{class _t extends Wr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=ut=>le}enabled(ut){return ut}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($t,wn){2&$t&&e.uIk("required",wn._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([Mo]),e.qOj]})}return _t})(),Fo=(()=>{class _t extends mr{constructor(){super(...arguments),this.createValidator=ut=>G}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($t,wn){2&$t&&e.uIk("required",wn._enabled?"":null)},features:[e._Bn([Fr]),e.qOj]})}return _t})(),xa=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Pr]})}return _t})();class Ws extends tn{constructor(Ot,ut,$t){super(st(ut),St($t,ut)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(ut),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ot){return this.controls[this._adjustIndex(Ot)]}push(Ot,ut={}){this.controls.push(Ot),this._registerControl(Ot),this.updateValueAndValidity({emitEvent:ut.emitEvent}),this._onCollectionChange()}insert(Ot,ut,$t={}){this.controls.splice(Ot,0,ut),this._registerControl(ut),this.updateValueAndValidity({emitEvent:$t.emitEvent})}removeAt(Ot,ut={}){let $t=this._adjustIndex(Ot);$t<0&&($t=0),this.controls[$t]&&this.controls[$t]._registerOnCollectionChange(()=>{}),this.controls.splice($t,1),this.updateValueAndValidity({emitEvent:ut.emitEvent})}setControl(Ot,ut,$t={}){let wn=this._adjustIndex(Ot);wn<0&&(wn=0),this.controls[wn]&&this.controls[wn]._registerOnCollectionChange(()=>{}),this.controls.splice(wn,1),ut&&(this.controls.splice(wn,0,ut),this._registerControl(ut)),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ot,ut={}){En(this,0,Ot),Ot.forEach(($t,wn)=>{on(this,!1,wn),this.at(wn).setValue($t,{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut)}patchValue(Ot,ut={}){null!=Ot&&(Ot.forEach(($t,wn)=>{this.at(wn)&&this.at(wn).patchValue($t,{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut))}reset(Ot=[],ut={}){this._forEachChild(($t,wn)=>{$t.reset(Ot[wn],{onlySelf:!0,emitEvent:ut.emitEvent})}),this._updatePristine(ut),this._updateTouched(ut),this.updateValueAndValidity(ut)}getRawValue(){return this.controls.map(Ot=>Ot.getRawValue())}clear(Ot={}){this.controls.length<1||(this._forEachChild(ut=>ut._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ot.emitEvent}))}_adjustIndex(Ot){return Ot<0?Ot+this.length:Ot}_syncPendingControls(){let Ot=this.controls.reduce((ut,$t)=>!!$t._syncPendingControls()||ut,!1);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){this.controls.forEach((ut,$t)=>{Ot(ut,$t)})}_updateValue(){this.value=this.controls.filter(Ot=>Ot.enabled||this.disabled).map(Ot=>Ot.value)}_anyControls(Ot){return this.controls.some(ut=>ut.enabled&&Ot(ut))}_setUpControls(){this._forEachChild(Ot=>this._registerControl(Ot))}_allControlsDisabled(){for(const Ot of this.controls)if(Ot.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ot){Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)}_find(Ot){return this.at(Ot)??null}}function ls(_t){return!!_t&&(void 0!==_t.asyncValidators||void 0!==_t.validators||void 0!==_t.updateOn)}let ta=(()=>{class _t{constructor(){this.useNonNullable=!1}get nonNullable(){const ut=new _t;return ut.useNonNullable=!0,ut}group(ut,$t=null){const wn=this._reduceControls(ut);let Ti={};return ls($t)?Ti=$t:null!==$t&&(Ti.validators=$t.validator,Ti.asyncValidators=$t.asyncValidator),new Mn(wn,Ti)}record(ut,$t=null){const wn=this._reduceControls(ut);return new $n(wn,$t)}control(ut,$t,wn){let Ti={};return this.useNonNullable?(ls($t)?Ti=$t:(Ti.validators=$t,Ti.asyncValidators=wn),new Fi(ut,{...Ti,nonNullable:!0})):new Fi(ut,$t,wn)}array(ut,$t,wn){const Ti=ut.map(Zi=>this._createControl(Zi));return new Ws(Ti,$t,wn)}_reduceControls(ut){const $t={};return Object.keys(ut).forEach(wn=>{$t[wn]=this._createControl(ut[wn])}),$t}_createControl(ut){return ut instanceof Fi||ut instanceof tn?ut:Array.isArray(ut)?this.control(ut[0],ut.length>1?ut[1]:null,ut.length>2?ut[2]:null):this.control(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"})}return _t})(),Ur=(()=>{class _t{static withConfig(ut){return{ngModule:_t,providers:[{provide:vn,useValue:ut.callSetDisabledState??pn}]}}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[xa]})}return _t})(),kn=(()=>{class _t{static withConfig(ut){return{ngModule:_t,providers:[{provide:Dn,useValue:ut.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:ut.callSetDisabledState??pn}]}}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[xa]})}return _t})()},2296:(Wn,et,p)=>{"use strict";p.d(et,{RK:()=>he,lW:()=>le,ot:()=>Te});var e=p(2831),t=p(5879),v=p(4300),b=p(3680),g=p(6814);const P=["mat-button",""],D=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],m=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],S=["mat-icon-button",""],x=["*"],N={capture:!0},O=["focus","click","mouseenter","touchstart"],C="mat-button-ripple-uninitialized";let I=(()=>{class Oe{constructor(){this._document=(0,t.f3M)(g.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(b.Y2,{optional:!0}),this._platform=(0,t.f3M)(e.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=ft=>{if(ft.target===this._document)return;const Re=ft.target.closest(`[${C}]`);Re&&(Re.removeAttribute(C),this._appendRipple(Re))},this._ngZone.runOutsideAngular(()=>{for(const ft of O)this._document?.addEventListener(ft,this._onInteraction,N)})}ngOnDestroy(){for(const ft of O)this._document?.removeEventListener(ft,this._onInteraction,N)}_appendRipple(ft){if(!this._document)return;const Ze=this._document.createElement("span");Ze.classList.add("mat-mdc-button-ripple");const Re=new T(ft,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Re.rippleConfig.centered=ft.hasAttribute("mat-icon-button"),new b.IR(Re,this._ngZone,Ze,this._platform).setupTriggerEvents(ft),ft.append(Ze)}_createMatRipple(ft){if(!this._document)return;ft.querySelector(".mat-mdc-button-ripple")?.remove(),ft.removeAttribute(C);const Ze=this._document.createElement("span");Ze.classList.add("mat-mdc-button-ripple");const Re=new b.wG(new t.SBq(Ze),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Re._isInitialized=!0,Re.trigger=ft,ft.append(Ze),Re}static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)};static#t=this.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();class T{constructor(je,ft,Ze){this._button=je,this._globalRippleOptions=ft,this._setRippleConfig(ft,Ze)}_setRippleConfig(je,ft){this.rippleConfig=je||{},"NoopAnimations"===ft&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],z=(0,b.pj)((0,b.Id)((0,b.Kr)(class{constructor(Oe){this._elementRef=Oe}})));let ne=(()=>{class Oe extends z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ft){this._ripple=ft}constructor(ft,Ze,Re,be){super(ft),this._platform=Ze,this._ngZone=Re,this._animationMode=be,this._focusMonitor=(0,t.f3M)(v.tE),this._rippleLoader=(0,t.f3M)(I),this._isFab=!1;const Q=ft.nativeElement.classList;for(const ie of B)this._hasHostAttributes(ie.selector)&&ie.mdcClasses.forEach(ye=>{Q.add(ye)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ft="program",Ze){ft?this._focusMonitor.focusVia(this._elementRef.nativeElement,ft,Ze):this._elementRef.nativeElement.focus(Ze)}_hasHostAttributes(...ft){return ft.some(Ze=>this._elementRef.nativeElement.hasAttribute(Ze))}static#e=this.\u0275fac=function(Ze){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Oe,features:[t.qOj,t.TTD]})}return Oe})(),le=(()=>{class Oe extends ne{constructor(ft,Ze,Re,be){super(ft,Ze,Re,be)}static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)(t.Y36(t.SBq),t.Y36(e.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ze,Re){2&Ze&&(t.uIk("disabled",Re.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Re._animationMode)("mat-unthemed",!Re.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:P,ngContentSelectors:m,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ze,Re){1&Ze&&(t.F$t(D),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Ze&&t.ekj("mdc-button__ripple",!Re._isFab)("mdc-fab__ripple",Re._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),he=(()=>{class Oe extends ne{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ft,Ze,Re,be){super(ft,Ze,Re,be)}static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)(t.Y36(t.SBq),t.Y36(e.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ze,Re){2&Ze&&(t.uIk("disabled",Re.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Re._animationMode)("mat-unthemed",!Re.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:S,ngContentSelectors:x,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ze,Re){1&Ze&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),Te=(()=>{class Oe{static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)};static#t=this.\u0275mod=t.oAB({type:Oe});static#n=this.\u0275inj=t.cJS({imports:[b.BQ,b.si,b.BQ]})}return Oe})()},5986:(Wn,et,p)=>{"use strict";p.d(et,{oG:()=>A,p9:()=>I});var e=p(5879),t=p(95),v=p(3680),b=p(2495);const g=["input"],P=["label"],D=["*"],m=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:i});function i(){return{color:"accent",clickAction:"check-indeterminate"}}const c={provide:t.JU,useExisting:(0,e.Gpc)(()=>A),multi:!0};class d{}let f=0;const _=i(),S=(0,v.sb)((0,v.pj)((0,v.Kr)((0,v.Id)(class{constructor(T){this._elementRef=T}}))));let x=(()=>{class T extends S{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(y){this._required=(0,b.Ig)(y)}constructor(y,B,z,ne,ae,Fe,Y){super(B),this._changeDetectorRef=z,this._ngZone=ne,this._animationMode=Fe,this._options=Y,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||_,this.color=this.defaultColor=this._options.color||_.color,this.tabIndex=parseInt(ae)||0,this.id=this._uniqueId=`${y}${++f}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(y){const B=(0,b.Ig)(y);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(y){const B=(0,b.Ig)(y);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(y){const B=y!=this._indeterminate;this._indeterminate=(0,b.Ig)(y),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(y){this.checked=!!y}registerOnChange(y){this._controlValueAccessorChangeFn=y}registerOnTouched(y){this._onTouched=y}setDisabledState(y){this.disabled=y}_transitionCheckState(y){let B=this._currentCheckState,z=this._getAnimationTargetElement();if(B!==y&&z&&(this._currentAnimationClass&&z.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,y),this._currentCheckState=y,this._currentAnimationClass.length>0)){z.classList.add(this._currentAnimationClass);const ne=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{z.classList.remove(ne)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const y=this._options?.clickAction;this.disabled||"noop"===y?!this.disabled&&"noop"===y&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==y&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(y){y.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(y,B){if("NoopAnimations"===this._animationMode)return"";switch(y){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(y){const B=this._inputElement;B&&(B.nativeElement.indeterminate=y)}static#e=this.\u0275fac=function(B){e.$Z()};static#t=this.\u0275dir=e.lG2({type:T,viewQuery:function(B,z){if(1&B&&(e.Gf(g,5),e.Gf(P,5),e.Gf(v.wG,5)),2&B){let ne;e.iGM(ne=e.CRH())&&(z._inputElement=ne.first),e.iGM(ne=e.CRH())&&(z._labelElement=ne.first),e.iGM(ne=e.CRH())&&(z.ripple=ne.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]})}return T})(),A=(()=>{class T extends x{constructor(y,B,z,ne,ae,Fe){super("mat-mdc-checkbox-",y,B,z,ne,ae,Fe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(y){const B=new d;return B.source=this,B.checked=y,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(y){y.target&&this._labelElement.nativeElement.contains(y.target)&&y.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(m,8))};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,z){2&B&&(e.Ikx("id",z.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===z._animationMode)("mdc-checkbox--disabled",z.disabled)("mat-mdc-checkbox-disabled",z.disabled)("mat-mdc-checkbox-checked",z.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([c]),e.qOj],ngContentSelectors:D,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,z){if(1&B&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(ae){return z._preventBubblingFromLabel(ae)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return z._onTouchTargetClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return z._onBlur()})("click",function(){return z._onInputClick()})("change",function(ae){return z._onInteractionEvent(ae)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&B){const ne=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==z.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",z.checked),e.Q6J("checked",z.checked)("indeterminate",z.indeterminate)("disabled",z.disabled)("id",z.inputId)("required",z.required)("tabIndex",z.tabIndex),e.uIk("aria-label",z.ariaLabel||null)("aria-labelledby",z.ariaLabelledby)("aria-describedby",z.ariaDescribedby)("name",z.name)("value",z.value),e.xp6(7),e.Q6J("matRippleTrigger",ne)("matRippleDisabled",z.disableRipple||z.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",z.inputId)}},dependencies:[v.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),C=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=e.oAB({type:T});static#n=this.\u0275inj=e.cJS({})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=e.oAB({type:T});static#n=this.\u0275inj=e.cJS({imports:[v.BQ,v.si,C,v.BQ,C]})}return T})()},3680:(Wn,et,p)=>{"use strict";p.d(et,{yN:()=>I,mZ:()=>T,_A:()=>Ce,rD:()=>ft,sG:()=>pe,K7:()=>Dt,HF:()=>tt,Y2:()=>xe,BQ:()=>B,XK:()=>Oe,ey:()=>Qt,Ng:()=>fn,wG:()=>Ee,si:()=>Ge,IR:()=>q,CB:()=>qt,jH:()=>un,pj:()=>Y,Kr:()=>le,Id:()=>Fe,FD:()=>Se,dB:()=>ce,sb:()=>G});var e=p(5879),t=p(4300),v=p(9388),g=p(6814),P=p(2831),D=p(2495),m=p(5592),i=p(8645),c=p(6028);const _=["text"];function S(wt,vt){if(1&wt&&e._UZ(0,"mat-pseudo-checkbox",6),2&wt){const it=e.oxw();e.Q6J("disabled",it.disabled)("state",it.selected?"checked":"unchecked")}}function x(wt,vt){if(1&wt&&e._UZ(0,"mat-pseudo-checkbox",7),2&wt){const it=e.oxw();e.Q6J("disabled",it.disabled)}}function A(wt,vt){if(1&wt&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&wt){const it=e.oxw();e.xp6(1),e.hij("(",it.group.label,")")}}const N=[[["mat-icon"]],"*"],O=["mat-icon","*"];let I=(()=>{class wt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return wt})(),T=(()=>{class wt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return wt})();const y=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function L(){return!0}});let B=(()=>{class wt{constructor(it,He,ze){this._sanityChecks=He,this._document=ze,this._hasDoneGlobalChecks=!1,it._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(it){return!(0,P.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[it])}static#e=this.\u0275fac=function(He){return new(He||wt)(e.LFG(t.qm),e.LFG(y,8),e.LFG(g.K0))};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[v.vT,v.vT]})}return wt})();function Fe(wt){return class extends wt{get disabled(){return this._disabled}set disabled(vt){this._disabled=(0,D.Ig)(vt)}constructor(...vt){super(...vt),this._disabled=!1}}}function Y(wt,vt){return class extends wt{get color(){return this._color}set color(it){const He=it||this.defaultColor;He!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),He&&this._elementRef.nativeElement.classList.add(`mat-${He}`),this._color=He)}constructor(...it){super(...it),this.defaultColor=vt,this.color=vt}}}function le(wt){return class extends wt{get disableRipple(){return this._disableRipple}set disableRipple(vt){this._disableRipple=(0,D.Ig)(vt)}constructor(...vt){super(...vt),this._disableRipple=!1}}}function G(wt,vt=0){return class extends wt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(it){this._tabIndex=null!=it?(0,D.su)(it):this.defaultTabIndex}constructor(...it){super(...it),this._tabIndex=vt,this.defaultTabIndex=vt}}}function Se(wt){return class extends wt{updateErrorState(){const vt=this.errorState,st=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);st!==vt&&(this.errorState=st,this.stateChanges.next())}constructor(...vt){super(...vt),this.errorState=!1}}}function ce(wt){return class extends wt{constructor(...vt){super(...vt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new m.y(it=>{this._isInitialized?this._notifySubscriber(it):this._pendingSubscribers.push(it)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(vt){vt.next(),vt.complete()}}}const ge=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ie(){return(0,e.f3M)(e.soG)}});class Ce{constructor(){this._localeChanges=new i.x,this.localeChanges=this._localeChanges}getValidDateOrNull(vt){return this.isDateInstance(vt)&&this.isValid(vt)?vt:null}deserialize(vt){return null==vt||this.isDateInstance(vt)&&this.isValid(vt)?vt:this.invalid()}setLocale(vt){this.locale=vt,this._localeChanges.next()}compareDate(vt,it){return this.getYear(vt)-this.getYear(it)||this.getMonth(vt)-this.getMonth(it)||this.getDate(vt)-this.getDate(it)}sameDate(vt,it){if(vt&&it){let He=this.isValid(vt),ze=this.isValid(it);return He&&ze?!this.compareDate(vt,it):He==ze}return vt==it}clampDate(vt,it,He){return it&&this.compareDate(vt,it)<0?it:He&&this.compareDate(vt,He)>0?He:vt}}const pe=new e.OlP("mat-date-formats"),Ae=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ke(wt,vt){const it=Array(wt);for(let He=0;He<wt;He++)it[He]=vt(He);return it}let he=(()=>{class wt extends Ce{constructor(it,He){super(),this.useUtcForDisplay=!1,super.setLocale(it)}getYear(it){return it.getFullYear()}getMonth(it){return it.getMonth()}getDate(it){return it.getDate()}getDayOfWeek(it){return it.getDay()}getMonthNames(it){const He=new Intl.DateTimeFormat(this.locale,{month:it,timeZone:"utc"});return ke(12,ze=>this._format(He,new Date(2017,ze,1)))}getDateNames(){const it=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ke(31,He=>this._format(it,new Date(2017,0,He+1)))}getDayOfWeekNames(it){const He=new Intl.DateTimeFormat(this.locale,{weekday:it,timeZone:"utc"});return ke(7,ze=>this._format(He,new Date(2017,0,ze+1)))}getYearName(it){const He=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(He,it)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(it){return this.getDate(this._createDateWithOverflow(this.getYear(it),this.getMonth(it)+1,0))}clone(it){return new Date(it.getTime())}createDate(it,He,ze){let st=this._createDateWithOverflow(it,He,ze);return st.getMonth(),st}today(){return new Date}parse(it,He){return"number"==typeof it?new Date(it):it?new Date(Date.parse(it)):null}format(it,He){if(!this.isValid(it))throw Error("NativeDateAdapter: Cannot format invalid date.");const ze=new Intl.DateTimeFormat(this.locale,{...He,timeZone:"utc"});return this._format(ze,it)}addCalendarYears(it,He){return this.addCalendarMonths(it,12*He)}addCalendarMonths(it,He){let ze=this._createDateWithOverflow(this.getYear(it),this.getMonth(it)+He,this.getDate(it));return this.getMonth(ze)!=((this.getMonth(it)+He)%12+12)%12&&(ze=this._createDateWithOverflow(this.getYear(ze),this.getMonth(ze),0)),ze}addCalendarDays(it,He){return this._createDateWithOverflow(this.getYear(it),this.getMonth(it),this.getDate(it)+He)}toIso8601(it){return[it.getUTCFullYear(),this._2digit(it.getUTCMonth()+1),this._2digit(it.getUTCDate())].join("-")}deserialize(it){if("string"==typeof it){if(!it)return null;if(Ae.test(it)){let He=new Date(it);if(this.isValid(He))return He}}return super.deserialize(it)}isDateInstance(it){return it instanceof Date}isValid(it){return!isNaN(it.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(it,He,ze){const st=new Date;return st.setFullYear(it,He,ze),st.setHours(0,0,0,0),st}_2digit(it){return("00"+it).slice(-2)}_format(it,He){const ze=new Date;return ze.setUTCFullYear(He.getFullYear(),He.getMonth(),He.getDate()),ze.setUTCHours(He.getHours(),He.getMinutes(),He.getSeconds(),He.getMilliseconds()),it.format(ze)}static#e=this.\u0275fac=function(He){return new(He||wt)(e.LFG(ge,8),e.LFG(P.t4))};static#t=this.\u0275prov=e.Yz7({token:wt,factory:wt.\u0275fac})}return wt})();const we={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Te=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({providers:[{provide:Ce,useClass:he}]})}return wt})(),Oe=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({providers:[{provide:pe,useValue:we}],imports:[Te]})}return wt})(),ft=(()=>{class wt{isErrorState(it,He){return!!(it&&it.invalid&&(it.touched||He&&He.submitted))}static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275prov=e.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();class ie{constructor(vt,it,He,ze=!1){this._renderer=vt,this.element=it,this.config=He,this._animationForciblyDisabledThroughCss=ze,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ye=(0,P.i$)({passive:!0,capture:!0});class oe{constructor(){this._events=new Map,this._delegateEventHandler=vt=>{const it=(0,P.sA)(vt);it&&this._events.get(vt.type)?.forEach((He,ze)=>{(ze===it||ze.contains(it))&&He.forEach(st=>st.handleEvent(vt))})}}addHandler(vt,it,He,ze){const st=this._events.get(it);if(st){const at=st.get(He);at?at.add(ze):st.set(He,new Set([ze]))}else this._events.set(it,new Map([[He,new Set([ze])]])),vt.runOutsideAngular(()=>{document.addEventListener(it,this._delegateEventHandler,ye)})}removeHandler(vt,it,He){const ze=this._events.get(vt);if(!ze)return;const st=ze.get(it);st&&(st.delete(He),0===st.size&&ze.delete(it),0===ze.size&&(this._events.delete(vt),document.removeEventListener(vt,this._delegateEventHandler,ye)))}}const ee={enterDuration:225,exitDuration:150},$=(0,P.i$)({passive:!0,capture:!0}),re=["mousedown","touchstart"],J=["mouseup","mouseleave","touchend","touchcancel"];class q{static#e=this._eventManager=new oe;constructor(vt,it,He,ze){this._target=vt,this._ngZone=it,this._platform=ze,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ze.isBrowser&&(this._containerElement=(0,D.fI)(He))}fadeInRipple(vt,it,He={}){const ze=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...ee,...He.animation};He.centered&&(vt=ze.left+ze.width/2,it=ze.top+ze.height/2);const at=He.radius||function _e(wt,vt,it){const He=Math.max(Math.abs(wt-it.left),Math.abs(wt-it.right)),ze=Math.max(Math.abs(vt-it.top),Math.abs(vt-it.bottom));return Math.sqrt(He*He+ze*ze)}(vt,it,ze),St=vt-ze.left,bt=it-ze.top,xt=st.enterDuration,on=document.createElement("div");on.classList.add("mat-ripple-element"),on.style.left=St-at+"px",on.style.top=bt-at+"px",on.style.height=2*at+"px",on.style.width=2*at+"px",null!=He.color&&(on.style.backgroundColor=He.color),on.style.transitionDuration=`${xt}ms`,this._containerElement.appendChild(on);const En=window.getComputedStyle(on),Mn=En.transitionDuration,In="none"===En.transitionProperty||"0s"===Mn||"0s, 0s"===Mn||0===ze.width&&0===ze.height,Nn=new ie(this,on,He,In);on.style.transform="scale3d(1, 1, 1)",Nn.state=0,He.persistent||(this._mostRecentTransientRipple=Nn);let $n=null;return!In&&(xt||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ni=()=>this._finishRippleTransition(Nn),vn=()=>this._destroyRipple(Nn);on.addEventListener("transitionend",ni),on.addEventListener("transitioncancel",vn),$n={onTransitionEnd:ni,onTransitionCancel:vn}}),this._activeRipples.set(Nn,$n),(In||!xt)&&this._finishRippleTransition(Nn),Nn}fadeOutRipple(vt){if(2===vt.state||3===vt.state)return;const it=vt.element,He={...ee,...vt.config.animation};it.style.transitionDuration=`${He.exitDuration}ms`,it.style.opacity="0",vt.state=2,(vt._animationForciblyDisabledThroughCss||!He.exitDuration)&&this._finishRippleTransition(vt)}fadeOutAll(){this._getActiveRipples().forEach(vt=>vt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(vt=>{vt.config.persistent||vt.fadeOut()})}setupTriggerEvents(vt){const it=(0,D.fI)(vt);!this._platform.isBrowser||!it||it===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=it,re.forEach(He=>{q._eventManager.addHandler(this._ngZone,He,it,this)}))}handleEvent(vt){"mousedown"===vt.type?this._onMousedown(vt):"touchstart"===vt.type?this._onTouchStart(vt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{J.forEach(it=>{this._triggerElement.addEventListener(it,this,$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(vt){0===vt.state?this._startFadeOutTransition(vt):2===vt.state&&this._destroyRipple(vt)}_startFadeOutTransition(vt){const it=vt===this._mostRecentTransientRipple,{persistent:He}=vt.config;vt.state=1,!He&&(!it||!this._isPointerDown)&&vt.fadeOut()}_destroyRipple(vt){const it=this._activeRipples.get(vt)??null;this._activeRipples.delete(vt),this._activeRipples.size||(this._containerRect=null),vt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),vt.state=3,null!==it&&(vt.element.removeEventListener("transitionend",it.onTransitionEnd),vt.element.removeEventListener("transitioncancel",it.onTransitionCancel)),vt.element.remove()}_onMousedown(vt){const it=(0,t.X6)(vt),He=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!it&&!He&&(this._isPointerDown=!0,this.fadeInRipple(vt.clientX,vt.clientY,this._target.rippleConfig))}_onTouchStart(vt){if(!this._target.rippleDisabled&&!(0,t.yG)(vt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const it=vt.changedTouches;if(it)for(let He=0;He<it.length;He++)this.fadeInRipple(it[He].clientX,it[He].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(vt=>{!vt.config.persistent&&(1===vt.state||vt.config.terminateOnPointerUp&&0===vt.state)&&vt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const vt=this._triggerElement;vt&&(re.forEach(it=>q._eventManager.removeHandler(it,vt,this)),this._pointerUpEventsRegistered&&J.forEach(it=>vt.removeEventListener(it,this,$)))}}const xe=new e.OlP("mat-ripple-global-options");let Ee=(()=>{class wt{get disabled(){return this._disabled}set disabled(it){it&&this.fadeOutAllNonPersistent(),this._disabled=it,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(it){this._trigger=it,this._setupTriggerEventsIfEnabled()}constructor(it,He,ze,st,at){this._elementRef=it,this._animationMode=at,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=st||{},this._rippleRenderer=new q(this,He,it,ze)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(it,He=0,ze){return"number"==typeof it?this._rippleRenderer.fadeInRipple(it,He,{...this.rippleConfig,...ze}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...it})}static#e=this.\u0275fac=function(He){return new(He||wt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(P.t4),e.Y36(xe,8),e.Y36(e.QbO,8))};static#t=this.\u0275dir=e.lG2({type:wt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,ze){2&He&&e.ekj("mat-ripple-unbounded",ze.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return wt})(),Ge=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[B,B]})}return wt})(),ct=(()=>{class wt{constructor(it){this._animationMode=it,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(He){return new(He||wt)(e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:wt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(He,ze){2&He&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ze.state)("mat-pseudo-checkbox-checked","checked"===ze.state)("mat-pseudo-checkbox-disabled",ze.disabled)("mat-pseudo-checkbox-minimal","minimal"===ze.appearance)("mat-pseudo-checkbox-full","full"===ze.appearance)("_mat-animation-noopable","NoopAnimations"===ze._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(He,ze){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return wt})(),Xe=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[B]})}return wt})();const tt=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),Dt=new e.OlP("MatOptgroup");let We=0;class Et{constructor(vt,it=!1){this.source=vt,this.isUserInput=it}}let Wt=(()=>{class wt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(it){this._disabled=(0,D.Ig)(it)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(it,He,ze,st){this._element=it,this._changeDetectorRef=He,this._parent=ze,this.group=st,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+We++,this.onSelectionChange=new e.vpe,this._stateChanges=new i.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(it=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),it&&this._emitSelectionChangeEvent())}deselect(it=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),it&&this._emitSelectionChangeEvent())}focus(it,He){const ze=this._getHostElement();"function"==typeof ze.focus&&ze.focus(He)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(it){(it.keyCode===c.K5||it.keyCode===c.L_)&&!(0,c.Vb)(it)&&(this._selectViaInteraction(),it.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const it=this.viewValue;it!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=it)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(it=!1){this.onSelectionChange.emit(new Et(this,it))}static#e=this.\u0275fac=function(He){e.$Z()};static#t=this.\u0275dir=e.lG2({type:wt,viewQuery:function(He,ze){if(1&He&&e.Gf(_,7),2&He){let st;e.iGM(st=e.CRH())&&(ze._text=st.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return wt})(),Qt=(()=>{class wt extends Wt{constructor(it,He,ze,st){super(it,He,ze,st)}static#e=this.\u0275fac=function(He){return new(He||wt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(tt,8),e.Y36(Dt,8))};static#t=this.\u0275cmp=e.Xpm({type:wt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(He,ze){1&He&&e.NdJ("click",function(){return ze._selectViaInteraction()})("keydown",function(at){return ze._handleKeydown(at)}),2&He&&(e.Ikx("id",ze.id),e.uIk("aria-selected",ze.selected)("aria-disabled",ze.disabled.toString()),e.ekj("mdc-list-item--selected",ze.selected)("mat-mdc-option-multiple",ze.multiple)("mat-mdc-option-active",ze.active)("mdc-list-item--disabled",ze.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(He,ze){1&He&&(e.F$t(N),e.YNc(0,S,1,2,"mat-pseudo-checkbox",0),e.Hsn(1),e.TgZ(2,"span",1,2),e.Hsn(4,1),e.qZA(),e.YNc(5,x,1,1,"mat-pseudo-checkbox",3),e.YNc(6,A,2,1,"span",4),e._UZ(7,"div",5)),2&He&&(e.Q6J("ngIf",ze.multiple),e.xp6(5),e.Q6J("ngIf",!ze.multiple&&ze.selected&&!ze.hideSingleSelectionIndicator),e.xp6(1),e.Q6J("ngIf",ze.group&&ze.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",ze._getHostElement())("matRippleDisabled",ze.disabled||ze.disableRipple))},dependencies:[Ee,g.O5,ct],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return wt})();function qt(wt,vt,it){if(it.length){let He=vt.toArray(),ze=it.toArray(),st=0;for(let at=0;at<wt+1;at++)He[at].group&&He[at].group===ze[st]&&st++;return st}return 0}function un(wt,vt,it,He){return wt<it?wt:wt+vt>it+He?Math.max(0,wt-He+vt):it}let fn=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[Ge,g.ez,B,Xe]})}return wt})()},8034:(Wn,et,p)=>{"use strict";p.d(et,{FA:()=>Xn,Mq:()=>tn,hl:()=>vn,nW:()=>yn});var e=p(4300),t=p(3651),v=p(8484),b=p(6814),g=p(5879),P=p(2296),D=p(799),m=p(3680),i=p(8645),c=p(7394),d=p(3019),f=p(2096),_=p(6028),S=p(9388),x=p(2831),A=p(8180),N=p(7921),O=p(2181),C=p(2495),I=p(6825),T=p(95),L=p(4170),y=p(2032);const B=["mat-calendar-body",""];function z(Ut,On){if(1&Ut&&(g.TgZ(0,"tr",3)(1,"td",4),g._uU(2),g.qZA()()),2&Ut){const Ne=g.oxw();g.xp6(1),g.Udp("padding-top",Ne._cellPadding)("padding-bottom",Ne._cellPadding),g.uIk("colspan",Ne.numCols),g.xp6(1),g.hij(" ",Ne.label," ")}}function ne(Ut,On){if(1&Ut&&(g.TgZ(0,"td",4),g._uU(1),g.qZA()),2&Ut){const Ne=g.oxw(2);g.Udp("padding-top",Ne._cellPadding)("padding-bottom",Ne._cellPadding),g.uIk("colspan",Ne._firstRowOffset),g.xp6(1),g.hij(" ",Ne._firstRowOffset>=Ne.labelMinRequiredCells?Ne.label:""," ")}}function ae(Ut,On){if(1&Ut){const Ne=g.EpF();g.TgZ(0,"td",8)(1,"button",9),g.NdJ("click",function(Pt){const Fn=g.CHM(Ne).$implicit,vi=g.oxw(2);return g.KtG(vi._cellClicked(Fn,Pt))})("focus",function(Pt){const Fn=g.CHM(Ne).$implicit,vi=g.oxw(2);return g.KtG(vi._emitActiveDateChange(Fn,Pt))}),g.TgZ(2,"span",10),g._uU(3),g.qZA(),g._UZ(4,"span",11),g.qZA()()}if(2&Ut){const Ne=On.$implicit,Ft=On.index,Pt=g.oxw().index,ln=g.oxw();g.Udp("width",ln._cellWidth)("padding-top",ln._cellPadding)("padding-bottom",ln._cellPadding),g.uIk("data-mat-row",Pt)("data-mat-col",Ft),g.xp6(1),g.ekj("mat-calendar-body-disabled",!Ne.enabled)("mat-calendar-body-active",ln._isActiveCell(Pt,Ft))("mat-calendar-body-range-start",ln._isRangeStart(Ne.compareValue))("mat-calendar-body-range-end",ln._isRangeEnd(Ne.compareValue))("mat-calendar-body-in-range",ln._isInRange(Ne.compareValue))("mat-calendar-body-comparison-bridge-start",ln._isComparisonBridgeStart(Ne.compareValue,Pt,Ft))("mat-calendar-body-comparison-bridge-end",ln._isComparisonBridgeEnd(Ne.compareValue,Pt,Ft))("mat-calendar-body-comparison-start",ln._isComparisonStart(Ne.compareValue))("mat-calendar-body-comparison-end",ln._isComparisonEnd(Ne.compareValue))("mat-calendar-body-in-comparison-range",ln._isInComparisonRange(Ne.compareValue))("mat-calendar-body-preview-start",ln._isPreviewStart(Ne.compareValue))("mat-calendar-body-preview-end",ln._isPreviewEnd(Ne.compareValue))("mat-calendar-body-in-preview",ln._isInPreview(Ne.compareValue)),g.Q6J("ngClass",Ne.cssClasses)("tabindex",ln._isActiveCell(Pt,Ft)?0:-1),g.uIk("aria-label",Ne.ariaLabel)("aria-disabled",!Ne.enabled||null)("aria-pressed",ln._isSelected(Ne.compareValue))("aria-current",ln.todayValue===Ne.compareValue?"date":null)("aria-describedby",ln._getDescribedby(Ne.compareValue)),g.xp6(1),g.ekj("mat-calendar-body-selected",ln._isSelected(Ne.compareValue))("mat-calendar-body-comparison-identical",ln._isComparisonIdentical(Ne.compareValue))("mat-calendar-body-today",ln.todayValue===Ne.compareValue),g.xp6(1),g.hij(" ",Ne.displayValue," ")}}function Fe(Ut,On){if(1&Ut&&(g.TgZ(0,"tr",5),g.YNc(1,ne,2,6,"td",6),g.YNc(2,ae,5,48,"td",7),g.qZA()),2&Ut){const Ne=On.$implicit,Ft=On.index,Pt=g.oxw();g.xp6(1),g.Q6J("ngIf",0===Ft&&Pt._firstRowOffset),g.xp6(1),g.Q6J("ngForOf",Ne)}}function Y(Ut,On){if(1&Ut&&(g.TgZ(0,"th",5)(1,"span",6),g._uU(2),g.qZA(),g.TgZ(3,"span",7),g._uU(4),g.qZA()()),2&Ut){const Ne=On.$implicit;g.xp6(2),g.Oqu(Ne.long),g.xp6(2),g.Oqu(Ne.narrow)}}const le=["*"];function G(Ut,On){}function Se(Ut,On){if(1&Ut){const Ne=g.EpF();g.TgZ(0,"mat-month-view",5),g.NdJ("activeDateChange",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln.activeDate=Pt)})("_userSelection",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._dateSelected(Pt))})("dragStarted",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._dragStarted(Pt))})("dragEnded",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._dragEnded(Pt))}),g.qZA()}if(2&Ut){const Ne=g.oxw();g.Q6J("activeDate",Ne.activeDate)("selected",Ne.selected)("dateFilter",Ne.dateFilter)("maxDate",Ne.maxDate)("minDate",Ne.minDate)("dateClass",Ne.dateClass)("comparisonStart",Ne.comparisonStart)("comparisonEnd",Ne.comparisonEnd)("startDateAccessibleName",Ne.startDateAccessibleName)("endDateAccessibleName",Ne.endDateAccessibleName)("activeDrag",Ne._activeDrag)}}function ce(Ut,On){if(1&Ut){const Ne=g.EpF();g.TgZ(0,"mat-year-view",6),g.NdJ("activeDateChange",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln.activeDate=Pt)})("monthSelected",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._monthSelectedInYearView(Pt))})("selectedChange",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._goToDateInView(Pt,"month"))}),g.qZA()}if(2&Ut){const Ne=g.oxw();g.Q6J("activeDate",Ne.activeDate)("selected",Ne.selected)("dateFilter",Ne.dateFilter)("maxDate",Ne.maxDate)("minDate",Ne.minDate)("dateClass",Ne.dateClass)}}function ge(Ut,On){if(1&Ut){const Ne=g.EpF();g.TgZ(0,"mat-multi-year-view",7),g.NdJ("activeDateChange",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln.activeDate=Pt)})("yearSelected",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._yearSelectedInMultiYearView(Pt))})("selectedChange",function(Pt){g.CHM(Ne);const ln=g.oxw();return g.KtG(ln._goToDateInView(Pt,"year"))}),g.qZA()}if(2&Ut){const Ne=g.oxw();g.Q6J("activeDate",Ne.activeDate)("selected",Ne.selected)("dateFilter",Ne.dateFilter)("maxDate",Ne.maxDate)("minDate",Ne.minDate)("dateClass",Ne.dateClass)}}function Ie(Ut,On){}const Ce=["button"];function pe(Ut,On){1&Ut&&(g.O4$(),g.TgZ(0,"svg",3),g._UZ(1,"path",4),g.qZA())}const Ae=[[["","matDatepickerToggleIcon",""]]],ke=["[matDatepickerToggleIcon]"];let je=(()=>{class Ut{constructor(){this.changes=new i.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Ne,Ft){return`${Ne} \u2013 ${Ft}`}formatYearRangeLabel(Ne,Ft){return`${Ne} to ${Ft}`}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)};static#t=this.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();class ft{constructor(On,Ne,Ft,Pt,ln={},Fn=On,vi){this.value=On,this.displayValue=Ne,this.ariaLabel=Ft,this.enabled=Pt,this.cssClasses=ln,this.compareValue=Fn,this.rawValue=vi}}let Ze=1;const Re=(0,x.i$)({passive:!1,capture:!0}),be=(0,x.i$)({passive:!0,capture:!0}),Q=(0,x.i$)({passive:!0});let ie=(()=>{class Ut{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Ne,Ft){this._elementRef=Ne,this._ngZone=Ft,this._platform=(0,g.f3M)(x.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new g.vpe,this.previewChange=new g.vpe,this.activeDateChange=new g.vpe,this.dragStarted=new g.vpe,this.dragEnded=new g.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=Pt=>{if(this._skipNextFocus&&"focus"===Pt.type)this._skipNextFocus=!1;else if(Pt.target&&this.isRange){const ln=this._getCellFromElement(Pt.target);ln&&this._ngZone.run(()=>this.previewChange.emit({value:ln.enabled?ln:null,event:Pt}))}},this._touchmoveHandler=Pt=>{if(!this.isRange)return;const ln=re(Pt),Fn=ln?this._getCellFromElement(ln):null;ln!==Pt.target&&(this._didDragSinceMouseDown=!0),oe(Pt.target)&&Pt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Fn?.enabled?Fn:null,event:Pt}))},this._leaveHandler=Pt=>{null!==this.previewEnd&&this.isRange&&("blur"!==Pt.type&&(this._didDragSinceMouseDown=!0),Pt.target&&this._getCellFromElement(Pt.target)&&(!Pt.relatedTarget||!this._getCellFromElement(Pt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Pt})))},this._mousedownHandler=Pt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const ln=Pt.target&&this._getCellFromElement(Pt.target);!ln||!this._isInRange(ln.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:ln.rawValue,event:Pt})})},this._mouseupHandler=Pt=>{if(!this.isRange)return;const ln=oe(Pt.target);ln?ln.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Fn=this._getCellFromElement(ln);this.dragEnded.emit({value:Fn?.rawValue??null,event:Pt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:Pt})})},this._touchendHandler=Pt=>{const ln=re(Pt);ln&&this._mouseupHandler({target:ln})},this._id="mat-calendar-body-"+Ze++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ft.runOutsideAngular(()=>{const Pt=Ne.nativeElement;Pt.addEventListener("touchmove",this._touchmoveHandler,Re),Pt.addEventListener("mouseenter",this._enterHandler,be),Pt.addEventListener("focus",this._enterHandler,be),Pt.addEventListener("mouseleave",this._leaveHandler,be),Pt.addEventListener("blur",this._leaveHandler,be),Pt.addEventListener("mousedown",this._mousedownHandler,Q),Pt.addEventListener("touchstart",this._mousedownHandler,Q),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Ne,Ft){this._didDragSinceMouseDown||Ne.enabled&&this.selectedValueChange.emit({value:Ne.value,event:Ft})}_emitActiveDateChange(Ne,Ft){Ne.enabled&&this.activeDateChange.emit({value:Ne.value,event:Ft})}_isSelected(Ne){return this.startValue===Ne||this.endValue===Ne}ngOnChanges(Ne){const Ft=Ne.numCols,{rows:Pt,numCols:ln}=this;(Ne.rows||Ft)&&(this._firstRowOffset=Pt&&Pt.length&&Pt[0].length?ln-Pt[0].length:0),(Ne.cellAspectRatio||Ft||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/ln+"%"),(Ft||!this._cellWidth)&&(this._cellWidth=100/ln+"%")}ngOnDestroy(){const Ne=this._elementRef.nativeElement;Ne.removeEventListener("touchmove",this._touchmoveHandler,Re),Ne.removeEventListener("mouseenter",this._enterHandler,be),Ne.removeEventListener("focus",this._enterHandler,be),Ne.removeEventListener("mouseleave",this._leaveHandler,be),Ne.removeEventListener("blur",this._leaveHandler,be),Ne.removeEventListener("mousedown",this._mousedownHandler,Q),Ne.removeEventListener("touchstart",this._mousedownHandler,Q),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Ne,Ft){let Pt=Ne*this.numCols+Ft;return Ne&&(Pt-=this._firstRowOffset),Pt==this.activeCell}_focusActiveCell(Ne=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(()=>{setTimeout(()=>{const Ft=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ft&&(Ne||(this._skipNextFocus=!0),Ft.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Ne){return ee(Ne,this.startValue,this.endValue)}_isRangeEnd(Ne){return X(Ne,this.startValue,this.endValue)}_isInRange(Ne){return $(Ne,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Ne){return ee(Ne,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Ne,Ft,Pt){if(!this._isComparisonStart(Ne)||this._isRangeStart(Ne)||!this._isInRange(Ne))return!1;let ln=this.rows[Ft][Pt-1];if(!ln){const Fn=this.rows[Ft-1];ln=Fn&&Fn[Fn.length-1]}return ln&&!this._isRangeEnd(ln.compareValue)}_isComparisonBridgeEnd(Ne,Ft,Pt){if(!this._isComparisonEnd(Ne)||this._isRangeEnd(Ne)||!this._isInRange(Ne))return!1;let ln=this.rows[Ft][Pt+1];if(!ln){const Fn=this.rows[Ft+1];ln=Fn&&Fn[0]}return ln&&!this._isRangeStart(ln.compareValue)}_isComparisonEnd(Ne){return X(Ne,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Ne){return $(Ne,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Ne){return this.comparisonStart===this.comparisonEnd&&Ne===this.comparisonStart}_isPreviewStart(Ne){return ee(Ne,this.previewStart,this.previewEnd)}_isPreviewEnd(Ne){return X(Ne,this.previewStart,this.previewEnd)}_isInPreview(Ne){return $(Ne,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Ne){return this.isRange?this.startValue===Ne&&this.endValue===Ne?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Ne?this._startDateLabelId:this.endValue===Ne?this._endDateLabelId:null:null}_getCellFromElement(Ne){const Ft=oe(Ne);if(Ft){const Pt=Ft.getAttribute("data-mat-row"),ln=Ft.getAttribute("data-mat-col");if(Pt&&ln)return this.rows[parseInt(Pt)][parseInt(ln)]}return null}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.SBq),g.Y36(g.R0b))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[g.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Ft,Pt){1&Ft&&(g.YNc(0,z,3,6,"tr",0),g.YNc(1,Fe,3,2,"tr",1),g.TgZ(2,"label",2),g._uU(3),g.qZA(),g.TgZ(4,"label",2),g._uU(5),g.qZA()),2&Ft&&(g.Q6J("ngIf",Pt._firstRowOffset<Pt.labelMinRequiredCells),g.xp6(1),g.Q6J("ngForOf",Pt.rows),g.xp6(1),g.Q6J("id",Pt._startDateLabelId),g.xp6(1),g.hij(" ",Pt.startDateAccessibleName,"\n"),g.xp6(1),g.Q6J("id",Pt._endDateLabelId),g.xp6(1),g.hij(" ",Pt.endDateAccessibleName,"\n"))},dependencies:[b.mk,b.sg,b.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Ut})();function ye(Ut){return"TD"===Ut?.nodeName}function oe(Ut){let On;return ye(Ut)?On=Ut:ye(Ut.parentNode)?On=Ut.parentNode:ye(Ut.parentNode?.parentNode)&&(On=Ut.parentNode.parentNode),null!=On?.getAttribute("data-mat-row")?On:null}function ee(Ut,On,Ne){return null!==Ne&&On!==Ne&&Ut<Ne&&Ut===On}function X(Ut,On,Ne){return null!==On&&On!==Ne&&Ut>=On&&Ut===Ne}function $(Ut,On,Ne,Ft){return Ft&&null!==On&&null!==Ne&&On!==Ne&&Ut>=On&&Ut<=Ne}function re(Ut){const On=Ut.changedTouches[0];return document.elementFromPoint(On.clientX,On.clientY)}class J{constructor(On,Ne){this.start=On,this.end=Ne}}let q=(()=>{class Ut{constructor(Ne,Ft){this.selection=Ne,this._adapter=Ft,this._selectionChanged=new i.x,this.selectionChanged=this._selectionChanged,this.selection=Ne}updateSelection(Ne,Ft){const Pt=this.selection;this.selection=Ne,this._selectionChanged.next({selection:Ne,source:Ft,oldValue:Pt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Ne){return this._adapter.isDateInstance(Ne)&&this._adapter.isValid(Ne)}static#e=this.\u0275fac=function(Ft){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})(),_e=(()=>{class Ut extends q{constructor(Ne){super(null,Ne)}add(Ne){super.updateSelection(Ne,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Ne=new Ut(this._adapter);return Ne.updateSelection(this.selection,this),Ne}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.LFG(m._A))};static#t=this.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();const Ge={provide:q,deps:[[new g.FiY,new g.tp0,q],m._A],useFactory:function Ee(Ut,On){return Ut||new _e(On)}},tt=new g.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let fe=(()=>{class Ut{get activeDate(){return this._activeDate}set activeDate(Ne){const Ft=this._activeDate,Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Pt,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ft,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}constructor(Ne,Ft,Pt,ln,Fn){this._changeDetectorRef=Ne,this._dateFormats=Ft,this._dateAdapter=Pt,this._dir=ln,this._rangeStrategy=Fn,this._rerenderSubscription=c.w0.EMPTY,this.activeDrag=null,this.selectedChange=new g.vpe,this._userSelection=new g.vpe,this.dragStarted=new g.vpe,this.dragEnded=new g.vpe,this.activeDateChange=new g.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,N.O)(null)).subscribe(()=>this._init())}ngOnChanges(Ne){const Ft=Ne.comparisonStart||Ne.comparisonEnd;Ft&&!Ft.firstChange&&this._setRanges(this.selected),Ne.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Ne){const Ft=Ne.value,Pt=this._getDateFromDayOfMonth(Ft);let ln,Fn;this._selected instanceof J?(ln=this._getDateInCurrentMonth(this._selected.start),Fn=this._getDateInCurrentMonth(this._selected.end)):ln=Fn=this._getDateInCurrentMonth(this._selected),(ln!==Ft||Fn!==Ft)&&this.selectedChange.emit(Pt),this._userSelection.emit({value:Pt,event:Ne.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Ne){const Pt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Ne.value),this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Ne){const Ft=this._activeDate,Pt=this._isRtl();switch(Ne.keyCode){case _.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Pt?1:-1);break;case _.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Pt?-1:1);break;case _.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case _.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case _.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case _.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case _.Ku:this.activeDate=Ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case _.VM:this.activeDate=Ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case _.K5:case _.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Ne.preventDefault());case _.hY:return void(null!=this._previewEnd&&!(0,_.Vb)(Ne)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Ne}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Ne})),Ne.preventDefault(),Ne.stopPropagation()));default:return}this._dateAdapter.compareDate(Ft,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ne.preventDefault()}_handleCalendarBodyKeyup(Ne){(Ne.keyCode===_.L_||Ne.keyCode===_.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Ne}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Ne=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Ne)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Ne){this._matCalendarBody._focusActiveCell(Ne)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Ne,value:Ft}){if(this._rangeStrategy){const Pt=Ft?Ft.rawValue:null,ln=this._rangeStrategy.createPreview(Pt,this.selected,Ne);if(this._previewStart=this._getCellCompareValue(ln.start),this._previewEnd=this._getCellCompareValue(ln.end),this.activeDrag&&Pt){const Fn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,Pt,Ne);Fn&&(this._previewStart=this._getCellCompareValue(Fn.start),this._previewEnd=this._getCellCompareValue(Fn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Ne){if(this.activeDrag)if(Ne.value){const Ft=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Ne.value,Ne.event);this.dragEnded.emit({value:Ft??null,event:Ne.event})}else this.dragEnded.emit({value:null,event:Ne.event})}_getDateFromDayOfMonth(Ne){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Ne)}_initWeekdays(){const Ne=this._dateAdapter.getFirstDayOfWeek(),Ft=this._dateAdapter.getDayOfWeekNames("narrow");let ln=this._dateAdapter.getDayOfWeekNames("long").map((Fn,vi)=>({long:Fn,narrow:Ft[vi]}));this._weekdays=ln.slice(Ne).concat(ln.slice(0,Ne))}_createWeekCells(){const Ne=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ft=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Pt=0,ln=this._firstWeekOffset;Pt<Ne;Pt++,ln++){7==ln&&(this._weeks.push([]),ln=0);const Fn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Pt+1),vi=this._shouldEnableDate(Fn),vr=this._dateAdapter.format(Fn,this._dateFormats.display.dateA11yLabel),Zr=this.dateClass?this.dateClass(Fn,"month"):void 0;this._weeks[this._weeks.length-1].push(new ft(Pt+1,Ft[Pt],vr,vi,Zr,this._getCellCompareValue(Fn),Fn))}}_shouldEnableDate(Ne){return!!Ne&&(!this.minDate||this._dateAdapter.compareDate(Ne,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Ne,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Ne))}_getDateInCurrentMonth(Ne){return Ne&&this._hasSameMonthAndYear(Ne,this.activeDate)?this._dateAdapter.getDate(Ne):null}_hasSameMonthAndYear(Ne,Ft){return!(!Ne||!Ft||this._dateAdapter.getMonth(Ne)!=this._dateAdapter.getMonth(Ft)||this._dateAdapter.getYear(Ne)!=this._dateAdapter.getYear(Ft))}_getCellCompareValue(Ne){if(Ne){const Ft=this._dateAdapter.getYear(Ne),Pt=this._dateAdapter.getMonth(Ne),ln=this._dateAdapter.getDate(Ne);return new Date(Ft,Pt,ln).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Ne){Ne instanceof J?(this._rangeStart=this._getCellCompareValue(Ne.start),this._rangeEnd=this._getCellCompareValue(Ne.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Ne),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Ne){return!this.dateFilter||this.dateFilter(Ne)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.sBO),g.Y36(m.sG,8),g.Y36(m._A,8),g.Y36(S.Is,8),g.Y36(tt,8))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-month-view"]],viewQuery:function(Ft,Pt){if(1&Ft&&g.Gf(ie,5),2&Ft){let ln;g.iGM(ln=g.CRH())&&(Pt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[g.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(Ft,Pt){1&Ft&&(g.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),g.YNc(3,Y,5,2,"th",2),g.qZA(),g.TgZ(4,"tr"),g._UZ(5,"th",3),g.qZA()(),g.TgZ(6,"tbody",4),g.NdJ("selectedValueChange",function(Fn){return Pt._dateSelected(Fn)})("activeDateChange",function(Fn){return Pt._updateActiveDate(Fn)})("previewChange",function(Fn){return Pt._previewChanged(Fn)})("dragStarted",function(Fn){return Pt.dragStarted.emit(Fn)})("dragEnded",function(Fn){return Pt._dragEnded(Fn)})("keyup",function(Fn){return Pt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Pt._handleCalendarBodyKeydown(Fn)}),g.qZA()()),2&Ft&&(g.xp6(3),g.Q6J("ngForOf",Pt._weekdays),g.xp6(3),g.Q6J("label",Pt._monthLabel)("rows",Pt._weeks)("todayValue",Pt._todayDate)("startValue",Pt._rangeStart)("endValue",Pt._rangeEnd)("comparisonStart",Pt._comparisonRangeStart)("comparisonEnd",Pt._comparisonRangeEnd)("previewStart",Pt._previewStart)("previewEnd",Pt._previewEnd)("isRange",Pt._isRange)("labelMinRequiredCells",3)("activeCell",Pt._dateAdapter.getDate(Pt.activeDate)-1)("startDateAccessibleName",Pt.startDateAccessibleName)("endDateAccessibleName",Pt.endDateAccessibleName))},dependencies:[b.sg,ie],encapsulation:2,changeDetection:0})}return Ut})();const We=24;let Wt=(()=>{class Ut{get activeDate(){return this._activeDate}set activeDate(Ne){let Ft=this._activeDate;const Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Pt,this.minDate,this.maxDate),Qt(this._dateAdapter,Ft,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne)),this._setSelectedYear(Ne)}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}constructor(Ne,Ft,Pt){this._changeDetectorRef=Ne,this._dateAdapter=Ft,this._dir=Pt,this._rerenderSubscription=c.w0.EMPTY,this.selectedChange=new g.vpe,this.yearSelected=new g.vpe,this.activeDateChange=new g.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,N.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ft=this._dateAdapter.getYear(this._activeDate)-qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Pt=0,ln=[];Pt<We;Pt++)ln.push(Ft+Pt),4==ln.length&&(this._years.push(ln.map(Fn=>this._createCellForYear(Fn))),ln=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Ne){const Ft=Ne.value,Pt=this._dateAdapter.createDate(Ft,0,1),ln=this._getDateFromYear(Ft);this.yearSelected.emit(Pt),this.selectedChange.emit(ln)}_updateActiveDate(Ne){const Pt=this._activeDate;this.activeDate=this._getDateFromYear(Ne.value),this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ne){const Ft=this._activeDate,Pt=this._isRtl();switch(Ne.keyCode){case _.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Pt?1:-1);break;case _.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Pt?-1:1);break;case _.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case _.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case _.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case _.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,We-qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case _.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?10*-We:-We);break;case _.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?10*We:We);break;case _.K5:case _.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ft,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Ne.preventDefault()}_handleCalendarBodyKeyup(Ne){(Ne.keyCode===_.L_||Ne.keyCode===_.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Ne}),this._selectionKeyPressed=!1)}_getActiveCell(){return qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Ne){const Ft=this._dateAdapter.getMonth(this.activeDate),Pt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Ne,Ft,1));return this._dateAdapter.createDate(Ne,Ft,Math.min(this._dateAdapter.getDate(this.activeDate),Pt))}_createCellForYear(Ne){const Ft=this._dateAdapter.createDate(Ne,0,1),Pt=this._dateAdapter.getYearName(Ft),ln=this.dateClass?this.dateClass(Ft,"multi-year"):void 0;return new ft(Ne,Pt,Pt,this._shouldEnableYear(Ne),ln)}_shouldEnableYear(Ne){if(null==Ne||this.maxDate&&Ne>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Ne<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Pt=this._dateAdapter.createDate(Ne,0,1);this._dateAdapter.getYear(Pt)==Ne;Pt=this._dateAdapter.addCalendarDays(Pt,1))if(this.dateFilter(Pt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Ne){if(this._selectedYear=null,Ne instanceof J){const Ft=Ne.start||Ne.end;Ft&&(this._selectedYear=this._dateAdapter.getYear(Ft))}else Ne&&(this._selectedYear=this._dateAdapter.getYear(Ne))}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.sBO),g.Y36(m._A,8),g.Y36(S.Is,8))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-multi-year-view"]],viewQuery:function(Ft,Pt){if(1&Ft&&g.Gf(ie,5),2&Ft){let ln;g.iGM(ln=g.CRH())&&(Pt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Ft,Pt){1&Ft&&(g.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),g._UZ(3,"th",2),g.qZA()(),g.TgZ(4,"tbody",3),g.NdJ("selectedValueChange",function(Fn){return Pt._yearSelected(Fn)})("activeDateChange",function(Fn){return Pt._updateActiveDate(Fn)})("keyup",function(Fn){return Pt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Pt._handleCalendarBodyKeydown(Fn)}),g.qZA()()),2&Ft&&(g.xp6(4),g.Q6J("rows",Pt._years)("todayValue",Pt._todayYear)("startValue",Pt._selectedYear)("endValue",Pt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Pt._getActiveCell()))},dependencies:[ie],encapsulation:2,changeDetection:0})}return Ut})();function Qt(Ut,On,Ne,Ft,Pt){const ln=Ut.getYear(On),Fn=Ut.getYear(Ne),vi=un(Ut,Ft,Pt);return Math.floor((ln-vi)/We)===Math.floor((Fn-vi)/We)}function qt(Ut,On,Ne,Ft){return function fn(Ut,On){return(Ut%On+On)%On}(Ut.getYear(On)-un(Ut,Ne,Ft),We)}function un(Ut,On,Ne){let Ft=0;return Ne?Ft=Ut.getYear(Ne)-We+1:On&&(Ft=Ut.getYear(On)),Ft}let wt=(()=>{class Ut{get activeDate(){return this._activeDate}set activeDate(Ne){let Ft=this._activeDate;const Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Pt,this.minDate,this.maxDate),this._dateAdapter.getYear(Ft)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne)),this._setSelectedMonth(Ne)}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}constructor(Ne,Ft,Pt,ln){this._changeDetectorRef=Ne,this._dateFormats=Ft,this._dateAdapter=Pt,this._dir=ln,this._rerenderSubscription=c.w0.EMPTY,this.selectedChange=new g.vpe,this.monthSelected=new g.vpe,this.activeDateChange=new g.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,N.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Ne){const Ft=Ne.value,Pt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ft,1);this.monthSelected.emit(Pt);const ln=this._getDateFromMonth(Ft);this.selectedChange.emit(ln)}_updateActiveDate(Ne){const Pt=this._activeDate;this.activeDate=this._getDateFromMonth(Ne.value),this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ne){const Ft=this._activeDate,Pt=this._isRtl();switch(Ne.keyCode){case _.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Pt?1:-1);break;case _.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Pt?-1:1);break;case _.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case _.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case _.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case _.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case _.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?-10:-1);break;case _.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?10:1);break;case _.K5:case _.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ft,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ne.preventDefault()}_handleCalendarBodyKeyup(Ne){(Ne.keyCode===_.L_||Ne.keyCode===_.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Ne}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Ne=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ft=>Ft.map(Pt=>this._createCellForMonth(Pt,Ne[Pt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Ne){return Ne&&this._dateAdapter.getYear(Ne)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Ne):null}_getDateFromMonth(Ne){const Ft=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,1),Pt=this._dateAdapter.getNumDaysInMonth(Ft);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,Math.min(this._dateAdapter.getDate(this.activeDate),Pt))}_createCellForMonth(Ne,Ft){const Pt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,1),ln=this._dateAdapter.format(Pt,this._dateFormats.display.monthYearA11yLabel),Fn=this.dateClass?this.dateClass(Pt,"year"):void 0;return new ft(Ne,Ft.toLocaleUpperCase(),ln,this._shouldEnableMonth(Ne),Fn)}_shouldEnableMonth(Ne){const Ft=this._dateAdapter.getYear(this.activeDate);if(null==Ne||this._isYearAndMonthAfterMaxDate(Ft,Ne)||this._isYearAndMonthBeforeMinDate(Ft,Ne))return!1;if(!this.dateFilter)return!0;for(let ln=this._dateAdapter.createDate(Ft,Ne,1);this._dateAdapter.getMonth(ln)==Ne;ln=this._dateAdapter.addCalendarDays(ln,1))if(this.dateFilter(ln))return!0;return!1}_isYearAndMonthAfterMaxDate(Ne,Ft){if(this.maxDate){const Pt=this._dateAdapter.getYear(this.maxDate),ln=this._dateAdapter.getMonth(this.maxDate);return Ne>Pt||Ne===Pt&&Ft>ln}return!1}_isYearAndMonthBeforeMinDate(Ne,Ft){if(this.minDate){const Pt=this._dateAdapter.getYear(this.minDate),ln=this._dateAdapter.getMonth(this.minDate);return Ne<Pt||Ne===Pt&&Ft<ln}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Ne){this._selectedMonth=Ne instanceof J?this._getMonthInCurrentYear(Ne.start)||this._getMonthInCurrentYear(Ne.end):this._getMonthInCurrentYear(Ne)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.sBO),g.Y36(m.sG,8),g.Y36(m._A,8),g.Y36(S.Is,8))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-year-view"]],viewQuery:function(Ft,Pt){if(1&Ft&&g.Gf(ie,5),2&Ft){let ln;g.iGM(ln=g.CRH())&&(Pt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Ft,Pt){1&Ft&&(g.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),g._UZ(3,"th",2),g.qZA()(),g.TgZ(4,"tbody",3),g.NdJ("selectedValueChange",function(Fn){return Pt._monthSelected(Fn)})("activeDateChange",function(Fn){return Pt._updateActiveDate(Fn)})("keyup",function(Fn){return Pt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Pt._handleCalendarBodyKeydown(Fn)}),g.qZA()()),2&Ft&&(g.xp6(4),g.Q6J("label",Pt._yearLabel)("rows",Pt._months)("todayValue",Pt._todayMonth)("startValue",Pt._selectedMonth)("endValue",Pt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Pt._dateAdapter.getMonth(Pt.activeDate)))},dependencies:[ie],encapsulation:2,changeDetection:0})}return Ut})(),vt=1,it=(()=>{class Ut{constructor(Ne,Ft,Pt,ln,Fn){this._intl=Ne,this.calendar=Ft,this._dateAdapter=Pt,this._dateFormats=ln,this._id="mat-calendar-header-"+vt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Fn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-We)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:We)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Ne,Ft){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Ne)==this._dateAdapter.getYear(Ft)&&this._dateAdapter.getMonth(Ne)==this._dateAdapter.getMonth(Ft):"year"==this.calendar.currentView?this._dateAdapter.getYear(Ne)==this._dateAdapter.getYear(Ft):Qt(this._dateAdapter,Ne,Ft,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ft=this._dateAdapter.getYear(this.calendar.activeDate)-qt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Pt=Ft+We-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ft,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(Pt,0,1))]}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(je),g.Y36((0,g.Gpc)(()=>He)),g.Y36(m._A,8),g.Y36(m.sG,8),g.Y36(g.sBO))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:le,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(Ft,Pt){1&Ft&&(g.F$t(),g.TgZ(0,"div",0)(1,"div",1)(2,"button",2),g.NdJ("click",function(){return Pt.currentPeriodClicked()}),g.TgZ(3,"span",3),g._uU(4),g.qZA(),g.O4$(),g.TgZ(5,"svg",4),g._UZ(6,"polygon",5),g.qZA()(),g.kcU(),g._UZ(7,"div",6),g.Hsn(8),g.TgZ(9,"button",7),g.NdJ("click",function(){return Pt.previousClicked()}),g.qZA(),g.TgZ(10,"button",8),g.NdJ("click",function(){return Pt.nextClicked()}),g.qZA()()(),g.TgZ(11,"label",9),g._uU(12),g.qZA()),2&Ft&&(g.xp6(2),g.uIk("aria-label",Pt.periodButtonLabel)("aria-describedby",Pt._periodButtonLabelId),g.xp6(2),g.Oqu(Pt.periodButtonText),g.xp6(1),g.ekj("mat-calendar-invert","month"!==Pt.calendar.currentView),g.xp6(4),g.Q6J("disabled",!Pt.previousEnabled()),g.uIk("aria-label",Pt.prevButtonLabel),g.xp6(1),g.Q6J("disabled",!Pt.nextEnabled()),g.uIk("aria-label",Pt.nextButtonLabel),g.xp6(1),g.Q6J("id",Pt._periodButtonLabelId),g.xp6(1),g.Oqu(Pt.periodButtonDescription))},dependencies:[P.lW,P.RK],encapsulation:2,changeDetection:0})}return Ut})(),He=(()=>{class Ut{get startAt(){return this._startAt}set startAt(Ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get activeDate(){return this._clampedActiveDate}set activeDate(Ne){this._clampedActiveDate=this._dateAdapter.clampDate(Ne,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Ne){const Ft=this._currentView!==Ne?Ne:null;this._currentView=Ne,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ft&&this.viewChanged.emit(Ft)}constructor(Ne,Ft,Pt,ln){this._dateAdapter=Ft,this._dateFormats=Pt,this._changeDetectorRef=ln,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new g.vpe,this.yearSelected=new g.vpe,this.monthSelected=new g.vpe,this.viewChanged=new g.vpe(!0),this._userSelection=new g.vpe,this._userDragDrop=new g.vpe,this._activeDrag=null,this.stateChanges=new i.x,this._intlChanges=Ne.changes.subscribe(()=>{ln.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new v.C5(this.headerComponent||it),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Ne){const Ft=Ne.minDate&&!this._dateAdapter.sameDate(Ne.minDate.previousValue,Ne.minDate.currentValue)?Ne.minDate:void 0,Pt=Ne.maxDate&&!this._dateAdapter.sameDate(Ne.maxDate.previousValue,Ne.maxDate.currentValue)?Ne.maxDate:void 0,ln=Ft||Pt||Ne.dateFilter;if(ln&&!ln.firstChange){const Fn=this._getCurrentViewComponent();Fn&&(this._changeDetectorRef.detectChanges(),Fn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Ne){const Ft=Ne.value;(this.selected instanceof J||Ft&&!this._dateAdapter.sameDate(Ft,this.selected))&&this.selectedChange.emit(Ft),this._userSelection.emit(Ne)}_yearSelectedInMultiYearView(Ne){this.yearSelected.emit(Ne)}_monthSelectedInYearView(Ne){this.monthSelected.emit(Ne)}_goToDateInView(Ne,Ft){this.activeDate=Ne,this.currentView=Ft}_dragStarted(Ne){this._activeDrag=Ne}_dragEnded(Ne){this._activeDrag&&(Ne.value&&this._userDragDrop.emit(Ne),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(je),g.Y36(m._A,8),g.Y36(m.sG,8),g.Y36(g.sBO))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-calendar"]],viewQuery:function(Ft,Pt){if(1&Ft&&(g.Gf(fe,5),g.Gf(wt,5),g.Gf(Wt,5)),2&Ft){let ln;g.iGM(ln=g.CRH())&&(Pt.monthView=ln.first),g.iGM(ln=g.CRH())&&(Pt.yearView=ln.first),g.iGM(ln=g.CRH())&&(Pt.multiYearView=ln.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[g._Bn([Ge]),g.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(Ft,Pt){1&Ft&&(g.YNc(0,G,0,0,"ng-template",0),g.TgZ(1,"div",1),g.YNc(2,Se,1,11,"mat-month-view",2),g.YNc(3,ce,1,6,"mat-year-view",3),g.YNc(4,ge,1,6,"mat-multi-year-view",4),g.qZA()),2&Ft&&(g.Q6J("cdkPortalOutlet",Pt._calendarHeaderPortal),g.xp6(1),g.Q6J("ngSwitch",Pt.currentView),g.xp6(1),g.Q6J("ngSwitchCase","month"),g.xp6(1),g.Q6J("ngSwitchCase","year"),g.xp6(1),g.Q6J("ngSwitchCase","multi-year"))},dependencies:[b.RF,b.n9,e.kH,v.Pl,fe,wt,Wt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Ut})();const ze={transformPanel:(0,I.X$)("transformPanel",[(0,I.eR)("void => enter-dropdown",(0,I.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.eR)("void => enter-dialog",(0,I.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(0.7)"}),(0,I.oB)({transform:"none",opacity:1})]))),(0,I.eR)("* => void",(0,I.jt)("100ms linear",(0,I.oB)({opacity:0})))]),fadeInCalendar:(0,I.X$)("fadeInCalendar",[(0,I.SB)("void",(0,I.oB)({opacity:0})),(0,I.SB)("enter",(0,I.oB)({opacity:1})),(0,I.eR)("void => *",(0,I.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let st=0;const at=new g.OlP("mat-datepicker-scroll-strategy"),bt={provide:at,deps:[t.aV],useFactory:function St(Ut){return()=>Ut.scrollStrategies.reposition()}},xt=(0,m.pj)(class{constructor(Ut){this._elementRef=Ut}});let on=(()=>{class Ut extends xt{constructor(Ne,Ft,Pt,ln,Fn,vi){super(Ne),this._changeDetectorRef=Ft,this._globalModel=Pt,this._dateAdapter=ln,this._rangeSelectionStrategy=Fn,this._subscriptions=new c.w0,this._animationDone=new i.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=vi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Ne){const Ft=this._model.selection,Pt=Ne.value,ln=Ft instanceof J;if(ln&&this._rangeSelectionStrategy){const Fn=this._rangeSelectionStrategy.selectionFinished(Pt,Ft,Ne.event);this._model.updateSelection(Fn,this)}else Pt&&(ln||!this._dateAdapter.sameDate(Pt,Ft))&&this._model.add(Pt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Ne){this._model.updateSelection(Ne.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Ne){this._isAnimating="start"===Ne.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Ne,Ft){this._model=Ne?this._globalModel.clone():this._globalModel,this._actionsPortal=Ne,Ft&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(q),g.Y36(m._A),g.Y36(tt,8),g.Y36(je))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-datepicker-content"]],viewQuery:function(Ft,Pt){if(1&Ft&&g.Gf(He,5),2&Ft){let ln;g.iGM(ln=g.CRH())&&(Pt._calendar=ln.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(Ft,Pt){1&Ft&&g.WFA("@transformPanel.start",function(Fn){return Pt._handleAnimationEvent(Fn)})("@transformPanel.done",function(Fn){return Pt._handleAnimationEvent(Fn)}),2&Ft&&(g.d8E("@transformPanel",Pt._animationState),g.ekj("mat-datepicker-content-touch",Pt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[g.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(Ft,Pt){if(1&Ft&&(g.TgZ(0,"div",0)(1,"mat-calendar",1),g.NdJ("yearSelected",function(Fn){return Pt.datepicker._selectYear(Fn)})("monthSelected",function(Fn){return Pt.datepicker._selectMonth(Fn)})("viewChanged",function(Fn){return Pt.datepicker._viewChanged(Fn)})("_userSelection",function(Fn){return Pt._handleUserSelection(Fn)})("_userDragDrop",function(Fn){return Pt._handleUserDragDrop(Fn)}),g.qZA(),g.YNc(2,Ie,0,0,"ng-template",2),g.TgZ(3,"button",3),g.NdJ("focus",function(){return Pt._closeButtonFocused=!0})("blur",function(){return Pt._closeButtonFocused=!1})("click",function(){return Pt.datepicker.close()}),g._uU(4),g.qZA()()),2&Ft){let ln;g.ekj("mat-datepicker-content-container-with-custom-header",Pt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Pt._actionsPortal),g.uIk("aria-modal",!0)("aria-labelledby",null!==(ln=Pt._dialogLabelId)&&void 0!==ln?ln:void 0),g.xp6(1),g.Q6J("id",Pt.datepicker.id)("ngClass",Pt.datepicker.panelClass)("startAt",Pt.datepicker.startAt)("startView",Pt.datepicker.startView)("minDate",Pt.datepicker._getMinDate())("maxDate",Pt.datepicker._getMaxDate())("dateFilter",Pt.datepicker._getDateFilter())("headerComponent",Pt.datepicker.calendarHeaderComponent)("selected",Pt._getSelected())("dateClass",Pt.datepicker.dateClass)("comparisonStart",Pt.comparisonStart)("comparisonEnd",Pt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Pt.startDateAccessibleName)("endDateAccessibleName",Pt.endDateAccessibleName),g.xp6(1),g.Q6J("cdkPortalOutlet",Pt._actionsPortal),g.xp6(1),g.ekj("cdk-visually-hidden",!Pt._closeButtonFocused),g.Q6J("color",Pt.color||"primary"),g.xp6(1),g.Oqu(Pt._closeButtonText)}},dependencies:[b.mk,P.lW,e.mK,v.Pl,He],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ze.transformPanel,ze.fadeInCalendar]},changeDetection:0})}return Ut})(),En=(()=>{class Ut{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Ne){this._color=Ne}get touchUi(){return this._touchUi}set touchUi(Ne){this._touchUi=(0,C.Ig)(Ne)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Ne){const Ft=(0,C.Ig)(Ne);Ft!==this._disabled&&(this._disabled=Ft,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Ne){this._restoreFocus=(0,C.Ig)(Ne)}get panelClass(){return this._panelClass}set panelClass(Ne){this._panelClass=(0,C.du)(Ne)}get opened(){return this._opened}set opened(Ne){(0,C.Ig)(Ne)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Ne,Ft,Pt,ln,Fn,vi,vr){this._overlay=Ne,this._ngZone=Ft,this._viewContainerRef=Pt,this._dateAdapter=Fn,this._dir=vi,this._model=vr,this._inputStateChanges=c.w0.EMPTY,this._document=(0,g.f3M)(b.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new g.vpe,this.monthSelected=new g.vpe,this.viewChanged=new g.vpe(!0),this.openedStream=new g.vpe,this.closedStream=new g.vpe,this._opened=!1,this.id="mat-datepicker-"+st++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new i.x,this._scrollStrategy=ln}ngOnChanges(Ne){const Ft=Ne.xPosition||Ne.yPosition;if(Ft&&!Ft.firstChange&&this._overlayRef){const Pt=this._overlayRef.getConfig().positionStrategy;Pt instanceof t._G&&(this._setConnectedPositions(Pt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Ne){this._model.add(Ne)}_selectYear(Ne){this.yearSelected.emit(Ne)}_selectMonth(Ne){this.monthSelected.emit(Ne)}_viewChanged(Ne){this.viewChanged.emit(Ne)}registerInput(Ne){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Ne,this._inputStateChanges=Ne.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Ne){this._actionsPortal=Ne,this._componentRef?.instance._assignActions(Ne,!0)}removeActions(Ne){Ne===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,x.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Ne=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Ft=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Pt,location:ln}=this._componentRef;Pt._startExitAnimation(),Pt._animationDone.pipe((0,A.q)(1)).subscribe(()=>{const Fn=this._document.activeElement;Ne&&(!Fn||Fn===this._document.activeElement||ln.nativeElement.contains(Fn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Ne?setTimeout(Ft):Ft()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Ne){Ne.datepicker=this,Ne.color=this.color,Ne._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Ne._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Ne=this.touchUi,Ft=new v.C5(on,this._viewContainerRef),Pt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:Ne?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Ne?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Ne?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Ne?"dialog":"popup")}));this._getCloseStream(Pt).subscribe(ln=>{ln&&ln.preventDefault(),this.close()}),Pt.keydownEvents().subscribe(ln=>{const Fn=ln.keyCode;(Fn===_.LH||Fn===_.JH||Fn===_.oh||Fn===_.SV||Fn===_.Ku||Fn===_.VM)&&ln.preventDefault()}),this._componentRef=Pt.attach(Ft),this._forwardContentValues(this._componentRef.instance),Ne||this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(()=>Pt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Ne=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Ne)}_setConnectedPositions(Ne){const Ft="end"===this.xPosition?"end":"start",Pt="start"===Ft?"end":"start",ln="above"===this.yPosition?"bottom":"top",Fn="top"===ln?"bottom":"top";return Ne.withPositions([{originX:Ft,originY:Fn,overlayX:Ft,overlayY:ln},{originX:Ft,originY:ln,overlayX:Ft,overlayY:Fn},{originX:Pt,originY:Fn,overlayX:Pt,overlayY:ln},{originX:Pt,originY:ln,overlayX:Pt,overlayY:Fn}])}_getCloseStream(Ne){const Ft=["ctrlKey","shiftKey","metaKey"];return(0,d.T)(Ne.backdropClick(),Ne.detachments(),Ne.keydownEvents().pipe((0,O.h)(Pt=>Pt.keyCode===_.hY&&!(0,_.Vb)(Pt)||this.datepickerInput&&(0,_.Vb)(Pt,"altKey")&&Pt.keyCode===_.LH&&Ft.every(ln=>!(0,_.Vb)(Pt,ln)))))}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(t.aV),g.Y36(g.R0b),g.Y36(g.s_b),g.Y36(at),g.Y36(m._A,8),g.Y36(S.Is,8),g.Y36(q))};static#t=this.\u0275dir=g.lG2({type:Ut,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[g.TTD]})}return Ut})(),tn=(()=>{class Ut extends En{static#e=this.\u0275fac=function(){let Ne;return function(Pt){return(Ne||(Ne=g.n5z(Ut)))(Pt||Ut)}}();static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[g._Bn([Ge,{provide:En,useExisting:Ut}]),g.qOj],decls:0,vars:0,template:function(Ft,Pt){},encapsulation:2,changeDetection:0})}return Ut})();class Mn{constructor(On,Ne){this.target=On,this.targetElement=Ne,this.value=this.target.value}}let In=(()=>{class Ut{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Ne){this._assignValueProgrammatically(Ne)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Ne){const Ft=(0,C.Ig)(Ne),Pt=this._elementRef.nativeElement;this._disabled!==Ft&&(this._disabled=Ft,this.stateChanges.next(void 0)),Ft&&this._isInitialized&&Pt.blur&&Pt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Ne){this._model=Ne,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Ft=>{if(this._shouldHandleChangeEvent(Ft)){const Pt=this._getValueFromModel(Ft.selection);this._lastValueValid=this._isValidValue(Pt),this._cvaOnChange(Pt),this._onTouched(),this._formatValue(Pt),this.dateInput.emit(new Mn(this,this._elementRef.nativeElement)),this.dateChange.emit(new Mn(this,this._elementRef.nativeElement))}})}constructor(Ne,Ft,Pt){this._elementRef=Ne,this._dateAdapter=Ft,this._dateFormats=Pt,this.dateChange=new g.vpe,this.dateInput=new g.vpe,this.stateChanges=new i.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=c.w0.EMPTY,this._localeSubscription=c.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value));return!Fn||this._matchesFilter(Fn)?null:{matDatepickerFilter:!0}},this._minValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value)),vi=this._getMinDate();return!vi||!Fn||this._dateAdapter.compareDate(vi,Fn)<=0?null:{matDatepickerMin:{min:vi,actual:Fn}}},this._maxValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value)),vi=this._getMaxDate();return!vi||!Fn||this._dateAdapter.compareDate(vi,Fn)>=0?null:{matDatepickerMax:{max:vi,actual:Fn}}},this._lastValueValid=!1,this._localeSubscription=Ft.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Ne){(function Nn(Ut,On){const Ne=Object.keys(Ut);for(let Ft of Ne){const{previousValue:Pt,currentValue:ln}=Ut[Ft];if(!On.isDateInstance(Pt)||!On.isDateInstance(ln))return!0;if(!On.sameDate(Pt,ln))return!0}return!1})(Ne,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Ne){this._validatorOnChange=Ne}validate(Ne){return this._validator?this._validator(Ne):null}writeValue(Ne){this._assignValueProgrammatically(Ne)}registerOnChange(Ne){this._cvaOnChange=Ne}registerOnTouched(Ne){this._onTouched=Ne}setDisabledState(Ne){this.disabled=Ne}_onKeydown(Ne){(0,_.Vb)(Ne,"altKey")&&Ne.keyCode===_.JH&&["ctrlKey","shiftKey","metaKey"].every(ln=>!(0,_.Vb)(Ne,ln))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Ne.preventDefault())}_onInput(Ne){const Ft=this._lastValueValid;let Pt=this._dateAdapter.parse(Ne,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Pt),Pt=this._dateAdapter.getValidDateOrNull(Pt);const ln=!this._dateAdapter.sameDate(Pt,this.value);!Pt||ln?this._cvaOnChange(Pt):(Ne&&!this.value&&this._cvaOnChange(Pt),Ft!==this._lastValueValid&&this._validatorOnChange()),ln&&(this._assignValue(Pt),this.dateInput.emit(new Mn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Mn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Ne){this._elementRef.nativeElement.value=null!=Ne?this._dateAdapter.format(Ne,this._dateFormats.display.dateInput):""}_assignValue(Ne){this._model?(this._assignValueToModel(Ne),this._pendingValue=null):this._pendingValue=Ne}_isValidValue(Ne){return!Ne||this._dateAdapter.isValid(Ne)}_parentDisabled(){return!1}_assignValueProgrammatically(Ne){Ne=this._dateAdapter.deserialize(Ne),this._lastValueValid=this._isValidValue(Ne),Ne=this._dateAdapter.getValidDateOrNull(Ne),this._assignValue(Ne),this._formatValue(Ne)}_matchesFilter(Ne){const Ft=this._getDateFilter();return!Ft||Ft(Ne)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.SBq),g.Y36(m._A,8),g.Y36(m.sG,8))};static#t=this.\u0275dir=g.lG2({type:Ut,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[g.TTD]})}return Ut})();const $n={provide:T.JU,useExisting:(0,g.Gpc)(()=>vn),multi:!0},ni={provide:T.Cf,useExisting:(0,g.Gpc)(()=>vn),multi:!0};let vn=(()=>{class Ut extends In{set matDatepicker(Ne){Ne&&(this._datepicker=Ne,this._closedSubscription=Ne.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Ne.registerInput(this)))}get min(){return this._min}set min(Ne){const Ft=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne));this._dateAdapter.sameDate(Ft,this._min)||(this._min=Ft,this._validatorOnChange())}get max(){return this._max}set max(Ne){const Ft=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne));this._dateAdapter.sameDate(Ft,this._max)||(this._max=Ft,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Ne){const Ft=this._matchesFilter(this.value);this._dateFilter=Ne,this._matchesFilter(this.value)!==Ft&&this._validatorOnChange()}constructor(Ne,Ft,Pt,ln){super(Ne,Ft,Pt),this._formField=ln,this._closedSubscription=c.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Ne){return Ne}_assignValueToModel(Ne){this._model&&this._model.updateSelection(Ne,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Ne){return Ne.source!==this}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(g.SBq),g.Y36(m._A,8),g.Y36(m.sG,8),g.Y36(L.G_,8))};static#t=this.\u0275dir=g.lG2({type:Ut,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Ft,Pt){1&Ft&&g.NdJ("input",function(Fn){return Pt._onInput(Fn.target.value)})("change",function(){return Pt._onChange()})("blur",function(){return Pt._onBlur()})("keydown",function(Fn){return Pt._onKeydown(Fn)}),2&Ft&&(g.Ikx("disabled",Pt.disabled),g.uIk("aria-haspopup",Pt._datepicker?"dialog":null)("aria-owns",(null==Pt._datepicker?null:Pt._datepicker.opened)&&Pt._datepicker.id||null)("min",Pt.min?Pt._dateAdapter.toIso8601(Pt.min):null)("max",Pt.max?Pt._dateAdapter.toIso8601(Pt.max):null)("data-mat-calendar",Pt._datepicker?Pt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[g._Bn([$n,ni,{provide:y.Jk,useExisting:Ut}]),g.qOj]})}return Ut})(),pn=(()=>{class Ut{static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)};static#t=this.\u0275dir=g.lG2({type:Ut,selectors:[["","matDatepickerToggleIcon",""]]})}return Ut})(),yn=(()=>{class Ut{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Ne){this._disabled=(0,C.Ig)(Ne)}constructor(Ne,Ft,Pt){this._intl=Ne,this._changeDetectorRef=Ft,this._stateChanges=c.w0.EMPTY;const ln=Number(Pt);this.tabIndex=ln||0===ln?ln:null}ngOnChanges(Ne){Ne.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Ne){this.datepicker&&!this.disabled&&(this.datepicker.open(),Ne.stopPropagation())}_watchStateChanges(){const Ne=this.datepicker?this.datepicker.stateChanges:(0,f.of)(),Ft=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,f.of)(),Pt=this.datepicker?(0,d.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,f.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,d.T)(this._intl.changes,Ne,Ft,Pt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(g.Y36(je),g.Y36(g.sBO),g.$8M("tabindex"))};static#t=this.\u0275cmp=g.Xpm({type:Ut,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Ft,Pt,ln){if(1&Ft&&g.Suo(ln,pn,5),2&Ft){let Fn;g.iGM(Fn=g.CRH())&&(Pt._customIcon=Fn.first)}},viewQuery:function(Ft,Pt){if(1&Ft&&g.Gf(Ce,5),2&Ft){let ln;g.iGM(ln=g.CRH())&&(Pt._button=ln.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Ft,Pt){1&Ft&&g.NdJ("click",function(Fn){return Pt._open(Fn)}),2&Ft&&(g.uIk("tabindex",null)("data-mat-calendar",Pt.datepicker?Pt.datepicker.id:null),g.ekj("mat-datepicker-toggle-active",Pt.datepicker&&Pt.datepicker.opened)("mat-accent",Pt.datepicker&&"accent"===Pt.datepicker.color)("mat-warn",Pt.datepicker&&"warn"===Pt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[g.TTD],ngContentSelectors:ke,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Ft,Pt){1&Ft&&(g.F$t(Ae),g.TgZ(0,"button",0,1),g.YNc(2,pe,2,0,"svg",2),g.Hsn(3),g.qZA()),2&Ft&&(g.Q6J("disabled",Pt.disabled)("disableRipple",Pt.disableRipple),g.uIk("aria-haspopup",Pt.datepicker?"dialog":null)("aria-label",Pt.ariaLabel||Pt._intl.openCalendarLabel)("tabindex",Pt.disabled?-1:Pt.tabIndex),g.xp6(2),g.Q6J("ngIf",!Pt._customIcon))},dependencies:[b.O5,P.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Ut})(),Xn=(()=>{class Ut{static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)};static#t=this.\u0275mod=g.oAB({type:Ut});static#n=this.\u0275inj=g.cJS({providers:[je,bt],imports:[b.ez,P.ot,t.U8,e.rt,v.eL,m.BQ,D.ZD]})}return Ut})()},7700:(Wn,et,p)=>{"use strict";p.d(et,{WI:()=>Ze,uw:()=>X,H8:()=>_e,vA:()=>ge,xY:()=>q,Is:()=>Ee,so:()=>je,uh:()=>J});var e=p(3651),t=p(6814),v=p(5879),b=p(4300),g=p(2831),P=p(8484),D=p(6028),m=p(8645),i=p(4911),c=p(2096),d=p(9388),f=p(7921);function _(Xe,tt){}class S{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let A=(()=>{class Xe extends P.en{constructor(gt,Qe,yt,Dt,fe,We,Et,Wt){super(),this._elementRef=gt,this._focusTrapFactory=Qe,this._config=Dt,this._interactivityChecker=fe,this._ngZone=We,this._overlayRef=Et,this._focusMonitor=Wt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Qt=>{this._portalOutlet.hasAttached();const qt=this._portalOutlet.attachDomPortal(Qt);return this._contentAttached(),qt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=yt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(gt){this._portalOutlet.hasAttached();const Qe=this._portalOutlet.attachComponentPortal(gt);return this._contentAttached(),Qe}attachTemplatePortal(gt){this._portalOutlet.hasAttached();const Qe=this._portalOutlet.attachTemplatePortal(gt);return this._contentAttached(),Qe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(gt,Qe){this._interactivityChecker.isFocusable(gt)||(gt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yt=()=>{gt.removeEventListener("blur",yt),gt.removeEventListener("mousedown",yt),gt.removeAttribute("tabindex")};gt.addEventListener("blur",yt),gt.addEventListener("mousedown",yt)})),gt.focus(Qe)}_focusByCssSelector(gt,Qe){let yt=this._elementRef.nativeElement.querySelector(gt);yt&&this._forceFocus(yt,Qe)}_trapFocus(){const gt=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||gt.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Qe=>{Qe||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const gt=this._config.restoreFocus;let Qe=null;if("string"==typeof gt?Qe=this._document.querySelector(gt):"boolean"==typeof gt?Qe=gt?this._elementFocusedBeforeDialogWasOpened:null:gt&&(Qe=gt),this._config.restoreFocus&&Qe&&"function"==typeof Qe.focus){const yt=(0,g.ht)(),Dt=this._elementRef.nativeElement;(!yt||yt===this._document.body||yt===Dt||Dt.contains(yt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Qe,this._closeInteractionType),this._closeInteractionType=null):Qe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const gt=this._elementRef.nativeElement,Qe=(0,g.ht)();return gt===Qe||gt.contains(Qe)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,g.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(v.SBq),v.Y36(b.qV),v.Y36(t.K0,8),v.Y36(S),v.Y36(b.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(b.tE))};static#t=this.\u0275cmp=v.Xpm({type:Xe,selectors:[["cdk-dialog-container"]],viewQuery:function(Qe,yt){if(1&Qe&&v.Gf(P.Pl,7),2&Qe){let Dt;v.iGM(Dt=v.CRH())&&(yt._portalOutlet=Dt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Qe,yt){2&Qe&&v.uIk("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},features:[v.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Qe,yt){1&Qe&&v.YNc(0,_,0,0,"ng-template",0)},dependencies:[P.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Xe})();class N{constructor(tt,gt){this.overlayRef=tt,this.config=gt,this.closed=new m.x,this.disableClose=gt.disableClose,this.backdropClick=tt.backdropClick(),this.keydownEvents=tt.keydownEvents(),this.outsidePointerEvents=tt.outsidePointerEvents(),this.id=gt.id,this.keydownEvents.subscribe(Qe=>{Qe.keyCode===D.hY&&!this.disableClose&&!(0,D.Vb)(Qe)&&(Qe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=tt.detachments().subscribe(()=>{!1!==gt.closeOnOverlayDetachments&&this.close()})}close(tt,gt){if(this.containerInstance){const Qe=this.closed;this.containerInstance._closeInteractionType=gt?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Qe.next(tt),Qe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(tt="",gt=""){return this.overlayRef.updateSize({width:tt,height:gt}),this}addPanelClass(tt){return this.overlayRef.addPanelClass(tt),this}removePanelClass(tt){return this.overlayRef.removePanelClass(tt),this}}const O=new v.OlP("DialogScrollStrategy"),C=new v.OlP("DialogData"),I=new v.OlP("DefaultDialogConfig"),L={provide:O,deps:[e.aV],useFactory:function T(Xe){return()=>Xe.scrollStrategies.block()}};let y=0,B=(()=>{class Xe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(gt,Qe,yt,Dt,fe,We){this._overlay=gt,this._injector=Qe,this._defaultOptions=yt,this._parentDialog=Dt,this._overlayContainer=fe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new m.x,this._afterOpenedAtThisLevel=new m.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=We}open(gt,Qe){(Qe={...this._defaultOptions||new S,...Qe}).id=Qe.id||"cdk-dialog-"+y++,Qe.id&&this.getDialogById(Qe.id);const Dt=this._getOverlayConfig(Qe),fe=this._overlay.create(Dt),We=new N(fe,Qe),Et=this._attachContainer(fe,We,Qe);return We.containerInstance=Et,this._attachDialogContent(gt,We,Et,Qe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(We),We.closed.subscribe(()=>this._removeOpenDialog(We,!0)),this.afterOpened.next(We),We}closeAll(){z(this.openDialogs,gt=>gt.close())}getDialogById(gt){return this.openDialogs.find(Qe=>Qe.id===gt)}ngOnDestroy(){z(this._openDialogsAtThisLevel,gt=>{!1===gt.config.closeOnDestroy&&this._removeOpenDialog(gt,!1)}),z(this._openDialogsAtThisLevel,gt=>gt.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(gt){const Qe=new e.X_({positionStrategy:gt.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:gt.scrollStrategy||this._scrollStrategy(),panelClass:gt.panelClass,hasBackdrop:gt.hasBackdrop,direction:gt.direction,minWidth:gt.minWidth,minHeight:gt.minHeight,maxWidth:gt.maxWidth,maxHeight:gt.maxHeight,width:gt.width,height:gt.height,disposeOnNavigation:gt.closeOnNavigation});return gt.backdropClass&&(Qe.backdropClass=gt.backdropClass),Qe}_attachContainer(gt,Qe,yt){const Dt=yt.injector||yt.viewContainerRef?.injector,fe=[{provide:S,useValue:yt},{provide:N,useValue:Qe},{provide:e.Iu,useValue:gt}];let We;yt.container?"function"==typeof yt.container?We=yt.container:(We=yt.container.type,fe.push(...yt.container.providers(yt))):We=A;const Et=new P.C5(We,yt.viewContainerRef,v.zs3.create({parent:Dt||this._injector,providers:fe}),yt.componentFactoryResolver);return gt.attach(Et).instance}_attachDialogContent(gt,Qe,yt,Dt){if(gt instanceof v.Rgc){const fe=this._createInjector(Dt,Qe,yt,void 0);let We={$implicit:Dt.data,dialogRef:Qe};Dt.templateContext&&(We={...We,..."function"==typeof Dt.templateContext?Dt.templateContext():Dt.templateContext}),yt.attachTemplatePortal(new P.UE(gt,null,We,fe))}else{const fe=this._createInjector(Dt,Qe,yt,this._injector),We=yt.attachComponentPortal(new P.C5(gt,Dt.viewContainerRef,fe,Dt.componentFactoryResolver));Qe.componentInstance=We.instance}}_createInjector(gt,Qe,yt,Dt){const fe=gt.injector||gt.viewContainerRef?.injector,We=[{provide:C,useValue:gt.data},{provide:N,useValue:Qe}];return gt.providers&&("function"==typeof gt.providers?We.push(...gt.providers(Qe,gt,yt)):We.push(...gt.providers)),gt.direction&&(!fe||!fe.get(d.Is,null,{optional:!0}))&&We.push({provide:d.Is,useValue:{value:gt.direction,change:(0,c.of)()}}),v.zs3.create({parent:fe||Dt,providers:We})}_removeOpenDialog(gt,Qe){const yt=this.openDialogs.indexOf(gt);yt>-1&&(this.openDialogs.splice(yt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Dt,fe)=>{Dt?fe.setAttribute("aria-hidden",Dt):fe.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Qe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const gt=this._overlayContainer.getContainerElement();if(gt.parentElement){const Qe=gt.parentElement.children;for(let yt=Qe.length-1;yt>-1;yt--){const Dt=Qe[yt];Dt!==gt&&"SCRIPT"!==Dt.nodeName&&"STYLE"!==Dt.nodeName&&!Dt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Dt,Dt.getAttribute("aria-hidden")),Dt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const gt=this._parentDialog;return gt?gt._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.LFG(e.aV),v.LFG(v.zs3),v.LFG(I,8),v.LFG(Xe,12),v.LFG(e.Xj),v.LFG(O))};static#t=this.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac})}return Xe})();function z(Xe,tt){let gt=Xe.length;for(;gt--;)tt(Xe[gt])}let ne=(()=>{class Xe{static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275mod=v.oAB({type:Xe});static#n=this.\u0275inj=v.cJS({providers:[B,L],imports:[e.U8,P.eL,b.rt,P.eL]})}return Xe})();var ae=p(2495),Fe=p(3019),Y=p(2181),le=p(8180),G=p(3680);function ce(Xe,tt){}p(6825);class ge{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ie="mdc-dialog--open",Ce="mdc-dialog--opening",pe="mdc-dialog--closing";let he=(()=>{class Xe extends A{constructor(gt,Qe,yt,Dt,fe,We,Et,Wt){super(gt,Qe,yt,Dt,fe,We,Et,Wt),this._animationStateChanged=new v.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(gt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:gt})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(v.SBq),v.Y36(b.qV),v.Y36(t.K0,8),v.Y36(ge),v.Y36(b.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(b.tE))};static#t=this.\u0275cmp=v.Xpm({type:Xe,selectors:[["ng-component"]],features:[v.qOj],decls:0,vars:0,template:function(Qe,yt){},encapsulation:2})}return Xe})();const we="--mat-dialog-transition-duration";function Te(Xe){return null==Xe?null:"number"==typeof Xe?Xe:Xe.endsWith("ms")?(0,ae.su)(Xe.substring(0,Xe.length-2)):Xe.endsWith("s")?1e3*(0,ae.su)(Xe.substring(0,Xe.length-1)):"0"===Xe?0:null}let Oe=(()=>{class Xe extends he{constructor(gt,Qe,yt,Dt,fe,We,Et,Wt,Qt){super(gt,Qe,yt,Dt,fe,We,Et,Qt),this._animationMode=Wt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Te(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Te(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ce,Ie)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ie),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ie),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(pe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ce,pe)}_waitForAnimationToComplete(gt,Qe){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Qe,gt)}_requestAnimationFrame(gt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(gt):gt()})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(v.SBq),v.Y36(b.qV),v.Y36(t.K0,8),v.Y36(ge),v.Y36(b.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(v.QbO,8),v.Y36(b.tE))};static#t=this.\u0275cmp=v.Xpm({type:Xe,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Qe,yt){2&Qe&&(v.Ikx("id",yt._config.id),v.uIk("aria-modal",yt._config.ariaModal)("role",yt._config.role)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null),v.ekj("_mat-animation-noopable",!yt._animationsEnabled))},features:[v.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Qe,yt){1&Qe&&(v.TgZ(0,"div",0)(1,"div",1),v.YNc(2,ce,0,0,"ng-template",2),v.qZA()())},dependencies:[P.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Xe})();class je{constructor(tt,gt,Qe){this._ref=tt,this._containerInstance=Qe,this._afterOpened=new m.x,this._beforeClosed=new m.x,this._state=0,this.disableClose=gt.disableClose,this.id=tt.id,Qe._animationStateChanged.pipe((0,Y.h)(yt=>"opened"===yt.state),(0,le.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Qe._animationStateChanged.pipe((0,Y.h)(yt=>"closed"===yt.state),(0,le.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),tt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,Y.h)(yt=>yt.keyCode===D.hY&&!this.disableClose&&!(0,D.Vb)(yt)))).subscribe(yt=>{this.disableClose||(yt.preventDefault(),function ft(Xe,tt,gt){Xe._closeInteractionType=tt,Xe.close(gt)}(this,"keydown"===yt.type?"keyboard":"mouse"))})}close(tt){this._result=tt,this._containerInstance._animationStateChanged.pipe((0,Y.h)(gt=>"closing"===gt.state),(0,le.q)(1)).subscribe(gt=>{this._beforeClosed.next(tt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),gt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(tt){let gt=this._ref.config.positionStrategy;return tt&&(tt.left||tt.right)?tt.left?gt.left(tt.left):gt.right(tt.right):gt.centerHorizontally(),tt&&(tt.top||tt.bottom)?tt.top?gt.top(tt.top):gt.bottom(tt.bottom):gt.centerVertically(),this._ref.updatePosition(),this}updateSize(tt="",gt=""){return this._ref.updateSize(tt,gt),this}addPanelClass(tt){return this._ref.addPanelClass(tt),this}removePanelClass(tt){return this._ref.removePanelClass(tt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ze=new v.OlP("MatMdcDialogData"),Re=new v.OlP("mat-mdc-dialog-default-options"),be=new v.OlP("mat-mdc-dialog-scroll-strategy"),ie={provide:be,deps:[e.aV],useFactory:function Q(Xe){return()=>Xe.scrollStrategies.block()}};let oe=0,ee=(()=>{class Xe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const gt=this._parentDialog;return gt?gt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(gt,Qe,yt,Dt,fe,We,Et,Wt,Qt,qt){this._overlay=gt,this._defaultOptions=yt,this._parentDialog=Dt,this._dialogRefConstructor=Et,this._dialogContainerType=Wt,this._dialogDataToken=Qt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new m.x,this._afterOpenedAtThisLevel=new m.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ge,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=We,this._dialog=Qe.get(B)}open(gt,Qe){let yt;(Qe={...this._defaultOptions||new ge,...Qe}).id=Qe.id||`${this._idPrefix}${oe++}`,Qe.scrollStrategy=Qe.scrollStrategy||this._scrollStrategy();const Dt=this._dialog.open(gt,{...Qe,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Qe},{provide:S,useValue:Qe}]},templateContext:()=>({dialogRef:yt}),providers:(fe,We,Et)=>(yt=new this._dialogRefConstructor(fe,Qe,Et),yt.updatePosition(Qe?.position),[{provide:this._dialogContainerType,useValue:Et},{provide:this._dialogDataToken,useValue:We.data},{provide:this._dialogRefConstructor,useValue:yt}])});return yt.componentInstance=Dt.componentInstance,this.openDialogs.push(yt),this.afterOpened.next(yt),yt.afterClosed().subscribe(()=>{const fe=this.openDialogs.indexOf(yt);fe>-1&&(this.openDialogs.splice(fe,1),this.openDialogs.length||this._getAfterAllClosed().next())}),yt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(gt){return this.openDialogs.find(Qe=>Qe.id===gt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(gt){let Qe=gt.length;for(;Qe--;)gt[Qe].close()}static#e=this.\u0275fac=function(Qe){v.$Z()};static#t=this.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac})}return Xe})(),X=(()=>{class Xe extends ee{constructor(gt,Qe,yt,Dt,fe,We,Et,Wt){super(gt,Qe,Dt,We,Et,fe,je,Oe,Ze,Wt),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.LFG(e.aV),v.LFG(v.zs3),v.LFG(t.Ye,8),v.LFG(Re,8),v.LFG(be),v.LFG(Xe,12),v.LFG(e.Xj),v.LFG(v.QbO,8))};static#t=this.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac})}return Xe})(),$=0,J=(()=>{class Xe{constructor(gt,Qe,yt){this._dialogRef=gt,this._elementRef=Qe,this._dialog=yt,this.id="mat-mdc-dialog-title-"+$++}ngOnInit(){this._dialogRef||(this._dialogRef=function xe(Xe,tt){let gt=Xe.nativeElement.parentElement;for(;gt&&!gt.classList.contains("mat-mdc-dialog-container");)gt=gt.parentElement;return gt?tt.find(Qe=>Qe.id===gt.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const gt=this._dialogRef._containerInstance;gt&&!gt._ariaLabelledBy&&(gt._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(je,8),v.Y36(v.SBq),v.Y36(X))};static#t=this.\u0275dir=v.lG2({type:Xe,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Qe,yt){2&Qe&&v.Ikx("id",yt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Xe})(),q=(()=>{class Xe{static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275dir=v.lG2({type:Xe,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Xe})(),_e=(()=>{class Xe{constructor(){this.align="start"}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275dir=v.lG2({type:Xe,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(Qe,yt){2&Qe&&v.ekj("mat-mdc-dialog-actions-align-center","center"===yt.align)("mat-mdc-dialog-actions-align-end","end"===yt.align)},inputs:{align:"align"}})}return Xe})(),Ee=(()=>{class Xe{static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275mod=v.oAB({type:Xe});static#n=this.\u0275inj=v.cJS({providers:[X,ie],imports:[ne,e.U8,P.eL,G.BQ,G.BQ]})}return Xe})()},4170:(Wn,et,p)=>{"use strict";p.d(et,{G_:()=>gt,TO:()=>Re,KE:()=>Wt,Eo:()=>Ge,lN:()=>Qt,bx:()=>Q,hX:()=>je,R9:()=>ee});var e=p(5879),t=p(9388),v=p(2831),b=p(7394),g=p(8645),P=p(3019),D=p(9773),m=p(5592),i=p(2181),c=p(940);class f{constructor(un){this._box=un,this._destroyed=new g.x,this._resizeSubject=new g.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(fn=>this._resizeSubject.next(fn)))}observe(un){return this._elementObservables.has(un)||this._elementObservables.set(un,new m.y(fn=>{const wt=this._resizeSubject.subscribe(fn);return this._resizeObserver?.observe(un,{box:this._box}),()=>{this._resizeObserver?.unobserve(un),wt.unsubscribe(),this._elementObservables.delete(un)}}).pipe((0,i.h)(fn=>fn.some(wt=>wt.target===un)),(0,c.d)({bufferSize:1,refCount:!0}),(0,D.R)(this._destroyed))),this._elementObservables.get(un)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let _=(()=>{class qt{constructor(){this._observers=new Map,this._ngZone=(0,e.f3M)(e.R0b)}ngOnDestroy(){for(const[,fn]of this._observers)fn.destroy();this._observers.clear()}observe(fn,wt){const vt=wt?.box||"content-box";return this._observers.has(vt)||this._observers.set(vt,new f(vt)),this._observers.get(vt).observe(fn)}static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275prov=e.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})();var S=p(2495),x=p(6825),A=p(6814),N=p(7131),O=p(3680);const C=["notch"],I=["matFormFieldNotchedOutline",""],T=["*"],L=["textField"],y=["iconPrefixContainer"],B=["textPrefixContainer"];function z(qt,un){1&qt&&e._UZ(0,"span",19)}function ne(qt,un){if(1&qt&&(e.TgZ(0,"label",17),e.Hsn(1,1),e.YNc(2,z,1,0,"span",18),e.qZA()),2&qt){const fn=e.oxw(2);e.Q6J("floating",fn._shouldLabelFloat())("monitorResize",fn._hasOutline())("id",fn._labelId),e.uIk("for",fn._control.id),e.xp6(2),e.Q6J("ngIf",!fn.hideRequiredMarker&&fn._control.required)}}function ae(qt,un){if(1&qt&&e.YNc(0,ne,3,5,"label",16),2&qt){const fn=e.oxw();e.Q6J("ngIf",fn._hasFloatingLabel())}}function Fe(qt,un){1&qt&&e._UZ(0,"div",20)}function Y(qt,un){}function le(qt,un){if(1&qt&&e.YNc(0,Y,0,0,"ng-template",22),2&qt){e.oxw(2);const fn=e.MAs(1);e.Q6J("ngTemplateOutlet",fn)}}function G(qt,un){if(1&qt&&(e.TgZ(0,"div",21),e.YNc(1,le,1,1,"ng-template",9),e.qZA()),2&qt){const fn=e.oxw();e.Q6J("matFormFieldNotchedOutlineOpen",fn._shouldLabelFloat()),e.xp6(1),e.Q6J("ngIf",!fn._forceDisplayInfixLabel())}}function Se(qt,un){1&qt&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.qZA())}function ce(qt,un){1&qt&&(e.TgZ(0,"div",25,26),e.Hsn(2,3),e.qZA())}function ge(qt,un){}function Ie(qt,un){if(1&qt&&e.YNc(0,ge,0,0,"ng-template",22),2&qt){e.oxw();const fn=e.MAs(1);e.Q6J("ngTemplateOutlet",fn)}}function Ce(qt,un){1&qt&&(e.TgZ(0,"div",27),e.Hsn(1,4),e.qZA())}function pe(qt,un){1&qt&&(e.TgZ(0,"div",28),e.Hsn(1,5),e.qZA())}function Ae(qt,un){1&qt&&e._UZ(0,"div",29)}function ke(qt,un){if(1&qt&&(e.TgZ(0,"div",30),e.Hsn(1,6),e.qZA()),2&qt){const fn=e.oxw();e.Q6J("@transitionMessages",fn._subscriptAnimationState)}}function he(qt,un){if(1&qt&&(e.TgZ(0,"mat-hint",34),e._uU(1),e.qZA()),2&qt){const fn=e.oxw(2);e.Q6J("id",fn._hintLabelId),e.xp6(1),e.Oqu(fn.hintLabel)}}function we(qt,un){if(1&qt&&(e.TgZ(0,"div",31),e.YNc(1,he,2,2,"mat-hint",32),e.Hsn(2,7),e._UZ(3,"div",33),e.Hsn(4,8),e.qZA()),2&qt){const fn=e.oxw();e.Q6J("@transitionMessages",fn._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",fn.hintLabel)}}const Te=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Oe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let je=(()=>{class qt{static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["mat-label"]]})}return qt})(),ft=0;const Ze=new e.OlP("MatError");let Re=(()=>{class qt{constructor(fn,wt){this.id="mat-mdc-error-"+ft++,fn||wt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.$8M("aria-live"),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(wt,vt){2&wt&&e.Ikx("id",vt.id)},inputs:{id:"id"},features:[e._Bn([{provide:Ze,useExisting:qt}])]})}return qt})(),be=0,Q=(()=>{class qt{constructor(){this.align="start",this.id="mat-mdc-hint-"+be++}static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(wt,vt){2&wt&&(e.Ikx("id",vt.id),e.uIk("align",null),e.ekj("mat-mdc-form-field-hint-end","end"===vt.align))},inputs:{align:"align",id:"id"}})}return qt})();const ie=new e.OlP("MatPrefix"),oe=new e.OlP("MatSuffix");let ee=(()=>{class qt{constructor(){this._isText=!1}set _isTextSelector(fn){this._isText=!0}static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[e._Bn([{provide:oe,useExisting:qt}])]})}return qt})();const X=new e.OlP("FloatingLabelParent");let $=(()=>{class qt{get floating(){return this._floating}set floating(fn){this._floating=fn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(fn){this._monitorResize=fn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(fn){this._elementRef=fn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.f3M)(_),this._ngZone=(0,e.f3M)(e.R0b),this._parent=(0,e.f3M)(X),this._resizeSubscription=new b.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function re(qt){if(null!==qt.offsetParent)return qt.scrollWidth;const fn=qt.cloneNode(!0);fn.style.setProperty("position","absolute"),fn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(fn);const wt=fn.scrollWidth;return fn.remove(),wt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(wt,vt){2&wt&&e.ekj("mdc-floating-label--float-above",vt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return qt})();const J="mdc-line-ripple--active",q="mdc-line-ripple--deactivating";let _e=(()=>{class qt{constructor(fn,wt){this._elementRef=fn,this._handleTransitionEnd=vt=>{const it=this._elementRef.nativeElement.classList,He=it.contains(q);"opacity"===vt.propertyName&&He&&it.remove(J,q)},wt.runOutsideAngular(()=>{fn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const fn=this._elementRef.nativeElement.classList;fn.remove(q),fn.add(J)}deactivate(){this._elementRef.nativeElement.classList.add(q)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return qt})(),xe=(()=>{class qt{constructor(fn,wt){this._elementRef=fn,this._ngZone=wt,this.open=!1}ngAfterViewInit(){const fn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");fn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(fn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>fn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(fn){this._notch.nativeElement.style.width=this.open&&fn?`calc(${fn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:qt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(wt,vt){if(1&wt&&e.Gf(C,5),2&wt){let it;e.iGM(it=e.CRH())&&(vt._notch=it.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(wt,vt){2&wt&&e.ekj("mdc-notched-outline--notched",vt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:I,ngContentSelectors:T,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(wt,vt){1&wt&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1,2),e.Hsn(3),e.qZA(),e._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return qt})();const Ee={transitionMessages:(0,x.X$)("transitionMessages",[(0,x.SB)("enter",(0,x.oB)({opacity:1,transform:"translateY(0%)"})),(0,x.eR)("void => enter",[(0,x.oB)({opacity:0,transform:"translateY(-5px)"}),(0,x.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ge=(()=>{class qt{static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt})}return qt})();const gt=new e.OlP("MatFormField"),Qe=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let yt=0,Wt=(()=>{class qt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(fn){this._hideRequiredMarker=(0,S.Ig)(fn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(fn){fn!==this._floatLabel&&(this._floatLabel=fn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(fn){const wt=this._appearance;this._appearance=fn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==wt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(fn){this._subscriptSizing=fn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(fn){this._hintLabel=fn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(fn){this._explicitFormFieldControl=fn}constructor(fn,wt,vt,it,He,ze,st,at){this._elementRef=fn,this._changeDetectorRef=wt,this._ngZone=vt,this._dir=it,this._platform=He,this._defaults=ze,this._animationMode=st,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+yt++,this._hintLabelId="mat-mdc-hint-"+yt++,this._subscriptAnimationState="",this._destroyed=new g.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,ze&&(ze.appearance&&(this.appearance=ze.appearance),this._hideRequiredMarker=!!ze?.hideRequiredMarker,ze.color&&(this.color=ze.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const fn=this._control;fn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${fn.controlType}`),fn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),fn.ngControl&&fn.ngControl.valueChanges&&fn.ngControl.valueChanges.pipe((0,D.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(fn=>!fn._isText),this._hasTextPrefix=!!this._prefixChildren.find(fn=>fn._isText),this._hasIconSuffix=!!this._suffixChildren.find(fn=>!fn._isText),this._hasTextSuffix=!!this._suffixChildren.find(fn=>fn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,P.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,D.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,D.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(fn){const wt=this._control?this._control.ngControl:null;return wt&&wt[fn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let fn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&fn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const wt=this._hintChildren?this._hintChildren.find(it=>"start"===it.align):null,vt=this._hintChildren?this._hintChildren.find(it=>"end"===it.align):null;wt?fn.push(wt.id):this._hintLabel&&fn.push(this._hintLabelId),vt&&fn.push(vt.id)}else this._errorChildren&&fn.push(...this._errorChildren.map(wt=>wt.id));this._control.setDescribedByIds(fn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const fn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(fn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const wt=this._iconPrefixContainer?.nativeElement,vt=this._textPrefixContainer?.nativeElement,it=wt?.getBoundingClientRect().width??0,He=vt?.getBoundingClientRect().width??0;fn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${it+He}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const fn=this._elementRef.nativeElement;if(fn.getRootNode){const wt=fn.getRootNode();return wt&&wt!==fn}return document.documentElement.contains(fn)}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(t.Is),e.Y36(v.t4),e.Y36(Qe,8),e.Y36(e.QbO,8),e.Y36(A.K0))};static#t=this.\u0275cmp=e.Xpm({type:qt,selectors:[["mat-form-field"]],contentQueries:function(wt,vt,it){if(1&wt&&(e.Suo(it,je,5),e.Suo(it,je,7),e.Suo(it,Ge,5),e.Suo(it,ie,5),e.Suo(it,oe,5),e.Suo(it,Ze,5),e.Suo(it,Q,5)),2&wt){let He;e.iGM(He=e.CRH())&&(vt._labelChildNonStatic=He.first),e.iGM(He=e.CRH())&&(vt._labelChildStatic=He.first),e.iGM(He=e.CRH())&&(vt._formFieldControl=He.first),e.iGM(He=e.CRH())&&(vt._prefixChildren=He),e.iGM(He=e.CRH())&&(vt._suffixChildren=He),e.iGM(He=e.CRH())&&(vt._errorChildren=He),e.iGM(He=e.CRH())&&(vt._hintChildren=He)}},viewQuery:function(wt,vt){if(1&wt&&(e.Gf(L,5),e.Gf(y,5),e.Gf(B,5),e.Gf($,5),e.Gf(xe,5),e.Gf(_e,5)),2&wt){let it;e.iGM(it=e.CRH())&&(vt._textField=it.first),e.iGM(it=e.CRH())&&(vt._iconPrefixContainer=it.first),e.iGM(it=e.CRH())&&(vt._textPrefixContainer=it.first),e.iGM(it=e.CRH())&&(vt._floatingLabel=it.first),e.iGM(it=e.CRH())&&(vt._notchedOutline=it.first),e.iGM(it=e.CRH())&&(vt._lineRipple=it.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(wt,vt){2&wt&&e.ekj("mat-mdc-form-field-label-always-float",vt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",vt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",vt._hasIconSuffix)("mat-form-field-invalid",vt._control.errorState)("mat-form-field-disabled",vt._control.disabled)("mat-form-field-autofilled",vt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===vt._animationMode)("mat-form-field-appearance-fill","fill"==vt.appearance)("mat-form-field-appearance-outline","outline"==vt.appearance)("mat-form-field-hide-placeholder",vt._hasFloatingLabel()&&!vt._shouldLabelFloat())("mat-focused",vt._control.focused)("mat-primary","accent"!==vt.color&&"warn"!==vt.color)("mat-accent","accent"===vt.color)("mat-warn","warn"===vt.color)("ng-untouched",vt._shouldForward("untouched"))("ng-touched",vt._shouldForward("touched"))("ng-pristine",vt._shouldForward("pristine"))("ng-dirty",vt._shouldForward("dirty"))("ng-valid",vt._shouldForward("valid"))("ng-invalid",vt._shouldForward("invalid"))("ng-pending",vt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:gt,useExisting:qt},{provide:X,useExisting:qt}])],ngContentSelectors:Oe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(wt,vt){1&wt&&(e.F$t(Te),e.YNc(0,ae,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.NdJ("click",function(He){return vt._control.onContainerClick(He)}),e.YNc(4,Fe,1,0,"div",3),e.TgZ(5,"div",4),e.YNc(6,G,2,2,"div",5),e.YNc(7,Se,3,0,"div",6),e.YNc(8,ce,3,0,"div",7),e.TgZ(9,"div",8),e.YNc(10,Ie,1,1,"ng-template",9),e.Hsn(11),e.qZA(),e.YNc(12,Ce,2,0,"div",10),e.YNc(13,pe,2,0,"div",11),e.qZA(),e.YNc(14,Ae,1,0,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,ke,2,1,"div",14),e.YNc(17,we,5,2,"div",15),e.qZA()),2&wt&&(e.xp6(2),e.ekj("mdc-text-field--filled",!vt._hasOutline())("mdc-text-field--outlined",vt._hasOutline())("mdc-text-field--no-label",!vt._hasFloatingLabel())("mdc-text-field--disabled",vt._control.disabled)("mdc-text-field--invalid",vt._control.errorState),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()&&!vt._control.disabled),e.xp6(2),e.Q6J("ngIf",vt._hasOutline()),e.xp6(1),e.Q6J("ngIf",vt._hasIconPrefix),e.xp6(1),e.Q6J("ngIf",vt._hasTextPrefix),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()||vt._forceDisplayInfixLabel()),e.xp6(2),e.Q6J("ngIf",vt._hasTextSuffix),e.xp6(1),e.Q6J("ngIf",vt._hasIconSuffix),e.xp6(1),e.Q6J("ngIf",!vt._hasOutline()),e.xp6(1),e.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===vt.subscriptSizing),e.Q6J("ngSwitch",vt._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[A.O5,A.tP,A.RF,A.n9,Q,$,xe,_e],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ee.transitionMessages]},changeDetection:0})}return qt})(),Qt=(()=>{class qt{static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275mod=e.oAB({type:qt});static#n=this.\u0275inj=e.cJS({imports:[O.BQ,A.ez,N.Q8,O.BQ]})}return qt})()},2032:(Wn,et,p)=>{"use strict";p.d(et,{Jk:()=>x,Nt:()=>C,c:()=>I});var e=p(2495),t=p(2831),v=p(5879),b=p(6232),g=p(8645);const P=(0,t.i$)({passive:!0});let D=(()=>{class T{constructor(y,B){this._platform=y,this._ngZone=B,this._monitoredElements=new Map}monitor(y){if(!this._platform.isBrowser)return b.E;const B=(0,e.fI)(y),z=this._monitoredElements.get(B);if(z)return z.subject;const ne=new g.x,ae="cdk-text-field-autofilled",Fe=Y=>{"cdk-text-field-autofill-start"!==Y.animationName||B.classList.contains(ae)?"cdk-text-field-autofill-end"===Y.animationName&&B.classList.contains(ae)&&(B.classList.remove(ae),this._ngZone.run(()=>ne.next({target:Y.target,isAutofilled:!1}))):(B.classList.add(ae),this._ngZone.run(()=>ne.next({target:Y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Fe,P),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:ne,unlisten:()=>{B.removeEventListener("animationstart",Fe,P)}}),ne}stopMonitoring(y){const B=(0,e.fI)(y),z=this._monitoredElements.get(B);z&&(z.unlisten(),z.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((y,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(v.LFG(t.t4),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),c=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=v.oAB({type:T});static#n=this.\u0275inj=v.cJS({})}return T})();var d=p(95),f=p(3680),_=p(4170);const x=new v.OlP("MAT_INPUT_VALUE_ACCESSOR"),A=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let N=0;const O=(0,f.FD)(class{constructor(T,L,y,B){this._defaultErrorStateMatcher=T,this._parentForm=L,this._parentFormGroup=y,this.ngControl=B,this.stateChanges=new g.x}});let C=(()=>{class T extends O{get disabled(){return this._disabled}set disabled(y){this._disabled=(0,e.Ig)(y),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(y){this._id=y||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(d.kI.required)??!1}set required(y){this._required=(0,e.Ig)(y)}get type(){return this._type}set type(y){this._type=y||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(y){y!==this.value&&(this._inputValueAccessor.value=y,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(y){this._readonly=(0,e.Ig)(y)}constructor(y,B,z,ne,ae,Fe,Y,le,G,Se){super(Fe,ne,ae,z),this._elementRef=y,this._platform=B,this._autofillMonitor=le,this._formField=Se,this._uid="mat-input-"+N++,this.focused=!1,this.stateChanges=new g.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ie=>(0,t.qK)().has(Ie)),this._iOSKeyupListener=Ie=>{const Ce=Ie.target;!Ce.value&&0===Ce.selectionStart&&0===Ce.selectionEnd&&(Ce.setSelectionRange(1,1),Ce.setSelectionRange(0,0))};const ce=this._elementRef.nativeElement,ge=ce.nodeName.toLowerCase();this._inputValueAccessor=Y||ce,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&G.runOutsideAngular(()=>{y.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ge,this._isTextarea="textarea"===ge,this._isInFormField=!!Se,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(y=>{this.autofilled=y.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(y){this._elementRef.nativeElement.focus(y)}_focusChanged(y){y!==this.focused&&(this.focused=y,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const y=this._elementRef.nativeElement.value;this._previousNativeValue!==y&&(this._previousNativeValue=y,this.stateChanges.next())}_dirtyCheckPlaceholder(){const y=this._getPlaceholder();if(y!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=y,y?B.setAttribute("placeholder",y):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){A.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let y=this._elementRef.nativeElement.validity;return y&&y.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const y=this._elementRef.nativeElement,B=y.options[0];return this.focused||y.multiple||!this.empty||!!(y.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(y){y.length?this._elementRef.nativeElement.setAttribute("aria-describedby",y.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const y=this._elementRef.nativeElement;return this._isNativeSelect&&(y.multiple||y.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(v.Y36(v.SBq),v.Y36(t.t4),v.Y36(d.a5,10),v.Y36(d.F,8),v.Y36(d.sg,8),v.Y36(f.rD),v.Y36(x,10),v.Y36(D),v.Y36(v.R0b),v.Y36(_.G_,8))};static#t=this.\u0275dir=v.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,z){1&B&&v.NdJ("focus",function(){return z._focusChanged(!0)})("blur",function(){return z._focusChanged(!1)})("input",function(){return z._onInput()}),2&B&&(v.Ikx("id",z.id)("disabled",z.disabled)("required",z.required),v.uIk("name",z.name||null)("readonly",z.readonly&&!z._isNativeSelect||null)("aria-invalid",z.empty&&z.required?null:z.errorState)("aria-required",z.required)("id",z.id),v.ekj("mat-input-server",z._isServer)("mat-mdc-form-field-textarea-control",z._isInFormField&&z._isTextarea)("mat-mdc-form-field-input-control",z._isInFormField)("mdc-text-field__input",z._isInFormField)("mat-mdc-native-select-inline",z._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[v._Bn([{provide:_.Eo,useExisting:T}]),v.qOj,v.TTD]})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=v.oAB({type:T});static#n=this.\u0275inj=v.cJS({imports:[f.BQ,_.lN,_.lN,c,f.BQ]})}return T})()},1476:(Wn,et,p)=>{"use strict";p.d(et,{NW:()=>z,TU:()=>ne,ye:()=>A});var e=p(6814),t=p(5879),v=p(8645),b=p(2296),g=p(8525),P=p(2596),D=p(3680),m=p(2495),i=p(4170);function c(ae,Fe){if(1&ae&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&ae){const Y=Fe.$implicit;t.Q6J("value",Y),t.xp6(1),t.hij(" ",Y," ")}}function d(ae,Fe){if(1&ae){const Y=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(G){t.CHM(Y);const Se=t.oxw(2);return t.KtG(Se._changePageSize(G.value))}),t.YNc(2,c,2,2,"mat-option",18),t.qZA()()}if(2&ae){const Y=t.oxw(2);t.Q6J("appearance",Y._formFieldAppearance)("color",Y.color),t.xp6(1),t.Q6J("value",Y.pageSize)("disabled",Y.disabled)("aria-labelledby",Y._pageSizeLabelId)("panelClass",Y.selectConfig.panelClass||"")("disableOptionCentering",Y.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",Y._displayedPageSizeOptions)}}function f(ae,Fe){if(1&ae&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&ae){const Y=t.oxw(2);t.xp6(1),t.Oqu(Y.pageSize)}}function _(ae,Fe){if(1&ae&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,d,3,8,"mat-form-field",14),t.YNc(4,f,2,1,"div",15),t.qZA()),2&ae){const Y=t.oxw();t.xp6(1),t.s9C("id",Y._pageSizeLabelId),t.xp6(1),t.hij(" ",Y._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",Y._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",Y._displayedPageSizeOptions.length<=1)}}function S(ae,Fe){if(1&ae){const Y=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(Y);const G=t.oxw();return t.KtG(G.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&ae){const Y=t.oxw();t.Q6J("matTooltip",Y._intl.firstPageLabel)("matTooltipDisabled",Y._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Y._previousButtonsDisabled()),t.uIk("aria-label",Y._intl.firstPageLabel)}}function x(ae,Fe){if(1&ae){const Y=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(Y);const G=t.oxw();return t.KtG(G.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&ae){const Y=t.oxw();t.Q6J("matTooltip",Y._intl.lastPageLabel)("matTooltipDisabled",Y._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Y._nextButtonsDisabled()),t.uIk("aria-label",Y._intl.lastPageLabel)}}let A=(()=>{class ae{constructor(){this.changes=new v.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Y,le,G)=>{if(0==G||0==le)return`0 of ${G}`;const Se=Y*le;return`${Se+1} \u2013 ${Se<(G=Math.max(G,0))?Math.min(Se+le,G):Se+le} of ${G}`}}static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275prov=t.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const O={provide:A,deps:[[new t.FiY,new t.tp0,A]],useFactory:function N(ae){return ae||new A}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),L=(0,D.Id)((0,D.dB)(class{}));let y=(()=>{class ae extends L{get pageIndex(){return this._pageIndex}set pageIndex(Y){this._pageIndex=Math.max((0,m.su)(Y),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(Y){this._length=(0,m.su)(Y),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(Y){this._pageSize=Math.max((0,m.su)(Y),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(Y){this._pageSizeOptions=(Y||[]).map(le=>(0,m.su)(le)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(Y){this._hidePageSize=(0,m.Ig)(Y)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(Y){this._showFirstLastButtons=(0,m.Ig)(Y)}constructor(Y,le,G){if(super(),this._intl=Y,this._changeDetectorRef=le,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=Y.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),G){const{pageSize:Se,pageSizeOptions:ce,hidePageSize:ge,showFirstLastButtons:Ie}=G;null!=Se&&(this._pageSize=Se),null!=ce&&(this._pageSizeOptions=ce),null!=ge&&(this._hidePageSize=ge),null!=Ie&&(this._showFirstLastButtons=Ie)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const Y=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(Y)}previousPage(){if(!this.hasPreviousPage())return;const Y=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(Y)}firstPage(){if(!this.hasPreviousPage())return;const Y=this.pageIndex;this.pageIndex=0,this._emitPageEvent(Y)}lastPage(){if(!this.hasNextPage())return;const Y=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(Y)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const Y=this.getNumberOfPages()-1;return this.pageIndex<Y&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(Y){const G=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/Y)||0,this.pageSize=Y,this._emitPageEvent(G)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((Y,le)=>Y-le),this._changeDetectorRef.markForCheck())}_emitPageEvent(Y){this.page.emit({previousPageIndex:Y,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(le){t.$Z()};static#t=this.\u0275dir=t.lG2({type:ae,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return ae})(),B=0,z=(()=>{class ae extends y{constructor(Y,le,G){super(Y,le,G),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=G?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(le){return new(le||ae)(t.Y36(A),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:ae,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(le,G){1&le&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,_,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,S,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return G.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return G.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,x,3,5,"button",11),t.qZA()()()),2&le&&(t.xp6(2),t.Q6J("ngIf",!G.hidePageSize),t.xp6(3),t.hij(" ",G._intl.getRangeLabel(G.pageIndex,G.pageSize,G.length)," "),t.xp6(1),t.Q6J("ngIf",G.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",G._intl.previousPageLabel)("matTooltipDisabled",G._previousButtonsDisabled())("matTooltipPosition","above")("disabled",G._previousButtonsDisabled()),t.uIk("aria-label",G._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",G._intl.nextPageLabel)("matTooltipDisabled",G._nextButtonsDisabled())("matTooltipPosition","above")("disabled",G._nextButtonsDisabled()),t.uIk("aria-label",G._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",G.showFirstLastButtons))},dependencies:[e.sg,e.O5,b.RK,i.KE,g.gD,D.ey,P.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ae})(),ne=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=t.oAB({type:ae});static#n=this.\u0275inj=t.cJS({providers:[O],imports:[e.ez,b.ot,g.LD,P.AV]})}return ae})()},5940:(Wn,et,p)=>{"use strict";p.d(et,{Cq:()=>S,Ou:()=>f});var e=p(5879),t=p(3680),v=p(2495),b=p(6814);const g=["determinateSpinner"];function P(x,A){if(1&x&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&x){const N=e.oxw();e.uIk("viewBox",N._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",N._strokeCircumference(),"px")("stroke-dashoffset",N._strokeCircumference()/2,"px")("stroke-width",N._circleStrokeWidth(),"%"),e.uIk("r",N._circleRadius())}}const D=(0,t.pj)(class{constructor(x){this._elementRef=x}},"primary"),m=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function i(){return{diameter:c}}}),c=100;let f=(()=>{class x extends D{constructor(N,O,C){super(N),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=c,this._noopAnimations="NoopAnimations"===O&&!!C&&!C._forceAnimations,C&&(C.color&&(this.color=this.defaultColor=C.color),C.diameter&&(this.diameter=C.diameter),C.strokeWidth&&(this.strokeWidth=C.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(N){this._value=Math.max(0,Math.min(100,(0,v.su)(N)))}get diameter(){return this._diameter}set diameter(N){this._diameter=(0,v.su)(N)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(N){this._strokeWidth=(0,v.su)(N)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const N=2*this._circleRadius()+this.strokeWidth;return`0 0 ${N} ${N}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||x)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(m))};static#t=this.\u0275cmp=e.Xpm({type:x,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,C){if(1&O&&e.Gf(g,5),2&O){let I;e.iGM(I=e.CRH())&&(C._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,C){2&O&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===C.mode?C.value:null)("mode",C.mode),e.Udp("width",C.diameter,"px")("height",C.diameter,"px")("--mdc-circular-progress-size",C.diameter+"px")("--mdc-circular-progress-active-indicator-width",C.diameter+"px"),e.ekj("_mat-animation-noopable",C._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===C.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,C){if(1&O&&(e.YNc(0,P,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&O){const I=e.MAs(1);e.xp6(4),e.uIk("viewBox",C._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",C._strokeCircumference(),"px")("stroke-dashoffset",C._strokeDashOffset(),"px")("stroke-width",C._circleStrokeWidth(),"%"),e.uIk("r",C._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I)}},dependencies:[b.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return x})(),S=(()=>{class x{static#e=this.\u0275fac=function(O){return new(O||x)};static#t=this.\u0275mod=e.oAB({type:x});static#n=this.\u0275inj=e.cJS({imports:[b.ez,t.BQ]})}return x})()},8525:(Wn,et,p)=>{"use strict";p.d(et,{LD:()=>be,gD:()=>Re});var e=p(3651),t=p(6814),v=p(5879),b=p(3680),g=p(4170),P=p(799),D=p(4300),m=p(9388),i=p(2495),c=p(8337),d=p(6028),f=p(95),_=p(8645),S=p(4911),x=p(3019),A=p(7921),N=p(4664),O=p(8180),C=p(2181),I=p(7398),T=p(3997),L=p(9773),y=p(6825);const B=["trigger"],z=["panel"];function ne(Q,ie){if(1&Q&&(v.TgZ(0,"span",10),v._uU(1),v.qZA()),2&Q){const ye=v.oxw();v.xp6(1),v.Oqu(ye.placeholder)}}function ae(Q,ie){if(1&Q&&(v.TgZ(0,"span",14),v._uU(1),v.qZA()),2&Q){const ye=v.oxw(2);v.xp6(1),v.Oqu(ye.triggerValue)}}function Fe(Q,ie){1&Q&&v.Hsn(0,0,["*ngSwitchCase","true"])}function Y(Q,ie){if(1&Q&&(v.TgZ(0,"span",11),v.YNc(1,ae,2,1,"span",12),v.YNc(2,Fe,1,0,"ng-content",13),v.qZA()),2&Q){const ye=v.oxw();v.Q6J("ngSwitch",!!ye.customTrigger),v.xp6(2),v.Q6J("ngSwitchCase",!0)}}function le(Q,ie){if(1&Q){const ye=v.EpF();v.O4$(),v.kcU(),v.TgZ(0,"div",15,16),v.NdJ("@transformPanel.done",function(ee){v.CHM(ye);const X=v.oxw();return v.KtG(X._panelDoneAnimatingStream.next(ee.toState))})("keydown",function(ee){v.CHM(ye);const X=v.oxw();return v.KtG(X._handleKeydown(ee))}),v.Hsn(2,1),v.qZA()}if(2&Q){const ye=v.oxw();v.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ye._getPanelTheme(),""),v.Q6J("ngClass",ye.panelClass)("@transformPanel","showing"),v.uIk("id",ye.id+"-panel")("aria-multiselectable",ye.multiple)("aria-label",ye.ariaLabel||null)("aria-labelledby",ye._getPanelAriaLabelledby())}}const G=[[["mat-select-trigger"]],"*"],Se=["mat-select-trigger","*"],ce={transformPanelWrap:(0,y.X$)("transformPanelWrap",[(0,y.eR)("* => void",(0,y.IO)("@transformPanel",[(0,y.pV)()],{optional:!0}))]),transformPanel:(0,y.X$)("transformPanel",[(0,y.SB)("void",(0,y.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,y.eR)("void => showing",(0,y.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,y.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,y.eR)("* => void",(0,y.jt)("100ms linear",(0,y.oB)({opacity:0})))])};let pe=0;const Ae=new v.OlP("mat-select-scroll-strategy"),he=new v.OlP("MAT_SELECT_CONFIG"),we={provide:Ae,deps:[e.aV],useFactory:function ke(Q){return()=>Q.scrollStrategies.reposition()}},Te=new v.OlP("MatSelectTrigger");class Oe{constructor(ie,ye){this.source=ie,this.value=ye}}const je=(0,b.Kr)((0,b.sb)((0,b.Id)((0,b.FD)(class{constructor(Q,ie,ye,oe,ee){this._elementRef=Q,this._defaultErrorStateMatcher=ie,this._parentForm=ye,this._parentFormGroup=oe,this.ngControl=ee,this.stateChanges=new _.x}}))));let ft=(()=>{class Q extends je{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ye){this._placeholder=ye,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(f.kI.required)??!1}set required(ye){this._required=(0,i.Ig)(ye),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ye){this._multiple=(0,i.Ig)(ye)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ye){this._disableOptionCentering=(0,i.Ig)(ye)}get compareWith(){return this._compareWith}set compareWith(ye){this._compareWith=ye,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ye){this._assignValue(ye)&&this._onChange(ye)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ye){this._typeaheadDebounceInterval=(0,i.su)(ye)}get id(){return this._id}set id(ye){this._id=ye||this._uid,this.stateChanges.next()}constructor(ye,oe,ee,X,$,re,J,q,_e,xe,Ee,Ge,ct,Xe){super($,X,J,q,xe),this._viewportRuler=ye,this._changeDetectorRef=oe,this._ngZone=ee,this._dir=re,this._parentFormField=_e,this._liveAnnouncer=ct,this._defaultOptions=Xe,this._panelOpen=!1,this._compareWith=(tt,gt)=>tt===gt,this._uid="mat-select-"+pe++,this._triggerAriaLabelledBy=null,this._destroy=new _.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pe++,this._panelDoneAnimatingStream=new _.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,S.P)(()=>{const tt=this.options;return tt?tt.changes.pipe((0,A.O)(tt),(0,N.w)(()=>(0,x.T)(...tt.map(gt=>gt.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,N.w)(()=>this.optionSelectionChanges))}),this.openedChange=new v.vpe,this._openedStream=this.openedChange.pipe((0,C.h)(tt=>tt),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,C.h)(tt=>!tt),(0,I.U)(()=>{})),this.selectionChange=new v.vpe,this.valueChange=new v.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Xe?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Xe.typeaheadDebounceInterval),this._scrollStrategyFactory=Ge,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ee)||0,this.id=this.id}ngOnInit(){this._selectionModel=new c.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,L.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,L.R)(this._destroy)).subscribe(ye=>{ye.added.forEach(oe=>oe.select()),ye.removed.forEach(oe=>oe.deselect())}),this.options.changes.pipe((0,A.O)(null),(0,L.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ye=this._getTriggerAriaLabelledby(),oe=this.ngControl;if(ye!==this._triggerAriaLabelledBy){const ee=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ye,ye?ee.setAttribute("aria-labelledby",ye):ee.removeAttribute("aria-labelledby")}oe&&(this._previousControl!==oe.control&&(void 0!==this._previousControl&&null!==oe.disabled&&oe.disabled!==this.disabled&&(this.disabled=oe.disabled),this._previousControl=oe.control),this.updateErrorState())}ngOnChanges(ye){(ye.disabled||ye.userAriaDescribedBy)&&this.stateChanges.next(),ye.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ye=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ye)return;const oe=`${this.id}-panel`;this._trackedModal&&(0,D.iD)(this._trackedModal,"aria-owns",oe),(0,D.Zf)(ye,"aria-owns",oe),this._trackedModal=ye}_clearFromModal(){this._trackedModal&&((0,D.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ye){this._assignValue(ye)}registerOnChange(ye){this._onChange=ye}registerOnTouched(ye){this._onTouched=ye}setDisabledState(ye){this.disabled=ye,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ye=this._selectionModel.selected.map(oe=>oe.viewValue);return this._isRtl()&&ye.reverse(),ye.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ye){this.disabled||(this.panelOpen?this._handleOpenKeydown(ye):this._handleClosedKeydown(ye))}_handleClosedKeydown(ye){const oe=ye.keyCode,ee=oe===d.JH||oe===d.LH||oe===d.oh||oe===d.SV,X=oe===d.K5||oe===d.L_,$=this._keyManager;if(!$.isTyping()&&X&&!(0,d.Vb)(ye)||(this.multiple||ye.altKey)&&ee)ye.preventDefault(),this.open();else if(!this.multiple){const re=this.selected;$.onKeydown(ye);const J=this.selected;J&&re!==J&&this._liveAnnouncer.announce(J.viewValue,1e4)}}_handleOpenKeydown(ye){const oe=this._keyManager,ee=ye.keyCode,X=ee===d.JH||ee===d.LH,$=oe.isTyping();if(X&&ye.altKey)ye.preventDefault(),this.close();else if($||ee!==d.K5&&ee!==d.L_||!oe.activeItem||(0,d.Vb)(ye))if(!$&&this._multiple&&ee===d.A&&ye.ctrlKey){ye.preventDefault();const re=this.options.some(J=>!J.disabled&&!J.selected);this.options.forEach(J=>{J.disabled||(re?J.select():J.deselect())})}else{const re=oe.activeItemIndex;oe.onKeydown(ye),this._multiple&&X&&ye.shiftKey&&oe.activeItem&&oe.activeItemIndex!==re&&oe.activeItem._selectViaInteraction()}else ye.preventDefault(),oe.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ye){if(this.options.forEach(oe=>oe.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ye)Array.isArray(ye),ye.forEach(oe=>this._selectOptionByValue(oe)),this._sortValues();else{const oe=this._selectOptionByValue(ye);oe?this._keyManager.updateActiveItem(oe):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ye){const oe=this.options.find(ee=>{if(this._selectionModel.isSelected(ee))return!1;try{return null!=ee.value&&this._compareWith(ee.value,ye)}catch{return!1}});return oe&&this._selectionModel.select(oe),oe}_assignValue(ye){return!!(ye!==this._value||this._multiple&&Array.isArray(ye))&&(this.options&&this._setSelectionByValue(ye),this._value=ye,!0)}_skipPredicate(ye){return ye.disabled}_initKeyManager(){this._keyManager=new D.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ye=(0,x.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,L.R)(ye)).subscribe(oe=>{this._onSelect(oe.source,oe.isUserInput),oe.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,x.T)(...this.options.map(oe=>oe._stateChanges)).pipe((0,L.R)(ye)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ye,oe){const ee=this._selectionModel.isSelected(ye);null!=ye.value||this._multiple?(ee!==ye.selected&&(ye.selected?this._selectionModel.select(ye):this._selectionModel.deselect(ye)),oe&&this._keyManager.setActiveItem(ye),this.multiple&&(this._sortValues(),oe&&this.focus())):(ye.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ye.value)),ee!==this._selectionModel.isSelected(ye)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ye=this.options.toArray();this._selectionModel.sort((oe,ee)=>this.sortComparator?this.sortComparator(oe,ee,ye):ye.indexOf(oe)-ye.indexOf(ee)),this.stateChanges.next()}}_propagateChanges(ye){let oe=null;oe=this.multiple?this.selected.map(ee=>ee.value):this.selected?this.selected.value:ye,this._value=oe,this.valueChange.emit(oe),this._onChange(oe),this.selectionChange.emit(this._getChangeEvent(oe)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ye=-1;for(let oe=0;oe<this.options.length;oe++)if(!this.options.get(oe).disabled){ye=oe;break}this._keyManager.setActiveItem(ye)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ye){this._elementRef.nativeElement.focus(ye)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ye?ye+" ":"")+this.ariaLabelledby:ye}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();let oe=(ye?ye+" ":"")+this._valueId;return this.ariaLabelledby&&(oe+=" "+this.ariaLabelledby),oe}_panelDoneAnimating(ye){this.openedChange.emit(ye)}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(oe){return new(oe||Q)(v.Y36(P.rL),v.Y36(v.sBO),v.Y36(v.R0b),v.Y36(b.rD),v.Y36(v.SBq),v.Y36(m.Is,8),v.Y36(f.F,8),v.Y36(f.sg,8),v.Y36(g.G_,8),v.Y36(f.a5,10),v.$8M("tabindex"),v.Y36(Ae),v.Y36(D.Kd),v.Y36(he,8))};static#t=this.\u0275dir=v.lG2({type:Q,viewQuery:function(oe,ee){if(1&oe&&(v.Gf(B,5),v.Gf(z,5),v.Gf(e.pI,5)),2&oe){let X;v.iGM(X=v.CRH())&&(ee.trigger=X.first),v.iGM(X=v.CRH())&&(ee.panel=X.first),v.iGM(X=v.CRH())&&(ee._overlayDir=X.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[v.qOj,v.TTD]})}return Q})(),Re=(()=>{class Q extends ft{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ye=>!this.panelOpen&&ye.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,L.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ye){const oe=this.options.toArray()[ye];if(oe){const ee=this.panel.nativeElement,X=(0,b.CB)(ye,this.options,this.optionGroups),$=oe._getHostElement();ee.scrollTop=0===ye&&1===X?0:(0,b.jH)($.offsetTop,$.offsetHeight,ee.scrollTop,ee.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ye){return new Oe(this,ye)}_getOverlayWidth(ye){return"auto"===this.panelWidth?(ye instanceof e.xu?ye.elementRef:ye||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ye){this._hideSingleSelectionIndicator=(0,i.Ig)(ye),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ye of this.options)ye._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let ye;return function(ee){return(ye||(ye=v.n5z(Q)))(ee||Q)}}();static#t=this.\u0275cmp=v.Xpm({type:Q,selectors:[["mat-select"]],contentQueries:function(oe,ee,X){if(1&oe&&(v.Suo(X,Te,5),v.Suo(X,b.ey,5),v.Suo(X,b.K7,5)),2&oe){let $;v.iGM($=v.CRH())&&(ee.customTrigger=$.first),v.iGM($=v.CRH())&&(ee.options=$),v.iGM($=v.CRH())&&(ee.optionGroups=$)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(oe,ee){1&oe&&v.NdJ("keydown",function($){return ee._handleKeydown($)})("focus",function(){return ee._onFocus()})("blur",function(){return ee._onBlur()}),2&oe&&(v.uIk("id",ee.id)("tabindex",ee.tabIndex)("aria-controls",ee.panelOpen?ee.id+"-panel":null)("aria-expanded",ee.panelOpen)("aria-label",ee.ariaLabel||null)("aria-required",ee.required.toString())("aria-disabled",ee.disabled.toString())("aria-invalid",ee.errorState)("aria-activedescendant",ee._getAriaActiveDescendant()),v.ekj("mat-mdc-select-disabled",ee.disabled)("mat-mdc-select-invalid",ee.errorState)("mat-mdc-select-required",ee.required)("mat-mdc-select-empty",ee.empty)("mat-mdc-select-multiple",ee.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[v._Bn([{provide:g.Eo,useExisting:Q},{provide:b.HF,useExisting:Q}]),v.qOj],ngContentSelectors:Se,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(oe,ee){if(1&oe&&(v.F$t(G),v.TgZ(0,"div",0,1),v.NdJ("click",function(){return ee.toggle()}),v.TgZ(3,"div",2),v.YNc(4,ne,2,1,"span",3),v.YNc(5,Y,3,2,"span",4),v.qZA(),v.TgZ(6,"div",5)(7,"div",6),v.O4$(),v.TgZ(8,"svg",7),v._UZ(9,"path",8),v.qZA()()()(),v.YNc(10,le,3,9,"ng-template",9),v.NdJ("backdropClick",function(){return ee.close()})("attach",function(){return ee._onAttached()})("detach",function(){return ee.close()})),2&oe){const X=v.MAs(1);v.xp6(3),v.Q6J("ngSwitch",ee.empty),v.uIk("id",ee._valueId),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngSwitchCase",!1),v.xp6(5),v.Q6J("cdkConnectedOverlayPanelClass",ee._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ee._scrollStrategy)("cdkConnectedOverlayOrigin",ee._preferredOverlayOrigin||X)("cdkConnectedOverlayOpen",ee.panelOpen)("cdkConnectedOverlayPositions",ee._positions)("cdkConnectedOverlayWidth",ee._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,e.pI,e.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ce.transformPanel]},changeDetection:0})}return Q})(),be=(()=>{class Q{static#e=this.\u0275fac=function(oe){return new(oe||Q)};static#t=this.\u0275mod=v.oAB({type:Q});static#n=this.\u0275inj=v.cJS({providers:[we],imports:[t.ez,e.U8,b.Ng,b.BQ,P.ZD,g.lN,b.Ng,b.BQ]})}return Q})()},2939:(Wn,et,p)=>{"use strict";p.d(et,{OX:()=>O,ZX:()=>Y,qD:()=>C,u_:()=>I,ux:()=>ce});var e=p(5879),t=p(8645),v=p(6814),b=p(2296),g=p(6825),P=p(8484),D=p(2831),m=p(8180),i=p(9773),c=p(4300),d=p(1088),f=p(3651),_=p(3680);function S(ge,Ie){if(1&ge){const Ce=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(Ce);const Ae=e.oxw();return e.KtG(Ae.action())}),e._uU(2),e.qZA()()}if(2&ge){const Ce=e.oxw();e.xp6(2),e.hij(" ",Ce.data.action," ")}}const x=["label"];function A(ge,Ie){}const N=Math.pow(2,31)-1;class O{constructor(Ie,Ce){this._overlayRef=Ce,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Ie,Ie._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ie){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ie,N))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const C=new e.OlP("MatSnackBarData");class I{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275dir=e.lG2({type:ge,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return ge})(),L=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275dir=e.lG2({type:ge,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return ge})(),y=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275dir=e.lG2({type:ge,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return ge})(),B=(()=>{class ge{constructor(Ce,pe){this.snackBarRef=Ce,this.data=pe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.Y36(O),e.Y36(C))};static#t=this.\u0275cmp=e.Xpm({type:ge,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(pe,Ae){1&pe&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,S,3,1,"div",1)),2&pe&&(e.xp6(1),e.hij(" ",Ae.data.message,"\n"),e.xp6(1),e.Q6J("ngIf",Ae.hasAction))},dependencies:[v.O5,b.lW,T,L,y],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ge})();const z={snackBarState:(0,g.X$)("state",[(0,g.SB)("void, hidden",(0,g.oB)({transform:"scale(0.8)",opacity:0})),(0,g.SB)("visible",(0,g.oB)({transform:"scale(1)",opacity:1})),(0,g.eR)("* => visible",(0,g.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,g.eR)("* => void, * => hidden",(0,g.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,g.oB)({opacity:0})))])};let ne=0,ae=(()=>{class ge extends P.en{constructor(Ce,pe,Ae,ke,he){super(),this._ngZone=Ce,this._elementRef=pe,this._changeDetectorRef=Ae,this._platform=ke,this.snackBarConfig=he,this._document=(0,e.f3M)(v.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ne++,this.attachDomPortal=we=>{this._assertNotAttached();const Te=this._portalOutlet.attachDomPortal(we);return this._afterPortalAttached(),Te},this._live="assertive"!==he.politeness||he.announcementMessage?"off"===he.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ce){this._assertNotAttached();const pe=this._portalOutlet.attachComponentPortal(Ce);return this._afterPortalAttached(),pe}attachTemplatePortal(Ce){this._assertNotAttached();const pe=this._portalOutlet.attachTemplatePortal(Ce);return this._afterPortalAttached(),pe}onAnimationEnd(Ce){const{fromState:pe,toState:Ae}=Ce;if(("void"===Ae&&"void"!==pe||"hidden"===Ae)&&this._completeExit(),"visible"===Ae){const ke=this._onEnter;this._ngZone.run(()=>{ke.next(),ke.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,m.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ce=this._elementRef.nativeElement,pe=this.snackBarConfig.panelClass;pe&&(Array.isArray(pe)?pe.forEach(Ae=>Ce.classList.add(Ae)):Ce.classList.add(pe)),this._exposeToModals()}_exposeToModals(){const Ce=this._liveElementId,pe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ae=0;Ae<pe.length;Ae++){const ke=pe[Ae],he=ke.getAttribute("aria-owns");this._trackedModals.add(ke),he?-1===he.indexOf(Ce)&&ke.setAttribute("aria-owns",he+" "+Ce):ke.setAttribute("aria-owns",Ce)}}_clearFromModals(){this._trackedModals.forEach(Ce=>{const pe=Ce.getAttribute("aria-owns");if(pe){const Ae=pe.replace(this._liveElementId,"").trim();Ae.length>0?Ce.setAttribute("aria-owns",Ae):Ce.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ce=this._elementRef.nativeElement.querySelector("[aria-hidden]"),pe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ce&&pe){let Ae=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ce.contains(document.activeElement)&&(Ae=document.activeElement),Ce.removeAttribute("aria-hidden"),pe.appendChild(Ce),Ae?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(D.t4),e.Y36(I))};static#t=this.\u0275dir=e.lG2({type:ge,viewQuery:function(pe,Ae){if(1&pe&&e.Gf(P.Pl,7),2&pe){let ke;e.iGM(ke=e.CRH())&&(Ae._portalOutlet=ke.first)}},features:[e.qOj]})}return ge})(),Fe=(()=>{class ge extends ae{_afterPortalAttached(){super._afterPortalAttached();const Ce=this._label.nativeElement,pe="mdc-snackbar__label";Ce.classList.toggle(pe,!Ce.querySelector(`.${pe}`))}static#e=this.\u0275fac=function(){let Ce;return function(Ae){return(Ce||(Ce=e.n5z(ge)))(Ae||ge)}}();static#t=this.\u0275cmp=e.Xpm({type:ge,selectors:[["mat-snack-bar-container"]],viewQuery:function(pe,Ae){if(1&pe&&e.Gf(x,7),2&pe){let ke;e.iGM(ke=e.CRH())&&(Ae._label=ke.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(pe,Ae){1&pe&&e.WFA("@state.done",function(he){return Ae.onAnimationEnd(he)}),2&pe&&e.d8E("@state",Ae._animationState)},features:[e.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(pe,Ae){1&pe&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e.YNc(4,A,0,0,"ng-template",4),e.qZA(),e._UZ(5,"div"),e.qZA()()),2&pe&&(e.xp6(5),e.uIk("aria-live",Ae._live)("role",Ae._role)("id",Ae._liveElementId))},dependencies:[P.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[z.snackBarState]}})}return ge})(),Y=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275mod=e.oAB({type:ge});static#n=this.\u0275inj=e.cJS({imports:[f.U8,P.eL,v.ez,b.ot,_.BQ,_.BQ]})}return ge})();const G=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function le(){return new I}});let Se=(()=>{class ge{get _openedSnackBarRef(){const Ce=this._parentSnackBar;return Ce?Ce._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ce){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ce:this._snackBarRefAtThisLevel=Ce}constructor(Ce,pe,Ae,ke,he,we){this._overlay=Ce,this._live=pe,this._injector=Ae,this._breakpointObserver=ke,this._parentSnackBar=he,this._defaultConfig=we,this._snackBarRefAtThisLevel=null}openFromComponent(Ce,pe){return this._attach(Ce,pe)}openFromTemplate(Ce,pe){return this._attach(Ce,pe)}open(Ce,pe="",Ae){const ke={...this._defaultConfig,...Ae};return ke.data={message:Ce,action:pe},ke.announcementMessage===Ce&&(ke.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ke)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ce,pe){const ke=e.zs3.create({parent:pe&&pe.viewContainerRef&&pe.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:pe}]}),he=new P.C5(this.snackBarContainerComponent,pe.viewContainerRef,ke),we=Ce.attach(he);return we.instance.snackBarConfig=pe,we.instance}_attach(Ce,pe){const Ae={...new I,...this._defaultConfig,...pe},ke=this._createOverlay(Ae),he=this._attachSnackBarContainer(ke,Ae),we=new O(he,ke);if(Ce instanceof e.Rgc){const Te=new P.UE(Ce,null,{$implicit:Ae.data,snackBarRef:we});we.instance=he.attachTemplatePortal(Te)}else{const Te=this._createInjector(Ae,we),Oe=new P.C5(Ce,void 0,Te),je=he.attachComponentPortal(Oe);we.instance=je.instance}return this._breakpointObserver.observe(d.u3.HandsetPortrait).pipe((0,i.R)(ke.detachments())).subscribe(Te=>{ke.overlayElement.classList.toggle(this.handsetCssClass,Te.matches)}),Ae.announcementMessage&&he._onAnnounce.subscribe(()=>{this._live.announce(Ae.announcementMessage,Ae.politeness)}),this._animateSnackBar(we,Ae),this._openedSnackBarRef=we,this._openedSnackBarRef}_animateSnackBar(Ce,pe){Ce.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ce&&(this._openedSnackBarRef=null),pe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ce.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ce.containerInstance.enter(),pe.duration&&pe.duration>0&&Ce.afterOpened().subscribe(()=>Ce._dismissAfter(pe.duration))}_createOverlay(Ce){const pe=new f.X_;pe.direction=Ce.direction;let Ae=this._overlay.position().global();const ke="rtl"===Ce.direction,he="left"===Ce.horizontalPosition||"start"===Ce.horizontalPosition&&!ke||"end"===Ce.horizontalPosition&&ke,we=!he&&"center"!==Ce.horizontalPosition;return he?Ae.left("0"):we?Ae.right("0"):Ae.centerHorizontally(),"top"===Ce.verticalPosition?Ae.top("0"):Ae.bottom("0"),pe.positionStrategy=Ae,this._overlay.create(pe)}_createInjector(Ce,pe){return e.zs3.create({parent:Ce&&Ce.viewContainerRef&&Ce.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:pe},{provide:C,useValue:Ce.data}]})}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.LFG(f.aV),e.LFG(c.Kd),e.LFG(e.zs3),e.LFG(d.Yg),e.LFG(ge,12),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:ge,factory:ge.\u0275fac})}return ge})(),ce=(()=>{class ge extends Se{constructor(Ce,pe,Ae,ke,he,we){super(Ce,pe,Ae,ke,he,we),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Fe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.LFG(f.aV),e.LFG(c.Kd),e.LFG(e.zs3),e.LFG(d.Yg),e.LFG(ge,12),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:ge,factory:ge.\u0275fac,providedIn:Y})}return ge})()},3566:(Wn,et,p)=>{"use strict";p.d(et,{JX:()=>Fe,YE:()=>C,nU:()=>ae});var e=p(5879),t=p(4300),v=p(2495),b=p(6028),g=p(3680),P=p(8645),D=p(3019),m=p(6825),i=p(6814);const c=["mat-sort-header",""];function d(Y,le){if(1&Y){const G=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(G);const ce=e.oxw();return e.KtG(ce._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(G);const ce=e.oxw();return e.KtG(ce._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&Y){const G=e.oxw();e.Q6J("@arrowOpacity",G._getArrowViewState())("@arrowPosition",G._getArrowViewState())("@allowChildren",G._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",G._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",G._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",G._getArrowDirectionState())}}const f=["*"],N=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,g.dB)((0,g.Id)(class{}));let C=(()=>{class Y extends O{get direction(){return this._direction}set direction(G){this._direction=G}get disableClear(){return this._disableClear}set disableClear(G){this._disableClear=(0,v.Ig)(G)}constructor(G){super(),this._defaultOptions=G,this.sortables=new Map,this._stateChanges=new P.x,this.start="asc",this._direction="",this.sortChange=new e.vpe}register(G){this.sortables.set(G.id,G)}deregister(G){this.sortables.delete(G.id)}sort(G){this.active!=G.id?(this.active=G.id,this.direction=G.start?G.start:this.start):this.direction=this.getNextSortDirection(G),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(G){if(!G)return"";let ce=function I(Y,le){let G=["asc","desc"];return"desc"==Y&&G.reverse(),le||G.push(""),G}(G.start||this.start,G?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),ge=ce.indexOf(this.direction)+1;return ge>=ce.length&&(ge=0),ce[ge]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(Se){return new(Se||Y)(e.Y36(N,8))};static#t=this.\u0275dir=e.lG2({type:Y,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]})}return Y})();const T=g.mZ.ENTERING+" "+g.yN.STANDARD_CURVE,L={indicator:(0,m.X$)("indicator",[(0,m.SB)("active-asc, asc",(0,m.oB)({transform:"translateY(0px)"})),(0,m.SB)("active-desc, desc",(0,m.oB)({transform:"translateY(10px)"})),(0,m.eR)("active-asc <=> active-desc",(0,m.jt)(T))]),leftPointer:(0,m.X$)("leftPointer",[(0,m.SB)("active-asc, asc",(0,m.oB)({transform:"rotate(-45deg)"})),(0,m.SB)("active-desc, desc",(0,m.oB)({transform:"rotate(45deg)"})),(0,m.eR)("active-asc <=> active-desc",(0,m.jt)(T))]),rightPointer:(0,m.X$)("rightPointer",[(0,m.SB)("active-asc, asc",(0,m.oB)({transform:"rotate(45deg)"})),(0,m.SB)("active-desc, desc",(0,m.oB)({transform:"rotate(-45deg)"})),(0,m.eR)("active-asc <=> active-desc",(0,m.jt)(T))]),arrowOpacity:(0,m.X$)("arrowOpacity",[(0,m.SB)("desc-to-active, asc-to-active, active",(0,m.oB)({opacity:1})),(0,m.SB)("desc-to-hint, asc-to-hint, hint",(0,m.oB)({opacity:.54})),(0,m.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,m.oB)({opacity:0})),(0,m.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,m.jt)("0ms")),(0,m.eR)("* <=> *",(0,m.jt)(T))]),arrowPosition:(0,m.X$)("arrowPosition",[(0,m.eR)("* => desc-to-hint, * => desc-to-active",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(-25%)"}),(0,m.oB)({transform:"translateY(0)"})]))),(0,m.eR)("* => hint-to-desc, * => active-to-desc",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(0)"}),(0,m.oB)({transform:"translateY(25%)"})]))),(0,m.eR)("* => asc-to-hint, * => asc-to-active",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(25%)"}),(0,m.oB)({transform:"translateY(0)"})]))),(0,m.eR)("* => hint-to-asc, * => active-to-asc",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(0)"}),(0,m.oB)({transform:"translateY(-25%)"})]))),(0,m.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,m.oB)({transform:"translateY(0)"})),(0,m.SB)("hint-to-desc, active-to-desc, desc",(0,m.oB)({transform:"translateY(-25%)"})),(0,m.SB)("hint-to-asc, active-to-asc, asc",(0,m.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,m.X$)("allowChildren",[(0,m.eR)("* <=> *",[(0,m.IO)("@*",(0,m.pV)(),{optional:!0})])])};let y=(()=>{class Y{constructor(){this.changes=new P.x}static#e=this.\u0275fac=function(Se){return new(Se||Y)};static#t=this.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const z={provide:y,deps:[[new e.FiY,new e.tp0,y]],useFactory:function B(Y){return Y||new y}},ne=(0,g.Id)(class{});let ae=(()=>{class Y extends ne{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(G){this._updateSortActionDescription(G)}get disableClear(){return this._disableClear}set disableClear(G){this._disableClear=(0,v.Ig)(G)}constructor(G,Se,ce,ge,Ie,Ce,pe,Ae){super(),this._intl=G,this._changeDetectorRef=Se,this._sort=ce,this._columnDef=ge,this._focusMonitor=Ie,this._elementRef=Ce,this._ariaDescriber=pe,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Ae?.arrowPosition&&(this.arrowPosition=Ae?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(G=>{const Se=!!G;Se!==this._showIndicatorHint&&(this._setIndicatorHintVisible(Se),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(G){this._isDisabled()&&G||(this._showIndicatorHint=G,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(G){this._viewState=G||{},this._disableViewStateAnimation&&(this._viewState={toState:G.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(G){!this._isDisabled()&&(G.keyCode===b.L_||G.keyCode===b.K5)&&(G.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const G=this._viewState.fromState;return(G?`${G}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(G){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,G)),this._sortActionDescription=G}_handleStateChanges(){this._rerenderSubscription=(0,D.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Se){return new(Se||Y)(e.Y36(y),e.Y36(e.sBO),e.Y36(C,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(t.tE),e.Y36(e.SBq),e.Y36(t.$s,8),e.Y36(N,8))};static#t=this.\u0275cmp=e.Xpm({type:Y,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Se,ce){1&Se&&e.NdJ("click",function(){return ce._handleClick()})("keydown",function(Ie){return ce._handleKeydown(Ie)})("mouseenter",function(){return ce._setIndicatorHintVisible(!0)})("mouseleave",function(){return ce._setIndicatorHintVisible(!1)}),2&Se&&(e.uIk("aria-sort",ce._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",ce._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:c,ngContentSelectors:f,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Se,ce){1&Se&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,d,6,6,"div",2),e.qZA()),2&Se&&(e.ekj("mat-sort-header-sorted",ce._isSorted())("mat-sort-header-position-before","before"===ce.arrowPosition),e.uIk("tabindex",ce._isDisabled()?null:0)("role",ce._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",ce._renderArrow()))},dependencies:[i.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[L.indicator,L.leftPointer,L.rightPointer,L.arrowOpacity,L.arrowPosition,L.allowChildren]},changeDetection:0})}return Y})(),Fe=(()=>{class Y{static#e=this.\u0275fac=function(Se){return new(Se||Y)};static#t=this.\u0275mod=e.oAB({type:Y});static#n=this.\u0275inj=e.cJS({providers:[z],imports:[i.ez,g.BQ]})}return Y})()},5313:(Wn,et,p)=>{"use strict";p.d(et,{ev:()=>on,Dz:()=>ze,w1:()=>St,ge:()=>bt,fO:()=>st,XQ:()=>In,as:()=>En,Ee:()=>ni,Gk:()=>$n,nj:()=>Mn,BZ:()=>He,by:()=>At,p0:()=>yn});var e=p(5879),t=p(9388),v=p(2495),b=p(8337),g=p(2831),P=p(799),D=p(6814),m=p(8645),i=p(2459),c=p(5619),d=p(2664),f=p(2096),_=p(9773),S=p(8180);const x=[[["caption"]],[["colgroup"],["col"]]],A=["caption","colgroup, col"];function C(ht){return class extends ht{get sticky(){return this._sticky}set sticky(Tn){const qe=this._sticky;this._sticky=(0,v.Ig)(Tn),this._hasStickyChanged=qe!==this._sticky}hasStickyChanged(){const Tn=this._hasStickyChanged;return this._hasStickyChanged=!1,Tn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Tn){super(...Tn),this._sticky=!1,this._hasStickyChanged=!1}}}const I=new e.OlP("CDK_TABLE");let L=(()=>{class ht{constructor(qe){this.template=qe}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkCellDef",""]]})}return ht})(),y=(()=>{class ht{constructor(qe){this.template=qe}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkHeaderCellDef",""]]})}return ht})(),B=(()=>{class ht{constructor(qe){this.template=qe}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkFooterCellDef",""]]})}return ht})();class z{}const ne=C(z);let ae=(()=>{class ht extends ne{get name(){return this._name}set name(qe){this._setNameInput(qe)}get stickyEnd(){return this._stickyEnd}set stickyEnd(qe){const Ct=this._stickyEnd;this._stickyEnd=(0,v.Ig)(qe),this._hasStickyChanged=Ct!==this._stickyEnd}constructor(qe){super(),this._table=qe,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(qe){qe&&(this._name=qe,this.cssClassFriendlyName=qe.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkColumnDef",""]],contentQueries:function(Ct,Jt,Rt){if(1&Ct&&(e.Suo(Rt,L,5),e.Suo(Rt,y,5),e.Suo(Rt,B,5)),2&Ct){let xn;e.iGM(xn=e.CRH())&&(Jt.cell=xn.first),e.iGM(xn=e.CRH())&&(Jt.headerCell=xn.first),e.iGM(xn=e.CRH())&&(Jt.footerCell=xn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ht}]),e.qOj]})}return ht})();class Fe{constructor(Tn,qe){qe.nativeElement.classList.add(...Tn._columnCssClassName)}}let Y=(()=>{class ht extends Fe{constructor(qe,Ct){super(qe,Ct)}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]})}return ht})(),G=(()=>{class ht extends Fe{constructor(qe,Ct){if(super(qe,Ct),1===qe._table?._elementRef.nativeElement.nodeType){const Jt=qe._table._elementRef.nativeElement.getAttribute("role");Ct.nativeElement.setAttribute("role","grid"===Jt||"treegrid"===Jt?"gridcell":"cell")}}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]})}return ht})();class Se{constructor(){this.tasks=[],this.endTasks=[]}}const ce=new e.OlP("_COALESCED_STYLE_SCHEDULER");let ge=(()=>{class ht{constructor(qe){this._ngZone=qe,this._currentSchedule=null,this._destroyed=new m.x}schedule(qe){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(qe)}scheduleEnd(qe){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(qe)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Se,this._getScheduleObservable().pipe((0,_.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const qe=this._currentSchedule;this._currentSchedule=new Se;for(const Ct of qe.tasks)Ct();for(const Ct of qe.endTasks)Ct()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,i.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,S.q)(1))}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac})}return ht})(),Ce=(()=>{class ht{constructor(qe,Ct){this.template=qe,this._differs=Ct}ngOnChanges(qe){if(!this._columnsDiffer){const Ct=qe.columns&&qe.columns.currentValue||[];this._columnsDiffer=this._differs.find(Ct).create(),this._columnsDiffer.diff(Ct)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(qe){return this instanceof ke?qe.headerCell.template:this instanceof Te?qe.footerCell.template:qe.cell.template}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:ht,features:[e.TTD]})}return ht})();class pe extends Ce{}const Ae=C(pe);let ke=(()=>{class ht extends Ae{constructor(qe,Ct,Jt){super(qe,Ct),this._table=Jt}ngOnChanges(qe){super.ngOnChanges(qe)}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ht})();class he extends Ce{}const we=C(he);let Te=(()=>{class ht extends we{constructor(qe,Ct,Jt){super(qe,Ct),this._table=Jt}ngOnChanges(qe){super.ngOnChanges(qe)}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ht})(),Oe=(()=>{class ht extends Ce{constructor(qe,Ct,Jt){super(qe,Ct),this._table=Jt}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]})}return ht})(),je=(()=>{class ht{static#e=this.mostRecentCellOutlet=null;constructor(qe){this._viewContainer=qe,ht.mostRecentCellOutlet=this}ngOnDestroy(){ht.mostRecentCellOutlet===this&&(ht.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b))};static#n=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkCellOutlet",""]]})}return ht})(),ft=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Jt){1&Ct&&e.GkF(0,0)},dependencies:[je],encapsulation:2})}return ht})(),Re=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Jt){1&Ct&&e.GkF(0,0)},dependencies:[je],encapsulation:2})}return ht})(),be=(()=>{class ht{constructor(qe){this.templateRef=qe,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["ng-template","cdkNoDataRow",""]]})}return ht})();const Q=["top","bottom","left","right"];class ie{constructor(Tn,qe,Ct,Jt,Rt=!0,xn=!0,kt){this._isNativeHtmlTable=Tn,this._stickCellCss=qe,this.direction=Ct,this._coalescedStyleScheduler=Jt,this._isBrowser=Rt,this._needsPositionStickyOnElement=xn,this._positionListener=kt,this._cachedCellWidths=[],this._borderCellCss={top:`${qe}-border-elem-top`,bottom:`${qe}-border-elem-bottom`,left:`${qe}-border-elem-left`,right:`${qe}-border-elem-right`}}clearStickyPositioning(Tn,qe){const Ct=[];for(const Jt of Tn)if(Jt.nodeType===Jt.ELEMENT_NODE){Ct.push(Jt);for(let Rt=0;Rt<Jt.children.length;Rt++)Ct.push(Jt.children[Rt])}this._coalescedStyleScheduler.schedule(()=>{for(const Jt of Ct)this._removeStickyStyle(Jt,qe)})}updateStickyColumns(Tn,qe,Ct,Jt=!0){if(!Tn.length||!this._isBrowser||!qe.some(Kn=>Kn)&&!Ct.some(Kn=>Kn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Rt=Tn[0],xn=Rt.children.length,kt=this._getCellWidths(Rt,Jt),It=this._getStickyStartColumnPositions(kt,qe),Nt=this._getStickyEndColumnPositions(kt,Ct),en=qe.lastIndexOf(!0),An=Ct.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Kn="rtl"===this.direction,Xn=Kn?"right":"left",Ut=Kn?"left":"right";for(const On of Tn)for(let Ne=0;Ne<xn;Ne++){const Ft=On.children[Ne];qe[Ne]&&this._addStickyStyle(Ft,Xn,It[Ne],Ne===en),Ct[Ne]&&this._addStickyStyle(Ft,Ut,Nt[Ne],Ne===An)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===en?[]:kt.slice(0,en+1).map((On,Ne)=>qe[Ne]?On:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===An?[]:kt.slice(An).map((On,Ne)=>Ct[Ne+An]?On:null).reverse()}))})}stickRows(Tn,qe,Ct){if(!this._isBrowser)return;const Jt="bottom"===Ct?Tn.slice().reverse():Tn,Rt="bottom"===Ct?qe.slice().reverse():qe,xn=[],kt=[],It=[];for(let en=0,An=0;en<Jt.length;en++){if(!Rt[en])continue;xn[en]=An;const Kn=Jt[en];It[en]=this._isNativeHtmlTable?Array.from(Kn.children):[Kn];const Xn=Kn.getBoundingClientRect().height;An+=Xn,kt[en]=Xn}const Nt=Rt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let en=0;en<Jt.length;en++){if(!Rt[en])continue;const An=xn[en],Kn=en===Nt;for(const Xn of It[en])this._addStickyStyle(Xn,Ct,An,Kn)}"top"===Ct?this._positionListener?.stickyHeaderRowsUpdated({sizes:kt,offsets:xn,elements:It}):this._positionListener?.stickyFooterRowsUpdated({sizes:kt,offsets:xn,elements:It})})}updateStickyFooterContainer(Tn,qe){if(!this._isNativeHtmlTable)return;const Ct=Tn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{qe.some(Jt=>!Jt)?this._removeStickyStyle(Ct,["bottom"]):this._addStickyStyle(Ct,"bottom",0,!1)})}_removeStickyStyle(Tn,qe){for(const Jt of qe)Tn.style[Jt]="",Tn.classList.remove(this._borderCellCss[Jt]);Q.some(Jt=>-1===qe.indexOf(Jt)&&Tn.style[Jt])?Tn.style.zIndex=this._getCalculatedZIndex(Tn):(Tn.style.zIndex="",this._needsPositionStickyOnElement&&(Tn.style.position=""),Tn.classList.remove(this._stickCellCss))}_addStickyStyle(Tn,qe,Ct,Jt){Tn.classList.add(this._stickCellCss),Jt&&Tn.classList.add(this._borderCellCss[qe]),Tn.style[qe]=`${Ct}px`,Tn.style.zIndex=this._getCalculatedZIndex(Tn),this._needsPositionStickyOnElement&&(Tn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Tn){const qe={top:100,bottom:10,left:1,right:1};let Ct=0;for(const Jt of Q)Tn.style[Jt]&&(Ct+=qe[Jt]);return Ct?`${Ct}`:""}_getCellWidths(Tn,qe=!0){if(!qe&&this._cachedCellWidths.length)return this._cachedCellWidths;const Ct=[],Jt=Tn.children;for(let Rt=0;Rt<Jt.length;Rt++)Ct.push(Jt[Rt].getBoundingClientRect().width);return this._cachedCellWidths=Ct,Ct}_getStickyStartColumnPositions(Tn,qe){const Ct=[];let Jt=0;for(let Rt=0;Rt<Tn.length;Rt++)qe[Rt]&&(Ct[Rt]=Jt,Jt+=Tn[Rt]);return Ct}_getStickyEndColumnPositions(Tn,qe){const Ct=[];let Jt=0;for(let Rt=Tn.length;Rt>0;Rt--)qe[Rt]&&(Ct[Rt]=Jt,Jt+=Tn[Rt]);return Ct}}const _e=new e.OlP("CDK_SPL");let Ee=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","rowOutlet",""]]})}return ht})(),Ge=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","headerRowOutlet",""]]})}return ht})(),ct=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","footerRowOutlet",""]]})}return ht})(),Xe=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","noDataRowOutlet",""]]})}return ht})(),Qe=(()=>{class ht{get trackBy(){return this._trackByFn}set trackBy(qe){this._trackByFn=qe}get dataSource(){return this._dataSource}set dataSource(qe){this._dataSource!==qe&&this._switchDataSource(qe)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(qe){this._multiTemplateDataRows=(0,v.Ig)(qe),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(qe){this._fixedLayout=(0,v.Ig)(qe),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(qe,Ct,Jt,Rt,xn,kt,It,Nt,en,An,Kn,Xn){this._differs=qe,this._changeDetectorRef=Ct,this._elementRef=Jt,this._dir=xn,this._platform=It,this._viewRepeater=Nt,this._coalescedStyleScheduler=en,this._viewportRuler=An,this._stickyPositioningListener=Kn,this._ngZone=Xn,this._onDestroy=new m.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new c.X({start:0,end:Number.MAX_VALUE}),Rt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=kt,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((qe,Ct)=>this.trackBy?this.trackBy(Ct.dataIndex,Ct.data):Ct),this._viewportRuler.change().pipe((0,_.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Ct=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Ct,this._forceRecalculateCellWidths=Ct,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(qe=>{qe.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,b.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const qe=this._dataDiffer.diff(this._renderRows);if(!qe)return this._updateNoDataRow(),void this.contentChanged.next();const Ct=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(qe,Ct,(Jt,Rt,xn)=>this._getEmbeddedViewArgs(Jt.item,xn),Jt=>Jt.item.data,Jt=>{1===Jt.operation&&Jt.context&&this._renderCellTemplateForItem(Jt.record.item.rowDef,Jt.context)}),this._updateRowIndexContext(),qe.forEachIdentityChange(Jt=>{Ct.get(Jt.currentIndex).context.$implicit=Jt.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,S.q)(1),(0,_.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(qe){this._customColumnDefs.add(qe)}removeColumnDef(qe){this._customColumnDefs.delete(qe)}addRowDef(qe){this._customRowDefs.add(qe)}removeRowDef(qe){this._customRowDefs.delete(qe)}addHeaderRowDef(qe){this._customHeaderRowDefs.add(qe),this._headerRowDefChanged=!0}removeHeaderRowDef(qe){this._customHeaderRowDefs.delete(qe),this._headerRowDefChanged=!0}addFooterRowDef(qe){this._customFooterRowDefs.add(qe),this._footerRowDefChanged=!0}removeFooterRowDef(qe){this._customFooterRowDefs.delete(qe),this._footerRowDefChanged=!0}setNoDataRow(qe){this._customNoDataRow=qe}updateStickyHeaderRowStyles(){const qe=this._getRenderedRows(this._headerRowOutlet),Jt=this._elementRef.nativeElement.querySelector("thead");Jt&&(Jt.style.display=qe.length?"":"none");const Rt=this._headerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(qe,["top"]),this._stickyStyler.stickRows(qe,Rt,"top"),this._headerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyFooterRowStyles(){const qe=this._getRenderedRows(this._footerRowOutlet),Jt=this._elementRef.nativeElement.querySelector("tfoot");Jt&&(Jt.style.display=qe.length?"":"none");const Rt=this._footerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(qe,["bottom"]),this._stickyStyler.stickRows(qe,Rt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Rt),this._footerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyColumnStyles(){const qe=this._getRenderedRows(this._headerRowOutlet),Ct=this._getRenderedRows(this._rowOutlet),Jt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...qe,...Ct,...Jt],["left","right"]),this._stickyColumnStylesNeedReset=!1),qe.forEach((Rt,xn)=>{this._addStickyColumnStyles([Rt],this._headerRowDefs[xn])}),this._rowDefs.forEach(Rt=>{const xn=[];for(let kt=0;kt<Ct.length;kt++)this._renderRows[kt].rowDef===Rt&&xn.push(Ct[kt]);this._addStickyColumnStyles(xn,Rt)}),Jt.forEach((Rt,xn)=>{this._addStickyColumnStyles([Rt],this._footerRowDefs[xn])}),Array.from(this._columnDefsByName.values()).forEach(Rt=>Rt.resetStickyChanged())}_getAllRenderRows(){const qe=[],Ct=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Jt=0;Jt<this._data.length;Jt++){let Rt=this._data[Jt];const xn=this._getRenderRowsForData(Rt,Jt,Ct.get(Rt));this._cachedRenderRowsMap.has(Rt)||this._cachedRenderRowsMap.set(Rt,new WeakMap);for(let kt=0;kt<xn.length;kt++){let It=xn[kt];const Nt=this._cachedRenderRowsMap.get(It.data);Nt.has(It.rowDef)?Nt.get(It.rowDef).push(It):Nt.set(It.rowDef,[It]),qe.push(It)}}return qe}_getRenderRowsForData(qe,Ct,Jt){return this._getRowDefs(qe,Ct).map(xn=>{const kt=Jt&&Jt.has(xn)?Jt.get(xn):[];if(kt.length){const It=kt.shift();return It.dataIndex=Ct,It}return{data:qe,rowDef:xn,dataIndex:Ct}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Ct=>{this._columnDefsByName.has(Ct.name),this._columnDefsByName.set(Ct.name,Ct)})}_cacheRowDefs(){this._headerRowDefs=yt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=yt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=yt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const qe=this._rowDefs.filter(Ct=>!Ct.when);this._defaultRowDef=qe[0]}_renderUpdatedColumns(){const qe=(xn,kt)=>xn||!!kt.getColumnsDiff(),Ct=this._rowDefs.reduce(qe,!1);Ct&&this._forceRenderDataRows();const Jt=this._headerRowDefs.reduce(qe,!1);Jt&&this._forceRenderHeaderRows();const Rt=this._footerRowDefs.reduce(qe,!1);return Rt&&this._forceRenderFooterRows(),Ct||Jt||Rt}_switchDataSource(qe){this._data=[],(0,b.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),qe||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=qe}_observeRenderChanges(){if(!this.dataSource)return;let qe;(0,b.Z9)(this.dataSource)?qe=this.dataSource.connect(this):(0,d.b)(this.dataSource)?qe=this.dataSource:Array.isArray(this.dataSource)&&(qe=(0,f.of)(this.dataSource)),this._renderChangeSubscription=qe.pipe((0,_.R)(this._onDestroy)).subscribe(Ct=>{this._data=Ct||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((qe,Ct)=>this._renderRow(this._headerRowOutlet,qe,Ct)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((qe,Ct)=>this._renderRow(this._footerRowOutlet,qe,Ct)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(qe,Ct){const Jt=Array.from(Ct.columns||[]).map(kt=>this._columnDefsByName.get(kt)),Rt=Jt.map(kt=>kt.sticky),xn=Jt.map(kt=>kt.stickyEnd);this._stickyStyler.updateStickyColumns(qe,Rt,xn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(qe){const Ct=[];for(let Jt=0;Jt<qe.viewContainer.length;Jt++){const Rt=qe.viewContainer.get(Jt);Ct.push(Rt.rootNodes[0])}return Ct}_getRowDefs(qe,Ct){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Jt=[];if(this.multiTemplateDataRows)Jt=this._rowDefs.filter(Rt=>!Rt.when||Rt.when(Ct,qe));else{let Rt=this._rowDefs.find(xn=>xn.when&&xn.when(Ct,qe))||this._defaultRowDef;Rt&&Jt.push(Rt)}return Jt}_getEmbeddedViewArgs(qe,Ct){return{templateRef:qe.rowDef.template,context:{$implicit:qe.data},index:Ct}}_renderRow(qe,Ct,Jt,Rt={}){const xn=qe.viewContainer.createEmbeddedView(Ct.template,Rt,Jt);return this._renderCellTemplateForItem(Ct,Rt),xn}_renderCellTemplateForItem(qe,Ct){for(let Jt of this._getCellTemplates(qe))je.mostRecentCellOutlet&&je.mostRecentCellOutlet._viewContainer.createEmbeddedView(Jt,Ct);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const qe=this._rowOutlet.viewContainer;for(let Ct=0,Jt=qe.length;Ct<Jt;Ct++){const xn=qe.get(Ct).context;xn.count=Jt,xn.first=0===Ct,xn.last=Ct===Jt-1,xn.even=Ct%2==0,xn.odd=!xn.even,this.multiTemplateDataRows?(xn.dataIndex=this._renderRows[Ct].dataIndex,xn.renderIndex=Ct):xn.index=this._renderRows[Ct].dataIndex}}_getCellTemplates(qe){return qe&&qe.columns?Array.from(qe.columns,Ct=>{const Jt=this._columnDefsByName.get(Ct);return qe.extractCellTemplate(Jt)}):[]}_applyNativeTableSections(){const qe=this._document.createDocumentFragment(),Ct=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Jt of Ct){const Rt=this._document.createElement(Jt.tag);Rt.setAttribute("role","rowgroup");for(const xn of Jt.outlets)Rt.appendChild(xn.elementRef.nativeElement);qe.appendChild(Rt)}this._elementRef.nativeElement.appendChild(qe)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const qe=(Ct,Jt)=>Ct||Jt.hasStickyChanged();this._headerRowDefs.reduce(qe,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(qe,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(qe,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,f.of)()).pipe((0,_.R)(this._onDestroy)).subscribe(Ct=>{this._stickyStyler.direction=Ct,this.updateStickyColumnStyles()})}_getOwnDefs(qe){return qe.filter(Ct=>!Ct._table||Ct._table===this)}_updateNoDataRow(){const qe=this._customNoDataRow||this._noDataRow;if(!qe)return;const Ct=0===this._rowOutlet.viewContainer.length;if(Ct===this._isShowingNoDataRow)return;const Jt=this._noDataRowOutlet.viewContainer;if(Ct){const Rt=Jt.createEmbeddedView(qe.templateRef),xn=Rt.rootNodes[0];1===Rt.rootNodes.length&&xn?.nodeType===this._document.ELEMENT_NODE&&(xn.setAttribute("role","row"),xn.classList.add(qe._contentClassName))}else Jt.clear();this._isShowingNoDataRow=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(t.Is,8),e.Y36(D.K0),e.Y36(g.t4),e.Y36(b.k),e.Y36(ce),e.Y36(P.rL),e.Y36(_e,12),e.Y36(e.R0b,8))};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Ct,Jt,Rt){if(1&Ct&&(e.Suo(Rt,be,5),e.Suo(Rt,ae,5),e.Suo(Rt,Oe,5),e.Suo(Rt,ke,5),e.Suo(Rt,Te,5)),2&Ct){let xn;e.iGM(xn=e.CRH())&&(Jt._noDataRow=xn.first),e.iGM(xn=e.CRH())&&(Jt._contentColumnDefs=xn),e.iGM(xn=e.CRH())&&(Jt._contentRowDefs=xn),e.iGM(xn=e.CRH())&&(Jt._contentHeaderRowDefs=xn),e.iGM(xn=e.CRH())&&(Jt._contentFooterRowDefs=xn)}},viewQuery:function(Ct,Jt){if(1&Ct&&(e.Gf(Ee,7),e.Gf(Ge,7),e.Gf(ct,7),e.Gf(Xe,7)),2&Ct){let Rt;e.iGM(Rt=e.CRH())&&(Jt._rowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Jt._headerRowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Jt._footerRowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Jt._noDataRowOutlet=Rt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Ct,Jt){2&Ct&&e.ekj("cdk-table-fixed-layout",Jt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:I,useExisting:ht},{provide:b.k,useClass:b.yy},{provide:ce,useClass:ge},{provide:_e,useValue:null}])],ngContentSelectors:A,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ct,Jt){1&Ct&&(e.F$t(x),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ee,Ge,ct,Xe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ht})();function yt(ht,Tn){return ht.concat(Array.from(Tn))}let We=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275mod=e.oAB({type:ht});static#n=this.\u0275inj=e.cJS({imports:[P.Cl]})}return ht})();var Et=p(3680),Wt=p(3019),Qt=p(2572),qt=p(7398);const un=[[["caption"]],[["colgroup"],["col"]]],fn=["caption","colgroup, col"];let He=(()=>{class ht extends Qe{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Ct,Jt){2&Ct&&e.ekj("mdc-table-fixed-layout",Jt.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:Qe,useExisting:ht},{provide:I,useExisting:ht},{provide:ce,useClass:ge},{provide:b.k,useClass:b.yy},{provide:_e,useValue:null}]),e.qOj],ngContentSelectors:fn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ct,Jt){1&Ct&&(e.F$t(un),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ee,Ge,ct,Xe],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ht})(),ze=(()=>{class ht extends L{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:L,useExisting:ht}]),e.qOj]})}return ht})(),st=(()=>{class ht extends y{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:y,useExisting:ht}]),e.qOj]})}return ht})(),St=(()=>{class ht extends ae{get name(){return this._name}set name(qe){this._setNameInput(qe)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:ae,useExisting:ht},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ht}]),e.qOj]})}return ht})(),bt=(()=>{class ht extends Y{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.qOj]})}return ht})(),on=(()=>{class ht extends G{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.qOj]})}return ht})(),En=(()=>{class ht extends ke{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:ke,useExisting:ht}]),e.qOj]})}return ht})(),Mn=(()=>{class ht extends Oe{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:Oe,useExisting:ht}]),e.qOj]})}return ht})(),In=(()=>{class ht extends ft{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:ft,useExisting:ht}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Jt){1&Ct&&e.GkF(0,0)},dependencies:[je],encapsulation:2})}return ht})(),$n=(()=>{class ht extends Re{static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e._Bn([{provide:Re,useExisting:ht}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Jt){1&Ct&&e.GkF(0,0)},dependencies:[je],encapsulation:2})}return ht})(),ni=(()=>{class ht extends be{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let qe;return function(Jt){return(qe||(qe=e.n5z(ht)))(Jt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:be,useExisting:ht}]),e.qOj]})}return ht})(),yn=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275mod=e.oAB({type:ht});static#n=this.\u0275inj=e.cJS({imports:[Et.BQ,We,Et.BQ]})}return ht})();class _n extends b.o2{get data(){return this._data.value}set data(Tn){Tn=Array.isArray(Tn)?Tn:[],this._data.next(Tn),this._renderChangesSubscription||this._filterData(Tn)}get filter(){return this._filter.value}set filter(Tn){this._filter.next(Tn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Tn){this._sort=Tn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Tn){this._paginator=Tn,this._updateChangeSubscription()}constructor(Tn=[]){super(),this._renderData=new c.X([]),this._filter=new c.X(""),this._internalPageChanges=new m.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(qe,Ct)=>{const Jt=qe[Ct];if((0,v.t6)(Jt)){const Rt=Number(Jt);return Rt<9007199254740991?Rt:Jt}return Jt},this.sortData=(qe,Ct)=>{const Jt=Ct.active,Rt=Ct.direction;return Jt&&""!=Rt?qe.sort((xn,kt)=>{let It=this.sortingDataAccessor(xn,Jt),Nt=this.sortingDataAccessor(kt,Jt);const en=typeof It,An=typeof Nt;en!==An&&("number"===en&&(It+=""),"number"===An&&(Nt+=""));let Kn=0;return null!=It&&null!=Nt?It>Nt?Kn=1:It<Nt&&(Kn=-1):null!=It?Kn=1:null!=Nt&&(Kn=-1),Kn*("asc"==Rt?1:-1)}):qe},this.filterPredicate=(qe,Ct)=>{const Jt=Object.keys(qe).reduce((xn,kt)=>xn+qe[kt]+"\u25ec","").toLowerCase(),Rt=Ct.trim().toLowerCase();return-1!=Jt.indexOf(Rt)},this._data=new c.X(Tn),this._updateChangeSubscription()}_updateChangeSubscription(){const Tn=this._sort?(0,Wt.T)(this._sort.sortChange,this._sort.initialized):(0,f.of)(null),qe=this._paginator?(0,Wt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,f.of)(null),Jt=(0,Qt.a)([this._data,this._filter]).pipe((0,qt.U)(([kt])=>this._filterData(kt))),Rt=(0,Qt.a)([Jt,Tn]).pipe((0,qt.U)(([kt])=>this._orderData(kt))),xn=(0,Qt.a)([Rt,qe]).pipe((0,qt.U)(([kt])=>this._pageData(kt)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=xn.subscribe(kt=>this._renderData.next(kt))}_filterData(Tn){return this.filteredData=null==this.filter||""===this.filter?Tn:Tn.filter(qe=>this.filterPredicate(qe,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Tn){return this.sort?this.sortData(Tn.slice(),this.sort):Tn}_pageData(Tn){if(!this.paginator)return Tn;const qe=this.paginator.pageIndex*this.paginator.pageSize;return Tn.slice(qe,qe+this.paginator.pageSize)}_updatePaginator(Tn){Promise.resolve().then(()=>{const qe=this.paginator;if(qe&&(qe.length=Tn,qe.pageIndex>0)){const Ct=Math.ceil(qe.length/qe.pageSize)-1||0,Jt=Math.min(qe.pageIndex,Ct);Jt!==qe.pageIndex&&(qe.pageIndex=Jt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class At extends _n{}},2596:(Wn,et,p)=>{"use strict";p.d(et,{AV:()=>pe,gM:()=>ce});var e=p(9773),t=p(8180),v=p(2495),b=p(6028),g=p(5879),P=p(6814),D=p(2831),m=p(4300),i=p(9388),c=p(3651),d=p(799),f=p(8484),_=p(8645),x=(p(6825),p(3680));const A=["tooltip"],C=new g.OlP("mat-tooltip-scroll-strategy"),T={provide:C,deps:[c.aV],useFactory:function I(Ae){return()=>Ae.scrollStrategies.reposition({scrollThrottle:20})}},y=new g.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function L(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),z="tooltip-panel",ne=(0,D.i$)({passive:!0});let Se=(()=>{class Ae{get position(){return this._position}set position(he){he!==this._position&&(this._position=he,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(he){this._positionAtOrigin=(0,v.Ig)(he),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(he){this._disabled=(0,v.Ig)(he),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(he){this._showDelay=(0,v.su)(he)}get hideDelay(){return this._hideDelay}set hideDelay(he){this._hideDelay=(0,v.su)(he),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(he){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=he?String(he).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(he){this._tooltipClass=he,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,ye){this._overlay=he,this._elementRef=we,this._scrollDispatcher=Te,this._viewContainerRef=Oe,this._ngZone=je,this._platform=ft,this._ariaDescriber=Ze,this._focusMonitor=Re,this._dir=Q,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new _.x,this._scrollStrategy=be,this._document=ye,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures)),Q.change.pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.R)(this._destroyed)).subscribe(he=>{he?"keyboard"===he&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const he=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([we,Te])=>{he.removeEventListener(we,Te,ne)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(he,this.message,"tooltip"),this._focusMonitor.stopMonitoring(he)}show(he=this.showDelay,we){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Te=this._createOverlay(we);this._detach(),this._portal=this._portal||new f.C5(this._tooltipComponent,this._viewContainerRef);const Oe=this._tooltipInstance=Te.attach(this._portal).instance;Oe._triggerElement=this._elementRef.nativeElement,Oe._mouseLeaveHideDelay=this._hideDelay,Oe.afterHidden().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Oe.show(he)}hide(he=this.hideDelay){const we=this._tooltipInstance;we&&(we.isVisible()?we.hide(he):(we._cancelPendingAnimations(),this._detach()))}toggle(he){this._isTooltipVisible()?this.hide():this.show(void 0,he)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(he){if(this._overlayRef){const Oe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!he)&&Oe._origin instanceof g.SBq)return this._overlayRef;this._detach()}const we=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Te=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&he||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(we);return Te.positionChanges.pipe((0,e.R)(this._destroyed)).subscribe(Oe=>{this._updateCurrentPositionClass(Oe.connectionPair),this._tooltipInstance&&Oe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Te,panelClass:`${this._cssClassPrefix}-${z}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.R)(this._destroyed)).subscribe(Oe=>{this._isTooltipVisible()&&Oe.keyCode===b.hY&&!(0,b.Vb)(Oe)&&(Oe.preventDefault(),Oe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(he){const we=he.getConfig().positionStrategy,Te=this._getOrigin(),Oe=this._getOverlayPosition();we.withPositions([this._addOffset({...Te.main,...Oe.main}),this._addOffset({...Te.fallback,...Oe.fallback})])}_addOffset(he){return he}_getOrigin(){const he=!this._dir||"ltr"==this._dir.value,we=this.position;let Te;"above"==we||"below"==we?Te={originX:"center",originY:"above"==we?"top":"bottom"}:"before"==we||"left"==we&&he||"right"==we&&!he?Te={originX:"start",originY:"center"}:("after"==we||"right"==we&&he||"left"==we&&!he)&&(Te={originX:"end",originY:"center"});const{x:Oe,y:je}=this._invertPosition(Te.originX,Te.originY);return{main:Te,fallback:{originX:Oe,originY:je}}}_getOverlayPosition(){const he=!this._dir||"ltr"==this._dir.value,we=this.position;let Te;"above"==we?Te={overlayX:"center",overlayY:"bottom"}:"below"==we?Te={overlayX:"center",overlayY:"top"}:"before"==we||"left"==we&&he||"right"==we&&!he?Te={overlayX:"end",overlayY:"center"}:("after"==we||"right"==we&&he||"left"==we&&!he)&&(Te={overlayX:"start",overlayY:"center"});const{x:Oe,y:je}=this._invertPosition(Te.overlayX,Te.overlayY);return{main:Te,fallback:{overlayX:Oe,overlayY:je}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,e.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(he){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=he,this._tooltipInstance._markForCheck())}_invertPosition(he,we){return"above"===this.position||"below"===this.position?"top"===we?we="bottom":"bottom"===we&&(we="top"):"end"===he?he="start":"start"===he&&(he="end"),{x:he,y:we}}_updateCurrentPositionClass(he){const{overlayY:we,originX:Te,originY:Oe}=he;let je;if(je="center"===we?this._dir&&"rtl"===this._dir.value?"end"===Te?"left":"right":"start"===Te?"left":"right":"bottom"===we&&"top"===Oe?"above":"below",je!==this._currentPosition){const ft=this._overlayRef;if(ft){const Ze=`${this._cssClassPrefix}-${z}-`;ft.removePanelClass(Ze+this._currentPosition),ft.addPanelClass(Ze+je)}this._currentPosition=je}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",he=>{let we;this._setupPointerExitEventsIfNeeded(),void 0!==he.x&&void 0!==he.y&&(we=he),this.show(void 0,we)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",he=>{const we=he.targetTouches?.[0],Te=we?{x:we.clientX,y:we.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Te),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const he=[];if(this._platformSupportsMouseEvents())he.push(["mouseleave",we=>{const Te=we.relatedTarget;(!Te||!this._overlayRef?.overlayElement.contains(Te))&&this.hide()}],["wheel",we=>this._wheelListener(we)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const we=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};he.push(["touchend",we],["touchcancel",we])}this._addListeners(he),this._passiveListeners.push(...he)}_addListeners(he){he.forEach(([we,Te])=>{this._elementRef.nativeElement.addEventListener(we,Te,ne)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(he){if(this._isTooltipVisible()){const we=this._document.elementFromPoint(he.clientX,he.clientY),Te=this._elementRef.nativeElement;we!==Te&&!Te.contains(we)&&this.hide()}}_disableNativeGesturesIfNecessary(){const he=this.touchGestures;if("off"!==he){const we=this._elementRef.nativeElement,Te=we.style;("on"===he||"INPUT"!==we.nodeName&&"TEXTAREA"!==we.nodeName)&&(Te.userSelect=Te.msUserSelect=Te.webkitUserSelect=Te.MozUserSelect="none"),("on"===he||!we.draggable)&&(Te.webkitUserDrag="none"),Te.touchAction="none",Te.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(we){g.$Z()};static#t=this.\u0275dir=g.lG2({type:Ae,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Ae})(),ce=(()=>{class Ae extends Se{constructor(he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,ye){super(he,we,Te,Oe,je,ft,Ze,Re,be,Q,ie,ye),this._tooltipComponent=Ie,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(he){const Te=!this._dir||"ltr"==this._dir.value;return"top"===he.originY?he.offsetY=-8:"bottom"===he.originY?he.offsetY=8:"start"===he.originX?he.offsetX=Te?-8:8:"end"===he.originX&&(he.offsetX=Te?8:-8),he}static#e=this.\u0275fac=function(we){return new(we||Ae)(g.Y36(c.aV),g.Y36(g.SBq),g.Y36(d.mF),g.Y36(g.s_b),g.Y36(g.R0b),g.Y36(D.t4),g.Y36(m.$s),g.Y36(m.tE),g.Y36(C),g.Y36(i.Is,8),g.Y36(y,8),g.Y36(P.K0))};static#t=this.\u0275dir=g.lG2({type:Ae,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(we,Te){2&we&&g.ekj("mat-mdc-tooltip-disabled",Te.disabled)},exportAs:["matTooltip"],features:[g.qOj]})}return Ae})(),ge=(()=>{class Ae{constructor(he,we){this._changeDetectorRef=he,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new _.x,this._animationsDisabled="NoopAnimations"===we}show(he){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},he)}hide(he){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},he)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:he}){(!he||!this._triggerElement.contains(he))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:he}){(he===this._showAnimation||he===this._hideAnimation)&&this._finalizeAnimation(he===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(he){he?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(he){const we=this._tooltip.nativeElement,Te=this._showAnimation,Oe=this._hideAnimation;if(we.classList.remove(he?Oe:Te),we.classList.add(he?Te:Oe),this._isVisible=he,he&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const je=getComputedStyle(we);("0s"===je.getPropertyValue("animation-duration")||"none"===je.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}he&&this._onShow(),this._animationsDisabled&&(we.classList.add("_mat-animation-noopable"),this._finalizeAnimation(he))}static#e=this.\u0275fac=function(we){return new(we||Ae)(g.Y36(g.sBO),g.Y36(g.QbO,8))};static#t=this.\u0275dir=g.lG2({type:Ae})}return Ae})(),Ie=(()=>{class Ae extends ge{constructor(he,we,Te){super(he,Te),this._elementRef=we,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const he=this._elementRef.nativeElement.getBoundingClientRect();return he.height>24&&he.width>=200}static#e=this.\u0275fac=function(we){return new(we||Ae)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.QbO,8))};static#t=this.\u0275cmp=g.Xpm({type:Ae,selectors:[["mat-tooltip-component"]],viewQuery:function(we,Te){if(1&we&&g.Gf(A,7),2&we){let Oe;g.iGM(Oe=g.CRH())&&(Te._tooltip=Oe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(we,Te){1&we&&g.NdJ("mouseleave",function(je){return Te._handleMouseLeave(je)}),2&we&&g.Udp("zoom",Te.isVisible()?1:null)},features:[g.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(we,Te){1&we&&(g.TgZ(0,"div",0,1),g.NdJ("animationend",function(je){return Te._handleAnimationEnd(je)}),g.TgZ(2,"div",2),g._uU(3),g.qZA()()),2&we&&(g.ekj("mdc-tooltip--multiline",Te._isMultiline),g.Q6J("ngClass",Te.tooltipClass),g.xp6(3),g.Oqu(Te.message))},dependencies:[P.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Ae})(),pe=(()=>{class Ae{static#e=this.\u0275fac=function(we){return new(we||Ae)};static#t=this.\u0275mod=g.oAB({type:Ae});static#n=this.\u0275inj=g.cJS({providers:[T],imports:[m.rt,P.ez,c.U8,x.BQ,x.BQ,d.ZD]})}return Ae})()},6593:(Wn,et,p)=>{"use strict";p.d(et,{Dx:()=>re,H7:()=>Wt,b2:()=>ye,q6:()=>Re,se:()=>ne});var e=p(5879),t=p(6814);class v extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b extends v{static makeCurrent(){(0,t.HT)(new b)}onAndCancel(St,bt,xt){return St.addEventListener(bt,xt),()=>{St.removeEventListener(bt,xt)}}dispatchEvent(St,bt){St.dispatchEvent(bt)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,bt){return(bt=bt||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,bt){return"window"===bt?window:"document"===bt?St:"body"===bt?St.body:null}getBaseHref(St){const bt=function P(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==bt?null:function m(at){D=D||document.createElement("a"),D.setAttribute("href",at);const St=D.pathname;return"/"===St.charAt(0)?St:`/${St}`}(bt)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,t.Mx)(document.cookie,St)}}let D,g=null,c=(()=>{class at{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(xt){return new(xt||at)};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const d=new e.OlP("EventManagerPlugins");let f=(()=>{class at{constructor(bt,xt){this._zone=xt,this._eventNameToPlugin=new Map,bt.forEach(on=>{on.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,xt,on){return this._findPluginFor(xt).addEventListener(bt,xt,on)}getZone(){return this._zone}_findPluginFor(bt){let xt=this._eventNameToPlugin.get(bt);if(xt)return xt;if(xt=this._plugins.find(En=>En.supports(bt)),!xt)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(bt,xt),xt}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(d),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();class _{constructor(St){this._doc=St}}const S="ng-app-id";let x=(()=>{class at{constructor(bt,xt,on,En={}){this.doc=bt,this.appId=xt,this.nonce=on,this.platformId=En,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(En),this.resetHostNodes()}addStyles(bt){for(const xt of bt)1===this.changeUsageCount(xt,1)&&this.onStyleAdded(xt)}removeStyles(bt){for(const xt of bt)this.changeUsageCount(xt,-1)<=0&&this.onStyleRemoved(xt)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(xt=>xt.remove()),bt.clear());for(const xt of this.getAllStyles())this.onStyleRemoved(xt);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const xt of this.getAllStyles())this.addStyleToHost(bt,xt)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const xt of this.hostNodes)this.addStyleToHost(xt,bt)}onStyleRemoved(bt){const xt=this.styleRef;xt.get(bt)?.elements?.forEach(on=>on.remove()),xt.delete(bt)}collectServerRenderedStyles(){const bt=this.doc.head?.querySelectorAll(`style[${S}="${this.appId}"]`);if(bt?.length){const xt=new Map;return bt.forEach(on=>{null!=on.textContent&&xt.set(on.textContent,on)}),xt}return null}changeUsageCount(bt,xt){const on=this.styleRef;if(on.has(bt)){const En=on.get(bt);return En.usage+=xt,En.usage}return on.set(bt,{usage:xt,elements:[]}),xt}getStyleElement(bt,xt){const on=this.styleNodesInDOM,En=on?.get(xt);if(En?.parentNode===bt)return on.delete(xt),En.removeAttribute(S),En;{const tn=this.doc.createElement("style");return this.nonce&&tn.setAttribute("nonce",this.nonce),tn.textContent=xt,this.platformIsServer&&tn.setAttribute(S,this.appId),tn}}addStyleToHost(bt,xt){const on=this.getStyleElement(bt,xt);bt.appendChild(on);const En=this.styleRef,tn=En.get(xt)?.elements;tn?tn.push(on):En.set(xt,{elements:[on],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(t.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},N=/%COMP%/g,O="%COMP%",C=`_nghost-${O}`,I=`_ngcontent-${O}`,L=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function z(at,St){return St.map(bt=>bt.replace(N,at))}let ne=(()=>{class at{constructor(bt,xt,on,En,tn,Mn,In,Nn=null){this.eventManager=bt,this.sharedStylesHost=xt,this.appId=on,this.removeStylesOnCompDestroy=En,this.doc=tn,this.platformId=Mn,this.ngZone=In,this.nonce=Nn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Mn),this.defaultRenderer=new ae(bt,tn,In,this.platformIsServer)}createRenderer(bt,xt){if(!bt||!xt)return this.defaultRenderer;this.platformIsServer&&xt.encapsulation===e.ifc.ShadowDom&&(xt={...xt,encapsulation:e.ifc.Emulated});const on=this.getOrCreateRenderer(bt,xt);return on instanceof ce?on.applyToHost(bt):on instanceof Se&&on.applyStyles(),on}getOrCreateRenderer(bt,xt){const on=this.rendererByCompId;let En=on.get(xt.id);if(!En){const tn=this.doc,Mn=this.ngZone,In=this.eventManager,Nn=this.sharedStylesHost,$n=this.removeStylesOnCompDestroy,ni=this.platformIsServer;switch(xt.encapsulation){case e.ifc.Emulated:En=new ce(In,Nn,xt,this.appId,$n,tn,Mn,ni);break;case e.ifc.ShadowDom:return new G(In,Nn,bt,xt,tn,Mn,this.nonce,ni);default:En=new Se(In,Nn,xt,$n,tn,Mn,ni)}on.set(xt.id,En)}return En}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(f),e.LFG(x),e.LFG(e.AFp),e.LFG(L),e.LFG(t.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();class ae{constructor(St,bt,xt,on){this.eventManager=St,this.doc=bt,this.ngZone=xt,this.platformIsServer=on,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(St,bt){return bt?this.doc.createElementNS(A[bt]||bt,St):this.doc.createElement(St)}createComment(St){return this.doc.createComment(St)}createText(St){return this.doc.createTextNode(St)}appendChild(St,bt){(le(St)?St.content:St).appendChild(bt)}insertBefore(St,bt,xt){St&&(le(St)?St.content:St).insertBefore(bt,xt)}removeChild(St,bt){St&&St.removeChild(bt)}selectRootElement(St,bt){let xt="string"==typeof St?this.doc.querySelector(St):St;if(!xt)throw new e.vHH(-5104,!1);return bt||(xt.textContent=""),xt}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,bt,xt,on){if(on){bt=on+":"+bt;const En=A[on];En?St.setAttributeNS(En,bt,xt):St.setAttribute(bt,xt)}else St.setAttribute(bt,xt)}removeAttribute(St,bt,xt){if(xt){const on=A[xt];on?St.removeAttributeNS(on,bt):St.removeAttribute(`${xt}:${bt}`)}else St.removeAttribute(bt)}addClass(St,bt){St.classList.add(bt)}removeClass(St,bt){St.classList.remove(bt)}setStyle(St,bt,xt,on){on&(e.JOm.DashCase|e.JOm.Important)?St.style.setProperty(bt,xt,on&e.JOm.Important?"important":""):St.style[bt]=xt}removeStyle(St,bt,xt){xt&e.JOm.DashCase?St.style.removeProperty(bt):St.style[bt]=""}setProperty(St,bt,xt){St[bt]=xt}setValue(St,bt){St.nodeValue=bt}listen(St,bt,xt){if("string"==typeof St&&!(St=(0,t.q)().getGlobalEventTarget(this.doc,St)))throw new Error(`Unsupported event target ${St} for event ${bt}`);return this.eventManager.addEventListener(St,bt,this.decoratePreventDefault(xt))}decoratePreventDefault(St){return bt=>{if("__ngUnwrap__"===bt)return St;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>St(bt)):St(bt))&&bt.preventDefault()}}}function le(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class G extends ae{constructor(St,bt,xt,on,En,tn,Mn,In){super(St,En,tn,In),this.sharedStylesHost=bt,this.hostEl=xt,this.shadowRoot=xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nn=z(on.id,on.styles);for(const $n of Nn){const ni=document.createElement("style");Mn&&ni.setAttribute("nonce",Mn),ni.textContent=$n,this.shadowRoot.appendChild(ni)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}appendChild(St,bt){return super.appendChild(this.nodeOrShadowRoot(St),bt)}insertBefore(St,bt,xt){return super.insertBefore(this.nodeOrShadowRoot(St),bt,xt)}removeChild(St,bt){return super.removeChild(this.nodeOrShadowRoot(St),bt)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends ae{constructor(St,bt,xt,on,En,tn,Mn,In){super(St,En,tn,Mn),this.sharedStylesHost=bt,this.removeStylesOnCompDestroy=on,this.styles=In?z(In,xt.styles):xt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ce extends Se{constructor(St,bt,xt,on,En,tn,Mn,In){const Nn=on+"-"+xt.id;super(St,bt,xt,En,tn,Mn,In,Nn),this.contentAttr=function y(at){return I.replace(N,at)}(Nn),this.hostAttr=function B(at){return C.replace(N,at)}(Nn)}applyToHost(St){this.applyStyles(),this.setAttribute(St,this.hostAttr,"")}createElement(St,bt){const xt=super.createElement(St,bt);return super.setAttribute(xt,this.contentAttr,""),xt}}let ge=(()=>{class at extends _{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,xt,on){return bt.addEventListener(xt,on,!1),()=>this.removeEventListener(bt,xt,on)}removeEventListener(bt,xt,on){return bt.removeEventListener(xt,on)}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const Ie=["alt","control","meta","shift"],Ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pe={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let Ae=(()=>{class at extends _{constructor(bt){super(bt)}supports(bt){return null!=at.parseEventName(bt)}addEventListener(bt,xt,on){const En=at.parseEventName(xt),tn=at.eventCallback(En.fullKey,on,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(bt,En.domEventName,tn))}static parseEventName(bt){const xt=bt.toLowerCase().split("."),on=xt.shift();if(0===xt.length||"keydown"!==on&&"keyup"!==on)return null;const En=at._normalizeKey(xt.pop());let tn="",Mn=xt.indexOf("code");if(Mn>-1&&(xt.splice(Mn,1),tn="code."),Ie.forEach(Nn=>{const $n=xt.indexOf(Nn);$n>-1&&(xt.splice($n,1),tn+=Nn+".")}),tn+=En,0!=xt.length||0===En.length)return null;const In={};return In.domEventName=on,In.fullKey=tn,In}static matchEventFullKeyCode(bt,xt){let on=Ce[bt.key]||bt.key,En="";return xt.indexOf("code.")>-1&&(on=bt.code,En="code."),!(null==on||!on)&&(on=on.toLowerCase()," "===on?on="space":"."===on&&(on="dot"),Ie.forEach(tn=>{tn!==on&&(0,pe[tn])(bt)&&(En+=tn+".")}),En+=on,En===xt)}static eventCallback(bt,xt,on){return En=>{at.matchEventFullKeyCode(En,bt)&&on.runGuarded(()=>xt(En))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const Re=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:t.bD},{provide:e.g9A,useValue:function Oe(){b.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ft(){return(0,e.RDi)(document),document},deps:[]}]),be=new e.OlP(""),Q=[{provide:e.rWj,useClass:class i{addToWindow(St){e.dqk.getAngularTestability=(xt,on=!0)=>{const En=St.findTestabilityInTree(xt,on);if(null==En)throw new e.vHH(5103,!1);return En},e.dqk.getAllAngularTestabilities=()=>St.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>St.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(xt=>{const on=e.dqk.getAllAngularTestabilities();let En=on.length,tn=!1;const Mn=function(In){tn=tn||In,En--,0==En&&xt(tn)};on.forEach(In=>{In.whenStable(Mn)})})}findTestabilityInTree(St,bt,xt){return null==bt?null:St.getTestability(bt)??(xt?(0,t.q)().isShadowRoot(bt)?this.findTestabilityInTree(St,bt.host,!0):this.findTestabilityInTree(St,bt.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],ie=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function je(){return new e.qLn},deps:[]},{provide:d,useClass:ge,multi:!0,deps:[t.K0,e.R0b,e.Lbi]},{provide:d,useClass:Ae,multi:!0,deps:[t.K0]},ne,x,f,{provide:e.FYo,useExisting:ne},{provide:t.JF,useClass:c,deps:[]},[]];let ye=(()=>{class at{constructor(bt){}static withServerTransition(bt){return{ngModule:at,providers:[{provide:e.AFp,useValue:bt.appId}]}}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(be,12))};static#t=this.\u0275mod=e.oAB({type:at});static#n=this.\u0275inj=e.cJS({providers:[...ie,...Q],imports:[t.ez,e.hGG]})}return at})(),re=(()=>{class at{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:function(xt){let on=null;return on=xt?new xt:function $(){return new re((0,e.LFG)(t.K0))}(),on},providedIn:"root"})}return at})();typeof window<"u"&&window;let Wt=(()=>{class at{static#e=this.\u0275fac=function(xt){return new(xt||at)};static#t=this.\u0275prov=e.Yz7({token:at,factory:function(xt){let on=null;return on=xt?new(xt||at):e.LFG(qt),on},providedIn:"root"})}return at})(),qt=(()=>{class at extends Wt{constructor(bt){super(),this._doc=bt}sanitize(bt,xt){if(null==xt)return null;switch(bt){case e.q3G.NONE:return xt;case e.q3G.HTML:return(0,e.qzn)(xt,"HTML")?(0,e.z3N)(xt):(0,e.EiD)(this._doc,String(xt)).toString();case e.q3G.STYLE:return(0,e.qzn)(xt,"Style")?(0,e.z3N)(xt):xt;case e.q3G.SCRIPT:if((0,e.qzn)(xt,"Script"))return(0,e.z3N)(xt);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(xt,"URL")?(0,e.z3N)(xt):(0,e.mCW)(String(xt));case e.q3G.RESOURCE_URL:if((0,e.qzn)(xt,"ResourceURL"))return(0,e.z3N)(xt);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(bt){return(0,e.JVY)(bt)}bypassSecurityTrustStyle(bt){return(0,e.L6k)(bt)}bypassSecurityTrustScript(bt){return(0,e.eBb)(bt)}bypassSecurityTrustUrl(bt){return(0,e.LAX)(bt)}bypassSecurityTrustResourceUrl(bt){return(0,e.pB0)(bt)}static#e=this.\u0275fac=function(xt){return new(xt||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:function(xt){let on=null;return on=xt?new xt:function Qt(at){return new qt(at.get(t.K0))}(e.LFG(e.zs3)),on},providedIn:"root"})}return at})()},5908:(Wn,et,p)=>{"use strict";p.d(et,{gz:()=>yi,F0:()=>Jr,rH:()=>Cs,Bz:()=>Fs,lC:()=>mi});var e=p(5879),t=p(2664),v=p(2459),b=p(2096),g=p(5619),P=p(2572),D=p(6973),m=p(5211),i=p(4911),c=p(8407),d=p(8504),f=p(6232),_=p(3168),S=p(8645),x=p(6814),A=p(7398),N=p(4664),O=p(8180),C=p(7921),I=p(2181),T=p(1631),L=p(1374),y=p(6328),B=p(9397),z=p(4829),ne=p(8251),ae=p(9360);function Fe(Ue){return(0,ae.e)((rt,Me)=>{let sn,nt=null,Gt=!1;nt=rt.subscribe((0,ne.x)(Me,void 0,void 0,dn=>{sn=(0,z.Xf)(Ue(dn,Fe(Ue)(rt))),nt?(nt.unsubscribe(),nt=null,sn.subscribe(Me)):Gt=!0})),Gt&&(nt.unsubscribe(),nt=null,sn.subscribe(Me))})}var G=p(3572);function Se(Ue){return Ue<=0?()=>f.E:(0,ae.e)((rt,Me)=>{let nt=[];rt.subscribe((0,ne.x)(Me,Gt=>{nt.push(Gt),Ue<nt.length&&nt.shift()},()=>{for(const Gt of nt)Me.next(Gt);Me.complete()},void 0,()=>{nt=null}))})}var ce=p(3026),ge=p(2737),Ce=p(975),pe=p(4716),Ae=p(6196),ke=p(7537),he=p(6593);const we="primary",Te=Symbol("RouteTitle");class Oe{constructor(rt){this.params=rt||{}}has(rt){return Object.prototype.hasOwnProperty.call(this.params,rt)}get(rt){if(this.has(rt)){const Me=this.params[rt];return Array.isArray(Me)?Me[0]:Me}return null}getAll(rt){if(this.has(rt)){const Me=this.params[rt];return Array.isArray(Me)?Me:[Me]}return[]}get keys(){return Object.keys(this.params)}}function je(Ue){return new Oe(Ue)}function ft(Ue,rt,Me){const nt=Me.path.split("/");if(nt.length>Ue.length||"full"===Me.pathMatch&&(rt.hasChildren()||nt.length<Ue.length))return null;const Gt={};for(let sn=0;sn<nt.length;sn++){const dn=nt[sn],Vn=Ue[sn];if(dn.startsWith(":"))Gt[dn.substring(1)]=Vn;else if(dn!==Vn.path)return null}return{consumed:Ue.slice(0,nt.length),posParams:Gt}}function Re(Ue,rt){const Me=Ue?Object.keys(Ue):void 0,nt=rt?Object.keys(rt):void 0;if(!Me||!nt||Me.length!=nt.length)return!1;let Gt;for(let sn=0;sn<Me.length;sn++)if(Gt=Me[sn],!be(Ue[Gt],rt[Gt]))return!1;return!0}function be(Ue,rt){if(Array.isArray(Ue)&&Array.isArray(rt)){if(Ue.length!==rt.length)return!1;const Me=[...Ue].sort(),nt=[...rt].sort();return Me.every((Gt,sn)=>nt[sn]===Gt)}return Ue===rt}function Q(Ue){return Ue.length>0?Ue[Ue.length-1]:null}function ie(Ue){return(0,t.b)(Ue)?Ue:(0,e.QGY)(Ue)?(0,v.D)(Promise.resolve(Ue)):(0,b.of)(Ue)}const ye={exact:function $(Ue,rt,Me){if(!Xe(Ue.segments,rt.segments)||!_e(Ue.segments,rt.segments,Me)||Ue.numberOfChildren!==rt.numberOfChildren)return!1;for(const nt in rt.children)if(!Ue.children[nt]||!$(Ue.children[nt],rt.children[nt],Me))return!1;return!0},subset:J},oe={exact:function X(Ue,rt){return Re(Ue,rt)},subset:function re(Ue,rt){return Object.keys(rt).length<=Object.keys(Ue).length&&Object.keys(rt).every(Me=>be(Ue[Me],rt[Me]))},ignored:()=>!0};function ee(Ue,rt,Me){return ye[Me.paths](Ue.root,rt.root,Me.matrixParams)&&oe[Me.queryParams](Ue.queryParams,rt.queryParams)&&!("exact"===Me.fragment&&Ue.fragment!==rt.fragment)}function J(Ue,rt,Me){return q(Ue,rt,rt.segments,Me)}function q(Ue,rt,Me,nt){if(Ue.segments.length>Me.length){const Gt=Ue.segments.slice(0,Me.length);return!(!Xe(Gt,Me)||rt.hasChildren()||!_e(Gt,Me,nt))}if(Ue.segments.length===Me.length){if(!Xe(Ue.segments,Me)||!_e(Ue.segments,Me,nt))return!1;for(const Gt in rt.children)if(!Ue.children[Gt]||!J(Ue.children[Gt],rt.children[Gt],nt))return!1;return!0}{const Gt=Me.slice(0,Ue.segments.length),sn=Me.slice(Ue.segments.length);return!!(Xe(Ue.segments,Gt)&&_e(Ue.segments,Gt,nt)&&Ue.children[we])&&q(Ue.children[we],rt,sn,nt)}}function _e(Ue,rt,Me){return rt.every((nt,Gt)=>oe[Me](Ue[Gt].parameters,nt.parameters))}class xe{constructor(rt=new Ee([],{}),Me={},nt=null){this.root=rt,this.queryParams=Me,this.fragment=nt}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=je(this.queryParams)),this._queryParamMap}toString(){return yt.serialize(this)}}class Ee{constructor(rt,Me){this.segments=rt,this.children=Me,this.parent=null,Object.values(Me).forEach(nt=>nt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class Ge{constructor(rt,Me){this.path=rt,this.parameters=Me}get parameterMap(){return this._parameterMap||(this._parameterMap=je(this.parameters)),this._parameterMap}toString(){return fn(this)}}function Xe(Ue,rt){return Ue.length===rt.length&&Ue.every((Me,nt)=>Me.path===rt[nt].path)}let gt=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return new Qe},providedIn:"root"})}return Ue})();class Qe{parse(rt){const Me=new on(rt);return new xe(Me.parseRootSegment(),Me.parseQueryParams(),Me.parseFragment())}serialize(rt){const Me=`/${fe(rt.root,!0)}`,nt=function vt(Ue){const rt=Object.keys(Ue).map(Me=>{const nt=Ue[Me];return Array.isArray(nt)?nt.map(Gt=>`${Et(Me)}=${Et(Gt)}`).join("&"):`${Et(Me)}=${Et(nt)}`}).filter(Me=>!!Me);return rt.length?`?${rt.join("&")}`:""}(rt.queryParams);return`${Me}${nt}${"string"==typeof rt.fragment?`#${function Wt(Ue){return encodeURI(Ue)}(rt.fragment)}`:""}`}}const yt=new Qe;function Dt(Ue){return Ue.segments.map(rt=>fn(rt)).join("/")}function fe(Ue,rt){if(!Ue.hasChildren())return Dt(Ue);if(rt){const Me=Ue.children[we]?fe(Ue.children[we],!1):"",nt=[];return Object.entries(Ue.children).forEach(([Gt,sn])=>{Gt!==we&&nt.push(`${Gt}:${fe(sn,!1)}`)}),nt.length>0?`${Me}(${nt.join("//")})`:Me}{const Me=function tt(Ue,rt){let Me=[];return Object.entries(Ue.children).forEach(([nt,Gt])=>{nt===we&&(Me=Me.concat(rt(Gt,nt)))}),Object.entries(Ue.children).forEach(([nt,Gt])=>{nt!==we&&(Me=Me.concat(rt(Gt,nt)))}),Me}(Ue,(nt,Gt)=>Gt===we?[fe(Ue.children[we],!1)]:[`${Gt}:${fe(nt,!1)}`]);return 1===Object.keys(Ue.children).length&&null!=Ue.children[we]?`${Dt(Ue)}/${Me[0]}`:`${Dt(Ue)}/(${Me.join("//")})`}}function We(Ue){return encodeURIComponent(Ue).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Et(Ue){return We(Ue).replace(/%3B/gi,";")}function Qt(Ue){return We(Ue).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(Ue){return decodeURIComponent(Ue)}function un(Ue){return qt(Ue.replace(/\+/g,"%20"))}function fn(Ue){return`${Qt(Ue.path)}${function wt(Ue){return Object.keys(Ue).map(rt=>`;${Qt(rt)}=${Qt(Ue[rt])}`).join("")}(Ue.parameters)}`}const it=/^[^\/()?;#]+/;function He(Ue){const rt=Ue.match(it);return rt?rt[0]:""}const ze=/^[^\/()?;=#]+/,at=/^[^=?&#]+/,bt=/^[^&#]+/;class on{constructor(rt){this.url=rt,this.remaining=rt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const rt={};if(this.consumeOptional("?"))do{this.parseQueryParam(rt)}while(this.consumeOptional("&"));return rt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const rt=[];for(this.peekStartsWith("(")||rt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),rt.push(this.parseSegment());let Me={};this.peekStartsWith("/(")&&(this.capture("/"),Me=this.parseParens(!0));let nt={};return this.peekStartsWith("(")&&(nt=this.parseParens(!1)),(rt.length>0||Object.keys(Me).length>0)&&(nt[we]=new Ee(rt,Me)),nt}parseSegment(){const rt=He(this.remaining);if(""===rt&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(rt),new Ge(qt(rt),this.parseMatrixParams())}parseMatrixParams(){const rt={};for(;this.consumeOptional(";");)this.parseParam(rt);return rt}parseParam(rt){const Me=function st(Ue){const rt=Ue.match(ze);return rt?rt[0]:""}(this.remaining);if(!Me)return;this.capture(Me);let nt="";if(this.consumeOptional("=")){const Gt=He(this.remaining);Gt&&(nt=Gt,this.capture(nt))}rt[qt(Me)]=qt(nt)}parseQueryParam(rt){const Me=function St(Ue){const rt=Ue.match(at);return rt?rt[0]:""}(this.remaining);if(!Me)return;this.capture(Me);let nt="";if(this.consumeOptional("=")){const dn=function xt(Ue){const rt=Ue.match(bt);return rt?rt[0]:""}(this.remaining);dn&&(nt=dn,this.capture(nt))}const Gt=un(Me),sn=un(nt);if(rt.hasOwnProperty(Gt)){let dn=rt[Gt];Array.isArray(dn)||(dn=[dn],rt[Gt]=dn),dn.push(sn)}else rt[Gt]=sn}parseParens(rt){const Me={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const nt=He(this.remaining),Gt=this.remaining[nt.length];if("/"!==Gt&&")"!==Gt&&";"!==Gt)throw new e.vHH(4010,!1);let sn;nt.indexOf(":")>-1?(sn=nt.slice(0,nt.indexOf(":")),this.capture(sn),this.capture(":")):rt&&(sn=we);const dn=this.parseChildren();Me[sn]=1===Object.keys(dn).length?dn[we]:new Ee([],dn),this.consumeOptional("//")}return Me}peekStartsWith(rt){return this.remaining.startsWith(rt)}consumeOptional(rt){return!!this.peekStartsWith(rt)&&(this.remaining=this.remaining.substring(rt.length),!0)}capture(rt){if(!this.consumeOptional(rt))throw new e.vHH(4011,!1)}}function En(Ue){return Ue.segments.length>0?new Ee([],{[we]:Ue}):Ue}function tn(Ue){const rt={};for(const nt of Object.keys(Ue.children)){const sn=tn(Ue.children[nt]);if(nt===we&&0===sn.segments.length&&sn.hasChildren())for(const[dn,Vn]of Object.entries(sn.children))rt[dn]=Vn;else(sn.segments.length>0||sn.hasChildren())&&(rt[nt]=sn)}return function Mn(Ue){if(1===Ue.numberOfChildren&&Ue.children[we]){const rt=Ue.children[we];return new Ee(Ue.segments.concat(rt.segments),rt.children)}return Ue}(new Ee(Ue.segments,rt))}function In(Ue){return Ue instanceof xe}function $n(Ue){let rt;const Gt=En(function Me(sn){const dn={};for(const pi of sn.children){const Ri=Me(pi);dn[pi.outlet]=Ri}const Vn=new Ee(sn.url,dn);return sn===Ue&&(rt=Vn),Vn}(Ue.root));return rt??Gt}function ni(Ue,rt,Me,nt){let Gt=Ue;for(;Gt.parent;)Gt=Gt.parent;if(0===rt.length)return yn(Gt,Gt,Gt,Me,nt);const sn=function At(Ue){if("string"==typeof Ue[0]&&1===Ue.length&&"/"===Ue[0])return new _n(!0,0,Ue);let rt=0,Me=!1;const nt=Ue.reduce((Gt,sn,dn)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const Vn={};return Object.entries(sn.outlets).forEach(([pi,Ri])=>{Vn[pi]="string"==typeof Ri?Ri.split("/"):Ri}),[...Gt,{outlets:Vn}]}if(sn.segmentPath)return[...Gt,sn.segmentPath]}return"string"!=typeof sn?[...Gt,sn]:0===dn?(sn.split("/").forEach((Vn,pi)=>{0==pi&&"."===Vn||(0==pi&&""===Vn?Me=!0:".."===Vn?rt++:""!=Vn&&Gt.push(Vn))}),Gt):[...Gt,sn]},[]);return new _n(Me,rt,nt)}(rt);if(sn.toRoot())return yn(Gt,Gt,new Ee([],{}),Me,nt);const dn=function Tn(Ue,rt,Me){if(Ue.isAbsolute)return new ht(rt,!0,0);if(!Me)return new ht(rt,!1,NaN);if(null===Me.parent)return new ht(Me,!0,0);const nt=vn(Ue.commands[0])?0:1;return function qe(Ue,rt,Me){let nt=Ue,Gt=rt,sn=Me;for(;sn>Gt;){if(sn-=Gt,nt=nt.parent,!nt)throw new e.vHH(4005,!1);Gt=nt.segments.length}return new ht(nt,!1,Gt-sn)}(Me,Me.segments.length-1+nt,Ue.numberOfDoubleDots)}(sn,Gt,Ue),Vn=dn.processChildren?Rt(dn.segmentGroup,dn.index,sn.commands):Jt(dn.segmentGroup,dn.index,sn.commands);return yn(Gt,dn.segmentGroup,Vn,Me,nt)}function vn(Ue){return"object"==typeof Ue&&null!=Ue&&!Ue.outlets&&!Ue.segmentPath}function pn(Ue){return"object"==typeof Ue&&null!=Ue&&Ue.outlets}function yn(Ue,rt,Me,nt,Gt){let dn,sn={};nt&&Object.entries(nt).forEach(([pi,Ri])=>{sn[pi]=Array.isArray(Ri)?Ri.map(Ni=>`${Ni}`):`${Ri}`}),dn=Ue===rt?Me:mn(Ue,rt,Me);const Vn=En(tn(dn));return new xe(Vn,sn,Gt)}function mn(Ue,rt,Me){const nt={};return Object.entries(Ue.children).forEach(([Gt,sn])=>{nt[Gt]=sn===rt?Me:mn(sn,rt,Me)}),new Ee(Ue.segments,nt)}class _n{constructor(rt,Me,nt){if(this.isAbsolute=rt,this.numberOfDoubleDots=Me,this.commands=nt,rt&&nt.length>0&&vn(nt[0]))throw new e.vHH(4003,!1);const Gt=nt.find(pn);if(Gt&&Gt!==Q(nt))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ht{constructor(rt,Me,nt){this.segmentGroup=rt,this.processChildren=Me,this.index=nt}}function Jt(Ue,rt,Me){if(Ue||(Ue=new Ee([],{})),0===Ue.segments.length&&Ue.hasChildren())return Rt(Ue,rt,Me);const nt=function xn(Ue,rt,Me){let nt=0,Gt=rt;const sn={match:!1,pathIndex:0,commandIndex:0};for(;Gt<Ue.segments.length;){if(nt>=Me.length)return sn;const dn=Ue.segments[Gt],Vn=Me[nt];if(pn(Vn))break;const pi=`${Vn}`,Ri=nt<Me.length-1?Me[nt+1]:null;if(Gt>0&&void 0===pi)break;if(pi&&Ri&&"object"==typeof Ri&&void 0===Ri.outlets){if(!en(pi,Ri,dn))return sn;nt+=2}else{if(!en(pi,{},dn))return sn;nt++}Gt++}return{match:!0,pathIndex:Gt,commandIndex:nt}}(Ue,rt,Me),Gt=Me.slice(nt.commandIndex);if(nt.match&&nt.pathIndex<Ue.segments.length){const sn=new Ee(Ue.segments.slice(0,nt.pathIndex),{});return sn.children[we]=new Ee(Ue.segments.slice(nt.pathIndex),Ue.children),Rt(sn,0,Gt)}return nt.match&&0===Gt.length?new Ee(Ue.segments,{}):nt.match&&!Ue.hasChildren()?kt(Ue,rt,Me):nt.match?Rt(Ue,0,Gt):kt(Ue,rt,Me)}function Rt(Ue,rt,Me){if(0===Me.length)return new Ee(Ue.segments,{});{const nt=function Ct(Ue){return pn(Ue[0])?Ue[0].outlets:{[we]:Ue}}(Me),Gt={};if(!nt[we]&&Ue.children[we]&&1===Ue.numberOfChildren&&0===Ue.children[we].segments.length){const sn=Rt(Ue.children[we],rt,Me);return new Ee(Ue.segments,sn.children)}return Object.entries(nt).forEach(([sn,dn])=>{"string"==typeof dn&&(dn=[dn]),null!==dn&&(Gt[sn]=Jt(Ue.children[sn],rt,dn))}),Object.entries(Ue.children).forEach(([sn,dn])=>{void 0===nt[sn]&&(Gt[sn]=dn)}),new Ee(Ue.segments,Gt)}}function kt(Ue,rt,Me){const nt=Ue.segments.slice(0,rt);let Gt=0;for(;Gt<Me.length;){const sn=Me[Gt];if(pn(sn)){const pi=It(sn.outlets);return new Ee(nt,pi)}if(0===Gt&&vn(Me[0])){nt.push(new Ge(Ue.segments[rt].path,Nt(Me[0]))),Gt++;continue}const dn=pn(sn)?sn.outlets[we]:`${sn}`,Vn=Gt<Me.length-1?Me[Gt+1]:null;dn&&Vn&&vn(Vn)?(nt.push(new Ge(dn,Nt(Vn))),Gt+=2):(nt.push(new Ge(dn,{})),Gt++)}return new Ee(nt,{})}function It(Ue){const rt={};return Object.entries(Ue).forEach(([Me,nt])=>{"string"==typeof nt&&(nt=[nt]),null!==nt&&(rt[Me]=kt(new Ee([],{}),0,nt))}),rt}function Nt(Ue){const rt={};return Object.entries(Ue).forEach(([Me,nt])=>rt[Me]=`${nt}`),rt}function en(Ue,rt,Me){return Ue==Me.path&&Re(rt,Me.parameters)}const An="imperative";class Kn{constructor(rt,Me){this.id=rt,this.url=Me}}class Xn extends Kn{constructor(rt,Me,nt="imperative",Gt=null){super(rt,Me),this.type=0,this.navigationTrigger=nt,this.restoredState=Gt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ut extends Kn{constructor(rt,Me,nt){super(rt,Me),this.urlAfterRedirects=nt,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class On extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.reason=nt,this.code=Gt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.reason=nt,this.code=Gt,this.type=16}}class Ft extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.error=nt,this.target=Gt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pt extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends Kn{constructor(rt,Me,nt,Gt,sn){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.shouldActivate=sn,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vi extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr{constructor(rt){this.route=rt,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hr{constructor(rt){this.route=rt,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fi{constructor(rt){this.snapshot=rt,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(rt){this.snapshot=rt,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(rt){this.snapshot=rt,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(rt){this.snapshot=rt,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(rt,Me,nt){this.routerEvent=rt,this.position=Me,this.anchor=nt,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ir,this.attachRef=null}}let ir=(()=>{class Ue{constructor(){this.contexts=new Map}onChildOutletCreated(Me,nt){const Gt=this.getOrCreateContext(Me);Gt.outlet=nt,this.contexts.set(Me,Gt)}onChildOutletDestroyed(Me){const nt=this.getContext(Me);nt&&(nt.outlet=null,nt.attachRef=null)}onOutletDeactivated(){const Me=this.contexts;return this.contexts=new Map,Me}onOutletReAttached(Me){this.contexts=Me}getOrCreateContext(Me){let nt=this.getContext(Me);return nt||(nt=new jr,this.contexts.set(Me,nt)),nt}getContext(Me){return this.contexts.get(Me)||null}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();class ao{constructor(rt){this._root=rt}get root(){return this._root.value}parent(rt){const Me=this.pathFromRoot(rt);return Me.length>1?Me[Me.length-2]:null}children(rt){const Me=Vr(rt,this._root);return Me?Me.children.map(nt=>nt.value):[]}firstChild(rt){const Me=Vr(rt,this._root);return Me&&Me.children.length>0?Me.children[0].value:null}siblings(rt){const Me=rs(rt,this._root);return Me.length<2?[]:Me[Me.length-2].children.map(Gt=>Gt.value).filter(Gt=>Gt!==rt)}pathFromRoot(rt){return rs(rt,this._root).map(Me=>Me.value)}}function Vr(Ue,rt){if(Ue===rt.value)return rt;for(const Me of rt.children){const nt=Vr(Ue,Me);if(nt)return nt}return null}function rs(Ue,rt){if(Ue===rt.value)return[rt];for(const Me of rt.children){const nt=rs(Ue,Me);if(nt.length)return nt.unshift(rt),nt}return[]}class xr{constructor(rt,Me){this.value=rt,this.children=Me}toString(){return`TreeNode(${this.value})`}}function lo(Ue){const rt={};return Ue&&Ue.children.forEach(Me=>rt[Me.value.outlet]=Me),rt}class qo extends ao{constructor(rt,Me){super(rt),this.snapshot=Me,$r(this,rt)}toString(){return this.snapshot.toString()}}function As(Ue,rt){const Me=function Tr(Ue,rt){const dn=new Kr([],{},{},"",{},we,rt,null,{});return new Do("",new xr(dn,[]))}(0,rt),nt=new g.X([new Ge("",{})]),Gt=new g.X({}),sn=new g.X({}),dn=new g.X({}),Vn=new g.X(""),pi=new yi(nt,Gt,dn,Vn,sn,we,rt,Me.root);return pi.snapshot=Me.root,new qo(new xr(pi,[]),Me)}class yi{constructor(rt,Me,nt,Gt,sn,dn,Vn,pi){this.urlSubject=rt,this.paramsSubject=Me,this.queryParamsSubject=nt,this.fragmentSubject=Gt,this.dataSubject=sn,this.outlet=dn,this.component=Vn,this._futureSnapshot=pi,this.title=this.dataSubject?.pipe((0,A.U)(Ri=>Ri[Te]))??(0,b.of)(void 0),this.url=rt,this.params=Me,this.queryParams=nt,this.fragment=Gt,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,A.U)(rt=>je(rt)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,A.U)(rt=>je(rt)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $i(Ue,rt="emptyOnly"){const Me=Ue.pathFromRoot;let nt=0;if("always"!==rt)for(nt=Me.length-1;nt>=1;){const Gt=Me[nt],sn=Me[nt-1];if(Gt.routeConfig&&""===Gt.routeConfig.path)nt--;else{if(sn.component)break;nt--}}return function Pr(Ue){return Ue.reduce((rt,Me)=>({params:{...rt.params,...Me.params},data:{...rt.data,...Me.data},resolve:{...Me.data,...rt.resolve,...Me.routeConfig?.data,...Me._resolvedData}}),{params:{},data:{},resolve:{}})}(Me.slice(nt))}class Kr{get title(){return this.data?.[Te]}constructor(rt,Me,nt,Gt,sn,dn,Vn,pi,Ri){this.url=rt,this.params=Me,this.queryParams=nt,this.fragment=Gt,this.data=sn,this.outlet=dn,this.component=Vn,this.routeConfig=pi,this._resolve=Ri}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=je(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(nt=>nt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Do extends ao{constructor(rt,Me){super(Me),this.url=rt,$r(this,Me)}toString(){return mo(this._root)}}function $r(Ue,rt){rt.value._routerState=Ue,rt.children.forEach(Me=>$r(Ue,Me))}function mo(Ue){const rt=Ue.children.length>0?` { ${Ue.children.map(mo).join(", ")} } `:"";return`${Ue.value}${rt}`}function Dn(Ue){if(Ue.snapshot){const rt=Ue.snapshot,Me=Ue._futureSnapshot;Ue.snapshot=Me,Re(rt.queryParams,Me.queryParams)||Ue.queryParamsSubject.next(Me.queryParams),rt.fragment!==Me.fragment&&Ue.fragmentSubject.next(Me.fragment),Re(rt.params,Me.params)||Ue.paramsSubject.next(Me.params),function Ze(Ue,rt){if(Ue.length!==rt.length)return!1;for(let Me=0;Me<Ue.length;++Me)if(!Re(Ue[Me],rt[Me]))return!1;return!0}(rt.url,Me.url)||Ue.urlSubject.next(Me.url),Re(rt.data,Me.data)||Ue.dataSubject.next(Me.data)}else Ue.snapshot=Ue._futureSnapshot,Ue.dataSubject.next(Ue._futureSnapshot.data)}function qn(Ue,rt){const Me=Re(Ue.params,rt.params)&&function ct(Ue,rt){return Xe(Ue,rt)&&Ue.every((Me,nt)=>Re(Me.parameters,rt[nt].parameters))}(Ue.url,rt.url);return Me&&!(!Ue.parent!=!rt.parent)&&(!Ue.parent||qn(Ue.parent,rt.parent))}let mi=(()=>{class Ue{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(ir),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(Hi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Me){if(Me.name){const{firstChange:nt,previousValue:Gt}=Me.name;if(nt)return;this.isTrackedInParentContexts(Gt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Gt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Me){return this.parentContexts.getContext(Me)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Me=this.parentContexts.getContext(this.name);Me?.route&&(Me.attachRef?this.attach(Me.attachRef,Me.route):this.activateWith(Me.route,Me.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const Me=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Me.instance),Me}attach(Me,nt){this.activated=Me,this._activatedRoute=nt,this.location.insert(Me.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Me.instance)}deactivate(){if(this.activated){const Me=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Me)}}activateWith(Me,nt){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=Me;const Gt=this.location,dn=Me.snapshot.component,Vn=this.parentContexts.getOrCreateContext(this.name).children,pi=new li(Me,Vn,Gt.injector);this.activated=Gt.createComponent(dn,{index:Gt.length,injector:pi,environmentInjector:nt??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275dir=e.lG2({type:Ue,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return Ue})();class li{constructor(rt,Me,nt){this.route=rt,this.childContexts=Me,this.parent=nt}get(rt,Me){return rt===yi?this.route:rt===ir?this.childContexts:this.parent.get(rt,Me)}}const Hi=new e.OlP("");let Qi=(()=>{class Ue{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Me){this.unsubscribeFromRouteData(Me),this.subscribeToRouteData(Me)}unsubscribeFromRouteData(Me){this.outletDataSubscriptions.get(Me)?.unsubscribe(),this.outletDataSubscriptions.delete(Me)}subscribeToRouteData(Me){const{activatedRoute:nt}=Me,Gt=(0,P.a)([nt.queryParams,nt.params,nt.data]).pipe((0,N.w)(([sn,dn,Vn],pi)=>(Vn={...sn,...dn,...Vn},0===pi?(0,b.of)(Vn):Promise.resolve(Vn)))).subscribe(sn=>{if(!Me.isActivated||!Me.activatedComponentRef||Me.activatedRoute!==nt||null===nt.component)return void this.unsubscribeFromRouteData(Me);const dn=(0,e.qFp)(nt.component);if(dn)for(const{templateName:Vn}of dn.inputs)Me.activatedComponentRef.setInput(Vn,sn[Vn]);else this.unsubscribeFromRouteData(Me)});this.outletDataSubscriptions.set(Me,Gt)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();function Wi(Ue,rt,Me){if(Me&&Ue.shouldReuseRoute(rt.value,Me.value.snapshot)){const nt=Me.value;nt._futureSnapshot=rt.value;const Gt=function Ir(Ue,rt,Me){return rt.children.map(nt=>{for(const Gt of Me.children)if(Ue.shouldReuseRoute(nt.value,Gt.value.snapshot))return Wi(Ue,nt,Gt);return Wi(Ue,nt)})}(Ue,rt,Me);return new xr(nt,Gt)}{if(Ue.shouldAttach(rt.value)){const sn=Ue.retrieve(rt.value);if(null!==sn){const dn=sn.route;return dn.value._futureSnapshot=rt.value,dn.children=rt.children.map(Vn=>Wi(Ue,Vn)),dn}}const nt=function Io(Ue){return new yi(new g.X(Ue.url),new g.X(Ue.params),new g.X(Ue.queryParams),new g.X(Ue.fragment),new g.X(Ue.data),Ue.outlet,Ue.component,Ue)}(rt.value),Gt=rt.children.map(sn=>Wi(Ue,sn));return new xr(nt,Gt)}}const Lo="ngNavigationCancelingError";function ko(Ue,rt){const{redirectTo:Me,navigationBehaviorOptions:nt}=In(rt)?{redirectTo:rt,navigationBehaviorOptions:void 0}:rt,Gt=js(!1,0,rt);return Gt.url=Me,Gt.navigationBehaviorOptions=nt,Gt}function js(Ue,rt,Me){const nt=new Error("NavigationCancelingError: "+(Ue||""));return nt[Lo]=!0,nt.cancellationCode=rt,Me&&(nt.url=Me),nt}function eo(Ue){return _o(Ue)&&In(Ue.url)}function _o(Ue){return Ue&&Ue[Lo]}let os=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275cmp=e.Xpm({type:Ue,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(nt,Gt){1&nt&&e._UZ(0,"router-outlet")},dependencies:[mi],encapsulation:2})}return Ue})();function Wr(Ue){const rt=Ue.children&&Ue.children.map(Wr),Me=rt?{...Ue,children:rt}:{...Ue};return!Me.component&&!Me.loadComponent&&(rt||Me.loadChildren)&&Me.outlet&&Me.outlet!==we&&(Me.component=os),Me}function hr(Ue){return Ue.outlet||we}function io(Ue){if(!Ue)return null;if(Ue.routeConfig?._injector)return Ue.routeConfig._injector;for(let rt=Ue.parent;rt;rt=rt.parent){const Me=rt.routeConfig;if(Me?._loadedInjector)return Me._loadedInjector;if(Me?._injector)return Me._injector}return null}class Fr{constructor(rt,Me,nt,Gt,sn){this.routeReuseStrategy=rt,this.futureState=Me,this.currState=nt,this.forwardEvent=Gt,this.inputBindingEnabled=sn}activate(rt){const Me=this.futureState._root,nt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Me,nt,rt),Dn(this.futureState.root),this.activateChildRoutes(Me,nt,rt)}deactivateChildRoutes(rt,Me,nt){const Gt=lo(Me);rt.children.forEach(sn=>{const dn=sn.value.outlet;this.deactivateRoutes(sn,Gt[dn],nt),delete Gt[dn]}),Object.values(Gt).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,nt)})}deactivateRoutes(rt,Me,nt){const Gt=rt.value,sn=Me?Me.value:null;if(Gt===sn)if(Gt.component){const dn=nt.getContext(Gt.outlet);dn&&this.deactivateChildRoutes(rt,Me,dn.children)}else this.deactivateChildRoutes(rt,Me,nt);else sn&&this.deactivateRouteAndItsChildren(Me,nt)}deactivateRouteAndItsChildren(rt,Me){rt.value.component&&this.routeReuseStrategy.shouldDetach(rt.value.snapshot)?this.detachAndStoreRouteSubtree(rt,Me):this.deactivateRouteAndOutlet(rt,Me)}detachAndStoreRouteSubtree(rt,Me){const nt=Me.getContext(rt.value.outlet),Gt=nt&&rt.value.component?nt.children:Me,sn=lo(rt);for(const dn of Object.keys(sn))this.deactivateRouteAndItsChildren(sn[dn],Gt);if(nt&&nt.outlet){const dn=nt.outlet.detach(),Vn=nt.children.onOutletDeactivated();this.routeReuseStrategy.store(rt.value.snapshot,{componentRef:dn,route:rt,contexts:Vn})}}deactivateRouteAndOutlet(rt,Me){const nt=Me.getContext(rt.value.outlet),Gt=nt&&rt.value.component?nt.children:Me,sn=lo(rt);for(const dn of Object.keys(sn))this.deactivateRouteAndItsChildren(sn[dn],Gt);nt&&(nt.outlet&&(nt.outlet.deactivate(),nt.children.onOutletDeactivated()),nt.attachRef=null,nt.route=null)}activateChildRoutes(rt,Me,nt){const Gt=lo(Me);rt.children.forEach(sn=>{this.activateRoutes(sn,Gt[sn.value.outlet],nt),this.forwardEvent(new Co(sn.value.snapshot))}),rt.children.length&&this.forwardEvent(new Pi(rt.value.snapshot))}activateRoutes(rt,Me,nt){const Gt=rt.value,sn=Me?Me.value:null;if(Dn(Gt),Gt===sn)if(Gt.component){const dn=nt.getOrCreateContext(Gt.outlet);this.activateChildRoutes(rt,Me,dn.children)}else this.activateChildRoutes(rt,Me,nt);else if(Gt.component){const dn=nt.getOrCreateContext(Gt.outlet);if(this.routeReuseStrategy.shouldAttach(Gt.snapshot)){const Vn=this.routeReuseStrategy.retrieve(Gt.snapshot);this.routeReuseStrategy.store(Gt.snapshot,null),dn.children.onOutletReAttached(Vn.contexts),dn.attachRef=Vn.componentRef,dn.route=Vn.route.value,dn.outlet&&dn.outlet.attach(Vn.componentRef,Vn.route.value),Dn(Vn.route.value),this.activateChildRoutes(rt,null,dn.children)}else{const Vn=io(Gt.snapshot);dn.attachRef=null,dn.route=Gt,dn.injector=Vn,dn.outlet&&dn.outlet.activateWith(Gt,dn.injector),this.activateChildRoutes(rt,null,dn.children)}}else this.activateChildRoutes(rt,null,nt)}}class mr{constructor(rt){this.path=rt,this.route=this.path[this.path.length-1]}}class Fo{constructor(rt,Me){this.component=rt,this.route=Me}}function Ks(Ue,rt,Me){const nt=Ue._root;return Yo(nt,rt?rt._root:null,Me,[nt.value])}function ys(Ue,rt){const Me=Symbol(),nt=rt.get(Ue,Me);return nt===Me?"function"!=typeof Ue||(0,e.Z0I)(Ue)?rt.get(Ue):Ue:nt}function Yo(Ue,rt,Me,nt,Gt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=lo(rt);return Ue.children.forEach(dn=>{(function ws(Ue,rt,Me,nt,Gt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Ue.value,dn=rt?rt.value:null,Vn=Me?Me.getContext(Ue.value.outlet):null;if(dn&&sn.routeConfig===dn.routeConfig){const pi=function Aa(Ue,rt,Me){if("function"==typeof Me)return Me(Ue,rt);switch(Me){case"pathParamsChange":return!Xe(Ue.url,rt.url);case"pathParamsOrQueryParamsChange":return!Xe(Ue.url,rt.url)||!Re(Ue.queryParams,rt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(Ue,rt)||!Re(Ue.queryParams,rt.queryParams);default:return!qn(Ue,rt)}}(dn,sn,sn.routeConfig.runGuardsAndResolvers);pi?Gt.canActivateChecks.push(new mr(nt)):(sn.data=dn.data,sn._resolvedData=dn._resolvedData),Yo(Ue,rt,sn.component?Vn?Vn.children:null:Me,nt,Gt),pi&&Vn&&Vn.outlet&&Vn.outlet.isActivated&&Gt.canDeactivateChecks.push(new Fo(Vn.outlet.component,dn))}else dn&&Ns(rt,Vn,Gt),Gt.canActivateChecks.push(new mr(nt)),Yo(Ue,null,sn.component?Vn?Vn.children:null:Me,nt,Gt)})(dn,sn[dn.value.outlet],Me,nt.concat([dn.value]),Gt),delete sn[dn.value.outlet]}),Object.entries(sn).forEach(([dn,Vn])=>Ns(Vn,Me.getContext(dn),Gt)),Gt}function Ns(Ue,rt,Me){const nt=lo(Ue),Gt=Ue.value;Object.entries(nt).forEach(([sn,dn])=>{Ns(dn,Gt.component?rt?rt.children.getContext(sn):null:rt,Me)}),Me.canDeactivateChecks.push(new Fo(Gt.component&&rt&&rt.outlet&&rt.outlet.isActivated?rt.outlet.component:null,Gt))}function vo(Ue){return"function"==typeof Ue}function ta(Ue){return Ue instanceof D.K||"EmptyError"===Ue?.name}const ks=Symbol("INITIAL_VALUE");function bs(){return(0,N.w)(Ue=>(0,P.a)(Ue.map(rt=>rt.pipe((0,O.q)(1),(0,C.O)(ks)))).pipe((0,A.U)(rt=>{for(const Me of rt)if(!0!==Me){if(Me===ks)return ks;if(!1===Me||Me instanceof xe)return Me}return!0}),(0,I.h)(rt=>rt!==ks),(0,O.q)(1)))}function Zi(Ue){return(0,c.z)((0,B.b)(rt=>{if(In(rt))throw ko(0,rt)}),(0,A.U)(rt=>!0===rt))}class ts{constructor(rt){this.segmentGroup=rt||null}}class Es{constructor(rt){this.urlTree=rt}}function si(Ue){return(0,d._)(new ts(Ue))}function Os(Ue){return(0,d._)(new Es(Ue))}class dl{constructor(rt,Me){this.urlSerializer=rt,this.urlTree=Me}noMatchError(rt){return new e.vHH(4002,!1)}lineralizeSegments(rt,Me){let nt=[],Gt=Me.root;for(;;){if(nt=nt.concat(Gt.segments),0===Gt.numberOfChildren)return(0,b.of)(nt);if(Gt.numberOfChildren>1||!Gt.children[we])return(0,d._)(new e.vHH(4e3,!1));Gt=Gt.children[we]}}applyRedirectCommands(rt,Me,nt){return this.applyRedirectCreateUrlTree(Me,this.urlSerializer.parse(Me),rt,nt)}applyRedirectCreateUrlTree(rt,Me,nt,Gt){const sn=this.createSegmentGroup(rt,Me.root,nt,Gt);return new xe(sn,this.createQueryParams(Me.queryParams,this.urlTree.queryParams),Me.fragment)}createQueryParams(rt,Me){const nt={};return Object.entries(rt).forEach(([Gt,sn])=>{if("string"==typeof sn&&sn.startsWith(":")){const Vn=sn.substring(1);nt[Gt]=Me[Vn]}else nt[Gt]=sn}),nt}createSegmentGroup(rt,Me,nt,Gt){const sn=this.createSegments(rt,Me.segments,nt,Gt);let dn={};return Object.entries(Me.children).forEach(([Vn,pi])=>{dn[Vn]=this.createSegmentGroup(rt,pi,nt,Gt)}),new Ee(sn,dn)}createSegments(rt,Me,nt,Gt){return Me.map(sn=>sn.path.startsWith(":")?this.findPosParam(rt,sn,Gt):this.findOrReturn(sn,nt))}findPosParam(rt,Me,nt){const Gt=nt[Me.path.substring(1)];if(!Gt)throw new e.vHH(4001,!1);return Gt}findOrReturn(rt,Me){let nt=0;for(const Gt of Me){if(Gt.path===rt.path)return Me.splice(nt),Gt;nt++}return rt}}const ma={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wa(Ue,rt,Me,nt,Gt){const sn=na(Ue,rt,Me);return sn.matched?(nt=function ss(Ue,rt){return Ue.providers&&!Ue._injector&&(Ue._injector=(0,e.MMx)(Ue.providers,rt,`Route: ${Ue.path}`)),Ue._injector??rt}(rt,nt),function zo(Ue,rt,Me,nt){const Gt=rt.canMatch;if(!Gt||0===Gt.length)return(0,b.of)(!0);const sn=Gt.map(dn=>{const Vn=ys(dn,Ue);return ie(function Br(Ue){return Ue&&vo(Ue.canMatch)}(Vn)?Vn.canMatch(rt,Me):Ue.runInContext(()=>Vn(rt,Me)))});return(0,b.of)(sn).pipe(bs(),Zi())}(nt,rt,Me).pipe((0,A.U)(dn=>!0===dn?sn:{...ma}))):(0,b.of)(sn)}function na(Ue,rt,Me){if(""===rt.path)return"full"===rt.pathMatch&&(Ue.hasChildren()||Me.length>0)?{...ma}:{matched:!0,consumedSegments:[],remainingSegments:Me,parameters:{},positionalParamSegments:{}};const Gt=(rt.matcher||ft)(Me,Ue,rt);if(!Gt)return{...ma};const sn={};Object.entries(Gt.posParams??{}).forEach(([Vn,pi])=>{sn[Vn]=pi.path});const dn=Gt.consumed.length>0?{...sn,...Gt.consumed[Gt.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:Gt.consumed,remainingSegments:Me.slice(Gt.consumed.length),parameters:dn,positionalParamSegments:Gt.posParams??{}}}function ds(Ue,rt,Me,nt){return Me.length>0&&function pa(Ue,rt,Me){return Me.some(nt=>Oa(Ue,rt,nt)&&hr(nt)!==we)}(Ue,Me,nt)?{segmentGroup:new Ee(rt,wl(nt,new Ee(Me,Ue.children))),slicedSegments:[]}:0===Me.length&&function fl(Ue,rt,Me){return Me.some(nt=>Oa(Ue,rt,nt))}(Ue,Me,nt)?{segmentGroup:new Ee(Ue.segments,ul(Ue,0,Me,nt,Ue.children)),slicedSegments:Me}:{segmentGroup:new Ee(Ue.segments,Ue.children),slicedSegments:Me}}function ul(Ue,rt,Me,nt,Gt){const sn={};for(const dn of nt)if(Oa(Ue,Me,dn)&&!Gt[hr(dn)]){const Vn=new Ee([],{});sn[hr(dn)]=Vn}return{...Gt,...sn}}function wl(Ue,rt){const Me={};Me[we]=rt;for(const nt of Ue)if(""===nt.path&&hr(nt)!==we){const Gt=new Ee([],{});Me[hr(nt)]=Gt}return Me}function Oa(Ue,rt,Me){return(!(Ue.hasChildren()||rt.length>0)||"full"!==Me.pathMatch)&&""===Me.path}class dc{constructor(rt,Me,nt,Gt,sn,dn,Vn){this.injector=rt,this.configLoader=Me,this.rootComponentType=nt,this.config=Gt,this.urlTree=sn,this.paramsInheritanceStrategy=dn,this.urlSerializer=Vn,this.allowRedirects=!0,this.applyRedirects=new dl(this.urlSerializer,this.urlTree)}noMatchError(rt){return new e.vHH(4002,!1)}recognize(){const rt=ds(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,rt,we).pipe(Fe(Me=>{if(Me instanceof Es)return this.allowRedirects=!1,this.urlTree=Me.urlTree,this.match(Me.urlTree);throw Me instanceof ts?this.noMatchError(Me):Me}),(0,A.U)(Me=>{const nt=new Kr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),Gt=new xr(nt,Me),sn=new Do("",Gt),dn=function Nn(Ue,rt,Me=null,nt=null){return ni($n(Ue),rt,Me,nt)}(nt,[],this.urlTree.queryParams,this.urlTree.fragment);return dn.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(dn),this.inheritParamsAndData(sn._root),{state:sn,tree:dn}}))}match(rt){return this.processSegmentGroup(this.injector,this.config,rt.root,we).pipe(Fe(nt=>{throw nt instanceof ts?this.noMatchError(nt):nt}))}inheritParamsAndData(rt){const Me=rt.value,nt=$i(Me,this.paramsInheritanceStrategy);Me.params=Object.freeze(nt.params),Me.data=Object.freeze(nt.data),rt.children.forEach(Gt=>this.inheritParamsAndData(Gt))}processSegmentGroup(rt,Me,nt,Gt){return 0===nt.segments.length&&nt.hasChildren()?this.processChildren(rt,Me,nt):this.processSegment(rt,Me,nt,nt.segments,Gt,!0)}processChildren(rt,Me,nt){const Gt=[];for(const sn of Object.keys(nt.children))"primary"===sn?Gt.unshift(sn):Gt.push(sn);return(0,v.D)(Gt).pipe((0,y.b)(sn=>{const dn=nt.children[sn],Vn=function Sr(Ue,rt){const Me=Ue.filter(nt=>hr(nt)===rt);return Me.push(...Ue.filter(nt=>hr(nt)!==rt)),Me}(Me,sn);return this.processSegmentGroup(rt,Vn,dn,sn)}),function le(Ue,rt){return(0,ae.e)(function Y(Ue,rt,Me,nt,Gt){return(sn,dn)=>{let Vn=Me,pi=rt,Ri=0;sn.subscribe((0,ne.x)(dn,Ni=>{const br=Ri++;pi=Vn?Ue(pi,Ni,br):(Vn=!0,Ni),nt&&dn.next(pi)},Gt&&(()=>{Vn&&dn.next(pi),dn.complete()})))}}(Ue,rt,arguments.length>=2,!0))}((sn,dn)=>(sn.push(...dn),sn)),(0,G.d)(null),function Ie(Ue,rt){const Me=arguments.length>=2;return nt=>nt.pipe(Ue?(0,I.h)((Gt,sn)=>Ue(Gt,sn,nt)):ge.y,Se(1),Me?(0,G.d)(rt):(0,ce.T)(()=>new D.K))}(),(0,T.z)(sn=>{if(null===sn)return si(nt);const dn=ga(sn);return function ja(Ue){Ue.sort((rt,Me)=>rt.value.outlet===we?-1:Me.value.outlet===we?1:rt.value.outlet.localeCompare(Me.value.outlet))}(dn),(0,b.of)(dn)}))}processSegment(rt,Me,nt,Gt,sn,dn){return(0,v.D)(Me).pipe((0,y.b)(Vn=>this.processSegmentAgainstRoute(Vn._injector??rt,Me,Vn,nt,Gt,sn,dn).pipe(Fe(pi=>{if(pi instanceof ts)return(0,b.of)(null);throw pi}))),(0,L.P)(Vn=>!!Vn),Fe(Vn=>{if(ta(Vn))return function zc(Ue,rt,Me){return 0===rt.length&&!Ue.children[Me]}(nt,Gt,sn)?(0,b.of)([]):si(nt);throw Vn}))}processSegmentAgainstRoute(rt,Me,nt,Gt,sn,dn,Vn){return function wo(Ue,rt,Me,nt){return!!(hr(Ue)===nt||nt!==we&&Oa(rt,Me,Ue))&&("**"===Ue.path||na(rt,Ue,Me).matched)}(nt,Gt,sn,dn)?void 0===nt.redirectTo?this.matchSegmentAgainstRoute(rt,Gt,nt,sn,dn,Vn):Vn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(rt,Gt,Me,nt,sn,dn):si(Gt):si(Gt)}expandSegmentAgainstRouteUsingRedirect(rt,Me,nt,Gt,sn,dn){return"**"===Gt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(rt,nt,Gt,dn):this.expandRegularSegmentAgainstRouteUsingRedirect(rt,Me,nt,Gt,sn,dn)}expandWildCardWithParamsAgainstRouteUsingRedirect(rt,Me,nt,Gt){const sn=this.applyRedirects.applyRedirectCommands([],nt.redirectTo,{});return nt.redirectTo.startsWith("/")?Os(sn):this.applyRedirects.lineralizeSegments(nt,sn).pipe((0,T.z)(dn=>{const Vn=new Ee(dn,{});return this.processSegment(rt,Me,Vn,dn,Gt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(rt,Me,nt,Gt,sn,dn){const{matched:Vn,consumedSegments:pi,remainingSegments:Ri,positionalParamSegments:Ni}=na(Me,Gt,sn);if(!Vn)return si(Me);const br=this.applyRedirects.applyRedirectCommands(pi,Gt.redirectTo,Ni);return Gt.redirectTo.startsWith("/")?Os(br):this.applyRedirects.lineralizeSegments(Gt,br).pipe((0,T.z)(Qr=>this.processSegment(rt,nt,Me,Qr.concat(Ri),dn,!1)))}matchSegmentAgainstRoute(rt,Me,nt,Gt,sn,dn){let Vn;if("**"===nt.path){const pi=Gt.length>0?Q(Gt).parameters:{},Ri=new Kr(Gt,pi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_a(nt),hr(nt),nt.component??nt._loadedComponent??null,nt,pl(nt));Vn=(0,b.of)({snapshot:Ri,consumedSegments:[],remainingSegments:[]}),Me.children={}}else Vn=wa(Me,nt,Gt,rt).pipe((0,A.U)(({matched:pi,consumedSegments:Ri,remainingSegments:Ni,parameters:br})=>pi?{snapshot:new Kr(Ri,br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_a(nt),hr(nt),nt.component??nt._loadedComponent??null,nt,pl(nt)),consumedSegments:Ri,remainingSegments:Ni}:null));return Vn.pipe((0,N.w)(pi=>null===pi?si(Me):this.getChildConfig(rt=nt._injector??rt,nt,Gt).pipe((0,N.w)(({routes:Ri})=>{const Ni=nt._loadedInjector??rt,{snapshot:br,consumedSegments:Qr,remainingSegments:oo}=pi,{segmentGroup:$o,slicedSegments:fs}=ds(Me,Qr,oo,Ri);if(0===fs.length&&$o.hasChildren())return this.processChildren(Ni,Ri,$o).pipe((0,A.U)(Ya=>null===Ya?null:[new xr(br,Ya)]));if(0===Ri.length&&0===fs.length)return(0,b.of)([new xr(br,[])]);const is=hr(nt)===sn;return this.processSegment(Ni,Ri,$o,fs,is?we:sn,!0).pipe((0,A.U)(Ya=>[new xr(br,Ya)]))}))))}getChildConfig(rt,Me,nt){return Me.children?(0,b.of)({routes:Me.children,injector:rt}):Me.loadChildren?void 0!==Me._loadedRoutes?(0,b.of)({routes:Me._loadedRoutes,injector:Me._loadedInjector}):function Ti(Ue,rt,Me,nt){const Gt=rt.canLoad;if(void 0===Gt||0===Gt.length)return(0,b.of)(!0);const sn=Gt.map(dn=>{const Vn=ys(dn,Ue);return ie(function es(Ue){return Ue&&vo(Ue.canLoad)}(Vn)?Vn.canLoad(rt,Me):Ue.runInContext(()=>Vn(rt,Me)))});return(0,b.of)(sn).pipe(bs(),Zi())}(rt,Me,nt).pipe((0,T.z)(Gt=>Gt?this.configLoader.loadChildren(rt,Me).pipe((0,B.b)(sn=>{Me._loadedRoutes=sn.routes,Me._loadedInjector=sn.injector})):function cs(Ue){return(0,d._)(js(!1,3))}())):(0,b.of)({routes:[],injector:rt})}}function hl(Ue){const rt=Ue.value.routeConfig;return rt&&""===rt.path}function ga(Ue){const rt=[],Me=new Set;for(const nt of Ue){if(!hl(nt)){rt.push(nt);continue}const Gt=rt.find(sn=>nt.value.routeConfig===sn.value.routeConfig);void 0!==Gt?(Gt.children.push(...nt.children),Me.add(Gt)):rt.push(nt)}for(const nt of Me){const Gt=ga(nt.children);rt.push(new xr(nt.value,Gt))}return rt.filter(nt=>!Me.has(nt))}function _a(Ue){return Ue.data||{}}function pl(Ue){return Ue.resolve||{}}function Ts(Ue){return"string"==typeof Ue.title||null===Ue.title}function Ra(Ue){return(0,N.w)(rt=>{const Me=Ue(rt);return Me?(0,v.D)(Me).pipe((0,A.U)(()=>rt)):(0,b.of)(rt)})}const Ss=new e.OlP("ROUTES");let or=(()=>{class Ue{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(Me){if(this.componentLoaders.get(Me))return this.componentLoaders.get(Me);if(Me._loadedComponent)return(0,b.of)(Me._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Me);const nt=ie(Me.loadComponent()).pipe((0,A.U)($e),(0,B.b)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(Me),Me._loadedComponent=sn}),(0,pe.x)(()=>{this.componentLoaders.delete(Me)})),Gt=new _.c(nt,()=>new S.x).pipe((0,Ae.x)());return this.componentLoaders.set(Me,Gt),Gt}loadChildren(Me,nt){if(this.childrenLoaders.get(nt))return this.childrenLoaders.get(nt);if(nt._loadedRoutes)return(0,b.of)({routes:nt._loadedRoutes,injector:nt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(nt);const sn=this.loadModuleFactoryOrRoutes(nt.loadChildren).pipe((0,A.U)(Vn=>{this.onLoadEndListener&&this.onLoadEndListener(nt);let pi,Ri;return Array.isArray(Vn)?Ri=Vn:(pi=Vn.create(Me).injector,Ri=pi.get(Ss,[],e.XFs.Self|e.XFs.Optional).flat()),{routes:Ri.map(Wr),injector:pi}}),(0,pe.x)(()=>{this.childrenLoaders.delete(nt)})),dn=new _.c(sn,()=>new S.x).pipe((0,Ae.x)());return this.childrenLoaders.set(nt,dn),dn}loadModuleFactoryOrRoutes(Me){return ie(Me()).pipe((0,A.U)($e),(0,T.z)(nt=>nt instanceof e.YKP||Array.isArray(nt)?(0,b.of)(nt):(0,v.D)(this.compiler.compileModuleAsync(nt))))}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function $e(Ue){return function Va(Ue){return Ue&&"object"==typeof Ue&&"default"in Ue}(Ue)?Ue.default:Ue}let Yt=(()=>{class Ue{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new S.x,this.configLoader=(0,e.f3M)(or),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(gt),this.rootContexts=(0,e.f3M)(ir),this.inputBindingEnabled=null!==(0,e.f3M)(Hi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,b.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Gt=>this.events.next(new Hr(Gt)),this.configLoader.onLoadStartListener=Gt=>this.events.next(new Zr(Gt))}complete(){this.transitions?.complete()}handleNavigationRequest(Me){const nt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Me,id:nt})}setupNavigations(Me){return this.transitions=new g.X({id:0,currentUrlTree:Me.currentUrlTree,currentRawUrl:Me.currentUrlTree,extractedUrl:Me.urlHandlingStrategy.extract(Me.currentUrlTree),urlAfterRedirects:Me.urlHandlingStrategy.extract(Me.currentUrlTree),rawUrl:Me.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:An,restoredState:null,currentSnapshot:Me.routerState.snapshot,targetSnapshot:null,currentRouterState:Me.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,I.h)(nt=>0!==nt.id),(0,A.U)(nt=>({...nt,extractedUrl:Me.urlHandlingStrategy.extract(nt.rawUrl)})),(0,N.w)(nt=>{let Gt=!1,sn=!1;return(0,b.of)(nt).pipe((0,B.b)(dn=>{this.currentNavigation={id:dn.id,initialUrl:dn.rawUrl,extractedUrl:dn.extractedUrl,trigger:dn.source,extras:dn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,N.w)(dn=>{const Vn=Me.browserUrlTree.toString(),pi=!Me.navigated||dn.extractedUrl.toString()!==Vn||Vn!==Me.currentUrlTree.toString();if(!pi&&"reload"!==(dn.extras.onSameUrlNavigation??Me.onSameUrlNavigation)){const Ni="";return this.events.next(new Ne(dn.id,Me.serializeUrl(nt.rawUrl),Ni,0)),Me.rawUrlTree=dn.rawUrl,dn.resolve(null),f.E}if(Me.urlHandlingStrategy.shouldProcessUrl(dn.rawUrl))return mt(dn.source)&&(Me.browserUrlTree=dn.extractedUrl),(0,b.of)(dn).pipe((0,N.w)(Ni=>{const br=this.transitions?.getValue();return this.events.next(new Xn(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),Ni.source,Ni.restoredState)),br!==this.transitions?.getValue()?f.E:Promise.resolve(Ni)}),function gl(Ue,rt,Me,nt,Gt,sn){return(0,T.z)(dn=>function Pa(Ue,rt,Me,nt,Gt,sn,dn="emptyOnly"){return new dc(Ue,rt,Me,nt,Gt,dn,sn).recognize()}(Ue,rt,Me,nt,dn.extractedUrl,Gt,sn).pipe((0,A.U)(({state:Vn,tree:pi})=>({...dn,targetSnapshot:Vn,urlAfterRedirects:pi}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Me.config,this.urlSerializer,Me.paramsInheritanceStrategy),(0,B.b)(Ni=>{if(nt.targetSnapshot=Ni.targetSnapshot,nt.urlAfterRedirects=Ni.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ni.urlAfterRedirects},"eager"===Me.urlUpdateStrategy){if(!Ni.extras.skipLocationChange){const Qr=Me.urlHandlingStrategy.merge(Ni.urlAfterRedirects,Ni.rawUrl);Me.setBrowserUrl(Qr,Ni)}Me.browserUrlTree=Ni.urlAfterRedirects}const br=new Pt(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),this.urlSerializer.serialize(Ni.urlAfterRedirects),Ni.targetSnapshot);this.events.next(br)}));if(pi&&Me.urlHandlingStrategy.shouldProcessUrl(Me.rawUrlTree)){const{id:Ni,extractedUrl:br,source:Qr,restoredState:oo,extras:$o}=dn,fs=new Xn(Ni,this.urlSerializer.serialize(br),Qr,oo);this.events.next(fs);const is=As(0,this.rootComponentType).snapshot;return nt={...dn,targetSnapshot:is,urlAfterRedirects:br,extras:{...$o,skipLocationChange:!1,replaceUrl:!1}},(0,b.of)(nt)}{const Ni="";return this.events.next(new Ne(dn.id,Me.serializeUrl(nt.extractedUrl),Ni,1)),Me.rawUrlTree=dn.rawUrl,dn.resolve(null),f.E}}),(0,B.b)(dn=>{const Vn=new ln(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Vn)}),(0,A.U)(dn=>nt={...dn,guards:Ks(dn.targetSnapshot,dn.currentSnapshot,this.rootContexts)}),function Ia(Ue,rt){return(0,T.z)(Me=>{const{targetSnapshot:nt,currentSnapshot:Gt,guards:{canActivateChecks:sn,canDeactivateChecks:dn}}=Me;return 0===dn.length&&0===sn.length?(0,b.of)({...Me,guardsResult:!0}):function Ur(Ue,rt,Me,nt){return(0,v.D)(Ue).pipe((0,T.z)(Gt=>function wn(Ue,rt,Me,nt,Gt){const sn=rt&&rt.routeConfig?rt.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,b.of)(!0);const dn=sn.map(Vn=>{const pi=io(rt)??Gt,Ri=ys(Vn,pi);return ie(function Ws(Ue){return Ue&&vo(Ue.canDeactivate)}(Ri)?Ri.canDeactivate(Ue,rt,Me,nt):pi.runInContext(()=>Ri(Ue,rt,Me,nt))).pipe((0,L.P)())});return(0,b.of)(dn).pipe(bs())}(Gt.component,Gt.route,Me,rt,nt)),(0,L.P)(Gt=>!0!==Gt,!0))}(dn,nt,Gt,Ue).pipe((0,T.z)(Vn=>Vn&&function Ls(Ue){return"boolean"==typeof Ue}(Vn)?function kn(Ue,rt,Me,nt){return(0,v.D)(rt).pipe((0,y.b)(Gt=>(0,m.z)(function Ot(Ue,rt){return null!==Ue&&rt&&rt(new Fi(Ue)),(0,b.of)(!0)}(Gt.route.parent,nt),function _t(Ue,rt){return null!==Ue&&rt&&rt(new Ko(Ue)),(0,b.of)(!0)}(Gt.route,nt),function $t(Ue,rt,Me){const nt=rt[rt.length-1],sn=rt.slice(0,rt.length-1).reverse().map(dn=>function pr(Ue){const rt=Ue.routeConfig?Ue.routeConfig.canActivateChild:null;return rt&&0!==rt.length?{node:Ue,guards:rt}:null}(dn)).filter(dn=>null!==dn).map(dn=>(0,i.P)(()=>{const Vn=dn.guards.map(pi=>{const Ri=io(dn.node)??Me,Ni=ys(pi,Ri);return ie(function xa(Ue){return Ue&&vo(Ue.canActivateChild)}(Ni)?Ni.canActivateChild(nt,Ue):Ri.runInContext(()=>Ni(nt,Ue))).pipe((0,L.P)())});return(0,b.of)(Vn).pipe(bs())}));return(0,b.of)(sn).pipe(bs())}(Ue,Gt.path,Me),function ut(Ue,rt,Me){const nt=rt.routeConfig?rt.routeConfig.canActivate:null;if(!nt||0===nt.length)return(0,b.of)(!0);const Gt=nt.map(sn=>(0,i.P)(()=>{const dn=io(rt)??Me,Vn=ys(sn,dn);return ie(function ha(Ue){return Ue&&vo(Ue.canActivate)}(Vn)?Vn.canActivate(rt,Ue):dn.runInContext(()=>Vn(rt,Ue))).pipe((0,L.P)())}));return(0,b.of)(Gt).pipe(bs())}(Ue,Gt.route,Me))),(0,L.P)(Gt=>!0!==Gt,!0))}(nt,sn,Ue,rt):(0,b.of)(Vn)),(0,A.U)(Vn=>({...Me,guardsResult:Vn})))})}(this.environmentInjector,dn=>this.events.next(dn)),(0,B.b)(dn=>{if(nt.guardsResult=dn.guardsResult,In(dn.guardsResult))throw ko(0,dn.guardsResult);const Vn=new Fn(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot,!!dn.guardsResult);this.events.next(Vn)}),(0,I.h)(dn=>!!dn.guardsResult||(Me.restoreHistory(dn),this.cancelNavigationTransition(dn,"",3),!1)),Ra(dn=>{if(dn.guards.canActivateChecks.length)return(0,b.of)(dn).pipe((0,B.b)(Vn=>{const pi=new vi(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(pi)}),(0,N.w)(Vn=>{let pi=!1;return(0,b.of)(Vn).pipe(function uc(Ue,rt){return(0,T.z)(Me=>{const{targetSnapshot:nt,guards:{canActivateChecks:Gt}}=Me;if(!Gt.length)return(0,b.of)(Me);let sn=0;return(0,v.D)(Gt).pipe((0,y.b)(dn=>function va(Ue,rt,Me,nt){const Gt=Ue.routeConfig,sn=Ue._resolve;return void 0!==Gt?.title&&!Ts(Gt)&&(sn[Te]=Gt.title),function nl(Ue,rt,Me,nt){const Gt=function _l(Ue){return[...Object.keys(Ue),...Object.getOwnPropertySymbols(Ue)]}(Ue);if(0===Gt.length)return(0,b.of)({});const sn={};return(0,v.D)(Gt).pipe((0,T.z)(dn=>function Ol(Ue,rt,Me,nt){const Gt=io(rt)??nt,sn=ys(Ue,Gt);return ie(sn.resolve?sn.resolve(rt,Me):Gt.runInContext(()=>sn(rt,Me)))}(Ue[dn],rt,Me,nt).pipe((0,L.P)(),(0,B.b)(Vn=>{sn[dn]=Vn}))),Se(1),(0,Ce.h)(sn),Fe(dn=>ta(dn)?f.E:(0,d._)(dn)))}(sn,Ue,rt,nt).pipe((0,A.U)(dn=>(Ue._resolvedData=dn,Ue.data=$i(Ue,Me).resolve,Gt&&Ts(Gt)&&(Ue.data[Te]=Gt.title),null)))}(dn.route,nt,Ue,rt)),(0,B.b)(()=>sn++),Se(1),(0,T.z)(dn=>sn===Gt.length?(0,b.of)(Me):f.E))})}(Me.paramsInheritanceStrategy,this.environmentInjector),(0,B.b)({next:()=>pi=!0,complete:()=>{pi||(Me.restoreHistory(Vn),this.cancelNavigationTransition(Vn,"",2))}}))}),(0,B.b)(Vn=>{const pi=new vr(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(pi)}))}),Ra(dn=>{const Vn=pi=>{const Ri=[];pi.routeConfig?.loadComponent&&!pi.routeConfig._loadedComponent&&Ri.push(this.configLoader.loadComponent(pi.routeConfig).pipe((0,B.b)(Ni=>{pi.component=Ni}),(0,A.U)(()=>{})));for(const Ni of pi.children)Ri.push(...Vn(Ni));return Ri};return(0,P.a)(Vn(dn.targetSnapshot.root)).pipe((0,G.d)(),(0,O.q)(1))}),Ra(()=>this.afterPreactivation()),(0,A.U)(dn=>{const Vn=function sr(Ue,rt,Me){const nt=Wi(Ue,rt._root,Me?Me._root:void 0);return new qo(nt,rt)}(Me.routeReuseStrategy,dn.targetSnapshot,dn.currentRouterState);return nt={...dn,targetRouterState:Vn}}),(0,B.b)(dn=>{Me.currentUrlTree=dn.urlAfterRedirects,Me.rawUrlTree=Me.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl),Me.routerState=dn.targetRouterState,"deferred"===Me.urlUpdateStrategy&&(dn.extras.skipLocationChange||Me.setBrowserUrl(Me.rawUrlTree,dn),Me.browserUrlTree=dn.urlAfterRedirects)}),((Ue,rt,Me,nt)=>(0,A.U)(Gt=>(new Fr(rt,Gt.targetRouterState,Gt.currentRouterState,Me,nt).activate(Ue),Gt)))(this.rootContexts,Me.routeReuseStrategy,dn=>this.events.next(dn),this.inputBindingEnabled),(0,O.q)(1),(0,B.b)({next:dn=>{Gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,Me.navigated=!0,this.events.next(new Ut(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(Me.currentUrlTree))),Me.titleStrategy?.updateTitle(dn.targetRouterState.snapshot),dn.resolve(!0)},complete:()=>{Gt=!0}}),(0,pe.x)(()=>{Gt||sn||this.cancelNavigationTransition(nt,"",1),this.currentNavigation?.id===nt.id&&(this.currentNavigation=null)}),Fe(dn=>{if(sn=!0,_o(dn)){eo(dn)||(Me.navigated=!0,Me.restoreHistory(nt,!0));const Vn=new On(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dn.message,dn.cancellationCode);if(this.events.next(Vn),eo(dn)){const pi=Me.urlHandlingStrategy.merge(dn.url,Me.rawUrlTree),Ri={skipLocationChange:nt.extras.skipLocationChange,replaceUrl:"eager"===Me.urlUpdateStrategy||mt(nt.source)};Me.scheduleNavigation(pi,An,null,Ri,{resolve:nt.resolve,reject:nt.reject,promise:nt.promise})}else nt.resolve(!1)}else{Me.restoreHistory(nt,!0);const Vn=new Ft(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dn,nt.targetSnapshot??void 0);this.events.next(Vn);try{nt.resolve(Me.errorHandler(dn))}catch(pi){nt.reject(pi)}}return f.E}))}))}cancelNavigationTransition(Me,nt,Gt){const sn=new On(Me.id,this.urlSerializer.serialize(Me.extractedUrl),nt,Gt);this.events.next(sn),Me.resolve(!1)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function mt(Ue){return Ue!==An}let Vt=(()=>{class Ue{buildTitle(Me){let nt,Gt=Me.root;for(;void 0!==Gt;)nt=this.getResolvedTitleForRoute(Gt)??nt,Gt=Gt.children.find(sn=>sn.outlet===we);return nt}getResolvedTitleForRoute(Me){return Me.data[Te]}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return(0,e.f3M)(Sn)},providedIn:"root"})}return Ue})(),Sn=(()=>{class Ue extends Vt{constructor(Me){super(),this.title=Me}updateTitle(Me){const nt=this.buildTitle(Me);void 0!==nt&&this.title.setTitle(nt)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.LFG(he.Dx))};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),Zn=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return(0,e.f3M)(Bi)},providedIn:"root"})}return Ue})();class ai{shouldDetach(rt){return!1}store(rt,Me){}shouldAttach(rt){return!1}retrieve(rt){return null}shouldReuseRoute(rt,Me){return rt.routeConfig===Me.routeConfig}}let Bi=(()=>{class Ue extends ai{static#e=this.\u0275fac=function(){let Me;return function(Gt){return(Me||(Me=e.n5z(Ue)))(Gt||Ue)}}();static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Rr=new e.OlP("",{providedIn:"root",factory:()=>({})});let gr=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return(0,e.f3M)(ur)},providedIn:"root"})}return Ue})(),ur=(()=>{class Ue{shouldProcessUrl(Me){return!0}extract(Me){return Me}merge(Me,nt){return Me}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();var nr=function(Ue){return Ue[Ue.COMPLETE=0]="COMPLETE",Ue[Ue.FAILED=1]="FAILED",Ue[Ue.REDIRECTING=2]="REDIRECTING",Ue}(nr||{});function uo(Ue,rt){Ue.events.pipe((0,I.h)(Me=>Me instanceof Ut||Me instanceof On||Me instanceof Ft||Me instanceof Ne),(0,A.U)(Me=>Me instanceof Ut||Me instanceof Ne?nr.COMPLETE:Me instanceof On&&(0===Me.code||1===Me.code)?nr.REDIRECTING:nr.FAILED),(0,I.h)(Me=>Me!==nr.REDIRECTING),(0,O.q)(1)).subscribe(()=>{rt()})}function Nr(Ue){throw Ue}function _r(Ue,rt,Me){return rt.parse("/")}const ns={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class Ue{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(Rr,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||Nr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_r,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(gr),this.routeReuseStrategy=(0,e.f3M)(Zn),this.titleStrategy=(0,e.f3M)(Vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Ss,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(Yt),this.urlSerializer=(0,e.f3M)(gt),this.location=(0,e.f3M)(x.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(Hi,{optional:!0}),this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=As(0,null),this.navigationTransitions.setupNavigations(this).subscribe(Me=>{this.lastSuccessfulId=Me.id,this.currentPageId=this.browserPageId??0},Me=>{this.console.warn(`Unhandled Navigation Error: ${Me}`)})}resetRootComponentType(Me){this.routerState.root.component=Me,this.navigationTransitions.rootComponentType=Me}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const Me=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),An,Me)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Me=>{const nt="popstate"===Me.type?"popstate":"hashchange";"popstate"===nt&&setTimeout(()=>{this.navigateToSyncWithBrowser(Me.url,nt,Me.state)},0)}))}navigateToSyncWithBrowser(Me,nt,Gt){const sn={replaceUrl:!0},dn=Gt?.navigationId?Gt:null;if(Gt){const pi={...Gt};delete pi.navigationId,delete pi.\u0275routerPageId,0!==Object.keys(pi).length&&(sn.state=pi)}const Vn=this.parseUrl(Me);this.scheduleNavigation(Vn,nt,dn,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Me){this.config=Me.map(Wr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Me,nt={}){const{relativeTo:Gt,queryParams:sn,fragment:dn,queryParamsHandling:Vn,preserveFragment:pi}=nt,Ri=pi?this.currentUrlTree.fragment:dn;let br,Ni=null;switch(Vn){case"merge":Ni={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Ni=this.currentUrlTree.queryParams;break;default:Ni=sn||null}null!==Ni&&(Ni=this.removeEmptyProps(Ni));try{br=$n(Gt?Gt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Me[0]||!Me[0].startsWith("/"))&&(Me=[]),br=this.currentUrlTree.root}return ni(br,Me,Ni,Ri??null)}navigateByUrl(Me,nt={skipLocationChange:!1}){const Gt=In(Me)?Me:this.parseUrl(Me),sn=this.urlHandlingStrategy.merge(Gt,this.rawUrlTree);return this.scheduleNavigation(sn,An,null,nt)}navigate(Me,nt={skipLocationChange:!1}){return function no(Ue){for(let rt=0;rt<Ue.length;rt++)if(null==Ue[rt])throw new e.vHH(4008,!1)}(Me),this.navigateByUrl(this.createUrlTree(Me,nt),nt)}serializeUrl(Me){return this.urlSerializer.serialize(Me)}parseUrl(Me){let nt;try{nt=this.urlSerializer.parse(Me)}catch(Gt){nt=this.malformedUriErrorHandler(Gt,this.urlSerializer,Me)}return nt}isActive(Me,nt){let Gt;if(Gt=!0===nt?{...ns}:!1===nt?{...Vi}:nt,In(Me))return ee(this.currentUrlTree,Me,Gt);const sn=this.parseUrl(Me);return ee(this.currentUrlTree,sn,Gt)}removeEmptyProps(Me){return Object.keys(Me).reduce((nt,Gt)=>{const sn=Me[Gt];return null!=sn&&(nt[Gt]=sn),nt},{})}scheduleNavigation(Me,nt,Gt,sn,dn){if(this.disposed)return Promise.resolve(!1);let Vn,pi,Ri;dn?(Vn=dn.resolve,pi=dn.reject,Ri=dn.promise):Ri=new Promise((br,Qr)=>{Vn=br,pi=Qr});const Ni=this.pendingTasks.add();return uo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ni))}),this.navigationTransitions.handleNavigationRequest({source:nt,restoredState:Gt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Me,extras:sn,resolve:Vn,reject:pi,promise:Ri,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ri.catch(br=>Promise.reject(br))}setBrowserUrl(Me,nt){const Gt=this.urlSerializer.serialize(Me);if(this.location.isCurrentPathEqualTo(Gt)||nt.extras.replaceUrl){const dn={...nt.extras.state,...this.generateNgRouterState(nt.id,this.browserPageId)};this.location.replaceState(Gt,"",dn)}else{const sn={...nt.extras.state,...this.generateNgRouterState(nt.id,(this.browserPageId??0)+1)};this.location.go(Gt,"",sn)}}restoreHistory(Me,nt=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-(this.browserPageId??this.currentPageId);0!==sn?this.location.historyGo(sn):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===sn&&(this.resetState(Me),this.browserUrlTree=Me.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(nt&&this.resetState(Me),this.resetUrlToCurrentUrlTree())}resetState(Me){this.routerState=Me.currentRouterState,this.currentUrlTree=Me.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Me.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Me,nt){return"computed"===this.canceledNavigationResolution?{navigationId:Me,\u0275routerPageId:nt}:{navigationId:Me}}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),Cs=(()=>{class Ue{constructor(Me,nt,Gt,sn,dn,Vn){this.router=Me,this.route=nt,this.tabIndexAttribute=Gt,this.renderer=sn,this.el=dn,this.locationStrategy=Vn,this.href=null,this.commands=null,this.onChanges=new S.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pi=dn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pi||"area"===pi,this.isAnchorElement?this.subscription=Me.events.subscribe(Ri=>{Ri instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Me){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Me)}ngOnChanges(Me){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Me){null!=Me?(this.commands=Array.isArray(Me)?Me:[Me],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Me,nt,Gt,sn,dn){return!!(null===this.urlTree||this.isAnchorElement&&(0!==Me||nt||Gt||sn||dn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Me=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Me)}applyAttributeValue(Me,nt){const Gt=this.renderer,sn=this.el.nativeElement;null!==nt?Gt.setAttribute(sn,Me,nt):Gt.removeAttribute(sn,Me)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.Y36(Jr),e.Y36(yi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(x.S$))};static#t=this.\u0275dir=e.lG2({type:Ue,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(nt,Gt){1&nt&&e.NdJ("click",function(dn){return Gt.onClick(dn.button,dn.ctrlKey,dn.shiftKey,dn.altKey,dn.metaKey)}),2&nt&&e.uIk("target",Gt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return Ue})();class ya{}let ba=(()=>{class Ue{constructor(Me,nt,Gt,sn,dn){this.router=Me,this.injector=Gt,this.preloadingStrategy=sn,this.loader=dn}setUpPreloading(){this.subscription=this.router.events.pipe((0,I.h)(Me=>Me instanceof Ut),(0,y.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Me,nt){const Gt=[];for(const sn of nt){sn.providers&&!sn._injector&&(sn._injector=(0,e.MMx)(sn.providers,Me,`Route: ${sn.path}`));const dn=sn._injector??Me,Vn=sn._loadedInjector??dn;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&Gt.push(this.preloadConfig(dn,sn)),(sn.children||sn._loadedRoutes)&&Gt.push(this.processRoutes(Vn,sn.children??sn._loadedRoutes))}return(0,v.D)(Gt).pipe((0,ke.J)())}preloadConfig(Me,nt){return this.preloadingStrategy.preload(nt,()=>{let Gt;Gt=nt.loadChildren&&void 0===nt.canLoad?this.loader.loadChildren(Me,nt):(0,b.of)(null);const sn=Gt.pipe((0,T.z)(dn=>null===dn?(0,b.of)(void 0):(nt._loadedRoutes=dn.routes,nt._loadedInjector=dn.injector,this.processRoutes(dn.injector??Me,dn.routes))));if(nt.loadComponent&&!nt._loadedComponent){const dn=this.loader.loadComponent(nt);return(0,v.D)([sn,dn]).pipe((0,ke.J)())}return sn})}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.LFG(Jr),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(ya),e.LFG(or))};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Ka=new e.OlP("");let Ds=(()=>{class Ue{constructor(Me,nt,Gt,sn,dn={}){this.urlSerializer=Me,this.transitions=nt,this.viewportScroller=Gt,this.zone=sn,this.options=dn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},dn.scrollPositionRestoration=dn.scrollPositionRestoration||"disabled",dn.anchorScrolling=dn.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof Xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Me.navigationTrigger,this.restoredId=Me.restoredState?Me.restoredState.navigationId:0):Me instanceof Ut?(this.lastId=Me.id,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.urlAfterRedirects).fragment)):Me instanceof Ne&&0===Me.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof vs&&(Me.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Me.position):Me.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Me.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Me,nt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vs(Me,"popstate"===this.lastSource?this.store[this.restoredId]:null,nt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(nt){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();function ar(Ue,rt){return{\u0275kind:Ue,\u0275providers:rt}}function il(){const Ue=(0,e.f3M)(e.zs3);return rt=>{const Me=Ue.get(e.z2F);if(rt!==Me.components[0])return;const nt=Ue.get(Jr),Gt=Ue.get(ro);1===Ue.get(Wa)&&nt.initialNavigation(),Ue.get(us,null,e.XFs.Optional)?.setUpPreloading(),Ue.get(Ka,null,e.XFs.Optional)?.init(),nt.resetRootComponentType(Me.componentTypes[0]),Gt.closed||(Gt.next(),Gt.complete(),Gt.unsubscribe())}}const ro=new e.OlP("",{factory:()=>new S.x}),Wa=new e.OlP("",{providedIn:"root",factory:()=>1}),us=new e.OlP("");function Zo(Ue){return ar(0,[{provide:us,useExisting:ba},{provide:ya,useExisting:Ue}])}const rl=new e.OlP("ROUTER_FORROOT_GUARD"),Ta=[x.Ye,{provide:gt,useClass:Qe},Jr,ir,{provide:yi,useFactory:function di(Ue){return Ue.routerState.root},deps:[Jr]},or,[]];function sa(){return new e.PXZ("Router",Jr)}let Fs=(()=>{class Ue{constructor(Me){}static forRoot(Me,nt){return{ngModule:Ue,providers:[Ta,[],{provide:Ss,multi:!0,useValue:Me},{provide:rl,useFactory:$c,deps:[[Jr,new e.FiY,new e.tp0]]},{provide:Rr,useValue:nt||{}},nt?.useHash?{provide:x.S$,useClass:x.Do}:{provide:x.S$,useClass:x.b0},{provide:Ka,useFactory:()=>{const Ue=(0,e.f3M)(x.EM),rt=(0,e.f3M)(e.R0b),Me=(0,e.f3M)(Rr),nt=(0,e.f3M)(Yt),Gt=(0,e.f3M)(gt);return Me.scrollOffset&&Ue.setOffset(Me.scrollOffset),new Ds(Gt,nt,Ue,rt,Me)}},nt?.preloadingStrategy?Zo(nt.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:sa},nt?.initialNavigation?zs(nt):[],nt?.bindToComponentInputs?ar(8,[Qi,{provide:Hi,useExisting:Qi}]).\u0275providers:[],[{provide:Tl,useFactory:il},{provide:e.tb,multi:!0,useExisting:Tl}]]}}static forChild(Me){return{ngModule:Ue,providers:[{provide:Ss,multi:!0,useValue:Me}]}}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.LFG(rl,8))};static#t=this.\u0275mod=e.oAB({type:Ue});static#n=this.\u0275inj=e.cJS({})}return Ue})();function $c(Ue){return"guarded"}function zs(Ue){return["disabled"===Ue.initialNavigation?ar(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const rt=(0,e.f3M)(Jr);return()=>{rt.setUpLocationChangeListener()}}},{provide:Wa,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ue.initialNavigation?ar(2,[{provide:Wa,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:rt=>{const Me=rt.get(x.V_,Promise.resolve());return()=>Me.then(()=>new Promise(nt=>{const Gt=rt.get(Jr),sn=rt.get(ro);uo(Gt,()=>{nt(!0)}),rt.get(Yt).afterPreactivation=()=>(nt(!0),sn.closed?(0,b.of)(void 0):sn),Gt.initialNavigation()}))}}]).\u0275providers:[]]}const Tl=new e.OlP("")},3106:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>x});var e=p(9058),t=p(4537),v=p(534),b=p(7879);class g{constructor(N,O){this._delegate=N,this.firebase=O,(0,v._addComponent)(N,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=N.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this._delegate.automaticDataCollectionEnabled=N}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(N=>{this._delegate.checkDestroyed(),N()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(N,O=v._DEFAULT_ENTRY_NAME){var C;this._delegate.checkDestroyed();const I=this._delegate.container.getProvider(N);return!I.isInitialized()&&"EXPLICIT"===(null===(C=I.getComponent())||void 0===C?void 0:C.instantiationMode)&&I.initialize(),I.getImmediate({identifier:O})}_removeServiceInstance(N,O=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(N).clearInstance(O)}_addComponent(N){(0,v._addComponent)(this._delegate,N)}_addOrOverwriteComponent(N){(0,v._addOrOverwriteComponent)(this._delegate,N)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const D=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function i(){const A=function m(A){const N={},O={__esModule:!0,initializeApp:function T(z,ne={}){const ae=v.initializeApp(z,ne);if((0,e.r3)(N,ae.name))return N[ae.name];const Fe=new A(ae,O);return N[ae.name]=Fe,Fe},app:I,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function y(z){const ne=z.name,ae=ne.replace("-compat","");if(v._registerComponent(z)&&"PUBLIC"===z.type){const Fe=(Y=I())=>{if("function"!=typeof Y[ae])throw D.create("invalid-app-argument",{appName:ne});return Y[ae]()};void 0!==z.serviceProps&&(0,e.ZB)(Fe,z.serviceProps),O[ae]=Fe,A.prototype[ae]=function(...Y){return this._getService.bind(this,ne).apply(this,z.multipleInstances?Y:[])}}return"PUBLIC"===z.type?O[ae]:null},removeApp:function C(z){delete N[z]},useAsService:function B(z,ne){return"serverAuth"===ne?null:ne},modularAPIs:v}};function I(z){if(!(0,e.r3)(N,z=z||v._DEFAULT_ENTRY_NAME))throw D.create("no-app",{appName:z});return N[z]}return O.default=O,Object.defineProperty(O,"apps",{get:function L(){return Object.keys(N).map(z=>N[z])}}),I.App=A,O}(g);return A.INTERNAL=Object.assign(Object.assign({},A.INTERNAL),{createFirebaseNamespace:i,extendNamespace:function N(O){(0,e.ZB)(A,O)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),A}(),d=new b.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const A=self.firebase.SDK_VERSION;A&&A.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const x=c;!function S(A){(0,v.registerVersion)("@firebase/app-compat","0.2.13",A)}()},534:(Wn,et,p)=>{"use strict";p.r(et),p.d(et,{FirebaseError:()=>b.ZR,SDK_VERSION:()=>Et,_DEFAULT_ENTRY_NAME:()=>_e,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Xe,_apps:()=>Ee,_clearComponents:()=>yt,_components:()=>Ge,_getProvider:()=>gt,_registerComponent:()=>tt,_removeServiceInstance:()=>Qe,deleteApp:()=>un,getApp:()=>Qt,getApps:()=>qt,initializeApp:()=>Wt,onLog:()=>vt,registerVersion:()=>wt,setLogLevel:()=>it});var e=p(5861),t=p(4537),v=p(7879),b=p(9058);const g=(mn,_n)=>_n.some(At=>mn instanceof At);let P,D;const c=new WeakMap,d=new WeakMap,f=new WeakMap,_=new WeakMap,S=new WeakMap;let N={get(mn,_n,At){if(mn instanceof IDBTransaction){if("done"===_n)return d.get(mn);if("objectStoreNames"===_n)return mn.objectStoreNames||f.get(mn);if("store"===_n)return At.objectStoreNames[1]?void 0:At.objectStore(At.objectStoreNames[0])}return T(mn[_n])},set:(mn,_n,At)=>(mn[_n]=At,!0),has:(mn,_n)=>mn instanceof IDBTransaction&&("done"===_n||"store"===_n)||_n in mn};function I(mn){return"function"==typeof mn?function C(mn){return mn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function i(){return D||(D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(mn)?function(..._n){return mn.apply(L(this),_n),T(c.get(this))}:function(..._n){return T(mn.apply(L(this),_n))}:function(_n,...At){const ht=mn.call(L(this),_n,...At);return f.set(ht,_n.sort?_n.sort():[_n]),T(ht)}}(mn):(mn instanceof IDBTransaction&&function A(mn){if(d.has(mn))return;const _n=new Promise((At,ht)=>{const Tn=()=>{mn.removeEventListener("complete",qe),mn.removeEventListener("error",Ct),mn.removeEventListener("abort",Ct)},qe=()=>{At(),Tn()},Ct=()=>{ht(mn.error||new DOMException("AbortError","AbortError")),Tn()};mn.addEventListener("complete",qe),mn.addEventListener("error",Ct),mn.addEventListener("abort",Ct)});d.set(mn,_n)}(mn),g(mn,function m(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(mn,N):mn)}function T(mn){if(mn instanceof IDBRequest)return function x(mn){const _n=new Promise((At,ht)=>{const Tn=()=>{mn.removeEventListener("success",qe),mn.removeEventListener("error",Ct)},qe=()=>{At(T(mn.result)),Tn()},Ct=()=>{ht(mn.error),Tn()};mn.addEventListener("success",qe),mn.addEventListener("error",Ct)});return _n.then(At=>{At instanceof IDBCursor&&c.set(At,mn)}).catch(()=>{}),S.set(_n,mn),_n}(mn);if(_.has(mn))return _.get(mn);const _n=I(mn);return _n!==mn&&(_.set(mn,_n),S.set(_n,mn)),_n}const L=mn=>S.get(mn),z=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],ae=new Map;function Fe(mn,_n){if(!(mn instanceof IDBDatabase)||_n in mn||"string"!=typeof _n)return;if(ae.get(_n))return ae.get(_n);const At=_n.replace(/FromIndex$/,""),ht=_n!==At,Tn=ne.includes(At);if(!(At in(ht?IDBIndex:IDBObjectStore).prototype)||!Tn&&!z.includes(At))return;const qe=function(){var Ct=(0,e.Z)(function*(Jt,...Rt){const xn=this.transaction(Jt,Tn?"readwrite":"readonly");let kt=xn.store;return ht&&(kt=kt.index(Rt.shift())),(yield Promise.all([kt[At](...Rt),Tn&&xn.done]))[0]});return function(Rt){return Ct.apply(this,arguments)}}();return ae.set(_n,qe),qe}!function O(mn){N=mn(N)}(mn=>({...mn,get:(_n,At,ht)=>Fe(_n,At)||mn.get(_n,At,ht),has:(_n,At)=>!!Fe(_n,At)||mn.has(_n,At)}));class Y{constructor(_n){this.container=_n}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function le(mn){const _n=mn.getComponent();return"VERSION"===_n?.type}(At)){const ht=At.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(At=>At).join(" ")}}const G="@firebase/app",ce=new v.Yd("@firebase/app"),_e="[DEFAULT]",xe={[G]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ee=new Map,Ge=new Map;function ct(mn,_n){try{mn.container.addComponent(_n)}catch(At){ce.debug(`Component ${_n.name} failed to register with FirebaseApp ${mn.name}`,At)}}function Xe(mn,_n){mn.container.addOrOverwriteComponent(_n)}function tt(mn){const _n=mn.name;if(Ge.has(_n))return ce.debug(`There were multiple attempts to register component ${_n}.`),!1;Ge.set(_n,mn);for(const At of Ee.values())ct(At,mn);return!0}function gt(mn,_n){const At=mn.container.getProvider("heartbeat").getImmediate({optional:!0});return At&&At.triggerHeartbeat(),mn.container.getProvider(_n)}function Qe(mn,_n,At=_e){gt(mn,_n).clearInstance(At)}function yt(){Ge.clear()}const fe=new b.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class We{constructor(_n,At,ht){this._isDeleted=!1,this._options=Object.assign({},_n),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_n){this.checkDestroyed(),this._automaticDataCollectionEnabled=_n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_n){this._isDeleted=_n}checkDestroyed(){if(this.isDeleted)throw fe.create("app-deleted",{appName:this._name})}}const Et="9.23.0";function Wt(mn,_n={}){let At=mn;"object"!=typeof _n&&(_n={name:_n});const ht=Object.assign({name:_e,automaticDataCollectionEnabled:!1},_n),Tn=ht.name;if("string"!=typeof Tn||!Tn)throw fe.create("bad-app-name",{appName:String(Tn)});if(At||(At=(0,b.aH)()),!At)throw fe.create("no-options");const qe=Ee.get(Tn);if(qe){if((0,b.vZ)(At,qe.options)&&(0,b.vZ)(ht,qe.config))return qe;throw fe.create("duplicate-app",{appName:Tn})}const Ct=new t.H0(Tn);for(const Rt of Ge.values())Ct.addComponent(Rt);const Jt=new We(At,ht,Ct);return Ee.set(Tn,Jt),Jt}function Qt(mn=_e){const _n=Ee.get(mn);if(!_n&&mn===_e&&(0,b.aH)())return Wt();if(!_n)throw fe.create("no-app",{appName:mn});return _n}function qt(){return Array.from(Ee.values())}function un(mn){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.Z)(function*(mn){const _n=mn.name;Ee.has(_n)&&(Ee.delete(_n),yield Promise.all(mn.container.getProviders().map(At=>At.delete())),mn.isDeleted=!0)})).apply(this,arguments)}function wt(mn,_n,At){var ht;let Tn=null!==(ht=xe[mn])&&void 0!==ht?ht:mn;At&&(Tn+=`-${At}`);const qe=Tn.match(/\s|\//),Ct=_n.match(/\s|\//);if(qe||Ct){const Jt=[`Unable to register library "${Tn}" with version "${_n}":`];return qe&&Jt.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),qe&&Ct&&Jt.push("and"),Ct&&Jt.push(`version name "${_n}" contains illegal characters (whitespace or "/")`),void ce.warn(Jt.join(" "))}tt(new t.wA(`${Tn}-version`,()=>({library:Tn,version:_n}),"VERSION"))}function vt(mn,_n){if(null!==mn&&"function"!=typeof mn)throw fe.create("invalid-log-argument");(0,v.Am)(mn,_n)}function it(mn){(0,v.Ub)(mn)}const He="firebase-heartbeat-database",ze=1,st="firebase-heartbeat-store";let at=null;function St(){return at||(at=function y(mn,_n,{blocked:At,upgrade:ht,blocking:Tn,terminated:qe}={}){const Ct=indexedDB.open(mn,_n),Jt=T(Ct);return ht&&Ct.addEventListener("upgradeneeded",Rt=>{ht(T(Ct.result),Rt.oldVersion,Rt.newVersion,T(Ct.transaction),Rt)}),At&&Ct.addEventListener("blocked",Rt=>At(Rt.oldVersion,Rt.newVersion,Rt)),Jt.then(Rt=>{qe&&Rt.addEventListener("close",()=>qe()),Tn&&Rt.addEventListener("versionchange",xn=>Tn(xn.oldVersion,xn.newVersion,xn))}).catch(()=>{}),Jt}(He,ze,{upgrade:(mn,_n)=>{0===_n&&mn.createObjectStore(st)}}).catch(mn=>{throw fe.create("idb-open",{originalErrorMessage:mn.message})})),at}function xt(){return(xt=(0,e.Z)(function*(mn){try{return yield(yield St()).transaction(st).objectStore(st).get(tn(mn))}catch(_n){if(_n instanceof b.ZR)ce.warn(_n.message);else{const At=fe.create("idb-get",{originalErrorMessage:_n?.message});ce.warn(At.message)}}})).apply(this,arguments)}function on(mn,_n){return En.apply(this,arguments)}function En(){return(En=(0,e.Z)(function*(mn,_n){try{const ht=(yield St()).transaction(st,"readwrite");yield ht.objectStore(st).put(_n,tn(mn)),yield ht.done}catch(At){if(At instanceof b.ZR)ce.warn(At.message);else{const ht=fe.create("idb-set",{originalErrorMessage:At?.message});ce.warn(ht.message)}}})).apply(this,arguments)}function tn(mn){return`${mn.name}!${mn.options.appId}`}class Nn{constructor(_n){this.container=_n,this._heartbeatsCache=null;const At=this.container.getProvider("app").getImmediate();this._storage=new vn(At),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var _n=this;return(0,e.Z)(function*(){const ht=_n.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tn=$n();if(null===_n._heartbeatsCache&&(_n._heartbeatsCache=yield _n._heartbeatsCachePromise),_n._heartbeatsCache.lastSentHeartbeatDate!==Tn&&!_n._heartbeatsCache.heartbeats.some(qe=>qe.date===Tn))return _n._heartbeatsCache.heartbeats.push({date:Tn,agent:ht}),_n._heartbeatsCache.heartbeats=_n._heartbeatsCache.heartbeats.filter(qe=>{const Ct=new Date(qe.date).valueOf();return Date.now()-Ct<=2592e6}),_n._storage.overwrite(_n._heartbeatsCache)})()}getHeartbeatsHeader(){var _n=this;return(0,e.Z)(function*(){if(null===_n._heartbeatsCache&&(yield _n._heartbeatsCachePromise),null===_n._heartbeatsCache||0===_n._heartbeatsCache.heartbeats.length)return"";const At=$n(),{heartbeatsToSend:ht,unsentEntries:Tn}=function ni(mn,_n=1024){const At=[];let ht=mn.slice();for(const Tn of mn){const qe=At.find(Ct=>Ct.agent===Tn.agent);if(qe){if(qe.dates.push(Tn.date),pn(At)>_n){qe.dates.pop();break}}else if(At.push({agent:Tn.agent,dates:[Tn.date]}),pn(At)>_n){At.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:At,unsentEntries:ht}}(_n._heartbeatsCache.heartbeats),qe=(0,b.L)(JSON.stringify({version:2,heartbeats:ht}));return _n._heartbeatsCache.lastSentHeartbeatDate=At,Tn.length>0?(_n._heartbeatsCache.heartbeats=Tn,yield _n._storage.overwrite(_n._heartbeatsCache)):(_n._heartbeatsCache.heartbeats=[],_n._storage.overwrite(_n._heartbeatsCache)),qe})()}}function $n(){return(new Date).toISOString().substring(0,10)}class vn{constructor(_n){this.app=_n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,b.hl)()&&(0,b.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _n=this;return(0,e.Z)(function*(){return(yield _n._canUseIndexedDBPromise)&&(yield function bt(mn){return xt.apply(this,arguments)}(_n.app))||{heartbeats:[]}})()}overwrite(_n){var At=this;return(0,e.Z)(function*(){var ht;if(yield At._canUseIndexedDBPromise){const qe=yield At.read();return on(At.app,{lastSentHeartbeatDate:null!==(ht=_n.lastSentHeartbeatDate)&&void 0!==ht?ht:qe.lastSentHeartbeatDate,heartbeats:_n.heartbeats})}})()}add(_n){var At=this;return(0,e.Z)(function*(){var ht;if(yield At._canUseIndexedDBPromise){const qe=yield At.read();return on(At.app,{lastSentHeartbeatDate:null!==(ht=_n.lastSentHeartbeatDate)&&void 0!==ht?ht:qe.lastSentHeartbeatDate,heartbeats:[...qe.heartbeats,..._n.heartbeats]})}})()}}function pn(mn){return(0,b.L)(JSON.stringify({version:2,heartbeats:mn})).length}!function yn(mn){tt(new t.wA("platform-logger",_n=>new Y(_n),"PRIVATE")),tt(new t.wA("heartbeat",_n=>new Nn(_n),"PRIVATE")),wt(G,"0.9.13",mn),wt(G,"0.9.13","esm2017"),wt("fire-js","")}("")},4537:(Wn,et,p)=>{"use strict";p.d(et,{H0:()=>m,wA:()=>v});var e=p(5861),t=p(9058);class v{constructor(c,d,f){this.name=c,this.instanceFactory=d,this.type=f,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(c){return this.instantiationMode=c,this}setMultipleInstances(c){return this.multipleInstances=c,this}setServiceProps(c){return this.serviceProps=c,this}setInstanceCreatedCallback(c){return this.onInstanceCreated=c,this}}const b="[DEFAULT]";class g{constructor(c,d){this.name=c,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(c){const d=this.normalizeInstanceIdentifier(c);if(!this.instancesDeferred.has(d)){const f=new t.BH;if(this.instancesDeferred.set(d,f),this.isInitialized(d)||this.shouldAutoInitialize())try{const _=this.getOrInitializeService({instanceIdentifier:d});_&&f.resolve(_)}catch{}}return this.instancesDeferred.get(d).promise}getImmediate(c){var d;const f=this.normalizeInstanceIdentifier(c?.identifier),_=null!==(d=c?.optional)&&void 0!==d&&d;if(!this.isInitialized(f)&&!this.shouldAutoInitialize()){if(_)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:f})}catch(S){if(_)return null;throw S}}getComponent(){return this.component}setComponent(c){if(c.name!==this.name)throw Error(`Mismatching Component ${c.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=c,this.shouldAutoInitialize()){if(function D(i){return"EAGER"===i.instantiationMode}(c))try{this.getOrInitializeService({instanceIdentifier:b})}catch{}for(const[d,f]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(d);try{const S=this.getOrInitializeService({instanceIdentifier:_});f.resolve(S)}catch{}}}}clearInstance(c=b){this.instancesDeferred.delete(c),this.instancesOptions.delete(c),this.instances.delete(c)}delete(){var c=this;return(0,e.Z)(function*(){const d=Array.from(c.instances.values());yield Promise.all([...d.filter(f=>"INTERNAL"in f).map(f=>f.INTERNAL.delete()),...d.filter(f=>"_delete"in f).map(f=>f._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(c=b){return this.instances.has(c)}getOptions(c=b){return this.instancesOptions.get(c)||{}}initialize(c={}){const{options:d={}}=c,f=this.normalizeInstanceIdentifier(c.instanceIdentifier);if(this.isInitialized(f))throw Error(`${this.name}(${f}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _=this.getOrInitializeService({instanceIdentifier:f,options:d});for(const[S,x]of this.instancesDeferred.entries())f===this.normalizeInstanceIdentifier(S)&&x.resolve(_);return _}onInit(c,d){var f;const _=this.normalizeInstanceIdentifier(d),S=null!==(f=this.onInitCallbacks.get(_))&&void 0!==f?f:new Set;S.add(c),this.onInitCallbacks.set(_,S);const x=this.instances.get(_);return x&&c(x,_),()=>{S.delete(c)}}invokeOnInitCallbacks(c,d){const f=this.onInitCallbacks.get(d);if(f)for(const _ of f)try{_(c,d)}catch{}}getOrInitializeService({instanceIdentifier:c,options:d={}}){let f=this.instances.get(c);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(i=c,i===b?void 0:i),options:d}),this.instances.set(c,f),this.instancesOptions.set(c,d),this.invokeOnInitCallbacks(f,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,f)}catch{}var i;return f||null}normalizeInstanceIdentifier(c=b){return this.component?this.component.multipleInstances?c:b:c}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(c){this.name=c,this.providers=new Map}addComponent(c){const d=this.getProvider(c.name);if(d.isComponentSet())throw new Error(`Component ${c.name} has already been registered with ${this.name}`);d.setComponent(c)}addOrOverwriteComponent(c){this.getProvider(c.name).isComponentSet()&&this.providers.delete(c.name),this.addComponent(c)}getProvider(c){if(this.providers.has(c))return this.providers.get(c);const d=new g(c,this);return this.providers.set(c,d),d}getProviders(){return Array.from(this.providers.values())}}},7879:(Wn,et,p)=>{"use strict";p.d(et,{Am:()=>i,Ub:()=>m,Yd:()=>D,in:()=>t});const e=[];var t=function(c){return c[c.DEBUG=0]="DEBUG",c[c.VERBOSE=1]="VERBOSE",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT",c}(t||{});const v={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},b=t.INFO,g={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},P=(c,d,...f)=>{if(d<c.logLevel)return;const _=(new Date).toISOString(),S=g[d];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);console[S](`[${_}]  ${c.name}:`,...f)};class D{constructor(d){this.name=d,this._logLevel=b,this._logHandler=P,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(d){if(!(d in t))throw new TypeError(`Invalid value "${d}" assigned to \`logLevel\``);this._logLevel=d}setLogLevel(d){this._logLevel="string"==typeof d?v[d]:d}get logHandler(){return this._logHandler}set logHandler(d){if("function"!=typeof d)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=d}get userLogHandler(){return this._userLogHandler}set userLogHandler(d){this._userLogHandler=d}debug(...d){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...d),this._logHandler(this,t.DEBUG,...d)}log(...d){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...d),this._logHandler(this,t.VERBOSE,...d)}info(...d){this._userLogHandler&&this._userLogHandler(this,t.INFO,...d),this._logHandler(this,t.INFO,...d)}warn(...d){this._userLogHandler&&this._userLogHandler(this,t.WARN,...d),this._logHandler(this,t.WARN,...d)}error(...d){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...d),this._logHandler(this,t.ERROR,...d)}}function m(c){e.forEach(d=>{d.setLogLevel(c)})}function i(c,d){for(const f of e){let _=null;d&&d.level&&(_=v[d.level]),f.userLogHandler=null===c?null:(S,x,...A)=>{const N=A.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");x>=(_??S.logLevel)&&c({level:t[x].toLowerCase(),message:N,args:A,type:S.name})}}}},8726:(Wn,et,p)=>{"use strict";p.d(et,{Kz:()=>Hn,FF:()=>r});var e=p(5879),t=p(5592),v=p(6232),b=p(2096),g=p(8645),P=p(2438),D=p(4825),m=p(4829);const{isArray:i}=Array;function c(U){return 1===U.length&&i(U[0])?U[0]:U}var d=p(8251);p(3019);var x=p(9940);function A(...U){const Be=(0,x.jO)(U),w=c(U);return w.length?new t.y(H=>{let ve=w.map(()=>[]),Tt=w.map(()=>!1);H.add(()=>{ve=Tt=null});for(let zt=0;!H.closed&&zt<w.length;zt++)(0,m.Xf)(w[zt]).subscribe((0,d.x)(H,Pn=>{if(ve[zt].push(Pn),ve.every(Un=>Un.length)){const Un=ve.map(ei=>ei.shift());H.next(Be?Be(...Un):Un),ve.some((ei,ii)=>!ei.length&&Tt[ii])&&H.complete()}},()=>{Tt[zt]=!0,!ve[zt].length&&H.complete()}));return()=>{ve=Tt=null}}):v.E}var N=p(5211),C=p(9773),I=p(2181),T=p(8180),L=p(9397),y=p(7398),B=p(9360),z=p(2737),ne=p(2420);function ae(...U){const Be=(0,x.jO)(U);return(0,B.e)((w,H)=>{const ve=U.length,Tt=new Array(ve);let zt=U.map(()=>!1),Pn=!1;for(let Un=0;Un<ve;Un++)(0,m.Xf)(U[Un]).subscribe((0,d.x)(H,ei=>{Tt[Un]=ei,!Pn&&!zt[Un]&&(zt[Un]=!0,(Pn=zt.every(z.y))&&(zt=null))},ne.Z));w.subscribe((0,d.x)(H,Un=>{if(Pn){const ei=[Un,...Tt];H.next(Be?Be(...ei):ei)}}))})}p(5177);var Y=p(4664),ce=(p(7921),p(3997),p(836),p(6814));p(95),Math,Math,Math;const Hi=["*"],Aa=["dialog"];function Yt(U){return"string"==typeof U}function Sn(U){return null!=U}function ur(U){return(U||document.body).getBoundingClientRect()}const _r={animation:!0,transitionTimerDelayMs:5},ns=()=>{},{transitionTimerDelayMs:Vi}=_r,Jr=new Map,no=(U,Be,w,H)=>{let ve=H.context||{};const Tt=Jr.get(Be);if(Tt)switch(H.runningTransition){case"continue":return v.E;case"stop":U.run(()=>Tt.transition$.complete()),ve=Object.assign(Tt.context,ve),Jr.delete(Be)}const zt=w(Be,H.animation,ve)||ns;if(!H.animation||"none"===window.getComputedStyle(Be).transitionProperty)return U.run(()=>zt()),(0,b.of)(void 0).pipe(function nr(U){return Be=>new t.y(w=>Be.subscribe({next:zt=>U.run(()=>w.next(zt)),error:zt=>U.run(()=>w.error(zt)),complete:()=>U.run(()=>w.complete())}))}(U));const Pn=new g.x,Un=new g.x,ei=Pn.pipe(function O(...U){return Be=>(0,N.z)(Be,(0,b.of)(...U))}(!0));Jr.set(Be,{transition$:Pn,complete:()=>{Un.next(),Un.complete()},context:ve});const ii=function Nr(U){const{transitionDelay:Be,transitionDuration:w}=window.getComputedStyle(U);return 1e3*(parseFloat(Be)+parseFloat(w))}(Be);return U.runOutsideAngular(()=>{const Mi=(0,P.R)(Be,"transitionend").pipe((0,C.R)(ei),(0,I.h)(({target:ki})=>ki===Be));(function f(...U){return 1===(U=c(U)).length?(0,m.Xf)(U[0]):new t.y(function _(U){return Be=>{let w=[];for(let H=0;w&&!Be.closed&&H<U.length;H++)w.push((0,m.Xf)(U[H]).subscribe((0,d.x)(Be,ve=>{if(w){for(let Tt=0;Tt<w.length;Tt++)Tt!==H&&w[Tt].unsubscribe();w=null}Be.next(ve)})))}}(U))})((0,D.H)(ii+Vi).pipe((0,C.R)(ei)),Mi,Un).pipe((0,C.R)(ei)).subscribe(()=>{Jr.delete(Be),U.run(()=>{zt(),Pn.next(),Pn.complete()})})}),Pn.asObservable()};let ya=(()=>{class U{constructor(){this.animation=_r.animation}static#e=this.\u0275fac=function(H){return new(H||U)};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var wr=function(U){return U[U.Tab=9]="Tab",U[U.Enter=13]="Enter",U[U.Escape=27]="Escape",U[U.Space=32]="Space",U[U.PageUp=33]="PageUp",U[U.PageDown=34]="PageDown",U[U.End=35]="End",U[U.Home=36]="Home",U[U.ArrowLeft=37]="ArrowLeft",U[U.ArrowUp=38]="ArrowUp",U[U.ArrowRight=39]="ArrowRight",U[U.ArrowDown=40]="ArrowDown",U}(wr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ka=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ld(U){const Be=Array.from(U.querySelectorAll(ka)).filter(w=>-1!==w.tabIndex);return[Be[0],Be[Be.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Je{constructor(Be,w,H){this.nodes=Be,this.viewRef=w,this.componentRef=H}}let an=(()=>{class U{constructor(w,H){this._el=w,this._zone=H}ngOnInit(){this._zone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{no(this._zone,this._el.nativeElement,(w,H)=>{H&&ur(w),w.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return no(this._zone,this._el.nativeElement,({classList:w})=>w.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(H){return new(H||U)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(H,ve){2&H&&(e.Tol("modal-backdrop"+(ve.backdropClass?" "+ve.backdropClass:"")),e.ekj("show",!ve.animation)("fade",ve.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(H,ve){},encapsulation:2})}return U})();class Hn{update(Be){}close(Be){}dismiss(Be){}}const ri=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Si=["animation","backdropClass"];class Ii{_applyWindowOptions(Be,w){ri.forEach(H=>{Sn(w[H])&&(Be[H]=w[H])})}_applyBackdropOptions(Be,w){Si.forEach(H=>{Sn(w[H])&&(Be[H]=w[H])})}update(Be){this._applyWindowOptions(this._windowCmptRef.instance,Be),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,Be)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,C.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,C.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(Be,w,H,ve){this._windowCmptRef=Be,this._contentRef=w,this._backdropCmptRef=H,this._beforeDismiss=ve,this._closed=new g.x,this._dismissed=new g.x,this._hidden=new g.x,Be.instance.dismissEvent.subscribe(Tt=>{this.dismiss(Tt)}),this.result=new Promise((Tt,zt)=>{this._resolve=Tt,this._reject=zt}),this.result.then(null,()=>{})}close(Be){this._windowCmptRef&&(this._closed.next(Be),this._resolve(Be),this._removeModalElements())}_dismiss(Be){this._dismissed.next(Be),this._reject(Be),this._removeModalElements()}dismiss(Be){if(this._windowCmptRef)if(this._beforeDismiss){const w=this._beforeDismiss();!function Zn(U){return U&&U.then}(w)?!1!==w&&this._dismiss(Be):w.then(H=>{!1!==H&&this._dismiss(Be)},()=>{})}else this._dismiss(Be)}_removeModalElements(){const Be=this._windowCmptRef.instance.hide(),w=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,b.of)(void 0);Be.subscribe(()=>{const{nativeElement:H}=this._windowCmptRef.location;H.parentNode.removeChild(H),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),w.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:H}=this._backdropCmptRef.location;H.parentNode.removeChild(H),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),A(Be,w).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Yi=function(U){return U[U.BACKDROP_CLICK=0]="BACKDROP_CLICK",U[U.ESC=1]="ESC",U}(Yi||{});let Cr=(()=>{class U{constructor(w,H,ve){this._document=w,this._elRef=H,this._zone=ve,this._closed$=new g.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new g.x,this.hidden=new g.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Yt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(w){this.dismissEvent.emit(w)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:w}=this._elRef,H={animation:this.animation,runningTransition:"stop"},zt=A(no(this._zone,w,()=>w.classList.remove("show"),H),no(this._zone,this._dialogEl.nativeElement,()=>{},H));return zt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),zt}_show(){const w={animation:this.animation,runningTransition:"continue"};A(no(this._zone,this._elRef.nativeElement,(Tt,zt)=>{zt&&ur(Tt),Tt.classList.add("show")},w),no(this._zone,this._dialogEl.nativeElement,()=>{},w)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:w}=this._elRef;this._zone.runOutsideAngular(()=>{(0,P.R)(w,"keydown").pipe((0,C.R)(this._closed$),(0,I.h)(ve=>ve.which===wr.Escape)).subscribe(ve=>{this.keyboard?requestAnimationFrame(()=>{ve.defaultPrevented||this._zone.run(()=>this.dismiss(Yi.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let H=!1;(0,P.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,C.R)(this._closed$),(0,L.b)(()=>H=!1),(0,Y.w)(()=>(0,P.R)(w,"mouseup").pipe((0,C.R)(this._closed$),(0,T.q)(1))),(0,I.h)(({target:ve})=>w===ve)).subscribe(()=>{H=!0}),(0,P.R)(w,"click").pipe((0,C.R)(this._closed$)).subscribe(({target:ve})=>{w===ve&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!H&&this._zone.run(()=>this.dismiss(Yi.BACKDROP_CLICK))),H=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:w}=this._elRef;if(!w.contains(document.activeElement)){const H=w.querySelector("[ngbAutofocus]"),ve=ld(w)[0];(H||ve||w).focus()}}_restoreFocus(){const w=this._document.body,H=this._elWithFocus;let ve;ve=H&&H.focus&&w.contains(H)?H:w,this._zone.runOutsideAngular(()=>{setTimeout(()=>ve.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&no(this._zone,this._elRef.nativeElement,({classList:w})=>(w.add("modal-static"),()=>w.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(H){return new(H||U)(e.Y36(ce.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-window"]],viewQuery:function(H,ve){if(1&H&&e.Gf(Aa,7),2&H){let Tt;e.iGM(Tt=e.CRH())&&(ve._dialogEl=Tt.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(H,ve){2&H&&(e.uIk("aria-modal",!0)("aria-labelledby",ve.ariaLabelledBy)("aria-describedby",ve.ariaDescribedBy),e.Tol("modal d-block"+(ve.windowClass?" "+ve.windowClass:"")),e.ekj("fade",ve.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:Hi,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(H,ve){1&H&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&H&&e.Tol("modal-dialog"+(ve.size?" modal-"+ve.size:"")+(ve.centered?" modal-dialog-centered":"")+ve.fullscreenClass+(ve.scrollable?" modal-dialog-scrollable":"")+(ve.modalDialogClass?" "+ve.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return U})(),Ps=(()=>{class U{constructor(w){this._document=w}hide(){const w=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),H=this._document.body,ve=H.style,{overflow:Tt,paddingRight:zt}=ve;if(w>0){const Pn=parseFloat(window.getComputedStyle(H).paddingRight);ve.paddingRight=`${Pn+w}px`}return ve.overflow="hidden",()=>{w>0&&(ve.paddingRight=zt),ve.overflow=Tt}}static#e=this.\u0275fac=function(H){return new(H||U)(e.LFG(ce.K0))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),oc=(()=>{class U{constructor(w,H,ve,Tt,zt,Pn,Un){this._applicationRef=w,this._injector=H,this._environmentInjector=ve,this._document=Tt,this._scrollBar=zt,this._rendererFactory=Pn,this._ngZone=Un,this._activeWindowCmptHasChanged=new g.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ei=this._windowCmpts[this._windowCmpts.length-1];((U,Be,w,H=!1)=>{U.runOutsideAngular(()=>{const ve=(0,P.R)(Be,"focusin").pipe((0,C.R)(w),(0,y.U)(Tt=>Tt.target));(0,P.R)(Be,"keydown").pipe((0,C.R)(w),(0,I.h)(Tt=>Tt.which===wr.Tab),ae(ve)).subscribe(([Tt,zt])=>{const[Pn,Un]=ld(Be);(zt===Pn||zt===Be)&&Tt.shiftKey&&(Un.focus(),Tt.preventDefault()),zt===Un&&!Tt.shiftKey&&(Pn.focus(),Tt.preventDefault())}),H&&(0,P.R)(Be,"click").pipe((0,C.R)(w),ae(ve),(0,y.U)(Tt=>Tt[1])).subscribe(Tt=>Tt.focus())})})(this._ngZone,ei.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ei.location.nativeElement)}})}_restoreScrollBar(){const w=this._scrollBarRestoreFn;w&&(this._scrollBarRestoreFn=null,w())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(w,H,ve){const Tt=ve.container instanceof HTMLElement?ve.container:Sn(ve.container)?this._document.querySelector(ve.container):this._document.body,zt=this._rendererFactory.createRenderer(null,null);if(!Tt)throw new Error(`The specified modal container "${ve.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Pn=new Hn,Un=(w=ve.injector||w).get(e.lqb,null)||this._environmentInjector,ei=this._getContentRef(w,Un,H,Pn,ve);let ii=!1!==ve.backdrop?this._attachBackdrop(Tt):void 0,Mi=this._attachWindowComponent(Tt,ei.nodes),Ei=new Ii(Mi,ei,ii,ve.beforeDismiss);return this._registerModalRef(Ei),this._registerWindowCmpt(Mi),Ei.hidden.pipe((0,T.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(zt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Pn.close=ki=>{Ei.close(ki)},Pn.dismiss=ki=>{Ei.dismiss(ki)},Pn.update=ki=>{Ei.update(ki)},Ei.update(ve),1===this._modalRefs.length&&zt.addClass(this._document.body,"modal-open"),ii&&ii.instance&&ii.changeDetectorRef.detectChanges(),Mi.changeDetectorRef.detectChanges(),Ei}get activeInstances(){return this._activeInstances}dismissAll(w){this._modalRefs.forEach(H=>H.dismiss(w))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(w){let H=(0,e.LMc)(an,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(H.hostView),w.appendChild(H.location.nativeElement),H}_attachWindowComponent(w,H){let ve=(0,e.LMc)(Cr,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:H});return this._applicationRef.attachView(ve.hostView),w.appendChild(ve.location.nativeElement),ve}_getContentRef(w,H,ve,Tt,zt){return ve?ve instanceof e.Rgc?this._createFromTemplateRef(ve,Tt):Yt(ve)?this._createFromString(ve):this._createFromComponent(w,H,ve,Tt,zt):new Je([])}_createFromTemplateRef(w,H){const Tt=w.createEmbeddedView({$implicit:H,close(zt){H.close(zt)},dismiss(zt){H.dismiss(zt)}});return this._applicationRef.attachView(Tt),new Je([Tt.rootNodes],Tt)}_createFromString(w){const H=this._document.createTextNode(`${w}`);return new Je([[H]])}_createFromComponent(w,H,ve,Tt,zt){const Pn=e.zs3.create({providers:[{provide:Hn,useValue:Tt}],parent:w}),Un=(0,e.LMc)(ve,{environmentInjector:H,elementInjector:Pn}),ei=Un.location.nativeElement;return zt.scrollable&&ei.classList.add("component-host-scrollable"),this._applicationRef.attachView(Un.hostView),new Je([[ei]],Un.hostView,Un)}_setAriaHidden(w){const H=w.parentElement;H&&w!==this._document.body&&(Array.from(H.children).forEach(ve=>{ve!==w&&"SCRIPT"!==ve.nodeName&&(this._ariaHiddenValues.set(ve,ve.getAttribute("aria-hidden")),ve.setAttribute("aria-hidden","true"))}),this._setAriaHidden(H))}_revertAriaHidden(){this._ariaHiddenValues.forEach((w,H)=>{w?H.setAttribute("aria-hidden",w):H.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(w){const H=()=>{const ve=this._modalRefs.indexOf(w);ve>-1&&(this._modalRefs.splice(ve,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(w),this._activeInstances.emit(this._modalRefs),w.result.then(H,H)}_registerWindowCmpt(w){this._windowCmpts.push(w),this._activeWindowCmptHasChanged.next(),w.onDestroy(()=>{const H=this._windowCmpts.indexOf(w);H>-1&&(this._windowCmpts.splice(H,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(H){return new(H||U)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(ce.K0),e.LFG(Ps),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),V=(()=>{class U{constructor(w){this._ngbConfig=w,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(w){this._animation=w}static#e=this.\u0275fac=function(H){return new(H||U)(e.LFG(ya))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),r=(()=>{class U{constructor(w,H,ve){this._injector=w,this._modalStack=H,this._config=ve}open(w,H={}){const ve={...this._config,animation:this._config.animation,...H};return this._modalStack.open(this._injector,w,ve)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(w){this._modalStack.dismissAll(w)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(H){return new(H||U)(e.LFG(e.zs3),e.LFG(oc),e.LFG(V))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();new e.OlP("live announcer delay",{providedIn:"root",factory:function Tu(){return 100}})},3182:(Wn,et,p)=>{"use strict";p.d(et,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=p(534);(0,e.registerVersion)("firebase","9.23.0","app")},7142:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>e.Z});var e=p(3106);e.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Wn,et,p)=>{"use strict";function e(v,b,g,P,D,m,i){try{var c=v[m](i),d=c.value}catch(f){return void g(f)}c.done?b(d):Promise.resolve(d).then(P,D)}function t(v){return function(){var b=this,g=arguments;return new Promise(function(P,D){var m=v.apply(b,g);function i(d){e(m,P,D,i,c,"next",d)}function c(d){e(m,P,D,i,c,"throw",d)}i(void 0)})}}p.d(et,{Z:()=>t})},7582:(Wn,et,p)=>{"use strict";function b(ce,ge){var Ie={};for(var Ce in ce)Object.prototype.hasOwnProperty.call(ce,Ce)&&ge.indexOf(Ce)<0&&(Ie[Ce]=ce[Ce]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(Ce=Object.getOwnPropertySymbols(ce);pe<Ce.length;pe++)ge.indexOf(Ce[pe])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ce[pe])&&(Ie[Ce[pe]]=ce[Ce[pe]])}return Ie}function f(ce,ge,Ie,Ce){return new(Ie||(Ie=Promise))(function(Ae,ke){function he(Oe){try{Te(Ce.next(Oe))}catch(je){ke(je)}}function we(Oe){try{Te(Ce.throw(Oe))}catch(je){ke(je)}}function Te(Oe){Oe.done?Ae(Oe.value):function pe(Ae){return Ae instanceof Ie?Ae:new Ie(function(ke){ke(Ae)})}(Oe.value).then(he,we)}Te((Ce=Ce.apply(ce,ge||[])).next())})}function T(ce){return this instanceof T?(this.v=ce,this):new T(ce)}function L(ce,ge,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,Ce=Ie.apply(ce,ge||[]),Ae=[];return pe={},ke("next"),ke("throw"),ke("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function ke(ft){Ce[ft]&&(pe[ft]=function(Ze){return new Promise(function(Re,be){Ae.push([ft,Ze,Re,be])>1||he(ft,Ze)})})}function he(ft,Ze){try{!function we(ft){ft.value instanceof T?Promise.resolve(ft.value.v).then(Te,Oe):je(Ae[0][2],ft)}(Ce[ft](Ze))}catch(Re){je(Ae[0][3],Re)}}function Te(ft){he("next",ft)}function Oe(ft){he("throw",ft)}function je(ft,Ze){ft(Ze),Ae.shift(),Ae.length&&he(Ae[0][0],Ae[0][1])}}function B(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ge=ce[Symbol.asyncIterator];return ge?ge.call(ce):(ce=function A(ce){var ge="function"==typeof Symbol&&Symbol.iterator,Ie=ge&&ce[ge],Ce=0;if(Ie)return Ie.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Ce>=ce.length&&(ce=void 0),{value:ce&&ce[Ce++],done:!ce}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Ie={},Ce("next"),Ce("throw"),Ce("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Ce(Ae){Ie[Ae]=ce[Ae]&&function(ke){return new Promise(function(he,we){!function pe(Ae,ke,he,we){Promise.resolve(we).then(function(Te){Ae({value:Te,done:he})},ke)}(he,we,(ke=ce[Ae](ke)).done,ke.value)})}}}p.d(et,{FC:()=>L,KL:()=>B,_T:()=>b,mG:()=>f,qq:()=>T})}},Wn=>{Wn(Wn.s=4998)}]);