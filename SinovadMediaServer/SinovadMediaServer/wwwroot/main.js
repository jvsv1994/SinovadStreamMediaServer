(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Bn,et,v)=>{"use strict";v.d(et,{Dh:()=>g,GT:()=>I,cc:()=>k,hO:()=>y,on:()=>d,pX:()=>_,xv:()=>o});var e=v(5879),n=v(7142),E=v(8186);Bn=v.hmd(Bn);const A=["ngOnDestroy"],_=(R,D,T,C={})=>new Proxy(R,{get:(O,M)=>T.runOutsideAngular(()=>{var G;if(R[M])return!(null===(G=C?.spy)||void 0===G)&&G.get&&C.spy.get(M,R[M]),R[M];if(A.indexOf(M)>-1)return()=>{};const Z=D.toPromise().then(ee=>{const ae=ee&&ee[M];return"function"==typeof ae?ae.bind(ee):ae&&ae.then?ae.then(Ae=>T.run(()=>Ae)):T.run(()=>ae)});return new Proxy(()=>{},{get:(ee,ae)=>Z[ae],apply:(ee,ae,Ae)=>Z.then(j=>{var le;const Y=j&&j(...Ae);return!(null===(le=C?.spy)||void 0===le)&&le.apply&&C.spy.apply(M,Ae,Y),Y})})})}),I=(R,D)=>{D.forEach(T=>{Object.getOwnPropertyNames(T.prototype||T).forEach(C=>{Object.defineProperty(R.prototype,C,Object.getOwnPropertyDescriptor(T.prototype||T,C))})})};class w{constructor(D){return D}}const g=new e.OlP("angularfire2.app.options"),o=new e.OlP("angularfire2.app.name");function d(R,D,T){const O="object"==typeof T&&T||{};O.name=O.name||"string"==typeof T&&T||"[DEFAULT]";const G=n.Z.apps.filter(Z=>Z&&Z.name===O.name)[0]||D.runOutsideAngular(()=>n.Z.initializeApp(R,O));try{JSON.stringify(R)!==JSON.stringify(G.options)&&u("error",`${G.name} Firebase App already initialized with different options${Bn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new w(G)}const u=(R,...D)=>{(0,e.X6Q)()&&typeof console<"u"&&console[R](...D)},m={provide:w,useFactory:d,deps:[g,e.R0b,[new e.FiY,o]]};let y=(()=>{class R{constructor(T){n.Z.registerVersion("angularfire",E.q4.full,"core"),n.Z.registerVersion("angularfire",E.q4.full,"app-compat"),n.Z.registerVersion("angular",e.q4F.full,T.toString())}static initializeApp(T,C){return{ngModule:R,providers:[{provide:g,useValue:T},{provide:o,useValue:C}]}}}return R.\u0275fac=function(T){return new(T||R)(e.LFG(e.Lbi))},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({providers:[m]}),R})();function k(R,D,T,C,O){const[,M,G]=globalThis.\u0275AngularfireInstanceCache.find(Z=>Z[0]===R)||[];if(M)return function P(R,D){try{return R.toString()===D.toString()}catch{return R===D}}(O,G)||(F("error",`${D} was already initialized on the ${T} Firebase App with different settings.${B?" You may need to reload as Firebase is not HMR aware.":""}`),F("warn",{is:O,was:G})),M;{const Z=C();return globalThis.\u0275AngularfireInstanceCache.push([R,Z,O]),Z}}const B=!!Bn.hot,F=(R,...D)=>{(0,e.X6Q)()&&typeof console<"u"&&console[R](...D)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Bn,et,v)=>{"use strict";v.d(et,{q4:()=>dd,iC:()=>al,HU:()=>uc,vb:()=>ms,JM:()=>Yl});var e=v(5879),n=v(3182),E=v(5861),A=v(534),_=v(9058),I=v(4537),w=v(7879);const g=(je,st)=>st.some(kt=>je instanceof kt);let o,d;const y=new WeakMap,k=new WeakMap,P=new WeakMap,B=new WeakMap,F=new WeakMap;let T={get(je,st,kt){if(je instanceof IDBTransaction){if("done"===st)return k.get(je);if("objectStoreNames"===st)return je.objectStoreNames||P.get(je);if("store"===st)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return G(je[st])},set:(je,st,kt)=>(je[st]=kt,!0),has:(je,st)=>je instanceof IDBTransaction&&("done"===st||"store"===st)||st in je};function M(je){return"function"==typeof je?function O(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m(){return d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...st){return je.apply(Z(this),st),G(y.get(this))}:function(...st){return G(je.apply(Z(this),st))}:function(st,...kt){const sn=je.call(Z(this),st,...kt);return P.set(sn,st.sort?st.sort():[st]),G(sn)}}(je):(je instanceof IDBTransaction&&function D(je){if(k.has(je))return;const st=new Promise((kt,sn)=>{const xn=()=>{je.removeEventListener("complete",Nn),je.removeEventListener("error",$n),je.removeEventListener("abort",$n)},Nn=()=>{kt(),xn()},$n=()=>{sn(je.error||new DOMException("AbortError","AbortError")),xn()};je.addEventListener("complete",Nn),je.addEventListener("error",$n),je.addEventListener("abort",$n)});k.set(je,st)}(je),g(je,function u(){return o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,T):je)}function G(je){if(je instanceof IDBRequest)return function R(je){const st=new Promise((kt,sn)=>{const xn=()=>{je.removeEventListener("success",Nn),je.removeEventListener("error",$n)},Nn=()=>{kt(G(je.result)),xn()},$n=()=>{sn(je.error),xn()};je.addEventListener("success",Nn),je.addEventListener("error",$n)});return st.then(kt=>{kt instanceof IDBCursor&&y.set(kt,je)}).catch(()=>{}),F.set(st,je),st}(je);if(B.has(je))return B.get(je);const st=M(je);return st!==je&&(B.set(je,st),F.set(st,je)),st}const Z=je=>F.get(je),Ae=["get","getKey","getAll","getAllKeys","count"],j=["put","add","delete","clear"],le=new Map;function Y(je,st){if(!(je instanceof IDBDatabase)||st in je||"string"!=typeof st)return;if(le.get(st))return le.get(st);const kt=st.replace(/FromIndex$/,""),sn=st!==kt,xn=j.includes(kt);if(!(kt in(sn?IDBIndex:IDBObjectStore).prototype)||!xn&&!Ae.includes(kt))return;const Nn=function(){var $n=(0,E.Z)(function*(bi,...gi){const Mi=this.transaction(bi,xn?"readwrite":"readonly");let Zi=Mi.store;return sn&&(Zi=Zi.index(gi.shift())),(yield Promise.all([Zi[kt](...gi),xn&&Mi.done]))[0]});return function(gi){return $n.apply(this,arguments)}}();return le.set(st,Nn),Nn}!function C(je){T=je(T)}(je=>({...je,get:(st,kt,sn)=>Y(st,kt)||je.get(st,kt,sn),has:(st,kt)=>!!Y(st,kt)||je.has(st,kt)}));const ve="@firebase/installations",de="0.6.4",Se=1e4,xe=`w:${de}`,Ge="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",Ce=36e5,Te=new _.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(je){return je instanceof _.ZR&&je.code.includes("request-failed")}function Ue({projectId:je}){return`${ge}/projects/${je}/installations`}function lt(je){return{token:je.token,requestStatus:2,expiresIn:re(je.expiresIn),creationTime:Date.now()}}function He(je,st){return be.apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(je,st){const sn=(yield st.json()).error;return Te.create("request-failed",{requestName:je,serverCode:sn.code,serverMessage:sn.message,serverStatus:sn.status})})).apply(this,arguments)}function _e({apiKey:je}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je})}function oe(je){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(je){const st=yield je();return st.status>=500&&st.status<600?je():st})).apply(this,arguments)}function re(je){return Number(je.replace("s","000"))}function $(){return($=(0,E.Z)(function*({appConfig:je,heartbeatServiceProvider:st},{fid:kt}){const sn=Ue(je),xn=_e(je),Nn=st.getImmediate({optional:!0});if(Nn){const Mi=yield Nn.getHeartbeatsHeader();Mi&&xn.append("x-firebase-client",Mi)}const bi={method:"POST",headers:xn,body:JSON.stringify({fid:kt,authVersion:Ge,appId:je.appId,sdkVersion:xe})},gi=yield oe(()=>fetch(sn,bi));if(gi.ok){const Mi=yield gi.json();return{fid:Mi.fid||kt,registrationStatus:2,refreshToken:Mi.refreshToken,authToken:lt(Mi.authToken)}}throw yield He("Create Installation",gi)})).apply(this,arguments)}function ne(je){return new Promise(st=>{setTimeout(st,je)})}const q=/^[cdef][\w-]{21}$/,me="";function Ee(){try{const je=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(je),je[0]=112+je[0]%16;const kt=function ye(je){return function J(je){return btoa(String.fromCharCode(...je)).replace(/\+/g,"-").replace(/\//g,"_")}(je).substr(0,22)}(je);return q.test(kt)?kt:me}catch{return me}}function Ne(je){return`${je.appName}!${je.appId}`}const tt=new Map;function qe(je,st){const kt=Ne(je);ze(kt,st),function ht(je,st){const kt=function ce(){return!vt&&"BroadcastChannel"in self&&(vt=new BroadcastChannel("[Firebase] FID Change"),vt.onmessage=je=>{ze(je.data.key,je.data.fid)}),vt}();kt&&kt.postMessage({key:je,fid:st}),function Ve(){0===tt.size&&vt&&(vt.close(),vt=null)}()}(kt,st)}function ze(je,st){const kt=tt.get(je);if(kt)for(const sn of kt)sn(st)}let vt=null;const yt="firebase-installations-database",Bt=1,zt="firebase-installations-store";let Yt=null;function cn(){return Yt||(Yt=function ee(je,st,{blocked:kt,upgrade:sn,blocking:xn,terminated:Nn}={}){const $n=indexedDB.open(je,st),bi=G($n);return sn&&$n.addEventListener("upgradeneeded",gi=>{sn(G($n.result),gi.oldVersion,gi.newVersion,G($n.transaction))}),kt&&$n.addEventListener("blocked",()=>kt()),bi.then(gi=>{Nn&&gi.addEventListener("close",()=>Nn()),xn&&gi.addEventListener("versionchange",()=>xn())}).catch(()=>{}),bi}(yt,Bt,{upgrade:(je,st)=>{0===st&&je.createObjectStore(zt)}})),Yt}function nn(je,st){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,E.Z)(function*(je,st){const kt=Ne(je),xn=(yield cn()).transaction(zt,"readwrite"),Nn=xn.objectStore(zt),$n=yield Nn.get(kt);return yield Nn.put(st,kt),yield xn.done,(!$n||$n.fid!==st.fid)&&qe(je,st.fid),st})).apply(this,arguments)}function gt(je){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(je){const st=Ne(je),sn=(yield cn()).transaction(zt,"readwrite");yield sn.objectStore(zt).delete(st),yield sn.done})).apply(this,arguments)}function Fe(je,st){return ke.apply(this,arguments)}function ke(){return(ke=(0,E.Z)(function*(je,st){const kt=Ne(je),xn=(yield cn()).transaction(zt,"readwrite"),Nn=xn.objectStore(zt),$n=yield Nn.get(kt),bi=st($n);return void 0===bi?yield Nn.delete(kt):yield Nn.put(bi,kt),yield xn.done,bi&&(!$n||$n.fid!==bi.fid)&&qe(je,bi.fid),bi})).apply(this,arguments)}function it(je){return ot.apply(this,arguments)}function ot(){return ot=(0,E.Z)(function*(je){let st;const kt=yield Fe(je.appConfig,sn=>{const xn=function ft(je){return Tn(je||{fid:Ee(),registrationStatus:0})}(sn),Nn=function mt(je,st){if(0===st.registrationStatus){if(!navigator.onLine)return{installationEntry:st,registrationPromise:Promise.reject(Te.create("app-offline"))};const kt={fid:st.fid,registrationStatus:1,registrationTime:Date.now()},sn=function Et(je,st){return Qt.apply(this,arguments)}(je,kt);return{installationEntry:kt,registrationPromise:sn}}return 1===st.registrationStatus?{installationEntry:st,registrationPromise:fn(je)}:{installationEntry:st}}(je,xn);return st=Nn.registrationPromise,Nn.installationEntry});return kt.fid===me?{installationEntry:yield st}:{installationEntry:kt,registrationPromise:st}}),ot.apply(this,arguments)}function Qt(){return Qt=(0,E.Z)(function*(je,st){try{const kt=yield function X(je,st){return $.apply(this,arguments)}(je,st);return nn(je.appConfig,kt)}catch(kt){throw De(kt)&&409===kt.customData.serverCode?yield gt(je.appConfig):yield nn(je.appConfig,{fid:st.fid,registrationStatus:0}),kt}}),Qt.apply(this,arguments)}function fn(je){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,E.Z)(function*(je){let st=yield pn(je.appConfig);for(;1===st.registrationStatus;)yield ne(100),st=yield pn(je.appConfig);if(0===st.registrationStatus){const{installationEntry:kt,registrationPromise:sn}=yield it(je);return sn||kt}return st})).apply(this,arguments)}function pn(je){return Fe(je,st=>{if(!st)throw Te.create("installation-not-found");return Tn(st)})}function Tn(je){return function Dn(je){return 1===je.registrationStatus&&je.registrationTime+Se<Date.now()}(je)?{fid:je.fid,registrationStatus:0}:je}function Kn(){return(Kn=(0,E.Z)(function*({appConfig:je,heartbeatServiceProvider:st},kt){const sn=function dn(je,{fid:st}){return`${Ue(je)}/${st}/authTokens:generate`}(je,kt),xn=function K(je,{refreshToken:st}){const kt=_e(je);return kt.append("Authorization",function Q(je){return`${Ge} ${je}`}(st)),kt}(je,kt),Nn=st.getImmediate({optional:!0});if(Nn){const Mi=yield Nn.getHeartbeatsHeader();Mi&&xn.append("x-firebase-client",Mi)}const bi={method:"POST",headers:xn,body:JSON.stringify({installation:{sdkVersion:xe,appId:je.appId}})},gi=yield oe(()=>fetch(sn,bi));if(gi.ok)return lt(yield gi.json());throw yield He("Generate Auth Token",gi)})).apply(this,arguments)}function an(je){return un.apply(this,arguments)}function un(){return un=(0,E.Z)(function*(je,st=!1){let kt;const sn=yield Fe(je.appConfig,Nn=>{if(!Ze(Nn))throw Te.create("not-registered");const $n=Nn.authToken;if(!st&&function bt(je){return 2===je.requestStatus&&!function Kt(je){const st=Date.now();return st<je.creationTime||je.creationTime+je.expiresIn<st+Ce}(je)}($n))return Nn;if(1===$n.requestStatus)return kt=function on(je,st){return ln.apply(this,arguments)}(je,st),Nn;{if(!navigator.onLine)throw Te.create("app-offline");const bi=function Ot(je){const st={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},je),{authToken:st})}(Nn);return kt=function ct(je,st){return hn.apply(this,arguments)}(je,bi),bi}});return kt?yield kt:sn.authToken}),un.apply(this,arguments)}function ln(){return(ln=(0,E.Z)(function*(je,st){let kt=yield Tt(je.appConfig);for(;1===kt.authToken.requestStatus;)yield ne(100),kt=yield Tt(je.appConfig);const sn=kt.authToken;return 0===sn.requestStatus?an(je,st):sn})).apply(this,arguments)}function Tt(je){return Fe(je,st=>{if(!Ze(st))throw Te.create("not-registered");return function yn(je){return 1===je.requestStatus&&je.requestTime+Se<Date.now()}(st.authToken)?Object.assign(Object.assign({},st),{authToken:{requestStatus:0}}):st})}function hn(){return hn=(0,E.Z)(function*(je,st){try{const kt=yield function Fn(je,st){return Kn.apply(this,arguments)}(je,st),sn=Object.assign(Object.assign({},st),{authToken:kt});return yield nn(je.appConfig,sn),kt}catch(kt){if(!De(kt)||401!==kt.customData.serverCode&&404!==kt.customData.serverCode){const sn=Object.assign(Object.assign({},st),{authToken:{requestStatus:0}});yield nn(je.appConfig,sn)}else yield gt(je.appConfig);throw kt}}),hn.apply(this,arguments)}function Ze(je){return void 0!==je&&2===je.registrationStatus}function St(){return(St=(0,E.Z)(function*(je){const st=je,{installationEntry:kt,registrationPromise:sn}=yield it(st);return sn?sn.catch(console.error):an(st).catch(console.error),kt.fid})).apply(this,arguments)}function Zt(){return Zt=(0,E.Z)(function*(je,st=!1){const kt=je;return yield function gn(je){return Ln.apply(this,arguments)}(kt),(yield an(kt,st)).token}),Zt.apply(this,arguments)}function Ln(){return(Ln=(0,E.Z)(function*(je){const{registrationPromise:st}=yield it(je);st&&(yield st)})).apply(this,arguments)}function ai(je){return Te.create("missing-app-config-values",{valueName:je})}const qi="installations",Ir=je=>{const st=je.getProvider("app").getImmediate(),kt=function Mn(je){if(!je||!je.options)throw ai("App Configuration");if(!je.name)throw ai("App Name");const st=["projectId","apiKey","appId"];for(const kt of st)if(!je.options[kt])throw ai(kt);return{appName:je.name,projectId:je.options.projectId,apiKey:je.options.apiKey,appId:je.options.appId}}(st);return{app:st,appConfig:kt,heartbeatServiceProvider:(0,A._getProvider)(st,"heartbeat"),_delete:()=>Promise.resolve()}},Er=je=>{const st=je.getProvider("app").getImmediate(),kt=(0,A._getProvider)(st,qi).getImmediate();return{getId:()=>function Rt(je){return St.apply(this,arguments)}(kt),getToken:xn=>function It(je){return Zt.apply(this,arguments)}(kt,xn)}};(function Do(){(0,A._registerComponent)(new I.wA(qi,Ir,"PUBLIC")),(0,A._registerComponent)(new I.wA("installations-internal",Er,"PRIVATE"))})(),(0,A.registerVersion)(ve,de),(0,A.registerVersion)(ve,de,"esm2017");const Po="@firebase/remote-config",fi=new _.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ri{constructor(st,kt,sn,xn){this.client=st,this.storage=kt,this.storageCache=sn,this.logger=xn}isCachedDataFresh(st,kt){if(!kt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const sn=Date.now()-kt,xn=sn<=st;return this.logger.debug(`Config fetch cache check. Cache age millis: ${sn}. Cache max age millis (minimumFetchIntervalMillis setting): ${st}. Is cache hit: ${xn}.`),xn}fetch(st){var kt=this;return(0,E.Z)(function*(){const[sn,xn]=yield Promise.all([kt.storage.getLastSuccessfulFetchTimestampMillis(),kt.storage.getLastSuccessfulFetchResponse()]);if(xn&&kt.isCachedDataFresh(st.cacheMaxAgeMillis,sn))return xn;st.eTag=xn&&xn.eTag;const Nn=yield kt.client.fetch(st),$n=[kt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Nn.status&&$n.push(kt.storage.setLastSuccessfulFetchResponse(Nn)),yield Promise.all($n),Nn})()}}function Ki(je=navigator){return je.languages&&je.languages[0]||je.language}class Ui{constructor(st,kt,sn,xn,Nn,$n){this.firebaseInstallations=st,this.sdkVersion=kt,this.namespace=sn,this.projectId=xn,this.apiKey=Nn,this.appId=$n}fetch(st){var kt=this;return(0,E.Z)(function*(){const[sn,xn]=yield Promise.all([kt.firebaseInstallations.getId(),kt.firebaseInstallations.getToken()]),$n=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${kt.projectId}/namespaces/${kt.namespace}:fetch?key=${kt.apiKey}`,bi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":st.eTag||"*"},gi={sdk_version:kt.sdkVersion,app_instance_id:sn,app_instance_id_token:xn,app_id:kt.appId,language_code:Ki()},Mi={method:"POST",headers:bi,body:JSON.stringify(gi)},Zi=fetch($n,Mi),Hi=new Promise((Rs,ll)=>{st.signal.addEventListener(()=>{const hc=new Error("The operation was aborted.");hc.name="AbortError",ll(hc)})});let Vi;try{yield Promise.race([Zi,Hi]),Vi=yield Zi}catch(Rs){let ll="fetch-client-network";throw"AbortError"===Rs?.name&&(ll="fetch-timeout"),fi.create(ll,{originalErrorMessage:Rs?.message})}let no=Vi.status;const Ni=Vi.headers.get("ETag")||void 0;let Cs,$l;if(200===Vi.status){let Rs;try{Rs=yield Vi.json()}catch(ll){throw fi.create("fetch-client-parse",{originalErrorMessage:ll?.message})}Cs=Rs.entries,$l=Rs.state}if("INSTANCE_STATE_UNSPECIFIED"===$l?no=500:"NO_CHANGE"===$l?no=304:("NO_TEMPLATE"===$l||"EMPTY_CONFIG"===$l)&&(Cs={}),304!==no&&200!==no)throw fi.create("fetch-status",{httpStatus:no});return{status:no,eTag:Ni,config:Cs}})()}}class jr{constructor(st,kt){this.client=st,this.storage=kt}fetch(st){var kt=this;return(0,E.Z)(function*(){const sn=(yield kt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return kt.attemptFetch(st,sn)})()}attemptFetch(st,{throttleEndTimeMillis:kt,backoffCount:sn}){var xn=this;return(0,E.Z)(function*(){yield function ki(je,st){return new Promise((kt,sn)=>{const xn=Math.max(st-Date.now(),0),Nn=setTimeout(kt,xn);je.addEventListener(()=>{clearTimeout(Nn),sn(fi.create("fetch-throttle",{throttleEndTimeMillis:st}))})})}(st.signal,kt);try{const Nn=yield xn.client.fetch(st);return yield xn.storage.deleteThrottleMetadata(),Nn}catch(Nn){if(!function Tr(je){if(!(je instanceof _.ZR&&je.customData))return!1;const st=Number(je.customData.httpStatus);return 429===st||500===st||503===st||504===st}(Nn))throw Nn;const $n={throttleEndTimeMillis:Date.now()+(0,_.$s)(sn),backoffCount:sn+1};return yield xn.storage.setThrottleMetadata($n),xn.attemptFetch(st,$n)}})()}}class Ms{constructor(st,kt,sn,xn,Nn){this.app=st,this._client=kt,this._storageCache=sn,this._storage=xn,this._logger=Nn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zr(je,st){const kt=je.target.error||void 0;return fi.create(st,{originalErrorMessage:kt&&kt?.message})}const eo="app_namespace_store";class Ws{constructor(st,kt,sn,xn=function Xi(){return new Promise((je,st)=>{try{const kt=indexedDB.open("firebase_remote_config",1);kt.onerror=sn=>{st(zr(sn,"storage-open"))},kt.onsuccess=sn=>{je(sn.target.result)},kt.onupgradeneeded=sn=>{0===sn.oldVersion&&sn.target.result.createObjectStore(eo,{keyPath:"compositeKey"})}}catch(kt){st(fi.create("storage-open",{originalErrorMessage:kt?.message}))}})}()){this.appId=st,this.appName=kt,this.namespace=sn,this.openDbPromise=xn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(st){return this.set("last_fetch_status",st)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(st){return this.set("last_successful_fetch_timestamp_millis",st)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(st){return this.set("last_successful_fetch_response",st)}getActiveConfig(){return this.get("active_config")}setActiveConfig(st){return this.set("active_config",st)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(st){return this.set("active_config_etag",st)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(st){return this.set("throttle_metadata",st)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(st){var kt=this;return(0,E.Z)(function*(){const sn=yield kt.openDbPromise;return new Promise((xn,Nn)=>{const bi=sn.transaction([eo],"readonly").objectStore(eo),gi=kt.createCompositeKey(st);try{const Mi=bi.get(gi);Mi.onerror=Zi=>{Nn(zr(Zi,"storage-get"))},Mi.onsuccess=Zi=>{const Hi=Zi.target.result;xn(Hi?Hi.value:void 0)}}catch(Mi){Nn(fi.create("storage-get",{originalErrorMessage:Mi?.message}))}})})()}set(st,kt){var sn=this;return(0,E.Z)(function*(){const xn=yield sn.openDbPromise;return new Promise((Nn,$n)=>{const gi=xn.transaction([eo],"readwrite").objectStore(eo),Mi=sn.createCompositeKey(st);try{const Zi=gi.put({compositeKey:Mi,value:kt});Zi.onerror=Hi=>{$n(zr(Hi,"storage-set"))},Zi.onsuccess=()=>{Nn()}}catch(Zi){$n(fi.create("storage-set",{originalErrorMessage:Zi?.message}))}})})()}delete(st){var kt=this;return(0,E.Z)(function*(){const sn=yield kt.openDbPromise;return new Promise((xn,Nn)=>{const bi=sn.transaction([eo],"readwrite").objectStore(eo),gi=kt.createCompositeKey(st);try{const Mi=bi.delete(gi);Mi.onerror=Zi=>{Nn(zr(Zi,"storage-delete"))},Mi.onsuccess=()=>{xn()}}catch(Mi){Nn(fi.create("storage-delete",{originalErrorMessage:Mi?.message}))}})})()}createCompositeKey(st){return[this.appId,this.appName,this.namespace,st].join()}}class xo{constructor(st){this.storage=st}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var st=this;return(0,E.Z)(function*(){const kt=st.storage.getLastFetchStatus(),sn=st.storage.getLastSuccessfulFetchTimestampMillis(),xn=st.storage.getActiveConfig(),Nn=yield kt;Nn&&(st.lastFetchStatus=Nn);const $n=yield sn;$n&&(st.lastSuccessfulFetchTimestampMillis=$n);const bi=yield xn;bi&&(st.activeConfig=bi)})()}setLastFetchStatus(st){return this.lastFetchStatus=st,this.storage.setLastFetchStatus(st)}setLastSuccessfulFetchTimestampMillis(st){return this.lastSuccessfulFetchTimestampMillis=st,this.storage.setLastSuccessfulFetchTimestampMillis(st)}setActiveConfig(st){return this.activeConfig=st,this.storage.setActiveConfig(st)}}function Ho(){return gs.apply(this,arguments)}function gs(){return(gs=(0,E.Z)(function*(){if(!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}!function ps(){(0,A._registerComponent)(new I.wA("remote-config",function je(st,{instanceIdentifier:kt}){const sn=st.getProvider("app").getImmediate(),xn=st.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fi.create("registration-window");if(!(0,_.hl)())throw fi.create("indexed-db-unavailable");const{projectId:Nn,apiKey:$n,appId:bi}=sn.options;if(!Nn)throw fi.create("registration-project-id");if(!$n)throw fi.create("registration-api-key");if(!bi)throw fi.create("registration-app-id");const gi=new Ws(bi,sn.name,kt=kt||"firebase"),Mi=new xo(gi),Zi=new w.Yd(Po);Zi.logLevel=w.in.ERROR;const Hi=new Ui(xn,A.SDK_VERSION,kt,Nn,$n,bi),Vi=new jr(Hi,gi),no=new Ri(Vi,gi,Mi,Zi),Ni=new Ms(sn,no,Mi,gi,Zi);return function Pi(je){const st=(0,_.m9)(je);st._initializePromise||(st._initializePromise=st._storageCache.loadFromStorage().then(()=>{st._isInitializationComplete=!0}))}(Ni),Ni},"PUBLIC").setMultipleInstances(!0)),(0,A.registerVersion)(Po,"0.4.4"),(0,A.registerVersion)(Po,"0.4.4","esm2017")}();const Pr=(je,st)=>st.some(kt=>je instanceof kt);let As,Rr;const mo=new WeakMap,cs=new WeakMap,$i=new WeakMap,Zr=new WeakMap,Ys=new WeakMap;let _s={get(je,st,kt){if(je instanceof IDBTransaction){if("done"===st)return cs.get(je);if("objectStoreNames"===st)return je.objectStoreNames||$i.get(je);if("store"===st)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return gr(je[st])},set:(je,st,kt)=>(je[st]=kt,!0),has:(je,st)=>je instanceof IDBTransaction&&("done"===st||"store"===st)||st in je};function zs(je){return"function"==typeof je?function ts(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fs(){return Rr||(Rr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...st){return je.apply(zo(this),st),gr(mo.get(this))}:function(...st){return gr(je.apply(zo(this),st))}:function(st,...kt){const sn=je.call(zo(this),st,...kt);return $i.set(sn,st.sort?st.sort():[st]),gr(sn)}}(je):(je instanceof IDBTransaction&&function xs(je){if(cs.has(je))return;const st=new Promise((kt,sn)=>{const xn=()=>{je.removeEventListener("complete",Nn),je.removeEventListener("error",$n),je.removeEventListener("abort",$n)},Nn=()=>{kt(),xn()},$n=()=>{sn(je.error||new DOMException("AbortError","AbortError")),xn()};je.addEventListener("complete",Nn),je.addEventListener("error",$n),je.addEventListener("abort",$n)});cs.set(je,st)}(je),Pr(je,function pr(){return As||(As=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,_s):je)}function gr(je){if(je instanceof IDBRequest)return function Yo(je){const st=new Promise((kt,sn)=>{const xn=()=>{je.removeEventListener("success",Nn),je.removeEventListener("error",$n)},Nn=()=>{kt(gr(je.result)),xn()},$n=()=>{sn(je.error),xn()};je.addEventListener("success",Nn),je.addEventListener("error",$n)});return st.then(kt=>{kt instanceof IDBCursor&&mo.set(kt,je)}).catch(()=>{}),Ys.set(st,je),st}(je);if(Zr.has(je))return Zr.get(je);const st=zs(je);return st!==je&&(Zr.set(je,st),Ys.set(st,je)),st}const zo=je=>Ys.get(je);function jo(je,st,{blocked:kt,upgrade:sn,blocking:xn,terminated:Nn}={}){const $n=indexedDB.open(je,st),bi=gr($n);return sn&&$n.addEventListener("upgradeneeded",gi=>{sn(gr($n.result),gi.oldVersion,gi.newVersion,gr($n.transaction))}),kt&&$n.addEventListener("blocked",()=>kt()),bi.then(gi=>{Nn&&gi.addEventListener("close",()=>Nn()),xn&&gi.addEventListener("versionchange",()=>xn())}).catch(()=>{}),bi}function ns(je,{blocked:st}={}){const kt=indexedDB.deleteDatabase(je);return st&&kt.addEventListener("blocked",()=>st()),gr(kt).then(()=>{})}const Zs=["get","getKey","getAll","getAllKeys","count"],Bs=["put","add","delete","clear"],sa=new Map;function Us(je,st){if(!(je instanceof IDBDatabase)||st in je||"string"!=typeof st)return;if(sa.get(st))return sa.get(st);const kt=st.replace(/FromIndex$/,""),sn=st!==kt,xn=Bs.includes(kt);if(!(kt in(sn?IDBIndex:IDBObjectStore).prototype)||!xn&&!Zs.includes(kt))return;const Nn=function(){var $n=(0,E.Z)(function*(bi,...gi){const Mi=this.transaction(bi,xn?"readwrite":"readonly");let Zi=Mi.store;return sn&&(Zi=Zi.index(gi.shift())),(yield Promise.all([Zi[kt](...gi),xn&&Mi.done]))[0]});return function(gi){return $n.apply(this,arguments)}}();return sa.set(st,Nn),Nn}!function vs(je){_s=je(_s)}(je=>({...je,get:(st,kt,sn)=>Us(st,kt)||je.get(st,kt,sn),has:(st,kt)=>!!Us(st,kt)||je.has(st,kt)}));const vo="/firebase-messaging-sw.js",pa="/firebase-cloud-messaging-push-scope",$s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gs="https://fcmregistrations.googleapis.com/v1",_r="google.c.a.c_id",ar="google.c.a.c_l",An="google.c.a.ts";var at=function(je){return je.PUSH_RECEIVED="push-received",je.NOTIFICATION_CLICKED="notification-clicked",je}(at||{});function Vt(je){const st=new Uint8Array(je);return btoa(String.fromCharCode(...st)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bn(je){const kt=(je+"=".repeat((4-je.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),sn=atob(kt),xn=new Uint8Array(sn.length);for(let Nn=0;Nn<sn.length;++Nn)xn[Nn]=sn.charCodeAt(Nn);return xn}const hi="fcm_token_details_db",Gi=5,Lo="fcm_token_object_Store";function ds(){return ds=(0,E.Z)(function*(je){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Nn=>Nn.name).includes(hi))return null;let st=null;return(yield jo(hi,Gi,{upgrade:(sn=(0,E.Z)(function*(xn,Nn,$n,bi){var gi;if(Nn<2||!xn.objectStoreNames.contains(Lo))return;const Mi=bi.objectStore(Lo),Zi=yield Mi.index("fcmSenderId").get(je);if(yield Mi.clear(),Zi)if(2===Nn){const Hi=Zi;if(!Hi.auth||!Hi.p256dh||!Hi.endpoint)return;st={token:Hi.fcmToken,createTime:null!==(gi=Hi.createTime)&&void 0!==gi?gi:Date.now(),subscriptionOptions:{auth:Hi.auth,p256dh:Hi.p256dh,endpoint:Hi.endpoint,swScope:Hi.swScope,vapidKey:"string"==typeof Hi.vapidKey?Hi.vapidKey:Vt(Hi.vapidKey)}}}else if(3===Nn){const Hi=Zi;st={token:Hi.fcmToken,createTime:Hi.createTime,subscriptionOptions:{auth:Vt(Hi.auth),p256dh:Vt(Hi.p256dh),endpoint:Hi.endpoint,swScope:Hi.swScope,vapidKey:Vt(Hi.vapidKey)}}}else if(4===Nn){const Hi=Zi;st={token:Hi.fcmToken,createTime:Hi.createTime,subscriptionOptions:{auth:Vt(Hi.auth),p256dh:Vt(Hi.p256dh),endpoint:Hi.endpoint,swScope:Hi.swScope,vapidKey:Vt(Hi.vapidKey)}}}}),function(Nn,$n,bi,gi){return sn.apply(this,arguments)})})).close(),yield ns(hi),yield ns("fcm_vapid_details_db"),yield ns("undefined"),function lo(je){if(!je||!je.subscriptionOptions)return!1;const{subscriptionOptions:st}=je;return"number"==typeof je.createTime&&je.createTime>0&&"string"==typeof je.token&&je.token.length>0&&"string"==typeof st.auth&&st.auth.length>0&&"string"==typeof st.p256dh&&st.p256dh.length>0&&"string"==typeof st.endpoint&&st.endpoint.length>0&&"string"==typeof st.swScope&&st.swScope.length>0&&"string"==typeof st.vapidKey&&st.vapidKey.length>0}(st)?st:null;var sn}),ds.apply(this,arguments)}const Is="firebase-messaging-database",Ar=1,Vo="firebase-messaging-store";let ga=null;function Aa(){return ga||(ga=jo(Is,Ar,{upgrade:(je,st)=>{0===st&&je.createObjectStore(Vo)}})),ga}function ei(je){return us.apply(this,arguments)}function us(){return us=(0,E.Z)(function*(je){const st=Nl(je),sn=yield(yield Aa()).transaction(Vo).objectStore(Vo).get(st);if(sn)return sn;{const xn=yield function Zo(je){return ds.apply(this,arguments)}(je.appConfig.senderId);if(xn)return yield _a(je,xn),xn}}),us.apply(this,arguments)}function _a(je,st){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,E.Z)(function*(je,st){const kt=Nl(je),xn=(yield Aa()).transaction(Vo,"readwrite");return yield xn.objectStore(Vo).put(st,kt),yield xn.done,st})).apply(this,arguments)}function Js(){return(Js=(0,E.Z)(function*(je){const st=Nl(je),sn=(yield Aa()).transaction(Vo,"readwrite");yield sn.objectStore(Vo).delete(st),yield sn.done})).apply(this,arguments)}function Nl({appConfig:je}){return je.appId}const Nr=new _.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _l(je,st){return vl.apply(this,arguments)}function vl(){return(vl=(0,E.Z)(function*(je,st){const kt=yield ys(je),sn=Ya(st),xn={method:"POST",headers:kt,body:JSON.stringify(sn)};let Nn;try{Nn=yield(yield fetch(xa(je.appConfig),xn)).json()}catch($n){throw Nr.create("token-subscribe-failed",{errorInfo:$n?.toString()})}if(Nn.error)throw Nr.create("token-subscribe-failed",{errorInfo:Nn.error.message});if(!Nn.token)throw Nr.create("token-subscribe-no-token");return Nn.token})).apply(this,arguments)}function va(){return(va=(0,E.Z)(function*(je,st){const kt=yield ys(je),sn=Ya(st.subscriptionOptions),xn={method:"PATCH",headers:kt,body:JSON.stringify(sn)};let Nn;try{Nn=yield(yield fetch(`${xa(je.appConfig)}/${st.token}`,xn)).json()}catch($n){throw Nr.create("token-update-failed",{errorInfo:$n?.toString()})}if(Nn.error)throw Nr.create("token-update-failed",{errorInfo:Nn.error.message});if(!Nn.token)throw Nr.create("token-update-no-token");return Nn.token})).apply(this,arguments)}function Ll(je,st){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(je,st){const sn={method:"DELETE",headers:yield ys(je)};try{const Nn=yield(yield fetch(`${xa(je.appConfig)}/${st}`,sn)).json();if(Nn.error)throw Nr.create("token-unsubscribe-failed",{errorInfo:Nn.error.message})}catch(xn){throw Nr.create("token-unsubscribe-failed",{errorInfo:xn?.toString()})}})).apply(this,arguments)}function xa({projectId:je}){return`${Gs}/projects/${je}/registrations`}function ys(je){return kl.apply(this,arguments)}function kl(){return(kl=(0,E.Z)(function*({appConfig:je,installations:st}){const kt=yield st.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je.apiKey,"x-goog-firebase-installations-auth":`FIS ${kt}`})})).apply(this,arguments)}function Ya({p256dh:je,auth:st,endpoint:kt,vapidKey:sn}){const xn={web:{endpoint:kt,auth:st,p256dh:je}};return sn!==$s&&(xn.web.applicationPubKey=sn),xn}const za=6048e5;function Fl(){return Fl=(0,E.Z)(function*(je){const st=yield function Hs(je,st){return Ke.apply(this,arguments)}(je.swRegistration,je.vapidKey),kt={vapidKey:je.vapidKey,swScope:je.swRegistration.scope,endpoint:st.endpoint,auth:Vt(st.getKey("auth")),p256dh:Vt(st.getKey("p256dh"))},sn=yield ei(je.firebaseDependencies);if(sn){if(function jt(je,st){return st.vapidKey===je.vapidKey&&st.endpoint===je.endpoint&&st.auth===je.auth&&st.p256dh===je.p256dh}(sn.subscriptionOptions,kt))return Date.now()>=sn.createTime+za?function bs(je,st){return Ja.apply(this,arguments)}(je,{token:sn.token,createTime:Date.now(),subscriptionOptions:kt}):sn.token;try{yield Ll(je.firebaseDependencies,sn.token)}catch(xn){console.warn(xn)}return fs(je.firebaseDependencies,kt)}return fs(je.firebaseDependencies,kt)}),Fl.apply(this,arguments)}function $a(){return $a=(0,E.Z)(function*(je){const st=yield ei(je.firebaseDependencies);st&&(yield Ll(je.firebaseDependencies,st.token),yield function Wa(je){return Js.apply(this,arguments)}(je.firebaseDependencies));const kt=yield je.swRegistration.pushManager.getSubscription();return!kt||kt.unsubscribe()}),$a.apply(this,arguments)}function Ja(){return Ja=(0,E.Z)(function*(je,st){try{const kt=yield function Pc(je,st){return va.apply(this,arguments)}(je.firebaseDependencies,st),sn=Object.assign(Object.assign({},st),{token:kt,createTime:Date.now()});return yield _a(je.firebaseDependencies,sn),kt}catch(kt){throw yield function Za(je){return $a.apply(this,arguments)}(je),kt}}),Ja.apply(this,arguments)}function fs(je,st){return wr.apply(this,arguments)}function wr(){return(wr=(0,E.Z)(function*(je,st){const sn={token:yield _l(je,st),createTime:Date.now(),subscriptionOptions:st};return yield _a(je,sn),sn.token})).apply(this,arguments)}function Ke(){return(Ke=(0,E.Z)(function*(je,st){return(yield je.pushManager.getSubscription())||je.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bn(st)})})).apply(this,arguments)}function pt(je){const st={from:je.from,collapseKey:je.collapse_key,messageId:je.fcmMessageId};return function Ft(je,st){if(!st.notification)return;je.notification={};const kt=st.notification.title;kt&&(je.notification.title=kt);const sn=st.notification.body;sn&&(je.notification.body=sn);const xn=st.notification.image;xn&&(je.notification.image=xn);const Nn=st.notification.icon;Nn&&(je.notification.icon=Nn)}(st,je),function vn(je,st){st.data&&(je.data=st.data)}(st,je),function Gn(je,st){var kt,sn,xn,Nn,$n;if(!(st.fcmOptions||null!==(kt=st.notification)&&void 0!==kt&&kt.click_action))return;je.fcmOptions={};const bi=null!==(xn=null===(sn=st.fcmOptions)||void 0===sn?void 0:sn.link)&&void 0!==xn?xn:null===(Nn=st.notification)||void 0===Nn?void 0:Nn.click_action;bi&&(je.fcmOptions.link=bi);const gi=null===($n=st.fcmOptions)||void 0===$n?void 0:$n.analytics_label;gi&&(je.fcmOptions.analyticsLabel=gi)}(st,je),st}function _i(je,st){const kt=[];for(let sn=0;sn<je.length;sn++)kt.push(je.charAt(sn)),sn<st.length&&kt.push(st.charAt(sn));return kt.join("")}function er(je){return Nr.create("missing-app-config-values",{valueName:je})}_i("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_i("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wi{constructor(st,kt,sn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xn=function tr(je){if(!je||!je.options)throw er("App Configuration Object");if(!je.name)throw er("App Name");const st=["projectId","apiKey","appId","messagingSenderId"],{options:kt}=je;for(const sn of st)if(!kt[sn])throw er(sn);return{appName:je.name,projectId:kt.projectId,apiKey:kt.apiKey,appId:kt.appId,senderId:kt.messagingSenderId}}(st);this.firebaseDependencies={app:st,appConfig:xn,installations:kt,analyticsProvider:sn}}_delete(){return Promise.resolve()}}function Vr(){return(Vr=(0,E.Z)(function*(je){try{je.swRegistration=yield navigator.serviceWorker.register(vo,{scope:pa}),je.swRegistration.update().catch(()=>{})}catch(st){throw Nr.create("failed-service-worker-registration",{browserErrorMessage:st?.message})}})).apply(this,arguments)}function Or(){return(Or=(0,E.Z)(function*(je,st){if(!st&&!je.swRegistration&&(yield function Ji(je){return Vr.apply(this,arguments)}(je)),st||!je.swRegistration){if(!(st instanceof ServiceWorkerRegistration))throw Nr.create("invalid-sw-registration");je.swRegistration=st}})).apply(this,arguments)}function xi(){return(xi=(0,E.Z)(function*(je,st){st?je.vapidKey=st:je.vapidKey||(je.vapidKey=$s)})).apply(this,arguments)}function is(){return is=(0,E.Z)(function*(je,st){if(!navigator)throw Nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nr.create("permission-blocked");return yield function ko(je,st){return xi.apply(this,arguments)}(je,st?.vapidKey),yield function or(je,st){return Or.apply(this,arguments)}(je,st?.serviceWorkerRegistration),function Ia(je){return Fl.apply(this,arguments)}(je)}),is.apply(this,arguments)}function Io(){return(Io=(0,E.Z)(function*(je,st,kt){const sn=function Ko(je){switch(je){case at.NOTIFICATION_CLICKED:return"notification_open";case at.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(st);(yield je.firebaseDependencies.analyticsProvider.get()).logEvent(sn,{message_id:kt[_r],message_name:kt[ar],message_time:kt[An],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $r(){return $r=(0,E.Z)(function*(je,st){const kt=st.data;if(!kt.isFirebaseMessaging)return;je.onMessageHandler&&kt.messageType===at.PUSH_RECEIVED&&("function"==typeof je.onMessageHandler?je.onMessageHandler(pt(kt)):je.onMessageHandler.next(pt(kt)));const sn=kt.data;(function Jn(je){return"object"==typeof je&&!!je&&_r in je})(sn)&&"1"===sn["google.c.a.e"]&&(yield function co(je,st,kt){return Io.apply(this,arguments)}(je,kt.messageType,sn))}),$r.apply(this,arguments)}const ic="@firebase/messaging",Bl=je=>{const st=new Wi(je.getProvider("app").getImmediate(),je.getProvider("installations-internal").getImmediate(),je.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",kt=>function Qs(je,st){return $r.apply(this,arguments)}(st,kt)),st},yl=je=>{const st=je.getProvider("messaging").getImmediate();return{getToken:sn=>function hs(je,st){return is.apply(this,arguments)}(st,sn)}};function ii(){return nr.apply(this,arguments)}function nr(){return(nr=(0,E.Z)(function*(){try{yield(0,_.eu)()}catch{return!1}return typeof window<"u"&&(0,_.hl)()&&(0,_.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qa(){(0,A._registerComponent)(new I.wA("messaging",Bl,"PUBLIC")),(0,A._registerComponent)(new I.wA("messaging-internal",yl,"PRIVATE")),(0,A.registerVersion)(ic,"0.12.4"),(0,A.registerVersion)(ic,"0.12.4","esm2017")}();const wa="analytics",rc="firebase_id",El="origin",Jr=6e4,Es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xa="https://www.googletagmanager.com/gtag/js",Lr=new w.Yd("@firebase/analytics"),Eo=new _.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ul(je){if(!je.startsWith(Xa)){const st=Eo.create("invalid-gtag-resource",{gtagURL:je});return Lr.warn(st.message),""}return je}function Tl(je){return Promise.all(je.map(st=>st.catch(kt=>kt)))}function qs(){return(qs=(0,E.Z)(function*(je,st,kt,sn,xn,Nn){const $n=sn[xn];try{if($n)yield st[$n];else{const gi=(yield Tl(kt)).find(Mi=>Mi.measurementId===xn);gi&&(yield st[gi.appId])}}catch(bi){Lr.error(bi)}je("config",xn,Nn)})).apply(this,arguments)}function ws(){return(ws=(0,E.Z)(function*(je,st,kt,sn,xn){try{let Nn=[];if(xn&&xn.send_to){let $n=xn.send_to;Array.isArray($n)||($n=[$n]);const bi=yield Tl(kt);for(const gi of $n){const Mi=bi.find(Hi=>Hi.measurementId===gi),Zi=Mi&&st[Mi.appId];if(!Zi){Nn=[];break}Nn.push(Zi)}}0===Nn.length&&(Nn=Object.values(st)),yield Promise.all(Nn),je("event",sn,xn||{})}catch(Nn){Lr.error(Nn)}})).apply(this,arguments)}const ld=30,Lc=new class Pa{constructor(st={},kt=1e3){this.throttleMetadata=st,this.intervalMillis=kt}getThrottleMetadata(st){return this.throttleMetadata[st]}setThrottleMetadata(st,kt){this.throttleMetadata[st]=kt}deleteThrottleMetadata(st){delete this.throttleMetadata[st]}};function cd(je){return new Headers({Accept:"application/json","x-goog-api-key":je})}function Yr(){return(Yr=(0,E.Z)(function*(je){var st;const{appId:kt,apiKey:sn}=je,xn={method:"GET",headers:cd(sn)},Nn=Es.replace("{app-id}",kt),$n=yield fetch(Nn,xn);if(200!==$n.status&&304!==$n.status){let bi="";try{const gi=yield $n.json();null!==(st=gi.error)&&void 0!==st&&st.message&&(bi=gi.error.message)}catch{}throw Eo.create("config-fetch-failed",{httpStatus:$n.status,responseMessage:bi})}return $n.json()})).apply(this,arguments)}function rt(){return(rt=(0,E.Z)(function*(je,st=Lc,kt){const{appId:sn,apiKey:xn,measurementId:Nn}=je.options;if(!sn)throw Eo.create("no-app-id");if(!xn){if(Nn)return{measurementId:Nn,appId:sn};throw Eo.create("no-api-key")}const $n=st.getThrottleMetadata(sn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},bi=new en;return setTimeout((0,E.Z)(function*(){bi.abort()}),void 0!==kt?kt:Jr),Me({appId:sn,apiKey:xn,measurementId:Nn},$n,bi,st)})).apply(this,arguments)}function Me(je,st,kt){return Je.apply(this,arguments)}function Je(){return Je=(0,E.Z)(function*(je,{throttleEndTimeMillis:st,backoffCount:kt},sn,xn=Lc){var Nn;const{appId:$n,measurementId:bi}=je;try{yield function Nt(je,st){return new Promise((kt,sn)=>{const xn=Math.max(st-Date.now(),0),Nn=setTimeout(kt,xn);je.addEventListener(()=>{clearTimeout(Nn),sn(Eo.create("fetch-throttle",{throttleEndTimeMillis:st}))})})}(sn,st)}catch(gi){if(bi)return Lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bi} provided in the "measurementId" field in the local Firebase config. [${gi?.message}]`),{appId:$n,measurementId:bi};throw gi}try{const gi=yield function $o(je){return Yr.apply(this,arguments)}(je);return xn.deleteThrottleMetadata($n),gi}catch(gi){const Mi=gi;if(!function tn(je){if(!(je instanceof _.ZR&&je.customData))return!1;const st=Number(je.customData.httpStatus);return 429===st||500===st||503===st||504===st}(Mi)){if(xn.deleteThrottleMetadata($n),bi)return Lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bi} provided in the "measurementId" field in the local Firebase config. [${Mi?.message}]`),{appId:$n,measurementId:bi};throw gi}const Zi=503===Number(null===(Nn=Mi?.customData)||void 0===Nn?void 0:Nn.httpStatus)?(0,_.$s)(kt,xn.intervalMillis,ld):(0,_.$s)(kt,xn.intervalMillis),Hi={throttleEndTimeMillis:Date.now()+Zi,backoffCount:kt+1};return xn.setThrottleMetadata($n,Hi),Lr.debug(`Calling attemptFetch again in ${Zi} millis`),Me(je,Hi,sn,xn)}}),Je.apply(this,arguments)}class en{constructor(){this.listeners=[]}addEventListener(st){this.listeners.push(st)}abort(){this.listeners.forEach(st=>st())}}let Rn,ac;function wi(){return(wi=(0,E.Z)(function*(je,st,kt,sn,xn){if(xn&&xn.global)je("event",kt,sn);else{const Nn=yield st;je("event",kt,Object.assign(Object.assign({},sn),{send_to:Nn}))}})).apply(this,arguments)}function ea(){return(ea=(0,E.Z)(function*(){if(!(0,_.hl)())return Lr.warn(Eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_.eu)()}catch(je){return Lr.warn(Eo.create("indexeddb-unavailable",{errorInfo:je?.toString()}).message),!1}return!0})).apply(this,arguments)}function Cr(){return Cr=(0,E.Z)(function*(je,st,kt,sn,xn,Nn,$n){var bi;const gi=function Pe(je){return rt.apply(this,arguments)}(je);gi.then(no=>{kt[no.measurementId]=no.appId,je.options.measurementId&&no.measurementId!==je.options.measurementId&&Lr.warn(`The measurement ID in the local Firebase config (${je.options.measurementId}) does not match the measurement ID fetched from the server (${no.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(no=>Lr.error(no)),st.push(gi);const Mi=function wd(){return ea.apply(this,arguments)}().then(no=>{if(no)return sn.getId()}),[Zi,Hi]=yield Promise.all([gi,Mi]);(function sc(je){const st=window.document.getElementsByTagName("script");for(const kt of Object.values(st))if(kt.src&&kt.src.includes(Xa)&&kt.src.includes(je))return kt;return null})(Nn)||function oc(je,st){const kt=function el(je,st){let kt;return window.trustedTypes&&(kt=window.trustedTypes.createPolicy(je,st)),kt}("firebase-js-sdk-policy",{createScriptURL:Ul}),sn=document.createElement("script"),xn=`${Xa}?l=${je}&id=${st}`;sn.src=kt?kt?.createScriptURL(xn):xn,sn.async=!0,document.head.appendChild(sn)}(Nn,Zi.measurementId),ac&&(xn("consent","default",ac),function Ta(je){ac=je}(void 0)),xn("js",new Date);const Vi=null!==(bi=$n?.config)&&void 0!==bi?bi:{};return Vi[El]="firebase",Vi.update=!0,null!=Hi&&(Vi[rc]=Hi),xn("config",Zi.measurementId,Vi),Rn&&(xn("set",Rn),function Sl(je){Rn=je}(void 0)),Zi.measurementId}),Cr.apply(this,arguments)}class lc{constructor(st){this.app=st}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},kc=[];const Ra={};let Fc,os,Os="dataLayer",ta=!1;function Rd(je,st,kt){!function Ps(){const je=[];if((0,_.ru)()&&je.push("This is a browser extension environment."),(0,_.zI)()||je.push("Cookies are not available."),je.length>0){const st=je.map((sn,xn)=>`(${xn+1}) ${sn}`).join(" "),kt=Eo.create("invalid-analytics-context",{errorInfo:st});Lr.warn(kt.message)}}();const sn=je.options.appId;if(!sn)throw Eo.create("no-app-id");if(!je.options.apiKey){if(!je.options.measurementId)throw Eo.create("no-api-key");Lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${je.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jo[sn])throw Eo.create("already-exists",{id:sn});if(!ta){!function ba(je){let st=[];Array.isArray(window[je])?st=window[je]:window[je]=st}(Os);const{wrappedGtag:Nn,gtagCore:$n}=function Rc(je,st,kt,sn,xn){let Nn=function(...$n){window[sn].push(arguments)};return window[xn]&&"function"==typeof window[xn]&&(Nn=window[xn]),window[xn]=function Gl(je,st,kt,sn){function Nn(){return Nn=(0,E.Z)(function*($n,...bi){try{if("event"===$n){const[gi,Mi]=bi;yield function tl(je,st,kt,sn,xn){return ws.apply(this,arguments)}(je,st,kt,gi,Mi)}else if("config"===$n){const[gi,Mi]=bi;yield function Oa(je,st,kt,sn,xn,Nn){return qs.apply(this,arguments)}(je,st,kt,sn,gi,Mi)}else if("consent"===$n){const[gi]=bi;je("consent","update",gi)}else if("get"===$n){const[gi,Mi,Zi]=bi;je("get",gi,Mi,Zi)}else if("set"===$n){const[gi]=bi;je("set",gi)}else je($n,...bi)}catch(gi){Lr.error(gi)}}),Nn.apply(this,arguments)}return function xn($n){return Nn.apply(this,arguments)}}(Nn,je,st,kt),{gtagCore:Nn,wrappedGtag:window[xn]}}(Jo,kc,Ra,Os,"gtag");os=Nn,Fc=$n,ta=!0}return Jo[sn]=function Od(je,st,kt,sn,xn,Nn,$n){return Cr.apply(this,arguments)}(je,kc,Ra,st,Fc,Os,kt),new lc(je)}function Cl(){return da.apply(this,arguments)}function da(){return(da=(0,E.Z)(function*(){if((0,_.ru)()||!(0,_.zI)()||!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}const cc="@firebase/analytics";!function Ml(){(0,A._registerComponent)(new I.wA(wa,(st,{options:kt})=>Rd(st.getProvider("app").getImmediate(),st.getProvider("installations-internal").getImmediate(),kt),"PUBLIC")),(0,A._registerComponent)(new I.wA("analytics-internal",function je(st){try{const kt=st.getProvider(wa).getImmediate();return{logEvent:(sn,xn,Nn)=>function jl(je,st,kt,sn){je=(0,_.m9)(je),function ni(je,st,kt,sn,xn){return wi.apply(this,arguments)}(os,Jo[je.app.options.appId],st,kt,sn).catch(xn=>Lr.error(xn))}(kt,sn,xn,Nn)}}catch(kt){throw Eo.create("interop-component-reg-failed",{reason:kt})}},"PRIVATE")),(0,A.registerVersion)(cc,"0.10.0"),(0,A.registerVersion)(cc,"0.10.0","esm2017")}();var ol=v(1954),Kl=v(2631);const Vc=new class Wl extends Kl.v{}(class jc extends ol.o{constructor(st,kt){super(st,kt),this.scheduler=st,this.work=kt}schedule(st,kt=0){return kt>0?super.schedule(st,kt):(this.delay=kt,this.state=st,this.scheduler.flush(this),this)}execute(st,kt){return kt>0||this.closed?super.execute(st,kt):this._execute(st,kt)}requestAsyncId(st,kt,sn=0){return null!=sn&&sn>0||null==sn&&this.delay>0?super.requestAsyncId(st,kt,sn):(st.flush(this),0)}});var Kc=v(6321),Sa=v(9397),ka=v(5137),Ca=v(3093);const dd=new e.GfV("7.6.1"),Al="__angularfire_symbol__analyticsIsSupportedValue",sl="__angularfire_symbol__analyticsIsSupported",ud="__angularfire_symbol__remoteConfigIsSupportedValue",Wc="__angularfire_symbol__remoteConfigIsSupported",Yc="__angularfire_symbol__messagingIsSupportedValue",zc="__angularfire_symbol__messagingIsSupported";function Yl(je,st,kt){if(st){if(1===st.length)return st[0];const Nn=st.filter($n=>$n.app===kt);if(1===Nn.length)return Nn[0]}return kt.container.getProvider(je).getImmediate({optional:!0})}globalThis[sl]||(globalThis[sl]=Cl().then(je=>globalThis[Al]=je).catch(()=>globalThis[Al]=!1)),globalThis[zc]||(globalThis[zc]=ii().then(je=>globalThis[Yc]=je).catch(()=>globalThis[Yc]=!1)),globalThis[Wc]||(globalThis[Wc]=Ho().then(je=>globalThis[ud]=je).catch(()=>globalThis[ud]=!1));const ms=(je,st)=>{const kt=st?[st]:(0,n.C6)(),sn=[];return kt.forEach(xn=>{xn.container.getProvider(je).instances.forEach($n=>{sn.includes($n)||sn.push($n)})}),sn};function zl(){}class to{constructor(st,kt=Vc){this.zone=st,this.delegate=kt}now(){return this.delegate.now()}schedule(st,kt,sn){const xn=this.zone;return this.delegate.schedule(function($n){xn.runGuarded(()=>{st.apply(this,[$n])})},kt,sn)}}class Nd{constructor(st){this.zone=st,this.task=null}call(st,kt){const sn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)),kt.pipe((0,Sa.b)({next:sn,complete:sn,error:sn})).subscribe(st).add(sn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uc=(()=>{class je{constructor(kt){this.ngZone=kt,this.outsideAngular=kt.runOutsideAngular(()=>new to(Zone.current)),this.insideAngular=kt.run(()=>new to(Zone.current,Kc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return je.\u0275fac=function(kt){return new(kt||je)(e.LFG(e.R0b))},je.\u0275prov=e.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();function js(){const je=globalThis.\u0275AngularFireScheduler;if(!je)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return je}function al(je){return js(),function fc(je){return function(kt){return(kt=kt.lift(new Nd(je.ngZone))).pipe((0,ka.R)(je.outsideAngular),(0,Ca.Q)(je.insideAngular))}}(js())(je)}},6878:(Bn,et,v)=>{"use strict";v.d(et,{$:()=>vo,A:()=>u,D:()=>k,I:()=>Xt,J:()=>Ir,L:()=>Qn,N:()=>Fe,P:()=>Od,Q:()=>Ws,R:()=>Bo,U:()=>es,V:()=>Ho,W:()=>gs,X:()=>ao,Y:()=>pr,Z:()=>Fs,_:()=>Ys,a:()=>Sr,a0:()=>$s,a1:()=>_r,a2:()=>At,a3:()=>Lo,a4:()=>ds,a5:()=>Is,a6:()=>Vo,a7:()=>Aa,a8:()=>us,a9:()=>Ka,aA:()=>ee,aB:()=>ud,aC:()=>gt,aD:()=>ke,aE:()=>ka,aF:()=>Hc,aG:()=>Gc,aH:()=>Sn,aL:()=>Fo,aO:()=>As,aa:()=>Wa,ab:()=>Nl,ac:()=>gl,ad:()=>Pc,ae:()=>Ll,af:()=>xa,ai:()=>za,aj:()=>Fl,ak:()=>Za,an:()=>ts,ao:()=>Ft,aq:()=>xi,ar:()=>ic,as:()=>Ae,at:()=>Tn,au:()=>fn,av:()=>C,aw:()=>Vi,ax:()=>fd,ay:()=>Dn,az:()=>O,b:()=>ya,c:()=>os,d:()=>Rd,e:()=>Pd,f:()=>cc,g:()=>Wl,h:()=>ol,i:()=>Nc,j:()=>Kc,k:()=>Rs,l:()=>To,m:()=>ru,p:()=>g,r:()=>Ea,s:()=>Xs,u:()=>wd});var e=v(5861),n=v(9058),E=v(534),A=v(7582),_=v(7879),I=v(4537);const g={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const k=function m(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},P=function y(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},B=new n.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),R=new _.Yd("@firebase/auth");function T(Oe,...z){R.logLevel<=_.in.ERROR&&R.error(`Auth (${E.SDK_VERSION}): ${Oe}`,...z)}function C(Oe,...z){throw Z(Oe,...z)}function O(Oe,...z){return Z(Oe,...z)}function M(Oe,z,ie){const Ye=Object.assign(Object.assign({},P()),{[z]:ie});return new n.LL("auth","Firebase",Ye).create(z,{appName:Oe.name})}function G(Oe,z,ie){if(!(z instanceof ie))throw ie.name!==z.constructor.name&&C(Oe,"argument-error"),M(Oe,"argument-error",`Type of ${z.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z(Oe,...z){if("string"!=typeof Oe){const ie=z[0],Ye=[...z.slice(1)];return Ye[0]&&(Ye[0].appName=Oe.name),Oe._errorFactory.create(ie,...Ye)}return B.create(Oe,...z)}function ee(Oe,z,...ie){if(!Oe)throw Z(z,...ie)}function ae(Oe){const z="INTERNAL ASSERTION FAILED: "+Oe;throw T(z),new Error(z)}function Ae(Oe,z){Oe||ae(z)}function j(){var Oe;return typeof self<"u"&&(null===(Oe=self.location)||void 0===Oe?void 0:Oe.href)||""}function le(){return"http:"===Y()||"https:"===Y()}function Y(){var Oe;return typeof self<"u"&&(null===(Oe=self.location)||void 0===Oe?void 0:Oe.protocol)||null}class Se{constructor(z,ie){this.shortDelay=z,this.longDelay=ie,Ae(ie>z,"Short delay should be less than long delay!"),this.isMobile=(0,n.uI)()||(0,n.b$)()}get(){return function ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,n.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xe(Oe,z){Ae(Oe.emulator,"Emulator should always be set here");const{url:ie}=Oe.emulator;return z?`${ie}${z.startsWith("/")?z.slice(1):z}`:ie}class Ge{static initialize(z,ie,Ye){this.fetchImpl=z,ie&&(this.headersImpl=ie),Ye&&(this.responseImpl=Ye)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new Se(3e4,6e4);function Le(Oe,z){return Oe.tenantId&&!z.tenantId?Object.assign(Object.assign({},z),{tenantId:Oe.tenantId}):z}function fe(Oe,z,ie,Ye){return we.apply(this,arguments)}function we(){return(we=(0,e.Z)(function*(Oe,z,ie,Ye,Ut={}){return Te(Oe,Ut,(0,e.Z)(function*(){let qt={},On={};Ye&&("GET"===z?On=Ye:qt={body:JSON.stringify(Ye)});const Zn=(0,n.xO)(Object.assign({key:Oe.config.apiKey},On)).slice(1),di=yield Oe._getAdditionalHeaders();return di["Content-Type"]="application/json",Oe.languageCode&&(di["X-Firebase-Locale"]=Oe.languageCode),Ge.fetch()(He(Oe,Oe.config.apiHost,ie,Zn),Object.assign({method:z,headers:di,referrerPolicy:"no-referrer"},qt))}))})).apply(this,arguments)}function Te(Oe,z,ie){return De.apply(this,arguments)}function De(){return(De=(0,e.Z)(function*(Oe,z,ie){Oe._canInitEmulator=!1;const Ye=Object.assign(Object.assign({},ge),z);try{const Ut=new be(Oe),qt=yield Promise.race([ie(),Ut.promise]);Ut.clearNetworkTimeout();const On=yield qt.json();if("needConfirmation"in On)throw _e(Oe,"account-exists-with-different-credential",On);if(qt.ok&&!("errorMessage"in On))return On;{const Zn=qt.ok?On.errorMessage:On.error.message,[di,Ci]=Zn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===di)throw _e(Oe,"credential-already-in-use",On);if("EMAIL_EXISTS"===di)throw _e(Oe,"email-already-in-use",On);if("USER_DISABLED"===di)throw _e(Oe,"user-disabled",On);const Bi=Ye[di]||di.toLowerCase().replace(/[_\s]+/g,"-");if(Ci)throw M(Oe,Bi,Ci);C(Oe,Bi)}}catch(Ut){if(Ut instanceof n.ZR)throw Ut;C(Oe,"network-request-failed",{message:String(Ut)})}})).apply(this,arguments)}function Ue(Oe,z,ie,Ye){return lt.apply(this,arguments)}function lt(){return(lt=(0,e.Z)(function*(Oe,z,ie,Ye,Ut={}){const qt=yield fe(Oe,z,ie,Ye,Ut);return"mfaPendingCredential"in qt&&C(Oe,"multi-factor-auth-required",{_serverResponse:qt}),qt})).apply(this,arguments)}function He(Oe,z,ie,Ye){const Ut=`${z}${ie}?${Ye}`;return Oe.config.emulator?xe(Oe.config,Ut):`${Oe.config.apiScheme}://${Ut}`}class be{constructor(z){this.auth=z,this.timer=null,this.promise=new Promise((ie,Ye)=>{this.timer=setTimeout(()=>Ye(O(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _e(Oe,z,ie){const Ye={appName:Oe.name};ie.email&&(Ye.email=ie.email),ie.phoneNumber&&(Ye.phoneNumber=ie.phoneNumber);const Ut=O(Oe,z,Ye);return Ut.customData._tokenResponse=ie,Ut}function oe(){return(oe=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:delete",z)})).apply(this,arguments)}function re(){return(re=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:update",z)})).apply(this,arguments)}function X(){return(X=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:lookup",z)})).apply(this,arguments)}function $(Oe){if(Oe)try{const z=new Date(Number(Oe));if(!isNaN(z.getTime()))return z.toUTCString()}catch{}}function q(){return(q=(0,e.Z)(function*(Oe,z=!1){const ie=(0,n.m9)(Oe),Ye=yield ie.getIdToken(z),Ut=Ee(Ye);ee(Ut&&Ut.exp&&Ut.auth_time&&Ut.iat,ie.auth,"internal-error");const qt="object"==typeof Ut.firebase?Ut.firebase:void 0,On=qt?.sign_in_provider;return{claims:Ut,token:Ye,authTime:$(me(Ut.auth_time)),issuedAtTime:$(me(Ut.iat)),expirationTime:$(me(Ut.exp)),signInProvider:On||null,signInSecondFactor:qt?.sign_in_second_factor||null}})).apply(this,arguments)}function me(Oe){return 1e3*Number(Oe)}function Ee(Oe){const[z,ie,Ye]=Oe.split(".");if(void 0===z||void 0===ie||void 0===Ye)return T("JWT malformed, contained fewer than 3 sections"),null;try{const Ut=(0,n.tV)(ie);return Ut?JSON.parse(Ut):(T("Failed to decode base64 JWT payload"),null)}catch(Ut){return T("Caught error parsing JWT payload as JSON",Ut?.toString()),null}}function Ne(Oe,z){return tt.apply(this,arguments)}function tt(){return(tt=(0,e.Z)(function*(Oe,z,ie=!1){if(ie)return z;try{return yield z}catch(Ye){throw Ye instanceof n.ZR&&function qe({code:Oe}){return"auth/user-disabled"===Oe||"auth/user-token-expired"===Oe}(Ye)&&Oe.auth.currentUser===Oe&&(yield Oe.auth.signOut()),Ye}})).apply(this,arguments)}class Xe{constructor(z){this.user=z,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(z){var ie;if(z){const Ye=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Ye}{this.errorBackoff=3e4;const Ut=(null!==(ie=this.user.stsTokenManager.expirationTime)&&void 0!==ie?ie:0)-Date.now()-3e5;return Math.max(0,Ut)}}schedule(z=!1){var ie=this;if(!this.isRunning)return;const Ye=this.getInterval(z);this.timerId=setTimeout((0,e.Z)(function*(){yield ie.iteration()}),Ye)}iteration(){var z=this;return(0,e.Z)(function*(){try{yield z.user.getIdToken(!0)}catch(ie){return void("auth/network-request-failed"===ie?.code&&z.schedule(!0))}z.schedule()})()}}class ut{constructor(z,ie){this.createdAt=z,this.lastLoginAt=ie,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(z){this.createdAt=z.createdAt,this.lastLoginAt=z.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ze(Oe){return ht.apply(this,arguments)}function ht(){return ht=(0,e.Z)(function*(Oe){var z;const ie=Oe.auth,Ye=yield Oe.getIdToken(),Ut=yield Ne(Oe,function Q(Oe,z){return X.apply(this,arguments)}(ie,{idToken:Ye}));ee(Ut?.users.length,ie,"internal-error");const qt=Ut.users[0];Oe._notifyReloadListener(qt);const On=null!==(z=qt.providerUserInfo)&&void 0!==z&&z.length?function yt(Oe){return Oe.map(z=>{var{providerId:ie}=z,Ye=(0,A._T)(z,["providerId"]);return{providerId:ie,uid:Ye.rawId||"",displayName:Ye.displayName||null,email:Ye.email||null,phoneNumber:Ye.phoneNumber||null,photoURL:Ye.photoUrl||null}})}(qt.providerUserInfo):[],Zn=function Ve(Oe,z){return[...Oe.filter(Ye=>!z.some(Ut=>Ut.providerId===Ye.providerId)),...z]}(Oe.providerData,On),Bi=!!Oe.isAnonymous&&!(Oe.email&&qt.passwordHash||Zn?.length),vr={uid:qt.localId,displayName:qt.displayName||null,photoURL:qt.photoUrl||null,email:qt.email||null,emailVerified:qt.emailVerified||!1,phoneNumber:qt.phoneNumber||null,tenantId:qt.tenantId||null,providerData:Zn,metadata:new ut(qt.createdAt,qt.lastLoginAt),isAnonymous:Bi};Object.assign(Oe,vr)}),ht.apply(this,arguments)}function ce(){return(ce=(0,e.Z)(function*(Oe){const z=(0,n.m9)(Oe);yield ze(z),yield z.auth._persistUserIfCurrent(z),z.auth._notifyListenersIfCurrent(z)})).apply(this,arguments)}function zt(){return(zt=(0,e.Z)(function*(Oe,z){const ie=yield Te(Oe,{},(0,e.Z)(function*(){const Ye=(0,n.xO)({grant_type:"refresh_token",refresh_token:z}).slice(1),{tokenApiHost:Ut,apiKey:qt}=Oe.config,On=He(Oe,Ut,"/v1/token",`key=${qt}`),Zn=yield Oe._getAdditionalHeaders();return Zn["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(On,{method:"POST",headers:Zn,body:Ye})}));return{accessToken:ie.access_token,expiresIn:ie.expires_in,refreshToken:ie.refresh_token}})).apply(this,arguments)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(z){ee(z.idToken,"internal-error"),ee(typeof z.idToken<"u","internal-error"),ee(typeof z.refreshToken<"u","internal-error");const ie="expiresIn"in z&&typeof z.expiresIn<"u"?Number(z.expiresIn):function ye(Oe){const z=Ee(Oe);return ee(z,"internal-error"),ee(typeof z.exp<"u","internal-error"),ee(typeof z.iat<"u","internal-error"),Number(z.exp)-Number(z.iat)}(z.idToken);this.updateTokensAndExpiration(z.idToken,z.refreshToken,ie)}getToken(z,ie=!1){var Ye=this;return(0,e.Z)(function*(){return ee(!Ye.accessToken||Ye.refreshToken,z,"user-token-expired"),ie||!Ye.accessToken||Ye.isExpired?Ye.refreshToken?(yield Ye.refresh(z,Ye.refreshToken),Ye.accessToken):null:Ye.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(z,ie){var Ye=this;return(0,e.Z)(function*(){const{accessToken:Ut,refreshToken:qt,expiresIn:On}=yield function Bt(Oe,z){return zt.apply(this,arguments)}(z,ie);Ye.updateTokensAndExpiration(Ut,qt,Number(On))})()}updateTokensAndExpiration(z,ie,Ye){this.refreshToken=ie||null,this.accessToken=z||null,this.expirationTime=Date.now()+1e3*Ye}static fromJSON(z,ie){const{refreshToken:Ye,accessToken:Ut,expirationTime:qt}=ie,On=new Yt;return Ye&&(ee("string"==typeof Ye,"internal-error",{appName:z}),On.refreshToken=Ye),Ut&&(ee("string"==typeof Ut,"internal-error",{appName:z}),On.accessToken=Ut),qt&&(ee("number"==typeof qt,"internal-error",{appName:z}),On.expirationTime=qt),On}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(z){this.accessToken=z.accessToken,this.refreshToken=z.refreshToken,this.expirationTime=z.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function cn(Oe,z){ee("string"==typeof Oe||typeof Oe>"u","internal-error",{appName:z})}class nn{constructor(z){var{uid:ie,auth:Ye,stsTokenManager:Ut}=z,qt=(0,A._T)(z,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=ie,this.auth=Ye,this.stsTokenManager=Ut,this.accessToken=Ut.accessToken,this.displayName=qt.displayName||null,this.email=qt.email||null,this.emailVerified=qt.emailVerified||!1,this.phoneNumber=qt.phoneNumber||null,this.photoURL=qt.photoURL||null,this.isAnonymous=qt.isAnonymous||!1,this.tenantId=qt.tenantId||null,this.providerData=qt.providerData?[...qt.providerData]:[],this.metadata=new ut(qt.createdAt||void 0,qt.lastLoginAt||void 0)}getIdToken(z){var ie=this;return(0,e.Z)(function*(){const Ye=yield Ne(ie,ie.stsTokenManager.getToken(ie.auth,z));return ee(Ye,ie.auth,"internal-error"),ie.accessToken!==Ye&&(ie.accessToken=Ye,yield ie.auth._persistUserIfCurrent(ie),ie.auth._notifyListenersIfCurrent(ie)),Ye})()}getIdTokenResult(z){return function J(Oe){return q.apply(this,arguments)}(this,z)}reload(){return function vt(Oe){return ce.apply(this,arguments)}(this)}_assign(z){this!==z&&(ee(this.uid===z.uid,this.auth,"internal-error"),this.displayName=z.displayName,this.photoURL=z.photoURL,this.email=z.email,this.emailVerified=z.emailVerified,this.phoneNumber=z.phoneNumber,this.isAnonymous=z.isAnonymous,this.tenantId=z.tenantId,this.providerData=z.providerData.map(ie=>Object.assign({},ie)),this.metadata._copy(z.metadata),this.stsTokenManager._assign(z.stsTokenManager))}_clone(z){const ie=new nn(Object.assign(Object.assign({},this),{auth:z,stsTokenManager:this.stsTokenManager._clone()}));return ie.metadata._copy(this.metadata),ie}_onReload(z){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=z,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(z){this.reloadListener?this.reloadListener(z):this.reloadUserInfo=z}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(z,ie=!1){var Ye=this;return(0,e.Z)(function*(){let Ut=!1;z.idToken&&z.idToken!==Ye.stsTokenManager.accessToken&&(Ye.stsTokenManager.updateFromServerResponse(z),Ut=!0),ie&&(yield ze(Ye)),yield Ye.auth._persistUserIfCurrent(Ye),Ut&&Ye.auth._notifyListenersIfCurrent(Ye)})()}delete(){var z=this;return(0,e.Z)(function*(){const ie=yield z.getIdToken();return yield Ne(z,function K(Oe,z){return oe.apply(this,arguments)}(z.auth,{idToken:ie})),z.stsTokenManager.clearRefreshToken(),z.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(z=>Object.assign({},z)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(z,ie){var Ye,Ut,qt,On,Zn,di,Ci,Bi;const vr=null!==(Ye=ie.displayName)&&void 0!==Ye?Ye:void 0,Ds=null!==(Ut=ie.email)&&void 0!==Ut?Ut:void 0,Jl=null!==(qt=ie.phoneNumber)&&void 0!==qt?qt:void 0,Ld=null!==(On=ie.photoURL)&&void 0!==On?On:void 0,md=null!==(Zn=ie.tenantId)&&void 0!==Zn?Zn:void 0,pd=null!==(di=ie._redirectEventId)&&void 0!==di?di:void 0,su=null!==(Ci=ie.createdAt)&&void 0!==Ci?Ci:void 0,na=null!==(Bi=ie.lastLoginAt)&&void 0!==Bi?Bi:void 0,{uid:pc,emailVerified:gc,isAnonymous:kd,providerData:gd,stsTokenManager:_d}=ie;ee(pc&&_d,z,"internal-error");const _c=Yt.fromJSON(this.name,_d);ee("string"==typeof pc,z,"internal-error"),cn(vr,z.name),cn(Ds,z.name),ee("boolean"==typeof gc,z,"internal-error"),ee("boolean"==typeof kd,z,"internal-error"),cn(Jl,z.name),cn(Ld,z.name),cn(md,z.name),cn(pd,z.name),cn(su,z.name),cn(na,z.name);const $c=new nn({uid:pc,auth:z,email:Ds,emailVerified:gc,displayName:vr,isAnonymous:kd,photoURL:Ld,phoneNumber:Jl,tenantId:md,stsTokenManager:_c,createdAt:su,lastLoginAt:na});return gd&&Array.isArray(gd)&&($c.providerData=gd.map(au=>Object.assign({},au))),pd&&($c._redirectEventId=pd),$c}static _fromIdTokenResponse(z,ie,Ye=!1){return(0,e.Z)(function*(){const Ut=new Yt;Ut.updateFromServerResponse(ie);const qt=new nn({uid:ie.localId,auth:z,stsTokenManager:Ut,isAnonymous:Ye});return yield ze(qt),qt})()}}const Mt=new Map;function gt(Oe){Ae(Oe instanceof Function,"Expected a class definition");let z=Mt.get(Oe);return z?(Ae(z instanceof Oe,"Instance stored in cache mismatched with class"),z):(z=new Oe,Mt.set(Oe,z),z)}const Fe=(()=>{class Oe{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(ie,Ye){var Ut=this;return(0,e.Z)(function*(){Ut.storage[ie]=Ye})()}_get(ie){var Ye=this;return(0,e.Z)(function*(){const Ut=Ye.storage[ie];return void 0===Ut?null:Ut})()}_remove(ie){var Ye=this;return(0,e.Z)(function*(){delete Ye.storage[ie]})()}_addListener(ie,Ye){}_removeListener(ie,Ye){}}return Oe.type="NONE",Oe})();function ke(Oe,z,ie){return`firebase:${Oe}:${z}:${ie}`}class it{constructor(z,ie,Ye){this.persistence=z,this.auth=ie,this.userKey=Ye;const{config:Ut,name:qt}=this.auth;this.fullUserKey=ke(this.userKey,Ut.apiKey,qt),this.fullPersistenceKey=ke("persistence",Ut.apiKey,qt),this.boundEventHandler=ie._onStorageEvent.bind(ie),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(z){return this.persistence._set(this.fullUserKey,z.toJSON())}getCurrentUser(){var z=this;return(0,e.Z)(function*(){const ie=yield z.persistence._get(z.fullUserKey);return ie?nn._fromJSON(z.auth,ie):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(z){var ie=this;return(0,e.Z)(function*(){if(ie.persistence===z)return;const Ye=yield ie.getCurrentUser();return yield ie.removeCurrentUser(),ie.persistence=z,Ye?ie.setCurrentUser(Ye):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(z,ie,Ye="authUser"){return(0,e.Z)(function*(){if(!ie.length)return new it(gt(Fe),z,Ye);const Ut=(yield Promise.all(ie.map(function(){var Ci=(0,e.Z)(function*(Bi){if(yield Bi._isAvailable())return Bi});return function(Bi){return Ci.apply(this,arguments)}}()))).filter(Ci=>Ci);let qt=Ut[0]||gt(Fe);const On=ke(Ye,z.config.apiKey,z.name);let Zn=null;for(const Ci of ie)try{const Bi=yield Ci._get(On);if(Bi){const vr=nn._fromJSON(z,Bi);Ci!==qt&&(Zn=vr),qt=Ci;break}}catch{}const di=Ut.filter(Ci=>Ci._shouldAllowMigration);return qt._shouldAllowMigration&&di.length?(qt=di[0],Zn&&(yield qt._set(On,Zn.toJSON())),yield Promise.all(ie.map(function(){var Ci=(0,e.Z)(function*(Bi){if(Bi!==qt)try{yield Bi._remove(On)}catch{}});return function(Bi){return Ci.apply(this,arguments)}}())),new it(qt,z,Ye)):new it(qt,z,Ye)})()}}function ot(Oe){const z=Oe.toLowerCase();if(z.includes("opera/")||z.includes("opr/")||z.includes("opios/"))return"Opera";if(Qt(z))return"IEMobile";if(z.includes("msie")||z.includes("trident/"))return"IE";if(z.includes("edge/"))return"Edge";if(ft(z))return"Firefox";if(z.includes("silk/"))return"Silk";if(Jt(z))return"Blackberry";if(pn(z))return"Webos";if(mt(z))return"Safari";if((z.includes("chrome/")||Et(z))&&!z.includes("edge/"))return"Chrome";if(fn(z))return"Android";{const Ye=Oe.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Ye?.length)return Ye[1]}return"Other"}function ft(Oe=(0,n.z$)()){return/firefox\//i.test(Oe)}function mt(Oe=(0,n.z$)()){const z=Oe.toLowerCase();return z.includes("safari/")&&!z.includes("chrome/")&&!z.includes("crios/")&&!z.includes("android")}function Et(Oe=(0,n.z$)()){return/crios\//i.test(Oe)}function Qt(Oe=(0,n.z$)()){return/iemobile/i.test(Oe)}function fn(Oe=(0,n.z$)()){return/android/i.test(Oe)}function Jt(Oe=(0,n.z$)()){return/blackberry/i.test(Oe)}function pn(Oe=(0,n.z$)()){return/webos/i.test(Oe)}function Tn(Oe=(0,n.z$)()){return/iphone|ipad|ipod/i.test(Oe)||/macintosh/i.test(Oe)&&/mobile/i.test(Oe)}function Dn(Oe=(0,n.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(Oe)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(Oe)}function dn(Oe=(0,n.z$)()){return Tn(Oe)||fn(Oe)||pn(Oe)||Jt(Oe)||/windows phone/i.test(Oe)||Qt(Oe)}function un(Oe,z=[]){let ie;switch(Oe){case"Browser":ie=ot((0,n.z$)());break;case"Worker":ie=`${ot((0,n.z$)())}-${Oe}`;break;default:ie=Oe}const Ye=z.length?z.join(","):"FirebaseCore-web";return`${ie}/JsCore/${E.SDK_VERSION}/${Ye}`}function ln(){return(ln=(0,e.Z)(function*(Oe){return(yield fe(Oe,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tt(Oe,z){return ct.apply(this,arguments)}function ct(){return(ct=(0,e.Z)(function*(Oe,z){return fe(Oe,"GET","/v2/recaptchaConfig",Le(Oe,z))})).apply(this,arguments)}function hn(Oe){return void 0!==Oe&&void 0!==Oe.getResponse}function Ze(Oe){return void 0!==Oe&&void 0!==Oe.enterprise}class bt{constructor(z){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===z.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=z.recaptchaKey.split("/")[3],this.emailPasswordEnabled=z.recaptchaEnforcementState.some(ie=>"EMAIL_PASSWORD_PROVIDER"===ie.provider&&"OFF"!==ie.enforcementState)}}function Ot(Oe){return new Promise((z,ie)=>{const Ye=document.createElement("script");Ye.setAttribute("src",Oe),Ye.onload=z,Ye.onerror=Ut=>{const qt=O("internal-error");qt.customData=Ut,ie(qt)},Ye.type="text/javascript",Ye.charset="UTF-8",function Kt(){var Oe,z;return null!==(z=null===(Oe=document.getElementsByTagName("head"))||void 0===Oe?void 0:Oe[0])&&void 0!==z?z:document}().appendChild(Ye)})}function yn(Oe){return`__${Oe}${Math.floor(1e6*Math.random())}`}class Zt{constructor(z){this.type="recaptcha-enterprise",this.auth=Sn(z)}verify(z="verify",ie=!1){var Ye=this;return(0,e.Z)(function*(){function qt(){return qt=(0,e.Z)(function*(Zn){if(!ie){if(null==Zn.tenantId&&null!=Zn._agentRecaptchaConfig)return Zn._agentRecaptchaConfig.siteKey;if(null!=Zn.tenantId&&void 0!==Zn._tenantRecaptchaConfigs[Zn.tenantId])return Zn._tenantRecaptchaConfigs[Zn.tenantId].siteKey}return new Promise(function(){var di=(0,e.Z)(function*(Ci,Bi){Tt(Zn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vr=>{if(void 0!==vr.recaptchaKey){const Ds=new bt(vr);return null==Zn.tenantId?Zn._agentRecaptchaConfig=Ds:Zn._tenantRecaptchaConfigs[Zn.tenantId]=Ds,Ci(Ds.siteKey)}Bi(new Error("recaptcha Enterprise site key undefined"))}).catch(vr=>{Bi(vr)})});return function(Ci,Bi){return di.apply(this,arguments)}}())}),qt.apply(this,arguments)}function On(Zn,di,Ci){const Bi=window.grecaptcha;Ze(Bi)?Bi.enterprise.ready(()=>{Bi.enterprise.execute(Zn,{action:z}).then(vr=>{di(vr)}).catch(()=>{di("NO_RECAPTCHA")})}):Ci(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Zn,di)=>{(function Ut(Zn){return qt.apply(this,arguments)})(Ye.auth).then(Ci=>{if(!ie&&Ze(window.grecaptcha))On(Ci,Zn,di);else{if(typeof window>"u")return void di(new Error("RecaptchaVerifier is only supported in browser"));Ot("https://www.google.com/recaptcha/enterprise.js?render="+Ci).then(()=>{On(Ci,Zn,di)}).catch(Bi=>{di(Bi)})}}).catch(Ci=>{di(Ci)})})})()}}function gn(Oe,z,ie){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,e.Z)(function*(Oe,z,ie,Ye=!1){const Ut=new Zt(Oe);let qt;try{qt=yield Ut.verify(ie)}catch{qt=yield Ut.verify(ie,!0)}const On=Object.assign({},z);return Object.assign(On,Ye?{captchaResp:qt}:{captchaResponse:qt}),Object.assign(On,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(On,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),On})).apply(this,arguments)}class Hn{constructor(z){this.auth=z,this.queue=[]}pushCallback(z,ie){const Ye=qt=>new Promise((On,Zn)=>{try{On(z(qt))}catch(di){Zn(di)}});Ye.onAbort=ie,this.queue.push(Ye);const Ut=this.queue.length-1;return()=>{this.queue[Ut]=()=>Promise.resolve()}}runMiddleware(z){var ie=this;return(0,e.Z)(function*(){if(ie.auth.currentUser===z)return;const Ye=[];try{for(const Ut of ie.queue)yield Ut(z),Ut.onAbort&&Ye.push(Ut.onAbort)}catch(Ut){Ye.reverse();for(const qt of Ye)try{qt()}catch{}throw ie.auth._errorFactory.create("login-blocked",{originalMessage:Ut?.message})}})()}}class Lt{constructor(z,ie,Ye,Ut){this.app=z,this.heartbeatServiceProvider=ie,this.appCheckServiceProvider=Ye,this.config=Ut,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.beforeStateQueue=new Hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=z.name,this.clientVersion=Ut.sdkClientVersion}_initializeWithPersistence(z,ie){var Ye=this;return ie&&(this._popupRedirectResolver=gt(ie)),this._initializationPromise=this.queue((0,e.Z)(function*(){var Ut,qt;if(!Ye._deleted&&(Ye.persistenceManager=yield it.create(Ye,z),!Ye._deleted)){if(null!==(Ut=Ye._popupRedirectResolver)&&void 0!==Ut&&Ut._shouldInitProactively)try{yield Ye._popupRedirectResolver._initialize(Ye)}catch{}yield Ye.initializeCurrentUser(ie),Ye.lastNotifiedUid=(null===(qt=Ye.currentUser)||void 0===qt?void 0:qt.uid)||null,!Ye._deleted&&(Ye._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var z=this;return(0,e.Z)(function*(){if(z._deleted)return;const ie=yield z.assertedPersistence.getCurrentUser();if(z.currentUser||ie){if(z.currentUser&&ie&&z.currentUser.uid===ie.uid)return z._currentUser._assign(ie),void(yield z.currentUser.getIdToken());yield z._updateCurrentUser(ie,!0)}})()}initializeCurrentUser(z){var ie=this;return(0,e.Z)(function*(){var Ye;const Ut=yield ie.assertedPersistence.getCurrentUser();let qt=Ut,On=!1;if(z&&ie.config.authDomain){yield ie.getOrInitRedirectPersistenceManager();const Zn=null===(Ye=ie.redirectUser)||void 0===Ye?void 0:Ye._redirectEventId,di=qt?._redirectEventId,Ci=yield ie.tryRedirectSignIn(z);(!Zn||Zn===di)&&Ci?.user&&(qt=Ci.user,On=!0)}if(!qt)return ie.directlySetCurrentUser(null);if(!qt._redirectEventId){if(On)try{yield ie.beforeStateQueue.runMiddleware(qt)}catch(Zn){qt=Ut,ie._popupRedirectResolver._overrideRedirectResult(ie,()=>Promise.reject(Zn))}return qt?ie.reloadAndSetCurrentUserOrClear(qt):ie.directlySetCurrentUser(null)}return ee(ie._popupRedirectResolver,ie,"argument-error"),yield ie.getOrInitRedirectPersistenceManager(),ie.redirectUser&&ie.redirectUser._redirectEventId===qt._redirectEventId?ie.directlySetCurrentUser(qt):ie.reloadAndSetCurrentUserOrClear(qt)})()}tryRedirectSignIn(z){var ie=this;return(0,e.Z)(function*(){let Ye=null;try{Ye=yield ie._popupRedirectResolver._completeRedirectFn(ie,z,!0)}catch{yield ie._setRedirectUser(null)}return Ye})()}reloadAndSetCurrentUserOrClear(z){var ie=this;return(0,e.Z)(function*(){try{yield ze(z)}catch(Ye){if("auth/network-request-failed"!==Ye?.code)return ie.directlySetCurrentUser(null)}return ie.directlySetCurrentUser(z)})()}useDeviceLanguage(){this.languageCode=function de(){if(typeof navigator>"u")return null;const Oe=navigator;return Oe.languages&&Oe.languages[0]||Oe.language||null}()}_delete(){var z=this;return(0,e.Z)(function*(){z._deleted=!0})()}updateCurrentUser(z){var ie=this;return(0,e.Z)(function*(){const Ye=z?(0,n.m9)(z):null;return Ye&&ee(Ye.auth.config.apiKey===ie.config.apiKey,ie,"invalid-user-token"),ie._updateCurrentUser(Ye&&Ye._clone(ie))})()}_updateCurrentUser(z,ie=!1){var Ye=this;return(0,e.Z)(function*(){if(!Ye._deleted)return z&&ee(Ye.tenantId===z.tenantId,Ye,"tenant-id-mismatch"),ie||(yield Ye.beforeStateQueue.runMiddleware(z)),Ye.queue((0,e.Z)(function*(){yield Ye.directlySetCurrentUser(z),Ye.notifyAuthListeners()}))})()}signOut(){var z=this;return(0,e.Z)(function*(){return yield z.beforeStateQueue.runMiddleware(null),(z.redirectPersistenceManager||z._popupRedirectResolver)&&(yield z._setRedirectUser(null)),z._updateCurrentUser(null,!0)})()}setPersistence(z){var ie=this;return this.queue((0,e.Z)(function*(){yield ie.assertedPersistence.setPersistence(gt(z))}))}initializeRecaptchaConfig(){var z=this;return(0,e.Z)(function*(){const ie=yield Tt(z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Ye=new bt(ie);null==z.tenantId?z._agentRecaptchaConfig=Ye:z._tenantRecaptchaConfigs[z.tenantId]=Ye,Ye.emailPasswordEnabled&&new Zt(z).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(z){this._errorFactory=new n.LL("auth","Firebase",z())}onAuthStateChanged(z,ie,Ye){return this.registerStateListener(this.authStateSubscription,z,ie,Ye)}beforeAuthStateChanged(z,ie){return this.beforeStateQueue.pushCallback(z,ie)}onIdTokenChanged(z,ie,Ye){return this.registerStateListener(this.idTokenSubscription,z,ie,Ye)}toJSON(){var z;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(z=this._currentUser)||void 0===z?void 0:z.toJSON()}}_setRedirectUser(z,ie){var Ye=this;return(0,e.Z)(function*(){const Ut=yield Ye.getOrInitRedirectPersistenceManager(ie);return null===z?Ut.removeCurrentUser():Ut.setCurrentUser(z)})()}getOrInitRedirectPersistenceManager(z){var ie=this;return(0,e.Z)(function*(){if(!ie.redirectPersistenceManager){const Ye=z&&gt(z)||ie._popupRedirectResolver;ee(Ye,ie,"argument-error"),ie.redirectPersistenceManager=yield it.create(ie,[gt(Ye._redirectPersistence)],"redirectUser"),ie.redirectUser=yield ie.redirectPersistenceManager.getCurrentUser()}return ie.redirectPersistenceManager})()}_redirectUserForId(z){var ie=this;return(0,e.Z)(function*(){var Ye,Ut;return ie._isInitialized&&(yield ie.queue((0,e.Z)(function*(){}))),(null===(Ye=ie._currentUser)||void 0===Ye?void 0:Ye._redirectEventId)===z?ie._currentUser:(null===(Ut=ie.redirectUser)||void 0===Ut?void 0:Ut._redirectEventId)===z?ie.redirectUser:null})()}_persistUserIfCurrent(z){var ie=this;return(0,e.Z)(function*(){if(z===ie.currentUser)return ie.queue((0,e.Z)(function*(){return ie.directlySetCurrentUser(z)}))})()}_notifyListenersIfCurrent(z){z===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var z,ie;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Ye=null!==(ie=null===(z=this.currentUser)||void 0===z?void 0:z.uid)&&void 0!==ie?ie:null;this.lastNotifiedUid!==Ye&&(this.lastNotifiedUid=Ye,this.authStateSubscription.next(this.currentUser))}registerStateListener(z,ie,Ye,Ut){if(this._deleted)return()=>{};const qt="function"==typeof ie?ie:ie.next.bind(ie),On=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(On,this,"internal-error"),On.then(()=>qt(this.currentUser)),"function"==typeof ie?z.addObserver(ie,Ye,Ut):z.addObserver(ie)}directlySetCurrentUser(z){var ie=this;return(0,e.Z)(function*(){ie.currentUser&&ie.currentUser!==z&&ie._currentUser._stopProactiveRefresh(),z&&ie.isProactiveRefreshEnabled&&z._startProactiveRefresh(),ie.currentUser=z,z?yield ie.assertedPersistence.setCurrentUser(z):yield ie.assertedPersistence.removeCurrentUser()})()}queue(z){return this.operations=this.operations.then(z,z),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(z){!z||this.frameworks.includes(z)||(this.frameworks.push(z),this.frameworks.sort(),this.clientVersion=un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var z=this;return(0,e.Z)(function*(){var ie;const Ye={"X-Client-Version":z.clientVersion};z.app.options.appId&&(Ye["X-Firebase-gmpid"]=z.app.options.appId);const Ut=yield null===(ie=z.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===ie?void 0:ie.getHeartbeatsHeader();Ut&&(Ye["X-Firebase-Client"]=Ut);const qt=yield z._getAppCheckToken();return qt&&(Ye["X-Firebase-AppCheck"]=qt),Ye})()}_getAppCheckToken(){var z=this;return(0,e.Z)(function*(){var ie;const Ye=yield null===(ie=z.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===ie?void 0:ie.getToken();return Ye?.error&&function D(Oe,...z){R.logLevel<=_.in.WARN&&R.warn(`Auth (${E.SDK_VERSION}): ${Oe}`,...z)}(`Error while retrieving App Check token: ${Ye.error}`),Ye?.token})()}}function Sn(Oe){return(0,n.m9)(Oe)}class Ie{constructor(z){this.auth=z,this.observer=null,this.addObserver=(0,n.ne)(ie=>this.observer=ie)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xt(Oe,z,ie){const Ye=Sn(Oe);ee(Ye._canInitEmulator,Ye,"emulator-config-failed"),ee(/^https?:\/\//.test(z),Ye,"invalid-emulator-scheme");const Ut=!!ie?.disableWarnings,qt=Mn(z),{host:On,port:Zn}=function ai(Oe){const z=Mn(Oe),ie=/(\/\/)?([^?#/]+)/.exec(Oe.substr(z.length));if(!ie)return{host:"",port:null};const Ye=ie[2].split("@").pop()||"",Ut=/^(\[[^\]]+\])(:|$)/.exec(Ye);if(Ut){const qt=Ut[1];return{host:qt,port:qi(Ye.substr(qt.length+1))}}{const[qt,On]=Ye.split(":");return{host:qt,port:qi(On)}}}(z);Ye.config.emulator={url:`${qt}//${On}${null===Zn?"":`:${Zn}`}/`},Ye.settings.appVerificationDisabledForTesting=!0,Ye.emulatorConfig=Object.freeze({host:On,port:Zn,protocol:qt.replace(":",""),options:Object.freeze({disableWarnings:Ut})}),Ut||function Hr(){function Oe(){const z=document.createElement("p"),ie=z.style;z.innerText="Running in emulator mode. Do not use with production credentials.",ie.position="fixed",ie.width="100%",ie.backgroundColor="#ffffff",ie.border=".1em solid #000000",ie.color="#b50000",ie.bottom="0px",ie.left="0px",ie.margin="0px",ie.zIndex="10000",ie.textAlign="center",z.classList.add("firebase-emulator-warning"),document.body.appendChild(z)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",Oe):Oe())}()}function Mn(Oe){const z=Oe.indexOf(":");return z<0?"":Oe.substr(0,z+1)}function qi(Oe){if(!Oe)return null;const z=Number(Oe);return isNaN(z)?null:z}class Ir{constructor(z,ie){this.providerId=z,this.signInMethod=ie}toJSON(){return ae("not implemented")}_getIdTokenResponse(z){return ae("not implemented")}_linkToIdToken(z,ie){return ae("not implemented")}_getReauthenticationResolver(z){return ae("not implemented")}}function Er(Oe,z){return Do.apply(this,arguments)}function Do(){return(Do=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:resetPassword",Le(Oe,z))})).apply(this,arguments)}function Po(Oe,z){return _o.apply(this,arguments)}function _o(){return(_o=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:update",z)})).apply(this,arguments)}function Fi(){return(Fi=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:update",Le(Oe,z))})).apply(this,arguments)}function Ii(Oe,z){return fi.apply(this,arguments)}function fi(){return(fi=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithPassword",Le(Oe,z))})).apply(this,arguments)}function ho(Oe,z){return br.apply(this,arguments)}function br(){return(br=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:sendOobCode",Le(Oe,z))})).apply(this,arguments)}function Ro(){return(Ro=(0,e.Z)(function*(Oe,z){return ho(Oe,z)})).apply(this,arguments)}function Xr(Oe,z){return Br.apply(this,arguments)}function Br(){return(Br=(0,e.Z)(function*(Oe,z){return ho(Oe,z)})).apply(this,arguments)}function No(Oe,z){return mr.apply(this,arguments)}function mr(){return(mr=(0,e.Z)(function*(Oe,z){return ho(Oe,z)})).apply(this,arguments)}function Pi(){return(Pi=(0,e.Z)(function*(Oe,z){return ho(Oe,z)})).apply(this,arguments)}function Ur(){return(Ur=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithEmailLink",Le(Oe,z))})).apply(this,arguments)}function Mr(){return(Mr=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithEmailLink",Le(Oe,z))})).apply(this,arguments)}class so extends Ir{constructor(z,ie,Ye,Ut=null){super("password",Ye),this._email=z,this._password=ie,this._tenantId=Ut}static _fromEmailAndPassword(z,ie){return new so(z,ie,"password")}static _fromEmailAndCode(z,ie,Ye=null){return new so(z,ie,"emailLink",Ye)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(z){const ie="string"==typeof z?JSON.parse(z):z;if(ie?.email&&ie?.password){if("password"===ie.signInMethod)return this._fromEmailAndPassword(ie.email,ie.password);if("emailLink"===ie.signInMethod)return this._fromEmailAndCode(ie.email,ie.password,ie.tenantId)}return null}_getIdTokenResponse(z){var ie=this;return(0,e.Z)(function*(){var Ye;switch(ie.signInMethod){case"password":const Ut={returnSecureToken:!0,email:ie._email,password:ie._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Ye=z._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const qt=yield gn(z,Ut,"signInWithPassword");return Ii(z,qt)}return Ii(z,Ut).catch(function(){var qt=(0,e.Z)(function*(On){if("auth/missing-recaptcha-token"===On.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Zn=yield gn(z,Ut,"signInWithPassword");return Ii(z,Zn)}return Promise.reject(On)});return function(On){return qt.apply(this,arguments)}}());case"emailLink":return function rr(Oe,z){return Ur.apply(this,arguments)}(z,{email:ie._email,oobCode:ie._password});default:C(z,"internal-error")}})()}_linkToIdToken(z,ie){var Ye=this;return(0,e.Z)(function*(){switch(Ye.signInMethod){case"password":return Po(z,{idToken:ie,returnSecureToken:!0,email:Ye._email,password:Ye._password});case"emailLink":return function bo(Oe,z){return Mr.apply(this,arguments)}(z,{idToken:ie,email:Ye._email,oobCode:Ye._password});default:C(z,"internal-error")}})()}_getReauthenticationResolver(z){return this._getIdTokenResponse(z)}}function _n(Oe,z){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithIdp",Le(Oe,z))})).apply(this,arguments)}class Qn extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(z){const ie=new Qn(z.providerId,z.signInMethod);return z.idToken||z.accessToken?(z.idToken&&(ie.idToken=z.idToken),z.accessToken&&(ie.accessToken=z.accessToken),z.nonce&&!z.pendingToken&&(ie.nonce=z.nonce),z.pendingToken&&(ie.pendingToken=z.pendingToken)):z.oauthToken&&z.oauthTokenSecret?(ie.accessToken=z.oauthToken,ie.secret=z.oauthTokenSecret):C("argument-error"),ie}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(z){const ie="string"==typeof z?JSON.parse(z):z,{providerId:Ye,signInMethod:Ut}=ie,qt=(0,A._T)(ie,["providerId","signInMethod"]);if(!Ye||!Ut)return null;const On=new Qn(Ye,Ut);return On.idToken=qt.idToken||void 0,On.accessToken=qt.accessToken||void 0,On.secret=qt.secret,On.nonce=qt.nonce,On.pendingToken=qt.pendingToken||null,On}_getIdTokenResponse(z){return _n(z,this.buildRequest())}_linkToIdToken(z,ie){const Ye=this.buildRequest();return Ye.idToken=ie,_n(z,Ye)}_getReauthenticationResolver(z){const ie=this.buildRequest();return ie.autoCreate=!1,_n(z,ie)}buildRequest(){const z={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)z.pendingToken=this.pendingToken;else{const ie={};this.idToken&&(ie.id_token=this.idToken),this.accessToken&&(ie.access_token=this.accessToken),this.secret&&(ie.oauth_token_secret=this.secret),ie.providerId=this.providerId,this.nonce&&!this.pendingToken&&(ie.nonce=this.nonce),z.postBody=(0,n.xO)(ie)}return z}}function Ki(){return(Ki=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:sendVerificationCode",Le(Oe,z))})).apply(this,arguments)}function ki(){return(ki=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithPhoneNumber",Le(Oe,z))})).apply(this,arguments)}function jr(){return(jr=(0,e.Z)(function*(Oe,z){const ie=yield Ue(Oe,"POST","/v1/accounts:signInWithPhoneNumber",Le(Oe,z));if(ie.temporaryProof)throw _e(Oe,"account-exists-with-different-credential",ie);return ie})).apply(this,arguments)}const Mo={USER_NOT_FOUND:"user-not-found"};function Ms(){return(Ms=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithPhoneNumber",Le(Oe,Object.assign(Object.assign({},z),{operation:"REAUTH"})),Mo)})).apply(this,arguments)}class zr extends Ir{constructor(z){super("phone","phone"),this.params=z}static _fromVerification(z,ie){return new zr({verificationId:z,verificationCode:ie})}static _fromTokenResponse(z,ie){return new zr({phoneNumber:z,temporaryProof:ie})}_getIdTokenResponse(z){return function Ui(Oe,z){return ki.apply(this,arguments)}(z,this._makeVerificationRequest())}_linkToIdToken(z,ie){return function Tr(Oe,z){return jr.apply(this,arguments)}(z,Object.assign({idToken:ie},this._makeVerificationRequest()))}_getReauthenticationResolver(z){return function Ao(Oe,z){return Ms.apply(this,arguments)}(z,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:z,phoneNumber:ie,verificationId:Ye,verificationCode:Ut}=this.params;return z&&ie?{temporaryProof:z,phoneNumber:ie}:{sessionInfo:Ye,code:Ut}}toJSON(){const z={providerId:this.providerId};return this.params.phoneNumber&&(z.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(z.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(z.verificationCode=this.params.verificationCode),this.params.verificationId&&(z.verificationId=this.params.verificationId),z}static fromJSON(z){"string"==typeof z&&(z=JSON.parse(z));const{verificationId:ie,verificationCode:Ye,phoneNumber:Ut,temporaryProof:qt}=z;return Ye||ie||Ut||qt?new zr({verificationId:ie,verificationCode:Ye,phoneNumber:Ut,temporaryProof:qt}):null}}class Go{constructor(z){var ie,Ye,Ut,qt,On,Zn;const di=(0,n.zd)((0,n.pd)(z)),Ci=null!==(ie=di.apiKey)&&void 0!==ie?ie:null,Bi=null!==(Ye=di.oobCode)&&void 0!==Ye?Ye:null,vr=function eo(Oe){switch(Oe){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ut=di.mode)&&void 0!==Ut?Ut:null);ee(Ci&&Bi&&vr,"argument-error"),this.apiKey=Ci,this.operation=vr,this.code=Bi,this.continueUrl=null!==(qt=di.continueUrl)&&void 0!==qt?qt:null,this.languageCode=null!==(On=di.languageCode)&&void 0!==On?On:null,this.tenantId=null!==(Zn=di.tenantId)&&void 0!==Zn?Zn:null}static parseLink(z){const ie=function Xo(Oe){const z=(0,n.zd)((0,n.pd)(Oe)).link,ie=z?(0,n.zd)((0,n.pd)(z)).deep_link_id:null,Ye=(0,n.zd)((0,n.pd)(Oe)).deep_link_id;return(Ye?(0,n.zd)((0,n.pd)(Ye)).link:null)||Ye||ie||z||Oe}(z);try{return new Go(ie)}catch{return null}}}let Ws=(()=>{class Oe{constructor(){this.providerId=Oe.PROVIDER_ID}static credential(ie,Ye){return so._fromEmailAndPassword(ie,Ye)}static credentialWithLink(ie,Ye){const Ut=Go.parseLink(Ye);return ee(Ut,"argument-error"),so._fromEmailAndCode(ie,Ut.code,Ut.tenantId)}}return Oe.PROVIDER_ID="password",Oe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Oe.EMAIL_LINK_SIGN_IN_METHOD="emailLink",Oe})();class xo{constructor(z){this.providerId=z,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(z){this.defaultLanguageCode=z}setCustomParameters(z){return this.customParameters=z,this}getCustomParameters(){return this.customParameters}}class ps extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(z){return this.scopes.includes(z)||this.scopes.push(z),this}getScopes(){return[...this.scopes]}}class ao extends ps{static credentialFromJSON(z){const ie="string"==typeof z?JSON.parse(z):z;return ee("providerId"in ie&&"signInMethod"in ie,"argument-error"),Qn._fromParams(ie)}credential(z){return this._credential(Object.assign(Object.assign({},z),{nonce:z.rawNonce}))}_credential(z){return ee(z.idToken||z.accessToken,"argument-error"),Qn._fromParams(Object.assign(Object.assign({},z),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(z){return ao.oauthCredentialFromTaggedObject(z)}static credentialFromError(z){return ao.oauthCredentialFromTaggedObject(z.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthIdToken:ie,oauthAccessToken:Ye,oauthTokenSecret:Ut,pendingToken:qt,nonce:On,providerId:Zn}=z;if(!Ye&&!Ut&&!ie&&!qt||!Zn)return null;try{return new ao(Zn)._credential({idToken:ie,accessToken:Ye,nonce:On,pendingToken:qt})}catch{return null}}}let es=(()=>{class Oe extends ps{constructor(){super("facebook.com")}static credential(ie){return Qn._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.FACEBOOK_SIGN_IN_METHOD,accessToken:ie})}static credentialFromResult(ie){return Oe.credentialFromTaggedObject(ie)}static credentialFromError(ie){return Oe.credentialFromTaggedObject(ie.customData||{})}static credentialFromTaggedObject({_tokenResponse:ie}){if(!ie||!("oauthAccessToken"in ie)||!ie.oauthAccessToken)return null;try{return Oe.credential(ie.oauthAccessToken)}catch{return null}}}return Oe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oe.PROVIDER_ID="facebook.com",Oe})(),Ho=(()=>{class Oe extends ps{constructor(){super("google.com"),this.addScope("profile")}static credential(ie,Ye){return Qn._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.GOOGLE_SIGN_IN_METHOD,idToken:ie,accessToken:Ye})}static credentialFromResult(ie){return Oe.credentialFromTaggedObject(ie)}static credentialFromError(ie){return Oe.credentialFromTaggedObject(ie.customData||{})}static credentialFromTaggedObject({_tokenResponse:ie}){if(!ie)return null;const{oauthIdToken:Ye,oauthAccessToken:Ut}=ie;if(!Ye&&!Ut)return null;try{return Oe.credential(Ye,Ut)}catch{return null}}}return Oe.GOOGLE_SIGN_IN_METHOD="google.com",Oe.PROVIDER_ID="google.com",Oe})(),gs=(()=>{class Oe extends ps{constructor(){super("github.com")}static credential(ie){return Qn._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.GITHUB_SIGN_IN_METHOD,accessToken:ie})}static credentialFromResult(ie){return Oe.credentialFromTaggedObject(ie)}static credentialFromError(ie){return Oe.credentialFromTaggedObject(ie.customData||{})}static credentialFromTaggedObject({_tokenResponse:ie}){if(!ie||!("oauthAccessToken"in ie)||!ie.oauthAccessToken)return null;try{return Oe.credential(ie.oauthAccessToken)}catch{return null}}}return Oe.GITHUB_SIGN_IN_METHOD="github.com",Oe.PROVIDER_ID="github.com",Oe})();class As extends Ir{constructor(z,ie){super(z,z),this.pendingToken=ie}_getIdTokenResponse(z){return _n(z,this.buildRequest())}_linkToIdToken(z,ie){const Ye=this.buildRequest();return Ye.idToken=ie,_n(z,Ye)}_getReauthenticationResolver(z){const ie=this.buildRequest();return ie.autoCreate=!1,_n(z,ie)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(z){const ie="string"==typeof z?JSON.parse(z):z,{providerId:Ye,signInMethod:Ut,pendingToken:qt}=ie;return Ye&&Ut&&qt&&Ye===Ut?new As(Ye,qt):null}static _create(z,ie){return new As(z,ie)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pr extends xo{constructor(z){ee(z.startsWith("saml."),"argument-error"),super(z)}static credentialFromResult(z){return pr.samlCredentialFromTaggedObject(z)}static credentialFromError(z){return pr.samlCredentialFromTaggedObject(z.customData||{})}static credentialFromJSON(z){const ie=As.fromJSON(z);return ee(ie,"argument-error"),ie}static samlCredentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{pendingToken:ie,providerId:Ye}=z;if(!ie||!Ye)return null;try{return As._create(Ye,ie)}catch{return null}}}let Fs=(()=>{class Oe extends ps{constructor(){super("twitter.com")}static credential(ie,Ye){return Qn._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.TWITTER_SIGN_IN_METHOD,oauthToken:ie,oauthTokenSecret:Ye})}static credentialFromResult(ie){return Oe.credentialFromTaggedObject(ie)}static credentialFromError(ie){return Oe.credentialFromTaggedObject(ie.customData||{})}static credentialFromTaggedObject({_tokenResponse:ie}){if(!ie)return null;const{oauthAccessToken:Ye,oauthTokenSecret:Ut}=ie;if(!Ye||!Ut)return null;try{return Oe.credential(Ye,Ut)}catch{return null}}}return Oe.TWITTER_SIGN_IN_METHOD="twitter.com",Oe.PROVIDER_ID="twitter.com",Oe})();function mo(Oe,z){return cs.apply(this,arguments)}function cs(){return(cs=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signUp",Le(Oe,z))})).apply(this,arguments)}class $i{constructor(z){this.user=z.user,this.providerId=z.providerId,this._tokenResponse=z._tokenResponse,this.operationType=z.operationType}static _fromIdTokenResponse(z,ie,Ye,Ut=!1){return(0,e.Z)(function*(){const qt=yield nn._fromIdTokenResponse(z,Ye,Ut),On=Zr(Ye);return new $i({user:qt,providerId:On,_tokenResponse:Ye,operationType:ie})})()}static _forOperation(z,ie,Ye){return(0,e.Z)(function*(){yield z._updateTokensIfNecessary(Ye,!0);const Ut=Zr(Ye);return new $i({user:z,providerId:Ut,_tokenResponse:Ye,operationType:ie})})()}}function Zr(Oe){return Oe.providerId?Oe.providerId:"phoneNumber"in Oe?"phone":null}function Ys(Oe){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,e.Z)(function*(Oe){var z;const ie=Sn(Oe);if(yield ie._initializationPromise,null!==(z=ie.currentUser)&&void 0!==z&&z.isAnonymous)return new $i({user:ie.currentUser,providerId:null,operationType:"signIn"});const Ye=yield mo(ie,{returnSecureToken:!0}),Ut=yield $i._fromIdTokenResponse(ie,"signIn",Ye,!0);return yield ie._updateCurrentUser(Ut.user),Ut})).apply(this,arguments)}class xs extends n.ZR{constructor(z,ie,Ye,Ut){var qt;super(ie.code,ie.message),this.operationType=Ye,this.user=Ut,Object.setPrototypeOf(this,xs.prototype),this.customData={appName:z.name,tenantId:null!==(qt=z.tenantId)&&void 0!==qt?qt:void 0,_serverResponse:ie.customData._serverResponse,operationType:Ye}}static _fromErrorAndOperation(z,ie,Ye,Ut){return new xs(z,ie,Ye,Ut)}}function _s(Oe,z,ie,Ye){return("reauthenticate"===z?ie._getReauthenticationResolver(Oe):ie._getIdTokenResponse(Oe)).catch(qt=>{throw"auth/multi-factor-auth-required"===qt.code?xs._fromErrorAndOperation(Oe,qt,z,Ye):qt})}function vs(Oe){return new Set(Oe.map(({providerId:z})=>z).filter(z=>!!z))}function ts(Oe,z){return zs.apply(this,arguments)}function zs(){return zs=(0,e.Z)(function*(Oe,z){const ie=(0,n.m9)(Oe);yield jo(!0,ie,z);const{providerUserInfo:Ye}=yield function pe(Oe,z){return re.apply(this,arguments)}(ie.auth,{idToken:yield ie.getIdToken(),deleteProvider:[z]}),Ut=vs(Ye||[]);return ie.providerData=ie.providerData.filter(qt=>Ut.has(qt.providerId)),Ut.has("phone")||(ie.phoneNumber=null),yield ie.auth._persistUserIfCurrent(ie),ie}),zs.apply(this,arguments)}function gr(Oe,z){return zo.apply(this,arguments)}function zo(){return(zo=(0,e.Z)(function*(Oe,z,ie=!1){const Ye=yield Ne(Oe,z._linkToIdToken(Oe.auth,yield Oe.getIdToken()),ie);return $i._forOperation(Oe,"link",Ye)})).apply(this,arguments)}function jo(Oe,z,ie){return ns.apply(this,arguments)}function ns(){return(ns=(0,e.Z)(function*(Oe,z,ie){yield ze(z);const Ut=!1===Oe?"provider-already-linked":"no-such-provider";ee(vs(z.providerData).has(ie)===Oe,z.auth,Ut)})).apply(this,arguments)}function Zs(Oe,z){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,e.Z)(function*(Oe,z,ie=!1){const{auth:Ye}=Oe,Ut="reauthenticate";try{const qt=yield Ne(Oe,_s(Ye,Ut,z,Oe),ie);ee(qt.idToken,Ye,"internal-error");const On=Ee(qt.idToken);ee(On,Ye,"internal-error");const{sub:Zn}=On;return ee(Oe.uid===Zn,Ye,"user-mismatch"),$i._forOperation(Oe,Ut,qt)}catch(qt){throw"auth/user-not-found"===qt?.code&&C(Ye,"user-mismatch"),qt}})).apply(this,arguments)}function sa(Oe,z){return Us.apply(this,arguments)}function Us(){return(Us=(0,e.Z)(function*(Oe,z,ie=!1){const Ut=yield _s(Oe,"signIn",z),qt=yield $i._fromIdTokenResponse(Oe,"signIn",Ut);return ie||(yield Oe._updateCurrentUser(qt.user)),qt})).apply(this,arguments)}function vo(Oe,z){return pa.apply(this,arguments)}function pa(){return(pa=(0,e.Z)(function*(Oe,z){return sa(Sn(Oe),z)})).apply(this,arguments)}function $s(Oe,z){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,e.Z)(function*(Oe,z){const ie=(0,n.m9)(Oe);return yield jo(!1,ie,z.providerId),gr(ie,z)})).apply(this,arguments)}function _r(Oe,z){return ar.apply(this,arguments)}function ar(){return(ar=(0,e.Z)(function*(Oe,z){return Zs((0,n.m9)(Oe),z)})).apply(this,arguments)}function dt(){return(dt=(0,e.Z)(function*(Oe,z){return Ue(Oe,"POST","/v1/accounts:signInWithCustomToken",Le(Oe,z))})).apply(this,arguments)}function At(Oe,z){return at.apply(this,arguments)}function at(){return at=(0,e.Z)(function*(Oe,z){const ie=Sn(Oe),Ye=yield function An(Oe,z){return dt.apply(this,arguments)}(ie,{token:z,returnSecureToken:!0}),Ut=yield $i._fromIdTokenResponse(ie,"signIn",Ye);return yield ie._updateCurrentUser(Ut.user),Ut}),at.apply(this,arguments)}class Vt{constructor(z,ie){this.factorId=z,this.uid=ie.mfaEnrollmentId,this.enrollmentTime=new Date(ie.enrolledAt).toUTCString(),this.displayName=ie.displayName}static _fromServerResponse(z,ie){return"phoneInfo"in ie?bn._fromServerResponse(z,ie):"totpInfo"in ie?hi._fromServerResponse(z,ie):C(z,"internal-error")}}class bn extends Vt{constructor(z){super("phone",z),this.phoneNumber=z.phoneInfo}static _fromServerResponse(z,ie){return new bn(ie)}}class hi extends Vt{constructor(z){super("totp",z)}static _fromServerResponse(z,ie){return new hi(ie)}}function Gi(Oe,z,ie){var Ye;ee((null===(Ye=ie.url)||void 0===Ye?void 0:Ye.length)>0,Oe,"invalid-continue-uri"),ee(typeof ie.dynamicLinkDomain>"u"||ie.dynamicLinkDomain.length>0,Oe,"invalid-dynamic-link-domain"),z.continueUrl=ie.url,z.dynamicLinkDomain=ie.dynamicLinkDomain,z.canHandleCodeInApp=ie.handleCodeInApp,ie.iOS&&(ee(ie.iOS.bundleId.length>0,Oe,"missing-ios-bundle-id"),z.iOSBundleId=ie.iOS.bundleId),ie.android&&(ee(ie.android.packageName.length>0,Oe,"missing-android-pkg-name"),z.androidInstallApp=ie.android.installApp,z.androidMinimumVersionCode=ie.android.minimumVersion,z.androidPackageName=ie.android.packageName)}function Lo(Oe,z,ie){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,e.Z)(function*(Oe,z,ie){var Ye;const Ut=Sn(Oe),qt={requestType:"PASSWORD_RESET",email:z,clientType:"CLIENT_TYPE_WEB"};if(null!==(Ye=Ut._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const On=yield gn(Ut,qt,"getOobCode",!0);ie&&Gi(Ut,On,ie),yield Xr(Ut,On)}else ie&&Gi(Ut,qt,ie),yield Xr(Ut,qt).catch(function(){var On=(0,e.Z)(function*(Zn){if("auth/missing-recaptcha-token"!==Zn.code)return Promise.reject(Zn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const di=yield gn(Ut,qt,"getOobCode",!0);ie&&Gi(Ut,di,ie),yield Xr(Ut,di)}});return function(Zn){return On.apply(this,arguments)}}())}),Zo.apply(this,arguments)}function ds(Oe,z,ie){return lo.apply(this,arguments)}function lo(){return(lo=(0,e.Z)(function*(Oe,z,ie){yield Er((0,n.m9)(Oe),{oobCode:z,newPassword:ie})})).apply(this,arguments)}function Is(Oe,z){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,e.Z)(function*(Oe,z){yield function qo(Oe,z){return Fi.apply(this,arguments)}((0,n.m9)(Oe),{oobCode:z})}),Ar.apply(this,arguments)}function Vo(Oe,z){return ga.apply(this,arguments)}function ga(){return(ga=(0,e.Z)(function*(Oe,z){const ie=(0,n.m9)(Oe),Ye=yield Er(ie,{oobCode:z}),Ut=Ye.requestType;switch(ee(Ut,ie,"internal-error"),Ut){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(Ye.newEmail,ie,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(Ye.mfaInfo,ie,"internal-error");default:ee(Ye.email,ie,"internal-error")}let qt=null;return Ye.mfaInfo&&(qt=Vt._fromServerResponse(Sn(ie),Ye.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Ye.requestType?Ye.newEmail:Ye.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Ye.requestType?Ye.email:Ye.newEmail)||null,multiFactorInfo:qt},operation:Ut}})).apply(this,arguments)}function Aa(Oe,z){return ei.apply(this,arguments)}function ei(){return(ei=(0,e.Z)(function*(Oe,z){const{data:ie}=yield Vo((0,n.m9)(Oe),z);return ie.email})).apply(this,arguments)}function us(Oe,z,ie){return _a.apply(this,arguments)}function _a(){return _a=(0,e.Z)(function*(Oe,z,ie){var Ye;const Ut=Sn(Oe),qt={returnSecureToken:!0,email:z,password:ie,clientType:"CLIENT_TYPE_WEB"};let On;if(null!==(Ye=Ut._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const Ci=yield gn(Ut,qt,"signUpPassword");On=mo(Ut,Ci)}else On=mo(Ut,qt).catch(function(){var Ci=(0,e.Z)(function*(Bi){if("auth/missing-recaptcha-token"===Bi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const vr=yield gn(Ut,qt,"signUpPassword");return mo(Ut,vr)}return Promise.reject(Bi)});return function(Bi){return Ci.apply(this,arguments)}}());const Zn=yield On.catch(Ci=>Promise.reject(Ci)),di=yield $i._fromIdTokenResponse(Ut,"signIn",Zn);return yield Ut._updateCurrentUser(di.user),di}),_a.apply(this,arguments)}function Ka(Oe,z,ie){return vo((0,n.m9)(Oe),Ws.credential(z,ie))}function Wa(Oe,z,ie){return Js.apply(this,arguments)}function Js(){return Js=(0,e.Z)(function*(Oe,z,ie){var Ye;const Ut=Sn(Oe),qt={requestType:"EMAIL_SIGNIN",email:z,clientType:"CLIENT_TYPE_WEB"};function On(Zn,di){ee(di.handleCodeInApp,Ut,"argument-error"),di&&Gi(Ut,Zn,di)}if(null!==(Ye=Ut._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const Zn=yield gn(Ut,qt,"getOobCode",!0);On(Zn,ie),yield No(Ut,Zn)}else On(qt,ie),yield No(Ut,qt).catch(function(){var Zn=(0,e.Z)(function*(di){if("auth/missing-recaptcha-token"!==di.code)return Promise.reject(di);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ci=yield gn(Ut,qt,"getOobCode",!0);On(Ci,ie),yield No(Ut,Ci)}});return function(di){return Zn.apply(this,arguments)}}())}),Js.apply(this,arguments)}function Nl(Oe,z){const ie=Go.parseLink(z);return"EMAIL_SIGNIN"===ie?.operation}function gl(Oe,z,ie){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe),Ut=Ws.credentialWithLink(z,ie||j());return ee(Ut._tenantId===(Ye.tenantId||null),Ye,"tenant-id-mismatch"),vo(Ye,Ut)})).apply(this,arguments)}function vl(){return(vl=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:createAuthUri",Le(Oe,z))})).apply(this,arguments)}function Pc(Oe,z){return va.apply(this,arguments)}function va(){return va=(0,e.Z)(function*(Oe,z){const Ye={identifier:z,continueUri:le()?j():"http://localhost"},{signinMethods:Ut}=yield function _l(Oe,z){return vl.apply(this,arguments)}((0,n.m9)(Oe),Ye);return Ut||[]}),va.apply(this,arguments)}function Ll(Oe,z){return aa.apply(this,arguments)}function aa(){return aa=(0,e.Z)(function*(Oe,z){const ie=(0,n.m9)(Oe),Ut={requestType:"VERIFY_EMAIL",idToken:yield Oe.getIdToken()};z&&Gi(ie.auth,Ut,z);const{email:qt}=yield function ls(Oe,z){return Ro.apply(this,arguments)}(ie.auth,Ut);qt!==Oe.email&&(yield Oe.reload())}),aa.apply(this,arguments)}function xa(Oe,z,ie){return ys.apply(this,arguments)}function ys(){return ys=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe),qt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield Oe.getIdToken(),newEmail:z};ie&&Gi(Ye.auth,qt,ie);const{email:On}=yield function pi(Oe,z){return Pi.apply(this,arguments)}(Ye.auth,qt);On!==Oe.email&&(yield Oe.reload())}),ys.apply(this,arguments)}function Ya(){return(Ya=(0,e.Z)(function*(Oe,z){return fe(Oe,"POST","/v1/accounts:update",z)})).apply(this,arguments)}function za(Oe,z){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,e.Z)(function*(Oe,{displayName:z,photoURL:ie}){if(void 0===z&&void 0===ie)return;const Ye=(0,n.m9)(Oe),qt={idToken:yield Ye.getIdToken(),displayName:z,photoUrl:ie,returnSecureToken:!0},On=yield Ne(Ye,function kl(Oe,z){return Ya.apply(this,arguments)}(Ye.auth,qt));Ye.displayName=On.displayName||null,Ye.photoURL=On.photoUrl||null;const Zn=Ye.providerData.find(({providerId:di})=>"password"===di);Zn&&(Zn.displayName=Ye.displayName,Zn.photoURL=Ye.photoURL),yield Ye._updateTokensIfNecessary(On)}),Ia.apply(this,arguments)}function Fl(Oe,z){return $a((0,n.m9)(Oe),z,null)}function Za(Oe,z){return $a((0,n.m9)(Oe),null,z)}function $a(Oe,z,ie){return bs.apply(this,arguments)}function bs(){return(bs=(0,e.Z)(function*(Oe,z,ie){const{auth:Ye}=Oe,qt={idToken:yield Oe.getIdToken(),returnSecureToken:!0};z&&(qt.email=z),ie&&(qt.password=ie);const On=yield Ne(Oe,Po(Ye,qt));yield Oe._updateTokensIfNecessary(On,!0)})).apply(this,arguments)}class fs{constructor(z,ie,Ye={}){this.isNewUser=z,this.providerId=ie,this.profile=Ye}}class wr extends fs{constructor(z,ie,Ye,Ut){super(z,ie,Ye),this.username=Ut}}class Hs extends fs{constructor(z,ie){super(z,"facebook.com",ie)}}class Ke extends wr{constructor(z,ie){super(z,"github.com",ie,"string"==typeof ie?.login?ie?.login:null)}}class jt extends fs{constructor(z,ie){super(z,"google.com",ie)}}class pt extends wr{constructor(z,ie,Ye){super(z,"twitter.com",ie,Ye)}}function Ft(Oe){const{user:z,_tokenResponse:ie}=Oe;return z.isAnonymous&&!ie?{providerId:null,isNewUser:!1,profile:null}:function Ja(Oe){var z,ie;if(!Oe)return null;const{providerId:Ye}=Oe,Ut=Oe.rawUserInfo?JSON.parse(Oe.rawUserInfo):{},qt=Oe.isNewUser||"identitytoolkit#SignupNewUserResponse"===Oe.kind;if(!Ye&&Oe?.idToken){const On=null===(ie=null===(z=Ee(Oe.idToken))||void 0===z?void 0:z.firebase)||void 0===ie?void 0:ie.sign_in_provider;if(On)return new fs(qt,"anonymous"!==On&&"custom"!==On?On:null)}if(!Ye)return null;switch(Ye){case"facebook.com":return new Hs(qt,Ut);case"github.com":return new Ke(qt,Ut);case"google.com":return new jt(qt,Ut);case"twitter.com":return new pt(qt,Ut,Oe.screenName||null);case"custom":case"anonymous":return new fs(qt,null);default:return new fs(qt,Ye,Ut)}}(ie)}class Or{constructor(z,ie,Ye){this.type=z,this.credential=ie,this.auth=Ye}static _fromIdtoken(z,ie){return new Or("enroll",z,ie)}static _fromMfaPendingCredential(z){return new Or("signin",z)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(z){var ie,Ye;if(z?.multiFactorSession){if(null!==(ie=z.multiFactorSession)&&void 0!==ie&&ie.pendingCredential)return Or._fromMfaPendingCredential(z.multiFactorSession.pendingCredential);if(null!==(Ye=z.multiFactorSession)&&void 0!==Ye&&Ye.idToken)return Or._fromIdtoken(z.multiFactorSession.idToken)}return null}}class ko{constructor(z,ie,Ye){this.session=z,this.hints=ie,this.signInResolver=Ye}static _fromError(z,ie){const Ye=Sn(z),Ut=ie.customData._serverResponse,qt=(Ut.mfaInfo||[]).map(Zn=>Vt._fromServerResponse(Ye,Zn));ee(Ut.mfaPendingCredential,Ye,"internal-error");const On=Or._fromMfaPendingCredential(Ut.mfaPendingCredential);return new ko(On,qt,function(){var Zn=(0,e.Z)(function*(di){const Ci=yield di._process(Ye,On);delete Ut.mfaInfo,delete Ut.mfaPendingCredential;const Bi=Object.assign(Object.assign({},Ut),{idToken:Ci.idToken,refreshToken:Ci.refreshToken});switch(ie.operationType){case"signIn":const vr=yield $i._fromIdTokenResponse(Ye,ie.operationType,Bi);return yield Ye._updateCurrentUser(vr.user),vr;case"reauthenticate":return ee(ie.user,Ye,"internal-error"),$i._forOperation(ie.user,ie.operationType,Bi);default:C(Ye,"internal-error")}});return function(di){return Zn.apply(this,arguments)}}())}resolveSignIn(z){var ie=this;return(0,e.Z)(function*(){return ie.signInResolver(z)})()}}function xi(Oe,z){var ie;const Ye=(0,n.m9)(Oe),Ut=z;return ee(z.customData.operationType,Ye,"argument-error"),ee(null===(ie=Ut.customData._serverResponse)||void 0===ie?void 0:ie.mfaPendingCredential,Ye,"argument-error"),ko._fromError(Ye,Ut)}class Qs{constructor(z){this.user=z,this.enrolledFactors=[],z._onReload(ie=>{ie.mfaInfo&&(this.enrolledFactors=ie.mfaInfo.map(Ye=>Vt._fromServerResponse(z.auth,Ye)))})}static _fromUser(z){return new Qs(z)}getSession(){var z=this;return(0,e.Z)(function*(){return Or._fromIdtoken(yield z.user.getIdToken(),z.user.auth)})()}enroll(z,ie){var Ye=this;return(0,e.Z)(function*(){const Ut=z,qt=yield Ye.getSession(),On=yield Ne(Ye.user,Ut._process(Ye.user.auth,qt,ie));return yield Ye.user._updateTokensIfNecessary(On),Ye.user.reload()})()}unenroll(z){var ie=this;return(0,e.Z)(function*(){const Ye="string"==typeof z?z:z.uid,Ut=yield ie.user.getIdToken();try{const qt=yield Ne(ie.user,function Ko(Oe,z){return fe(Oe,"POST","/v2/accounts/mfaEnrollment:withdraw",Le(Oe,z))}(ie.user.auth,{idToken:Ut,mfaEnrollmentId:Ye}));ie.enrolledFactors=ie.enrolledFactors.filter(({uid:On})=>On!==Ye),yield ie.user._updateTokensIfNecessary(qt),yield ie.user.reload()}catch(qt){throw qt}})()}}const $r=new WeakMap;function ic(Oe){const z=(0,n.m9)(Oe);return $r.has(z)||$r.set(z,Qs._fromUser(z)),$r.get(z)}const la="__sak";class Bl{constructor(z,ie){this.storageRetriever=z,this.type=ie}_isAvailable(){try{return this.storage?(this.storage.setItem(la,"1"),this.storage.removeItem(la),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(z,ie){return this.storage.setItem(z,JSON.stringify(ie)),Promise.resolve()}_get(z){const ie=this.storage.getItem(z);return Promise.resolve(ie?JSON.parse(ie):null)}_remove(z){return this.storage.removeItem(z),Promise.resolve()}get storage(){return this.storageRetriever()}}const ya=(()=>{class Oe extends Bl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(ie,Ye)=>this.onStorageEvent(ie,Ye),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yl(){const Oe=(0,n.z$)();return mt(Oe)||Tn(Oe)}()&&function an(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(ie){for(const Ye of Object.keys(this.listeners)){const Ut=this.storage.getItem(Ye),qt=this.localCache[Ye];Ut!==qt&&ie(Ye,qt,Ut)}}onStorageEvent(ie,Ye=!1){if(!ie.key)return void this.forAllChangedKeys((Zn,di,Ci)=>{this.notifyListeners(Zn,Ci)});const Ut=ie.key;if(Ye?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Zn=this.storage.getItem(Ut);if(ie.newValue!==Zn)null!==ie.newValue?this.storage.setItem(Ut,ie.newValue):this.storage.removeItem(Ut);else if(this.localCache[Ut]===ie.newValue&&!Ye)return}const qt=()=>{const Zn=this.storage.getItem(Ut);!Ye&&this.localCache[Ut]===Zn||this.notifyListeners(Ut,Zn)},On=this.storage.getItem(Ut);!function Kn(){return(0,n.w1)()&&10===document.documentMode}()||On===ie.newValue||ie.newValue===ie.oldValue?qt():setTimeout(qt,10)}notifyListeners(ie,Ye){this.localCache[ie]=Ye;const Ut=this.listeners[ie];if(Ut)for(const qt of Array.from(Ut))qt(Ye&&JSON.parse(Ye))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((ie,Ye,Ut)=>{this.onStorageEvent(new StorageEvent("storage",{key:ie,oldValue:Ye,newValue:Ut}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(ie,Ye){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[ie]||(this.listeners[ie]=new Set,this.localCache[ie]=this.storage.getItem(ie)),this.listeners[ie].add(Ye)}_removeListener(ie,Ye){this.listeners[ie]&&(this.listeners[ie].delete(Ye),0===this.listeners[ie].size&&delete this.listeners[ie]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(ie,Ye){var Ut=()=>super._set,qt=this;return(0,e.Z)(function*(){yield Ut().call(qt,ie,Ye),qt.localCache[ie]=JSON.stringify(Ye)})()}_get(ie){var Ye=()=>super._get,Ut=this;return(0,e.Z)(function*(){const qt=yield Ye().call(Ut,ie);return Ut.localCache[ie]=JSON.stringify(qt),qt})()}_remove(ie){var Ye=()=>super._remove,Ut=this;return(0,e.Z)(function*(){yield Ye().call(Ut,ie),delete Ut.localCache[ie]})()}}return Oe.type="LOCAL",Oe})(),Sr=(()=>{class Oe extends Bl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(ie,Ye){}_removeListener(ie,Ye){}}return Oe.type="SESSION",Oe})();let qa=(()=>{class Oe{constructor(ie){this.eventTarget=ie,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(ie){const Ye=this.receivers.find(qt=>qt.isListeningto(ie));if(Ye)return Ye;const Ut=new Oe(ie);return this.receivers.push(Ut),Ut}isListeningto(ie){return this.eventTarget===ie}handleEvent(ie){var Ye=this;return(0,e.Z)(function*(){const Ut=ie,{eventId:qt,eventType:On,data:Zn}=Ut.data,di=Ye.handlersMap[On];if(!di?.size)return;Ut.ports[0].postMessage({status:"ack",eventId:qt,eventType:On});const Ci=Array.from(di).map(function(){var vr=(0,e.Z)(function*(Ds){return Ds(Ut.origin,Zn)});return function(Ds){return vr.apply(this,arguments)}}()),Bi=yield function ad(Oe){return Promise.all(Oe.map(function(){var z=(0,e.Z)(function*(ie){try{return{fulfilled:!0,value:yield ie}}catch(Ye){return{fulfilled:!1,reason:Ye}}});return function(ie){return z.apply(this,arguments)}}()))}(Ci);Ut.ports[0].postMessage({status:"done",eventId:qt,eventType:On,response:Bi})})()}_subscribe(ie,Ye){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[ie]||(this.handlersMap[ie]=new Set),this.handlersMap[ie].add(Ye)}_unsubscribe(ie,Ye){this.handlersMap[ie]&&Ye&&this.handlersMap[ie].delete(Ye),(!Ye||0===this.handlersMap[ie].size)&&delete this.handlersMap[ie],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return Oe.receivers=[],Oe})();function Fo(Oe="",z=10){let ie="";for(let Ye=0;Ye<z;Ye++)ie+=Math.floor(10*Math.random());return Oe+ie}class bl{constructor(z){this.target=z,this.handlers=new Set}removeMessageHandler(z){z.messageChannel&&(z.messageChannel.port1.removeEventListener("message",z.onMessage),z.messageChannel.port1.close()),this.handlers.delete(z)}_send(z,ie,Ye=50){var Ut=this;return(0,e.Z)(function*(){const qt=typeof MessageChannel<"u"?new MessageChannel:null;if(!qt)throw new Error("connection_unavailable");let On,Zn;return new Promise((di,Ci)=>{const Bi=Fo("",20);qt.port1.start();const vr=setTimeout(()=>{Ci(new Error("unsupported_event"))},Ye);Zn={messageChannel:qt,onMessage(Ds){const Jl=Ds;if(Jl.data.eventId===Bi)switch(Jl.data.status){case"ack":clearTimeout(vr),On=setTimeout(()=>{Ci(new Error("timeout"))},3e3);break;case"done":clearTimeout(On),di(Jl.data.response);break;default:clearTimeout(vr),clearTimeout(On),Ci(new Error("invalid_response"))}}},Ut.handlers.add(Zn),qt.port1.addEventListener("message",Zn.onMessage),Ut.target.postMessage({eventType:z,eventId:Bi,data:ie},[qt.port2])}).finally(()=>{Zn&&Ut.removeMessageHandler(Zn)})})()}}function io(){return window}function rc(){return typeof io().WorkerGlobalScope<"u"&&"function"==typeof io().importScripts}function Jr(){return(Jr=(0,e.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lr="firebaseLocalStorageDb",Eo="firebaseLocalStorage",Ul="fbase_key";class Tl{constructor(z){this.request=z}toPromise(){return new Promise((z,ie)=>{this.request.addEventListener("success",()=>{z(this.request.result)}),this.request.addEventListener("error",()=>{ie(this.request.error)})})}}function el(Oe,z){return Oe.transaction([Eo],z?"readwrite":"readonly").objectStore(Eo)}function ba(){const Oe=indexedDB.open(Lr,1);return new Promise((z,ie)=>{Oe.addEventListener("error",()=>{ie(Oe.error)}),Oe.addEventListener("upgradeneeded",()=>{const Ye=Oe.result;try{Ye.createObjectStore(Eo,{keyPath:Ul})}catch(Ut){ie(Ut)}}),Oe.addEventListener("success",(0,e.Z)(function*(){const Ye=Oe.result;Ye.objectStoreNames.contains(Eo)?z(Ye):(Ye.close(),yield function oc(){const Oe=indexedDB.deleteDatabase(Lr);return new Tl(Oe).toPromise()}(),z(yield ba()))}))})}function Oa(Oe,z,ie){return qs.apply(this,arguments)}function qs(){return(qs=(0,e.Z)(function*(Oe,z,ie){const Ye=el(Oe,!0).put({[Ul]:z,value:ie});return new Tl(Ye).toPromise()})).apply(this,arguments)}function ws(){return(ws=(0,e.Z)(function*(Oe,z){const ie=el(Oe,!1).get(z),Ye=yield new Tl(ie).toPromise();return void 0===Ye?null:Ye.value})).apply(this,arguments)}function Gl(Oe,z){const ie=el(Oe,!0).delete(z);return new Tl(ie).toPromise()}const Nc=(()=>{class Oe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var ie=this;return(0,e.Z)(function*(){return ie.db||(ie.db=yield ba()),ie.db})()}_withRetries(ie){var Ye=this;return(0,e.Z)(function*(){let Ut=0;for(;;)try{const qt=yield Ye._openDb();return yield ie(qt)}catch(qt){if(Ut++>3)throw qt;Ye.db&&(Ye.db.close(),Ye.db=void 0)}})()}initializeServiceWorkerMessaging(){var ie=this;return(0,e.Z)(function*(){return rc()?ie.initializeReceiver():ie.initializeSender()})()}initializeReceiver(){var ie=this;return(0,e.Z)(function*(){ie.receiver=qa._getInstance(function Xa(){return rc()?self:null}()),ie.receiver._subscribe("keyChanged",function(){var Ye=(0,e.Z)(function*(Ut,qt){return{keyProcessed:(yield ie._poll()).includes(qt.key)}});return function(Ut,qt){return Ye.apply(this,arguments)}}()),ie.receiver._subscribe("ping",function(){var Ye=(0,e.Z)(function*(Ut,qt){return["keyChanged"]});return function(Ut,qt){return Ye.apply(this,arguments)}}())})()}initializeSender(){var ie=this;return(0,e.Z)(function*(){var Ye,Ut;if(ie.activeServiceWorker=yield function El(){return Jr.apply(this,arguments)}(),!ie.activeServiceWorker)return;ie.sender=new bl(ie.activeServiceWorker);const qt=yield ie.sender._send("ping",{},800);qt&&null!==(Ye=qt[0])&&void 0!==Ye&&Ye.fulfilled&&null!==(Ut=qt[0])&&void 0!==Ut&&Ut.value.includes("keyChanged")&&(ie.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(ie){var Ye=this;return(0,e.Z)(function*(){if(Ye.sender&&Ye.activeServiceWorker&&function Es(){var Oe;return(null===(Oe=navigator?.serviceWorker)||void 0===Oe?void 0:Oe.controller)||null}()===Ye.activeServiceWorker)try{yield Ye.sender._send("keyChanged",{key:ie},Ye.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const ie=yield ba();return yield Oa(ie,la,"1"),yield Gl(ie,la),!0}catch{}return!1})()}_withPendingWrite(ie){var Ye=this;return(0,e.Z)(function*(){Ye.pendingWrites++;try{yield ie()}finally{Ye.pendingWrites--}})()}_set(ie,Ye){var Ut=this;return(0,e.Z)(function*(){return Ut._withPendingWrite((0,e.Z)(function*(){return yield Ut._withRetries(qt=>Oa(qt,ie,Ye)),Ut.localCache[ie]=Ye,Ut.notifyServiceWorker(ie)}))})()}_get(ie){var Ye=this;return(0,e.Z)(function*(){const Ut=yield Ye._withRetries(qt=>function tl(Oe,z){return ws.apply(this,arguments)}(qt,ie));return Ye.localCache[ie]=Ut,Ut})()}_remove(ie){var Ye=this;return(0,e.Z)(function*(){return Ye._withPendingWrite((0,e.Z)(function*(){return yield Ye._withRetries(Ut=>Gl(Ut,ie)),delete Ye.localCache[ie],Ye.notifyServiceWorker(ie)}))})()}_poll(){var ie=this;return(0,e.Z)(function*(){const Ye=yield ie._withRetries(On=>{const Zn=el(On,!1).getAll();return new Tl(Zn).toPromise()});if(!Ye)return[];if(0!==ie.pendingWrites)return[];const Ut=[],qt=new Set;for(const{fbase_key:On,value:Zn}of Ye)qt.add(On),JSON.stringify(ie.localCache[On])!==JSON.stringify(Zn)&&(ie.notifyListeners(On,Zn),Ut.push(On));for(const On of Object.keys(ie.localCache))ie.localCache[On]&&!qt.has(On)&&(ie.notifyListeners(On,null),Ut.push(On));return Ut})()}notifyListeners(ie,Ye){this.localCache[ie]=Ye;const Ut=this.listeners[ie];if(Ut)for(const qt of Array.from(Ut))qt(Ye)}startPolling(){var ie=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return ie._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(ie,Ye){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[ie]||(this.listeners[ie]=new Set,this._get(ie)),this.listeners[ie].add(Ye)}_removeListener(ie,Ye){this.listeners[ie]&&(this.listeners[ie].delete(Ye),0===this.listeners[ie].size&&delete this.listeners[ie]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return Oe.type="LOCAL",Oe})(),Pe=1e12;class rt{constructor(z){this.auth=z,this.counter=Pe,this._widgets=new Map}render(z,ie){const Ye=this.counter;return this._widgets.set(Ye,new Me(z,this.auth.name,ie||{})),this.counter++,Ye}reset(z){var ie;const Ye=z||Pe;null===(ie=this._widgets.get(Ye))||void 0===ie||ie.delete(),this._widgets.delete(Ye)}getResponse(z){var ie;return(null===(ie=this._widgets.get(z||Pe))||void 0===ie?void 0:ie.getResponse())||""}execute(z){var ie=this;return(0,e.Z)(function*(){var Ye;return null===(Ye=ie._widgets.get(z||Pe))||void 0===Ye||Ye.execute(),""})()}}class Me{constructor(z,ie,Ye){this.params=Ye,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ut="string"==typeof z?document.getElementById(z):z;ee(Ut,"argument-error",{appName:ie}),this.container=Ut,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Je(Oe){const z=[],ie="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ye=0;Ye<Oe;Ye++)z.push(ie.charAt(Math.floor(62*Math.random())));return z.join("")}(50);const{callback:z,"expired-callback":ie}=this.params;if(z)try{z(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,ie)try{ie()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nt=yn("rcb"),tn=new Se(3e4,6e4);class Rn{constructor(){var z;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(z=io().grecaptcha)||void 0===z||!z.render)}load(z,ie=""){return ee(function ni(Oe){return Oe.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(Oe)}(ie),z,"argument-error"),this.shouldResolveImmediately(ie)&&hn(io().grecaptcha)?Promise.resolve(io().grecaptcha):new Promise((Ye,Ut)=>{const qt=io().setTimeout(()=>{Ut(O(z,"network-request-failed"))},tn.get());io()[Nt]=()=>{io().clearTimeout(qt),delete io()[Nt];const Zn=io().grecaptcha;if(!Zn||!hn(Zn))return void Ut(O(z,"internal-error"));const di=Zn.render;Zn.render=(Ci,Bi)=>{const vr=di(Ci,Bi);return this.counter++,vr},this.hostLanguage=ie,Ye(Zn)},Ot(`https://www.google.com/recaptcha/api.js??${(0,n.xO)({onload:Nt,render:"explicit",hl:ie})}`).catch(()=>{clearTimeout(qt),Ut(O(z,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(z){var ie;return!(null===(ie=io().grecaptcha)||void 0===ie||!ie.render)&&(z===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wi{load(z){return(0,e.Z)(function*(){return new rt(z)})()}clearedOneInstance(){}}const Li="recaptcha",fr={theme:"light",type:"image"};class Bo{constructor(z,ie=Object.assign({},fr),Ye){this.parameters=ie,this.type=Li,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(Ye),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ut="string"==typeof z?document.getElementById(z):z;ee(Ut,this.auth,"argument-error"),this.container=Ut,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wi:new Rn,this.validateStartingState()}verify(){var z=this;return(0,e.Z)(function*(){z.assertNotDestroyed();const ie=yield z.render(),Ye=z.getAssertedRecaptcha();return Ye.getResponse(ie)||new Promise(qt=>{const On=Zn=>{Zn&&(z.tokenChangeListeners.delete(On),qt(Zn))};z.tokenChangeListeners.add(On),z.isInvisible&&Ye.execute(ie)})})()}render(){try{this.assertNotDestroyed()}catch(z){return Promise.reject(z)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(z=>{throw this.renderPromise=null,z})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(z=>{this.container.removeChild(z)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(z){return ie=>{if(this.tokenChangeListeners.forEach(Ye=>Ye(ie)),"function"==typeof z)z(ie);else if("string"==typeof z){const Ye=io()[z];"function"==typeof Ye&&Ye(ie)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var z=this;return(0,e.Z)(function*(){if(yield z.init(),!z.widgetId){let ie=z.container;if(!z.isInvisible){const Ye=document.createElement("div");ie.appendChild(Ye),ie=Ye}z.widgetId=z.getAssertedRecaptcha().render(ie,z.parameters)}return z.widgetId})()}init(){var z=this;return(0,e.Z)(function*(){ee(le()&&!rc(),z.auth,"internal-error"),yield function ca(){let Oe=null;return new Promise(z=>{"complete"!==document.readyState?(Oe=()=>z(),window.addEventListener("load",Oe)):z()}).catch(z=>{throw Oe&&window.removeEventListener("load",Oe),z})}(),z.recaptcha=yield z._recaptchaLoader.load(z.auth,z.auth.languageCode||void 0);const ie=yield function on(Oe){return ln.apply(this,arguments)}(z.auth);ee(ie,z.auth,"internal-error"),z.parameters.sitekey=ie})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ss{constructor(z,ie){this.verificationId=z,this.onConfirmation=ie}confirm(z){const ie=zr._fromVerification(this.verificationId,z);return this.onConfirmation(ie)}}function Xs(Oe,z,ie){return wo.apply(this,arguments)}function wo(){return(wo=(0,e.Z)(function*(Oe,z,ie){const Ye=Sn(Oe),Ut=yield Ta(Ye,z,(0,n.m9)(ie));return new Ss(Ut,qt=>vo(Ye,qt))})).apply(this,arguments)}function To(Oe,z,ie){return nl.apply(this,arguments)}function nl(){return(nl=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe);yield jo(!1,Ye,"phone");const Ut=yield Ta(Ye.auth,z,(0,n.m9)(ie));return new Ss(Ut,qt=>$s(Ye,qt))})).apply(this,arguments)}function Ea(Oe,z,ie){return ac.apply(this,arguments)}function ac(){return(ac=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe),Ut=yield Ta(Ye.auth,z,(0,n.m9)(ie));return new Ss(Ut,qt=>_r(Ye,qt))})).apply(this,arguments)}function Ta(Oe,z,ie){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,e.Z)(function*(Oe,z,ie){var Ye;const Ut=yield ie.verify();try{let qt;if(ee("string"==typeof Ut,Oe,"argument-error"),ee(ie.type===Li,Oe,"argument-error"),qt="string"==typeof z?{phoneNumber:z}:z,"session"in qt){const On=qt.session;if("phoneNumber"in qt)return ee("enroll"===On.type,Oe,"internal-error"),(yield function hs(Oe,z){return fe(Oe,"POST","/v2/accounts/mfaEnrollment:start",Le(Oe,z))}(Oe,{idToken:On.credential,phoneEnrollmentInfo:{phoneNumber:qt.phoneNumber,recaptchaToken:Ut}})).phoneSessionInfo.sessionInfo;{ee("signin"===On.type,Oe,"internal-error");const Zn=(null===(Ye=qt.multiFactorHint)||void 0===Ye?void 0:Ye.uid)||qt.multiFactorUid;return ee(Zn,Oe,"missing-multi-factor-info"),(yield function Pa(Oe,z){return fe(Oe,"POST","/v2/accounts/mfaSignIn:start",Le(Oe,z))}(Oe,{mfaPendingCredential:On.credential,mfaEnrollmentId:Zn,phoneSignInInfo:{recaptchaToken:Ut}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:On}=yield function Ri(Oe,z){return Ki.apply(this,arguments)}(Oe,{phoneNumber:qt.phoneNumber,recaptchaToken:Ut});return On}}finally{ie._reset()}}),Sl.apply(this,arguments)}function wd(Oe,z){return ea.apply(this,arguments)}function ea(){return(ea=(0,e.Z)(function*(Oe,z){yield gr((0,n.m9)(Oe),z)})).apply(this,arguments)}let Od=(()=>{class Oe{constructor(ie){this.providerId=Oe.PROVIDER_ID,this.auth=Sn(ie)}verifyPhoneNumber(ie,Ye){return Ta(this.auth,ie,(0,n.m9)(Ye))}static credential(ie,Ye){return zr._fromVerification(ie,Ye)}static credentialFromResult(ie){return Oe.credentialFromTaggedObject(ie)}static credentialFromError(ie){return Oe.credentialFromTaggedObject(ie.customData||{})}static credentialFromTaggedObject({_tokenResponse:ie}){if(!ie)return null;const{phoneNumber:Ye,temporaryProof:Ut}=ie;return Ye&&Ut?zr._fromTokenResponse(Ye,Ut):null}}return Oe.PROVIDER_ID="phone",Oe.PHONE_SIGN_IN_METHOD="phone",Oe})();function Cr(Oe,z){return z?gt(z):(ee(Oe._popupRedirectResolver,Oe,"argument-error"),Oe._popupRedirectResolver)}class lc extends Ir{constructor(z){super("custom","custom"),this.params=z}_getIdTokenResponse(z){return _n(z,this._buildIdpRequest())}_linkToIdToken(z,ie){return _n(z,this._buildIdpRequest(ie))}_getReauthenticationResolver(z){return _n(z,this._buildIdpRequest())}_buildIdpRequest(z){const ie={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return z&&(ie.idToken=z),ie}}function Jo(Oe){return sa(Oe.auth,new lc(Oe),Oe.bypassAuthState)}function kc(Oe){const{auth:z,user:ie}=Oe;return ee(ie,z,"internal-error"),Zs(ie,new lc(Oe),Oe.bypassAuthState)}function Ra(Oe){return Os.apply(this,arguments)}function Os(){return(Os=(0,e.Z)(function*(Oe){const{auth:z,user:ie}=Oe;return ee(ie,z,"internal-error"),gr(ie,new lc(Oe),Oe.bypassAuthState)})).apply(this,arguments)}class Na{constructor(z,ie,Ye,Ut,qt=!1){this.auth=z,this.resolver=Ye,this.user=Ut,this.bypassAuthState=qt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(ie)?ie:[ie]}execute(){var z=this;return new Promise(function(){var ie=(0,e.Z)(function*(Ye,Ut){z.pendingPromise={resolve:Ye,reject:Ut};try{z.eventManager=yield z.resolver._initialize(z.auth),yield z.onExecution(),z.eventManager.registerConsumer(z)}catch(qt){z.reject(qt)}});return function(Ye,Ut){return ie.apply(this,arguments)}}())}onAuthEvent(z){var ie=this;return(0,e.Z)(function*(){const{urlResponse:Ye,sessionId:Ut,postBody:qt,tenantId:On,error:Zn,type:di}=z;if(Zn)return void ie.reject(Zn);const Ci={auth:ie.auth,requestUri:Ye,sessionId:Ut,tenantId:On||void 0,postBody:qt||void 0,user:ie.user,bypassAuthState:ie.bypassAuthState};try{ie.resolve(yield ie.getIdpTask(di)(Ci))}catch(Bi){ie.reject(Bi)}})()}onError(z){this.reject(z)}getIdpTask(z){switch(z){case"signInViaPopup":case"signInViaRedirect":return Jo;case"linkViaPopup":case"linkViaRedirect":return Ra;case"reauthViaPopup":case"reauthViaRedirect":return kc;default:C(this.auth,"internal-error")}}resolve(z){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(z),this.unregisterAndCleanUp()}reject(z){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(z),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fc=new Se(2e3,1e4);function os(Oe,z,ie){return ta.apply(this,arguments)}function ta(){return(ta=(0,e.Z)(function*(Oe,z,ie){const Ye=Sn(Oe);G(Oe,z,xo);const Ut=Cr(Ye,ie);return new La(Ye,"signInViaPopup",z,Ut).executeNotNull()})).apply(this,arguments)}function Pd(Oe,z,ie){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe);G(Ye.auth,z,xo);const Ut=Cr(Ye.auth,ie);return new La(Ye.auth,"reauthViaPopup",z,Ut,Ye).executeNotNull()})).apply(this,arguments)}function Rd(Oe,z,ie){return il.apply(this,arguments)}function il(){return(il=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe);G(Ye.auth,z,xo);const Ut=Cr(Ye.auth,ie);return new La(Ye.auth,"linkViaPopup",z,Ut,Ye).executeNotNull()})).apply(this,arguments)}let La=(()=>{class Oe extends Na{constructor(ie,Ye,Ut,qt,On){super(ie,Ye,qt,On),this.provider=Ut,this.authWindow=null,this.pollId=null,Oe.currentPopupAction&&Oe.currentPopupAction.cancel(),Oe.currentPopupAction=this}executeNotNull(){var ie=this;return(0,e.Z)(function*(){const Ye=yield ie.execute();return ee(Ye,ie.auth,"internal-error"),Ye})()}onExecution(){var ie=this;return(0,e.Z)(function*(){Ae(1===ie.filter.length,"Popup operations only handle one event");const Ye=Fo();ie.authWindow=yield ie.resolver._openPopup(ie.auth,ie.provider,ie.filter[0],Ye),ie.authWindow.associatedEvent=Ye,ie.resolver._originValidation(ie.auth).catch(Ut=>{ie.reject(Ut)}),ie.resolver._isIframeWebStorageSupported(ie.auth,Ut=>{Ut||ie.reject(O(ie.auth,"web-storage-unsupported"))}),ie.pollUserCancellation()})()}get eventId(){var ie;return(null===(ie=this.authWindow)||void 0===ie?void 0:ie.associatedEvent)||null}cancel(){this.reject(O(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oe.currentPopupAction=null}pollUserCancellation(){const ie=()=>{var Ye,Ut;this.pollId=null!==(Ut=null===(Ye=this.authWindow)||void 0===Ye?void 0:Ye.window)&&void 0!==Ut&&Ut.closed?window.setTimeout(()=>{this.pollId=null,this.reject(O(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(ie,Fc.get())};ie()}}return Oe.currentPopupAction=null,Oe})();const Cl="pendingRedirect",da=new Map;class Bc extends Na{constructor(z,ie,Ye=!1){super(z,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],ie,void 0,Ye),this.eventId=null}execute(){var z=()=>super.execute,ie=this;return(0,e.Z)(function*(){let Ye=da.get(ie.auth._key());if(!Ye){try{const qt=(yield function tu(Oe,z){return Dl.apply(this,arguments)}(ie.resolver,ie.auth))?yield z().call(ie):null;Ye=()=>Promise.resolve(qt)}catch(Ut){Ye=()=>Promise.reject(Ut)}da.set(ie.auth._key(),Ye)}return ie.bypassAuthState||da.set(ie.auth._key(),()=>Promise.resolve(null)),Ye()})()}onAuthEvent(z){var ie=()=>super.onAuthEvent,Ye=this;return(0,e.Z)(function*(){if("signInViaRedirect"===z.type)return ie().call(Ye,z);if("unknown"!==z.type){if(z.eventId){const Ut=yield Ye.auth._redirectUserForId(z.eventId);if(Ut)return Ye.user=Ut,ie().call(Ye,z);Ye.resolve(null)}}else Ye.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function Dl(){return(Dl=(0,e.Z)(function*(Oe,z){const ie=rl(z),Ye=jl(Oe);if(!(yield Ye._isAvailable()))return!1;const Ut="true"===(yield Ye._get(ie));return yield Ye._remove(ie),Ut})).apply(this,arguments)}function Hl(Oe,z){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,e.Z)(function*(Oe,z){return jl(Oe)._set(rl(z),"true")})).apply(this,arguments)}function Gc(){da.clear()}function Hc(Oe,z){da.set(Oe._key(),z)}function jl(Oe){return gt(Oe._redirectPersistence)}function rl(Oe){return ke(Cl,Oe.config.apiKey,Oe.name)}function cc(Oe,z,ie){return function Vl(Oe,z,ie){return Ml.apply(this,arguments)}(Oe,z,ie)}function Ml(){return(Ml=(0,e.Z)(function*(Oe,z,ie){const Ye=Sn(Oe);G(Oe,z,xo),yield Ye._initializationPromise;const Ut=Cr(Ye,ie);return yield Hl(Ut,Ye),Ut._openRedirect(Ye,z,"signInViaRedirect")})).apply(this,arguments)}function ol(Oe,z,ie){return function jc(Oe,z,ie){return Kl.apply(this,arguments)}(Oe,z,ie)}function Kl(){return(Kl=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe);G(Ye.auth,z,xo),yield Ye.auth._initializationPromise;const Ut=Cr(Ye.auth,ie);yield Hl(Ut,Ye.auth);const qt=yield dd(Ye);return Ut._openRedirect(Ye.auth,z,"reauthViaRedirect",qt)})).apply(this,arguments)}function Wl(Oe,z,ie){return function Vc(Oe,z,ie){return dc.apply(this,arguments)}(Oe,z,ie)}function dc(){return(dc=(0,e.Z)(function*(Oe,z,ie){const Ye=(0,n.m9)(Oe);G(Ye.auth,z,xo),yield Ye.auth._initializationPromise;const Ut=Cr(Ye.auth,ie);yield jo(!1,Ye,z.providerId),yield Hl(Ut,Ye.auth);const qt=yield dd(Ye);return Ut._openRedirect(Ye.auth,z,"linkViaRedirect",qt)})).apply(this,arguments)}function Kc(Oe,z){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,e.Z)(function*(Oe,z){return yield Sn(Oe)._initializationPromise,ka(Oe,z,!1)})).apply(this,arguments)}function ka(Oe,z){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,e.Z)(function*(Oe,z,ie=!1){const Ye=Sn(Oe),Ut=Cr(Ye,z),On=yield new Bc(Ye,Ut,ie).execute();return On&&!ie&&(delete On.user._redirectEventId,yield Ye._persistUserIfCurrent(On.user),yield Ye._setRedirectUser(null,z)),On})).apply(this,arguments)}function dd(Oe){return Al.apply(this,arguments)}function Al(){return(Al=(0,e.Z)(function*(Oe){const z=Fo(`${Oe.uid}:::`);return Oe._redirectEventId=z,yield Oe.auth._setRedirectUser(Oe),yield Oe.auth._persistUserIfCurrent(Oe),z})).apply(this,arguments)}class ud{constructor(z){this.auth=z,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(z){this.consumers.add(z),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,z)&&(this.sendToConsumer(this.queuedRedirectEvent,z),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(z){this.consumers.delete(z)}onEvent(z){if(this.hasEventBeenHandled(z))return!1;let ie=!1;return this.consumers.forEach(Ye=>{this.isEventForConsumer(z,Ye)&&(ie=!0,this.sendToConsumer(z,Ye),this.saveEventToCache(z))}),this.hasHandledPotentialRedirect||!function zc(Oe){switch(Oe.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yc(Oe);default:return!1}}(z)||(this.hasHandledPotentialRedirect=!0,ie||(this.queuedRedirectEvent=z,ie=!0)),ie}sendToConsumer(z,ie){var Ye;if(z.error&&!Yc(z)){const Ut=(null===(Ye=z.error.code)||void 0===Ye?void 0:Ye.split("auth/")[1])||"internal-error";ie.onError(O(this.auth,Ut))}else ie.onAuthEvent(z)}isEventForConsumer(z,ie){const Ye=null===ie.eventId||!!z.eventId&&z.eventId===ie.eventId;return ie.filter.includes(z.type)&&Ye}hasEventBeenHandled(z){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wc(z))}saveEventToCache(z){this.cachedEventUids.add(Wc(z)),this.lastProcessedEventTime=Date.now()}}function Wc(Oe){return[Oe.type,Oe.eventId,Oe.sessionId,Oe.tenantId].filter(z=>z).join("-")}function Yc({type:Oe,error:z}){return"unknown"===Oe&&"auth/no-auth-event"===z?.code}function fd(Oe){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,e.Z)(function*(Oe,z={}){return fe(Oe,"GET","/v1/projects",z)})).apply(this,arguments)}const Nf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ua=/^https?/;function ms(){return(ms=(0,e.Z)(function*(Oe){if(Oe.config.emulator)return;const{authorizedDomains:z}=yield fd(Oe);for(const ie of z)try{if(zl(ie))return}catch{}C(Oe,"unauthorized-domain")})).apply(this,arguments)}function zl(Oe){const z=j(),{protocol:ie,hostname:Ye}=new URL(z);if(Oe.startsWith("chrome-extension://")){const On=new URL(Oe);return""===On.hostname&&""===Ye?"chrome-extension:"===ie&&Oe.replace("chrome-extension://","")===z.replace("chrome-extension://",""):"chrome-extension:"===ie&&On.hostname===Ye}if(!ua.test(ie))return!1;if(Nf.test(Oe))return Ye===Oe;const Ut=Oe.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ut+"|"+Ut+")$","i").test(Ye)}const to=new Se(3e4,6e4);function Nd(){const Oe=io().___jsl;if(Oe?.H)for(const z of Object.keys(Oe.H))if(Oe.H[z].r=Oe.H[z].r||[],Oe.H[z].L=Oe.H[z].L||[],Oe.H[z].r=[...Oe.H[z].L],Oe.CP)for(let ie=0;ie<Oe.CP.length;ie++)Oe.CP[ie]=null}let js=null;const So=new Se(5e3,15e3),ro="__/auth/iframe",Zl="emulator/auth/iframe",al={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nu(Oe){const z=Oe.config;ee(z.authDomain,Oe,"auth-domain-config-required");const ie=z.emulator?xe(z,Zl):`https://${Oe.config.authDomain}/${ro}`,Ye={apiKey:z.apiKey,appName:Oe.name,v:E.SDK_VERSION},Ut=fc.get(Oe.config.apiHost);Ut&&(Ye.eid=Ut);const qt=Oe._getFrameworks();return qt.length&&(Ye.fw=qt.join(",")),`${ie}?${(0,n.xO)(Ye).slice(1)}`}function je(){return je=(0,e.Z)(function*(Oe){const z=yield function Vs(Oe){return js=js||function uc(Oe){return new Promise((z,ie)=>{var Ye,Ut,qt;function On(){Nd(),gapi.load("gapi.iframes",{callback:()=>{z(gapi.iframes.getContext())},ontimeout:()=>{Nd(),ie(O(Oe,"network-request-failed"))},timeout:to.get()})}if(null!==(Ut=null===(Ye=io().gapi)||void 0===Ye?void 0:Ye.iframes)&&void 0!==Ut&&Ut.Iframe)z(gapi.iframes.getContext());else{if(null===(qt=io().gapi)||void 0===qt||!qt.load){const Zn=yn("iframefcb");return io()[Zn]=()=>{gapi.load?On():ie(O(Oe,"network-request-failed"))},Ot(`https://apis.google.com/js/api.js?onload=${Zn}`).catch(di=>ie(di))}On()}}).catch(z=>{throw js=null,z})}(Oe),js}(Oe),ie=io().gapi;return ee(ie,Oe,"internal-error"),z.open({where:document.body,url:nu(Oe),messageHandlersFilter:ie.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:al,dontclear:!0},Ye=>new Promise(function(){var Ut=(0,e.Z)(function*(qt,On){yield Ye.restyle({setHideOnLeave:!1});const Zn=O(Oe,"network-request-failed"),di=io().setTimeout(()=>{On(Zn)},So.get());function Ci(){io().clearTimeout(di),qt(Ye)}Ye.ping(Ci).then(Ci,()=>{On(Zn)})});return function(qt,On){return Ut.apply(this,arguments)}}()))}),je.apply(this,arguments)}const st={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $n{constructor(z){this.window=z,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mi="__/auth/handler",Zi="emulator/auth/handler",Hi=encodeURIComponent("fac");function Vi(Oe,z,ie,Ye,Ut,qt){return no.apply(this,arguments)}function no(){return(no=(0,e.Z)(function*(Oe,z,ie,Ye,Ut,qt){ee(Oe.config.authDomain,Oe,"auth-domain-config-required"),ee(Oe.config.apiKey,Oe,"invalid-api-key");const On={apiKey:Oe.config.apiKey,appName:Oe.name,authType:ie,redirectUrl:Ye,v:E.SDK_VERSION,eventId:Ut};if(z instanceof xo){z.setDefaultLanguage(Oe.languageCode),On.providerId=z.providerId||"",(0,n.xb)(z.getCustomParameters())||(On.customParameters=JSON.stringify(z.getCustomParameters()));for(const[Bi,vr]of Object.entries(qt||{}))On[Bi]=vr}if(z instanceof ps){const Bi=z.getScopes().filter(vr=>""!==vr);Bi.length>0&&(On.scopes=Bi.join(","))}Oe.tenantId&&(On.tid=Oe.tenantId);const Zn=On;for(const Bi of Object.keys(Zn))void 0===Zn[Bi]&&delete Zn[Bi];const di=yield Oe._getAppCheckToken(),Ci=di?`#${Hi}=${encodeURIComponent(di)}`:"";return`${function Ni({config:Oe}){return Oe.emulator?xe(Oe,Zi):`https://${Oe.authDomain}/${Mi}`}(Oe)}?${(0,n.xO)(Zn).slice(1)}${Ci}`})).apply(this,arguments)}const Cs="webStorageSupport",Rs=class $l{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=ka,this._overrideRedirectResult=Hc}_openPopup(z,ie,Ye,Ut){var qt=this;return(0,e.Z)(function*(){var On;Ae(null===(On=qt.eventManagers[z._key()])||void 0===On?void 0:On.manager,"_initialize() not called before _openPopup()");const Zn=yield Vi(z,ie,Ye,j(),Ut);return function bi(Oe,z,ie,Ye=500,Ut=600){const qt=Math.max((window.screen.availHeight-Ut)/2,0).toString(),On=Math.max((window.screen.availWidth-Ye)/2,0).toString();let Zn="";const di=Object.assign(Object.assign({},st),{width:Ye.toString(),height:Ut.toString(),top:qt,left:On}),Ci=(0,n.z$)().toLowerCase();ie&&(Zn=Et(Ci)?"_blank":ie),ft(Ci)&&(z=z||"http://localhost",di.scrollbars="yes");const Bi=Object.entries(di).reduce((Ds,[Jl,Ld])=>`${Ds}${Jl}=${Ld},`,"");if(function Fn(Oe=(0,n.z$)()){var z;return Tn(Oe)&&!(null===(z=window.navigator)||void 0===z||!z.standalone)}(Ci)&&"_self"!==Zn)return function gi(Oe,z){const ie=document.createElement("a");ie.href=Oe,ie.target=z;const Ye=document.createEvent("MouseEvent");Ye.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),ie.dispatchEvent(Ye)}(z||"",Zn),new $n(null);const vr=window.open(z||"",Zn,Bi);ee(vr,Oe,"popup-blocked");try{vr.focus()}catch{}return new $n(vr)}(z,Zn,Fo())})()}_openRedirect(z,ie,Ye,Ut){var qt=this;return(0,e.Z)(function*(){return yield qt._originValidation(z),function wa(Oe){io().location.href=Oe}(yield Vi(z,ie,Ye,j(),Ut)),new Promise(()=>{})})()}_initialize(z){const ie=z._key();if(this.eventManagers[ie]){const{manager:Ut,promise:qt}=this.eventManagers[ie];return Ut?Promise.resolve(Ut):(Ae(qt,"If manager is not set, promise should be"),qt)}const Ye=this.initAndGetManager(z);return this.eventManagers[ie]={promise:Ye},Ye.catch(()=>{delete this.eventManagers[ie]}),Ye}initAndGetManager(z){var ie=this;return(0,e.Z)(function*(){const Ye=yield function iu(Oe){return je.apply(this,arguments)}(z),Ut=new ud(z);return Ye.register("authEvent",qt=>(ee(qt?.authEvent,z,"invalid-auth-event"),{status:Ut.onEvent(qt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),ie.eventManagers[z._key()]={manager:Ut},ie.iframes[z._key()]=Ye,Ut})()}_isIframeWebStorageSupported(z,ie){this.iframes[z._key()].send(Cs,{type:Cs},Ut=>{var qt;const On=null===(qt=Ut?.[0])||void 0===qt?void 0:qt[Cs];void 0!==On&&ie(!!On),C(z,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(z){const ie=z._key();return this.originValidationPromises[ie]||(this.originValidationPromises[ie]=function Yl(Oe){return ms.apply(this,arguments)}(z)),this.originValidationPromises[ie]}get _shouldInitProactively(){return dn()||mt()||Tn()}};class ll{constructor(z){this.factorId=z}_process(z,ie,Ye){switch(ie.type){case"enroll":return this._finalizeEnroll(z,ie.credential,Ye);case"signin":return this._finalizeSignIn(z,ie.credential);default:return ae("unexpected MultiFactorSessionType")}}}class hc extends ll{constructor(z){super("phone"),this.credential=z}static _fromCredential(z){return new hc(z)}_finalizeEnroll(z,ie,Ye){return function is(Oe,z){return fe(Oe,"POST","/v2/accounts/mfaEnrollment:finalize",Le(Oe,z))}(z,{idToken:ie,displayName:Ye,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(z,ie){return function Lc(Oe,z){return fe(Oe,"POST","/v2/accounts/mfaSignIn:finalize",Le(Oe,z))}(z,{mfaPendingCredential:ie,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ru=(()=>{class Oe{constructor(){}static assertion(ie){return hc._fromCredential(ie)}}return Oe.FACTOR_ID="phone",Oe})();var Fa="@firebase/auth";class Lf{constructor(z){this.auth=z,this.internalListeners=new Map}getUid(){var z;return this.assertAuthConfigured(),(null===(z=this.auth.currentUser)||void 0===z?void 0:z.uid)||null}getToken(z){var ie=this;return(0,e.Z)(function*(){return ie.assertAuthConfigured(),yield ie.auth._initializationPromise,ie.auth.currentUser?{accessToken:yield ie.auth.currentUser.getIdToken(z)}:null})()}addAuthTokenListener(z){if(this.assertAuthConfigured(),this.internalListeners.has(z))return;const ie=this.auth.onIdTokenChanged(Ye=>{z(Ye?.stsTokenManager.accessToken||null)});this.internalListeners.set(z,ie),this.updateProactiveRefresh()}removeAuthTokenListener(z){this.assertAuthConfigured();const ie=this.internalListeners.get(z);ie&&(this.internalListeners.delete(z),ie(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,n.Pz)("authIdTokenMaxAge"),function ss(Oe){(0,E._registerComponent)(new I.wA("auth",(z,{options:ie})=>{const Ye=z.getProvider("app").getImmediate(),Ut=z.getProvider("heartbeat"),qt=z.getProvider("app-check-internal"),{apiKey:On,authDomain:Zn}=Ye.options;ee(On&&!On.includes(":"),"invalid-api-key",{appName:Ye.name});const di={apiKey:On,authDomain:Zn,clientPlatform:Oe,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:un(Oe)},Ci=new Lt(Ye,Ut,qt,di);return function Dt(Oe,z){const ie=z?.persistence||[],Ye=(Array.isArray(ie)?ie:[ie]).map(gt);z?.errorMap&&Oe._updateErrorMap(z.errorMap),Oe._initializeWithPersistence(Ye,z?.popupRedirectResolver)}(Ci,ie),Ci},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((z,ie,Ye)=>{z.getProvider("auth-internal").initialize()})),(0,E._registerComponent)(new I.wA("auth-internal",z=>{const ie=Sn(z.getProvider("auth").getImmediate());return new Lf(ie)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,E.registerVersion)(Fa,"0.23.2",function cl(Oe){switch(Oe){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Oe)),(0,E.registerVersion)(Fa,"0.23.2","esm2017")}("Browser")},9058:(Bn,et,v)=>{"use strict";v.d(et,{$s:()=>gt,BH:()=>M,L:()=>o,LL:()=>we,Pz:()=>O,UG:()=>ae,US:()=>I,ZB:()=>m,ZR:()=>fe,aH:()=>C,b$:()=>le,eu:()=>ge,hl:()=>Ge,jU:()=>Ae,m9:()=>ke,ne:()=>Ne,pd:()=>Ee,r3:()=>pe,ru:()=>j,tV:()=>d,uI:()=>ee,vZ:()=>$,w1:()=>ve,xO:()=>q,xb:()=>Q,z$:()=>Z,zI:()=>Ce,zd:()=>me});const A=function(it){const ot=[];let ft=0;for(let mt=0;mt<it.length;mt++){let Et=it.charCodeAt(mt);Et<128?ot[ft++]=Et:Et<2048?(ot[ft++]=Et>>6|192,ot[ft++]=63&Et|128):55296==(64512&Et)&&mt+1<it.length&&56320==(64512&it.charCodeAt(mt+1))?(Et=65536+((1023&Et)<<10)+(1023&it.charCodeAt(++mt)),ot[ft++]=Et>>18|240,ot[ft++]=Et>>12&63|128,ot[ft++]=Et>>6&63|128,ot[ft++]=63&Et|128):(ot[ft++]=Et>>12|224,ot[ft++]=Et>>6&63|128,ot[ft++]=63&Et|128)}return ot},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(it,ot){if(!Array.isArray(it))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ft=ot?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let Et=0;Et<it.length;Et+=3){const Qt=it[Et],fn=Et+1<it.length,Jt=fn?it[Et+1]:0,pn=Et+2<it.length,Tn=pn?it[Et+2]:0;let Kn=(15&Jt)<<2|Tn>>6,dn=63&Tn;pn||(dn=64,fn||(Kn=64)),mt.push(ft[Qt>>2],ft[(3&Qt)<<4|Jt>>4],ft[Kn],ft[dn])}return mt.join("")},encodeString(it,ot){return this.HAS_NATIVE_SUPPORT&&!ot?btoa(it):this.encodeByteArray(A(it),ot)},decodeString(it,ot){return this.HAS_NATIVE_SUPPORT&&!ot?atob(it):function(it){const ot=[];let ft=0,mt=0;for(;ft<it.length;){const Et=it[ft++];if(Et<128)ot[mt++]=String.fromCharCode(Et);else if(Et>191&&Et<224){const Qt=it[ft++];ot[mt++]=String.fromCharCode((31&Et)<<6|63&Qt)}else if(Et>239&&Et<365){const pn=((7&Et)<<18|(63&it[ft++])<<12|(63&it[ft++])<<6|63&it[ft++])-65536;ot[mt++]=String.fromCharCode(55296+(pn>>10)),ot[mt++]=String.fromCharCode(56320+(1023&pn))}else{const Qt=it[ft++],fn=it[ft++];ot[mt++]=String.fromCharCode((15&Et)<<12|(63&Qt)<<6|63&fn)}}return ot.join("")}(this.decodeStringToByteArray(it,ot))},decodeStringToByteArray(it,ot){this.init_();const ft=ot?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let Et=0;Et<it.length;){const Qt=ft[it.charAt(Et++)],Jt=Et<it.length?ft[it.charAt(Et)]:0;++Et;const Tn=Et<it.length?ft[it.charAt(Et)]:64;++Et;const Fn=Et<it.length?ft[it.charAt(Et)]:64;if(++Et,null==Qt||null==Jt||null==Tn||null==Fn)throw new w;mt.push(Qt<<2|Jt>>4),64!==Tn&&(mt.push(Jt<<4&240|Tn>>2),64!==Fn&&mt.push(Tn<<6&192|Fn))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let it=0;it<this.ENCODED_VALS.length;it++)this.byteToCharMap_[it]=this.ENCODED_VALS.charAt(it),this.charToByteMap_[this.byteToCharMap_[it]]=it,this.byteToCharMapWebSafe_[it]=this.ENCODED_VALS_WEBSAFE.charAt(it),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[it]]=it,it>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(it)]=it,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(it)]=it)}}};class w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(it){return function(it){const ot=A(it);return I.encodeByteArray(ot,!0)}(it).replace(/\./g,"")},d=function(it){try{return I.decodeString(it,!0)}catch(ot){console.error("base64Decode failed: ",ot)}return null};function m(it,ot){if(!(ot instanceof Object))return ot;switch(ot.constructor){case Date:return new Date(ot.getTime());case Object:void 0===it&&(it={});break;case Array:it=[];break;default:return ot}for(const ft in ot)!ot.hasOwnProperty(ft)||!y(ft)||(it[ft]=m(it[ft],ot[ft]));return it}function y(it){return"__proto__"!==it}const R=()=>{try{return function k(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const it=process.env.__FIREBASE_DEFAULTS__;return it?JSON.parse(it):void 0})()||(()=>{if(typeof document>"u")return;let it;try{it=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ot=it&&d(it[1]);return ot&&JSON.parse(ot)})()}catch(it){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${it}`)}},C=()=>{var it;return null===(it=R())||void 0===it?void 0:it.config},O=it=>{var ot;return null===(ot=R())||void 0===ot?void 0:ot[`_${it}`]};class M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ot,ft)=>{this.resolve=ot,this.reject=ft})}wrapCallback(ot){return(ft,mt)=>{ft?this.reject(ft):this.resolve(mt),"function"==typeof ot&&(this.promise.catch(()=>{}),1===ot.length?ot(ft):ot(ft,mt))}}}function Z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function ae(){var it;const ot=null===(it=R())||void 0===it?void 0:it.forceEnvironment;if("node"===ot)return!0;if("browser"===ot)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ae(){return"object"==typeof self&&self.self===self}function j(){const it="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof it&&void 0!==it.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const it=Z();return it.indexOf("MSIE ")>=0||it.indexOf("Trident/")>=0}function Ge(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((it,ot)=>{try{let ft=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",Et=self.indexedDB.open(mt);Et.onsuccess=()=>{Et.result.close(),ft||self.indexedDB.deleteDatabase(mt),it(!0)},Et.onupgradeneeded=()=>{ft=!1},Et.onerror=()=>{var Qt;ot((null===(Qt=Et.error)||void 0===Qt?void 0:Qt.message)||"")}}catch(ft){ot(ft)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fe extends Error{constructor(ot,ft,mt){super(ft),this.code=ot,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(ot,ft,mt){this.service=ot,this.serviceName=ft,this.errors=mt}create(ot,...ft){const mt=ft[0]||{},Et=`${this.service}/${ot}`,Qt=this.errors[ot],fn=Qt?function Te(it,ot){return it.replace(De,(ft,mt)=>{const Et=ot[mt];return null!=Et?String(Et):`<${mt}?>`})}(Qt,mt):"Error";return new fe(Et,`${this.serviceName}: ${fn} (${Et}).`,mt)}}const De=/\{\$([^}]+)}/g;function pe(it,ot){return Object.prototype.hasOwnProperty.call(it,ot)}function Q(it){for(const ot in it)if(Object.prototype.hasOwnProperty.call(it,ot))return!1;return!0}function $(it,ot){if(it===ot)return!0;const ft=Object.keys(it),mt=Object.keys(ot);for(const Et of ft){if(!mt.includes(Et))return!1;const Qt=it[Et],fn=ot[Et];if(ne(Qt)&&ne(fn)){if(!$(Qt,fn))return!1}else if(Qt!==fn)return!1}for(const Et of mt)if(!ft.includes(Et))return!1;return!0}function ne(it){return null!==it&&"object"==typeof it}function q(it){const ot=[];for(const[ft,mt]of Object.entries(it))Array.isArray(mt)?mt.forEach(Et=>{ot.push(encodeURIComponent(ft)+"="+encodeURIComponent(Et))}):ot.push(encodeURIComponent(ft)+"="+encodeURIComponent(mt));return ot.length?"&"+ot.join("&"):""}function me(it){const ot={};return it.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[Et,Qt]=mt.split("=");ot[decodeURIComponent(Et)]=decodeURIComponent(Qt)}}),ot}function Ee(it){const ot=it.indexOf("?");if(!ot)return"";const ft=it.indexOf("#",ot);return it.substring(ot,ft>0?ft:void 0)}function Ne(it,ot){const ft=new tt(it,ot);return ft.subscribe.bind(ft)}class tt{constructor(ot,ft){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ft,this.task.then(()=>{ot(this)}).catch(mt=>{this.error(mt)})}next(ot){this.forEachObserver(ft=>{ft.next(ot)})}error(ot){this.forEachObserver(ft=>{ft.error(ot)}),this.close(ot)}complete(){this.forEachObserver(ot=>{ot.complete()}),this.close()}subscribe(ot,ft,mt){let Et;if(void 0===ot&&void 0===ft&&void 0===mt)throw new Error("Missing Observer.");Et=function Xe(it,ot){if("object"!=typeof it||null===it)return!1;for(const ft of ot)if(ft in it&&"function"==typeof it[ft])return!0;return!1}(ot,["next","error","complete"])?ot:{next:ot,error:ft,complete:mt},void 0===Et.next&&(Et.next=ut),void 0===Et.error&&(Et.error=ut),void 0===Et.complete&&(Et.complete=ut);const Qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Et.error(this.finalError):Et.complete()}catch{}}),this.observers.push(Et),Qt}unsubscribeOne(ot){void 0===this.observers||void 0===this.observers[ot]||(delete this.observers[ot],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ot){if(!this.finalized)for(let ft=0;ft<this.observers.length;ft++)this.sendOne(ft,ot)}sendOne(ot,ft){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ot])try{ft(this.observers[ot])}catch(mt){typeof console<"u"&&console.error&&console.error(mt)}})}close(ot){this.finalized||(this.finalized=!0,void 0!==ot&&(this.finalError=ot),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ut(){}const Yt=1e3,cn=2,nn=144e5,Mt=.5;function gt(it,ot=Yt,ft=cn){const mt=ot*Math.pow(ft,it),Et=Math.round(Mt*mt*(Math.random()-.5)*2);return Math.min(nn,mt+Et)}function ke(it){return it&&it._delegate?it._delegate:it}},2392:(Bn,et,v)=>{"use strict";v.d(et,{E:()=>I});var e=v(5879),n=v(5612),E=v(9397),A=v(1270),_=v(1367);const I=(w,g)=>{const o=(0,e.f3M)(n.F0),d=(0,e.f3M)(_.g),u=(0,e.f3M)(A.K);return null!=localStorage.getItem("apiToken")?!!u.calledGetUserData||u.isCompletedCallGetUserData().pipe((0,E.b)(m=>null!=d.userData||o.navigateByUrl("/landing"))):o.navigateByUrl("/landing")}},9857:(Bn,et,v)=>{"use strict";v.d(et,{a:()=>A});var e=v(863),n=v(5879),E=v(9429);let A=(()=>{class _{constructor(w){this.restProvider=w}getDetailsByCatalogId(w){return new Promise((g,o)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetDetailsByCatalogAsync/"+w).then(d=>{g(d)},d=>{o(d)})})}getAllCatalogDetailsByCatalogIds(w){return new Promise((g,o)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+w).then(d=>{g(d)},d=>{o(d)})})}static#e=this.\u0275fac=function(g){return new(g||_)(n.LFG(E.C))};static#t=this.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7983:(Bn,et,v)=>{"use strict";v.d(et,{o:()=>fe});var e=v(1476),n=v(7700),E=v(8923),A=v(2877),_=v(5313),I=v(3566),w=v(9604);class g{}var o=v(95),d=v(5550),u=v(5879),m=v(3946),y=v(3931),k=v(2067),P=v(5220),B=v(6814),F=v(2032),R=v(4170);function D(we,Te){1&we&&(u.TgZ(0,"mat-error"),u._uU(1," Nombre es "),u.TgZ(2,"strong"),u._uU(3,"requerido"),u.qZA()())}function T(we,Te){if(1&we){const De=u.EpF();u.TgZ(0,"form",1),u.NdJ("ngSubmit",function(){u.CHM(De);const lt=u.oxw();return u.KtG(lt.saveItem())}),u.TgZ(1,"div",2)(2,"h5",3),u._uU(3),u.qZA(),u.TgZ(4,"button",4),u.NdJ("click",function(){u.CHM(De);const lt=u.oxw();return u.KtG(lt.closeModal())}),u._UZ(5,"i",5),u.qZA()(),u.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),u._uU(9,"Nombre"),u.qZA(),u._UZ(10,"input",7),u.YNc(11,D,4,0,"mat-error",8),u.qZA()(),u.TgZ(12,"div",9)(13,"button",10),u.NdJ("click",function(){u.CHM(De);const lt=u.oxw();return u.KtG(lt.closeModal())}),u._uU(14,"Close"),u.qZA(),u.TgZ(15,"button",11),u._uU(16,"Guardar"),u.qZA()()(),u._UZ(17,"app-custom-spinner",12)}if(2&we){const De=u.oxw();u.Q6J("formGroup",De.genreFormGroup),u.xp6(3),u.Oqu(De.genre&&De.genre.Id>0?"Editar":"Nuevo"),u.xp6(7),u.Q6J("errorStateMatcher",De.matcher),u.xp6(1),u.Q6J("ngIf",De.genreFormGroup.controls.name.hasError("required")),u.xp6(4),u.Q6J("disabled",De.showLoading||!De.genreFormGroup.valid),u.xp6(2),u.Q6J("showLoading",De.showLoading)}}let C=(()=>{class we{constructor(De,Ue,lt,He){this.formBuilder=De,this.activeModal=Ue,this.snackbarService=lt,this.genreService=He,this.showLoading=!1,this.matcher=new d.n}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new o.NI(this.genre.Name,[o.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var De=JSON.parse(JSON.stringify(this.genre));De.Name=this.genreFormGroup.value.name,this.genreService.saveItem(De).then(Ue=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",w.dA.Success),this.activeModal.close()},Ue=>{this.showLoading=!1,console.error(Ue)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Ue){return new(Ue||we)(u.Y36(o.qu),u.Y36(m.Kz),u.Y36(y.c),u.Y36(k.c))};static#t=this.\u0275cmp=u.Xpm({type:we,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Ue,lt){1&Ue&&u.YNc(0,T,18,6,"ng-template",0),2&Ue&&u.Q6J("ngIf",null!=lt.genre&&lt.genreFormGroup)},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,P.D,B.O5,F.Nt,R.KE,R.hX,R.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return we})();var O=v(5986),M=v(5940),G=v(2596);function Z(we,Te){1&we&&(u.TgZ(0,"div",32),u._UZ(1,"mat-spinner"),u.qZA())}function ee(we,Te){if(1&we){const De=u.EpF();u.TgZ(0,"th",33)(1,"mat-checkbox",34),u.NdJ("change",function(lt){u.CHM(De);const He=u.oxw();return u.KtG(lt?He.toggleAllRows():null)}),u.qZA()()}if(2&we){const De=u.oxw();u.xp6(1),u.Q6J("checked",De.selection.hasValue()&&De.isAllSelected())("indeterminate",De.selection.hasValue()&&!De.isAllSelected())}}function ae(we,Te){if(1&we){const De=u.EpF();u.TgZ(0,"td",35)(1,"mat-checkbox",36),u.NdJ("click",function(lt){const be=u.CHM(De).$implicit,_e=u.oxw();return u.KtG(_e.onChangeCheckValue(lt,be))}),u.qZA()()}if(2&we){const De=Te.$implicit,Ue=u.oxw();u.xp6(1),u.Q6J("checked",Ue.selection.isSelected(De))}}function Ae(we,Te){1&we&&(u.TgZ(0,"th",37),u._uU(1,"N\xb0"),u.qZA())}function j(we,Te){if(1&we&&(u.TgZ(0,"td",38),u._uU(1),u.qZA()),2&we){const De=Te.index,Ue=u.oxw();u.xp6(1),u.hij(" ",Ue.getElementNumber(De,Ue.currentPage,Ue.itemsPerPage),"")}}function le(we,Te){1&we&&(u.TgZ(0,"th",39),u._uU(1," Nombre "),u.qZA())}function Y(we,Te){if(1&we&&(u.TgZ(0,"td",40),u._uU(1),u.qZA()),2&we){const De=Te.$implicit;u.xp6(1),u.hij(" ",De.Name," ")}}function ve(we,Te){1&we&&u._UZ(0,"th",41)}function de(we,Te){if(1&we){const De=u.EpF();u.TgZ(0,"td",42)(1,"div",43)(2,"button",44),u.NdJ("click",function(){const He=u.CHM(De).$implicit,be=u.oxw();return u.KtG(be.editItem(He))}),u._UZ(3,"i",45),u.qZA(),u.TgZ(4,"button",46),u.NdJ("click",function(){const He=u.CHM(De).$implicit,be=u.oxw();return u.KtG(be.deleteItem(He))}),u._UZ(5,"i",7),u.qZA()()()}}function Se(we,Te){1&we&&u._UZ(0,"tr",47)}function xe(we,Te){1&we&&u._UZ(0,"tr",48)}function Ge(we,Te){1&we&&(u.TgZ(0,"td",51),u._uU(1,"No se encontraron datos"),u.qZA())}function ge(we,Te){if(1&we&&(u.TgZ(0,"tr",49),u.YNc(1,Ge,2,0,"td",50),u.qZA()),2&we){const De=u.oxw();u.xp6(1),u.Q6J("ngIf",!De.showLoading)}}const Ce=function(we){return{disable:we}},Le=function(){return[5,10,25,100]};let fe=(()=>{class we extends A.G{constructor(De,Ue,lt,He,be){super(lt),this.modalService=De,this.dialog=Ue,this.matPaginatorIntl=lt,this.snackbarService=He,this.genreService=be,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(De=>{this.updatePageData(De),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(De=>{this.currentPage=1,this.sortBy=De.active,this.sortDirection=De.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(De){this.searchText=De.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var De=new g;this.showModalForm(De)}editItem(De){this.showModalForm(De)}showModalForm(De){var Ue=this,lt=this.modalService.open(C,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});lt.componentInstance.genre=De,lt.closed.subscribe(He=>{Ue.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(De=>{this.showLoading=!1;var Ue=De.Data;this.totalCount=De.TotalCount,this.listItems=Ue,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},De=>{this.showLoading=!1})}deleteItem(De){var Ue=new n.vA;Ue.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+De.Name+"?",accordMessage:"Si, eliminar el rol '"+De.Name+"'"},this.dialog.open(E.k,Ue).afterClosed().subscribe(lt=>{lt&&this.executeDeleteItem(De)})}executeDeleteItem(De){this.showLoading=!0,this.genreService.deleteItem(De.Id).then(Ue=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},Ue=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ue,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var De=new n.vA;De.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(E.k,De).afterClosed().subscribe(Ue=>{Ue&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(De=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},De=>{this.showLoading=!1,this.snackbarService.showSnackBar(De,w.dA.Error)})}static#e=this.\u0275fac=function(Ue){return new(Ue||we)(u.Y36(m.FF),u.Y36(n.uw),u.Y36(e.ye),u.Y36(y.c),u.Y36(k.c))};static#t=this.\u0275cmp=u.Xpm({type:we,selectors:[["app-genre-list"]],viewQuery:function(Ue,lt){if(1&Ue&&(u.Gf(e.NW,5),u.Gf(I.YE,5)),2&Ue){let He;u.iGM(He=u.CRH())&&(lt.paginator=He.first),u.iGM(He=u.CRH())&&(lt.sort=He.first)}},features:[u.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Ue,lt){1&Ue&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),u._uU(3," G\xe9neros"),u.qZA()(),u.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),u.NdJ("click",function(){return lt.showNewItem()}),u._UZ(8,"i",5),u.qZA(),u.TgZ(9,"button",6),u.NdJ("click",function(){return lt.deleteSelectedItems()}),u._UZ(10,"i",7),u.qZA()(),u._UZ(11,"div",8),u.qZA(),u.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),u._uU(16,"Buscar"),u.qZA(),u.TgZ(17,"input",10,11),u.NdJ("keyup",function(be){return lt.applyFilter(be)}),u.qZA()(),u.TgZ(19,"div",12),u.YNc(20,Z,2,0,"div",13),u.TgZ(21,"div",14)(22,"table",15),u.ynx(23,16),u.YNc(24,ee,2,2,"th",17),u.YNc(25,ae,2,1,"td",18),u.BQk(),u.ynx(26,19),u.YNc(27,Ae,2,0,"th",20),u.YNc(28,j,2,1,"td",21),u.BQk(),u.ynx(29,22),u.YNc(30,le,2,0,"th",23),u.YNc(31,Y,2,1,"td",24),u.BQk(),u.ynx(32,25),u.YNc(33,ve,1,0,"th",26),u.YNc(34,de,6,0,"td",27),u.BQk(),u.YNc(35,Se,1,0,"tr",28),u.YNc(36,xe,1,0,"tr",29),u.YNc(37,ge,2,1,"tr",30),u.qZA()()()()(),u.TgZ(38,"div",1)(39,"div",9),u._UZ(40,"mat-paginator",31),u.qZA()()()()),2&Ue&&(u.xp6(9),u.Q6J("ngClass",u.VKq(7,Ce,!lt.selection.hasValue())),u.xp6(11),u.Q6J("ngIf",lt.showLoading),u.xp6(2),u.Q6J("dataSource",lt.dataSource),u.xp6(13),u.Q6J("matHeaderRowDef",lt.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",lt.displayedColumns),u.xp6(4),u.Q6J("color","primary")("pageSizeOptions",u.DdM(9,Le)))},dependencies:[B.mk,B.O5,e.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,F.Nt,R.KE,R.hX,I.YE,I.nU,O.oG,M.Ou,G.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return we})()},298:(Bn,et,v)=>{"use strict";v.d(et,{I:()=>w});var e=v(5879),n=v(3946),E=v(6814),A=v(5986);function _(g,o){if(1&g){const d=e.EpF();e.TgZ(0,"p")(1,"mat-checkbox",10),e.NdJ("click",function(m){const k=e.CHM(d).$implicit,P=e.oxw(2);return e.KtG(P.onChangeCheckValue(m,k))}),e._uU(2),e.qZA()()}if(2&g){const d=o.$implicit,u=e.oxw(2);e.xp6(1),e.Q6J("checked",u.selection.isSelected(d)),e.xp6(1),e.Oqu(d.Name)}}function I(g,o){if(1&g){const d=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(d);const m=e.oxw();return e.KtG(m.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,_,3,2,"ng-template",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(d);const m=e.oxw();return e.KtG(m.closeModal())}),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(d);const m=e.oxw();return e.KtG(m.onSaveSelection())}),e._uU(11,"Guardar"),e.qZA()()}if(2&g){const d=e.oxw();e.xp6(2),e.Oqu("G\xe9neros"),e.xp6(4),e.Q6J("ngForOf",d.listAllGenres)}}let w=(()=>{class g{constructor(d){this.activeModal=d}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(d,u){d.target.checked?this.selection.select(u):this.selection.deselect(u)}static#e=this.\u0275fac=function(u){return new(u||g)(e.Y36(n.Kz))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(u,m){1&u&&(e.YNc(0,I,12,2,"ng-template",0),e._uU(1," <\n")),2&u&&e.Q6J("ngIf",null!=m.listAllGenres)},dependencies:[E.sg,E.O5,A.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return g})()},2067:(Bn,et,v)=>{"use strict";v.d(et,{c:()=>_});var e=v(863),n=v(2372),E=v(5879),A=v(9429);let _=(()=>{class I{constructor(g){this.restProvider=g}getAllGenres(){return new Promise((g,o)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllAsync").then(d=>{g(d)},d=>{console.error(d),o(d)})})}getItems(g,o,d,u,m,y){return new Promise((k,P)=>{let B=(0,n.Z)();this.lastCallGuid=B;var F="?page="+g.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+u+"&searchText="+m+"&searchBy="+y;this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllWithPaginationAsync"+F).then(D=>{this.lastCallGuid==B&&k(D)},D=>{console.error(D),P(D)})})}saveItem(g){return new Promise((o,d)=>{this.restProvider.executeSinovadApiService(g.Id>0?e.yw.PUT:e.yw.POST,g.Id>0?"/genres/Update":"/genres/Create",g).then(y=>{o(!0)},y=>{console.error(y),d(y)})})}deleteItem(g){return new Promise((o,d)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/Delete/"+g).then(m=>{o(m)},m=>{console.error(m),d(m)})})}deleteItems(g){return new Promise((o,d)=>{let u=[];for(let k=0;k<g.length;k++)u.push(g[k].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/DeleteList/"+m).then(k=>{o(k)},k=>{console.error(k),d(k)})})}static#e=this.\u0275fac=function(o){return new(o||I)(E.LFG(A.C))};static#t=this.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},7591:(Bn,et,v)=>{"use strict";v.d(et,{U:()=>re});var e=v(2877),n=v(1476),E=v(3566),A=v(7700),_=v(5313),I=v(8923),w=v(9604),g=v(3826),o=v(863),d=v(95),u=v(5550),m=v(5879),y=v(9857),k=v(3946),P=v(3931),B=v(5864),F=v(5220),R=v(6814),D=v(2032),T=v(4170),C=v(5986),O=v(3680),M=v(8525);function G(Q,X){1&Q&&(m.TgZ(0,"mat-error"),m._uU(1," T\xedtulo es "),m.TgZ(2,"strong"),m._uU(3,"requerido"),m.qZA()())}function Z(Q,X){if(1&Q&&(m.TgZ(0,"mat-option",12),m._uU(1),m.qZA()),2&Q){const $=X.$implicit;m.Q6J("value",$.Id),m.xp6(1),m.hij(" ",$.Name," ")}}function ee(Q,X){if(1&Q&&(m.TgZ(0,"mat-option",12),m._uU(1),m.qZA()),2&Q){const $=X.$implicit;m.Q6J("value",$.Id),m.xp6(1),m.hij(" ",$.Title," ")}}function ae(Q,X){if(1&Q){const $=m.EpF();m.TgZ(0,"form",1),m.NdJ("ngSubmit",function(){m.CHM($);const J=m.oxw();return m.KtG(J.saveItem())}),m.TgZ(1,"div",2)(2,"h5",3),m._uU(3),m.qZA(),m.TgZ(4,"button",4),m.NdJ("click",function(){m.CHM($);const J=m.oxw();return m.KtG(J.closeModal())}),m._UZ(5,"i",5),m.qZA()(),m.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),m._uU(9,"T\xedtulo"),m.qZA(),m._UZ(10,"input",7),m.YNc(11,G,4,0,"mat-error",8),m.qZA(),m.TgZ(12,"mat-form-field")(13,"mat-label"),m._uU(14,"Path"),m.qZA(),m._UZ(15,"input",9),m.qZA(),m.TgZ(16,"mat-form-field")(17,"mat-label"),m._uU(18,"N\xfamero de Orden"),m.qZA(),m._UZ(19,"input",10),m.qZA(),m.TgZ(20,"mat-form-field")(21,"mat-label"),m._uU(22,"Tipo de \xcdcono"),m.qZA(),m.TgZ(23,"mat-select",11)(24,"mat-option",12),m._uU(25,"--"),m.qZA(),m.YNc(26,Z,2,2,"mat-option",13),m.qZA()(),m.TgZ(27,"mat-form-field")(28,"mat-label"),m._uU(29,"Icon Class"),m.qZA(),m._UZ(30,"input",14),m.qZA(),m.TgZ(31,"mat-form-field")(32,"mat-label"),m._uU(33,"Menu Padre"),m.qZA(),m.TgZ(34,"mat-select",15)(35,"mat-option",12),m._uU(36,"--"),m.qZA(),m.YNc(37,ee,2,2,"mat-option",13),m.qZA()(),m.TgZ(38,"mat-checkbox",16),m._uU(39,"Activo"),m.qZA()(),m.TgZ(40,"div",17)(41,"button",18),m.NdJ("click",function(){m.CHM($);const J=m.oxw();return m.KtG(J.closeModal())}),m._uU(42,"Cerrar"),m.qZA(),m.TgZ(43,"button",19),m._uU(44,"Guardar"),m.qZA()()(),m._UZ(45,"app-custom-spinner",20)}if(2&Q){const $=m.oxw();m.Q6J("formGroup",$.menuFormGroup),m.xp6(3),m.Oqu($.menu.Id>0?"Editar":"Nuevo"),m.xp6(7),m.Q6J("errorStateMatcher",$.matcher),m.xp6(1),m.Q6J("ngIf",$.menuFormGroup.controls.title.hasError("required")),m.xp6(13),m.Q6J("value",void 0),m.xp6(2),m.Q6J("ngForOf",$.listIconTypes),m.xp6(9),m.Q6J("value",void 0),m.xp6(2),m.Q6J("ngForOf",$.listMenusSelectable),m.xp6(6),m.Q6J("disabled",$.showLoading||!$.menuFormGroup.valid),m.xp6(2),m.Q6J("showLoading",$.showLoading)}}let Ae=(()=>{class Q{constructor($,ne,J,q,me){this.catalogService=$,this.formBuilder=ne,this.activeModal=J,this.snackbarService=q,this.menuService=me,this.showLoading=!1,this.matcher=new u.n}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then($=>{this.listMenusSelectable=$.Data.filter(J=>J.Id!=this.menu.Id)},$=>{console.error($)})}getIconTypes(){this.catalogService.getDetailsByCatalogId(o.P9.IconTypes).then($=>{this.listIconTypes=$.Data},$=>{console.error($)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new d.NI(this.menu.Title,[d.kI.required]),path:new d.NI(this.menu.Path),iconType:new d.NI(this.menu.IconTypeCatalogDetailId),iconClass:new d.NI(this.menu.IconClass),sortOrder:new d.NI(this.menu.SortOrder),parentId:new d.NI(this.menu.ParentId),enabled:new d.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var $=JSON.parse(JSON.stringify(this.menu));$.Title=this.menuFormGroup.value.title,$.Path=this.menuFormGroup.value.path,$.IconClass=this.menuFormGroup.value.iconClass,$.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?($.IconTypeCatalogId=o.P9.IconTypes,$.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):($.IconTypeCatalogId=void 0,$.IconTypeCatalogDetailId=void 0),$.ParentId=this.menuFormGroup.value.parentId,$.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem($).then(ne=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",w.dA.Success),this.menuService.getManageMenu(),this.activeModal.close()},ne=>{this.showLoading=!1,console.error(ne)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(ne){return new(ne||Q)(m.Y36(y.a),m.Y36(d.qu),m.Y36(k.Kz),m.Y36(P.c),m.Y36(B.h))};static#t=this.\u0275cmp=m.Xpm({type:Q,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(ne,J){1&ne&&m.YNc(0,ae,46,10,"ng-template",0),2&ne&&m.Q6J("ngIf",null!=J.menu&&J.menuFormGroup)},dependencies:[d._Y,d.Fj,d.wV,d.JJ,d.JL,d.sg,d.u,F.D,R.sg,R.O5,D.Nt,T.KE,T.hX,T.TO,C.oG,O.ey,M.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return Q})();var j=v(5940),le=v(2596);function Y(Q,X){1&Q&&(m.TgZ(0,"div",41),m._UZ(1,"mat-spinner"),m.qZA())}function ve(Q,X){if(1&Q){const $=m.EpF();m.TgZ(0,"th",42)(1,"mat-checkbox",43),m.NdJ("change",function(J){m.CHM($);const q=m.oxw();return m.KtG(J?q.toggleAllRows():null)}),m.qZA()()}if(2&Q){const $=m.oxw();m.xp6(1),m.Q6J("checked",$.selection.hasValue()&&$.isAllSelected())("indeterminate",$.selection.hasValue()&&!$.isAllSelected())}}function de(Q,X){if(1&Q){const $=m.EpF();m.TgZ(0,"td",44)(1,"mat-checkbox",45),m.NdJ("click",function(J){const me=m.CHM($).$implicit,Ee=m.oxw();return m.KtG(Ee.onChangeCheckValue(J,me))}),m.qZA()()}if(2&Q){const $=X.$implicit,ne=m.oxw();m.xp6(1),m.Q6J("checked",ne.selection.isSelected($))}}function Se(Q,X){1&Q&&(m.TgZ(0,"th",46),m._uU(1,"N\xb0"),m.qZA())}function xe(Q,X){if(1&Q&&(m.TgZ(0,"td",47),m._uU(1),m.qZA()),2&Q){const $=X.index,ne=m.oxw();m.xp6(1),m.hij(" ",ne.getElementNumber($,ne.currentPage,ne.itemsPerPage),"")}}function Ge(Q,X){1&Q&&(m.TgZ(0,"th",48),m._uU(1,"T\xedtulo"),m.qZA())}function ge(Q,X){if(1&Q&&(m.TgZ(0,"td",49),m._uU(1),m.qZA()),2&Q){const $=X.$implicit;m.xp6(1),m.hij(" ",$.Title," ")}}function Ce(Q,X){1&Q&&(m.TgZ(0,"th",50),m._uU(1,"Path"),m.qZA())}function Le(Q,X){if(1&Q&&(m.TgZ(0,"td",51),m._uU(1),m.qZA()),2&Q){const $=X.$implicit;m.xp6(1),m.hij(" ",$.Path," ")}}function fe(Q,X){1&Q&&(m.TgZ(0,"th",52),m._uU(1,"\xcdcono"),m.qZA())}function we(Q,X){if(1&Q&&(m.TgZ(0,"td",53),m._uU(1),m.qZA()),2&Q){const $=X.$implicit;m.xp6(1),m.hij(" ",$.IconClass," ")}}function Te(Q,X){1&Q&&(m.TgZ(0,"th",54),m._uU(1,"Orden"),m.qZA())}function De(Q,X){if(1&Q&&(m.TgZ(0,"td",55),m._uU(1),m.qZA()),2&Q){const $=X.$implicit;m.xp6(1),m.hij(" ",$.SortOrder," ")}}function Ue(Q,X){1&Q&&m._UZ(0,"th",56)}function lt(Q,X){if(1&Q){const $=m.EpF();m.TgZ(0,"td",57)(1,"div",58)(2,"button",59),m.NdJ("click",function(){const q=m.CHM($).$implicit,me=m.oxw();return m.KtG(me.editItem(q))}),m._UZ(3,"i",60),m.qZA(),m.TgZ(4,"button",61),m.NdJ("click",function(){const q=m.CHM($).$implicit,me=m.oxw();return m.KtG(me.deleteItem(q))}),m._UZ(5,"i",7),m.qZA()()()}}function He(Q,X){1&Q&&m._UZ(0,"tr",62)}function be(Q,X){1&Q&&m._UZ(0,"tr",63)}function _e(Q,X){1&Q&&(m.TgZ(0,"td",66),m._uU(1,"No se encontraron datos"),m.qZA())}function K(Q,X){if(1&Q&&(m.TgZ(0,"tr",64),m.YNc(1,_e,2,0,"td",65),m.qZA()),2&Q){const $=m.oxw();m.xp6(1),m.Q6J("ngIf",!$.showLoading)}}const oe=function(Q){return{disable:Q}},pe=function(){return[5,10,25,100]};let re=(()=>{class Q extends e.G{constructor($,ne,J,q,me){super(J),this.modalService=$,this.dialog=ne,this.matPaginatorIntl=J,this.snackbarService=q,this.menuService=me}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe($=>{this.updatePageData($),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe($=>{this.currentPage=1,this.sortBy=$.active,this.sortDirection=$.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter($){this.searchText=$.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var $=new g.v;$.Enabled=!0,this.showModalForm($)}editItem($){this.showModalForm($)}showModalForm($){var ne=this,J=this.modalService.open(Ae,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});J.componentInstance.menu=$,J.closed.subscribe(q=>{ne.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then($=>{this.showLoading=!1;var ne=$.Data;this.totalCount=$.TotalCount,this.listItems=ne,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},$=>{this.showLoading=!1})}deleteItem($){var ne=new A.vA;ne.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+$.Title+"?",accordMessage:"Si, eliminar el menu '"+$.Title+"'"},this.dialog.open(I.k,ne).afterClosed().subscribe(J=>{J&&this.executeDeleteItem($)})}executeDeleteItem($){this.showLoading=!0,this.menuService.deleteItem($.Id).then(ne=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ne=>{this.showLoading=!1,this.snackbarService.showSnackBar(ne,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var $=new A.vA;$.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,$).afterClosed().subscribe(ne=>{ne&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then($=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},$=>{this.showLoading=!1,this.snackbarService.showSnackBar($,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(ne){return new(ne||Q)(m.Y36(k.FF),m.Y36(A.uw),m.Y36(n.ye),m.Y36(P.c),m.Y36(B.h))};static#t=this.\u0275cmp=m.Xpm({type:Q,selectors:[["app-menu-list"]],viewQuery:function(ne,J){if(1&ne&&(m.Gf(n.NW,5),m.Gf(E.YE,5)),2&ne){let q;m.iGM(q=m.CRH())&&(J.paginator=q.first),m.iGM(q=m.CRH())&&(J.sort=q.first)}},features:[m.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ne,J){1&ne&&(m.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),m._uU(3,"Menus"),m.qZA()(),m.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),m.NdJ("click",function(){return J.showNewItem()}),m._UZ(8,"i",5),m.qZA(),m.TgZ(9,"button",6),m.NdJ("click",function(){return J.deleteSelectedItems()}),m._UZ(10,"i",7),m.qZA()(),m._UZ(11,"div",8),m.qZA(),m.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),m._uU(16,"Buscar"),m.qZA(),m.TgZ(17,"input",10,11),m.NdJ("keyup",function(me){return J.applyFilter(me)}),m.qZA()(),m.TgZ(19,"div",12),m.YNc(20,Y,2,0,"div",13),m.TgZ(21,"div",14)(22,"table",15),m.ynx(23,16),m.YNc(24,ve,2,2,"th",17),m.YNc(25,de,2,1,"td",18),m.BQk(),m.ynx(26,19),m.YNc(27,Se,2,0,"th",20),m.YNc(28,xe,2,1,"td",21),m.BQk(),m.ynx(29,22),m.YNc(30,Ge,2,0,"th",23),m.YNc(31,ge,2,1,"td",24),m.BQk(),m.ynx(32,25),m.YNc(33,Ce,2,0,"th",26),m.YNc(34,Le,2,1,"td",27),m.BQk(),m.ynx(35,28),m.YNc(36,fe,2,0,"th",29),m.YNc(37,we,2,1,"td",30),m.BQk(),m.ynx(38,31),m.YNc(39,Te,2,0,"th",32),m.YNc(40,De,2,1,"td",33),m.BQk(),m.ynx(41,34),m.YNc(42,Ue,1,0,"th",35),m.YNc(43,lt,6,0,"td",36),m.BQk(),m.YNc(44,He,1,0,"tr",37),m.YNc(45,be,1,0,"tr",38),m.YNc(46,K,2,1,"tr",39),m.qZA()()()()(),m.TgZ(47,"div",1)(48,"div",9),m._UZ(49,"mat-paginator",40),m.qZA()()()()),2&ne&&(m.xp6(9),m.Q6J("ngClass",m.VKq(7,oe,!J.selection.hasValue())),m.xp6(11),m.Q6J("ngIf",J.showLoading),m.xp6(2),m.Q6J("dataSource",J.dataSource),m.xp6(22),m.Q6J("matHeaderRowDef",J.getDisplayedColumns()),m.xp6(1),m.Q6J("matRowDefColumns",J.getDisplayedColumns()),m.xp6(4),m.Q6J("color","primary")("pageSizeOptions",m.DdM(9,pe)))},dependencies:[R.mk,R.O5,n.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,D.Nt,T.KE,T.hX,E.YE,E.nU,C.oG,j.Ou,le.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Q})()},3826:(Bn,et,v)=>{"use strict";v.d(et,{v:()=>e});class e{}},5864:(Bn,et,v)=>{"use strict";v.d(et,{h:()=>w});var e=v(863),n=v(2372),E=v(8645),A=v(5879),_=v(1367),I=v(9429);let w=(()=>{class g{constructor(d,u){this.sharedDataService=d,this.restProvider=u,this.completedLoadUserManageMenu$=new E.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetByUserAsync/"+this.sharedDataService.userData.Id).then(m=>{this.sharedDataService.manageMenus=m.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,d(!0)},m=>{u(m)})})}getAllMenus(){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllAsync").then(y=>{d(y)},y=>{console.error(y),u(y)})})}getItems(d,u,m,y,k,P){return new Promise((B,F)=>{let R=(0,n.Z)();this.lastCallGuid=R;var D="?page="+d.toString()+"&take="+u.toString()+"&sortBy="+m+"&sortDirection="+y+"&searchText="+k+"&searchBy="+P;this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllWithPaginationAsync"+D).then(C=>{this.lastCallGuid==R&&B(C)},C=>{console.error(C),F(C)})})}saveItem(d){return new Promise((u,m)=>{this.restProvider.executeSinovadApiService(d.Id>0?e.yw.PUT:e.yw.POST,d.Id>0?"/menus/Update":"/menus/Create",d).then(P=>{u(!0)},P=>{console.error(P),m(P)})})}deleteItem(d){return new Promise((u,m)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/Delete/"+d).then(k=>{u(k)},k=>{console.error(k),m(k)})})}deleteItems(d){return new Promise((u,m)=>{let y=[];for(let B=0;B<d.length;B++)y.push(d[B].Id);var k=y.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/DeleteList/"+k).then(B=>{u(B)},B=>{console.error(B),m(B)})})}static#e=this.\u0275fac=function(u){return new(u||g)(A.LFG(_.g),A.LFG(I.C))};static#t=this.\u0275prov=A.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7581:(Bn,et,v)=>{"use strict";v.d(et,{O:()=>X});var e=v(2877),n=v(1476),E=v(3566),A=v(7700),_=v(5313),I=v(8923),w=v(9604);class g{}var o=v(95),d=v(5550),u=v(8337),m=v(298),y=v(5879),k=v(5731),P=v(3946),B=v(2067),F=v(3931),R=v(863),D=v(2372),T=v(9429);let C=(()=>{class ${constructor(J){this.restProvider=J}getMovie(J){return new Promise((q,me)=>{this.restProvider.executeSinovadApiService(R.yw.GET,"/movies/GetAsync/"+J).then(Ee=>{q(Ee)},Ee=>{console.error(Ee),me(Ee)})})}getItems(J,q,me,Ee,ye,Ne){return new Promise((tt,qe)=>{let Xe=(0,D.Z)();this.lastCallGuid=Xe;var ut="?page="+J.toString()+"&take="+q.toString()+"&sortBy="+me+"&sortDirection="+Ee+"&searchText="+ye+"&searchBy="+Ne;this.restProvider.executeSinovadApiService(R.yw.GET,"/movies/GetAllWithPaginationAsync"+ut).then(ht=>{this.lastCallGuid==Xe&&tt(ht)},ht=>{console.error(ht),qe(ht)})})}saveItem(J){return new Promise((q,me)=>{this.restProvider.executeSinovadApiService(J.Id>0?R.yw.PUT:R.yw.POST,J.Id>0?"/movies/Update":"/movies/Create",J).then(Ne=>{q(!0)},Ne=>{console.error(Ne),me(Ne)})})}deleteItem(J){return new Promise((q,me)=>{this.restProvider.executeSinovadApiService(R.yw.DELETE,"/movies/Delete/"+J).then(ye=>{q(ye)},ye=>{console.error(ye),me(ye)})})}deleteItems(J){return new Promise((q,me)=>{let Ee=[];for(let tt=0;tt<J.length;tt++)Ee.push(J[tt].Id);var ye=Ee.join(",");this.restProvider.executeSinovadApiService(R.yw.DELETE,"/movies/DeleteList/"+ye).then(tt=>{q(tt)},tt=>{console.error(tt),me(tt)})})}static#e=this.\u0275fac=function(q){return new(q||$)(y.LFG(T.C))};static#t=this.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();var O=v(5220),M=v(6814),G=v(2032),Z=v(4170),ee=v(8034);function ae($,ne){1&$&&(y.TgZ(0,"mat-error"),y._uU(1," T\xedtulo es "),y.TgZ(2,"strong"),y._uU(3,"requerido"),y.qZA()())}function Ae($,ne){if(1&$){const J=y.EpF();y.TgZ(0,"form",1),y.NdJ("ngSubmit",function(){y.CHM(J);const me=y.oxw();return y.KtG(me.saveItem())}),y.TgZ(1,"div",2)(2,"h5",3),y._uU(3),y.qZA(),y.TgZ(4,"button",4),y.NdJ("click",function(){y.CHM(J);const me=y.oxw();return y.KtG(me.closeModal())}),y._UZ(5,"i",5),y.qZA()(),y.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),y._uU(9,"T\xedtulo"),y.qZA(),y._UZ(10,"input",7),y.YNc(11,ae,4,0,"mat-error",8),y.qZA(),y.TgZ(12,"mat-form-field")(13,"mat-label"),y._uU(14,"Fecha de Lanzamiento"),y.qZA(),y._UZ(15,"input",9),y.TgZ(16,"mat-hint"),y._uU(17,"MM/DD/YYYY"),y.qZA(),y._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),y.qZA(),y.TgZ(21,"mat-form-field")(22,"mat-label"),y._uU(23,"G\xe9neros"),y.qZA(),y.TgZ(24,"textarea",12),y.NdJ("click",function(){y.CHM(J);const me=y.oxw();return y.KtG(me.showGenresSelectionModal())}),y.qZA()(),y.TgZ(25,"mat-form-field")(26,"mat-label"),y._uU(27,"Directores"),y.qZA(),y._UZ(28,"textarea",13),y.qZA(),y.TgZ(29,"mat-form-field")(30,"mat-label"),y._uU(31,"Actores"),y.qZA(),y._UZ(32,"textarea",14),y.qZA(),y.TgZ(33,"mat-form-field")(34,"mat-label"),y._uU(35,"Resumen"),y.qZA(),y._UZ(36,"textarea",15),y.qZA(),y.TgZ(37,"mat-form-field")(38,"mat-label"),y._uU(39,"Im\xe1gen"),y.qZA(),y._UZ(40,"textarea",16),y.qZA()(),y.TgZ(41,"div",17)(42,"button",18),y.NdJ("click",function(){y.CHM(J);const me=y.oxw();return y.KtG(me.closeModal())}),y._uU(43,"Close"),y.qZA(),y.TgZ(44,"button",19),y._uU(45,"Guardar"),y.qZA()()(),y._UZ(46,"app-custom-spinner",20)}if(2&$){const J=y.MAs(20),q=y.oxw();y.Q6J("formGroup",q.movieFormGroup),y.xp6(3),y.Oqu(q.movie.Id>0?"Editar":"Nuevo"),y.xp6(7),y.Q6J("errorStateMatcher",q.matcher),y.xp6(1),y.Q6J("ngIf",q.movieFormGroup.controls.title.hasError("required")),y.xp6(4),y.Q6J("matDatepicker",J),y.xp6(3),y.Q6J("for",J),y.xp6(6),y.Q6J("readonly",!0),y.xp6(20),y.Q6J("disabled",q.showLoading||!q.movieFormGroup.valid),y.xp6(2),y.Q6J("showLoading",q.showLoading)}}let j=(()=>{class ${constructor(J,q,me,Ee,ye,Ne,tt){this.commonService=J,this.modalService=q,this.genreService=me,this.formBuilder=Ee,this.activeModal=ye,this.snackbarService=Ne,this.movieService=tt,this.showLoading=!1,this.matcher=new d.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(J=>{this.listGenres=J.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new o.NI(this.movie.Title,[o.kI.required]),releaseDate:new o.NI(this.commonService.formatDate(this.movie.ReleaseDate)),directors:new o.NI(this.movie.Directors),actors:new o.NI(this.movie.Actors),overview:new o.NI(this.movie.Overview),posterPath:new o.NI(this.movie.PosterPath),selectedGenres:new o.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(J=>{this.movie=J.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var J=JSON.parse(JSON.stringify(this.movie));J.Title=this.movieFormGroup.value.title,J.ReleaseDate=this.movieFormGroup.value.releaseDate,J.Directors=this.movieFormGroup.value.directors,J.Actors=this.movieFormGroup.value.actors,J.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(J).then(q=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",w.dA.Success),this.activeModal.close()},q=>{this.showLoading=!1,console.error(q)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(q=>q.GenreName).join(", "):""}showGenresSelectionModal(){var J=this,q=this.modalService.open(m.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});q.componentInstance.listAllGenres=this.listGenres,q.componentInstance.selection=new u.Ov(!0,this.getMovieGenres()),q.closed.subscribe(me=>{J.setMovieGenres(me)})}getMovieGenres(){var J=this.movie.ListItemGenres.map(q=>q.GenreId);return this.listGenres.filter(q=>-1!=J.indexOf(q.Id))}setMovieGenres(J){var q=[];J.forEach(me=>{q.push({MovieId:this.movie.Id,GenreId:me.Id,GenreName:me.Name})}),this.movie.ListItemGenres=q,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(q){return new(q||$)(y.Y36(k.v),y.Y36(P.FF),y.Y36(B.c),y.Y36(o.qu),y.Y36(P.Kz),y.Y36(F.c),y.Y36(C))};static#t=this.\u0275cmp=y.Xpm({type:$,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(q,me){1&q&&y.YNc(0,Ae,47,9,"ng-template",0),2&q&&y.Q6J("ngIf",null!=me.movie&&me.movieFormGroup)},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,O.D,M.O5,G.Nt,Z.KE,Z.hX,Z.bx,Z.TO,Z.R9,ee.Mq,ee.hl,ee.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return $})();var le=v(5986),Y=v(5940),ve=v(2596);function de($,ne){1&$&&(y.TgZ(0,"div",39),y._UZ(1,"mat-spinner"),y.qZA())}function Se($,ne){if(1&$){const J=y.EpF();y.TgZ(0,"th",40)(1,"mat-checkbox",41),y.NdJ("change",function(me){y.CHM(J);const Ee=y.oxw();return y.KtG(me?Ee.toggleAllRows():null)}),y.qZA()()}if(2&$){const J=y.oxw();y.xp6(1),y.Q6J("checked",J.selection.hasValue()&&J.isAllSelected())("indeterminate",J.selection.hasValue()&&!J.isAllSelected())}}function xe($,ne){if(1&$){const J=y.EpF();y.TgZ(0,"td",42)(1,"mat-checkbox",43),y.NdJ("click",function(me){const ye=y.CHM(J).$implicit,Ne=y.oxw();return y.KtG(Ne.onChangeCheckValue(me,ye))}),y.qZA()()}if(2&$){const J=ne.$implicit,q=y.oxw();y.xp6(1),y.Q6J("checked",q.selection.isSelected(J))}}function Ge($,ne){1&$&&(y.TgZ(0,"th",44),y._uU(1,"N\xb0"),y.qZA())}function ge($,ne){if(1&$&&(y.TgZ(0,"td",45),y._uU(1),y.qZA()),2&$){const J=ne.index,q=y.oxw();y.xp6(1),y.hij(" ",q.getElementNumber(J,q.currentPage,q.itemsPerPage),"")}}function Ce($,ne){1&$&&(y.TgZ(0,"th",46),y._uU(1,"T\xedtulo"),y.qZA())}function Le($,ne){if(1&$&&(y.TgZ(0,"td",47),y._uU(1),y.qZA()),2&$){const J=ne.$implicit;y.xp6(1),y.hij(" ",J.Title," ")}}function fe($,ne){1&$&&(y.TgZ(0,"th",48),y._uU(1,"Fecha"),y.qZA())}function we($,ne){if(1&$&&(y.TgZ(0,"td",49),y._uU(1),y.ALo(2,"date"),y.qZA()),2&$){const J=ne.$implicit;y.xp6(1),y.hij(" ",y.xi3(2,1,J.ReleaseDate,"dd-MM-YYYY ")," ")}}function Te($,ne){1&$&&(y.TgZ(0,"th",50),y._uU(1,"Actores"),y.qZA())}function De($,ne){if(1&$&&(y.TgZ(0,"td",51),y._uU(1),y.qZA()),2&$){const J=ne.$implicit;y.xp6(1),y.hij(" ",J.Actors," ")}}function Ue($,ne){1&$&&(y.TgZ(0,"th",50),y._uU(1,"Directores"),y.qZA())}function lt($,ne){if(1&$&&(y.TgZ(0,"td",51),y._uU(1),y.qZA()),2&$){const J=ne.$implicit;y.xp6(1),y.hij(" ",J.Directors," ")}}function He($,ne){1&$&&y._UZ(0,"th",52)}function be($,ne){if(1&$){const J=y.EpF();y.TgZ(0,"td",53)(1,"div",54)(2,"button",55),y.NdJ("click",function(){const Ee=y.CHM(J).$implicit,ye=y.oxw();return y.KtG(ye.editItem(Ee))}),y._UZ(3,"i",56),y.qZA(),y.TgZ(4,"button",57),y.NdJ("click",function(){const Ee=y.CHM(J).$implicit,ye=y.oxw();return y.KtG(ye.deleteItem(Ee))}),y._UZ(5,"i",7),y.qZA()()()}}function _e($,ne){1&$&&y._UZ(0,"tr",58)}function K($,ne){1&$&&y._UZ(0,"tr",59)}function oe($,ne){1&$&&(y.TgZ(0,"td",62),y._uU(1,"No se encontraron datos"),y.qZA())}function pe($,ne){if(1&$&&(y.TgZ(0,"tr",60),y.YNc(1,oe,2,0,"td",61),y.qZA()),2&$){const J=y.oxw();y.xp6(1),y.Q6J("ngIf",!J.showLoading)}}const re=function($){return{disable:$}},Q=function(){return[5,10,25,100]};let X=(()=>{class $ extends e.G{constructor(J,q,me,Ee,ye){super(me),this.modalService=J,this.dialog=q,this.matPaginatorIntl=me,this.snackbarService=Ee,this.movieService=ye}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(J=>{this.updatePageData(J),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(J=>{this.currentPage=1,this.sortBy=J.active,this.sortDirection=J.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(J){this.searchText=J.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var J=new g;this.showModalForm(J)}editItem(J){this.showModalForm(J)}showModalForm(J){var q=this,me=this.modalService.open(j,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});me.componentInstance.movie=J,me.closed.subscribe(Ee=>{q.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(J=>{this.showLoading=!1;var q=J.Data;this.totalCount=J.TotalCount,this.listItems=q,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},J=>{this.showLoading=!1})}deleteItem(J){var q=new A.vA;q.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+J.Title+"?",accordMessage:"Si, eliminar el movie '"+J.Title+"'"},this.dialog.open(I.k,q).afterClosed().subscribe(me=>{me&&this.executeDeleteItem(J)})}executeDeleteItem(J){this.showLoading=!0,this.movieService.deleteItem(J.Id).then(q=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},q=>{this.showLoading=!1,this.snackbarService.showSnackBar(q,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var J=new A.vA;J.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,J).afterClosed().subscribe(q=>{q&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(J=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},J=>{this.showLoading=!1,this.snackbarService.showSnackBar(J,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(q){return new(q||$)(y.Y36(P.FF),y.Y36(A.uw),y.Y36(n.ye),y.Y36(F.c),y.Y36(C))};static#t=this.\u0275cmp=y.Xpm({type:$,selectors:[["app-movie-list"]],viewQuery:function(q,me){if(1&q&&(y.Gf(n.NW,5),y.Gf(E.YE,5)),2&q){let Ee;y.iGM(Ee=y.CRH())&&(me.paginator=Ee.first),y.iGM(Ee=y.CRH())&&(me.sort=Ee.first)}},features:[y.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(q,me){1&q&&(y.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),y._uU(3," Pel\xedculas"),y.qZA()(),y.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),y.NdJ("click",function(){return me.showNewItem()}),y._UZ(8,"i",5),y.qZA(),y.TgZ(9,"button",6),y.NdJ("click",function(){return me.deleteSelectedItems()}),y._UZ(10,"i",7),y.qZA()(),y._UZ(11,"div",8),y.qZA(),y.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),y._uU(16,"Buscar"),y.qZA(),y.TgZ(17,"input",10,11),y.NdJ("keyup",function(ye){return me.applyFilter(ye)}),y.qZA()(),y.TgZ(19,"div",12),y.YNc(20,de,2,0,"div",13),y.TgZ(21,"div",14)(22,"table",15),y.ynx(23,16),y.YNc(24,Se,2,2,"th",17),y.YNc(25,xe,2,1,"td",18),y.BQk(),y.ynx(26,19),y.YNc(27,Ge,2,0,"th",20),y.YNc(28,ge,2,1,"td",21),y.BQk(),y.ynx(29,22),y.YNc(30,Ce,2,0,"th",23),y.YNc(31,Le,2,1,"td",24),y.BQk(),y.ynx(32,25),y.YNc(33,fe,2,0,"th",26),y.YNc(34,we,3,4,"td",27),y.BQk(),y.ynx(35,28),y.YNc(36,Te,2,0,"th",29),y.YNc(37,De,2,1,"td",30),y.BQk(),y.ynx(38,31),y.YNc(39,Ue,2,0,"th",29),y.YNc(40,lt,2,1,"td",30),y.BQk(),y.ynx(41,32),y.YNc(42,He,1,0,"th",33),y.YNc(43,be,6,0,"td",34),y.BQk(),y.YNc(44,_e,1,0,"tr",35),y.YNc(45,K,1,0,"tr",36),y.YNc(46,pe,2,1,"tr",37),y.qZA()()()()(),y.TgZ(47,"div",1)(48,"div",9),y._UZ(49,"mat-paginator",38),y.qZA()()()()),2&q&&(y.xp6(9),y.Q6J("ngClass",y.VKq(7,re,!me.selection.hasValue())),y.xp6(11),y.Q6J("ngIf",me.showLoading),y.xp6(2),y.Q6J("dataSource",me.dataSource),y.xp6(22),y.Q6J("matHeaderRowDef",me.getDisplayedColumns()),y.xp6(1),y.Q6J("matRowDefColumns",me.getDisplayedColumns()),y.xp6(4),y.Q6J("color","primary")("pageSizeOptions",y.DdM(9,Q)))},dependencies:[M.mk,M.O5,n.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,G.Nt,Z.KE,Z.hX,E.YE,E.nU,le.oG,Y.Ou,ve.gM,M.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return $})()},2070:(Bn,et,v)=>{"use strict";v.d(et,{C:()=>De});var e=v(1476),n=v(7700),E=v(8923),A=v(2877),_=v(5313),I=v(3566),w=v(9604);class g{}var o=v(95),d=v(5550),u=v(5879),m=v(3946),y=v(3931),k=v(863),P=v(2372),B=v(9429);let F=(()=>{class Ue{constructor(He){this.restProvider=He}getItems(He,be,_e,K,oe,pe){return new Promise((re,Q)=>{let X=(0,P.Z)();this.lastCallGuid=X;var $="?page="+He.toString()+"&take="+be.toString()+"&sortBy="+_e+"&sortDirection="+K+"&searchText="+oe+"&searchBy="+pe;this.restProvider.executeSinovadApiService(k.yw.GET,"/roles/GetAllWithPaginationAsync"+$).then(J=>{this.lastCallGuid==X&&re(J)},J=>{console.error(J),Q(J)})})}saveItem(He){return new Promise((be,_e)=>{this.restProvider.executeSinovadApiService(He.Id>0?k.yw.PUT:k.yw.POST,He.Id>0?"/roles/Update":"/roles/Create",He).then(pe=>{be(!0)},pe=>{console.error(pe),_e(pe)})})}deleteItem(He){return new Promise((be,_e)=>{this.restProvider.executeSinovadApiService(k.yw.DELETE,"/roles/Delete/"+He).then(oe=>{be(oe)},oe=>{console.error(oe),_e(oe)})})}deleteItems(He){return new Promise((be,_e)=>{let K=[];for(let re=0;re<He.length;re++)K.push(He[re].Id);var oe=K.join(",");this.restProvider.executeSinovadApiService(k.yw.DELETE,"/roles/DeleteList/"+oe).then(re=>{be(re)},re=>{console.error(re),_e(re)})})}static#e=this.\u0275fac=function(be){return new(be||Ue)(u.LFG(B.C))};static#t=this.\u0275prov=u.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();var R=v(5220),D=v(6814),T=v(2032),C=v(4170),O=v(5986);function M(Ue,lt){1&Ue&&(u.TgZ(0,"mat-error"),u._uU(1," Nombre es "),u.TgZ(2,"strong"),u._uU(3,"requerido"),u.qZA()())}function G(Ue,lt){if(1&Ue){const He=u.EpF();u.TgZ(0,"form",1),u.NdJ("ngSubmit",function(){u.CHM(He);const _e=u.oxw();return u.KtG(_e.saveItem())}),u.TgZ(1,"div",2)(2,"h5",3),u._uU(3),u.qZA(),u.TgZ(4,"button",4),u.NdJ("click",function(){u.CHM(He);const _e=u.oxw();return u.KtG(_e.closeModal())}),u._UZ(5,"i",5),u.qZA()(),u.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),u._uU(9,"Nombre"),u.qZA(),u._UZ(10,"input",7),u.YNc(11,M,4,0,"mat-error",8),u.qZA(),u.TgZ(12,"mat-checkbox",9),u._uU(13,"Activo"),u.qZA()(),u.TgZ(14,"div",10)(15,"button",11),u.NdJ("click",function(){u.CHM(He);const _e=u.oxw();return u.KtG(_e.closeModal())}),u._uU(16,"Close"),u.qZA(),u.TgZ(17,"button",12),u._uU(18,"Guardar"),u.qZA()()(),u._UZ(19,"app-custom-spinner",13)}if(2&Ue){const He=u.oxw();u.Q6J("formGroup",He.roleFormGroup),u.xp6(3),u.Oqu(He.role&&He.role.Id>0?"Editar":"Nuevo"),u.xp6(7),u.Q6J("errorStateMatcher",He.matcher),u.xp6(1),u.Q6J("ngIf",He.roleFormGroup.controls.name.hasError("required")),u.xp6(6),u.Q6J("disabled",He.showLoading||!He.roleFormGroup.valid),u.xp6(2),u.Q6J("showLoading",He.showLoading)}}let Z=(()=>{class Ue{constructor(He,be,_e,K){this.formBuilder=He,this.activeModal=be,this.snackbarService=_e,this.roleService=K,this.showLoading=!1,this.matcher=new d.n}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new o.NI(this.role.Name,[o.kI.required]),enabled:new o.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var He=JSON.parse(JSON.stringify(this.role));He.Name=this.roleFormGroup.value.name,He.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(He).then(be=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",w.dA.Success),this.activeModal.close()},be=>{this.showLoading=!1,this.snackbarService.showSnackBar(be,w.dA.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(be){return new(be||Ue)(u.Y36(o.qu),u.Y36(m.Kz),u.Y36(y.c),u.Y36(F))};static#t=this.\u0275cmp=u.Xpm({type:Ue,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(be,_e){1&be&&u.YNc(0,G,20,6,"ng-template",0),2&be&&u.Q6J("ngIf",null!=_e.role&&_e.roleFormGroup)},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,R.D,D.O5,T.Nt,C.KE,C.hX,C.TO,O.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Ue})();var ee=v(5940),ae=v(2596);function Ae(Ue,lt){1&Ue&&(u.TgZ(0,"div",32),u._UZ(1,"mat-spinner"),u.qZA())}function j(Ue,lt){if(1&Ue){const He=u.EpF();u.TgZ(0,"th",33)(1,"mat-checkbox",34),u.NdJ("change",function(_e){u.CHM(He);const K=u.oxw();return u.KtG(_e?K.toggleAllRows():null)}),u.qZA()()}if(2&Ue){const He=u.oxw();u.xp6(1),u.Q6J("checked",He.selection.hasValue()&&He.isAllSelected())("indeterminate",He.selection.hasValue()&&!He.isAllSelected())}}function le(Ue,lt){if(1&Ue){const He=u.EpF();u.TgZ(0,"td",35)(1,"mat-checkbox",36),u.NdJ("click",function(_e){const oe=u.CHM(He).$implicit,pe=u.oxw();return u.KtG(pe.onChangeCheckValue(_e,oe))}),u.qZA()()}if(2&Ue){const He=lt.$implicit,be=u.oxw();u.xp6(1),u.Q6J("checked",be.selection.isSelected(He))}}function Y(Ue,lt){1&Ue&&(u.TgZ(0,"th",37),u._uU(1,"N\xb0"),u.qZA())}function ve(Ue,lt){if(1&Ue&&(u.TgZ(0,"td",38),u._uU(1),u.qZA()),2&Ue){const He=lt.index,be=u.oxw();u.xp6(1),u.hij(" ",be.getElementNumber(He,be.currentPage,be.itemsPerPage),"")}}function de(Ue,lt){1&Ue&&(u.TgZ(0,"th",39),u._uU(1," Nombre "),u.qZA())}function Se(Ue,lt){if(1&Ue&&(u.TgZ(0,"td",40),u._uU(1),u.qZA()),2&Ue){const He=lt.$implicit;u.xp6(1),u.hij(" ",He.Name," ")}}function xe(Ue,lt){1&Ue&&u._UZ(0,"th",41)}function Ge(Ue,lt){if(1&Ue){const He=u.EpF();u.TgZ(0,"td",42)(1,"div",43)(2,"button",44),u.NdJ("click",function(){const K=u.CHM(He).$implicit,oe=u.oxw();return u.KtG(oe.editItem(K))}),u._UZ(3,"i",45),u.qZA(),u.TgZ(4,"button",46),u.NdJ("click",function(){const K=u.CHM(He).$implicit,oe=u.oxw();return u.KtG(oe.deleteItem(K))}),u._UZ(5,"i",7),u.qZA()()()}}function ge(Ue,lt){1&Ue&&u._UZ(0,"tr",47)}function Ce(Ue,lt){1&Ue&&u._UZ(0,"tr",48)}function Le(Ue,lt){1&Ue&&(u.TgZ(0,"td",51),u._uU(1,"No se encontraron datos"),u.qZA())}function fe(Ue,lt){if(1&Ue&&(u.TgZ(0,"tr",49),u.YNc(1,Le,2,0,"td",50),u.qZA()),2&Ue){const He=u.oxw();u.xp6(1),u.Q6J("ngIf",!He.showLoading)}}const we=function(Ue){return{disable:Ue}},Te=function(){return[5,10,25,100]};let De=(()=>{class Ue extends A.G{constructor(He,be,_e,K,oe){super(_e),this.modalService=He,this.dialog=be,this.matPaginatorIntl=_e,this.snackbarService=K,this.roleService=oe,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(He=>{this.updatePageData(He),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(He=>{this.currentPage=1,this.sortBy=He.active,this.sortDirection=He.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(He){this.searchText=He.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var He=new g;He.Enabled=!0,this.showModalForm(He)}editItem(He){this.showModalForm(He)}showModalForm(He){var be=this,_e=this.modalService.open(Z,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});_e.componentInstance.role=He,_e.closed.subscribe(K=>{be.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(He=>{this.showLoading=!1;var be=He.Data;this.totalCount=He.TotalCount,this.listItems=be,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},He=>{this.showLoading=!1})}deleteItem(He){var be=new n.vA;be.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+He.Name+"?",accordMessage:"Si, eliminar el rol '"+He.Name+"'"},this.dialog.open(E.k,be).afterClosed().subscribe(_e=>{_e&&this.executeDeleteItem(He)})}executeDeleteItem(He){this.showLoading=!0,this.roleService.deleteItem(He.Id).then(be=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},be=>{this.showLoading=!1,this.snackbarService.showSnackBar(be,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var He=new n.vA;He.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(E.k,He).afterClosed().subscribe(be=>{be&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(He=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},He=>{this.showLoading=!1,this.snackbarService.showSnackBar(He,w.dA.Error)})}static#e=this.\u0275fac=function(be){return new(be||Ue)(u.Y36(m.FF),u.Y36(n.uw),u.Y36(e.ye),u.Y36(y.c),u.Y36(F))};static#t=this.\u0275cmp=u.Xpm({type:Ue,selectors:[["app-role-list"]],viewQuery:function(be,_e){if(1&be&&(u.Gf(e.NW,5),u.Gf(I.YE,5)),2&be){let K;u.iGM(K=u.CRH())&&(_e.paginator=K.first),u.iGM(K=u.CRH())&&(_e.sort=K.first)}},features:[u.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(be,_e){1&be&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),u._uU(3," Roles"),u.qZA()(),u.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),u.NdJ("click",function(){return _e.showNewItem()}),u._UZ(8,"i",5),u.qZA(),u.TgZ(9,"button",6),u.NdJ("click",function(){return _e.deleteSelectedItems()}),u._UZ(10,"i",7),u.qZA()(),u._UZ(11,"div",8),u.qZA(),u.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),u._uU(16,"Buscar"),u.qZA(),u.TgZ(17,"input",10,11),u.NdJ("keyup",function(oe){return _e.applyFilter(oe)}),u.qZA()(),u.TgZ(19,"div",12),u.YNc(20,Ae,2,0,"div",13),u.TgZ(21,"div",14)(22,"table",15),u.ynx(23,16),u.YNc(24,j,2,2,"th",17),u.YNc(25,le,2,1,"td",18),u.BQk(),u.ynx(26,19),u.YNc(27,Y,2,0,"th",20),u.YNc(28,ve,2,1,"td",21),u.BQk(),u.ynx(29,22),u.YNc(30,de,2,0,"th",23),u.YNc(31,Se,2,1,"td",24),u.BQk(),u.ynx(32,25),u.YNc(33,xe,1,0,"th",26),u.YNc(34,Ge,6,0,"td",27),u.BQk(),u.YNc(35,ge,1,0,"tr",28),u.YNc(36,Ce,1,0,"tr",29),u.YNc(37,fe,2,1,"tr",30),u.qZA()()()()(),u.TgZ(38,"div",1)(39,"div",9),u._UZ(40,"mat-paginator",31),u.qZA()()()()),2&be&&(u.xp6(9),u.Q6J("ngClass",u.VKq(7,we,!_e.selection.hasValue())),u.xp6(11),u.Q6J("ngIf",_e.showLoading),u.xp6(2),u.Q6J("dataSource",_e.dataSource),u.xp6(13),u.Q6J("matHeaderRowDef",_e.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",_e.displayedColumns),u.xp6(4),u.Q6J("color","primary")("pageSizeOptions",u.DdM(9,Te)))},dependencies:[D.mk,D.O5,e.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,T.Nt,C.KE,C.hX,I.YE,I.nU,O.oG,ee.Ou,ae.gM]})}return Ue})()},5510:(Bn,et,v)=>{"use strict";v.d(et,{Z:()=>w});var e=v(863),n=v(2372),E=v(5879),A=v(1044),_=v(1367),I=v(9429);let w=(()=>{class g{constructor(d,u,m){this.libraryService=d,this.sharedDataService=u,this.restProvider=m}getMediaServers(){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedDataService.userData.Id).then(m=>{this.sharedDataService.mediaServers=m.Data,this.sharedDataService.mediaServers.forEach(k=>{this.executeGetLibrariesByMediaServer(k)}),d(!0)},m=>{u(m)})})}executeGetLibrariesByMediaServer(d){d.isSecureConnection?this.libraryService.getLibrariesByMediaServer(d.Url).then(u=>{d.ListLibraries=u},u=>{}):d.ListLibraries=[]}getMediaServerByGuid(d){return new Promise((u,m)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetByGuidAsync/"+d).then(y=>{u(y)},y=>{console.error(y),m(y)})})}getItems(d,u,m,y,k,P,B){return new Promise((F,R)=>{let D=(0,n.Z)();this.lastCallGuid=D;var T="?page="+u.toString()+"&take="+m.toString()+"&sortBy="+y+"&sortDirection="+k+"&searchText="+P+"&searchBy="+B;this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+d+T).then(O=>{this.lastCallGuid==D&&F(O)},O=>{console.error(O),R(O)})})}saveItem(d){return new Promise((u,m)=>{this.restProvider.executeSinovadApiService(d.Id>0?e.yw.PUT:e.yw.POST,d.Id>0?"/mediaServers/Update":"/mediaServers/Create",d).then(P=>{u(!0)},P=>{console.error(P),m(P)})})}deleteItem(d){return new Promise((u,m)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/Delete/"+d).then(k=>{u(k)},k=>{console.error(k),m(k)})})}deleteItems(d){return new Promise((u,m)=>{let y=[];for(let B=0;B<d.length;B++)y.push(d[B].Id);var k=y.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/DeleteList/"+k).then(B=>{u(B)},B=>{console.error(B),m(B)})})}updateMediaServer(d){return new Promise((u,m)=>{this.restProvider.executeSinovadApiService(e.yw.PUT,"/mediaServers/Update",d).then(k=>{u(k)},k=>{console.error(k),m(k)})})}static#e=this.\u0275fac=function(u){return new(u||g)(E.LFG(A.$),E.LFG(_.g),E.LFG(I.C))};static#t=this.\u0275prov=E.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},2098:(Bn,et,v)=>{"use strict";v.d(et,{f:()=>Kt});var e=v(2877),n=v(1476),E=v(3566),A=v(7700),_=v(5313),I=v(8923),w=v(9604);class g{}var o=v(5879),d=v(3946),u=v(6814);class m{}class y{}var k=v(95),P=v(5550),B=v(3931),F=v(863),R=v(2372),D=v(9429);let T=(()=>{class Ot{constructor(Rt){this.restProvider=Rt}getItems(Rt,St,It,Zt,gn,Ln,Hn){return new Promise((Lt,Sn)=>{let Ie=(0,R.Z)();this.lastCallGuid=Ie;var Pt="?page="+St.toString()+"&take="+It.toString()+"&sortBy="+Zt+"&sortDirection="+gn+"&searchText="+Ln+"&searchBy="+Hn;this.restProvider.executeSinovadApiService(F.yw.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+Rt+Pt).then(Xt=>{this.lastCallGuid==Ie&&Lt(Xt)},Xt=>{console.error(Xt),Sn(Xt)})})}saveItem(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(Rt.Id>0?F.yw.PUT:F.yw.POST,Rt.Id>0?"/episodes/Update":"/episodes/Create",Rt).then(Ln=>{St(!0)},Ln=>{console.error(Ln),It(Ln)})})}createList(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(F.yw.POST,"/episodes/CreateList",Rt).then(Zt=>{St(!0)},Zt=>{console.error(Zt),It(Zt)})})}deleteItem(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(F.yw.DELETE,"/episodes/Delete/"+Rt).then(gn=>{St(gn)},gn=>{console.error(gn),It(gn)})})}deleteItems(Rt){return new Promise((St,It)=>{let Zt=[];for(let Hn=0;Hn<Rt.length;Hn++)Zt.push(Rt[Hn].Id);var gn=Zt.join(",");this.restProvider.executeSinovadApiService(F.yw.DELETE,"/episodes/DeleteList/"+gn).then(Hn=>{St(Hn)},Hn=>{console.error(Hn),It(Hn)})})}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.LFG(D.C))};static#t=this.\u0275prov=o.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}return Ot})();var C=v(5220),O=v(2032),M=v(4170);function G(Ot,yn){1&Ot&&(o.TgZ(0,"mat-error"),o._uU(1," T\xcdtulo es "),o.TgZ(2,"strong"),o._uU(3,"requerido"),o.qZA()())}function Z(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.saveItem())}),o.TgZ(1,"div",2)(2,"h5",3),o._uU(3),o.qZA(),o.TgZ(4,"button",4),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._UZ(5,"i",5),o.qZA()(),o.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),o._uU(9,"T\xcdtulo"),o.qZA(),o._UZ(10,"input",7),o.YNc(11,G,4,0,"mat-error",8),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"N\xfamero"),o.qZA(),o._UZ(15,"input",9),o.qZA(),o.TgZ(16,"mat-form-field")(17,"mat-label"),o._uU(18,"Resumen"),o.qZA(),o._UZ(19,"textarea",10),o.qZA()(),o.TgZ(20,"div",11)(21,"button",12),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._uU(22,"Close"),o.qZA(),o.TgZ(23,"button",13),o._uU(24,"Guardar"),o.qZA()()(),o._UZ(25,"app-custom-spinner",14)}if(2&Ot){const Rt=o.oxw();o.Q6J("formGroup",Rt.episodeFormGroup),o.xp6(3),o.Oqu(Rt.episode.Id>0?"Editar":"Nuevo"),o.xp6(7),o.Q6J("errorStateMatcher",Rt.matcher),o.xp6(1),o.Q6J("ngIf",Rt.episodeFormGroup.controls.title.hasError("required")),o.xp6(12),o.Q6J("disabled",Rt.showLoading||!Rt.episodeFormGroup.valid),o.xp6(2),o.Q6J("showLoading",Rt.showLoading)}}let ee=(()=>{class Ot{constructor(Rt,St,It,Zt){this.formBuilder=Rt,this.activeModal=St,this.snackbarService=It,this.episodeService=Zt,this.showLoading=!1,this.matcher=new P.n}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new k.NI(this.episode.Title,[k.kI.required]),episodeNumber:new k.NI(this.episode.EpisodeNumber),summary:new k.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var Rt=JSON.parse(JSON.stringify(this.episode));Rt.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,Rt.Title=this.episodeFormGroup.value.title,Rt.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(Rt).then(St=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",w.dA.Success),this.activeModal.close()},St=>{this.showLoading=!1,this.snackbarService.showSnackBar(St,w.dA.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(k.qu),o.Y36(d.Kz),o.Y36(B.c),o.Y36(T))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(St,It){1&St&&o.YNc(0,Z,26,6,"ng-template",0),2&St&&o.Q6J("ngIf",null!=It.episode&&It.episodeFormGroup)},dependencies:[k._Y,k.Fj,k.wV,k.JJ,k.JL,k.sg,k.u,C.D,u.O5,O.Nt,M.KE,M.hX,M.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Ot})();function ae(Ot,yn){1&Ot&&(o.TgZ(0,"mat-error"),o._uU(1," El campo es "),o.TgZ(2,"strong"),o._uU(3,"requerido"),o.qZA()())}function Ae(Ot,yn){1&Ot&&(o.TgZ(0,"mat-error"),o._uU(1," El campo es "),o.TgZ(2,"strong"),o._uU(3,"requerido"),o.qZA()())}function j(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.save())}),o.TgZ(1,"div",2)(2,"h5",3),o._uU(3,"Rango de Episodios"),o.qZA(),o.TgZ(4,"button",4),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._UZ(5,"i",5),o.qZA()(),o.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),o._uU(9,"Desde"),o.qZA(),o._UZ(10,"input",7),o.YNc(11,ae,4,0,"mat-error",8),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Hasta"),o.qZA(),o._UZ(15,"input",9),o.YNc(16,Ae,4,0,"mat-error",8),o.qZA()(),o.TgZ(17,"div",10)(18,"button",11),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._uU(19,"Close"),o.qZA(),o.TgZ(20,"button",12),o._uU(21,"Guardar"),o.qZA()(),o._UZ(22,"app-custom-spinner",13),o.qZA()}if(2&Ot){const Rt=o.oxw();o.Q6J("formGroup",Rt.formGroup),o.xp6(11),o.Q6J("ngIf",Rt.formGroup.controls.initialEpisodeNumber.hasError("required")),o.xp6(5),o.Q6J("ngIf",Rt.formGroup.controls.lastEpisodeNumber.hasError("required")),o.xp6(4),o.Q6J("disabled",Rt.showLoading||!Rt.formGroup.valid),o.xp6(2),o.Q6J("showLoading",Rt.showLoading)}}let le=(()=>{class Ot{constructor(Rt,St,It){this.formBuilder=Rt,this.episodeService=St,this.activeModal=It,this.matcher=new P.n,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new k.NI("",[k.kI.required]),lastEpisodeNumber:new k.NI("",[k.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let St=[];for(let It=Number(this.formGroup.value.initialEpisodeNumber);It<=Number(this.formGroup.value.lastEpisodeNumber);It++){var Rt=new y;Rt.EpisodeNumber=It,Rt.SeasonId=this.parent.Id,Rt.Title="Episodio "+It,St.push(Rt)}this.episodeService.createList(St).then(It=>{this.showLoading=!1,this.activeModal.close(!0)},It=>{this.showLoading=!1,console.error(It)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(k.qu),o.Y36(T),o.Y36(d.Kz))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(St,It){1&St&&o.YNc(0,j,23,5,"form",0),2&St&&o.Q6J("ngIf",It.formGroup)},dependencies:[k._Y,k.Fj,k.wV,k.JJ,k.JL,k.sg,k.u,C.D,u.O5,O.Nt,M.KE,M.hX,M.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Ot})();var Y=v(5986),ve=v(5940),de=v(2596);function Se(Ot,yn){1&Ot&&(o.TgZ(0,"div",32),o._UZ(1,"mat-spinner"),o.qZA())}function xe(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"th",33)(1,"mat-checkbox",34),o.NdJ("change",function(It){o.CHM(Rt);const Zt=o.oxw();return o.KtG(It?Zt.toggleAllRows():null)}),o.qZA()()}if(2&Ot){const Rt=o.oxw();o.xp6(1),o.Q6J("checked",Rt.selection.hasValue()&&Rt.isAllSelected())("indeterminate",Rt.selection.hasValue()&&!Rt.isAllSelected())}}function Ge(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"td",35)(1,"mat-checkbox",36),o.NdJ("click",function(It){const gn=o.CHM(Rt).$implicit,Ln=o.oxw();return o.KtG(Ln.onChangeCheckValue(It,gn))}),o.qZA()()}if(2&Ot){const Rt=yn.$implicit,St=o.oxw();o.xp6(1),o.Q6J("checked",St.selection.isSelected(Rt))}}function ge(Ot,yn){1&Ot&&(o.TgZ(0,"th",37),o._uU(1,"N\xb0"),o.qZA())}function Ce(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",Rt.EpisodeNumber,"")}}function Le(Ot,yn){1&Ot&&(o.TgZ(0,"th",39),o._uU(1,"T\xcdtulo"),o.qZA())}function fe(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",40),o._uU(1),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",Rt.Title," ")}}function we(Ot,yn){1&Ot&&o._UZ(0,"th",41)}function Te(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"td",42)(1,"div",43)(2,"button",44),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.editItem(Zt))}),o._UZ(3,"i",45),o.qZA(),o.TgZ(4,"button",46),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.deleteItem(Zt))}),o._UZ(5,"i",7),o.qZA()()()}}function De(Ot,yn){1&Ot&&o._UZ(0,"tr",47)}function Ue(Ot,yn){1&Ot&&o._UZ(0,"tr",48)}function lt(Ot,yn){1&Ot&&(o.TgZ(0,"td",51),o._uU(1,"No se encontraron datos"),o.qZA())}function He(Ot,yn){if(1&Ot&&(o.TgZ(0,"tr",49),o.YNc(1,lt,2,0,"td",50),o.qZA()),2&Ot){const Rt=o.oxw();o.xp6(1),o.Q6J("ngIf",!Rt.showLoading)}}const be=function(Ot){return{disable:Ot}},_e=function(){return[5,10,25,100]};let K=(()=>{class Ot extends e.G{constructor(Rt,St,It,Zt,gn){super(Zt),this.modalService=Rt,this.dialog=St,this.episodeService=It,this.matPaginatorIntl=Zt,this.snackbarService=gn}ngAfterViewInit(){this.paginator.page.subscribe(Rt=>{this.updatePageData(Rt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Rt=>{this.currentPage=1,this.sortBy=Rt.active,this.sortDirection=Rt.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(Rt){this.searchText=Rt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Rt=new y;Rt.SeasonId=this.parentItem.Id,this.showModalForm(Rt)}editItem(Rt){this.showModalForm(Rt)}showModalForm(Rt){var St=this,It=this.modalService.open(ee,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.episode=Rt,It.closed.subscribe(Zt=>{St.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Rt=>{this.showLoading=!1;var St=Rt.Data;this.totalCount=Rt.TotalCount,this.listItems=St,this.dataSource=new _.by(St),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Rt=>{this.showLoading=!1})}deleteItem(Rt){var St=new A.vA;St.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+Rt.Title+"?",accordMessage:"Si, eliminar el episodio '"+Rt.Title+"'"},this.dialog.open(I.k,St).afterClosed().subscribe(It=>{It&&this.executeDeleteItem(Rt)})}executeDeleteItem(Rt){this.showLoading=!0,this.episodeService.deleteItem(Rt.Id).then(St=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},St=>{this.showLoading=!1,this.snackbarService.showSnackBar(St,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Rt=new A.vA;Rt.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,Rt).afterClosed().subscribe(St=>{St&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(Rt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},Rt=>{this.showLoading=!1,this.snackbarService.showSnackBar(Rt,w.dA.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var Rt=this,St=this.modalService.open(le,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});St.componentInstance.parent=this.parentItem,St.closed.subscribe(It=>{Rt.getAllItems()})}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(d.FF),o.Y36(A.uw),o.Y36(T),o.Y36(n.ye),o.Y36(B.c))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-episode-list"]],viewQuery:function(St,It){if(1&St&&(o.Gf(n.NW,5),o.Gf(E.YE,5)),2&St){let Zt;o.iGM(Zt=o.CRH())&&(It.paginator=Zt.first),o.iGM(Zt=o.CRH())&&(It.sort=Zt.first)}},inputs:{parentItem:"parentItem"},features:[o.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(St,It){1&St&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),o._uU(3),o.qZA()(),o.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),o.NdJ("click",function(){return It.showNewItem()}),o._UZ(8,"i",5),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return It.deleteSelectedItems()}),o._UZ(10,"i",7),o.qZA(),o.TgZ(11,"button",8),o.NdJ("click",function(){return It.showEpisodeRangeModal()}),o._uU(12," Agregar por Rango "),o.qZA()()(),o.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),o._uU(17,"Buscar"),o.qZA(),o.TgZ(18,"input",10,11),o.NdJ("keyup",function(gn){return It.applyFilter(gn)}),o.qZA()(),o.TgZ(20,"div",12),o.YNc(21,Se,2,0,"div",13),o.TgZ(22,"div",14)(23,"table",15),o.ynx(24,16),o.YNc(25,xe,2,2,"th",17),o.YNc(26,Ge,2,1,"td",18),o.BQk(),o.ynx(27,19),o.YNc(28,ge,2,0,"th",20),o.YNc(29,Ce,2,1,"td",21),o.BQk(),o.ynx(30,22),o.YNc(31,Le,2,0,"th",23),o.YNc(32,fe,2,1,"td",24),o.BQk(),o.ynx(33,25),o.YNc(34,we,1,0,"th",26),o.YNc(35,Te,6,0,"td",27),o.BQk(),o.YNc(36,De,1,0,"tr",28),o.YNc(37,Ue,1,0,"tr",29),o.YNc(38,He,2,1,"tr",30),o.qZA()()()()(),o.TgZ(39,"div",1)(40,"div",9),o._UZ(41,"mat-paginator",31),o.qZA()()()()),2&St&&(o.xp6(3),o.hij("",It.parentItem.Name," :Episodios"),o.xp6(6),o.Q6J("ngClass",o.VKq(8,be,!It.selection.hasValue())),o.xp6(12),o.Q6J("ngIf",It.showLoading),o.xp6(2),o.Q6J("dataSource",It.dataSource),o.xp6(13),o.Q6J("matHeaderRowDef",It.getDisplayedColumns()),o.xp6(1),o.Q6J("matRowDefColumns",It.getDisplayedColumns()),o.xp6(4),o.Q6J("color","primary")("pageSizeOptions",o.DdM(10,_e)))},dependencies:[u.mk,u.O5,n.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,O.Nt,M.KE,M.hX,E.YE,E.nU,Y.oG,ve.Ou,de.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Ot})();function oe(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"div",1)(1,"h5",2),o._uU(2),o.qZA(),o.TgZ(3,"button",3),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._UZ(4,"i",4),o.qZA()(),o.TgZ(5,"div",5),o._UZ(6,"app-episode-list",6),o.qZA(),o.TgZ(7,"div",7)(8,"button",8),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._uU(9,"Close"),o.qZA()()}if(2&Ot){const Rt=o.oxw();o.xp6(2),o.hij("",Rt.parent.Name," :Episodios"),o.xp6(4),o.Q6J("parentItem",Rt.parent)}}let pe=(()=>{class Ot{constructor(Rt){this.activeModal=Rt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(d.Kz))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(St,It){1&St&&o.YNc(0,oe,10,2,"ng-template",0),2&St&&o.Q6J("ngIf",null!=It.parent)},dependencies:[u.O5,K]})}return Ot})(),re=(()=>{class Ot{constructor(Rt){this.restProvider=Rt}getItems(Rt,St,It,Zt,gn,Ln,Hn){return new Promise((Lt,Sn)=>{let Ie=(0,R.Z)();this.lastCallGuid=Ie;var Pt="?page="+St.toString()+"&take="+It.toString()+"&sortBy="+Zt+"&sortDirection="+gn+"&searchText="+Ln+"&searchBy="+Hn;this.restProvider.executeSinovadApiService(F.yw.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+Rt+Pt).then(Xt=>{this.lastCallGuid==Ie&&Lt(Xt)},Xt=>{console.error(Xt),Sn(Xt)})})}saveItem(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(Rt.Id>0?F.yw.PUT:F.yw.POST,Rt.Id>0?"/seasons/Update":"/seasons/Create",Rt).then(Ln=>{St(!0)},Ln=>{console.error(Ln),It(Ln)})})}deleteItem(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(F.yw.DELETE,"/seasons/Delete/"+Rt).then(gn=>{St(gn)},gn=>{console.error(gn),It(gn)})})}deleteItems(Rt){return new Promise((St,It)=>{let Zt=[];for(let Hn=0;Hn<Rt.length;Hn++)Zt.push(Rt[Hn].Id);var gn=Zt.join(",");this.restProvider.executeSinovadApiService(F.yw.DELETE,"/seasons/DeleteList/"+gn).then(Hn=>{St(Hn)},Hn=>{console.error(Hn),It(Hn)})})}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.LFG(D.C))};static#t=this.\u0275prov=o.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}return Ot})();function Q(Ot,yn){1&Ot&&(o.TgZ(0,"mat-error"),o._uU(1," Nombre es "),o.TgZ(2,"strong"),o._uU(3,"requerido"),o.qZA()())}function X(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.saveItem())}),o.TgZ(1,"div",2)(2,"h5",3),o._uU(3),o.qZA(),o.TgZ(4,"button",4),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._UZ(5,"i",5),o.qZA()(),o.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),o._uU(9,"Nombre"),o.qZA(),o._UZ(10,"input",7),o.YNc(11,Q,4,0,"mat-error",8),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"N\xfamero"),o.qZA(),o._UZ(15,"input",9),o.qZA(),o.TgZ(16,"mat-form-field")(17,"mat-label"),o._uU(18,"Resumen"),o.qZA(),o._UZ(19,"textarea",10),o.qZA()(),o.TgZ(20,"div",11)(21,"button",12),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._uU(22,"Close"),o.qZA(),o.TgZ(23,"button",13),o._uU(24,"Guardar"),o.qZA()()(),o._UZ(25,"app-custom-spinner",14)}if(2&Ot){const Rt=o.oxw();o.Q6J("formGroup",Rt.seasonFormGroup),o.xp6(3),o.Oqu(Rt.season.Id>0?"Editar":"Nuevo"),o.xp6(7),o.Q6J("errorStateMatcher",Rt.matcher),o.xp6(1),o.Q6J("ngIf",Rt.seasonFormGroup.controls.name.hasError("required")),o.xp6(12),o.Q6J("disabled",Rt.showLoading||!Rt.seasonFormGroup.valid),o.xp6(2),o.Q6J("showLoading",Rt.showLoading)}}let $=(()=>{class Ot{constructor(Rt,St,It,Zt){this.formBuilder=Rt,this.activeModal=St,this.snackbarService=It,this.seasonService=Zt,this.showLoading=!1,this.matcher=new P.n}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new k.NI(this.season.Name,[k.kI.required]),seasonNumber:new k.NI(this.season.SeasonNumber),summary:new k.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var Rt=JSON.parse(JSON.stringify(this.season));Rt.SeasonNumber=this.seasonFormGroup.value.seasonNumber,Rt.Name=this.seasonFormGroup.value.name,Rt.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(Rt).then(St=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",w.dA.Success),this.activeModal.close()},St=>{this.showLoading=!1,this.snackbarService.showSnackBar(St,w.dA.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(k.qu),o.Y36(d.Kz),o.Y36(B.c),o.Y36(re))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(St,It){1&St&&o.YNc(0,X,26,6,"ng-template",0),2&St&&o.Q6J("ngIf",null!=It.season&&It.seasonFormGroup)},dependencies:[k._Y,k.Fj,k.wV,k.JJ,k.JL,k.sg,k.u,C.D,u.O5,O.Nt,M.KE,M.hX,M.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Ot})();function ne(Ot,yn){1&Ot&&(o.TgZ(0,"div",32),o._UZ(1,"mat-spinner"),o.qZA())}function J(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"th",33)(1,"mat-checkbox",34),o.NdJ("change",function(It){o.CHM(Rt);const Zt=o.oxw();return o.KtG(It?Zt.toggleAllRows():null)}),o.qZA()()}if(2&Ot){const Rt=o.oxw();o.xp6(1),o.Q6J("checked",Rt.selection.hasValue()&&Rt.isAllSelected())("indeterminate",Rt.selection.hasValue()&&!Rt.isAllSelected())}}function q(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"td",35)(1,"mat-checkbox",36),o.NdJ("click",function(It){const gn=o.CHM(Rt).$implicit,Ln=o.oxw();return o.KtG(Ln.onChangeCheckValue(It,gn))}),o.qZA()()}if(2&Ot){const Rt=yn.$implicit,St=o.oxw();o.xp6(1),o.Q6J("checked",St.selection.isSelected(Rt))}}function me(Ot,yn){1&Ot&&(o.TgZ(0,"th",37),o._uU(1,"N\xb0"),o.qZA())}function Ee(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",38),o._uU(1),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",Rt.SeasonNumber,"")}}function ye(Ot,yn){1&Ot&&(o.TgZ(0,"th",39),o._uU(1,"Nombre"),o.qZA())}function Ne(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",40),o._uU(1),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",Rt.Name," ")}}function tt(Ot,yn){1&Ot&&o._UZ(0,"th",41)}function qe(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"td",42)(1,"div",43)(2,"button",44),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.showEpisodeListModal(Zt))}),o._UZ(3,"i",45),o.qZA(),o.TgZ(4,"button",46),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.editItem(Zt))}),o._UZ(5,"i",47),o.qZA(),o.TgZ(6,"button",48),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.deleteItem(Zt))}),o._UZ(7,"i",7),o.qZA()()()}}function Xe(Ot,yn){1&Ot&&o._UZ(0,"tr",49)}function ut(Ot,yn){1&Ot&&o._UZ(0,"tr",50)}function ze(Ot,yn){1&Ot&&(o.TgZ(0,"td",53),o._uU(1,"No se encontraron datos"),o.qZA())}function ht(Ot,yn){if(1&Ot&&(o.TgZ(0,"tr",51),o.YNc(1,ze,2,0,"td",52),o.qZA()),2&Ot){const Rt=o.oxw();o.xp6(1),o.Q6J("ngIf",!Rt.showLoading)}}const vt=function(Ot){return{disable:Ot}},ce=function(){return[5,10,25,100]};let Ve=(()=>{class Ot extends e.G{constructor(Rt,St,It,Zt,gn){super(Zt),this.modalService=Rt,this.dialog=St,this.seasonService=It,this.matPaginatorIntl=Zt,this.snackbarService=gn}ngAfterViewInit(){this.paginator.page.subscribe(Rt=>{this.updatePageData(Rt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Rt=>{this.currentPage=1,this.sortBy=Rt.active,this.sortDirection=Rt.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(Rt){this.searchText=Rt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Rt=new m;this.showModalForm(Rt)}editItem(Rt){this.showModalForm(Rt)}showModalForm(Rt){var St=this,It=this.modalService.open($,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.season=Rt,It.closed.subscribe(Zt=>{St.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Rt=>{this.showLoading=!1;var St=Rt.Data;this.totalCount=Rt.TotalCount,this.listItems=St,this.dataSource=new _.by(St),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Rt=>{this.showLoading=!1})}deleteItem(Rt){var St=new A.vA;St.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+Rt.Name+"?",accordMessage:"Si, eliminar la temporada '"+Rt.Name+"'"},this.dialog.open(I.k,St).afterClosed().subscribe(It=>{It&&this.executeDeleteItem(Rt)})}executeDeleteItem(Rt){this.showLoading=!0,this.seasonService.deleteItem(Rt.Id).then(St=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},St=>{this.showLoading=!1,this.snackbarService.showSnackBar(St,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Rt=new A.vA;Rt.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,Rt).afterClosed().subscribe(St=>{St&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(Rt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},Rt=>{this.showLoading=!1,this.snackbarService.showSnackBar(Rt,w.dA.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(Rt){var It=this.modalService.open(pe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});It.componentInstance.parent=Rt,It.closed.subscribe(Zt=>{})}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(d.FF),o.Y36(A.uw),o.Y36(re),o.Y36(n.ye),o.Y36(B.c))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-season-list"]],viewQuery:function(St,It){if(1&St&&(o.Gf(n.NW,5),o.Gf(E.YE,5)),2&St){let Zt;o.iGM(Zt=o.CRH())&&(It.paginator=Zt.first),o.iGM(Zt=o.CRH())&&(It.sort=Zt.first)}},inputs:{parentItem:"parentItem"},features:[o.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(St,It){1&St&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),o._uU(3),o.qZA()(),o.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),o.NdJ("click",function(){return It.showNewItem()}),o._UZ(8,"i",5),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return It.deleteSelectedItems()}),o._UZ(10,"i",7),o.qZA()(),o._UZ(11,"div",8),o.qZA(),o.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Buscar"),o.qZA(),o.TgZ(17,"input",10,11),o.NdJ("keyup",function(gn){return It.applyFilter(gn)}),o.qZA()(),o.TgZ(19,"div",12),o.YNc(20,ne,2,0,"div",13),o.TgZ(21,"div",14)(22,"table",15),o.ynx(23,16),o.YNc(24,J,2,2,"th",17),o.YNc(25,q,2,1,"td",18),o.BQk(),o.ynx(26,19),o.YNc(27,me,2,0,"th",20),o.YNc(28,Ee,2,1,"td",21),o.BQk(),o.ynx(29,22),o.YNc(30,ye,2,0,"th",23),o.YNc(31,Ne,2,1,"td",24),o.BQk(),o.ynx(32,25),o.YNc(33,tt,1,0,"th",26),o.YNc(34,qe,8,0,"td",27),o.BQk(),o.YNc(35,Xe,1,0,"tr",28),o.YNc(36,ut,1,0,"tr",29),o.YNc(37,ht,2,1,"tr",30),o.qZA()()()()(),o.TgZ(38,"div",1)(39,"div",9),o._UZ(40,"mat-paginator",31),o.qZA()()()()),2&St&&(o.xp6(3),o.hij("",It.parentItem.Name," :Temporadas"),o.xp6(6),o.Q6J("ngClass",o.VKq(8,vt,!It.selection.hasValue())),o.xp6(11),o.Q6J("ngIf",It.showLoading),o.xp6(2),o.Q6J("dataSource",It.dataSource),o.xp6(13),o.Q6J("matHeaderRowDef",It.getDisplayedColumns()),o.xp6(1),o.Q6J("matRowDefColumns",It.getDisplayedColumns()),o.xp6(4),o.Q6J("color","primary")("pageSizeOptions",o.DdM(10,ce)))},dependencies:[u.mk,u.O5,n.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,O.Nt,M.KE,M.hX,E.YE,E.nU,Y.oG,ve.Ou,de.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Ot})();function yt(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"div",1)(1,"h5",2),o._uU(2),o.qZA(),o.TgZ(3,"button",3),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._UZ(4,"i",4),o.qZA()(),o.TgZ(5,"div",5),o._UZ(6,"app-season-list",6),o.qZA(),o.TgZ(7,"div",7)(8,"button",8),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._uU(9,"Close"),o.qZA()()}if(2&Ot){const Rt=o.oxw();o.xp6(2),o.hij("",Rt.parent.Name," :Temporadas"),o.xp6(4),o.Q6J("parentItem",Rt.parent)}}let Bt=(()=>{class Ot{constructor(Rt){this.activeModal=Rt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(d.Kz))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(St,It){1&St&&o.YNc(0,yt,10,2,"ng-template",0),2&St&&o.Q6J("ngIf",null!=It.parent)},dependencies:[u.O5,Ve]})}return Ot})();var zt=v(8337),Yt=v(298),cn=v(5731),nn=v(2067);let Mt=(()=>{class Ot{constructor(Rt){this.restProvider=Rt}getTvSerie(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(F.yw.GET,"/tvseries/GetAsync/"+Rt).then(Zt=>{St(Zt)},Zt=>{console.error(Zt),It(Zt)})})}getItems(Rt,St,It,Zt,gn,Ln){return new Promise((Hn,Lt)=>{let Sn=(0,R.Z)();this.lastCallGuid=Sn;var Ie="?page="+Rt.toString()+"&take="+St.toString()+"&sortBy="+It+"&sortDirection="+Zt+"&searchText="+gn+"&searchBy="+Ln;this.restProvider.executeSinovadApiService(F.yw.GET,"/tvseries/GetAllWithPaginationAsync"+Ie).then(Dt=>{this.lastCallGuid==Sn&&Hn(Dt)},Dt=>{console.error(Dt),Lt(Dt)})})}saveItem(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(Rt.Id>0?F.yw.PUT:F.yw.POST,Rt.Id>0?"/tvseries/Update":"/tvseries/Create",Rt).then(Ln=>{St(!0)},Ln=>{console.error(Ln),It(Ln)})})}deleteItem(Rt){return new Promise((St,It)=>{this.restProvider.executeSinovadApiService(F.yw.DELETE,"/tvseries/Delete/"+Rt).then(gn=>{St(gn)},gn=>{console.error(gn),It(gn)})})}deleteItems(Rt){return new Promise((St,It)=>{let Zt=[];for(let Hn=0;Hn<Rt.length;Hn++)Zt.push(Rt[Hn].Id);var gn=Zt.join(",");this.restProvider.executeSinovadApiService(F.yw.DELETE,"/tvseries/DeleteList/"+gn).then(Hn=>{St(Hn)},Hn=>{console.error(Hn),It(Hn)})})}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.LFG(D.C))};static#t=this.\u0275prov=o.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}return Ot})();var gt=v(8034);function Qe(Ot,yn){1&Ot&&(o.TgZ(0,"mat-error"),o._uU(1," Nombre es "),o.TgZ(2,"strong"),o._uU(3,"requerido"),o.qZA()())}function Fe(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"form",1),o.NdJ("ngSubmit",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.saveItem())}),o.TgZ(1,"div",2)(2,"h5",3),o._uU(3),o.qZA(),o.TgZ(4,"button",4),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._UZ(5,"i",5),o.qZA()(),o.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),o._uU(9,"Nombre"),o.qZA(),o._UZ(10,"input",7),o.YNc(11,Qe,4,0,"mat-error",8),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Primera fecha de emisi\xf3n"),o.qZA(),o._UZ(15,"input",9),o.TgZ(16,"mat-hint"),o._uU(17,"MM/DD/YYYY"),o.qZA(),o._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),o.qZA(),o.TgZ(21,"mat-form-field")(22,"mat-label"),o._uU(23,"\xdaltima fecha de emisi\xf3n"),o.qZA(),o._UZ(24,"input",12),o.TgZ(25,"mat-hint"),o._uU(26,"MM/DD/YYYY"),o.qZA(),o._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),o.qZA(),o.TgZ(30,"mat-form-field")(31,"mat-label"),o._uU(32,"G\xe9neros"),o.qZA(),o.TgZ(33,"textarea",13),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.showGenresSelectionModal())}),o.qZA()(),o.TgZ(34,"mat-form-field")(35,"mat-label"),o._uU(36,"Directores"),o.qZA(),o._UZ(37,"textarea",14),o.qZA(),o.TgZ(38,"mat-form-field")(39,"mat-label"),o._uU(40,"Actores"),o.qZA(),o._UZ(41,"textarea",15),o.qZA(),o.TgZ(42,"mat-form-field")(43,"mat-label"),o._uU(44,"Resumen"),o.qZA(),o._UZ(45,"textarea",16),o.qZA(),o.TgZ(46,"mat-form-field")(47,"mat-label"),o._uU(48,"Im\xe1gen"),o.qZA(),o._UZ(49,"textarea",17),o.qZA()(),o.TgZ(50,"div",18)(51,"button",19),o.NdJ("click",function(){o.CHM(Rt);const It=o.oxw();return o.KtG(It.closeModal())}),o._uU(52,"Close"),o.qZA(),o.TgZ(53,"button",20),o._uU(54,"Guardar"),o.qZA()()(),o._UZ(55,"app-custom-spinner",21)}if(2&Ot){const Rt=o.MAs(20),St=o.oxw();o.Q6J("formGroup",St.tvserieFormGroup),o.xp6(3),o.Oqu(St.tvserie.Id>0?"Editar":"Nuevo"),o.xp6(7),o.Q6J("errorStateMatcher",St.matcher),o.xp6(1),o.Q6J("ngIf",St.tvserieFormGroup.controls.name.hasError("required")),o.xp6(4),o.Q6J("matDatepicker",Rt),o.xp6(3),o.Q6J("for",Rt),o.xp6(6),o.Q6J("matDatepicker",Rt),o.xp6(3),o.Q6J("for",Rt),o.xp6(6),o.Q6J("readonly",!0),o.xp6(20),o.Q6J("disabled",St.showLoading||!St.tvserieFormGroup.valid),o.xp6(2),o.Q6J("showLoading",St.showLoading)}}let ke=(()=>{class Ot{constructor(Rt,St,It,Zt,gn,Ln,Hn){this.commonService=Rt,this.modalService=St,this.genreService=It,this.formBuilder=Zt,this.activeModal=gn,this.snackbarService=Ln,this.tvserieService=Hn,this.showLoading=!1,this.matcher=new P.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(Rt=>{this.listGenres=Rt.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new k.NI(this.tvserie.Name,[k.kI.required]),firstAirDate:new k.NI(this.commonService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new k.NI(this.commonService.formatDate(this.tvserie.LastAirDate)),directors:new k.NI(this.tvserie.Directors),actors:new k.NI(this.tvserie.Actors),overview:new k.NI(this.tvserie.Overview),posterPath:new k.NI(this.tvserie.PosterPath),selectedGenres:new k.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(Rt=>{this.tvserie=Rt.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var Rt=JSON.parse(JSON.stringify(this.tvserie));Rt.Name=this.tvserieFormGroup.value.name,Rt.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,Rt.LastAirDate=this.tvserieFormGroup.value.lastAirDate,Rt.Directors=this.tvserieFormGroup.value.directors,Rt.Actors=this.tvserieFormGroup.value.actors,Rt.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(Rt).then(St=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",w.dA.Success),this.activeModal.close()},St=>{this.showLoading=!1,console.error(St)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(St=>St.GenreName).join(", "):""}showGenresSelectionModal(){var Rt=this,St=this.modalService.open(Yt.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});St.componentInstance.listAllGenres=this.listGenres,St.componentInstance.selection=new zt.Ov(!0,this.getTvSerieGenres()),St.closed.subscribe(It=>{Rt.setTvSerieGenres(It)})}getTvSerieGenres(){var Rt=this.tvserie.ListItemGenres.map(St=>St.GenreId);return this.listGenres.filter(St=>-1!=Rt.indexOf(St.Id))}setTvSerieGenres(Rt){var St=[];Rt.forEach(It=>{St.push({TvSerieId:this.tvserie.Id,GenreId:It.Id,GenreName:It.Name})}),this.tvserie.ListItemGenres=St,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(cn.v),o.Y36(d.FF),o.Y36(nn.c),o.Y36(k.qu),o.Y36(d.Kz),o.Y36(B.c),o.Y36(Mt))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(St,It){1&St&&o.YNc(0,Fe,56,11,"ng-template",0),2&St&&o.Q6J("ngIf",null!=It.tvserie&&It.tvserieFormGroup)},dependencies:[k._Y,k.Fj,k.JJ,k.JL,k.sg,k.u,C.D,u.O5,O.Nt,M.KE,M.hX,M.bx,M.TO,M.R9,gt.Mq,gt.hl,gt.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Ot})();function it(Ot,yn){1&Ot&&(o.TgZ(0,"div",40),o._UZ(1,"mat-spinner"),o.qZA())}function ot(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"th",41)(1,"mat-checkbox",42),o.NdJ("change",function(It){o.CHM(Rt);const Zt=o.oxw();return o.KtG(It?Zt.toggleAllRows():null)}),o.qZA()()}if(2&Ot){const Rt=o.oxw();o.xp6(1),o.Q6J("checked",Rt.selection.hasValue()&&Rt.isAllSelected())("indeterminate",Rt.selection.hasValue()&&!Rt.isAllSelected())}}function ft(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"td",43)(1,"mat-checkbox",44),o.NdJ("click",function(It){const gn=o.CHM(Rt).$implicit,Ln=o.oxw();return o.KtG(Ln.onChangeCheckValue(It,gn))}),o.qZA()()}if(2&Ot){const Rt=yn.$implicit,St=o.oxw();o.xp6(1),o.Q6J("checked",St.selection.isSelected(Rt))}}function mt(Ot,yn){1&Ot&&(o.TgZ(0,"th",45),o._uU(1,"N\xb0"),o.qZA())}function Et(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",46),o._uU(1),o.qZA()),2&Ot){const Rt=yn.index,St=o.oxw();o.xp6(1),o.hij(" ",St.getElementNumber(Rt,St.currentPage,St.itemsPerPage),"")}}function Qt(Ot,yn){1&Ot&&(o.TgZ(0,"th",47),o._uU(1,"Nombre"),o.qZA())}function fn(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",48),o._uU(1),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",Rt.Name," ")}}function Jt(Ot,yn){1&Ot&&(o.TgZ(0,"th",49),o._uU(1,"Primera emisi\xf3n"),o.qZA())}function pn(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",50),o._uU(1),o.ALo(2,"date"),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,Rt.FirstAirDate,"dd-MM-YYYY")," ")}}function Tn(Ot,yn){1&Ot&&(o.TgZ(0,"th",49),o._uU(1,"\xdaltima emisi\xf3n"),o.qZA())}function Dn(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",50),o._uU(1),o.ALo(2,"date"),o.qZA()),2&Ot){const Rt=yn.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,Rt.LastAirDate,"dd-MM-YYYY")," ")}}function Fn(Ot,yn){1&Ot&&(o.TgZ(0,"th",51),o._uU(1,"Actores"),o.qZA())}function Kn(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",52,53),o._uU(2),o.qZA()),2&Ot){const Rt=yn.$implicit,St=o.MAs(1);o.Udp("cursor",St.offsetWidth<St.scrollWidth?"pointer":""),o.s9C("matTooltip",St.offsetWidth<St.scrollWidth?Rt.Actors:""),o.xp6(2),o.Oqu(Rt.Actors)}}function dn(Ot,yn){1&Ot&&(o.TgZ(0,"th",51),o._uU(1,"Directores"),o.qZA())}function an(Ot,yn){if(1&Ot&&(o.TgZ(0,"td",52,53),o._uU(2),o.qZA()),2&Ot){const Rt=yn.$implicit,St=o.MAs(1);o.Udp("cursor",St.offsetWidth<St.scrollWidth?"pointer":""),o.s9C("matTooltip",St.offsetWidth<St.scrollWidth?Rt.Directors:""),o.xp6(2),o.hij(" ",Rt.Directors," ")}}function un(Ot,yn){1&Ot&&o._UZ(0,"th",54)}function on(Ot,yn){if(1&Ot){const Rt=o.EpF();o.TgZ(0,"td",55)(1,"div",56)(2,"button",57),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.showSeasonListModal(Zt))}),o._UZ(3,"i",58),o.qZA(),o.TgZ(4,"button",59),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.editItem(Zt))}),o._UZ(5,"i",60),o.qZA(),o.TgZ(6,"button",61),o.NdJ("click",function(){const Zt=o.CHM(Rt).$implicit,gn=o.oxw();return o.KtG(gn.deleteItem(Zt))}),o._UZ(7,"i",7),o.qZA()()()}}function ln(Ot,yn){1&Ot&&o._UZ(0,"tr",62)}function Tt(Ot,yn){1&Ot&&o._UZ(0,"tr",63)}function ct(Ot,yn){1&Ot&&(o.TgZ(0,"td",66),o._uU(1,"No se encontraron datos"),o.qZA())}function hn(Ot,yn){if(1&Ot&&(o.TgZ(0,"tr",64),o.YNc(1,ct,2,0,"td",65),o.qZA()),2&Ot){const Rt=o.oxw();o.xp6(1),o.Q6J("ngIf",!Rt.showLoading)}}const Ze=function(Ot){return{disable:Ot}},bt=function(){return[5,10,25,100]};let Kt=(()=>{class Ot extends e.G{constructor(Rt,St,It,Zt,gn){super(It),this.modalService=Rt,this.dialog=St,this.matPaginatorIntl=It,this.snackbarService=Zt,this.tvserieService=gn}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Rt=>{this.updatePageData(Rt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Rt=>{this.currentPage=1,this.sortBy=Rt.active,this.sortDirection=Rt.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Rt){this.searchText=Rt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Rt=new g;this.showModalForm(Rt)}editItem(Rt){this.showModalForm(Rt)}showModalForm(Rt){var St=this,It=this.modalService.open(ke,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.tvserie=Rt,It.closed.subscribe(Zt=>{St.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Rt=>{this.showLoading=!1;var St=Rt.Data;this.totalCount=Rt.TotalCount,this.listItems=St,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Rt=>{this.showLoading=!1})}deleteItem(Rt){var St=new A.vA;St.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+Rt.Name+"?",accordMessage:"Si, eliminar la serie '"+Rt.Name+"'"},this.dialog.open(I.k,St).afterClosed().subscribe(It=>{It&&this.executeDeleteItem(Rt)})}executeDeleteItem(Rt){this.showLoading=!0,this.tvserieService.deleteItem(Rt.Id).then(St=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},St=>{this.showLoading=!1,this.snackbarService.showSnackBar(St,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Rt=new A.vA;Rt.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,Rt).afterClosed().subscribe(St=>{St&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(Rt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},Rt=>{this.showLoading=!1,this.snackbarService.showSnackBar(Rt,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(Rt){var It=this.modalService.open(Bt,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});It.componentInstance.parent=Rt,It.closed.subscribe(Zt=>{})}static#e=this.\u0275fac=function(St){return new(St||Ot)(o.Y36(d.FF),o.Y36(A.uw),o.Y36(n.ye),o.Y36(B.c),o.Y36(Mt))};static#t=this.\u0275cmp=o.Xpm({type:Ot,selectors:[["app-tvserie-list"]],viewQuery:function(St,It){if(1&St&&(o.Gf(n.NW,5),o.Gf(E.YE,5)),2&St){let Zt;o.iGM(Zt=o.CRH())&&(It.paginator=Zt.first),o.iGM(Zt=o.CRH())&&(It.sort=Zt.first)}},features:[o.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(St,It){1&St&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),o._uU(3,"Series"),o.qZA()(),o.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),o.NdJ("click",function(){return It.showNewItem()}),o._UZ(8,"i",5),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return It.deleteSelectedItems()}),o._UZ(10,"i",7),o.qZA()(),o._UZ(11,"div",8),o.qZA(),o.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Buscar"),o.qZA(),o.TgZ(17,"input",10,11),o.NdJ("keyup",function(gn){return It.applyFilter(gn)}),o.qZA()(),o.TgZ(19,"div",12),o.YNc(20,it,2,0,"div",13),o.TgZ(21,"div",14)(22,"table",15),o.ynx(23,16),o.YNc(24,ot,2,2,"th",17),o.YNc(25,ft,2,1,"td",18),o.BQk(),o.ynx(26,19),o.YNc(27,mt,2,0,"th",20),o.YNc(28,Et,2,1,"td",21),o.BQk(),o.ynx(29,22),o.YNc(30,Qt,2,0,"th",23),o.YNc(31,fn,2,1,"td",24),o.BQk(),o.ynx(32,25),o.YNc(33,Jt,2,0,"th",26),o.YNc(34,pn,3,4,"td",27),o.BQk(),o.ynx(35,28),o.YNc(36,Tn,2,0,"th",26),o.YNc(37,Dn,3,4,"td",27),o.BQk(),o.ynx(38,29),o.YNc(39,Fn,2,0,"th",30),o.YNc(40,Kn,3,4,"td",31),o.BQk(),o.ynx(41,32),o.YNc(42,dn,2,0,"th",30),o.YNc(43,an,3,4,"td",31),o.BQk(),o.ynx(44,33),o.YNc(45,un,1,0,"th",34),o.YNc(46,on,8,0,"td",35),o.BQk(),o.YNc(47,ln,1,0,"tr",36),o.YNc(48,Tt,1,0,"tr",37),o.YNc(49,hn,2,1,"tr",38),o.qZA()()()()(),o.TgZ(50,"div",1)(51,"div",9),o._UZ(52,"mat-paginator",39),o.qZA()()()()),2&St&&(o.xp6(9),o.Q6J("ngClass",o.VKq(7,Ze,!It.selection.hasValue())),o.xp6(11),o.Q6J("ngIf",It.showLoading),o.xp6(2),o.Q6J("dataSource",It.dataSource),o.xp6(25),o.Q6J("matHeaderRowDef",It.getDisplayedColumns()),o.xp6(1),o.Q6J("matRowDefColumns",It.getDisplayedColumns()),o.xp6(4),o.Q6J("color","primary")("pageSizeOptions",o.DdM(9,bt)))},dependencies:[u.mk,u.O5,n.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,O.Nt,M.KE,M.hX,E.YE,E.nU,Y.oG,ve.Ou,de.gM,u.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Ot})()},1716:(Bn,et,v)=>{"use strict";v.d(et,{C:()=>qe});var e=v(2877),n=v(1476),E=v(3566),A=v(5313),_=v(7700),I=v(8923),w=v(9604),g=v(5879),o=v(3946),d=v(6814),u=v(5510),m=v(3931),y=v(2032),k=v(4170),P=v(5940);function B(Xe,ut){1&Xe&&(g.TgZ(0,"div",27),g._UZ(1,"mat-spinner"),g.qZA())}function F(Xe,ut){1&Xe&&(g.TgZ(0,"th",28),g._uU(1,"N\xb0"),g.qZA())}function R(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",29),g._uU(1),g.qZA()),2&Xe){const ze=ut.index,ht=g.oxw();g.xp6(1),g.hij(" ",ht.getElementNumber(ze,ht.currentPage,ht.itemsPerPage),"")}}function D(Xe,ut){1&Xe&&(g.TgZ(0,"th",30),g._uU(1,"Nombre del dispositivo"),g.qZA())}function T(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",31),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.DeviceName," ")}}function C(Xe,ut){1&Xe&&(g.TgZ(0,"th",30),g._uU(1,"Nombre familiar"),g.qZA())}function O(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",31),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.FamilyName," ")}}function M(Xe,ut){1&Xe&&(g.TgZ(0,"th",32),g._uU(1,"IP Privada"),g.qZA())}function G(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",33),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.IpAddress," ")}}function Z(Xe,ut){1&Xe&&(g.TgZ(0,"th",34),g._uU(1,"Puerto"),g.qZA())}function ee(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",35),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.Port," ")}}function ae(Xe,ut){1&Xe&&g._UZ(0,"tr",36)}function Ae(Xe,ut){1&Xe&&g._UZ(0,"tr",37)}function j(Xe,ut){1&Xe&&(g.TgZ(0,"td",40),g._uU(1,"No se encontraron datos"),g.qZA())}function le(Xe,ut){if(1&Xe&&(g.TgZ(0,"tr",38),g.YNc(1,j,2,0,"td",39),g.qZA()),2&Xe){const ze=g.oxw();g.xp6(1),g.Q6J("ngIf",!ze.showLoading)}}const Y=function(){return[5,10,25,100]};let ve=(()=>{class Xe extends e.G{constructor(ze,ht,vt,ce){super(vt),this.dialog=ze,this.mediaServerService=ht,this.matPaginatorIntl=vt,this.snackbarService=ce}ngAfterViewInit(){this.paginator.page.subscribe(ze=>{this.updatePageData(ze),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(ze=>{this.currentPage=1,this.sortBy=ze.active,this.sortDirection=ze.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(ze){this.searchText=ze.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(ze=>{this.showLoading=!1;var ht=ze.Data;this.totalCount=ze.TotalCount,this.listItems=ht,this.dataSource=new A.by(ht),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},ze=>{this.showLoading=!1})}deleteItem(ze){var ht=new _.vA;ht.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+ze.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+ze.DeviceName+"'"},this.dialog.open(I.k,ht).afterClosed().subscribe(vt=>{vt&&this.executeDeleteItem(ze)})}executeDeleteItem(ze){this.showLoading=!0,this.mediaServerService.deleteItem(ze.Id).then(ht=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ht=>{this.showLoading=!1,this.snackbarService.showSnackBar(ht,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var ze=new _.vA;ze.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,ze).afterClosed().subscribe(ht=>{ht&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(ze=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},ze=>{this.showLoading=!1,this.snackbarService.showSnackBar(ze,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(ht){return new(ht||Xe)(g.Y36(_.uw),g.Y36(u.Z),g.Y36(n.ye),g.Y36(m.c))};static#t=this.\u0275cmp=g.Xpm({type:Xe,selectors:[["app-media-server-list"]],viewQuery:function(ht,vt){if(1&ht&&(g.Gf(n.NW,5),g.Gf(E.YE,5)),2&ht){let ce;g.iGM(ce=g.CRH())&&(vt.paginator=ce.first),g.iGM(ce=g.CRH())&&(vt.sort=ce.first)}},inputs:{parentItem:"parentItem"},features:[g.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ht,vt){1&ht&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),g._uU(3),g.qZA()(),g.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),g._uU(9,"Buscar"),g.qZA(),g.TgZ(10,"input",4,5),g.NdJ("keyup",function(Ve){return vt.applyFilter(Ve)}),g.qZA()(),g.TgZ(12,"div",6),g.YNc(13,B,2,0,"div",7),g.TgZ(14,"div",8)(15,"table",9),g.ynx(16,10),g.YNc(17,F,2,0,"th",11),g.YNc(18,R,2,1,"td",12),g.BQk(),g.ynx(19,13),g.YNc(20,D,2,0,"th",14),g.YNc(21,T,2,1,"td",15),g.BQk(),g.ynx(22,16),g.YNc(23,C,2,0,"th",14),g.YNc(24,O,2,1,"td",15),g.BQk(),g.ynx(25,17),g.YNc(26,M,2,0,"th",18),g.YNc(27,G,2,1,"td",19),g.BQk(),g.ynx(28,20),g.YNc(29,Z,2,0,"th",21),g.YNc(30,ee,2,1,"td",22),g.BQk(),g.YNc(31,ae,1,0,"tr",23),g.YNc(32,Ae,1,0,"tr",24),g.YNc(33,le,2,1,"tr",25),g.qZA()()()()(),g.TgZ(34,"div",1)(35,"div",3),g._UZ(36,"mat-paginator",26),g.qZA()()()()),2&ht&&(g.xp6(3),g.hij("",vt.parentItem.UserName," : Servidores multimedia"),g.xp6(10),g.Q6J("ngIf",vt.showLoading),g.xp6(2),g.Q6J("dataSource",vt.dataSource),g.xp6(16),g.Q6J("matHeaderRowDef",vt.getDisplayedColumns()),g.xp6(1),g.Q6J("matRowDefColumns",vt.getDisplayedColumns()),g.xp6(4),g.Q6J("color","primary")("pageSizeOptions",g.DdM(7,Y)))},dependencies:[d.O5,n.NW,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,A.Ee,y.Nt,k.KE,k.hX,E.YE,E.nU,P.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return Xe})();function de(Xe,ut){if(1&Xe){const ze=g.EpF();g.TgZ(0,"div",1),g._UZ(1,"h5",2),g.TgZ(2,"button",3),g.NdJ("click",function(){g.CHM(ze);const vt=g.oxw();return g.KtG(vt.closeModal())}),g._UZ(3,"i",4),g.qZA()(),g.TgZ(4,"div",5),g._UZ(5,"app-media-server-list",6),g.qZA(),g.TgZ(6,"div",7)(7,"button",8),g.NdJ("click",function(){g.CHM(ze);const vt=g.oxw();return g.KtG(vt.closeModal())}),g._uU(8,"Close"),g.qZA()()}if(2&Xe){const ze=g.oxw();g.xp6(5),g.Q6J("parentItem",ze.parent)}}let Se=(()=>{class Xe{constructor(ze){this.activeModal=ze}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(ht){return new(ht||Xe)(g.Y36(o.Kz))};static#t=this.\u0275cmp=g.Xpm({type:Xe,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(ht,vt){1&ht&&g.YNc(0,de,9,1,"ng-template",0),2&ht&&g.Q6J("ngIf",null!=vt.parent)},dependencies:[d.O5,ve]})}return Xe})();var xe=v(5612),Ge=v(9223);function ge(Xe,ut){if(1&Xe&&g._UZ(0,"img",7),2&Xe){const ze=g.oxw().$implicit;g.Q6J("src",ze.imageUrl,g.LSH)}}function Ce(Xe,ut){if(1&Xe&&g._UZ(0,"i"),2&Xe){const ze=g.oxw().$implicit;g.Tol(ze.iconClass)}}function Le(Xe,ut){if(1&Xe){const ze=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){const ce=g.CHM(ze).$implicit,Ve=g.oxw();return g.KtG(Ve.onClickContextMenuOption(ce))}),g.TgZ(1,"div",3),g.YNc(2,ge,1,1,"img",4),g.YNc(3,Ce,1,3,"i",5),g.qZA(),g.TgZ(4,"div",6),g._uU(5),g.qZA()()}if(2&Xe){const ze=ut.$implicit;g.Udp("border-bottom",ze.showBorderBottom?"1px solid black":""),g.xp6(2),g.Q6J("ngIf",ze.imageUrl),g.xp6(1),g.Q6J("ngIf",ze.iconClass),g.xp6(2),g.hij(" ",ze.text," ")}}let we=(()=>{class Xe{constructor(){this.hideContextMenu=new g.vpe,this.clickOption=new g.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(ze){this.clickOption.emit(ze)}static#e=this.\u0275fac=function(ht){return new(ht||Xe)};static#t=this.\u0275cmp=g.Xpm({type:Xe,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(ht,vt){1&ht&&(g.TgZ(0,"div",0),g.NdJ("clickOutside",function(){return vt.onClickOutside()}),g.YNc(1,Le,6,5,"ng-template",1),g.qZA()),2&ht&&(g.Udp("top",vt.top+"px")("left",vt.left+"px"),g.xp6(1),g.Q6J("ngForOf",vt.listOptions))},dependencies:[d.sg,d.O5,Ge._],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return Xe})(),Te=(()=>{class Xe{constructor(ze,ht,vt){this.factoryResolver=ze,this.injector=ht,this.applicationRef=vt}show(ze,ht,vt,ce){return new Promise((Ve,yt)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const zt=this.factoryResolver.resolveComponentFactory(we).create(this.injector);this.lastViewRef=zt.hostView,this.applicationRef.attachView(zt.hostView);let Yt=this;zt.instance.left=ht,zt.instance.top=vt,zt.instance.listOptions=ce,zt.instance.clickOption.subscribe(Mt=>{zt.destroy(),Yt.applicationRef.detachView(zt.hostView),Ve(Mt)}),zt.instance.hideContextMenu.subscribe(Mt=>{zt.destroy(),Yt.applicationRef.detachView(zt.hostView),yt(!0)});const cn=zt.hostView.rootNodes[0];document.getElementById(ze).appendChild(cn)})}static#e=this.\u0275fac=function(ht){return new(ht||Xe)(g.LFG(g._Vd),g.LFG(g.zs3),g.LFG(g.z2F))};static#t=this.\u0275prov=g.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();var De=v(1270),Ue=v(2596);function lt(Xe,ut){1&Xe&&(g.TgZ(0,"div",26),g._UZ(1,"mat-spinner"),g.qZA())}function He(Xe,ut){1&Xe&&(g.TgZ(0,"th",27),g._uU(1,"N\xb0"),g.qZA())}function be(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",28),g._uU(1),g.qZA()),2&Xe){const ze=ut.index,ht=g.oxw();g.xp6(1),g.hij(" ",ht.getElementNumber(ze,ht.currentPage,ht.itemsPerPage),"")}}function _e(Xe,ut){1&Xe&&(g.TgZ(0,"th",29),g._uU(1," Usuario "),g.qZA())}function K(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.UserName," ")}}function oe(Xe,ut){1&Xe&&(g.TgZ(0,"th",29),g._uU(1," Correo "),g.qZA())}function pe(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.Email," ")}}function re(Xe,ut){1&Xe&&(g.TgZ(0,"th",29),g._uU(1," Nombres "),g.qZA())}function Q(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.FirstName," ")}}function X(Xe,ut){1&Xe&&(g.TgZ(0,"th",29),g._uU(1," Apellidos "),g.qZA())}function $(Xe,ut){if(1&Xe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&Xe){const ze=ut.$implicit;g.xp6(1),g.hij(" ",ze.LastName," ")}}function ne(Xe,ut){1&Xe&&g._UZ(0,"th",31)}function J(Xe,ut){if(1&Xe){const ze=g.EpF();g.TgZ(0,"td",32)(1,"div",33)(2,"button",34),g.NdJ("click",function(){const ce=g.CHM(ze).$implicit,Ve=g.oxw();return g.KtG(Ve.deleteItem(ce))}),g._UZ(3,"i",35),g.qZA()()()}}function q(Xe,ut){1&Xe&&g._UZ(0,"tr",36)}const me=function(Xe){return{active:Xe}};function Ee(Xe,ut){if(1&Xe){const ze=g.EpF();g.TgZ(0,"tr",37),g.NdJ("contextmenu",function(vt){const Ve=g.CHM(ze).$implicit,yt=g.oxw();return g.KtG(yt.onContextMenuItem(vt,Ve))}),g.qZA()}if(2&Xe){const ze=ut.$implicit,ht=g.oxw();g.Q6J("ngClass",g.VKq(1,me,ht.lastSelectedItem&&ze.Id==ht.lastSelectedItem.Id))}}function ye(Xe,ut){1&Xe&&(g.TgZ(0,"td",40),g._uU(1,"No se encontraron datos"),g.qZA())}function Ne(Xe,ut){if(1&Xe&&(g.TgZ(0,"tr",38),g.YNc(1,ye,2,0,"td",39),g.qZA()),2&Xe){const ze=g.oxw();g.xp6(1),g.Q6J("ngIf",!ze.showLoading)}}const tt=function(){return[5,10,25,100]};let qe=(()=>{class Xe extends e.G{constructor(ze,ht,vt,ce,Ve,yt,Bt){super(yt),this.router=ze,this.modalService=ht,this.contextMenuService=vt,this.dialog=ce,this.userService=Ve,this.matPaginatorIntl=yt,this.snackbarService=Bt}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(ze=>{this.updatePageData(ze),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(ze=>{this.currentPage=1,this.sortBy=ze.active,this.sortDirection=ze.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(ze){this.searchText=ze.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(ze=>{this.showLoading=!1;var ht=ze.Data;this.totalCount=ze.TotalCount,this.listItems=ht,this.dataSource=new A.by(ht),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},ze=>{this.showLoading=!1})}deleteItem(ze){var ht=new _.vA;ht.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+ze.UserName+"?",accordMessage:"Si, eliminar el usuario '"+ze.UserName+"'"},this.dialog.open(I.k,ht).afterClosed().subscribe(vt=>{vt&&this.executeDeleteItem(ze)})}executeDeleteItem(ze){this.showLoading=!0,this.userService.deleteItem(ze.Id).then(ht=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ht=>{this.showLoading=!1,this.snackbarService.showSnackBar(ht,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var ze=new _.vA;ze.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(I.k,ze).afterClosed().subscribe(ht=>{ht&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(ze=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},ze=>{this.showLoading=!1,this.snackbarService.showSnackBar(ze,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(ze,ht){this.lastSelectedItem=ht,ze.preventDefault(),ze.stopPropagation();let vt=[];vt.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),vt&&vt.length>0&&this.renderContextMenuComponent(ze.clientX,ze.clientY,vt,ht)}renderContextMenuComponent(ze,ht,vt,ce){this.contextMenuService.show("sinovadMainContainer",ze,ht,vt).then(Ve=>{"ShowMediaServers"==Ve.key&&this.showMediaServerListModal(ce)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(ze){var ht=this,vt=this.modalService.open(Se,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});vt.componentInstance.parent=ze,vt.closed.subscribe(ce=>{ht.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(ht){return new(ht||Xe)(g.Y36(xe.F0),g.Y36(o.FF),g.Y36(Te),g.Y36(_.uw),g.Y36(De.K),g.Y36(n.ye),g.Y36(m.c))};static#t=this.\u0275cmp=g.Xpm({type:Xe,selectors:[["app-user-list"]],viewQuery:function(ht,vt){if(1&ht&&(g.Gf(n.NW,5),g.Gf(E.YE,5)),2&ht){let ce;g.iGM(ce=g.CRH())&&(vt.paginator=ce.first),g.iGM(ce=g.CRH())&&(vt.sort=ce.first)}},features:[g.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ht,vt){1&ht&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),g._uU(3,"Usuarios"),g.qZA()(),g.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),g._uU(9,"Buscar"),g.qZA(),g.TgZ(10,"input",4,5),g.NdJ("keyup",function(Ve){return vt.applyFilter(Ve)}),g.qZA()(),g.TgZ(12,"div",6),g.YNc(13,lt,2,0,"div",7),g.TgZ(14,"div",8)(15,"table",9),g.ynx(16,10),g.YNc(17,He,2,0,"th",11),g.YNc(18,be,2,1,"td",12),g.BQk(),g.ynx(19,13),g.YNc(20,_e,2,0,"th",14),g.YNc(21,K,2,1,"td",15),g.BQk(),g.ynx(22,16),g.YNc(23,oe,2,0,"th",14),g.YNc(24,pe,2,1,"td",15),g.BQk(),g.ynx(25,17),g.YNc(26,re,2,0,"th",14),g.YNc(27,Q,2,1,"td",15),g.BQk(),g.ynx(28,18),g.YNc(29,X,2,0,"th",14),g.YNc(30,$,2,1,"td",15),g.BQk(),g.ynx(31,19),g.YNc(32,ne,1,0,"th",20),g.YNc(33,J,4,0,"td",21),g.BQk(),g.YNc(34,q,1,0,"tr",22),g.YNc(35,Ee,1,3,"tr",23),g.YNc(36,Ne,2,1,"tr",24),g.qZA()()()()(),g.TgZ(37,"div",1)(38,"div",3),g._UZ(39,"mat-paginator",25),g.qZA()()()()),2&ht&&(g.xp6(13),g.Q6J("ngIf",vt.showLoading),g.xp6(2),g.Q6J("dataSource",vt.dataSource),g.xp6(19),g.Q6J("matHeaderRowDef",vt.getDisplayedColumns()),g.xp6(1),g.Q6J("matRowDefColumns",vt.getDisplayedColumns()),g.xp6(4),g.Q6J("color","primary")("pageSizeOptions",g.DdM(6,tt)))},dependencies:[d.mk,d.O5,n.NW,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,A.Ee,y.Nt,k.KE,k.hX,E.YE,E.nU,P.Ou,Ue.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Xe})()},1270:(Bn,et,v)=>{"use strict";v.d(et,{K:()=>o});var e=v(863),n=v(2372),E=v(8645),A=v(5879),_=v(5864),I=v(7541),w=v(1367),g=v(9429);let o=(()=>{class d{constructor(m,y,k,P){this.menuService=m,this.signalIRHubService=y,this.sharedDataService=k,this.restProvider=P,this.completedCallGetUserData$=new E.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedDataService.manageMenus=[],this.sharedDataService.currentProfile=void 0,this.sharedDataService.userData=void 0,this.sharedDataService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetUserData").then(m=>{let y=m.Data;y&&y.User?(this.sharedDataService.userData=y.User,this.sharedDataService.mediaServers=y.MediaServers,this.sharedDataService.linkedAccounts=y.LinkedAccounts,this.sharedDataService.listProfiles=y.Profiles,this.sharedDataService.currentProfile=y.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},m=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(m)})}getItems(m,y,k,P,B,F){return new Promise((R,D)=>{let T=(0,n.Z)();this.lastCallGuid=T;var C="?page="+m.toString()+"&take="+y.toString()+"&sortBy="+k+"&sortDirection="+P+"&searchText="+B+"&searchBy="+F;this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetAllWithPaginationAsync"+C).then(M=>{this.lastCallGuid==T&&R(M)},M=>{console.error(M),D(M)})})}saveItem(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(m.Id>0?e.yw.PUT:e.yw.POST,m.Id>0?"/users/Update":"/users/Create",m).then(F=>{y(!0)},F=>{console.error(F),k(F)})})}deleteItem(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/Delete/"+m).then(B=>{y(B)},B=>{console.error(B),k(B)})})}deleteItems(m){return new Promise((y,k)=>{let P=[];for(let R=0;R<m.length;R++)P.push(m[R].Id);var B=P.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/DeleteList/"+B).then(R=>{y(R)},R=>{console.error(R),k(R)})})}validateConfirmEmailToken(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateConfirmEmailToken",m).then(P=>{y(P)},P=>{console.error(P),k(P)})})}recoverPassword(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/RecoverPassword",m).then(P=>{y(P)},P=>{console.error(P),k(P)})})}registerUser(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/Register",m).then(P=>{y(P)},P=>{console.error(P),k(P)})})}validateResetPasswordToken(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateResetPasswordToken",m).then(P=>{y(P)},P=>{console.error(P),k(P)})})}resetPassword(m){return new Promise((y,k)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ResetPassword",m).then(P=>{y(P)},P=>{console.error(P),k(P)})})}static#e=this.\u0275fac=function(y){return new(y||d)(A.LFG(_.h),A.LFG(I.n),A.LFG(w.g),A.LFG(g.C))};static#t=this.\u0275prov=A.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},4748:(Bn,et,v)=>{"use strict";v.d(et,{n:()=>B});var e=v(5879),n=v(1791),E=v(5612),A=v(5731),_=v(1367),I=v(6814),w=v(5220),g=v(1531);function o(F,R){if(1&F&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&F){const D=e.oxw().$implicit,T=e.oxw(2);e.xp6(1),e.hij(" ",T.commonService.getInitials(D)," ")}}function d(F,R){if(1&F&&(e._UZ(0,"img",23),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&F){const D=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,D.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function u(F,R){1&F&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",6),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()()),2&F&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,e.xi3(4,3,"edit-profile.png","GetIconURLByKey")),e.LSH))}function m(F,R){if(1&F){const D=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const O=e.CHM(D).$implicit,M=e.oxw(2);return e.KtG(M.onSelectProfile(O))}),e.YNc(1,o,2,1,"div",20),e.YNc(2,d,3,6,"img",20),e.YNc(3,u,5,6,"div",21),e.TgZ(4,"div",22),e._uU(5),e.qZA()()}if(2&F){const D=R.$implicit,T=e.oxw(2);e.MGl("id","profile_",D.Id,""),e.xp6(1),e.Q6J("ngIf",null==D.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=D.AvatarPath),e.xp6(1),e.Q6J("ngIf",T.enableEditMode),e.xp6(2),e.hij(" ",D.FullName," ")}}function y(F,R){if(1&F&&e.YNc(0,m,6,5,"ng-template",18),2&F){const D=e.oxw();e.Q6J("ngForOf",D.sharedDataService.listProfiles)}}function k(F,R){if(1&F){const D=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(D);const C=e.oxw();return e.KtG(C.changeToEditMode())}),e._uU(1," EDITAR PERFILES "),e.qZA()}}function P(F,R){if(1&F){const D=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(D);const C=e.oxw();return e.KtG(C.confirmEdit())}),e._uU(1," LISTO "),e.qZA()}}let B=(()=>{class F{constructor(D,T,C,O){this.profileService=D,this.router=T,this.commonService=C,this.sharedDataService=O,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/profiles/add")}editProfile(D){this.router.navigateByUrl("/profiles/edit/"+D.Guid)}onSelectProfile(D){this.enableEditMode?this.editProfile(D):this.enterProfile(D)}enterProfile(D){this.sharedDataService.currentProfile=D,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedDataService.userData.Id,1,100,"Id","asc","","").then(D=>{let T=D.Data;this.sharedDataService.listProfiles=T,this.sharedDataService.currentProfile=T[0],this.showLoading=!1},D=>{this.showLoading=!1})}static#e=this.\u0275fac=function(T){return new(T||F)(e.Y36(n.H),e.Y36(E.F0),e.Y36(A.v),e.Y36(_.g))};static#t=this.\u0275cmp=e.Xpm({type:F,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(T,C){if(1&T&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11," \xbfQui\xe9n eres? "),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,y,1,1,"ng-template",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return C.showNewProfile()}),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.ALo(17,"async"),e.ALo(18,"formatDataPipe"),e.qZA(),e.TgZ(19,"div",14),e._uU(20," Crear "),e.qZA()()()(),e.TgZ(21,"div",15,16),e.YNc(23,k,2,0,"ng-template",10),e.YNc(24,P,2,0,"ng-template",10),e.qZA()()(),e._UZ(25,"app-custom-spinner",17)),2&T){const O=e.MAs(4),M=e.MAs(22);e.xp6(6),e.Q6J("src",e.lcZ(7,8,e.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),e.LSH),e.xp6(3),e.Udp("height",C._window.innerWidth<768?"calc(100% - "+(O.offsetHeight+M.offsetHeight)+"px)":""),e.xp6(4),e.Q6J("ngIf",C.sharedDataService.listProfiles),e.xp6(3),e.Q6J("src",e.lcZ(17,13,e.xi3(18,15,"plus.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngIf",!C.enableEditMode),e.xp6(1),e.Q6J("ngIf",C.enableEditMode),e.xp6(1),e.Q6J("showLoading",C.showLoading)}},dependencies:[I.sg,I.O5,w.D,I.Ov,g.A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return F})()},1791:(Bn,et,v)=>{"use strict";v.d(et,{H:()=>I});var e=v(863),n=v(2372),E=v(5879),A=v(1367),_=v(9429);let I=(()=>{class w{constructor(o,d){this.sharedDataService=o,this.restProvider=d}uploadAvatarProfile(o){return new Promise((d,u)=>{this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",o).then(y=>{d(y)},y=>{console.error(y),u(y)})})}getProfileById(o){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAsync/"+o).then(m=>{d(m)},m=>{console.error(m),u(m)})})}getProfileByGuid(o){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetByGuidAsync/"+o).then(m=>{d(m)},m=>{console.error(m),u(m)})})}getAllProfiles(){return new Promise((o,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedDataService.userData.Id).then(u=>{let m=u.Data;this.sharedDataService.listProfiles=m,this.sharedDataService.currentProfile=m[0],o(!0)},u=>{d(u)})})}getProfiles(o,d,u,m,y,k,P){return new Promise((B,F)=>{let R=(0,n.Z)();this.lastCallGuid=R;var D="?page="+d.toString()+"&take="+u.toString()+"&sortBy="+m+"&sortDirection="+y+"&searchText="+k+"&searchBy="+P;this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+o+D).then(C=>{this.lastCallGuid==R&&B(C)},C=>{console.error(C),F(C)})})}saveItem(o){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(o.Id>0?e.yw.PUT:e.yw.POST,o.Id>0?"/profiles/Update":"/profiles/Create",o).then(k=>{d(!0)},k=>{console.error(k),u(k)})})}deleteItem(o){return new Promise((d,u)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/Delete/"+o).then(y=>{d(y)},y=>{console.error(y),u(y)})})}deleteItems(o){return new Promise((d,u)=>{let m=[];for(let P=0;P<o.length;P++)m.push(o[P].Id);var y=m.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/DeleteList/"+y).then(P=>{d(P)},P=>{console.error(P),u(P)})})}static#e=this.\u0275fac=function(d){return new(d||w)(E.LFG(A.g),E.LFG(_.C))};static#t=this.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},5529:(Bn,et,v)=>{"use strict";v.d(et,{H:()=>ge});var e=v(863),n=v(5879),E=v(9857),A=v(1367),_=v(6814),I=v(95),w=v(9429);let g=(()=>{class Ce{constructor(fe){this.restProvider=fe}setPassword(fe){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/SetPassword",fe).then(De=>{we(!0)},De=>{console.error(De),Te(De)})})}changePassword(fe){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangePassword",fe).then(De=>{we(!0)},De=>{console.error(De),Te(De)})})}changeUsername(fe){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeUserName",fe).then(De=>{we(!0)},De=>{console.error(De),Te(De)})})}changeNanes(fe){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeNames",fe).then(De=>{we(!0)},De=>{console.error(De),Te(De)})})}static#e=this.\u0275fac=function(we){return new(we||Ce)(n.LFG(w.C))};static#t=this.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();var o=v(5731);function d(Ce,Le){if(1&Ce&&(n.TgZ(0,"div",13),n._UZ(1,"i",14),n._uU(2),n.qZA()),2&Ce){const fe=n.oxw();n.xp6(2),n.hij("",fe.serverErrorMessage," ")}}function u(Ce,Le){1&Ce&&n._UZ(0,"div",15)}const m=function(Ce){return{error:Ce}};let y=(()=>{class Ce{constructor(fe,we,Te,De){this.accountSettingsService=fe,this.formBuilder=we,this.commonService=Te,this.sharedDataService=De,this.serverErrorMessage=void 0,this.closeChangePassword=new n.vpe,this.changePasswordForm=this.formBuilder.group({password:new I.NI("",[I.kI.required]),confirmPassword:new I.NI("",[I.kI.required]),currentPassword:new I.NI("",[I.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedDataService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(fe=>{this.loading=!1,this.closeChangePassword.emit(!0)},fe=>{this.loading=!1,this.serverErrorMessage=fe,console.error(fe)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ce)(n.Y36(g),n.Y36(I.qu),n.Y36(o.v),n.Y36(A.g))};static#t=this.\u0275cmp=n.Xpm({type:Ce,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(n.TgZ(0,"div",0),n.YNc(1,d,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return Te.closeChangePassword.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return Te.changePasword()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",6)(12,"label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"div",6)(16,"label"),n._uU(17),n.qZA(),n._UZ(18,"input",9),n.qZA(),n.TgZ(19,"div",10)(20,"button",11)(21,"span"),n._uU(22,"Guardar Cambios"),n.qZA(),n.YNc(23,u,1,0,"div",12),n.qZA()()()()()),2&we&&(n.xp6(1),n.Q6J("ngIf",Te.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",Te.changePasswordForm),n.xp6(1),n.Q6J("ngClass",n.VKq(12,m,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"password"))),n.xp6(2),n.hij(" Contrase\xf1a",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"password")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),n.xp6(2),n.Q6J("ngClass",n.VKq(14,m,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"confirmPassword"))),n.xp6(2),n.hij("Confirme la nueva contrase\xf1a",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"confirmPassword")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),n.xp6(2),n.Q6J("ngClass",n.VKq(16,m,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"currentPassword"))),n.xp6(2),n.hij("Contrase\xf1a actual",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"currentPassword")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),n.xp6(3),n.Q6J("disabled",Te.loading||!Te.changePasswordForm.valid),n.xp6(1),n.Udp("visibility",Te.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,I._Y,I.Fj,I.JJ,I.JL,I.sg,I.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ce})();function k(Ce,Le){if(1&Ce&&(n.TgZ(0,"div",12),n._UZ(1,"i",13),n._uU(2),n.qZA()),2&Ce){const fe=n.oxw();n.xp6(2),n.hij("",fe.serverErrorMessage," ")}}function P(Ce,Le){1&Ce&&n._UZ(0,"div",14)}const B=function(Ce){return{error:Ce}};let F=(()=>{class Ce{constructor(fe,we,Te,De){this.accountSettingsService=fe,this.formBuilder=we,this.commonService=Te,this.sharedDataService=De,this.serverErrorMessage=void 0,this.closeSetPassword=new n.vpe,this.setPasswordForm=this.formBuilder.group({password:new I.NI("",[I.kI.required]),confirmPassword:new I.NI("",[I.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedDataService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(fe=>{this.loading=!1,this.sharedDataService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},fe=>{this.loading=!1,this.serverErrorMessage=fe,console.error(fe)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ce)(n.Y36(g),n.Y36(I.qu),n.Y36(o.v),n.Y36(A.g))};static#t=this.\u0275cmp=n.Xpm({type:Ce,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(n.TgZ(0,"div",0),n.YNc(1,k,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return Te.closeSetPassword.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return Te.setPassword()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",6)(12,"label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"div",9)(16,"button",10)(17,"span"),n._uU(18,"Guardar Cambios"),n.qZA(),n.YNc(19,P,1,0,"div",11),n.qZA()()()()()),2&we&&(n.xp6(1),n.Q6J("ngIf",Te.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",Te.setPasswordForm),n.xp6(1),n.Q6J("ngClass",n.VKq(10,B,Te.commonService.isInvalidFormControl(Te.setPasswordForm,"password"))),n.xp6(2),n.hij(" Elegir una Contrase\xf1a",Te.commonService.isInvalidFormControl(Te.setPasswordForm,"password")&&Te.commonService.hasRequireErrorFormControl(Te.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),n.xp6(2),n.Q6J("ngClass",n.VKq(12,B,Te.commonService.isInvalidFormControl(Te.setPasswordForm,"confirmPassword"))),n.xp6(2),n.hij("Confirmar la contrase\xf1a",Te.commonService.isInvalidFormControl(Te.setPasswordForm,"confirmPassword")&&Te.commonService.hasRequireErrorFormControl(Te.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),n.xp6(3),n.Q6J("disabled",Te.loading||!Te.setPasswordForm.valid),n.xp6(1),n.Udp("visibility",Te.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,I._Y,I.Fj,I.JJ,I.JL,I.sg,I.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ce})();function R(Ce,Le){if(1&Ce&&(n.TgZ(0,"div",11),n._UZ(1,"i",12),n._uU(2),n.qZA()),2&Ce){const fe=n.oxw();n.xp6(2),n.hij("",fe.serverErrorMessage," ")}}function D(Ce,Le){1&Ce&&n._UZ(0,"div",13)}const T=function(Ce){return{error:Ce}};let C=(()=>{class Ce{constructor(fe,we,Te,De){this.accountSettingsService=fe,this.formBuilder=we,this.commonService=Te,this.sharedDataService=De,this.serverErrorMessage=void 0,this.closeChangeUsername=new n.vpe,this.changeUsernameForm=this.formBuilder.group({username:new I.NI(this.sharedDataService.userData.UserName,[I.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedDataService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(fe=>{this.loading=!1,this.sharedDataService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},fe=>{this.loading=!1,this.serverErrorMessage=fe,console.error(fe)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ce)(n.Y36(g),n.Y36(I.qu),n.Y36(o.v),n.Y36(A.g))};static#t=this.\u0275cmp=n.Xpm({type:Ce,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(n.TgZ(0,"div",0),n.YNc(1,R,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return Te.closeChangeUsername.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return Te.changeUsername()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",8)(12,"button",9)(13,"span"),n._uU(14,"Guardar Cambios"),n.qZA(),n.YNc(15,D,1,0,"div",10),n.qZA()()()()()),2&we&&(n.xp6(1),n.Q6J("ngIf",Te.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",Te.changeUsernameForm),n.xp6(1),n.Q6J("ngClass",n.VKq(8,T,Te.commonService.isInvalidFormControl(Te.changeUsernameForm,"username"))),n.xp6(2),n.hij(" Nombre de Usuario",Te.commonService.isInvalidFormControl(Te.changeUsernameForm,"username")&&Te.commonService.hasRequireErrorFormControl(Te.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),n.xp6(3),n.Q6J("disabled",Te.loading||Te.changeUsernameForm.pristine||!Te.changeUsernameForm.valid||Te.changeUsernameForm.value.username==Te.sharedDataService.userData.UserName),n.xp6(1),n.Udp("visibility",Te.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,I._Y,I.Fj,I.JJ,I.JL,I.sg,I.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ce})();function O(Ce,Le){if(1&Ce&&(n.TgZ(0,"div",12),n._UZ(1,"i",13),n._uU(2),n.qZA()),2&Ce){const fe=n.oxw();n.xp6(2),n.hij("",fe.serverErrorMessage," ")}}function M(Ce,Le){1&Ce&&n._UZ(0,"div",14)}const G=function(Ce){return{error:Ce}};let Z=(()=>{class Ce{constructor(fe,we,Te,De){this.accountSettingsService=fe,this.formBuilder=we,this.commonService=Te,this.sharedDataService=De,this.serverErrorMessage=void 0,this.closeChangeNames=new n.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new I.NI(this.sharedDataService.userData.FirstName,[I.kI.required]),lastName:new I.NI(this.sharedDataService.userData.LastName,[I.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedDataService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(fe=>{this.loading=!1,this.sharedDataService.userData.FirstName=this.changeNamesData.FirstName,this.sharedDataService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},fe=>{this.loading=!1,this.serverErrorMessage=fe,console.error(fe)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ce)(n.Y36(g),n.Y36(I.qu),n.Y36(o.v),n.Y36(A.g))};static#t=this.\u0275cmp=n.Xpm({type:Ce,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(n.TgZ(0,"div",0),n.YNc(1,O,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return Te.closeChangeNames.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return Te.changeUsername()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",6)(12,"label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"div",9)(16,"button",10)(17,"span"),n._uU(18,"Guardar Cambios"),n.qZA(),n.YNc(19,M,1,0,"div",11),n.qZA()()()()()),2&we&&(n.xp6(1),n.Q6J("ngIf",Te.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",Te.changeNamesForm),n.xp6(1),n.Q6J("ngClass",n.VKq(10,G,Te.commonService.isInvalidFormControl(Te.changeNamesForm,"firstName"))),n.xp6(2),n.hij(" Nombres",Te.commonService.isInvalidFormControl(Te.changeNamesForm,"firstName")&&Te.commonService.hasRequireErrorFormControl(Te.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),n.xp6(2),n.Q6J("ngClass",n.VKq(12,G,Te.commonService.isInvalidFormControl(Te.changeNamesForm,"lastName"))),n.xp6(2),n.hij(" Apellidos",Te.commonService.isInvalidFormControl(Te.changeNamesForm,"lastName")&&Te.commonService.hasRequireErrorFormControl(Te.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),n.xp6(3),n.Q6J("disabled",Te.loading||Te.changeNamesForm.pristine||!Te.changeNamesForm.valid),n.xp6(1),n.Udp("visibility",Te.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,I._Y,I.Fj,I.JJ,I.JL,I.sg,I.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ce})();function ee(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"div",13),n.NdJ("click",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangeUsernameSection=!1)}),n.TgZ(1,"div",8)(2,"div",14)(3,"button",15),n._uU(4,"Editar"),n.qZA()(),n.TgZ(5,"div",9)(6,"label"),n._uU(7,"Nombre de Usuario"),n.qZA(),n.TgZ(8,"span"),n._uU(9),n.qZA()()()()}if(2&Ce){const fe=n.oxw();n.xp6(9),n.Oqu(fe.sharedDataService.userData.UserName)}}function ae(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"app-change-username",16),n.NdJ("closeChangeUsername",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangeUsernameSection=!0)}),n.qZA()}}function Ae(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"div",13),n.NdJ("click",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangeNamesSection=!1)}),n.TgZ(1,"div",8)(2,"div",14)(3,"button",15),n._uU(4,"Editar"),n.qZA()(),n.TgZ(5,"div",9)(6,"label"),n._uU(7,"Nombres y apellidos"),n.qZA(),n.TgZ(8,"span"),n._uU(9),n.qZA()()()()}if(2&Ce){const fe=n.oxw();n.xp6(9),n.AsE("",fe.sharedDataService.userData.FirstName," ",fe.sharedDataService.userData.LastName,"")}}function j(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"app-change-names",17),n.NdJ("closeChangeNames",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangeNamesSection=!0)}),n.qZA()}}function le(Ce,Le){1&Ce&&(n.TgZ(0,"span"),n._uU(1,"*********"),n.qZA())}function Y(Ce,Le){1&Ce&&(n.TgZ(0,"span"),n._uU(1,"No establecida"),n.qZA())}function ve(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"div",13),n.NdJ("click",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangePasswordSection=!1)}),n.TgZ(1,"div",8)(2,"div",14)(3,"button",15),n._uU(4,"Editar"),n.qZA()(),n.TgZ(5,"div",9)(6,"label"),n._uU(7,"Contrase\xf1a"),n.qZA(),n.YNc(8,le,2,0,"span",18),n.YNc(9,Y,2,0,"span",18),n.qZA()()()}if(2&Ce){const fe=n.oxw();n.xp6(8),n.Q6J("ngIf",fe.sharedDataService.userData.IsPasswordSetted),n.xp6(1),n.Q6J("ngIf",!fe.sharedDataService.userData.IsPasswordSetted)}}function de(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"app-change-password",19),n.NdJ("closeChangePassword",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangePasswordSection=!0)}),n.qZA()}}function Se(Ce,Le){if(1&Ce){const fe=n.EpF();n.TgZ(0,"app-set-password",20),n.NdJ("closeSetPassword",function(){n.CHM(fe);const Te=n.oxw();return n.KtG(Te.isCollapsedChangePasswordSection=!0)}),n.qZA()}}function xe(Ce,Le){1&Ce&&(n.TgZ(0,"span"),n._uU(1,"No establecida"),n.qZA())}function Ge(Ce,Le){if(1&Ce&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&Ce){const fe=n.oxw();n.xp6(1),n.Oqu(fe.currentUserLinkedAccountsText)}}let ge=(()=>{class Ce{constructor(fe,we){this.catalogService=fe,this.sharedDataService=we,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedDataService.linkedAccounts.map(fe=>fe.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(e.P9.LinkedAccountProvider).then(fe=>{this.allLinkedAccountProviders=fe.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(we=>-1!=this.currentUserLinkedAccountIds.indexOf(we.Id)).map(we=>we.Name).join(",")},fe=>{})}static#e=this.\u0275fac=function(we){return new(we||Ce)(n.Y36(E.a),n.Y36(A.g))};static#t=this.\u0275cmp=n.Xpm({type:Ce,selectors:[["app-my-account-page"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(we,Te){1&we&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3,"Cuenta"),n.qZA()(),n.TgZ(4,"div",2)(5,"div",3)(6,"h2"),n._uU(7,"Informaci\xf3n personal"),n.qZA()()(),n.YNc(8,ee,10,1,"div",4),n.YNc(9,ae,1,0,"app-change-username",5),n.YNc(10,Ae,10,2,"div",4),n.YNc(11,j,1,0,"app-change-names",6),n.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),n._uU(16,"Correo electr\xf3nico"),n.qZA(),n.TgZ(17,"span"),n._uU(18),n.qZA()()()(),n.TgZ(19,"div",2)(20,"div",3)(21,"h2"),n._uU(22,"Seguridad"),n.qZA()()(),n.YNc(23,ve,10,2,"div",4),n.YNc(24,de,1,0,"app-change-password",10),n.YNc(25,Se,1,0,"app-set-password",11),n.TgZ(26,"div",2)(27,"div",3)(28,"h2"),n._uU(29,"Ajustes"),n.qZA()()(),n.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),n._uU(34,"Cuentas vinculadas"),n.qZA(),n.YNc(35,xe,2,0,"ng-template",12),n.YNc(36,Ge,2,1,"ng-template",12),n.qZA()()()()),2&we&&(n.xp6(8),n.Q6J("ngIf",Te.isCollapsedChangeUsernameSection),n.xp6(1),n.Q6J("ngIf",!Te.isCollapsedChangeUsernameSection),n.xp6(1),n.Q6J("ngIf",Te.isCollapsedChangeNamesSection),n.xp6(1),n.Q6J("ngIf",!Te.isCollapsedChangeNamesSection),n.xp6(7),n.Oqu(Te.sharedDataService.userData.Email),n.xp6(5),n.Q6J("ngIf",Te.isCollapsedChangePasswordSection),n.xp6(1),n.Q6J("ngIf",!Te.isCollapsedChangePasswordSection&&Te.sharedDataService.userData.IsPasswordSetted),n.xp6(1),n.Q6J("ngIf",!Te.isCollapsedChangePasswordSection&&!Te.sharedDataService.userData.IsPasswordSetted),n.xp6(10),n.Q6J("ngIf",0==Te.sharedDataService.linkedAccounts.length),n.xp6(1),n.Q6J("ngIf",Te.sharedDataService.linkedAccounts.length>0))},dependencies:[_.O5,y,F,C,Z],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ce})()},4769:(Bn,et,v)=>{"use strict";v.d(et,{o:()=>He});var e=v(5879),n=v(7700),E=v(95),A=v(5550),_=v(863),I=v(8777),w=v(1044),g=v(3946),o=v(5220),d=v(6814),u=v(2032),m=v(4170),y=v(3680),k=v(8525);function P(be,_e){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function B(be,_e){if(1&be&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&be){const K=_e.$implicit;e.Q6J("value",K.Id),e.xp6(1),e.hij(" ",K.Name," ")}}function F(be,_e){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Tipo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function R(be,_e){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Directorio es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function D(be,_e){if(1&be){const K=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(K);const pe=e.oxw();return e.KtG(pe.saveStorage())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(K);const pe=e.oxw();return e.KtG(pe.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,P,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"mat-select",9)(16,"mat-option",10),e._uU(17,"--"),e.qZA(),e.YNc(18,B,2,2,"mat-option",11),e.qZA(),e.YNc(19,F,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Directorio"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("click",function(){e.CHM(K);const pe=e.oxw();return e.KtG(pe.showChooserDirectoryModal())}),e.qZA(),e.YNc(24,R,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",13)(26,"button",14),e.NdJ("click",function(){e.CHM(K);const pe=e.oxw();return e.KtG(pe.closeModal())}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",15),e._uU(29,"Guardar"),e.qZA()()(),e._UZ(30,"app-custom-spinner",16)}if(2&be){const K=e.oxw();e.Q6J("formGroup",K.libraryFormGroup),e.xp6(3),e.Oqu(K.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),e.xp6(7),e.Q6J("errorStateMatcher",K.matcher),e.xp6(1),e.Q6J("ngIf",K.libraryFormGroup.controls.name.hasError("required")),e.xp6(5),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",K.mediaTypes),e.xp6(1),e.Q6J("ngIf",K.libraryFormGroup.controls.mediaType.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",K.matcher),e.xp6(1),e.Q6J("ngIf",K.libraryFormGroup.controls.physicalPath.hasError("required")),e.xp6(4),e.Q6J("disabled",K.showLoading||!K.libraryFormGroup.valid),e.xp6(2),e.Q6J("showLoading",K.showLoading)}}let T=(()=>{class be{constructor(K,oe,pe,re){this.libraryService=K,this.activeModal=oe,this.formBuilder=pe,this.modalService=re,this.showLoading=!1,this.matcher=new A.n,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new E.NI(this.library.Name,[E.kI.required]),mediaType:new E.NI(this.library.MediaTypeCatalogDetailId,[E.kI.required]),physicalPath:new E.NI(this.library.PhysicalPath,[E.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var K=JSON.parse(JSON.stringify(this.library));K.Name=this.libraryFormGroup.value.name,K.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),K.MediaTypeCatalogId=_.P9.MediaType,K.PhysicalPath=this.libraryFormGroup.value.physicalPath,K.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,K).then(oe=>{this.showLoading=!1,this.activeModal.close()},oe=>{this.showLoading=!1,console.error(oe)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var K=this,oe=this.modalService.open(I.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});oe.componentInstance.mediaServer=this.mediaServer,oe.closed.subscribe(pe=>{K.libraryFormGroup.controls.physicalPath.setValue(pe)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(oe){return new(oe||be)(e.Y36(w.$),e.Y36(g.Kz),e.Y36(E.qu),e.Y36(g.FF))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(oe,pe){1&oe&&e.YNc(0,D,31,11,"ng-template",0),2&oe&&e.Q6J("ngIf",null!=pe.library&&pe.libraryFormGroup)},dependencies:[E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,o.D,d.sg,d.O5,u.Nt,m.KE,m.hX,m.TO,y.ey,k.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return be})();var C=v(8923),O=v(9604);class M{}var G=v(7541),Z=v(9223);function ee(be,_e){if(1&be){const K=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const re=e.CHM(K).$implicit,Q=e.oxw(2);return e.KtG(Q.onSelectItem(re))}),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&be){const K=_e.$implicit;e.xp6(1),e.Gre("",K.iconClass," me-2"),e.xp6(2),e.Oqu(K.title)}}function ae(be,_e){if(1&be){const K=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("clickOutside",function(){e.CHM(K);const pe=e.oxw();return e.KtG(pe.onClickOutside())}),e.TgZ(2,"div",3),e.YNc(3,ee,4,4,"ng-template",4),e.qZA()()()}if(2&be){const K=e.oxw();e.xp6(1),e.Udp("top",K.top+"px")("right",K.right+"px"),e.xp6(2),e.Q6J("ngForOf",K.options.listItems)}}let Ae=(()=>{class be{constructor(K){this.ref=K,this.hide=new e.vpe,this.selectOption=new e.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(K){this.selectOption.emit(K)}static#e=this.\u0275fac=function(oe){return new(oe||be)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(oe,pe){1&oe&&e.YNc(0,ae,4,5,"div",0),2&oe&&e.Q6J("ngIf",pe.showMenu)},dependencies:[d.sg,d.O5,Z._],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return be})(),Y=(()=>{class be{constructor(K,oe,pe){this.factoryResolver=K,this.injector=oe,this.applicationRef=pe}show(K){return new Promise((oe,pe)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Q=this.factoryResolver.resolveComponentFactory(Ae).create(this.injector);this.lastViewRef=Q.hostView,this.applicationRef.attachView(Q.hostView);let X=this;const $=K.target.getBoundingClientRect();var ne=window.innerWidth-$.right,J=$.top+$.height;Q.instance.options=K,Q.instance.right=ne,Q.instance.top=J,Q.instance.selectOption.subscribe(Ee=>{Ee.eventOnSelectItem&&Ee.eventOnSelectItem.emit(!0),Q.destroy(),X.applicationRef.detachView(Q.hostView),oe(Ee)}),Q.instance.hide.subscribe(Ee=>{Q.destroy(),X.applicationRef.detachView(Q.hostView),pe(!0)});const q=Q.hostView.rootNodes[0];document.getElementById(K.containerId).appendChild(q)})}static#e=this.\u0275fac=function(oe){return new(oe||be)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var ve=v(3931),de=v(5612),Se=v(1367),xe=v(5940),Ge=v(1444);function ge(be,_e){1&be&&e._UZ(0,"i",17)}function Ce(be,_e){1&be&&e._UZ(0,"i",18)}const Le=function(be){return{selected:be}};function fe(be,_e){if(1&be){const K=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,ge,1,0,"i",10),e.YNc(4,Ce,1,0,"i",11),e.qZA(),e.TgZ(5,"a"),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div",13)(9,"button",14),e.NdJ("click",function(pe){const Q=e.CHM(K).$implicit,X=e.oxw(4);return e.KtG(X.showActions(pe,Q))}),e.TgZ(10,"span",15),e._UZ(11,"i",16),e.qZA()()()()()()}if(2&be){const K=_e.$implicit,oe=e.oxw(4);e.Q6J("ngClass",e.VKq(4,Le,oe.currentLibrary&&oe.currentLibrary.Id==K.Id)),e.xp6(3),e.Q6J("ngIf",1==K.MediaTypeCatalogDetailId),e.xp6(1),e.Q6J("ngIf",2==K.MediaTypeCatalogDetailId),e.xp6(2),e.Oqu(K.Name)}}function we(be,_e){if(1&be){const K=e.EpF();e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(K);const pe=e.oxw(3);return e.KtG(pe.openNewLibrary())}),e._uU(7,"A\xf1adir biblioteca"),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){e.CHM(K);const pe=e.oxw(3);return e.KtG(pe.updateVideoInAllLibraries())}),e._uU(9,"Buscar archivos en biblioteca"),e.qZA()(),e.YNc(10,fe,12,6,"ng-template",6),e.qZA()}if(2&be){const K=e.oxw(3);e.xp6(2),e.hij("",K.mediaServer.FamilyName?K.mediaServer.FamilyName:K.mediaServer.DeviceName," - Bibliotecas"),e.xp6(3),e.hij("",K.listLibraries?K.listLibraries.length:""," bibliotecas"),e.xp6(5),e.Q6J("ngForOf",K.listLibraries)}}function Te(be,_e){if(1&be&&e.YNc(0,we,11,3,"div",1),2&be){const K=e.oxw(2);e.Q6J("ngIf",K.mediaServer)}}function De(be,_e){if(1&be&&e._UZ(0,"app-server-connection-error",19),2&be){const K=e.oxw(2);e.Q6J("mediaServer",K.mediaServer)}}function Ue(be,_e){if(1&be&&(e.YNc(0,Te,1,1,"ng-template",0),e.YNc(1,De,1,1,"ng-template",0)),2&be){const K=e.oxw();e.Q6J("ngIf",K.mediaServer&&K.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",K.mediaServer&&!K.mediaServer.isSecureConnection)}}function lt(be,_e){1&be&&(e.TgZ(0,"div",20),e._UZ(1,"mat-spinner"),e.qZA())}let He=(()=>{class be{constructor(K,oe,pe,re,Q,X,$,ne,J){this.signalIrService=K,this.customMenuService=oe,this.modalService=pe,this.libraryService=re,this.dialog=Q,this.snackBarService=X,this.router=$,this.activeRoute=ne,this.sharedDataService=J,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(q=>{this.mediaServer&&this.mediaServer.Guid==q&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(q=>{this.mediaServer&&this.mediaServer.Guid==q&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var K=this.activeRoute.snapshot.params.serverGuid,oe=this.sharedDataService.mediaServers.find(pe=>pe.Guid==K);oe?(this.mediaServer=JSON.parse(JSON.stringify(oe)),oe.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(K=>{this.listLibraries=K},K=>{})}openNewLibrary(){let K=new M;K.MediaServerId=this.mediaServer.Id,this.showModalForm(K)}editLibrary(K){this.showModalForm(JSON.parse(JSON.stringify(K)))}showModalForm(K){var oe=this,pe=this.modalService.open(T,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});pe.componentInstance.library=K,pe.componentInstance.mediaServer=this.mediaServer,pe.closed.subscribe(re=>{oe.getAllItems()})}deleteLibrary(K){var oe=new n.vA;oe.data={title:"Eliminar biblioteca",message:"La biblioteca '"+K.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+K.Name+"'"},this.dialog.open(C.k,oe).afterClosed().subscribe(pe=>{pe&&this.executeDeleteLibrary(K)})}executeDeleteLibrary(K){this.libraryService.deleteItem(this.mediaServer.Url,K.Id).then(oe=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",O.dA.Success),this.getAllItems()},oe=>{console.error(oe),this.snackBarService.showSnackBar(oe,O.dA.Error)})}showActions(K,oe){this.currentLibrary=oe;var pe=JSON.parse(JSON.stringify(oe)),re=K.currentTarget,Q=[],X=new e.vpe;X.subscribe(J=>{this.editLibrary(pe)}),Q.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:X});var $=new e.vpe;$.subscribe(J=>{this.updateLibraryVideos(pe)}),Q.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:$});var ne=new e.vpe;ne.subscribe(J=>{this.deleteLibrary(pe)}),Q.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:ne}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:Q,target:re}).then(J=>{this.currentLibrary=void 0},J=>{this.currentLibrary=void 0})}updateLibraryVideos(K){K.Id>0&&null!=K.PhysicalPath&&""!=K.PhysicalPath&&this.searchFilesInLibraries([K])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(K){this.libraryService.searchFiles(this.mediaServer.Url,K)}static#e=this.\u0275fac=function(oe){return new(oe||be)(e.Y36(G.n),e.Y36(Y),e.Y36(g.FF),e.Y36(w.$),e.Y36(n.uw),e.Y36(ve.c),e.Y36(de.F0),e.Y36(de.gz),e.Y36(Se.g))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(oe,pe){1&oe&&(e.YNc(0,Ue,2,2,"ng-template",0),e.YNc(1,lt,2,0,"ng-template",0)),2&oe&&(e.Q6J("ngIf",!pe.loadingConnection),e.xp6(1),e.Q6J("ngIf",pe.loadingConnection))},dependencies:[d.mk,d.sg,d.O5,xe.Ou,Ge.Z],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return be})()},1044:(Bn,et,v)=>{"use strict";v.d(et,{$:()=>_});var e=v(863),n=v(2372),E=v(5879),A=v(9429);let _=(()=>{class I{constructor(g){this.restProvider=g}getLibrariesByMediaServer(g){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetAllLibraries").then(m=>{o(m.Data)},m=>{d(m)})})}saveItem(g,o){return new Promise((d,u)=>{this.restProvider.executeHttpMediaServerApi(o.Id>0?e.yw.PUT:e.yw.POST,g+"/api"+(o.Id>0?"/libraries/Update":"/libraries/Create"),o).then(k=>{d(!0)},k=>{console.error(k),u(k)})})}deleteItem(g,o){return new Promise((d,u)=>{this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,g+"/api/libraries/Delete/"+o).then(y=>{d(y)},y=>{console.error(y),u(y)})})}deleteItems(g,o){return new Promise((d,u)=>{let m=[];for(let P=0;P<o.length;P++)m.push(o[P].Id);var y=m.join(",");this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,g+"/api/libraries/DeleteList/"+y).then(P=>{d(P)},P=>{console.error(P),u(P)})})}searchFiles(g,o){return new Promise((d,u)=>{let m=(0,n.Z)();this.restProvider.executeHttpMediaServerApi(e.yw.POST,g+"/api/libraries/SearchFiles",{Listlibraries:o,LogIdentifier:m}).then(P=>{d(P)},P=>{console.error(P),u(P)})})}getAllMediaItemsBySearchQuery(g,o){return new Promise((d,u)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+o).then(y=>{d(y.Data)},y=>{u(y)})})}getAllMediaItems(g,o){return new Promise((d,u)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetAllMediaItems?profileId="+o).then(y=>{d(y.Data)},y=>{u(y)})})}getMediaItemsByLibrary(g,o,d){return new Promise((u,m)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemsByLibrary?libraryId="+o+"&profileId="+d).then(k=>{u(k.Data)},k=>{m(k)})})}getMediaItemsByMediaType(g,o,d){return new Promise((u,m)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+o+"&profileId="+d).then(k=>{u(k.Data)},k=>{m(k)})})}getMediaItemDetail(g,o){return new Promise((d,u)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemDetail/"+o).then(y=>{d(y.Data)},y=>{u(y)})})}GetMediaItemDetailByMediaFileAndProfile(g,o,d){return new Promise((u,m)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+o+"&profileId="+d).then(k=>{u(k.Data)},k=>{m(k)})})}static#e=this.\u0275fac=function(o){return new(o||I)(E.LFG(A.C))};static#t=this.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},295:(Bn,et,v)=>{"use strict";v.d(et,{i:()=>F});var e=v(5861),n=v(95),E=v(9604),A=v(5879),_=v(7541),I=v(5510),w=v(3931),g=v(5612),o=v(1367),d=v(6814),u=v(5940),m=v(1444);function y(R,D){if(1&R){const T=A.EpF();A.TgZ(0,"div",1)(1,"h2"),A._uU(2),A.qZA(),A.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),A._uU(10,"Privado"),A.qZA(),A.TgZ(11,"span",8)(12,"span",9),A._uU(13),A.qZA()()()(),A.TgZ(14,"div",5)(15,"form",10),A.NdJ("ngSubmit",function(){A.CHM(T);const O=A.oxw(2);return A.KtG(O.updateMediaServer())}),A.TgZ(16,"div",5)(17,"label",11),A._uU(18,"Nombre Familiar"),A.qZA(),A._UZ(19,"input",12),A.TgZ(20,"p",13),A._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),A.qZA()(),A.TgZ(22,"div",14)(23,"button",15)(24,"span",16),A._uU(25,"Guardar cambios"),A.qZA()(),A._UZ(26,"span",17),A.qZA()()()()()()()()}if(2&R){const T=A.oxw(2);A.xp6(2),A.hij("",T.mediaServer.FamilyName?T.mediaServer.FamilyName:T.mediaServer.DeviceName," - General"),A.xp6(11),A.Oqu(T.mediaServer.Url),A.xp6(2),A.Q6J("formGroup",T.customForm),A.xp6(4),A.Q6J("placeholder",T.mediaServer.FamilyName?T.mediaServer.FamilyName:T.mediaServer.DeviceName),A.xp6(4),A.Q6J("disabled",T.loading||T.customForm.pristine||T.customForm.invalid)}}function k(R,D){if(1&R&&A._UZ(0,"app-server-connection-error",18),2&R){const T=A.oxw(2);A.Q6J("mediaServer",T.mediaServer)}}function P(R,D){if(1&R&&(A.YNc(0,y,27,5,"ng-template",0),A.YNc(1,k,1,1,"ng-template",0)),2&R){const T=A.oxw();A.Q6J("ngIf",T.mediaServer&&T.mediaServer.isSecureConnection),A.xp6(1),A.Q6J("ngIf",T.mediaServer&&!T.mediaServer.isSecureConnection)}}function B(R,D){1&R&&(A.TgZ(0,"div",19),A._UZ(1,"mat-spinner"),A.qZA())}let F=(()=>{class R{constructor(T,C,O,M,G,Z,ee){this.signalIrService=T,this.serverService=C,this.snackBarService=O,this.formBuilder=M,this.router=G,this.activeRoute=Z,this.sharedDataService=ee,this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ae=>{this.mediaServer&&this.mediaServer.Guid==ae&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ae=>{this.mediaServer&&this.mediaServer.Guid==ae&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var T=this.activeRoute.snapshot.params.serverGuid,C=this.sharedDataService.mediaServers.find(O=>O.Guid==T);C?(this.mediaServer=JSON.parse(JSON.stringify(C)),C.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new n.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaServerData(){var T=this;return(0,e.Z)(function*(){T.loading=!0;var C=T.activeRoute.snapshot.params.serverGuid;T.serverService.getMediaServerByGuid(C).then(O=>{var M=O.Data,Z=T.sharedDataService.mediaServers.find(ee=>ee.Guid==C);Z.FamilyName=M.FamilyName,T.mediaServer=Z,T.customForm=T.formBuilder.group({familyName:new n.NI(T.mediaServer.FamilyName)}),T.loading=!1},O=>{T.router.navigateByUrl("/404"),T.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var T=JSON.parse(JSON.stringify(this.mediaServer));T.FamilyName=this.customForm.value.familyName,this.serverService.updateMediaServer(T).then(C=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",E.dA.Success)},C=>{this.loading=!1,console.error(C)})}static#e=this.\u0275fac=function(C){return new(C||R)(A.Y36(_.n),A.Y36(I.Z),A.Y36(w.c),A.Y36(n.qu),A.Y36(g.F0),A.Y36(g.gz),A.Y36(o.g))};static#t=this.\u0275cmp=A.Xpm({type:R,selectors:[["app-server-setttings-general-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(C,O){1&C&&(A.YNc(0,P,2,2,"ng-template",0),A.YNc(1,B,2,0,"ng-template",0)),2&C&&(A.Q6J("ngIf",!O.loadingConnection),A.xp6(1),A.Q6J("ngIf",O.loadingConnection))},dependencies:[d.O5,n._Y,n.Fj,n.JJ,n.JL,u.Ou,m.Z,n.sg,n.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return R})()},5934:(Bn,et,v)=>{"use strict";v.d(et,{$:()=>Z});var e=v(863),n=v(95);class E{}var A=v(9604),_=v(8777),I=v(5879),w=v(9857),g=v(7541),o=v(9429);let d=(()=>{class ee{constructor(Ae){this.restProvider=Ae}getByMediaServer(Ae){return new Promise((j,le)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,Ae+"/api/transcoderSettings/GetAsync").then(ve=>{j(ve.Data)},ve=>{console.error(ve),le(ve)})})}saveItem(Ae,j){return new Promise((le,Y)=>{this.restProvider.executeHttpMediaServerApi(e.yw.PUT,Ae+"/api/transcoderSettings/Save",j).then(de=>{le(!0)},de=>{console.error(de),Y(de)})})}static#e=this.\u0275fac=function(j){return new(j||ee)(I.LFG(o.C))};static#t=this.\u0275prov=I.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})();var u=v(3946),m=v(3931),y=v(5612),k=v(1367),P=v(6814),B=v(5940),F=v(1444);function R(ee,ae){if(1&ee&&(I.TgZ(0,"option",19),I._uU(1),I.qZA()),2&ee){const Ae=ae.$implicit;I.Q6J("ngValue",Ae.Id),I.xp6(1),I.Oqu(Ae.Name)}}function D(ee,ae){if(1&ee&&(I.TgZ(0,"option",19),I._uU(1),I.qZA()),2&ee){const Ae=ae.$implicit;I.Q6J("ngValue",Ae.Id),I.xp6(1),I.Oqu(Ae.Name)}}function T(ee,ae){if(1&ee){const Ae=I.EpF();I.TgZ(0,"div",2)(1,"h2"),I._uU(2),I.qZA(),I.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),I.NdJ("ngSubmit",function(){I.CHM(Ae);const le=I.oxw(3);return I.KtG(le.saveTranscoder())}),I.TgZ(9,"div",6)(10,"label",8),I._uU(11,"M\xe9todo de transmisi\xf3n"),I.qZA(),I.TgZ(12,"select",9),I.YNc(13,R,2,2,"ng-template",10),I.qZA(),I.TgZ(14,"p",11),I._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),I.qZA()(),I.TgZ(16,"div",6)(17,"label",8),I._uU(18,"Carpeta temporal para el transcodificador"),I.qZA(),I.TgZ(19,"input",12),I.NdJ("click",function(){I.CHM(Ae);const le=I.oxw(3);return I.KtG(le.showChooserDirectoryModal())}),I.qZA(),I.TgZ(20,"p",11),I._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),I.qZA()(),I.TgZ(22,"div",6)(23,"label",8),I._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),I.qZA(),I.TgZ(25,"select",13),I.YNc(26,D,2,2,"ng-template",10),I.qZA(),I.TgZ(27,"p",11),I._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),I.qZA()(),I.TgZ(29,"div",6)(30,"label",8),I._uU(31,"Factor de Tasa Constante"),I.qZA(),I._UZ(32,"input",14),I.TgZ(33,"p",11),I._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),I.qZA()(),I.TgZ(35,"div",15)(36,"button",16)(37,"span",17),I._uU(38,"Guardar cambios"),I.qZA()(),I._UZ(39,"span",18),I.qZA()()()()()()()()}if(2&ee){const Ae=I.oxw(3);I.xp6(2),I.hij("",Ae.mediaServer.FamilyName?Ae.mediaServer.FamilyName:Ae.mediaServer.DeviceName," - Transcodificador"),I.xp6(6),I.Q6J("formGroup",Ae.customForm),I.xp6(5),I.Q6J("ngForOf",Ae.transmissionMethodList),I.xp6(13),I.Q6J("ngForOf",Ae.presetList),I.xp6(10),I.Q6J("disabled",Ae.loading||Ae.customForm.pristine||Ae.customForm.invalid)}}function C(ee,ae){if(1&ee&&I.YNc(0,T,40,5,"div",1),2&ee){const Ae=I.oxw(2);I.Q6J("ngIf",Ae.customForm)}}function O(ee,ae){if(1&ee&&I._UZ(0,"app-server-connection-error",20),2&ee){const Ae=I.oxw(2);I.Q6J("mediaServer",Ae.mediaServer)}}function M(ee,ae){if(1&ee&&(I.YNc(0,C,1,1,"ng-template",0),I.YNc(1,O,1,1,"ng-template",0)),2&ee){const Ae=I.oxw();I.Q6J("ngIf",Ae.mediaServer&&Ae.mediaServer.isSecureConnection),I.xp6(1),I.Q6J("ngIf",Ae.mediaServer&&!Ae.mediaServer.isSecureConnection)}}function G(ee,ae){1&ee&&(I.TgZ(0,"div",21),I._UZ(1,"mat-spinner"),I.qZA())}let Z=(()=>{class ee{constructor(Ae,j,le,Y,ve,de,Se,xe,Ge){this.catalogService=Ae,this.signalIrService=j,this.transcoderSettingsService=le,this.modalService=Y,this.snackBarService=ve,this.formBuilder=de,this.router=Se,this.activeRoute=xe,this.sharedDataService=Ge,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ge=>{this.mediaServer&&this.mediaServer.Guid==ge&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ge=>{this.mediaServer&&this.mediaServer.Guid==ge&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.getCatalogDetails();var Ae=this.activeRoute.snapshot.params.serverGuid,j=this.sharedDataService.mediaServers.find(le=>le.Guid==Ae);j?(this.mediaServer=JSON.parse(JSON.stringify(j)),j.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(e.P9.TranscoderPreset+","+e.P9.VideoTransmissionType).then(j=>{let le=j.Data;this.transmissionMethodList=le.filter(Y=>Y.CatalogId==e.P9.VideoTransmissionType),this.presetList=le.filter(Y=>Y.CatalogId==e.P9.TranscoderPreset)},j=>{console.error(j)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(Ae=>{if(this.currentTranscoderSettingss=Ae,null==this.currentTranscoderSettingss){var j=new E;j.TemporaryFolder="",j.ConstantRateFactor=18,j.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=j}this.customForm=this.formBuilder.group({temporaryFolder:new n.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new n.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new n.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new n.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},Ae=>{console.error(Ae)})}saveTranscoder(){this.loading=!0;var Ae=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));Ae.TemporaryFolder=this.customForm.value.temporaryFolder,Ae.ConstantRateFactor=this.customForm.value.constantRateFactor,Ae.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,Ae.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,Ae).then(j=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",A.dA.Success)},j=>{this.loading=!1,this.snackBarService.showSnackBar(j,A.dA.Error),console.error(j)})}showChooserDirectoryModal(){var Ae=this,j=this.modalService.open(_.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});j.componentInstance.mediaServer=this.mediaServer,j.closed.subscribe(le=>{Ae.customForm.controls.temporaryFolder.setValue(le),Ae.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(j){return new(j||ee)(I.Y36(w.a),I.Y36(g.n),I.Y36(d),I.Y36(u.FF),I.Y36(m.c),I.Y36(n.qu),I.Y36(y.F0),I.Y36(y.gz),I.Y36(k.g))};static#t=this.\u0275cmp=I.Xpm({type:ee,selectors:[["app-transcode-settings-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(j,le){1&j&&(I.YNc(0,M,2,2,"ng-template",0),I.YNc(1,G,2,0,"ng-template",0)),2&j&&(I.Q6J("ngIf",!le.loadingConnection),I.xp6(1),I.Q6J("ngIf",le.loadingConnection))},dependencies:[P.sg,P.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,B.Ou,F.Z,n.sg,n.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return ee})()},2680:(Bn,et,v)=>{"use strict";v.d(et,{I:()=>ee});var e=v(1476),n=v(2877),E=v(863),A=v(5313),_=v(5879),I=v(1367),w=v(5612),g=v(7541),o=v(9429);let d=(()=>{class ae{constructor(j){this.restProvider=j}getAlertsByMediaServer(j,le,Y){return new Promise((ve,de)=>{var Se="?page="+le.toString()+"&take="+Y.toString();this.restProvider.executeHttpMediaServerApi(E.yw.GET,j+"/api/alerts/GetAllWithPagination"+Se).then(Ge=>{ve(Ge)},Ge=>{de(Ge)})})}static#e=this.\u0275fac=function(le){return new(le||ae)(_.LFG(o.C))};static#t=this.\u0275prov=_.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();var u=v(6814),m=v(5940),y=v(1444);function k(ae,Ae){1&ae&&(_.TgZ(0,"div",18),_._UZ(1,"mat-spinner"),_.qZA())}function P(ae,Ae){if(1&ae&&(_.TgZ(0,"td",19),_._UZ(1,"i"),_.qZA()),2&ae){const j=Ae.$implicit,le=_.oxw(4);_.xp6(1),_.Tol(le.getIconByAlertType(j.AlertType))}}function B(ae,Ae){if(1&ae&&(_.TgZ(0,"td",20),_._uU(1),_.ALo(2,"date"),_.qZA()),2&ae){const j=Ae.$implicit;_.xp6(1),_.hij(" ",_.xi3(2,1,j.Created,"dd-MM-YYYY h:mm a")," ")}}function F(ae,Ae){if(1&ae&&(_.TgZ(0,"td",21),_._uU(1),_.qZA()),2&ae){const j=Ae.$implicit;_.xp6(1),_.hij(" ",j.Description," ")}}function R(ae,Ae){1&ae&&_._UZ(0,"tr",22)}function D(ae,Ae){1&ae&&(_.TgZ(0,"td",25),_._uU(1,"No se encontraron datos"),_.qZA())}function T(ae,Ae){if(1&ae&&(_.TgZ(0,"tr",23),_.YNc(1,D,2,0,"td",24),_.qZA()),2&ae){const j=_.oxw(4);_.xp6(1),_.Q6J("ngIf",!j.showLoading)}}function C(ae,Ae){if(1&ae&&(_.TgZ(0,"div",2)(1,"h2"),_._uU(2),_.qZA(),_.TgZ(3,"div",3)(4,"div",4)(5,"div",5),_.YNc(6,k,2,0,"div",6),_.TgZ(7,"div",7)(8,"table",8),_.ynx(9,9),_.YNc(10,P,2,3,"td",10),_.BQk(),_.ynx(11,11),_.YNc(12,B,3,4,"td",12),_.BQk(),_.ynx(13,13),_.YNc(14,F,2,1,"td",14),_.BQk(),_.YNc(15,R,1,0,"tr",15),_.YNc(16,T,2,1,"tr",16),_.qZA()()()()(),_.TgZ(17,"div",3)(18,"div",4),_._UZ(19,"mat-paginator",17),_.qZA()()()),2&ae){const j=_.oxw(3);_.xp6(2),_.hij("",j.mediaServer.FamilyName?j.mediaServer.FamilyName:j.mediaServer.DeviceName," - Alertas"),_.xp6(4),_.Q6J("ngIf",j.showLoading),_.xp6(2),_.Q6J("dataSource",j.dataSource),_.xp6(7),_.Q6J("matRowDefColumns",j.getDisplayedColumns()),_.xp6(4),_.Q6J("color","primary")("hidePageSize",!0)}}function O(ae,Ae){if(1&ae&&_.YNc(0,C,20,6,"div",1),2&ae){const j=_.oxw(2);_.Q6J("ngIf",j.mediaServer)}}function M(ae,Ae){if(1&ae&&_._UZ(0,"app-server-connection-error",26),2&ae){const j=_.oxw(2);_.Q6J("mediaServer",j.mediaServer)}}function G(ae,Ae){if(1&ae&&(_.YNc(0,O,1,1,"ng-template",0),_.YNc(1,M,1,1,"ng-template",0)),2&ae){const j=_.oxw();_.Q6J("ngIf",j.mediaServer&&j.mediaServer.isSecureConnection),_.xp6(1),_.Q6J("ngIf",j.mediaServer&&!j.mediaServer.isSecureConnection)}}function Z(ae,Ae){1&ae&&(_.TgZ(0,"div",27),_._UZ(1,"mat-spinner"),_.qZA())}let ee=(()=>{class ae extends n.G{constructor(j,le,Y,ve,de,Se,xe){super(xe),this.ref=j,this.sharedDataService=le,this.router=Y,this.activeRoute=ve,this.signalIrService=de,this.alertsService=Se,this.matPaginatorIntl=xe,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(Ge=>{this.mediaServer&&this.mediaServer.Guid==Ge&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(Ge=>{this.mediaServer&&this.mediaServer.Guid==Ge&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var j=this.activeRoute.snapshot.params.serverGuid,le=this.sharedDataService.mediaServers.find(Y=>Y.Guid==j);le?(this.mediaServer=JSON.parse(JSON.stringify(le)),le.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(j=>{this.updatePageData(j),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(j=>{this.showLoading=!1;var le=j.Data;this.totalCount=j.TotalCount,this.listItems=le,this.dataSource=new A.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},j=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(j){return j==E.NK.Bullhorn?"fa-solid fa-bullhorn":j==E.NK.Tags?"fa-solid fa-tags":j==E.NK.Ok?"fa-solid fa-check":j==E.NK.Plus?"fa-solid fa-plus":j==E.NK.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(le){return new(le||ae)(_.Y36(_.sBO),_.Y36(I.g),_.Y36(w.F0),_.Y36(w.gz),_.Y36(g.n),_.Y36(d),_.Y36(e.ye))};static#t=this.\u0275cmp=_.Xpm({type:ae,selectors:[["app-alerts"]],viewQuery:function(le,Y){if(1&le&&_.Gf(e.NW,5),2&le){let ve;_.iGM(ve=_.CRH())&&(Y.paginator=ve.first)}},features:[_.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(le,Y){1&le&&(_.YNc(0,G,2,2,"ng-template",0),_.YNc(1,Z,2,0,"ng-template",0)),2&le&&(_.Q6J("ngIf",!Y.loadingConnection),_.xp6(1),_.Q6J("ngIf",Y.loadingConnection))},dependencies:[u.O5,e.NW,A.BZ,A.w1,A.Dz,A.nj,A.ev,A.Gk,A.Ee,m.Ou,y.Z,u.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return ae})()},9411:(Bn,et,v)=>{"use strict";v.d(et,{M:()=>Z});var e=v(5879),n=v(5731),E=v(1367),A=v(5612),_=v(7541),I=v(863),w=v(9429);let g=(()=>{class ee{constructor(Ae){this.restProvider=Ae}GetListMediaFilePlayback(Ae){return new Promise((j,le)=>{this.restProvider.executeHttpMediaServerApi(I.yw.GET,Ae+"/api/mediaFilePlaybacks/GetListMediaFilePlayback").then(ve=>{j(ve.Data)},ve=>{le(ve)})})}static#e=this.\u0275fac=function(j){return new(j||ee)(e.LFG(w.C))};static#t=this.\u0275prov=e.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})();var o=v(6814),d=v(5940),u=v(1444),m=v(1531);function y(ee,ae){if(1&ee&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&ee){const Ae=e.oxw().$implicit;e.xp6(1),e.hij(" ",Ae.ItemData.Subtitle," ")}}function k(ee,ae){if(1&ee&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&ee){const Ae=e.oxw().$implicit;e.xp6(1),e.lnq(" ",Ae.ClientData.DeviceData.OperatingSystem," - ",Ae.ClientData.DeviceData.DeviceType," - ",Ae.ClientData.DeviceData.Browser," ")}}function P(ee,ae){if(1&ee&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&ee){const Ae=e.oxw().$implicit,j=e.oxw(5);e.xp6(1),e.hij(" ",j.commonService.getInitials(Ae.ProfileData.ProfileName)," ")}}function B(ee,ae){if(1&ee&&(e._UZ(0,"img",21),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&ee){const Ae=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,Ae.ProfileData.ProfileId,"GetAvatarImageURLByProfileId")),e.LSH)}}function F(ee,ae){if(1&ee&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div"),e._UZ(3,"img",9),e.qZA(),e.TgZ(4,"div",10)(5,"div",11),e._uU(6),e.qZA(),e.YNc(7,y,2,1,"div",12),e.TgZ(8,"div",13),e._uU(9),e.qZA()()(),e.TgZ(10,"div",14)(11,"div",15),e._UZ(12,"div",16),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,k,2,3,"div",17),e.TgZ(15,"div",13),e._uU(16),e.qZA(),e.TgZ(17,"div",13),e._uU(18),e.qZA()()(),e.TgZ(19,"div",18),e.YNc(20,P,2,1,"div",19),e.YNc(21,B,3,6,"img",19),e.TgZ(22,"span",20),e._uU(23),e.qZA()()()),2&ee){const Ae=ae.$implicit,j=e.oxw(5);e.xp6(3),e.Q6J("src",Ae.ItemData.PosterPath,e.LSH),e.xp6(3),e.hij(" ",Ae.ItemData.Title," "),e.xp6(1),e.Q6J("ngIf",Ae.ItemData.Subtitle),e.xp6(2),e.hij(" ",j.getFormattedDuration(Ae.ItemData.Duration)," "),e.xp6(3),e.Udp("width",j.getWidthProgressItem(Ae.ClientData)),e.xp6(2),e.Q6J("ngIf",Ae.ClientData.DeviceData),e.xp6(2),e.hij(" ",j.getPlayingMediaInfo(Ae.ClientData)," "),e.xp6(2),e.hij(" Local (",Ae.ClientData.LocalIpAddress,") "),e.xp6(2),e.Q6J("ngIf",null==Ae.ProfileData.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=Ae.ProfileData.AvatarPath),e.xp6(2),e.hij(" ",Ae.ProfileData.ProfileName," ")}}function R(ee,ae){if(1&ee&&e.YNc(0,F,24,12,"ng-template",6),2&ee){const Ae=e.oxw(4);e.Q6J("ngForOf",Ae.listItems)}}function D(ee,ae){1&ee&&e._uU(0," No se est\xe1 reproduciendo nada actualmente ")}function T(ee,ae){if(1&ee&&(e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5,"Reproduciendo ahora"),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,R,1,1,"ng-template",0),e.YNc(8,D,1,0,"ng-template",0),e.qZA()()()),2&ee){const Ae=e.oxw(3);e.xp6(2),e.hij("",Ae.mediaServer.FamilyName?Ae.mediaServer.FamilyName:Ae.mediaServer.DeviceName," - Panel de Control"),e.xp6(5),e.Q6J("ngIf",Ae.listItems&&Ae.listItems.length>0),e.xp6(1),e.Q6J("ngIf",null==Ae.listItems||0==Ae.listItems.length)}}function C(ee,ae){if(1&ee&&e.YNc(0,T,9,3,"div",1),2&ee){const Ae=e.oxw(2);e.Q6J("ngIf",Ae.mediaServer)}}function O(ee,ae){if(1&ee&&e._UZ(0,"app-server-connection-error",22),2&ee){const Ae=e.oxw(2);e.Q6J("mediaServer",Ae.mediaServer)}}function M(ee,ae){if(1&ee&&(e.YNc(0,C,1,1,"ng-template",0),e.YNc(1,O,1,1,"ng-template",0)),2&ee){const Ae=e.oxw();e.Q6J("ngIf",Ae.mediaServer&&Ae.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",Ae.mediaServer&&!Ae.mediaServer.isSecureConnection)}}function G(ee,ae){1&ee&&(e.TgZ(0,"div",23),e._UZ(1,"mat-spinner"),e.qZA())}let Z=(()=>{class ee{constructor(Ae,j,le,Y,ve,de,Se){this.commonService=Ae,this.sharedDataService=j,this.ref=le,this.router=Y,this.activeRoute=ve,this.signalIrService=de,this.dashboardService=Se,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionAddedMediaFilePlayback=this.signalIrService.isAddedMediaFilePlayback().subscribe(xe=>{this.mediaServer&&this.mediaServer.Guid==xe.mediaServerGuid&&null==this.listItems.find(ge=>ge.Guid==xe.mediaFilePlaybackGuid)&&this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(ge=>{var Ce=ge.find(Le=>Le.Guid==xe.mediaFilePlaybackGuid);Ce&&(this.listItems.push(Ce),this.ref.detectChanges())},ge=>{})}),this.subscriptionRemovedMediaFilePlayback=this.signalIrService.isRemovedMediaFilePlayback().subscribe(xe=>{if(this.mediaServer&&this.mediaServer.Guid==xe.mediaServerGuid){var Ge=this.listItems.findIndex(ge=>ge.Guid==xe.mediaFilePlaybackGuid);-1!=Ge&&(this.listItems.splice(Ge,1),this.ref.detectChanges())}}),this.subscriptionUpdateCurrentTimeMediaFilePlayback=this.signalIrService.isUpdatingCurrentTimeMediaFilePlayBack().subscribe(xe=>{if(this.mediaServer&&this.mediaServer.Guid==xe.mediaServerGuid){var Ge=this.listItems.find(ge=>ge.Guid==xe.mediaFilePlaybackGuid);Ge&&(Ge.ClientData.CurrentTime=xe.currentTime,Ge.ClientData.IsPlaying=xe.isPlaying,this.ref.detectChanges())}}),this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(xe=>{this.mediaServer&&this.mediaServer.Guid==xe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(xe=>{this.mediaServer&&this.mediaServer.Guid==xe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var Ae=this.activeRoute.snapshot.params.serverGuid,j=this.sharedDataService.mediaServers.find(le=>le.Guid==Ae);j?(this.mediaServer=JSON.parse(JSON.stringify(j)),j.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateCurrentTimeMediaFilePlayback.unsubscribe(),this.subscriptionAddedMediaFilePlayback.unsubscribe(),this.subscriptionRemovedMediaFilePlayback.unsubscribe()}getAllItems(){this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(Ae=>{this.listItems=Ae},Ae=>{})}getFormattedDuration(Ae){var j=parseInt(Ae,10),le=Math.floor(j/3600),Y=Math.floor((j-3600*le)/60);return 0==le?Y+"min":le+"hr "+Y+"min"}getPlayingMediaInfo(Ae){var j=this.getFormatTime(Ae.CurrentTime),le=this.getFormatTime(Ae.Duration);return(Ae.IsPlaying?"Playing":"Paused")+" - "+j+" / "+le}getFormatTime(Ae){var j=parseInt(Ae,10),le=Math.floor(j/3600),Y=Math.floor((j-3600*le)/60),ve=j-3600*le-60*Y;return le<10&&(le="0"+le),Y<10&&(Y="0"+Y),ve<10&&(ve="0"+ve),le+":"+Y+":"+ve}getWidthProgressItem(Ae){return Ae.CurrentTime/Ae.Duration*100+"%"}getInitials(Ae){return Ae.substring(0,1)}static#e=this.\u0275fac=function(j){return new(j||ee)(e.Y36(n.v),e.Y36(E.g),e.Y36(e.sBO),e.Y36(A.F0),e.Y36(A.gz),e.Y36(_.n),e.Y36(g))};static#t=this.\u0275cmp=e.Xpm({type:ee,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"playback-container"],[1,"items-playing-title"],[1,"cards-container"],["ngFor","",3,"ngForOf"],[1,"custom-card"],[1,"custom-card-item-content"],[3,"src"],[1,"custom-card-item-content-right"],[1,"custom-card-text-title"],["class","custom-card-text-subtitle",4,"ngIf"],[1,"custom-card-text-subtitle"],[1,"custom-card-client-content"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],["class","custom-card-text-title",4,"ngIf"],[1,"custom-card-profile-content"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(j,le){1&j&&(e.YNc(0,M,2,2,"ng-template",0),e.YNc(1,G,2,0,"ng-template",0)),2&j&&(e.Q6J("ngIf",!le.loadingConnection),e.xp6(1),e.Q6J("ngIf",le.loadingConnection))},dependencies:[o.sg,o.O5,d.Ou,u.Z,o.Ov,m.A],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px;max-width:950px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}.custom-card[_ngcontent-%COMP%]{display:block;color:#fff;width:280px;background-color:#00000026}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]{display:flex}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:120px}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content-right[_ngcontent-%COMP%]{padding:20px;display:block}.custom-card[_ngcontent-%COMP%]   .custom-card-text-subtitle[_ngcontent-%COMP%]{color:#ffffff73;margin-top:4px}.items-playing-title[_ngcontent-%COMP%]{font-size:20px}.custom-card-client-content[_ngcontent-%COMP%]{background-color:#2d3744}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#000}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:#007bff;height:100%}.custom-card-profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;width:100%;color:#fff}.playback-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}"]})}return ee})()},8923:(Bn,et,v)=>{"use strict";v.d(et,{k:()=>I});var e=v(7700),n=v(5879),E=v(6814);const A=function(w){return{disabled:w}};let I=(()=>{class w{constructor(o,d){this.dialog=o,this.options=d}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(d){return new(d||w)(n.Y36(e.so),n.Y36(e.WI))};static#t=this.\u0275cmp=n.Xpm({type:w,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(d,u){if(1&d&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),n.NdJ("click",function(){return u.closeDialog()}),n._UZ(6,"i",6),n.qZA(),n.TgZ(7,"div",7),n._uU(8),n.qZA(),n.TgZ(9,"div",8)(10,"div",9)(11,"p"),n._uU(12),n.qZA(),n.TgZ(13,"label",10),n._UZ(14,"input",11,12),n._uU(16),n.qZA()()(),n.TgZ(17,"div",13)(18,"div",14)(19,"button",15),n.NdJ("click",function(){return u.closeDialog()}),n._uU(20,"Cancelar"),n.qZA(),n.TgZ(21,"button",16),n.NdJ("click",function(){return u.confirmDialog()}),n.TgZ(22,"span",17),n._uU(23,"Eliminar"),n.qZA()()()()()()()()()),2&d){const m=n.MAs(15);n.xp6(8),n.hij(" ",u.options.title," "),n.xp6(4),n.Oqu(u.options.message),n.xp6(4),n.hij("",u.options.accordMessage," "),n.xp6(5),n.Q6J("ngClass",n.VKq(4,A,!m.checked))}},dependencies:[E.mk,e.uh,e.xY,e.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return w})()},9604:(Bn,et,v)=>{"use strict";v.d(et,{dA:()=>g,fJ:()=>d});var e=v(6814),n=v(5879),E=v(2939);function A(u,m){1&u&&n._UZ(0,"i",4)}function _(u,m){1&u&&n._UZ(0,"i",5)}function I(u,m){1&u&&n._UZ(0,"i",6)}const w=function(u,m,y){return{success:u,info:m,error:y}};var g=function(u){return u[u.Success=1]="Success",u[u.Error=2]="Error",u[u.Info=3]="Info",u}(g||{});let d=(()=>{class u{constructor(y){this.toastOptions=y,this.snackBarRef=(0,n.f3M)(E.OX)}SnackBarType(){return g}static#e=this.\u0275fac=function(k){return new(k||u)(n.Y36(E.qD))};static#t=this.\u0275cmp=n.Xpm({type:u,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[n.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(k,P){1&k&&(n.TgZ(0,"div",0),n.YNc(1,A,1,0,"i",1),n.YNc(2,_,1,0,"i",2),n.YNc(3,I,1,0,"i",3),n._uU(4),n.qZA()),2&k&&(n.Q6J("ngClass",n.kEZ(5,w,P.toastOptions.snackBarType==P.SnackBarType().Success,P.toastOptions.snackBarType==P.SnackBarType().Info,P.toastOptions.snackBarType==P.SnackBarType().Error)),n.xp6(1),n.Q6J("ngIf",P.toastOptions.snackBarType==P.SnackBarType().Success),n.xp6(1),n.Q6J("ngIf",P.toastOptions.snackBarType==P.SnackBarType().Info),n.xp6(1),n.Q6J("ngIf",P.toastOptions.snackBarType==P.SnackBarType().Error),n.xp6(1),n.hij(" ",P.toastOptions.message,"\n"))},dependencies:[E.ZX,e.ez,e.mk,e.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return u})()},5220:(Bn,et,v)=>{"use strict";v.d(et,{D:()=>A});var e=v(5879),n=v(6814);function E(_,I){1&_&&(e.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),e.qZA()()()()())}let A=(()=>{class _{constructor(w,g){this.ref=w,this.viewContainerRef=g,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(g){return new(g||_)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:_,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(g,o){1&g&&e.YNc(0,E,17,0,"div",0),2&g&&e.Q6J("ngIf",o.showLoading)},dependencies:[n.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return _})()},8777:(Bn,et,v)=>{"use strict";v.d(et,{g:()=>y});var e=v(5879),n=v(863),E=v(4440),A=v.n(E),_=v(9429);let I=(()=>{class k{constructor(B){this.restProvider=B}getDirectoriesByMediaServer(B){return new Promise((F,R)=>{this.restProvider.executeHttpMethodByUrl(n.yw.GET,B+"/api/directories").then(D=>{F(D)},D=>{console.error(D),R(D)})})}getSubdirectoriesByMediaServerAndDirectoryPath(B,F){return new Promise((R,D)=>{var T=A().encode(F);this.restProvider.executeHttpMethodByUrl(n.yw.GET,B+"/api/directories/"+T).then(C=>{R(C)},C=>{console.error(C),D(C)})})}static#e=this.\u0275fac=function(F){return new(F||k)(e.LFG(_.C))};static#t=this.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})();var w=v(3946),g=v(6814);const o=function(k){return{"sinovad-directory-selected":k}};function d(k,P){if(1&k){const B=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const D=e.CHM(B).$implicit,T=e.oxw();return e.KtG(T.onClickMainDirectory(D))}),e._uU(1),e.qZA()}if(2&k){const B=P.$implicit,F=e.oxw();e.Q6J("ngClass",e.VKq(2,o,F.selectedMainDirectory&&B.Name==F.selectedMainDirectory.Name)),e.xp6(1),e.hij(" ",B.Name," ")}}function u(k,P){if(1&k){const B=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(B);const R=e.oxw();return e.KtG(R.onClickBackFolder())}),e._uU(1," <= .. [Regresar] "),e.qZA()}}function m(k,P){if(1&k){const B=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){const D=e.CHM(B).$implicit,T=e.oxw();return e.KtG(T.onClickSubDirectory(D))}),e._uU(1),e.qZA()}if(2&k){const B=P.$implicit,F=e.oxw();e.Q6J("ngClass",e.VKq(2,o,F.selectedSubdirectory&&B.Name==F.selectedSubdirectory.Name)),e.xp6(1),e.hij(" ",B.Name," ")}}let y=(()=>{class k{constructor(B,F){this.directoryService=B,this.activeModal=F,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(B=>{this.listMainDirectories=JSON.parse(B);let F=this.listMainDirectories[0];this.selectedMainDirectory=F,this.getSubdirectoriesByPath(F)})}getSubdirectoriesByPath(B){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,B.Path).then(F=>{this.listSubdirectoriesTmp=JSON.parse(F)},F=>{console.error(F)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(B){this.selectedMainDirectory=B,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(B){if(null==this.selectedSubdirectory)this.selectedSubdirectory=B,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let F=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=B,this.selectedSubdirectory.ParentDirectory=F}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(F){return new(F||k)(e.Y36(I),e.Y36(w.Kz))};static#t=this.\u0275cmp=e.Xpm({type:k,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(F,R){1&F&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Seleccionar directorio"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return R.closeModal()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,d,2,4,"ng-template",7),e.qZA(),e.TgZ(9,"div",8),e.YNc(10,u,2,0,"button",9),e.YNc(11,m,2,4,"ng-template",7),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return R.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return R.saveDirectory()}),e._uU(16,"Guardar"),e.qZA()()),2&F&&(e.xp6(8),e.Q6J("ngForOf",R.listMainDirectories),e.xp6(2),e.Q6J("ngIf",R.selectedSubdirectory),e.xp6(1),e.Q6J("ngForOf",R.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return k})()},1444:(Bn,et,v)=>{"use strict";v.d(et,{Z:()=>n});var e=v(5879);let n=(()=>{class E{constructor(){}static#e=this.\u0275fac=function(I){return new(I||E)};static#t=this.\u0275cmp=e.Xpm({type:E,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(I,w){1&I&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e._UZ(4,"div",3),e.qZA()()),2&I&&(e.xp6(3),e.hij(" No se puede conectar a ",w.mediaServer.FamilyName?w.mediaServer.FamilyName:w.mediaServer.DeviceName," "))}})}return E})()},9223:(Bn,et,v)=>{"use strict";v.d(et,{_:()=>n});var e=v(5879);let n=(()=>{class E{constructor(_){this.elementRef=_,this.clickOutside=new e.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(_,I){I&&(this.elementRef.nativeElement.contains(I)||this.clickOutside.emit(_))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(I){return new(I||E)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:E,selectors:[["","clickOutside",""]],hostBindings:function(I,w){1&I&&e.NdJ("click",function(o){return w.onClick(o,o.target)},!1,e.Jf7)("contextmenu",function(){return w.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return E})()},863:(Bn,et,v)=>{"use strict";v.d(et,{DD:()=>E,DM:()=>o,Ln:()=>A,NK:()=>u,O5:()=>g,P9:()=>e,jP:()=>d,yw:()=>w});var e=function(m){return m[m.MediaServerState=1]="MediaServerState",m[m.MediaType=2]="MediaType",m[m.VideoTransmissionType=3]="VideoTransmissionType",m[m.TranscoderPreset=4]="TranscoderPreset",m[m.IconTypes=5]="IconTypes",m[m.LinkedAccountProvider=6]="LinkedAccountProvider",m}(e||{}),E=function(m){return m[m.Movie=1]="Movie",m[m.TvSerie=2]="TvSerie",m[m.Music=3]="Music",m[m.Photo=4]="Photo",m[m.Other=5]="Other",m}(E||{}),A=function(m){return m[m.None=1]="None",m[m.MPEGDASH=2]="MPEGDASH",m[m.HLS=3]="HLS",m}(A||{}),w=function(m){return m[m.GET=0]="GET",m[m.POST=1]="POST",m[m.PUT=2]="PUT",m[m.DELETE=3]="DELETE",m}(w||{}),g=function(m){return m[m.Empty=0]="Empty",m[m.Generated=1]="Generated",m[m.Initialized=2]="Initialized",m[m.LoadedMetada=3]="LoadedMetada",m[m.LoadedData=4]="LoadedData",m}(g||{}),o=function(m){return m[m.SinovadDb=1]="SinovadDb",m[m.TMDb=2]="TMDb",m[m.IMDb=3]="IMDb",m}(o||{}),d=function(m){return m[m.Google=1]="Google",m[m.Facebook=2]="Facebook",m[m.Apple=3]="Apple",m}(d||{}),u=function(m){return m[m.Ok=1]="Ok",m[m.Plus=2]="Plus",m[m.Bin=3]="Bin",m[m.Bullhorn=4]="Bullhorn",m[m.Tags=5]="Tags",m}(u||{})},5550:(Bn,et,v)=>{"use strict";v.d(et,{n:()=>e});class e{isErrorState(E,A){return!!(E&&E.invalid&&(E.dirty||E.touched||A&&A.submitted))}}},2877:(Bn,et,v)=>{"use strict";v.d(et,{G:()=>E});var e=v(8337),n=v(5313);class E{constructor(_){this.matPaginatorIntl=_,this.showLoading=!0,this.dataSource=new n.by,this.selection=new e.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(_){this.itemsPerPage=_.pageSize,this.currentPage=_.pageIndex+1}getElementNumber(_,I,w){return _+1+(I-1)*w}onChangeCheckValue(_,I){let w=_.target.checked;if(w?this.selection.select(I):this.selection.deselect(I),_.shiftKey&&this.lastSelectedItem){let o=0;this.selection.hasValue()&&this.lastSelectedItem&&(o=this.listItems.indexOf(this.lastSelectedItem));let d=this.listItems.indexOf(I);if(w){var g;(g=this.listItems.filter(d>=o?u=>this.listItems.indexOf(u)<=d&&this.listItems.indexOf(u)>=o&&!this.selection.isSelected(u):u=>this.listItems.indexOf(u)>=d&&this.listItems.indexOf(u)<=o&&!this.selection.isSelected(u)))&&g.length>0&&this.selection.select(...g)}else{let u=[];u=this.listItems.filter(d>=o?m=>this.listItems.indexOf(m)<=d&&this.listItems.indexOf(m)>=o&&this.selection.isSelected(m):m=>this.listItems.indexOf(m)>=d&&this.listItems.indexOf(m)<=o&&this.selection.isSelected(m)),u&&u.length>0&&this.selection.deselect(...u)}}this.lastSelectedItem=I}}},1531:(Bn,et,v)=>{"use strict";v.d(et,{A:()=>A});var e=v(5879),n=v(6593),E=v(1367);let A=(()=>{class _{constructor(w,g){this.domSanitizer=w,this.sharedDataService=g}transform(w,...g){return new Promise((o,d)=>{let m;switch(null!=g[0]?g[0]:""){case"GetIconURLByKey":null!=w&&""!=w&&(m=this.sharedDataService.configurationData.developerMode?"assets/icon/"+w:this.sharedDataService.urlSinovadCdn+"/assets/icon/"+w,o(m));break;case"GetAvatarImageURLByProfileId":null!=w&&""!=w&&fetch(this.sharedDataService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+w).then(k=>k.blob()).then(k=>{m=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(k)),o(m)});break;case"GetSoundUrlByKey":null!=w&&""!=w&&(m=this.sharedDataService.configurationData.developerMode?"assets/sound/"+w:this.sharedDataService.urlSinovadCdn+"/assets/sound/"+w,o(m))}})}static#e=this.\u0275fac=function(g){return new(g||_)(e.Y36(n.H7,16),e.Y36(E.g,16))};static#t=this.\u0275pipe=e.Yjl({name:"formatDataPipe",type:_,pure:!0})}return _})()},3931:(Bn,et,v)=>{"use strict";v.d(et,{c:()=>A});var e=v(2939),n=v(9604),E=v(5879);let A=(()=>{class _{constructor(w){this.snackBar=w}showSnackBar(w,g){var o=new e.u_;o.duration=2e3,o.data={message:w,snackBarType:g},this.snackBar.openFromComponent(n.fJ,o)}static#e=this.\u0275fac=function(g){return new(g||_)(E.LFG(e.ux))};static#t=this.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7102:(Bn,et,v)=>{"use strict";v.d(et,{m:()=>Le});var e=v(6814),n=v(1476),E=v(7700),A=v(2939),_=v(5313),I=v(2032),w=v(4170),g=v(3566),o=v(5986),d=v(5940),u=v(2596),m=v(3680),y=v(8525),k=v(8034),P=v(5879);let ge=(()=>{class fe{static#e=this.\u0275fac=function(De){return new(De||fe)};static#t=this.\u0275mod=P.oAB({type:fe});static#n=this.\u0275inj=P.cJS({imports:[m.BQ,e.ez,m.BQ]})}return fe})(),Ce=(()=>{class fe{static#e=this.\u0275fac=function(De){return new(De||fe)};static#t=this.\u0275mod=P.oAB({type:fe});static#n=this.\u0275inj=P.cJS({imports:[e.ez,n.TU,E.Is,A.ZX,_.p0,I.c,w.lN,g.JX,o.p9,d.Cq,u.AV,m.Ng,y.LD,k.FA,m.XK,ge,n.TU,E.Is,A.ZX,_.p0,I.c,w.lN,g.JX,o.p9,d.Cq,u.AV,m.Ng,y.LD,k.FA,m.XK,ge]})}return fe})(),Le=(()=>{class fe{static#e=this.\u0275fac=function(De){return new(De||fe)};static#t=this.\u0275mod=P.oAB({type:fe});static#n=this.\u0275inj=P.cJS({imports:[e.ez,Ce,e.ez,Ce]})}return fe})()},5731:(Bn,et,v)=>{"use strict";v.d(et,{v:()=>A});var e=v(863),n=v(5879),E=v(1367);let A=(()=>{class _{constructor(w){this.sharedDataService=w}checkIfIsEnableMenuOptionByPath(w){var g=!1;for(let o=0;o<this.sharedDataService.manageMenus.length;o++){const d=this.sharedDataService.manageMenus[o];if(d.ChildMenus&&-1!=d.ChildMenus.findIndex(u=>u.Path&&u.Path.includes(w))){g=!0;break}}return g}formatDate(w){const g=new Date(w);let o=""+(g.getMonth()+1),d=""+g.getDate();const u=g.getFullYear();return o.length<2&&(o="0"+o),d.length<2&&(d="0"+d),[u,o,d].join("-")}getInitials(w){return w.FullName.substring(0,1)}delay(w){return new Promise(g=>setTimeout(g,w))}hasRequireErrorFormControl(w,g){return!!w.controls[g].errors.required}isInvalidFormControl(w,g){return!(!w.controls[g].invalid||!w.controls[g].dirty&&!w.controls[g].touched)}hasErrorPatternFormControl(w,g){return!!w.controls[g].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(w){if(w.MetadataAgentsId==e.DM.TMDb)return this.sharedDataService.originalUrlImagesMovieDataBase+w.PosterPath;if(w.PosterPath)return w.PosterPath;var g=this.sharedDataService.mediaServers.find(o=>o.Id==w.MediaServerId);return g?g.Url+"/media/"+w.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(g){return new(g||_)(n.LFG(E.g))};static#t=this.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9429:(Bn,et,v)=>{"use strict";v.d(et,{C:()=>_});var e=v(9862),n=v(863),E=v(5879),A=v(1367);let _=(()=>{class I{constructor(g,o){this.http=g,this.sharedDataService=o}performExecuteMethod(g,o,d){return new Promise((u,m)=>{try{let y={responseType:"text"};if(this.sharedDataService.apiToken){const P=new e.WM({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedDataService.apiToken});y.headers=P}g==n.yw.GET&&this.http.get(o,y).subscribe(k=>{u(k)},k=>{m(k)}),g==n.yw.POST&&this.http.post(o,d,y).subscribe(k=>{u(k)},k=>{m(k)}),g==n.yw.PUT&&this.http.put(o,d,y).subscribe(k=>{u(k)},k=>{m(k)}),g==n.yw.DELETE&&this.http.delete(o,y).subscribe(k=>{u(k)},k=>{m(k)})}catch(y){m(y)}})}executeSinovadApiService(g,o,d){let u=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+o;return new Promise((m,y)=>{try{this.performExecuteMethod(g,u,d).then(k=>{m(JSON.parse(k))},k=>{let P=k;if(null!=k.error){P=k.error;try{var B=JSON.parse(P);if(B.errors){let R=B.errors,D=[];Object.keys(R).map(T=>{var C=R[T].join("\n");D.push(C)}),P=D.join("\n")}else B.Errors?P=B.Errors.map(R=>R.ErrorMessage).join("\n"):B.Message&&(P=B.Message)}catch{}}401==k.status&&this.sharedDataService.apiToken&&(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(P),y(P)})}catch(k){y(k)}})}executeHttpMediaServerApi(g,o,d){return new Promise((u,m)=>{try{this.performExecuteMethod(g,o,d).then(y=>{try{u(JSON.parse(y))}catch(k){m(k)}},y=>{m(y)})}catch(y){m(y)}})}executeHttpMethodByUrl(g,o,d){return new Promise((u,m)=>{this.performExecuteMethod(g,o,d).then(y=>{u(y)},y=>{m(y)})})}executeHttpPostMethodWithFormData(g,o){let d=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+g;return new Promise((u,m)=>{let y={responseType:"text"};if(this.sharedDataService.apiToken){const P=new e.WM({Accept:"*/*",Authorization:"Bearer "+this.sharedDataService.apiToken});y.headers=P}this.http.post(d,o,y).subscribe(k=>{u(k)},k=>{m(k)})})}static#e=this.\u0275fac=function(o){return new(o||I)(E.LFG(e.eN),E.LFG(A.g))};static#t=this.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},1367:(Bn,et,v)=>{"use strict";v.d(et,{g:()=>E});class e{}var n=v(5879);let E=(()=>{class A{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.configurationData=new e,this.listProfiles=[],this.manageMenus=[],this.mediaServers=[],this.linkedAccounts=[]}static#e=this.\u0275fac=function(w){return new(w||A)};static#t=this.\u0275prov=n.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},7541:(Bn,et,v)=>{"use strict";v.d(et,{n:()=>ht});const e=[0,2e3,1e4,3e4,null];class n{constructor(ce){this._retryDelays=void 0!==ce?[...ce,null]:e}nextRetryDelayInMilliseconds(ce){return this._retryDelays[ce.previousRetryCount]}}var E=v(5861);let A=(()=>{class vt{}return vt.Authorization="Authorization",vt.Cookie="Cookie",vt})();class _{constructor(ce,Ve,yt){this.statusCode=ce,this.statusText=Ve,this.content=yt}}class I{get(ce,Ve){return this.send({...Ve,method:"GET",url:ce})}post(ce,Ve){return this.send({...Ve,method:"POST",url:ce})}delete(ce,Ve){return this.send({...Ve,method:"DELETE",url:ce})}getCookieString(ce){return""}}class w extends I{constructor(ce,Ve){super(),this._innerClient=ce,this._accessTokenFactory=Ve}send(ce){var Ve=this;return(0,E.Z)(function*(){let yt=!0;Ve._accessTokenFactory&&(!Ve._accessToken||ce.url&&ce.url.indexOf("/negotiate?")>0)&&(yt=!1,Ve._accessToken=yield Ve._accessTokenFactory()),Ve._setAuthorizationHeader(ce);const Bt=yield Ve._innerClient.send(ce);return yt&&401===Bt.statusCode&&Ve._accessTokenFactory?(Ve._accessToken=yield Ve._accessTokenFactory(),Ve._setAuthorizationHeader(ce),yield Ve._innerClient.send(ce)):Bt})()}_setAuthorizationHeader(ce){ce.headers||(ce.headers={}),this._accessToken?ce.headers[A.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&ce.headers[A.Authorization]&&delete ce.headers[A.Authorization]}getCookieString(ce){return this._innerClient.getCookieString(ce)}}class g extends Error{constructor(ce,Ve){const yt=new.target.prototype;super(`${ce}: Status code '${Ve}'`),this.statusCode=Ve,this.__proto__=yt}}class o extends Error{constructor(ce="A timeout occurred."){const Ve=new.target.prototype;super(ce),this.__proto__=Ve}}class d extends Error{constructor(ce="An abort occurred."){const Ve=new.target.prototype;super(ce),this.__proto__=Ve}}class u extends Error{constructor(ce,Ve){const yt=new.target.prototype;super(ce),this.transport=Ve,this.errorType="UnsupportedTransportError",this.__proto__=yt}}class m extends Error{constructor(ce,Ve){const yt=new.target.prototype;super(ce),this.transport=Ve,this.errorType="DisabledTransportError",this.__proto__=yt}}class y extends Error{constructor(ce,Ve){const yt=new.target.prototype;super(ce),this.transport=Ve,this.errorType="FailedToStartTransportError",this.__proto__=yt}}class k extends Error{constructor(ce){const Ve=new.target.prototype;super(ce),this.errorType="FailedToNegotiateWithServerError",this.__proto__=Ve}}class P extends Error{constructor(ce,Ve){const yt=new.target.prototype;super(ce),this.innerErrors=Ve,this.__proto__=yt}}var B=function(vt){return vt[vt.Trace=0]="Trace",vt[vt.Debug=1]="Debug",vt[vt.Information=2]="Information",vt[vt.Warning=3]="Warning",vt[vt.Error=4]="Error",vt[vt.Critical=5]="Critical",vt[vt.None=6]="None",vt}(B||{});class F{constructor(){}log(ce,Ve){}}F.instance=new F;const R="7.0.10";class D{static isRequired(ce,Ve){if(null==ce)throw new Error(`The '${Ve}' argument is required.`)}static isNotEmpty(ce,Ve){if(!ce||ce.match(/^\s*$/))throw new Error(`The '${Ve}' argument should not be empty.`)}static isIn(ce,Ve,yt){if(!(ce in Ve))throw new Error(`Unknown ${yt} value: ${ce}.`)}}class T{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function C(vt,ce){let Ve="";return M(vt)?(Ve=`Binary data of length ${vt.byteLength}`,ce&&(Ve+=`. Content: '${function O(vt){const ce=new Uint8Array(vt);let Ve="";return ce.forEach(yt=>{Ve+=`0x${yt<16?"0":""}${yt.toString(16)} `}),Ve.substr(0,Ve.length-1)}(vt)}'`)):"string"==typeof vt&&(Ve=`String data of length ${vt.length}`,ce&&(Ve+=`. Content: '${vt}'`)),Ve}function M(vt){return vt&&typeof ArrayBuffer<"u"&&(vt instanceof ArrayBuffer||vt.constructor&&"ArrayBuffer"===vt.constructor.name)}function G(vt,ce,Ve,yt,Bt,zt){return Z.apply(this,arguments)}function Z(){return(Z=(0,E.Z)(function*(vt,ce,Ve,yt,Bt,zt){const Yt={},[cn,nn]=j();Yt[cn]=nn,vt.log(B.Trace,`(${ce} transport) sending data. ${C(Bt,zt.logMessageContent)}.`);const Mt=M(Bt)?"arraybuffer":"text",gt=yield Ve.post(yt,{content:Bt,headers:{...Yt,...zt.headers},responseType:Mt,timeout:zt.timeout,withCredentials:zt.withCredentials});vt.log(B.Trace,`(${ce} transport) request complete. Response status: ${gt.statusCode}.`)})).apply(this,arguments)}class ae{constructor(ce,Ve){this._subject=ce,this._observer=Ve}dispose(){const ce=this._subject.observers.indexOf(this._observer);ce>-1&&this._subject.observers.splice(ce,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(Ve=>{})}}class Ae{constructor(ce){this._minLevel=ce,this.out=console}log(ce,Ve){if(ce>=this._minLevel){const yt=`[${(new Date).toISOString()}] ${B[ce]}: ${Ve}`;switch(ce){case B.Critical:case B.Error:this.out.error(yt);break;case B.Warning:this.out.warn(yt);break;case B.Information:this.out.info(yt);break;default:this.out.log(yt)}}}}function j(){let vt="X-SignalR-User-Agent";return T.isNode&&(vt="User-Agent"),[vt,le(R,Y(),T.isNode?"NodeJS":"Browser",ve())]}function le(vt,ce,Ve,yt){let Bt="Microsoft SignalR/";const zt=vt.split(".");return Bt+=`${zt[0]}.${zt[1]}`,Bt+=` (${vt}; `,Bt+=ce&&""!==ce?`${ce}; `:"Unknown OS; ",Bt+=`${Ve}`,Bt+=yt?`; ${yt}`:"; Unknown Runtime Version",Bt+=")",Bt}function Y(){if(!T.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function ve(){if(T.isNode)return process.versions.node}function Se(vt){return vt.stack?vt.stack:vt.message?vt.message:`${vt}`}class Ge extends I{constructor(ce){if(super(),this._logger=ce,typeof fetch>"u"){const Ve=require;this._jar=new(Ve("tough-cookie").CookieJar),this._fetchType=Ve("node-fetch"),this._fetchType=Ve("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function xe(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const Ve=require;this._abortControllerType=Ve("abort-controller")}else this._abortControllerType=AbortController}send(ce){var Ve=this;return(0,E.Z)(function*(){if(ce.abortSignal&&ce.abortSignal.aborted)throw new d;if(!ce.method)throw new Error("No method defined.");if(!ce.url)throw new Error("No url defined.");const yt=new Ve._abortControllerType;let Bt;ce.abortSignal&&(ce.abortSignal.onabort=()=>{yt.abort(),Bt=new d});let Yt,zt=null;ce.timeout&&(zt=setTimeout(()=>{yt.abort(),Ve._logger.log(B.Warning,"Timeout from HTTP request."),Bt=new o},ce.timeout)),""===ce.content&&(ce.content=void 0),ce.content&&(ce.headers=ce.headers||{},ce.headers["Content-Type"]=M(ce.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{Yt=yield Ve._fetchType(ce.url,{body:ce.content,cache:"no-cache",credentials:!0===ce.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...ce.headers},method:ce.method,mode:"cors",redirect:"follow",signal:yt.signal})}catch(Mt){throw Bt||(Ve._logger.log(B.Warning,`Error from HTTP request. ${Mt}.`),Mt)}finally{zt&&clearTimeout(zt),ce.abortSignal&&(ce.abortSignal.onabort=null)}if(!Yt.ok){const Mt=yield ge(Yt,"text");throw new g(Mt||Yt.statusText,Yt.status)}const nn=yield ge(Yt,ce.responseType);return new _(Yt.status,Yt.statusText,nn)})()}getCookieString(ce){let Ve="";return T.isNode&&this._jar&&this._jar.getCookies(ce,(yt,Bt)=>Ve=Bt.join("; ")),Ve}}function ge(vt,ce){let Ve;switch(ce){case"arraybuffer":Ve=vt.arrayBuffer();break;case"text":default:Ve=vt.text();break;case"blob":case"document":case"json":throw new Error(`${ce} is not supported.`)}return Ve}class Ce extends I{constructor(ce){super(),this._logger=ce}send(ce){return ce.abortSignal&&ce.abortSignal.aborted?Promise.reject(new d):ce.method?ce.url?new Promise((Ve,yt)=>{const Bt=new XMLHttpRequest;Bt.open(ce.method,ce.url,!0),Bt.withCredentials=void 0===ce.withCredentials||ce.withCredentials,Bt.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===ce.content&&(ce.content=void 0),ce.content&&(M(ce.content)?Bt.setRequestHeader("Content-Type","application/octet-stream"):Bt.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const zt=ce.headers;zt&&Object.keys(zt).forEach(Yt=>{Bt.setRequestHeader(Yt,zt[Yt])}),ce.responseType&&(Bt.responseType=ce.responseType),ce.abortSignal&&(ce.abortSignal.onabort=()=>{Bt.abort(),yt(new d)}),ce.timeout&&(Bt.timeout=ce.timeout),Bt.onload=()=>{ce.abortSignal&&(ce.abortSignal.onabort=null),Bt.status>=200&&Bt.status<300?Ve(new _(Bt.status,Bt.statusText,Bt.response||Bt.responseText)):yt(new g(Bt.response||Bt.responseText||Bt.statusText,Bt.status))},Bt.onerror=()=>{this._logger.log(B.Warning,`Error from HTTP request. ${Bt.status}: ${Bt.statusText}.`),yt(new g(Bt.statusText,Bt.status))},Bt.ontimeout=()=>{this._logger.log(B.Warning,"Timeout from HTTP request."),yt(new o)},Bt.send(ce.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Le extends I{constructor(ce){if(super(),typeof fetch<"u"||T.isNode)this._httpClient=new Ge(ce);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Ce(ce)}}send(ce){return ce.abortSignal&&ce.abortSignal.aborted?Promise.reject(new d):ce.method?ce.url?this._httpClient.send(ce):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(ce){return this._httpClient.getCookieString(ce)}}var fe=function(vt){return vt[vt.None=0]="None",vt[vt.WebSockets=1]="WebSockets",vt[vt.ServerSentEvents=2]="ServerSentEvents",vt[vt.LongPolling=4]="LongPolling",vt}(fe||{}),we=function(vt){return vt[vt.Text=1]="Text",vt[vt.Binary=2]="Binary",vt}(we||{});class Te{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class De{constructor(ce,Ve,yt){this._httpClient=ce,this._logger=Ve,this._pollAbort=new Te,this._options=yt,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(ce,Ve){var yt=this;return(0,E.Z)(function*(){if(D.isRequired(ce,"url"),D.isRequired(Ve,"transferFormat"),D.isIn(Ve,we,"transferFormat"),yt._url=ce,yt._logger.log(B.Trace,"(LongPolling transport) Connecting."),Ve===we.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[Bt,zt]=j(),Yt={[Bt]:zt,...yt._options.headers},cn={abortSignal:yt._pollAbort.signal,headers:Yt,timeout:1e5,withCredentials:yt._options.withCredentials};Ve===we.Binary&&(cn.responseType="arraybuffer");const nn=`${ce}&_=${Date.now()}`;yt._logger.log(B.Trace,`(LongPolling transport) polling: ${nn}.`);const Mt=yield yt._httpClient.get(nn,cn);200!==Mt.statusCode?(yt._logger.log(B.Error,`(LongPolling transport) Unexpected response code: ${Mt.statusCode}.`),yt._closeError=new g(Mt.statusText||"",Mt.statusCode),yt._running=!1):yt._running=!0,yt._receiving=yt._poll(yt._url,cn)})()}_poll(ce,Ve){var yt=this;return(0,E.Z)(function*(){try{for(;yt._running;)try{const Bt=`${ce}&_=${Date.now()}`;yt._logger.log(B.Trace,`(LongPolling transport) polling: ${Bt}.`);const zt=yield yt._httpClient.get(Bt,Ve);204===zt.statusCode?(yt._logger.log(B.Information,"(LongPolling transport) Poll terminated by server."),yt._running=!1):200!==zt.statusCode?(yt._logger.log(B.Error,`(LongPolling transport) Unexpected response code: ${zt.statusCode}.`),yt._closeError=new g(zt.statusText||"",zt.statusCode),yt._running=!1):zt.content?(yt._logger.log(B.Trace,`(LongPolling transport) data received. ${C(zt.content,yt._options.logMessageContent)}.`),yt.onreceive&&yt.onreceive(zt.content)):yt._logger.log(B.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(Bt){yt._running?Bt instanceof o?yt._logger.log(B.Trace,"(LongPolling transport) Poll timed out, reissuing."):(yt._closeError=Bt,yt._running=!1):yt._logger.log(B.Trace,`(LongPolling transport) Poll errored after shutdown: ${Bt.message}`)}}finally{yt._logger.log(B.Trace,"(LongPolling transport) Polling complete."),yt.pollAborted||yt._raiseOnClose()}})()}send(ce){var Ve=this;return(0,E.Z)(function*(){return Ve._running?G(Ve._logger,"LongPolling",Ve._httpClient,Ve._url,ce,Ve._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var ce=this;return(0,E.Z)(function*(){ce._logger.log(B.Trace,"(LongPolling transport) Stopping polling."),ce._running=!1,ce._pollAbort.abort();try{yield ce._receiving,ce._logger.log(B.Trace,`(LongPolling transport) sending DELETE request to ${ce._url}.`);const Ve={},[yt,Bt]=j();Ve[yt]=Bt;const zt={headers:{...Ve,...ce._options.headers},timeout:ce._options.timeout,withCredentials:ce._options.withCredentials};yield ce._httpClient.delete(ce._url,zt),ce._logger.log(B.Trace,"(LongPolling transport) DELETE request sent.")}finally{ce._logger.log(B.Trace,"(LongPolling transport) Stop finished."),ce._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let ce="(LongPolling transport) Firing onclose event.";this._closeError&&(ce+=" Error: "+this._closeError),this._logger.log(B.Trace,ce),this.onclose(this._closeError)}}}class Ue{constructor(ce,Ve,yt,Bt){this._httpClient=ce,this._accessToken=Ve,this._logger=yt,this._options=Bt,this.onreceive=null,this.onclose=null}connect(ce,Ve){var yt=this;return(0,E.Z)(function*(){return D.isRequired(ce,"url"),D.isRequired(Ve,"transferFormat"),D.isIn(Ve,we,"transferFormat"),yt._logger.log(B.Trace,"(SSE transport) Connecting."),yt._url=ce,yt._accessToken&&(ce+=(ce.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(yt._accessToken)}`),new Promise((Bt,zt)=>{let cn,Yt=!1;if(Ve===we.Text){if(T.isBrowser||T.isWebWorker)cn=new yt._options.EventSource(ce,{withCredentials:yt._options.withCredentials});else{const nn=yt._httpClient.getCookieString(ce),Mt={};Mt.Cookie=nn;const[gt,Qe]=j();Mt[gt]=Qe,cn=new yt._options.EventSource(ce,{withCredentials:yt._options.withCredentials,headers:{...Mt,...yt._options.headers}})}try{cn.onmessage=nn=>{if(yt.onreceive)try{yt._logger.log(B.Trace,`(SSE transport) data received. ${C(nn.data,yt._options.logMessageContent)}.`),yt.onreceive(nn.data)}catch(Mt){return void yt._close(Mt)}},cn.onerror=nn=>{Yt?yt._close():zt(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},cn.onopen=()=>{yt._logger.log(B.Information,`SSE connected to ${yt._url}`),yt._eventSource=cn,Yt=!0,Bt()}}catch(nn){return void zt(nn)}}else zt(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(ce){var Ve=this;return(0,E.Z)(function*(){return Ve._eventSource?G(Ve._logger,"SSE",Ve._httpClient,Ve._url,ce,Ve._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(ce){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(ce))}}class lt{constructor(ce,Ve,yt,Bt,zt,Yt){this._logger=yt,this._accessTokenFactory=Ve,this._logMessageContent=Bt,this._webSocketConstructor=zt,this._httpClient=ce,this.onreceive=null,this.onclose=null,this._headers=Yt}connect(ce,Ve){var yt=this;return(0,E.Z)(function*(){let Bt;return D.isRequired(ce,"url"),D.isRequired(Ve,"transferFormat"),D.isIn(Ve,we,"transferFormat"),yt._logger.log(B.Trace,"(WebSockets transport) Connecting."),yt._accessTokenFactory&&(Bt=yield yt._accessTokenFactory()),new Promise((zt,Yt)=>{let cn;ce=ce.replace(/^http/,"ws");const nn=yt._httpClient.getCookieString(ce);let Mt=!1;if(T.isNode||T.isReactNative){const gt={},[Qe,Fe]=j();gt[Qe]=Fe,Bt&&(gt[A.Authorization]=`Bearer ${Bt}`),nn&&(gt[A.Cookie]=nn),cn=new yt._webSocketConstructor(ce,void 0,{headers:{...gt,...yt._headers}})}else Bt&&(ce+=(ce.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Bt)}`);cn||(cn=new yt._webSocketConstructor(ce)),Ve===we.Binary&&(cn.binaryType="arraybuffer"),cn.onopen=gt=>{yt._logger.log(B.Information,`WebSocket connected to ${ce}.`),yt._webSocket=cn,Mt=!0,zt()},cn.onerror=gt=>{let Qe=null;Qe=typeof ErrorEvent<"u"&&gt instanceof ErrorEvent?gt.error:"There was an error with the transport",yt._logger.log(B.Information,`(WebSockets transport) ${Qe}.`)},cn.onmessage=gt=>{if(yt._logger.log(B.Trace,`(WebSockets transport) data received. ${C(gt.data,yt._logMessageContent)}.`),yt.onreceive)try{yt.onreceive(gt.data)}catch(Qe){return void yt._close(Qe)}},cn.onclose=gt=>{if(Mt)yt._close(gt);else{let Qe=null;Qe=typeof ErrorEvent<"u"&&gt instanceof ErrorEvent?gt.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",Yt(new Error(Qe))}}})})()}send(ce){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(B.Trace,`(WebSockets transport) sending data. ${C(ce,this._logMessageContent)}.`),this._webSocket.send(ce),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(ce){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(B.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(ce)||!1!==ce.wasClean&&1e3===ce.code?ce instanceof Error?this.onclose(ce):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${ce.code} (${ce.reason||"no reason given"}).`)))}_isCloseEvent(ce){return ce&&"boolean"==typeof ce.wasClean&&"number"==typeof ce.code}}class be{constructor(ce,Ve={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,D.isRequired(ce,"url"),this._logger=function ee(vt){return void 0===vt?new Ae(B.Information):null===vt?F.instance:void 0!==vt.log?vt:new Ae(vt)}(Ve.logger),this.baseUrl=this._resolveUrl(ce),(Ve=Ve||{}).logMessageContent=void 0!==Ve.logMessageContent&&Ve.logMessageContent,"boolean"!=typeof Ve.withCredentials&&void 0!==Ve.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");Ve.withCredentials=void 0===Ve.withCredentials||Ve.withCredentials,Ve.timeout=void 0===Ve.timeout?1e5:Ve.timeout;let yt=null,Bt=null;if(T.isNode){const zt=require;yt=zt("ws"),Bt=zt("eventsource")}!T.isNode&&typeof WebSocket<"u"&&!Ve.WebSocket?Ve.WebSocket=WebSocket:T.isNode&&!Ve.WebSocket&&yt&&(Ve.WebSocket=yt),!T.isNode&&typeof EventSource<"u"&&!Ve.EventSource?Ve.EventSource=EventSource:T.isNode&&!Ve.EventSource&&typeof Bt<"u"&&(Ve.EventSource=Bt),this._httpClient=new w(Ve.httpClient||new Le(this._logger),Ve.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=Ve,this.onreceive=null,this.onclose=null}start(ce){var Ve=this;return(0,E.Z)(function*(){if(D.isIn(ce=ce||we.Binary,we,"transferFormat"),Ve._logger.log(B.Debug,`Starting connection with transfer format '${we[ce]}'.`),"Disconnected"!==Ve._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(Ve._connectionState="Connecting",Ve._startInternalPromise=Ve._startInternal(ce),yield Ve._startInternalPromise,"Disconnecting"===Ve._connectionState){const yt="Failed to start the HttpConnection before stop() was called.";return Ve._logger.log(B.Error,yt),yield Ve._stopPromise,Promise.reject(new d(yt))}if("Connected"!==Ve._connectionState){const yt="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return Ve._logger.log(B.Error,yt),Promise.reject(new d(yt))}Ve._connectionStarted=!0})()}send(ce){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new K(this.transport)),this._sendQueue.send(ce))}stop(ce){var Ve=this;return(0,E.Z)(function*(){return"Disconnected"===Ve._connectionState?(Ve._logger.log(B.Debug,`Call to HttpConnection.stop(${ce}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===Ve._connectionState?(Ve._logger.log(B.Debug,`Call to HttpConnection.stop(${ce}) ignored because the connection is already in the disconnecting state.`),Ve._stopPromise):(Ve._connectionState="Disconnecting",Ve._stopPromise=new Promise(yt=>{Ve._stopPromiseResolver=yt}),yield Ve._stopInternal(ce),void(yield Ve._stopPromise))})()}_stopInternal(ce){var Ve=this;return(0,E.Z)(function*(){Ve._stopError=ce;try{yield Ve._startInternalPromise}catch{}if(Ve.transport){try{yield Ve.transport.stop()}catch(yt){Ve._logger.log(B.Error,`HttpConnection.transport.stop() threw error '${yt}'.`),Ve._stopConnection()}Ve.transport=void 0}else Ve._logger.log(B.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(ce){var Ve=this;return(0,E.Z)(function*(){let yt=Ve.baseUrl;Ve._accessTokenFactory=Ve._options.accessTokenFactory,Ve._httpClient._accessTokenFactory=Ve._accessTokenFactory;try{if(Ve._options.skipNegotiation){if(Ve._options.transport!==fe.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");Ve.transport=Ve._constructTransport(fe.WebSockets),yield Ve._startTransport(yt,ce)}else{let Bt=null,zt=0;do{if(Bt=yield Ve._getNegotiationResponse(yt),"Disconnecting"===Ve._connectionState||"Disconnected"===Ve._connectionState)throw new d("The connection was stopped during negotiation.");if(Bt.error)throw new Error(Bt.error);if(Bt.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(Bt.url&&(yt=Bt.url),Bt.accessToken){const Yt=Bt.accessToken;Ve._accessTokenFactory=()=>Yt,Ve._httpClient._accessToken=Yt,Ve._httpClient._accessTokenFactory=void 0}zt++}while(Bt.url&&zt<100);if(100===zt&&Bt.url)throw new Error("Negotiate redirection limit exceeded.");yield Ve._createTransport(yt,Ve._options.transport,Bt,ce)}Ve.transport instanceof De&&(Ve.features.inherentKeepAlive=!0),"Connecting"===Ve._connectionState&&(Ve._logger.log(B.Debug,"The HttpConnection connected successfully."),Ve._connectionState="Connected")}catch(Bt){return Ve._logger.log(B.Error,"Failed to start the connection: "+Bt),Ve._connectionState="Disconnected",Ve.transport=void 0,Ve._stopPromiseResolver(),Promise.reject(Bt)}})()}_getNegotiationResponse(ce){var Ve=this;return(0,E.Z)(function*(){const yt={},[Bt,zt]=j();yt[Bt]=zt;const Yt=Ve._resolveNegotiateUrl(ce);Ve._logger.log(B.Debug,`Sending negotiation request: ${Yt}.`);try{const cn=yield Ve._httpClient.post(Yt,{content:"",headers:{...yt,...Ve._options.headers},timeout:Ve._options.timeout,withCredentials:Ve._options.withCredentials});if(200!==cn.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${cn.statusCode}'`));const nn=JSON.parse(cn.content);return(!nn.negotiateVersion||nn.negotiateVersion<1)&&(nn.connectionToken=nn.connectionId),nn}catch(cn){let nn="Failed to complete negotiation with the server: "+cn;return cn instanceof g&&404===cn.statusCode&&(nn+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),Ve._logger.log(B.Error,nn),Promise.reject(new k(nn))}})()}_createConnectUrl(ce,Ve){return Ve?ce+(-1===ce.indexOf("?")?"?":"&")+`id=${Ve}`:ce}_createTransport(ce,Ve,yt,Bt){var zt=this;return(0,E.Z)(function*(){let Yt=zt._createConnectUrl(ce,yt.connectionToken);if(zt._isITransport(Ve))return zt._logger.log(B.Debug,"Connection was provided an instance of ITransport, using that directly."),zt.transport=Ve,yield zt._startTransport(Yt,Bt),void(zt.connectionId=yt.connectionId);const cn=[],nn=yt.availableTransports||[];let Mt=yt;for(const gt of nn){const Qe=zt._resolveTransportOrError(gt,Ve,Bt);if(Qe instanceof Error)cn.push(`${gt.transport} failed:`),cn.push(Qe);else if(zt._isITransport(Qe)){if(zt.transport=Qe,!Mt){try{Mt=yield zt._getNegotiationResponse(ce)}catch(Fe){return Promise.reject(Fe)}Yt=zt._createConnectUrl(ce,Mt.connectionToken)}try{return yield zt._startTransport(Yt,Bt),void(zt.connectionId=Mt.connectionId)}catch(Fe){if(zt._logger.log(B.Error,`Failed to start the transport '${gt.transport}': ${Fe}`),Mt=void 0,cn.push(new y(`${gt.transport} failed: ${Fe}`,fe[gt.transport])),"Connecting"!==zt._connectionState){const ke="Failed to select transport before stop() was called.";return zt._logger.log(B.Debug,ke),Promise.reject(new d(ke))}}}}return Promise.reject(cn.length>0?new P(`Unable to connect to the server with any of the available transports. ${cn.join(" ")}`,cn):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(ce){switch(ce){case fe.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new lt(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case fe.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Ue(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case fe.LongPolling:return new De(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${ce}.`)}}_startTransport(ce,Ve){return this.transport.onreceive=this.onreceive,this.transport.onclose=yt=>this._stopConnection(yt),this.transport.connect(ce,Ve)}_resolveTransportOrError(ce,Ve,yt){const Bt=fe[ce.transport];if(null==Bt)return this._logger.log(B.Debug,`Skipping transport '${ce.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${ce.transport}' because it is not supported by this client.`);if(!function _e(vt,ce){return!vt||0!=(ce&vt)}(Ve,Bt))return this._logger.log(B.Debug,`Skipping transport '${fe[Bt]}' because it was disabled by the client.`),new m(`'${fe[Bt]}' is disabled by the client.`,Bt);if(!(ce.transferFormats.map(Yt=>we[Yt]).indexOf(yt)>=0))return this._logger.log(B.Debug,`Skipping transport '${fe[Bt]}' because it does not support the requested transfer format '${we[yt]}'.`),new Error(`'${fe[Bt]}' does not support ${we[yt]}.`);if(Bt===fe.WebSockets&&!this._options.WebSocket||Bt===fe.ServerSentEvents&&!this._options.EventSource)return this._logger.log(B.Debug,`Skipping transport '${fe[Bt]}' because it is not supported in your environment.'`),new u(`'${fe[Bt]}' is not supported in your environment.`,Bt);this._logger.log(B.Debug,`Selecting transport '${fe[Bt]}'.`);try{return this._constructTransport(Bt)}catch(Yt){return Yt}}_isITransport(ce){return ce&&"object"==typeof ce&&"connect"in ce}_stopConnection(ce){if(this._logger.log(B.Debug,`HttpConnection.stopConnection(${ce}) called while in state ${this._connectionState}.`),this.transport=void 0,ce=this._stopError||ce,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(B.Warning,`Call to HttpConnection.stopConnection(${ce}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${ce}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),ce?this._logger.log(B.Error,`Connection disconnected with error '${ce}'.`):this._logger.log(B.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(Ve=>{this._logger.log(B.Error,`TransportSendQueue.stop() threw error '${Ve}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(ce)}catch(Ve){this._logger.log(B.Error,`HttpConnection.onclose(${ce}) threw error '${Ve}'.`)}}}else this._logger.log(B.Debug,`Call to HttpConnection.stopConnection(${ce}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(ce){if(0===ce.lastIndexOf("https://",0)||0===ce.lastIndexOf("http://",0))return ce;if(!T.isBrowser)throw new Error(`Cannot resolve '${ce}'.`);const Ve=window.document.createElement("a");return Ve.href=ce,this._logger.log(B.Information,`Normalizing '${ce}' to '${Ve.href}'.`),Ve.href}_resolveNegotiateUrl(ce){const Ve=ce.indexOf("?");let yt=ce.substring(0,-1===Ve?ce.length:Ve);return"/"!==yt[yt.length-1]&&(yt+="/"),yt+="negotiate",yt+=-1===Ve?"":ce.substring(Ve),-1===yt.indexOf("negotiateVersion")&&(yt+=-1===Ve?"?":"&",yt+="negotiateVersion="+this._negotiateVersion),yt}}class K{constructor(ce){this._transport=ce,this._buffer=[],this._executing=!0,this._sendBufferedData=new oe,this._transportResult=new oe,this._sendLoopPromise=this._sendLoop()}send(ce){return this._bufferData(ce),this._transportResult||(this._transportResult=new oe),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(ce){if(this._buffer.length&&typeof this._buffer[0]!=typeof ce)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof ce}`);this._buffer.push(ce),this._sendBufferedData.resolve()}_sendLoop(){var ce=this;return(0,E.Z)(function*(){for(;;){if(yield ce._sendBufferedData.promise,!ce._executing){ce._transportResult&&ce._transportResult.reject("Connection stopped.");break}ce._sendBufferedData=new oe;const Ve=ce._transportResult;ce._transportResult=void 0;const yt="string"==typeof ce._buffer[0]?ce._buffer.join(""):K._concatBuffers(ce._buffer);ce._buffer.length=0;try{yield ce._transport.send(yt),Ve.resolve()}catch(Bt){Ve.reject(Bt)}}})()}static _concatBuffers(ce){const Ve=ce.map(zt=>zt.byteLength).reduce((zt,Yt)=>zt+Yt),yt=new Uint8Array(Ve);let Bt=0;for(const zt of ce)yt.set(new Uint8Array(zt),Bt),Bt+=zt.byteLength;return yt.buffer}}class oe{constructor(){this.promise=new Promise((ce,Ve)=>[this._resolver,this._rejecter]=[ce,Ve])}resolve(){this._resolver()}reject(ce){this._rejecter(ce)}}class pe{static write(ce){return`${ce}${pe.RecordSeparator}`}static parse(ce){if(ce[ce.length-1]!==pe.RecordSeparator)throw new Error("Message is incomplete.");const Ve=ce.split(pe.RecordSeparator);return Ve.pop(),Ve}}pe.RecordSeparatorCode=30,pe.RecordSeparator=String.fromCharCode(pe.RecordSeparatorCode);class re{writeHandshakeRequest(ce){return pe.write(JSON.stringify(ce))}parseHandshakeResponse(ce){let Ve,yt;if(M(ce)){const cn=new Uint8Array(ce),nn=cn.indexOf(pe.RecordSeparatorCode);if(-1===nn)throw new Error("Message is incomplete.");const Mt=nn+1;Ve=String.fromCharCode.apply(null,Array.prototype.slice.call(cn.slice(0,Mt))),yt=cn.byteLength>Mt?cn.slice(Mt).buffer:null}else{const cn=ce,nn=cn.indexOf(pe.RecordSeparator);if(-1===nn)throw new Error("Message is incomplete.");const Mt=nn+1;Ve=cn.substring(0,Mt),yt=cn.length>Mt?cn.substring(Mt):null}const Bt=pe.parse(Ve),zt=JSON.parse(Bt[0]);if(zt.type)throw new Error("Expected a handshake response from the server.");return[yt,zt]}}var Q=function(vt){return vt[vt.Invocation=1]="Invocation",vt[vt.StreamItem=2]="StreamItem",vt[vt.Completion=3]="Completion",vt[vt.StreamInvocation=4]="StreamInvocation",vt[vt.CancelInvocation=5]="CancelInvocation",vt[vt.Ping=6]="Ping",vt[vt.Close=7]="Close",vt}(Q||{});class X{constructor(){this.observers=[]}next(ce){for(const Ve of this.observers)Ve.next(ce)}error(ce){for(const Ve of this.observers)Ve.error&&Ve.error(ce)}complete(){for(const ce of this.observers)ce.complete&&ce.complete()}subscribe(ce){return this.observers.push(ce),new ae(this,ce)}}var J=function(vt){return vt.Disconnected="Disconnected",vt.Connecting="Connecting",vt.Connected="Connected",vt.Disconnecting="Disconnecting",vt.Reconnecting="Reconnecting",vt}(J||{});class q{constructor(ce,Ve,yt,Bt){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(B.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},D.isRequired(ce,"connection"),D.isRequired(Ve,"logger"),D.isRequired(yt,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=Ve,this._protocol=yt,this.connection=ce,this._reconnectPolicy=Bt,this._handshakeProtocol=new re,this.connection.onreceive=zt=>this._processIncomingData(zt),this.connection.onclose=zt=>this._connectionClosed(zt),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=J.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Q.Ping})}static create(ce,Ve,yt,Bt){return new q(ce,Ve,yt,Bt)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(ce){if(this._connectionState!==J.Disconnected&&this._connectionState!==J.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!ce)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=ce}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var ce=this;return(0,E.Z)(function*(){if(ce._connectionState!==J.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));ce._connectionState=J.Connecting,ce._logger.log(B.Debug,"Starting HubConnection.");try{yield ce._startInternal(),T.isBrowser&&window.document.addEventListener("freeze",ce._freezeEventListener),ce._connectionState=J.Connected,ce._connectionStarted=!0,ce._logger.log(B.Debug,"HubConnection connected successfully.")}catch(Ve){return ce._connectionState=J.Disconnected,ce._logger.log(B.Debug,`HubConnection failed to start successfully because of error '${Ve}'.`),Promise.reject(Ve)}})()}_startInternal(){var ce=this;return(0,E.Z)(function*(){ce._stopDuringStartError=void 0,ce._receivedHandshakeResponse=!1;const Ve=new Promise((yt,Bt)=>{ce._handshakeResolver=yt,ce._handshakeRejecter=Bt});yield ce.connection.start(ce._protocol.transferFormat);try{const yt={protocol:ce._protocol.name,version:ce._protocol.version};if(ce._logger.log(B.Debug,"Sending handshake request."),yield ce._sendMessage(ce._handshakeProtocol.writeHandshakeRequest(yt)),ce._logger.log(B.Information,`Using HubProtocol '${ce._protocol.name}'.`),ce._cleanupTimeout(),ce._resetTimeoutPeriod(),ce._resetKeepAliveInterval(),yield Ve,ce._stopDuringStartError)throw ce._stopDuringStartError;ce.connection.features.inherentKeepAlive||(yield ce._sendMessage(ce._cachedPingMessage))}catch(yt){throw ce._logger.log(B.Debug,`Hub handshake failed with error '${yt}' during start(). Stopping HubConnection.`),ce._cleanupTimeout(),ce._cleanupPingTimer(),yield ce.connection.stop(yt),yt}})()}stop(){var ce=this;return(0,E.Z)(function*(){const Ve=ce._startPromise;ce._stopPromise=ce._stopInternal(),yield ce._stopPromise;try{yield Ve}catch{}})()}_stopInternal(ce){return this._connectionState===J.Disconnected?(this._logger.log(B.Debug,`Call to HubConnection.stop(${ce}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===J.Disconnecting?(this._logger.log(B.Debug,`Call to HttpConnection.stop(${ce}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=J.Disconnecting,this._logger.log(B.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(B.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=ce||new d("The connection was stopped before the hub handshake could complete."),this.connection.stop(ce)))}stream(ce,...Ve){const[yt,Bt]=this._replaceStreamingParams(Ve),zt=this._createStreamInvocation(ce,Ve,Bt);let Yt;const cn=new X;return cn.cancelCallback=()=>{const nn=this._createCancelInvocation(zt.invocationId);return delete this._callbacks[zt.invocationId],Yt.then(()=>this._sendWithProtocol(nn))},this._callbacks[zt.invocationId]=(nn,Mt)=>{Mt?cn.error(Mt):nn&&(nn.type===Q.Completion?nn.error?cn.error(new Error(nn.error)):cn.complete():cn.next(nn.item))},Yt=this._sendWithProtocol(zt).catch(nn=>{cn.error(nn),delete this._callbacks[zt.invocationId]}),this._launchStreams(yt,Yt),cn}_sendMessage(ce){return this._resetKeepAliveInterval(),this.connection.send(ce)}_sendWithProtocol(ce){return this._sendMessage(this._protocol.writeMessage(ce))}send(ce,...Ve){const[yt,Bt]=this._replaceStreamingParams(Ve),zt=this._sendWithProtocol(this._createInvocation(ce,Ve,!0,Bt));return this._launchStreams(yt,zt),zt}invoke(ce,...Ve){const[yt,Bt]=this._replaceStreamingParams(Ve),zt=this._createInvocation(ce,Ve,!1,Bt);return new Promise((cn,nn)=>{this._callbacks[zt.invocationId]=(gt,Qe)=>{Qe?nn(Qe):gt&&(gt.type===Q.Completion?gt.error?nn(new Error(gt.error)):cn(gt.result):nn(new Error(`Unexpected message type: ${gt.type}`)))};const Mt=this._sendWithProtocol(zt).catch(gt=>{nn(gt),delete this._callbacks[zt.invocationId]});this._launchStreams(yt,Mt)})}on(ce,Ve){!ce||!Ve||(ce=ce.toLowerCase(),this._methods[ce]||(this._methods[ce]=[]),-1===this._methods[ce].indexOf(Ve)&&this._methods[ce].push(Ve))}off(ce,Ve){if(!ce)return;ce=ce.toLowerCase();const yt=this._methods[ce];if(yt)if(Ve){const Bt=yt.indexOf(Ve);-1!==Bt&&(yt.splice(Bt,1),0===yt.length&&delete this._methods[ce])}else delete this._methods[ce]}onclose(ce){ce&&this._closedCallbacks.push(ce)}onreconnecting(ce){ce&&this._reconnectingCallbacks.push(ce)}onreconnected(ce){ce&&this._reconnectedCallbacks.push(ce)}_processIncomingData(ce){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(ce=this._processHandshakeResponse(ce),this._receivedHandshakeResponse=!0),ce){const Ve=this._protocol.parseMessages(ce,this._logger);for(const yt of Ve)switch(yt.type){case Q.Invocation:this._invokeClientMethod(yt);break;case Q.StreamItem:case Q.Completion:{const Bt=this._callbacks[yt.invocationId];if(Bt){yt.type===Q.Completion&&delete this._callbacks[yt.invocationId];try{Bt(yt)}catch(zt){this._logger.log(B.Error,`Stream callback threw error: ${Se(zt)}`)}}break}case Q.Ping:break;case Q.Close:{this._logger.log(B.Information,"Close message received from server.");const Bt=yt.error?new Error("Server returned an error on close: "+yt.error):void 0;!0===yt.allowReconnect?this.connection.stop(Bt):this._stopPromise=this._stopInternal(Bt);break}default:this._logger.log(B.Warning,`Invalid message type: ${yt.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(ce){let Ve,yt;try{[yt,Ve]=this._handshakeProtocol.parseHandshakeResponse(ce)}catch(Bt){const zt="Error parsing handshake response: "+Bt;this._logger.log(B.Error,zt);const Yt=new Error(zt);throw this._handshakeRejecter(Yt),Yt}if(Ve.error){const Bt="Server returned handshake error: "+Ve.error;this._logger.log(B.Error,Bt);const zt=new Error(Bt);throw this._handshakeRejecter(zt),zt}return this._logger.log(B.Debug,"Server handshake complete."),this._handshakeResolver(),yt}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var ce=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let Ve=this._nextKeepAlive-(new Date).getTime();Ve<0&&(Ve=0),this._pingServerHandle=setTimeout((0,E.Z)(function*(){if(ce._connectionState===J.Connected)try{yield ce._sendMessage(ce._cachedPingMessage)}catch{ce._cleanupPingTimer()}}),Ve)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(ce){var Ve=this;return(0,E.Z)(function*(){const yt=ce.target.toLowerCase(),Bt=Ve._methods[yt];if(!Bt)return Ve._logger.log(B.Warning,`No client method with the name '${yt}' found.`),void(ce.invocationId&&(Ve._logger.log(B.Warning,`No result given for '${yt}' method and invocation ID '${ce.invocationId}'.`),yield Ve._sendWithProtocol(Ve._createCompletionMessage(ce.invocationId,"Client didn't provide a result.",null))));const zt=Bt.slice(),Yt=!!ce.invocationId;let cn,nn,Mt;for(const gt of zt)try{const Qe=cn;cn=yield gt.apply(Ve,ce.arguments),Yt&&cn&&Qe&&(Ve._logger.log(B.Error,`Multiple results provided for '${yt}'. Sending error to server.`),Mt=Ve._createCompletionMessage(ce.invocationId,"Client provided multiple results.",null)),nn=void 0}catch(Qe){nn=Qe,Ve._logger.log(B.Error,`A callback for the method '${yt}' threw error '${Qe}'.`)}Mt?yield Ve._sendWithProtocol(Mt):Yt?(nn?Mt=Ve._createCompletionMessage(ce.invocationId,`${nn}`,null):void 0!==cn?Mt=Ve._createCompletionMessage(ce.invocationId,null,cn):(Ve._logger.log(B.Warning,`No result given for '${yt}' method and invocation ID '${ce.invocationId}'.`),Mt=Ve._createCompletionMessage(ce.invocationId,"Client didn't provide a result.",null)),yield Ve._sendWithProtocol(Mt)):cn&&Ve._logger.log(B.Error,`Result given for '${yt}' method but server is not expecting a result.`)})()}_connectionClosed(ce){this._logger.log(B.Debug,`HubConnection.connectionClosed(${ce}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||ce||new d("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(ce||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===J.Disconnecting?this._completeClose(ce):this._connectionState===J.Connected&&this._reconnectPolicy?this._reconnect(ce):this._connectionState===J.Connected&&this._completeClose(ce)}_completeClose(ce){if(this._connectionStarted){this._connectionState=J.Disconnected,this._connectionStarted=!1,T.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(Ve=>Ve.apply(this,[ce]))}catch(Ve){this._logger.log(B.Error,`An onclose callback called with error '${ce}' threw error '${Ve}'.`)}}}_reconnect(ce){var Ve=this;return(0,E.Z)(function*(){const yt=Date.now();let Bt=0,zt=void 0!==ce?ce:new Error("Attempting to reconnect due to a unknown error."),Yt=Ve._getNextRetryDelay(Bt++,0,zt);if(null===Yt)return Ve._logger.log(B.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void Ve._completeClose(ce);if(Ve._connectionState=J.Reconnecting,Ve._logger.log(B.Information,ce?`Connection reconnecting because of error '${ce}'.`:"Connection reconnecting."),0!==Ve._reconnectingCallbacks.length){try{Ve._reconnectingCallbacks.forEach(cn=>cn.apply(Ve,[ce]))}catch(cn){Ve._logger.log(B.Error,`An onreconnecting callback called with error '${ce}' threw error '${cn}'.`)}if(Ve._connectionState!==J.Reconnecting)return void Ve._logger.log(B.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==Yt;){if(Ve._logger.log(B.Information,`Reconnect attempt number ${Bt} will start in ${Yt} ms.`),yield new Promise(cn=>{Ve._reconnectDelayHandle=setTimeout(cn,Yt)}),Ve._reconnectDelayHandle=void 0,Ve._connectionState!==J.Reconnecting)return void Ve._logger.log(B.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield Ve._startInternal(),Ve._connectionState=J.Connected,Ve._logger.log(B.Information,"HubConnection reconnected successfully."),0!==Ve._reconnectedCallbacks.length)try{Ve._reconnectedCallbacks.forEach(cn=>cn.apply(Ve,[Ve.connection.connectionId]))}catch(cn){Ve._logger.log(B.Error,`An onreconnected callback called with connectionId '${Ve.connection.connectionId}; threw error '${cn}'.`)}return}catch(cn){if(Ve._logger.log(B.Information,`Reconnect attempt failed because of error '${cn}'.`),Ve._connectionState!==J.Reconnecting)return Ve._logger.log(B.Debug,`Connection moved to the '${Ve._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(Ve._connectionState===J.Disconnecting&&Ve._completeClose());zt=cn instanceof Error?cn:new Error(cn.toString()),Yt=Ve._getNextRetryDelay(Bt++,Date.now()-yt,zt)}}Ve._logger.log(B.Information,`Reconnect retries have been exhausted after ${Date.now()-yt} ms and ${Bt} failed attempts. Connection disconnecting.`),Ve._completeClose()})()}_getNextRetryDelay(ce,Ve,yt){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:Ve,previousRetryCount:ce,retryReason:yt})}catch(Bt){return this._logger.log(B.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${ce}, ${Ve}) threw error '${Bt}'.`),null}}_cancelCallbacksWithError(ce){const Ve=this._callbacks;this._callbacks={},Object.keys(Ve).forEach(yt=>{const Bt=Ve[yt];try{Bt(null,ce)}catch(zt){this._logger.log(B.Error,`Stream 'error' callback called with '${ce}' threw error: ${Se(zt)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(ce,Ve,yt,Bt){if(yt)return 0!==Bt.length?{arguments:Ve,streamIds:Bt,target:ce,type:Q.Invocation}:{arguments:Ve,target:ce,type:Q.Invocation};{const zt=this._invocationId;return this._invocationId++,0!==Bt.length?{arguments:Ve,invocationId:zt.toString(),streamIds:Bt,target:ce,type:Q.Invocation}:{arguments:Ve,invocationId:zt.toString(),target:ce,type:Q.Invocation}}}_launchStreams(ce,Ve){if(0!==ce.length){Ve||(Ve=Promise.resolve());for(const yt in ce)ce[yt].subscribe({complete:()=>{Ve=Ve.then(()=>this._sendWithProtocol(this._createCompletionMessage(yt)))},error:Bt=>{let zt;zt=Bt instanceof Error?Bt.message:Bt&&Bt.toString?Bt.toString():"Unknown error",Ve=Ve.then(()=>this._sendWithProtocol(this._createCompletionMessage(yt,zt)))},next:Bt=>{Ve=Ve.then(()=>this._sendWithProtocol(this._createStreamItemMessage(yt,Bt)))}})}}_replaceStreamingParams(ce){const Ve=[],yt=[];for(let Bt=0;Bt<ce.length;Bt++){const zt=ce[Bt];if(this._isObservable(zt)){const Yt=this._invocationId;this._invocationId++,Ve[Yt]=zt,yt.push(Yt.toString()),ce.splice(Bt,1)}}return[Ve,yt]}_isObservable(ce){return ce&&ce.subscribe&&"function"==typeof ce.subscribe}_createStreamInvocation(ce,Ve,yt){const Bt=this._invocationId;return this._invocationId++,0!==yt.length?{arguments:Ve,invocationId:Bt.toString(),streamIds:yt,target:ce,type:Q.StreamInvocation}:{arguments:Ve,invocationId:Bt.toString(),target:ce,type:Q.StreamInvocation}}_createCancelInvocation(ce){return{invocationId:ce,type:Q.CancelInvocation}}_createStreamItemMessage(ce,Ve){return{invocationId:ce,item:Ve,type:Q.StreamItem}}_createCompletionMessage(ce,Ve,yt){return Ve?{error:Ve,invocationId:ce,type:Q.Completion}:{invocationId:ce,result:yt,type:Q.Completion}}}class Ee{constructor(){this.name="json",this.version=1,this.transferFormat=we.Text}parseMessages(ce,Ve){if("string"!=typeof ce)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!ce)return[];null===Ve&&(Ve=F.instance);const yt=pe.parse(ce),Bt=[];for(const zt of yt){const Yt=JSON.parse(zt);if("number"!=typeof Yt.type)throw new Error("Invalid payload.");switch(Yt.type){case Q.Invocation:this._isInvocationMessage(Yt);break;case Q.StreamItem:this._isStreamItemMessage(Yt);break;case Q.Completion:this._isCompletionMessage(Yt);break;case Q.Ping:case Q.Close:break;default:Ve.log(B.Information,"Unknown message type '"+Yt.type+"' ignored.");continue}Bt.push(Yt)}return Bt}writeMessage(ce){return pe.write(JSON.stringify(ce))}_isInvocationMessage(ce){this._assertNotEmptyString(ce.target,"Invalid payload for Invocation message."),void 0!==ce.invocationId&&this._assertNotEmptyString(ce.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(ce){if(this._assertNotEmptyString(ce.invocationId,"Invalid payload for StreamItem message."),void 0===ce.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(ce){if(ce.result&&ce.error)throw new Error("Invalid payload for Completion message.");!ce.result&&ce.error&&this._assertNotEmptyString(ce.error,"Invalid payload for Completion message."),this._assertNotEmptyString(ce.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(ce,Ve){if("string"!=typeof ce||""===ce)throw new Error(Ve)}}const ye={trace:B.Trace,debug:B.Debug,info:B.Information,information:B.Information,warn:B.Warning,warning:B.Warning,error:B.Error,critical:B.Critical,none:B.None};class tt{configureLogging(ce){if(D.isRequired(ce,"logging"),function qe(vt){return void 0!==vt.log}(ce))this.logger=ce;else if("string"==typeof ce){const Ve=function Ne(vt){const ce=ye[vt.toLowerCase()];if(typeof ce<"u")return ce;throw new Error(`Unknown log level: ${vt}`)}(ce);this.logger=new Ae(Ve)}else this.logger=new Ae(ce);return this}withUrl(ce,Ve){return D.isRequired(ce,"url"),D.isNotEmpty(ce,"url"),this.url=ce,this.httpConnectionOptions="object"==typeof Ve?{...this.httpConnectionOptions,...Ve}:{...this.httpConnectionOptions,transport:Ve},this}withHubProtocol(ce){return D.isRequired(ce,"protocol"),this.protocol=ce,this}withAutomaticReconnect(ce){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=ce?Array.isArray(ce)?new n(ce):ce:new n,this}build(){const ce=this.httpConnectionOptions||{};if(void 0===ce.logger&&(ce.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const Ve=new be(this.url,ce);return q.create(Ve,this.logger||F.instance,this.protocol||new Ee,this.reconnectPolicy)}}var Xe=v(8645),ut=v(5879),ze=v(1367);let ht=(()=>{class vt{constructor(Ve){this.sharedDataService=Ve,this.addedMediaFilePlayBack$=new Xe.x,this.removedMediaFilePlayBack$=new Xe.x,this.updateCurrentTimeMediaFilePlayBack$=new Xe.x,this.updateMediaServers$=new Xe.x,this.enableMediaServerSubject$=new Xe.x,this.disableMediaServerSubject$=new Xe.x,this.updateLibrariesByMediaServerSubject$=new Xe.x,this.updateItemsByMediaServerSubject$=new Xe.x}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(Ve){this.enableMediaServerSubject$.next(Ve)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(Ve){this.disableMediaServerSubject$.next(Ve)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(Ve){this.updateLibrariesByMediaServerSubject$.next(Ve)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(Ve){this.updateItemsByMediaServerSubject$.next(Ve)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){var Ve=(new tt).withUrl(this.sharedDataService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:fe.WebSockets}).build();this.sharedDataService.hubConnection=Ve,this.tryStartHubConnection()}tryStartHubConnection(){let Ve=this;this.sharedDataService.hubConnection.start().then(()=>{console.log("connection started"),Ve.setEvents(this.sharedDataService.hubConnection),Ve.sharedDataService.hubConnection.onclose(yt=>{setTimeout(()=>{Ve.sharedDataService.userData&&Ve.tryStartHubConnection()},1e3,Ve)})}).catch(yt=>{console.error("error while establishing signalr connection: "+yt),setTimeout(()=>{Ve.tryStartHubConnection()},1e3,Ve)})}stopConnection(){this.sharedDataService.hubConnection.off("UpdateCurrentTimeMediaFilePlayBack"),this.sharedDataService.hubConnection.off("AddedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("RemovedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("UpdateMediaServers"),this.sharedDataService.hubConnection.off("EnableMediaServer"),this.sharedDataService.hubConnection.off("DisableMediaServer"),this.sharedDataService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedDataService.hubConnection.stop()}setEvents(Ve){Ve.on("UpdateMediaServers",yt=>{this.updateMediaServers()}),Ve.on("EnableMediaServer",yt=>{var Bt=this.sharedDataService.mediaServers.find(zt=>zt.Guid==yt);Bt.isSecureConnection||(Bt.isSecureConnection=!0),this.enableMediaServer(yt)}),Ve.on("DisableMediaServer",yt=>{var Bt=this.sharedDataService.mediaServers.find(zt=>zt.Guid==yt);Bt.isSecureConnection&&(Bt.isSecureConnection=!1),this.disableMediaServer(yt)}),Ve.on("UpdateLibrariesByMediaServer",yt=>{this.updateLibrariesByMediaServer(yt)}),Ve.on("UpdateItemsByMediaServer",yt=>{this.updateItemsByMediaServer(yt)}),Ve.on("UpdateCurrentTimeMediaFilePlayBack",(yt,Bt,zt,Yt)=>{this.updateCurrentTimeMediaFilePlayBack$.next({mediaServerGuid:yt,mediaFilePlaybackGuid:Bt,currentTime:zt,isPlaying:Yt})}),Ve.on("AddedMediaFilePlayBack",(yt,Bt)=>{this.addedMediaFilePlayBack$.next({mediaServerGuid:yt,mediaFilePlaybackGuid:Bt})}),Ve.on("RemovedMediaFilePlayBack",(yt,Bt)=>{this.removedMediaFilePlayBack$.next({mediaServerGuid:yt,mediaFilePlaybackGuid:Bt})}),Ve.invoke("AddConnectionToUserClientsGroup",this.sharedDataService.userData.Guid).then(yt=>{})}isRemovedMediaFilePlayback(){return this.removedMediaFilePlayBack$.asObservable()}isAddedMediaFilePlayback(){return this.addedMediaFilePlayBack$.asObservable()}removeMediaFilePlayBack(Ve,yt){let Bt=this;this.sharedDataService.hubConnection.send("RemoveMediaFilePlayBack",this.sharedDataService.userData.Guid,Ve,yt).then(zt=>{},zt=>{setTimeout(()=>{Bt.removeMediaFilePlayBack(Ve,yt)},1e3,Bt)})}removeLastTranscodedMediaFileProcess(Ve,yt){let Bt=this;this.sharedDataService.hubConnection.send("RemoveLastTranscodedMediaFileProcess",this.sharedDataService.userData.Guid,Ve,yt).then(zt=>{},zt=>{setTimeout(()=>{Bt.removeLastTranscodedMediaFileProcess(Ve,yt)},1e3,Bt)})}updateCurrentTimeMediaFilePlayBack(Ve,yt,Bt,zt){this.sharedDataService.hubConnection.send("UpdateCurrentTimeMediaFilePlayBack",this.sharedDataService.userData.Guid,Ve,yt,Bt,zt)}isUpdatingCurrentTimeMediaFilePlayBack(){return this.updateCurrentTimeMediaFilePlayBack$.asObservable()}static#e=this.\u0275fac=function(yt){return new(yt||vt)(ut.LFG(ze.g))};static#t=this.\u0275prov=ut.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})()},486:(Bn,et,v)=>{"use strict";var e=v(6593),n=v(5879),E=v(9862),A=v(5612),_=v(2392);const I=(p,i)=>{const t=(0,n.f3M)(A.F0);return null==localStorage.getItem("apiToken")||t.navigateByUrl("/home")};var w=v(5094),g=v(2372),o=v(4753);function d(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var l,h,b,N,H,u={exports:{}};l=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,h=/^(?=([^\/?#]*))\1([^]*)$/,b=/(?:\/|^)\.(?=\/)/g,N=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,u.exports=H={buildAbsoluteURL:function(te,se,We){if(We=We||{},te=te.trim(),!(se=se.trim())){if(!We.alwaysNormalize)return te;var $e=H.parseURL(te);if(!$e)throw new Error("Error trying to parse base URL.");return $e.path=H.normalizePath($e.path),H.buildURLFromParts($e)}var Ct=H.parseURL(se);if(!Ct)throw new Error("Error trying to parse relative URL.");if(Ct.scheme)return We.alwaysNormalize?(Ct.path=H.normalizePath(Ct.path),H.buildURLFromParts(Ct)):se;var xt=H.parseURL(te);if(!xt)throw new Error("Error trying to parse base URL.");if(!xt.netLoc&&xt.path&&"/"!==xt.path[0]){var Gt=h.exec(xt.path);xt.netLoc=Gt[1],xt.path=Gt[2]}xt.netLoc&&!xt.path&&(xt.path="/");var Wt={scheme:xt.scheme,netLoc:Ct.netLoc,path:null,params:Ct.params,query:Ct.query,fragment:Ct.fragment};if(!Ct.netLoc&&(Wt.netLoc=xt.netLoc,"/"!==Ct.path[0]))if(Ct.path){var rn=xt.path,En=rn.substring(0,rn.lastIndexOf("/")+1)+Ct.path;Wt.path=H.normalizePath(En)}else Wt.path=xt.path,Ct.params||(Wt.params=xt.params,Ct.query||(Wt.query=xt.query));return null===Wt.path&&(Wt.path=We.alwaysNormalize?H.normalizePath(Ct.path):Ct.path),H.buildURLFromParts(Wt)},parseURL:function(te){var se=l.exec(te);return se?{scheme:se[1]||"",netLoc:se[2]||"",path:se[3]||"",params:se[4]||"",query:se[5]||"",fragment:se[6]||""}:null},normalizePath:function(te){for(te=te.split("").reverse().join("").replace(b,"");te.length!==(te=te.replace(N,"")).length;);return te.split("").reverse().join("")},buildURLFromParts:function(te){return te.scheme+te.netLoc+te.path+te.params+te.query+te.fragment}};var m=u.exports;function y(p,i){var t=Object.keys(p);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(p);i&&(l=l.filter(function(h){return Object.getOwnPropertyDescriptor(p,h).enumerable})),t.push.apply(t,l)}return t}function k(p){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?y(Object(t),!0).forEach(function(l){P(p,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(l){Object.defineProperty(p,l,Object.getOwnPropertyDescriptor(t,l))})}return p}function P(p,i,t){return i=function R(p){var i=function F(p,i){if("object"!=typeof p||null===p)return p;var t=p[Symbol.toPrimitive];if(void 0!==t){var l=t.call(p,i||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(p)}(p,"string");return"symbol"==typeof i?i:String(i)}(i),i in p?Object.defineProperty(p,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):p[i]=t,p}function B(){return B=Object.assign?Object.assign.bind():function(p){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(p[l]=t[l])}return p},B.apply(this,arguments)}const D=Number.isFinite||function(p){return"number"==typeof p&&isFinite(p)};let T=function(p){return p.MEDIA_ATTACHING="hlsMediaAttaching",p.MEDIA_ATTACHED="hlsMediaAttached",p.MEDIA_DETACHING="hlsMediaDetaching",p.MEDIA_DETACHED="hlsMediaDetached",p.BUFFER_RESET="hlsBufferReset",p.BUFFER_CODECS="hlsBufferCodecs",p.BUFFER_CREATED="hlsBufferCreated",p.BUFFER_APPENDING="hlsBufferAppending",p.BUFFER_APPENDED="hlsBufferAppended",p.BUFFER_EOS="hlsBufferEos",p.BUFFER_FLUSHING="hlsBufferFlushing",p.BUFFER_FLUSHED="hlsBufferFlushed",p.MANIFEST_LOADING="hlsManifestLoading",p.MANIFEST_LOADED="hlsManifestLoaded",p.MANIFEST_PARSED="hlsManifestParsed",p.LEVEL_SWITCHING="hlsLevelSwitching",p.LEVEL_SWITCHED="hlsLevelSwitched",p.LEVEL_LOADING="hlsLevelLoading",p.LEVEL_LOADED="hlsLevelLoaded",p.LEVEL_UPDATED="hlsLevelUpdated",p.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",p.LEVELS_UPDATED="hlsLevelsUpdated",p.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",p.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",p.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",p.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",p.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",p.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",p.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",p.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",p.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",p.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",p.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",p.CUES_PARSED="hlsCuesParsed",p.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",p.INIT_PTS_FOUND="hlsInitPtsFound",p.FRAG_LOADING="hlsFragLoading",p.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",p.FRAG_LOADED="hlsFragLoaded",p.FRAG_DECRYPTED="hlsFragDecrypted",p.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",p.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",p.FRAG_PARSING_METADATA="hlsFragParsingMetadata",p.FRAG_PARSED="hlsFragParsed",p.FRAG_BUFFERED="hlsFragBuffered",p.FRAG_CHANGED="hlsFragChanged",p.FPS_DROP="hlsFpsDrop",p.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",p.ERROR="hlsError",p.DESTROYING="hlsDestroying",p.KEY_LOADING="hlsKeyLoading",p.KEY_LOADED="hlsKeyLoaded",p.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",p.BACK_BUFFER_REACHED="hlsBackBufferReached",p}({}),C=function(p){return p.NETWORK_ERROR="networkError",p.MEDIA_ERROR="mediaError",p.KEY_SYSTEM_ERROR="keySystemError",p.MUX_ERROR="muxError",p.OTHER_ERROR="otherError",p}({}),O=function(p){return p.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",p.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",p.KEY_SYSTEM_NO_SESSION="keySystemNoSession",p.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",p.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",p.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",p.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",p.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",p.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",p.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",p.MANIFEST_LOAD_ERROR="manifestLoadError",p.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",p.MANIFEST_PARSING_ERROR="manifestParsingError",p.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",p.LEVEL_EMPTY_ERROR="levelEmptyError",p.LEVEL_LOAD_ERROR="levelLoadError",p.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",p.LEVEL_PARSING_ERROR="levelParsingError",p.LEVEL_SWITCH_ERROR="levelSwitchError",p.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",p.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",p.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",p.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",p.FRAG_LOAD_ERROR="fragLoadError",p.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",p.FRAG_DECRYPT_ERROR="fragDecryptError",p.FRAG_PARSING_ERROR="fragParsingError",p.FRAG_GAP="fragGap",p.REMUX_ALLOC_ERROR="remuxAllocError",p.KEY_LOAD_ERROR="keyLoadError",p.KEY_LOAD_TIMEOUT="keyLoadTimeOut",p.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",p.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",p.BUFFER_APPEND_ERROR="bufferAppendError",p.BUFFER_APPENDING_ERROR="bufferAppendingError",p.BUFFER_STALLED_ERROR="bufferStalledError",p.BUFFER_FULL_ERROR="bufferFullError",p.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",p.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",p.INTERNAL_EXCEPTION="internalException",p.INTERNAL_ABORTED="aborted",p.UNKNOWN="unknown",p}({});const M=function(){},G={trace:M,debug:M,log:M,warn:M,info:M,error:M};let Z=G;const j=Z,le=/^(\d+)x(\d+)$/,Y=/(.+?)=(".*?"|.*?)(?:,|$)/g;class ve{constructor(i){"string"==typeof i&&(i=ve.parseAttrList(i));for(const t in i)i.hasOwnProperty(t)&&("X-"===t.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(t)),this[t]=i[t])}decimalInteger(i){const t=parseInt(this[i],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(i){if(this[i]){let t=(this[i]||"0x").slice(2);t=(1&t.length?"0":"")+t;const l=new Uint8Array(t.length/2);for(let h=0;h<t.length/2;h++)l[h]=parseInt(t.slice(2*h,2*h+2),16);return l}return null}hexadecimalIntegerAsNumber(i){const t=parseInt(this[i],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(i){return parseFloat(this[i])}optionalFloat(i,t){const l=this[i];return l?parseFloat(l):t}enumeratedString(i){return this[i]}bool(i){return"YES"===this[i]}decimalResolution(i){const t=le.exec(this[i]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(i){let t;const l={};for(Y.lastIndex=0;null!==(t=Y.exec(i));){let b=t[2];0===b.indexOf('"')&&b.lastIndexOf('"')===b.length-1&&(b=b.slice(1,-1)),l[t[1].trim()]=b}return l}}function Se(p){return"SCTE35-OUT"===p||"SCTE35-IN"===p}class xe{constructor(i,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const l=t.attr;for(const h in l)if(Object.prototype.hasOwnProperty.call(i,h)&&i[h]!==l[h]){j.warn(`DATERANGE tag attribute: "${h}" does not match for tags with ID: "${i.ID}"`),this._badValueForSameId=h;break}i=B(new ve({}),l,i)}if(this.attr=i,this._startDate=new Date(i["START-DATE"]),"END-DATE"in this.attr){const l=new Date(this.attr["END-DATE"]);D(l.getTime())&&(this._endDate=l)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const i=this.duration;return null!==i?new Date(this._startDate.getTime()+1e3*i):null}get duration(){if("DURATION"in this.attr){const i=this.attr.decimalFloatingPoint("DURATION");if(D(i))return i}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&D(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Ge{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Ce{constructor(i){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=i}setByteRange(i,t){const l=i.split("@",2),h=[];h[0]=1===l.length?t?t.byteRangeEndOffset:0:parseInt(l[1]),h[1]=parseInt(l[0])+h[0],this._byteRange=h}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=m.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(i){this._url=i}}class Le extends Ce{constructor(i,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Ge,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=i}get decryptdata(){const{levelkeys:i}=this;if(!i&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const l=Object.keys(this.levelkeys);if(1===l.length)return this._decryptdata=this.levelkeys[l[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!D(this.programDateTime))return null;const i=D(this.duration)?this.duration:0;return this.programDateTime+1e3*i}get encrypted(){var i;if(null!=(i=this._decryptdata)&&i.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),l=t.length;if(l>1||1===l&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(i){if(this.levelkeys){const t=this.levelkeys[i];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var i,t;null==(i=this.loader)||i.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(i,t,l,h,b,N=!1){const{elementaryStreams:H}=this,te=H[i];te?(te.startPTS=Math.min(te.startPTS,t),te.endPTS=Math.max(te.endPTS,l),te.startDTS=Math.min(te.startDTS,h),te.endDTS=Math.max(te.endDTS,b)):H[i]={startPTS:t,endPTS:l,startDTS:h,endDTS:b,partial:N}}clearElementaryStreamInfo(){const{elementaryStreams:i}=this;i.audio=null,i.video=null,i.audiovideo=null}}class fe extends Ce{constructor(i,t,l,h,b){super(l),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Ge,this.duration=i.decimalFloatingPoint("DURATION"),this.gap=i.bool("GAP"),this.independent=i.bool("INDEPENDENT"),this.relurl=i.enumeratedString("URI"),this.fragment=t,this.index=h;const N=i.enumeratedString("BYTERANGE");N&&this.setByteRange(N,b),b&&(this.fragOffset=b.fragOffset+b.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:i}=this;return!!(i.audio||i.video||i.audiovideo)}}class Te{constructor(i){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=i}reloaded(i){if(!i)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-i.lastPartSn,l=this.lastPartIndex-i.lastPartIndex;this.updated=this.endSN!==i.endSN||!!l||!!t,this.advanced=this.endSN>i.endSN||t>0||0===t&&l>0,this.misses=this.updated||this.advanced?Math.floor(.6*i.misses):i.misses+1,this.availabilityDelay=i.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&D(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const i=this.driftEndTime-this.driftStartTime;return i>0?1e3*(this.driftEnd-this.driftStart)/i:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var i;return null!=(i=this.fragments)&&i.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function De(p){return Uint8Array.from(atob(p),i=>i.charCodeAt(0))}function be(p){return Uint8Array.from(unescape(encodeURIComponent(p)),i=>i.charCodeAt(0))}var _e={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},K_FAIRPLAY="com.apple.streamingkeydelivery",K_PLAYREADY="com.microsoft.playready",K_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function oe(p){switch(p){case K_FAIRPLAY:return _e.FAIRPLAY;case K_PLAYREADY:return _e.PLAYREADY;case K_WIDEVINE:return _e.WIDEVINE;case"org.w3.clearkey":return _e.CLEARKEY}}function Q(p){switch(p){case _e.FAIRPLAY:return K_FAIRPLAY;case _e.PLAYREADY:return K_PLAYREADY;case _e.WIDEVINE:return K_WIDEVINE;case _e.CLEARKEY:return"org.w3.clearkey"}}function X(p){const{drmSystems:i,widevineLicenseUrl:t}=p,l=i?[_e.FAIRPLAY,_e.WIDEVINE,_e.PLAYREADY,_e.CLEARKEY].filter(h=>!!i[h]):[];return!l[_e.WIDEVINE]&&t&&l.push(_e.WIDEVINE),l}const $=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function q(p,i,t){return Uint8Array.prototype.slice?p.slice(i,t):new Uint8Array(Array.prototype.slice.call(p,i,t))}const me=(p,i)=>i+10<=p.length&&73===p[i]&&68===p[i+1]&&51===p[i+2]&&p[i+3]<255&&p[i+4]<255&&p[i+6]<128&&p[i+7]<128&&p[i+8]<128&&p[i+9]<128,Ee=(p,i)=>i+10<=p.length&&51===p[i]&&68===p[i+1]&&73===p[i+2]&&p[i+3]<255&&p[i+4]<255&&p[i+6]<128&&p[i+7]<128&&p[i+8]<128&&p[i+9]<128,ye=(p,i)=>{const t=i;let l=0;for(;me(p,i);)l+=10,l+=Ne(p,i+6),Ee(p,i+10)&&(l+=10),i+=l;if(l>0)return p.subarray(t,t+l)},Ne=(p,i)=>{let t=0;return t=(127&p[i])<<21,t|=(127&p[i+1])<<14,t|=(127&p[i+2])<<7,t|=127&p[i+3],t},tt=(p,i)=>me(p,i)&&Ne(p,i+6)+10<=p.length-i,Xe=p=>p&&"PRIV"===p.key&&"com.apple.streaming.transportStreamTimestamp"===p.info,ut=p=>{const i=String.fromCharCode(p[0],p[1],p[2],p[3]),t=Ne(p,4);return{type:i,size:t,data:p.subarray(10,10+t)}},ze=p=>{let i=0;const t=[];for(;me(p,i);){const l=Ne(p,i+6);i+=10;const h=i+l;for(;i+8<h;){const b=ut(p.subarray(i)),N=ht(b);N&&t.push(N),i+=b.size+10}Ee(p,i)&&(i+=10)}return t},ht=p=>"PRIV"===p.type?vt(p):"W"===p.type[0]?Ve(p):ce(p),vt=p=>{if(p.size<2)return;const i=Bt(p.data,!0),t=new Uint8Array(p.data.subarray(i.length+1));return{key:p.type,info:i,data:t.buffer}},ce=p=>{if(p.size<2)return;if("TXXX"===p.type){let t=1;const l=Bt(p.data.subarray(t),!0);t+=l.length+1;const h=Bt(p.data.subarray(t));return{key:p.type,info:l,data:h}}const i=Bt(p.data.subarray(1));return{key:p.type,data:i}},Ve=p=>{if("WXXX"===p.type){if(p.size<2)return;let t=1;const l=Bt(p.data.subarray(t),!0);t+=l.length+1;const h=Bt(p.data.subarray(t));return{key:p.type,info:l,data:h}}const i=Bt(p.data);return{key:p.type,data:i}},yt=p=>{if(8===p.data.byteLength){const i=new Uint8Array(p.data);let l=(i[4]<<23)+(i[5]<<15)+(i[6]<<7)+i[7];return l/=45,1&i[3]&&(l+=47721858.84),Math.round(l)}},Bt=(p,i=!1)=>{const t=function Yt(){return!zt&&typeof self.TextDecoder<"u"&&(zt=new self.TextDecoder("utf-8")),zt}();if(t){const se=t.decode(p);if(i){const We=se.indexOf("\0");return-1!==We?se.substring(0,We):se}return se.replace(/\0/g,"")}const l=p.length;let h,b,N,H="",te=0;for(;te<l;){if(h=p[te++],0===h&&i)return H;if(0!==h&&3!==h)switch(h>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=String.fromCharCode(h);break;case 12:case 13:b=p[te++],H+=String.fromCharCode((31&h)<<6|63&b);break;case 14:b=p[te++],N=p[te++],H+=String.fromCharCode((15&h)<<12|(63&b)<<6|(63&N)<<0)}}return H};let zt;const cn_hexDump=function(p){let i="";for(let t=0;t<p.length;t++){let l=p[t].toString(16);l.length<2&&(l="0"+l),i+=l}return i},nn=Math.pow(2,32)-1,Mt=[].push,gt={video:1,audio:2,id3:3,text:4};function Qe(p){return String.fromCharCode.apply(null,p)}function Fe(p,i){const t=p[i]<<8|p[i+1];return t<0?65536+t:t}function ke(p,i){const t=it(p,i);return t<0?4294967296+t:t}function it(p,i){return p[i]<<24|p[i+1]<<16|p[i+2]<<8|p[i+3]}function ot(p,i,t){p[i]=t>>24,p[i+1]=t>>16&255,p[i+2]=t>>8&255,p[i+3]=255&t}function ft(p,i){const t=[];if(!i.length)return t;const l=p.byteLength;for(let h=0;h<l;){const b=ke(p,h),H=b>1?h+b:l;if(Qe(p.subarray(h+4,h+8))===i[0])if(1===i.length)t.push(p.subarray(h+8,H));else{const te=ft(p.subarray(h+8,H),i.slice(1));te.length&&Mt.apply(t,te)}h=H}return t}function mt(p){const i=[],t=p[0];let l=8;const h=ke(p,l);l+=4,l+=0===t?8:16,l+=2;let H=p.length+0;const te=Fe(p,l);l+=2;for(let se=0;se<te;se++){let We=l;const $e=ke(p,We);We+=4;const Ct=2147483647&$e;if((2147483648&$e)>>>31==1)return j.warn("SIDX has hierarchical references (not supported)"),null;const Gt=ke(p,We);We+=4,i.push({referenceSize:Ct,subsegmentDuration:Gt,info:{duration:Gt/h,start:H,end:H+Ct-1}}),H+=Ct,We+=4,l=We}return{earliestPresentationTime:0,timescale:h,version:t,referencesCount:te,references:i}}function Et(p){const i=[],t=ft(p,["moov","trak"]);for(let h=0;h<t.length;h++){const b=t[h],N=ft(b,["tkhd"])[0];if(N){let H=N[0],te=0===H?12:20;const se=ke(N,te),We=ft(b,["mdia","mdhd"])[0];if(We){H=We[0],te=0===H?12:20;const $e=ke(We,te),Ct=ft(b,["mdia","hdlr"])[0];if(Ct){const Gt={soun:"audio",vide:"video"}[Qe(Ct.subarray(8,12))];if(Gt){const Wt=ft(b,["mdia","minf","stbl","stsd"])[0];let rn;Wt&&(rn=Qe(Wt.subarray(12,16))),i[se]={timescale:$e,type:Gt},i[Gt]={timescale:$e,id:se,codec:rn}}}}}}return ft(p,["moov","mvex","trex"]).forEach(h=>{const b=ke(h,4),N=i[b];N&&(N.default={duration:ke(h,12),flags:ke(h,20)})}),i}function fn(p){const i=ft(p,["schm"])[0];if(i){const t=Qe(i.subarray(4,8));if("cbcs"===t||"cenc"===t)return ft(p,["schi","tenc"])[0]}return j.error("[eme] missing 'schm' box"),null}function Tn(p){const i=ke(p,0);let t=8;1&i&&(t+=4),4&i&&(t+=4);let l=0;const h=ke(p,4);for(let b=0;b<h;b++)256&i&&(l+=ke(p,t),t+=4),512&i&&(t+=4),1024&i&&(t+=4),2048&i&&(t+=4);return l}function Kn(p,i){const t=new Uint8Array(p.length+i.length);return t.set(p),t.set(i,p.length),t}function dn(p,i){const t=[],l=i.samples,h=i.timescale,b=i.id;let N=!1;return ft(l,["moof"]).map(te=>{const se=te.byteOffset-8;ft(te,["traf"]).map($e=>{const Ct=ft($e,["tfdt"]).map(xt=>{const Gt=xt[0];let Wt=ke(xt,4);return 1===Gt&&(Wt*=Math.pow(2,32),Wt+=ke(xt,8)),Wt/h})[0];return void 0!==Ct&&(p=Ct),ft($e,["tfhd"]).map(xt=>{const Gt=ke(xt,4),Wt=16777215&ke(xt,0);let Pn=0;const zn=0!=(16&Wt);let Yn=0;const ci=0!=(32&Wt);let Xn=8;Gt===b&&(0!=(1&Wt)&&(Xn+=8),0!=(2&Wt)&&(Xn+=4),0!=(8&Wt)&&(Pn=ke(xt,Xn),Xn+=4),zn&&(Yn=ke(xt,Xn),Xn+=4),ci&&(Xn+=4),"video"===i.type&&(N=function an(p){if(!p)return!1;const i=p.indexOf("."),t=i<0?p:p.substring(0,i);return"hvc1"===t||"hev1"===t||"dvh1"===t||"dvhe"===t}(i.codec)),ft($e,["trun"]).map(mi=>{const Ti=mi[0],qn=16777215&ke(mi,0),Qi=0!=(1&qn);let Oi=0;const Gr=0!=(4&qn),ks=0!=(256&qn);let yo=0;const vi=0!=(512&qn);let Di=0;const si=0!=(1024&qn),yi=0!=(2048&qn);let ir=0;const Fr=ke(mi,4);let sr=8;Qi&&(Oi=ke(mi,sr),sr+=4),Gr&&(sr+=4);let fo=Oi+se;for(let yr=0;yr<Fr;yr++){if(ks?(yo=ke(mi,sr),sr+=4):yo=Pn,vi?(Di=ke(mi,sr),sr+=4):Di=Yn,si&&(sr+=4),yi&&(ir=0===Ti?ke(mi,sr):it(mi,sr),sr+=4),"video"===i.type){let Ga=0;for(;Ga<Di;){const Ha=ke(l,fo);fo+=4,un(N,l[fo])&&on(l.subarray(fo,fo+Ha),N?2:1,p+ir/h,t),fo+=Ha,Ga+=Ha+4}}p+=yo/h}}))})})}),t}function un(p,i){if(p){const t=i>>1&63;return 39===t||40===t}return 6==(31&i)}function on(p,i,t,l){const h=ln(p);let b=0;b+=i;let N=0,H=0,te=!1,se=0;for(;b<h.length;){N=0;do{if(b>=h.length)break;se=h[b++],N+=se}while(255===se);H=0;do{if(b>=h.length)break;se=h[b++],H+=se}while(255===se);const We=h.length-b;if(!te&&4===N&&b<h.length){if(te=!0,181===h[b++]){const Ct=Fe(h,b);if(b+=2,49===Ct){const xt=ke(h,b);if(b+=4,1195456820===xt){const Gt=h[b++];if(3===Gt){const Wt=h[b++],En=64&Wt,kn=En?2+3*(31&Wt):0,Pn=new Uint8Array(kn);if(En){Pn[0]=Wt;for(let zn=1;zn<kn;zn++)Pn[zn]=h[b++]}l.push({type:Gt,payloadType:N,pts:t,bytes:Pn})}}}}}else if(5===N&&H<We){if(te=!0,H>16){const $e=[];for(let Gt=0;Gt<16;Gt++){const Wt=h[b++].toString(16);$e.push(1==Wt.length?"0"+Wt:Wt),(3===Gt||5===Gt||7===Gt||9===Gt)&&$e.push("-")}const Ct=H-16,xt=new Uint8Array(Ct);for(let Gt=0;Gt<Ct;Gt++)xt[Gt]=h[b++];l.push({payloadType:N,pts:t,uuid:$e.join(""),userData:Bt(xt),userDataBytes:xt})}}else if(H<We)b+=H;else if(H>We)break}}function ln(p){const i=p.byteLength,t=[];let l=1;for(;l<i-2;)0===p[l]&&0===p[l+1]&&3===p[l+2]?(t.push(l+2),l+=2):l++;if(0===t.length)return p;const h=i-t.length,b=new Uint8Array(h);let N=0;for(l=0;l<h;N++,l++)N===t[0]&&(N++,t.shift()),b[l]=p[N];return b}let bt={};class Kt{static clearKeyUriToKeyIdMap(){bt={}}constructor(i,t,l,h=[1],b=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=i,this.uri=t,this.keyFormat=l,this.keyFormatVersions=h,this.iv=b,this.encrypted=!!i&&"NONE"!==i,this.isCommonEncryption=this.encrypted&&"AES-128"!==i}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case K_FAIRPLAY:case K_WIDEVINE:case K_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(i){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof i&&("AES-128"===this.method&&!this.iv&&j.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),i=0);const l=function Ot(p){const i=new Uint8Array(16);for(let t=12;t<16;t++)i[t]=p>>8*(15-t)&255;return i}(i);return new Kt(this.method,this.uri,"identity",this.keyFormatVersions,l)}const t=function He(p){const i=p.split(":");let t=null;if("data"===i[0]&&2===i.length){const l=i[1].split(";"),h=l[l.length-1].split(",");if(2===h.length){const N=h[1];"base64"===h[0]?(l.splice(-1,1),t=De(N)):t=function Ue(p){const i=be(p).subarray(0,16),t=new Uint8Array(16);return t.set(i,16-i.length),t}(N)}}return t}(this.uri);if(t)switch(this.keyFormat){case K_WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case K_PLAYREADY:{const l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function hn(p,i,t){if(16!==p.byteLength)throw new RangeError("Invalid system id");let l,h,b;if(i){l=1,h=new Uint8Array(16*i.length);for(let H=0;H<i.length;H++){const te=i[H];if(16!==te.byteLength)throw new RangeError("Invalid key");h.set(te,16*H)}}else l=0,h=new Uint8Array;l>0?(b=new Uint8Array(4),i.length>0&&new DataView(b.buffer).setUint32(0,i.length,!1)):b=new Uint8Array;const N=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(N.buffer).setUint32(0,t.byteLength,!1),function ct(p,...i){const t=i.length;let l=8,h=t;for(;h--;)l+=i[h].byteLength;const b=new Uint8Array(l);for(b[0]=l>>24&255,b[1]=l>>16&255,b[2]=l>>8&255,b[3]=255&l,b.set(p,4),h=0,l=8;h<t;h++)b.set(i[h],l),l+=i[h].byteLength;return b}([112,115,115,104],new Uint8Array([l,0,0,0]),p,b,h,N,t||new Uint8Array)}(l,null,t);const h=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),b=String.fromCharCode.apply(null,Array.from(h)),N=b.substring(b.indexOf("<"),b.length),se=(new DOMParser).parseFromString(N,"text/xml").getElementsByTagName("KID")[0];if(se){const We=se.childNodes[0]?se.childNodes[0].nodeValue:se.getAttribute("VALUE");if(We){const $e=De(We).subarray(0,16);(function lt(p){const i=function(l,h,b){const N=l[h];l[h]=l[b],l[b]=N};i(p,0,3),i(p,1,2),i(p,4,5),i(p,6,7)})($e),this.keyId=$e}}break}default:{let l=t.subarray(0,16);if(16!==l.length){const h=new Uint8Array(16);h.set(l,16-l.length),l=h}this.keyId=l;break}}if(!this.keyId||16!==this.keyId.byteLength){let l=bt[this.uri];if(!l){const h=Object.keys(bt).length%Number.MAX_SAFE_INTEGER;l=new Uint8Array(16),new DataView(l.buffer,12,4).setUint32(0,h),bt[this.uri]=l}this.keyId=l}return this}}const yn=/\{\$([a-zA-Z0-9-_]+)\}/g;function Rt(p){return yn.test(p)}function St(p,i,t){if(null!==p.variableList||p.hasVariableRefs)for(let l=t.length;l--;){const h=t[l],b=i[h];b&&(i[h]=It(p,b))}}function It(p,i){if(null!==p.variableList||p.hasVariableRefs){const t=p.variableList;return i.replace(yn,l=>{const h=l.substring(2,l.length-1),b=t?.[h];return void 0===b?(p.playlistParsingError||(p.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${h}"`)),l):b})}return i}function Zt(p,i,t){let h,b,l=p.variableList;if(l||(p.variableList=l={}),"QUERYPARAM"in i){h=i.QUERYPARAM;try{const N=new self.URL(t).searchParams;if(!N.has(h))throw new Error(`"${h}" does not match any query parameter in URI: "${t}"`);b=N.get(h)}catch(N){p.playlistParsingError||(p.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${N.message}`))}}else h=i.NAME,b=i.VALUE;h in l?p.playlistParsingError||(p.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${h}"`)):l[h]=b||""}function gn(p,i,t){const l=i.IMPORT;if(t&&l in t){let h=p.variableList;h||(p.variableList=h={}),h[l]=t[l]}else p.playlistParsingError||(p.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${l}"`))}function Ln(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const Hn={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Lt=Ln();function Ie(p,i){var t;return null!=(t=Lt?.isTypeSupported(`${i||"video"}/mp4;codecs="${p}"`))&&t}const Pt=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Dt=/#EXT-X-MEDIA:(.*)/g,Xt=/^#EXT(?:INF|-X-TARGETDURATION):/m,Mn=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),ai=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class qi{static findGroup(i,t){for(let l=0;l<i.length;l++){const h=i[l];if(h.id===t)return h}}static convertAVC1ToAVCOTI(i){const t=i.split(".");if(t.length>2){let l=t.shift()+".";return l+=parseInt(t.shift()).toString(16),l+=("000"+parseInt(t.shift()).toString(16)).slice(-4),l}return i}static resolve(i,t){return m.buildAbsoluteURL(t,i,{alwaysNormalize:!0})}static isMediaPlaylist(i){return Xt.test(i)}static parseMasterPlaylist(i,t){const h={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Rt(i)},b=[];let N;for(Pt.lastIndex=0;null!=(N=Pt.exec(i));)if(N[1]){var H;const se=new ve(N[1]);St(h,se,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const We=It(h,N[2]),$e={attrs:se,bitrate:se.decimalInteger("AVERAGE-BANDWIDTH")||se.decimalInteger("BANDWIDTH"),name:se.NAME,url:qi.resolve(We,t)},Ct=se.decimalResolution("RESOLUTION");Ct&&($e.width=Ct.width,$e.height=Ct.height),Er((se.CODECS||"").split(/[ ,]+/).filter(xt=>xt),$e),$e.videoCodec&&-1!==$e.videoCodec.indexOf("avc1")&&($e.videoCodec=qi.convertAVC1ToAVCOTI($e.videoCodec)),null!=(H=$e.unknownCodecs)&&H.length||b.push($e),h.levels.push($e)}else if(N[3]){const We=N[4];switch(N[3]){case"SESSION-DATA":{const $e=new ve(We);St(h,$e,["DATA-ID","LANGUAGE","VALUE","URI"]);const Ct=$e["DATA-ID"];Ct&&(null===h.sessionData&&(h.sessionData={}),h.sessionData[Ct]=$e);break}case"SESSION-KEY":{const $e=Hr(We,t,h);$e.encrypted&&$e.isSupported()?(null===h.sessionKeys&&(h.sessionKeys=[]),h.sessionKeys.push($e)):j.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${We}"`);break}case"DEFINE":{const $e=new ve(We);St(h,$e,["NAME","VALUE","QUERYPARAM"]),Zt(h,$e,t)}break;case"CONTENT-STEERING":{const $e=new ve(We);St(h,$e,["SERVER-URI","PATHWAY-ID"]),h.contentSteering={uri:qi.resolve($e["SERVER-URI"],t),pathwayId:$e["PATHWAY-ID"]||"."};break}case"START":h.startTimeOffset=Ir(We)}}return h.levels=b.length>0&&b.length<h.levels.length?b:h.levels,0===h.levels.length&&(h.playlistParsingError=new Error("no levels found in manifest")),h}static parseMasterPlaylistMedia(i,t,l){let h;const b={},N=l.levels,H={AUDIO:N.map(se=>({id:se.attrs.AUDIO,audioCodec:se.audioCodec})),SUBTITLES:N.map(se=>({id:se.attrs.SUBTITLES,textCodec:se.textCodec})),"CLOSED-CAPTIONS":[]};let te=0;for(Dt.lastIndex=0;null!==(h=Dt.exec(i));){const se=new ve(h[1]),We=se.TYPE;if(We){const $e=H[We],Ct=b[We]||[];b[We]=Ct,St(l,se,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const xt={attrs:se,bitrate:0,id:te++,groupId:se["GROUP-ID"]||"",instreamId:se["INSTREAM-ID"],name:se.NAME||se.LANGUAGE||"",type:We,default:se.bool("DEFAULT"),autoselect:se.bool("AUTOSELECT"),forced:se.bool("FORCED"),lang:se.LANGUAGE,url:se.URI?qi.resolve(se.URI,t):""};if(null!=$e&&$e.length){const Gt=qi.findGroup($e,xt.groupId)||$e[0];Do(xt,Gt,"audioCodec"),Do(xt,Gt,"textCodec")}Ct.push(xt)}}return b}static parseLevelPlaylist(i,t,l,h,b,N){const H=new Te(t),te=H.fragments;let rn,En,kn,se=null,We=0,$e=0,Ct=0,xt=0,Gt=null,Wt=new Le(h,t),Pn=-1,zn=!1;for(Mn.lastIndex=0,H.m3u8=i,H.hasVariableRefs=Rt(i);null!==(rn=Mn.exec(i));){zn&&(zn=!1,Wt=new Le(h,t),Wt.start=Ct,Wt.sn=We,Wt.cc=xt,Wt.level=l,se&&(Wt.initSegment=se,Wt.rawProgramDateTime=se.rawProgramDateTime,se.rawProgramDateTime=null));const mi=rn[1];if(mi){Wt.duration=parseFloat(mi);const Ti=(" "+rn[2]).slice(1);Wt.title=Ti||null,Wt.tagList.push(Ti?["INF",mi,Ti]:["INF",mi])}else if(rn[3]){if(D(Wt.duration)){Wt.start=Ct,kn&&Fi(Wt,kn,H),Wt.sn=We,Wt.level=l,Wt.cc=xt,Wt.urlId=b,te.push(Wt);const Ti=(" "+rn[3]).slice(1);Wt.relurl=It(H,Ti),_o(Wt,Gt),Gt=Wt,Ct+=Wt.duration,We++,$e=0,zn=!0}}else if(rn[4]){const Ti=(" "+rn[4]).slice(1);Gt?Wt.setByteRange(Ti,Gt):Wt.setByteRange(Ti)}else if(rn[5])Wt.rawProgramDateTime=(" "+rn[5]).slice(1),Wt.tagList.push(["PROGRAM-DATE-TIME",Wt.rawProgramDateTime]),-1===Pn&&(Pn=te.length);else{if(rn=rn[0].match(ai),!rn){j.warn("No matches on slow regex match for level playlist!");continue}for(En=1;En<rn.length&&!(typeof rn[En]<"u");En++);const Ti=(" "+rn[En]).slice(1),qn=(" "+rn[En+1]).slice(1),Qi=rn[En+2]?(" "+rn[En+2]).slice(1):"";switch(Ti){case"PLAYLIST-TYPE":H.type=qn.toUpperCase();break;case"MEDIA-SEQUENCE":We=H.startSN=parseInt(qn);break;case"SKIP":{const Oi=new ve(qn);St(H,Oi,["RECENTLY-REMOVED-DATERANGES"]);const Gr=Oi.decimalInteger("SKIPPED-SEGMENTS");if(D(Gr)){H.skippedSegments=Gr;for(let yo=Gr;yo--;)te.unshift(null);We+=Gr}const ks=Oi.enumeratedString("RECENTLY-REMOVED-DATERANGES");ks&&(H.recentlyRemovedDateranges=ks.split("\t"));break}case"TARGETDURATION":H.targetduration=Math.max(parseInt(qn),1);break;case"VERSION":H.version=parseInt(qn);break;case"EXTM3U":break;case"ENDLIST":H.live=!1;break;case"#":(qn||Qi)&&Wt.tagList.push(Qi?[qn,Qi]:[qn]);break;case"DISCONTINUITY":xt++,Wt.tagList.push(["DIS"]);break;case"GAP":Wt.gap=!0,Wt.tagList.push([Ti]);break;case"BITRATE":Wt.tagList.push([Ti,qn]);break;case"DATERANGE":{const Oi=new ve(qn);St(H,Oi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),St(H,Oi,Oi.clientAttrs);const Gr=new xe(Oi,H.dateRanges[Oi.ID]);Gr.isValid||H.skippedSegments?H.dateRanges[Gr.id]=Gr:j.warn(`Ignoring invalid DATERANGE tag: "${qn}"`),Wt.tagList.push(["EXT-X-DATERANGE",qn]);break}case"DEFINE":{const Oi=new ve(qn);St(H,Oi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Oi?gn(H,Oi,N):Zt(H,Oi,t)}break;case"DISCONTINUITY-SEQUENCE":xt=parseInt(qn);break;case"KEY":{const Oi=Hr(qn,t,H);if(Oi.isSupported()){if("NONE"===Oi.method){kn=void 0;break}kn||(kn={}),kn[Oi.keyFormat]&&(kn=B({},kn)),kn[Oi.keyFormat]=Oi}else j.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${qn}"`);break}case"START":H.startTimeOffset=Ir(qn);break;case"MAP":{const Oi=new ve(qn);if(St(H,Oi,["BYTERANGE","URI"]),Wt.duration){const Gr=new Le(h,t);qo(Gr,Oi,l,kn),se=Gr,Wt.initSegment=se,se.rawProgramDateTime&&!Wt.rawProgramDateTime&&(Wt.rawProgramDateTime=se.rawProgramDateTime)}else qo(Wt,Oi,l,kn),se=Wt,zn=!0;break}case"SERVER-CONTROL":{const Oi=new ve(qn);H.canBlockReload=Oi.bool("CAN-BLOCK-RELOAD"),H.canSkipUntil=Oi.optionalFloat("CAN-SKIP-UNTIL",0),H.canSkipDateRanges=H.canSkipUntil>0&&Oi.bool("CAN-SKIP-DATERANGES"),H.partHoldBack=Oi.optionalFloat("PART-HOLD-BACK",0),H.holdBack=Oi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Oi=new ve(qn);H.partTarget=Oi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Oi=H.partList;Oi||(Oi=H.partList=[]);const Gr=$e>0?Oi[Oi.length-1]:void 0,ks=$e++,yo=new ve(qn);St(H,yo,["BYTERANGE","URI"]);const vi=new fe(yo,Wt,t,ks,Gr);Oi.push(vi),Wt.duration+=vi.duration;break}case"PRELOAD-HINT":{const Oi=new ve(qn);St(H,Oi,["URI"]),H.preloadHint=Oi;break}case"RENDITION-REPORT":{const Oi=new ve(qn);St(H,Oi,["URI"]),H.renditionReports=H.renditionReports||[],H.renditionReports.push(Oi);break}default:j.warn(`line parsed but not handled: ${rn}`)}}}Gt&&!Gt.relurl?(te.pop(),Ct-=Gt.duration,H.partList&&(H.fragmentHint=Gt)):H.partList&&(_o(Wt,Gt),Wt.cc=xt,H.fragmentHint=Wt,kn&&Fi(Wt,kn,H));const Yn=te.length,ci=te[0],Xn=te[Yn-1];if(Ct+=H.skippedSegments*H.targetduration,Ct>0&&Yn&&Xn){H.averagetargetduration=Ct/Yn;const mi=Xn.sn;H.endSN="initSegment"!==mi?mi:0,H.live||(Xn.endList=!0),ci&&(H.startCC=ci.cc)}else H.endSN=0,H.startCC=0;return H.fragmentHint&&(Ct+=H.fragmentHint.duration),H.totalduration=Ct,H.endCC=xt,Pn>0&&function Po(p,i){let t=p[i];for(let l=i;l--;){const h=p[l];if(!h)return;h.programDateTime=t.programDateTime-1e3*h.duration,t=h}}(te,Pn),H}}function Hr(p,i,t){var l,h;const b=new ve(p);St(t,b,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const N=null!=(l=b.METHOD)?l:"",H=b.URI,te=b.hexadecimalInteger("IV"),se=b.KEYFORMATVERSIONS,We=null!=(h=b.KEYFORMAT)?h:"identity";H&&b.IV&&!te&&j.error(`Invalid IV: ${b.IV}`);const $e=H?qi.resolve(H,i):"",Ct=(se||"1").split("/").map(Number).filter(Number.isFinite);return new Kt(N,$e,We,Ct,te)}function Ir(p){const t=new ve(p).decimalFloatingPoint("TIME-OFFSET");return D(t)?t:null}function Er(p,i){["video","audio","text"].forEach(t=>{const l=p.filter(h=>function Sn(p,i){const t=Hn[i];return!!t&&!0===t[p.slice(0,4)]}(h,t));if(l.length){const h=l.filter(b=>0===b.lastIndexOf("avc1",0)||0===b.lastIndexOf("mp4a",0));i[`${t}Codec`]=h.length>0?h[0]:l[0],p=p.filter(b=>-1===l.indexOf(b))}}),i.unknownCodecs=p}function Do(p,i,t){const l=i[t];l&&(p[t]=l)}function _o(p,i){p.rawProgramDateTime?p.programDateTime=Date.parse(p.rawProgramDateTime):null!=i&&i.programDateTime&&(p.programDateTime=i.endProgramDateTime),D(p.programDateTime)||(p.programDateTime=null,p.rawProgramDateTime=null)}function qo(p,i,t,l){p.relurl=i.URI,i.BYTERANGE&&p.setByteRange(i.BYTERANGE),p.level=t,p.sn="initSegment",l&&(p.levelkeys=l),p.initSegment=null}function Fi(p,i,t){p.levelkeys=i;const{encryptedFragments:l}=t;(!l.length||l[l.length-1].levelkeys!==i)&&Object.keys(i).some(h=>i[h].isCommonEncryption)&&l.push(p)}function ho(p){const{type:i}=p;switch(i){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function br(p,i){let t=p.url;return(void 0===t||0===t.indexOf("data:"))&&(t=i.url),t}class ls{constructor(i){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=i,this.registerListeners()}startLoad(i){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:i}=this;i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.LEVEL_LOADING,this.onLevelLoading,this),i.on(T.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.on(T.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:i}=this;i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.LEVEL_LOADING,this.onLevelLoading,this),i.off(T.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.off(T.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(i){const t=this.hls.config,N=new(t.pLoader||t.loader)(t);return this.loaders[i.type]=N,N}getInternalLoader(i){return this.loaders[i.type]}resetInternalLoader(i){this.loaders[i]&&delete this.loaders[i]}destroyInternalLoaders(){for(const i in this.loaders){const t=this.loaders[i];t&&t.destroy(),this.resetInternalLoader(i)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(i,t){const{url:l}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:l,deliveryDirectives:null})}onLevelLoading(i,t){const{id:l,level:h,url:b,deliveryDirectives:N}=t;this.load({id:l,level:h,responseType:"text",type:"level",url:b,deliveryDirectives:N})}onAudioTrackLoading(i,t){const{id:l,groupId:h,url:b,deliveryDirectives:N}=t;this.load({id:l,groupId:h,level:null,responseType:"text",type:"audioTrack",url:b,deliveryDirectives:N})}onSubtitleTrackLoading(i,t){const{id:l,groupId:h,url:b,deliveryDirectives:N}=t;this.load({id:l,groupId:h,level:null,responseType:"text",type:"subtitleTrack",url:b,deliveryDirectives:N})}load(i){var t;const l=this.hls.config;let b,h=this.getInternalLoader(i);if(h){const se=h.context;if(se&&se.url===i.url)return void j.trace("[playlist-loader]: playlist request ongoing");j.log(`[playlist-loader]: aborting previous loader for type: ${i.type}`),h.abort()}if(b="manifest"===i.type?l.manifestLoadPolicy.default:B({},l.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),h=this.createInternalLoader(i),null!=(t=i.deliveryDirectives)&&t.part){let se;if("level"===i.type&&null!==i.level?se=this.hls.levels[i.level].details:"audioTrack"===i.type&&null!==i.id?se=this.hls.audioTracks[i.id].details:"subtitleTrack"===i.type&&null!==i.id&&(se=this.hls.subtitleTracks[i.id].details),se){const We=se.partTarget,$e=se.targetduration;if(We&&$e){const Ct=1e3*Math.max(3*We,.8*$e);b=B({},b,{maxTimeToFirstByteMs:Math.min(Ct,b.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Ct,b.maxTimeToFirstByteMs)})}}}const N=b.errorRetry||b.timeoutRetry||{};h.load(i,{loadPolicy:b,timeout:b.maxLoadTimeMs,maxRetry:N.maxNumRetry||0,retryDelay:N.retryDelayMs||0,maxRetryDelay:N.maxRetryDelayMs||0},{onSuccess:(se,We,$e,Ct)=>{const xt=this.getInternalLoader($e);this.resetInternalLoader($e.type);const Gt=se.data;0===Gt.indexOf("#EXTM3U")?(We.parsing.start=performance.now(),qi.isMediaPlaylist(Gt)?this.handleTrackOrLevelPlaylist(se,We,$e,Ct||null,xt):this.handleMasterPlaylist(se,We,$e,Ct)):this.handleManifestParsingError(se,$e,new Error("no EXTM3U delimiter"),Ct||null,We)},onError:(se,We,$e,Ct)=>{this.handleNetworkError(We,$e,!1,se,Ct)},onTimeout:(se,We,$e)=>{this.handleNetworkError(We,$e,!0,void 0,se)}})}handleMasterPlaylist(i,t,l,h){const b=this.hls,N=i.data,H=br(i,l),te=qi.parseMasterPlaylist(N,H);if(te.playlistParsingError)return void this.handleManifestParsingError(i,l,te.playlistParsingError,h,t);const{contentSteering:se,levels:We,sessionData:$e,sessionKeys:Ct,startTimeOffset:xt,variableList:Gt}=te;this.variableList=Gt;const{AUDIO:Wt=[],SUBTITLES:rn,"CLOSED-CAPTIONS":En}=qi.parseMasterPlaylistMedia(N,H,te);Wt.length&&!Wt.some(Pn=>!Pn.url)&&We[0].audioCodec&&!We[0].attrs.AUDIO&&(j.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),Wt.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ve({}),bitrate:0,url:""})),b.trigger(T.MANIFEST_LOADED,{levels:We,audioTracks:Wt,subtitles:rn,captions:En,contentSteering:se,url:H,stats:t,networkDetails:h,sessionData:$e,sessionKeys:Ct,startTimeOffset:xt,variableList:Gt})}handleTrackOrLevelPlaylist(i,t,l,h,b){const N=this.hls,{id:H,level:te,type:se}=l,We=br(i,l),$e=D(H)?H:0,Ct=D(te)?te:$e,xt=ho(l),Gt=qi.parseLevelPlaylist(i.data,We,Ct,xt,$e,this.variableList);if("manifest"===se){const Wt={attrs:new ve({}),bitrate:0,details:Gt,name:"",url:We};N.trigger(T.MANIFEST_LOADED,{levels:[Wt],audioTracks:[],url:We,stats:t,networkDetails:h,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),l.levelDetails=Gt,this.handlePlaylistLoaded(Gt,i,t,l,h,b)}handleManifestParsingError(i,t,l,h,b){this.hls.trigger(T.ERROR,{type:C.NETWORK_ERROR,details:O.MANIFEST_PARSING_ERROR,fatal:"manifest"===t.type,url:i.url,err:l,error:l,reason:l.message,response:i,context:t,networkDetails:h,stats:b})}handleNetworkError(i,t,l=!1,h,b){let N=`A network ${l?"timeout":"error"+(h?" (status "+h.code+")":"")} occurred while loading ${i.type}`;"level"===i.type?N+=`: ${i.level} id: ${i.id}`:("audioTrack"===i.type||"subtitleTrack"===i.type)&&(N+=` id: ${i.id} group-id: "${i.groupId}"`);const H=new Error(N);j.warn(`[playlist-loader]: ${N}`);let te=O.UNKNOWN,se=!1;const We=this.getInternalLoader(i);switch(i.type){case"manifest":te=l?O.MANIFEST_LOAD_TIMEOUT:O.MANIFEST_LOAD_ERROR,se=!0;break;case"level":te=l?O.LEVEL_LOAD_TIMEOUT:O.LEVEL_LOAD_ERROR,se=!1;break;case"audioTrack":te=l?O.AUDIO_TRACK_LOAD_TIMEOUT:O.AUDIO_TRACK_LOAD_ERROR,se=!1;break;case"subtitleTrack":te=l?O.SUBTITLE_TRACK_LOAD_TIMEOUT:O.SUBTITLE_LOAD_ERROR,se=!1}We&&this.resetInternalLoader(i.type);const $e={type:C.NETWORK_ERROR,details:te,fatal:se,url:i.url,loader:We,context:i,error:H,networkDetails:t,stats:b};h&&($e.response=k({url:t?.url||i.url,data:void 0},h)),this.hls.trigger(T.ERROR,$e)}handlePlaylistLoaded(i,t,l,h,b,N){const H=this.hls,{type:te,level:se,id:We,groupId:$e,deliveryDirectives:Ct}=h,xt=br(t,h),Gt=ho(h),Wt="number"==typeof h.level&&"main"===Gt?se:void 0;if(!i.fragments.length){const En=new Error("No Segments found in Playlist");return void H.trigger(T.ERROR,{type:C.NETWORK_ERROR,details:O.LEVEL_EMPTY_ERROR,fatal:!1,url:xt,error:En,reason:En.message,response:t,context:h,level:Wt,parent:Gt,networkDetails:b,stats:l})}i.targetduration||(i.playlistParsingError=new Error("Missing Target Duration"));const rn=i.playlistParsingError;if(rn)H.trigger(T.ERROR,{type:C.NETWORK_ERROR,details:O.LEVEL_PARSING_ERROR,fatal:!1,url:xt,error:rn,reason:rn.message,response:t,context:h,level:Wt,parent:Gt,networkDetails:b,stats:l});else switch(i.live&&N&&(N.getCacheAge&&(i.ageHeader=N.getCacheAge()||0),(!N.getCacheAge||isNaN(i.ageHeader))&&(i.ageHeader=0)),te){case"manifest":case"level":H.trigger(T.LEVEL_LOADED,{details:i,level:Wt||0,id:We||0,stats:l,networkDetails:b,deliveryDirectives:Ct});break;case"audioTrack":H.trigger(T.AUDIO_TRACK_LOADED,{details:i,id:We||0,groupId:$e||"",stats:l,networkDetails:b,deliveryDirectives:Ct});break;case"subtitleTrack":H.trigger(T.SUBTITLE_TRACK_LOADED,{details:i,id:We||0,groupId:$e||"",stats:l,networkDetails:b,deliveryDirectives:Ct})}}}function Ro(p,i){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=p,i.dispatchEvent(t)}function Xr(p,i){const t=p.mode;if("disabled"===t&&(p.mode="hidden"),p.cues&&!p.cues.getCueById(i.id))try{if(p.addCue(i),!p.cues.getCueById(i.id))throw new Error(`addCue is failed for: ${i}`)}catch(l){j.debug(`[texttrack-utils]: ${l}`);try{const h=new self.TextTrackCue(i.startTime,i.endTime,i.text);h.id=i.id,p.addCue(h)}catch(h){j.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${h}`)}}"disabled"===t&&(p.mode=t)}function Br(p){const i=p.mode;if("disabled"===i&&(p.mode="hidden"),p.cues)for(let t=p.cues.length;t--;)p.removeCue(p.cues[t]);"disabled"===i&&(p.mode=i)}function No(p,i,t,l){const h=p.mode;if("disabled"===h&&(p.mode="hidden"),p.cues&&p.cues.length>0){const b=function pi(p,i,t){const l=[],h=function mr(p,i){if(i<p[0].startTime)return 0;const t=p.length-1;if(i>p[t].endTime)return-1;let l=0,h=t;for(;l<=h;){const b=Math.floor((h+l)/2);if(i<p[b].startTime)h=b-1;else{if(!(i>p[b].startTime&&l<t))return b;l=b+1}}return p[l].startTime-i<i-p[h].startTime?l:h}(p,i);if(h>-1)for(let b=h,N=p.length;b<N;b++){const H=p[b];if(H.startTime>=i&&H.endTime<=t)l.push(H);else if(H.startTime>t)return l}return l}(p.cues,i,t);for(let N=0;N<b.length;N++)(!l||l(b[N]))&&p.removeCue(b[N])}"disabled"===h&&(p.mode=h)}var Pi_emsg="https://aomedia.org/emsg/ID3";function Ur(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const bo=(()=>{const p=Ur();try{new p(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Mr(p,i){return p.getTime()/1e3-i}function so(p){return Uint8Array.from(p.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class _n{constructor(i){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=i,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:i}=this;i.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(T.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:i}=this;i.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(T.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(i,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(Br(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(i){const t=this.getID3Track(i.textTracks);return t.mode="hidden",t}getID3Track(i){if(this.media){for(let t=0;t<i.length;t++){const l=i[t];if("metadata"===l.kind&&"id3"===l.label)return Ro(l,this.media),l}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(i,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:h}}}=this;if(!l&&!h)return;const{samples:b}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const N=Ur();for(let H=0;H<b.length;H++){const te=b[H].type;if(te===Pi_emsg&&!l||!h)continue;const se=ze(b[H].data);if(se){const We=b[H].pts;let $e=We+b[H].duration;$e>bo&&($e=bo),$e-We<=0&&($e=We+.25);for(let xt=0;xt<se.length;xt++){const Gt=se[xt];if(!Xe(Gt)){this.updateId3CueEnds(We,te);const Wt=new N(We,$e,"");Wt.value=Gt,te&&(Wt.type=te),this.id3Track.addCue(Wt)}}}}}updateId3CueEnds(i,t){var l;const h=null==(l=this.id3Track)?void 0:l.cues;if(h)for(let b=h.length;b--;){const N=h[b];N.type===t&&N.startTime<i&&N.endTime===bo&&(N.endTime=i)}}onBufferFlushing(i,{startOffset:t,endOffset:l,type:h}){const{id3Track:b,hls:N}=this;if(!N)return;const{config:{enableEmsgMetadataCues:H,enableID3MetadataCues:te}}=N;if(b&&(H||te)){let se;se="audio"===h?We=>"org.id3"===We.type&&te:"video"===h?We=>We.type===Pi_emsg&&H:We=>"org.id3"===We.type&&te||We.type===Pi_emsg&&H,No(b,t,l,se)}}onLevelUpdated(i,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:l,id3Track:h}=this,{dateRanges:b}=t,N=Object.keys(b);if(h){const We=Object.keys(l).filter($e=>!N.includes($e));for(let $e=We.length;$e--;){const Ct=We[$e];Object.keys(l[Ct].cues).forEach(xt=>{h.removeCue(l[Ct].cues[xt])}),delete l[Ct]}}const H=t.fragments[t.fragments.length-1];if(0===N.length||!D(H?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const te=H.programDateTime/1e3-H.start,se=Ur();for(let We=0;We<N.length;We++){const $e=N[We],Ct=b[$e],xt=l[$e],Gt=xt?.cues||{};let Wt=xt?.durationKnown||!1;const rn=Mr(Ct.startDate,te);let En=bo;const kn=Ct.endDate;if(kn)En=Mr(kn,te),Wt=!0;else if(Ct.endOnNext&&!Wt){const zn=N.reduce((Yn,ci)=>{const Xn=b[ci];return Xn.class===Ct.class&&Xn.id!==ci&&Xn.startDate>Ct.startDate&&Yn.push(Xn),Yn},[]).sort((Yn,ci)=>Yn.startDate.getTime()-ci.startDate.getTime())[0];zn&&(En=Mr(zn.startDate,te),Wt=!0)}const Pn=Object.keys(Ct.attr);for(let zn=0;zn<Pn.length;zn++){const Yn=Pn[zn];if("ID"===(p=Yn)||"CLASS"===p||"START-DATE"===p||"DURATION"===p||"END-DATE"===p||"END-ON-NEXT"===p)continue;let ci=Gt[Yn];if(ci)Wt&&!xt.durationKnown&&(ci.endTime=En);else{let Xn=Ct.attr[Yn];ci=new se(rn,En,""),Se(Yn)&&(Xn=so(Xn)),ci.value={key:Yn,data:Xn},ci.type="com.apple.quicktime.HLS",ci.id=$e,this.id3Track.addCue(ci),Gt[Yn]=ci}}l[$e]={cues:Gt,dateRange:Ct,durationKnown:Wt}}var p}}class Vn{constructor(i){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=i,this.config=i.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:i,levelDetails:t}=this;return void 0!==i.liveMaxLatencyDuration?i.liveMaxLatencyDuration:t?i.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:i}=this;if(null===i)return null;const{holdBack:t,partHoldBack:l,targetduration:h}=i,{liveSyncDuration:b,liveSyncDurationCount:N,lowLatencyMode:H}=this.config,te=this.hls.userConfig;let se=H&&l||t;return(te.liveSyncDuration||te.liveSyncDurationCount||0===se)&&(se=void 0!==b?b:N*h),se+Math.min(1*this.stallCount,h)}get liveSyncPosition(){const i=this.estimateLiveEdge(),t=this.targetLatency,l=this.levelDetails;if(null===i||null===t||null===l)return null;const h=l.edge,H=h-(this.config.lowLatencyMode&&l.partTarget||l.targetduration);return Math.min(Math.max(h-l.totalduration,i-t-this.edgeStalled),H)}get drift(){const{levelDetails:i}=this;return null===i?1:i.drift}get edgeStalled(){const{levelDetails:i}=this;return null===i?0:Math.max(i.age-3*(this.config.lowLatencyMode&&i.partTarget||i.targetduration),0)}get forwardBufferLength(){const{media:i,levelDetails:t}=this;if(!i||!t)return 0;const l=i.buffered.length;return(l?i.buffered.end(l-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(T.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(T.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(T.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(T.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(T.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(T.ERROR,this.onError,this)}onMediaAttached(i,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(i,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(i,t){var l;t.details===O.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(l=this.levelDetails)&&l.live&&j.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:i,levelDetails:t}=this;if(!i||!t)return;this.currentTime=i.currentTime;const l=this.computeLatency();if(null===l)return;this._latency=l;const{lowLatencyMode:h,maxLiveSyncPlaybackRate:b}=this.config;if(!h||1===b)return;const N=this.targetLatency;if(null===N)return;const H=l-N,te=Math.min(this.maxLatency,N+t.targetduration);if(t.live&&H<te&&H>.05&&this.forwardBufferLength>1){const We=Math.min(2,Math.max(1,b)),$e=Math.round(2/(1+Math.exp(-.75*H-this.edgeStalled))*20)/20;i.playbackRate=Math.min(We,Math.max(1,$e))}else 1!==i.playbackRate&&0!==i.playbackRate&&(i.playbackRate=1)}estimateLiveEdge(){const{levelDetails:i}=this;return null===i?null:i.edge+i.age}computeLatency(){const i=this.estimateLiveEdge();return null===i?null:i-this.currentTime}}const ri=["NONE","TYPE-0","TYPE-1",null];class Ki{constructor(i,t,l){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=i,this.part=t,this.skip=l}addDirectives(i){const t=new self.URL(i);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Ui{constructor(i){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[i.url],this._attrs=[i.attrs],this.bitrate=i.bitrate,i.details&&(this.details=i.details),this.id=i.id||0,this.name=i.name,this.width=i.width||0,this.height=i.height||0,this.audioCodec=i.audioCodec,this.videoCodec=i.videoCodec,this.unknownCodecs=i.unknownCodecs,this.codecSet=[i.videoCodec,i.audioCodec].filter(t=>t).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(i){const t=i%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}get audioGroupId(){var i;return null==(i=this.audioGroupIds)?void 0:i[this.urlId]}get textGroupId(){var i;return null==(i=this.textGroupIds)?void 0:i[this.urlId]}addFallback(i){this.url.push(i.url),this._attrs.push(i.attrs)}}function ki(p,i){const t=i.startPTS;if(D(t)){let h,l=0;i.sn>p.sn?(l=t-p.start,h=p):(l=p.start-t,h=i),h.duration!==l&&(h.duration=l)}else i.start=i.sn>p.sn?p.cc===i.cc&&p.minEndPTS?p.start+(p.minEndPTS-p.start):p.start+p.duration:Math.max(p.start-i.duration,0)}function Tr(p,i,t,l,h,b){l-t<=0&&(j.warn("Fragment should have a positive duration",i),l=t+i.duration,b=h+i.duration);let H=t,te=l;const se=i.startPTS,We=i.endPTS;if(D(se)){const rn=Math.abs(se-t);i.deltaPTS=D(i.deltaPTS)?Math.max(rn,i.deltaPTS):rn,H=Math.max(t,se),t=Math.min(t,se),h=Math.min(h,i.startDTS),te=Math.min(l,We),l=Math.max(l,We),b=Math.max(b,i.endDTS)}const $e=t-i.start;0!==i.start&&(i.start=t),i.duration=l-i.start,i.startPTS=t,i.maxStartPTS=H,i.startDTS=h,i.endPTS=l,i.minEndPTS=te,i.endDTS=b;const Ct=i.sn;if(!p||Ct<p.startSN||Ct>p.endSN)return 0;let xt;const Gt=Ct-p.startSN,Wt=p.fragments;for(Wt[Gt]=i,xt=Gt;xt>0;xt--)ki(Wt[xt],Wt[xt-1]);for(xt=Gt;xt<Wt.length-1;xt++)ki(Wt[xt],Wt[xt+1]);return p.fragmentHint&&ki(Wt[Wt.length-1],p.fragmentHint),p.PTSKnown=p.alignedSliding=!0,$e}function zr(p,i){const t=i.startSN+i.skippedSegments-p.startSN,l=p.fragments;t<0||t>=l.length||eo(i,l[t].start)}function eo(p,i){if(i){const t=p.fragments;for(let l=p.skippedSegments;l<t.length;l++)t[l].start+=i;p.fragmentHint&&(p.fragmentHint.start+=i)}}function Xi(p,i,t){var l;return null!=p&&p.details?Ws(null==(l=p.details)?void 0:l.partList,i,t):null}function Ws(p,i,t){if(p)for(let l=p.length;l--;){const h=p[l];if(h.index===t&&h.fragment.sn===i)return h}return null}function xo(p){switch(p.details){case O.FRAG_LOAD_TIMEOUT:case O.KEY_LOAD_TIMEOUT:case O.LEVEL_LOAD_TIMEOUT:case O.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function ps(p,i){const t=xo(i);return p.default[(t?"timeout":"error")+"Retry"]}function ao(p,i){const t="linear"===p.backoff?1:Math.pow(2,i);return Math.min(t*p.retryDelayMs,p.maxRetryDelayMs)}function es(p){return k(k({},p),{errorRetry:null,timeoutRetry:null})}function Ho(p,i,t,l){return!!p&&i<p.maxNumRetry&&(function gs(p){return 0===p&&!1===navigator.onLine||!!p&&(p<400||p>499)}(l)||!!t)}const Pr={search:function(p,i){let t=0,l=p.length-1,h=null,b=null;for(;t<=l;){h=(t+l)/2|0,b=p[h];const N=i(b);if(N>0)t=h+1;else{if(!(N<0))return b;l=h-1}}return null}};function Rr(p,i,t=0,l=0){let h=null;if(p?h=i[p.sn-i[0].sn+1]||null:0===t&&0===i[0].start&&(h=i[0]),h&&0===pr(t,l,h))return h;const b=Pr.search(i,pr.bind(null,t,l));return!b||b===p&&h?h:b}function pr(p=0,i=0,t){if(t.start<=p&&t.start+t.duration>p)return 0;const l=Math.min(i,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-l<=p?1:t.start-l>p&&t.start?-1:0}function Fs(p,i,t){const l=1e3*Math.min(i,t.duration+(t.deltaPTS?t.deltaPTS:0));return(t.endProgramDateTime||0)-l>p}function Yo(p,i,t){if(performance.now()-p.lastErrorPerfMs>3e5)return!0;const l=p.details;if(i.details===O.FRAG_GAP&&l&&i.frag){const b=Rr(null,l.fragments,i.frag.start);if(b&&!b.gap)return!0}if(t&&p.errors.length<t.errors.length){const h=p.errors[p.errors.length-1];if(l&&h.frag&&i.frag&&Math.abs(h.frag.start-i.frag.start)>3*l.targetduration)return!0}return!1}class xs{constructor(i,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=j.log.bind(j,`${t}:`),this.warn=j.warn.bind(j,`${t}:`),this.hls=i}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(i,t){const l=t?.renditionReports;if(l){let h=-1;for(let b=0;b<l.length;b++){const N=l[b];let H;try{H=new self.URL(N.URI,t.url).href}catch(te){j.warn(`Could not construct new URL for Rendition Report: ${te}`),H=N.URI||""}if(H===i){h=b;break}H===i.substring(0,H.length)&&(h=b)}if(-1!==h){const b=l[h],N=parseInt(b["LAST-MSN"])||t?.lastPartSn;let H=parseInt(b["LAST-PART"])||t?.lastPartIndex;if(this.hls.config.lowLatencyMode){const te=Math.min(t.age-t.partTarget,t.targetduration);H>=0&&te>t.partTarget&&(H+=1)}return new Ki(N,H>=0?H:void 0,"")}}}loadPlaylist(i){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(i){return this.canLoad&&!!i&&!!i.url&&(!i.details||i.details.live)}shouldReloadPlaylist(i){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(i)}playlistLoaded(i,t,l){const{details:h,stats:b}=t,N=self.performance.now(),H=b.loading.first?Math.max(0,N-b.loading.first):0;if(h.advancedDateTime=Date.now()-H,h.live||null!=l&&l.live){if(h.reloaded(l),l&&this.log(`live playlist ${i} ${h.advanced?"REFRESHED "+h.lastPartSn+"-"+h.lastPartIndex:"MISSED"}`),l&&h.fragments.length>0&&function jr(p,i){let t=null;const l=p.fragments;for(let te=l.length-1;te>=0;te--){const se=l[te].initSegment;if(se){t=se;break}}p.fragmentHint&&delete p.fragmentHint.endPTS;let b,h=0;if(function Ms(p,i,t){const l=i.skippedSegments,h=Math.max(p.startSN,i.startSN)-i.startSN,b=(p.fragmentHint?1:0)+(l?i.endSN:Math.min(p.endSN,i.endSN))-i.startSN,N=i.startSN-p.startSN,H=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments,te=p.fragmentHint?p.fragments.concat(p.fragmentHint):p.fragments;for(let se=h;se<=b;se++){const We=te[N+se];let $e=H[se];l&&!$e&&se<l&&($e=i.fragments[se]=We),We&&$e&&t(We,$e)}}(p,i,(te,se)=>{te.relurl&&(h=te.cc-se.cc),D(te.startPTS)&&D(te.endPTS)&&(se.start=se.startPTS=te.startPTS,se.startDTS=te.startDTS,se.maxStartPTS=te.maxStartPTS,se.endPTS=te.endPTS,se.endDTS=te.endDTS,se.minEndPTS=te.minEndPTS,se.duration=te.endPTS-te.startPTS,se.duration&&(b=se),i.PTSKnown=i.alignedSliding=!0),se.elementaryStreams=te.elementaryStreams,se.loader=te.loader,se.stats=te.stats,se.urlId=te.urlId,te.initSegment&&(se.initSegment=te.initSegment,t=te.initSegment)}),t&&(i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments).forEach(se=>{var We;(!se.initSegment||se.initSegment.relurl===(null==(We=t)?void 0:We.relurl))&&(se.initSegment=t)}),i.skippedSegments)if(i.deltaUpdateFailed=i.fragments.some(te=>!te),i.deltaUpdateFailed){j.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let te=i.skippedSegments;te--;)i.fragments.shift();i.startSN=i.fragments[0].sn,i.startCC=i.fragments[0].cc}else i.canSkipDateRanges&&(i.dateRanges=function Mo(p,i,t){const l=B({},p);return t&&t.forEach(h=>{delete l[h]}),Object.keys(i).forEach(h=>{const b=new xe(i[h].attr,l[h]);b.isValid?l[h]=b:j.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(i[h].attr)}"`)}),l}(p.dateRanges,i.dateRanges,i.recentlyRemovedDateranges));const N=i.fragments;if(h){j.warn("discontinuity sliding from playlist, take drift into account");for(let te=0;te<N.length;te++)N[te].cc+=h}i.skippedSegments&&(i.startCC=i.fragments[0].cc),function Ao(p,i,t){if(p&&i){let l=0;for(let h=0,b=p.length;h<=b;h++){const N=p[h],H=i[h+l];N&&H&&N.index===H.index&&N.fragment.sn===H.fragment.sn?t(N,H):l--}}}(p.partList,i.partList,(te,se)=>{se.elementaryStreams=te.elementaryStreams,se.stats=te.stats}),b?Tr(i,b,b.startPTS,b.endPTS,b.startDTS,b.endDTS):zr(p,i),N.length&&(i.totalduration=i.edge-N[0].start),i.driftStartTime=p.driftStartTime,i.driftStart=p.driftStart;const H=i.advancedDateTime;if(i.advanced&&H){const te=i.edge;i.driftStart||(i.driftStartTime=H,i.driftStart=te),i.driftEndTime=H,i.driftEnd=te}else i.driftEndTime=p.driftEndTime,i.driftEnd=p.driftEnd,i.advancedDateTime=p.advancedDateTime}(l,h),!this.canLoad||!h.live)return;let te,se,We;if(h.canBlockReload&&h.endSN&&h.advanced){const rn=this.hls.config.lowLatencyMode,En=h.lastPartSn,kn=h.endSN,Pn=h.lastPartIndex,Yn=En===kn;-1!==Pn?(se=Yn?kn+1:En,We=Yn?rn?0:Pn:Pn+1):se=kn+1;const Xn=h.age;let Ti=Math.min(Xn+h.ageHeader-h.partTarget,1.5*h.targetduration);if(Ti>0){if(l&&Ti>l.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${l.tuneInGoal} to: ${Ti} with playlist age: ${h.age}`),Ti=0;else{const qn=Math.floor(Ti/h.targetduration);se+=qn,void 0!==We&&(We+=Math.round(Ti%h.targetduration/h.partTarget)),this.log(`CDN Tune-in age: ${h.ageHeader}s last advanced ${Xn.toFixed(2)}s goal: ${Ti} skip sn ${qn} to part ${We}`)}h.tuneInGoal=Ti}if(te=this.getDeliveryDirectives(h,t.deliveryDirectives,se,We),rn||!Yn)return void this.loadPlaylist(te)}else h.canBlockReload&&(te=this.getDeliveryDirectives(h,t.deliveryDirectives,se,We));const $e=this.hls.mainForwardBufferInfo,Gt=function Xo(p,i=1/0){let t=1e3*p.targetduration;if(p.updated){const l=p.fragments;if(l.length&&4*t>i){const b=1e3*l[l.length-1].duration;b<t&&(t=b)}}else t/=2;return Math.round(t)}(h,1e3*(h.edge-($e?$e.end-$e.len:0)));h.updated&&N>this.requestScheduled+Gt&&(this.requestScheduled=b.loading.start),void 0!==se&&h.canBlockReload?this.requestScheduled=b.loading.first+Gt-(1e3*h.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+Gt<N?this.requestScheduled=N:this.requestScheduled-N<=0&&(this.requestScheduled+=Gt);let Wt=this.requestScheduled-N;Wt=Math.max(0,Wt),this.log(`reload live playlist ${i} in ${Math.round(Wt)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(te),Wt)}else this.clearTimer()}getDeliveryDirectives(i,t,l,h){let b=function Ri(p,i){const{canSkipUntil:t,canSkipDateRanges:l,endSN:h}=p;return t&&(void 0!==i?i-h:0)<t?l?"v2":"YES":""}(i,l);return null!=t&&t.skip&&i.deltaUpdateFailed&&(l=t.msn,h=t.part,b=""),new Ki(l,h,b)}checkRetry(i){const t=i.details,l=xo(i),h=i.errorAction,{action:b,retryCount:N=0,retryConfig:H}=h||{},te=!!h&&!!H&&(5===b||!h.resolved&&2===b);if(te){var se;if(this.requestScheduled=-1,N>=H.maxNumRetry)return!1;if(l&&null!=(se=i.context)&&se.deliveryDirectives)this.warn(`Retrying playlist loading ${N+1}/${H.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const We=ao(H,N);this.timer=self.setTimeout(()=>this.loadPlaylist(),We),this.warn(`Retrying playlist loading ${N+1}/${H.maxNumRetry} after "${t}" in ${We}ms`)}i.levelRetry=!0,h.resolved=!0}return te}}let _s;class vs extends xs{constructor(i,t){super(i,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(T.LEVEL_LOADED,this.onLevelLoaded,this),i.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(T.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(T.FRAG_LOADED,this.onFragLoaded,this),i.on(T.ERROR,this.onError,this)}_unregisterListeners(){const{hls:i}=this;i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(T.LEVEL_LOADED,this.onLevelLoaded,this),i.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(T.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(T.FRAG_LOADED,this.onFragLoaded,this),i.off(T.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(i,t){this.resetLevels()}onManifestLoaded(i,t){const l=[],h={};let b;t.levels.forEach(N=>{var H;const te=N.attrs;-1!==(null==(H=N.audioCodec)?void 0:H.indexOf("mp4a.40.34"))&&(_s||(_s=/chrome|firefox/i.test(navigator.userAgent)),_s&&(N.audioCodec=void 0));const{AUDIO:se,CODECS:We,"FRAME-RATE":$e,"PATHWAY-ID":Ct,RESOLUTION:xt,SUBTITLES:Gt}=te,rn=`${Ct||"."}-${N.bitrate}-${xt}-${$e}-${We}`;b=h[rn],b?b.addFallback(N):(b=new Ui(N),h[rn]=b,l.push(b)),ts(b,"audio",se),ts(b,"text",Gt)}),this.filterAndSortMediaOptions(l,t)}filterAndSortMediaOptions(i,t){let l=[],h=[],b=!1,N=!1,H=!1,te=i.filter(({audioCodec:xt,videoCodec:Gt,width:Wt,height:rn,unknownCodecs:En})=>(b||(b=!(!Wt||!rn)),N||(N=!!Gt),H||(H=!!xt),!(null!=En&&En.length)&&(!xt||Ie(xt,"audio"))&&(!Gt||Ie(Gt,"video"))));if((b||N)&&H&&(te=te.filter(({videoCodec:xt,width:Gt,height:Wt})=>!!xt||!(!Gt||!Wt))),0===te.length)return void Promise.resolve().then(()=>{if(this.hls){const xt=new Error("no level with compatible codecs found in manifest");this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:xt,reason:xt.message})}});t.audioTracks&&(l=t.audioTracks.filter(xt=>!xt.audioCodec||Ie(xt.audioCodec,"audio")),zs(l)),t.subtitles&&(h=t.subtitles,zs(h));const se=te.slice(0);te.sort((xt,Gt)=>xt.attrs["HDCP-LEVEL"]!==Gt.attrs["HDCP-LEVEL"]?(xt.attrs["HDCP-LEVEL"]||"")>(Gt.attrs["HDCP-LEVEL"]||"")?1:-1:xt.bitrate!==Gt.bitrate?xt.bitrate-Gt.bitrate:xt.attrs["FRAME-RATE"]!==Gt.attrs["FRAME-RATE"]?xt.attrs.decimalFloatingPoint("FRAME-RATE")-Gt.attrs.decimalFloatingPoint("FRAME-RATE"):xt.attrs.SCORE!==Gt.attrs.SCORE?xt.attrs.decimalFloatingPoint("SCORE")-Gt.attrs.decimalFloatingPoint("SCORE"):b&&xt.height!==Gt.height?xt.height-Gt.height:0);let We=se[0];if(this.steering&&(te=this.steering.filterParsedLevels(te),te.length!==se.length))for(let xt=0;xt<se.length;xt++)if(se[xt].pathwayId===te[0].pathwayId){We=se[xt];break}this._levels=te;for(let xt=0;xt<te.length;xt++)if(te[xt]===We){this._firstLevel=xt,this.log(`manifest loaded, ${te.length} level(s) found, first bitrate: ${We.bitrate}`);break}const Ct={levels:te,audioTracks:l,subtitleTracks:h,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:H,video:N,altAudio:!(H&&!N)&&l.some(xt=>!!xt.url)};this.hls.trigger(T.MANIFEST_PARSED,Ct),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(i){const t=this._levels;if(0===t.length)return;if(i<0||i>=t.length){const We=new Error("invalid level idx"),$e=i<0;if(this.hls.trigger(T.ERROR,{type:C.OTHER_ERROR,details:O.LEVEL_SWITCH_ERROR,level:i,fatal:$e,error:We,reason:We.message}),$e)return;i=Math.min(i,t.length-1)}const l=this.currentLevelIndex,h=this.currentLevel,b=h?h.attrs["PATHWAY-ID"]:void 0,N=t[i],H=N.attrs["PATHWAY-ID"];if(this.currentLevelIndex=i,this.currentLevel=N,l===i&&N.details&&h&&b===H)return;this.log(`Switching to level ${i}${H?" with Pathway "+H:""} from level ${l}${b?" with Pathway "+b:""}`);const te=B({},N,{level:i,maxBitrate:N.maxBitrate,attrs:N.attrs,uri:N.uri,urlId:N.urlId});delete te._attrs,delete te._urlId,this.hls.trigger(T.LEVEL_SWITCHING,te);const se=N.details;if(!se||se.live){const We=this.switchParams(N.uri,h?.details);this.loadPlaylist(We)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(i){this.manualLevelIndex=i,void 0===this._startLevel&&(this._startLevel=i),-1!==i&&(this.level=i)}get firstLevel(){return this._firstLevel}set firstLevel(i){this._firstLevel=i}get startLevel(){if(void 0===this._startLevel){const i=this.hls.config.startLevel;return void 0!==i?i:this._firstLevel}return this._startLevel}set startLevel(i){this._startLevel=i}onError(i,t){t.fatal||!t.context||"level"===t.context.type&&t.context.level===this.level&&this.checkRetry(t)}onFragLoaded(i,{frag:t}){if(void 0!==t&&"main"===t.type){const l=this._levels[t.level];void 0!==l&&(l.loadError=0)}}onLevelLoaded(i,t){var l;const{level:h,details:b}=t,N=this._levels[h];var H;if(!N)return this.warn(`Invalid level index ${h}`),void(null!=(H=t.deliveryDirectives)&&H.skip&&(b.deltaUpdateFailed=!0));h===this.currentLevelIndex?(0===N.fragmentError&&(N.loadError=0),this.playlistLoaded(h,t,N.details)):null!=(l=t.deliveryDirectives)&&l.skip&&(b.deltaUpdateFailed=!0)}onAudioTrackSwitched(i,t){const l=this.currentLevel;if(!l)return;const h=this.hls.audioTracks[t.id].groupId;if(l.audioGroupIds&&l.audioGroupId!==h){let b=-1;for(let N=0;N<l.audioGroupIds.length;N++)if(l.audioGroupIds[N]===h){b=N;break}-1!==b&&b!==l.urlId&&(l.urlId=b,this.canLoad&&this.startLoad())}}loadPlaylist(i){super.loadPlaylist();const t=this.currentLevelIndex,l=this.currentLevel;if(l&&this.shouldLoadPlaylist(l)){const h=l.urlId;let b=l.uri;if(i)try{b=i.addDirectives(b)}catch(H){this.warn(`Could not construct new URL with HLS Delivery Directives: ${H}`)}const N=l.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${void 0!==i?.msn?" at sn "+i.msn+" part "+i.part:""} with${N?" Pathway "+N:""} URI ${h+1}/${l.url.length} ${b}`),this.clearTimer(),this.hls.trigger(T.LEVEL_LOADING,{url:b,level:t,id:h,deliveryDirectives:i||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(i){this.level=i,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=i)}removeLevel(i,t){const l=(b,N)=>N!==t,h=this._levels.filter((b,N)=>N!==i||(b.url.length>1&&void 0!==t?(b.url=b.url.filter(l),b.audioGroupIds&&(b.audioGroupIds=b.audioGroupIds.filter(l)),b.textGroupIds&&(b.textGroupIds=b.textGroupIds.filter(l)),b.urlId=0,!0):(this.steering&&this.steering.removeLevel(b),!1)));this.hls.trigger(T.LEVELS_UPDATED,{levels:h})}onLevelsUpdated(i,{levels:t}){t.forEach((l,h)=>{const{details:b}=l;null!=b&&b.fragments&&b.fragments.forEach(N=>{N.level=h})}),this._levels=t}}function ts(p,i,t){t&&("audio"===i?(p.audioGroupIds||(p.audioGroupIds=[]),p.audioGroupIds[p.url.length-1]=t):"text"===i&&(p.textGroupIds||(p.textGroupIds=[]),p.textGroupIds[p.url.length-1]=t))}function zs(p){const i={};p.forEach(t=>{const l=t.groupId||"";t.id=i[l]=i[l]||0,i[l]++})}class zo{constructor(i){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=i,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(T.BUFFER_APPENDED,this.onBufferAppended,this),i.on(T.FRAG_BUFFERED,this.onFragBuffered,this),i.on(T.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:i}=this;i.off(T.BUFFER_APPENDED,this.onBufferAppended,this),i.off(T.FRAG_BUFFERED,this.onFragBuffered,this),i.off(T.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(i,t){const l=this.activePartLists[t];if(l)for(let h=l.length;h--;){const b=l[h];if(!b)break;const N=b.end;if(b.start<=i&&null!==N&&i<=N)return b}return this.getBufferedFrag(i,t)}getBufferedFrag(i,t){const{fragments:l}=this,h=Object.keys(l);for(let b=h.length;b--;){const N=l[h[b]];if(N?.body.type===t&&N.buffered){const H=N.body;if(H.start<=i&&i<=H.end)return H}}return null}detectEvictedFragments(i,t,l,h){this.timeRanges&&(this.timeRanges[i]=t);const b=h?.fragment.sn||-1;Object.keys(this.fragments).forEach(N=>{const H=this.fragments[N];if(!H||b>=H.body.sn)return;if(!H.buffered&&!H.loaded)return void(H.body.type===l&&this.removeFragment(H.body));const te=H.range[i];te&&te.time.some(se=>{const We=!this.isTimeBuffered(se.startPTS,se.endPTS,t);return We&&this.removeFragment(H.body),We})})}detectPartialFragments(i){const t=this.timeRanges,{frag:l,part:h}=i;if(!t||"initSegment"===l.sn)return;const b=ns(l),N=this.fragments[b];if(!N||N.buffered&&l.gap)return;const H=!l.relurl;Object.keys(t).forEach(te=>{const se=l.elementaryStreams[te];se&&(N.range[te]=this.getBufferedTimes(l,h,H||!0===se.partial,t[te]))}),N.loaded=null,Object.keys(N.range).length?(N.buffered=!0,N.body.endList&&(this.endListFragments[N.body.type]=N),jo(N)||this.removeParts(l.sn-1,l.type)):this.removeFragment(N.body)}removeParts(i,t){const l=this.activePartLists[t];l&&(this.activePartLists[t]=l.filter(h=>h.fragment.sn>=i))}fragBuffered(i,t){const l=ns(i);let h=this.fragments[l];!h&&t&&(h=this.fragments[l]={body:i,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},i.gap&&(this.hasGaps=!0)),h&&(h.loaded=null,h.buffered=!0)}getBufferedTimes(i,t,l,h){const b={time:[],partial:l},N=i.start,H=i.end,te=i.minEndPTS||H,se=i.maxStartPTS||N;for(let We=0;We<h.length;We++){const $e=h.start(We)-this.bufferPadding,Ct=h.end(We)+this.bufferPadding;if(se>=$e&&te<=Ct){b.time.push({startPTS:Math.max(N,h.start(We)),endPTS:Math.min(H,h.end(We))});break}if(N<Ct&&H>$e)b.partial=!0,b.time.push({startPTS:Math.max(N,h.start(We)),endPTS:Math.min(H,h.end(We))});else if(H<=$e)break}return b}getPartialFragment(i){let l,h,b,t=null,N=0;const{bufferPadding:H,fragments:te}=this;return Object.keys(te).forEach(se=>{const We=te[se];We&&jo(We)&&(h=We.body.start-H,b=We.body.end+H,i>=h&&i<=b&&(l=Math.min(i-h,b-i),N<=l&&(t=We.body,N=l)))}),t}isEndListAppended(i){const t=this.endListFragments[i];return void 0!==t&&(t.buffered||jo(t))}getState(i){const t=ns(i),l=this.fragments[t];return l?l.buffered?jo(l)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(i,t,l){let h,b;for(let N=0;N<l.length;N++){if(h=l.start(N)-this.bufferPadding,b=l.end(N)+this.bufferPadding,i>=h&&t<=b)return!0;if(t<=h)return!1}return!1}onFragLoaded(i,t){const{frag:l,part:h}=t;if("initSegment"===l.sn||l.bitrateTest)return;const b=h?null:t,N=ns(l);this.fragments[N]={body:l,appendedPTS:null,loaded:b,buffered:!1,range:Object.create(null)}}onBufferAppended(i,t){const{frag:l,part:h,timeRanges:b}=t;if("initSegment"===l.sn)return;const N=l.type;if(h){let H=this.activePartLists[N];H||(this.activePartLists[N]=H=[]),H.push(h)}this.timeRanges=b,Object.keys(b).forEach(H=>{this.detectEvictedFragments(H,b[H],N,h)})}onFragBuffered(i,t){this.detectPartialFragments(t)}hasFragment(i){const t=ns(i);return!!this.fragments[t]}hasParts(i){var t;return!(null==(t=this.activePartLists[i])||!t.length)}removeFragmentsInRange(i,t,l,h,b){h&&!this.hasGaps||Object.keys(this.fragments).forEach(N=>{const H=this.fragments[N];if(!H)return;const te=H.body;te.type!==l||h&&!te.gap||te.start<t&&te.end>i&&(H.buffered||b)&&this.removeFragment(te)})}removeFragment(i){const t=ns(i);i.stats.loaded=0,i.clearElementaryStreamInfo();const l=this.activePartLists[i.type];if(l){const h=i.sn;this.activePartLists[i.type]=l.filter(b=>b.fragment.sn!==h)}delete this.fragments[t],i.endList&&delete this.endListFragments[i.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function jo(p){var i,t,l;return p.buffered&&(p.body.gap||(null==(i=p.range.video)?void 0:i.partial)||(null==(t=p.range.audio)?void 0:t.partial)||(null==(l=p.range.audiovideo)?void 0:l.partial))}function ns(p){return`${p.type}_${p.level}_${p.urlId}_${p.sn}`}const Zs=Math.pow(2,17);class Bs{constructor(i){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=i}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(i,t){const l=i.url;if(!l)return Promise.reject(new vo({type:C.NETWORK_ERROR,details:O.FRAG_LOAD_ERROR,fatal:!1,frag:i,error:new Error("Fragment does not have a "+(l?"part list":"url")),networkDetails:null}));this.abort();const h=this.config,b=h.fLoader,N=h.loader;return new Promise((H,te)=>{if(this.loader&&this.loader.destroy(),i.gap){if(i.tagList.some(xt=>"GAP"===xt[0]))return void te(Us(i));i.gap=!1}const se=this.loader=i.loader=b?new b(h):new N(h),We=sa(i),$e=es(h.fragLoadPolicy.default),Ct={loadPolicy:$e,timeout:$e.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===i.sn?1/0:Zs};i.stats=se.stats,se.load(We,Ct,{onSuccess:(xt,Gt,Wt,rn)=>{this.resetLoader(i,se);let En=xt.data;Wt.resetIV&&i.decryptdata&&(i.decryptdata.iv=new Uint8Array(En.slice(0,16)),En=En.slice(16)),H({frag:i,part:null,payload:En,networkDetails:rn})},onError:(xt,Gt,Wt,rn)=>{this.resetLoader(i,se),te(new vo({type:C.NETWORK_ERROR,details:O.FRAG_LOAD_ERROR,fatal:!1,frag:i,response:k({url:l,data:void 0},xt),error:new Error(`HTTP Error ${xt.code} ${xt.text}`),networkDetails:Wt,stats:rn}))},onAbort:(xt,Gt,Wt)=>{this.resetLoader(i,se),te(new vo({type:C.NETWORK_ERROR,details:O.INTERNAL_ABORTED,fatal:!1,frag:i,error:new Error("Aborted"),networkDetails:Wt,stats:xt}))},onTimeout:(xt,Gt,Wt)=>{this.resetLoader(i,se),te(new vo({type:C.NETWORK_ERROR,details:O.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,error:new Error(`Timeout after ${Ct.timeout}ms`),networkDetails:Wt,stats:xt}))},onProgress:(xt,Gt,Wt,rn)=>{t&&t({frag:i,part:null,payload:Wt,networkDetails:rn})}})})}loadPart(i,t,l){this.abort();const h=this.config,b=h.fLoader,N=h.loader;return new Promise((H,te)=>{if(this.loader&&this.loader.destroy(),i.gap||t.gap)return void te(Us(i,t));const se=this.loader=i.loader=b?new b(h):new N(h),We=sa(i,t),$e=es(h.fragLoadPolicy.default),Ct={loadPolicy:$e,timeout:$e.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Zs};t.stats=se.stats,se.load(We,Ct,{onSuccess:(xt,Gt,Wt,rn)=>{this.resetLoader(i,se),this.updateStatsFromPart(i,t);const En={frag:i,part:t,payload:xt.data,networkDetails:rn};l(En),H(En)},onError:(xt,Gt,Wt,rn)=>{this.resetLoader(i,se),te(new vo({type:C.NETWORK_ERROR,details:O.FRAG_LOAD_ERROR,fatal:!1,frag:i,part:t,response:k({url:We.url,data:void 0},xt),error:new Error(`HTTP Error ${xt.code} ${xt.text}`),networkDetails:Wt,stats:rn}))},onAbort:(xt,Gt,Wt)=>{i.stats.aborted=t.stats.aborted,this.resetLoader(i,se),te(new vo({type:C.NETWORK_ERROR,details:O.INTERNAL_ABORTED,fatal:!1,frag:i,part:t,error:new Error("Aborted"),networkDetails:Wt,stats:xt}))},onTimeout:(xt,Gt,Wt)=>{this.resetLoader(i,se),te(new vo({type:C.NETWORK_ERROR,details:O.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,part:t,error:new Error(`Timeout after ${Ct.timeout}ms`),networkDetails:Wt,stats:xt}))}})})}updateStatsFromPart(i,t){const l=i.stats,h=t.stats,b=h.total;if(l.loaded+=h.loaded,b){const te=Math.round(i.duration/t.duration),se=Math.min(Math.round(l.loaded/b),te),$e=(te-se)*Math.round(l.loaded/se);l.total=l.loaded+$e}else l.total=Math.max(l.loaded,l.total);const N=l.loading,H=h.loading;N.start?N.first+=H.first-H.start:(N.start=H.start,N.first=H.first),N.end=H.end}resetLoader(i,t){i.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function sa(p,i=null){const t=i||p,l={frag:p,part:i,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},h=t.byteRangeStartOffset,b=t.byteRangeEndOffset;if(D(h)&&D(b)){var N;let H=h,te=b;if("initSegment"===p.sn&&"AES-128"===(null==(N=p.decryptdata)?void 0:N.method)){const se=b-h;se%16&&(te=b+(16-se%16)),0!==h&&(l.resetIV=!0,H=h-16)}l.rangeStart=H,l.rangeEnd=te}return l}function Us(p,i){const t=new Error(`GAP ${p.gap?"tag":"attribute"} found`),l={type:C.MEDIA_ERROR,details:O.FRAG_GAP,fatal:!1,frag:p,error:t,networkDetails:null};return i&&(l.part=i),(i||p).stats.aborted=!0,new vo(l)}class vo extends Error{constructor(i){super(i.error.message),this.data=void 0,this.data=i}}class pa{constructor(i){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=i}abort(i){for(const t in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[t].loader;if(l){if(i&&i!==l.context.frag.type)return;l.abort()}}}detach(){for(const i in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[i];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[i]}}destroy(){this.detach();for(const i in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[i].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(i,t=O.KEY_LOAD_ERROR,l,h,b){return new vo({type:C.NETWORK_ERROR,details:t,fatal:!1,frag:i,response:b,error:l,networkDetails:h})}loadClear(i,t){if(this.emeController&&this.config.emeEnabled){const{sn:l,cc:h}=i;for(let b=0;b<t.length;b++){const N=t[b];if(h<=N.cc&&("initSegment"===l||"initSegment"===N.sn||l<N.sn)){this.emeController.selectKeySystemFormat(N).then(H=>{N.setKeyFormat(H)});break}}}}load(i){return!i.decryptdata&&i.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(i).then(t=>this.loadInternal(i,t)):this.loadInternal(i)}loadInternal(i,t){var l,h;t&&i.setKeyFormat(t);const b=i.decryptdata;if(!b){const se=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(i,O.KEY_LOAD_ERROR,se))}const N=b.uri;if(!N)return Promise.reject(this.createKeyLoadError(i,O.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${N}"`)));let H=this.keyUriToKeyInfo[N];if(null!=(l=H)&&l.decryptdata.key)return b.key=H.decryptdata.key,Promise.resolve({frag:i,keyInfo:H});var te;if(null!=(h=H)&&h.keyLoadPromise)switch(null==(te=H.mediaKeySessionContext)?void 0:te.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return H.keyLoadPromise.then(se=>(b.key=se.keyInfo.decryptdata.key,{frag:i,keyInfo:H}))}switch(H=this.keyUriToKeyInfo[N]={decryptdata:b,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},b.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===b.keyFormat?this.loadKeyHTTP(H,i):this.loadKeyEME(H,i);case"AES-128":return this.loadKeyHTTP(H,i);default:return Promise.reject(this.createKeyLoadError(i,O.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${b.method}"`)))}}loadKeyEME(i,t){const l={frag:t,keyInfo:i};if(this.emeController&&this.config.emeEnabled){const h=this.emeController.loadKey(l);if(h)return(i.keyLoadPromise=h.then(b=>(i.mediaKeySessionContext=b,l))).catch(b=>{throw i.keyLoadPromise=null,b})}return Promise.resolve(l)}loadKeyHTTP(i,t){const l=this.config,b=new(0,l.loader)(l);return t.keyLoader=i.loader=b,i.keyLoadPromise=new Promise((N,H)=>{const te={keyInfo:i,frag:t,responseType:"arraybuffer",url:i.decryptdata.uri},se=l.keyLoadPolicy.default;b.load(te,{loadPolicy:se,timeout:se.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ct,xt,Gt,Wt)=>{const{frag:rn,keyInfo:En,url:kn}=Gt;if(!rn.decryptdata||En!==this.keyUriToKeyInfo[kn])return H(this.createKeyLoadError(rn,O.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),Wt));En.decryptdata.key=rn.decryptdata.key=new Uint8Array(Ct.data),rn.keyLoader=null,En.loader=null,N({frag:rn,keyInfo:En})},onError:(Ct,xt,Gt,Wt)=>{this.resetLoader(xt),H(this.createKeyLoadError(t,O.KEY_LOAD_ERROR,new Error(`HTTP Error ${Ct.code} loading key ${Ct.text}`),Gt,k({url:te.url,data:void 0},Ct)))},onTimeout:(Ct,xt,Gt)=>{this.resetLoader(xt),H(this.createKeyLoadError(t,O.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Gt))},onAbort:(Ct,xt,Gt)=>{this.resetLoader(xt),H(this.createKeyLoadError(t,O.INTERNAL_ABORTED,new Error("key loading aborted"),Gt))}})})}resetLoader(i){const{frag:t,keyInfo:l,url:h}=i,b=l.loader;t.keyLoader===b&&(t.keyLoader=null,l.loader=null),delete this.keyUriToKeyInfo[h],b&&b.destroy()}}class $s{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(i){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,i),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const Gs={length:0,start:()=>0,end:()=>0};class _r{static isBuffered(i,t){try{if(i){const l=_r.getBuffered(i);for(let h=0;h<l.length;h++)if(t>=l.start(h)&&t<=l.end(h))return!0}}catch{}return!1}static bufferInfo(i,t,l){try{if(i){const h=_r.getBuffered(i),b=[];let N;for(N=0;N<h.length;N++)b.push({start:h.start(N),end:h.end(N)});return this.bufferedInfo(b,t,l)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(i,t,l){t=Math.max(0,t),i.sort(function(se,We){return se.start-We.start||We.end-se.end});let h=[];if(l)for(let se=0;se<i.length;se++){const We=h.length;if(We){const $e=h[We-1].end;i[se].start-$e<l?i[se].end>$e&&(h[We-1].end=i[se].end):h.push(i[se])}else h.push(i[se])}else h=i;let N,b=0,H=t,te=t;for(let se=0;se<h.length;se++){const We=h[se].start,$e=h[se].end;if(t+l>=We&&t<$e)H=We,te=$e,b=te-t;else if(t+l<We){N=We;break}}return{len:b,start:H||0,end:te||0,nextStart:N}}static getBuffered(i){try{return i.buffered}catch(t){return j.log("failed to get media.buffered",t),Gs}}}class ar{constructor(i,t,l,h=0,b=-1,N=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=i,this.sn=t,this.id=l,this.size=h,this.part=b,this.partial=N}}function dt(p,i){let t=null;for(let l=0,h=p.length;l<h;l++){const b=p[l];if(b&&b.cc===i){t=b;break}}return t}function Vt(p,i){if(p){const t=p.start+i;p.start=p.startPTS=t,p.endPTS=t+p.duration}}function bn(p,i){const t=i.fragments;for(let l=0,h=t.length;l<h;l++)Vt(t[l],p);i.fragmentHint&&Vt(i.fragmentHint,p),i.alignedSliding=!0}function Zo(p,i){if(!p.hasProgramDateTime||!i.hasProgramDateTime)return;const t=p.fragments,l=i.fragments;if(!t.length||!l.length)return;const b=l[Math.round(l.length/2)-1],N=dt(t,b.cc)||t[Math.round(t.length/2)-1],H=b.programDateTime,te=N.programDateTime;null!==H&&null!==te&&bn((te-H)/1e3-(N.start-b.start),p)}class ds{constructor(i,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=t}decrypt(i,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,i)}}class lo{constructor(i,t){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Ar{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(i){const t=new DataView(i),l=new Uint32Array(4);for(let h=0;h<4;h++)l[h]=t.getUint32(4*h);return l}initTable(){const i=this.sBox,t=this.invSBox,l=this.subMix,h=l[0],b=l[1],N=l[2],H=l[3],te=this.invSubMix,se=te[0],We=te[1],$e=te[2],Ct=te[3],xt=new Uint32Array(256);let Gt=0,Wt=0,rn=0;for(rn=0;rn<256;rn++)xt[rn]=rn<128?rn<<1:rn<<1^283;for(rn=0;rn<256;rn++){let En=Wt^Wt<<1^Wt<<2^Wt<<3^Wt<<4;En=En>>>8^255&En^99,i[Gt]=En,t[En]=Gt;const kn=xt[Gt],Pn=xt[kn],zn=xt[Pn];let Yn=257*xt[En]^16843008*En;h[Gt]=Yn<<24|Yn>>>8,b[Gt]=Yn<<16|Yn>>>16,N[Gt]=Yn<<8|Yn>>>24,H[Gt]=Yn,Yn=16843009*zn^65537*Pn^257*kn^16843008*Gt,se[En]=Yn<<24|Yn>>>8,We[En]=Yn<<16|Yn>>>16,$e[En]=Yn<<8|Yn>>>24,Ct[En]=Yn,Gt?(Gt=kn^xt[xt[xt[zn^kn]]],Wt^=xt[xt[Wt]]):Gt=Wt=1}}expandKey(i){const t=this.uint8ArrayToUint32Array_(i);let l=!0,h=0;for(;h<t.length&&l;)l=t[h]===this.key[h],h++;if(l)return;this.key=t;const b=this.keySize=t.length;if(4!==b&&6!==b&&8!==b)throw new Error("Invalid aes key size="+b);const N=this.ksRows=4*(b+6+1);let H,te;const se=this.keySchedule=new Uint32Array(N),We=this.invKeySchedule=new Uint32Array(N),$e=this.sBox,Ct=this.rcon,xt=this.invSubMix,Gt=xt[0],Wt=xt[1],rn=xt[2],En=xt[3];let kn,Pn;for(H=0;H<N;H++)H<b?kn=se[H]=t[H]:(Pn=kn,H%b==0?(Pn=Pn<<8|Pn>>>24,Pn=$e[Pn>>>24]<<24|$e[Pn>>>16&255]<<16|$e[Pn>>>8&255]<<8|$e[255&Pn],Pn^=Ct[H/b|0]<<24):b>6&&H%b==4&&(Pn=$e[Pn>>>24]<<24|$e[Pn>>>16&255]<<16|$e[Pn>>>8&255]<<8|$e[255&Pn]),se[H]=kn=(se[H-b]^Pn)>>>0);for(te=0;te<N;te++)H=N-te,Pn=3&te?se[H]:se[H-4],We[te]=te<4||H<=4?Pn:Gt[$e[Pn>>>24]]^Wt[$e[Pn>>>16&255]]^rn[$e[Pn>>>8&255]]^En[$e[255&Pn]],We[te]=We[te]>>>0}networkToHostOrderSwap(i){return i<<24|(65280&i)<<8|(16711680&i)>>8|i>>>24}decrypt(i,t,l){const h=this.keySize+6,b=this.invKeySchedule,N=this.invSBox,H=this.invSubMix,te=H[0],se=H[1],We=H[2],$e=H[3],Ct=this.uint8ArrayToUint32Array_(l);let xt=Ct[0],Gt=Ct[1],Wt=Ct[2],rn=Ct[3];const En=new Int32Array(i),kn=new Int32Array(En.length);let Pn,zn,Yn,ci,Xn,mi,Ti,qn,Qi,Oi,Gr,ks,yo,vi;const Di=this.networkToHostOrderSwap;for(;t<En.length;){for(Qi=Di(En[t]),Oi=Di(En[t+1]),Gr=Di(En[t+2]),ks=Di(En[t+3]),Xn=Qi^b[0],mi=ks^b[1],Ti=Gr^b[2],qn=Oi^b[3],yo=4,vi=1;vi<h;vi++)Pn=te[Xn>>>24]^se[mi>>16&255]^We[Ti>>8&255]^$e[255&qn]^b[yo],zn=te[mi>>>24]^se[Ti>>16&255]^We[qn>>8&255]^$e[255&Xn]^b[yo+1],Yn=te[Ti>>>24]^se[qn>>16&255]^We[Xn>>8&255]^$e[255&mi]^b[yo+2],ci=te[qn>>>24]^se[Xn>>16&255]^We[mi>>8&255]^$e[255&Ti]^b[yo+3],Xn=Pn,mi=zn,Ti=Yn,qn=ci,yo+=4;Pn=N[Xn>>>24]<<24^N[mi>>16&255]<<16^N[Ti>>8&255]<<8^N[255&qn]^b[yo],zn=N[mi>>>24]<<24^N[Ti>>16&255]<<16^N[qn>>8&255]<<8^N[255&Xn]^b[yo+1],Yn=N[Ti>>>24]<<24^N[qn>>16&255]<<16^N[Xn>>8&255]<<8^N[255&mi]^b[yo+2],ci=N[qn>>>24]<<24^N[Xn>>16&255]<<16^N[mi>>8&255]<<8^N[255&Ti]^b[yo+3],kn[t]=Di(Pn^xt),kn[t+1]=Di(ci^Gt),kn[t+2]=Di(Yn^Wt),kn[t+3]=Di(zn^rn),xt=Qi,Gt=Oi,Wt=Gr,rn=ks,t+=4}return kn.buffer}}class ga{constructor(i,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=i.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const l=self.crypto;l&&(this.subtle=l.subtle||l.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:i,remainderData:t}=this;if(!i||t)return this.reset(),null;const l=new Uint8Array(i);return this.reset(),this.removePKCS7Padding?function Is(p){const i=p.byteLength,t=i&&new DataView(p.buffer).getUint8(i-1);return t?q(p,0,i-t):p}(l):l}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(i,t,l){return this.useSoftware?new Promise((h,b)=>{this.softwareDecrypt(new Uint8Array(i),t,l);const N=this.flush();N?h(N.buffer):b(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(i),t,l)}softwareDecrypt(i,t,l){const{currentIV:h,currentResult:b,remainderData:N}=this;this.logOnce("JS AES decrypt"),N&&(i=Kn(N,i),this.remainderData=null);const H=this.getValidChunk(i);if(!H.length)return null;h&&(l=h);let te=this.softwareDecrypter;te||(te=this.softwareDecrypter=new Ar),te.expandKey(t);const se=b;return this.currentResult=te.decrypt(H.buffer,0,l),this.currentIV=q(H,-16).buffer,se||null}webCryptoDecrypt(i,t,l){const h=this.subtle;return(this.key!==t||!this.fastAesKey)&&(this.key=t,this.fastAesKey=new lo(h,t)),this.fastAesKey.expandKey().then(b=>h?(this.logOnce("WebCrypto AES decrypt"),new ds(h,new Uint8Array(l)).decrypt(i.buffer,b)):Promise.reject(new Error("web crypto not initialized"))).catch(b=>(j.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${b.name}: ${b.message}`),this.onWebCryptoError(i,t,l)))}onWebCryptoError(i,t,l){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(i,t,l);const h=this.flush();if(h)return h.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(i){let t=i;const l=i.length-i.length%16;return l!==i.length&&(t=q(i,0,l),this.remainderData=q(i,l)),t}logOnce(i){this.logEnabled&&(j.log(`[decrypter]: ${i}`),this.logEnabled=!1)}}class us extends $s{constructor(i,t,l,h,b){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=b,this.logPrefix=h,this.log=j.log.bind(j,`${h}:`),this.warn=j.warn.bind(j,`${h}:`),this.hls=i,this.fragmentLoader=new Bs(i.config),this.keyLoader=l,this.fragmentTracker=t,this.config=i.config,this.decrypter=new ga(i.config),i.on(T.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(i){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const i=this.fragCurrent;null!=i&&i.loader&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(i,t){if(t.live||i.nextStart||!i.end||!this.media)return!1;const l=t.partList;if(null!=l&&l.length){const b=l[l.length-1];return _r.isBuffered(this.media,b.start+b.duration/2)}return this.fragmentTracker.isEndListAppended(t.fragments[t.fragments.length-1].type)}getLevelDetails(){var i;if(this.levels&&null!==this.levelLastLoaded)return null==(i=this.levels[this.levelLastLoaded])?void 0:i.details}onMediaAttached(i,t){const l=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),l.addEventListener("seeking",this.onvseeking),l.addEventListener("ended",this.onvended);const h=this.config;this.levels&&h.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(h.startPosition)}onMediaDetaching(){const i=this.media;null!=i&&i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i&&this.onvseeking&&this.onvended&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:i,fragCurrent:t,media:l,mediaBuffer:h,state:b}=this,N=l?l.currentTime:0,H=_r.bufferInfo(h||l,N,i.maxBufferHole);if(this.log(`media seeking to ${D(N)?N.toFixed(3):N}, state: ${b}`),"ENDED"===this.state)this.resetLoadingState();else if(t){const te=i.maxFragLookUpTolerance,se=t.start-te,We=t.start+t.duration+te;if(!H.len||We<H.start||se>H.end){const $e=N>We;(N<se||$e)&&($e&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}l&&(this.fragmentTracker.removeFragmentsInRange(N,1/0,this.playlistType,!0),this.lastCurrentTime=N),!this.loadedmetadata&&!H.len&&(this.nextLoadPosition=this.startPosition=N),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(i,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(i,t,l){this._loadFragForPlayback(i,t,l)}_loadFragForPlayback(i,t,l){this._doFragLoad(i,t,l,b=>{if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${b.part?" p: "+b.part.index:""} of level ${i.level} was dropped during download.`),void this.fragmentTracker.removeFragment(i);i.stats.chunkCount++,this._handleFragmentLoadProgress(b)}).then(b=>{if(!b)return;const N=this.state;this.fragContextChanged(i)?("FRAG_LOADING"===N||!this.fragCurrent&&"PARSING"===N)&&(this.fragmentTracker.removeFragment(i),this.state="IDLE"):("payload"in b&&(this.log(`Loaded fragment ${i.sn} of level ${i.level}`),this.hls.trigger(T.FRAG_LOADED,b)),this._handleFragmentLoadComplete(b))}).catch(b=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(b),this.resetFragmentLoading(i))})}clearTrackerIfNeeded(i){var t;const{fragmentTracker:l}=this;if("APPENDING"===l.getState(i)){const N=this.getFwdBufferInfo(this.mediaBuffer,i.type),H=Math.max(i.duration,N?N.len:this.config.maxBufferLength);this.reduceMaxBufferLength(H)&&l.removeFragment(i)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?l.removeAllFragments():l.hasParts(i.type)&&(l.detectPartialFragments({frag:i,part:null,stats:i.stats,id:i.type}),"PARTIAL"===l.getState(i)&&l.removeFragment(i))}flushMainBuffer(i,t,l=null){i-t&&this.hls.trigger(T.BUFFER_FLUSHING,{startOffset:i,endOffset:t,type:l})}_loadInitSegment(i,t){this._doFragLoad(i,t).then(l=>{if(!l||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return l}).then(l=>{const{hls:h}=this,{payload:b}=l,N=i.decryptdata;if(b&&b.byteLength>0&&N&&N.key&&N.iv&&"AES-128"===N.method){const H=self.performance.now();return this.decrypter.decrypt(new Uint8Array(b),N.key.buffer,N.iv.buffer).catch(te=>{throw h.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_DECRYPT_ERROR,fatal:!1,error:te,reason:te.message,frag:i}),te}).then(te=>{const se=self.performance.now();return h.trigger(T.FRAG_DECRYPTED,{frag:i,payload:te,stats:{tstart:H,tdecrypt:se}}),l.payload=te,l})}return l}).then(l=>{const{fragCurrent:h,hls:b,levels:N}=this;if(!N)throw new Error("init load aborted, missing levels");const H=i.stats;this.state="IDLE",t.fragmentError=0,i.data=new Uint8Array(l.payload),H.parsing.start=H.buffering.start=self.performance.now(),H.parsing.end=H.buffering.end=self.performance.now(),l.frag===h&&b.trigger(T.FRAG_BUFFERED,{stats:H,frag:h,part:null,id:i.type}),this.tick()}).catch(l=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(l),this.resetFragmentLoading(i))})}fragContextChanged(i){const{fragCurrent:t}=this;return!i||!t||i.level!==t.level||i.sn!==t.sn||i.urlId!==t.urlId}fragBufferedComplete(i,t){var l,h,b,N;const H=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${i.type} sn: ${i.sn}${t?" part: "+t.index:""} of ${"main"===this.playlistType?"level":"track"} ${i.level} (frag:[${(null!=(l=i.startPTS)?l:NaN).toFixed(3)}-${(null!=(h=i.endPTS)?h:NaN).toFixed(3)}] > buffer:${H?function(p){let i="";const t=p.length;for(let l=0;l<t;l++)i+=`[${p.start(l).toFixed(3)}-${p.end(l).toFixed(3)}]`;return i}(_r.getBuffered(H)):"(detached)"})`),this.state="IDLE",H&&(!this.loadedmetadata&&"main"==i.type&&H.buffered.length&&(null==(b=this.fragCurrent)?void 0:b.sn)===(null==(N=this.fragPrevious)?void 0:N.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(i){const{transmuxer:t}=this;if(!t)return;const{frag:l,part:h,partsLoaded:b}=i,N=!b||0===b.length||b.some(te=>!te),H=new ar(l.level,l.sn,l.stats.chunkCount+1,0,h?h.index:-1,!N);t.flush(H)}_handleFragmentLoadProgress(i){}_doFragLoad(i,t,l=null,h){var b;const N=t?.details;if(!this.levels||!N)throw new Error(`frag load aborted, missing level${N?"":" detail"}s`);let H=null;if(!i.encrypted||null!=(b=i.decryptdata)&&b.key?!i.encrypted&&N.encryptedFragments.length&&this.keyLoader.loadClear(i,N.encryptedFragments):(this.log(`Loading key for ${i.sn} of [${N.startSN}-${N.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${i.level}`),this.state="KEY_LOADING",this.fragCurrent=i,H=this.keyLoader.load(i).then(We=>{if(!this.fragContextChanged(We.frag))return this.hls.trigger(T.KEY_LOADED,We),"KEY_LOADING"===this.state&&(this.state="IDLE"),We}),this.hls.trigger(T.KEY_LOADING,{frag:i}),null===this.fragCurrent&&(H=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),l=Math.max(i.start,l||0),this.config.lowLatencyMode&&"initSegment"!==i.sn){const We=N.partList;if(We&&h){l>i.end&&N.fragmentHint&&(i=N.fragmentHint);const $e=this.getNextPart(We,i,l);if($e>-1){const Ct=We[$e];let xt;return this.log(`Loading part sn: ${i.sn} p: ${Ct.index} cc: ${i.cc} of playlist [${N.startSN}-${N.endSN}] parts [0-${$e}-${We.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(l.toFixed(3))}`),this.nextLoadPosition=Ct.start+Ct.duration,this.state="FRAG_LOADING",xt=H?H.then(Gt=>!Gt||this.fragContextChanged(Gt.frag)?null:this.doFragPartsLoad(i,Ct,t,h)).catch(Gt=>this.handleFragLoadError(Gt)):this.doFragPartsLoad(i,Ct,t,h).catch(Gt=>this.handleFragLoadError(Gt)),this.hls.trigger(T.FRAG_LOADING,{frag:i,part:Ct,targetBufferTime:l}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):xt}if(!i.url||this.loadedEndOfParts(We,l))return Promise.resolve(null)}}this.log(`Loading fragment ${i.sn} cc: ${i.cc} ${N?"of ["+N.startSN+"-"+N.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(l.toFixed(3))}`),D(i.sn)&&!this.bitrateTest&&(this.nextLoadPosition=i.start+i.duration),this.state="FRAG_LOADING";const te=this.config.progressive;let se;return se=te&&H?H.then(We=>!We||this.fragContextChanged(We?.frag)?null:this.fragmentLoader.load(i,h)).catch(We=>this.handleFragLoadError(We)):Promise.all([this.fragmentLoader.load(i,te?h:void 0),H]).then(([We])=>(!te&&We&&h&&h(We),We)).catch(We=>this.handleFragLoadError(We)),this.hls.trigger(T.FRAG_LOADING,{frag:i,targetBufferTime:l}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):se}doFragPartsLoad(i,t,l,h){return new Promise((b,N)=>{var H;const te=[],se=null==(H=l.details)?void 0:H.partList,We=$e=>{this.fragmentLoader.loadPart(i,$e,h).then(Ct=>{te[$e.index]=Ct;const xt=Ct.part;this.hls.trigger(T.FRAG_LOADED,Ct);const Gt=Xi(l,i.sn,$e.index+1)||Ws(se,i.sn,$e.index+1);if(!Gt)return b({frag:i,part:xt,partsLoaded:te});We(Gt)}).catch(N)};We(t)})}handleFragLoadError(i){if("data"in i){const t=i.data;i.data&&t.details===O.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(T.ERROR,t)}else this.hls.trigger(T.ERROR,{type:C.OTHER_ERROR,details:O.INTERNAL_EXCEPTION,err:i,error:i,fatal:!0});return null}_handleTransmuxerFlush(i){const t=this.getCurrentContext(i);if(!t||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:l,part:h,level:b}=t,N=self.performance.now();l.stats.parsing.end=N,h&&(h.stats.parsing.end=N),this.updateLevelTiming(l,h,b,i.partial)}getCurrentContext(i){const{levels:t,fragCurrent:l}=this,{level:h,sn:b,part:N}=i;if(null==t||!t[h])return this.warn(`Levels object was unset while buffering fragment ${b} of level ${h}. The current chunk will not be buffered.`),null;const H=t[h],te=N>-1?Xi(H,b,N):null,se=te?te.fragment:function Go(p,i,t){if(null==p||!p.details)return null;const l=p.details;let h=l.fragments[i-l.startSN];return h||(h=l.fragmentHint,h&&h.sn===i)?h:i<l.startSN&&t&&t.sn===i?t:null}(H,b,l);return se?(l&&l!==se&&(se.stats=l.stats),{frag:se,part:te,level:H}):null}bufferFragmentData(i,t,l,h,b){var N;if(!i||"PARSING"!==this.state)return;const{data1:H,data2:te}=i;let se=H;if(H&&te&&(se=Kn(H,te)),null!=(N=se)&&N.length&&(this.hls.trigger(T.BUFFER_APPENDING,{type:i.type,frag:t,part:l,chunkMeta:h,parent:t.type,data:se}),i.dropped&&i.independent&&!l)){if(b)return;this.flushBufferGap(t)}}flushBufferGap(i){const t=this.media;if(!t)return;if(!_r.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,i.start);const l=t.currentTime,h=_r.bufferInfo(t,l,0),N=Math.min(2*this.config.maxFragLookUpTolerance,.25*i.duration),H=Math.max(Math.min(i.start-N,h.end-N),l+N);i.start-H>N&&this.flushMainBuffer(H,i.start)}getFwdBufferInfo(i,t){const l=this.getLoadPosition();return D(l)?this.getFwdBufferInfoAtPos(i,l,t):null}getFwdBufferInfoAtPos(i,t,l){const{config:{maxBufferHole:h}}=this,b=_r.bufferInfo(i,t,h);if(0===b.len&&void 0!==b.nextStart){const N=this.fragmentTracker.getBufferedFrag(t,l);if(N&&b.nextStart<N.end)return _r.bufferInfo(i,t,Math.max(b.nextStart,h))}return b}getMaxBufferLength(i){const{config:t}=this;let l;return l=i?Math.max(8*t.maxBufferSize/i,t.maxBufferLength):t.maxBufferLength,Math.min(l,t.maxMaxBufferLength)}reduceMaxBufferLength(i){const t=this.config;return t.maxMaxBufferLength>=(i||t.maxBufferLength)&&(t.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${t.maxMaxBufferLength}s`),!0)}getAppendedFrag(i,t="main"){const l=this.fragmentTracker.getAppendedFrag(i,"main");return l&&"fragment"in l?l.fragment:l}getNextFragment(i,t){const l=t.fragments,h=l.length;if(!h)return null;const{config:b}=this,N=l[0].start;let H;if(t.live){const te=b.initialLiveManifestSize;if(h<te)return this.warn(`Not enough fragments to start playback (have: ${h}, need: ${te})`),null;!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(H=this.getInitialLiveFragment(t,l),this.startPosition=H?this.hls.liveSyncPosition||H.start:i)}else i<=N&&(H=l[0]);return H||(H=this.getFragmentAtPosition(i,b.lowLatencyMode?t.partEnd:t.fragmentEnd,t)),this.mapToInitFragWhenRequired(H)}isLoopLoading(i,t){const l=this.fragmentTracker.getState(i);return("OK"===l||"PARTIAL"===l&&!!i.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(i,t,l,h,b){const N=i.gap,H=this.getNextFragment(this.nextLoadPosition,t);if(null===H)return H;if(i=H,N&&i&&!i.gap&&l.nextStart){const te=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,l.nextStart,h);if(null!==te&&l.len+te.len>=b)return this.log(`buffer full after gaps in "${h}" playlist starting at sn: ${i.sn}`),null}return i}mapToInitFragWhenRequired(i){return null==i||!i.initSegment||null!=i&&i.initSegment.data||this.bitrateTest?i:i.initSegment}getNextPart(i,t,l){let h=-1,b=!1,N=!0;for(let H=0,te=i.length;H<te;H++){const se=i[H];if(N=N&&!se.independent,h>-1&&l<se.start)break;const We=se.loaded;We?h=-1:(b||se.independent||N)&&se.fragment===t&&(h=H),b=We}return h}loadedEndOfParts(i,t){const l=i[i.length-1];return l&&t>l.start&&l.loaded}getInitialLiveFragment(i,t){const l=this.fragPrevious;let h=null;if(l){if(i.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${l.programDateTime}`),h=function As(p,i,t){if(null===i||!Array.isArray(p)||!p.length||!D(i))return null;if(i<(p[0].programDateTime||0))return null;if(i>=(p[p.length-1].endProgramDateTime||0))return null;t=t||0;for(let b=0;b<p.length;++b){const N=p[b];if(Fs(i,t,N))return N}return null}(t,l.endProgramDateTime,this.config.maxFragLookUpTolerance)),!h){const b=l.sn+1;if(b>=i.startSN&&b<=i.endSN){const N=t[b-i.startSN];l.cc===N.cc&&(h=N,this.log(`Live playlist, switching playlist, load frag with next SN: ${h.sn}`))}h||(h=function mo(p,i){return Pr.search(p,t=>t.cc<i?1:t.cc>i?-1:0)}(t,l.cc),h&&this.log(`Live playlist, switching playlist, load frag with same CC: ${h.sn}`))}}else{const b=this.hls.liveSyncPosition;null!==b&&(h=this.getFragmentAtPosition(b,this.bitrateTest?i.fragmentEnd:i.edge,i))}return h}getFragmentAtPosition(i,t,l){const{config:h}=this;let{fragPrevious:b}=this,{fragments:N,endSN:H}=l;const{fragmentHint:te}=l,se=h.maxFragLookUpTolerance,We=l.partList,$e=!!(h.lowLatencyMode&&null!=We&&We.length&&te);let Ct;if($e&&te&&!this.bitrateTest&&(N=N.concat(te),H=te.sn),Ct=i<t?Rr(b,N,i,i>t-se?0:se):N[N.length-1],Ct){const xt=Ct.sn-l.startSN,Gt=this.fragmentTracker.getState(Ct);if(("OK"===Gt||"PARTIAL"===Gt&&Ct.gap)&&(b=Ct),b&&Ct.sn===b.sn&&(!$e||We[0].fragment.sn>Ct.sn)&&b&&Ct.level===b.level){const rn=N[xt+1];Ct=Ct.sn<H&&"OK"!==this.fragmentTracker.getState(rn)?rn:null}}return Ct}synchronizeToLiveEdge(i){const{config:t,media:l}=this;if(!l)return;const h=this.hls.liveSyncPosition,b=l.currentTime,H=i.edge,te=b>=i.fragments[0].start-t.maxFragLookUpTolerance&&b<=H;null!==h&&l.duration>h&&(b<h||!te)&&(!te&&l.readyState<4||b<H-(void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*i.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=h),l.readyState&&(this.warn(`Playback: ${b.toFixed(3)} is located too far from the end of live sliding playlist: ${H}, reset currentTime to : ${h.toFixed(3)}`),l.currentTime=h))}alignPlaylists(i,t){const{levels:l,levelLastLoaded:h,fragPrevious:b}=this,N=null!==h?l[h]:null,H=i.fragments.length;if(!H)return this.warn("No fragments in live playlist"),0;const te=i.fragments[0].start,se=!t,We=i.alignedSliding&&D(te);if(se||!We&&!te){!function hi(p,i,t){i&&(function Gi(p,i,t){if(function At(p,i,t){return!(!i.details||!(t.endCC>t.startCC||p&&p.cc<t.startCC))}(p,t,i)){const l=function at(p,i,t=0){const l=p.fragments,h=i.fragments;if(!h.length||!l.length)return void j.log("No fragments to align");const b=dt(l,h[0].cc);if(b&&(!b||b.startPTS))return b;j.log("No frag in previous level to align on")}(t.details,i);l&&D(l.start)&&(j.log(`Adjusting PTS using last level due to CC increase within current level ${i.url}`),bn(l.start,i))}}(p,t,i),!t.alignedSliding&&i.details&&function Lo(p,i){if(!i.fragments.length||!p.hasProgramDateTime||!i.hasProgramDateTime)return;const t=i.fragments[0].programDateTime,l=p.fragments[0].programDateTime,h=(l-t)/1e3+i.fragments[0].start;h&&D(h)&&(j.log(`Adjusting PTS using programDateTime delta ${l-t}ms, sliding:${h.toFixed(3)} ${p.url} `),bn(h,p))}(t,i.details),!t.alignedSliding&&i.details&&!t.skippedSegments&&zr(i.details,t))}(b,N,i);const $e=i.fragments[0].start;return this.log(`Live playlist sliding: ${$e.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${i.startSN} prev-sn: ${b?b.sn:"na"} fragments: ${H}`),$e}return te}waitForCdnTuneIn(i){return i.live&&i.canBlockReload&&i.partTarget&&i.tuneInGoal>Math.max(i.partHoldBack,3*i.partTarget)}setStartPosition(i,t){let l=this.startPosition;if(l<t&&(l=-1),-1===l||-1===this.lastCurrentTime){const h=null!==this.startTimeOffset,b=h?this.startTimeOffset:i.startTimeOffset;null!==b&&D(b)?(l=t+b,b<0&&(l+=i.totalduration),l=Math.min(Math.max(t,l),t+i.totalduration),this.log(`Start time offset ${b} found in ${h?"multivariant":"media"} playlist, adjust startPosition to ${l}`),this.startPosition=l):i.live?l=this.hls.liveSyncPosition||t:this.startPosition=l=0,this.lastCurrentTime=l}this.nextLoadPosition=l}getLoadPosition(){const{media:i}=this;let t=0;return this.loadedmetadata&&i?t=i.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(i,t){this.transmuxer&&"initSegment"!==i.sn&&i.stats.aborted&&(this.warn(`Fragment ${i.sn}${t?" part "+t.index:""} of level ${i.level} was aborted`),this.resetFragmentLoading(i))}resetFragmentLoading(i){(!this.fragCurrent||!this.fragContextChanged(i)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(i,t){if(t.chunkMeta&&!t.frag){const $e=this.getCurrentContext(t.chunkMeta);$e&&(t.frag=$e.frag)}const l=t.frag;if(!l||l.type!==i||!this.levels)return;var h;if(this.fragContextChanged(l))return void this.warn(`Frag load error must match current frag to retry ${l.url} > ${null==(h=this.fragCurrent)?void 0:h.url}`);const b=t.details===O.FRAG_GAP;b&&this.fragmentTracker.fragBuffered(l,!0);const N=t.errorAction,{action:H,retryCount:te=0,retryConfig:se}=N||{};if(N&&5===H&&se){var We;this.resetStartWhenNotLoaded(null!=(We=this.levelLastLoaded)?We:l.level);const $e=ao(se,te);this.warn(`Fragment ${l.sn} of ${i} ${l.level} errored with ${t.details}, retrying loading ${te+1}/${se.maxNumRetry} in ${$e}ms`),N.resolved=!0,this.retryDate=self.performance.now()+$e,this.state="FRAG_LOADING_WAITING_RETRY"}else se&&N?(this.resetFragmentErrors(i),te<se.maxNumRetry?b||(N.resolved=!0):j.warn(`${t.details} reached or exceeded max retry (${te})`)):this.state=2===N?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(i){if("PARSING"===this.state||"PARSED"===this.state){const t=i.parent,l=this.getFwdBufferInfo(this.mediaBuffer,t),h=l&&l.len>.5;h&&this.reduceMaxBufferLength(l.len);const b=!h;return b&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${t} buffer`),i.frag&&(this.fragmentTracker.removeFragment(i.frag),this.nextLoadPosition=i.frag.start),this.resetLoadingState(),b}return!1}resetFragmentErrors(i){"audio"===i&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(i,t,l){if(!i)return;const h=_r.getBuffered(i);this.fragmentTracker.detectEvictedFragments(t,h,l),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(i){if(!this.loadedmetadata){this.startFragRequested=!1;const t=this.levels?this.levels[i].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(i){var t;this.warn(`The loading context changed while buffering fragment ${i.sn} of level ${i.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(t=this.levelLastLoaded)?t:i.level),this.resetLoadingState()}removeUnbufferedFrags(i=0){this.fragmentTracker.removeFragmentsInRange(i,1/0,this.playlistType,!1,!0)}updateLevelTiming(i,t,l,h){var b;const N=l.details;if(N){if(Object.keys(i.elementaryStreams).reduce((te,se)=>{const We=i.elementaryStreams[se];if(We){const $e=We.endPTS-We.startPTS;if($e<=0)return this.warn(`Could not parse fragment ${i.sn} ${se} duration reliably (${$e})`),te||!1;const Ct=h?0:Tr(N,i,We.startPTS,We.endPTS,We.startDTS,We.endDTS);return this.hls.trigger(T.LEVEL_PTS_UPDATED,{details:N,level:l,drift:Ct,type:se,frag:i,start:We.startPTS,end:We.endPTS}),!0}return te},!1))l.fragmentError=0;else if(null===(null==(b=this.transmuxer)?void 0:b.error)){const te=new Error(`Found no media in fragment ${i.sn} of level ${i.level} resetting transmuxer to fallback to playlist timing`);if(0===l.fragmentError&&(l.fragmentError++,i.gap=!0,this.fragmentTracker.removeFragment(i),this.fragmentTracker.fragBuffered(i,!0)),this.warn(te.message),this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_PARSING_ERROR,fatal:!1,error:te,frag:i,reason:`Found no media in msn ${i.sn} of level "${l.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(T.FRAG_PARSED,{frag:i,part:t})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(i){var t,l,h;"demuxerWorker"===i.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(t=null!=(l=this.levelLastLoaded)?l:null==(h=this.fragCurrent)?void 0:h.level)?t:0),this.resetLoadingState())}set state(i){const t=this._state;t!==i&&(this._state=i,this.log(`${t}->${i}`))}get state(){return this._state}}function _a(){return self.SourceBuffer||self.WebKitSourceBuffer}function Nr(p="",i=9e4){return{type:p,id:-1,pid:-1,inputTimeScale:i,sequenceNumber:-1,samples:[],dropped:0}}class _l{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(i,t,l,h){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(i){this.initPTS=i,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(i,t){return!1}appendFrame(i,t,l){}demux(i,t){this.cachedData&&(i=Kn(this.cachedData,i),this.cachedData=null);let b,l=ye(i,0),h=l?l.length:0;const N=this._audioTrack,H=this._id3Track,te=l?(p=>{const i=ze(p);for(let t=0;t<i.length;t++){const l=i[t];if(Xe(l))return yt(l)}})(l):void 0,se=i.length;for((null===this.basePTS||0===this.frameIndex&&D(te))&&(this.basePTS=vl(te,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),l&&l.length>0&&H.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:"org.id3",duration:Number.POSITIVE_INFINITY});h<se;){if(this.canParse(i,h)){const We=this.appendFrame(N,i,h);We?(this.frameIndex++,this.lastPTS=We.sample.pts,h+=We.length,b=h):h=se}else tt(i,h)?(l=ye(i,h),H.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:"org.id3",duration:Number.POSITIVE_INFINITY}),h+=l.length,b=h):h++;if(h===se&&b!==se){const We=q(i,b);this.cachedData=this.cachedData?Kn(this.cachedData,We):We}}return{audioTrack:N,videoTrack:Nr(),id3Track:H,textTrack:Nr()}}demuxSampleAes(i,t,l){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(i){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Nr(),id3Track:this._id3Track,textTrack:Nr()}}destroy(){}}const vl=(p,i,t)=>D(p)?90*p:9e4*i+(t?9e4*t.baseTime/t.timescale:0);function va(p,i){return 255===p[i]&&240==(246&p[i+1])}function Ll(p,i){return 1&p[i+1]?7:9}function aa(p,i){return(3&p[i+3])<<11|p[i+4]<<3|(224&p[i+5])>>>5}function ys(p,i){return i+1<p.length&&va(p,i)}function Ya(p,i){if(ys(p,i)){const t=Ll(p,i);if(i+t>=p.length)return!1;const l=aa(p,i);if(l<=t)return!1;const h=i+l;return h===p.length||ys(p,h)}return!1}function za(p,i,t,l,h){if(!p.samplerate){const b=function Pc(p,i,t,l){let h,b,N,H;const te=navigator.userAgent.toLowerCase(),se=l,We=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];h=1+((192&i[t+2])>>>6);const $e=(60&i[t+2])>>>2;if(!($e>We.length-1))return N=(1&i[t+2])<<2,N|=(192&i[t+3])>>>6,j.log(`manifest codec:${l}, ADTS type:${h}, samplingIndex:${$e}`),/firefox/i.test(te)?$e>=6?(h=5,H=new Array(4),b=$e-3):(h=2,H=new Array(2),b=$e):-1!==te.indexOf("android")?(h=2,H=new Array(2),b=$e):(h=5,H=new Array(4),l&&(-1!==l.indexOf("mp4a.40.29")||-1!==l.indexOf("mp4a.40.5"))||!l&&$e>=6?b=$e-3:((l&&-1!==l.indexOf("mp4a.40.2")&&($e>=6&&1===N||/vivaldi/i.test(te))||!l&&1===N)&&(h=2,H=new Array(2)),b=$e)),H[0]=h<<3,H[0]|=(14&$e)>>1,H[1]|=(1&$e)<<7,H[1]|=N<<3,5===h&&(H[1]|=(14&b)>>1,H[2]=(1&b)<<7,H[2]|=8,H[3]=0),{config:H,samplerate:We[$e],channelCount:N,codec:"mp4a.40."+h,manifestCodec:se};p.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${$e}`})}(i,t,l,h);if(!b)return;p.config=b.config,p.samplerate=b.samplerate,p.channelCount=b.channelCount,p.codec=b.codec,p.manifestCodec=b.manifestCodec,j.log(`parsed codec:${p.codec}, rate:${b.samplerate}, channels:${b.channelCount}`)}}function Ia(p){return 9216e4/p}function Za(p,i,t,l,h){const N=l+h*Ia(p.samplerate),H=function Fl(p,i){const t=Ll(p,i);if(i+t<=p.length){const l=aa(p,i)-t;if(l>0)return{headerLength:t,frameLength:l}}}(i,t);let te;if(H){const{frameLength:$e,headerLength:Ct}=H,xt=Ct+$e,Gt=Math.max(0,t+xt-i.length);Gt?(te=new Uint8Array(xt-Ct),te.set(i.subarray(t+Ct,i.length),0)):te=i.subarray(t+Ct,t+xt);const Wt={unit:te,pts:N};return Gt||p.samples.push(Wt),{sample:Wt,length:xt,missing:Gt}}const se=i.length-t;return te=new Uint8Array(se),te.set(i.subarray(t,i.length),0),{sample:{unit:te,pts:N},length:se,missing:-1}}const bs=/\/emsg[-/]ID3/i;let fs=null;const wr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Hs=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ke=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],jt=[0,1,1,4];function pt(p,i,t,l,h){if(t+24>i.length)return;const b=Ft(i,t);if(b&&t+b.frameLength<=i.length){const H=l+h*(9e4*b.samplesPerFrame/b.sampleRate),te={unit:i.subarray(t,t+b.frameLength),pts:H,dts:H};return p.config=[],p.channelCount=b.channelCount,p.samplerate=b.sampleRate,p.samples.push(te),{sample:te,length:b.frameLength,missing:0}}}function Ft(p,i){const t=p[i+1]>>3&3,l=p[i+1]>>1&3,h=p[i+2]>>4&15,b=p[i+2]>>2&3;if(1!==t&&0!==h&&15!==h&&3!==b){const H=p[i+3]>>6,se=1e3*wr[14*(3===t?3-l:3===l?3:4)+h-1],$e=Hs[3*(3===t?0:2===t?1:2)+b],Ct=3===H?1:2,xt=Ke[t][l],Gt=jt[l],Wt=8*xt*Gt,rn=Math.floor(xt*se/$e+(p[i+2]>>1&1))*Gt;if(null===fs){const Pn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);fs=Pn?parseInt(Pn[1]):0}return!!fs&&fs<=87&&2===l&&se>=224e3&&0===H&&(p[i+3]=128|p[i+3]),{sampleRate:$e,channelCount:Ct,frameLength:rn,samplesPerFrame:Wt}}}function vn(p,i){return 255===p[i]&&224==(224&p[i+1])&&0!=(6&p[i+1])}function Gn(p,i){return i+1<p.length&&vn(p,i)}function _i(p,i){if(i+1<p.length&&vn(p,i)){const l=Ft(p,i);let h=4;null!=l&&l.frameLength&&(h=l.frameLength);const b=i+h;return b===p.length||Gn(p,b)}return!1}class tr{constructor(i){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=i,this.bytesAvailable=i.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const i=this.data,t=this.bytesAvailable,l=i.byteLength-t,h=new Uint8Array(4),b=Math.min(4,t);if(0===b)throw new Error("no bytes available");h.set(i.subarray(l,l+b)),this.word=new DataView(h.buffer).getUint32(0),this.bitsAvailable=8*b,this.bytesAvailable-=b}skipBits(i){let t;i=Math.min(i,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>i?(this.word<<=i,this.bitsAvailable-=i):(t=(i-=this.bitsAvailable)>>3,i-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=i,this.bitsAvailable-=i)}readBits(i){let t=Math.min(this.bitsAvailable,i);const l=this.word>>>32-t;if(i>32&&j.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=i-t,t>0&&this.bitsAvailable?l<<t|this.readBits(t):l}skipLZ(){let i;for(i=0;i<this.bitsAvailable;++i)if(this.word&2147483648>>>i)return this.word<<=i,this.bitsAvailable-=i,i;return this.loadWord(),i+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const i=this.skipLZ();return this.readBits(i+1)-1}readEG(){const i=this.readUEG();return 1&i?1+i>>>1:-1*(i>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(i){let h,t=8,l=8;for(let b=0;b<i;b++)0!==l&&(h=this.readEG(),l=(t+h+256)%256),t=0===l?t:l}readSPS(){let b,N,H,i=0,t=0,l=0,h=0;const te=this.readUByte.bind(this),se=this.readBits.bind(this),We=this.readUEG.bind(this),$e=this.readBoolean.bind(this),Ct=this.skipBits.bind(this),xt=this.skipEG.bind(this),Gt=this.skipUEG.bind(this),Wt=this.skipScalingList.bind(this);te();const rn=te();if(se(5),Ct(3),te(),Gt(),100===rn||110===rn||122===rn||244===rn||44===rn||83===rn||86===rn||118===rn||128===rn){const ci=We();if(3===ci&&Ct(1),Gt(),Gt(),Ct(1),$e())for(N=3!==ci?8:12,H=0;H<N;H++)$e()&&Wt(H<6?16:64)}Gt();const En=We();if(0===En)We();else if(1===En)for(Ct(1),xt(),xt(),b=We(),H=0;H<b;H++)xt();Gt(),Ct(1);const kn=We(),Pn=We(),zn=se(1);0===zn&&Ct(1),Ct(1),$e()&&(i=We(),t=We(),l=We(),h=We());let Yn=[1,1];if($e()&&$e())switch(te()){case 1:Yn=[1,1];break;case 2:Yn=[12,11];break;case 3:Yn=[10,11];break;case 4:Yn=[16,11];break;case 5:Yn=[40,33];break;case 6:Yn=[24,11];break;case 7:Yn=[20,11];break;case 8:Yn=[32,11];break;case 9:Yn=[80,33];break;case 10:Yn=[18,11];break;case 11:Yn=[15,11];break;case 12:Yn=[64,33];break;case 13:Yn=[160,99];break;case 14:Yn=[4,3];break;case 15:Yn=[3,2];break;case 16:Yn=[2,1];break;case 255:Yn=[te()<<8|te(),te()<<8|te()]}return{width:Math.ceil(16*(kn+1)-2*i-2*t),height:(2-zn)*(Pn+1)*16-(zn?2:4)*(l+h),pixelRatio:Yn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class er{constructor(i,t,l){this.keyData=void 0,this.decrypter=void 0,this.keyData=l,this.decrypter=new ga(t,{removePKCS7Padding:!1})}decryptBuffer(i){return this.decrypter.decrypt(i,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(i,t,l){const h=i[t].unit;if(h.length<=16)return;const b=h.subarray(16,h.length-h.length%16),N=b.buffer.slice(b.byteOffset,b.byteOffset+b.length);this.decryptBuffer(N).then(H=>{const te=new Uint8Array(H);h.set(te,16),this.decrypter.isSync()||this.decryptAacSamples(i,t+1,l)})}decryptAacSamples(i,t,l){for(;;t++){if(t>=i.length)return void l();if(!(i[t].unit.length<32||(this.decryptAacSample(i,t,l),this.decrypter.isSync())))return}}getAvcEncryptedData(i){const t=16*Math.floor((i.length-48)/160)+16,l=new Int8Array(t);let h=0;for(let b=32;b<i.length-16;b+=160,h+=16)l.set(i.subarray(b,b+16),h);return l}getAvcDecryptedUnit(i,t){const l=new Uint8Array(t);let h=0;for(let b=32;b<i.length-16;b+=160,h+=16)i.set(l.subarray(h,h+16),b);return i}decryptAvcSample(i,t,l,h,b){const N=ln(b.data),H=this.getAvcEncryptedData(N);this.decryptBuffer(H.buffer).then(te=>{b.data=this.getAvcDecryptedUnit(N,te),this.decrypter.isSync()||this.decryptAvcSamples(i,t,l+1,h)})}decryptAvcSamples(i,t,l,h){if(i instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,l=0){if(t>=i.length)return void h();const b=i[t].units;for(;!(l>=b.length);l++){const N=b[l];if(!(N.data.length<=48||1!==N.type&&5!==N.type||(this.decryptAvcSample(i,t,l,h,N),this.decrypter.isSync())))return}}}}const Wi=188;class Ji{constructor(i,t,l){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=i,this.config=t,this.typeSupported=l}static probe(i){const t=Ji.syncOffset(i);return t>0&&j.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),-1!==t}static syncOffset(i){const t=i.length;let l=Math.min(940,i.length-Wi)+1,h=0;for(;h<l;){let b=!1,N=-1,H=0;for(let te=h;te<t;te+=Wi){if(71!==i[te]){if(H)return-1;break}if(H++,-1===N&&(N=te,0!==N&&(l=Math.min(N+18612,i.length-Wi)+1)),b||(b=0===or(i,te)),b&&H>1&&(0===N&&H>2||te+Wi>l))return N}h++}return-1}static createTrack(i,t){return{container:"video"===i||"audio"===i?"video/mp2t":void 0,type:i,id:gt[i],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===i?t:void 0}}resetInitSegment(i,t,l,h){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Ji.createTrack("video"),this._audioTrack=Ji.createTrack("audio",h),this._id3Track=Ji.createTrack("id3"),this._txtTrack=Ji.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=l,this._duration=h}resetTimeStamp(){}resetContiguity(){const{_audioTrack:i,_avcTrack:t,_id3Track:l}=this;i&&(i.pesData=null),t&&(t.pesData=null),l&&(l.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(i,t,l=!1,h=!1){let b;l||(this.sampleAes=null);const N=this._avcTrack,H=this._audioTrack,te=this._id3Track,se=this._txtTrack;let We=N.pid,$e=N.pesData,Ct=H.pid,xt=te.pid,Gt=H.pesData,Wt=te.pesData,rn=null,En=this.pmtParsed,kn=this._pmtId,Pn=i.length;if(this.remainderData&&(Pn=(i=Kn(this.remainderData,i)).length,this.remainderData=null),Pn<Wi&&!h)return this.remainderData=i,{audioTrack:H,videoTrack:N,id3Track:te,textTrack:se};const zn=Math.max(0,Ji.syncOffset(i));Pn-=(Pn-zn)%Wi,Pn<i.byteLength&&!h&&(this.remainderData=new Uint8Array(i.buffer,Pn,i.buffer.byteLength-Pn));let Yn=0;for(let Xn=zn;Xn<Pn;Xn+=Wi)if(71===i[Xn]){const mi=!!(64&i[Xn+1]),Ti=or(i,Xn);let Qi;if((48&i[Xn+3])>>4>1){if(Qi=Xn+5+i[Xn+4],Qi===Xn+Wi)continue}else Qi=Xn+4;switch(Ti){case We:mi&&($e&&(b=xi($e))&&this.parseAVCPES(N,se,b,!1),$e={data:[],size:0}),$e&&($e.data.push(i.subarray(Qi,Xn+Wi)),$e.size+=Xn+Wi-Qi);break;case Ct:if(mi){if(Gt&&(b=xi(Gt)))switch(H.segmentCodec){case"aac":this.parseAACPES(H,b);break;case"mp3":this.parseMPEGPES(H,b)}Gt={data:[],size:0}}Gt&&(Gt.data.push(i.subarray(Qi,Xn+Wi)),Gt.size+=Xn+Wi-Qi);break;case xt:mi&&(Wt&&(b=xi(Wt))&&this.parseID3PES(te,b),Wt={data:[],size:0}),Wt&&(Wt.data.push(i.subarray(Qi,Xn+Wi)),Wt.size+=Xn+Wi-Qi);break;case 0:mi&&(Qi+=i[Qi]+1),kn=this._pmtId=Or(i,Qi);break;case kn:{mi&&(Qi+=i[Qi]+1);const Oi=ko(i,Qi,this.typeSupported,l);We=Oi.avc,We>0&&(N.pid=We),Ct=Oi.audio,Ct>0&&(H.pid=Ct,H.segmentCodec=Oi.segmentCodec),xt=Oi.id3,xt>0&&(te.pid=xt),null!==rn&&!En&&(j.warn(`MPEG-TS PMT found at ${Xn} after unknown PID '${rn}'. Backtracking to sync byte @${zn} to parse all TS packets.`),rn=null,Xn=zn-188),En=this.pmtParsed=!0;break}case 17:case 8191:break;default:rn=Ti}}else Yn++;if(Yn>0){const Xn=new Error(`Found ${Yn} TS packet/s that do not start with 0x47`);this.observer.emit(T.ERROR,T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_PARSING_ERROR,fatal:!1,error:Xn,reason:Xn.message})}N.pesData=$e,H.pesData=Gt,te.pesData=Wt;const ci={audioTrack:H,videoTrack:N,id3Track:te,textTrack:se};return h&&this.extractRemainingSamples(ci),ci}flush(){const{remainderData:i}=this;let t;return this.remainderData=null,t=i?this.demux(i,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(i){const{audioTrack:t,videoTrack:l,id3Track:h,textTrack:b}=i,N=l.pesData,H=t.pesData,te=h.pesData;let se;if(N&&(se=xi(N))?(this.parseAVCPES(l,b,se,!0),l.pesData=null):l.pesData=N,H&&(se=xi(H))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,se);break;case"mp3":this.parseMPEGPES(t,se)}t.pesData=null}else null!=H&&H.size&&j.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=H;te&&(se=xi(te))?(this.parseID3PES(h,se),h.pesData=null):h.pesData=te}demuxSampleAes(i,t,l){const h=this.demux(i,l,!0,!this.config.progressive),b=this.sampleAes=new er(this.observer,this.config,t);return this.decrypt(h,b)}decrypt(i,t){return new Promise(l=>{const{audioTrack:h,videoTrack:b}=i;h.samples&&"aac"===h.segmentCodec?t.decryptAacSamples(h.samples,0,()=>{b.samples?t.decryptAvcSamples(b.samples,0,0,()=>{l(i)}):l(i)}):b.samples&&t.decryptAvcSamples(b.samples,0,0,()=>{l(i)})})}destroy(){this._duration=0}parseAVCPES(i,t,l,h){const b=this.parseAVCNALu(i,l.data);let H,N=this.avcSample,te=!1;l.data=null,N&&b.length&&!i.audFound&&(hs(N,i),N=this.avcSample=Vr(!1,l.pts,l.dts,"")),b.forEach(se=>{var We;switch(se.type){case 1:{let Ct=!1;H=!0;const xt=se.data;if(te&&xt.length>4){const Gt=new tr(xt).readSliceType();(2===Gt||4===Gt||7===Gt||9===Gt)&&(Ct=!0)}var $e;Ct&&null!=($e=N)&&$e.frame&&!N.key&&(hs(N,i),N=this.avcSample=null),N||(N=this.avcSample=Vr(!0,l.pts,l.dts,"")),N.frame=!0,N.key=Ct;break}case 5:H=!0,null!=(We=N)&&We.frame&&!N.key&&(hs(N,i),N=this.avcSample=null),N||(N=this.avcSample=Vr(!0,l.pts,l.dts,"")),N.key=!0,N.frame=!0;break;case 6:H=!0,on(se.data,1,l.pts,t.samples);break;case 7:if(H=!0,te=!0,!i.sps){const Ct=se.data,Gt=new tr(Ct).readSPS();i.width=Gt.width,i.height=Gt.height,i.pixelRatio=Gt.pixelRatio,i.sps=[Ct],i.duration=this._duration;const Wt=Ct.subarray(1,4);let rn="avc1.";for(let En=0;En<3;En++){let kn=Wt[En].toString(16);kn.length<2&&(kn="0"+kn),rn+=kn}i.codec=rn}break;case 8:H=!0,i.pps||(i.pps=[se.data]);break;case 9:H=!1,i.audFound=!0,N&&hs(N,i),N=this.avcSample=Vr(!1,l.pts,l.dts,"");break;case 12:H=!0;break;default:H=!1,N&&(N.debug+="unknown NAL "+se.type+" ")}N&&H&&N.units.push(se)}),h&&N&&(hs(N,i),this.avcSample=null)}getLastNalUnit(i){var t;let h,l=this.avcSample;if((!l||0===l.units.length)&&(l=i[i.length-1]),null!=(t=l)&&t.units){const b=l.units;h=b[b.length-1]}return h}parseAVCNALu(i,t){const l=t.byteLength;let h=i.naluState||0;const b=h,N=[];let te,se,We,H=0,$e=-1,Ct=0;for(-1===h&&($e=0,Ct=31&t[0],h=0,H=1);H<l;)if(te=t[H++],h)if(1!==h)if(te)if(1===te){if($e>=0){const xt={data:t.subarray($e,H-h-1),type:Ct};N.push(xt)}else{const xt=this.getLastNalUnit(i.samples);if(xt&&(b&&H<=4-b&&xt.state&&(xt.data=xt.data.subarray(0,xt.data.byteLength-b)),se=H-h-1,se>0)){const Gt=new Uint8Array(xt.data.byteLength+se);Gt.set(xt.data,0),Gt.set(t.subarray(0,se),xt.data.byteLength),xt.data=Gt,xt.state=0}}H<l?(We=31&t[H],$e=H,Ct=We,h=0):h=-1}else h=0;else h=3;else h=te?0:2;else h=te?0:1;if($e>=0&&h>=0){const xt={data:t.subarray($e,l),type:Ct,state:h};N.push(xt)}if(0===N.length){const xt=this.getLastNalUnit(i.samples);if(xt){const Gt=new Uint8Array(xt.data.byteLength+t.byteLength);Gt.set(xt.data,0),Gt.set(t,xt.data.byteLength),xt.data=Gt}}return i.naluState=h,N}parseAACPES(i,t){let l=0;const h=this.aacOverFlow;let N,H,te,b=t.data;if(h){this.aacOverFlow=null;const $e=h.missing,Ct=h.sample.unit.byteLength;if(-1===$e){const xt=new Uint8Array(Ct+b.byteLength);xt.set(h.sample.unit,0),xt.set(b,Ct),b=xt}else{const xt=Ct-$e;h.sample.unit.set(b.subarray(0,$e),xt),i.samples.push(h.sample),l=h.missing}}for(N=l,H=b.length;N<H-1&&!ys(b,N);N++);if(N!==l){let $e;const Ct=N<H-1;$e=Ct?`AAC PES did not start with ADTS header,offset:${N}`:"No ADTS header found in AAC PES";const xt=new Error($e);if(j.warn(`parsing error: ${$e}`),this.observer.emit(T.ERROR,T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Ct,error:xt,reason:$e}),!Ct)return}if(za(i,this.observer,b,N,this.audioCodec),void 0!==t.pts)te=t.pts;else{if(!h)return void j.warn("[tsdemuxer]: AAC PES unknown PTS");{const $e=Ia(i.samplerate);te=h.sample.pts+$e}}let We,se=0;for(;N<H;){if(We=Za(i,b,N,te,se),N+=We.length,We.missing){this.aacOverFlow=We;break}for(se++;N<H-1&&!ys(b,N);N++);}}parseMPEGPES(i,t){const l=t.data,h=l.length;let b=0,N=0;const H=t.pts;if(void 0!==H)for(;N<h;)if(Gn(l,N)){const te=pt(i,l,N,H,b);if(!te)break;N+=te.length,b++}else N++;else j.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(i,t){if(void 0===t.pts)return void j.warn("[tsdemuxer]: ID3 PES unknown PTS");const l=B({},t,{type:this._avcTrack?Pi_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});i.samples.push(l)}}function Vr(p,i,t,l){return{key:p,frame:!1,pts:i,dts:t,units:[],debug:l,length:0}}function or(p,i){return((31&p[i+1])<<8)+p[i+2]}function Or(p,i){return(31&p[i+10])<<8|p[i+11]}function ko(p,i,t,l){const h={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},N=i+3+((15&p[i+1])<<8|p[i+2])-4;for(i+=12+((15&p[i+10])<<8|p[i+11]);i<N;){const te=or(p,i);switch(p[i]){case 207:if(!l){j.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===h.audio&&(h.audio=te);break;case 21:-1===h.id3&&(h.id3=te);break;case 219:if(!l){j.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===h.avc&&(h.avc=te);break;case 3:case 4:!0!==t.mpeg&&!0!==t.mp3?j.log("MPEG audio found, not supported in this browser"):-1===h.audio&&(h.audio=te,h.segmentCodec="mp3");break;case 36:j.warn("Unsupported HEVC stream type found")}i+=5+((15&p[i+3])<<8|p[i+4])}return h}function xi(p){let t,l,h,b,N,i=0;const H=p.data;if(!p||0===p.size)return null;for(;H[0].length<19&&H.length>1;){const se=new Uint8Array(H[0].length+H[1].length);se.set(H[0]),se.set(H[1],H[0].length),H[0]=se,H.splice(1,1)}if(t=H[0],(t[0]<<16)+(t[1]<<8)+t[2]===1){if(l=(t[4]<<8)+t[5],l&&l>p.size-6)return null;const se=t[7];192&se&&(b=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&se?(N=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,b-N>54e5&&(j.warn(`${Math.round((b-N)/9e4)}s delta between PTS and DTS, align them`),b=N)):N=b),h=t[8];let We=h+9;if(p.size<=We)return null;p.size-=We;const $e=new Uint8Array(p.size);for(let Ct=0,xt=H.length;Ct<xt;Ct++){t=H[Ct];let Gt=t.byteLength;if(We){if(We>Gt){We-=Gt;continue}t=t.subarray(We),Gt-=We,We=0}$e.set(t,i),i+=Gt}return l&&(l-=h+3),{data:$e,pts:b,dts:N,len:l}}return null}function hs(p,i){if(p.units.length&&p.frame){if(void 0===p.pts){const t=i.samples,l=t.length;if(!l)return void i.dropped++;{const h=t[l-1];p.pts=h.pts,p.dts=h.dts}}i.samples.push(p)}p.debug.length&&j.log(p.pts+"/"+p.dts+":"+p.debug)}class co{static getSilentFrame(i,t){if("mp4a.40.2"===i){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Io=Math.pow(2,32)-1;let Ko=(()=>{class p{static init(){let t;for(t in p.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},p.types)p.types.hasOwnProperty(t)&&(p.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const l=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);p.HDLR_TYPES={video:l,audio:h};const b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0]);p.STTS=p.STSC=p.STCO=N,p.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),p.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),p.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),p.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const H=new Uint8Array([105,115,111,109]),te=new Uint8Array([97,118,99,49]),se=new Uint8Array([0,0,0,1]);p.FTYP=p.box(p.types.ftyp,H,se,H,te),p.DINF=p.box(p.types.dinf,p.box(p.types.dref,b))}static box(t,...l){let h=8,b=l.length;const N=b;for(;b--;)h+=l[b].byteLength;const H=new Uint8Array(h);for(H[0]=h>>24&255,H[1]=h>>16&255,H[2]=h>>8&255,H[3]=255&h,H.set(t,4),b=0,h=8;b<N;b++)H.set(l[b],h),h+=l[b].byteLength;return H}static hdlr(t){return p.box(p.types.hdlr,p.HDLR_TYPES[t])}static mdat(t){return p.box(p.types.mdat,t)}static mdhd(t,l){l*=t;const h=Math.floor(l/(Io+1)),b=Math.floor(l%(Io+1));return p.box(p.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,h>>24,h>>16&255,h>>8&255,255&h,b>>24,b>>16&255,b>>8&255,255&b,85,196,0,0]))}static mdia(t){return p.box(p.types.mdia,p.mdhd(t.timescale,t.duration),p.hdlr(t.type),p.minf(t))}static mfhd(t){return p.box(p.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return p.box(p.types.minf,"audio"===t.type?p.box(p.types.smhd,p.SMHD):p.box(p.types.vmhd,p.VMHD),p.DINF,p.stbl(t))}static moof(t,l,h){return p.box(p.types.moof,p.mfhd(t),p.traf(h,l))}static moov(t){let l=t.length;const h=[];for(;l--;)h[l]=p.trak(t[l]);return p.box.apply(null,[p.types.moov,p.mvhd(t[0].timescale,t[0].duration)].concat(h).concat(p.mvex(t)))}static mvex(t){let l=t.length;const h=[];for(;l--;)h[l]=p.trex(t[l]);return p.box.apply(null,[p.types.mvex,...h])}static mvhd(t,l){l*=t;const h=Math.floor(l/(Io+1)),b=Math.floor(l%(Io+1)),N=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,h>>24,h>>16&255,h>>8&255,255&h,b>>24,b>>16&255,b>>8&255,255&b,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return p.box(p.types.mvhd,N)}static sdtp(t){const l=t.samples||[],h=new Uint8Array(4+l.length);let b,N;for(b=0;b<l.length;b++)N=l[b].flags,h[b+4]=N.dependsOn<<4|N.isDependedOn<<2|N.hasRedundancy;return p.box(p.types.sdtp,h)}static stbl(t){return p.box(p.types.stbl,p.stsd(t),p.box(p.types.stts,p.STTS),p.box(p.types.stsc,p.STSC),p.box(p.types.stsz,p.STSZ),p.box(p.types.stco,p.STCO))}static avc1(t){let b,N,H,l=[],h=[];for(b=0;b<t.sps.length;b++)N=t.sps[b],H=N.byteLength,l.push(H>>>8&255),l.push(255&H),l=l.concat(Array.prototype.slice.call(N));for(b=0;b<t.pps.length;b++)N=t.pps[b],H=N.byteLength,h.push(H>>>8&255),h.push(255&H),h=h.concat(Array.prototype.slice.call(N));const te=p.box(p.types.avcC,new Uint8Array([1,l[3],l[4],l[5],255,224|t.sps.length].concat(l).concat([t.pps.length]).concat(h))),se=t.width,We=t.height,$e=t.pixelRatio[0],Ct=t.pixelRatio[1];return p.box(p.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,se>>8&255,255&se,We>>8&255,255&We,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),te,p.box(p.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),p.box(p.types.pasp,new Uint8Array([$e>>24,$e>>16&255,$e>>8&255,255&$e,Ct>>24,Ct>>16&255,Ct>>8&255,255&Ct])))}static esds(t){const l=t.config.length;return new Uint8Array([0,0,0,0,3,23+l,0,1,0,4,15+l,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([l]).concat(t.config).concat([6,1,2]))}static mp4a(t){const l=t.samplerate;return p.box(p.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]),p.box(p.types.esds,p.esds(t)))}static mp3(t){const l=t.samplerate;return p.box(p.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]))}static stsd(t){return p.box(p.types.stsd,p.STSD,"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?p.mp3(t):p.mp4a(t):p.avc1(t))}static tkhd(t){const l=t.id,h=t.duration*t.timescale,b=t.width,N=t.height,H=Math.floor(h/(Io+1)),te=Math.floor(h%(Io+1));return p.box(p.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,0,0,0,0,H>>24,H>>16&255,H>>8&255,255&H,te>>24,te>>16&255,te>>8&255,255&te,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,b>>8&255,255&b,0,0,N>>8&255,255&N,0,0]))}static traf(t,l){const h=p.sdtp(t),b=t.id,N=Math.floor(l/(Io+1)),H=Math.floor(l%(Io+1));return p.box(p.types.traf,p.box(p.types.tfhd,new Uint8Array([0,0,0,0,b>>24,b>>16&255,b>>8&255,255&b])),p.box(p.types.tfdt,new Uint8Array([1,0,0,0,N>>24,N>>16&255,N>>8&255,255&N,H>>24,H>>16&255,H>>8&255,255&H])),p.trun(t,h.length+16+20+8+16+8+8),h)}static trak(t){return t.duration=t.duration||4294967295,p.box(p.types.trak,p.tkhd(t),p.mdia(t))}static trex(t){const l=t.id;return p.box(p.types.trex,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,l){const h=t.samples||[],b=h.length,N=12+16*b,H=new Uint8Array(N);let te,se,We,$e,Ct,xt;for(H.set(["video"===t.type?1:0,0,15,1,b>>>24&255,b>>>16&255,b>>>8&255,255&b,(l+=8+N)>>>24&255,l>>>16&255,l>>>8&255,255&l],0),te=0;te<b;te++)se=h[te],We=se.duration,$e=se.size,Ct=se.flags,xt=se.cts,H.set([We>>>24&255,We>>>16&255,We>>>8&255,255&We,$e>>>24&255,$e>>>16&255,$e>>>8&255,255&$e,Ct.isLeading<<2|Ct.dependsOn,Ct.isDependedOn<<6|Ct.hasRedundancy<<4|Ct.paddingValue<<1|Ct.isNonSync,61440&Ct.degradPrio,15&Ct.degradPrio,xt>>>24&255,xt>>>16&255,xt>>>8&255,255&xt],12+16*te);return p.box(p.types.trun,H)}static initSegment(t){p.types||p.init();const l=p.moov(t),h=new Uint8Array(p.FTYP.byteLength+l.byteLength);return h.set(p.FTYP),h.set(l,p.FTYP.byteLength),h}}return p.types=void 0,p.HDLR_TYPES=void 0,p.STTS=void 0,p.STSC=void 0,p.STCO=void 0,p.STSZ=void 0,p.VMHD=void 0,p.SMHD=void 0,p.STSD=void 0,p.FTYP=void 0,p.DINF=void 0,p})();function $r(p,i,t=1,l=!1){const h=p*i*t;return l?Math.round(h):h}function la(p,i=!1){return $r(p,1e3,1/9e4,i)}let Jr,nr=null,ya=null;class rs{constructor(i,t,l,h=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=i,this.config=t,this.typeSupported=l,this.ISGenerated=!1,null===nr){const N=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);nr=N?parseInt(N[1]):0}if(null===ya){const b=navigator.userAgent.match(/Safari\/(\d+)/i);ya=b?parseInt(b[1]):0}}destroy(){}resetTimeStamp(i){j.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=i}resetNextTimestamp(){j.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){j.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(i){let t=!1;const l=i.reduce((h,b)=>{const N=b.pts-h;return N<-4294967296?(t=!0,Sr(h,b.pts)):N>0?h:b.pts},i[0].pts);return t&&j.debug("PTS rollover detected"),l}remux(i,t,l,h,b,N,H,te){let se,We,$e,Ct,xt,Gt,Wt=b,rn=b;const kn=t.pid>-1,Pn=t.samples.length,zn=i.samples.length>0,Yn=H&&Pn>0||Pn>1;if((!(i.pid>-1)||zn)&&(!kn||Yn)||this.ISGenerated||H){this.ISGenerated||($e=this.generateIS(i,t,b,N));const Xn=this.isVideoContiguous;let Ti,mi=-1;if(Yn&&(mi=function ad(p){for(let i=0;i<p.length;i++)if(p[i].key)return i;return-1}(t.samples),!Xn&&this.config.forceKeyFrameOnDiscontinuity))if(Gt=!0,mi>0){j.warn(`[mp4-remuxer]: Dropped ${mi} out of ${Pn} video samples due to a missing keyframe`);const qn=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(mi),t.dropped+=mi,rn+=(t.samples[0].pts-qn)/t.inputTimeScale,Ti=rn}else-1===mi&&(j.warn(`[mp4-remuxer]: No keyframe found out of ${Pn} video samples`),Gt=!1);if(this.ISGenerated){if(zn&&Yn){const qn=this.getVideoStartPts(t.samples),Oi=(Sr(i.samples[0].pts,qn)-qn)/t.inputTimeScale;Wt+=Math.max(0,Oi),rn+=Math.max(0,-Oi)}if(zn){if(i.samplerate||(j.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),$e=this.generateIS(i,t,b,N)),We=this.remuxAudio(i,Wt,this.isAudioContiguous,N,kn||Yn||"audio"===te?rn:void 0),Yn){const qn=We?We.endPTS-We.startPTS:0;t.inputTimeScale||(j.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),$e=this.generateIS(i,t,b,N)),se=this.remuxVideo(t,rn,Xn,qn)}}else Yn&&(se=this.remuxVideo(t,rn,Xn,0));se&&(se.firstKeyFrame=mi,se.independent=-1!==mi,se.firstKeyFramePTS=Ti)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(l.samples.length&&(xt=qa(l,b,this._initPTS,this._initDTS)),h.samples.length&&(Ct=Fo(h,b,this._initPTS))),{audio:We,video:se,initSegment:$e,independent:Gt,text:Ct,id3:xt}}generateIS(i,t,l,h){const b=i.samples,N=t.samples,H=this.typeSupported,te={},se=this._initPTS;let Ct,xt,Gt,We=!se||h,$e="audio/mp4";if(We&&(Ct=xt=1/0),i.config&&b.length&&("mp3"===(i.timescale=i.samplerate,i.segmentCodec)&&(H.mpeg?($e="audio/mpeg",i.codec=""):H.mp3&&(i.codec="mp3")),te.audio={id:"audio",container:$e,codec:i.codec,initSegment:"mp3"===i.segmentCodec&&H.mpeg?new Uint8Array(0):Ko.initSegment([i]),metadata:{channelCount:i.channelCount}},We&&(Gt=i.inputTimeScale,se&&Gt===se.timescale?We=!1:Ct=xt=b[0].pts-Math.round(Gt*l))),t.sps&&t.pps&&N.length&&(t.timescale=t.inputTimeScale,te.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Ko.initSegment([t]),metadata:{width:t.width,height:t.height}},We))if(Gt=t.inputTimeScale,se&&Gt===se.timescale)We=!1;else{const Wt=this.getVideoStartPts(N),rn=Math.round(Gt*l);xt=Math.min(xt,Sr(N[0].dts,Wt)-rn),Ct=Math.min(Ct,Wt-rn)}if(Object.keys(te).length)return this.ISGenerated=!0,We?(this._initPTS={baseTime:Ct,timescale:Gt},this._initDTS={baseTime:xt,timescale:Gt}):Ct=Gt=void 0,{tracks:te,initPTS:Ct,timescale:Gt}}remuxVideo(i,t,l,h){const b=i.inputTimeScale,N=i.samples,H=[],te=N.length,se=this._initPTS;let xt,Gt,We=this.nextAvcDts,$e=8,Ct=this.videoSampleDuration,Wt=Number.POSITIVE_INFINITY,rn=Number.NEGATIVE_INFINITY,En=!1;l&&null!==We||(We=t*b-(N[0].pts-Sr(N[0].dts,N[0].pts)));const kn=se.baseTime*b/se.timescale;for(let si=0;si<te;si++){const yi=N[si];yi.pts=Sr(yi.pts-kn,We),yi.dts=Sr(yi.dts-kn,We),yi.dts<N[si>0?si-1:si].dts&&(En=!0)}En&&N.sort(function(si,yi){return si.dts-yi.dts||si.pts-yi.pts}),xt=N[0].dts,Gt=N[N.length-1].dts;const Pn=Gt-xt,zn=Pn?Math.round(Pn/(te-1)):Ct||i.inputTimeScale/30;if(l){const si=xt-We,yi=si>zn,ir=si<-1;if((yi||ir)&&(j.warn(yi?`AVC: ${la(si,!0)} ms (${si}dts) hole between fragments detected, filling it`:`AVC: ${la(-si,!0)} ms (${si}dts) overlapping between fragments detected`),!ir||We>=N[0].pts)){xt=We;const Fr=N[0].pts-si;N[0].dts=xt,N[0].pts=Fr,j.log(`Video: First PTS/DTS adjusted: ${la(Fr,!0)}/${la(xt,!0)}, delta: ${la(si,!0)} ms`)}}xt=Math.max(0,xt);let Yn=0,ci=0;for(let si=0;si<te;si++){const yi=N[si],ir=yi.units,Fr=ir.length;let sr=0;for(let fo=0;fo<Fr;fo++)sr+=ir[fo].data.length;ci+=sr,Yn+=Fr,yi.length=sr,yi.dts=Math.max(yi.dts,xt),Wt=Math.min(yi.pts,Wt),rn=Math.max(yi.pts,rn)}Gt=N[te-1].dts;const Xn=ci+4*Yn+8;let mi;try{mi=new Uint8Array(Xn)}catch(si){return void this.observer.emit(T.ERROR,T.ERROR,{type:C.MUX_ERROR,details:O.REMUX_ALLOC_ERROR,fatal:!1,error:si,bytes:Xn,reason:`fail allocating video mdat ${Xn}`})}const Ti=new DataView(mi.buffer);Ti.setUint32(0,Xn),mi.set(Ko.types.mdat,4);let qn=!1,Qi=Number.POSITIVE_INFINITY,Oi=Number.POSITIVE_INFINITY,Gr=Number.NEGATIVE_INFINITY,ks=Number.NEGATIVE_INFINITY;for(let si=0;si<te;si++){const yi=N[si],ir=yi.units;let sr,Fr=0;for(let yr=0,Ga=ir.length;yr<Ga;yr++){const Ha=ir[yr],go=Ha.data,Oc=Ha.data.byteLength;Ti.setUint32($e,Oc),$e+=4,mi.set(go,$e),$e+=Oc,Fr+=4+Oc}if(si<te-1)Ct=N[si+1].dts-yi.dts,sr=N[si+1].pts-yi.pts;else{const yr=this.config,Ga=si>0?yi.dts-N[si-1].dts:zn;if(sr=si>0?yi.pts-N[si-1].pts:zn,yr.stretchShortVideoTrack&&null!==this.nextAudioPts){const Ha=Math.floor(yr.maxBufferHole*b),go=(h?Wt+h*b:this.nextAudioPts)-yi.pts;go>Ha?(Ct=go-Ga,Ct<0?Ct=Ga:qn=!0,j.log(`[mp4-remuxer]: It is approximately ${go/90} ms to the next segment; using duration ${Ct/90} ms for the last video frame.`)):Ct=Ga}else Ct=Ga}const fo=Math.round(yi.pts-yi.dts);Qi=Math.min(Qi,Ct),Gr=Math.max(Gr,Ct),Oi=Math.min(Oi,sr),ks=Math.max(ks,sr),H.push(new bl(yi.key,Ct,Fr,fo))}if(H.length)if(nr){if(nr<70){const si=H[0].flags;si.dependsOn=2,si.isNonSync=0}}else if(ya&&ks-Oi<Gr-Qi&&zn/Gr<.025&&0===H[0].cts){j.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let si=xt;for(let yi=0,ir=H.length;yi<ir;yi++){const Fr=si+H[yi].duration;H[yi].duration=yi<ir-1?Fr+H[yi+1].cts-(si+H[yi].cts):yi?H[yi-1].duration:zn,H[yi].cts=0,si=Fr}}Ct=qn||!Ct?zn:Ct,this.nextAvcDts=We=Gt+Ct,this.videoSampleDuration=Ct,this.isVideoContiguous=!0;const Di={data1:Ko.moof(i.sequenceNumber++,xt,B({},i,{samples:H})),data2:mi,startPTS:Wt/b,endPTS:(rn+Ct)/b,startDTS:xt/b,endDTS:We/b,type:"video",hasAudio:!1,hasVideo:!0,nb:H.length,dropped:i.dropped};return i.samples=[],i.dropped=0,Di}remuxAudio(i,t,l,h,b){const N=i.inputTimeScale,te=N/(i.samplerate?i.samplerate:N),se="aac"===i.segmentCodec?1024:1152,We=se*te,$e=this._initPTS,Ct="mp3"===i.segmentCodec&&this.typeSupported.mpeg,xt=[],Gt=void 0!==b;let Wt=i.samples,rn=Ct?0:8,En=this.nextAudioPts||-1;const kn=t*N,Pn=$e.baseTime*N/$e.timescale;if(this.isAudioContiguous=l=l||Wt.length&&En>0&&(h&&Math.abs(kn-En)<9e3||Math.abs(Sr(Wt[0].pts-Pn,kn)-En)<20*We),Wt.forEach(function(vi){vi.pts=Sr(vi.pts-Pn,kn)}),!l||En<0){if(Wt=Wt.filter(vi=>vi.pts>=0),!Wt.length)return;En=0===b?0:h&&!Gt?Math.max(0,kn):Wt[0].pts}if("aac"===i.segmentCodec){const vi=this.config.maxAudioFramesDrift;for(let Di=0,si=En;Di<Wt.length;Di++){const yi=Wt[Di],ir=yi.pts,Fr=ir-si,sr=Math.abs(1e3*Fr/N);if(Fr<=-vi*We&&Gt)0===Di&&(j.warn(`Audio frame @ ${(ir/N).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Fr/N)} ms.`),this.nextAudioPts=En=si=ir);else if(Fr>=vi*We&&sr<1e4&&Gt){let fo=Math.round(Fr/We);si=ir-fo*We,si<0&&(fo--,si+=We),0===Di&&(this.nextAudioPts=En=si),j.warn(`[mp4-remuxer]: Injecting ${fo} audio frame @ ${(si/N).toFixed(3)}s due to ${Math.round(1e3*Fr/N)} ms gap.`);for(let yr=0;yr<fo;yr++){const Ga=Math.max(si,0);let Ha=co.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);Ha||(j.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Ha=yi.unit.subarray()),Wt.splice(Di,0,{unit:Ha,pts:Ga}),si+=We,Di++}}yi.pts=si,si+=We}}let ci,zn=null,Yn=null,Xn=0,mi=Wt.length;for(;mi--;)Xn+=Wt[mi].unit.byteLength;for(let vi=0,Di=Wt.length;vi<Di;vi++){const si=Wt[vi],yi=si.unit;let ir=si.pts;if(null!==Yn)xt[vi-1].duration=Math.round((ir-Yn)/te);else{if(l&&"aac"===i.segmentCodec&&(ir=En),zn=ir,!(Xn>0))return;Xn+=rn;try{ci=new Uint8Array(Xn)}catch(sr){return void this.observer.emit(T.ERROR,T.ERROR,{type:C.MUX_ERROR,details:O.REMUX_ALLOC_ERROR,fatal:!1,error:sr,bytes:Xn,reason:`fail allocating audio mdat ${Xn}`})}Ct||(new DataView(ci.buffer).setUint32(0,Xn),ci.set(Ko.types.mdat,4))}ci.set(yi,rn);const Fr=yi.byteLength;rn+=Fr,xt.push(new bl(!0,se,Fr,0)),Yn=ir}const Ti=xt.length;if(!Ti)return;this.nextAudioPts=En=Yn+te*xt[xt.length-1].duration;const Qi=Ct?new Uint8Array(0):Ko.moof(i.sequenceNumber++,zn/te,B({},i,{samples:xt}));i.samples=[];const Oi=zn/N,Gr=En/N,yo={data1:Qi,data2:ci,startPTS:Oi,endPTS:Gr,startDTS:Oi,endDTS:Gr,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ti};return this.isAudioContiguous=!0,yo}remuxEmptyAudio(i,t,l,h){const b=i.inputTimeScale,te=this.nextAudioPts,se=this._initDTS,We=9e4*se.baseTime/se.timescale,$e=(null!==te?te:h.startDTS*b)+We,xt=b/(i.samplerate?i.samplerate:b)*1024,Gt=Math.ceil((h.endDTS*b+We-$e)/xt),Wt=co.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);if(j.warn("[mp4-remuxer]: remux empty Audio"),!Wt)return void j.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const rn=[];for(let En=0;En<Gt;En++){const kn=$e+En*xt;rn.push({unit:Wt,pts:kn,dts:kn})}return i.samples=rn,this.remuxAudio(i,t,l,!1)}}function Sr(p,i){let t;if(null===i)return p;for(t=i<p?-8589934592:8589934592;Math.abs(p-i)>4294967296;)p+=t;return p}function qa(p,i,t,l){const h=p.samples.length;if(!h)return;const b=p.inputTimeScale;for(let H=0;H<h;H++){const te=p.samples[H];te.pts=Sr(te.pts-t.baseTime*b/t.timescale,i*b)/b,te.dts=Sr(te.dts-l.baseTime*b/l.timescale,i*b)/b}const N=p.samples;return p.samples=[],{samples:N}}function Fo(p,i,t){const l=p.samples.length;if(!l)return;const h=p.inputTimeScale;for(let N=0;N<l;N++){const H=p.samples[N];H.pts=Sr(H.pts-t.baseTime*h/t.timescale,i*h)/h}p.samples.sort((N,H)=>N.pts-H.pts);const b=p.samples;return p.samples=[],{samples:b}}class bl{constructor(i,t,l,h){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=l,this.cts=h,this.flags=new io(i)}}class io{constructor(i){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=i?2:1,this.isNonSync=i?0:1}}function El(p,i){const t=p?.codec;return t&&t.length>4?t:"hvc1"===t||"hev1"===t?"hvc1.1.6.L120.90":"av01"===t?"av01.0.04M.08":"avc1"===t||"video"===i?"avc1.42e01e":"mp4a.40.5"}try{Jr=self.performance.now.bind(self.performance)}catch{j.debug("Unable to use Performance API on this environment"),Jr=typeof self<"u"&&self.Date.now}const Es=[{demux:class Ja{constructor(i,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(i,t,l,h){const b=this.videoTrack=Nr("video",1),N=this.audioTrack=Nr("audio",1),H=this.txtTrack=Nr("text",1);if(this.id3Track=Nr("id3",1),this.timeOffset=0,null==i||!i.byteLength)return;const te=Et(i);if(te.video){const{id:se,timescale:We,codec:$e}=te.video;b.id=se,b.timescale=H.timescale=We,b.codec=$e}if(te.audio){const{id:se,timescale:We,codec:$e}=te.audio;N.id=se,N.timescale=We,N.codec=$e}H.id=gt.text,b.sampleDuration=0,b.duration=N.duration=h}resetContiguity(){this.remainderData=null}static probe(i){return ft(i=i.length>16384?i.subarray(0,16384):i,["moof"]).length>0}demux(i,t){this.timeOffset=t;let l=i;const h=this.videoTrack,b=this.txtTrack;if(this.config.progressive){this.remainderData&&(l=Kn(this.remainderData,i));const H=function Fn(p){const i={valid:null,remainder:null},t=ft(p,["moof"]);if(!t)return i;if(t.length<2)return i.remainder=p,i;const l=t[t.length-1];return i.valid=q(p,0,l.byteOffset-8),i.remainder=q(p,l.byteOffset-8),i}(l);this.remainderData=H.remainder,h.samples=H.valid||new Uint8Array}else h.samples=l;const N=this.extractID3Track(h,t);return b.samples=dn(t,h),{videoTrack:h,audioTrack:this.audioTrack,id3Track:N,textTrack:this.txtTrack}}flush(){const i=this.timeOffset,t=this.videoTrack,l=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const h=this.extractID3Track(t,this.timeOffset);return l.samples=dn(i,t),{videoTrack:t,audioTrack:Nr(),id3Track:h,textTrack:Nr()}}extractID3Track(i,t){const l=this.id3Track;if(i.samples.length){const h=ft(i.samples,["emsg"]);h&&h.forEach(b=>{const N=function Tt(p){const i=p[0];let t="",l="",h=0,b=0,N=0,H=0,te=0,se=0;if(0===i){for(;"\0"!==Qe(p.subarray(se,se+1));)t+=Qe(p.subarray(se,se+1)),se+=1;for(t+=Qe(p.subarray(se,se+1)),se+=1;"\0"!==Qe(p.subarray(se,se+1));)l+=Qe(p.subarray(se,se+1)),se+=1;l+=Qe(p.subarray(se,se+1)),se+=1,h=ke(p,12),b=ke(p,16),H=ke(p,20),te=ke(p,24),se=28}else if(1===i){se+=4,h=ke(p,se),se+=4;const $e=ke(p,se);se+=4;const Ct=ke(p,se);for(se+=4,N=2**32*$e+Ct,Number.isSafeInteger(N)||(N=Number.MAX_SAFE_INTEGER,j.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),H=ke(p,se),se+=4,te=ke(p,se),se+=4;"\0"!==Qe(p.subarray(se,se+1));)t+=Qe(p.subarray(se,se+1)),se+=1;for(t+=Qe(p.subarray(se,se+1)),se+=1;"\0"!==Qe(p.subarray(se,se+1));)l+=Qe(p.subarray(se,se+1)),se+=1;l+=Qe(p.subarray(se,se+1)),se+=1}return{schemeIdUri:t,value:l,timeScale:h,presentationTime:N,presentationTimeDelta:b,eventDuration:H,id:te,payload:p.subarray(se,p.byteLength)}}(b);if(bs.test(N.schemeIdUri)){const H=D(N.presentationTime)?N.presentationTime/N.timeScale:t+N.presentationTimeDelta/N.timeScale;let te=4294967295===N.eventDuration?Number.POSITIVE_INFINITY:N.eventDuration/N.timeScale;te<=.001&&(te=Number.POSITIVE_INFINITY);const se=N.payload;l.samples.push({data:se,len:se.byteLength,dts:H,pts:H,type:Pi_emsg,duration:te})}})}return l}demuxSampleAes(i,t,l){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class wa{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(i){this.initPTS=i,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(i,t,l,h){this.audioCodec=t,this.videoCodec=l,this.generateInitSegment(function Qt(p,i){if(!p||!i)return p;const t=i.keyId;return t&&i.isCommonEncryption&&ft(p,["moov","trak"]).forEach(h=>{const N=ft(h,["mdia","minf","stbl","stsd"])[0].subarray(8);let H=ft(N,["enca"]);const te=H.length>0;te||(H=ft(N,["encv"])),H.forEach(se=>{ft(se.subarray(te?28:78),["sinf"]).forEach(Ct=>{const xt=fn(Ct);if(xt){const Gt=xt.subarray(8,24);Gt.some(Wt=>0!==Wt)||(j.log(`[eme] Patching keyId in 'enc${te?"a":"v"}>sinf>>tenc' box: ${cn_hexDump(Gt)} -> ${cn_hexDump(t)}`),xt.set(t,8))}})})}),p}(i,h)),this.emitInitSegment=!0}generateInitSegment(i){let{audioCodec:t,videoCodec:l}=this;if(null==i||!i.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const h=this.initData=Et(i);t||(t=El(h.audio,"audio")),l||(l=El(h.video,"video"));const b={};h.audio&&h.video?b.audiovideo={container:"video/mp4",codec:t+","+l,initSegment:i,id:"main"}:h.audio?b.audio={container:"audio/mp4",codec:t,initSegment:i,id:"audio"}:h.video?b.video={container:"video/mp4",codec:l,initSegment:i,id:"main"}:j.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=b}remux(i,t,l,h,b,N){var H,te;let{initPTS:se,lastEndTime:We}=this;const $e={audio:void 0,video:void 0,text:h,id3:l,initSegment:void 0};D(We)||(We=this.lastEndTime=b||0);const Ct=t.samples;if(null==Ct||!Ct.length)return $e;const xt={initPTS:void 0,timescale:1};let Gt=this.initData;if(null!=(H=Gt)&&H.length||(this.generateInitSegment(Ct),Gt=this.initData),null==(te=Gt)||!te.length)return j.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),$e;this.emitInitSegment&&(xt.tracks=this.initTracks,this.emitInitSegment=!1);const Wt=function pn(p,i){let t=0,l=0,h=0;const b=ft(p,["moof","traf"]);for(let N=0;N<b.length;N++){const H=b[N],te=ft(H,["tfhd"])[0],We=i[ke(te,4)];if(!We)continue;const $e=We.default,Ct=ke(te,0)|$e?.flags;let xt=$e?.duration;8&Ct&&(xt=ke(te,2&Ct?12:8));const Gt=We.timescale||9e4,Wt=ft(H,["trun"]);for(let rn=0;rn<Wt.length;rn++)t=Tn(Wt[rn]),!t&&xt&&(t=xt*ke(Wt[rn],4)),"video"===We.type?l+=t/Gt:"audio"===We.type&&(h+=t/Gt)}if(0===l&&0===h){let N=0;const H=ft(p,["sidx"]);for(let te=0;te<H.length;te++){const se=mt(H[te]);null!=se&&se.references&&(N+=se.references.reduce((We,$e)=>We+$e.info.duration||0,0))}return N}return l||h}(Ct,Gt),rn=function Jt(p,i){return ft(i,["moof","traf"]).reduce((t,l)=>{const h=ft(l,["tfdt"])[0],b=h[0],N=ft(l,["tfhd"]).reduce((H,te)=>{const se=ke(te,4),We=p[se];if(We){let $e=ke(h,4);if(1===b){if($e===nn)return j.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),H;$e*=nn+1,$e+=ke(h,8)}const xt=$e/(We.timescale||9e4);if(isFinite(xt)&&(null===H||xt<H))return xt}return H},null);return null!==N&&isFinite(N)&&(null===t||N<t)?N:t},null)}(Gt,Ct),En=null===rn?b:rn;(function rc(p,i,t,l){if(null===p)return!0;const h=Math.max(l,1);return Math.abs(i-p.baseTime/p.timescale-t)>h}(se,En,b,Wt)||xt.timescale!==se.timescale&&N)&&(xt.initPTS=En-b,se&&1===se.timescale&&j.warn("Adjusting initPTS by "+(xt.initPTS-se.baseTime)),this.initPTS=se={baseTime:xt.initPTS,timescale:1});const kn=i?En-se.baseTime/se.timescale:We,Pn=kn+Wt;(function Dn(p,i,t){ft(i,["moof","traf"]).forEach(l=>{ft(l,["tfhd"]).forEach(h=>{const b=ke(h,4),N=p[b];if(!N)return;const H=N.timescale||9e4;ft(l,["tfdt"]).forEach(te=>{const se=te[0];let We=ke(te,4);if(0===se)We-=t*H,We=Math.max(We,0),ot(te,4,We);else{We*=Math.pow(2,32),We+=ke(te,8),We-=t*H,We=Math.max(We,0);const $e=Math.floor(We/(nn+1)),Ct=Math.floor(We%(nn+1));ot(te,4,$e),ot(te,8,Ct)}})})})})(Gt,Ct,se.baseTime/se.timescale),Wt>0?this.lastEndTime=Pn:(j.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const zn=!!Gt.audio,Yn=!!Gt.video;let ci="";zn&&(ci+="audio"),Yn&&(ci+="video");const Xn={data1:Ct,startPTS:kn,startDTS:kn,endPTS:Pn,endDTS:Pn,type:ci,hasAudio:zn,hasVideo:Yn,nb:1,dropped:0};return $e.audio="audio"===Xn.type?Xn:void 0,$e.video="audio"!==Xn.type?Xn:void 0,$e.initSegment=xt,$e.id3=qa(l,b,se,se),h.samples.length&&($e.text=Fo(h,b,se)),$e}}},{demux:Ji,remux:rs},{demux:class $a extends _l{constructor(i,t){super(),this.observer=void 0,this.config=void 0,this.observer=i,this.config=t}resetInitSegment(i,t,l,h){super.resetInitSegment(i,t,l,h),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:h,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let l=(ye(i,0)||[]).length;for(let h=i.length;l<h;l++)if(Ya(i,l))return j.log("ADTS sync word found !"),!0;return!1}canParse(i,t){return function kl(p,i){return function xa(p,i){return i+5<p.length}(p,i)&&va(p,i)&&aa(p,i)<=p.length-i}(i,t)}appendFrame(i,t,l){za(i,this.observer,t,l,i.manifestCodec);const h=Za(i,t,l,this.basePTS,this.frameIndex);if(h&&0===h.missing)return h}},remux:rs},{demux:class is extends _l{resetInitSegment(i,t,l,h){super.resetInitSegment(i,t,l,h),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:h,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let l=(ye(i,0)||[]).length;for(let h=i.length;l<h;l++)if(_i(i,l))return j.log("MPEG Audio sync word found !"),!0;return!1}canParse(i,t){return function Jn(p,i){return vn(p,i)&&4<=p.length-i}(i,t)}appendFrame(i,t,l){if(null!==this.basePTS)return pt(i,t,l,this.basePTS,this.frameIndex)}},remux:rs}];class Xa{constructor(i,t,l,h,b){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=i,this.typeSupported=t,this.config=l,this.vendor=h,this.id=b}configure(i){this.transmuxConfig=i,this.decrypter&&this.decrypter.reset()}push(i,t,l,h){const b=l.transmuxing;b.executeStart=Jr();let N=new Uint8Array(i);const{currentTransmuxState:H,transmuxConfig:te}=this;h&&(this.currentTransmuxState=h);const{contiguous:se,discontinuity:We,trackSwitch:$e,accurateTimeOffset:Ct,timeOffset:xt,initSegmentChange:Gt}=h||H,{audioCodec:Wt,videoCodec:rn,defaultInitPts:En,duration:kn,initSegmentData:Pn}=te,zn=function Lr(p,i){let t=null;return p.byteLength>0&&null!=i&&null!=i.key&&null!==i.iv&&null!=i.method&&(t=i),t}(N,t);if(zn&&"AES-128"===zn.method){const mi=this.getDecrypter();if(!mi.isSync())return this.decryptionPromise=mi.webCryptoDecrypt(N,zn.key.buffer,zn.iv.buffer).then(Ti=>{const qn=this.push(Ti,null,l);return this.decryptionPromise=null,qn}),this.decryptionPromise;{let Ti=mi.softwareDecrypt(N,zn.key.buffer,zn.iv.buffer);if(l.part>-1&&(Ti=mi.flush()),!Ti)return b.executeEnd=Jr(),Ts(l);N=new Uint8Array(Ti)}}const Yn=this.needsProbing(We,$e);if(Yn){const mi=this.configureTransmuxer(N);if(mi)return j.warn(`[transmuxer] ${mi.message}`),this.observer.emit(T.ERROR,T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_PARSING_ERROR,fatal:!1,error:mi,reason:mi.message}),b.executeEnd=Jr(),Ts(l)}(We||$e||Gt||Yn)&&this.resetInitSegment(Pn,Wt,rn,kn,t),(We||Gt||Yn)&&this.resetInitialTimestamp(En),se||this.resetContiguity();const ci=this.transmux(N,zn,xt,Ct,l),Xn=this.currentTransmuxState;return Xn.contiguous=!0,Xn.discontinuity=!1,Xn.trackSwitch=!1,b.executeEnd=Jr(),ci}flush(i){const t=i.transmuxing;t.executeStart=Jr();const{decrypter:l,currentTransmuxState:h,decryptionPromise:b}=this;if(b)return b.then(()=>this.flush(i));const N=[],{timeOffset:H}=h;if(l){const $e=l.flush();$e&&N.push(this.push($e,null,i))}const{demuxer:te,remuxer:se}=this;if(!te||!se)return t.executeEnd=Jr(),[Ts(i)];const We=te.flush(H);return Eo(We)?We.then($e=>(this.flushRemux(N,$e,i),N)):(this.flushRemux(N,We,i),N)}flushRemux(i,t,l){const{audioTrack:h,videoTrack:b,id3Track:N,textTrack:H}=t,{accurateTimeOffset:te,timeOffset:se}=this.currentTransmuxState;j.log(`[transmuxer.ts]: Flushed fragment ${l.sn}${l.part>-1?" p: "+l.part:""} of level ${l.level}`);const We=this.remuxer.remux(h,b,N,H,se,te,!0,this.id);i.push({remuxResult:We,chunkMeta:l}),l.transmuxing.executeEnd=Jr()}resetInitialTimestamp(i){const{demuxer:t,remuxer:l}=this;!t||!l||(t.resetTimeStamp(i),l.resetTimeStamp(i))}resetContiguity(){const{demuxer:i,remuxer:t}=this;!i||!t||(i.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(i,t,l,h,b){const{demuxer:N,remuxer:H}=this;!N||!H||(N.resetInitSegment(i,t,l,h),H.resetInitSegment(i,t,l,b))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(i,t,l,h,b){let N;return N=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(i,t,l,h,b):this.transmuxUnencrypted(i,l,h,b),N}transmuxUnencrypted(i,t,l,h){const{audioTrack:b,videoTrack:N,id3Track:H,textTrack:te}=this.demuxer.demux(i,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(b,N,H,te,t,l,!1,this.id),chunkMeta:h}}transmuxSampleAes(i,t,l,h,b){return this.demuxer.demuxSampleAes(i,t,l).then(N=>({remuxResult:this.remuxer.remux(N.audioTrack,N.videoTrack,N.id3Track,N.textTrack,l,h,!1,this.id),chunkMeta:b}))}configureTransmuxer(i){const{config:t,observer:l,typeSupported:h,vendor:b}=this;let N;for(let $e=0,Ct=Es.length;$e<Ct;$e++)if(Es[$e].demux.probe(i)){N=Es[$e];break}if(!N)return new Error("Failed to find demuxer by probing fragment data");const H=this.demuxer,te=this.remuxer,se=N.remux,We=N.demux;(!te||!(te instanceof se))&&(this.remuxer=new se(l,t,h,b)),(!H||!(H instanceof We))&&(this.demuxer=new We(l,t,h),this.probe=We.probe)}needsProbing(i,t){return!this.demuxer||!this.remuxer||i||t}getDecrypter(){let i=this.decrypter;return i||(i=this.decrypter=new ga(this.config)),i}}const Ts=p=>({remuxResult:{},chunkMeta:p});function Eo(p){return"then"in p&&p.then instanceof Function}class Ul{constructor(i,t,l,h,b){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=i,this.videoCodec=t,this.initSegmentData=l,this.duration=h,this.defaultInitPts=b||null}}class Tl{constructor(i,t,l,h,b,N){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=i,this.contiguous=t,this.accurateTimeOffset=l,this.trackSwitch=h,this.timeOffset=b,this.initSegmentChange=N}}var el={exports:{}};!function(p){var i=Object.prototype.hasOwnProperty,t="~";function l(){}function h(te,se,We){this.fn=te,this.context=se,this.once=We||!1}function b(te,se,We,$e,Ct){if("function"!=typeof We)throw new TypeError("The listener must be a function");var xt=new h(We,$e||te,Ct),Gt=t?t+se:se;return te._events[Gt]?te._events[Gt].fn?te._events[Gt]=[te._events[Gt],xt]:te._events[Gt].push(xt):(te._events[Gt]=xt,te._eventsCount++),te}function N(te,se){0==--te._eventsCount?te._events=new l:delete te._events[se]}function H(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(t=!1)),H.prototype.eventNames=function(){var We,$e,se=[];if(0===this._eventsCount)return se;for($e in We=this._events)i.call(We,$e)&&se.push(t?$e.slice(1):$e);return Object.getOwnPropertySymbols?se.concat(Object.getOwnPropertySymbols(We)):se},H.prototype.listeners=function(se){var $e=this._events[t?t+se:se];if(!$e)return[];if($e.fn)return[$e.fn];for(var Ct=0,xt=$e.length,Gt=new Array(xt);Ct<xt;Ct++)Gt[Ct]=$e[Ct].fn;return Gt},H.prototype.listenerCount=function(se){var $e=this._events[t?t+se:se];return $e?$e.fn?1:$e.length:0},H.prototype.emit=function(se,We,$e,Ct,xt,Gt){var Wt=t?t+se:se;if(!this._events[Wt])return!1;var kn,Pn,rn=this._events[Wt],En=arguments.length;if(rn.fn){switch(rn.once&&this.removeListener(se,rn.fn,void 0,!0),En){case 1:return rn.fn.call(rn.context),!0;case 2:return rn.fn.call(rn.context,We),!0;case 3:return rn.fn.call(rn.context,We,$e),!0;case 4:return rn.fn.call(rn.context,We,$e,Ct),!0;case 5:return rn.fn.call(rn.context,We,$e,Ct,xt),!0;case 6:return rn.fn.call(rn.context,We,$e,Ct,xt,Gt),!0}for(Pn=1,kn=new Array(En-1);Pn<En;Pn++)kn[Pn-1]=arguments[Pn];rn.fn.apply(rn.context,kn)}else{var Yn,zn=rn.length;for(Pn=0;Pn<zn;Pn++)switch(rn[Pn].once&&this.removeListener(se,rn[Pn].fn,void 0,!0),En){case 1:rn[Pn].fn.call(rn[Pn].context);break;case 2:rn[Pn].fn.call(rn[Pn].context,We);break;case 3:rn[Pn].fn.call(rn[Pn].context,We,$e);break;case 4:rn[Pn].fn.call(rn[Pn].context,We,$e,Ct);break;default:if(!kn)for(Yn=1,kn=new Array(En-1);Yn<En;Yn++)kn[Yn-1]=arguments[Yn];rn[Pn].fn.apply(rn[Pn].context,kn)}}return!0},H.prototype.on=function(se,We,$e){return b(this,se,We,$e,!1)},H.prototype.once=function(se,We,$e){return b(this,se,We,$e,!0)},H.prototype.removeListener=function(se,We,$e,Ct){var xt=t?t+se:se;if(!this._events[xt])return this;if(!We)return N(this,xt),this;var Gt=this._events[xt];if(Gt.fn)Gt.fn===We&&(!Ct||Gt.once)&&(!$e||Gt.context===$e)&&N(this,xt);else{for(var Wt=0,rn=[],En=Gt.length;Wt<En;Wt++)(Gt[Wt].fn!==We||Ct&&!Gt[Wt].once||$e&&Gt[Wt].context!==$e)&&rn.push(Gt[Wt]);rn.length?this._events[xt]=1===rn.length?rn[0]:rn:N(this,xt)}return this},H.prototype.removeAllListeners=function(se){var We;return se?this._events[We=t?t+se:se]&&N(this,We):(this._events=new l,this._eventsCount=0),this},H.prototype.off=H.prototype.removeListener,H.prototype.addListener=H.prototype.on,H.prefixed=t,H.EventEmitter=H,p.exports=H}(el);var ba=d(el.exports);const Oa=Ln()||{isTypeSupported:()=>!1};class qs{constructor(i,t,l,h){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const b=i.config;this.hls=i,this.id=t,this.useWorker=!!b.enableWorker,this.onTransmuxComplete=l,this.onFlush=h;const N=(se,We)=>{(We=We||{}).frag=this.frag,We.id=this.id,se===T.ERROR&&(this.error=We.error),this.hls.trigger(se,We)};this.observer=new ba,this.observer.on(T.FRAG_DECRYPTED,N),this.observer.on(T.ERROR,N);const H={mp4:Oa.isTypeSupported("video/mp4"),mpeg:Oa.isTypeSupported("audio/mpeg"),mp3:Oa.isTypeSupported('audio/mp4; codecs="mp3"')},te=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(b.workerPath||function Js(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{b.workerPath?(j.log(`loading Web Worker ${b.workerPath} for "${t}"`),this.workerContext=function gl(p){const i=new self.URL(p,self.location.href).href;return{worker:new self.Worker(i),scriptURL:i}}(b.workerPath)):(j.log(`injecting Web Worker for "${t}"`),this.workerContext=function Nl(){const p=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),i=self.URL.createObjectURL(p);return{worker:new self.Worker(i),objectURL:i}}()),this.onwmsg=$e=>this.onWorkerMessage($e);const{worker:We}=this.workerContext;We.addEventListener("message",this.onwmsg),We.onerror=$e=>{const Ct=new Error(`${$e.message}  (${$e.filename}:${$e.lineno})`);b.enableWorker=!1,j.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(T.ERROR,{type:C.OTHER_ERROR,details:O.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Ct})},We.postMessage({cmd:"init",typeSupported:H,vendor:te,id:t,config:JSON.stringify(b)})}catch(We){j.warn(`Error setting up "${t}" Web Worker, fallback to inline`,We),this.resetWorker(),this.error=null,this.transmuxer=new Xa(this.observer,H,b,te,t)}else this.transmuxer=new Xa(this.observer,H,b,te,t)}resetWorker(){if(this.workerContext){const{worker:i,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),i.removeEventListener("message",this.onwmsg),i.onerror=null,i.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const i=this.observer;i&&i.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(i,t,l,h,b,N,H,te,se,We){var $e,Ct;se.transmuxing.start=self.performance.now();const{transmuxer:xt}=this,Gt=N?N.start:b.start,Wt=b.decryptdata,rn=this.frag,En=!(rn&&b.cc===rn.cc),kn=!(rn&&se.level===rn.level),Pn=rn?se.sn-rn.sn:-1,zn=this.part?se.part-this.part.index:-1,ci=!kn&&(1===Pn||0===Pn&&(1===zn||0===Pn&&se.id>1&&se.id===rn?.stats.chunkCount&&zn<=0)),Xn=self.performance.now();(kn||Pn||0===b.stats.parsing.start)&&(b.stats.parsing.start=Xn),N&&(zn||!ci)&&(N.stats.parsing.start=Xn);const mi=!(rn&&(null==($e=b.initSegment)?void 0:$e.url)===(null==(Ct=rn.initSegment)?void 0:Ct.url)),Ti=new Tl(En,ci,te,kn,Gt,mi);if(!ci||En||mi){j.log(`[transmuxer-interface, ${b.type}]: Starting new transmux session for sn: ${se.sn} p: ${se.part} level: ${se.level} id: ${se.id}\n        discontinuity: ${En}\n        trackSwitch: ${kn}\n        contiguous: ${ci}\n        accurateTimeOffset: ${te}\n        timeOffset: ${Gt}\n        initSegmentChange: ${mi}`);const qn=new Ul(l,h,t,H,We);this.configureTransmuxer(qn)}if(this.frag=b,this.part=N,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:i,decryptdata:Wt,chunkMeta:se,state:Ti},i instanceof ArrayBuffer?[i]:[]);else if(xt){const qn=xt.push(i,Wt,se,Ti);Eo(qn)?(xt.async=!0,qn.then(Qi=>{this.handleTransmuxComplete(Qi)}).catch(Qi=>{this.transmuxerError(Qi,se,"transmuxer-interface push error")})):(xt.async=!1,this.handleTransmuxComplete(qn))}}flush(i){i.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:i});else if(t){let l=t.flush(i);Eo(l)||t.async?(Eo(l)||(l=Promise.resolve(l)),l.then(b=>{this.handleFlushResult(b,i)}).catch(b=>{this.transmuxerError(b,i,"transmuxer-interface flush error")})):this.handleFlushResult(l,i)}}transmuxerError(i,t,l){this.hls&&(this.error=i,this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:i,err:i,reason:l}))}handleFlushResult(i,t){i.forEach(l=>{this.handleTransmuxComplete(l)}),this.onFlush(t)}onWorkerMessage(i){const t=i.data,l=this.hls;switch(t.event){case"init":{var h;const b=null==(h=this.workerContext)?void 0:h.objectURL;b&&self.URL.revokeObjectURL(b);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":j[t.data.logType]&&j[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,l.trigger(t.event,t.data)}}configureTransmuxer(i){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:i}):t&&t.configure(i)}handleTransmuxComplete(i){i.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(i)}}class sc{constructor(i,t,l,h){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=i,this.media=t,this.fragmentTracker=l,this.hls=h}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(i,t){const{config:l,media:h,stalled:b}=this;if(null===h)return;const{currentTime:N,seeking:H}=h,te=this.seeking&&!H,se=!this.seeking&&H;if(this.seeking=H,N!==i){if(this.moved=!0,null!==b){if(this.stallReported){const En=self.performance.now()-b;j.warn(`playback not stuck anymore @${N}, after ${Math.round(En)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(se||te)return void(this.stalled=null);if(h.paused&&!H||h.ended||0===h.playbackRate||!_r.getBuffered(h).length)return;const We=_r.bufferInfo(h,N,0),Ct=We.nextStart||0;if(!(We.len>0||Ct))return;if(H){const En=We.len>2,kn=!Ct||t&&t.start<=N||Ct-N>2&&!this.fragmentTracker.getPartialFragment(N);if(En||kn)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var xt;const En=Math.max(Ct,We.start||0)-N,kn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,zn=(null==kn||null==(xt=kn.details)?void 0:xt.live)?2*kn.details.targetduration:2,Yn=this.fragmentTracker.getPartialFragment(N);if(En>0&&(En<=zn||Yn))return void this._trySkipBufferHole(Yn)}const Gt=self.performance.now();if(null===b)return void(this.stalled=Gt);const Wt=Gt-b;if(!H&&Wt>=250&&(this._reportStall(We),!this.media))return;const rn=_r.bufferInfo(h,N,l.maxBufferHole);this._tryFixBufferStall(rn,Wt)}_tryFixBufferStall(i,t){const{config:l,fragmentTracker:h,media:b}=this;if(null===b)return;const N=b.currentTime,H=h.getPartialFragment(N);H&&(this._trySkipBufferHole(H)||!this.media)||(i.len>l.maxBufferHole||i.nextStart&&i.nextStart-N<l.maxBufferHole)&&t>1e3*l.highBufferWatchdogPeriod&&(j.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(i){const{hls:t,media:l,stallReported:h}=this;if(!h&&l){this.stallReported=!0;const b=new Error(`Playback stalling at @${l.currentTime} due to low buffer (${JSON.stringify(i)})`);j.warn(b.message),t.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_STALLED_ERROR,fatal:!1,error:b,buffer:i.len})}}_trySkipBufferHole(i){const{config:t,hls:l,media:h}=this;if(null===h)return 0;const b=h.currentTime,N=_r.bufferInfo(h,b,0),H=b<N.start?N.start:N.nextStart;if(H){const We=H-b;if(We>0&&(N.len<=t.maxBufferHole||N.len>0&&N.len<1&&h.readyState<3)){if(We>t.maxBufferHole){const{fragmentTracker:Ct}=this;let xt=!1;if(0===b){const Gt=Ct.getAppendedFrag(0,"main");Gt&&H<Gt.end&&(xt=!0)}if(!xt){const Gt=i||Ct.getAppendedFrag(b,"main");if(Gt){let Wt=!1,rn=Gt.end;for(;rn<H;){const En=Ct.getPartialFragment(rn);if(!En){Wt=!0;break}rn+=En.duration}if(Wt)return 0}}}const $e=Math.max(H+.05,b+.1);if(j.warn(`skipping hole, adjusting currentTime from ${b} to ${$e}`),this.moved=!0,this.stalled=null,h.currentTime=$e,i&&!i.gap){const Ct=new Error(`fragment loaded with buffer holes, seeking from ${b} to ${$e}`);l.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Ct,reason:Ct.message,frag:i})}return $e}}return 0}_tryNudgeBuffer(){const{config:i,hls:t,media:l,nudgeRetry:h}=this;if(null===l)return;const b=l.currentTime;if(this.nudgeRetry++,h<i.nudgeMaxRetry){const N=b+(h+1)*i.nudgeOffset,H=new Error(`Nudging 'currentTime' from ${b} to ${N}`);j.warn(H.message),l.currentTime=N,t.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_NUDGE_ON_STALL,error:H,fatal:!1})}else{const N=new Error(`Playhead still not moving while enough data buffered @${b} after ${i.nudgeMaxRetry} nudges`);j.error(N.message),t.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_STALLED_ERROR,error:N,fatal:!0})}}}class Nc extends us{constructor(i,t,l){super(i,t,l,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_PARSED,this.onManifestParsed,this),i.on(T.LEVEL_LOADING,this.onLevelLoading,this),i.on(T.LEVEL_LOADED,this.onLevelLoaded,this),i.on(T.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.on(T.ERROR,this.onError,this),i.on(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(T.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(T.BUFFER_CREATED,this.onBufferCreated,this),i.on(T.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(T.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_PARSED,this.onManifestParsed,this),i.off(T.LEVEL_LOADED,this.onLevelLoaded,this),i.off(T.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.off(T.ERROR,this.onError,this),i.off(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(T.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(T.BUFFER_CREATED,this.onBufferCreated,this),i.off(T.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(T.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(i){if(this.levels){const{lastCurrentTime:t,hls:l}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let h=l.startLevel;-1===h&&(l.config.testBandwidth&&this.levels.length>1?(h=0,this.bitrateTest=!0):h=l.nextAutoLevel),this.level=l.nextLoadLevel=h,this.loadedmetadata=!1}t>0&&-1===i&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),i=t),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var i;const{levels:l,level:h}=this,b=null==l||null==(i=l[h])?void 0:i.details;if(b&&(!b.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(b))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var t;const l=self.performance.now(),h=this.retryDate;(!h||l>=h||null!=(t=this.media)&&t.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:i,levelLastLoaded:t,levels:l,media:h}=this,{config:b,nextLoadLevel:N}=i;if(null===t||!h&&(this.startFragRequested||!b.startFragPrefetch)||this.altAudio&&this.audioOnly||null==l||!l[N])return;const H=l[N],te=this.getMainFwdBufferInfo();if(null===te)return;const se=this.getLevelDetails();if(se&&this._streamEnded(te,se)){const rn={};return this.altAudio&&(rn.type="video"),this.hls.trigger(T.BUFFER_EOS,rn),void(this.state="ENDED")}i.loadLevel!==N&&-1===i.manualLevel&&this.log(`Adapting to level ${N} from level ${this.level}`),this.level=i.nextLoadLevel=N;const We=H.details;if(!We||"WAITING_LEVEL"===this.state||We.live&&this.levelLastLoaded!==N)return this.level=N,void(this.state="WAITING_LEVEL");const $e=te.len,Ct=this.getMaxBufferLength(H.maxBitrate);if($e>=Ct)return;this.backtrackFragment&&this.backtrackFragment.start>te.end&&(this.backtrackFragment=null);const xt=this.backtrackFragment?this.backtrackFragment.start:te.end;let Gt=this.getNextFragment(xt,We);if(this.couldBacktrack&&!this.fragPrevious&&Gt&&"initSegment"!==Gt.sn&&"OK"!==this.fragmentTracker.getState(Gt)){var Wt;const En=(null!=(Wt=this.backtrackFragment)?Wt:Gt).sn-We.startSN,kn=We.fragments[En-1];kn&&Gt.cc===kn.cc&&(Gt=kn,this.fragmentTracker.removeFragment(kn))}else this.backtrackFragment&&te.len&&(this.backtrackFragment=null);if(Gt&&this.isLoopLoading(Gt,xt)){if(!Gt.gap){const En=this.audioOnly&&!this.altAudio?"audio":"video",kn=("video"===En?this.videoBuffer:this.mediaBuffer)||this.media;kn&&this.afterBufferFlushed(kn,En,"main")}Gt=this.getNextFragmentLoopLoading(Gt,We,te,"main",Ct)}Gt&&(Gt.initSegment&&!Gt.initSegment.data&&!this.bitrateTest&&(Gt=Gt.initSegment),this.loadFragment(Gt,H,xt))}loadFragment(i,t,l){const h=this.fragmentTracker.getState(i);this.fragCurrent=i,"NOT_LOADED"===h||"PARTIAL"===h?"initSegment"===i.sn?this._loadInitSegment(i,t):this.bitrateTest?(this.log(`Fragment ${i.sn} of level ${i.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(i,t)):(this.startFragRequested=!0,super.loadFragment(i,t,l)):this.clearTrackerIfNeeded(i)}getBufferedFrag(i){return this.fragmentTracker.getBufferedFrag(i,"main")}followingBufferedFrag(i){return i?this.getBufferedFrag(i.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:i,media:t}=this;if(null!=t&&t.readyState){let l;const h=this.getAppendedFrag(t.currentTime);h&&h.start>1&&this.flushMainBuffer(0,h.start-1);const b=this.getLevelDetails();if(null!=b&&b.live){const H=this.getMainFwdBufferInfo();if(!H||H.len<2*b.targetduration)return}if(!t.paused&&i){const se=this.fragLastKbps;l=se&&this.fragCurrent?this.fragCurrent.duration*i[this.hls.nextLoadLevel].maxBitrate/(1e3*se)+1:0}else l=0;const N=this.getBufferedFrag(t.currentTime+l);if(N){const H=this.followingBufferedFrag(N);if(H){this.abortCurrentFrag();const se=H.duration,We=Math.max(N.end,(H.maxStartPTS?H.maxStartPTS:H.start)+Math.min(Math.max(se-this.config.maxFragLookUpTolerance,.5*se),.75*se));this.flushMainBuffer(We,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const i=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,i&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(i,t){super.flushMainBuffer(i,t,this.altAudio?"video":null)}onMediaAttached(i,t){super.onMediaAttached(i,t);const l=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),l.addEventListener("playing",this.onvplaying),l.addEventListener("seeked",this.onvseeked),this.gapController=new sc(this.config,l,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:i}=this;i&&this.onvplaying&&this.onvseeked&&(i.removeEventListener("playing",this.onvplaying),i.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const i=this.media,t=i?i.currentTime:null;D(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const l=this.getMainFwdBufferInfo();null!==l&&0!==l.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${l?l.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(T.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(i,t){let b,l=!1,h=!1;t.levels.forEach(N=>{b=N.audioCodec,b&&(-1!==b.indexOf("mp4a.40.2")&&(l=!0),-1!==b.indexOf("mp4a.40.5")&&(h=!0))}),this.audioCodecSwitch=l&&h&&!function Wa(){var p;const i=_a();return"function"==typeof(null==i||null==(p=i.prototype)?void 0:p.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(i,t){const{levels:l}=this;if(!l||"IDLE"!==this.state)return;const h=l[t.level];(!h.details||h.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(h.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(i,t){var l;const{levels:h}=this,b=t.level,N=t.details,H=N.totalduration;if(!h)return void this.warn(`Levels were reset while loading level ${b}`);this.log(`Level ${b} loaded [${N.startSN},${N.endSN}]${N.lastPartSn?`[part-${N.lastPartSn}-${N.lastPartIndex}]`:""}, cc [${N.startCC}, ${N.endCC}] duration:${H}`);const te=h[b],se=this.fragCurrent;se&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(se.level!==t.level||se.urlId!==te.urlId)&&se.loader&&this.abortCurrentFrag();let We=0;if(N.live||null!=(l=te.details)&&l.live){if(N.fragments[0]||(N.deltaUpdateFailed=!0),N.deltaUpdateFailed)return;We=this.alignPlaylists(N,te.details)}if(te.details=N,this.levelLastLoaded=b,this.hls.trigger(T.LEVEL_UPDATED,{details:N,level:b}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(N))return;this.state="IDLE"}this.startFragRequested?N.live&&this.synchronizeToLiveEdge(N):this.setStartPosition(N,We),this.tick()}_handleFragmentLoadProgress(i){var t;const{frag:l,part:h,payload:b}=i,{levels:N}=this;if(!N)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${l.sn} of level ${l.level} will not be buffered`);const H=N[l.level],te=H.details;if(!te)return this.warn(`Dropping fragment ${l.sn} of level ${l.level} after level details were reset`),void this.fragmentTracker.removeFragment(l);const se=H.videoCodec,We=te.PTSKnown||!te.live,$e=null==(t=l.initSegment)?void 0:t.data,Ct=this._getAudioCodec(H),xt=this.transmuxer=this.transmuxer||new qs(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Gt=h?h.index:-1,rn=new ar(l.level,l.sn,l.stats.chunkCount,b.byteLength,Gt,-1!==Gt);xt.push(b,$e,Ct,se,l,h,te.totalduration,We,rn,this.initPTS[l.cc])}onAudioTrackSwitching(i,t){const l=this.altAudio;if(!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const N=this.fragCurrent;N&&(this.log("Switching to main audio track, cancel main fragment load"),N.abortRequests(),this.fragmentTracker.removeFragment(N)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const b=this.hls;l&&(b.trigger(T.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),b.trigger(T.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(i,t){const h=!!this.hls.audioTracks[t.id].url;if(h){const b=this.videoBuffer;b&&this.mediaBuffer!==b&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=b)}this.altAudio=h,this.tick()}onBufferCreated(i,t){const l=t.tracks;let h,b,N=!1;for(const H in l){const te=l[H];if("main"===te.id){if(b=H,h=te,"video"===H){const se=l[H];se&&(this.videoBuffer=se.buffer)}}else N=!0}N&&h?(this.log(`Alternate track found, use ${b}.buffered to schedule main fragment loading`),this.mediaBuffer=h.buffer):this.mediaBuffer=this.media}onFragBuffered(i,t){const{frag:l,part:h}=t;if(l&&"main"!==l.type)return;if(this.fragContextChanged(l))return this.warn(`Fragment ${l.sn}${h?" p: "+h.index:""} of level ${l.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const b=h?h.stats:l.stats;this.fragLastKbps=Math.round(8*b.total/(b.buffering.end-b.loading.first)),"initSegment"!==l.sn&&(this.fragPrevious=l),this.fragBufferedComplete(l,h)}onError(i,t){var l;if(t.fatal)this.state="ERROR";else switch(t.details){case O.FRAG_GAP:case O.FRAG_PARSING_ERROR:case O.FRAG_DECRYPT_ERROR:case O.FRAG_LOAD_ERROR:case O.FRAG_LOAD_TIMEOUT:case O.KEY_LOAD_ERROR:case O.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",t);break;case O.LEVEL_LOAD_ERROR:case O.LEVEL_LOAD_TIMEOUT:case O.LEVEL_PARSING_ERROR:!t.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(l=t.context)?void 0:l.type)&&(this.state="IDLE");break;case O.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case O.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:i,gapController:t}=this;i&&t&&i.readyState&&(!this.loadedmetadata&&_r.getBuffered(i).length||t.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=i.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(i,{type:t}){("audio"!==t||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===t?this.videoBuffer:this.mediaBuffer)||this.media,t,"main")}onLevelsUpdated(i,t){this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:i}=this;if(!i)return;const t=i.currentTime;let l=this.startPosition;if(l>=0&&t<l){if(i.seeking)return void this.log(`could not seek to ${l}, already seeking at ${t}`);const h=_r.getBuffered(i),N=(h.length?h.start(0):0)-l;N>0&&(N<this.config.maxBufferHole||N<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${N} to match buffer start`),l+=N,this.startPosition=l),this.log(`seek to target start position ${l} from current time ${t}`),i.currentTime=l}}_getAudioCodec(i){let t=this.config.defaultAudioCodec||i.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(i,t){i.bitrateTest=!0,this._doFragLoad(i,t).then(l=>{const{hls:h}=this;if(!l||this.fragContextChanged(i))return;t.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const b=i.stats;b.parsing.start=b.parsing.end=b.buffering.start=b.buffering.end=self.performance.now(),h.trigger(T.FRAG_LOADED,l),i.bitrateTest=!1})}_handleTransmuxComplete(i){var t;const l="main",{hls:h}=this,{remuxResult:b,chunkMeta:N}=i,H=this.getCurrentContext(N);if(!H)return void this.resetWhenMissingContext(N);const{frag:te,part:se,level:We}=H,{video:$e,text:Ct,id3:xt,initSegment:Gt}=b,{details:Wt}=We,rn=this.altAudio?void 0:b.audio;if(this.fragContextChanged(te))this.fragmentTracker.removeFragment(te);else{if(this.state="PARSING",Gt){if(null!=Gt&&Gt.tracks){const Pn=te.initSegment||te;this._bufferInitSegment(We,Gt.tracks,Pn,N),h.trigger(T.FRAG_PARSING_INIT_SEGMENT,{frag:Pn,id:l,tracks:Gt.tracks})}const En=Gt.initPTS,kn=Gt.timescale;D(En)&&(this.initPTS[te.cc]={baseTime:En,timescale:kn},h.trigger(T.INIT_PTS_FOUND,{frag:te,id:l,initPTS:En,timescale:kn}))}if($e&&Wt&&"initSegment"!==te.sn){const En=Wt.fragments[te.sn-1-Wt.startSN],kn=te.sn===Wt.startSN,Pn=!En||te.cc>En.cc;if(!1!==b.independent){const{startPTS:zn,endPTS:Yn,startDTS:ci,endDTS:Xn}=$e;if(se)se.elementaryStreams[$e.type]={startPTS:zn,endPTS:Yn,startDTS:ci,endDTS:Xn};else if($e.firstKeyFrame&&$e.independent&&1===N.id&&!Pn&&(this.couldBacktrack=!0),$e.dropped&&$e.independent){const mi=this.getMainFwdBufferInfo(),Ti=(mi?mi.end:this.getLoadPosition())+this.config.maxBufferHole;if(!kn&&Ti<($e.firstKeyFramePTS?$e.firstKeyFramePTS:zn)-this.config.maxBufferHole&&!Pn)return void this.backtrack(te);Pn&&(te.gap=!0),te.setElementaryStreamInfo($e.type,te.start,Yn,te.start,Xn,!0)}te.setElementaryStreamInfo($e.type,zn,Yn,ci,Xn),this.backtrackFragment&&(this.backtrackFragment=te),this.bufferFragmentData($e,te,se,N,kn||Pn)}else{if(!kn&&!Pn)return void this.backtrack(te);te.gap=!0}}if(rn){const{startPTS:En,endPTS:kn,startDTS:Pn,endDTS:zn}=rn;se&&(se.elementaryStreams.audio={startPTS:En,endPTS:kn,startDTS:Pn,endDTS:zn}),te.setElementaryStreamInfo("audio",En,kn,Pn,zn),this.bufferFragmentData(rn,te,se,N)}Wt&&null!=xt&&null!=(t=xt.samples)&&t.length&&h.trigger(T.FRAG_PARSING_METADATA,{id:l,frag:te,details:Wt,samples:xt.samples}),Wt&&Ct&&h.trigger(T.FRAG_PARSING_USERDATA,{id:l,frag:te,details:Wt,samples:Ct.samples})}}_bufferInitSegment(i,t,l,h){if("PARSING"!==this.state)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:b,video:N,audiovideo:H}=t;if(b){let te=i.audioCodec;const se=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(te&&(te=-1!==te.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==b.metadata.channelCount&&-1===se.indexOf("firefox")&&(te="mp4a.40.5")),-1!==se.indexOf("android")&&"audio/mpeg"!==b.container&&(te="mp4a.40.2",this.log(`Android: force audio codec to ${te}`)),i.audioCodec&&i.audioCodec!==te&&this.log(`Swapping manifest audio codec "${i.audioCodec}" for "${te}"`),b.levelCodec=te,b.id="main",this.log(`Init audio buffer, container:${b.container}, codecs[selected/level/parsed]=[${te||""}/${i.audioCodec||""}/${b.codec}]`)}N&&(N.levelCodec=i.videoCodec,N.id="main",this.log(`Init video buffer, container:${N.container}, codecs[level/parsed]=[${i.videoCodec||""}/${N.codec}]`)),H&&this.log(`Init audiovideo buffer, container:${H.container}, codecs[level/parsed]=[${i.attrs.CODECS||""}/${H.codec}]`),this.hls.trigger(T.BUFFER_CODECS,t),Object.keys(t).forEach(te=>{const We=t[te].initSegment;null!=We&&We.byteLength&&this.hls.trigger(T.BUFFER_APPENDING,{type:te,data:We,frag:l,part:null,chunkMeta:h,parent:l.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(i){this.couldBacktrack=!0,this.backtrackFragment=i,this.resetTransmuxer(),this.flushBufferGap(i),this.fragmentTracker.removeFragment(i),this.fragPrevious=null,this.nextLoadPosition=i.start,this.state="IDLE"}checkFragmentChanged(){const i=this.media;let t=null;if(i&&i.readyState>1&&!1===i.seeking){const l=i.currentTime;if(_r.isBuffered(i,l)?t=this.getAppendedFrag(l):_r.isBuffered(i,l+.1)&&(t=this.getAppendedFrag(l+.1)),t){this.backtrackFragment=null;const h=this.fragPlaying,b=t.level;(!h||t.sn!==h.sn||h.level!==b||t.urlId!==h.urlId)&&(this.fragPlaying=t,this.hls.trigger(T.FRAG_CHANGED,{frag:t}),(!h||h.level!==b)&&this.hls.trigger(T.LEVEL_SWITCHED,{level:b}))}}}get nextLevel(){const i=this.nextBufferedFrag;return i?i.level:-1}get currentFrag(){const i=this.media;return i?this.fragPlaying||this.getAppendedFrag(i.currentTime):null}get currentProgramDateTime(){const i=this.media;if(i){const t=i.currentTime,l=this.currentFrag;if(l&&D(t)&&D(l.programDateTime))return new Date(l.programDateTime+1e3*(t-l.start))}return null}get currentLevel(){const i=this.currentFrag;return i?i.level:-1}get nextBufferedFrag(){const i=this.currentFrag;return i?this.followingBufferedFrag(i):null}get forceStartLoad(){return this._forceStartLoad}}class Pa{constructor(i,t=0,l=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=i,this.alpha_=i?Math.exp(Math.log(.5)/i):0,this.estimate_=t,this.totalWeight_=l}sample(i,t){const l=Math.pow(this.alpha_,i);this.estimate_=t*(1-l)+l*this.estimate_,this.totalWeight_+=i}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const i=1-Math.pow(this.alpha_,this.totalWeight_);if(i)return this.estimate_/i}return this.estimate_}}class Lc{constructor(i,t,l,h=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=l,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Pa(i),this.fast_=new Pa(t),this.defaultTTFB_=h,this.ttfb_=new Pa(i)}update(i,t){const{slow_:l,fast_:h,ttfb_:b}=this;l.halfLife!==i&&(this.slow_=new Pa(i,l.getEstimate(),l.getTotalWeight())),h.halfLife!==t&&(this.fast_=new Pa(t,h.getEstimate(),h.getTotalWeight())),b.halfLife!==i&&(this.ttfb_=new Pa(i,b.getEstimate(),b.getTotalWeight()))}sample(i,t){const h=(i=Math.max(i,this.minDelayMs_))/1e3,b=8*t/h;this.fast_.sample(h,b),this.slow_.sample(h,b)}sampleTTFB(i){const t=i/1e3,l=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(l,Math.max(i,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class $o{constructor(){this.chunks=[],this.dataLength=0}push(i){this.chunks.push(i),this.dataLength+=i.length}flush(){const{chunks:i,dataLength:t}=this;let l;return i.length?(l=1===i.length?i[0]:function Yr(p,i){const t=new Uint8Array(i);let l=0;for(let h=0;h<p.length;h++){const b=p[h];t.set(b,l),l+=b.length}return t}(i,t),this.reset(),l):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Je(p,i){if(p.length!==i.length)return!1;for(let t=0;t<p.length;t++)if(!Nt(p[t].attrs,i[t].attrs))return!1;return!0}function Nt(p,i){const t=p["STABLE-RENDITION-ID"];return t?t===i["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(l=>p[l]!==i[l])}class Rn{constructor(i){this.buffered=void 0;const t=(l,h,b)=>{if((h>>>=0)>b-1)throw new DOMException(`Failed to execute '${l}' on 'TimeRanges': The index provided (${h}) is greater than the maximum bound (${b})`);return i[h][l]};this.buffered={get length(){return i.length},end:l=>t("end",l,i.length),start:l=>t("start",l,i.length)}}}function wi(p){const i=[];for(let t=0;t<p.length;t++){const l=p[t];("subtitles"===l.kind||"captions"===l.kind)&&l.label&&i.push(p[t])}return i}class Li{constructor(i){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=i}append(i,t){const l=this.queues[t];l.push(i),1===l.length&&this.buffers[t]&&this.executeNext(t)}insertAbort(i,t){this.queues[t].unshift(i),this.executeNext(t)}appendBlocker(i){let t;const l=new Promise(b=>{t=b});return this.append({execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}},i),l}executeNext(i){const{buffers:t,queues:l}=this,h=t[i],b=l[i];if(b.length){const N=b[0];try{N.execute()}catch(H){j.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),N.onError(H),null!=h&&h.updating||(b.shift(),this.executeNext(i))}}}shiftAndExecuteNext(i){this.queues[i].shift(),this.executeNext(i)}current(i){return this.queues[i][0]}}const fr=Ln(),Bo=/([ha]vc.)(?:\.[^.,]+)+/,Ss={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Xs=function(i){let t=i;return Ss.hasOwnProperty(i)&&(t=Ss[i]),String.fromCharCode(t)},To=100,nl={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ea={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ac={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ta={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Sl=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class wd{constructor(){this.time=null,this.verboseLevel=0}log(i,t){if(this.verboseLevel>=i){const l="function"==typeof t?t():t;j.log(`${this.time} [${i}] ${l}`)}}}const ea=function(i){const t=[];for(let l=0;l<i.length;l++)t.push(i[l].toString(16));return t};class Od{constructor(i,t,l,h,b){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=i||"white",this.underline=t||!1,this.italics=l||!1,this.background=h||"black",this.flash=b||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(i){const t=["foreground","underline","italics","background","flash"];for(let l=0;l<t.length;l++){const h=t[l];i.hasOwnProperty(h)&&(this[h]=i[h])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(i){return this.foreground===i.foreground&&this.underline===i.underline&&this.italics===i.italics&&this.background===i.background&&this.flash===i.flash}copy(i){this.foreground=i.foreground,this.underline=i.underline,this.italics=i.italics,this.background=i.background,this.flash=i.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Cr{constructor(i,t,l,h,b,N){this.uchar=void 0,this.penState=void 0,this.uchar=i||" ",this.penState=new Od(t,l,h,b,N)}reset(){this.uchar=" ",this.penState.reset()}setChar(i,t){this.uchar=i,this.penState.copy(t)}setPenState(i){this.penState.copy(i)}equals(i){return this.uchar===i.uchar&&this.penState.equals(i.penState)}copy(i){this.uchar=i.uchar,this.penState.copy(i.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class lc{constructor(i){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let t=0;t<To;t++)this.chars.push(new Cr);this.logger=i,this.pos=0,this.currPenState=new Od}equals(i){let t=!0;for(let l=0;l<To;l++)if(!this.chars[l].equals(i.chars[l])){t=!1;break}return t}copy(i){for(let t=0;t<To;t++)this.chars[t].copy(i.chars[t])}isEmpty(){let i=!0;for(let t=0;t<To;t++)if(!this.chars[t].isEmpty()){i=!1;break}return i}setCursor(i){this.pos!==i&&(this.pos=i),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>To&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=To)}moveCursor(i){const t=this.pos+i;if(i>1)for(let l=this.pos+1;l<t+1;l++)this.chars[l].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(i){i>=144&&this.backSpace();const t=Xs(i);this.pos>=To?this.logger.log(0,()=>"Cannot insert "+i.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(i){let t;for(t=i;t<To;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const i=[];let t=!0;for(let l=0;l<To;l++){const h=this.chars[l].uchar;" "!==h&&(t=!1),i.push(h)}return t?"":i.join("")}setPenStyles(i){this.currPenState.setStyles(i),this.chars[this.pos].setPenState(this.currPenState)}}class Jo{constructor(i){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let t=0;t<15;t++)this.rows.push(new lc(i));this.logger=i,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let i=0;i<15;i++)this.rows[i].clear();this.currRow=14}equals(i){let t=!0;for(let l=0;l<15;l++)if(!this.rows[l].equals(i.rows[l])){t=!1;break}return t}copy(i){for(let t=0;t<15;t++)this.rows[t].copy(i.rows[t])}isEmpty(){let i=!0;for(let t=0;t<15;t++)if(!this.rows[t].isEmpty()){i=!1;break}return i}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(i){this.rows[this.currRow].insertChar(i)}setPen(i){this.rows[this.currRow].setPenStyles(i)}moveCursor(i){this.rows[this.currRow].moveCursor(i)}setCursor(i){this.logger.log(2,"setCursor: "+i),this.rows[this.currRow].setCursor(i)}setPAC(i){this.logger.log(2,()=>"pacData = "+JSON.stringify(i));let t=i.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let H=0;H<15;H++)this.rows[H].clear();const b=this.currRow+1-this.nrRollUpRows,N=this.lastOutputScreen;if(N){const H=N.rows[b].cueStartTime,te=this.logger.time;if(H&&null!==te&&H<te)for(let se=0;se<this.nrRollUpRows;se++)this.rows[t-this.nrRollUpRows+se+1].copy(N.rows[b+se])}}this.currRow=t;const l=this.rows[this.currRow];if(null!==i.indent){const N=Math.max(i.indent-1,0);l.setCursor(i.indent),i.color=l.chars[N].penState.foreground}this.setPen({foreground:i.color,underline:i.underline,italics:i.italics,background:"black",flash:!1})}setBkgData(i){this.logger.log(2,()=>"bkgData = "+JSON.stringify(i)),this.backSpace(),this.setPen(i),this.insertChar(32)}setRollUpRows(i){this.nrRollUpRows=i}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const t=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(i){i=i||!1;const t=[];let l="",h=-1;for(let b=0;b<15;b++){const N=this.rows[b].getTextString();N&&(h=b+1,t.push(i?"Row "+h+": '"+N+"'":N.trim()))}return t.length>0&&(l=i?"["+t.join(" | ")+"]":t.join("\n")),l}getTextAndFormat(){return this.rows}}class kc{constructor(i,t,l){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=i,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Jo(l),this.nonDisplayedMemory=new Jo(l),this.lastOutputScreen=new Jo(l),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=l}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(i){this.outputFilter=i}setPAC(i){this.writeScreen.setPAC(i)}setBkgData(i){this.writeScreen.setBkgData(i)}setMode(i){i!==this.mode&&(this.mode=i,this.logger.log(2,()=>"MODE="+i),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=i)}insertChars(i){for(let l=0;l<i.length;l++)this.writeScreen.insertChar(i[l]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(i){this.logger.log(2,"RU("+i+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(i)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const i=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=i,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(i){this.logger.log(2,"TO("+i+") - Tab Offset"),this.writeScreen.moveCursor(i)}ccMIDROW(i){const t={flash:!1};if(t.underline=i%2==1,t.italics=i>=46,t.italics)t.foreground="white";else{const l=Math.floor(i/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][l]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(i=!1){const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),i&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(i){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,i,this.displayedMemory),this.cueStartTime=i))}}class Ra{constructor(i,t,l){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const h=new wd;this.channels=[null,new kc(i,t,h),new kc(i+1,l,h)],this.cmdHistory={a:null,b:null},this.logger=h}getHandler(i){return this.channels[i].getHandler()}setHandler(i,t){this.channels[i].setHandler(t)}addData(i,t){let l,h,b,N=!1;this.logger.time=i;for(let H=0;H<t.length;H+=2)if(h=127&t[H],b=127&t[H+1],0!==h||0!==b){if(this.logger.log(3,"["+ea([t[H],t[H+1]])+"] -> ("+ea([h,b])+")"),l=this.parseCmd(h,b),l||(l=this.parseMidrow(h,b)),l||(l=this.parsePAC(h,b)),l||(l=this.parseBackgroundAttributes(h,b)),!l&&(N=this.parseChars(h,b),N)){const te=this.currentChannel;te&&te>0?this.channels[te].insertChars(N):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!l&&!N&&this.logger.log(2,"Couldn't parse cleaned data "+ea([h,b])+" orig: "+ea([t[H],t[H+1]]))}}parseCmd(i,t){const{cmdHistory:l}=this;if(!((20===i||28===i||21===i||29===i)&&t>=32&&t<=47||(23===i||31===i)&&t>=33&&t<=35))return!1;if(Na(i,t,l))return Os(null,null,l),this.logger.log(3,"Repeated command ("+ea([i,t])+") is dropped"),!0;const N=20===i||21===i||23===i?1:2,H=this.channels[N];return 20===i||21===i||28===i||29===i?32===t?H.ccRCL():33===t?H.ccBS():34===t?H.ccAOF():35===t?H.ccAON():36===t?H.ccDER():37===t?H.ccRU(2):38===t?H.ccRU(3):39===t?H.ccRU(4):40===t?H.ccFON():41===t?H.ccRDC():42===t?H.ccTR():43===t?H.ccRTD():44===t?H.ccEDM():45===t?H.ccCR():46===t?H.ccENM():47===t&&H.ccEOC():H.ccTO(t-32),Os(i,t,l),this.currentChannel=N,!0}parseMidrow(i,t){let l=0;if((17===i||25===i)&&t>=32&&t<=47){if(l=17===i?1:2,l!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const h=this.channels[l];return!!h&&(h.ccMIDROW(t),this.logger.log(3,"MIDROW ("+ea([i,t])+")"),!0)}return!1}parsePAC(i,t){let l;const h=this.cmdHistory;if(!((i>=17&&i<=23||i>=25&&i<=31)&&t>=64&&t<=127||(16===i||24===i)&&t>=64&&t<=95))return!1;if(Na(i,t,h))return Os(null,null,h),!0;const H=i<=23?1:2;l=t>=64&&t<=95?1===H?nl[i]:ac[i]:1===H?Ea[i]:Ta[i];const te=this.channels[H];return!!te&&(te.setPAC(this.interpretPAC(l,t)),Os(i,t,h),this.currentChannel=H,!0)}interpretPAC(i,t){let l;const h={color:null,italics:!1,indent:null,underline:!1,row:i};return l=t>95?t-96:t-64,h.underline=1==(1&l),l<=13?h.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(l/2)]:l<=15?(h.italics=!0,h.color="white"):h.indent=4*Math.floor((l-16)/2),h}parseChars(i,t){let l,h=null,b=null;if(i>=25?(l=2,b=i-8):(l=1,b=i),b>=17&&b<=19){let N;N=17===b?t+80:18===b?t+112:t+144,this.logger.log(2,"Special char '"+Xs(N)+"' in channel "+l),h=[N]}else i>=32&&i<=127&&(h=0===t?[i]:[i,t]);if(h){const N=ea(h);this.logger.log(3,"Char codes =  "+N.join(",")),Os(i,t,this.cmdHistory)}return h}parseBackgroundAttributes(i,t){if(!((16===i||24===i)&&t>=32&&t<=47||(23===i||31===i)&&t>=45&&t<=47))return!1;let b;const N={};return 16===i||24===i?(b=Math.floor((t-32)/2),N.background=Sl[b],t%2==1&&(N.background=N.background+"_semi")):45===t?N.background="transparent":(N.foreground="black",47===t&&(N.underline=!0)),this.channels[i<=23?1:2].setBkgData(N),Os(i,t,this.cmdHistory),!0}reset(){for(let i=0;i<Object.keys(this.channels).length;i++){const t=this.channels[i];t&&t.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(i){for(let t=0;t<this.channels.length;t++){const l=this.channels[t];l&&l.cueSplitAtTime(i)}}}function Os(p,i,t){t.a=p,t.b=i}function Na(p,i,t){return t.a===p&&t.b===i}class os{constructor(i,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=i,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(i,t,l){(null===this.startTime||this.startTime>i)&&(this.startTime=i),this.endTime=t,this.screen=l,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var ta=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const p=["","lr","rl"],i=["start","middle","end","left","right"];function t(H,te){if("string"!=typeof te||!Array.isArray(H))return!1;const se=te.toLowerCase();return!!~H.indexOf(se)&&se}function h(H){return t(i,H)}function b(H,...te){let se=1;for(;se<arguments.length;se++){const We=arguments[se];for(const $e in We)H[$e]=We[$e]}return H}function N(H,te,se){const We=this,$e={enumerable:!0};We.hasBeenReset=!1;let Ct="",xt=!1,Gt=H,Wt=te,rn=se,En=null,kn="",Pn=!0,zn="auto",Yn="start",ci=50,Xn="middle",mi=50,Ti="middle";Object.defineProperty(We,"id",b({},$e,{get:function(){return Ct},set:function(qn){Ct=""+qn}})),Object.defineProperty(We,"pauseOnExit",b({},$e,{get:function(){return xt},set:function(qn){xt=!!qn}})),Object.defineProperty(We,"startTime",b({},$e,{get:function(){return Gt},set:function(qn){if("number"!=typeof qn)throw new TypeError("Start time must be set to a number.");Gt=qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"endTime",b({},$e,{get:function(){return Wt},set:function(qn){if("number"!=typeof qn)throw new TypeError("End time must be set to a number.");Wt=qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"text",b({},$e,{get:function(){return rn},set:function(qn){rn=""+qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"region",b({},$e,{get:function(){return En},set:function(qn){En=qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"vertical",b({},$e,{get:function(){return kn},set:function(qn){const Qi=function l(H){return t(p,H)}(qn);if(!1===Qi)throw new SyntaxError("An invalid or illegal string was specified.");kn=Qi,this.hasBeenReset=!0}})),Object.defineProperty(We,"snapToLines",b({},$e,{get:function(){return Pn},set:function(qn){Pn=!!qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"line",b({},$e,{get:function(){return zn},set:function(qn){if("number"!=typeof qn&&"auto"!==qn)throw new SyntaxError("An invalid number or illegal string was specified.");zn=qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"lineAlign",b({},$e,{get:function(){return Yn},set:function(qn){const Qi=h(qn);if(!Qi)throw new SyntaxError("An invalid or illegal string was specified.");Yn=Qi,this.hasBeenReset=!0}})),Object.defineProperty(We,"position",b({},$e,{get:function(){return ci},set:function(qn){if(qn<0||qn>100)throw new Error("Position must be between 0 and 100.");ci=qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"positionAlign",b({},$e,{get:function(){return Xn},set:function(qn){const Qi=h(qn);if(!Qi)throw new SyntaxError("An invalid or illegal string was specified.");Xn=Qi,this.hasBeenReset=!0}})),Object.defineProperty(We,"size",b({},$e,{get:function(){return mi},set:function(qn){if(qn<0||qn>100)throw new Error("Size must be between 0 and 100.");mi=qn,this.hasBeenReset=!0}})),Object.defineProperty(We,"align",b({},$e,{get:function(){return Ti},set:function(qn){const Qi=h(qn);if(!Qi)throw new SyntaxError("An invalid or illegal string was specified.");Ti=Qi,this.hasBeenReset=!0}})),We.displayState=void 0}return N.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},N}();class Pd{decode(i,t){if(!i)return"";if("string"!=typeof i)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(i))}}function Ps(p){function i(l,h,b,N){return 3600*(0|l)+60*(0|h)+(0|b)+parseFloat(N||0)}const t=p.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?i(t[2],t[3],0,t[4]):i(t[1],t[2],t[3],t[4]):null}class Rd{constructor(){this.values=Object.create(null)}set(i,t){!this.get(i)&&""!==t&&(this.values[i]=t)}get(i,t,l){return l?this.has(i)?this.values[i]:t[l]:this.has(i)?this.values[i]:t}has(i){return i in this.values}alt(i,t,l){for(let h=0;h<l.length;++h)if(t===l[h]){this.set(i,t);break}}integer(i,t){/^-?\d+$/.test(t)&&this.set(i,parseInt(t,10))}percent(i,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const l=parseFloat(t);if(l>=0&&l<=100)return this.set(i,l),!0}return!1}}function il(p,i,t,l){const h=l?p.split(l):[p];for(const b in h){if("string"!=typeof h[b])continue;const N=h[b].split(t);2===N.length&&i(N[0],N[1])}}const La=new ta(0,0,""),Cl="middle"===La.align?"middle":"center";function da(p,i,t){const l=p;function h(){const H=Ps(p);if(null===H)throw new Error("Malformed timestamp: "+l);return p=p.replace(/^[^\sa-zA-Z-]+/,""),H}function N(){p=p.replace(/^\s+/,"")}if(N(),i.startTime=h(),N(),"--\x3e"!==p.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+l);p=p.slice(3),N(),i.endTime=h(),N(),function b(H,te){const se=new Rd;il(H,function(Ct,xt){let Gt;switch(Ct){case"region":for(let Wt=t.length-1;Wt>=0;Wt--)if(t[Wt].id===xt){se.set(Ct,t[Wt].region);break}break;case"vertical":se.alt(Ct,xt,["rl","lr"]);break;case"line":Gt=xt.split(","),se.integer(Ct,Gt[0]),se.percent(Ct,Gt[0])&&se.set("snapToLines",!1),se.alt(Ct,Gt[0],["auto"]),2===Gt.length&&se.alt("lineAlign",Gt[1],["start",Cl,"end"]);break;case"position":Gt=xt.split(","),se.percent(Ct,Gt[0]),2===Gt.length&&se.alt("positionAlign",Gt[1],["start",Cl,"end","line-left","line-right","auto"]);break;case"size":se.percent(Ct,xt);break;case"align":se.alt(Ct,xt,["start",Cl,"end","left","right"])}},/:/,/\s/),te.region=se.get("region",null),te.vertical=se.get("vertical","");let We=se.get("line","auto");"auto"===We&&-1===La.line&&(We=-1),te.line=We,te.lineAlign=se.get("lineAlign","start"),te.snapToLines=se.get("snapToLines",!0),te.size=se.get("size",100),te.align=se.get("align",Cl);let $e=se.get("position","auto");"auto"===$e&&50===La.position&&($e="start"===te.align||"left"===te.align?0:"end"===te.align||"right"===te.align?100:50),te.position=$e}(p,i)}function Bc(p){return p.replace(/<br(?: \/)?>/gi,"\n")}class tu{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Pd,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(i){const t=this;function l(){let b=t.buffer,N=0;for(b=Bc(b);N<b.length&&"\r"!==b[N]&&"\n"!==b[N];)++N;const H=b.slice(0,N);return"\r"===b[N]&&++N,"\n"===b[N]&&++N,t.buffer=b.slice(N),H}function h(b){il(b,function(N,H){},/:/)}i&&(t.buffer+=t.decoder.decode(i,{stream:!0}));try{let b="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;b=l();const H=b.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==H||!H[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let N=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(N?N=!1:b=l(),t.state){case"HEADER":/:/.test(b)?h(b):b||(t.state="ID");continue;case"NOTE":b||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(b)){t.state="NOTE";break}if(!b)continue;if(t.cue=new ta(0,0,""),t.state="CUE",-1===b.indexOf("--\x3e")){t.cue.id=b;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{da(b,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const H=-1!==b.indexOf("--\x3e");if(!b||H&&(N=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=b}continue;case"BADCUE":b||(t.state="ID")}}}catch{"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const i=this;try{if((i.cue||"HEADER"===i.state)&&(i.buffer+="\n\n",i.parse()),"INITIAL"===i.state||"BADWEBVTT"===i.state)throw new Error("Malformed WebVTT signature.")}catch(t){i.onparsingerror&&i.onparsingerror(t)}return i.onflush&&i.onflush(),this}}const Dl=/\r\n|\n\r|\n|\r/g,Hl=function(i,t,l=0){return i.slice(l,l+t.length)===t},Gc=function(i){let t=5381,l=i.length;for(;l;)t=33*t^i.charCodeAt(--l);return(t>>>0).toString()};function Hc(p,i,t){return Gc(p.toString())+Gc(i.toString())+Gc(t)}const cc="stpp.ttml.im1t",Vl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ml=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,ol={left:"start",center:"center",right:"end",start:"start",end:"end"};function jc(p,i,t,l){const h=ft(new Uint8Array(p),["mdat"]);if(0===h.length)return void l(new Error("Could not parse IMSC1 mdat"));const b=h.map(H=>Bt(H)),N=function ic(p,i,t=1,l=!1){return $r(p,i,1/t,l)}(i.baseTime,1,i.timescale);try{b.forEach(H=>t(function Kl(p,i){const h=(new DOMParser).parseFromString(p,"text/xml").getElementsByTagName("tt")[0];if(!h)throw new Error("Invalid ttml");const b={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},N=Object.keys(b).reduce(($e,Ct)=>($e[Ct]=h.getAttribute(`ttp:${Ct}`)||b[Ct],$e),{}),H="preserve"!==h.getAttribute("xml:space"),te=Vc(Wl(h,"styling","style")),se=Vc(Wl(h,"layout","region")),We=Wl(h,"body","[begin]");return[].map.call(We,$e=>{const Ct=dc($e,H);if(!Ct||!$e.hasAttribute("begin"))return null;const xt=Ca($e.getAttribute("begin"),N),Gt=Ca($e.getAttribute("dur"),N);let Wt=Ca($e.getAttribute("end"),N);if(null===xt)throw ka($e);if(null===Wt){if(null===Gt)throw ka($e);Wt=xt+Gt}const rn=new ta(xt-i,Wt-i,Ct);rn.id=Hc(rn.startTime,rn.endTime,rn.text);const Pn=function Kc(p,i,t){const l="http://www.w3.org/ns/ttml#styling";let h=null;const N=null!=p&&p.hasAttribute("style")?p.getAttribute("style"):null;return N&&t.hasOwnProperty(N)&&(h=t[N]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((H,te)=>{const se=Sa(i,l,te)||Sa(p,l,te)||Sa(h,l,te);return se&&(H[te]=se),H},{})}(se[$e.getAttribute("region")],te[$e.getAttribute("style")],te),{textAlign:zn}=Pn;if(zn){const Yn=ol[zn];Yn&&(rn.lineAlign=Yn),rn.align=zn}return B(rn,Pn),rn}).filter($e=>null!==$e)}(H,N)))}catch(H){l(H)}}function Wl(p,i,t){const l=p.getElementsByTagName(i)[0];return l?[].slice.call(l.querySelectorAll(t)):[]}function Vc(p){return p.reduce((i,t)=>{const l=t.getAttribute("xml:id");return l&&(i[l]=t),i},{})}function dc(p,i){return[].slice.call(p.childNodes).reduce((t,l,h)=>{var b;return"br"===l.nodeName&&h?t+"\n":null!=(b=l.childNodes)&&b.length?dc(l,i):i?t+l.textContent.trim().replace(/\s+/g," "):t+l.textContent},"")}function Sa(p,i,t){return p&&p.hasAttributeNS(i,t)?p.getAttributeNS(i,t):null}function ka(p){return new Error(`Could not parse ttml timestamp ${p}`)}function Ca(p,i){if(!p)return null;let t=Ps(p);return null===t&&(Vl.test(p)?t=function dd(p,i){const t=Vl.exec(p);return 3600*(0|t[1])+60*(0|t[2])+(0|t[3])+((0|t[4])+(0|t[5])/i.subFrameRate)/i.frameRate}(p,i):Ml.test(p)&&(t=function Al(p,i){const t=Ml.exec(p),l=Number(t[1]);switch(t[2]){case"h":return 3600*l;case"m":return 60*l;case"ms":return 1e3*l;case"f":return l/i.frameRate;case"t":return l/i.tickRate}return l}(p,i))),t}function ud(p,i){return!!p&&p.label===i.name&&!(p.textTrack1||p.textTrack2)}function Wc(p,i,t,l){return Math.min(i,l)-Math.max(p,t)}class zc{constructor(i){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=i,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(i){this.streamController=i}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:i}=this;i.on(T.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(T.MANIFEST_PARSED,this.onManifestParsed,this),i.on(T.BUFFER_CODECS,this.onBufferCodecs,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:i}=this;i.off(T.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(T.MANIFEST_PARSED,this.onManifestParsed,this),i.off(T.BUFFER_CODECS,this.onBufferCodecs,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(i,t){const l=this.hls.levels[t.droppedLevel];this.isLevelAllowed(l)&&this.restrictedLevels.push({bitrate:l.bitrate,height:l.height,width:l.width})}onMediaAttaching(i,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null}onManifestParsed(i,t){const l=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,l.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onBufferCodecs(i,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const i=this.hls.levels;if(i.length){const t=this.hls;t.autoLevelCapping=this.getMaxLevel(i.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(i){const t=this.hls.levels;if(!t.length)return-1;const l=t.filter((h,b)=>this.isLevelAllowed(h)&&b<=i);return this.clientRect=null,zc.getMaxLevelByMediaSize(l,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const i=this.media,t={width:0,height:0};if(i){const l=i.getBoundingClientRect();t.width=l.width,t.height=l.height,!t.width&&!t.height&&(t.width=l.right-l.left||i.width||0,t.height=l.bottom-l.top||i.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let i=1;if(!this.hls.config.ignoreDevicePixelRatio)try{i=self.devicePixelRatio}catch{}return i}isLevelAllowed(i){return!this.restrictedLevels.some(l=>i.bitrate===l.bitrate&&i.width===l.width&&i.height===l.height)}static getMaxLevelByMediaSize(i,t,l){if(null==i||!i.length)return-1;const h=(N,H)=>!H||N.width!==H.width||N.height!==H.height;let b=i.length-1;for(let N=0;N<i.length;N+=1){const H=i[N];if((H.width>=t||H.height>=l)&&h(H,i[N+1])){b=N;break}}return b}}const Zc="[eme]";let Nf=(()=>{class p{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=p.CDMCleanupPromise?[p.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=j.debug.bind(j,Zc),this.log=j.log.bind(j,Zc),this.warn=j.warn.bind(j,Zc),this.error=j.error.bind(j,Zc),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(T.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(T.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(T.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(T.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(T.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(T.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:l,widevineLicenseUrl:h}=this.config,b=l[t];if(b)return b.licenseUrl;if(t===_e.WIDEVINE&&h)return h;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:l}=this.config,h=l[t];if(h)return h.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const l=this.hls.levels,h=(H,te,se)=>!!H&&se.indexOf(H)===te,b=l.map(H=>H.audioCodec).filter(h),N=l.map(H=>H.videoCodec).filter(h);return b.length+N.length===0&&N.push("avc1.42e01e"),new Promise((H,te)=>{const se=We=>{const $e=We.shift();this.getMediaKeysPromise($e,b,N).then(Ct=>H({keySystem:$e,mediaKeys:Ct})).catch(Ct=>{We.length?se(We):te(Ct instanceof ua?Ct:new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_NO_ACCESS,error:Ct,fatal:!0},Ct.message))})};se(t)})}requestMediaKeySystemAccess(t,l){const{requestMediaKeySystemAccessFunc:h}=this.config;if("function"!=typeof h){let b=`Configured requestMediaKeySystemAccess is not a function ${h}`;return null===$&&"http:"===self.location.protocol&&(b=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(b))}return h(t,l)}getMediaKeysPromise(t,l,h){const b=function ne(p,i,t,l){let h;switch(p){case _e.FAIRPLAY:h=["cenc","sinf"];break;case _e.WIDEVINE:case _e.PLAYREADY:h=["cenc"];break;case _e.CLEARKEY:h=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${p}`)}return function J(p,i,t,l){return[{initDataTypes:p,persistentState:l.persistentState||"not-allowed",distinctiveIdentifier:l.distinctiveIdentifier||"not-allowed",sessionTypes:l.sessionTypes||[l.sessionType||"temporary"],audioCapabilities:i.map(b=>({contentType:`audio/mp4; codecs="${b}"`,robustness:l.audioRobustness||"",encryptionScheme:l.audioEncryptionScheme||null})),videoCapabilities:t.map(b=>({contentType:`video/mp4; codecs="${b}"`,robustness:l.videoRobustness||"",encryptionScheme:l.videoEncryptionScheme||null}))}]}(h,i,t,l)}(t,l,h,this.config.drmSystemOptions),N=this.keySystemAccessPromises[t];let H=N?.keySystemAccess;if(!H){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(b)}`),H=this.requestMediaKeySystemAccess(t,b);const te=this.keySystemAccessPromises[t]={keySystemAccess:H};return H.catch(se=>{this.log(`Failed to obtain access to key-system "${t}": ${se}`)}),H.then(se=>{this.log(`Access for key-system "${se.keySystem}" obtained`);const We=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),te.mediaKeys=se.createMediaKeys().then($e=>(this.log(`Media-keys created for "${t}"`),We.then(Ct=>Ct?this.setMediaKeysServerCertificate($e,t,Ct):$e))),te.mediaKeys.catch($e=>{this.error(`Failed to create media-keys for "${t}"}: ${$e}`)}),te.mediaKeys})}return H.then(()=>N.mediaKeys)}createMediaKeySessionContext({decryptdata:t,keySystem:l,mediaKeys:h}){this.log(`Creating key-system session "${l}" keyId: ${cn_hexDump(t.keyId||[])}`);const b=h.createSession(),N={decryptdata:t,keySystem:l,mediaKeys:h,mediaKeysSession:b,keyStatus:"status-pending"};return this.mediaKeySessions.push(N),N}renewKeySession(t){const l=t.decryptdata;if(l.pssh){const h=this.createMediaKeySessionContext(t),b=this.getKeyIdString(l);this.keyIdToKeySessionPromise[b]=this.generateRequestWithPreferredKeySession(h,"cenc",l.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return cn_hexDump(t.keyId)}updateKeySession(t,l){var h;const b=t.mediaKeysSession;return this.log(`Updating key-session "${b.sessionId}" for keyID ${cn_hexDump((null==(h=t.decryptdata)?void 0:h.keyId)||[])}\n      } (data length: ${l&&l.byteLength})`),b.update(l)}selectKeySystemFormat(t){const l=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${l.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(l)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise((l,h)=>{const b=X(this.config),N=t.map(oe).filter(H=>!!H&&-1!==b.indexOf(H));return this.getKeySystemSelectionPromise(N).then(({keySystem:H})=>{const te=Q(H);te?l(te):h(new Error(`Unable to find format for key-system "${H}"`))}).catch(h)})}loadKey(t){const l=t.keyInfo.decryptdata,h=this.getKeyIdString(l),b=`(keyId: ${h} format: "${l.keyFormat}" method: ${l.method} uri: ${l.uri})`;this.log(`Starting session for key ${b}`);let N=this.keyIdToKeySessionPromise[h];return N||(N=this.keyIdToKeySessionPromise[h]=this.getKeySystemForKeyPromise(l).then(({keySystem:H,mediaKeys:te})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${b}`),this.attemptSetMediaKeys(H,te).then(()=>{this.throwIfDestroyed();const se=this.createMediaKeySessionContext({keySystem:H,mediaKeys:te,decryptdata:l});return this.generateRequestWithPreferredKeySession(se,"cenc",l.pssh,"playlist-key")}))),N.catch(H=>this.handleError(H))),N}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),this.hls.trigger(T.ERROR,t instanceof ua?t.data:{type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const l=this.getKeyIdString(t),h=this.keyIdToKeySessionPromise[l];if(!h){const b=oe(t.keyFormat),N=b?[b]:X(this.config);return this.attemptKeySystemAccess(N)}return h}getKeySystemSelectionPromise(t){if(t.length||(t=X(this.config)),0===t.length)throw new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:l,initData:h}=t;if(this.debug(`"${t.type}" event: init data type: "${l}"`),null===h)return;let b,N;if("sinf"===l&&this.config.drmSystems[_e.FAIRPLAY]){const $e=Qe(new Uint8Array(h));try{const Ct=De(JSON.parse($e).sinf),xt=fn(new Uint8Array(Ct));if(!xt)return;b=xt.subarray(8,24),N=_e.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const $e=function Ze(p){if(!(p instanceof ArrayBuffer)||p.byteLength<32)return null;const i={version:0,systemId:"",kids:null,data:null},t=new DataView(p),l=t.getUint32(0);if(p.byteLength!==l&&l>44||1886614376!==t.getUint32(4)||(i.version=t.getUint32(8)>>>24,i.version>1))return null;i.systemId=cn_hexDump(new Uint8Array(p,12,16));const b=t.getUint32(28);if(0===i.version){if(l-32<b)return null;i.data=new Uint8Array(p,32,b)}else if(1===i.version){i.kids=[];for(let N=0;N<b;N++)i.kids.push(new Uint8Array(p,32+16*N,16))}return i}(h);if(null===$e)return;0===$e.version&&"edef8ba979d64acea3c827dcd51d21ed"===$e.systemId&&$e.data&&(b=$e.data.subarray(8,24)),N=function re(p){if("edef8ba979d64acea3c827dcd51d21ed"===p)return _e.WIDEVINE}($e.systemId)}if(!N||!b)return;const H=cn_hexDump(b),{keyIdToKeySessionPromise:te,mediaKeySessions:se}=this;let We=te[H];for(let $e=0;$e<se.length;$e++){const Ct=se[$e],xt=Ct.decryptdata;if(xt.pssh||!xt.keyId)continue;const Gt=cn_hexDump(xt.keyId);if(H===Gt||-1!==xt.uri.replace(/-/g,"").indexOf(H)){We=te[Gt],delete te[Gt],xt.pssh=new Uint8Array(h),xt.keyId=b,We=te[H]=We.then(()=>this.generateRequestWithPreferredKeySession(Ct,l,h,"encrypted-event-key-match"));break}}We||(We=te[H]=this.getKeySystemSelectionPromise([N]).then(({keySystem:$e,mediaKeys:Ct})=>{var xt;this.throwIfDestroyed();const Gt=new Kt("ISO-23001-7",H,null!=(xt=Q($e))?xt:"");return Gt.pssh=new Uint8Array(h),Gt.keyId=b,this.attemptSetMediaKeys($e,Ct).then(()=>{this.throwIfDestroyed();const Wt=this.createMediaKeySessionContext({decryptdata:Gt,keySystem:$e,mediaKeys:Ct});return this.generateRequestWithPreferredKeySession(Wt,l,h,"encrypted-event-no-match")})})),We.catch($e=>this.handleError($e))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,l){const h=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const b=Promise.all(h).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(l)});return this.setMediaKeysQueue.push(b),b.then(()=>{this.log(`Media-keys set for "${t}"`),h.push(b),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(N=>-1===h.indexOf(N))})}generateRequestWithPreferredKeySession(t,l,h,b){var N,H;const te=null==(N=this.config.drmSystems)||null==(H=N[t.keySystem])?void 0:H.generateRequest;if(te)try{const xt=te.call(this.hls,l,h,t);if(!xt)throw new Error("Invalid response from configured generateRequest filter");l=xt.initDataType,h=t.decryptdata.pssh=xt.initData?new Uint8Array(xt.initData):null}catch(xt){var se;if(this.warn(xt.message),null!=(se=this.hls)&&se.config.debug)throw xt}if(null===h)return this.log(`Skipping key-session request for "${b}" (no initData)`),Promise.resolve(t);const We=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${b}": ${We} (init data type: ${l} length: ${h?h.byteLength:null})`);const $e=new ba;t.mediaKeysSession.onmessage=xt=>{const Gt=t.mediaKeysSession;if(!Gt)return void $e.emit("error",new Error("invalid state"));const{messageType:Wt,message:rn}=xt;this.log(`"${Wt}" message event for session "${Gt.sessionId}" message size: ${rn.byteLength}`),"license-request"===Wt||"license-renewal"===Wt?this.renewLicense(t,rn).catch(En=>{this.handleError(En),$e.emit("error",En)}):"license-release"===Wt?t.keySystem===_e.FAIRPLAY&&(this.updateKeySession(t,be("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${Wt}"`)},t.mediaKeysSession.onkeystatuseschange=xt=>{if(!t.mediaKeysSession)return void $e.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const Wt=t.keyStatus;$e.emit("keyStatus",Wt),"expired"===Wt&&(this.warn(`${t.keySystem} expired for key ${We}`),this.renewKeySession(t))};const Ct=new Promise((xt,Gt)=>{$e.on("error",Gt),$e.on("keyStatus",Wt=>{Wt.startsWith("usable")?xt():"output-restricted"===Wt?Gt(new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===Wt?Gt(new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${Wt}"`)):"expired"===Wt?Gt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${Wt}"`)})});return t.mediaKeysSession.generateRequest(l,h).then(()=>{var xt;this.log(`Request generated for key-session "${null==(xt=t.mediaKeysSession)?void 0:xt.sessionId}" keyId: ${We}`)}).catch(xt=>{throw new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_NO_SESSION,error:xt,fatal:!1},`Error generating key-session request: ${xt}`)}).then(()=>Ct).catch(xt=>{throw $e.removeAllListeners(),this.removeSession(t),xt}).then(()=>($e.removeAllListeners(),t))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach((l,h)=>{this.log(`key status change "${l}" for keyStatuses keyId: ${cn_hexDump("buffer"in h?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h))} session keyId: ${cn_hexDump(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=l})}fetchServerCertificate(t){const l=this.config,b=new(0,l.loader)(l),N=this.getServerCertificateUrl(t);return N?(this.log(`Fetching serverCertificate for "${t}"`),new Promise((H,te)=>{const se={responseType:"arraybuffer",url:N},We=l.certLoadPolicy.default;b.load(se,{loadPolicy:We,timeout:We.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(xt,Gt,Wt,rn)=>{H(xt.data)},onError:(xt,Gt,Wt,rn)=>{te(new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Wt,response:k({url:se.url,data:void 0},xt)},`"${t}" certificate request failed (${N}). Status: ${xt.code} (${xt.text})`))},onTimeout:(xt,Gt,Wt)=>{te(new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Wt,response:{url:se.url,data:void 0}},`"${t}" certificate request timed out (${N})`))},onAbort:(xt,Gt,Wt)=>{te(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(t,l,h){return new Promise((b,N)=>{t.setServerCertificate(h).then(H=>{this.log(`setServerCertificate ${H?"success":"not supported by CDM"} (${h?.byteLength}) on "${l}"`),b(t)}).catch(H=>{N(new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:H,fatal:!0},H.message))})})}renewLicense(t,l){return this.requestLicense(t,new Uint8Array(l)).then(h=>this.updateKeySession(t,new Uint8Array(h)).catch(b=>{throw new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:b,fatal:!0},b.message)}))}setupLicenseXHR(t,l,h,b){const N=this.config.licenseXhrSetup;return N?Promise.resolve().then(()=>{if(!h.decryptdata)throw new Error("Key removed");return N.call(this.hls,t,l,h,b)}).catch(H=>{if(!h.decryptdata)throw H;return t.open("POST",l,!0),N.call(this.hls,t,l,h,b)}).then(H=>(t.readyState||t.open("POST",l,!0),{xhr:t,licenseChallenge:H||b})):(t.open("POST",l,!0),Promise.resolve({xhr:t,licenseChallenge:b}))}requestLicense(t,l){const h=this.config.keyLoadPolicy.default;return new Promise((b,N)=>{const H=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${H}`);const te=new XMLHttpRequest;te.responseType="arraybuffer",te.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return N(new Error("invalid state"));if(4===te.readyState)if(200===te.status){this._requestLicenseFailureCount=0;let se=te.response;this.log(`License received ${se instanceof ArrayBuffer?se.byteLength:se}`);const We=this.config.licenseResponseCallback;if(We)try{se=We.call(this.hls,te,H,t)}catch($e){this.error($e)}b(se)}else{const se=h.errorRetry,We=se?se.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>We||te.status>=400&&te.status<500?N(new ua({type:C.KEY_SYSTEM_ERROR,details:O.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:te,response:{url:H,data:void 0,code:te.status,text:te.statusText}},`License Request XHR failed (${H}). Status: ${te.status} (${te.statusText})`)):(this.warn(`Retrying license request, ${We-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(t,l).then(b,N))}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=te,this.setupLicenseXHR(te,H,t,l).then(({xhr:se,licenseChallenge:We})=>{se.send(We)})})}onMediaAttached(t,l){if(!this.config.emeEnabled)return;const h=l.media;this.media=h,h.addEventListener("encrypted",this.onMediaEncrypted),h.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,l=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Kt.clearKeyUriToKeyIdMap();const h=l.length;p.CDMCleanupPromise=Promise.all(l.map(b=>this.removeSession(b)).concat(t?.setMediaKeys(null).catch(b=>{this.log(`Could not clear media keys: ${b}. media.src: ${t?.src}`)}))).then(()=>{h&&(this.log("finished closing key sessions and clearing media keys"),l.length=0)}).catch(b=>{this.log(`Could not close sessions and clear media keys: ${b}. media.src: ${t?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:l}){if(l&&this.config.emeEnabled&&!this.keyFormatPromise){const h=l.reduce((b,N)=>(-1===b.indexOf(N.keyFormat)&&b.push(N.keyFormat),b),[]);this.log(`Selecting key-system from session-keys ${h.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(h)}}removeSession(t){const{mediaKeysSession:l,licenseXhr:h}=t;if(l){this.log(`Remove licenses and keys and close session ${l.sessionId}`),l.onmessage=null,l.onkeystatuseschange=null,h&&h.readyState!==XMLHttpRequest.DONE&&h.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const b=this.mediaKeySessions.indexOf(t);return b>-1&&this.mediaKeySessions.splice(b,1),l.remove().catch(N=>{this.log(`Could not remove session: ${N}`)}).then(()=>l.close()).catch(N=>{this.log(`Could not close session: ${N}`)})}}}return p.CDMCleanupPromise=void 0,p})();class ua extends Error{constructor(i,t){super(t),this.data=void 0,i.error||(i.error=new Error(t)),this.data=i,i.err=i.error}}class to{constructor(i){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=h=>{try{this.apply(h,{ot:"m",su:!this.initialized})}catch(b){j.warn("Could not generate manifest CMCD data.",b)}},this.applyFragmentData=h=>{try{const b=h.frag,N=this.hls.levels[b.level],H=this.getObjectType(b),te={d:1e3*b.duration,ot:H};("v"===H||"a"===H||"av"==H)&&(te.br=N.bitrate/1e3,te.tb=this.getTopBandwidth(H)/1e3,te.bl=this.getBufferLength(H)),this.apply(h,te)}catch(b){j.warn("Could not generate segment CMCD data.",b)}},this.hls=i;const t=this.config=i.config,{cmcd:l}=t;null!=l&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=l.sessionId||to.uuid(),this.cid=l.contentId,this.useHeaders=!0===l.useHeaders,this.registerListeners())}registerListeners(){const i=this.hls;i.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(T.MEDIA_DETACHED,this.onMediaDetached,this),i.on(T.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const i=this.hls;i.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(T.MEDIA_DETACHED,this.onMediaDetached,this),i.off(T.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(i,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(i,t){var l,h;this.audioBuffer=null==(l=t.tracks.audio)?void 0:l.buffer,this.videoBuffer=null==(h=t.tracks.video)?void 0:h.buffer}createData(){var i;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(i=this.media)?void 0:i.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(i,t={}){if(B(t,this.createData()),this.starved&&("i"===t.ot||"v"===t.ot||"av"===t.ot)&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering),this.useHeaders){const h=to.toHeaders(t);if(!Object.keys(h).length)return;i.headers||(i.headers={}),B(i.headers,h)}else{const h=to.toQuery(t);if(!h)return;i.url=to.appendQueryToUri(i.url,h)}}getObjectType(i){const{type:t}=i;return"subtitle"===t?"tt":"initSegment"===i.sn?"i":"audio"===t?"a":"main"===t?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(i){let l,t=0;const h=this.hls;if("a"===i)l=h.audioTracks;else{const b=h.maxAutoLevel;l=h.levels.slice(0,b>-1?b+1:h.levels.length)}for(const b of l)b.bitrate>t&&(t=b.bitrate);return t>0?t:NaN}getBufferLength(i){const t=this.hls.media,l="a"===i?this.audioBuffer:this.videoBuffer;return l&&t?1e3*_r.bufferInfo(l,t.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:i}=this.config,t=this.applyPlaylistData,l=i||this.config.loader;return class{constructor(b){this.loader=void 0,this.loader=new l(b)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(b,N,H){t(b),this.loader.load(b,N,H)}}}createFragmentLoader(){const{fLoader:i}=this.config,t=this.applyFragmentData,l=i||this.config.loader;return class{constructor(b){this.loader=void 0,this.loader=new l(b)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(b,N,H){t(b),this.loader.load(b,N,H)}}}static uuid(){const i=URL.createObjectURL(new Blob),t=i.toString();return URL.revokeObjectURL(i),t.slice(t.lastIndexOf("/")+1)}static serialize(i){const t=[],l=se=>!Number.isNaN(se)&&null!=se&&""!==se&&!1!==se,h=se=>Math.round(se),b=se=>100*h(se/100),H={br:h,d:h,bl:b,dl:b,mtp:b,nor:se=>encodeURIComponent(se),rtp:b,tb:h},te=Object.keys(i||{}).sort();for(const se of te){let We=i[se];if(!l(We)||"v"===se&&1===We||"pr"==se&&1===We)continue;const $e=H[se];$e&&(We=$e(We));const Ct=typeof We;let xt;xt="ot"===se||"sf"===se||"st"===se?`${se}=${We}`:"boolean"===Ct?se:"number"===Ct?`${se}=${We}`:`${se}=${JSON.stringify(We)}`,t.push(xt)}return t.join(",")}static toHeaders(i){const t=Object.keys(i),l={},h=["Object","Request","Session","Status"],b=[{},{},{},{}],N={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const H of t)b[null!=N[H]?N[H]:1][H]=i[H];for(let H=0;H<b.length;H++){const te=to.serialize(b[H]);te&&(l[`CMCD-${h[H]}`]=te)}return l}static toQuery(i){return`CMCD=${encodeURIComponent(to.serialize(i))}`}static appendQueryToUri(i,t){if(!t)return i;const l=i.includes("?")?"&":"?";return`${i}${l}${t}`}}function js(p,i,t,l){p&&Object.keys(i).forEach(h=>{const b=p.filter(N=>N.groupId===h).map(N=>{const H=B({},N);return H.details=void 0,H.attrs=new ve(H.attrs),H.url=H.attrs.URI=Vs(N.url,N.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),H.groupId=H.attrs["GROUP-ID"]=i[h],H.attrs["PATHWAY-ID"]=l,H});p.push(...b)})}function Vs(p,i,t,l){const{HOST:h,PARAMS:b,[t]:N}=l;let H;i&&(H=N?.[i],H&&(p=H));const te=new self.URL(p);return h&&!H&&(te.host=h),b&&Object.keys(b).sort().forEach(se=>{se&&te.searchParams.set(se,b[se])}),te.href}const So=/^age:\s*[\d.]+\s*$/im;class ro{constructor(i){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=i&&i.xhrSetup||null,this.stats=new Ge,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const i=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),i&&(i.onreadystatechange=null,i.onprogress=null,4!==i.readyState&&(this.stats.aborted=!0,i.abort()))}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(i,t,l){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=i,this.config=t,this.callbacks=l,this.loadInternal()}loadInternal(){const{config:i,context:t}=this;if(!i)return;const l=this.loader=new self.XMLHttpRequest,h=this.stats;h.loading.first=0,h.loaded=0,h.aborted=!1;const b=this.xhrSetup;b?Promise.resolve().then(()=>{if(!this.stats.aborted)return b(l,t.url)}).catch(N=>(l.open("GET",t.url,!0),b(l,t.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(l,t,i)}).catch(N=>{this.callbacks.onError({code:l.status,text:N.message},t,l,h)}):this.openAndSendXhr(l,t,i)}openAndSendXhr(i,t,l){i.readyState||i.open("GET",t.url,!0);const h=this.context.headers,{maxTimeToFirstByteMs:b,maxLoadTimeMs:N}=l.loadPolicy;if(h)for(const H in h)i.setRequestHeader(H,h[H]);t.rangeEnd&&i.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),i.onreadystatechange=this.readystatechange.bind(this),i.onprogress=this.loadprogress.bind(this),i.responseType=t.responseType,self.clearTimeout(this.requestTimeout),l.timeout=b&&D(b)?b:N,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),l.timeout),i.send()}readystatechange(){const{context:i,loader:t,stats:l}=this;if(!i||!t)return;const h=t.readyState,b=this.config;if(!l.aborted&&h>=2&&(0===l.loading.first&&(l.loading.first=Math.max(self.performance.now(),l.loading.start),b.timeout!==b.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),b.timeout=b.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),b.loadPolicy.maxLoadTimeMs-(l.loading.first-l.loading.start)))),4===h)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const N=t.status,H="text"!==t.responseType;if(N>=200&&N<300&&(H&&t.response||null!==t.responseText)){l.loading.end=Math.max(self.performance.now(),l.loading.first);const te=H?t.response:t.responseText;if(l.loaded=l.total="arraybuffer"===t.responseType?te.byteLength:te.length,l.bwEstimate=8e3*l.total/(l.loading.end-l.loading.first),!this.callbacks)return;const We=this.callbacks.onProgress;if(We&&We(l,i,te,t),!this.callbacks)return;this.callbacks.onSuccess({url:t.responseURL,data:te,code:N},l,i,t)}else{const te=b.loadPolicy.errorRetry;Ho(te,l.retry,!1,N)?this.retry(te):(j.error(`${N} while loading ${i.url}`),this.callbacks.onError({code:N,text:t.statusText},i,t,l))}}}loadtimeout(){var i;const t=null==(i=this.config)?void 0:i.loadPolicy.timeoutRetry;if(Ho(t,this.stats.retry,!0))this.retry(t);else{j.warn(`timeout while loading ${this.context.url}`);const h=this.callbacks;h&&(this.abortInternal(),h.onTimeout(this.stats,this.context,this.loader))}}retry(i){const{context:t,stats:l}=this;this.retryDelay=ao(i,l.retry),l.retry++,j.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t.url}, retrying ${l.retry}/${i.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(i){const t=this.stats;t.loaded=i.loaded,i.lengthComputable&&(t.total=i.total)}getCacheAge(){let i=null;if(this.loader&&So.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");i=t?parseFloat(t):null}return i}getResponseHeader(i){return this.loader&&new RegExp(`^${i}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(i):null}}const al=/(\d+)-(\d+)\/(\d+)/;class fc{constructor(i){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=i.fetchSetup||st,this.controller=new self.AbortController,this.stats=new Ge}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const i=this.response;null!=i&&i.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(i,t,l){const h=this.stats;if(h.loading.start)throw new Error("Loader can only be used once.");h.loading.start=self.performance.now();const b=function nu(p,i){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:i,headers:new self.Headers(B({},p.headers))};return p.rangeEnd&&t.headers.set("Range","bytes="+p.rangeStart+"-"+String(p.rangeEnd-1)),t}(i,this.controller.signal),N=l.onProgress,H="arraybuffer"===i.responseType,te=H?"byteLength":"length",{maxTimeToFirstByteMs:se,maxLoadTimeMs:We}=t.loadPolicy;this.context=i,this.config=t,this.callbacks=l,this.request=this.fetchSetup(i,b),self.clearTimeout(this.requestTimeout),t.timeout=se&&D(se)?se:We,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),l.onTimeout(h,i,this.response)},t.timeout),self.fetch(this.request).then($e=>{this.response=this.loader=$e;const Ct=Math.max(self.performance.now(),h.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=We,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),l.onTimeout(h,i,this.response)},We-(Ct-h.loading.start)),!$e.ok){const{status:xt,statusText:Gt}=$e;throw new kt(Gt||"fetch, bad network response",xt,$e)}return h.loading.first=Ct,h.total=function je(p){const i=p.get("Content-Range");if(i){const l=function iu(p){const i=al.exec(p);if(i)return parseInt(i[2])-parseInt(i[1])+1}(i);if(D(l))return l}const t=p.get("Content-Length");if(t)return parseInt(t)}($e.headers)||h.total,N&&D(t.highWaterMark)?this.loadProgressively($e,h,i,t.highWaterMark,N):H?$e.arrayBuffer():"json"===i.responseType?$e.json():$e.text()}).then($e=>{const{response:Ct}=this;self.clearTimeout(this.requestTimeout),h.loading.end=Math.max(self.performance.now(),h.loading.first);const xt=$e[te];xt&&(h.loaded=h.total=xt);const Gt={url:Ct.url,data:$e,code:Ct.status};N&&!D(t.highWaterMark)&&N(h,i,$e,Ct),l.onSuccess(Gt,h,i,Ct)}).catch($e=>{self.clearTimeout(this.requestTimeout),h.aborted||l.onError({code:$e&&$e.code||0,text:$e?$e.message:null},i,$e?$e.details:null,h)})}getCacheAge(){let i=null;if(this.response){const t=this.response.headers.get("age");i=t?parseFloat(t):null}return i}getResponseHeader(i){return this.response?this.response.headers.get(i):null}loadProgressively(i,t,l,h=0,b){const N=new $o,H=i.body.getReader(),te=()=>H.read().then(se=>{if(se.done)return N.dataLength&&b(t,l,N.flush(),i),Promise.resolve(new ArrayBuffer(0));const We=se.value,$e=We.length;return t.loaded+=$e,$e<h||N.dataLength?(N.push(We),N.dataLength>=h&&b(t,l,N.flush(),i)):b(t,l,We,i),te()}).catch(()=>Promise.reject());return te()}}function st(p,i){return new self.Request(p.url,i)}class kt extends Error{constructor(i,t,l){super(i),this.code=void 0,this.details=void 0,this.code=t,this.details=l}}const sn=/\s/,xn={newCue(p,i,t,l){const h=[];let b,N,H,te,se;const We=self.VTTCue||self.TextTrackCue;for(let Ct=0;Ct<l.rows.length;Ct++)if(b=l.rows[Ct],H=!0,te=0,se="",!b.isEmpty()){var $e;for(let Wt=0;Wt<b.chars.length;Wt++)sn.test(b.chars[Wt].uchar)&&H?te++:(se+=b.chars[Wt].uchar,H=!1);b.cueStartTime=i,i===t&&(t+=1e-4),te>=16?te--:te++;const xt=Bc(se.trim()),Gt=Hc(i,t,xt);null!=p&&null!=($e=p.cues)&&$e.getCueById(Gt)||(N=new We(i,t,xt),N.id=Gt,N.line=Ct+1,N.align="left",N.position=10+Math.min(80,10*Math.floor(8*te/32)),h.push(N))}return p&&h.length&&(h.sort((Ct,xt)=>"auto"===Ct.line||"auto"===xt.line?0:Ct.line>8&&xt.line>8?xt.line-Ct.line:Ct.line-xt.line),h.forEach(Ct=>Xr(p,Ct))),h}},$n=k(k({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ro,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class cd{constructor(i){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=i;const t=i.config;this.bwEstimator=new Lc(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(T.FRAG_LOADING,this.onFragLoading,this),i.on(T.FRAG_LOADED,this.onFragLoaded,this),i.on(T.FRAG_BUFFERED,this.onFragBuffered,this),i.on(T.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(T.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:i}=this;i.off(T.FRAG_LOADING,this.onFragLoading,this),i.off(T.FRAG_LOADED,this.onFragLoaded,this),i.off(T.FRAG_BUFFERED,this.onFragBuffered,this),i.off(T.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(T.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(i,t){var l;const h=t.frag;this.ignoreFragment(h)||(this.fragCurrent=h,this.partCurrent=null!=(l=t.part)?l:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(i,t){this.clearTimer()}getTimeToLoadFrag(i,t,l,h){return i+l/t+(h?this.lastLevelLoadSec:0)}onLevelLoaded(i,t){const l=this.hls.config,{total:h,bwEstimate:b}=t.stats;D(h)&&D(b)&&(this.lastLevelLoadSec=8*h/b),t.details.live?this.bwEstimator.update(l.abrEwmaSlowLive,l.abrEwmaFastLive):this.bwEstimator.update(l.abrEwmaSlowVoD,l.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:i,partCurrent:t,hls:l}=this,{autoLevelEnabled:h,media:b}=l;if(!i||!b)return;const N=performance.now(),H=t?t.stats:i.stats,te=t?t.duration:i.duration,se=N-H.loading.start;if(H.aborted||H.loaded&&H.loaded===H.total||0===i.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!h||b.paused||!b.playbackRate||!b.readyState)return;const We=l.mainForwardBufferInfo;if(null===We)return;const $e=this.bwEstimator.getEstimateTTFB(),Ct=Math.abs(b.playbackRate);if(se<=Math.max($e,te/(2*Ct)*1e3))return;const xt=We.len/Ct;if(xt>=2*te/Ct)return;const Gt=H.loading.first?H.loading.first-H.loading.start:-1,Wt=H.loaded&&Gt>-1,rn=this.bwEstimator.getEstimate(),{levels:En,minAutoLevel:kn}=l,zn=H.total||Math.max(H.loaded,Math.round(te*En[i.level].maxBitrate/8));let Yn=se-Gt;Yn<1&&Wt&&(Yn=Math.min(se,8*H.loaded/rn));const ci=Wt?1e3*H.loaded/Yn:0,Xn=ci?(zn-H.loaded)/ci:8*zn/rn+$e/1e3;if(Xn<=xt)return;const mi=ci?8*ci:rn;let qn,Ti=Number.POSITIVE_INFINITY;for(qn=i.level-1;qn>kn&&(Ti=this.getTimeToLoadFrag($e/1e3,mi,te*En[qn].maxBitrate,!En[qn].details),!(Ti<xt));qn--);Ti>=Xn||Ti>10*te||(l.nextLoadLevel=qn,Wt?this.bwEstimator.sample(se-Math.min($e,Gt),H.loaded):this.bwEstimator.sampleTTFB(se),this.clearTimer(),j.warn(`[abr] Fragment ${i.sn}${t?" part "+t.index:""} of level ${i.level} is loading too slowly;\n      Time to underbuffer: ${xt.toFixed(3)} s\n      Estimated load time for current fragment: ${Xn.toFixed(3)} s\n      Estimated load time for down switch fragment: ${Ti.toFixed(3)} s\n      TTFB estimate: ${Gt}\n      Current BW estimate: ${D(rn)?(rn/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${qn}`),i.loader&&(this.fragCurrent=this.partCurrent=null,i.abortRequests()),l.trigger(T.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:t,stats:H}))}onFragLoaded(i,{frag:t,part:l}){const h=l?l.stats:t.stats;if("main"===t.type&&this.bwEstimator.sampleTTFB(h.loading.first-h.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const N=this.hls.levels[t.level],H=(N.loaded?N.loaded.bytes:0)+h.loaded,te=(N.loaded?N.loaded.duration:0)+(l?l.duration:t.duration);N.loaded={bytes:H,duration:te},N.realBitrate=Math.round(8*H/te)}t.bitrateTest&&(this.onFragBuffered(T.FRAG_BUFFERED,{stats:h,frag:t,part:l,id:t.type}),t.bitrateTest=!1)}}onFragBuffered(i,t){const{frag:l,part:h}=t,b=null!=h&&h.stats.loaded?h.stats:l.stats;if(b.aborted||this.ignoreFragment(l))return;const N=b.parsing.end-b.loading.start-Math.min(b.loading.first-b.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(N,b.loaded),b.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=l.bitrateTest?N/1e3:0}ignoreFragment(i){return"main"!==i.type||"initSegment"===i.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const i=this._nextAutoLevel;if(-1!==i&&!this.bwEstimator.canEstimate())return i;let l=this.getNextABRAutoLevel();if(-1!==i){const h=this.hls.levels;if(h.length>Math.max(i,l)&&h[i].loadError<=h[l].loadError)return i}return-1!==i&&(l=Math.min(i,l)),l}getNextABRAutoLevel(){const{fragCurrent:i,partCurrent:t,hls:l}=this,{maxAutoLevel:h,config:b,minAutoLevel:N,media:H}=l,te=t?t.duration:i?i.duration:0,se=H&&0!==H.playbackRate?Math.abs(H.playbackRate):1,We=this.bwEstimator?this.bwEstimator.getEstimate():b.abrEwmaDefaultEstimate,$e=l.mainForwardBufferInfo,Ct=($e?$e.len:0)/se;let xt=this.findBestLevel(We,N,h,Ct,b.abrBandWidthFactor,b.abrBandWidthUpFactor);if(xt>=0)return xt;j.trace(`[abr] ${Ct?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let Gt=te?Math.min(te,b.maxStarvationDelay):b.maxStarvationDelay,Wt=b.abrBandWidthFactor,rn=b.abrBandWidthUpFactor;if(!Ct){const En=this.bitrateTestDelay;En&&(Gt=(te?Math.min(te,b.maxLoadingDelay):b.maxLoadingDelay)-En,j.trace(`[abr] bitrate test took ${Math.round(1e3*En)}ms, set first fragment max fetchDuration to ${Math.round(1e3*Gt)} ms`),Wt=rn=1)}return xt=this.findBestLevel(We,N,h,Ct+Gt,Wt,rn),Math.max(xt,0)}findBestLevel(i,t,l,h,b,N){var H;const{fragCurrent:te,partCurrent:se,lastLoadedFragLevel:We}=this,{levels:$e}=this.hls,Ct=$e[We],xt=!(null==Ct||null==(H=Ct.details)||!H.live),Gt=Ct?.codecSet,Wt=se?se.duration:te?te.duration:0,rn=this.bwEstimator.getEstimateTTFB()/1e3;let En=t,kn=-1;for(let Pn=l;Pn>=t;Pn--){const zn=$e[Pn];if(!zn||Gt&&zn.codecSet!==Gt){zn&&(En=Math.min(Pn,En),kn=Math.max(Pn,kn));continue}-1!==kn&&j.trace(`[abr] Skipped level(s) ${En}-${kn} with CODECS:"${$e[kn].attrs.CODECS}"; not compatible with "${Ct.attrs.CODECS}"`);const Yn=zn.details,ci=(se?Yn?.partTarget:Yn?.averagetargetduration)||Wt;let Xn;Xn=Pn<=We?b*i:N*i;const mi=$e[Pn].maxBitrate,Ti=this.getTimeToLoadFrag(rn,Xn,mi*ci,void 0===Yn);if(j.trace(`[abr] level:${Pn} adjustedbw-bitrate:${Math.round(Xn-mi)} avgDuration:${ci.toFixed(1)} maxFetchDuration:${h.toFixed(1)} fetchDuration:${Ti.toFixed(1)}`),Xn>mi&&(0===Ti||!D(Ti)||xt&&!this.bitrateTestDelay||Ti<h))return Pn}return-1}set nextAutoLevel(i){this._nextAutoLevel=i}},bufferController:class ca{constructor(i){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:t,mediaSource:l}=this;j.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(T.MEDIA_ATTACHED,{media:t})),l&&l.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{j.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{j.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:t,_objectUrl:l}=this;t&&t.src!==l&&j.error(`Media element src was set while attaching MediaSource (${l} > ${t.src})`)},this.hls=i,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:i}=this;i.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_PARSED,this.onManifestParsed,this),i.on(T.BUFFER_RESET,this.onBufferReset,this),i.on(T.BUFFER_APPENDING,this.onBufferAppending,this),i.on(T.BUFFER_CODECS,this.onBufferCodecs,this),i.on(T.BUFFER_EOS,this.onBufferEos,this),i.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(T.LEVEL_UPDATED,this.onLevelUpdated,this),i.on(T.FRAG_PARSED,this.onFragParsed,this),i.on(T.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:i}=this;i.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_PARSED,this.onManifestParsed,this),i.off(T.BUFFER_RESET,this.onBufferReset,this),i.off(T.BUFFER_APPENDING,this.onBufferAppending,this),i.off(T.BUFFER_CODECS,this.onBufferCodecs,this),i.off(T.BUFFER_EOS,this.onBufferEos,this),i.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(T.LEVEL_UPDATED,this.onLevelUpdated,this),i.off(T.FRAG_PARSED,this.onFragParsed,this),i.off(T.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Li(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(i,t){let l=2;(t.audio&&!t.video||!t.altAudio)&&(l=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=l,j.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(i,t){const l=this.media=t.media;if(l&&fr){const h=this.mediaSource=new fr;h.addEventListener("sourceopen",this._onMediaSourceOpen),h.addEventListener("sourceended",this._onMediaSourceEnded),h.addEventListener("sourceclose",this._onMediaSourceClose),l.src=self.URL.createObjectURL(h),this._objectUrl=l.src,l.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:i,mediaSource:t,_objectUrl:l}=this;if(t){if(j.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(h){j.warn(`[buffer-controller]: onMediaDetaching: ${h.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),i&&(i.removeEventListener("emptied",this._onMediaEmptied),l&&self.URL.revokeObjectURL(l),i.src===l?(i.removeAttribute("src"),i.load()):j.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(T.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(i=>{const t=this.sourceBuffer[i];try{t&&(this.removeBufferListeners(i),this.mediaSource&&this.mediaSource.removeSourceBuffer(t),this.sourceBuffer[i]=void 0)}catch(l){j.warn(`[buffer-controller]: Failed to reset the ${i} buffer`,l)}}),this._initSourceBuffer()}onBufferCodecs(i,t){const l=this.getSourceBufferTypes().length;Object.keys(t).forEach(h=>{if(l){const b=this.tracks[h];if(b&&"function"==typeof b.buffer.changeType){const{id:N,codec:H,levelCodec:te,container:se,metadata:We}=t[h],$e=(b.levelCodec||b.codec).replace(Bo,"$1"),Ct=(te||H).replace(Bo,"$1");$e!==Ct&&(this.appendChangeType(h,`${se};codecs=${te||H}`),j.log(`[buffer-controller]: switching codec ${$e} to ${Ct}`),this.tracks[h]={buffer:b.buffer,codec:H,container:se,levelCodec:te,metadata:We,id:N})}}else this.pendingTracks[h]=t[h]}),!l&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(i,t){const{operationQueue:l}=this,h={execute:()=>{const b=this.sourceBuffer[i];b&&(j.log(`[buffer-controller]: changing ${i} sourceBuffer type to ${t}`),b.changeType(t)),l.shiftAndExecuteNext(i)},onStart:()=>{},onComplete:()=>{},onError:b=>{j.warn(`[buffer-controller]: Failed to change ${i} SourceBuffer type`,b)}};l.append(h,i)}onBufferAppending(i,t){const{hls:l,operationQueue:h,tracks:b}=this,{data:N,type:H,frag:te,part:se,chunkMeta:We}=t,$e=We.buffering[H],Ct=self.performance.now();$e.start=Ct;const xt=te.stats.buffering,Gt=se?se.stats.buffering:null;0===xt.start&&(xt.start=Ct),Gt&&0===Gt.start&&(Gt.start=Ct);const Wt=b.audio;let rn=!1;"audio"===H&&"audio/mpeg"===Wt?.container&&(rn=!this.lastMpegAudioChunk||1===We.id||this.lastMpegAudioChunk.sn!==We.sn,this.lastMpegAudioChunk=We);const En=te.start;h.append({execute:()=>{if($e.executeStart=self.performance.now(),rn){const Pn=this.sourceBuffer[H];if(Pn){const zn=En-Pn.timestampOffset;Math.abs(zn)>=.1&&(j.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${En} (delta: ${zn}) sn: ${te.sn})`),Pn.timestampOffset=En)}}this.appendExecutor(N,H)},onStart:()=>{},onComplete:()=>{const Pn=self.performance.now();$e.executeEnd=$e.end=Pn,0===xt.first&&(xt.first=Pn),Gt&&0===Gt.first&&(Gt.first=Pn);const{sourceBuffer:zn}=this,Yn={};for(const ci in zn)Yn[ci]=_r.getBuffered(zn[ci]);this.appendError=0,this.hls.trigger(T.BUFFER_APPENDED,{type:H,frag:te,part:se,chunkMeta:We,parent:te.type,timeRanges:Yn})},onError:Pn=>{j.error(`[buffer-controller]: Error encountered while trying to append to the ${H} SourceBuffer`,Pn);const zn={type:C.MEDIA_ERROR,parent:te.type,details:O.BUFFER_APPEND_ERROR,frag:te,part:se,chunkMeta:We,error:Pn,err:Pn,fatal:!1};Pn.code===DOMException.QUOTA_EXCEEDED_ERR?zn.details=O.BUFFER_FULL_ERROR:(this.appendError++,zn.details=O.BUFFER_APPEND_ERROR,this.appendError>l.config.appendErrorMaxRetry&&(j.error(`[buffer-controller]: Failed ${l.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),zn.fatal=!0)),l.trigger(T.ERROR,zn)}},H)}onBufferFlushing(i,t){const{operationQueue:l}=this,h=b=>({execute:this.removeExecutor.bind(this,b,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(T.BUFFER_FLUSHED,{type:b})},onError:N=>{j.warn(`[buffer-controller]: Failed to remove from ${b} SourceBuffer`,N)}});t.type?l.append(h(t.type),t.type):this.getSourceBufferTypes().forEach(b=>{l.append(h(b),b)})}onFragParsed(i,t){const{frag:l,part:h}=t,b=[],N=h?h.elementaryStreams:l.elementaryStreams;N.audiovideo?b.push("audiovideo"):(N.audio&&b.push("audio"),N.video&&b.push("video")),0===b.length&&j.warn(`Fragments must have at least one ElementaryStreamType set. type: ${l.type} level: ${l.level} sn: ${l.sn}`),this.blockBuffers(()=>{const te=self.performance.now();l.stats.buffering.end=te,h&&(h.stats.buffering.end=te),this.hls.trigger(T.FRAG_BUFFERED,{frag:l,part:h,stats:h?h.stats:l.stats,id:l.type})},b)}onFragChanged(i,t){this.flushBackBuffer()}onBufferEos(i,t){this.getSourceBufferTypes().reduce((h,b)=>{const N=this.sourceBuffer[b];return N&&(!t.type||t.type===b)&&(N.ending=!0,N.ended||(N.ended=!0,j.log(`[buffer-controller]: ${b} sourceBuffer now EOS`))),h&&!(N&&!N.ended)},!0)&&(j.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(b=>{const N=this.sourceBuffer[b];N&&(N.ending=!1)});const{mediaSource:h}=this;h&&"open"===h.readyState?(j.log("[buffer-controller]: Calling mediaSource.endOfStream()"),h.endOfStream()):h&&j.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${h.readyState}`)}))}onLevelUpdated(i,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:i,details:t,media:l,sourceBuffer:h}=this;if(!l||null===t)return;const b=this.getSourceBufferTypes();if(!b.length)return;const N=t.live&&null!==i.config.liveBackBufferLength?i.config.liveBackBufferLength:i.config.backBufferLength;if(!D(N)||N<0)return;const H=l.currentTime,te=t.levelTargetDuration,se=Math.max(N,te),We=Math.floor(H/te)*te-se;b.forEach($e=>{const Ct=h[$e];if(Ct){const xt=_r.getBuffered(Ct);if(xt.length>0&&We>xt.start(0)){if(i.trigger(T.BACK_BUFFER_REACHED,{bufferEnd:We}),t.live)i.trigger(T.LIVE_BACK_BUFFER_REACHED,{bufferEnd:We});else if(Ct.ended&&xt.end(xt.length-1)-H<2*te)return void j.info(`[buffer-controller]: Cannot flush ${$e} back buffer while SourceBuffer is in ended state`);i.trigger(T.BUFFER_FLUSHING,{startOffset:0,endOffset:We,type:$e})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:i,hls:t,media:l,mediaSource:h}=this,b=i.fragments[0].start+i.totalduration,N=l.duration,H=D(h.duration)?h.duration:0;i.live&&t.config.liveDurationInfinity?(j.log("[buffer-controller]: Media Source duration is set to Infinity"),h.duration=1/0,this.updateSeekableRange(i)):(b>H&&b>N||!D(N))&&(j.log(`[buffer-controller]: Updating Media Source duration to ${b.toFixed(3)}`),h.duration=b)}updateSeekableRange(i){const t=this.mediaSource,l=i.fragments;if(l.length&&i.live&&null!=t&&t.setLiveSeekableRange){const b=Math.max(0,l[0].start),N=Math.max(b,b+i.totalduration);t.setLiveSeekableRange(b,N)}}checkPendingTracks(){const{bufferCodecEventsExpected:i,operationQueue:t,pendingTracks:l}=this,h=Object.keys(l).length;if(h&&!i||2===h){this.createSourceBuffers(l),this.pendingTracks={};const b=this.getSourceBufferTypes();if(b.length)this.hls.trigger(T.BUFFER_CREATED,{tracks:this.tracks}),b.forEach(N=>{t.executeNext(N)});else{const N=new Error("could not create source buffer for media codec(s)");this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:N,reason:N.message})}}}createSourceBuffers(i){const{sourceBuffer:t,mediaSource:l}=this;if(!l)throw Error("createSourceBuffers called when mediaSource was null");for(const h in i)if(!t[h]){const b=i[h];if(!b)throw Error(`source buffer exists for track ${h}, however track does not`);const N=b.levelCodec||b.codec,H=`${b.container};codecs=${N}`;j.log(`[buffer-controller]: creating sourceBuffer(${H})`);try{const te=t[h]=l.addSourceBuffer(H),se=h;this.addBufferListener(se,"updatestart",this._onSBUpdateStart),this.addBufferListener(se,"updateend",this._onSBUpdateEnd),this.addBufferListener(se,"error",this._onSBUpdateError),this.tracks[h]={buffer:te,codec:N,container:b.container,levelCodec:b.levelCodec,metadata:b.metadata,id:b.id}}catch(te){j.error(`[buffer-controller]: error while trying to add sourceBuffer: ${te.message}`),this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:te,mimeType:H})}}}_onSBUpdateStart(i){const{operationQueue:t}=this;t.current(i).onStart()}_onSBUpdateEnd(i){const{operationQueue:t}=this;t.current(i).onComplete(),t.shiftAndExecuteNext(i)}_onSBUpdateError(i,t){const l=new Error(`${i} SourceBuffer error`);j.error(`[buffer-controller]: ${l}`,t),this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.BUFFER_APPENDING_ERROR,error:l,fatal:!1});const h=this.operationQueue.current(i);h&&h.onError(t)}removeExecutor(i,t,l){const{media:h,mediaSource:b,operationQueue:N,sourceBuffer:H}=this,te=H[i];if(!h||!b||!te)return j.warn(`[buffer-controller]: Attempting to remove from the ${i} SourceBuffer, but it does not exist`),void N.shiftAndExecuteNext(i);const se=D(h.duration)?h.duration:1/0,We=D(b.duration)?b.duration:1/0,$e=Math.max(0,t),Ct=Math.min(l,se,We);Ct>$e&&!te.ending?(te.ended=!1,j.log(`[buffer-controller]: Removing [${$e},${Ct}] from the ${i} SourceBuffer`),te.remove($e,Ct)):N.shiftAndExecuteNext(i)}appendExecutor(i,t){const{operationQueue:l,sourceBuffer:h}=this,b=h[t];if(!b)return j.warn(`[buffer-controller]: Attempting to append to the ${t} SourceBuffer, but it does not exist`),void l.shiftAndExecuteNext(t);b.ended=!1,b.appendBuffer(i)}blockBuffers(i,t=this.getSourceBufferTypes()){if(!t.length)return j.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(i);const{operationQueue:l}=this,h=t.map(b=>l.appendBlocker(b));Promise.all(h).then(()=>{i(),t.forEach(b=>{const N=this.sourceBuffer[b];null!=N&&N.updating||l.shiftAndExecuteNext(b)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(i,t,l){const h=this.sourceBuffer[i];if(!h)return;const b=l.bind(this,i);this.listeners[i].push({event:t,listener:b}),h.addEventListener(t,b)}removeBufferListeners(i){const t=this.sourceBuffer[i];t&&this.listeners[i].forEach(l=>{t.removeEventListener(l.event,l.listener)})}},capLevelController:zc,errorController:class Ys{constructor(i){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=i,this.log=j.log.bind(j,"[info]:"),this.warn=j.warn.bind(j,"[warning]:"),this.error=j.error.bind(j,"[error]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(T.ERROR,this.onError,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const i=this.hls;i&&(i.off(T.ERROR,this.onError,this),i.off(T.ERROR,this.onErrorOut,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(i){this.playlistError=0}stopLoad(){}getVariantLevelIndex(i){return"main"===i?.type?i.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(i,t){var l,h;if(t.fatal)return;const b=this.hls,N=t.context;switch(t.details){case O.FRAG_LOAD_ERROR:case O.FRAG_LOAD_TIMEOUT:case O.KEY_LOAD_ERROR:case O.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case O.FRAG_PARSING_ERROR:if(null!=(l=t.frag)&&l.gap)return void(t.errorAction={action:0,flags:0});case O.FRAG_GAP:case O.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=2);case O.LEVEL_EMPTY_ERROR:case O.LEVEL_PARSING_ERROR:{var H,te;const se="main"===t.parent?t.level:b.loadLevel;t.details===O.LEVEL_EMPTY_ERROR&&null!=(H=t.context)&&null!=(te=H.levelDetails)&&te.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,se):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,se))}return;case O.LEVEL_LOAD_ERROR:case O.LEVEL_LOAD_TIMEOUT:return void("number"==typeof N?.level&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,N.level)));case O.AUDIO_TRACK_LOAD_ERROR:case O.AUDIO_TRACK_LOAD_TIMEOUT:case O.SUBTITLE_LOAD_ERROR:case O.SUBTITLE_TRACK_LOAD_TIMEOUT:if(N){const se=b.levels[b.loadLevel];if(se&&("audioTrack"===N.type&&N.groupId===se.audioGroupId||"subtitleTrack"===N.type&&N.groupId===se.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,b.loadLevel),t.errorAction.action=2,void(t.errorAction.flags=1)}return;case O.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const se=b.levels[b.loadLevel],We=se?.attrs["HDCP-LEVEL"];We&&(t.errorAction={action:2,flags:2,hdcpLevel:We})}return;case O.BUFFER_ADD_CODEC_ERROR:case O.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(h=t.level)?h:b.loadLevel));case O.INTERNAL_EXCEPTION:case O.BUFFER_APPENDING_ERROR:case O.BUFFER_APPEND_ERROR:case O.BUFFER_FULL_ERROR:case O.LEVEL_SWITCH_ERROR:case O.BUFFER_STALLED_ERROR:case O.BUFFER_SEEK_OVER_HOLE:case O.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:0,flags:0})}if(t.type===C.KEY_SYSTEM_ERROR){const se=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,se))}}getPlaylistRetryOrSwitchAction(i,t){var l;const b=ps(this.hls.config.playlistLoadPolicy,i),N=this.playlistError++,H=null==(l=i.response)?void 0:l.code;if(Ho(b,N,xo(i),H))return{action:5,flags:0,retryConfig:b,retryCount:N};const se=this.getLevelSwitchAction(i,t);return b&&(se.retryConfig=b,se.retryCount=N),se}getFragRetryOrSwitchAction(i){const t=this.hls,l=this.getVariantLevelIndex(i.frag),h=t.levels[l],{fragLoadPolicy:b,keyLoadPolicy:N}=t.config,H=ps(i.details.startsWith("key")?N:b,i),te=t.levels.reduce(($e,Ct)=>$e+Ct.fragmentError,0);if(h){var se;i.details!==O.FRAG_GAP&&h.fragmentError++;const $e=null==(se=i.response)?void 0:se.code;if(Ho(H,te,xo(i),$e))return{action:5,flags:0,retryConfig:H,retryCount:te}}const We=this.getLevelSwitchAction(i,l);return H&&(We.retryConfig=H,We.retryCount=te),We}getLevelSwitchAction(i,t){const l=this.hls;null==t&&(t=l.loadLevel);const h=this.hls.levels[t];if(h&&(h.loadError++,l.autoLevelEnabled)){var b,N;let H=-1;const{levels:te,loadLevel:se,minAutoLevel:We,maxAutoLevel:$e}=l,Ct=null==(b=i.frag)?void 0:b.type,{type:xt,groupId:Gt}=null!=(N=i.context)?N:{};for(let Wt=te.length;Wt--;){const rn=(Wt+se)%te.length;if(rn!==se&&rn>=We&&rn<=$e&&0===te[rn].loadError){const En=te[rn];if(i.details===O.FRAG_GAP&&i.frag){const kn=te[rn].details;if(kn){const Pn=Rr(i.frag,kn.fragments,i.frag.start);if(null!=Pn&&Pn.gap)continue}}else{if("audioTrack"===xt&&Gt===En.audioGroupId||"subtitleTrack"===xt&&Gt===En.textGroupId)continue;if("audio"===Ct&&h.audioGroupId===En.audioGroupId||"subtitle"===Ct&&h.textGroupId===En.textGroupId)continue}H=rn;break}}if(H>-1&&l.loadLevel!==H)return i.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:H}}return{action:2,flags:1}}onErrorOut(i,t){var l;switch(null==(l=t.errorAction)?void 0:l.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==O.FRAG_GAP&&(t.fatal=!0)}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(i){const t=this.hls,l=i.errorAction;if(!l)return;const{flags:h,hdcpLevel:b,nextAutoLevel:N}=l;switch(h){case 0:this.switchLevel(i,N);break;case 1:l.resolved||(l.resolved=this.redundantFailover(i));break;case 2:b&&(t.maxHdcpLevel=ri[ri.indexOf(b)-1],l.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`)}l.resolved||this.switchLevel(i,N)}switchLevel(i,t){void 0!==t&&i.errorAction&&(this.warn(`switching to level ${t} after ${i.details}`),this.hls.nextAutoLevel=t,i.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(i){const{hls:t,penalizedRenditions:l}=this,h="main"===i.parent?i.level:t.loadLevel,b=t.levels[h],N=b.url.length,H=i.frag?i.frag.urlId:b.urlId;b.urlId===H&&(!i.frag||b.details)&&this.penalizeRendition(b,i);for(let te=1;te<N;te++){const se=(H+te)%N,We=l[se];if(!We||Yo(We,i,l[H]))return this.warn(`Switching to Redundant Stream ${se+1}/${N}: "${b.url[se]}" after ${i.details}`),this.playlistError=0,t.levels.forEach($e=>{$e.urlId=se}),t.nextLoadLevel=h,!0}return!1}penalizeRendition(i,t){const{penalizedRenditions:l}=this,h=l[i.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};h.lastErrorPerfMs=performance.now(),h.errors.push(t),h.details=i.details,l[i.urlId]=h}},fpsController:class fd{constructor(i){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=i,this.registerListeners()}setStreamController(i){this.streamController=i}registerListeners(){this.hls.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(i,t){const l=this.hls.config;if(l.capLevelOnFPSDrop){const h=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=h,h&&"function"==typeof h.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),l.fpsDroppedMonitoringPeriod)}}checkFPS(i,t,l){const h=performance.now();if(t){if(this.lastTime){const N=l-this.lastDroppedFrames,H=t-this.lastDecodedFrames,te=1e3*N/(h-this.lastTime),se=this.hls;if(se.trigger(T.FPS_DROP,{currentDropped:N,currentDecoded:H,totalDroppedFrames:l}),te>0&&N>se.config.fpsDroppedMonitoringThreshold*H){let We=se.currentLevel;j.warn("drop FPS ratio greater than max allowed value for currentLevel: "+We),We>0&&(-1===se.autoLevelCapping||se.autoLevelCapping>=We)&&(We-=1,se.trigger(T.FPS_DROP_LEVEL_CAPPING,{level:We,droppedLevel:se.currentLevel}),se.autoLevelCapping=We,this.streamController.nextLevelSwitch())}}this.lastTime=h,this.lastDroppedFrames=l,this.lastDecodedFrames=t}}checkFPSInterval(){const i=this.media;if(i)if(this.isVideoPlaybackQualityAvailable){const t=i.getVideoPlaybackQuality();this.checkFPS(i,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(i,i.webkitDecodedFrameCount,i.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:$,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function bi(){return{cueHandler:xn,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class en extends us{constructor(i,t,l){super(i,t,l,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:i}=this;i.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.LEVEL_LOADED,this.onLevelLoaded,this),i.on(T.ERROR,this.onError,this),i.on(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(T.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.on(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(T.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(T.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.LEVEL_LOADED,this.onLevelLoaded,this),i.off(T.ERROR,this.onError,this),i.off(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(T.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.off(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(T.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(T.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(i){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(i,t){this.mainDetails=t.details}onSubtitleFragProcessed(i,t){const{frag:l,success:h}=t;if(this.fragPrevious=l,this.state="IDLE",!h)return;const b=this.tracksBuffered[this.currentTrackId];if(!b)return;let N;const H=l.start;for(let se=0;se<b.length;se++)if(H>=b[se].start&&H<=b[se].end){N=b[se];break}const te=l.start+l.duration;N?N.end=te:(N={start:H,end:te},b.push(N)),this.fragmentTracker.fragBuffered(l)}onBufferFlushing(i,t){const{startOffset:l,endOffset:h}=t;if(0===l&&h!==Number.POSITIVE_INFINITY){const b=h-1;if(b<=0)return;t.endOffsetSubtitles=Math.max(0,b),this.tracksBuffered.forEach(N=>{for(let H=0;H<N.length;)if(N[H].end<=b)N.shift();else{if(!(N[H].start<b))break;N[H].start=b,H++}}),this.fragmentTracker.removeFragmentsInRange(l,b,"subtitle")}}onFragBuffered(i,t){var l;this.loadedmetadata||"main"!==t.frag.type||null!=(l=this.media)&&l.buffered.length&&(this.loadedmetadata=!0)}onError(i,t){const l=t.frag;"subtitle"===l?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(i,{subtitleTracks:t}){Je(this.levels,t)?this.levels=t.map(l=>new Ui(l)):(this.tracksBuffered=[],this.levels=t.map(l=>{const h=new Ui(l);return this.tracksBuffered[h.id]=[],h}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(i,t){if(this.currentTrackId=t.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const l=this.levels[this.currentTrackId];this.mediaBuffer=null!=l&&l.details?this.mediaBufferTimeRanges:null,l&&this.setInterval(500)}onSubtitleTrackLoaded(i,t){var l;const{details:h,id:b}=t,{currentTrackId:N,levels:H}=this;if(!H.length)return;const te=H[N];if(b>=H.length||b!==N||!te)return;this.mediaBuffer=this.mediaBufferTimeRanges;let se=0;if(h.live||null!=(l=te.details)&&l.live){const We=this.mainDetails;if(h.deltaUpdateFailed||!We)return;const $e=We.fragments[0];te.details?(se=this.alignPlaylists(h,te.details),0===se&&$e&&(se=$e.start,eo(h,se))):h.hasProgramDateTime&&We.hasProgramDateTime?(Zo(h,We),se=h.fragments[0].start):$e&&(se=$e.start,eo(h,se))}te.details=h,this.levelLastLoaded=b,!this.startFragRequested&&(this.mainDetails||!h.live)&&this.setStartPosition(te.details,se),this.tick(),h.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(Rr(null,h.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),te.details=void 0))}_handleFragmentLoadComplete(i){const{frag:t,payload:l}=i,h=t.decryptdata,b=this.hls;if(!this.fragContextChanged(t)&&l&&l.byteLength>0&&h&&h.key&&h.iv&&"AES-128"===h.method){const N=performance.now();this.decrypter.decrypt(new Uint8Array(l),h.key.buffer,h.iv.buffer).catch(H=>{throw b.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.FRAG_DECRYPT_ERROR,fatal:!1,error:H,reason:H.message,frag:t}),H}).then(H=>{const te=performance.now();b.trigger(T.FRAG_DECRYPTED,{frag:t,payload:H,stats:{tstart:N,tdecrypt:te}})}).catch(H=>{this.warn(`${H.name}: ${H.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:i,levels:t}=this,l=t[i];if(!t.length||!l||!l.details)return;const{config:h}=this,b=this.getLoadPosition(),N=_r.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],b,h.maxBufferHole),{end:H,len:te}=N,se=this.getFwdBufferInfo(this.media,"main"),We=l.details;if(te>this.getMaxBufferLength(se?.len)+We.levelTargetDuration)return;const Ct=We.fragments,xt=Ct.length,Gt=We.edge;let Wt=null;const rn=this.fragPrevious;if(H<Gt){const En=h.maxFragLookUpTolerance,kn=H>Gt-En?0:En;Wt=Rr(rn,Ct,Math.max(Ct[0].start,H),kn),!Wt&&rn&&rn.start<Ct[0].start&&(Wt=Ct[0])}else Wt=Ct[xt-1];if(!Wt)return;if(Wt=this.mapToInitFragWhenRequired(Wt),"initSegment"!==Wt.sn){const kn=Ct[Wt.sn-We.startSN-1];kn&&kn.cc===Wt.cc&&"NOT_LOADED"===this.fragmentTracker.getState(kn)&&(Wt=kn)}"NOT_LOADED"===this.fragmentTracker.getState(Wt)&&this.loadFragment(Wt,l,H)}}else this.state="IDLE"}getMaxBufferLength(i){const t=super.getMaxBufferLength();return i?Math.max(t,i):t}loadFragment(i,t,l){this.fragCurrent=i,"initSegment"===i.sn?this._loadInitSegment(i,t):(this.startFragRequested=!0,super.loadFragment(i,t,l))}get mediaBufferTimeRanges(){return new Rn(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class ni extends xs{constructor(i){super(i,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(i){this._subtitleDisplay=i,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:i}=this;i.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_PARSED,this.onManifestParsed,this),i.on(T.LEVEL_LOADING,this.onLevelLoading,this),i.on(T.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_PARSED,this.onManifestParsed,this),i.off(T.LEVEL_LOADING,this.onLevelLoading,this),i.off(T.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(T.ERROR,this.onError,this)}onMediaAttached(i,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(i){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,i)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),wi(this.media.textTracks).forEach(t=>{Br(t)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(i,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(i,t){const{id:l,details:h}=t,{trackId:b}=this,N=this.tracksInGroup[b];if(!N)return void this.warn(`Invalid subtitle track id ${l}`);const H=N.details;N.details=t.details,this.log(`subtitle track ${l} loaded [${h.startSN}-${h.endSN}]`),l===this.trackId&&this.playlistLoaded(l,t,H)}onLevelLoading(i,t){this.switchLevel(t.level)}onLevelSwitching(i,t){this.switchLevel(t.level)}switchLevel(i){const t=this.hls.levels[i];if(null==t||!t.textGroupIds)return;const l=t.textGroupIds[t.urlId],h=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==l){const b=this.tracks.filter(te=>!l||te.groupId===l);this.tracksInGroup=b;const N=this.findTrackId(h?.name)||this.findTrackId();this.groupId=l||null;const H={subtitleTracks:b};this.log(`Updating subtitle tracks, ${b.length} track(s) found in "${l}" group-id`),this.hls.trigger(T.SUBTITLE_TRACKS_UPDATED,H),-1!==N&&this.setSubtitleTrack(N,h)}else this.shouldReloadPlaylist(h)&&this.setSubtitleTrack(this.trackId,h)}findTrackId(i){const t=this.tracksInGroup;for(let l=0;l<t.length;l++){const h=t[l];if((!this.selectDefaultTrack||h.default)&&(!i||i===h.name))return h.id}return-1}onError(i,t){t.fatal||!t.context||"subtitleTrack"===t.context.type&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(i){this.selectDefaultTrack=!1,this.setSubtitleTrack(i,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(i){super.loadPlaylist();const t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){const l=t.id,h=t.groupId;let b=t.url;if(i)try{b=i.addDirectives(b)}catch(N){this.warn(`Could not construct new URL with HLS Delivery Directives: ${N}`)}this.log(`Loading subtitle playlist for id ${l}`),this.hls.trigger(T.SUBTITLE_TRACK_LOADING,{url:b,id:l,groupId:h,deliveryDirectives:i||null})}}toggleTrackModes(i){const{media:t,trackId:l}=this;if(!t)return;const h=wi(t.textTracks),b=h.filter(H=>H.groupId===this.groupId);if(-1===i)[].slice.call(h).forEach(H=>{H.mode="disabled"});else{const H=b[l];H&&(H.mode="disabled")}const N=b[i];N&&(N.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(i,t){var l;const h=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=i);if(this.trackId!==i&&this.toggleTrackModes(i),this.trackId===i&&(-1===i||null!=(l=h[i])&&l.details)||i<-1||i>=h.length)return;this.clearTimer();const b=h[i];if(this.log(`Switching to subtitle-track ${i}`+(b?` "${b.name}" lang:${b.lang} group:${b.groupId}`:"")),this.trackId=i,b){const{id:N,groupId:H="",name:te,type:se,url:We}=b;this.hls.trigger(T.SUBTITLE_TRACK_SWITCH,{id:N,groupId:H,name:te,type:se,url:We});const $e=this.switchParams(b.url,t?.details);this.loadPlaylist($e)}else this.hls.trigger(T.SUBTITLE_TRACK_SWITCH,{id:i})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let i=-1;const t=wi(this.media.textTracks);for(let l=0;l<t.length;l++)if("hidden"===t[l].mode)i=l;else if("showing"===t[l].mode){i=l;break}this.subtitleTrack!==i&&(this.subtitleTrack=i)}},timelineController:class sl{constructor(i){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=i,this.config=i.config,this.Cues=i.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const t=new os(this,"textTrack1"),l=new os(this,"textTrack2"),h=new os(this,"textTrack3"),b=new os(this,"textTrack4");this.cea608Parser1=new Ra(1,t,l),this.cea608Parser2=new Ra(3,h,b)}i.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(T.FRAG_LOADING,this.onFragLoading,this),i.on(T.FRAG_LOADED,this.onFragLoaded,this),i.on(T.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.on(T.FRAG_DECRYPTED,this.onFragDecrypted,this),i.on(T.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(T.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:i}=this;i.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(T.FRAG_LOADING,this.onFragLoading,this),i.off(T.FRAG_LOADED,this.onFragLoaded,this),i.off(T.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.off(T.FRAG_DECRYPTED,this.onFragDecrypted,this),i.off(T.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(T.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(i,t,l,h,b){let N=!1;for(let H=b.length;H--;){const te=b[H],se=Wc(te[0],te[1],t,l);if(se>=0&&(te[0]=Math.min(te[0],t),te[1]=Math.max(te[1],l),N=!0,se/(l-t)>.5))return}if(N||b.push([t,l]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[i],t,l,h);else{const H=this.Cues.newCue(null,t,l,h);this.hls.trigger(T.CUES_PARSED,{type:"captions",cues:H,track:i})}}onInitPtsFound(i,{frag:t,id:l,initPTS:h,timescale:b}){const{unparsedVttFrags:N}=this;"main"===l&&(this.initPTS[t.cc]={baseTime:h,timescale:b}),N.length&&(this.unparsedVttFrags=[],N.forEach(H=>{this.onFragLoaded(T.FRAG_LOADED,H)}))}getExistingTrack(i){const{media:t}=this;if(t)for(let l=0;l<t.textTracks.length;l++){const h=t.textTracks[l];if(h[i])return h}return null}createCaptionsTrack(i){this.config.renderTextTracksNatively?this.createNativeTrack(i):this.createNonNativeTrack(i)}createNativeTrack(i){if(this.captionsTracks[i])return;const{captionsProperties:t,captionsTracks:l,media:h}=this,{label:b,languageCode:N}=t[i],H=this.getExistingTrack(i);if(H)l[i]=H,Br(l[i]),Ro(l[i],h);else{const te=this.createTextTrack("captions",b,N);te&&(te[i]=!0,l[i]=te)}}createNonNativeTrack(i){if(this.nonNativeCaptionsTracks[i])return;const t=this.captionsProperties[i];if(!t)return;const h={_id:i,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[i]=h,this.hls.trigger(T.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[h]})}createTextTrack(i,t,l){const h=this.media;if(h)return h.addTextTrack(i,t,l)}onMediaAttaching(i,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:i}=this;Object.keys(i).forEach(t=>{Br(i[t]),delete i[t]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:i}=this;if(!i)return;const t=i.textTracks;if(t)for(let l=0;l<t.length;l++)Br(t[l])}onSubtitleTracksUpdated(i,t){const l=t.subtitleTracks||[],h=l.some(b=>b.textCodec===cc);if(this.config.enableWebVTT||h&&this.config.enableIMSC1){if(Je(this.tracks,l))return void(this.tracks=l);if(this.textTracks=[],this.tracks=l,this.config.renderTextTracksNatively){const N=this.media?this.media.textTracks:null;this.tracks.forEach((H,te)=>{let se;if(N&&te<N.length){let We=null;for(let $e=0;$e<N.length;$e++)if(ud(N[$e],H)){We=N[$e];break}We&&(se=We)}if(se)Br(se);else{const We=this._captionsOrSubtitlesFromCharacteristics(H);se=this.createTextTrack(We,H.name,H.lang),se&&(se.mode="disabled")}se&&(se.groupId=H.groupId,this.textTracks.push(se))})}else if(this.tracks.length){const N=this.tracks.map(H=>({label:H.name,kind:H.type.toLowerCase(),default:H.default,subtitleTrack:H}));this.hls.trigger(T.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:N})}}}_captionsOrSubtitlesFromCharacteristics(i){if(i.attrs.CHARACTERISTICS){const t=/transcribes-spoken-dialog/gi.test(i.attrs.CHARACTERISTICS),l=/describes-music-and-sound/gi.test(i.attrs.CHARACTERISTICS);if(t&&l)return"captions"}return"subtitles"}onManifestLoaded(i,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(l=>{const h=/(?:CC|SERVICE)([1-4])/.exec(l.instreamId);if(!h)return;const N=this.captionsProperties[`textTrack${h[1]}`];N&&(N.label=l.name,l.lang&&(N.languageCode=l.lang),N.media=l)})}closedCaptionsForLevel(i){const t=this.hls.levels[i.level];return t?.attrs["CLOSED-CAPTIONS"]}onFragLoading(i,t){const{cea608Parser1:l,cea608Parser2:h,lastSn:b,lastPartIndex:N}=this;if(this.enabled&&l&&h&&"main"===t.frag.type){var H,te;const se=t.frag.sn,We=null!=(H=null==t||null==(te=t.part)?void 0:te.index)?H:-1;se===b+1||se===b&&We===N+1||(l.reset(),h.reset()),this.lastSn=se,this.lastPartIndex=We}}onFragLoaded(i,t){const{frag:l,payload:h}=t;if("subtitle"===l.type)if(h.byteLength){const b=l.decryptdata;if(null==b||!b.encrypted||"stats"in t){const H=this.tracks[l.level],te=this.vttCCs;te[l.cc]||(te[l.cc]={start:l.start,prevCC:this.prevCC,new:!0},this.prevCC=l.cc),H&&H.textCodec===cc?this._parseIMSC1(l,h):this._parseVTTs(t)}}else this.hls.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:l,error:new Error("Empty subtitle payload")})}_parseIMSC1(i,t){const l=this.hls;jc(t,this.initPTS[i.cc],h=>{this._appendCues(h,i.level),l.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},h=>{j.log(`Failed to parse IMSC1: ${h}`),l.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:h})})}_parseVTTs(i){var t;const{frag:l,payload:h}=i,{initPTS:b,unparsedVttFrags:N}=this,H=b.length-1;if(!b[l.cc]&&-1===H)return void N.push(i);const te=this.hls;!function rl(p,i,t,l,h,b,N){const H=new tu,te=Bt(new Uint8Array(p)).trim().replace(Dl,"\n").split("\n"),se=[],We=i?function Bl(p,i=1){return $r(p,9e4,1/i)}(i.baseTime,i.timescale):0;let Gt,$e="00:00.000",Ct=0,xt=0,Wt=!0;H.oncue=function(rn){const En=t[l];let kn=t.ccOffset;const Pn=(Ct-We)/9e4;if(null!=En&&En.new&&(void 0!==xt?kn=t.ccOffset=En.start:function(i,t,l){let h=i[t],b=i[h.prevCC];if(!b||!b.new&&h.new)return i.ccOffset=i.presentationOffset=h.start,void(h.new=!1);for(;null!=(N=b)&&N.new;){var N;i.ccOffset+=h.start-b.start,h.new=!1,h=b,b=i[h.prevCC]}i.presentationOffset=l}(t,l,Pn)),Pn){if(!i)return void(Gt=new Error("Missing initPTS for VTT MPEGTS"));kn=Pn-t.presentationOffset}const zn=rn.endTime-rn.startTime,Yn=Sr(9e4*(rn.startTime+kn-xt),9e4*h)/9e4;rn.startTime=Math.max(Yn,0),rn.endTime=Math.max(Yn+zn,0);const ci=rn.text.trim();rn.text=decodeURIComponent(encodeURIComponent(ci)),rn.id||(rn.id=Hc(rn.startTime,rn.endTime,ci)),rn.endTime>0&&se.push(rn)},H.onparsingerror=function(rn){Gt=rn},H.onflush=function(){Gt?N(Gt):b(se)},te.forEach(rn=>{if(Wt){if(Hl(rn,"X-TIMESTAMP-MAP=")){Wt=!1,rn.slice(16).split(",").forEach(En=>{Hl(En,"LOCAL:")?$e=En.slice(6):Hl(En,"MPEGTS:")&&(Ct=parseInt(En.slice(7)))});try{xt=function(i){let t=parseInt(i.slice(-3));const l=parseInt(i.slice(-6,-4)),h=parseInt(i.slice(-9,-7)),b=i.length>9?parseInt(i.substring(0,i.indexOf(":"))):0;if(!(D(t)&&D(l)&&D(h)&&D(b)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${i}`);return t+=1e3*l,t+=6e4*h,t+=36e5*b,t}($e)/1e3}catch(En){Gt=En}return}""===rn&&(Wt=!1)}H.parse(rn+"\n")}),H.flush()}(null!=(t=l.initSegment)&&t.data?Kn(l.initSegment.data,new Uint8Array(h)):h,this.initPTS[l.cc],this.vttCCs,l.cc,l.start,We=>{this._appendCues(We,l.level),te.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:l})},We=>{const $e="Missing initPTS for VTT MPEGTS"===We.message;$e?N.push(i):this._fallbackToIMSC1(l,h),j.log(`Failed to parse VTT cue: ${We}`),!($e&&H>l.cc)&&te.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:l,error:We})})}_fallbackToIMSC1(i,t){const l=this.tracks[i.level];l.textCodec||jc(t,this.initPTS[i.cc],()=>{l.textCodec=cc,this._parseIMSC1(i,t)},()=>{l.textCodec="wvtt"})}_appendCues(i,t){const l=this.hls;if(this.config.renderTextTracksNatively){const h=this.textTracks[t];if(!h||"disabled"===h.mode)return;i.forEach(b=>Xr(h,b))}else{const h=this.tracks[t];if(!h)return;l.trigger(T.CUES_PARSED,{type:"subtitles",cues:i,track:h.default?"default":"subtitles"+t})}}onFragDecrypted(i,t){const{frag:l}=t;"subtitle"===l.type&&this.onFragLoaded(T.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(i,t){const{cea608Parser1:l,cea608Parser2:h}=this;if(!this.enabled||!l||!h)return;const{frag:b,samples:N}=t;if("main"!==b.type||"NONE"!==this.closedCaptionsForLevel(b))for(let H=0;H<N.length;H++){const te=N[H].bytes;if(te){const se=this.extractCea608Data(te);l.addData(N[H].pts,se[0]),h.addData(N[H].pts,se[1])}}}onBufferFlushing(i,{startOffset:t,endOffset:l,endOffsetSubtitles:h,type:b}){const{media:N}=this;if(N&&!(N.currentTime<l)){if(!b||"video"===b){const{captionsTracks:H}=this;Object.keys(H).forEach(te=>No(H[te],t,l))}if(this.config.renderTextTracksNatively&&0===t&&void 0!==h){const{textTracks:H}=this;Object.keys(H).forEach(te=>No(H[te],t,h))}}}extractCea608Data(i){const t=[[],[]],l=31&i[0];let h=2;for(let b=0;b<l;b++){const N=i[h++],H=127&i[h++],te=127&i[h++];if((0!==H||0!==te)&&0!=(4&N)){const We=3&N;(0===We||1===We)&&(t[We].push(H),t[We].push(te))}}return t}},audioStreamController:class rt extends us{constructor(i,t,l){super(i,t,l,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:i}=this;i.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.LEVEL_LOADED,this.onLevelLoaded,this),i.on(T.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.on(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(T.ERROR,this.onError,this),i.on(T.BUFFER_RESET,this.onBufferReset,this),i.on(T.BUFFER_CREATED,this.onBufferCreated,this),i.on(T.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(T.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(T.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.LEVEL_LOADED,this.onLevelLoaded,this),i.off(T.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.off(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(T.ERROR,this.onError,this),i.off(T.BUFFER_RESET,this.onBufferReset,this),i.off(T.BUFFER_CREATED,this.onBufferCreated,this),i.off(T.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(T.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(T.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(i,{frag:t,id:l,initPTS:h,timescale:b}){if("main"===l){const N=t.cc;this.initPTS[t.cc]={baseTime:h,timescale:b},this.log(`InitPTS for cc: ${N} found from main: ${h}`),this.videoTrackCC=N,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(i){if(!this.levels)return this.startPosition=i,void(this.state="STOPPED");const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===i?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),i=t,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var i;const{levels:l,trackId:h}=this,b=null==l||null==(i=l[h])?void 0:i.details;if(b){if(this.waitForCdnTuneIn(b))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var t;const l=performance.now(),h=this.retryDate;(!h||l>=h||null!=(t=this.media)&&t.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const l=this.waitingData;if(l){const{frag:h,part:b,cache:N,complete:H}=l;if(void 0!==this.initPTS[h.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const se={frag:h,part:b,payload:N.flush(),networkDetails:null};this._handleFragmentLoadProgress(se),H&&super._handleFragmentLoadComplete(se)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${h.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const te=this.getLoadPosition(),se=_r.bufferInfo(this.mediaBuffer,te,this.config.maxBufferHole);pr(se.end,this.config.maxFragLookUpTolerance,h)<0&&(this.log(`Waiting fragment cc (${h.cc}) @ ${h.start} cancelled because another fragment at ${se.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const i=this.waitingData;i&&(this.fragmentTracker.removeFragment(i.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:i}=this;null!=i&&i.readyState&&(this.lastCurrentTime=i.currentTime)}doTickIdle(){const{hls:i,levels:t,media:l,trackId:h}=this;if(null==t||!t[h]||!l&&(this.startFragRequested||!i.config.startFragPrefetch))return;const N=t[h],H=N.details;if(!H||H.live&&this.levelLastLoaded!==h||this.waitForCdnTuneIn(H))return void(this.state="WAITING_TRACK");const te=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&te&&(this.bufferFlushed=!1,this.afterBufferFlushed(te,"audio","audio"));const se=this.getFwdBufferInfo(te,"audio");if(null===se)return;const{bufferedTrack:We,switchingTrack:$e}=this;if(!$e&&this._streamEnded(se,H))return i.trigger(T.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Ct=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),xt=se.len,Gt=this.getMaxBufferLength(Ct?.len);if(xt>=Gt&&!$e)return;const rn=H.fragments[0].start;let En=se.end;if($e&&l){const Yn=this.getLoadPosition();We&&$e.attrs!==We.attrs&&(En=Yn),H.PTSKnown&&Yn<rn&&(se.end>rn||se.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),l.currentTime=rn+.05)}let kn=this.getNextFragment(En,H),Pn=!1;if(kn&&this.isLoopLoading(kn,En)&&(Pn=!!kn.gap,kn=this.getNextFragmentLoopLoading(kn,H,se,"main",Gt)),!kn)return void(this.bufferFlushed=!0);const zn=Ct&&kn.start>Ct.end+H.targetduration;if(zn||(null==Ct||!Ct.len)&&se.len){const Yn=this.getAppendedFrag(kn.start,"main");if(null===Yn||(Pn||(Pn=!!Yn.gap||!!zn&&0===Ct.len),zn&&!Pn||Pn&&se.nextStart&&se.nextStart<Yn.end))return}this.loadFragment(kn,N,En)}getMaxBufferLength(i){const t=super.getMaxBufferLength();return i?Math.min(Math.max(t,i),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(i,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(l=>new Ui(l))}onAudioTrackSwitching(i,t){const l=!!t.url;this.trackId=t.id;const{fragCurrent:h}=this;h&&(h.abortRequests(),this.removeUnbufferedFrags(h.start)),this.resetLoadingState(),l?this.setInterval(100):this.resetTransmuxer(),l?(this.switchingTrack=t,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=t,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(i,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(T.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(i,t){var l;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:h}=this,{details:b,id:N}=t;if(!h)return void this.warn(`Audio tracks were reset while loading level ${N}`);this.log(`Track ${N} loaded [${b.startSN},${b.endSN}]${b.lastPartSn?`[part-${b.lastPartSn}-${b.lastPartIndex}]`:""},duration:${b.totalduration}`);const H=h[N];let te=0;if(b.live||null!=(l=H.details)&&l.live){const se=this.mainDetails;if(b.fragments[0]||(b.deltaUpdateFailed=!0),b.deltaUpdateFailed||!se)return;!H.details&&b.hasProgramDateTime&&se.hasProgramDateTime?(Zo(b,se),te=b.fragments[0].start):te=this.alignPlaylists(b,H.details)}H.details=b,this.levelLastLoaded=N,!this.startFragRequested&&(this.mainDetails||!b.live)&&this.setStartPosition(H.details,te),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(b)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(i){var t;const{frag:l,part:h,payload:b}=i,{config:N,trackId:H,levels:te}=this;if(!te)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${l.sn} of level ${l.level} will not be buffered`);const se=te[H];if(!se)return void this.warn("Audio track is undefined on fragment load progress");const We=se.details;if(!We)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(l.start);const $e=N.defaultAudioCodec||se.audioCodec||"mp4a.40.2";let Ct=this.transmuxer;Ct||(Ct=this.transmuxer=new qs(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const xt=this.initPTS[l.cc],Gt=null==(t=l.initSegment)?void 0:t.data;if(void 0!==xt){const rn=h?h.index:-1,kn=new ar(l.level,l.sn,l.stats.chunkCount,b.byteLength,rn,-1!==rn);Ct.push(b,Gt,$e,"",l,h,We.totalduration,!1,kn,xt)}else{this.log(`Unknown video PTS for cc ${l.cc}, waiting for video PTS before demuxing audio frag ${l.sn} of [${We.startSN} ,${We.endSN}],track ${H}`);const{cache:Wt}=this.waitingData=this.waitingData||{frag:l,part:h,cache:new $o,complete:!1};Wt.push(new Uint8Array(b)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(i){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(i)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(i,t){const l=t.tracks.audio;l&&(this.mediaBuffer=l.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(i,t){const{frag:l,part:h}=t;if("audio"===l.type)if(this.fragContextChanged(l))this.warn(`Fragment ${l.sn}${h?" p: "+h.index:""} of level ${l.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==l.sn){this.fragPrevious=l;const b=this.switchingTrack;b&&(this.bufferedTrack=b,this.switchingTrack=null,this.hls.trigger(T.AUDIO_TRACK_SWITCHED,k({},b)))}this.fragBufferedComplete(l,h)}else if(!this.loadedmetadata&&"main"===l.type){const b=this.videoBuffer||this.media;b&&_r.getBuffered(b).length&&(this.loadedmetadata=!0)}}onError(i,t){var l;if(t.fatal)this.state="ERROR";else switch(t.details){case O.FRAG_GAP:case O.FRAG_PARSING_ERROR:case O.FRAG_DECRYPT_ERROR:case O.FRAG_LOAD_ERROR:case O.FRAG_LOAD_TIMEOUT:case O.KEY_LOAD_ERROR:case O.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",t);break;case O.AUDIO_TRACK_LOAD_ERROR:case O.AUDIO_TRACK_LOAD_TIMEOUT:case O.LEVEL_PARSING_ERROR:!t.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(l=t.context)?void 0:l.type)&&(this.state="IDLE");break;case O.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case O.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushed(i,{type:t}){"audio"===t&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(i){var t;const l="audio",{hls:h}=this,{remuxResult:b,chunkMeta:N}=i,H=this.getCurrentContext(N);if(!H)return void this.resetWhenMissingContext(N);const{frag:te,part:se,level:We}=H,{details:$e}=We,{audio:Ct,text:xt,id3:Gt,initSegment:Wt}=b;if(!this.fragContextChanged(te)&&$e){if(this.state="PARSING",this.switchingTrack&&Ct&&this.completeAudioSwitch(this.switchingTrack),null!=Wt&&Wt.tracks){const rn=te.initSegment||te;this._bufferInitSegment(Wt.tracks,rn,N),h.trigger(T.FRAG_PARSING_INIT_SEGMENT,{frag:rn,id:l,tracks:Wt.tracks})}if(Ct){const{startPTS:rn,endPTS:En,startDTS:kn,endDTS:Pn}=Ct;se&&(se.elementaryStreams.audio={startPTS:rn,endPTS:En,startDTS:kn,endDTS:Pn}),te.setElementaryStreamInfo("audio",rn,En,kn,Pn),this.bufferFragmentData(Ct,te,se,N)}if(null!=Gt&&null!=(t=Gt.samples)&&t.length){const rn=B({id:l,frag:te,details:$e},Gt);h.trigger(T.FRAG_PARSING_METADATA,rn)}if(xt){const rn=B({id:l,frag:te,details:$e},xt);h.trigger(T.FRAG_PARSING_USERDATA,rn)}}else this.fragmentTracker.removeFragment(te)}_bufferInitSegment(i,t,l){if("PARSING"!==this.state)return;i.video&&delete i.video;const h=i.audio;if(!h)return;h.levelCodec=h.codec,h.id="audio",this.log(`Init audio buffer, container:${h.container}, codecs[parsed]=[${h.codec}]`),this.hls.trigger(T.BUFFER_CODECS,i);const b=h.initSegment;null!=b&&b.byteLength&&this.hls.trigger(T.BUFFER_APPENDING,{type:"audio",frag:t,part:null,chunkMeta:l,parent:t.type,data:b}),this.tick()}loadFragment(i,t,l){const h=this.fragmentTracker.getState(i);var b;this.fragCurrent=i,this.switchingTrack||"NOT_LOADED"===h||"PARTIAL"===h?"initSegment"===i.sn?this._loadInitSegment(i,t):null!=(b=t.details)&&b.live&&!this.initPTS[i.cc]?(this.log(`Waiting for video PTS in continuity counter ${i.cc} of live stream before loading audio fragment ${i.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(i,t,l)):this.clearTrackerIfNeeded(i)}completeAudioSwitch(i){const{hls:t,media:l,bufferedTrack:h}=this,b=h?.attrs,N=i.attrs;l&&b&&(b.CHANNELS!==N.CHANNELS||b.NAME!==N.NAME||b.LANGUAGE!==N.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=i,this.switchingTrack=null,t.trigger(T.AUDIO_TRACK_SWITCHED,k({},i))}},audioTrackController:class Me extends xs{constructor(i){super(i,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_PARSED,this.onManifestParsed,this),i.on(T.LEVEL_LOADING,this.onLevelLoading,this),i.on(T.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_PARSED,this.onManifestParsed,this),i.off(T.LEVEL_LOADING,this.onLevelLoading,this),i.off(T.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(T.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(i,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(i,t){const{id:l,groupId:h,details:b}=t,N=this.tracksInGroup[l];if(!N||N.groupId!==h)return void this.warn(`Track with id:${l} and group:${h} not found in active group ${N.groupId}`);const H=N.details;N.details=t.details,this.log(`audio-track ${l} "${N.name}" lang:${N.lang} group:${h} loaded [${b.startSN}-${b.endSN}]`),l===this.trackId&&this.playlistLoaded(l,t,H)}onLevelLoading(i,t){this.switchLevel(t.level)}onLevelSwitching(i,t){this.switchLevel(t.level)}switchLevel(i){const t=this.hls.levels[i];if(null==t||!t.audioGroupIds)return;const l=t.audioGroupIds[t.urlId];if(this.groupId!==l){this.groupId=l||null;const h=this.tracks.filter(N=>!l||N.groupId===l);this.selectDefaultTrack&&!h.some(N=>N.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=h;const b={audioTracks:h};this.log(`Updating audio tracks, ${h.length} track(s) found in group:${l}`),this.hls.trigger(T.AUDIO_TRACKS_UPDATED,b),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(i,t){t.fatal||!t.context||"audioTrack"===t.context.type&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(i){this.selectDefaultTrack=!1,this.setAudioTrack(i)}setAudioTrack(i){const t=this.tracksInGroup;if(i<0||i>=t.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const l=this.currentTrack,h=t[i],{groupId:b,name:N}=h;if(this.log(`Switching to audio-track ${i} "${N}" lang:${h.lang} group:${b}`),this.trackId=i,this.currentTrack=h,this.selectDefaultTrack=!1,this.hls.trigger(T.AUDIO_TRACK_SWITCHING,k({},h)),h.details&&!h.details.live)return;const H=this.switchParams(h.url,l?.details);this.loadPlaylist(H)}selectInitialTrack(){const i=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{const l=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${i.length}`);this.warn(l.message),this.hls.trigger(T.ERROR,{type:C.MEDIA_ERROR,details:O.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:l})}}findTrackId(i){const t=this.tracksInGroup;for(let l=0;l<t.length;l++){const h=t[l];if((!this.selectDefaultTrack||h.default)&&(!i||void 0!==i.attrs["STABLE-RENDITION-ID"]&&i.attrs["STABLE-RENDITION-ID"]===h.attrs["STABLE-RENDITION-ID"]||i.name===h.name&&i.lang===h.lang))return h.id}return-1}loadPlaylist(i){super.loadPlaylist();const t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){const l=t.id,h=t.groupId;let b=t.url;if(i)try{b=i.addDirectives(b)}catch(N){this.warn(`Could not construct new URL with HLS Delivery Directives: ${N}`)}this.log(`loading audio-track playlist ${l} "${t.name}" lang:${t.lang} group:${h}`),this.clearTimer(),this.hls.trigger(T.AUDIO_TRACK_LOADING,{url:b,id:l,groupId:h,deliveryDirectives:i||null})}}},emeController:Nf,cmcdController:to,contentSteeringController:class uc{constructor(i){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=i,this.log=j.log.bind(j,"[content-steering]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(T.MANIFEST_LOADING,this.onManifestLoading,this),i.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(T.MANIFEST_PARSED,this.onManifestParsed,this),i.on(T.ERROR,this.onError,this)}unregisterListeners(){const i=this.hls;i&&(i.off(T.MANIFEST_LOADING,this.onManifestLoading,this),i.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(T.MANIFEST_PARSED,this.onManifestParsed,this),i.off(T.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const i=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,i)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(i){const t=this.levels;t&&(this.levels=t.filter(l=>l!==i))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(i,t){const{contentSteering:l}=t;null!==l&&(this.pathwayId=l.pathwayId,this.uri=l.uri,this.started&&this.startLoad())}onManifestParsed(i,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(i,t){const{errorAction:l}=t;if(2===l?.action&&1===l.flags){let h=this.pathwayPriority;const b=this.pathwayId;this.penalizedPathways[b]||(this.penalizedPathways[b]=performance.now()),!h&&this.levels&&(h=this.levels.reduce((N,H)=>(-1===N.indexOf(H.pathwayId)&&N.push(H.pathwayId),N),[])),h&&h.length>1&&(this.updatePathwayPriority(h),l.resolved=this.pathwayId!==b)}}filterParsedLevels(i){this.levels=i;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const l=i[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${l}"`),t=this.getLevelsForPathway(l),this.pathwayId=l}return t.length!==i.length?(this.log(`Found ${t.length}/${i.length} levels in Pathway "${this.pathwayId}"`),t):i}getLevelsForPathway(i){return null===this.levels?[]:this.levels.filter(t=>i===t.pathwayId)}updatePathwayPriority(i){let t;this.pathwayPriority=i;const l=this.penalizedPathways,h=performance.now();Object.keys(l).forEach(b=>{h-l[b]>3e5&&delete l[b]});for(let b=0;b<i.length;b++){const N=i[b];if(l[N])continue;if(N===this.pathwayId)return;const H=this.hls.nextLoadLevel,te=this.hls.levels[H];if(t=this.getLevelsForPathway(N),t.length>0){this.log(`Setting Pathway to "${N}"`),this.pathwayId=N,this.hls.trigger(T.LEVELS_UPDATED,{levels:t});const se=this.hls.levels[H];te&&se&&this.levels&&(se.attrs["STABLE-VARIANT-ID"]!==te.attrs["STABLE-VARIANT-ID"]&&se.bitrate!==te.bitrate&&this.log(`Unstable Pathways change from bitrate ${te.bitrate} to ${se.bitrate}`),this.hls.nextLoadLevel=H);break}}}clonePathways(i){const t=this.levels;if(!t)return;const l={},h={};i.forEach(b=>{const{ID:N,"BASE-ID":H,"URI-REPLACEMENT":te}=b;if(t.some(We=>We.pathwayId===N))return;const se=this.getLevelsForPathway(H).map(We=>{const $e=B({},We);$e.details=void 0,$e.url=Vs(We.uri,We.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",te);const Ct=new ve(We.attrs);Ct["PATHWAY-ID"]=N;const xt=Ct.AUDIO&&`${Ct.AUDIO}_clone_${N}`,Gt=Ct.SUBTITLES&&`${Ct.SUBTITLES}_clone_${N}`;xt&&(l[Ct.AUDIO]=xt,Ct.AUDIO=xt),Gt&&(h[Ct.SUBTITLES]=Gt,Ct.SUBTITLES=Gt),$e.attrs=Ct;const Wt=new Ui($e);return ts(Wt,"audio",xt),ts(Wt,"text",Gt),Wt});t.push(...se),js(this.audioTracks,l,te,N),js(this.subtitleTracks,h,te,N)})}loadSteeringManifest(i){const t=this.hls.config,l=t.loader;let h;this.loader&&this.loader.destroy(),this.loader=new l(t);try{h=new self.URL(i)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${i}`)}if("data:"!==h.protocol){const We=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);h.searchParams.set("_HLS_pathway",this.pathwayId),h.searchParams.set("_HLS_throughput",""+We)}const b={responseType:"json",url:h.href},N=t.steeringManifestLoadPolicy.default,H=N.errorRetry||N.timeoutRetry||{},te={loadPolicy:N,timeout:N.maxLoadTimeMs,maxRetry:H.maxNumRetry||0,retryDelay:H.retryDelayMs||0,maxRetryDelay:H.maxRetryDelayMs||0},se={onSuccess:(We,$e,Ct,xt)=>{this.log(`Loaded steering manifest: "${h}"`);const Gt=We.data;if(1!==Gt.VERSION)return void this.log(`Steering VERSION ${Gt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=Gt.TTL;const{"RELOAD-URI":Wt,"PATHWAY-CLONES":rn,"PATHWAY-PRIORITY":En}=Gt;if(Wt)try{this.uri=new self.URL(Wt,h).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${Wt}`)}this.scheduleRefresh(this.uri||Ct.url),rn&&this.clonePathways(rn),En&&this.updatePathwayPriority(En)},onError:(We,$e,Ct,xt)=>{if(this.log(`Error loading steering manifest: ${We.code} ${We.text} (${$e.url})`),this.stopLoad(),410===We.code)return this.enabled=!1,void this.log(`Steering manifest ${$e.url} no longer available`);let Gt=1e3*this.timeToLoad;if(429!==We.code)this.scheduleRefresh(this.uri||$e.url,Gt);else{const Wt=this.loader;if("function"==typeof Wt?.getResponseHeader){const rn=Wt.getResponseHeader("Retry-After");rn&&(Gt=1e3*parseFloat(rn))}this.log(`Steering manifest ${$e.url} rate limited`)}},onTimeout:(We,$e,Ct)=>{this.log(`Timeout loading steering manifest (${$e.url})`),this.scheduleRefresh(this.uri||$e.url)}};this.log(`Requesting steering manifest: ${h}`),this.loader.load(b,te,se)}scheduleRefresh(i,t=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(i)},t)}}});function Mi(p){return p&&"object"==typeof p?Array.isArray(p)?p.map(Mi):Object.keys(p).reduce((i,t)=>(i[t]=Mi(p[t]),i),{}):p}let Hi=(()=>{class p{static get version(){return"1.4.10"}static isSupported(){return function Ka(){const p=Ln();if(!p)return!1;const i=_a();return!(!p||"function"!=typeof p.isTypeSupported||!p.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||i&&(!i.prototype||"function"!=typeof i.prototype.appendBuffer||"function"!=typeof i.prototype.remove))}()}static get Events(){return T}static get ErrorTypes(){return C}static get ErrorDetails(){return O}static get DefaultConfig(){return p.defaultConfig?p.defaultConfig:$n}static set DefaultConfig(t){p.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new ba,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function Ae(p,i){if(self.console&&!0===p||"object"==typeof p){!function ae(p,...i){i.forEach(function(t){Z[t]=p[t]?p[t].bind(p):function ee(p){const i=self.console[p];return i?i.bind(self.console,`[${p}] >`):M}(t)})}(p,"debug","log","info","warn","error");try{Z.log(`Debug logs enabled for "${i}" in hls.js version 1.4.10`)}catch{Z=G}}else Z=G}(t.debug||!1,"Hls instance");const l=this.config=function gi(p,i){if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==i.liveMaxLatencyDurationCount&&(void 0===i.liveSyncDurationCount||i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(void 0===i.liveSyncDuration||i.liveMaxLatencyDuration<=i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const t=Mi(p),h=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(b=>{const N=`${"level"===b?"playlist":b}LoadPolicy`,H=void 0===i[N],te=[];h.forEach(se=>{const We=`${b}Loading${se}`,$e=i[We];if(void 0!==$e&&H){te.push(We);const Ct=t[N].default;switch(i[N]={default:Ct},se){case"TimeOut":Ct.maxLoadTimeMs=$e,Ct.maxTimeToFirstByteMs=$e;break;case"MaxRetry":Ct.errorRetry.maxNumRetry=$e,Ct.timeoutRetry.maxNumRetry=$e;break;case"RetryDelay":Ct.errorRetry.retryDelayMs=$e,Ct.timeoutRetry.retryDelayMs=$e;break;case"MaxRetryTimeout":Ct.errorRetry.maxRetryDelayMs=$e,Ct.timeoutRetry.maxRetryDelayMs=$e}}}),te.length&&j.warn(`hls.js config: "${te.join('", "')}" setting(s) are deprecated, use "${N}": ${JSON.stringify(i[N])}`)}),k(k({},t),i)}(p.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,l.progressive&&function Zi(p){const i=p.loader;i!==fc&&i!==ro?(j.log("[config]: Custom loader detected, cannot enable progressive streaming"),p.progressive=!1):function Zl(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(p.loader=fc,p.progressive=!0,p.enableSoftwareAES=!0,j.log("[config]: Progressive streaming enabled, using FetchLoader"))}(l);const{abrController:h,bufferController:b,capLevelController:N,errorController:H,fpsController:te}=l,se=new H(this),We=this.abrController=new h(this),$e=this.bufferController=new b(this),Ct=this.capLevelController=new N(this),xt=new te(this),Gt=new ls(this),Wt=new _n(this),rn=l.contentSteeringController,En=rn?new rn(this):null,kn=this.levelController=new vs(this,En),Pn=new zo(this),zn=new pa(this.config),Yn=this.streamController=new Nc(this,Pn,zn);Ct.setStreamController(Yn),xt.setStreamController(Yn);const ci=[Gt,kn,Yn];En&&ci.splice(1,0,En),this.networkControllers=ci;const Xn=[We,$e,Ct,xt,Wt,Pn];this.audioTrackController=this.createController(l.audioTrackController,ci);const mi=l.audioStreamController;mi&&ci.push(new mi(this,Pn,zn)),this.subtitleTrackController=this.createController(l.subtitleTrackController,ci);const Ti=l.subtitleStreamController;Ti&&ci.push(new Ti(this,Pn,zn)),this.createController(l.timelineController,Xn),zn.emeController=this.emeController=this.createController(l.emeController,Xn),this.cmcdController=this.createController(l.cmcdController,Xn),this.latencyController=this.createController(Vn,Xn),this.coreComponents=Xn,ci.push(se);const qn=se.onErrorOut;"function"==typeof qn&&this.on(T.ERROR,qn,se)}createController(t,l){if(t){const h=new t(this);return l&&l.push(h),h}return null}on(t,l,h=this){this._emitter.on(t,l,h)}once(t,l,h=this){this._emitter.once(t,l,h)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,l,h=this,b){this._emitter.off(t,l,h,b)}listeners(t){return this._emitter.listeners(t)}emit(t,l,h){return this._emitter.emit(t,l,h)}trigger(t,l){if(this.config.debug)return this.emit(t,t,l);try{return this.emit(t,t,l)}catch(h){j.error("An internal error happened while handling event "+t+'. Error message: "'+h.message+'". Here is a stacktrace:',h),this.trigger(T.ERROR,{type:C.OTHER_ERROR,details:O.INTERNAL_EXCEPTION,fatal:!1,event:t,error:h})}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){j.log("destroy"),this.trigger(T.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(l=>l.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(l=>l.destroy()),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){j.log("attachMedia"),this._media=t,this.trigger(T.MEDIA_ATTACHING,{media:t})}detachMedia(){j.log("detachMedia"),this.trigger(T.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const l=this.media,h=this.url,b=this.url=m.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});j.log(`loadSource:${b}`),l&&h&&(h!==b||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(l)),this.trigger(T.MANIFEST_LOADING,{url:t})}startLoad(t=-1){j.log(`startLoad(${t})`),this.networkControllers.forEach(l=>{l.startLoad(t)})}stopLoad(){j.log("stopLoad"),this.networkControllers.forEach(t=>{t.stopLoad()})}swapAudioCodec(){j.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){j.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t,l=0){this.levelController.removeLevel(t,l)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){j.log(`set currentLevel:${t}`),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){j.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){j.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){j.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){return this.levelController.startLevel}set startLevel(t){j.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const l=!!t;l!==this.config.capLevelToPlayerSize&&(l?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=l)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(j.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){ri.indexOf(t)>-1&&(this._maxHdcpLevel=t)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:l}}=this;if(!t)return 0;const h=t.length;for(let b=0;b<h;b++)if(t[b].maxBitrate>=l)return b;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:l,maxHdcpLevel:h}=this;let b;if(b=-1===l&&t&&t.length?t.length-1:l,h)for(let N=b;N--;){const H=t[N].attrs["HDCP-LEVEL"];if(H&&H<=h)return N}return b}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const l=this.audioTrackController;l&&(l.audioTrack=t)}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const l=this.subtitleTrackController;l&&(l.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const l=this.subtitleTrackController;l&&(l.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return p.defaultConfig=void 0,p})();var Vi=v(863),no=v(7700),Ni=v(6814);function Cs(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw();return n.KtG(N.onClickDialogAction(b))}),n._uU(1),n.qZA()}if(2&p){const t=i.$implicit;n.xp6(1),n.Oqu(t.text)}}let ll=(()=>{class p{constructor(t,l){this.dialog=t,this.options=l}onClickDialogAction(t){this.dialog.close(t)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(no.so),n.Y36(no.WI))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0)(1,"h5",1),n._uU(2),n.qZA()(),n.TgZ(3,"div",2)(4,"div",3),n._uU(5),n.qZA()(),n.TgZ(6,"div",4)(7,"div",5),n.YNc(8,Cs,2,1,"ng-template",6),n.qZA()()),2&l&&(n.xp6(2),n.Oqu(h.options.title),n.xp6(3),n.hij(" ",h.options.message," "),n.xp6(3),n.Q6J("ngForOf",h.options.actions))},dependencies:[Ni.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return p})();class hc{}class ru{}class ou{}class hd{}class Yu{}var xl=v(7541),Fa=v(1044),mc=v(9429);let Lf=(()=>{class p{constructor(t){this.restProvider=t}createTranscodedMediaFile(t,l){return new Promise((h,b)=>{this.restProvider.executeHttpMediaServerApi(Vi.yw.POST,t+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",l).then(H=>{h(H)},H=>{b(H)})})}retranscodeMediaFile(t,l){return new Promise((h,b)=>{this.restProvider.executeHttpMediaServerApi(Vi.yw.PUT,t+"/api/mediaFilePlaybacks/RetranscodeMediaFile",l).then(H=>{h(H)},H=>{b(H)})})}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(mc.C))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var cl=v(5731),ss=v(1367);const kf=["controlsContainer"],em=["settingsContainer"],zu=["videoPrincipalContainer"],Zu=["videoTarget"];function Ff(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",55),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.goToPreviousEpisode())}),n._UZ(1,"i",56),n.qZA()}}function Oe(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",57),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.goToNextEpisode())}),n._UZ(1,"i",58),n.qZA()}}function z(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",59,60),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.playOrPauseVideo())}),n._UZ(2,"i",61),n.qZA()}}function ie(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",62,63),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.playOrPauseVideo())}),n._UZ(2,"i",64),n.qZA()}}const Ye=function(p){return{"show-controls":p}};function Ut(p,i){if(1&p&&(n.TgZ(0,"div",65),n._uU(1," Cargando video... "),n.qZA()),2&p){const t=n.oxw(2);n.Q6J("ngClass",n.VKq(1,Ye,t.showControls))}}const qt=function(p){return{selected:p}};function On(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",76),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(3);return n.KtG(N.onClickPrincipalSettingsOption(b))}),n._uU(1),n.qZA()}if(2&p){const t=i.$implicit,l=n.oxw(3);n.MGl("id","stream_option_",t.index,""),n.Q6J("ngClass",n.VKq(3,qt,l.currentSelectedPrincipalSettingOption&&t.index==l.currentSelectedPrincipalSettingOption.index)),n.xp6(1),n.hij(" ",t.name," ")}}function Zn(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",76),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(4);return n.KtG(N.onClickStreamOption(b))}),n._uU(1),n.qZA()}if(2&p){const t=i.$implicit,l=n.oxw(4);n.hYB("id","stream_option_",l.currentSelectedPrincipalSettingOption.id,"_suboption_",t.index,""),n.Q6J("ngClass",n.VKq(4,qt,l.currentSelectedPrincipalSettingOption.selectedOption&&l.currentSelectedPrincipalSettingOption.selectedOption.index==t.index)),n.xp6(1),n.hij(" ",t.name," ")}}function di(p,i){if(1&p&&(n.TgZ(0,"section",77),n.YNc(1,Zn,2,6,"ng-template",74),n.qZA()),2&p){const t=n.oxw(3);n.MGl("id","streams_suboptions_section_",t.currentSelectedPrincipalSettingOption.index,""),n.xp6(1),n.Q6J("ngForOf",t.currentSelectedPrincipalSettingOption.listOptions)}}function Ci(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"section",66,67)(2,"div",68)(3,"section",69)(4,"div",70)(5,"div",71)(6,"button",72),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.hideSettings())}),n._UZ(7,"i",11),n.qZA()()()(),n.TgZ(8,"section",73),n.YNc(9,On,2,5,"ng-template",74),n.qZA(),n.YNc(10,di,2,2,"section",75),n.qZA()()}if(2&p){const t=n.oxw(2);n.xp6(9),n.Q6J("ngForOf",t.listPrincipalSettingsOptions),n.xp6(1),n.Q6J("ngIf",t.currentSelectedPrincipalSettingOption)}}function Bi(p,i){if(1&p&&n._UZ(0,"div",78),2&p){const t=i.$implicit,l=n.oxw(3);n.Udp("display",l.checkIfDisplaySubtitles(t)?"block":"none"),n.Q6J("innerHtml",t.text,n.oJD)}}function vr(p,i){if(1&p&&n.YNc(0,Bi,1,3,"ng-template",74),2&p){const t=n.oxw(2);n.Q6J("ngForOf",t.currentSubtitleData)}}function Ds(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"video",79,80),n.NdJ("error",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.onErrorVideo())})("loadedmetadata",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.onLoadedMetadata())})("loadeddata",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.onLoadedData())})("ended",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.OnEndedVideo())}),n.qZA()}}const Jl=function(p){return{show:p}};function Ld(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",4,5),n.NdJ("click",function(){n.CHM(t);const h=n.MAs(1),b=n.oxw();return n.KtG(!b.commonService.isMobileDevice()&&b.onClickVideoContainer(h))})("touchstart",function(){n.CHM(t);const h=n.MAs(1),b=n.oxw();return n.KtG(b.commonService.isMobileDevice()&&b.onTouchVideoContainer(h))})("mousemove",function(){n.CHM(t);const h=n.MAs(1),b=n.oxw();return n.KtG(b.onMouseMoveVideoContainer(h))}),n.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.closeVideo())}),n._UZ(7,"i",11),n.qZA(),n.TgZ(8,"div",12),n._uU(9),n.qZA()(),n.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),n._uU(16),n.qZA(),n.TgZ(17,"div",19)(18,"div",20),n.NdJ("contextmenu",function(){n.CHM(t);const h=n.MAs(23),b=n.oxw();return n.KtG(!b.commonService.isMobileDevice()&&b.onClickSlider(h))})("click",function(){n.CHM(t);const h=n.MAs(23),b=n.oxw();return n.KtG(b.onClickSlider(h))})("touchend",function(){n.CHM(t);const h=n.MAs(23),b=n.oxw();return n.KtG(b.commonService.isMobileDevice()&&b.onClickSlider(h))})("touchstart",function(h){n.CHM(t);const b=n.MAs(23),N=n.MAs(15),H=n.oxw();return n.KtG(H.commonService.isMobileDevice()&&H.onTouchStartSlider(h,b,N))})("touchmove",function(h){n.CHM(t);const b=n.MAs(23),N=n.MAs(15),H=n.oxw();return n.KtG(H.commonService.isMobileDevice()&&H.onTouchMoveSlider(h,b,N))})("mousedown",function(h){n.CHM(t);const b=n.MAs(23),N=n.oxw();return n.KtG(N.onMouseDownSlider(h,b))})("mousemove",function(h){n.CHM(t);const b=n.MAs(23),N=n.oxw();return n.KtG(N.onMouseMoveSlider(h,b))}),n._UZ(19,"div",21,22),n.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),n._UZ(26,"div",27,28),n.qZA()()()()(),n.TgZ(28,"div",17,29),n._uU(30),n.qZA()()(),n.TgZ(31,"section",30)(32,"div",31),n.YNc(33,Ff,2,0,"button",32),n.qZA(),n.TgZ(34,"div",33)(35,"div",34),n.YNc(36,Oe,2,0,"button",35),n.TgZ(37,"button",36),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onChangeObjectContain())}),n._UZ(38,"i",37),n.qZA(),n.TgZ(39,"button",38),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.toggleFullScreenVideo())}),n._UZ(40,"i",39),n.qZA(),n.TgZ(41,"button",40),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.showSettings())}),n._UZ(42,"i",41),n.qZA()()()(),n.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.rewindVideo())}),n._UZ(47,"i",46),n.qZA(),n.YNc(48,z,3,0,"button",47),n.YNc(49,ie,3,0,"button",48),n.TgZ(50,"button",49),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.forwardVideo())}),n._UZ(51,"i",50),n.qZA()()()()()()(),n.YNc(52,Ut,2,3,"div",51),n.YNc(53,Ci,11,2,"section",52),n.YNc(54,vr,1,1,"ng-template",53),n.YNc(55,Ds,2,0,"video",54),n.qZA()()}if(2&p){const t=n.MAs(15),l=n.MAs(20),h=n.MAs(29),b=n.oxw();n.xp6(3),n.Q6J("ngClass",n.VKq(22,Jl,b.showControls)),n.xp6(6),n.hij(" ",b.GetFullVideoTitle()," "),n.xp6(5),n.Udp("visibility",b.showControls?"":"hidden"),n.xp6(2),n.hij(" ",b.getVideoTime()," "),n.xp6(1),n.Udp("width","calc(100% - "+(t.offsetWidth+h.offsetWidth)+"px)"),n.xp6(5),n.Udp("width",l.offsetWidth+"px"),n.xp6(4),n.Udp("width",b.getSliderPogressWidth()),n.xp6(2),n.Udp("visibility",b.showControls?"":"hidden"),n.xp6(2),n.hij(" ",b.getDurationTime()," "),n.xp6(3),n.Q6J("ngIf",b.isEnablePreviousEpisodeButton()),n.xp6(3),n.Q6J("ngIf",b.isEnableNextEpisodeButton()),n.xp6(12),n.Q6J("ngIf",!b.isPlayingVideo()),n.xp6(1),n.Q6J("ngIf",b.isPlayingVideo()),n.xp6(3),n.Q6J("ngIf",!b.loadedData),n.xp6(1),n.Q6J("ngIf",b.showingSettings),n.xp6(1),n.Q6J("ngIf",b.currentSubtitleData),n.xp6(1),n.Q6J("ngIf",b.showVideoTarget)}}let md=(()=>{class p{constructor(t,l,h,b,N,H,te,se,We,$e){this.signalIrService=t,this.activeRoute=l,this.router=h,this.libraryService=b,this.dialog=N,this.mediaFilePlaybackService=H,this.commonService=te,this.sharedDataService=se,this.ref=We,this.http=$e,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.isRetranscoding=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(Ct=>{this.mediaServer&&this.mediaServer.Guid==Ct&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(Ct=>{this.mediaServer&&this.mediaServer.Guid==Ct&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+Ct))}),this.subscriptionRemovedMediaFilePlayback=this.signalIrService.isRemovedMediaFilePlayback().subscribe(Ct=>{this.mediaServer&&this.mediaServer.Guid==Ct.mediaServerGuid&&this.transcodedMediaFile&&this.transcodedMediaFile.Guid==Ct.mediaFilePlaybackGuid&&this.router.navigateByUrl("/media/server/"+Ct.mediaServerGuid)})}ngOnInit(){this.initializeEventsAndIntervals();var t=this.activeRoute.snapshot.params.serverGuid;if(null!=t){var l=this.sharedDataService.mediaServers.find(h=>h.Guid==t);l&&(this.mediaServer=JSON.parse(JSON.stringify(l)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+t)},3e3))}else this.router.navigateByUrl("/404")}ngOnDestroy(){!this.sharedDataService.configurationData.alwaysFullScreen&&document.fullscreenElement&&document.exitFullscreen(),this.deleteTranscodedMediaFile(),this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionRemovedMediaFilePlayback.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0)}initializeEventsAndIntervals(){let t=this;this.customMouseOutEvent=function(h){t.sliderContainer&&t.sliderContainer.startMove&&t.onClickSlider(t.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(h){t.deleteTranscodedMediaFile()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){t.mediaServer&&t.transcodedMediaFile&&!t.isRetranscoding&&t.signalIrService.updateCurrentTimeMediaFilePlayBack(t.mediaServer.Guid,t.transcodedMediaFile.Guid,t.getCurrentVideoTime(),t.isPlayingVideo()),t.ref.detectChanges()},0)}getMediaItemDetailByMediaFileAndProfile(){var t=this.activeRoute.snapshot.params.mediaFileId;t?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,t,this.sharedDataService.currentProfile.Id).then(l=>{this.itemDetail=l,this.CreateTranscodedMediaFile()},l=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}CreateTranscodedMediaFile(){var t=0;this.itemDetail.MediaFileProfile&&(t=this.itemDetail.MediaFileProfile.CurrentTime>20?this.itemDetail.MediaFileProfile.CurrentTime-20:0),this.createTranscodedMediaFile(t)}getVideoByEpisode(t){this.deleteTranscodedMediaFile(),this.itemDetail.ListSeasons&&(this.itemDetail.CurrentSeason=this.itemDetail.ListSeasons.find(l=>l.SeasonNumber==t.SeasonNumber),this.itemDetail.CurrentEpisode=this.itemDetail.CurrentSeason.ListEpisodes.find(l=>l.EpisodeNumber==t.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.transcodedMediaFile=void 0,this.createTranscodedMediaFile(0)}createTranscodedMediaFile(t){this.mediaFilePlaybackService.createTranscodedMediaFile(this.mediaServer.Url,this.GetMediaFilePlayback(t)).then(l=>{this.loadStatus=Vi.O5.Generated,this.transcodedMediaFile=l.Data,this.initializeStreams(),this.getVideoSource()},l=>{this.showLoadVideoErrorActionsDialog(),console.error(l)})}GetMediaFilePlayback(t){var l;(l=new hc).Guid=(0,g.Z)();var h=new ru;h.ProfileId=this.sharedDataService.currentProfile.Id,h.ProfileName=this.sharedDataService.currentProfile.FullName,h.AvatarPath=this.sharedDataService.currentProfile.AvatarPath,l.ProfileData=h;var b=new ou;if(b.DeviceData=this.sharedDataService.deviceData,b.IsPlaying=!0,b.CurrentTime=t,l.ClientData=b,this.itemDetail.MediaItem.MediaTypeId==Vi.DD.Movie){var N=new hd,H=this.itemDetail.ListMediaFiles[0];N.Title=this.itemDetail.MediaItem.ExtendedTitle,N.PhysicalPath=H.PhysicalPath,N.MediaFileId=H.Id,N.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,H),l.ItemData=N}return this.itemDetail.MediaItem.MediaTypeId==Vi.DD.TvSerie&&((N=new hd).MediaFileId=(H=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,N.PhysicalPath=H.PhysicalPath,N.Title=this.itemDetail.MediaItem.Title,N.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name,N.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,H),l.ItemData=N),l}retranscodeMediaFile(t){this.deleteLastTranscodedMediaFileProcess();var l=new Yu;l.Guid=this.transcodedMediaFile.Guid,l.NewTime=t,this.loadStatus=Vi.O5.Empty,this.isRetranscoding=!0,this.mediaFilePlaybackService.retranscodeMediaFile(this.mediaServer.Url,l).then(h=>{this.isRetranscoding=!1,this.transcodedMediaFile.InitialTime=t,this.transcodedMediaFile.Url=h.Data,this.loadStatus=Vi.O5.Generated,this.updateAudioAndVideoList(),this.getVideoSource()},h=>{this.isRetranscoding=!1,this.showLoadVideoErrorActionsDialog(),console.error(h)})}deleteTranscodedMediaFile(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeMediaFilePlayBack(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}deleteLastTranscodedMediaFileProcess(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeLastTranscodedMediaFileProcess(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}GetFullVideoTitle(){var t="";return this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Vi.DD.Movie&&(t=this.itemDetail.MediaItem.ExtendedTitle),this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Vi.DD.TvSerie&&(t=this.itemDetail.MediaItem.Title+" T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),t}isEnablePreviousEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,h=this.itemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==h))return!0;{let N=t-1,H=this.itemDetail.ListSeasons.findIndex(te=>te.SeasonNumber==N);if(-1!=H){let te=this.itemDetail.ListSeasons[H];return!!(te&&te.ListEpisodes&&te.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,h=this.itemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==h))return!0;{let N=t+1,H=this.itemDetail.ListSeasons.findIndex(te=>te.SeasonNumber==N);if(-1!=H){let te=this.itemDetail.ListSeasons[H];return!!(te&&te.ListEpisodes&&te.ListEpisodes.length)}return!1}}return!1}goToNextEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,h=this.itemDetail.CurrentEpisode.EpisodeNumber+1,b=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==h);if(-1!=b)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[b]);else{let N=t+1,H=this.itemDetail.ListSeasons.findIndex(te=>te.SeasonNumber==N);if(-1!=H){let te=this.itemDetail.ListSeasons[H];this.itemDetail.CurrentSeason=te,te&&te.ListEpisodes&&te.ListEpisodes.length&&this.getVideoByEpisode(te.ListEpisodes[0])}}}}goToPreviousEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,h=this.itemDetail.CurrentEpisode.EpisodeNumber-1,b=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==h);if(-1!=b)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[b]);else{let N=t+1,H=this.itemDetail.ListSeasons.findIndex(te=>te.SeasonNumber==N);if(-1!=H){let te=this.itemDetail.ListSeasons[H];this.itemDetail.CurrentSeason=te,te&&te.ListEpisodes&&te.ListEpisodes.length&&this.getVideoByEpisode(te.ListEpisodes[te.ListEpisodes.length-1])}}}}onTouchVideoContainer(t){this.showingSettings||this.commonService.isMobileDevice()&&this.showControlsTemporarily(t)}onClickVideoContainer(t){this.showingSettings||(t.clicked=!0,setTimeout(()=>{t.clicked=!1},2e3),this.commonService.isMobileDevice()||this.showControlsTemporarily(t))}onTouchStartSlider(t,l,h){this.sliderContainer=l,l.startMove=!0,this.lastTmpVideoTime=(t.changedTouches[0].clientX-h.offsetWidth-8-4)/l.offsetWidth*100*this.transcodedMediaFile.Duration/100}onTouchMoveSlider(t,l,h){l.startMove&&(this.lastTmpVideoTime=(t.changedTouches[0].clientX-h.offsetWidth-8-4)/l.offsetWidth*100*this.transcodedMediaFile.Duration/100)}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(t){this.currentSelectedPrincipalSettingOption=t}onClickStreamOption(t){this.currentSelectedPrincipalSettingOption.selectedOption=t,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=t.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==t.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=t.index,this.hls.subtitleDisplay=!0))}getPosterPath(t,l){return t.MetadataAgentsId==Vi.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+t.PosterPath:t.PosterPath?t.PosterPath:this.mediaServer.Url+"/media/"+l.Guid+"/thumbnail.png"}getSubtitle(t){let l=this;this.http.get(t,{responseType:"text"}).subscribe(h=>{h&&(0,o.Q)(h)&&(0,o.Q)(h).entries?(l.currentSubtitleData=(0,o.Q)(h).entries,0==l.currentSubtitleData.length?setTimeout(()=>{l.getSubtitle(t)},1e3):l.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{l.getSubtitle(t)},1e3))},h=>{console.error(h),setTimeout(()=>{l.getSubtitle(t)},1e3)})}closeVideo(){this.router.navigateByUrl("/home")}getConfirmMessage(){var t="Vacio";switch(this.loadStatus){case Vi.O5.Empty:t="Vac\xedo";break;case Vi.O5.Generated:t="Generado";break;case Vi.O5.Initialized:t="Inicializado";break;case Vi.O5.LoadedMetada:t="Cargado Metadata";break;case Vi.O5.LoadedData:t="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+t+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.transcodedMediaFile.ListAudioStreams&&this.transcodedMediaFile.ListAudioStreams.length>0&&(this.transcodedMediaFile.ListAudioStreams.forEach(t=>{let l="";"spa"==t.language&&(l="Espa\xf1ol"),"eng"==t.language&&(l="Ingles"),t.title&&(l=l+" ("+t.title+")"),t.name=l}),this.listPrincipalSettingsOptions[0].listOptions=this.transcodedMediaFile.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.transcodedMediaFile.ListAudioStreams.find(t=>1==t.isDefault)),this.transcodedMediaFile.ListSubtitleStreams&&this.transcodedMediaFile.ListSubtitleStreams.length>0){this.transcodedMediaFile.ListSubtitleStreams.forEach(h=>{let b="";"spa"==h.language&&(b="Espa\xf1ol"),"eng"==h.language&&(b="Ingles"),h.title&&(b=b+" ("+h.title+")"),h.name=b});let t=[];t.push({index:1e6,name:"Ninguno"}),t=t.concat(this.transcodedMediaFile.ListSubtitleStreams),this.listPrincipalSettingsOptions[1].listOptions=t;let l=this.transcodedMediaFile.ListSubtitleStreams.find(h=>1==h.isDefault);null==l&&(l=t.find(h=>1e6==h.index)),this.listPrincipalSettingsOptions[1].selectedOption=l}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.transcodedMediaFile.InitialTime?this.transcodedMediaFile.InitialTime:0}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.Duration?this.getFormatTime(this.transcodedMediaFile.Duration):"00:00:00"}getFormatTime(t){var l=parseInt(t,10),h=Math.floor(l/3600),b=Math.floor((l-3600*h)/60),N=l-3600*h-60*b;return h<10&&(h="0"+h),b<10&&(b="0"+b),N<10&&(N="0"+N),h+":"+b+":"+N}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let t=this.getCurrentVideoTime();return null!=t&&t>0?this.getFormatTime(t):"00:00:00"}}onMouseDownSlider(t,l){this.sliderContainer=l,l.startMove=!0,this.calculateNewTimeToGo(t,l)}onMouseMoveSlider(t,l){l.startMove&&this.calculateNewTimeToGo(t,l)}calculateNewTimeToGo(t,l){this.lastTmpVideoTime=t.offsetX/l.offsetWidth*100*this.transcodedMediaFile.Duration/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(t){if(this.lastTmpVideoTime){if(t.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let l=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(l)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let l=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(l)}this.lastTmpVideoTime=void 0}}getSliderPogressWidth(){if(this.transcodedMediaFile&&this.transcodedMediaFile.Duration){let t=this.transcodedMediaFile.Duration,h=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/t*100;return h>100&&(h=100),h+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Vi.Ln.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Vi.Ln.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(t){let l=this;this.dashMediaPlayer=w.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.transcodedMediaFile.Duration,bufferToKeep:this.transcodedMediaFile.Duration}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,t),this.dashMediaPlayer.on(w.MediaPlayer.events.ERROR,function(h){console.log(h),console.error("hubo un error")}),this.dashMediaPlayer.on(w.MediaPlayer.events.PLAYBACK_ERROR,function(h){console.log(h),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(w.MediaPlayer.events.PLAYBACK_WAITING,function(h){console.error("PLAYBACK_WAITING"),console.log(h)}),this.dashMediaPlayer.on(w.MediaPlayer.events.BUFFER_EMPTY,function(h){console.error("BUFFER_EMPTY"),console.log(h)}),this.dashMediaPlayer.on(w.MediaPlayer.events.STREAM_INITIALIZED,function(h){console.error("STREAM_INITIALIZED"),l.initializeVideo=!0,console.log(h)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}getCurrentVideoTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Vi.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(t){let h=1e3*(this.getCurrentVideoTime()-1);return t.from<=h&&t.to>=h}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.loadStatus=Vi.O5.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.loadStatus=Vi.O5.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}getVideoSource(){this.http.get(this.transcodedMediaFile.Url,{headers:void 0,responseType:"blob"}).subscribe(t=>{this.loadStatus=Vi.O5.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.transcodedMediaFile.Url.indexOf("mpd")?this.displayVideoUsingDash(this.transcodedMediaFile.Url):-1!=this.transcodedMediaFile.Url.indexOf("m3u8")?this.displayVideoUsingHLS(this.transcodedMediaFile.Url):(this.videoTarget.nativeElement.src=this.transcodedMediaFile.Url,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},t=>{console.error(t),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(t){let l=this;this.timeOutLoadVideoId=setTimeout(()=>{l.loadStatus!=Vi.O5.LoadedData&&l.showLoadVideoErrorActionsDialog()},1e4,l),this.showVideoInFullScreen(),Hi.isSupported()?(this.hls=new Hi,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(t),this.hls.on(Hi.Events.MEDIA_ATTACHED,function(h){console.log("MEDIA_ATTACHED"),console.log(h)}),this.hls.on(Hi.Events.AUDIO_TRACK_LOADED,function(h){console.log("AUDIO_LOADED"),console.log(h)}),this.hls.on(Hi.Events.MANIFEST_LOADED,function(h){console.log("MANIFEST_LOADED"),console.log(h)}),this.hls.on(Hi.Events.MANIFEST_PARSED,function(h){console.log("MANIFEST_PARSED"),console.log(h)}),this.hls.on(Hi.Events.ERROR,function(h){l.videoTarget.nativeElement.CurrentTime=l.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(h)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=t,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(t){let l=(0,g.Z)();this.lastTimeSpanChangeGUID=l,setTimeout(()=>{l==this.lastTimeSpanChangeGUID&&this.retranscodeMediaFile(t)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(t){this.initializeVideo=!1;let l=0;l=this.getCurrentVideoTime()-t>=0?t:this.getCurrentVideoTime(),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Vi.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>l?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-l):(this.lastRealVideoTime=this.getCurrentVideoTime()-l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>l?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-l:(this.lastRealVideoTime=this.getCurrentVideoTime()-l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(t){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.transcodedMediaFile.Duration){let l=0;l=this.getCurrentVideoTime()+t>this.transcodedMediaFile.Duration?this.transcodedMediaFile.Duration>this.getCurrentVideoTime()?this.transcodedMediaFile.Duration-this.getCurrentVideoTime():0:t,this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Vi.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=l?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+l):(this.lastRealVideoTime=this.getCurrentVideoTime()+l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=l?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+l:(this.lastRealVideoTime=this.getCurrentVideoTime()+l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(t){!this.showControls&&!t.clicked&&!this.showingSettings&&this.showControlsTemporarily(t)}executeShowControlsTemporarily(t,l){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{t.guid==l&&this.executeHideControls()},2e3)}showControlsTemporarily(t){if(!this.showControls){let l=(0,g.Z)();t.guid=l,this.commonService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(t,l)},250):this.executeShowControlsTemporarily(t,l)}}toogleVideoControls(t){this.showControls?this.showControls=!0:this.showControlsTemporarily(t)}showLoadVideoErrorActionsDialog(){var t=new no.vA;t.disableClose=!0,t.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(ll,t).afterClosed().subscribe(l=>{"Si"==l.key&&this.onConfirmReplyVideo(),"No"==l.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(xl.n),n.Y36(A.gz),n.Y36(A.F0),n.Y36(Fa.$),n.Y36(no.uw),n.Y36(Lf),n.Y36(cl.v),n.Y36(ss.g),n.Y36(n.sBO),n.Y36(E.eN))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-video"]],viewQuery:function(l,h){if(1&l&&(n.Gf(kf,5),n.Gf(em,5),n.Gf(zu,5),n.Gf(Zu,5)),2&l){let b;n.iGM(b=n.CRH())&&(h.controlsContainer=b.first),n.iGM(b=n.CRH())&&(h.settingsContainer=b.first),n.iGM(b=n.CRH())&&(h.videoPrincipalContainer=b.first),n.iGM(b=n.CRH())&&(h.videoTarget=b.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(l,h){1&l&&(n.TgZ(0,"div",0)(1,"div",1,2),n.YNc(3,Ld,56,24,"div",3),n.qZA()()),2&l&&(n.xp6(3),n.Q6J("ngIf",h.showVideo))},dependencies:[Ni.mk,Ni.sg,Ni.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return p})();var pd=v(5940),su=v(1444),na=v(1531);function pc(p,i){if(1&p&&(n.TgZ(0,"div",6)(1,"button",7)(2,"div",8),n._uU(3),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()()),2&p){const t=n.oxw(3);n.xp6(3),n.hij(" ",t.title," "),n.xp6(2),n.hij(" ",t.subtitle," ")}}function gc(p,i){if(1&p&&(n.TgZ(0,"div",30)(1,"div",31),n._UZ(2,"div",32),n.qZA()()),2&p){const t=n.oxw().$implicit,l=n.MAs(2),h=n.oxw(5);n.xp6(1),n.Udp("width",l.clientWidth-8+"px"),n.xp6(1),n.Udp("width",h.getWidthProgressItem(t))}}function kd(p,i){if(1&p&&(n.TgZ(0,"div",33)(1,"span"),n._uU(2),n.qZA()()),2&p){const t=n.oxw().$implicit;n.xp6(2),n.Oqu(t.Title)}}function gd(p,i){if(1&p&&(n.TgZ(0,"div")(1,"div",34)(2,"span"),n._uU(3),n.qZA()()()),2&p){const t=n.oxw().$implicit;n.xp6(3),n.AsE("",t.Title," ",t.Subtitle,"")}}function _d(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",24)(1,"button",25,26),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(5);return n.KtG(N.onClickItem(b))}),n._UZ(3,"img",27),n.YNc(4,gc,3,4,"ng-template",0),n.qZA(),n.YNc(5,kd,3,1,"div",28),n.YNc(6,gd,4,2,"div",29),n.qZA()}if(2&p){const t=i.$implicit,l=n.oxw(2).$implicit,h=n.oxw(3);n.xp6(1),n.hYB("id","item_",l.Id,"_",t.MediaItemId,""),n.xp6(2),n.Q6J("src",h.commonService.getUrlByItemMovieDataBase(t),n.LSH),n.xp6(1),n.Q6J("ngIf",t.CurrentTime&&t.DurationTime),n.xp6(1),n.Q6J("ngIf",!t.Subtitle),n.xp6(1),n.Q6J("ngIf",t.Subtitle)}}function _c(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"section",11)(1,"div",12)(2,"span"),n._uU(3),n.qZA()(),n.TgZ(4,"div",13)(5,"div",14)(6,"div",15,16),n.NdJ("click",function(){n.CHM(t);const h=n.MAs(12),b=n.MAs(7),N=n.MAs(18),H=n.oxw(4);return n.KtG(H.onClickButtonLeftScroll(h,b,N))}),n._UZ(8,"img",17),n.ALo(9,"async"),n.ALo(10,"formatDataPipe"),n.qZA()(),n.TgZ(11,"div",18,19)(13,"div",20,21),n.YNc(15,_d,7,6,"ng-template",5),n.qZA()(),n.TgZ(16,"div",14)(17,"div",22,23),n.NdJ("click",function(){n.CHM(t);const h=n.MAs(12),b=n.MAs(7),N=n.MAs(18),H=n.oxw(4);return n.KtG(H.onClickButtonRightScroll(h,b,N))}),n._UZ(19,"img",17),n.ALo(20,"async"),n.ALo(21,"formatDataPipe"),n.qZA()()()()}if(2&p){const t=n.oxw().$implicit;n.MGl("id","section_",t.Id,""),n.xp6(3),n.Oqu(t.Name),n.xp6(5),n.Q6J("src",n.lcZ(9,5,n.xi3(10,7,"scroll-left.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("ngForOf",t.ListItems),n.xp6(4),n.Q6J("src",n.lcZ(20,10,n.xi3(21,12,"scroll-right.png","GetIconURLByKey")),n.LSH)}}function $c(p,i){if(1&p&&n.YNc(0,_c,22,15,"section",10),2&p){const t=i.$implicit;n.Q6J("ngIf",t.ListItems&&t.ListItems.length>0)}}function au(p,i){if(1&p&&(n.TgZ(0,"div",1)(1,"div",2),n.YNc(2,pc,6,2,"div",3),n.TgZ(3,"div",4),n.YNc(4,$c,1,1,"ng-template",5),n.qZA()()()),2&p){const t=n.oxw(2);n.xp6(2),n.Q6J("ngIf",t.title),n.xp6(1),n.Udp("height",t.title?"calc(100% - 65px)":"100%"),n.xp6(1),n.Q6J("ngForOf",t.itemsGroupList)}}function vc(p,i){if(1&p&&n._UZ(0,"app-server-connection-error",35),2&p){const t=n.oxw(2);n.Q6J("mediaServer",t.currentMediaServer)}}function Ql(p,i){1&p&&(n.TgZ(0,"div",36)(1,"div",37)(2,"div",38),n._uU(3," No hay servidores disponibles en este momento "),n.qZA(),n._UZ(4,"div",39),n.qZA()())}function Jc(p,i){if(1&p&&(n.YNc(0,au,5,4,"ng-template",0),n.YNc(1,vc,1,1,"ng-template",0),n.YNc(2,Ql,5,0,"ng-template",0)),2&p){const t=n.oxw();n.Q6J("ngIf",t.mediaServers&&t.isEnableAnyMediaServer()||t.currentMediaServer&&t.currentMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",t.currentMediaServer&&!t.currentMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",t.mediaServers&&!t.isEnableAnyMediaServer())}}function tm(p,i){1&p&&(n.TgZ(0,"div",40),n._UZ(1,"mat-spinner"),n.qZA())}let vd=(()=>{class p{constructor(t,l,h,b,N,H,te){this.signalIrService=t,this.libraryService=l,this.activeRoute=h,this.router=b,this.ref=N,this.commonService=H,this.sharedDataService=te,this.itemsGroupList=[],this._window=window,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let se=this;this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(We=>{if(se.considerAllMediaServers()){var $e=se.mediaServers.find(Ct=>Ct.Guid==We);$e&&!$e.isSecureConnection&&(se.loadingConnection=!1,$e.isSecureConnection=!0,se.getItemsByMediaServer($e))}else se.currentMediaServer&&se.currentMediaServer.Guid==We&&!se.currentMediaServer.isSecureConnection&&(se.loadingConnection=!1,se.currentMediaServer.isSecureConnection=!0,se.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(We=>{if(se.considerAllMediaServers()){var $e=se.mediaServers.find(Ct=>Ct.Guid==We);$e&&$e.isSecureConnection&&($e.isSecureConnection=!1,se.clearItemsInGroup($e.Id))}else se.currentMediaServer&&se.currentMediaServer.Guid==We&&se.currentMediaServer.isSecureConnection&&(se.currentMediaServer.isSecureConnection=!1,se.clearItemsInGroup(se.currentMediaServer.Id))}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(We=>{if(se.considerAllMediaServers()){var $e=se.mediaServers.find(Ct=>Ct.Guid==We);$e&&!$e.isSecureConnection&&($e.isSecureConnection=!0,se.getItemsByMediaServer($e))}else se.currentMediaServer&&se.currentMediaServer.Guid==We&&!se.currentMediaServer.isSecureConnection&&(se.currentMediaServer.isSecureConnection=!0,se.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionUpdateItemsByMediaServer=this.signalIrService.isUpdatingItemsByMediaServer().subscribe(We=>{if(se.considerAllMediaServers()){var $e=se.mediaServers.find(Ct=>Ct.Guid==We);$e&&!$e.isSecureConnection&&($e.isSecureConnection=!0,se.getItemsByMediaServer($e))}else se.currentMediaServer&&se.currentMediaServer.Guid==We&&!se.currentMediaServer.isSecureConnection&&(se.currentMediaServer.isSecureConnection=!0,se.getItemsByCurrentMediaServerAndCurrentLibrary())})}ngOnInit(){if(this.considerAllMediaServers())this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),window.location.pathname.endsWith("movies")&&(this.title="Pel\xedculas"),window.location.pathname.endsWith("tvseries")&&(this.title="Series de TV"),this.mediaServers.forEach(h=>{h.isSecureConnection&&this.getItemsByMediaServer(h)});else{var t=this.activeRoute.snapshot.params.serverGuid;if(null!=t){var l=this.sharedDataService.mediaServers.find(h=>h.Guid==t);l?(this.currentMediaServer=JSON.parse(JSON.stringify(l)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe(),this.subscriptionUpdateItemsByMediaServer.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(t=>t.isSecureConnection).length>0}considerAllMediaServers(){return!!(window.location.pathname.endsWith("home")||window.location.pathname.endsWith("movies")||window.location.pathname.endsWith("tvseries"))}getItemsByCurrentMediaServerAndCurrentLibrary(){var t=this.activeRoute.snapshot.params.libraryId;t?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(l=>{this.currentMediaServer.ListLibraries=l;var h=this.currentMediaServer.ListLibraries.findIndex(b=>b.Id==t);-1!=h&&(this.currentLibrary=this.currentMediaServer.ListLibraries[h],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedDataService.currentProfile.Id).then(b=>{this.setItemsInGroup(this.currentMediaServer.Id,b)},b=>{console.error(b)}))}):(this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedDataService.currentProfile.Id).then(l=>{this.setItemsInGroup(this.currentMediaServer.Id,l)},l=>{console.error(l)}))}getItemsByMediaServer(t){window.location.pathname.endsWith("home")?this.libraryService.getAllMediaItems(t.Url,this.sharedDataService.currentProfile.Id).then(l=>{this.setItemsInGroup(t.Id,l)},l=>{}):window.location.pathname.endsWith("movies")?this.libraryService.getMediaItemsByMediaType(t.Url,Vi.DD.Movie,this.sharedDataService.currentProfile.Id).then(l=>{this.setItemsInGroup(t.Id,l)},l=>{console.error(l)}):window.location.pathname.endsWith("tvseries")&&this.libraryService.getMediaItemsByMediaType(t.Url,Vi.DD.TvSerie,this.sharedDataService.currentProfile.Id).then(l=>{this.setItemsInGroup(t.Id,l)},l=>{console.error(l)})}setItemsInGroup(t,l){l.length>0&&(l.forEach(h=>{var b=this.itemsGroupList.find(se=>se.Name==h.Name);if(null==b)this.itemsGroupList.push(h);else{var te=b.ListItems.filter(se=>se.MediaServerId!=t).concat(h.ListItems).sort((se,We)=>new Date(se.Created).getTime()>new Date(We.Created).getTime()?-1:new Date(We.Created).getTime()>new Date(se.Created).getTime()?1:0);b.ListItems=te}}),this.itemsGroupList=this.itemsGroupList.sort((h,b)=>h.Id>b.Id?1:h.Id<=b.Id?-1:0))}clearItemsInGroup(t){this.itemsGroupList.forEach(l=>{var h=l.ListItems.filter(b=>b.MediaServerId!=t);l.ListItems=h.sort((b,N)=>new Date(b.Created).getTime()>new Date(N.Created).getTime()?-1:new Date(N.Created).getTime()>new Date(b.Created).getTime()?1:0)})}getWidthProgressItem(t){return t.CurrentTime/t.DurationTime*100+"%"}onClickButtonLeftScroll(t,l,h){t.scrollLeft=t.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(t,l,h)}onClickButtonRightScroll(t,l,h){t.scrollLeft=t.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(t,l,h)}verifyIfShoOrHiddenScrollButtons(t,l,h){l.style.display=t.scrollLeft<=0?"none":"flex",h.style.display=t.scrollWidth==t.scrollLeft+t.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(t,l,h){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(t,l,h)},250)}onClickItem(t){t.ContinueVideo?this.continueVideoByItem(t):this.getMediaItemDetail(t)}getMediaItemDetail(t){var l=this.sharedDataService.mediaServers.find(h=>h.Id==t.MediaServerId);this.router.navigateByUrl("/media/server/"+l.Guid+"/libraries/"+t.LibraryId+"/detail?mediaType="+t.MediaTypeId+"&mediaId="+t.MediaItemId)}continueVideoByItem(t){var l=this.sharedDataService.mediaServers.find(h=>h.Id==t.MediaServerId);this.router.navigateByUrl("/media/server/"+l.Guid+"/video/"+t.FileId)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(xl.n),n.Y36(Fa.$),n.Y36(A.gz),n.Y36(A.F0),n.Y36(n.sBO),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-media-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"],[3,"mediaServer"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(l,h){1&l&&(n.YNc(0,Jc,3,3,"ng-template",0),n.YNc(1,tm,2,0,"ng-template",0)),2&l&&(n.Q6J("ngIf",!h.loadingConnection),n.xp6(1),n.Q6J("ngIf",h.loadingConnection))},dependencies:[Ni.sg,Ni.O5,pd.Ou,su.Z,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return p})();class nm{constructor(i,t,l){this.router=i,this.activeRoute=t,this.sharedDataService=l}initializeHeaderData(){var i=this.activeRoute.snapshot.params.serverGuid;if(null!=i){var t=this.sharedDataService.mediaServers.find(b=>b.Guid==i);if(t){this.mediaServer=JSON.parse(JSON.stringify(t));var l=this.activeRoute.snapshot.params.libraryId;if(null!=t.ListLibraries&&t.ListLibraries.length>0){var h=t.ListLibraries.find(b=>b.MediaServerId==this.mediaServer.Id&&b.Id==l);null!=h?(this.library=h,this.title=h.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function Bf(p,i){if(1&p&&n._UZ(0,"img",10),2&p){const t=n.oxw(3);n.Q6J("src",t.getUrlByItemDetailMovieDataBase(t.detail),n.LSH)}}function Fd(p,i){if(1&p&&(n.TgZ(0,"div",11)(1,"button",12)(2,"div",13),n._uU(3),n.qZA(),n.TgZ(4,"div",14),n._uU(5),n.qZA()()()),2&p){const t=n.oxw(3);n.xp6(3),n.hij(" ",t.title," "),n.xp6(2),n.hij(" ",t.subtitle," ")}}function Lp(p,i){if(1&p&&(n.TgZ(0,"div",18)(1,"span",23),n._uU(2,"Director: "),n.qZA(),n.TgZ(3,"span",24),n._uU(4),n.qZA()()),2&p){const t=n.oxw(5);n.xp6(4),n.Oqu(t.detail.MediaItem.Directors)}}function kp(p,i){if(1&p&&(n.TgZ(0,"div",18)(1,"span",23),n._uU(2,"Reparto: "),n.qZA(),n.TgZ(3,"span",24),n._uU(4),n.qZA()()),2&p){const t=n.oxw(5);n.xp6(4),n.Oqu(t.detail.MediaItem.Actors)}}function im(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div")(1,"div")(2,"button",25),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(5);return n.KtG(h.continueVideo())}),n._uU(3,"Continuar"),n.qZA()(),n.TgZ(4,"div",26),n._UZ(5,"div",27),n.qZA(),n.TgZ(6,"div",28),n._uU(7),n.qZA()()}if(2&p){const t=n.oxw(5);n.xp6(5),n.Udp("width",t.getWidthProgressItem(t.lastEpisodeWatched)),n.xp6(2),n.hij(" ",t.lastEpisodeWatched.Subtitle," ")}}function Uf(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(6);return n.KtG(h.showVideo())}),n._uU(1,"Ver desde el principio"),n.qZA(),n.TgZ(2,"button",25),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(6);return n.KtG(h.continueVideo())}),n._uU(3,"Continuar viendo"),n.qZA()}}function Gf(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",30),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(6);return n.KtG(h.showVideo())}),n._UZ(1,"i",31),n._uU(2," Ver ahora "),n.qZA()}}function Hf(p,i){if(1&p&&(n.YNc(0,Uf,4,0,"ng-template",0),n.YNc(1,Gf,3,0,"ng-template",0)),2&p){const t=n.oxw(5);n.Q6J("ngIf",t.itemUserData),n.xp6(1),n.Q6J("ngIf",!t.itemUserData)}}function ia(p,i){if(1&p&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&p){const t=n.oxw(5);n.xp6(1),n.hij(" ",t.detail.MediaItem.Overview," ")}}function lu(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"img",47),n.NdJ("error",function(){n.CHM(t),n.oxw();const h=n.MAs(12),b=n.MAs(7),N=n.MAs(18),H=n.oxw(5);return n.KtG(H.onInitializeItemsRow(h,b,N))}),n.qZA()}}const $u=function(p){return{selected:p}};function cu(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",48)(1,"button",49),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(6);return n.KtG(N.onClickSeason(b))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&p){const t=i.$implicit,l=n.oxw(6);n.xp6(1),n.MGl("id","section_season_",t.SeasonNumber,""),n.Q6J("ngClass",n.VKq(3,$u,t.SeasonNumber==l.detail.CurrentSeason.SeasonNumber)),n.xp6(2),n.Oqu(t.Name)}}function Ns(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"section",50)(1,"button",51),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(6);return n.KtG(N.onClickEpisode(b))}),n.TgZ(2,"div",52),n._UZ(3,"img",10),n.qZA(),n.TgZ(4,"div",53)(5,"div",54),n._uU(6),n.qZA(),n.TgZ(7,"div",55),n._uU(8),n.qZA()()()()}if(2&p){const t=i.$implicit,l=n.oxw(6);n.hYB("id","section_episode_s",t.SeasonNumber,"_e",t.EpisodeNumber,""),n.xp6(1),n.hYB("id","button_episode_s",t.SeasonNumber,"_e",t.EpisodeNumber,""),n.xp6(2),n.Q6J("src",l.getEpisodeImagePath(t),n.LSH),n.xp6(3),n.AsE(" ",t.EpisodeNumber,". ",t.Name," "),n.xp6(2),n.hij(" ",t.Overview," ")}}function du(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",33)(1,"div"),n._uU(2," EPISODIOS "),n.qZA(),n.TgZ(3,"div",34),n.YNc(4,lu,1,0,"img",35),n.TgZ(5,"div",3)(6,"div",36,37),n.NdJ("click",function(){n.CHM(t);const h=n.MAs(12),b=n.MAs(7),N=n.MAs(18),H=n.oxw(5);return n.KtG(H.onClickButtonLeftScroll(h,b,N))}),n._UZ(8,"img",38),n.ALo(9,"async"),n.ALo(10,"formatDataPipe"),n.qZA()(),n.TgZ(11,"div",39,40)(13,"section",41,42),n.YNc(15,cu,4,5,"ng-template",43),n.qZA()(),n.TgZ(16,"div",3)(17,"div",44,45),n.NdJ("click",function(){n.CHM(t);const h=n.MAs(12),b=n.MAs(7),N=n.MAs(18),H=n.oxw(5);return n.KtG(H.onClickButtonRightScroll(h,b,N))}),n._UZ(19,"img",38),n.ALo(20,"async"),n.ALo(21,"formatDataPipe"),n.qZA()()(),n.TgZ(22,"div",46),n.YNc(23,Ns,9,8,"ng-template",43),n.qZA()()}if(2&p){const t=n.oxw(5);n.xp6(4),n.Q6J("ngIf",!t.startResize),n.xp6(4),n.Q6J("src",n.lcZ(9,5,n.xi3(10,7,"left.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("ngForOf",t.detail.ListSeasons),n.xp6(4),n.Q6J("src",n.lcZ(20,10,n.xi3(21,12,"right.png","GetIconURLByKey")),n.LSH),n.xp6(4),n.Q6J("ngForOf",t.detail.CurrentSeason.ListEpisodes)}}function rm(p,i){if(1&p&&(n.TgZ(0,"div",16)(1,"div",17),n._uU(2),n.qZA(),n.TgZ(3,"div",18),n._uU(4),n.qZA(),n.YNc(5,Lp,5,1,"div",19),n.YNc(6,kp,5,1,"div",19),n.TgZ(7,"section",20),n.YNc(8,im,8,3,"ng-template",0),n.YNc(9,Hf,2,2,"ng-template",0),n.qZA(),n.YNc(10,ia,2,1,"div",21),n.YNc(11,du,24,15,"div",22),n.qZA()),2&p){const t=n.oxw(4);n.xp6(2),n.hij(" ",t.detail.MediaItem.Title," "),n.xp6(2),n.hij(" ",t.detail.MediaItem.Genres," "),n.xp6(1),n.Q6J("ngIf",t.detail.MediaItem.Directors),n.xp6(1),n.Q6J("ngIf",t.detail.MediaItem.Actors),n.xp6(2),n.Q6J("ngIf",t.lastEpisodeWatched),n.xp6(1),n.Q6J("ngIf",!t.lastEpisodeWatched),n.xp6(1),n.Q6J("ngIf",!t.lastEpisodeWatched),n.xp6(1),n.Q6J("ngIf",t.detail.ListSeasons&&t.detail.ListSeasons.length>0)}}function jf(p,i){if(1&p&&(n.TgZ(0,"div",15),n.YNc(1,rm,12,8,"ng-template",0),n.qZA()),2&p){const t=n.oxw(3);n.Udp("height",t.title?"calc(100% - 65px)":"100%"),n.xp6(1),n.Q6J("ngIf",t.detail)}}function om(p,i){if(1&p&&(n.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),n.YNc(5,Bf,1,1,"img",6),n.qZA()()(),n.TgZ(6,"div",7),n.YNc(7,Fd,6,2,"div",8),n.YNc(8,jf,2,3,"div",9),n.qZA()()),2&p){const t=n.MAs(1),l=n.oxw(2);n.xp6(4),n.Udp("width",t.clientWidth+"px"),n.xp6(1),n.Q6J("ngIf",l.detail),n.xp6(2),n.Q6J("ngIf",l.title),n.xp6(1),n.Q6J("ngIf",l.detail)}}function Vf(p,i){if(1&p&&n._UZ(0,"app-server-connection-error",56),2&p){const t=n.oxw(2);n.Q6J("mediaServer",t.mediaServer)}}function sm(p,i){if(1&p&&(n.YNc(0,om,9,5,"ng-template",0),n.YNc(1,Vf,1,1,"ng-template",0)),2&p){const t=n.oxw();n.Q6J("ngIf",t.mediaServer&&t.mediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",t.mediaServer&&!t.mediaServer.isSecureConnection)}}function Kf(p,i){1&p&&(n.TgZ(0,"div",57),n._UZ(1,"mat-spinner"),n.qZA())}let Ju=(()=>{class p extends nm{constructor(t,l,h,b,N,H){super(b,h,H),this.signalIrService=t,this.libraryService=l,this.activeRoute=h,this.router=b,this.ref=N,this.sharedDataService=H,this._window=window,this.startResize=!1,this.loadingConnection=!0,this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(te=>{this.mediaServer&&this.mediaServer.Guid==te&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(te=>{this.mediaServer&&this.mediaServer.Guid==te&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaItemDetail(){let t=this.activeRoute.snapshot.queryParams.mediaId;t?this.libraryService.getMediaItemDetail(this.mediaServer.Url,t).then(l=>{this.detail=l,this.detail.CurrentSeason=this.detail.ListSeasons[0]},l=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(t){return this.detail.MediaItem.MetadataAgentsId==Vi.DM.TMDb&&t.PosterPath?this.sharedDataService.urlEpisodeDataBase+t.PosterPath:t.ListMediaFiles&&t.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+t.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(t){return t.MediaItem.MetadataAgentsId==Vi.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+t.MediaItem.PosterPath:t.MediaItem.PosterPath?t.MediaItem.PosterPath:t.ListMediaFiles&&t.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+t.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(t,l,h){l.style.display=t.scrollLeft<=0?"none":"flex",h.style.display=t.scrollWidth==t.scrollLeft+t.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(t,l,h){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(t,l,h)},250)}onClickButtonLeftScroll(t,l,h){t.scrollLeft=t.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(t,l,h)}onClickButtonRightScroll(t,l,h){t.scrollLeft=t.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(t,l,h)}getWidthProgressItem(t){return t.CurrentTime/t.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==Vi.DD.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let t=this.detail.ListSeasons[0];t.ListEpisodes&&t.ListEpisodes.length>0&&this.getVideoByEpisode(t.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(t){this.detail.CurrentSeason=t}onClickEpisode(t){this.getVideoByEpisode(t)}getVideoByEpisode(t){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+t.ListMediaFiles[0].Id)}onResize(t){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(xl.n),n.Y36(Fa.$),n.Y36(A.gz),n.Y36(A.F0),n.Y36(n.sBO),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-media-detail"]],hostBindings:function(l,h){1&l&&n.NdJ("resize",function(N){return h.onResize(N)},!1,n.Jf7)},features:[n.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(l,h){1&l&&(n.YNc(0,sm,2,2,"ng-template",0),n.YNc(1,Kf,2,0,"ng-template",0)),2&l&&(n.Q6J("ngIf",!h.loadingConnection),n.xp6(1),n.Q6J("ngIf",h.loadingConnection))},dependencies:[Ni.mk,Ni.sg,Ni.O5,pd.Ou,su.Z,Ni.Ov,na.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return p})();var Yi=v(95),Fp=v(5550);class Bp{}class Wf{}var yc=v(1270),am=v(6878),ql=v(9058),Yf=v(534),Up=v(7879),Qu=v(4537),lm=v(8645),uu=v(2096),Qc=v(5592),Bd=v(2459),zf=v(3019),Ud=v(3093),Il=v(4664),Zf=v(7398),cm=v(940),Gp=v(1374),Hp=v(4674);function dm(p,i){return(0,Hp.m)(i)?(0,Il.w)(()=>p,i):(0,Il.w)(()=>p)}var $f=v(5137),Jf=v(2181),yd=v(8186),qc=v(6304);v(3182);var dl=v(5861);const fu=new Map,ef={activated:!1,tokenObservers:[]},tf={initialized:!1,enabled:!1};function Wo(p){return fu.get(p)||Object.assign({},ef)}function bc(){return tf}const eh="https://content-firebaseappcheck.googleapis.com/v1",Zp="exchangeDebugToken",th={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ym{constructor(i,t,l,h,b){if(this.operation=i,this.retryPolicy=t,this.getWaitDuration=l,this.lowerBound=h,this.upperBound=b,this.pending=null,this.nextErrorWaitInterval=h,h>b)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var t=this;return(0,dl.Z)(function*(){t.stop();try{t.pending=new ql.BH,yield function hu(p){return new Promise(i=>{setTimeout(i,p)})}(t.getNextRun(i)),t.pending.resolve(),yield t.pending.promise,t.pending=new ql.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(l){t.retryPolicy(l)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qo=new ql.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ih(p){if(!Wo(p).activated)throw Qo.create("use-before-activation",{appName:p.name})}function Gd(p,i){return rh.apply(this,arguments)}function rh(){return rh=(0,dl.Z)(function*({url:p,body:i},t){const l={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const $e=yield h.getHeartbeatsHeader();$e&&(l["X-Firebase-Client"]=$e)}const b={method:"POST",body:JSON.stringify(i),headers:l};let N,H;try{N=yield fetch(p,b)}catch($e){throw Qo.create("fetch-network-error",{originalErrorMessage:$e?.message})}if(200!==N.status)throw Qo.create("fetch-status-error",{httpStatus:N.status});try{H=yield N.json()}catch($e){throw Qo.create("fetch-parse-error",{originalErrorMessage:$e?.message})}const te=H.ttl.match(/^([\d.]+)(s)$/);if(!te||!te[2]||isNaN(Number(te[1])))throw Qo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${H.ttl}`});const se=1e3*Number(te[1]),We=Date.now();return{token:H.token,expireTimeMillis:We+se,issuedAtTimeMillis:We}}),rh.apply(this,arguments)}function x(p,i){const{projectId:t,appId:l,apiKey:h}=p.options;return{url:`${eh}/projects/${t}/apps/${l}:${Zp}?key=${h}`,body:{debug_token:i}}}const V="firebase-app-check-database",he=1,_t="firebase-app-check-store";let Cn=null;function Dr(){return Dr=(0,dl.Z)(function*(p,i){const l=(yield function In(){return Cn||(Cn=new Promise((p,i)=>{try{const t=indexedDB.open(V,he);t.onsuccess=l=>{p(l.target.result)},t.onerror=l=>{var h;i(Qo.create("storage-open",{originalErrorMessage:null===(h=l.target.error)||void 0===h?void 0:h.message}))},t.onupgradeneeded=l=>{0===l.oldVersion&&l.target.result.createObjectStore(_t,{keyPath:"compositeKey"})}}catch(t){i(Qo.create("storage-open",{originalErrorMessage:t?.message}))}}),Cn)}()).transaction(_t,"readwrite"),b=l.objectStore(_t).put({compositeKey:p,value:i});return new Promise((N,H)=>{b.onsuccess=te=>{N()},l.onerror=te=>{var se;H(Qo.create("storage-set",{originalErrorMessage:null===(se=te.target.error)||void 0===se?void 0:se.message}))}})}),Dr.apply(this,arguments)}const hr=new Up.Yd("@firebase/app-check");function kr(p,i){return(0,ql.hl)()?function Wn(p,i){return function Ei(p,i){return Dr.apply(this,arguments)}(function xr(p){return`${p.options.appId}-${p.name}`}(p),i)}(p,i).catch(t=>{hr.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function uo(){return bc().enabled}function Uo(){return oo.apply(this,arguments)}function oo(){return(oo=(0,dl.Z)(function*(){const p=bc();if(p.enabled&&p.token)return p.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ba={error:"UNKNOWN_ERROR"};function Ks(p){return ql.US.encodeString(JSON.stringify(p),!1)}function ul(p){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,dl.Z)(function*(p,i=!1){const t=p.app;ih(t);const l=Wo(t);let b,h=l.token;if(h&&!ec(h)&&(l.token=void 0,h=void 0),!h){const te=yield l.cachedTokenPromise;te&&(ec(te)?h=te:yield kr(t,void 0))}if(!i&&h&&ec(h))return{token:h.token};let H,N=!1;if(uo()){l.exchangeTokenPromise||(l.exchangeTokenPromise=Gd(x(t,yield Uo()),p.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),N=!0);const te=yield l.exchangeTokenPromise;return yield kr(t,te),l.token=te,{token:te.token}}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),N=!0),h=yield Wo(t).exchangeTokenPromise}catch(te){"appCheck/throttled"===te.code?hr.warn(te.message):hr.error(te),b=te}return h?b?H=ec(h)?{token:h.token,internalError:b}:ed(b):(H={token:h.token},l.token=h,yield kr(t,h)):H=ed(b),N&&function Xc(p,i){const t=Wo(p).tokenObservers;for(const l of t)try{"EXTERNAL"===l.type&&null!=i.error?l.error(i.error):l.next(i)}catch{}}(t,H),H}),Ec.apply(this,arguments)}function Ua(){return Ua=(0,dl.Z)(function*(p){const i=p.app;ih(i);const{provider:t}=Wo(i);if(uo()){const l=yield Uo(),{token:h}=yield Gd(x(i,l),p.heartbeatServiceProvider);return{token:h}}{const{token:l}=yield t.getToken();return{token:l}}}),Ua.apply(this,arguments)}function fl(p,i){const t=Wo(p),l=t.tokenObservers.filter(h=>h.next!==i);0===l.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=l}function mu(p){const{app:i}=p,t=Wo(i);let l=t.tokenRefresher;l||(l=function oh(p){const{app:i}=p;return new ym((0,dl.Z)(function*(){let l;if(l=Wo(i).token?yield ul(p,!0):yield ul(p),l.error)throw l.error;if(l.internalError)throw l.internalError}),()=>!0,()=>{const t=Wo(i);if(t.token){let l=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return l=Math.min(l,t.token.expireTimeMillis-3e5),Math.max(0,l-Date.now())}return 0},th.RETRIAL_MIN_WAIT,th.RETRIAL_MAX_WAIT)}(p),t.tokenRefresher=l),!l.isRunning()&&t.isTokenAutoRefreshEnabled&&l.start()}function ec(p){return p.expireTimeMillis-Date.now()>0}function ed(p){return{token:Ks(Ba),error:p}}class Sc{constructor(i,t){this.app=i,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:i}=Wo(this.app);for(const t of i)fl(this.app,t.next);return Promise.resolve()}}const ch="app-check-internal";!function Gy(){(0,Yf._registerComponent)(new Qu.wA("app-check",p=>function Hd(p,i){return new Sc(p,i)}(p.getProvider("app").getImmediate(),p.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,i,t)=>{p.getProvider(ch).initialize()})),(0,Yf._registerComponent)(new Qu.wA(ch,p=>function jd(p){return{getToken:i=>ul(p,i),getLimitedUseToken:()=>function Da(p){return Ua.apply(this,arguments)}(p),addTokenListener:i=>function Tc(p,i,t,l){const{app:h}=p,b=Wo(h);if(b.tokenObservers=[...b.tokenObservers,{next:t,error:l,type:i}],b.token&&ec(b.token)){const H=b.token;Promise.resolve().then(()=>{t({token:H.token}),mu(p)}).catch(()=>{})}b.cachedTokenPromise.then(()=>mu(p))}(p,"INTERNAL",i),removeTokenListener:i=>fl(p.app,i)}}(p.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yf.registerVersion)("@firebase/app-check","0.8.0")}();class uh{constructor(){return(0,yd.vb)("app-check")}}typeof window<"u"&&window;var Eu=v(7142);const lv=new n.OlP("angularfire2.auth.use-emulator"),cv=new n.OlP("angularfire2.auth.settings"),Dm=new n.OlP("angularfire2.auth.tenant-id"),eg=new n.OlP("angularfire2.auth.langugage-code"),dv=new n.OlP("angularfire2.auth.use-device-language"),tg=new n.OlP("angularfire.auth.persistence");let ng=(()=>{class p{constructor(t,l,h,b,N,H,te,se,We,$e,Ct,xt){const Gt=new lm.x,Wt=(0,uu.of)(void 0).pipe((0,Ud.Q)(N.outsideAngular),(0,Il.w)(()=>b.runOutsideAngular(()=>v.e(365).then(v.bind(v,6365)))),(0,Zf.U)(()=>(0,qc.on)(t,b,l)),(0,Zf.U)(rn=>((p,i,t,l,h,b,N,H)=>(0,qc.cc)(`${p.name}.auth`,"AngularFireAuth",p.name,()=>{const te=i.runOutsideAngular(()=>p.auth());if(t&&te.useEmulator(...t),l&&(te.tenantId=l),te.languageCode=h,b&&te.useDeviceLanguage(),N)for(const[se,We]of Object.entries(N))te.settings[se]=We;return H&&te.setPersistence(H),te},[t,l,h,b,N,H]))(rn,b,H,se,We,$e,te,Ct)),(0,cm.d)({bufferSize:1,refCount:!1}));if((0,Ni.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,uu.of)(null);else{Wt.pipe((0,Gp.P)()).subscribe();const En=Wt.pipe((0,Il.w)(zn=>zn.getRedirectResult().then(Yn=>Yn,()=>null)),yd.iC,(0,cm.d)({bufferSize:1,refCount:!1})),kn=Wt.pipe((0,Il.w)(zn=>new Qc.y(Yn=>({unsubscribe:b.runOutsideAngular(()=>zn.onAuthStateChanged(ci=>Yn.next(ci),ci=>Yn.error(ci),()=>Yn.complete()))})))),Pn=Wt.pipe((0,Il.w)(zn=>new Qc.y(Yn=>({unsubscribe:b.runOutsideAngular(()=>zn.onIdTokenChanged(ci=>Yn.next(ci),ci=>Yn.error(ci),()=>Yn.complete()))}))));this.authState=En.pipe(dm(kn),(0,$f.R)(N.outsideAngular),(0,Ud.Q)(N.insideAngular)),this.user=En.pipe(dm(Pn),(0,$f.R)(N.outsideAngular),(0,Ud.Q)(N.insideAngular)),this.idToken=this.user.pipe((0,Il.w)(zn=>zn?(0,Bd.D)(zn.getIdToken()):(0,uu.of)(null))),this.idTokenResult=this.user.pipe((0,Il.w)(zn=>zn?(0,Bd.D)(zn.getIdTokenResult()):(0,uu.of)(null))),this.credential=(0,zf.T)(En,Gt,this.authState.pipe((0,Jf.h)(zn=>!zn))).pipe((0,Zf.U)(zn=>zn?.user?zn:null),(0,$f.R)(N.outsideAngular),(0,Ud.Q)(N.insideAngular))}return(0,qc.pX)(this,Wt,b,{spy:{apply:(rn,En,kn)=>{(rn.startsWith("signIn")||rn.startsWith("createUser"))&&kn.then(Pn=>Gt.next(Pn))}}})}}return p.\u0275fac=function(t){return new(t||p)(n.LFG(qc.Dh),n.LFG(qc.xv,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(yd.HU),n.LFG(lv,8),n.LFG(cv,8),n.LFG(Dm,8),n.LFG(eg,8),n.LFG(dv,8),n.LFG(tg,8),n.LFG(uh,8))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"any"}),p})(),uv=(()=>{class p{constructor(){Eu.Z.registerVersion("angularfire",yd.q4.full,"auth-compat")}}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=n.oAB({type:p}),p.\u0275inj=n.cJS({providers:[ng]}),p})(),fv=(()=>{class p{constructor(t,l){this.restProvider=t,this.afAuth=l}validateUser(t){return new Promise((l,h)=>{this.restProvider.executeSinovadApiService(Vi.yw.POST,"/authentication/ValidateUser",{UserName:t}).then(b=>{l(b)},b=>{h(b)})})}authenticateByLinkedAccount(t){return new Promise((l,h)=>{this.restProvider.executeSinovadApiService(Vi.yw.POST,"/authentication/AuthenticateLinkedAccount",t).then(b=>{l(b)},b=>{h(b)})})}authenticateUser(t){return new Promise((l,h)=>{this.restProvider.executeSinovadApiService(Vi.yw.POST,"/authentication/AuthenticateUser",t).then(b=>{l(b)},b=>{h(b)})})}authenticatePasswordAndConfirmLinkAccountToUser(t){return new Promise((l,h)=>{this.restProvider.executeSinovadApiService(Vi.yw.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",t).then(b=>{l(b)},b=>{h(b)})})}authenticateWithGoogle(){return this.authenticate(new am.V)}authenticateWithFacebook(){return this.authenticate(new am.U)}authenticateWithApple(){}authenticate(t){return new Promise((l,h)=>this.afAuth.signInWithPopup(t).then(b=>{l(b)}).catch(b=>{h(b)}))}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(mc.C),n.LFG(ng))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var hv=v(5864),Am=v(5220),Vy=v(2032),Tu=v(4170);function mv(p,i){if(1&p&&(n.TgZ(0,"span",19),n._uU(1),n.qZA()),2&p){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.errorMessage," ")}}function xm(p,i){1&p&&(n.TgZ(0,"mat-error"),n._UZ(1,"i",20),n._uU(2,"Ingresa el usuario correctamente "),n.qZA())}function Im(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.validateUser())}),n.YNc(1,mv,2,1,"span",11),n.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),n._uU(5,"Usuario"),n.qZA(),n._UZ(6,"input",14),n.YNc(7,xm,3,0,"mat-error",15),n.qZA()(),n.TgZ(8,"div",12)(9,"button",16),n._uU(10,"Siguiente"),n.qZA()()(),n.TgZ(11,"div",12)(12,"button",17),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClose())}),n._uU(13,"Cancelar"),n.qZA()(),n.TgZ(14,"div",12)(15,"button",18),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.loginWithGoogle())}),n._UZ(16,"img",2),n.ALo(17,"async"),n.ALo(18,"formatDataPipe"),n._uU(19,"Continuar con Google"),n.qZA()()}if(2&p){const t=n.oxw();n.Q6J("formGroup",t.userFormGroup),n.xp6(1),n.Q6J("ngIf",t.errorMessage),n.xp6(5),n.Q6J("errorStateMatcher",t.matcher),n.xp6(1),n.Q6J("ngIf",t.userFormGroup.controls.username.hasError("required")),n.xp6(2),n.Q6J("disabled",t.showLoading||!t.userFormGroup.valid),n.xp6(7),n.Q6J("src",n.lcZ(17,6,n.xi3(18,8,"google.svg","GetIconURLByKey")),n.LSH)}}function Su(p,i){if(1&p&&(n.TgZ(0,"span",19),n._uU(1),n.qZA()),2&p){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.errorMessage," ")}}function wm(p,i){1&p&&(n.TgZ(0,"mat-error"),n._UZ(1,"i",20),n._uU(2,"Ingresa la contrase\xf1a correctamente "),n.qZA())}const mh=function(p){return{disable:p}};function uf(p,i){if(1&p){const t=n.EpF();n.YNc(0,Su,2,1,"span",11),n.TgZ(1,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.authenticateUser())}),n.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),n._uU(5,"Contrase\xf1a"),n.qZA(),n._UZ(6,"input",21),n.YNc(7,wm,3,0,"mat-error",15),n.qZA()(),n.TgZ(8,"div",12)(9,"button",16),n._uU(10,"Iniciar sesi\xf3n"),n.qZA()()(),n.TgZ(11,"div",12)(12,"button",17),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClose())}),n._uU(13,"Cancelar"),n.qZA()(),n.TgZ(14,"div",12)(15,"button",22),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.showRecoverPasswordPage())}),n._uU(16,"Olvidaste tu contrase\xf1a?"),n.qZA()()}if(2&p){const t=n.oxw();n.Q6J("ngIf",t.errorMessage),n.xp6(1),n.Q6J("formGroup",t.passwordFormGroup),n.xp6(5),n.Q6J("errorStateMatcher",t.matcher),n.xp6(1),n.Q6J("ngIf",t.passwordFormGroup.controls.password.hasError("required")),n.xp6(2),n.Q6J("disabled",t.showLoading||!t.passwordFormGroup.valid),n.xp6(6),n.Q6J("ngClass",n.VKq(6,mh,t.showLoading))}}function ph(p,i){if(1&p&&(n.TgZ(0,"span",19),n._uU(1),n.qZA()),2&p){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.errorMessage," ")}}function ff(p,i){1&p&&(n.TgZ(0,"mat-error"),n._UZ(1,"i",20),n._uU(2,"Ingresa la contrase\xf1a correctamente "),n.qZA())}function ig(p,i){if(1&p){const t=n.EpF();n.YNc(0,ph,2,1,"span",11),n.TgZ(1,"div",23)(2,"div",24),n._uU(3," Encontramos una cuenta de Sinovad Stream para "),n.TgZ(4,"div",25),n._uU(5),n.qZA()(),n._uU(6," Verifique su cuenta para continuar "),n.qZA(),n.TgZ(7,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.ConfirmLinkAccountToUser())}),n.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),n._uU(11,"Contrase\xf1a"),n.qZA(),n._UZ(12,"input",21),n.YNc(13,ff,3,0,"mat-error",15),n.qZA()(),n.TgZ(14,"div",12)(15,"button",16),n._uU(16,"Confirmar"),n.qZA()()(),n.TgZ(17,"div",12)(18,"button",17),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClose())}),n._uU(19,"Cancelar"),n.qZA()(),n.TgZ(20,"div",12)(21,"button",22),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.showRecoverPasswordPage())}),n._uU(22,"Olvidaste tu contrase\xf1a?"),n.qZA()()}if(2&p){const t=n.oxw();n.Q6J("ngIf",t.errorMessage),n.xp6(5),n.hij(" ",t.confirmLinkAccountData.Email," "),n.xp6(2),n.Q6J("formGroup",t.passwordFormGroup),n.xp6(5),n.Q6J("errorStateMatcher",t.matcher),n.xp6(1),n.Q6J("ngIf",t.passwordFormGroup.controls.password.hasError("required")),n.xp6(2),n.Q6J("disabled",t.showLoading||!t.passwordFormGroup.valid),n.xp6(6),n.Q6J("ngClass",n.VKq(7,mh,t.showLoading))}}let gh=(()=>{class p{constructor(t,l,h,b,N,H,te){this.userService=t,this.authenticationService=l,this.menuService=h,this.signalIRHubService=b,this.formBuilder=N,this.router=H,this.sharedDataService=te,this._window=window,this.showLoading=!1,this.user=new Bp,this.userFormGroup=this.formBuilder.group({username:new Yi.NI("",[Yi.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new Yi.NI("",[Yi.kI.required])}),this.matcher=new Fp.n,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(t=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(t=>{this.setUserSessionDataAfterAuthenticate(t.Data)},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(t=>{var l=new Wf;l.AccessToken=t.credential.accessToken,l.LinkedAccountProviderCatalogId=Vi.P9.LinkedAccountProvider,l.LinkedAccountProviderCatalogDetailId=Vi.jP.Google,this.authenticationService.authenticateByLinkedAccount(l).then(h=>{var b=h.Data;b.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=b.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(b)},h=>{this.showLoading=!1})},t=>{console.error(t),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(t=>{this.setUserSessionDataAfterAuthenticate(t.Data)},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(t){this.sharedDataService.apiToken=t.ApiToken,localStorage.setItem("apiToken",this.sharedDataService.apiToken);let l=t.UserData;this.sharedDataService.userData=l.User,this.sharedDataService.mediaServers=l.MediaServers,this.sharedDataService.listProfiles=l.Profiles,this.sharedDataService.linkedAccounts=l.LinkedAccounts,this.sharedDataService.currentProfile=l.Profiles[0],this.sharedDataService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["profiles"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(t=>{console.log(t),this.showLoading=!1},t=>{console.error(t),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(yc.K),n.Y36(fv),n.Y36(hv.h),n.Y36(xl.n),n.Y36(Yi.qu),n.Y36(A.F0),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return h.onClose()}),n._UZ(2,"img",2),n.ALo(3,"async"),n.ALo(4,"formatDataPipe"),n.qZA()(),n.TgZ(5,"div",3)(6,"div",4),n._UZ(7,"img",2),n.ALo(8,"async"),n.ALo(9,"formatDataPipe"),n.qZA(),n.TgZ(10,"div",5)(11,"div",6)(12,"div",7),n._uU(13," Inicia sesi\xf3n "),n.qZA(),n.YNc(14,Im,20,11,"ng-template",8),n.YNc(15,uf,17,8,"ng-template",8),n.YNc(16,ig,23,9,"ng-template",8),n.qZA()()(),n._UZ(17,"app-custom-spinner",9)),2&l&&(n.xp6(2),n.Q6J("src",n.lcZ(3,6,n.xi3(4,8,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("src",n.lcZ(8,11,n.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("ngIf",!h.showPasswordForm&&!h.showConfirmLinkedAccountForm),n.xp6(1),n.Q6J("ngIf",h.showPasswordForm&&!h.showConfirmLinkedAccountForm),n.xp6(1),n.Q6J("ngIf",h.showConfirmLinkedAccountForm),n.xp6(1),n.Q6J("showLoading",h.showLoading))},dependencies:[Ni.mk,Ni.O5,Yi._Y,Yi.Fj,Yi.JJ,Yi.JL,Am.D,Vy.Nt,Tu.KE,Tu.hX,Tu.TO,Yi.sg,Yi.u,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return p})();class _h{}function Ky(p,i){if(1&p&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2),n.qZA()),2&p){const t=n.oxw(2);n.xp6(2),n.hij(" ",t.commonService.hasRequireErrorFormControl(t.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":t.commonService.hasErrorPatternFormControl(t.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function Om(p,i){1&p&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado los nombres correctamente "),n.qZA())}function Pm(p,i){1&p&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado los apellidos correctamente "),n.qZA())}function rg(p,i){1&p&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado el usuario correctamente "),n.qZA())}function pv(p,i){1&p&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado el password correctamente "),n.qZA())}function gv(p,i){1&p&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),n.qZA())}const Wd=function(p){return{error:p}},og=function(p){return{disable:p}};function _v(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",9)(1,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.register())}),n.TgZ(2,"div",11),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",12),n._uU(7," Reg\xedstrate "),n.qZA(),n.TgZ(8,"div",13)(9,"label",14),n._uU(10," Correo electr\xf3nico "),n.qZA(),n.TgZ(11,"div",15),n._UZ(12,"input",16),n.YNc(13,Ky,3,1,"label",17),n.qZA()(),n.TgZ(14,"div",13)(15,"label",14),n._uU(16," Nombres "),n.qZA(),n.TgZ(17,"div",15),n._UZ(18,"input",18),n.YNc(19,Om,3,0,"label",17),n.qZA()(),n.TgZ(20,"div",13)(21,"label",14),n._uU(22," Apellidos "),n.qZA(),n.TgZ(23,"div",15),n._UZ(24,"input",19),n.YNc(25,Pm,3,0,"label",17),n.qZA()(),n.TgZ(26,"div",13)(27,"label",14),n._uU(28," Usuario "),n.qZA(),n.TgZ(29,"div",15),n._UZ(30,"input",20),n.YNc(31,rg,3,0,"label",17),n.qZA()(),n.TgZ(32,"div",13)(33,"label",14),n._uU(34," Contrase\xf1a "),n.qZA(),n.TgZ(35,"div",15),n._UZ(36,"input",21),n.YNc(37,pv,3,0,"label",17),n.qZA()(),n.TgZ(38,"div",13)(39,"label",14),n._uU(40," Confirmar contrase\xf1a "),n.qZA(),n.TgZ(41,"div",15),n._UZ(42,"input",22),n.YNc(43,gv,3,0,"label",17),n.qZA()(),n.TgZ(44,"div",23)(45,"button",24),n._uU(46,"Registrar"),n.qZA()(),n.TgZ(47,"div",25),n._uU(48),n.qZA()()()}if(2&p){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.registerUserForm),n.xp6(2),n.Q6J("src",n.lcZ(4,16,n.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("ngClass",n.VKq(21,Wd,t.commonService.isInvalidFormControl(t.registerUserForm,"email"))),n.xp6(5),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.registerUserForm,"email")),n.xp6(1),n.Q6J("ngClass",n.VKq(23,Wd,t.commonService.isInvalidFormControl(t.registerUserForm,"firstName"))),n.xp6(5),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.registerUserForm,"firstName")&&t.commonService.hasRequireErrorFormControl(t.registerUserForm,"firstName")),n.xp6(1),n.Q6J("ngClass",n.VKq(25,Wd,t.commonService.isInvalidFormControl(t.registerUserForm,"lastName"))),n.xp6(5),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.registerUserForm,"lastName")&&t.commonService.hasRequireErrorFormControl(t.registerUserForm,"lastName")),n.xp6(1),n.Q6J("ngClass",n.VKq(27,Wd,t.commonService.isInvalidFormControl(t.registerUserForm,"username"))),n.xp6(5),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.registerUserForm,"username")&&t.commonService.hasRequireErrorFormControl(t.registerUserForm,"username")),n.xp6(1),n.Q6J("ngClass",n.VKq(29,Wd,t.commonService.isInvalidFormControl(t.registerUserForm,"password"))),n.xp6(5),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.registerUserForm,"password")&&t.commonService.hasRequireErrorFormControl(t.registerUserForm,"password")),n.xp6(1),n.Q6J("ngClass",n.VKq(31,Wd,t.commonService.isInvalidFormControl(t.registerUserForm,"confirmPassword"))),n.xp6(5),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.registerUserForm,"confirmPassword")&&t.commonService.hasRequireErrorFormControl(t.registerUserForm,"confirmPassword")),n.xp6(2),n.Q6J("ngClass",n.VKq(33,og,t.showLoading)),n.xp6(3),n.hij(" ",t.errorMessage," ")}}function vv(p,i){1&p&&(n.TgZ(0,"div",28)(1,"div",29)(2,"div",11),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",12),n._uU(7," Registro de Usuario "),n.qZA(),n.TgZ(8,"h2"),n._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),n.qZA()()()),2&p&&(n.xp6(3),n.Q6J("src",n.lcZ(4,1,n.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))}let yv=(()=>{class p{constructor(t,l,h,b,N){this.formBuilder=t,this.router=l,this.userService=h,this.commonService=b,this.sharedDataService=N,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new _h,this.registerUserForm=this.formBuilder.group({email:new Yi.NI("",[Yi.kI.required,Yi.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new Yi.NI("",[Yi.kI.required]),lastName:new Yi.NI("",[Yi.kI.required]),username:new Yi.NI("",[Yi.kI.required]),password:new Yi.NI("",[Yi.kI.required]),confirmPassword:new Yi.NI("",[Yi.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.userService.registerUser(this.registerUserModel).then(t=>{this.showLoading=!1,this.showSuccessMessage=!0},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(Yi.qu),n.Y36(A.F0),n.Y36(yc.K),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return h.onClose()}),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA()(),n.TgZ(6,"div",4)(7,"div",5),n.YNc(8,_v,49,35,"div",6),n.YNc(9,vv,10,6,"div",7),n.qZA()(),n._UZ(10,"app-custom-spinner",8)),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,4,n.xi3(5,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("ngIf",!h.showSuccessMessage),n.xp6(1),n.Q6J("ngIf",h.showSuccessMessage),n.xp6(1),n.Q6J("showLoading",h.showLoading))},dependencies:[Ni.mk,Ni.O5,Yi._Y,Yi.Fj,Yi.JJ,Yi.JL,Am.D,Yi.sg,Yi.u,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return p})();var bv=v(4440),vh=v.n(bv);class Rm{}class Ev{}function sg(p,i){1&p&&(n.TgZ(0,"label",20),n._UZ(1,"i",21),n._uU(2,"Confirma que hayas agregado el password correctamente "),n.qZA())}function Nm(p,i){1&p&&(n.TgZ(0,"label",20),n._UZ(1,"i",21),n._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),n.qZA())}const yh=function(p){return{disable:p}};function Tv(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",8)(1,"form",9),n.NdJ("ngSubmit",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.confirm())}),n.TgZ(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",11),n._uU(7," Cambiar contrase\xf1a "),n.qZA(),n.TgZ(8,"div",12)(9,"label",13),n._uU(10," Contrase\xf1a "),n.qZA(),n.TgZ(11,"div",14),n._UZ(12,"input",15),n.YNc(13,sg,3,0,"label",16),n.qZA()(),n.TgZ(14,"div",12)(15,"label",13),n._uU(16," Confirmaci\xf3n de contrase\xf1a "),n.qZA(),n.TgZ(17,"div",14),n._UZ(18,"input",17),n.YNc(19,Nm,3,0,"label",16),n.qZA()(),n.TgZ(20,"div",12)(21,"button",18),n._uU(22,"Confirmar"),n.qZA()(),n.TgZ(23,"div",19),n._uU(24),n.qZA()()()}if(2&p){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.resetPasswordForm),n.xp6(2),n.Q6J("src",n.lcZ(4,6,n.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(10),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.resetPasswordForm,"password")&&t.commonService.hasRequireErrorFormControl(t.resetPasswordForm,"password")),n.xp6(6),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.resetPasswordForm,"confirmPassword")&&t.commonService.hasRequireErrorFormControl(t.resetPasswordForm,"confirmPassword")),n.xp6(2),n.Q6J("ngClass",n.VKq(11,yh,t.showLoading)),n.xp6(3),n.hij(" ",t.errorMessage," ")}}function ag(p,i){1&p&&(n.TgZ(0,"div",11),n._uU(1," Cambio de contrase\xf1a "),n.qZA(),n.TgZ(2,"h2"),n._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),n.qZA())}function Sv(p,i){1&p&&(n.TgZ(0,"div",11),n._uU(1," Validaci\xf3n de Token "),n.qZA(),n.TgZ(2,"h2",25),n._uU(3,"Token inv\xe1lido"),n.qZA())}function lg(p,i){if(1&p&&(n.TgZ(0,"div",22)(1,"div",23)(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.YNc(6,ag,4,0,"ng-template",24),n.YNc(7,Sv,4,0,"ng-template",24),n.qZA()()),2&p){const t=n.oxw();n.xp6(3),n.Q6J("src",n.lcZ(4,3,n.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(3),n.Q6J("ngIf",t.showResetPasswordSuccessMessage),n.xp6(1),n.Q6J("ngIf",t.showInvalidTokenMessage)}}let Cv=(()=>{class p{constructor(t,l,h,b,N,H){this.formBuilder=t,this.router=l,this.activeRoute=h,this.userService=b,this.commonService=N,this.sharedDataService=H,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Rm,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new Yi.NI("",[Yi.kI.required]),confirmPassword:new Yi.NI("",[Yi.kI.required])})}ngOnInit(){let t=this.activeRoute.snapshot.params.base64Data;if(null!=t)try{let b=vh().decode(t);var l=JSON.parse(b);if(this.resetPasswordToken=l.ResetPasswordToken,this.userId=l.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var h=new Ev;h.ResetPasswordToken=this.resetPasswordToken,h.UserId=this.userId,this.userService.validateResetPasswordToken(h).then(N=>{this.showResetPasswordForm=!0,this.showLoading=!1},N=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=N,console.error(N)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.userService.resetPassword(this.resetPasswordModel).then(t=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(Yi.qu),n.Y36(A.F0),n.Y36(A.gz),n.Y36(yc.K),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return h.onClickCloseButton()}),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA()(),n.TgZ(6,"div",4),n.YNc(7,Tv,25,13,"div",5),n.YNc(8,lg,8,8,"div",6),n.qZA(),n._UZ(9,"app-custom-spinner",7)),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,4,n.xi3(5,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(4),n.Q6J("ngIf",h.showResetPasswordForm),n.xp6(1),n.Q6J("ngIf",!h.showResetPasswordForm&&(h.showInvalidTokenMessage||h.showResetPasswordSuccessMessage)),n.xp6(1),n.Q6J("showLoading",h.showLoading))},dependencies:[Ni.mk,Ni.O5,Yi._Y,Yi.Fj,Yi.JJ,Yi.JL,Am.D,Yi.sg,Yi.u,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return p})();class Dv{}function hf(p,i){if(1&p&&(n.TgZ(0,"h2",9),n._uU(1),n.qZA()),2&p){const t=n.oxw();n.xp6(1),n.Oqu(t.errorMessage)}}function Mv(p,i){1&p&&(n.TgZ(0,"h2"),n._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),n.qZA())}let Yd=(()=>{class p{constructor(t,l,h){this.router=t,this.activeRoute=l,this.userService=h,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let t=this.activeRoute.snapshot.params.base64Data;if(null!=t)try{let b=vh().decode(t);var l=JSON.parse(b);if(l.ConfirmEmailToken){this.showLoading=!0;var h=new Dv;h.ConfirmEmailToken=l.ConfirmEmailToken,h.UserId=l.UserId,this.userService.validateConfirmEmailToken(h).then(N=>{this.showLoading=!1,this.showSuccessMessage=!0},N=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=N,console.error(N)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(A.F0),n.Y36(A.gz),n.Y36(yc.K))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return h.onClose()}),n._UZ(2,"img",2),n.ALo(3,"async"),n.ALo(4,"formatDataPipe"),n.qZA()(),n.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),n._UZ(9,"img",2),n.ALo(10,"async"),n.ALo(11,"formatDataPipe"),n.qZA(),n.TgZ(12,"div",7),n._uU(13," Confirmaci\xf3n de Email "),n.qZA(),n.YNc(14,hf,2,1,"ng-template",8),n.YNc(15,Mv,2,0,"ng-template",8),n.qZA()()()),2&l&&(n.xp6(2),n.Q6J("src",n.lcZ(3,4,n.xi3(4,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("src",n.lcZ(10,9,n.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("ngIf",h.showInvalidTokenMessage),n.xp6(1),n.Q6J("ngIf",h.showSuccessMessage))},dependencies:[Ni.O5,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return p})(),Cu=(()=>{class p{constructor(t,l){this.router=t,this.sharedDataService=l}ngOnInit(){}goInitialPage(){this.router.navigateByUrl(null!=this.sharedDataService.apiToken?"/home":"/landing").then(l=>{},l=>{console.error(l)})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(A.F0),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"p",4),n._uU(7,"No encontramos la p\xe1gina que esta buscando"),n.qZA(),n.TgZ(8,"p",5),n._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),n.qZA(),n.TgZ(10,"button",6),n.NdJ("click",function(){return h.goInitialPage()}),n._uU(11,"Inicio"),n.qZA()()()),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,1,n.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))},dependencies:[Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return p})();const Av=["loginFormContainer"];let Lm=(()=>{class p{constructor(t,l,h){this.router=t,this.activeRoute=l,this.sharedDataService=h,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(A.F0),n.Y36(A.gz),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-landing"]],viewQuery:function(l,h){if(1&l&&n.Gf(Av,5),2&l){let b;n.iGM(b=n.CRH())&&(h.loginFormContainer=b.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(l,h){1&l&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.ALo(5,"async"),n.ALo(6,"formatDataPipe"),n.qZA(),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return h.showRegisterPage()}),n._uU(9,"REG\xcdSTRATE"),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return h.showLoginPage()}),n._uU(11,"INICIA SESI\xd3N"),n.qZA()()()()()),2&l&&(n.xp6(4),n.Q6J("src",n.lcZ(5,1,n.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))},dependencies:[Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return p})();class xv{}function Iv(p,i){if(1&p&&(n.TgZ(0,"label",19),n._UZ(1,"i",20),n._uU(2),n.qZA()),2&p){const t=n.oxw(2);n.xp6(2),n.hij(" ",t.commonService.hasRequireErrorFormControl(t.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":t.commonService.hasErrorPatternFormControl(t.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const wv=function(p){return{disable:p}};function cg(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",8)(1,"form",9),n.NdJ("ngSubmit",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.SendRecoverPasswordEmail())}),n.TgZ(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",11),n._uU(7," Olvido su contrase\xf1a "),n.qZA(),n.TgZ(8,"div",12)(9,"label",13),n._uU(10," Correo electr\xf3nico "),n.qZA(),n.TgZ(11,"div",14),n._UZ(12,"input",15),n.YNc(13,Iv,3,1,"label",16),n.qZA()(),n.TgZ(14,"div",12)(15,"button",17),n._uU(16,"Recuperar contrase\xf1a"),n.qZA()(),n.TgZ(17,"div",18),n._uU(18),n.qZA()()()}if(2&p){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.recoverPasswordForm),n.xp6(2),n.Q6J("src",n.lcZ(4,5,n.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(10),n.Q6J("ngIf",t.commonService.isInvalidFormControl(t.recoverPasswordForm,"email")),n.xp6(2),n.Q6J("ngClass",n.VKq(10,wv,t.showLoading)),n.xp6(3),n.hij(" ",t.errorMessage," ")}}function dg(p,i){1&p&&(n.TgZ(0,"div",21)(1,"div",22)(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",11),n._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),n.qZA(),n.TgZ(8,"h2"),n._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),n.qZA()()()),2&p&&(n.xp6(3),n.Q6J("src",n.lcZ(4,1,n.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))}let bh=(()=>{class p{constructor(t,l,h,b,N){this.formBuilder=t,this.router=l,this.userService=h,this.commonService=b,this.sharedDataService=N,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new xv,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new Yi.NI("",[Yi.kI.required,Yi.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.userService.recoverPassword(this.recoverPasswordModel).then(t=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(Yi.qu),n.Y36(A.F0),n.Y36(yc.K),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return h.onClose()}),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA()(),n.TgZ(6,"div",4),n.YNc(7,cg,19,12,"div",5),n.YNc(8,dg,10,6,"div",6),n.qZA(),n._UZ(9,"app-custom-spinner",7)),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,4,n.xi3(5,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(4),n.Q6J("ngIf",!h.sendedConfirmationEmail),n.xp6(1),n.Q6J("ngIf",h.sendedConfirmationEmail),n.xp6(1),n.Q6J("showLoading",h.showLoading))},dependencies:[Ni.mk,Ni.O5,Yi._Y,Yi.Fj,Yi.JJ,Yi.JL,Am.D,Yi.sg,Yi.u,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return p})();const mf=["itemListContainer"];function ug(p,i){if(1&p&&(n.TgZ(0,"div",14)(1,"span"),n._uU(2),n.qZA()()),2&p){const t=n.oxw().$implicit;n.xp6(2),n.Oqu(t.Title)}}function Wy(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",10)(1,"button",11),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(2);return n.KtG(N.onClickItem(b))}),n._UZ(2,"img",12),n.qZA(),n.YNc(3,ug,3,1,"div",13),n.qZA()}if(2&p){const t=i.$implicit,l=n.oxw(2);n.xp6(1),n.hYB("id","item_",t.TvSerieId?t.TvSerie_ID:t.MovieId,"_",t.MediaType,""),n.xp6(1),n.Q6J("src",l.commonService.getUrlByItemMovieDataBase(t),n.LSH),n.xp6(1),n.Q6J("ngIf",!t.Subtitle)}}function km(p,i){if(1&p&&(n.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),n.YNc(6,Wy,4,4,"ng-template",3),n.qZA()()()()),2&p){const t=i.$implicit;n.MGl("id","section_search_",i.index,""),n.xp6(6),n.Q6J("ngForOf",t)}}let Du=(()=>{class p{constructor(t,l,h,b){this.libraryService=t,this.router=l,this.commonService=h,this.sharedDataService=b,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedDataService.mediaServers.forEach(t=>{t.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(t.Url,this.searchText).then(l=>{this.listItems=this.listItems.concat(l),this.buildGroupItems(this.listItems)},l=>{console.error(l)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(t){if(t&&t.length>0){let N=window.innerWidth>=2048?250:180;var l=Math.floor(this.container.nativeElement.offsetWidth/N),h=t.reduce((H,te,se)=>{var We=Math.floor(se/l)+1;return H[`row${We}`]=H[`row${We}`]||[],H[`row${We}`].push(te),H},{}),b=Object.keys(h).map(function(H){return h[H]});this.listGroupItems=b}else this.listGroupItems=[]}onClickItem(t){this.getMediaDetail(t)}getMediaDetail(t){var l=this.sharedDataService.mediaServers.find(h=>h.Id==t.MediaServerId);this.router.navigateByUrl("/media/server/"+l.Guid+"/libraries/"+t.LibraryId+"/detail?mediaType="+t.MediaTypeId+"&mediaId="+t.MediaItemId)}onResize(t){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(Fa.$),n.Y36(A.F0),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-vertical-item-list"]],viewQuery:function(l,h){if(1&l&&n.Gf(mf,5),2&l){let b;n.iGM(b=n.CRH())&&(h.container=b.first)}},hostBindings:function(l,h){1&l&&n.NdJ("resize",function(N){return h.onResize(N)},!1,n.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0,1)(2,"div",2),n.YNc(3,km,7,2,"ng-template",3),n.qZA()()),2&l&&(n.Udp("height","100%"),n.xp6(3),n.Q6J("ngForOf",h.listGroupItems))},dependencies:[Ni.sg,Ni.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return p})();function Eh(p,i){if(1&p&&(n.TgZ(0,"div",7)(1,"h2"),n._uU(2),n.qZA()()),2&p){const t=n.oxw();n.xp6(2),n.hij('Resultados para "',t.searchText,'"')}}let Fm=(()=>{class p{constructor(t,l,h){this.router=t,this.route=l,this.sharedDataService=h,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let t=this.route.snapshot.queryParams.text;null!=t&&""!=t?this.searchText=t:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(A.F0),n.Y36(A.gz),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(l,h){if(1&l&&(n.TgZ(0,"div",0,1)(2,"div",2,3),n.YNc(4,Eh,3,1,"div",4),n.qZA(),n.TgZ(5,"div",null,5),n._UZ(7,"app-vertical-item-list",6),n.qZA()()),2&l){const b=n.MAs(3);n.xp6(4),n.Q6J("ngIf",null!=h.searchText&&""!=h.searchText),n.xp6(1),n.Udp("height","calc(100% - "+b.offsetHeight+"px)"),n.xp6(2),n.Q6J("searchText",h.searchText)}},dependencies:[Ni.O5,Du],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return p})();const fg=[{path:"home",component:vd,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(p=>p.MediaItemsModule),canActivate:[_.E]},{path:"media/movies",component:vd,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(p=>p.MediaItemsModule),canActivate:[_.E]},{path:"media/tvseries",component:vd,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(p=>p.MediaItemsModule),canActivate:[_.E]},{path:"media/server/:serverGuid",component:vd,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(p=>p.MediaItemsModule),canActivate:[_.E]},{path:"media/server/:serverGuid/libraries/:libraryId",component:vd,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(p=>p.MediaItemsModule),canActivate:[_.E]},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:Ju,loadChildren:()=>v.e(113).then(v.bind(v,2113)).then(p=>p.MediaDetailModule),canActivate:[_.E]},{path:"media/server/:serverGuid/video/:mediaFileId",component:md,loadChildren:()=>v.e(253).then(v.bind(v,7253)).then(p=>p.MediaVideoModule),canActivate:[_.E]},{path:"search",component:Fm,loadChildren:()=>v.e(85).then(v.bind(v,2085)).then(p=>p.MediaSearchModule),canActivate:[_.E]},{path:"profiles",loadChildren:()=>v.e(209).then(v.bind(v,4209)).then(p=>p.ProfilesModule)},{path:"settings",loadChildren:()=>v.e(573).then(v.bind(v,573)).then(p=>p.SettingsModule)},{path:"manage",loadChildren:()=>v.e(781).then(v.bind(v,1781)).then(p=>p.ManageModule)},{path:"landing",component:Lm,canActivate:[I]},{path:"register",component:yv,loadChildren:()=>v.e(470).then(v.bind(v,1470)).then(p=>p.RegisterAcccountPageModule),canActivate:[I]},{path:"login",component:gh,loadChildren:()=>v.e(717).then(v.bind(v,717)).then(p=>p.LoginPageModule),canActivate:[I]},{path:"recover",component:bh,loadChildren:()=>v.e(456).then(v.bind(v,456)).then(p=>p.RecoverPasswordPageModule),canActivate:[I]},{path:"reset/:base64Data",component:Cv,loadChildren:()=>v.e(300).then(v.bind(v,2300)).then(p=>p.ResetPasswordPageModule),canActivate:[I]},{path:"confirm/:base64Data",component:Yd,loadChildren:()=>v.e(159).then(v.bind(v,159)).then(p=>p.ConfirmEmailPageModule),canActivate:[I]},{path:"404",component:Cu},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let Ov=(()=>{class p{static#e=this.\u0275fac=function(l){return new(l||p)};static#t=this.\u0275mod=n.oAB({type:p});static#n=this.\u0275inj=n.cJS({imports:[A.Bz.forRoot(fg,{onSameUrlNavigation:"reload"}),A.Bz]})}return p})();var Oo=v(6825);function hg(p){return new n.vHH(3e3,!1)}function rd(p){switch(p.length){case 0:return new Oo.ZN;case 1:return p[0];default:return new Oo.ZE(p)}}function xg(p,i,t=new Map,l=new Map){const h=[],b=[];let N=-1,H=null;if(i.forEach(te=>{const se=te.get("offset"),We=se==N,$e=We&&H||new Map;te.forEach((Ct,xt)=>{let Gt=xt,Wt=Ct;if("offset"!==xt)switch(Gt=p.normalizePropertyName(Gt,h),Wt){case Oo.k1:Wt=t.get(xt);break;case Oo.l3:Wt=l.get(xt);break;default:Wt=p.normalizeStyleValue(xt,Gt,Wt,h)}$e.set(Gt,Wt)}),We||b.push($e),H=$e,N=se}),h.length)throw function Cg(p){return new n.vHH(3502,!1)}();return b}function xu(p,i,t,l){switch(i){case"start":p.onStart(()=>l(t&&Td(t,"start",p)));break;case"done":p.onDone(()=>l(t&&Td(t,"done",p)));break;case"destroy":p.onDestroy(()=>l(t&&Td(t,"destroy",p)))}}function Td(p,i,t){const b=pf(p.element,p.triggerName,p.fromState,p.toState,i||p.phaseName,t.totalTime??p.totalTime,!!t.disabled),N=p._data;return null!=N&&(b._data=N),b}function pf(p,i,t,l,h="",b=0,N){return{element:p,triggerName:i,fromState:t,toState:l,phaseName:h,totalTime:b,disabled:!!N}}function ra(p,i,t){let l=p.get(i);return l||p.set(i,l=t),l}function Bm(p){const i=p.indexOf(":");return[p.substring(1,i),p.slice(i+1)]}const Um=(()=>typeof document>"u"?null:document.documentElement)();function gf(p){const i=p.parentNode||p.host||null;return i===Um?null:i}let Sd=null,Sh=!1;function Hm(p,i){for(;i;){if(i===p)return!0;i=gf(i)}return!1}function Ig(p,i,t){if(t)return Array.from(p.querySelectorAll(i));const l=p.querySelector(i);return l?[l]:[]}let wg=(()=>{class p{validateStyleProperty(t){return function jv(p){Sd||(Sd=function Vv(){return typeof document<"u"?document.body:null}()||{},Sh=!!Sd.style&&"WebkitAppearance"in Sd.style);let i=!0;return Sd.style&&!function Gm(p){return"ebkit"==p.substring(1,6)}(p)&&(i=p in Sd.style,!i&&Sh&&(i="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Sd.style)),i}(t)}matchesElement(t,l){return!1}containsElement(t,l){return Hm(t,l)}getParentElement(t){return gf(t)}query(t,l,h){return Ig(t,l,h)}computeStyle(t,l,h){return h||""}animate(t,l,h,b,N,H=[],te){return new Oo.ZN(h,b)}static#e=this.\u0275fac=function(l){return new(l||p)};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac})}return p})(),jm=(()=>{class p{static#e=this.NOOP=new wg}return p})();const Og=1e3,Km="ng-enter",fa="ng-leave",Ch="ng-trigger",Dh=".ng-trigger",Wv="ng-animating",_f=".ng-animating";function Dc(p){if("number"==typeof p)return p;const i=p.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Wm(parseFloat(i[1]),i[2])}function Wm(p,i){return"s"===i?p*Og:p}function Mh(p,i,t){return p.hasOwnProperty("duration")?p:function Yv(p,i,t){let h,b=0,N="";if("string"==typeof p){const H=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===H)return i.push(hg()),{duration:0,delay:0,easing:""};h=Wm(parseFloat(H[1]),H[2]);const te=H[3];null!=te&&(b=Wm(parseFloat(te),H[4]));const se=H[5];se&&(N=se)}else h=p;if(!t){let H=!1,te=i.length;h<0&&(i.push(function mg(){return new n.vHH(3100,!1)}()),H=!0),b<0&&(i.push(function Pv(){return new n.vHH(3101,!1)}()),H=!0),H&&i.splice(te,0,hg())}return{duration:h,delay:b,easing:N}}(p,i,t)}function Iu(p,i={}){return Object.keys(p).forEach(t=>{i[t]=p[t]}),i}function Pg(p){const i=new Map;return Object.keys(p).forEach(t=>{i.set(t,p[t])}),i}function Cd(p,i=new Map,t){if(t)for(let[l,h]of t)i.set(l,h);for(let[l,h]of p)i.set(l,h);return i}function Mc(p,i,t){i.forEach((l,h)=>{const b=Ih(h);t&&!t.has(h)&&t.set(h,p.style[b]),p.style[b]=l})}function zd(p,i){i.forEach((t,l)=>{const h=Ih(l);p.style[h]=""})}function vf(p){return Array.isArray(p)?1==p.length?p[0]:(0,Oo.vP)(p):p}const Ol=new RegExp("{{\\s*(.+?)\\s*}}","g");function xh(p){let i=[];if("string"==typeof p){let t;for(;t=Ol.exec(p);)i.push(t[1]);Ol.lastIndex=0}return i}function yf(p,i,t){const l=p.toString(),h=l.replace(Ol,(b,N)=>{let H=i[N];return null==H&&(t.push(function Mu(p){return new n.vHH(3003,!1)}()),H=""),H.toString()});return h==l?p:h}function bf(p){const i=[];let t=p.next();for(;!t.done;)i.push(t.value),t=p.next();return i}const $v=/-+([a-z0-9])/g;function Ih(p){return p.replace($v,(...i)=>i[1].toUpperCase())}function Pl(p,i,t){switch(i.type){case 7:return p.visitTrigger(i,t);case 0:return p.visitState(i,t);case 1:return p.visitTransition(i,t);case 2:return p.visitSequence(i,t);case 3:return p.visitGroup(i,t);case 4:return p.visitAnimate(i,t);case 5:return p.visitKeyframes(i,t);case 6:return p.visitStyle(i,t);case 8:return p.visitReference(i,t);case 9:return p.visitAnimateChild(i,t);case 10:return p.visitAnimateRef(i,t);case 11:return p.visitQuery(i,t);case 12:return p.visitStagger(i,t);default:throw function id(p){return new n.vHH(3004,!1)}()}}function zm(p,i){return window.getComputedStyle(p)[i]}const Oh="*";function Zm(p,i){const t=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(l=>function e0(p,i,t){if(":"==p[0]){const te=function t0(p,i){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,l)=>parseFloat(l)>parseFloat(t);case":decrement":return(t,l)=>parseFloat(l)<parseFloat(t);default:return i.push(function Tg(p){return new n.vHH(3016,!1)}()),"* => *"}}(p,t);if("function"==typeof te)return void i.push(te);p=te}const l=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return t.push(function dr(p){return new n.vHH(3015,!1)}()),i;const h=l[1],b=l[2],N=l[3];i.push(Jm(h,N));"<"==b[0]&&!(h==Oh&&N==Oh)&&i.push(Jm(N,h))}(l,t,i)):t.push(p),t}const Ph=new Set(["true","1"]),$m=new Set(["false","0"]);function Jm(p,i){const t=Ph.has(p)||$m.has(p),l=Ph.has(i)||$m.has(i);return(h,b)=>{let N=p==Oh||p==h,H=i==Oh||i==b;return!N&&t&&"boolean"==typeof h&&(N=h?Ph.has(p):$m.has(p)),!H&&l&&"boolean"==typeof b&&(H=b?Ph.has(i):$m.has(i)),N&&H}}const Rh=new RegExp("s*:selfs*,?","g");function Zd(p,i,t,l){return new nb(p).build(i,t,l)}class nb{constructor(i){this._driver=i}build(i,t,l){const h=new kg(t);return this._resetContextStyleTimingState(h),Pl(this,vf(i),h)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let l=t.queryCount=0,h=t.depCount=0;const b=[],N=[];return"@"==i.name.charAt(0)&&t.errors.push(function zy(){return new n.vHH(3006,!1)}()),i.definitions.forEach(H=>{if(this._resetContextStyleTimingState(t),0==H.type){const te=H,se=te.name;se.toString().split(/\s*,\s*/).forEach(We=>{te.name=We,b.push(this.visitState(te,t))}),te.name=se}else if(1==H.type){const te=this.visitTransition(H,t);l+=te.queryCount,h+=te.depCount,N.push(te)}else t.errors.push(function Rv(){return new n.vHH(3007,!1)}())}),{type:7,name:i.name,states:b,transitions:N,queryCount:l,depCount:h,options:null}}visitState(i,t){const l=this.visitStyle(i.styles,t),h=i.options&&i.options.params||null;if(l.containsDynamicStyles){const b=new Set,N=h||{};l.styles.forEach(H=>{H instanceof Map&&H.forEach(te=>{xh(te).forEach(se=>{N.hasOwnProperty(se)||b.add(se)})})}),b.size&&(bf(b.values()),t.errors.push(function Zy(p,i){return new n.vHH(3008,!1)}()))}return{type:0,name:i.name,style:l,options:h?{params:h}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const l=Pl(this,vf(i.animation),t);return{type:1,matchers:Zm(i.expr,t.errors),animation:l,queryCount:t.queryCount,depCount:t.depCount,options:Md(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(l=>Pl(this,l,t)),options:Md(i.options)}}visitGroup(i,t){const l=t.currentTime;let h=0;const b=i.steps.map(N=>{t.currentTime=l;const H=Pl(this,N,t);return h=Math.max(h,t.currentTime),H});return t.currentTime=h,{type:3,steps:b,options:Md(i.options)}}visitAnimate(i,t){const l=function o0(p,i){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Nh(Mh(p,i).duration,0,"");const t=p;if(t.split(/\s+/).some(b=>"{"==b.charAt(0)&&"{"==b.charAt(1))){const b=Nh(0,0,"");return b.dynamic=!0,b.strValue=t,b}const h=Mh(t,i);return Nh(h.duration,h.delay,h.easing)}(i.timings,t.errors);t.currentAnimateTimings=l;let h,b=i.styles?i.styles:(0,Oo.oB)({});if(5==b.type)h=this.visitKeyframes(b,t);else{let N=i.styles,H=!1;if(!N){H=!0;const se={};l.easing&&(se.easing=l.easing),N=(0,Oo.oB)(se)}t.currentTime+=l.duration+l.delay;const te=this.visitStyle(N,t);te.isEmptyStep=H,h=te}return t.currentAnimateTimings=null,{type:4,timings:l,style:h,options:null}}visitStyle(i,t){const l=this._makeStyleAst(i,t);return this._validateStyleAst(l,t),l}_makeStyleAst(i,t){const l=[],h=Array.isArray(i.styles)?i.styles:[i.styles];for(let H of h)"string"==typeof H?H===Oo.l3?l.push(H):t.errors.push(new n.vHH(3002,!1)):l.push(Pg(H));let b=!1,N=null;return l.forEach(H=>{if(H instanceof Map&&(H.has("easing")&&(N=H.get("easing"),H.delete("easing")),!b))for(let te of H.values())if(te.toString().indexOf("{{")>=0){b=!0;break}}),{type:6,styles:l,easing:N,offset:i.offset,containsDynamicStyles:b,options:null}}_validateStyleAst(i,t){const l=t.currentAnimateTimings;let h=t.currentTime,b=t.currentTime;l&&b>0&&(b-=l.duration+l.delay),i.styles.forEach(N=>{"string"!=typeof N&&N.forEach((H,te)=>{const se=t.collectedStyles.get(t.currentQuerySelector),We=se.get(te);let $e=!0;We&&(b!=h&&b>=We.startTime&&h<=We.endTime&&(t.errors.push(function _g(p,i,t,l,h){return new n.vHH(3010,!1)}()),$e=!1),b=We.startTime),$e&&se.set(te,{startTime:b,endTime:h}),t.options&&function Zv(p,i,t){const l=i.params||{},h=xh(p);h.length&&h.forEach(b=>{l.hasOwnProperty(b)||t.push(function pg(p){return new n.vHH(3001,!1)}())})}(H,t.options,t.errors)})})}visitKeyframes(i,t){const l={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Jy(){return new n.vHH(3011,!1)}()),l;let b=0;const N=[];let H=!1,te=!1,se=0;const We=i.steps.map(En=>{const kn=this._makeStyleAst(En,t);let Pn=null!=kn.offset?kn.offset:function r0(p){if("string"==typeof p)return null;let i=null;if(Array.isArray(p))p.forEach(t=>{if(t instanceof Map&&t.has("offset")){const l=t;i=parseFloat(l.get("offset")),l.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const t=p;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(kn.styles),zn=0;return null!=Pn&&(b++,zn=kn.offset=Pn),te=te||zn<0||zn>1,H=H||zn<se,se=zn,N.push(zn),kn});te&&t.errors.push(function vg(){return new n.vHH(3012,!1)}()),H&&t.errors.push(function Th(){return new n.vHH(3200,!1)}());const $e=i.steps.length;let Ct=0;b>0&&b<$e?t.errors.push(function yg(){return new n.vHH(3202,!1)}()):0==b&&(Ct=1/($e-1));const xt=$e-1,Gt=t.currentTime,Wt=t.currentAnimateTimings,rn=Wt.duration;return We.forEach((En,kn)=>{const Pn=Ct>0?kn==xt?1:Ct*kn:N[kn],zn=Pn*rn;t.currentTime=Gt+Wt.delay+zn,Wt.duration=zn,this._validateStyleAst(En,t),En.offset=Pn,l.styles.push(En)}),l}visitReference(i,t){return{type:8,animation:Pl(this,vf(i.animation),t),options:Md(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:Md(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:Md(i.options)}}visitQuery(i,t){const l=t.currentQuerySelector,h=i.options||{};t.queryCount++,t.currentQuery=i;const[b,N]=function n0(p){const i=!!p.split(/\s*,\s*/).find(t=>":self"==t);return i&&(p=p.replace(Rh,"")),p=p.replace(/@\*/g,Dh).replace(/@\w+/g,t=>Dh+"-"+t.slice(1)).replace(/:animating/g,_f),[p,i]}(i.selector);t.currentQuerySelector=l.length?l+" "+b:b,ra(t.collectedStyles,t.currentQuerySelector,new Map);const H=Pl(this,vf(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=l,{type:11,selector:b,limit:h.limit||0,optional:!!h.optional,includeSelf:N,animation:H,originalSelector:i.selector,options:Md(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function bg(){return new n.vHH(3013,!1)}());const l="full"===i.timings?{duration:0,delay:0,easing:"full"}:Mh(i.timings,t.errors,!0);return{type:12,animation:Pl(this,vf(i.animation),t),timings:l,options:null}}}class kg{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Md(p){return p?(p=Iu(p)).params&&(p.params=function Lg(p){return p?Iu(p):null}(p.params)):p={},p}function Nh(p,i,t){return{duration:p,delay:i,easing:t}}function $d(p,i,t,l,h,b,N=null,H=!1){return{type:1,element:p,keyframes:i,preStyleProps:t,postStyleProps:l,duration:h,delay:b,totalTime:h+b,easing:N,subTimeline:H}}class Lh{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let l=this._map.get(i);l||this._map.set(i,l=[]),l.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const s0=new RegExp(":enter","g"),Tf=new RegExp(":leave","g");function Qm(p,i,t,l,h,b=new Map,N=new Map,H,te,se=[]){return(new ib).buildKeyframes(p,i,t,l,h,b,N,H,te,se)}class ib{buildKeyframes(i,t,l,h,b,N,H,te,se,We=[]){se=se||new Lh;const $e=new qm(i,t,se,h,b,We,[]);$e.options=te;const Ct=te.delay?Dc(te.delay):0;$e.currentTimeline.delayNextStep(Ct),$e.currentTimeline.setStyles([N],null,$e.errors,te),Pl(this,l,$e);const xt=$e.timelines.filter(Gt=>Gt.containsAnimation());if(xt.length&&H.size){let Gt;for(let Wt=xt.length-1;Wt>=0;Wt--){const rn=xt[Wt];if(rn.element===t){Gt=rn;break}}Gt&&!Gt.allowOnlyTimelineStyles()&&Gt.setStyles([H],null,$e.errors,te)}return xt.length?xt.map(Gt=>Gt.buildKeyframes()):[$d(t,[],[],[],0,Ct,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const l=t.subInstructions.get(t.element);if(l){const h=t.createSubContext(i.options),b=t.currentTimeline.currentTime,N=this._visitSubInstructions(l,h,h.options);b!=N&&t.transformIntoNewTimeline(N)}t.previousNode=i}visitAnimateRef(i,t){const l=t.createSubContext(i.options);l.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,l),this.visitReference(i.animation,l),t.transformIntoNewTimeline(l.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,l){for(const h of i){const b=h?.delay;if(b){const N="number"==typeof b?b:Dc(yf(b,h?.params??{},t.errors));l.delayNextStep(N)}}}_visitSubInstructions(i,t,l){let b=t.currentTimeline.currentTime;const N=null!=l.duration?Dc(l.duration):null,H=null!=l.delay?Dc(l.delay):null;return 0!==N&&i.forEach(te=>{const se=t.appendInstructionToTimeline(te,N,H);b=Math.max(b,se.duration+se.delay)}),b}visitReference(i,t){t.updateOptions(i.options,!0),Pl(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const l=t.subContextCount;let h=t;const b=i.options;if(b&&(b.params||b.delay)&&(h=t.createSubContext(b),h.transformIntoNewTimeline(),null!=b.delay)){6==h.previousNode.type&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=kh);const N=Dc(b.delay);h.delayNextStep(N)}i.steps.length&&(i.steps.forEach(N=>Pl(this,N,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>l&&h.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const l=[];let h=t.currentTimeline.currentTime;const b=i.options&&i.options.delay?Dc(i.options.delay):0;i.steps.forEach(N=>{const H=t.createSubContext(i.options);b&&H.delayNextStep(b),Pl(this,N,H),h=Math.max(h,H.currentTimeline.currentTime),l.push(H.currentTimeline)}),l.forEach(N=>t.currentTimeline.mergeTimelineCollectedStyles(N)),t.transformIntoNewTimeline(h),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const l=i.strValue;return Mh(t.params?yf(l,t.params,t.errors):l,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const l=t.currentAnimateTimings=this._visitTiming(i.timings,t),h=t.currentTimeline;l.delay&&(t.incrementTime(l.delay),h.snapshotCurrentStyles());const b=i.style;5==b.type?this.visitKeyframes(b,t):(t.incrementTime(l.duration),this.visitStyle(b,t),h.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const l=t.currentTimeline,h=t.currentAnimateTimings;!h&&l.hasCurrentStyleProperties()&&l.forwardFrame();const b=h&&h.easing||i.easing;i.isEmptyStep?l.applyEmptyStep(b):l.setStyles(i.styles,b,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const l=t.currentAnimateTimings,h=t.currentTimeline.duration,b=l.duration,H=t.createSubContext().currentTimeline;H.easing=l.easing,i.styles.forEach(te=>{H.forwardTime((te.offset||0)*b),H.setStyles(te.styles,te.easing,t.errors,t.options),H.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(H),t.transformIntoNewTimeline(h+b),t.previousNode=i}visitQuery(i,t){const l=t.currentTimeline.currentTime,h=i.options||{},b=h.delay?Dc(h.delay):0;b&&(6===t.previousNode.type||0==l&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kh);let N=l;const H=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!h.optional,t.errors);t.currentQueryTotal=H.length;let te=null;H.forEach((se,We)=>{t.currentQueryIndex=We;const $e=t.createSubContext(i.options,se);b&&$e.delayNextStep(b),se===t.element&&(te=$e.currentTimeline),Pl(this,i.animation,$e),$e.currentTimeline.applyStylesToKeyframe(),N=Math.max(N,$e.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(N),te&&(t.currentTimeline.mergeTimelineCollectedStyles(te),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const l=t.parentContext,h=t.currentTimeline,b=i.timings,N=Math.abs(b.duration),H=N*(t.currentQueryTotal-1);let te=N*t.currentQueryIndex;switch(b.duration<0?"reverse":b.easing){case"reverse":te=H-te;break;case"full":te=l.currentStaggerTime}const We=t.currentTimeline;te&&We.delayNextStep(te);const $e=We.currentTime;Pl(this,i.animation,t),t.previousNode=i,l.currentStaggerTime=h.currentTime-$e+(h.startTime-l.currentTimeline.startTime)}}const kh={};class qm{constructor(i,t,l,h,b,N,H,te){this._driver=i,this.element=t,this.subInstructions=l,this._enterClassName=h,this._leaveClassName=b,this.errors=N,this.timelines=H,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=te||new Fh(this._driver,t,0),H.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const l=i;let h=this.options;null!=l.duration&&(h.duration=Dc(l.duration)),null!=l.delay&&(h.delay=Dc(l.delay));const b=l.params;if(b){let N=h.params;N||(N=this.options.params={}),Object.keys(b).forEach(H=>{(!t||!N.hasOwnProperty(H))&&(N[H]=yf(b[H],N,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const l=i.params={};Object.keys(t).forEach(h=>{l[h]=t[h]})}}return i}createSubContext(i=null,t,l){const h=t||this.element,b=new qm(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,l||0));return b.previousNode=this.previousNode,b.currentAnimateTimings=this.currentAnimateTimings,b.options=this._copyOptions(),b.updateOptions(i),b.currentQueryIndex=this.currentQueryIndex,b.currentQueryTotal=this.currentQueryTotal,b.parentContext=this,this.subContextCount++,b}transformIntoNewTimeline(i){return this.previousNode=kh,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,l){const h={duration:t??i.duration,delay:this.currentTimeline.currentTime+(l??0)+i.delay,easing:""},b=new l0(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,h,i.stretchStartingKeyframe);return this.timelines.push(b),h}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,l,h,b,N){let H=[];if(h&&H.push(this.element),i.length>0){i=(i=i.replace(s0,"."+this._enterClassName)).replace(Tf,"."+this._leaveClassName);let se=this._driver.query(this.element,i,1!=l);0!==l&&(se=l<0?se.slice(se.length+l,se.length):se.slice(0,l)),H.push(...se)}return!b&&0==H.length&&N.push(function Eg(p){return new n.vHH(3014,!1)}()),H}}class Fh{constructor(i,t,l,h){this._driver=i,this.element=t,this.startTime=l,this._elementTimelineStylesLookup=h,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new Fh(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,l]of this._globalTimelineStyles)this._backFill.set(t,l||Oo.l3),this._currentKeyframe.set(t,Oo.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,l,h){t&&this._previousKeyframe.set("easing",t);const b=h&&h.params||{},N=function c0(p,i){const t=new Map;let l;return p.forEach(h=>{if("*"===h){l=l||i.keys();for(let b of l)t.set(b,Oo.l3)}else Cd(h,t)}),t}(i,this._globalTimelineStyles);for(let[H,te]of N){const se=yf(te,b,l);this._pendingStyles.set(H,se),this._localTimelineStyles.has(H)||this._backFill.set(H,this._globalTimelineStyles.get(H)??Oo.l3),this._updateStyle(H,se)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,l)=>{const h=this._styleSummary.get(l);(!h||t.time>h.time)&&this._updateStyle(l,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,l=1===this._keyframes.size&&0===this.duration;let h=[];this._keyframes.forEach((H,te)=>{const se=Cd(H,new Map,this._backFill);se.forEach((We,$e)=>{We===Oo.k1?i.add($e):We===Oo.l3&&t.add($e)}),l||se.set("offset",te/this.duration),h.push(se)});const b=i.size?bf(i.values()):[],N=t.size?bf(t.values()):[];if(l){const H=h[0],te=new Map(H);H.set("offset",0),te.set("offset",1),h=[H,te]}return $d(this.element,h,b,N,this.duration,this.startTime,this.easing,!1)}}class l0 extends Fh{constructor(i,t,l,h,b,N,H=!1){super(i,t,N.delay),this.keyframes=l,this.preStyleProps=h,this.postStyleProps=b,this._stretchStartingKeyframe=H,this.timings={duration:N.duration,delay:N.delay,easing:N.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:l,easing:h}=this.timings;if(this._stretchStartingKeyframe&&t){const b=[],N=l+t,H=t/N,te=Cd(i[0]);te.set("offset",0),b.push(te);const se=Cd(i[0]);se.set("offset",Ug(H)),b.push(se);const We=i.length-1;for(let $e=1;$e<=We;$e++){let Ct=Cd(i[$e]);const xt=Ct.get("offset");Ct.set("offset",Ug((t+xt*l)/N)),b.push(Ct)}l=N,t=0,h="",i=b}return $d(this.element,i,this.preStyleProps,this.postStyleProps,l,t,h,!0)}}function Ug(p,i=3){const t=Math.pow(10,i-1);return Math.round(p*t)/t}class Bh{}const d0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Uh extends Bh{normalizePropertyName(i,t){return Ih(i)}normalizeStyleValue(i,t,l,h){let b="";const N=l.toString().trim();if(d0.has(t)&&0!==l&&"0"!==l)if("number"==typeof l)b="px";else{const H=l.match(/^[+-]?[\d\.]+([a-z]*)$/);H&&0==H[1].length&&h.push(function gg(p,i){return new n.vHH(3005,!1)}())}return N+b}}function Hg(p,i,t,l,h,b,N,H,te,se,We,$e,Ct){return{type:0,element:p,triggerName:i,isRemovalTransition:h,fromState:t,fromStyles:b,toState:l,toStyles:N,timelines:H,queriedElements:te,preStyleProps:se,postStyleProps:We,totalTime:$e,errors:Ct}}const Xm={};class jg{constructor(i,t,l){this._triggerName=i,this.ast=t,this._stateStyles=l}match(i,t,l,h){return function u0(p,i,t,l,h){return p.some(b=>b(i,t,l,h))}(this.ast.matchers,i,t,l,h)}buildStyles(i,t,l){let h=this._stateStyles.get("*");return void 0!==i&&(h=this._stateStyles.get(i?.toString())||h),h?h.buildStyles(t,l):new Map}build(i,t,l,h,b,N,H,te,se,We){const $e=[],Ct=this.ast.options&&this.ast.options.params||Xm,Gt=this.buildStyles(l,H&&H.params||Xm,$e),Wt=te&&te.params||Xm,rn=this.buildStyles(h,Wt,$e),En=new Set,kn=new Map,Pn=new Map,zn="void"===h,Yn={params:f0(Wt,Ct),delay:this.ast.options?.delay},ci=We?[]:Qm(i,t,this.ast.animation,b,N,Gt,rn,Yn,se,$e);let Xn=0;if(ci.forEach(Ti=>{Xn=Math.max(Ti.duration+Ti.delay,Xn)}),$e.length)return Hg(t,this._triggerName,l,h,zn,Gt,rn,[],[],kn,Pn,Xn,$e);ci.forEach(Ti=>{const qn=Ti.element,Qi=ra(kn,qn,new Set);Ti.preStyleProps.forEach(Gr=>Qi.add(Gr));const Oi=ra(Pn,qn,new Set);Ti.postStyleProps.forEach(Gr=>Oi.add(Gr)),qn!==t&&En.add(qn)});const mi=bf(En.values());return Hg(t,this._triggerName,l,h,zn,Gt,rn,ci,mi,kn,Pn,Xn)}}function f0(p,i){const t=Iu(i);for(const l in p)p.hasOwnProperty(l)&&null!=p[l]&&(t[l]=p[l]);return t}class Vg{constructor(i,t,l){this.styles=i,this.defaultParams=t,this.normalizer=l}buildStyles(i,t){const l=new Map,h=Iu(this.defaultParams);return Object.keys(i).forEach(b=>{const N=i[b];null!==N&&(h[b]=N)}),this.styles.styles.forEach(b=>{"string"!=typeof b&&b.forEach((N,H)=>{N&&(N=yf(N,h,t));const te=this.normalizer.normalizePropertyName(H,t);N=this.normalizer.normalizeStyleValue(H,te,N,t),l.set(H,N)})}),l}}class Wg{constructor(i,t,l){this.name=i,this.ast=t,this._normalizer=l,this.transitionFactories=[],this.states=new Map,t.states.forEach(h=>{this.states.set(h.name,new Vg(h.style,h.options&&h.options.params||{},l))}),m0(this.states,"true","1"),m0(this.states,"false","0"),t.transitions.forEach(h=>{this.transitionFactories.push(new jg(i,h,this.states))}),this.fallbackTransition=function h0(p,i,t){return new jg(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(N,H)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,l,h){return this.transitionFactories.find(N=>N.match(i,t,l,h))||null}matchStyles(i,t,l){return this.fallbackTransition.buildStyles(i,t,l)}}function m0(p,i,t){p.has(i)?p.has(t)||p.set(t,p.get(i)):p.has(t)&&p.set(i,p.get(t))}const Yg=new Lh;class zg{constructor(i,t,l){this.bodyNode=i,this._driver=t,this._normalizer=l,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const l=[],b=Zd(this._driver,t,l,[]);if(l.length)throw function kv(p){return new n.vHH(3503,!1)}();this._animations.set(i,b)}_buildPlayer(i,t,l){const h=i.element,b=xg(this._normalizer,i.keyframes,t,l);return this._driver.animate(h,b,i.duration,i.delay,i.easing,[],!0)}create(i,t,l={}){const h=[],b=this._animations.get(i);let N;const H=new Map;if(b?(N=Qm(this._driver,t,b,Km,fa,new Map,new Map,l,Yg,h),N.forEach(We=>{const $e=ra(H,We.element,new Map);We.postStyleProps.forEach(Ct=>$e.set(Ct,null))})):(h.push(function Fv(){return new n.vHH(3300,!1)}()),N=[]),h.length)throw function Dg(p){return new n.vHH(3504,!1)}();H.forEach((We,$e)=>{We.forEach((Ct,xt)=>{We.set(xt,this._driver.computeStyle($e,xt,Oo.l3))})});const se=rd(N.map(We=>{const $e=H.get(We.element);return this._buildPlayer(We,new Map,$e)}));return this._playersById.set(i,se),se.onDestroy(()=>this.destroy(i)),this.players.push(se),se}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const l=this.players.indexOf(t);l>=0&&this.players.splice(l,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function Bv(p){return new n.vHH(3301,!1)}();return t}listen(i,t,l,h){const b=pf(t,"","","");return xu(this._getPlayer(i),l,b,h),()=>{}}command(i,t,l,h){if("register"==l)return void this.register(i,h[0]);if("create"==l)return void this.create(i,t,h[0]||{});const b=this._getPlayer(i);switch(l){case"play":b.play();break;case"pause":b.pause();break;case"reset":b.reset();break;case"restart":b.restart();break;case"finish":b.finish();break;case"init":b.init();break;case"setPosition":b.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(i)}}}const p0="ng-animate-queued",ep="ng-animate-disabled",Ac=[],wu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ha={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oa="__ng_removed";class Ou{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const l=i&&i.hasOwnProperty("value");if(this.value=function Lu(p){return p??null}(l?i.value:i),l){const b=Iu(i);delete b.value,this.options=b}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const l=this.options.params;Object.keys(t).forEach(h=>{null==l[h]&&(l[h]=t[h])})}}}const ma="void",Sf=new Ou(ma);class Pu{constructor(i,t,l){this.id=i,this.hostElement=t,this._engine=l,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,hl(t,this._hostClassName)}listen(i,t,l,h){if(!this._triggers.has(t))throw function Mg(p,i){return new n.vHH(3302,!1)}();if(null==l||0==l.length)throw function Uv(p){return new n.vHH(3303,!1)}();if(!function ku(p){return"start"==p||"done"==p}(l))throw function Gv(p,i){return new n.vHH(3400,!1)}();const b=ra(this._elementListeners,i,[]),N={name:t,phase:l,callback:h};b.push(N);const H=ra(this._engine.statesByElement,i,new Map);return H.has(t)||(hl(i,Ch),hl(i,Ch+"-"+t),H.set(t,Sf)),()=>{this._engine.afterFlush(()=>{const te=b.indexOf(N);te>=0&&b.splice(te,1),this._triggers.has(t)||H.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function qy(p){return new n.vHH(3401,!1)}();return t}trigger(i,t,l,h=!0){const b=this._getTrigger(t),N=new Ad(this.id,t,i);let H=this._engine.statesByElement.get(i);H||(hl(i,Ch),hl(i,Ch+"-"+t),this._engine.statesByElement.set(i,H=new Map));let te=H.get(t);const se=new Ou(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&te&&se.absorbOptions(te.options),H.set(t,se),te||(te=Sf),se.value!==ma&&te.value===se.value){if(!function Jg(p,i){const t=Object.keys(p),l=Object.keys(i);if(t.length!=l.length)return!1;for(let h=0;h<t.length;h++){const b=t[h];if(!i.hasOwnProperty(b)||p[b]!==i[b])return!1}return!0}(te.params,se.params)){const Wt=[],rn=b.matchStyles(te.value,te.params,Wt),En=b.matchStyles(se.value,se.params,Wt);Wt.length?this._engine.reportError(Wt):this._engine.afterFlush(()=>{zd(i,rn),Mc(i,En)})}return}const Ct=ra(this._engine.playersByElement,i,[]);Ct.forEach(Wt=>{Wt.namespaceId==this.id&&Wt.triggerName==t&&Wt.queued&&Wt.destroy()});let xt=b.matchTransition(te.value,se.value,i,se.params),Gt=!1;if(!xt){if(!h)return;xt=b.fallbackTransition,Gt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:xt,fromState:te,toState:se,player:N,isFallbackTransition:Gt}),Gt||(hl(i,p0),N.onStart(()=>{qd(i,p0)})),N.onDone(()=>{let Wt=this.players.indexOf(N);Wt>=0&&this.players.splice(Wt,1);const rn=this._engine.playersByElement.get(i);if(rn){let En=rn.indexOf(N);En>=0&&rn.splice(En,1)}}),this.players.push(N),Ct.push(N),N}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,l)=>{this._elementListeners.set(l,t.filter(h=>h.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(l=>l.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const l=this._engine.driver.query(i,Dh,!0);l.forEach(h=>{if(h[oa])return;const b=this._engine.fetchNamespacesByElement(h);b.size?b.forEach(N=>N.triggerLeaveAnimation(h,t,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(i,t,l,h){const b=this._engine.statesByElement.get(i),N=new Map;if(b){const H=[];if(b.forEach((te,se)=>{if(N.set(se,te.value),this._triggers.has(se)){const We=this.trigger(i,se,ma,h);We&&H.push(We)}}),H.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,N),l&&rd(H).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),l=this._engine.statesByElement.get(i);if(t&&l){const h=new Set;t.forEach(b=>{const N=b.name;if(h.has(N))return;h.add(N);const te=this._triggers.get(N).fallbackTransition,se=l.get(N)||Sf,We=new Ou(ma),$e=new Ad(this.id,N,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:N,transition:te,fromState:se,toState:We,player:$e,isFallbackTransition:!0})})}}removeNode(i,t){const l=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let h=!1;if(l.totalAnimations){const b=l.players.length?l.playersByQueriedElement.get(i):[];if(b&&b.length)h=!0;else{let N=i;for(;N=N.parentNode;)if(l.statesByElement.get(N)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(i),h)l.markElementAsRemoved(this.id,i,!1,t);else{const b=i[oa];(!b||b===wu)&&(l.afterFlush(()=>this.clearElementCache(i)),l.destroyInnerAnimations(i),l._onRemovalComplete(i,t))}}insertNode(i,t){hl(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(l=>{const h=l.player;if(h.destroyed)return;const b=l.element,N=this._elementListeners.get(b);N&&N.forEach(H=>{if(H.name==l.triggerName){const te=pf(b,l.triggerName,l.fromState.value,l.toState.value);te._data=i,xu(l.player,H.phase,te,H.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):t.push(l)}),this._queue=[],t.sort((l,h)=>{const b=l.transition.ast.depCount,N=h.transition.ast.depCount;return 0==b||0==N?b-N:this._engine.driver.containsElement(l.element,h.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class Ru{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,l){this.bodyNode=i,this.driver=t,this._normalizer=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,b)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(l=>{l.queued&&i.push(l)})}),i}createNamespace(i,t){const l=new Pu(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(l,t):(this.newHostElements.set(t,l),this.collectEnterElement(t)),this._namespaceLookup[i]=l}_balanceNamespaceList(i,t){const l=this._namespaceList,h=this.namespacesByHostElement;if(l.length-1>=0){let N=!1,H=this.driver.getParentElement(t);for(;H;){const te=h.get(H);if(te){const se=l.indexOf(te);l.splice(se+1,0,i),N=!0;break}H=this.driver.getParentElement(H)}N||l.unshift(i)}else l.push(i);return h.set(t,i),i}register(i,t){let l=this._namespaceLookup[i];return l||(l=this.createNamespace(i,t)),l}registerTrigger(i,t,l){let h=this._namespaceLookup[i];h&&h.register(t,l)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const l=this._fetchNamespace(i);this.namespacesByHostElement.delete(l.hostElement);const h=this._namespaceList.indexOf(l);h>=0&&this._namespaceList.splice(h,1),l.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,l=this.statesByElement.get(i);if(l)for(let h of l.values())if(h.namespaceId){const b=this._fetchNamespace(h.namespaceId);b&&t.add(b)}return t}trigger(i,t,l,h){if(od(t)){const b=this._fetchNamespace(i);if(b)return b.trigger(t,l,h),!0}return!1}insertNode(i,t,l,h){if(!od(t))return;const b=t[oa];if(b&&b.setForRemoval){b.setForRemoval=!1,b.setForMove=!0;const N=this.collectedLeaveElements.indexOf(t);N>=0&&this.collectedLeaveElements.splice(N,1)}if(i){const N=this._fetchNamespace(i);N&&N.insertNode(t,l)}h&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),hl(i,ep)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),qd(i,ep))}removeNode(i,t,l){if(od(t)){const h=i?this._fetchNamespace(i):null;h?h.removeNode(t,l):this.markElementAsRemoved(i,t,!1,l);const b=this.namespacesByHostElement.get(t);b&&b.id!==i&&b.removeNode(t,l)}else this._onRemovalComplete(t,l)}markElementAsRemoved(i,t,l,h,b){this.collectedLeaveElements.push(t),t[oa]={namespaceId:i,setForRemoval:h,hasAnimation:l,removedBeforeQueried:!1,previousTriggersValues:b}}listen(i,t,l,h,b){return od(t)?this._fetchNamespace(i).listen(t,l,h,b):()=>{}}_buildInstruction(i,t,l,h,b){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,l,h,i.fromState.options,i.toState.options,t,b)}destroyInnerAnimations(i){let t=this.driver.query(i,Dh,!0);t.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,_f,!0),t.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return rd(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[oa];if(t&&t.setForRemoval){if(i[oa]=wu,t.namespaceId){this.destroyInnerAnimations(i);const l=this._fetchNamespace(t.namespaceId);l&&l.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(ep)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,h)=>this._balanceNamespaceList(l,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)hl(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{t=this._flushAnimations(l,i)}finally{for(let h=0;h<l.length;h++)l[h]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],t.length?rd(t).onDone(()=>{l.forEach(h=>h())}):l.forEach(h=>h())}}reportError(i){throw function Ag(p){return new n.vHH(3402,!1)}()}_flushAnimations(i,t){const l=new Lh,h=[],b=new Map,N=[],H=new Map,te=new Map,se=new Map,We=new Set;this.disabledNodes.forEach(vi=>{We.add(vi);const Di=this.driver.query(vi,".ng-animate-queued",!0);for(let si=0;si<Di.length;si++)We.add(Di[si])});const $e=this.bodyNode,Ct=Array.from(this.statesByElement.keys()),xt=np(Ct,this.collectedEnterElements),Gt=new Map;let Wt=0;xt.forEach((vi,Di)=>{const si=Km+Wt++;Gt.set(Di,si),vi.forEach(yi=>hl(yi,si))});const rn=[],En=new Set,kn=new Set;for(let vi=0;vi<this.collectedLeaveElements.length;vi++){const Di=this.collectedLeaveElements[vi],si=Di[oa];si&&si.setForRemoval&&(rn.push(Di),En.add(Di),si.hasAnimation?this.driver.query(Di,".ng-star-inserted",!0).forEach(yi=>En.add(yi)):kn.add(Di))}const Pn=new Map,zn=np(Ct,Array.from(En));zn.forEach((vi,Di)=>{const si=fa+Wt++;Pn.set(Di,si),vi.forEach(yi=>hl(yi,si))}),i.push(()=>{xt.forEach((vi,Di)=>{const si=Gt.get(Di);vi.forEach(yi=>qd(yi,si))}),zn.forEach((vi,Di)=>{const si=Pn.get(Di);vi.forEach(yi=>qd(yi,si))}),rn.forEach(vi=>{this.processLeaveNode(vi)})});const Yn=[],ci=[];for(let vi=this._namespaceList.length-1;vi>=0;vi--)this._namespaceList[vi].drainQueuedTransitions(t).forEach(si=>{const yi=si.player,ir=si.element;if(Yn.push(yi),this.collectedEnterElements.length){const go=ir[oa];if(go&&go.setForMove){if(go.previousTriggersValues&&go.previousTriggersValues.has(si.triggerName)){const Oc=go.previousTriggersValues.get(si.triggerName),ja=this.statesByElement.get(si.element);if(ja&&ja.has(si.triggerName)){const Dp=ja.get(si.triggerName);Dp.value=Oc,ja.set(si.triggerName,Dp)}}return void yi.destroy()}}const Fr=!$e||!this.driver.containsElement($e,ir),sr=Pn.get(ir),fo=Gt.get(ir),yr=this._buildInstruction(si,l,fo,sr,Fr);if(yr.errors&&yr.errors.length)return void ci.push(yr);if(Fr)return yi.onStart(()=>zd(ir,yr.fromStyles)),yi.onDestroy(()=>Mc(ir,yr.toStyles)),void h.push(yi);if(si.isFallbackTransition)return yi.onStart(()=>zd(ir,yr.fromStyles)),yi.onDestroy(()=>Mc(ir,yr.toStyles)),void h.push(yi);const Ga=[];yr.timelines.forEach(go=>{go.stretchStartingKeyframe=!0,this.disabledNodes.has(go.element)||Ga.push(go)}),yr.timelines=Ga,l.append(ir,yr.timelines),N.push({instruction:yr,player:yi,element:ir}),yr.queriedElements.forEach(go=>ra(H,go,[]).push(yi)),yr.preStyleProps.forEach((go,Oc)=>{if(go.size){let ja=te.get(Oc);ja||te.set(Oc,ja=new Set),go.forEach((Dp,zh)=>ja.add(zh))}}),yr.postStyleProps.forEach((go,Oc)=>{let ja=se.get(Oc);ja||se.set(Oc,ja=new Set),go.forEach((Dp,zh)=>ja.add(zh))})});if(ci.length){const vi=[];ci.forEach(Di=>{vi.push(function Ed(p,i){return new n.vHH(3505,!1)}())}),Yn.forEach(Di=>Di.destroy()),this.reportError(vi)}const Xn=new Map,mi=new Map;N.forEach(vi=>{const Di=vi.element;l.has(Di)&&(mi.set(Di,Di),this._beforeAnimationBuild(vi.player.namespaceId,vi.instruction,Xn))}),h.forEach(vi=>{const Di=vi.element;this._getPreviousPlayers(Di,!1,vi.namespaceId,vi.triggerName,null).forEach(yi=>{ra(Xn,Di,[]).push(yi),yi.destroy()})});const Ti=rn.filter(vi=>rp(vi,te,se)),qn=new Map;Qd(qn,this.driver,kn,se,Oo.l3).forEach(vi=>{rp(vi,te,se)&&Ti.push(vi)});const Oi=new Map;xt.forEach((vi,Di)=>{Qd(Oi,this.driver,new Set(vi),te,Oo.k1)}),Ti.forEach(vi=>{const Di=qn.get(vi),si=Oi.get(vi);qn.set(vi,new Map([...Di?.entries()??[],...si?.entries()??[]]))});const Gr=[],ks=[],yo={};N.forEach(vi=>{const{element:Di,player:si,instruction:yi}=vi;if(l.has(Di)){if(We.has(Di))return si.onDestroy(()=>Mc(Di,yi.toStyles)),si.disabled=!0,si.overrideTotalTime(yi.totalTime),void h.push(si);let ir=yo;if(mi.size>1){let sr=Di;const fo=[];for(;sr=sr.parentNode;){const yr=mi.get(sr);if(yr){ir=yr;break}fo.push(sr)}fo.forEach(yr=>mi.set(yr,ir))}const Fr=this._buildAnimation(si.namespaceId,yi,Xn,b,Oi,qn);if(si.setRealPlayer(Fr),ir===yo)Gr.push(si);else{const sr=this.playersByElement.get(ir);sr&&sr.length&&(si.parentPlayer=rd(sr)),h.push(si)}}else zd(Di,yi.fromStyles),si.onDestroy(()=>Mc(Di,yi.toStyles)),ks.push(si),We.has(Di)&&h.push(si)}),ks.forEach(vi=>{const Di=b.get(vi.element);if(Di&&Di.length){const si=rd(Di);vi.setRealPlayer(si)}}),h.forEach(vi=>{vi.parentPlayer?vi.syncPlayerEvents(vi.parentPlayer):vi.destroy()});for(let vi=0;vi<rn.length;vi++){const Di=rn[vi],si=Di[oa];if(qd(Di,fa),si&&si.hasAnimation)continue;let yi=[];if(H.size){let Fr=H.get(Di);Fr&&Fr.length&&yi.push(...Fr);let sr=this.driver.query(Di,_f,!0);for(let fo=0;fo<sr.length;fo++){let yr=H.get(sr[fo]);yr&&yr.length&&yi.push(...yr)}}const ir=yi.filter(Fr=>!Fr.destroyed);ir.length?Zg(this,Di,ir):this.processLeaveNode(Di)}return rn.length=0,Gr.forEach(vi=>{this.players.push(vi),vi.onDone(()=>{vi.destroy();const Di=this.players.indexOf(vi);this.players.splice(Di,1)}),vi.play()}),Gr}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,l,h,b){let N=[];if(t){const H=this.playersByQueriedElement.get(i);H&&(N=H)}else{const H=this.playersByElement.get(i);if(H){const te=!b||b==ma;H.forEach(se=>{se.queued||!te&&se.triggerName!=h||N.push(se)})}}return(l||h)&&(N=N.filter(H=>!(l&&l!=H.namespaceId||h&&h!=H.triggerName))),N}_beforeAnimationBuild(i,t,l){const b=t.element,N=t.isRemovalTransition?void 0:i,H=t.isRemovalTransition?void 0:t.triggerName;for(const te of t.timelines){const se=te.element,We=se!==b,$e=ra(l,se,[]);this._getPreviousPlayers(se,We,N,H,t.toState).forEach(xt=>{const Gt=xt.getRealPlayer();Gt.beforeDestroy&&Gt.beforeDestroy(),xt.destroy(),$e.push(xt)})}zd(b,t.fromStyles)}_buildAnimation(i,t,l,h,b,N){const H=t.triggerName,te=t.element,se=[],We=new Set,$e=new Set,Ct=t.timelines.map(Gt=>{const Wt=Gt.element;We.add(Wt);const rn=Wt[oa];if(rn&&rn.removedBeforeQueried)return new Oo.ZN(Gt.duration,Gt.delay);const En=Wt!==te,kn=function $g(p){const i=[];return ip(p,i),i}((l.get(Wt)||Ac).map(Xn=>Xn.getRealPlayer())).filter(Xn=>!!Xn.element&&Xn.element===Wt),Pn=b.get(Wt),zn=N.get(Wt),Yn=xg(this._normalizer,Gt.keyframes,Pn,zn),ci=this._buildPlayer(Gt,Yn,kn);if(Gt.subTimeline&&h&&$e.add(Wt),En){const Xn=new Ad(i,H,Wt);Xn.setRealPlayer(ci),se.push(Xn)}return ci});se.forEach(Gt=>{ra(this.playersByQueriedElement,Gt.element,[]).push(Gt),Gt.onDone(()=>function Nu(p,i,t){let l=p.get(i);if(l){if(l.length){const h=l.indexOf(t);l.splice(h,1)}0==l.length&&p.delete(i)}return l}(this.playersByQueriedElement,Gt.element,Gt))}),We.forEach(Gt=>hl(Gt,Wv));const xt=rd(Ct);return xt.onDestroy(()=>{We.forEach(Gt=>qd(Gt,Wv)),Mc(te,t.toStyles)}),$e.forEach(Gt=>{ra(h,Gt,[]).push(xt)}),xt}_buildPlayer(i,t,l){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,l):new Oo.ZN(i.duration,i.delay)}}class Ad{constructor(i,t,l){this.namespaceId=i,this.triggerName=t,this.element=l,this._player=new Oo.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,l)=>{t.forEach(h=>xu(i,l,void 0,h))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){ra(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function od(p){return p&&1===p.nodeType}function Jd(p,i){const t=p.style.display;return p.style.display=i??"none",t}function Qd(p,i,t,l,h){const b=[];t.forEach(te=>b.push(Jd(te)));const N=[];l.forEach((te,se)=>{const We=new Map;te.forEach($e=>{const Ct=i.computeStyle(se,$e,h);We.set($e,Ct),(!Ct||0==Ct.length)&&(se[oa]=ha,N.push(se))}),p.set(se,We)});let H=0;return t.forEach(te=>Jd(te,b[H++])),N}function np(p,i){const t=new Map;if(p.forEach(H=>t.set(H,[])),0==i.length)return t;const h=new Set(i),b=new Map;function N(H){if(!H)return 1;let te=b.get(H);if(te)return te;const se=H.parentNode;return te=t.has(se)?se:h.has(se)?1:N(se),b.set(H,te),te}return i.forEach(H=>{const te=N(H);1!==te&&t.get(te).push(H)}),t}function hl(p,i){p.classList?.add(i)}function qd(p,i){p.classList?.remove(i)}function Zg(p,i,t){rd(t).onDone(()=>p.processLeaveNode(i))}function ip(p,i){for(let t=0;t<p.length;t++){const l=p[t];l instanceof Oo.ZE?ip(l.players,i):i.push(l)}}function rp(p,i,t){const l=t.get(p);if(!l)return!1;let h=i.get(p);return h?l.forEach(b=>h.add(b)):i.set(p,l),t.delete(p),!0}class Cf{constructor(i,t,l){this.bodyNode=i,this._driver=t,this._normalizer=l,this._triggerCache={},this.onRemovalComplete=(h,b)=>{},this._transitionEngine=new Ru(i,t,l),this._timelineEngine=new zg(i,t,l),this._transitionEngine.onRemovalComplete=(h,b)=>this.onRemovalComplete(h,b)}registerTrigger(i,t,l,h,b){const N=i+"-"+h;let H=this._triggerCache[N];if(!H){const te=[],We=Zd(this._driver,b,te,[]);if(te.length)throw function Lv(p,i){return new n.vHH(3404,!1)}();H=function Kg(p,i,t){return new Wg(p,i,t)}(h,We,this._normalizer),this._triggerCache[N]=H}this._transitionEngine.registerTrigger(t,h,H)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,l,h){this._transitionEngine.insertNode(i,t,l,h)}onRemove(i,t,l){this._transitionEngine.removeNode(i,t,l)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,l,h){if("@"==l.charAt(0)){const[b,N]=Bm(l);this._timelineEngine.command(b,t,N,h)}else this._transitionEngine.trigger(i,t,l,h)}listen(i,t,l,h,b){if("@"==l.charAt(0)){const[N,H]=Bm(l);return this._timelineEngine.listen(N,t,H,b)}return this._transitionEngine.listen(i,t,l,h,b)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let v0=(()=>{class p{static#e=this.initialStylesByElement=new WeakMap;constructor(t,l,h){this._element=t,this._startStyles=l,this._endStyles=h,this._state=0;let b=p.initialStylesByElement.get(t);b||p.initialStylesByElement.set(t,b=new Map),this._initialStyles=b}start(){this._state<1&&(this._startStyles&&Mc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mc(this._element,this._initialStyles),this._endStyles&&(Mc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(zd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zd(this._element,this._endStyles),this._endStyles=null),Mc(this._element,this._initialStyles),this._state=3)}}return p})();function Qg(p){let i=null;return p.forEach((t,l)=>{(function sb(p){return"display"===p||"position"===p})(l)&&(i=i||new Map,i.set(l,t))}),i}class qg{constructor(i,t,l,h){this.element=i,this.keyframes=t,this.options=l,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(l=>{t.push(Object.fromEntries(l))}),t}_triggerWebAnimation(i,t,l){return i.animate(this._convertKeyframesToObject(t),l)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((l,h)=>{"offset"!==h&&i.set(h,this._finished?l:zm(this.element,h))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(l=>l()),t.length=0}}class y0{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return Hm(i,t)}getParentElement(i){return gf(i)}query(i,t,l){return Ig(i,t,l)}computeStyle(i,t,l){return window.getComputedStyle(i)[t]}animate(i,t,l,h,b,N=[]){const te={duration:l,delay:h,fill:0==h?"both":"forwards"};b&&(te.easing=b);const se=new Map,We=N.filter(xt=>xt instanceof qg);(function wh(p,i){return 0===p||0===i})(l,h)&&We.forEach(xt=>{xt.currentSnapshot.forEach((Gt,Wt)=>se.set(Wt,Gt))});let $e=function zv(p){return p.length?p[0]instanceof Map?p:p.map(i=>Pg(i)):[]}(t).map(xt=>Cd(xt));$e=function Ym(p,i,t){if(t.size&&i.length){let l=i[0],h=[];if(t.forEach((b,N)=>{l.has(N)||h.push(N),l.set(N,b)}),h.length)for(let b=1;b<i.length;b++){let N=i[b];h.forEach(H=>N.set(H,zm(p,H)))}}return i}(i,$e,se);const Ct=function op(p,i){let t=null,l=null;return Array.isArray(i)&&i.length?(t=Qg(i[0]),i.length>1&&(l=Qg(i[i.length-1]))):i instanceof Map&&(t=Qg(i)),t||l?new v0(p,t,l):null}(i,$e);return new qg(i,$e,te,Ct)}}let ab=(()=>{class p extends Oo._j{constructor(t,l){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(l.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(t){const l=this._nextAnimationId.toString();this._nextAnimationId++;const h=Array.isArray(t)?(0,Oo.vP)(t):t;return Xg(this._renderer,null,l,"register",[h]),new b0(l,this._renderer)}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(n.FYo),n.LFG(Ni.K0))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac})}return p})();class b0 extends Oo.LC{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new lb(this._id,i,t||{},this._renderer)}}class lb{constructor(i,t,l,h){this.id=i,this.element=t,this._renderer=h,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",l)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return Xg(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Xg(p,i,t,l,h){return p.setProperty(i,`@@${t}:${l}`,h)}const e_="@.disabled";let sp=(()=>{class p{constructor(t,l,h){this.delegate=t,this.engine=l,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,l.onRemovalComplete=(b,N)=>{const H=N?.parentNode(b);H&&N.removeChild(H,b)}}createRenderer(t,l){const b=this.delegate.createRenderer(t,l);if(!(t&&l&&l.data&&l.data.animation)){let We=this._rendererCache.get(b);return We||(We=new Fu("",b,this.engine,()=>this._rendererCache.delete(b)),this._rendererCache.set(b,We)),We}const N=l.id,H=l.id+"-"+this._currentId;this._currentId++,this.engine.register(H,t);const te=We=>{Array.isArray(We)?We.forEach(te):this.engine.registerTrigger(N,H,t,We.name,We)};return l.data.animation.forEach(te),new ap(this,H,b,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,l,h){t>=0&&t<this._microtaskId?this._zone.run(()=>l(h)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(b=>{const[N,H]=b;N(H)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([l,h]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(n.FYo),n.LFG(Cf),n.LFG(n.R0b))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac})}return p})();class Fu{constructor(i,t,l,h){this.namespaceId=i,this.delegate=t,this.engine=l,this._onDestroy=h}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,l,h=!0){this.delegate.insertBefore(i,t,l),this.engine.onInsert(this.namespaceId,t,i,h)}removeChild(i,t,l){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,l,h){this.delegate.setAttribute(i,t,l,h)}removeAttribute(i,t,l){this.delegate.removeAttribute(i,t,l)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,l,h){this.delegate.setStyle(i,t,l,h)}removeStyle(i,t,l){this.delegate.removeStyle(i,t,l)}setProperty(i,t,l){"@"==t.charAt(0)&&t==e_?this.disableAnimations(i,!!l):this.delegate.setProperty(i,t,l)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,l){return this.delegate.listen(i,t,l)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class ap extends Fu{constructor(i,t,l,h,b){super(t,l,h,b),this.factory=i,this.namespaceId=t}setProperty(i,t,l){"@"==t.charAt(0)?"."==t.charAt(1)&&t==e_?this.disableAnimations(i,l=void 0===l||!!l):this.engine.process(this.namespaceId,i,t.slice(1),l):this.delegate.setProperty(i,t,l)}listen(i,t,l){if("@"==t.charAt(0)){const h=function jh(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(i);let b=t.slice(1),N="";return"@"!=b.charAt(0)&&([b,N]=function t_(p){const i=p.indexOf(".");return[p.substring(0,i),p.slice(i+1)]}(b)),this.engine.listen(this.namespaceId,h,b,N,H=>{this.factory.scheduleListenerCallback(H._data||-1,l,H)})}return this.delegate.listen(i,t,l)}}let Df=(()=>{class p extends Cf{constructor(t,l,h,b){super(t.body,l,h)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(Ni.K0),n.LFG(jm),n.LFG(Bh),n.LFG(n.z2F))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac})}return p})();const Bu=[{provide:Oo._j,useClass:ab},{provide:Bh,useFactory:function n_(){return new Uh}},{provide:Cf,useClass:Df},{provide:n.FYo,useFactory:function E0(p,i,t){return new sp(p,i,t)},deps:[e.se,Cf,n.R0b]}],lp=[{provide:jm,useFactory:()=>new y0},{provide:n.QbO,useValue:"BrowserAnimations"},...Bu],i_=[{provide:jm,useClass:wg},{provide:n.QbO,useValue:"NoopAnimations"},...Bu];let T0=(()=>{class p{static withConfig(t){return{ngModule:p,providers:t.disableAnimations?i_:lp}}static#e=this.\u0275fac=function(l){return new(l||p)};static#t=this.\u0275mod=n.oAB({type:p});static#n=this.\u0275inj=n.cJS({providers:lp,imports:[e.b2]})}return p})();const Mf_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};var db=v(4769),S0=v(2680),C0=v(9411);class dp{}var D0=v(295),o_=v(5934),M0=v(5529),A0=v(7581),s_=v(2098),a_=v(1716),l_=v(7983),x0=v(7591),I0=v(2070),w0=v(4748);const Xd={UKNOWN:"Unknown"},Af={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Xd.UKNOWN},Uu={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Gu={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},tc={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Xd.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},xf=[tc.PS4,tc.CHROME_BOOK,tc.MAC,tc.DELL,tc.ASUS,tc.UNKNOWN],up={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Xd.UKNOWN},c_={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Xd.UKNOWN.toLowerCase()},d_={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},P0={...Uu,...Gu,...d_,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},Hu={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},ju={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},fp=Object.keys(Hu).reduce((p,i)=>(p[i]=Hu[i],p),{}),hp=Object.keys(ju).reduce((p,i)=>(p[Af[i]]=ju[i],p),{});var xc=Object.freeze({__proto__:null,BROWSERS:Af,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:hp,BROWSER_VERSIONS_RE_MAP:ju,DESKTOP_DEVICES:xf,DEVICES:tc,DEVICES_RE:P0,GENERAL:Xd,MOBILES_RE:Uu,OS:up,OS_RE:d_,OS_VERSIONS:c_,OS_VERSIONS_RE:fp,OS_VERSIONS_RE_MAP:Hu,TABLETS_RE:Gu});class R0{constructor(){}test(i,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(i):t&&Array.isArray(t.and)?t.and.every(l=>this.test(i,l)):t&&Array.isArray(t.or)?t.or.some(l=>this.test(i,l)):!(!t||!t.not||this.test(i,t.not))}exec(i,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(i):t&&Array.isArray(t)?t.reduce((l,h)=>l||this.exec(i,h),null):null}}var Vu=function(p){return p.Mobile="mobile",p.Tablet="tablet",p.Desktop="desktop",p.Unknown="unknown",p}(Vu||{}),If=function(p){return p.Portrait="portrait",p.Landscape="landscape",p}(If||{});const Vh="iPad";let mp=(()=>{class p{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new R0,this.deviceType="",this.orientation="",(0,Ni.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const l=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(l.forEach(h=>{this[h.prop]=Object.keys(xc[h.const]).reduce((b,N)=>"device"===xc[h.const][N]&&(0,Ni.NF)(this.platformId)&&(this.reTree.test(this.userAgent,Gu[Vh])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(b[xc[h.const][N]]=Vh,Object):(b[xc[h.const][N]]=this.reTree.test(t,xc[`${h.const}_RE`][N]),b),{})}),l.forEach(h=>{this[h.prop]=Object.keys(xc[h.const]).map(b=>xc[h.const][b]).reduce((b,N)=>"device"===h.prop&&b===xc[h.const].ANDROID?this[h.prop][N]?N:b:b===xc[h.const].UNKNOWN&&this[h.prop][N]?N:b,xc[h.const].UNKNOWN)}),this.browser_version="0",this.browser!==Af.UNKNOWN){const b=this.reTree.exec(t,hp[this.browser]);b&&(this.browser_version=b[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?If.Landscape:If.Portrait:Xd.UKNOWN,this.deviceType=this.isTablet()?Vu.Tablet:this.isMobile(this.userAgent)?Vu.Mobile:this.isDesktop(this.userAgent)?Vu.Desktop:Vu.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(Uu).find(h=>this.reTree.test(t,Uu[h]))}isTablet(t=this.userAgent){return!(!(0,Ni.NF)(this.platformId)||!(this.reTree.test(this.userAgent,Gu[Vh])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Gu).find(h=>!!this.reTree.test(t,Gu[h]))}isDesktop(t=this.userAgent){return(this.device!==tc.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&xf.indexOf(this.device)>-1}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(n.Lbi))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function pp(p,i){if(1&p&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&p){const t=n.oxw(3);n.xp6(1),n.hij(" ",t.commonService.getInitials(t.sharedDataService.currentProfile)," ")}}function N0(p,i){if(1&p&&(n._UZ(0,"img",13),n.ALo(1,"async"),n.ALo(2,"formatDataPipe")),2&p){const t=n.oxw(3);n.uIk("src",n.lcZ(1,1,n.xi3(2,3,t.sharedDataService.currentProfile.Id,"GetAvatarImageURLByProfileId")),n.LSH)}}function u_(p,i){if(1&p&&(n.TgZ(0,"span",11),n._uU(1),n.qZA(),n.YNc(2,pp,2,1,"div",12),n.YNc(3,N0,3,6,"img",12)),2&p){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.sharedDataService.currentProfile.FullName," "),n.xp6(1),n.Q6J("ngIf",null==t.sharedDataService.currentProfile.AvatarPath),n.xp6(1),n.Q6J("ngIf",null!=t.sharedDataService.currentProfile.AvatarPath)}}function f_(p,i){if(1&p&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&p){const t=n.oxw(2).$implicit,l=n.oxw(3);n.xp6(1),n.hij(" ",l.commonService.getInitials(t)," ")}}function h_(p,i){if(1&p&&(n._UZ(0,"img",13),n.ALo(1,"async"),n.ALo(2,"formatDataPipe")),2&p){const t=n.oxw(2).$implicit;n.uIk("src",n.lcZ(1,1,n.xi3(2,3,t.Id,"GetAvatarImageURLByProfileId")),n.LSH)}}function m_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"li",3)(1,"a",15,5),n.NdJ("click",function(){n.CHM(t);const h=n.oxw().$implicit,b=n.oxw(3);return n.KtG(b.onSelectProfile(h))}),n.YNc(3,f_,2,1,"div",12),n.YNc(4,h_,3,6,"img",12),n.TgZ(5,"span",11),n._uU(6),n.qZA()()()}if(2&p){const t=n.oxw().$implicit;n.xp6(3),n.Q6J("ngIf",null==t.AvatarPath),n.xp6(1),n.Q6J("ngIf",null!=t.AvatarPath),n.xp6(2),n.hij(" ",t.FullName," ")}}function L0(p,i){if(1&p&&n.YNc(0,m_,7,3,"li",10),2&p){const t=i.$implicit,l=n.oxw(3);n.Q6J("ngIf",l.sharedDataService.currentProfile&&t.Id!=l.sharedDataService.currentProfile.Id)}}function p_(p,i){if(1&p&&n.YNc(0,L0,1,1,"ng-template",14),2&p){const t=n.oxw(2);n.Q6J("ngForOf",t.sharedDataService.listProfiles)}}function g_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"li",3)(1,"a",9),n.NdJ("click",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.onClickAdminMode())}),n.TgZ(2,"span"),n._uU(3,"Mantenimiento"),n.qZA()()()}}function gp(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),n.YNc(5,u_,4,3,"ng-template",6),n.qZA()(),n._UZ(6,"div",7),n.TgZ(7,"div",8),n.YNc(8,p_,1,1,"ng-template",6),n.TgZ(9,"li",3)(10,"a",9),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClickEditProfilesButton())}),n.TgZ(11,"span"),n._uU(12,"Editar perfiles"),n.qZA()()(),n.TgZ(13,"li",3)(14,"a",9),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClickAccountOption())}),n.TgZ(15,"span"),n._uU(16,"Cuenta"),n.qZA()()(),n.YNc(17,g_,4,0,"li",10),n.TgZ(18,"li",3)(19,"a",9),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.logOut())}),n.TgZ(20,"span"),n._uU(21,"Cerrar Sesi\xf3n"),n.qZA()()()()()()}if(2&p){const t=n.oxw();n.xp6(5),n.Q6J("ngIf",t.sharedDataService.currentProfile),n.xp6(3),n.Q6J("ngIf",t.sharedDataService.listProfiles&&t.sharedDataService.listProfiles.length>0),n.xp6(9),n.Q6J("ngIf",t.sharedDataService.manageMenus&&t.sharedDataService.manageMenus.length>0)}}let Kh=(()=>{class p{constructor(t,l,h,b,N){this.commonService=t,this.userService=l,this.ref=h,this.router=b,this.sharedDataService=N}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onClickEditProfilesButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onSelectProfile(t){this.sharedDataService.currentProfile=t,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedDataService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(cl.v),n.Y36(yc.K),n.Y36(n.sBO),n.Y36(A.F0),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(l,h){1&l&&n.YNc(0,gp,22,3,"div",0),2&l&&n.Q6J("ngIf",!h.sharedDataService.showSplashScreen)},dependencies:[Ni.sg,Ni.O5,Ni.Ov,na.A],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return p})();const _p=["searchTarget"],vp=function(){return["/home"]};function __(p,i){1&p&&(n.TgZ(0,"a",11),n._UZ(1,"i",12),n.qZA()),2&p&&n.Q6J("routerLink",n.DdM(1,vp))}const yp=function(p){return{focused:p}};function v_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),n.NdJ("ngModelChange",function(h){n.CHM(t);const b=n.oxw();return n.KtG(b.searchText=h)})("change",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onChangeSearchValue())})("focus",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.isFocusSearch=!0)})("blur",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.isFocusSearch=!1)}),n.qZA(),n.TgZ(4,"button",8),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClickSearchButton())}),n._UZ(5,"i",9),n.qZA()(),n.TgZ(6,"div",15)(7,"button",8),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.showNavbarSearch=!1)}),n._UZ(8,"i",16),n.qZA()()()}if(2&p){const t=n.oxw();n.xp6(1),n.Q6J("ngClass",n.VKq(2,yp,t.isFocusSearch)),n.xp6(1),n.Q6J("ngModel",t.searchText)}}let y_=(()=>{class p{constructor(t,l,h){this.router=t,this.commonService=l,this.sharedDataService=h,this.toggleSidebar=new n.vpe,this.selectOption=new n.vpe,this.toggleMenu=new n.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const t=document.getElementById("userDropDown");document.addEventListener("click",l=>{this.showDropDown=!!l.composedPath().includes(t)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(t){this.selectOption.emit(t)}onSelectProfile(t){this.sharedDataService.currentProfile=t,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(t){t.preventDefault(),t.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(A.F0),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-navbar"]],viewQuery:function(l,h){if(1&l&&n.Gf(_p,5),2&l){let b;n.iGM(b=n.CRH())&&(h.searchTarget=b.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(l,h){1&l&&(n.TgZ(0,"header")(1,"nav")(2,"a",0),n.NdJ("click",function(N){return h.onClickToggleSidebarButton(N)}),n._UZ(3,"i",1),n.qZA(),n.YNc(4,__,2,2,"a",2),n.TgZ(5,"a",3),n._UZ(6,"img",4),n.ALo(7,"async"),n.ALo(8,"formatDataPipe"),n.qZA(),n.TgZ(9,"div",5)(10,"input",6,7),n.NdJ("ngModelChange",function(N){return h.searchText=N})("change",function(){return h.onChangeSearchValue()})("focus",function(){return h.isFocusSearch=!0})("blur",function(){return h.isFocusSearch=!1}),n.qZA(),n.TgZ(12,"button",8),n.NdJ("click",function(){return h.onClickSearchButton()}),n._UZ(13,"i",9),n.qZA()(),n._UZ(14,"app-dropdown-user"),n.qZA(),n.YNc(15,v_,9,4,"div",10),n.qZA()),2&l&&(n.xp6(4),n.Q6J("ngIf",h.showingSidebarAccount||h.showingSidebarAdminMode),n.xp6(1),n.Q6J("routerLink",n.DdM(11,vp)),n.xp6(1),n.Q6J("src",n.lcZ(7,6,n.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(3),n.Q6J("ngClass",n.VKq(12,yp,h.isFocusSearch&&!h.commonService.isSmallDevice())),n.xp6(1),n.Q6J("ngModel",h.searchText),n.xp6(5),n.Q6J("ngIf",h.commonService.isSmallDevice()&&h.showNavbarSearch))},dependencies:[Ni.mk,Ni.O5,Yi.Fj,Yi.JJ,Yi.On,A.rH,Kh,Ni.Ov,na.A],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return p})();var wf=v(9223);function b_(p,i){1&p&&n._UZ(0,"i",12)}const Wh=function(p){return{selected:p}};function xd(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"a",3),n.NdJ("click",function(){const b=n.CHM(t).$implicit,N=n.oxw(2);return n.KtG(N.onClickDropDownMenuOption(b))}),n.TgZ(1,"div",4)(2,"div",5)(3,"div",6),n._uU(4),n.qZA(),n.TgZ(5,"div",7),n._uU(6),n.qZA()(),n.TgZ(7,"div",8)(8,"div",9),n.YNc(9,b_,1,0,"i",10),n.qZA(),n.TgZ(10,"div",11),n._UZ(11,"i"),n.qZA()()()()}if(2&p){const t=i.$implicit;n.Q6J("ngClass",n.VKq(7,Wh,t.isSelected)),n.xp6(4),n.hij(" ",t.title," "),n.xp6(2),n.hij(" ",t.subtitle," "),n.xp6(3),n.Q6J("ngIf",t.isSelected),n.xp6(2),n.Tol(t.iconClass)}}function k0(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"div",1),n.NdJ("clickOutside",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClickOutside())}),n.YNc(1,xd,12,9,"ng-template",2),n.qZA()}if(2&p){const t=n.oxw();n.Udp("width",t.width+"px")("top",t.top+"px")("left",t.left+"px"),n.xp6(1),n.Q6J("ngForOf",t.dropDownMenuOptions.listItems)}}let F0=(()=>{class p{constructor(t,l,h){this.commonService=t,this.ref=l,this.router=h,this.hide=new n.vpe,this.clickItem=new n.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var t=this;return(0,dl.Z)(function*(){yield t.commonService.delay(100),t.show=!0,t.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(t){this.clickItem.emit(t),this.router.navigateByUrl(t.path)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(cl.v),n.Y36(n.sBO),n.Y36(A.F0))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(l,h){1&l&&n.YNc(0,k0,2,7,"div",0),2&l&&n.Q6J("ngIf",h.show)},dependencies:[Ni.mk,Ni.sg,Ni.O5,wf._],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return p})(),bp=(()=>{class p{constructor(t,l,h){this.factoryResolver=t,this.injector=l,this.applicationRef=h,this.isShowing=!1}show(t){return new Promise((l,h)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const b=this.factoryResolver.resolveComponentFactory(F0);this.componentRef=b.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let N=this;const H=t.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=t,this.componentRef.instance.left=H.left,this.componentRef.instance.top=H.top+H.height,this.componentRef.instance.width=H.width,this.componentRef.instance.clickItem.subscribe(We=>{this.componentRef.destroy(),N.applicationRef.detachView(this.componentRef.hostView),N.isShowing=!1,l(We)}),this.componentRef.instance.hide.subscribe(We=>{this.componentRef.destroy(),N.applicationRef.detachView(this.componentRef.hostView),N.isShowing=!1,h(!0)}),this.isShowing=!0;const te=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(te)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||p)(n.LFG(n._Vd),n.LFG(n.zs3),n.LFG(n.z2F))};static#t=this.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const eu=["mediaServerButton"],Of=function(p){return{selected:p}},B0=function(){return["/settings/account"]};function Ep(p,i){if(1&p&&(n.TgZ(0,"div",6)(1,"div",7)(2,"div",8),n._uU(3),n.qZA()(),n.TgZ(4,"div",9)(5,"a",10)(6,"div",11),n._UZ(7,"div",12),n.TgZ(8,"div",13),n._uU(9," Cuenta "),n.qZA()()()()()),2&p){const t=n.oxw();n.xp6(3),n.AsE(" ",t.sharedDataService.userData.FirstName," ",t.sharedDataService.userData.LastName," "),n.xp6(1),n.Q6J("ngClass",n.VKq(4,Of,t.isSelectedAccountOption())),n.xp6(1),n.Q6J("routerLink",n.DdM(6,B0))}}function ub(p,i){1&p&&n._UZ(0,"i",23)}function fb(p,i){1&p&&n._UZ(0,"i",24)}function U0(p,i){1&p&&n._UZ(0,"i",28)}function G0(p,i){1&p&&n._UZ(0,"i",29)}const E_=function(p,i){return{"icon-secure":p,"icon-alert":i}};function H0(p,i){if(1&p&&(n.TgZ(0,"div",25),n.YNc(1,U0,1,0,"i",26),n.YNc(2,G0,1,0,"i",27),n.qZA()),2&p){const t=n.oxw(2);n.Q6J("ngClass",n.WLB(3,E_,t.selectedMediaServer.isSecureConnection,!t.selectedMediaServer.isSecureConnection)),n.xp6(1),n.Q6J("ngIf",t.selectedMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",!t.selectedMediaServer.isSecureConnection)}}function Ls(p,i){1&p&&(n.TgZ(0,"div",30),n._UZ(1,"i",31),n.qZA())}function T_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"button",14,15),n.NdJ("click",function(h){n.CHM(t);const b=n.oxw();return n.KtG(b.togleDropDownMediaServers(h))}),n.TgZ(2,"div",16)(3,"div",17)(4,"span",18),n._uU(5),n.qZA(),n.YNc(6,ub,1,0,"i",19),n.YNc(7,fb,1,0,"i",20),n.qZA(),n.YNc(8,H0,3,6,"div",21),n.YNc(9,Ls,2,0,"div",22),n.qZA()()}if(2&p){const t=n.oxw();n.Q6J("ngClass",n.VKq(6,Of,t.isSelectedServerOption())),n.xp6(5),n.hij(" ",t.selectedMediaServer.FamilyName?t.selectedMediaServer.FamilyName:t.selectedMediaServer.DeviceName," "),n.xp6(1),n.Q6J("ngIf",t.dropDownServersService.isShowing),n.xp6(1),n.Q6J("ngIf",!t.dropDownServersService.isShowing),n.xp6(1),n.Q6J("ngIf",!t.loadingConnection),n.xp6(1),n.Q6J("ngIf",t.loadingConnection)}}const j0=function(p){return[p]};function V0(p,i){if(1&p&&(n.TgZ(0,"div",9)(1,"a",10)(2,"div",11),n._UZ(3,"div",12),n.TgZ(4,"div",13),n._uU(5),n.qZA()()()()),2&p){const t=i.$implicit,l=n.oxw(5);n.Q6J("ngClass",n.VKq(3,Of,l.isSelectedSidebarOption(t))),n.xp6(1),n.Q6J("routerLink",n.VKq(5,j0,l.getOptionPath(t))),n.xp6(4),n.hij(" ",t.name," ")}}function S_(p,i){if(1&p&&(n.TgZ(0,"div",6)(1,"div",7)(2,"div",8),n._uU(3),n.qZA()(),n.YNc(4,V0,6,7,"ng-template",32),n.qZA()),2&p){const t=i.$implicit;n.xp6(3),n.hij(" ",t.name," "),n.xp6(1),n.Q6J("ngForOf",t.listOptions)}}function K0(p,i){if(1&p&&n.YNc(0,S_,5,2,"ng-template",32),2&p){const t=n.oxw(3);n.Q6J("ngForOf",t.serverModules)}}function C_(p,i){if(1&p&&(n.TgZ(0,"div")(1,"p",33),n._uU(2),n.qZA()()),2&p){const t=n.oxw(3);n.xp6(2),n.hij('No se puede conectar a "',t.selectedMediaServer.FamilyName?t.selectedMediaServer.FamilyName:t.selectedMediaServer.DeviceName,'" desde este sitio')}}function D_(p,i){if(1&p&&(n.YNc(0,K0,1,1,"ng-template",5),n.YNc(1,C_,3,1,"ng-template",5)),2&p){const t=n.oxw(2);n.Q6J("ngIf",!t.commonService.isHttpsSite()),n.xp6(1),n.Q6J("ngIf",t.commonService.isHttpsSite())}}function Ku(p,i){if(1&p&&(n.TgZ(0,"div")(1,"p",33),n._uU(2),n.qZA()()),2&p){const t=n.oxw(2);n.xp6(2),n.hij('No se puede conectar a "',t.selectedMediaServer.FamilyName?t.selectedMediaServer.FamilyName:t.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function W0(p,i){if(1&p&&(n.YNc(0,D_,2,2,"ng-template",5),n.YNc(1,Ku,3,1,"ng-template",5)),2&p){const t=n.oxw();n.Q6J("ngIf",t.selectedMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",!t.selectedMediaServer.isSecureConnection)}}function Y0(p,i){1&p&&(n.TgZ(0,"div",34),n._UZ(1,"mat-spinner"),n.qZA())}let M_=(()=>{class p{constructor(t,l,h,b,N,H){this.signalIrService=t,this.dropDownServersService=l,this.activeRoute=h,this.ref=b,this.commonService=N,this.sharedDataService=H,this.mediaServers=[],this.collapseSidebar=new n.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:1,name:"Panel de Control",path:"/settings/server/{serverGuid}/status/dashboard"},{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcode"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe({next:te=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==te&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var se=this.mediaServers.find(We=>We.Guid==te);se&&!se.isSecureConnection&&(se.isSecureConnection=!0)},error:te=>{console.error("Ha ocurrido un error")},complete:()=>{console.info("completado")}}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(te=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==te&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var se=this.mediaServers.find(We=>We.Guid==te);se&&se.isSecureConnection&&(se.isSecureConnection=!1)})}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.firstChild&&this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var t=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,l=this.mediaServers.find(h=>h.Guid==t);l&&(this.selectedMediaServer=l)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getOptionPath(t){return t.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(t){t.isCollapsed=!t.isCollapsed}togleDropDownMediaServers(t){this.showMediaServerMenuOptions(t)}showMediaServerMenuOptions(t){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(l=>{this.selectedMediaServer=l.itemData},l=>{})}getDropDownMenuOptions(){var t=void 0;if(this.mediaServerButton){let l=[];this.mediaServers.forEach(b=>{l.push({title:b.FamilyName?b.FamilyName:b.DeviceName,subtitle:b.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:b.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+b.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==b.Id,itemData:b})}),t={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:l}}return t}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(t){return-1!=this.getOptionPath(t).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(xl.n),n.Y36(bp),n.Y36(A.gz),n.Y36(n.sBO),n.Y36(cl.v),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-sidebar-account"]],viewQuery:function(l,h){if(1&l&&n.Gf(eu,5),2&l){let b;n.iGM(b=n.CRH())&&(h.mediaServerButton=b.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:7,vars:4,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(N){return h.onClickOutsideSidebar(N)}),n.TgZ(1,"div",1)(2,"div",2),n.YNc(3,Ep,10,7,"div",3),n.YNc(4,T_,10,8,"button",4),n.YNc(5,W0,2,2,"ng-template",5),n.YNc(6,Y0,2,0,"ng-template",5),n.qZA()()()),2&l&&(n.xp6(3),n.Q6J("ngIf",h.sharedDataService.userData),n.xp6(1),n.Q6J("ngIf",h.selectedMediaServer),n.xp6(1),n.Q6J("ngIf",!h.loadingConnection&&h.selectedMediaServer&&h.serverModules&&h.serverModules.length>0),n.xp6(1),n.Q6J("ngIf",h.loadingConnection))},dependencies:[Ni.mk,Ni.sg,Ni.O5,wf._,pd.Ou,A.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return p})();function z0(p,i){1&p&&n._UZ(0,"i",9)}function A_(p,i){1&p&&n._UZ(0,"i",10)}function hb(p,i){if(1&p&&n._UZ(0,"i"),2&p){const t=n.oxw().$implicit;n.Tol(t.IconClass)}}const Tp=function(p){return[p]},Sp=function(p){return{active:p}};function Ic(p,i){if(1&p&&(n.TgZ(0,"li",12)(1,"a",13),n.YNc(2,hb,1,3,"i",14),n.TgZ(3,"span",7),n._uU(4),n.qZA()()()),2&p){const t=i.$implicit,l=n.oxw(3);n.xp6(1),n.Q6J("routerLink",n.VKq(4,Tp,t.Path))("ngClass",n.VKq(6,Sp,l.isSelectedMenu(t))),n.xp6(1),n.Q6J("ngIf",t.IconClass),n.xp6(2),n.Oqu(t.Title)}}function Z0(p,i){if(1&p&&(n.TgZ(0,"div")(1,"ul",11),n.YNc(2,Ic,5,8,"ng-template",2),n.qZA()()),2&p){const t=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",t.ChildMenus)}}function x_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"li",3)(1,"button",4),n.NdJ("click",function(h){const N=n.CHM(t).$implicit,H=n.oxw();return n.KtG(H.onClickModule(N,h))}),n.YNc(2,z0,1,0,"i",5),n.YNc(3,A_,1,0,"i",6),n.TgZ(4,"span",7),n._uU(5),n.qZA()(),n.YNc(6,Z0,3,1,"div",8),n.qZA()}if(2&p){const t=i.$implicit;n.xp6(2),n.Q6J("ngIf",t.isCollapsed),n.xp6(1),n.Q6J("ngIf",!t.isCollapsed),n.xp6(2),n.Oqu(t.Title),n.xp6(1),n.Q6J("ngIf",!t.isCollapsed)}}let wc=(()=>{class p{constructor(t){this.sharedDataService=t,this.collapseSidebar=new n.vpe}onClickModule(t,l){l.preventDefault(),l.stopPropagation(),t.isCollapsed=!t.isCollapsed}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}isSelectedMenu(t){return-1!=t.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(N){return h.onClickOutsideSidebar(N)}),n.TgZ(1,"ul",1),n.YNc(2,x_,7,4,"ng-template",2),n.qZA()()),2&l&&(n.xp6(2),n.Q6J("ngForOf",h.sharedDataService.manageMenus))},dependencies:[Ni.mk,Ni.sg,Ni.O5,wf._,A.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return p})();var Ma=v(3826);function nc(p,i){1&p&&n._UZ(0,"i",10)}function I_(p,i){1&p&&n._UZ(0,"i",11)}function w_(p,i){if(1&p&&n._UZ(0,"i"),2&p){const t=n.oxw().$implicit;n.Tol(t.IconClass)}}function $0(p,i){if(1&p&&n._UZ(0,"i"),2&p){const t=n.oxw().$implicit;n.Tol(t.IconClass)}}const O_=function(p){return[p]},P_=function(p){return{active:p}};function J0(p,i){if(1&p&&(n.TgZ(0,"li",13)(1,"a",14),n.YNc(2,$0,1,3,"i",7),n.TgZ(3,"span",8),n._uU(4),n.qZA()()()),2&p){const t=i.$implicit,l=n.oxw(3);n.xp6(1),n.Q6J("routerLink",n.VKq(4,O_,t.Path))("ngClass",n.VKq(6,P_,l.isSelectedMenu(t))),n.xp6(1),n.Q6J("ngIf",t.IconClass),n.xp6(2),n.Oqu(t.Title)}}function Cp(p,i){if(1&p&&(n.TgZ(0,"div")(1,"ul",12),n.YNc(2,J0,5,8,"ng-template",2),n.qZA()()),2&p){const t=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",t.ChildMenus)}}function Pf(p,i){if(1&p&&(n.TgZ(0,"li",3)(1,"button",4),n.YNc(2,nc,1,0,"i",5),n.YNc(3,I_,1,0,"i",6),n.YNc(4,w_,1,3,"i",7),n.TgZ(5,"span",8),n._uU(6),n.qZA()(),n.YNc(7,Cp,3,1,"div",9),n.qZA()),2&p){const t=i.$implicit,l=n.oxw();n.xp6(1),n.Q6J("routerLink",n.VKq(7,O_,t.Path))("ngClass",n.VKq(9,P_,l.isSelectedMenu(t))),n.xp6(1),n.Q6J("ngIf",!t.IconClass&&t.isCollapsed),n.xp6(1),n.Q6J("ngIf",!t.IconClass&&!t.isCollapsed),n.xp6(1),n.Q6J("ngIf",t.IconClass),n.xp6(2),n.Oqu(t.Title),n.xp6(1),n.Q6J("ngIf",!t.isCollapsed)}}let Q0=(()=>{class p{constructor(t,l,h){this.libraryService=t,this.signalIrService=l,this.sharedDataService=h,this.collapseSidebar=new n.vpe,this.mediaMenu=[],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(b=>{var N=this.mediaMenu.find(te=>te.MediaServerGuid==b);if(N&&!N.IsSecureConnection){N.IsSecureConnection=!0;var H=this.sharedDataService.mediaServers.find(te=>te.Guid==N.MediaServerGuid);H&&this.updateLibrariesInMediaServer(N,H)}}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(b=>{var N=this.mediaMenu.find(H=>H.MediaServerGuid==b);N&&N.IsSecureConnection&&(N.IsSecureConnection=!1,N.ChildMenus=[])}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(b=>{var N=this.mediaMenu.find(te=>te.MediaServerGuid==b),H=this.sharedDataService.mediaServers.find(te=>te.Guid==b);N&&H&&(N.IsSecureConnection=!0,this.updateLibrariesInMediaServer(N,H))})}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe()}getMediaMenu(){var t=[],l=new Ma.v;l.SortOrder=t.length+1,l.Title="Inicio",l.Path="/home",l.IconClass="fa-house fa-solid",t.push(l);var h=new Ma.v;h.SortOrder=t.length+1,h.Title="Pel\xedculas",h.Path="/media/movies",h.IconClass="fa-film fa-solid",t.push(h);var b=new Ma.v;b.SortOrder=t.length+1,b.Title="Series",b.Path="/media/tvseries",b.IconClass="fa-tv fa-solid",t.push(b),this.mediaMenu=t,this.sharedDataService.mediaServers.forEach(N=>{var H=new Ma.v;H.SortOrder=this.mediaMenu.length+1,H.Title=null!=N.FamilyName&&""!=N.FamilyName?N.FamilyName:N.DeviceName,H.Path="/media/server/"+N.Guid,H.ChildMenus=[],H.MediaServerId=N.Id,H.MediaServerGuid=N.Guid,this.mediaMenu.push(H)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedDataService.mediaServers.forEach(t=>{var l=this.mediaMenu.find(h=>h.MediaServerId==t.Id);t.isSecureConnection?(l.IsSecureConnection=!0,this.updateLibrariesInMediaServer(l,t)):(l.IsSecureConnection=!1,l.ChildMenus=[])})}updateLibrariesInMediaServer(t,l){this.libraryService.getLibrariesByMediaServer(l.Url).then(h=>{var b=[];h.forEach(N=>{var H=new Ma.v;H.SortOrder=b.length+1,H.Title=N.Name,H.Path="/media/server/"+l.Guid+"/libraries/"+N.Id,H.IconClass=N.MediaTypeCatalogDetailId==Vi.DD.Movie?"fa-film fa-solid":"fa-tv fa-solid",b.push(H)}),t.ChildMenus=b})}onClickModule(t){t.isCollapsed=!t.isCollapsed}isSelectedMenu(t){return-1!=decodeURIComponent(window.location.pathname).indexOf(t.Path)}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(Fa.$),n.Y36(xl.n),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(l,h){1&l&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(N){return h.onClickOutsideSidebar(N)}),n.TgZ(1,"ul",1),n.YNc(2,Pf,8,11,"ng-template",2),n.qZA()()),2&l&&(n.xp6(2),n.Q6J("ngForOf",h.mediaMenu))},dependencies:[Ni.mk,Ni.sg,Ni.O5,wf._,A.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return p})();function R_(p,i){if(1&p&&(n.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),n._UZ(5,"img",6),n.ALo(6,"async"),n.ALo(7,"formatDataPipe"),n.qZA()()()()),2&p){const t=n.MAs(2);n.xp6(5),n.Udp("width",t.offsetWidth/3+"px"),n.Q6J("src",n.lcZ(6,3,n.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH)}}let q0=(()=>{class p{constructor(t,l){this.domSanitizer=t,this.sharedDataService=l}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(e.H7),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(l,h){1&l&&n.YNc(0,R_,8,8,"div",0),2&l&&n.Q6J("ngIf",h.sharedDataService.showSplashScreen)},dependencies:[Ni.O5,Ni.Ov,na.A],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return p})();function X0(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"app-navbar",12),n.NdJ("toggleSidebar",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.onClickToggleSidebarButton())}),n.qZA()}if(2&p){const t=n.oxw();n.Q6J("showingSidebarAccount",t.showingSidebarAccount)("showingSidebarAdminMode",t.showingSidebarAdminMode)}}function N_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"app-sidebar-administrator",19),n.NdJ("collapseSidebar",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.isCollapsedSidebar=!0)}),n.qZA()}}function L_(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"app-sidebar-account",19),n.NdJ("collapseSidebar",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.isCollapsedSidebar=!0)}),n.qZA()}}function Yh(p,i){if(1&p){const t=n.EpF();n.TgZ(0,"app-sidebar-media",19),n.NdJ("collapseSidebar",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.isCollapsedSidebar=!0)}),n.qZA()}}function ey(p,i){if(1&p&&(n.TgZ(0,"section",13,14)(2,"div",15),n._UZ(3,"div",16),n.TgZ(4,"div",17),n.YNc(5,N_,1,0,"app-sidebar-administrator",18),n.YNc(6,L_,1,0,"app-sidebar-account",18),n.YNc(7,Yh,1,0,"app-sidebar-media",18),n.qZA()()()),2&p){const t=n.oxw();n.Udp("height","100%"),n.xp6(5),n.Q6J("ngIf",t.showingSidebarAdminMode),n.xp6(1),n.Q6J("ngIf",t.showingSidebarAccount),n.xp6(1),n.Q6J("ngIf",t.showingSidebarMedia)}}const k_=function(p){return{locked:p}};let F_=(()=>{class p{constructor(t,l,h,b,N){this.commonService=t,this.deviceService=l,this.userService=h,this.ref=b,this.sharedDataService=N,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){var t=this.deviceService.getDeviceInfo();this.sharedDataService.deviceData=new dp,this.sharedDataService.deviceData.OperatingSystem=t.os,this.sharedDataService.deviceData.DeviceType=t.deviceType,this.sharedDataService.deviceData.Browser=t.browser;const l=window.location.search;if(""!=l){var h=new URLSearchParams(l).get("apiToken");null!=h&&localStorage.setItem("apiToken",h)}window.configurationData&&(this.sharedDataService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedDataService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let t=this;window.addEventListener("click",function(b){t.sharedDataService.configurationData.alwaysFullScreen&&t.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(t){this.isCollapsedSidebar=!0,this.sharedDataService.showSplashScreen=!1,(t instanceof Cu||t instanceof md||t instanceof gh||t instanceof yv||t instanceof bh||t instanceof Cv||t instanceof Lm||t instanceof Yd||t instanceof w0.n)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(t instanceof vd||t instanceof Ju||t instanceof Fm)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(t instanceof M0.H||t instanceof o_.$||t instanceof D0.i||t instanceof db.o||t instanceof S0.I||t instanceof C0.M)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(t instanceof A0.O||t instanceof s_.f||t instanceof x0.U||t instanceof l_.o||t instanceof a_.C||t instanceof I0.C)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(t){}static#e=this.\u0275fac=function(l){return new(l||p)(n.Y36(cl.v),n.Y36(mp),n.Y36(yc.K),n.Y36(n.sBO),n.Y36(ss.g))};static#t=this.\u0275cmp=n.Xpm({type:p,selectors:[["app-root"]],hostBindings:function(l,h){1&l&&n.NdJ("resize",function(N){return h.onResize(N)},!1,n.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(l,h){if(1&l&&(n.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),n.YNc(5,X0,1,2,"app-navbar",4),n.qZA(),n.TgZ(6,"div",5)(7,"div",null,6),n.YNc(9,ey,8,5,"section",7),n.qZA(),n.TgZ(10,"section",8,9)(12,"router-outlet",10),n.NdJ("activate",function(N){return h.onActivate(N)}),n.qZA()()(),n._UZ(13,"div",null,11),n.qZA()(),n._UZ(15,"app-splash-screen")),2&l){const b=n.MAs(4),N=n.MAs(8),H=n.MAs(14);n.xp6(5),n.Q6J("ngIf",!h.showRouterChildWithFullDimentions),n.xp6(1),n.Udp("height","calc(100% - "+(b.offsetHeight+H.offsetHeight)+"px)"),n.xp6(3),n.Q6J("ngIf",!(h.showRouterChildWithFullDimentions||h.commonService.isSmallDevice()&&h.isCollapsedSidebar)),n.xp6(1),n.Udp("width","calc(100% - "+N.offsetWidth+"px)"),n.Q6J("ngClass",n.VKq(7,k_,h.commonService.isSmallDevice()&&!h.isCollapsedSidebar))}},dependencies:[Ni.mk,Ni.O5,A.lC,y_,M_,wc,Q0,q0],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}.sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0}}"]})}return p})();var B_=v(7102);let ty=(()=>{class p{static#e=this.\u0275fac=function(l){return new(l||p)};static#t=this.\u0275mod=n.oAB({type:p,bootstrap:[F_]});static#n=this.\u0275inj=n.cJS({providers:[{provide:Ni.mr,useValue:"/"}],imports:[e.b2,Yi.u5,B_.m,E.JF,Ov,qc.hO.initializeApp(Mf_firebase),uv,T0]})}return p})();e.q6().bootstrapModule(ty).catch(p=>console.error(p))},4753:(Bn,et,v)=>{"use strict";et.Q=void 0;const n=v(2546),E=v(8540);et.Q=_=>_.startsWith("WEBVTT")?E.vttParser(_):n.srtParser(_)},2546:(Bn,et,v)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.srtParser=void 0;const e=v(4575),n=v(2279),A=w=>{let o,d,u,g=w.split(":");return 2===g.length?[d,u]=g:[o,d,u]=g,parseInt(u.replace(",",""),10)+60*parseInt(d,10)*1e3+60*(o?parseInt(o,10):0)*60*1e3},_=()=>({start(w){let g="ID",o={tokens:w.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==g;){const d=this[g](o);o=d.params,g=d.next}return o.result},ID(w){const{tokens:g,pos:o,current:d}=w;if(g.length<=o)return{next:"FINISH",params:w};if(n.isBlank(g[o]))return{next:"ID",params:{...w,pos:o+1}};const u=g[o].includes("--\x3e");return d.id=u?"":g[o],{next:"TIME_LINE",params:{...w,current:d,tokens:g,pos:u?o:o+1}}},TIME_LINE(w){const{tokens:g,pos:o,current:d}=w,u=g[o],[m,y]=u.split("--\x3e");return d.from=A(m),d.to=A(y),{next:"TEXT",params:{...w,current:d,pos:o+1}}},TEXT(w){const{tokens:g,pos:o,current:d}=w;return g.length<=o?{next:"FINISH",params:w}:(d.text=g[o],{next:"MULTI_LINE_TEXT",params:{...w,current:d,pos:o+1}})},MULTI_LINE_TEXT(w){const{tokens:g,pos:o,current:d}=w;return g.length<=o?{next:"FINISH",params:w}:n.isBlank(g[o])?{next:"FIN_ENTRY",params:w}:(d.text=`${d.text}\n${g[o]}`,{next:"MULTI_LINE_TEXT",params:{...w,current:d,pos:o+1}})},FIN_ENTRY(w){const{pos:g,current:o,result:d}=w;if(!e.isEntryFromPartial(o))throw new Error(`Parsing error current not complete ${JSON.stringify(o)}`);return d.push(o),{next:"ID",params:{...w,current:{},pos:g+1}}},FINISH:w=>({next:"FINISH",params:w})});et.srtParser=w=>({entries:_().start(w)})},4575:(Bn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isEntryFromPartial=void 0,et.isEntryFromPartial=e=>"string"==typeof e.id&&"number"==typeof e.from&&"number"==typeof e.to&&"string"==typeof e.text},2279:(Bn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isBlank=void 0,et.isBlank=e=>!e||/^\s*$/.test(e)},8540:(Bn,et,v)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.vttParser=void 0;const e=v(4575),n=v(2279),A=w=>{let o,d,u,g=w.split(":");return 2===g.length?[d,u]=g:[o,d,u]=g,parseInt(u.replace(".",""),10)+60*parseInt(d,10)*1e3+60*(o?parseInt(o,10):0)*60*1e3},_=()=>({start(w){let g="HEADER",o={tokens:w.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==g;){const d=this[g](o);o=d.params,g=d.next}return o.result},HEADER:w=>({next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:w.pos+1}}),ID_OR_NOTE_OR_STYLE(w){const{tokens:g,pos:o}=w;return g.length<=o?{next:"FINISH",params:w}:n.isBlank(g[o])?{next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:o+1}}:g[o].toUpperCase().includes("NOTE")?{next:"NOTE",params:w}:g[o].toUpperCase().includes("STYLE")?{next:"STYLE",params:w}:{next:"ID",params:w}},STYLE(w){const{tokens:g,pos:o}=w;return n.isBlank(g[o])?{next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:o+1}}:{next:"STYLE",params:{...w,pos:o+1}}},NOTE(w){const{tokens:g,pos:o}=w;return n.isBlank(g[o])?{next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:o+1}}:{next:"STYLE",params:{...w,pos:o+1}}},ID(w){const{tokens:g,pos:o,current:d}=w;if(g.length<=o)return{next:"FINISH",params:w};if(n.isBlank(g[o]))return{next:"ID",params:{...w,pos:o+1}};const u=g[o].includes("--\x3e");return d.id=u?"":g[o],{next:"TIME_LINE",params:{...w,current:d,tokens:g,pos:u?o:o+1}}},TIME_LINE(w){const{tokens:g,pos:o,current:d}=w,u=g[o],[m,y]=u.split("--\x3e");return d.from=A(m),d.to=A(y),{next:"TEXT",params:{...w,current:d,pos:o+1}}},TEXT(w){const{tokens:g,pos:o,current:d}=w;return g.length<=o?{next:"FINISH",params:w}:(d.text=g[o],{next:"MULTI_LINE_TEXT",params:{...w,current:d,pos:o+1}})},MULTI_LINE_TEXT(w){const{tokens:g,pos:o,current:d}=w;return g.length<=o?{next:"FINISH",params:w}:n.isBlank(g[o])?{next:"FIN_ENTRY",params:w}:(d.text=`${d.text}\n${g[o]}`,{next:"MULTI_LINE_TEXT",params:{...w,current:d,pos:o+1}})},FIN_ENTRY(w){const{pos:g,current:o,result:d}=w;if(!e.isEntryFromPartial(o))throw new Error(`Parsing error current not complete ${JSON.stringify(o)}`);return d.push(o),{next:"ID_OR_NOTE_OR_STYLE",params:{...w,current:{},pos:g+1}}},FINISH:w=>({next:"FINISH",params:w})});et.vttParser=w=>({entries:_().start(w)})},9919:(Bn,et)=>{"use strict";et.byteLength=function w(y){var k=I(y),B=k[1];return 3*(k[0]+B)/4-B},et.toByteArray=function o(y){var k,C,P=I(y),B=P[0],F=P[1],R=new n(function g(y,k,P){return 3*(k+P)/4-P}(0,B,F)),D=0,T=F>0?B-4:B;for(C=0;C<T;C+=4)k=e[y.charCodeAt(C)]<<18|e[y.charCodeAt(C+1)]<<12|e[y.charCodeAt(C+2)]<<6|e[y.charCodeAt(C+3)],R[D++]=k>>16&255,R[D++]=k>>8&255,R[D++]=255&k;return 2===F&&(k=e[y.charCodeAt(C)]<<2|e[y.charCodeAt(C+1)]>>4,R[D++]=255&k),1===F&&(k=e[y.charCodeAt(C)]<<10|e[y.charCodeAt(C+1)]<<4|e[y.charCodeAt(C+2)]>>2,R[D++]=k>>8&255,R[D++]=255&k),R},et.fromByteArray=function m(y){for(var k,P=y.length,B=P%3,F=[],R=16383,D=0,T=P-B;D<T;D+=R)F.push(u(y,D,D+R>T?T:D+R));return 1===B?F.push(v[(k=y[P-1])>>2]+v[k<<4&63]+"=="):2===B&&F.push(v[(k=(y[P-2]<<8)+y[P-1])>>10]+v[k>>4&63]+v[k<<2&63]+"="),F.join("")};for(var v=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)v[A]=E[A],e[E.charCodeAt(A)]=A;function I(y){var k=y.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=y.indexOf("=");return-1===P&&(P=k),[P,P===k?0:4-P%4]}function d(y){return v[y>>18&63]+v[y>>12&63]+v[y>>6&63]+v[63&y]}function u(y,k,P){for(var F=[],R=k;R<P;R+=3)F.push(d((y[R]<<16&16711680)+(y[R+1]<<8&65280)+(255&y[R+2])));return F.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},9007:(Bn,et,v)=>{"use strict";var n=v(9919),E=v(2601),A="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;et.lW=g,et.h2=50;var _=2147483647;function w(Q){if(Q>_)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var X=new Uint8Array(Q);return Object.setPrototypeOf(X,g.prototype),X}function g(Q,X,$){if("number"==typeof Q){if("string"==typeof X)throw new TypeError('The "string" argument must be of type string. Received type number');return m(Q)}return o(Q,X,$)}function o(Q,X,$){if("string"==typeof Q)return function y(Q,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!g.isEncoding(X))throw new TypeError("Unknown encoding: "+X);var $=0|T(Q,X),ne=w($),J=ne.write(Q,X);return J!==$&&(ne=ne.slice(0,J)),ne}(Q,X);if(ArrayBuffer.isView(Q))return function P(Q){if(oe(Q,Uint8Array)){var X=new Uint8Array(Q);return B(X.buffer,X.byteOffset,X.byteLength)}return k(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(oe(Q,ArrayBuffer)||Q&&oe(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(Q,SharedArrayBuffer)||Q&&oe(Q.buffer,SharedArrayBuffer)))return B(Q,X,$);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var ne=Q.valueOf&&Q.valueOf();if(null!=ne&&ne!==Q)return g.from(ne,X,$);var J=function F(Q){if(g.isBuffer(Q)){var X=0|R(Q.length),$=w(X);return 0===$.length||Q.copy($,0,0,X),$}return void 0!==Q.length?"number"!=typeof Q.length||pe(Q.length)?w(0):k(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?k(Q.data):void 0}(Q);if(J)return J;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return g.from(Q[Symbol.toPrimitive]("string"),X,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function d(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function m(Q){return d(Q),w(Q<0?0:0|R(Q))}function k(Q){for(var X=Q.length<0?0:0|R(Q.length),$=w(X),ne=0;ne<X;ne+=1)$[ne]=255&Q[ne];return $}function B(Q,X,$){if(X<0||Q.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<X+($||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=void 0===X&&void 0===$?new Uint8Array(Q):void 0===$?new Uint8Array(Q,X):new Uint8Array(Q,X,$),Object.setPrototypeOf(ne,g.prototype),ne}function R(Q){if(Q>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return 0|Q}function T(Q,X){if(g.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||oe(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var $=Q.length,ne=arguments.length>2&&!0===arguments[2];if(!ne&&0===$)return 0;for(var J=!1;;)switch(X){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return lt(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return _e(Q).length;default:if(J)return ne?-1:lt(Q).length;X=(""+X).toLowerCase(),J=!0}}function C(Q,X,$){var ne=!1;if((void 0===X||X<0)&&(X=0),X>this.length||((void 0===$||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(X>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return Ge(this,X,$);case"utf8":case"utf-8":return Y(this,X,$);case"ascii":return Se(this,X,$);case"latin1":case"binary":return xe(this,X,$);case"base64":return le(this,X,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,X,$);default:if(ne)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ne=!0}}function O(Q,X,$){var ne=Q[X];Q[X]=Q[$],Q[$]=ne}function M(Q,X,$,ne,J){if(0===Q.length)return-1;if("string"==typeof $?(ne=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),pe($=+$)&&($=J?0:Q.length-1),$<0&&($=Q.length+$),$>=Q.length){if(J)return-1;$=Q.length-1}else if($<0){if(!J)return-1;$=0}if("string"==typeof X&&(X=g.from(X,ne)),g.isBuffer(X))return 0===X.length?-1:G(Q,X,$,ne,J);if("number"==typeof X)return X&=255,"function"==typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call(Q,X,$):Uint8Array.prototype.lastIndexOf.call(Q,X,$):G(Q,[X],$,ne,J);throw new TypeError("val must be string, number or Buffer")}function G(Q,X,$,ne,J){var Ne,q=1,me=Q.length,Ee=X.length;if(void 0!==ne&&("ucs2"===(ne=String(ne).toLowerCase())||"ucs-2"===ne||"utf16le"===ne||"utf-16le"===ne)){if(Q.length<2||X.length<2)return-1;q=2,me/=2,Ee/=2,$/=2}function ye(ut,ze){return 1===q?ut[ze]:ut.readUInt16BE(ze*q)}if(J){var tt=-1;for(Ne=$;Ne<me;Ne++)if(ye(Q,Ne)===ye(X,-1===tt?0:Ne-tt)){if(-1===tt&&(tt=Ne),Ne-tt+1===Ee)return tt*q}else-1!==tt&&(Ne-=Ne-tt),tt=-1}else for($+Ee>me&&($=me-Ee),Ne=$;Ne>=0;Ne--){for(var qe=!0,Xe=0;Xe<Ee;Xe++)if(ye(Q,Ne+Xe)!==ye(X,Xe)){qe=!1;break}if(qe)return Ne}return-1}function Z(Q,X,$,ne){$=Number($)||0;var J=Q.length-$;ne?(ne=Number(ne))>J&&(ne=J):ne=J;var q=X.length;ne>q/2&&(ne=q/2);for(var me=0;me<ne;++me){var Ee=parseInt(X.substr(2*me,2),16);if(pe(Ee))return me;Q[$+me]=Ee}return me}function ee(Q,X,$,ne){return K(lt(X,Q.length-$),Q,$,ne)}function ae(Q,X,$,ne){return K(function He(Q){for(var X=[],$=0;$<Q.length;++$)X.push(255&Q.charCodeAt($));return X}(X),Q,$,ne)}function Ae(Q,X,$,ne){return K(_e(X),Q,$,ne)}function j(Q,X,$,ne){return K(function be(Q,X){for(var $,ne,q=[],me=0;me<Q.length&&!((X-=2)<0);++me)ne=($=Q.charCodeAt(me))>>8,q.push($%256),q.push(ne);return q}(X,Q.length-$),Q,$,ne)}function le(Q,X,$){return n.fromByteArray(0===X&&$===Q.length?Q:Q.slice(X,$))}function Y(Q,X,$){$=Math.min(Q.length,$);for(var ne=[],J=X;J<$;){var ye,Ne,tt,qe,q=Q[J],me=null,Ee=q>239?4:q>223?3:q>191?2:1;if(J+Ee<=$)switch(Ee){case 1:q<128&&(me=q);break;case 2:128==(192&(ye=Q[J+1]))&&(qe=(31&q)<<6|63&ye)>127&&(me=qe);break;case 3:Ne=Q[J+2],128==(192&(ye=Q[J+1]))&&128==(192&Ne)&&(qe=(15&q)<<12|(63&ye)<<6|63&Ne)>2047&&(qe<55296||qe>57343)&&(me=qe);break;case 4:Ne=Q[J+2],tt=Q[J+3],128==(192&(ye=Q[J+1]))&&128==(192&Ne)&&128==(192&tt)&&(qe=(15&q)<<18|(63&ye)<<12|(63&Ne)<<6|63&tt)>65535&&qe<1114112&&(me=qe)}null===me?(me=65533,Ee=1):me>65535&&(ne.push((me-=65536)>>>10&1023|55296),me=56320|1023&me),ne.push(me),J+=Ee}return function de(Q){var X=Q.length;if(X<=ve)return String.fromCharCode.apply(String,Q);for(var $="",ne=0;ne<X;)$+=String.fromCharCode.apply(String,Q.slice(ne,ne+=ve));return $}(ne)}!(g.TYPED_ARRAY_SUPPORT=function I(){try{var Q=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(Q,X),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(Q,X,$){return o(Q,X,$)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(Q,X,$){return function u(Q,X,$){return d(Q),Q<=0?w(Q):void 0!==X?"string"==typeof $?w(Q).fill(X,$):w(Q).fill(X):w(Q)}(Q,X,$)},g.allocUnsafe=function(Q){return m(Q)},g.allocUnsafeSlow=function(Q){return m(Q)},g.isBuffer=function(X){return null!=X&&!0===X._isBuffer&&X!==g.prototype},g.compare=function(X,$){if(oe(X,Uint8Array)&&(X=g.from(X,X.offset,X.byteLength)),oe($,Uint8Array)&&($=g.from($,$.offset,$.byteLength)),!g.isBuffer(X)||!g.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===$)return 0;for(var ne=X.length,J=$.length,q=0,me=Math.min(ne,J);q<me;++q)if(X[q]!==$[q]){ne=X[q],J=$[q];break}return ne<J?-1:J<ne?1:0},g.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(X,$){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return g.alloc(0);var ne;if(void 0===$)for($=0,ne=0;ne<X.length;++ne)$+=X[ne].length;var J=g.allocUnsafe($),q=0;for(ne=0;ne<X.length;++ne){var me=X[ne];if(oe(me,Uint8Array))q+me.length>J.length?g.from(me).copy(J,q):Uint8Array.prototype.set.call(J,me,q);else{if(!g.isBuffer(me))throw new TypeError('"list" argument must be an Array of Buffers');me.copy(J,q)}q+=me.length}return J},g.byteLength=T,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<X;$+=2)O(this,$,$+1);return this},g.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<X;$+=4)O(this,$,$+3),O(this,$+1,$+2);return this},g.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<X;$+=8)O(this,$,$+7),O(this,$+1,$+6),O(this,$+2,$+5),O(this,$+3,$+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var X=this.length;return 0===X?"":0===arguments.length?Y(this,0,X):C.apply(this,arguments)},g.prototype.equals=function(X){if(!g.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===g.compare(this,X)},g.prototype.inspect=function(){var X="",$=et.h2;return X=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(X+=" ... "),"<Buffer "+X+">"},A&&(g.prototype[A]=g.prototype.inspect),g.prototype.compare=function(X,$,ne,J,q){if(oe(X,Uint8Array)&&(X=g.from(X,X.offset,X.byteLength)),!g.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(void 0===$&&($=0),void 0===ne&&(ne=X?X.length:0),void 0===J&&(J=0),void 0===q&&(q=this.length),$<0||ne>X.length||J<0||q>this.length)throw new RangeError("out of range index");if(J>=q&&$>=ne)return 0;if(J>=q)return-1;if($>=ne)return 1;if(this===X)return 0;for(var me=(q>>>=0)-(J>>>=0),Ee=(ne>>>=0)-($>>>=0),ye=Math.min(me,Ee),Ne=this.slice(J,q),tt=X.slice($,ne),qe=0;qe<ye;++qe)if(Ne[qe]!==tt[qe]){me=Ne[qe],Ee=tt[qe];break}return me<Ee?-1:Ee<me?1:0},g.prototype.includes=function(X,$,ne){return-1!==this.indexOf(X,$,ne)},g.prototype.indexOf=function(X,$,ne){return M(this,X,$,ne,!0)},g.prototype.lastIndexOf=function(X,$,ne){return M(this,X,$,ne,!1)},g.prototype.write=function(X,$,ne,J){if(void 0===$)J="utf8",ne=this.length,$=0;else if(void 0===ne&&"string"==typeof $)J=$,ne=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(ne)?(ne>>>=0,void 0===J&&(J="utf8")):(J=ne,ne=void 0)}var q=this.length-$;if((void 0===ne||ne>q)&&(ne=q),X.length>0&&(ne<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var me=!1;;)switch(J){case"hex":return Z(this,X,$,ne);case"utf8":case"utf-8":return ee(this,X,$,ne);case"ascii":case"latin1":case"binary":return ae(this,X,$,ne);case"base64":return Ae(this,X,$,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,X,$,ne);default:if(me)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),me=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ve=4096;function Se(Q,X,$){var ne="";$=Math.min(Q.length,$);for(var J=X;J<$;++J)ne+=String.fromCharCode(127&Q[J]);return ne}function xe(Q,X,$){var ne="";$=Math.min(Q.length,$);for(var J=X;J<$;++J)ne+=String.fromCharCode(Q[J]);return ne}function Ge(Q,X,$){var ne=Q.length;(!X||X<0)&&(X=0),(!$||$<0||$>ne)&&($=ne);for(var J="",q=X;q<$;++q)J+=re[Q[q]];return J}function ge(Q,X,$){for(var ne=Q.slice(X,$),J="",q=0;q<ne.length-1;q+=2)J+=String.fromCharCode(ne[q]+256*ne[q+1]);return J}function Ce(Q,X,$){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+X>$)throw new RangeError("Trying to access beyond buffer length")}function Le(Q,X,$,ne,J,q){if(!g.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>J||X<q)throw new RangeError('"value" argument is out of bounds');if($+ne>Q.length)throw new RangeError("Index out of range")}function fe(Q,X,$,ne,J,q){if($+ne>Q.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function we(Q,X,$,ne,J){return X=+X,$>>>=0,J||fe(Q,0,$,4),E.write(Q,X,$,ne,23,4),$+4}function Te(Q,X,$,ne,J){return X=+X,$>>>=0,J||fe(Q,0,$,8),E.write(Q,X,$,ne,52,8),$+8}g.prototype.slice=function(X,$){var ne=this.length;(X=~~X)<0?(X+=ne)<0&&(X=0):X>ne&&(X=ne),($=void 0===$?ne:~~$)<0?($+=ne)<0&&($=0):$>ne&&($=ne),$<X&&($=X);var J=this.subarray(X,$);return Object.setPrototypeOf(J,g.prototype),J},g.prototype.readUintLE=g.prototype.readUIntLE=function(X,$,ne){X>>>=0,$>>>=0,ne||Ce(X,$,this.length);for(var J=this[X],q=1,me=0;++me<$&&(q*=256);)J+=this[X+me]*q;return J},g.prototype.readUintBE=g.prototype.readUIntBE=function(X,$,ne){X>>>=0,$>>>=0,ne||Ce(X,$,this.length);for(var J=this[X+--$],q=1;$>0&&(q*=256);)J+=this[X+--$]*q;return J},g.prototype.readUint8=g.prototype.readUInt8=function(X,$){return X>>>=0,$||Ce(X,1,this.length),this[X]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(X,$){return X>>>=0,$||Ce(X,2,this.length),this[X]|this[X+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(X,$){return X>>>=0,$||Ce(X,2,this.length),this[X]<<8|this[X+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(X,$){return X>>>=0,$||Ce(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(X,$){return X>>>=0,$||Ce(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},g.prototype.readIntLE=function(X,$,ne){X>>>=0,$>>>=0,ne||Ce(X,$,this.length);for(var J=this[X],q=1,me=0;++me<$&&(q*=256);)J+=this[X+me]*q;return J>=(q*=128)&&(J-=Math.pow(2,8*$)),J},g.prototype.readIntBE=function(X,$,ne){X>>>=0,$>>>=0,ne||Ce(X,$,this.length);for(var J=$,q=1,me=this[X+--J];J>0&&(q*=256);)me+=this[X+--J]*q;return me>=(q*=128)&&(me-=Math.pow(2,8*$)),me},g.prototype.readInt8=function(X,$){return X>>>=0,$||Ce(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},g.prototype.readInt16LE=function(X,$){X>>>=0,$||Ce(X,2,this.length);var ne=this[X]|this[X+1]<<8;return 32768&ne?4294901760|ne:ne},g.prototype.readInt16BE=function(X,$){X>>>=0,$||Ce(X,2,this.length);var ne=this[X+1]|this[X]<<8;return 32768&ne?4294901760|ne:ne},g.prototype.readInt32LE=function(X,$){return X>>>=0,$||Ce(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},g.prototype.readInt32BE=function(X,$){return X>>>=0,$||Ce(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},g.prototype.readFloatLE=function(X,$){return X>>>=0,$||Ce(X,4,this.length),E.read(this,X,!0,23,4)},g.prototype.readFloatBE=function(X,$){return X>>>=0,$||Ce(X,4,this.length),E.read(this,X,!1,23,4)},g.prototype.readDoubleLE=function(X,$){return X>>>=0,$||Ce(X,8,this.length),E.read(this,X,!0,52,8)},g.prototype.readDoubleBE=function(X,$){return X>>>=0,$||Ce(X,8,this.length),E.read(this,X,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(X,$,ne,J){X=+X,$>>>=0,ne>>>=0,J||Le(this,X,$,ne,Math.pow(2,8*ne)-1,0);var me=1,Ee=0;for(this[$]=255&X;++Ee<ne&&(me*=256);)this[$+Ee]=X/me&255;return $+ne},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(X,$,ne,J){X=+X,$>>>=0,ne>>>=0,J||Le(this,X,$,ne,Math.pow(2,8*ne)-1,0);var me=ne-1,Ee=1;for(this[$+me]=255&X;--me>=0&&(Ee*=256);)this[$+me]=X/Ee&255;return $+ne},g.prototype.writeUint8=g.prototype.writeUInt8=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,1,255,0),this[$]=255&X,$+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,2,65535,0),this[$]=255&X,this[$+1]=X>>>8,$+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,2,65535,0),this[$]=X>>>8,this[$+1]=255&X,$+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,4,4294967295,0),this[$+3]=X>>>24,this[$+2]=X>>>16,this[$+1]=X>>>8,this[$]=255&X,$+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,4,4294967295,0),this[$]=X>>>24,this[$+1]=X>>>16,this[$+2]=X>>>8,this[$+3]=255&X,$+4},g.prototype.writeIntLE=function(X,$,ne,J){if(X=+X,$>>>=0,!J){var q=Math.pow(2,8*ne-1);Le(this,X,$,ne,q-1,-q)}var me=0,Ee=1,ye=0;for(this[$]=255&X;++me<ne&&(Ee*=256);)X<0&&0===ye&&0!==this[$+me-1]&&(ye=1),this[$+me]=(X/Ee>>0)-ye&255;return $+ne},g.prototype.writeIntBE=function(X,$,ne,J){if(X=+X,$>>>=0,!J){var q=Math.pow(2,8*ne-1);Le(this,X,$,ne,q-1,-q)}var me=ne-1,Ee=1,ye=0;for(this[$+me]=255&X;--me>=0&&(Ee*=256);)X<0&&0===ye&&0!==this[$+me+1]&&(ye=1),this[$+me]=(X/Ee>>0)-ye&255;return $+ne},g.prototype.writeInt8=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,1,127,-128),X<0&&(X=255+X+1),this[$]=255&X,$+1},g.prototype.writeInt16LE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,2,32767,-32768),this[$]=255&X,this[$+1]=X>>>8,$+2},g.prototype.writeInt16BE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,2,32767,-32768),this[$]=X>>>8,this[$+1]=255&X,$+2},g.prototype.writeInt32LE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,4,2147483647,-2147483648),this[$]=255&X,this[$+1]=X>>>8,this[$+2]=X>>>16,this[$+3]=X>>>24,$+4},g.prototype.writeInt32BE=function(X,$,ne){return X=+X,$>>>=0,ne||Le(this,X,$,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[$]=X>>>24,this[$+1]=X>>>16,this[$+2]=X>>>8,this[$+3]=255&X,$+4},g.prototype.writeFloatLE=function(X,$,ne){return we(this,X,$,!0,ne)},g.prototype.writeFloatBE=function(X,$,ne){return we(this,X,$,!1,ne)},g.prototype.writeDoubleLE=function(X,$,ne){return Te(this,X,$,!0,ne)},g.prototype.writeDoubleBE=function(X,$,ne){return Te(this,X,$,!1,ne)},g.prototype.copy=function(X,$,ne,J){if(!g.isBuffer(X))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!J&&0!==J&&(J=this.length),$>=X.length&&($=X.length),$||($=0),J>0&&J<ne&&(J=ne),J===ne||0===X.length||0===this.length)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),X.length-$<J-ne&&(J=X.length-$+ne);var q=J-ne;return this===X&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin($,ne,J):Uint8Array.prototype.set.call(X,this.subarray(ne,J),$),q},g.prototype.fill=function(X,$,ne,J){if("string"==typeof X){if("string"==typeof $?(J=$,$=0,ne=this.length):"string"==typeof ne&&(J=ne,ne=this.length),void 0!==J&&"string"!=typeof J)throw new TypeError("encoding must be a string");if("string"==typeof J&&!g.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(1===X.length){var q=X.charCodeAt(0);("utf8"===J&&q<128||"latin1"===J)&&(X=q)}}else"number"==typeof X?X&=255:"boolean"==typeof X&&(X=Number(X));if($<0||this.length<$||this.length<ne)throw new RangeError("Out of range index");if(ne<=$)return this;var me;if($>>>=0,ne=void 0===ne?this.length:ne>>>0,X||(X=0),"number"==typeof X)for(me=$;me<ne;++me)this[me]=X;else{var Ee=g.isBuffer(X)?X:g.from(X,J),ye=Ee.length;if(0===ye)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(me=0;me<ne-$;++me)this[me+$]=Ee[me%ye]}return this};var De=/[^+/0-9A-Za-z-_]/g;function lt(Q,X){X=X||1/0;for(var $,ne=Q.length,J=null,q=[],me=0;me<ne;++me){if(($=Q.charCodeAt(me))>55295&&$<57344){if(!J){if($>56319){(X-=3)>-1&&q.push(239,191,189);continue}if(me+1===ne){(X-=3)>-1&&q.push(239,191,189);continue}J=$;continue}if($<56320){(X-=3)>-1&&q.push(239,191,189),J=$;continue}$=65536+(J-55296<<10|$-56320)}else J&&(X-=3)>-1&&q.push(239,191,189);if(J=null,$<128){if((X-=1)<0)break;q.push($)}else if($<2048){if((X-=2)<0)break;q.push($>>6|192,63&$|128)}else if($<65536){if((X-=3)<0)break;q.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;q.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return q}function _e(Q){return n.toByteArray(function Ue(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(De,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function K(Q,X,$,ne){for(var J=0;J<ne&&!(J+$>=X.length||J>=Q.length);++J)X[J+$]=Q[J];return J}function oe(Q,X){return Q instanceof X||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===X.name}function pe(Q){return Q!=Q}var re=function(){for(var Q="0123456789abcdef",X=new Array(256),$=0;$<16;++$)for(var ne=16*$,J=0;J<16;++J)X[ne+J]=Q[$]+Q[J];return X}()},5094:Bn=>{window,Bn.exports=function(et){var v={};function e(n){if(v[n])return v[n].exports;var E=v[n]={i:n,l:!1,exports:{}};return et[n].call(E.exports,E,E.exports,e),E.l=!0,E.exports}return e.m=et,e.c=v,e.d=function(n,E,A){e.o(n,E)||Object.defineProperty(n,E,{enumerable:!0,get:A})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,E){if(1&E&&(n=e(n)),8&E||4&E&&"object"==typeof n&&n&&n.__esModule)return n;var A=Object.create(null);if(e.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:n}),2&E&&"string"!=typeof n)for(var _ in n)e.d(A,_,function(I){return n[I]}.bind(null,_));return A},e.n=function(n){var E=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(E,"a",E),E},e.o=function(n,E){return Object.prototype.hasOwnProperty.call(n,E)},e.p="/dist/",e(e.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(et,v,e){var A,_,I,w,g,n_encode=function(A){for(var _=[],I=0;I<A.length;++I){var w=A.charCodeAt(I);w<128?_.push(w):w<2048?(_.push(192|w>>6),_.push(128|63&w)):w<65536?(_.push(224|w>>12),_.push(128|63&w>>6),_.push(128|63&w)):(_.push(240|w>>18),_.push(128|63&w>>12),_.push(128|63&w>>6),_.push(128|63&w))}return _},n_decode=function(A){for(var _=[],I=0;I<A.length;){var w=A[I++];w<128||(w<224?(w=(31&w)<<6,w|=63&A[I++]):w<240?(w=(15&w)<<12,w|=(63&A[I++])<<6,w|=63&A[I++]):(w=(7&w)<<18,w|=(63&A[I++])<<12,w|=(63&A[I++])<<6,w|=63&A[I++])),_.push(String.fromCharCode(w))}return _.join("")},E={};A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=function(d){for(var u=0,m=[],y=0|d.length/3;0<y--;){var k=(d[u]<<16)+(d[u+1]<<8)+d[u+2];u+=3,m.push(A.charAt(63&k>>18)),m.push(A.charAt(63&k>>12)),m.push(A.charAt(63&k>>6)),m.push(A.charAt(63&k))}return d.length-u==2?(m.push(A.charAt(63&(k=(d[u]<<16)+(d[u+1]<<8))>>18)),m.push(A.charAt(63&k>>12)),m.push(A.charAt(63&k>>6)),m.push("=")):d.length-u==1&&(m.push(A.charAt(63&(k=d[u]<<16)>>18)),m.push(A.charAt(63&k>>12)),m.push("==")),m.join("")},I=function(){for(var o=[],d=0;d<64;++d)o[A.charCodeAt(d)]=d;return o["=".charCodeAt(0)]=0,o}(),w=function(d){for(var u=0,m=[],y=0|d.length/4;0<y--;){var k=(I[d.charCodeAt(u)]<<18)+(I[d.charCodeAt(u+1)]<<12)+(I[d.charCodeAt(u+2)]<<6)+I[d.charCodeAt(u+3)];m.push(255&k>>16),m.push(255&k>>8),m.push(255&k),u+=4}return m&&("="==d.charAt(u-2)?(m.pop(),m.pop()):"="==d.charAt(u-1)&&m.pop()),m},g={encode:function(o){for(var d=[],u=0;u<o.length;++u)d.push(o.charCodeAt(u));return d},decode:function(o){for(var d=0;d<s.length;++d)a[d]=String.fromCharCode(a[d]);return a.join("")}},E.decodeArray=function(o){var d=w(o);return new Uint8Array(d)},E.encodeASCII=function(o){var d=g.encode(o);return _(d)},E.decodeASCII=function(o){var d=w(o);return g.decode(d)},E.encode=function(o){var d=n_encode(o);return _(d)},E.decode=function(o){var d=w(o);return n_decode(d)},v.decode=E.decode,v.decodeArray=E.decodeArray,v.encode=E.encode,v.encodeASCII=E.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(et,v,e){!function(n){"use strict";var E={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},A=function(M){var G=M;return E.hasOwnProperty(M)&&(G=E[M]),String.fromCharCode(G)},_=15,I=32,w={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},o={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],m={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(M){this.time=M},log:function(M,G){this.verboseLevel>=this.verboseFilter[M]&&console.log(this.time+" ["+M+"] "+G)}},y=function(M){for(var G=[],Z=0;Z<M.length;Z++)G.push(M[Z].toString(16));return G},k=function(M,G,Z,ee,ae){this.foreground=M||"white",this.underline=G||!1,this.italics=Z||!1,this.background=ee||"black",this.flash=ae||!1};k.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(M){for(var G=["foreground","underline","italics","background","flash"],Z=0;Z<G.length;Z++){var ee=G[Z];M.hasOwnProperty(ee)&&(this[ee]=M[ee])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(M){return this.foreground===M.foreground&&this.underline===M.underline&&this.italics===M.italics&&this.background===M.background&&this.flash===M.flash},copy:function(M){this.foreground=M.foreground,this.underline=M.underline,this.italics=M.italics,this.background=M.background,this.flash=M.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var P=function(M,G,Z,ee,ae,Ae){this.uchar=M||" ",this.penState=new k(G,Z,ee,ae,Ae)};P.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(M,G){this.uchar=M,this.penState.copy(G)},setPenState:function(M){this.penState.copy(M)},equals:function(M){return this.uchar===M.uchar&&this.penState.equals(M.penState)},copy:function(M){this.uchar=M.uchar,this.penState.copy(M.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var B=function(){this.chars=[];for(var M=0;M<I;M++)this.chars.push(new P);this.pos=0,this.currPenState=new k};B.prototype={equals:function(M){for(var G=!0,Z=0;Z<I;Z++)if(!this.chars[Z].equals(M.chars[Z])){G=!1;break}return G},copy:function(M){for(var G=0;G<I;G++)this.chars[G].copy(M.chars[G])},isEmpty:function(){for(var M=!0,G=0;G<I;G++)if(!this.chars[G].isEmpty()){M=!1;break}return M},setCursor:function(M){this.pos!==M&&(this.pos=M),this.pos<0?(m.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>I&&(m.log("ERROR","Too large cursor position "+this.pos),this.pos=I)},moveCursor:function(M){var G=this.pos+M;if(M>1)for(var Z=this.pos+1;Z<G+1;Z++)this.chars[Z].setPenState(this.currPenState);this.setCursor(G)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(M){M>=144&&this.backSpace();var G=A(M);this.pos>=I?m.log("ERROR","Cannot insert "+M.toString(16)+" ("+G+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(G,this.currPenState),this.moveCursor(1))},clearFromPos:function(M){var G;for(G=M;G<I;G++)this.chars[G].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var M=[],G=!0,Z=0;Z<I;Z++){var ee=this.chars[Z].uchar;" "!==ee&&(G=!1),M.push(ee)}return G?"":M.join("")},setPenStyles:function(M){this.currPenState.setStyles(M),this.chars[this.pos].setPenState(this.currPenState)}};var F=function(){this.rows=[];for(var M=0;M<_;M++)this.rows.push(new B);this.currRow=14,this.nrRollUpRows=null,this.reset()};F.prototype={reset:function(){for(var M=0;M<_;M++)this.rows[M].clear();this.currRow=14},equals:function(M){for(var G=!0,Z=0;Z<_;Z++)if(!this.rows[Z].equals(M.rows[Z])){G=!1;break}return G},copy:function(M){for(var G=0;G<_;G++)this.rows[G].copy(M.rows[G])},isEmpty:function(){for(var M=!0,G=0;G<_;G++)if(!this.rows[G].isEmpty()){M=!1;break}return M},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(M){this.rows[this.currRow].insertChar(M)},setPen:function(M){this.rows[this.currRow].setPenStyles(M)},moveCursor:function(M){this.rows[this.currRow].moveCursor(M)},setCursor:function(M){m.log("INFO","setCursor: "+M),this.rows[this.currRow].setCursor(M)},setPAC:function(M){m.log("INFO","pacData = "+JSON.stringify(M));var G=M.row-1;this.nrRollUpRows&&G<this.nrRollUpRows-1&&(G=this.nrRollUpRows-1),this.currRow=G;var Z=this.rows[this.currRow];if(null!==M.indent){var ae=Math.max(M.indent-1,0);Z.setCursor(M.indent),M.color=Z.chars[ae].penState.foreground}this.setPen({foreground:M.color,underline:M.underline,italics:M.italics,background:"black",flash:!1})},setBkgData:function(M){m.log("INFO","bkgData = "+JSON.stringify(M)),this.backSpace(),this.setPen(M),this.insertChar(32)},setRollUpRows:function(M){this.nrRollUpRows=M},rollUp:function(){if(null!==this.nrRollUpRows){m.log("TEXT",this.getDisplayText());var G=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];G.clear(),this.rows.splice(this.currRow,0,G),m.log("INFO","Rolling up")}else m.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(M){M=M||!1;for(var G=[],Z="",ae=0;ae<_;ae++){var Ae=this.rows[ae].getTextString();Ae&&G.push(M?"Row "+(ae+1)+': "'+Ae+'"':Ae.trim())}return G.length>0&&(Z=M?"["+G.join(" | ")+"]":G.join("\n")),Z},getTextAndFormat:function(){return this.rows}};var R=function(M,G){this.chNr=M,this.outputFilter=G,this.mode=null,this.verbose=0,this.displayedMemory=new F,this.nonDisplayedMemory=new F,this.lastOutputScreen=new F,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};R.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(M){this.outputFilter=M},setPAC:function(M){this.writeScreen.setPAC(M)},setBkgData:function(M){this.writeScreen.setBkgData(M)},setMode:function(M){M!==this.mode&&(this.mode=M,m.log("INFO","MODE="+M),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=M)},insertChars:function(M){for(var G=0;G<M.length;G++)this.writeScreen.insertChar(M[G]);m.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(m.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){m.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){m.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){m.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(M){m.log("INFO","RU("+M+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(M)},cc_FON:function(){m.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){m.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){m.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){m.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){m.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){m.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){m.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(m.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var M=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=M,this.writeScreen=this.nonDisplayedMemory,m.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(M){m.log("INFO","TO("+M+") - Tab Offset"),this.writeScreen.moveCursor(M)},cc_MIDROW:function(M){var G={flash:!1};if(G.underline=M%2==1,G.italics=M>=46,G.italics)G.foreground="white";else{var Z=Math.floor(M/2)-16;G.foreground=["white","green","blue","cyan","red","yellow","magenta"][Z]}m.log("INFO","MIDROW: "+JSON.stringify(G)),this.writeScreen.setPen(G)},outputDataUpdate:function(){var M=m.time;null!==M&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(M,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,M,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:M):this.cueStartTime=M,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(M){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,M,this.displayedMemory),this.cueStartTime=M))}};var D=function(M,G,Z){this.field=M||1,this.outputs=[G,Z],this.channels=[new R(1,G),new R(2,Z)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};D.prototype={getHandler:function(M){return this.channels[M].getHandler()},setHandler:function(M,G){this.channels[M].setHandler(G)},addData:function(M,G){var Z,ee,ae,Ae=!1;this.lastTime=M,m.setTime(M);for(var j=0;j<G.length;j+=2)ae=127&G[j+1],(ee=127&G[j])>=16&&ee<=31&&ee===this.lastCmdA&&ae===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,m.log("DEBUG","Repeated command ("+y([ee,ae])+") is dropped")):0!==ee||0!==ae?(m.log("DATA","["+y([G[j],G[j+1]])+"] -> ("+y([ee,ae])+")"),(Z=this.parseCmd(ee,ae))||(Z=this.parseMidrow(ee,ae)),Z||(Z=this.parsePAC(ee,ae)),Z||(Z=this.parseBackgroundAttributes(ee,ae)),!Z&&(Ae=this.parseChars(ee,ae))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Ae):m.log("WARNING","No channel found yet. TEXT-MODE?")),Z?this.dataCounters.cmd+=2:Ae?this.dataCounters.char+=2:(this.dataCounters.other+=2,m.log("WARNING","Couldn't parse cleaned data "+y([ee,ae])+" orig: "+y([G[j],G[j+1]])))):this.dataCounters.padding+=2},parseCmd:function(M,G){var Z;if(!((20===M||21===M||28===M||29===M)&&32<=G&&G<=47||(23===M||31===M)&&33<=G&&G<=35))return!1;var Ae=this.channels[(Z=20===M||21===M||23===M?1:2)-1];return 20===M||21===M||28===M||29===M?32===G?Ae.cc_RCL():33===G?Ae.cc_BS():34===G?Ae.cc_AOF():35===G?Ae.cc_AON():36===G?Ae.cc_DER():37===G?Ae.cc_RU(2):38===G?Ae.cc_RU(3):39===G?Ae.cc_RU(4):40===G?Ae.cc_FON():41===G?Ae.cc_RDC():42===G?Ae.cc_TR():43===G?Ae.cc_RTD():44===G?Ae.cc_EDM():45===G?Ae.cc_CR():46===G?Ae.cc_ENM():47===G&&Ae.cc_EOC():Ae.cc_TO(G-32),this.lastCmdA=M,this.lastCmdB=G,this.currChNr=Z,!0},parseMidrow:function(M,G){var Z=null;if((17===M||25===M)&&32<=G&&G<=47){if((Z=17===M?1:2)!==this.currChNr)return m.log("ERROR","Mismatch channel in midrow parsing"),!1;var ee=this.channels[Z-1];return ee.insertChars([32]),ee.cc_MIDROW(G),m.log("DEBUG","MIDROW ("+y([M,G])+")"),this.lastCmdA=M,this.lastCmdB=G,!0}return!1},parsePAC:function(M,G){var Z;if(!((17<=M&&M<=23||25<=M&&M<=31)&&64<=G&&G<=127||(16===M||24===M)&&64<=G&&G<=95))return!1;Z=M<=23?1:2;var j=this.interpretPAC(64<=G&&G<=95?1===Z?w[M]:o[M]:1===Z?g[M]:d[M],G);return this.channels[Z-1].setPAC(j),this.lastCmdA=M,this.lastCmdB=G,this.currChNr=Z,!0},interpretPAC:function(M,G){var Z,ee={color:null,italics:!1,indent:null,underline:!1,row:M};return ee.underline=1==(1&(Z=G>95?G-96:G-64)),Z<=13?ee.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Z/2)]:Z<=15?(ee.italics=!0,ee.color="white"):ee.indent=4*Math.floor((Z-16)/2),ee},parseChars:function(M,G){var Z=null,ee=null,ae=null;if(M>=25?(Z=2,ae=M-8):(Z=1,ae=M),17<=ae&&ae<=19){var j;m.log("INFO","Special char '"+A(j=17===ae?G+80:18===ae?G+112:G+144)+"' in channel "+Z),ee=[j],this.lastCmdA=M,this.lastCmdB=G}else 32<=M&&M<=127&&(ee=0===G?[M]:[M,G],this.lastCmdA=null,this.lastCmdB=null);if(ee){var le=y(ee);m.log("DEBUG","Char codes =  "+le.join(","))}return ee},parseBackgroundAttributes:function(M,G){var Z,ee;return!!((16===M||24===M)&&32<=G&&G<=47||(23===M||31===M)&&45<=G&&G<=47)&&(Z={},16===M||24===M?(ee=Math.floor((G-32)/2),Z.background=u[ee],G%2==1&&(Z.background=Z.background+"_semi")):45===G?Z.background="transparent":(Z.foreground="black",47===G&&(Z.underline=!0)),this.channels[(M<24?1:2)-1].setBkgData(Z),this.lastCmdA=M,this.lastCmdB=G,!0)},reset:function(){for(var M=0;M<this.channels.length;M++)this.channels[M]&&this.channels[M].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(M){for(var G=0;G<this.channels.length;G++)this.channels[G]&&this.channels[G].cueSplitAtTime(M)}};n.logger=m,n.PenState=k,n.CaptionScreen=F,n.Cea608Parser=D,n.findCea608Nalus=function(M,G,Z){for(var ee=0,ae=G,j=[],le=function(Ge,ge,Ce,Le){if(4!==Ge||ge<8)return null;var fe=Ce.getUint8(Le),we=Ce.getUint16(Le+1),Te=Ce.getUint32(Le+3),De=Ce.getUint8(Le+7);return 181==fe&&49==we&&1195456820==Te&&3==De};ae<G+Z;){if(ee=M.getUint32(ae),6==(31&M.getUint8(ae+4)))for(var Y=ae+5,ve=-1;Y<ae+4+ee-1;){ve=0;for(var de=255;255===de;)ve+=de=M.getUint8(Y),Y++;var Se=0;for(de=255;255===de;)Se+=de=M.getUint8(Y),Y++;le(ve,Se,M,Y)&&j.push([Y,Se]),Y+=Se}ae+=ee+4}return j},n.extractCea608DataFromRange=function(M,G){var Z=G[0],ee=[[],[]],ae=31&M.getUint8(Z+=8);Z+=2;for(var Ae=0;Ae<ae;Ae++){var j=M.getUint8(Z),le=4&j,Y=3&j;Z++;var ve=M.getUint8(Z);Z++;var de=M.getUint8(Z);Z++,le&&(127&ve)+(127&de)!=0&&(0===Y?(ee[0].push(ve),ee[0].push(de)):1===Y&&(ee[1].push(ve),ee[1].push(de)))}return ee}}(v)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v),v.default=function n(E){E=E||{},function _(){void 0===E.escapeMode&&(E.escapeMode=!0),void 0===E.attributePrefix&&(E.attributePrefix="_"),E.arrayAccessForm=E.arrayAccessForm||"none",E.emptyNodeForm=E.emptyNodeForm||"text",void 0===E.enableToStringFunc&&(E.enableToStringFunc=!0),E.arrayAccessFormPaths=E.arrayAccessFormPaths||[],void 0===E.skipEmptyTextNodesForObj&&(E.skipEmptyTextNodesForObj=!0),void 0===E.stripWhitespaces&&(E.stripWhitespaces=!0),E.datetimeAccessFormPaths=E.datetimeAccessFormPaths||[],void 0===E.useDoubleQuotes&&(E.useDoubleQuotes=!1),E.xmlElementsFilter=E.xmlElementsFilter||[],E.jsonPropertiesFilter=E.jsonPropertiesFilter||[],void 0===E.keepCData&&(E.keepCData=!1),void 0===E.ignoreRoot&&(E.ignoreRoot=!1)}();var I={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function g(le){var Y=le.localName;return null==Y&&(Y=le.baseName),(null==Y||""==Y)&&(Y=le.nodeName),Y}function d(le){return"string"==typeof le?le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):le}function m(le,Y,ve,de){for(var Se=0;Se<le.length;Se++){var xe=le[Se];if("string"==typeof xe){if(xe==de)break}else if(xe instanceof RegExp){if(xe.test(de))break}else if("function"==typeof xe&&xe(Y,ve,de))break}return Se!=le.length}function y(le,Y,ve){"property"===E.arrayAccessForm&&(le[Y+"_asArray"]=le[Y]instanceof Array?le[Y]:[le[Y]]),!(le[Y]instanceof Array)&&E.arrayAccessFormPaths.length>0&&m(E.arrayAccessFormPaths,le,Y,ve)&&(le[Y]=[le[Y]])}function k(le){var Y=le.split(/[-T:+Z]/g),ve=new Date(Y[0],Y[1]-1,Y[2]),de=Y[5].split(".");if(ve.setHours(Y[3],Y[4],de[0]),de.length>1&&ve.setMilliseconds(de[1]),Y[6]&&Y[7]){var Se=60*Y[6]+Number(Y[7]);Se=0+("-"==(/\d\d-\d\d:\d\d$/.test(le)?"-":"+")?-1*Se:Se),ve.setMinutes(ve.getMinutes()-Se-ve.getTimezoneOffset())}else-1!==le.indexOf("Z",le.length-1)&&(ve=new Date(Date.UTC(ve.getFullYear(),ve.getMonth(),ve.getDate(),ve.getHours(),ve.getMinutes(),ve.getSeconds(),ve.getMilliseconds())));return ve}function B(le,Y,ve,de){return!(Y==I.ELEMENT_NODE&&E.xmlElementsFilter.length>0)||m(E.xmlElementsFilter,le,ve,de)}function F(le,Y){if(le.nodeType==I.DOCUMENT_NODE){for(var ve=new Object,de=le.childNodes,Se=0;Se<de.length;Se++)(xe=de[Se]).nodeType==I.ELEMENT_NODE&&(E.ignoreRoot?ve=F(xe):(ve={})[Ge=g(xe)]=F(xe));return ve}if(le.nodeType==I.ELEMENT_NODE){(ve=new Object).__cnt=0;var ge=[];for(de=le.childNodes,Se=0;Se<de.length;Se++){var xe,Ge=g(xe=de[Se]);if(xe.nodeType!=I.COMMENT_NODE){var Ce=Y+"."+Ge;if(B(ve,xe.nodeType,Ge,Ce))if(ve.__cnt++,null==ve[Ge]){var Le=F(xe,Ce);("#text"!=Ge||/[^\s]/.test(Le))&&((fe={})[Ge]=Le,ge.push(fe)),ve[Ge]=Le,y(ve,Ge,Ce)}else{var fe;null!=ve[Ge]&&(ve[Ge]instanceof Array||(ve[Ge]=[ve[Ge]],y(ve,Ge,Ce))),Le=F(xe,Ce),("#text"!=Ge||/[^\s]/.test(Le))&&((fe={})[Ge]=Le,ge.push(fe)),ve[Ge][ve[Ge].length]=Le}}}ve.__children=ge;for(var we=g(le),Te=0;Te<le.attributes.length;Te++){var De=le.attributes[Te];ve.__cnt++;for(var Ue=De.value,lt=0,He=E.matchers.length;lt<He;lt++){var be=E.matchers[lt];be.test(De,we)&&(Ue=be.converter(De.value))}ve[E.attributePrefix+De.name]=Ue}var _e=function o(le){return le.prefix}(le);return null!=_e&&""!=_e&&(ve.__cnt++,ve.__prefix=_e),null!=ve["#text"]&&(ve.__text=ve["#text"],ve.__text instanceof Array&&(ve.__text=ve.__text.join("\n")),E.stripWhitespaces&&(ve.__text=ve.__text.trim()),delete ve["#text"],"property"==E.arrayAccessForm&&delete ve["#text_asArray"],ve.__text=function P(le,Y,ve){if(E.datetimeAccessFormPaths.length>0){var de=ve.split(".#")[0];return m(E.datetimeAccessFormPaths,le,Y,de)?k(le):le}return le}(ve.__text,Ge,Y+"."+Ge)),null!=ve["#cdata-section"]&&(ve.__cdata=ve["#cdata-section"],delete ve["#cdata-section"],"property"==E.arrayAccessForm&&delete ve["#cdata-section_asArray"]),0==ve.__cnt&&"text"==E.emptyNodeForm?ve="":1==ve.__cnt&&null!=ve.__text?ve=ve.__text:1!=ve.__cnt||null==ve.__cdata||E.keepCData?ve.__cnt>1&&null!=ve.__text&&E.skipEmptyTextNodesForObj&&(E.stripWhitespaces&&""==ve.__text||""==ve.__text.trim())&&delete ve.__text:ve=ve.__cdata,delete ve.__cnt,E.enableToStringFunc&&(null!=ve.__text||null!=ve.__cdata)&&(ve.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),ve}if(le.nodeType==I.TEXT_NODE||le.nodeType==I.CDATA_SECTION_NODE)return le.nodeValue}function R(le,Y,ve,de){var Se="<"+(null!=le&&null!=le.__prefix?le.__prefix+":":"")+Y;if(null!=ve)for(var xe=0;xe<ve.length;xe++){var Ge=ve[xe],ge=le[Ge];E.escapeMode&&(ge=d(ge)),Se+=" "+Ge.substr(E.attributePrefix.length)+"=",Se+=E.useDoubleQuotes?'"'+ge+'"':"'"+ge+"'"}return Se+(de?"/>":">")}function D(le,Y){return"</"+(null!=le.__prefix?le.__prefix+":":"")+Y+">"}function C(le,Y){return!!("property"==E.arrayAccessForm&&function T(le,Y){return-1!==le.indexOf(Y,le.length-Y.length)}(Y.toString(),"_asArray")||0==Y.toString().indexOf(E.attributePrefix)||0==Y.toString().indexOf("__")||le[Y]instanceof Function)}function O(le){var Y=0;if(le instanceof Object)for(var ve in le)C(le,ve)||Y++;return Y}function M(le,Y,ve){return 0==E.jsonPropertiesFilter.length||""==ve||m(E.jsonPropertiesFilter,le,Y,ve)}function G(le){var Y=[];if(le instanceof Object)for(var ve in le)-1==ve.toString().indexOf("__")&&0==ve.toString().indexOf(E.attributePrefix)&&Y.push(ve);return Y}function ee(le){var Y="";return le instanceof Object?Y+=function Z(le){var Y="";return null!=le.__cdata&&(Y+="<![CDATA["+le.__cdata+"]]>"),null!=le.__text&&(Y+=E.escapeMode?d(le.__text):le.__text),Y}(le):null!=le&&(Y+=E.escapeMode?d(le):le),Y}function ae(le,Y){return""===le?Y:le+"."+Y}function Ae(le,Y,ve,de){var Se="";if(0==le.length)Se+=R(le,Y,ve,!0);else for(var xe=0;xe<le.length;xe++)Se+=R(le[xe],Y,G(le[xe]),!1),Se+=j(le[xe],ae(de,Y)),Se+=D(le[xe],Y);return Se}function j(le,Y){var ve="";if(O(le)>0)for(var Se in le)if(!C(le,Se)&&(""==Y||M(le,Se,ae(Y,Se)))){var xe=le[Se],Ge=G(xe);null==xe||null==xe?ve+=R(xe,Se,Ge,!0):xe instanceof Object?xe instanceof Array?ve+=Ae(xe,Se,Ge,Y):xe instanceof Date?(ve+=R(xe,Se,Ge,!1),ve+=xe.toISOString(),ve+=D(xe,Se)):O(xe)>0||null!=xe.__text||null!=xe.__cdata?(ve+=R(xe,Se,Ge,!1),ve+=j(xe,ae(Y,Se)),ve+=D(xe,Se)):ve+=R(xe,Se,Ge,!0):(ve+=R(xe,Se,Ge,!1),ve+=ee(xe),ve+=D(xe,Se))}return ve+ee(le)}this.parseXmlString=function(le){var ve;if(window.ActiveXObject||window,void 0===le)return null;if(window.DOMParser){var de=new window.DOMParser;try{(ve=de.parseFromString(le,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ve=null)}catch{ve=null}}else 0==le.indexOf("<?")&&(le=le.substr(le.indexOf("?>")+2)),(ve=new ActiveXObject("Microsoft.XMLDOM")).async="false",ve.loadXML(le);return ve},this.asArray=function(le){return void 0===le||null==le?[]:le instanceof Array?le:[le]},this.toXmlDateTime=function(le){return le instanceof Date?le.toISOString():"number"==typeof le?new Date(le).toISOString():null},this.asDateTime=function(le){return"string"==typeof le?k(le):le},this.xml2json=function(le){return F(le)},this.xml_str2json=function(le){var Y=this.parseXmlString(le);return null!=Y?this.xml2json(Y):null},this.json2xml_str=function(le){return j(le,"")},this.json2xml=function(le){var Y=this.json2xml_str(le);return this.parseXmlString(Y)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");e.d(v,"MediaPlayer",function(){return n.MediaPlayer});var E=e(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");e.d(v,"supportsMediaSource",function(){return E.supportsMediaSource});var A=e(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");e.d(v,"MetricsReporting",function(){return A.default});var _=e(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");e.d(v,"Protection",function(){return _.default});var I=e(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");e.d(v,"MediaPlayerFactory",function(){return I.default});var w=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(v,"Debug",function(){return w.default}),dashjs.Protection=_.default,dashjs.MetricsReporting=A.default,dashjs.MediaPlayerFactory=I.default,dashjs.Debug=w.default,dashjs.supportsMediaSource=E.supportsMediaSource,v.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(et,v,e){"use strict";e.r(v),function(n){var E=e(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");e.d(v,"MediaPlayer",function(){return E.default});var A=e(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");e.d(v,"FactoryMaker",function(){return A.default});var _=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(v,"Debug",function(){return _.default});var I=e(
/*! ./src/core/Version */
"./src/core/Version.js"),o=(e(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||n),d=o.dashjs;d||(d=o.dashjs={}),d.MediaPlayer=E.default,d.FactoryMaker=A.default,d.Debug=_.default,d.Version=Object(I.getVersionString)(),v.default=d}.call(this,e(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(et,v,e){"use strict";v.byteLength=function o(P){var B=g(P),R=B[1];return 3*(B[0]+R)/4-R},v.toByteArray=function u(P){var B,M,F=g(P),R=F[0],D=F[1],T=new A(function d(P,B,F){return 3*(B+F)/4-F}(0,R,D)),C=0,O=D>0?R-4:R;for(M=0;M<O;M+=4)B=E[P.charCodeAt(M)]<<18|E[P.charCodeAt(M+1)]<<12|E[P.charCodeAt(M+2)]<<6|E[P.charCodeAt(M+3)],T[C++]=B>>16&255,T[C++]=B>>8&255,T[C++]=255&B;return 2===D&&(B=E[P.charCodeAt(M)]<<2|E[P.charCodeAt(M+1)]>>4,T[C++]=255&B),1===D&&(B=E[P.charCodeAt(M)]<<10|E[P.charCodeAt(M+1)]<<4|E[P.charCodeAt(M+2)]>>2,T[C++]=B>>8&255,T[C++]=255&B),T},v.fromByteArray=function k(P){for(var B,F=P.length,R=F%3,D=[],T=16383,C=0,O=F-R;C<O;C+=T)D.push(y(P,C,C+T>O?O:C+T));return 1===R?D.push(n[(B=P[F-1])>>2]+n[B<<4&63]+"=="):2===R&&D.push(n[(B=(P[F-2]<<8)+P[F-1])>>10]+n[B>>4&63]+n[B<<2&63]+"="),D.join("")};for(var n=[],E=[],A=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0;I<64;++I)n[I]=_[I],E[_.charCodeAt(I)]=I;function g(P){var B=P.length;if(B%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var F=P.indexOf("=");return-1===F&&(F=B),[F,F===B?0:4-F%4]}function m(P){return n[P>>18&63]+n[P>>12&63]+n[P>>6&63]+n[63&P]}function y(P,B,F){for(var D=[],T=B;T<F;T+=3)D.push(m((P[T]<<16&16711680)+(P[T+1]<<8&65280)+(255&P[T+2])));return D.join("")}E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(et,v,e){"use strict";function _(w,g){return function o(d,u){for(var B,F,R,m=I(d,"tag"),y=I(u??"*","range"),k=[],P=-1;++P<y.length;)if(B=y[P].toLowerCase(),g||"*"!==B){for(F=-1,R=[];++F<m.length;)if(w(m[F].toLowerCase(),B)){if(!g)return m[F];k.push(m[F])}else R.push(m[F]);m=R}return g?k:void 0}}function I(w,g){var o=w&&"string"==typeof w?[w]:w;if(!o||"object"!=typeof o||!("length"in o))throw new Error("Invalid "+g+" `"+o+"`, expected non-empty string");return o}v.basicFilter=_(function n(w,g){return"*"===g||w===g||w.indexOf(g+"-")>-1},!0),v.extendedFilter=_(function E(w,g){var o=w.split("-"),d=g.split("-"),u=0,m=0;if("*"!==d[m]&&o[u]!==d[m])return!1;for(u++,m++;m<d.length;)if("*"!==d[m]){if(!o[u])return!1;if(o[u]!==d[m]){if(1===o[u].length)return!1;u++}else u++,m++}else m++;return!0},!0),v.lookup=_(function A(w,g){for(var d,o=g;;){if("*"===o||w===o)return!0;if((d=o.lastIndexOf("-"))<0)return!1;"-"===o.charAt(d-2)&&(d-=2),o=o.slice(0,d)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=e(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(et){et.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(et){et.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=e(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),E=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),A=e(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),_=e(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),I=e(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),w=e(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");et.exports=function u(B,F){var O,R=F||{},D=n.parse(String(B||"").toLowerCase(),R),T=n.stringify(D),C=-1;if(!T)return T;for(;++C<A.length;)E.extendedFilter(T,A[C].from).length&&(m(D,A[C].from,A[C].to),T=n.stringify(D));for(C=-1;++C<_.length;)y(D,_[C].from.field,_[C].from.value)&&k(D,_[C].to.field,_[C].to.value);for(T=n.stringify(Object.assign({},D,d)),C=-1;++C<I.length;)T===I[C]&&(m(D,I[C],I[C].split("-").slice(0,-1).join("-")),T=n.stringify(Object.assign({},D,d)));if(D.extensions.sort(P),R.warning)for(O in w)g.call(w[O],D[O])&&R.warning("Deprecated "+O+" `"+D[O]+"`, expected one of `"+w[O][D[O]].join("`, `")+"`",null,7);return D.script&&(D.script=D.script.charAt(0).toUpperCase()+D.script.slice(1)),D.region&&(D.region=D.region.toUpperCase()),n.stringify(D)};var g={}.hasOwnProperty,o=new Intl.Collator,d={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function m(B,F,R){var O,D=n.parse(F),T=n.parse(R),C=[];for(O in D)D[O]&&D[O].length&&y(B,O,D[O])&&C.push(O);for(O in T)T[O]&&T[O].length&&(C.indexOf(O)>-1||!B[O]||!B[O].length)&&k(B,O,T[O])}function y(B,F,R){var T,C,O,M,D=!1;if(R){if(C=T=B[F],T&&"object"==typeof T)for(C=[],O=-1;++O<T.length;)R.indexOf(M=T[O])<0?C.push(M):D=!0;else T===R&&(C=null,D=!0);B[F]=C}return D}function k(B,F,R){var T,C,O,D=B[F];if(D&&"object"==typeof D)for(T=[].concat(R),C=-1;++C<T.length;)D.indexOf(O=T[C])<0&&D.push(O);else B[F]=R}function P(B,F){return o.compare(B.singleton,F.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(et){et.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(et){et.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,v,e){"use strict";v.parse=e(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),v.stringify=e(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(et){et.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=e(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),E=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),A=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),_=e(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),I=e(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");et.exports=function g(d,u){var F,R,D,m=u||{},y={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},k=String(d),P=k.toLowerCase(),B=0;if(null==d)throw new Error("Expected string, got `"+d+"`");if(w.call(I,P))return(null==m.normalize||m.normalize)&&I[P]?g(I[P]):(y[-1===_.indexOf(P)?"irregular":"regular"]=k,y);for(;E(P.charCodeAt(B))&&B<9;)B++;if(B>1&&B<9){if(y.language=k.slice(0,B),B<4)for(R=0;45===P.charCodeAt(B)&&E(P.charCodeAt(B+1))&&E(P.charCodeAt(B+2))&&E(P.charCodeAt(B+3))&&!E(P.charCodeAt(B+4));){if(R>2)return T(B,3,"Too many extended language subtags, expected at most 3 subtags");y.extendedLanguageSubtags.push(k.slice(B+1,B+4)),B+=4,R++}for(45===P.charCodeAt(B)&&E(P.charCodeAt(B+1))&&E(P.charCodeAt(B+2))&&E(P.charCodeAt(B+3))&&E(P.charCodeAt(B+4))&&!E(P.charCodeAt(B+5))&&(y.script=k.slice(B+1,B+5),B+=5),45===P.charCodeAt(B)&&(E(P.charCodeAt(B+1))&&E(P.charCodeAt(B+2))&&!E(P.charCodeAt(B+3))?(y.region=k.slice(B+1,B+3),B+=3):A(P.charCodeAt(B+1))&&A(P.charCodeAt(B+2))&&A(P.charCodeAt(B+3))&&!A(P.charCodeAt(B+4))&&(y.region=k.slice(B+1,B+4),B+=4));45===P.charCodeAt(B);){for(D=F=B+1;n(P.charCodeAt(D));){if(D-F>7)return T(D,1,"Too long variant, expected at most 8 characters");D++}if(!(D-F>4||D-F>3&&A(P.charCodeAt(F))))break;y.variants.push(k.slice(F,D)),B=D}for(;45===P.charCodeAt(B)&&120!==P.charCodeAt(B+1)&&n(P.charCodeAt(B+1))&&45===P.charCodeAt(B+2)&&n(P.charCodeAt(B+3));){for(D=B+2,R=0;45===P.charCodeAt(D)&&n(P.charCodeAt(D+1))&&n(P.charCodeAt(D+2));)for(D=(F=D+1)+2,R++;n(P.charCodeAt(D));){if(D-F>7)return T(D,2,"Too long extension, expected at most 8 characters");D++}if(!R)return T(D,4,"Empty extension, extensions must have at least 2 characters of content");y.extensions.push({singleton:k.charAt(B+1),extensions:k.slice(B+3,D).split("-")}),B=D}}else B=0;if(0===B&&120===P.charCodeAt(B)||45===P.charCodeAt(B)&&120===P.charCodeAt(B+1))for(D=B=B?B+2:1;45===P.charCodeAt(D)&&n(P.charCodeAt(D+1));){for(D=F=B+1;n(P.charCodeAt(D));){if(D-F>7)return T(D,5,"Too long private-use area, expected at most 8 characters");D++}y.privateuse.push(k.slice(B+1,D)),B=D}return B!==k.length?T(B,6,"Found superfluous content after tag"):y;function T(C,O,M){return m.warning&&m.warning(M,O,C),m.forgiving?y:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var w={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(et){et.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=function n(E){var I,w,g,A=E||{},_=[];if(A.irregular||A.regular)return A.irregular||A.regular;if(A.language)for(_=_.concat(A.language,A.extendedLanguageSubtags||[],A.script||[],A.region||[],A.variants||[]),I=A.extensions||[],w=-1;++w<I.length;)(g=I[w]).singleton&&g.extensions&&g.extensions.length&&(_=_.concat(g.singleton,g.extensions));return A.privateuse&&A.privateuse.length&&(_=_.concat("x",A.privateuse)),_.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,v,e){"use strict";(function(n){var E=e(
/*! base64-js */
"./node_modules/base64-js/index.js"),A=e(
/*! ieee754 */
"./node_modules/ieee754/index.js"),_=e(
/*! isarray */
"./node_modules/isarray/index.js");function w(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function g(ne,J){if(w()<J)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(ne=new Uint8Array(J)).__proto__=o.prototype:(null===ne&&(ne=new o(J)),ne.length=J),ne}function o(ne,J,q){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(ne,J,q);if("number"==typeof ne){if("string"==typeof J)throw new Error("If encoding is specified then the first argument must be a string");return y(this,ne)}return d(this,ne,J,q)}function d(ne,J,q,me){if("number"==typeof J)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&J instanceof ArrayBuffer?function B(ne,J,q,me){if(q<0||J.byteLength<q)throw new RangeError("'offset' is out of bounds");if(J.byteLength<q+(me||0))throw new RangeError("'length' is out of bounds");return J=void 0===q&&void 0===me?new Uint8Array(J):void 0===me?new Uint8Array(J,q):new Uint8Array(J,q,me),o.TYPED_ARRAY_SUPPORT?(ne=J).__proto__=o.prototype:ne=P(ne,J),ne}(ne,J,q,me):"string"==typeof J?function k(ne,J,q){if(("string"!=typeof q||""===q)&&(q="utf8"),!o.isEncoding(q))throw new TypeError('"encoding" must be a valid string encoding');var me=0|T(J,q),Ee=(ne=g(ne,me)).write(J,q);return Ee!==me&&(ne=ne.slice(0,Ee)),ne}(ne,J,q):function F(ne,J){if(o.isBuffer(J)){var q=0|R(J.length);return 0===(ne=g(ne,q)).length||J.copy(ne,0,0,q),ne}if(J){if(typeof ArrayBuffer<"u"&&J.buffer instanceof ArrayBuffer||"length"in J)return"number"!=typeof J.length||function $(ne){return ne!=ne}(J.length)?g(ne,0):P(ne,J);if("Buffer"===J.type&&_(J.data))return P(ne,J.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ne,J)}function u(ne){if("number"!=typeof ne)throw new TypeError('"size" argument must be a number');if(ne<0)throw new RangeError('"size" argument must not be negative')}function y(ne,J){if(u(J),ne=g(ne,J<0?0:0|R(J)),!o.TYPED_ARRAY_SUPPORT)for(var q=0;q<J;++q)ne[q]=0;return ne}function P(ne,J){var q=J.length<0?0:0|R(J.length);ne=g(ne,q);for(var me=0;me<q;me+=1)ne[me]=255&J[me];return ne}function R(ne){if(ne>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return 0|ne}function T(ne,J){if(o.isBuffer(ne))return ne.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ne)||ne instanceof ArrayBuffer))return ne.byteLength;"string"!=typeof ne&&(ne=""+ne);var q=ne.length;if(0===q)return 0;for(var me=!1;;)switch(J){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":case void 0:return oe(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return Q(ne).length;default:if(me)return oe(ne).length;J=(""+J).toLowerCase(),me=!0}}function C(ne,J,q){var me=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===q||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(J>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return ge(this,J,q);case"utf8":case"utf-8":return ve(this,J,q);case"ascii":return xe(this,J,q);case"latin1":case"binary":return Ge(this,J,q);case"base64":return Y(this,J,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,J,q);default:if(me)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),me=!0}}function O(ne,J,q){var me=ne[J];ne[J]=ne[q],ne[q]=me}function M(ne,J,q,me,Ee){if(0===ne.length)return-1;if("string"==typeof q?(me=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,isNaN(q)&&(q=Ee?0:ne.length-1),q<0&&(q=ne.length+q),q>=ne.length){if(Ee)return-1;q=ne.length-1}else if(q<0){if(!Ee)return-1;q=0}if("string"==typeof J&&(J=o.from(J,me)),o.isBuffer(J))return 0===J.length?-1:G(ne,J,q,me,Ee);if("number"==typeof J)return J&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Ee?Uint8Array.prototype.indexOf.call(ne,J,q):Uint8Array.prototype.lastIndexOf.call(ne,J,q):G(ne,[J],q,me,Ee);throw new TypeError("val must be string, number or Buffer")}function G(ne,J,q,me,Ee){var Xe,ye=1,Ne=ne.length,tt=J.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(ne.length<2||J.length<2)return-1;ye=2,Ne/=2,tt/=2,q/=2}function qe(vt,ce){return 1===ye?vt[ce]:vt.readUInt16BE(ce*ye)}if(Ee){var ut=-1;for(Xe=q;Xe<Ne;Xe++)if(qe(ne,Xe)===qe(J,-1===ut?0:Xe-ut)){if(-1===ut&&(ut=Xe),Xe-ut+1===tt)return ut*ye}else-1!==ut&&(Xe-=Xe-ut),ut=-1}else for(q+tt>Ne&&(q=Ne-tt),Xe=q;Xe>=0;Xe--){for(var ze=!0,ht=0;ht<tt;ht++)if(qe(ne,Xe+ht)!==qe(J,ht)){ze=!1;break}if(ze)return Xe}return-1}function Z(ne,J,q,me){q=Number(q)||0;var Ee=ne.length-q;me?(me=Number(me))>Ee&&(me=Ee):me=Ee;var ye=J.length;if(ye%2!=0)throw new TypeError("Invalid hex string");me>ye/2&&(me=ye/2);for(var Ne=0;Ne<me;++Ne){var tt=parseInt(J.substr(2*Ne,2),16);if(isNaN(tt))return Ne;ne[q+Ne]=tt}return Ne}function ee(ne,J,q,me){return X(oe(J,ne.length-q),ne,q,me)}function ae(ne,J,q,me){return X(function pe(ne){for(var J=[],q=0;q<ne.length;++q)J.push(255&ne.charCodeAt(q));return J}(J),ne,q,me)}function Ae(ne,J,q,me){return ae(ne,J,q,me)}function j(ne,J,q,me){return X(Q(J),ne,q,me)}function le(ne,J,q,me){return X(function re(ne,J){for(var q,me,ye=[],Ne=0;Ne<ne.length&&!((J-=2)<0);++Ne)me=(q=ne.charCodeAt(Ne))>>8,ye.push(q%256),ye.push(me);return ye}(J,ne.length-q),ne,q,me)}function Y(ne,J,q){return E.fromByteArray(0===J&&q===ne.length?ne:ne.slice(J,q))}function ve(ne,J,q){q=Math.min(ne.length,q);for(var me=[],Ee=J;Ee<q;){var qe,Xe,ut,ze,ye=ne[Ee],Ne=null,tt=ye>239?4:ye>223?3:ye>191?2:1;if(Ee+tt<=q)switch(tt){case 1:ye<128&&(Ne=ye);break;case 2:128==(192&(qe=ne[Ee+1]))&&(ze=(31&ye)<<6|63&qe)>127&&(Ne=ze);break;case 3:Xe=ne[Ee+2],128==(192&(qe=ne[Ee+1]))&&128==(192&Xe)&&(ze=(15&ye)<<12|(63&qe)<<6|63&Xe)>2047&&(ze<55296||ze>57343)&&(Ne=ze);break;case 4:Xe=ne[Ee+2],ut=ne[Ee+3],128==(192&(qe=ne[Ee+1]))&&128==(192&Xe)&&128==(192&ut)&&(ze=(15&ye)<<18|(63&qe)<<12|(63&Xe)<<6|63&ut)>65535&&ze<1114112&&(Ne=ze)}null===Ne?(Ne=65533,tt=1):Ne>65535&&(me.push((Ne-=65536)>>>10&1023|55296),Ne=56320|1023&Ne),me.push(Ne),Ee+=tt}return function Se(ne){var J=ne.length;if(J<=de)return String.fromCharCode.apply(String,ne);for(var q="",me=0;me<J;)q+=String.fromCharCode.apply(String,ne.slice(me,me+=de));return q}(me)}v.Buffer=o,v.SlowBuffer=function D(ne){return+ne!=ne&&(ne=0),o.alloc(+ne)},v.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function I(){try{var ne=new Uint8Array(1);return ne.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ne.foo()&&"function"==typeof ne.subarray&&0===ne.subarray(1,1).byteLength}catch{return!1}}(),v.kMaxLength=w(),o.poolSize=8192,o._augment=function(ne){return ne.__proto__=o.prototype,ne},o.from=function(ne,J,q){return d(null,ne,J,q)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(ne,J,q){return function m(ne,J,q,me){return u(J),J<=0?g(ne,J):void 0!==q?"string"==typeof me?g(ne,J).fill(q,me):g(ne,J).fill(q):g(ne,J)}(null,ne,J,q)},o.allocUnsafe=function(ne){return y(null,ne)},o.allocUnsafeSlow=function(ne){return y(null,ne)},o.isBuffer=function(J){return!(null==J||!J._isBuffer)},o.compare=function(J,q){if(!o.isBuffer(J)||!o.isBuffer(q))throw new TypeError("Arguments must be Buffers");if(J===q)return 0;for(var me=J.length,Ee=q.length,ye=0,Ne=Math.min(me,Ee);ye<Ne;++ye)if(J[ye]!==q[ye]){me=J[ye],Ee=q[ye];break}return me<Ee?-1:Ee<me?1:0},o.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(J,q){if(!_(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return o.alloc(0);var me;if(void 0===q)for(q=0,me=0;me<J.length;++me)q+=J[me].length;var Ee=o.allocUnsafe(q),ye=0;for(me=0;me<J.length;++me){var Ne=J[me];if(!o.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(Ee,ye),ye+=Ne.length}return Ee},o.byteLength=T,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<J;q+=2)O(this,q,q+1);return this},o.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<J;q+=4)O(this,q,q+3),O(this,q+1,q+2);return this},o.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<J;q+=8)O(this,q,q+7),O(this,q+1,q+6),O(this,q+2,q+5),O(this,q+3,q+4);return this},o.prototype.toString=function(){var J=0|this.length;return 0===J?"":0===arguments.length?ve(this,0,J):C.apply(this,arguments)},o.prototype.equals=function(J){if(!o.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===o.compare(this,J)},o.prototype.inspect=function(){var J="",q=v.INSPECT_MAX_BYTES;return this.length>0&&(J=this.toString("hex",0,q).match(/.{2}/g).join(" "),this.length>q&&(J+=" ... ")),"<Buffer "+J+">"},o.prototype.compare=function(J,q,me,Ee,ye){if(!o.isBuffer(J))throw new TypeError("Argument must be a Buffer");if(void 0===q&&(q=0),void 0===me&&(me=J?J.length:0),void 0===Ee&&(Ee=0),void 0===ye&&(ye=this.length),q<0||me>J.length||Ee<0||ye>this.length)throw new RangeError("out of range index");if(Ee>=ye&&q>=me)return 0;if(Ee>=ye)return-1;if(q>=me)return 1;if(this===J)return 0;for(var Ne=(ye>>>=0)-(Ee>>>=0),tt=(me>>>=0)-(q>>>=0),qe=Math.min(Ne,tt),Xe=this.slice(Ee,ye),ut=J.slice(q,me),ze=0;ze<qe;++ze)if(Xe[ze]!==ut[ze]){Ne=Xe[ze],tt=ut[ze];break}return Ne<tt?-1:tt<Ne?1:0},o.prototype.includes=function(J,q,me){return-1!==this.indexOf(J,q,me)},o.prototype.indexOf=function(J,q,me){return M(this,J,q,me,!0)},o.prototype.lastIndexOf=function(J,q,me){return M(this,J,q,me,!1)},o.prototype.write=function(J,q,me,Ee){if(void 0===q)Ee="utf8",me=this.length,q=0;else if(void 0===me&&"string"==typeof q)Ee=q,me=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q|=0,isFinite(me)?(me|=0,void 0===Ee&&(Ee="utf8")):(Ee=me,me=void 0)}var ye=this.length-q;if((void 0===me||me>ye)&&(me=ye),J.length>0&&(me<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");for(var Ne=!1;;)switch(Ee){case"hex":return Z(this,J,q,me);case"utf8":case"utf-8":return ee(this,J,q,me);case"ascii":return ae(this,J,q,me);case"latin1":case"binary":return Ae(this,J,q,me);case"base64":return j(this,J,q,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,J,q,me);default:if(Ne)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var de=4096;function xe(ne,J,q){var me="";q=Math.min(ne.length,q);for(var Ee=J;Ee<q;++Ee)me+=String.fromCharCode(127&ne[Ee]);return me}function Ge(ne,J,q){var me="";q=Math.min(ne.length,q);for(var Ee=J;Ee<q;++Ee)me+=String.fromCharCode(ne[Ee]);return me}function ge(ne,J,q){var me=ne.length;(!J||J<0)&&(J=0),(!q||q<0||q>me)&&(q=me);for(var Ee="",ye=J;ye<q;++ye)Ee+=K(ne[ye]);return Ee}function Ce(ne,J,q){for(var me=ne.slice(J,q),Ee="",ye=0;ye<me.length;ye+=2)Ee+=String.fromCharCode(me[ye]+256*me[ye+1]);return Ee}function Le(ne,J,q){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+J>q)throw new RangeError("Trying to access beyond buffer length")}function fe(ne,J,q,me,Ee,ye){if(!o.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>Ee||J<ye)throw new RangeError('"value" argument is out of bounds');if(q+me>ne.length)throw new RangeError("Index out of range")}function we(ne,J,q,me){J<0&&(J=65535+J+1);for(var Ee=0,ye=Math.min(ne.length-q,2);Ee<ye;++Ee)ne[q+Ee]=(J&255<<8*(me?Ee:1-Ee))>>>8*(me?Ee:1-Ee)}function Te(ne,J,q,me){J<0&&(J=4294967295+J+1);for(var Ee=0,ye=Math.min(ne.length-q,4);Ee<ye;++Ee)ne[q+Ee]=J>>>8*(me?Ee:3-Ee)&255}function De(ne,J,q,me,Ee,ye){if(q+me>ne.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Ue(ne,J,q,me,Ee){return Ee||De(ne,0,q,4),A.write(ne,J,q,me,23,4),q+4}function lt(ne,J,q,me,Ee){return Ee||De(ne,0,q,8),A.write(ne,J,q,me,52,8),q+8}o.prototype.slice=function(J,q){var Ee,me=this.length;if((J=~~J)<0?(J+=me)<0&&(J=0):J>me&&(J=me),(q=void 0===q?me:~~q)<0?(q+=me)<0&&(q=0):q>me&&(q=me),q<J&&(q=J),o.TYPED_ARRAY_SUPPORT)(Ee=this.subarray(J,q)).__proto__=o.prototype;else{var ye=q-J;Ee=new o(ye,void 0);for(var Ne=0;Ne<ye;++Ne)Ee[Ne]=this[Ne+J]}return Ee},o.prototype.readUIntLE=function(J,q,me){J|=0,q|=0,me||Le(J,q,this.length);for(var Ee=this[J],ye=1,Ne=0;++Ne<q&&(ye*=256);)Ee+=this[J+Ne]*ye;return Ee},o.prototype.readUIntBE=function(J,q,me){J|=0,q|=0,me||Le(J,q,this.length);for(var Ee=this[J+--q],ye=1;q>0&&(ye*=256);)Ee+=this[J+--q]*ye;return Ee},o.prototype.readUInt8=function(J,q){return q||Le(J,1,this.length),this[J]},o.prototype.readUInt16LE=function(J,q){return q||Le(J,2,this.length),this[J]|this[J+1]<<8},o.prototype.readUInt16BE=function(J,q){return q||Le(J,2,this.length),this[J]<<8|this[J+1]},o.prototype.readUInt32LE=function(J,q){return q||Le(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},o.prototype.readUInt32BE=function(J,q){return q||Le(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},o.prototype.readIntLE=function(J,q,me){J|=0,q|=0,me||Le(J,q,this.length);for(var Ee=this[J],ye=1,Ne=0;++Ne<q&&(ye*=256);)Ee+=this[J+Ne]*ye;return Ee>=(ye*=128)&&(Ee-=Math.pow(2,8*q)),Ee},o.prototype.readIntBE=function(J,q,me){J|=0,q|=0,me||Le(J,q,this.length);for(var Ee=q,ye=1,Ne=this[J+--Ee];Ee>0&&(ye*=256);)Ne+=this[J+--Ee]*ye;return Ne>=(ye*=128)&&(Ne-=Math.pow(2,8*q)),Ne},o.prototype.readInt8=function(J,q){return q||Le(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},o.prototype.readInt16LE=function(J,q){q||Le(J,2,this.length);var me=this[J]|this[J+1]<<8;return 32768&me?4294901760|me:me},o.prototype.readInt16BE=function(J,q){q||Le(J,2,this.length);var me=this[J+1]|this[J]<<8;return 32768&me?4294901760|me:me},o.prototype.readInt32LE=function(J,q){return q||Le(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},o.prototype.readInt32BE=function(J,q){return q||Le(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},o.prototype.readFloatLE=function(J,q){return q||Le(J,4,this.length),A.read(this,J,!0,23,4)},o.prototype.readFloatBE=function(J,q){return q||Le(J,4,this.length),A.read(this,J,!1,23,4)},o.prototype.readDoubleLE=function(J,q){return q||Le(J,8,this.length),A.read(this,J,!0,52,8)},o.prototype.readDoubleBE=function(J,q){return q||Le(J,8,this.length),A.read(this,J,!1,52,8)},o.prototype.writeUIntLE=function(J,q,me,Ee){J=+J,q|=0,me|=0,Ee||fe(this,J,q,me,Math.pow(2,8*me)-1,0);var Ne=1,tt=0;for(this[q]=255&J;++tt<me&&(Ne*=256);)this[q+tt]=J/Ne&255;return q+me},o.prototype.writeUIntBE=function(J,q,me,Ee){J=+J,q|=0,me|=0,Ee||fe(this,J,q,me,Math.pow(2,8*me)-1,0);var Ne=me-1,tt=1;for(this[q+Ne]=255&J;--Ne>=0&&(tt*=256);)this[q+Ne]=J/tt&255;return q+me},o.prototype.writeUInt8=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,1,255,0),o.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),this[q]=255&J,q+1},o.prototype.writeUInt16LE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8):we(this,J,q,!0),q+2},o.prototype.writeUInt16BE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[q]=J>>>8,this[q+1]=255&J):we(this,J,q,!1),q+2},o.prototype.writeUInt32LE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[q+3]=J>>>24,this[q+2]=J>>>16,this[q+1]=J>>>8,this[q]=255&J):Te(this,J,q,!0),q+4},o.prototype.writeUInt32BE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=255&J):Te(this,J,q,!1),q+4},o.prototype.writeIntLE=function(J,q,me,Ee){if(J=+J,q|=0,!Ee){var ye=Math.pow(2,8*me-1);fe(this,J,q,me,ye-1,-ye)}var Ne=0,tt=1,qe=0;for(this[q]=255&J;++Ne<me&&(tt*=256);)J<0&&0===qe&&0!==this[q+Ne-1]&&(qe=1),this[q+Ne]=(J/tt>>0)-qe&255;return q+me},o.prototype.writeIntBE=function(J,q,me,Ee){if(J=+J,q|=0,!Ee){var ye=Math.pow(2,8*me-1);fe(this,J,q,me,ye-1,-ye)}var Ne=me-1,tt=1,qe=0;for(this[q+Ne]=255&J;--Ne>=0&&(tt*=256);)J<0&&0===qe&&0!==this[q+Ne+1]&&(qe=1),this[q+Ne]=(J/tt>>0)-qe&255;return q+me},o.prototype.writeInt8=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,1,127,-128),o.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),J<0&&(J=255+J+1),this[q]=255&J,q+1},o.prototype.writeInt16LE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8):we(this,J,q,!0),q+2},o.prototype.writeInt16BE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[q]=J>>>8,this[q+1]=255&J):we(this,J,q,!1),q+2},o.prototype.writeInt32LE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8,this[q+2]=J>>>16,this[q+3]=J>>>24):Te(this,J,q,!0),q+4},o.prototype.writeInt32BE=function(J,q,me){return J=+J,q|=0,me||fe(this,J,q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),o.TYPED_ARRAY_SUPPORT?(this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=255&J):Te(this,J,q,!1),q+4},o.prototype.writeFloatLE=function(J,q,me){return Ue(this,J,q,!0,me)},o.prototype.writeFloatBE=function(J,q,me){return Ue(this,J,q,!1,me)},o.prototype.writeDoubleLE=function(J,q,me){return lt(this,J,q,!0,me)},o.prototype.writeDoubleBE=function(J,q,me){return lt(this,J,q,!1,me)},o.prototype.copy=function(J,q,me,Ee){if(me||(me=0),!Ee&&0!==Ee&&(Ee=this.length),q>=J.length&&(q=J.length),q||(q=0),Ee>0&&Ee<me&&(Ee=me),Ee===me||0===J.length||0===this.length)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(me<0||me>=this.length)throw new RangeError("sourceStart out of bounds");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),J.length-q<Ee-me&&(Ee=J.length-q+me);var Ne,ye=Ee-me;if(this===J&&me<q&&q<Ee)for(Ne=ye-1;Ne>=0;--Ne)J[Ne+q]=this[Ne+me];else if(ye<1e3||!o.TYPED_ARRAY_SUPPORT)for(Ne=0;Ne<ye;++Ne)J[Ne+q]=this[Ne+me];else Uint8Array.prototype.set.call(J,this.subarray(me,me+ye),q);return ye},o.prototype.fill=function(J,q,me,Ee){if("string"==typeof J){if("string"==typeof q?(Ee=q,q=0,me=this.length):"string"==typeof me&&(Ee=me,me=this.length),1===J.length){var ye=J.charCodeAt(0);ye<256&&(J=ye)}if(void 0!==Ee&&"string"!=typeof Ee)throw new TypeError("encoding must be a string");if("string"==typeof Ee&&!o.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee)}else"number"==typeof J&&(J&=255);if(q<0||this.length<q||this.length<me)throw new RangeError("Out of range index");if(me<=q)return this;var Ne;if(q>>>=0,me=void 0===me?this.length:me>>>0,J||(J=0),"number"==typeof J)for(Ne=q;Ne<me;++Ne)this[Ne]=J;else{var tt=o.isBuffer(J)?J:oe(new o(J,Ee).toString()),qe=tt.length;for(Ne=0;Ne<me-q;++Ne)this[Ne+q]=tt[Ne%qe]}return this};var He=/[^+\/0-9A-Za-z-_]/g;function K(ne){return ne<16?"0"+ne.toString(16):ne.toString(16)}function oe(ne,J){J=J||1/0;for(var q,me=ne.length,Ee=null,ye=[],Ne=0;Ne<me;++Ne){if((q=ne.charCodeAt(Ne))>55295&&q<57344){if(!Ee){if(q>56319){(J-=3)>-1&&ye.push(239,191,189);continue}if(Ne+1===me){(J-=3)>-1&&ye.push(239,191,189);continue}Ee=q;continue}if(q<56320){(J-=3)>-1&&ye.push(239,191,189),Ee=q;continue}q=65536+(Ee-55296<<10|q-56320)}else Ee&&(J-=3)>-1&&ye.push(239,191,189);if(Ee=null,q<128){if((J-=1)<0)break;ye.push(q)}else if(q<2048){if((J-=2)<0)break;ye.push(q>>6|192,63&q|128)}else if(q<65536){if((J-=3)<0)break;ye.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;ye.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return ye}function Q(ne){return E.toByteArray(function be(ne){if((ne=function _e(ne){return ne.trim?ne.trim():ne.replace(/^\s+|\s+$/g,"")}(ne).replace(He,"")).length<2)return"";for(;ne.length%4!=0;)ne+="=";return ne}(ne))}function X(ne,J,q,me){for(var Ee=0;Ee<me&&!(Ee+q>=J.length||Ee>=ne.length);++Ee)J[Ee+q]=ne[Ee];return Ee}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(et,v,e){var n={parseBuffer:function(_){return new E(_).parse()},addBoxProcessor:function(_,I){"string"!=typeof _||"function"!=typeof I||(A.prototype._boxProcessors[_]=I)},createFile:function(){return new E},createBox:function(_,I,w){var g=A.create(_);return I&&I.append(g,w),g},createFullBox:function(_,I,w){var g=n.createBox(_,I,w);return g.version=0,g.flags=0,g},Utils:{}};n.Utils.dataViewToString=function(_,I){var w=I||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(w).decode(_);var g=[],o=0;if("utf-8"===w)for(;o<_.byteLength;){var d=_.getUint8(o++);d<128||(d<224?(d=(31&d)<<6,d|=63&_.getUint8(o++)):d<240?(d=(15&d)<<12,d|=(63&_.getUint8(o++))<<6,d|=63&_.getUint8(o++)):(d=(7&d)<<18,d|=(63&_.getUint8(o++))<<12,d|=(63&_.getUint8(o++))<<6,d|=63&_.getUint8(o++))),g.push(String.fromCharCode(d))}else for(;o<_.byteLength;)g.push(String.fromCharCode(_.getUint8(o++)));return g.join("")},n.Utils.utf8ToByteArray=function(_){var I,w;if(typeof TextEncoder<"u")I=(new TextEncoder).encode(_);else for(I=[],w=0;w<_.length;++w){var g=_.charCodeAt(w);g<128?I.push(g):g<2048?(I.push(192|g>>6),I.push(128|63&g)):g<65536?(I.push(224|g>>12),I.push(128|63&g>>6),I.push(128|63&g)):(I.push(240|g>>18),I.push(128|63&g>>12),I.push(128|63&g>>6),I.push(128|63&g))}return I},n.Utils.appendBox=function(_,I,w){if(I._offset=_._cursor.offset,I._root=_._root?_._root:_,I._raw=_._raw,I._parent=_,-1!==w){if(null==w)return void _.boxes.push(I);var o,g=-1;if("number"==typeof w)g=w;else{if("string"==typeof w)o=w;else{if("object"!=typeof w||!w.type)return void _.boxes.push(I);o=w.type}for(var d=0;d<_.boxes.length;d++)if(o===_.boxes[d].type){g=d+1;break}}_.boxes.splice(g,0,I)}},v.parseBuffer=n.parseBuffer,v.addBoxProcessor=n.addBoxProcessor,v.createFile=n.createFile,v.createBox=n.createBox,v.createFullBox=n.createFullBox,v.Utils=n.Utils,n.Cursor=function(_){this.offset=typeof _>"u"?0:_};var E=function(_){this._cursor=new n.Cursor,this.boxes=[],_&&(this._raw=new DataView(_))};E.prototype.fetch=function(_){var I=this.fetchAll(_,!0);return I.length?I[0]:null},E.prototype.fetchAll=function(_,I){var w=[];return E._sweep.call(this,_,w,I),w},E.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var _=A.parse(this);if(typeof _.type>"u")break;this.boxes.push(_)}return this},E._sweep=function(_,I,w){for(var g in this.type&&this.type==_&&I.push(this),this.boxes){if(I.length&&w)return;E._sweep.call(this.boxes[g],_,I,w)}},E.prototype.write=function(){var I,_=0;for(I=0;I<this.boxes.length;I++)_+=this.boxes[I].getLength(!1);var w=new Uint8Array(_);for(this._rawo=new DataView(w.buffer),this.bytes=w,this._cursor.offset=0,I=0;I<this.boxes.length;I++)this.boxes[I].write();return w.buffer},E.prototype.append=function(_,I){n.Utils.appendBox(this,_,I)};var A=function(){this._cursor=new n.Cursor};A.parse=function(_){var I=new A;return I._offset=_._cursor.offset,I._root=_._root?_._root:_,I._raw=_._raw,I._parent=_,I._parseBox(),_._cursor.offset=I._raw.byteOffset+I._raw.byteLength,I},A.create=function(_){var I=new A;return I.type=_,I.boxes=[],I},A.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],A.prototype._boxProcessors={},A.prototype._procField=function(_,I,w){this._parsing?this[_]=this._readField(I,w):this._writeField(I,w,this[_])},A.prototype._procFieldArray=function(_,I,w,g){var o;if(this._parsing)for(this[_]=[],o=0;o<I;o++)this[_][o]=this._readField(w,g);else for(o=0;o<this[_].length;o++)this._writeField(w,g,this[_][o])},A.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},A.prototype._procEntries=function(_,I,w){var g;if(this._parsing)for(this[_]=[],g=0;g<I;g++)this[_].push({}),w.call(this,this[_][g]);else for(g=0;g<I;g++)w.call(this,this[_][g])},A.prototype._procSubEntries=function(_,I,w,g){var o;if(this._parsing)for(_[I]=[],o=0;o<w;o++)_[I].push({}),g.call(this,_[I][o]);else for(o=0;o<w;o++)g.call(this,_[I][o])},A.prototype._procEntryField=function(_,I,w,g){this._parsing?_[I]=this._readField(w,g):this._writeField(w,g,_[I])},A.prototype._procSubBoxes=function(_,I){var w;if(this._parsing)for(this[_]=[],w=0;w<I;w++)this[_].push(A.parse(this));else for(w=0;w<I;w++)this._rawo?this[_][w].write():this.size+=this[_][w].getLength()},A.prototype._readField=function(_,I){switch(_){case"uint":return this._readUint(I);case"int":return this._readInt(I);case"template":return this._readTemplate(I);case"string":return-1===I?this._readTerminatedString():this._readString(I);case"data":return this._readData(I);case"utf8":return this._readUTF8String();default:return-1}},A.prototype._readInt=function(_){var I=null,w=this._cursor.offset-this._raw.byteOffset;switch(_){case 8:I=this._raw.getInt8(w);break;case 16:I=this._raw.getInt16(w);break;case 32:I=this._raw.getInt32(w);break;case 64:var g=this._raw.getInt32(w),o=this._raw.getInt32(w+4);I=g*Math.pow(2,32)+o}return this._cursor.offset+=_>>3,I},A.prototype._readUint=function(_){var g,o,I=null,w=this._cursor.offset-this._raw.byteOffset;switch(_){case 8:I=this._raw.getUint8(w);break;case 16:I=this._raw.getUint16(w);break;case 24:I=((g=this._raw.getUint16(w))<<8)+(o=this._raw.getUint8(w+2));break;case 32:I=this._raw.getUint32(w);break;case 64:g=this._raw.getUint32(w),o=this._raw.getUint32(w+4),I=g*Math.pow(2,32)+o}return this._cursor.offset+=_>>3,I},A.prototype._readString=function(_){for(var I="",w=0;w<_;w++){var g=this._readUint(8);I+=String.fromCharCode(g)}return I},A.prototype._readTemplate=function(_){return this._readUint(_/2)+this._readUint(_/2)/Math.pow(2,_/2)},A.prototype._readTerminatedString=function(){for(var _="";this._cursor.offset-this._offset<this._raw.byteLength;){var I=this._readUint(8);if(0===I)break;_+=String.fromCharCode(I)}return _},A.prototype._readData=function(_){var I=_>0?_:this._raw.byteLength-(this._cursor.offset-this._offset);if(I>0){var w=new Uint8Array(this._raw.buffer,this._cursor.offset,I);return this._cursor.offset+=I,w}return null},A.prototype._readUTF8String=function(){var _=this._raw.byteLength-(this._cursor.offset-this._offset),I=null;return _>0&&(I=new DataView(this._raw.buffer,this._cursor.offset,_),this._cursor.offset+=_),I&&n.Utils.dataViewToString(I)},A.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},A.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},A.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(A.parse(this))},A.prototype.append=function(_,I){n.Utils.appendBox(this,_,I)},A.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var _=0;_<this.boxes.length;_++)this.size+=this.boxes[_].getLength();return this._data&&this._writeData(this._data),this.size},A.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var _=0;_<this.boxes.length;_++)this.boxes[_].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},A.prototype._writeInt=function(_,I){if(this._rawo){var w=this._cursor.offset-this._rawo.byteOffset;switch(_){case 8:this._rawo.setInt8(w,I);break;case 16:this._rawo.setInt16(w,I);break;case 32:this._rawo.setInt32(w,I);break;case 64:var g=Math.floor(I/Math.pow(2,32)),o=I-g*Math.pow(2,32);this._rawo.setUint32(w,g),this._rawo.setUint32(w+4,o)}this._cursor.offset+=_>>3}else this.size+=_>>3},A.prototype._writeUint=function(_,I){if(this._rawo){var g,o,w=this._cursor.offset-this._rawo.byteOffset;switch(_){case 8:this._rawo.setUint8(w,I);break;case 16:this._rawo.setUint16(w,I);break;case 24:o=255&I,this._rawo.setUint16(w,g=(16776960&I)>>8),this._rawo.setUint8(w+2,o);break;case 32:this._rawo.setUint32(w,I);break;case 64:o=I-(g=Math.floor(I/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(w,g),this._rawo.setUint32(w+4,o)}this._cursor.offset+=_>>3}else this.size+=_>>3},A.prototype._writeString=function(_,I){for(var w=0;w<_;w++)this._writeUint(8,I.charCodeAt(w))},A.prototype._writeTerminatedString=function(_){if(0!==_.length){for(var I=0;I<_.length;I++)this._writeUint(8,_.charCodeAt(I));this._writeUint(8,0)}},A.prototype._writeTemplate=function(_,I){var w=Math.floor(I),g=(I-w)*Math.pow(2,_/2);this._writeUint(_/2,w),this._writeUint(_/2,g)},A.prototype._writeData=function(_){if(_)if(this._rawo){if(_ instanceof Array){for(var w=this._cursor.offset-this._rawo.byteOffset,I=0;I<_.length;I++)this._rawo.setInt8(w+I,_[I]);this._cursor.offset+=_.length}_ instanceof Uint8Array&&(this._root.bytes.set(_,this._cursor.offset),this._cursor.offset+=_.length)}else this.size+=_.length},A.prototype._writeUTF8String=function(_){var I=n.Utils.utf8ToByteArray(_);if(this._rawo)for(var w=new DataView(this._rawo.buffer,this._cursor.offset,I.length),g=0;g<I.length;g++)w.setUint8(g,I[g]);else this.size+=I.length},A.prototype._writeField=function(_,I,w){switch(_){case"uint":this._writeUint(I,w);break;case"int":this._writeInt(I,w);break;case"template":this._writeTemplate(I,w);break;case"string":-1==I?this._writeTerminatedString(w):this._writeString(I,w);break;case"data":this._writeData(w);break;case"utf8":this._writeUTF8String(w)}},A.prototype._boxProcessors.avc1=A.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},A.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(_){this._procEntryField(_,"segment_duration","uint",1===this.version?64:32),this._procEntryField(_,"media_time","int",1===this.version?64:32),this._procEntryField(_,"media_rate_integer","int",16),this._procEntryField(_,"media_rate_fraction","int",16)})},A.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},A.prototype._boxProcessors.free=A.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},A.prototype._boxProcessors.ftyp=A.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var _=-1;this._parsing&&(_=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",_,"string",4)},A.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},A.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},A.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},A.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},A.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},A.prototype._boxProcessors.mp4a=A.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},A.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},A.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},A.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},A.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},A.prototype._boxProcessors.sdtp=function(){this._procFullBox();var _=-1;this._parsing&&(_=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",_,"uint",8)},A.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(_){this._parsing||(_.reference=(1&_.reference_type)<<31,_.reference|=2147483647&_.referenced_size,_.sap=(1&_.starts_with_SAP)<<31,_.sap|=(3&_.SAP_type)<<28,_.sap|=268435455&_.SAP_delta_time),this._procEntryField(_,"reference","uint",32),this._procEntryField(_,"subsegment_duration","uint",32),this._procEntryField(_,"sap","uint",32),this._parsing&&(_.reference_type=_.reference>>31&1,_.referenced_size=2147483647&_.reference,_.starts_with_SAP=_.sap>>31&1,_.SAP_type=_.sap>>28&7,_.SAP_delta_time=268435455&_.sap)})},A.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},A.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(_){this._procEntryField(_,"ranges_count","uint",32),this._procSubEntries(_,"ranges",_.ranges_count,function(I){this._procEntryField(I,"level","uint",8),this._procEntryField(I,"range_size","uint",24)})})},A.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(_){this._procEntryField(_,"sample_delta","uint",32),this._procEntryField(_,"subsample_count","uint",16),this._procSubEntries(_,"subsamples",_.subsample_count,function(I){this._procEntryField(I,"subsample_size","uint",1===this.version?32:16),this._procEntryField(I,"subsample_priority","uint",8),this._procEntryField(I,"discardable","uint",8),this._procEntryField(I,"codec_specific_parameters","uint",32)})})},A.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},A.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},A.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(_){this._procEntryField(_,"time","uint",1===this.version?64:32),this._procEntryField(_,"moof_offset","uint",1===this.version?64:32),this._procEntryField(_,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(_,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(_,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},A.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},A.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(_){256&this.flags&&this._procEntryField(_,"sample_duration","uint",32),512&this.flags&&this._procEntryField(_,"sample_size","uint",32),1024&this.flags&&this._procEntryField(_,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(_,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},A.prototype._boxProcessors["url "]=A.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},A.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},A.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},A.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},A.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(et,v,e){function B(F){return Object.prototype.toString.call(F)}v.isArray=function n(F){return Array.isArray?Array.isArray(F):"[object Array]"===B(F)},v.isBoolean=function E(F){return"boolean"==typeof F},v.isNull=function A(F){return null===F},v.isNullOrUndefined=function _(F){return null==F},v.isNumber=function I(F){return"number"==typeof F},v.isString=function w(F){return"string"==typeof F},v.isSymbol=function g(F){return"symbol"==typeof F},v.isUndefined=function o(F){return void 0===F},v.isRegExp=function d(F){return"[object RegExp]"===B(F)},v.isObject=function u(F){return"object"==typeof F&&null!==F},v.isDate=function m(F){return"[object Date]"===B(F)},v.isError=function y(F){return"[object Error]"===B(F)||F instanceof Error},v.isFunction=function k(F){return"function"==typeof F},v.isPrimitive=function P(F){return null===F||"boolean"==typeof F||"number"==typeof F||"string"==typeof F||"symbol"==typeof F||typeof F>"u"},v.isBuffer=e(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=e(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(et,v,e){(function(n,E){var _;_=function(){"use strict";function _(ye){return"function"==typeof ye}var w=Array.isArray?Array.isArray:function(ye){return"[object Array]"===Object.prototype.toString.call(ye)},g=0,o=void 0,d=void 0,u=function(Ne,tt){G[g]=Ne,G[g+1]=tt,2===(g+=2)&&(d?d(Z):ae())};var k=typeof window<"u"?window:void 0,P=k||{},B=P.MutationObserver||P.WebKitMutationObserver,F=typeof self>"u"&&typeof n<"u"&&"[object process]"==={}.toString.call(n),R=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function M(){var ye=setTimeout;return function(){return ye(Z,1)}}var G=new Array(1e3);function Z(){for(var ye=0;ye<g;ye+=2)(0,G[ye])(G[ye+1]),G[ye]=void 0,G[ye+1]=void 0;g=0}var ae=void 0;function Ae(ye,Ne){var tt=this,qe=new this.constructor(Y);void 0===qe[le]&&pe(qe);var Xe=tt._state;if(Xe){var ut=arguments[Xe-1];u(function(){return be(Xe,qe,ut,tt._result)})}else lt(tt,qe,ye,Ne);return qe}function j(ye){if(ye&&"object"==typeof ye&&ye.constructor===this)return ye;var tt=new this(Y);return we(tt,ye),tt}ae=F?function D(){return function(){return n.nextTick(Z)}}():B?function C(){var ye=0,Ne=new B(Z),tt=document.createTextNode("");return Ne.observe(tt,{characterData:!0}),function(){tt.data=ye=++ye%2}}():R?function O(){var ye=new MessageChannel;return ye.port1.onmessage=Z,function(){return ye.port2.postMessage(0)}}():void 0===k?function ee(){try{var ye=Function("return this")().require("vertx");return o=ye.runOnLoop||ye.runOnContext,function T(){return typeof o<"u"?function(){o(Z)}:M()}()}catch{return M()}}():M();var le=Math.random().toString(36).substring(2);function Y(){}var ve=void 0,de=1,Se=2;function fe(ye,Ne,tt){Ne.constructor===ye.constructor&&tt===Ae&&Ne.constructor.resolve===j?function Le(ye,Ne){Ne._state===de?De(ye,Ne._result):Ne._state===Se?Ue(ye,Ne._result):lt(Ne,void 0,function(tt){return we(ye,tt)},function(tt){return Ue(ye,tt)})}(ye,Ne):void 0===tt?De(ye,Ne):_(tt)?function Ce(ye,Ne,tt){u(function(qe){var Xe=!1,ut=function ge(ye,Ne,tt,qe){try{ye.call(Ne,tt,qe)}catch(Xe){return Xe}}(tt,Ne,function(ze){Xe||(Xe=!0,Ne!==ze?we(qe,ze):De(qe,ze))},function(ze){Xe||(Xe=!0,Ue(qe,ze))});!Xe&&ut&&(Xe=!0,Ue(qe,ut))},ye)}(ye,Ne,tt):De(ye,Ne)}function we(ye,Ne){if(ye===Ne)Ue(ye,function xe(){return new TypeError("You cannot resolve a promise with itself")}());else if(function A(ye){var Ne=typeof ye;return null!==ye&&("object"===Ne||"function"===Ne)}(Ne)){var tt=void 0;try{tt=Ne.then}catch(qe){return void Ue(ye,qe)}fe(ye,Ne,tt)}else De(ye,Ne)}function Te(ye){ye._onerror&&ye._onerror(ye._result),He(ye)}function De(ye,Ne){ye._state===ve&&(ye._result=Ne,ye._state=de,0!==ye._subscribers.length&&u(He,ye))}function Ue(ye,Ne){ye._state===ve&&(ye._state=Se,ye._result=Ne,u(Te,ye))}function lt(ye,Ne,tt,qe){var Xe=ye._subscribers,ut=Xe.length;ye._onerror=null,Xe[ut]=Ne,Xe[ut+de]=tt,Xe[ut+Se]=qe,0===ut&&ye._state&&u(He,ye)}function He(ye){var Ne=ye._subscribers,tt=ye._state;if(0!==Ne.length){for(var qe=void 0,Xe=void 0,ut=ye._result,ze=0;ze<Ne.length;ze+=3)Xe=Ne[ze+tt],(qe=Ne[ze])?be(tt,qe,Xe,ut):Xe(ut);ye._subscribers.length=0}}function be(ye,Ne,tt,qe){var Xe=_(tt),ut=void 0,ze=void 0,ht=!0;if(Xe){try{ut=tt(qe)}catch(vt){ht=!1,ze=vt}if(Ne===ut)return void Ue(Ne,function Ge(){return new TypeError("A promises callback cannot return that same promise.")}())}else ut=qe;Ne._state!==ve||(Xe&&ht?we(Ne,ut):!1===ht?Ue(Ne,ze):ye===de?De(Ne,ut):ye===Se&&Ue(Ne,ut))}var K=0;function pe(ye){ye[le]=K++,ye._state=void 0,ye._result=void 0,ye._subscribers=[]}var Q=function(){function ye(Ne,tt){this._instanceConstructor=Ne,this.promise=new Ne(Y),this.promise[le]||pe(this.promise),w(tt)?(this.length=tt.length,this._remaining=tt.length,this._result=new Array(this.length),0===this.length?De(this.promise,this._result):(this.length=this.length||0,this._enumerate(tt),0===this._remaining&&De(this.promise,this._result))):Ue(this.promise,function re(){return new Error("Array Methods must be provided an Array")}())}return ye.prototype._enumerate=function(tt){for(var qe=0;this._state===ve&&qe<tt.length;qe++)this._eachEntry(tt[qe],qe)},ye.prototype._eachEntry=function(tt,qe){var Xe=this._instanceConstructor,ut=Xe.resolve;if(ut===j){var ze=void 0,ht=void 0,vt=!1;try{ze=tt.then}catch(Ve){vt=!0,ht=Ve}if(ze===Ae&&tt._state!==ve)this._settledAt(tt._state,qe,tt._result);else if("function"!=typeof ze)this._remaining--,this._result[qe]=tt;else if(Xe===me){var ce=new Xe(Y);vt?Ue(ce,ht):fe(ce,tt,ze),this._willSettleAt(ce,qe)}else this._willSettleAt(new Xe(function(Ve){return Ve(tt)}),qe)}else this._willSettleAt(ut(tt),qe)},ye.prototype._settledAt=function(tt,qe,Xe){var ut=this.promise;ut._state===ve&&(this._remaining--,tt===Se?Ue(ut,Xe):this._result[qe]=Xe),0===this._remaining&&De(ut,this._result)},ye.prototype._willSettleAt=function(tt,qe){var Xe=this;lt(tt,void 0,function(ut){return Xe._settledAt(de,qe,ut)},function(ut){return Xe._settledAt(Se,qe,ut)})},ye}();var me=function(){function ye(Ne){this[le]=function oe(){return K++}(),this._result=this._state=void 0,this._subscribers=[],Y!==Ne&&("function"!=typeof Ne&&function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ye?function _e(ye,Ne){try{Ne(function(qe){we(ye,qe)},function(qe){Ue(ye,qe)})}catch(tt){Ue(ye,tt)}}(this,Ne):function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ye.prototype.catch=function(tt){return this.then(null,tt)},ye.prototype.finally=function(tt){var Xe=this.constructor;return _(tt)?this.then(function(ut){return Xe.resolve(tt()).then(function(){return ut})},function(ut){return Xe.resolve(tt()).then(function(){throw ut})}):this.then(tt,tt)},ye}();return me.prototype.then=Ae,me.all=function X(ye){return new Q(this,ye).promise},me.race=function $(ye){var Ne=this;return w(ye)?new Ne(function(tt,qe){for(var Xe=ye.length,ut=0;ut<Xe;ut++)Ne.resolve(ye[ut]).then(tt,qe)}):new Ne(function(tt,qe){return qe(new TypeError("You must pass an array to race."))})},me.resolve=j,me.reject=function ne(ye){var tt=new this(Y);return Ue(tt,ye),tt},me._setScheduler=function m(ye){d=ye},me._setAsap=function y(ye){u=ye},me._asap=u,me.polyfill=function Ee(){var ye=void 0;if(typeof E<"u")ye=E;else if(typeof self<"u")ye=self;else try{ye=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ne=ye.Promise;if(Ne){var tt=null;try{tt=Object.prototype.toString.call(Ne.resolve())}catch{}if("[object Promise]"===tt&&!Ne.cast)return}ye.Promise=me},me.Promise=me,me},et.exports=_()}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(et,v,e){"use strict";var A,n="object"==typeof Reflect?Reflect:null,E=n&&"function"==typeof n.apply?n.apply:function(M,G,Z){return Function.prototype.apply.call(M,G,Z)};A=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:function(M){return Object.getOwnPropertyNames(M)};var I=Number.isNaN||function(M){return M!=M};function w(){w.init.call(this)}et.exports=w,et.exports.once=function D(O,M){return new Promise(function(G,Z){function ee(Ae){O.removeListener(M,ae),Z(Ae)}function ae(){"function"==typeof O.removeListener&&O.removeListener("error",ee),G([].slice.call(arguments))}C(O,M,ae,{once:!0}),"error"!==M&&function T(O,M,G){"function"==typeof O.on&&C(O,"error",M,G)}(O,ee,{once:!0})})},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var g=10;function o(O){if("function"!=typeof O)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}function d(O){return void 0===O._maxListeners?w.defaultMaxListeners:O._maxListeners}function u(O,M,G,Z){var ee,ae,Ae;if(o(G),void 0===(ae=O._events)?(ae=O._events=Object.create(null),O._eventsCount=0):(void 0!==ae.newListener&&(O.emit("newListener",M,G.listener?G.listener:G),ae=O._events),Ae=ae[M]),void 0===Ae)Ae=ae[M]=G,++O._eventsCount;else if("function"==typeof Ae?Ae=ae[M]=Z?[G,Ae]:[Ae,G]:Z?Ae.unshift(G):Ae.push(G),(ee=d(O))>0&&Ae.length>ee&&!Ae.warned){Ae.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+Ae.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=O,j.type=M,j.count=Ae.length,function _(O){console&&console.warn&&console.warn(O)}(j)}return O}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(O,M,G){var Z={fired:!1,wrapFn:void 0,target:O,type:M,listener:G},ee=m.bind(Z);return ee.listener=G,Z.wrapFn=ee,ee}function k(O,M,G){var Z=O._events;if(void 0===Z)return[];var ee=Z[M];return void 0===ee?[]:"function"==typeof ee?G?[ee.listener||ee]:[ee]:G?function R(O){for(var M=new Array(O.length),G=0;G<M.length;++G)M[G]=O[G].listener||O[G];return M}(ee):B(ee,ee.length)}function P(O){var M=this._events;if(void 0!==M){var G=M[O];if("function"==typeof G)return 1;if(void 0!==G)return G.length}return 0}function B(O,M){for(var G=new Array(M),Z=0;Z<M;++Z)G[Z]=O[Z];return G}function C(O,M,G,Z){if("function"==typeof O.on)Z.once?O.once(M,G):O.on(M,G);else{if("function"!=typeof O.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O);O.addEventListener(M,function ee(ae){Z.once&&O.removeEventListener(M,ee),G(ae)})}}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(O){if("number"!=typeof O||O<0||I(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");g=O}}),w.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(M){if("number"!=typeof M||M<0||I(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this},w.prototype.getMaxListeners=function(){return d(this)},w.prototype.emit=function(M){for(var G=[],Z=1;Z<arguments.length;Z++)G.push(arguments[Z]);var ee="error"===M,ae=this._events;if(void 0!==ae)ee=ee&&void 0===ae.error;else if(!ee)return!1;if(ee){var Ae;if(G.length>0&&(Ae=G[0]),Ae instanceof Error)throw Ae;var j=new Error("Unhandled error."+(Ae?" ("+Ae.message+")":""));throw j.context=Ae,j}var le=ae[M];if(void 0===le)return!1;if("function"==typeof le)E(le,this,G);else{var Y=le.length,ve=B(le,Y);for(Z=0;Z<Y;++Z)E(ve[Z],this,G)}return!0},w.prototype.on=w.prototype.addListener=function(M,G){return u(this,M,G,!1)},w.prototype.prependListener=function(M,G){return u(this,M,G,!0)},w.prototype.once=function(M,G){return o(G),this.on(M,y(this,M,G)),this},w.prototype.prependOnceListener=function(M,G){return o(G),this.prependListener(M,y(this,M,G)),this},w.prototype.off=w.prototype.removeListener=function(M,G){var Z,ee,ae,Ae,j;if(o(G),void 0===(ee=this._events))return this;if(void 0===(Z=ee[M]))return this;if(Z===G||Z.listener===G)0==--this._eventsCount?this._events=Object.create(null):(delete ee[M],ee.removeListener&&this.emit("removeListener",M,Z.listener||G));else if("function"!=typeof Z){for(ae=-1,Ae=Z.length-1;Ae>=0;Ae--)if(Z[Ae]===G||Z[Ae].listener===G){j=Z[Ae].listener,ae=Ae;break}if(ae<0)return this;0===ae?Z.shift():function F(O,M){for(;M+1<O.length;M++)O[M]=O[M+1];O.pop()}(Z,ae),1===Z.length&&(ee[M]=Z[0]),void 0!==ee.removeListener&&this.emit("removeListener",M,j||G)}return this},w.prototype.removeAllListeners=function(M){var G,Z,ee;if(void 0===(Z=this._events))return this;if(void 0===Z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Z[M]&&(0==--this._eventsCount?this._events=Object.create(null):delete Z[M]),this;if(0===arguments.length){var Ae,ae=Object.keys(Z);for(ee=0;ee<ae.length;++ee)"removeListener"!==(Ae=ae[ee])&&this.removeAllListeners(Ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(G=Z[M]))this.removeListener(M,G);else if(void 0!==G)for(ee=G.length-1;ee>=0;ee--)this.removeListener(M,G[ee]);return this},w.prototype.listeners=function(M){return k(this,M,!0)},w.prototype.rawListeners=function(M){return k(this,M,!1)},w.listenerCount=function(O,M){return"function"==typeof O.listenerCount?O.listenerCount(M):P.call(O,M)},w.prototype.listenerCount=P,w.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=Array.isArray,E=Object.keys,A=Object.prototype.hasOwnProperty;et.exports=function _(I,w){if(I===w)return!0;if(I&&w&&"object"==typeof I&&"object"==typeof w){var d,u,m,g=n(I),o=n(w);if(g&&o){if((u=I.length)!=w.length)return!1;for(d=u;0!=d--;)if(!_(I[d],w[d]))return!1;return!0}if(g!=o)return!1;var y=I instanceof Date,k=w instanceof Date;if(y!=k)return!1;if(y&&k)return I.getTime()==w.getTime();var P=I instanceof RegExp,B=w instanceof RegExp;if(P!=B)return!1;if(P&&B)return I.toString()==w.toString();var F=E(I);if((u=F.length)!==E(w).length)return!1;for(d=u;0!=d--;)if(!A.call(w,F[d]))return!1;for(d=u;0!=d--;)if(!_(I[m=F[d]],w[m]))return!1;return!0}return I!=I&&w!=w}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,v){v.read=function(e,n,E,A,_){var I,w,g=8*_-A-1,o=(1<<g)-1,d=o>>1,u=-7,m=E?_-1:0,y=E?-1:1,k=e[n+m];for(m+=y,I=k&(1<<-u)-1,k>>=-u,u+=g;u>0;I=256*I+e[n+m],m+=y,u-=8);for(w=I&(1<<-u)-1,I>>=-u,u+=A;u>0;w=256*w+e[n+m],m+=y,u-=8);if(0===I)I=1-d;else{if(I===o)return w?NaN:1/0*(k?-1:1);w+=Math.pow(2,A),I-=d}return(k?-1:1)*w*Math.pow(2,I-A)},v.write=function(e,n,E,A,_,I){var w,g,o,d=8*I-_-1,u=(1<<d)-1,m=u>>1,y=23===_?Math.pow(2,-24)-Math.pow(2,-77):0,k=A?0:I-1,P=A?1:-1,B=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(g=isNaN(n)?1:0,w=u):(w=Math.floor(Math.log(n)/Math.LN2),n*(o=Math.pow(2,-w))<1&&(w--,o*=2),(n+=w+m>=1?y/o:y*Math.pow(2,1-m))*o>=2&&(w++,o/=2),w+m>=u?(g=0,w=u):w+m>=1?(g=(n*o-1)*Math.pow(2,_),w+=m):(g=n*Math.pow(2,m-1)*Math.pow(2,_),w=0));_>=8;e[E+k]=255&g,k+=P,g/=256,_-=8);for(w=w<<_|g,d+=_;d>0;e[E+k]=255&w,k+=P,w/=256,d-=8);e[E+k-P]|=128*B}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(et,v,e){!function(n,E,A,_,I){function w(re){if("contents"in re)for(var Q=("styleAttrs"in re?re.styleAttrs[_.byName.ruby.qname]:null),X="span"===re.kind&&("container"===Q||"textContainer"===Q||"baseContainer"===Q),$=re.contents.length-1;$>=0;$--)!X||"styleAttrs"in re.contents[$]&&_.byName.ruby.qname in re.contents[$].styleAttrs?w(re.contents[$]):delete re.contents[$]}function g(re,Q,X,$){var ne=$&&"seq"===$.timeContainer,J=0;$&&(J=ne&&X?X.end:$.begin),Q.begin=Q.explicit_begin?Q.explicit_begin+J:J;var q=Q.begin,me=null;if("sets"in Q)for(var Ee=0;Ee<Q.sets.length;Ee++)g(re,Q.sets[Ee],me,Q),q="seq"===Q.timeContainer?Q.sets[Ee].end:Math.max(q,Q.sets[Ee].end),me=Q.sets[Ee];if("contents"in Q){if("contents"in Q)for(var ye=0;ye<Q.contents.length;ye++)g(re,Q.contents[ye],me,Q),q="seq"===Q.timeContainer?Q.contents[ye].end:Math.max(q,Q.contents[ye].end),me=Q.contents[ye]}else q=ne?Q.begin:Number.POSITIVE_INFINITY;Q.end=null!==Q.explicit_end&&null!==Q.explicit_dur?Math.min(Q.begin+Q.explicit_dur,J+Q.explicit_end):null===Q.explicit_end&&null!==Q.explicit_dur?Q.begin+Q.explicit_dur:null!==Q.explicit_end&&null===Q.explicit_dur?J+Q.explicit_end:q,delete Q.explicit_begin,delete Q.explicit_dur,delete Q.explicit_end,re._registerEvent(Q)}function o(re){this.node=re}function d(){this.events=[],this.head=new u,this.body=null}function u(){this.styling=new m,this.layout=new P}function m(){this.styles={},this.initials={}}function y(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function k(){this.styleAttrs=null}function P(){this.regions={}}function B(re,Q){F.call(this,"image"),this.src=re,this.type=Q}function F(re){this.kind=re}function R(re){this.id=re}function D(re){this.regionID=re}function T(re){this.styleAttrs=re}function C(re){this.sets=re}function O(re){this.contents=re}function M(re,Q,X){this.explicit_begin=re,this.explicit_end=Q,this.explicit_dur=X}function G(){F.call(this,"body")}function Z(){F.call(this,"div")}function ee(){F.call(this,"p")}function ae(){F.call(this,"span")}function Ae(){F.call(this,"span")}function j(){F.call(this,"br")}function le(){}function Y(){}function ve(re){return re&&"xml:id"in re.attributes&&re.attributes["xml:id"].value||null}function xe(re){return re&&"style"in re.attributes?re.attributes.style.value.split(" "):[]}function Ge(re,Q){var X={};if(null!==re)for(var $ in re.attributes){var ne=re.attributes[$].uri+" "+re.attributes[$].local,J=_.byQName[ne];if(void 0!==J){var q=J.parse(re.attributes[$].value);null!==q?(X[ne]=q,J===_.byName.zIndex&&_e(Q,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(Q,"Cannot parse styling attribute "+ne+" --\x3e "+re.attributes[$].value)}}return X}function ge(re,Q,X){for(var $ in re.attributes)if(re.attributes[$].uri===Q&&re.attributes[$].local===X)return re.attributes[$].value;return null}function Te(re,Q,X){var tt,qe=null;return null!==(tt=/^(\d+(?:\.\d+)?)f$/.exec(X))?null!==Q&&(qe=parseFloat(tt[1])/Q):null!==(tt=/^(\d+(?:\.\d+)?)t$/.exec(X))?null!==re&&(qe=parseFloat(tt[1])/re):null!==(tt=/^(\d+(?:\.\d+)?)ms$/.exec(X))?qe=parseFloat(tt[1])/1e3:null!==(tt=/^(\d+(?:\.\d+)?)s$/.exec(X))?qe=parseFloat(tt[1]):null!==(tt=/^(\d+(?:\.\d+)?)h$/.exec(X))?qe=3600*parseFloat(tt[1]):null!==(tt=/^(\d+(?:\.\d+)?)m$/.exec(X))?qe=60*parseFloat(tt[1]):null!==(tt=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(X))?qe=3600*parseInt(tt[1])+60*parseInt(tt[2])+parseFloat(tt[3]):null!==(tt=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(X))&&null!==Q&&(qe=3600*parseInt(tt[1])+60*parseInt(tt[2])+parseInt(tt[3])+(null===tt[4]?0:parseInt(tt[4])/Q)),qe}function Ue(re,Q,X){for(;Q.styleRefs.length>0;){var $=Q.styleRefs.pop();$ in re.styles?(Ue(re,re.styles[$],X),He(re.styles[$].styleAttrs,Q.styleAttrs)):K(X,"Non-existant style id referenced")}}function lt(re,Q,X,$){for(var ne=Q.length-1;ne>=0;ne--){var J=Q[ne];J in re.styles?He(re.styles[J].styleAttrs,X):K($,"Non-existant style id referenced")}}function He(re,Q){for(var X in re)re.hasOwnProperty(X)&&(X in Q||(Q[X]=re[X]))}function _e(re,Q){if(re&&re.warn&&re.warn(Q))throw Q}function K(re,Q){if(re&&re.error&&re.error(Q))throw Q}function oe(re,Q){throw re&&re.fatal&&re.fatal(Q),Q}function pe(re,Q){for(var ne,X=0,$=re.length-1;X<=$;){var J=re[ne=Math.floor((X+$)/2)];if(J<Q)X=ne+1;else{if(!(J>Q))return{found:!0,index:ne};$=ne-1}}return{found:!1,index:X}}n.fromXML=function(re,Q,X){var $=E.parser(!0,{xmlns:!0}),ne=[],J=[],q=[],me=0,Ee=null;$.onclosetag=function(Xe){if(ne[0]instanceof le)null!==Ee.head&&null!==Ee.head.styling&&lt(Ee.head.styling,ne[0].styleRefs,ne[0].styleAttrs,Q),delete ne[0].styleRefs;else if(ne[0]instanceof m)for(var ut in ne[0].styles)ne[0].styles.hasOwnProperty(ut)&&Ue(ne[0],ne[0].styles[ut],Q);else if(ne[0]instanceof ee||ne[0]instanceof ae){if(ne[0].contents.length>1){var ht,ze=[ne[0].contents[0]];for(ht=1;ht<ne[0].contents.length;ht++)ne[0].contents[ht]instanceof Ae&&ze[ze.length-1]instanceof Ae?ze[ze.length-1].text+=ne[0].contents[ht].text:ze.push(ne[0].contents[ht]);ne[0].contents=ze}ne[0]instanceof ae&&1===ne[0].contents.length&&ne[0].contents[0]instanceof Ae&&(ne[0].text=ne[0].contents[0].text,delete ne[0].contents)}else ne[0]instanceof o&&(ne[0].node.uri===A.ns_tt&&"metadata"===ne[0].node.local?me--:me>0&&X&&"onCloseTag"in X&&X.onCloseTag());q.shift(),J.shift(),ne.shift()},$.ontext=function(Xe){if(void 0!==ne[0])if(ne[0]instanceof ae||ne[0]instanceof ee){if(ne[0]instanceof ae){var ut=ne[0].styleAttrs[_.byName.ruby.qname];if("container"===ut||"textContainer"===ut||"baseContainer"===ut)return}var ze=new Ae;ze.initFromText(Ee,ne[0],Xe,J[0],q[0],Q),ne[0].contents.push(ze)}else ne[0]instanceof o&&me>0&&X&&"onText"in X&&X.onText(Xe)},$.onopentag=function(Xe){var ut=Xe.attributes["xml:space"];q.unshift(ut?ut.value:0===q.length?"default":q[0]);var ze=Xe.attributes["xml:lang"];if(J.unshift(ze?ze.value:0===J.length?"":J[0]),Xe.uri===A.ns_tt)if("tt"===Xe.local)null!==Ee&&oe(Q,"Two <tt> elements at ("+this.line+","+this.column+")"),(Ee=new d).initFromNode(Xe,J[0],Q),ne.unshift(Ee);else if("head"===Xe.local)ne[0]instanceof d||oe(Q,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ne.unshift(Ee.head);else if("styling"===Xe.local)ne[0]instanceof u||oe(Q,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ne.unshift(Ee.head.styling);else if("style"===Xe.local){var ht;ne[0]instanceof m?((ht=new y).initFromNode(Xe,Q),ht.id?Ee.head.styling.styles[ht.id]=ht:K(Q,"<style> element missing @id attribute"),ne.unshift(ht)):ne[0]instanceof le?((ht=new y).initFromNode(Xe,Q),He(ht.styleAttrs,ne[0].styleAttrs),ne.unshift(ht)):oe(Q,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Xe.local){var vt;if(ne[0]instanceof m){for(var ce in(vt=new k).initFromNode(Xe,Q),vt.styleAttrs)vt.styleAttrs.hasOwnProperty(ce)&&(Ee.head.styling.initials[ce]=vt.styleAttrs[ce]);ne.unshift(vt)}else oe(Q,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Xe.local)ne[0]instanceof u||oe(Q,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ne.unshift(Ee.head.layout);else if("region"===Xe.local){ne[0]instanceof P||oe(Q,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ve=new le;Ve.initFromNode(Ee,Xe,J[0],Q),!Ve.id||Ve.id in Ee.head.layout.regions?K(Q,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Ee.head.layout.regions[Ve.id]=Ve,ne.unshift(Ve)}else if("body"===Xe.local){ne[0]instanceof d||oe(Q,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Ee.body&&oe(Q,"Second <body> element at "+this.line+","+this.column+")");var yt=new G;yt.initFromNode(Ee,Xe,J[0],Q),Ee.body=yt,ne.unshift(yt)}else if("div"===Xe.local){ne[0]instanceof Z||ne[0]instanceof G||oe(Q,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Bt=new Z;Bt.initFromNode(Ee,ne[0],Xe,J[0],Q);var zt=Bt.styleAttrs[_.byName.backgroundImage.qname];zt&&(Bt.contents.push(new B(zt)),delete Bt.styleAttrs[_.byName.backgroundImage.qname]),ne[0].contents.push(Bt),ne.unshift(Bt)}else if("image"===Xe.local){ne[0]instanceof Z||oe(Q,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Yt=new B;Yt.initFromNode(Ee,ne[0],Xe,J[0],Q),ne[0].contents.push(Yt),ne.unshift(Yt)}else if("p"===Xe.local){ne[0]instanceof Z||oe(Q,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var cn=new ee;cn.initFromNode(Ee,ne[0],Xe,J[0],Q),ne[0].contents.push(cn),ne.unshift(cn)}else if("span"===Xe.local){ne[0]instanceof ae||ne[0]instanceof ee||oe(Q,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var nn=new ae;nn.initFromNode(Ee,ne[0],Xe,J[0],q[0],Q),ne[0].contents.push(nn),ne.unshift(nn)}else if("br"===Xe.local){ne[0]instanceof ae||ne[0]instanceof ee||oe(Q,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Mt=new j;Mt.initFromNode(Ee,ne[0],Xe,J[0],Q),ne[0].contents.push(Mt),ne.unshift(Mt)}else if("set"===Xe.local){ne[0]instanceof ae||ne[0]instanceof ee||ne[0]instanceof Z||ne[0]instanceof G||ne[0]instanceof le||ne[0]instanceof j||oe(Q,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var gt=new Y;gt.initFromNode(Ee,ne[0],Xe,Q),ne[0].sets.push(gt),ne.unshift(gt)}else ne.unshift(new o(Xe));else ne.unshift(new o(Xe));if(ne[0]instanceof o)if(Xe.uri===A.ns_tt&&"metadata"===Xe.local)me++;else if(me>0&&X&&"onOpenTag"in X){var Qe=[];for(var Fe in Xe.attributes)Qe[Xe.attributes[Fe].uri+" "+Xe.attributes[Fe].local]={uri:Xe.attributes[Fe].uri,local:Xe.attributes[Fe].local,value:Xe.attributes[Fe].value};X.onOpenTag(Xe.uri,Xe.local,Qe)}},$.write(re).close(),delete Ee.head.styling.styles;var ye=!1;for(var Ne in Ee.head.layout.regions)if(Ee.head.layout.regions.hasOwnProperty(Ne)){ye=!0;break}if(!ye){var tt=le.prototype.createDefaultRegion(Ee.lang);Ee.head.layout.regions[tt.id]=tt}for(var qe in Ee.head.layout.regions)Ee.head.layout.regions.hasOwnProperty(qe)&&g(Ee,Ee.head.layout.regions[qe],null,null);return Ee.body&&g(Ee,Ee.body,null,null),Ee.body&&w(Ee.body),Ee},d.prototype.initFromNode=function(re,Q,X){var $=function Le(re,Q){var X=ge(re,A.ns_ttp,"cellResolution"),$=15,ne=32;if(null!==X){var q=/(\d+) (\d+)/.exec(X);null!==q?(ne=parseInt(q[1]),$=parseInt(q[2])):_e(Q,"Malformed cellResolution value (using initial value instead)")}return{w:ne,h:$}}(re,X);this.cellLength={h:new I.ComputedLength(0,1/$.h),w:new I.ComputedLength(1/$.w,0)};var ne=function fe(re,Q){var ne,X=ge(re,A.ns_ttp,"frameRate"),$=30;null!==X&&(null!==(ne=/(\d+)/.exec(X))?$=parseInt(ne[1]):_e(Q,"Malformed frame rate attribute (using initial value instead)"));var q=ge(re,A.ns_ttp,"frameRateMultiplier"),me=1;null!==q&&(null!==(ne=/(\d+) (\d+)/.exec(q))?me=parseInt(ne[1])/parseInt(ne[2]):_e(Q,"Malformed frame rate multiplier attribute (using initial value instead)"));var ye=me*$,Ne=1,tt=ge(re,A.ns_ttp,"tickRate");return null===tt?null!==X&&(Ne=ye):null!==(ne=/(\d+)/.exec(tt))?Ne=parseInt(ne[1]):_e(Q,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ye,tickRate:Ne}}(re,X);this.effectiveFrameRate=ne.effectiveFrameRate,this.tickRate=ne.tickRate,this.aspectRatio=function Ce(re,Q){var X=ge(re,A.ns_ittp,"aspectRatio");null===X&&(X=ge(re,A.ns_ttp,"displayAspectRatio"));var $=null;if(null!==X){var J=/(\d+)\s+(\d+)/.exec(X);if(null!==J){var q=parseInt(J[1]),me=parseInt(J[2]);0!==q&&0!==me?$=q/me:K(Q,"Illegal aspectRatio values (ignoring)")}else K(Q,"Malformed aspectRatio attribute (ignoring)")}return $}(re,X);var J=ge(re,A.ns_ttp,"timeBase");null!==J&&"media"!==J&&oe(X,"Unsupported time base");var q=function we(re,Q){var X=ge(re,A.ns_tts,"extent");if(null===X)return null;var $=X.split(" ");if(2!==$.length)return _e(Q,"Malformed extent (ignoring)"),null;var ne=I.parseLength($[0]),J=I.parseLength($[1]);return J&&ne?{h:J,w:ne}:(_e(Q,"Malformed extent values (ignoring)"),null)}(re,X);null===q?this.pxLength={h:null,w:null}:(("px"!==q.h.unit||"px"!==q.w.unit)&&oe(X,"Extent on TT must be in px or absent"),this.pxLength={h:new I.ComputedLength(0,1/q.h.value),w:new I.ComputedLength(1/q.w.value,0)}),this.dimensions={h:new I.ComputedLength(0,1),w:new I.ComputedLength(1,0)},this.lang=Q},d.prototype._registerEvent=function(re){if(!(re.end<=re.begin)){var Q=pe(this.events,re.begin);if(Q.found||this.events.splice(Q.index,0,re.begin),re.end!==Number.POSITIVE_INFINITY){var X=pe(this.events,re.end);X.found||this.events.splice(X.index,0,re.end)}}},d.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},d.prototype.getMediaTimeEvents=function(){return this.events},y.prototype.initFromNode=function(re,Q){this.id=ve(re),this.styleAttrs=Ge(re,Q),this.styleRefs=xe(re)},k.prototype.initFromNode=function(re,Q){for(var X in this.styleAttrs={},re.attributes)re.attributes[X].uri!==A.ns_itts&&re.attributes[X].uri!==A.ns_ebutts&&re.attributes[X].uri!==A.ns_tts||(this.styleAttrs[re.attributes[X].uri+" "+re.attributes[X].local]=re.attributes[X].value)},B.prototype.initFromNode=function(re,Q,X,$,ne){this.src="src"in X.attributes?X.attributes.src.value:null,this.src||K(ne,"Invalid image@src attribute"),this.type="type"in X.attributes?X.attributes.type.value:null,this.type||K(ne,"Invalid image@type attribute"),T.prototype.initFromNode.call(this,re,Q,X,ne),M.prototype.initFromNode.call(this,re,Q,X,ne),C.prototype.initFromNode.call(this,re,Q,X,ne),D.prototype.initFromNode.call(this,re,Q,X,ne),this.lang=$},R.prototype.initFromNode=function(re,Q,X,$){this.id=ve(X)},D.prototype.initFromNode=function(re,Q,X,$){this.regionID=function de(re){return re&&"region"in re.attributes?re.attributes.region.value:""}(X)},T.prototype.initFromNode=function(re,Q,X,$){this.styleAttrs=Ge(X,$),null!==re.head&&null!==re.head.styling&&lt(re.head.styling,xe(X),this.styleAttrs,$)},C.prototype.initFromNode=function(re,Q,X,$){this.sets=[]},O.prototype.initFromNode=function(re,Q,X,$){this.contents=[]},M.prototype.initFromNode=function(re,Q,X,$){var ne=function De(re,Q,X,$){var ne=null;X&&"begin"in X.attributes&&null===(ne=Te(re.tickRate,re.effectiveFrameRate,X.attributes.begin.value))&&_e($,"Malformed begin value "+X.attributes.begin.value+" (using 0)");var J=null;X&&"dur"in X.attributes&&null===(J=Te(re.tickRate,re.effectiveFrameRate,X.attributes.dur.value))&&_e($,"Malformed dur value "+X.attributes.dur.value+" (ignoring)");var q=null;return X&&"end"in X.attributes&&null===(q=Te(re.tickRate,re.effectiveFrameRate,X.attributes.end.value))&&_e($,"Malformed end value (ignoring)"),{explicit_begin:ne,explicit_end:q,explicit_dur:J}}(re,0,X,$);this.explicit_begin=ne.explicit_begin,this.explicit_end=ne.explicit_end,this.explicit_dur=ne.explicit_dur,this.timeContainer=function Se(re,Q){var X=re&&"timeContainer"in re.attributes?re.attributes.timeContainer.value:null;return X&&"par"!==X?"seq"===X?"seq":(K(Q,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(X,$)},G.prototype.initFromNode=function(re,Q,X,$){T.prototype.initFromNode.call(this,re,null,Q,$),M.prototype.initFromNode.call(this,re,null,Q,$),C.prototype.initFromNode.call(this,re,null,Q,$),D.prototype.initFromNode.call(this,re,null,Q,$),O.prototype.initFromNode.call(this,re,null,Q,$),this.lang=X},Z.prototype.initFromNode=function(re,Q,X,$,ne){T.prototype.initFromNode.call(this,re,Q,X,ne),M.prototype.initFromNode.call(this,re,Q,X,ne),C.prototype.initFromNode.call(this,re,Q,X,ne),D.prototype.initFromNode.call(this,re,Q,X,ne),O.prototype.initFromNode.call(this,re,Q,X,ne),this.lang=$},ee.prototype.initFromNode=function(re,Q,X,$,ne){T.prototype.initFromNode.call(this,re,Q,X,ne),M.prototype.initFromNode.call(this,re,Q,X,ne),C.prototype.initFromNode.call(this,re,Q,X,ne),D.prototype.initFromNode.call(this,re,Q,X,ne),O.prototype.initFromNode.call(this,re,Q,X,ne),this.lang=$},ae.prototype.initFromNode=function(re,Q,X,$,ne,J){T.prototype.initFromNode.call(this,re,Q,X,J),M.prototype.initFromNode.call(this,re,Q,X,J),C.prototype.initFromNode.call(this,re,Q,X,J),D.prototype.initFromNode.call(this,re,Q,X,J),O.prototype.initFromNode.call(this,re,Q,X,J),this.space=ne,this.lang=$},Ae.prototype.initFromText=function(re,Q,X,$,ne,J){M.prototype.initFromNode.call(this,re,Q,null,J),this.text=X,this.space=ne,this.lang=$},j.prototype.initFromNode=function(re,Q,X,$,ne){D.prototype.initFromNode.call(this,re,Q,X,ne),M.prototype.initFromNode.call(this,re,Q,X,ne),this.lang=$},le.prototype.createDefaultRegion=function(re){var Q=new le;return R.call(Q,""),T.call(Q,{}),C.call(Q,[]),M.call(Q,0,Number.POSITIVE_INFINITY,null),this.lang=re,Q},le.prototype.initFromNode=function(re,Q,X,$){R.prototype.initFromNode.call(this,re,null,Q,$),M.prototype.initFromNode.call(this,re,null,Q,$),C.prototype.initFromNode.call(this,re,null,Q,$),this.styleAttrs=Ge(Q,$),this.styleRefs=xe(Q),this.lang=X},Y.prototype.initFromNode=function(re,Q,X,$){M.prototype.initFromNode.call(this,re,Q,X,$);var ne=Ge(X,$);for(var J in this.qname=null,this.value=null,ne)if(ne.hasOwnProperty(J)){if(this.qname){K($,"More than one style specified on set");break}this.qname=J,this.value=ne[J]}}}(v,typeof sax>"u"?e(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(et,v,e){!function(n,E,A){function _(j,le,Y,ve){var de;if("region"===Y.kind)(de=document.createElement("div")).style.position="absolute";else if("body"===Y.kind)de=document.createElement("div");else if("div"===Y.kind)de=document.createElement("div");else if("image"===Y.kind){if(de=document.createElement("img"),null!==j.imgResolver&&null!==Y.src){var Se=j.imgResolver(Y.src,de);Se&&(de.src=Se),de.height=j.regionH,de.width=j.regionW}}else if("p"===Y.kind)de=document.createElement("p");else if("span"===Y.kind)if("container"===Y.styleAttrs[A.byName.ruby.qname])de=document.createElement("ruby"),j.ruby=!0;else if("base"===Y.styleAttrs[A.byName.ruby.qname])de=document.createElement("rb");else if("text"===Y.styleAttrs[A.byName.ruby.qname])de=document.createElement("rt");else if("baseContainer"===Y.styleAttrs[A.byName.ruby.qname])de=document.createElement("rbc");else if("textContainer"===Y.styleAttrs[A.byName.ruby.qname])de=document.createElement("rtc");else{if("delimiter"===Y.styleAttrs[A.byName.ruby.qname])return;de=document.createElement("span")}else"br"===Y.kind&&(de=document.createElement("br"));if(de){if(Y.lang&&("region"===Y.kind||Y.lang!==ve.lang)&&(de.lang=Y.lang),le.appendChild(de),de.style.margin="0","region"===Y.kind){var xe=Y.styleAttrs[A.byName.writingMode.qname];"lrtb"===xe||"lr"===xe?(j.ipd="lr",j.bpd="tb"):"rltb"===xe||"rl"===xe?(j.ipd="rl",j.bpd="tb"):"tblr"===xe?(j.ipd="tb",j.bpd="lr"):("tbrl"===xe||"tb"===xe)&&(j.ipd="tb",j.bpd="rl")}else"p"===Y.kind&&"tb"===j.bpd&&(j.ipd="ltr"===Y.styleAttrs[A.byName.direction.qname]?"lr":"rl");for(var ge=0;ge<C.length;ge++){var Ce=C[ge],Le=Y.styleAttrs[Ce.qname];void 0!==Le&&null!==Ce.map&&Ce.map(j,de,Y,Le)}var fe=de,we=Y.styleAttrs[A.byName.linePadding.qname];if(we&&!we.isZero()){var Te=we.toUsedLength(j.w,j.h);if(Te>0){var De=Math.ceil(Te)+"px";"tb"===j.bpd?(fe.style.paddingLeft=De,fe.style.paddingRight=De):(fe.style.paddingTop=De,fe.style.paddingBottom=De),j.lp=we}}var Ue=Y.styleAttrs[A.byName.multiRowAlign.qname];if(Ue&&"auto"!==Ue){var lt=document.createElement("span");lt.style.display="inline-block",lt.style.textAlign=Ue,de.appendChild(lt),fe=lt,j.mra=Ue}var He=Y.styleAttrs[A.byName.rubyReserve.qname];if(He&&"none"!==He[0]&&(j.rubyReserve=He),Y.styleAttrs[A.byName.fillLineGap.qname]&&(j.flg=!0),"span"===Y.kind&&Y.text){var be=Y.styleAttrs[A.byName.textEmphasis.qname];if(be&&"none"!==be.style&&(j.textEmphasis=!0),A.byName.textCombine.qname in Y.styleAttrs&&"all"===Y.styleAttrs[A.byName.textCombine.qname])de.textContent=Y.text,be&&D(j,de,0,be);else for(var _e="",K=0;K<Y.text.length;K++){_e+=Y.text.charAt(K);var oe=Y.text.charCodeAt(K);if(oe<55296||oe>56319||K===Y.text.length-1){var pe=document.createElement("span");pe.textContent=_e,be&&D(j,pe,0,be),de.appendChild(pe),_e="",pe._isd_element=Y}}}if("contents"in Y)for(var re=0;re<Y.contents.length;re++)_(j,fe,Y.contents[re],Y);var Q=[];if("p"===Y.kind&&(F(j,fe,Q,null),j.rubyReserve&&(function y(j,le){for(var Y=0;Y<j.length;Y++){var ve=document.createElement("ruby"),de=document.createElement("rb");de.textContent="\u200b",ve.appendChild(de);var Se,xe,Ge=le.rubyReserve[1].toUsedLength(le.w,le.h)+"px";"both"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&1==j.length?((Se=document.createElement("rtc")).style[Z]=G?"after":"under",Se.textContent="\u200b",Se.style.fontSize=Ge,(xe=document.createElement("rtc")).style[Z]=G?"before":"over",xe.textContent="\u200b",xe.style.fontSize=Ge,ve.appendChild(Se),ve.appendChild(xe)):((Se=document.createElement("rtc")).textContent="\u200b",Se.style.fontSize=Ge,Se.style[Z]="after"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&Y>0?G?"after":"tb"===le.bpd||"rl"===le.bpd?"under":"over":G?"before":"tb"===le.bpd||"rl"===le.bpd?"over":"under",ve.appendChild(Se));for(var Ce=null,Le=0;Le<j[Y].rbc.length;Le++)if("ruby"===j[Y].rbc[Le].localName){Ce=j[Y].rbc[Le];for(var fe=0;fe<Ce.style.length;fe++)ve.style.setProperty(Ce.style.item(fe),Ce.style.getPropertyValue(Ce.style.item(fe)));break}(Ce=Ce||j[Y].elements[0].node).parentElement.insertBefore(ve,Ce)}}(Q,j),j.rubyReserve=null),(j.ruby||j.rubyReserve)&&(function m(j,le){for(var Y=0;Y<j.length;Y++)for(var ve=0;ve<j[Y].rbc.length;ve++)j[Y].rbc[ve].style[Z]||(j[Y].rbc[ve].style[Z]=G?0===Y?"before":"after":"tb"===le.bpd||"rl"===le.bpd?0===Y?"over":"under":0===Y?"under":"over")}(Q,j),j.ruby=null),j.textEmphasis&&(function u(j,le){for(var Y=0;Y<j.length;Y++)for(var ve=0;ve<j[Y].te.length;ve++)j[Y].te[ve].style[ae]&&"none"!==j[Y].te[ve].style[ae]||(j[Y].te[ve].style[ae]="tb"===le.bpd?0===Y?"left over":"left under":"rl"===le.bpd?0===Y?"right under":"left under":0===Y?"left under":"right under")}(Q,j),j.textEmphasis=null),j.mra&&(function d(j){for(var le=0;le<j.length-1;le++){var Y=j[le].elements.length;if(0!==Y&&!1===j[le].br){var ve=document.createElement("br"),de=j[le].elements[Y-1].node;de.parentElement.insertBefore(ve,de.nextSibling)}}}(Q),j.mra=null),j.lp&&(function o(j,le,Y){if(null!==j)for(var ve=0;ve<j.length;ve++){var de=j[ve].elements.length,Se=Math.ceil(le)+"px",xe="-"+Math.ceil(le)+"px";if(0!==de){var Ge=j[ve].elements[j[ve].start_elem],ge=j[ve].elements[j[ve].end_elem];if(Ge===ge&&(elementBoundingRect=Ge.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===Y.ipd?(Ge.node.style.marginLeft=xe,Ge.node.style.paddingLeft=Se):"rl"===Y.ipd?(Ge.node.style.paddingRight=Se,Ge.node.style.marginRight=xe):"tb"===Y.ipd&&(Ge.node.style.paddingTop=Se,Ge.node.style.marginTop=xe),"lr"===Y.ipd?(ge.node.style.marginRight=xe,ge.node.style.paddingRight=Se):"rl"===Y.ipd?(ge.node.style.paddingLeft=Se,ge.node.style.marginLeft=xe):"tb"===Y.ipd&&(ge.node.style.paddingBottom=Se,ge.node.style.marginBottom=xe)}}}(Q,j.lp.toUsedLength(j.w,j.h),j),j.lp=null),function I(j){for(var le=0;le<j.length;le++)for(var Y=j[le],ve=1;ve<Y.elements.length;)g(Y.elements[ve-1].node,Y.elements[ve].node)?Y.elements.splice(ve,1):ve++;for(var xe,Ge,ge=[],Ce=0;Ce<j.length;Ce++)for(var Le=0;Le<j[Ce].elements.length;Le++)(Ge=w(xe=j[Ce].elements[Le].node,ge,!1))&&(xe.style.backgroundColor=Ge);for(var fe=0;fe<ge.length;fe++)ge[fe].style.backgroundColor=""}(Q),j.flg)){var X=B(fe.getBoundingClientRect(),j);(function k(j,le,Y,ve,de){for(var Se=Math.sign(Y-le),xe=0;xe<=j.length;xe++){var Ge,ge,Ce,Le;if(Ge=0===xe?Math.round(le):xe===j.length?Math.round(Y):Math.round((j[xe-1].after+j[xe].before)/2),xe>0&&j[xe-1])for(Ce=0;Ce<j[xe-1].elements.length;Ce++)ge=Se*(Ge-(Le=j[xe-1].elements[Ce]).after)+"px","lr"===ve.bpd?Le.node.style.paddingRight=ge:"rl"===ve.bpd?Le.node.style.paddingLeft=ge:"tb"===ve.bpd&&(Le.node.style.paddingBottom=ge);if(xe<j.length)for(Ce=0;Ce<j[xe].elements.length;Ce++)ge=Se*((Le=j[xe].elements[Ce]).before-Ge)+"px","lr"===ve.bpd?Le.node.style.paddingLeft=ge:"rl"===ve.bpd?Le.node.style.paddingRight=ge:"tb"===ve.bpd&&(Le.node.style.paddingTop=ge)}})(Q,X.before,X.after,j),j.flg=null}if("region"===Y.kind&&"tb"===j.bpd&&j.enableRollUp&&Y.contents.length>0&&"after"===Y.styleAttrs[A.byName.displayAlign.qname]){F(j,fe,Q,null);var ne=new P(""===Y.id?"_":Y.id,Q);if(j.currentISDState[ne.id]=ne,j.previousISDState&&ne.id in j.previousISDState&&j.previousISDState[ne.id].plist.length>0&&ne.plist.length>1&&ne.plist[ne.plist.length-2].text===j.previousISDState[ne.id].plist[j.previousISDState[ne.id].plist.length-1].text){var J=de.firstElementChild,q=ne.plist[ne.plist.length-1].after-ne.plist[ne.plist.length-1].before;J.style.bottom="-"+q+"px",J.style.transition="transform 0.4s",J.style.position="relative",J.style.transform="translateY(-"+q+"px)"}}}else!function Ae(j,le){if(j&&j.error&&j.error(le))throw le}(j.errorHandler,"Error processing ISD element kind: "+Y.kind)}function w(j,le,Y){return j.style.backgroundColor?(Y&&!le.includes(j)&&le.push(j),j.style.backgroundColor):"SPAN"===j.parentElement.nodeName?w(j.parentElement,le,!0):void 0}function g(j,le){if("SPAN"===j.tagName&&"SPAN"===le.tagName&&j._isd_element===le._isd_element){j.textContent+=le.textContent;for(var Y=0;Y<le.style.length;Y++){var ve=le.style[Y];(ve.indexOf("border")>=0||ve.indexOf("padding")>=0||ve.indexOf("margin")>=0)&&(j.style[ve]=le.style[ve])}return le.parentElement.removeChild(le),!0}return!1}function P(j,le){this.id=j,this.plist=le}function B(j,le){var Y={before:null,after:null,start:null,end:null};return"tb"===le.bpd?(Y.before=j.top,Y.after=j.bottom,"lr"===le.ipd?(Y.start=j.left,Y.end=j.right):(Y.start=j.right,Y.end=j.left)):"lr"===le.bpd?(Y.before=j.left,Y.after=j.right,Y.start=j.top,Y.end=j.bottom):"rl"===le.bpd&&(Y.before=j.right,Y.after=j.left,Y.start=j.top,Y.end=j.bottom),Y}function F(j,le,Y,ve){if("rt"!==le.localName&&"rtc"!==le.localName){var de=le.style.backgroundColor||ve;if(0===le.childElementCount)if("span"===le.localName||"rb"===le.localName){var xe=B(le.getBoundingClientRect(),j);if(0!==Y.length&&function R(j,le,Y,ve){return le<ve&&j>Y||ve<=le&&Y>=j}(xe.before,xe.after,Y[Y.length-1].before,Y[Y.length-1].after)){var Ge=Math.sign(xe.after-xe.before),ge=Math.sign(xe.end-xe.start);Ge*(xe.before-Y[Y.length-1].before)<0&&(Y[Y.length-1].before=xe.before),Ge*(xe.after-Y[Y.length-1].after)>0&&(Y[Y.length-1].after=xe.after),ge*(xe.start-Y[Y.length-1].start)<0&&(Y[Y.length-1].start=xe.start,Y[Y.length-1].start_elem=Y[Y.length-1].elements.length),ge*(xe.end-Y[Y.length-1].end)>0&&(Y[Y.length-1].end=xe.end,Y[Y.length-1].end_elem=Y[Y.length-1].elements.length)}else Y.push({before:xe.before,after:xe.after,start:xe.start,end:xe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});Y[Y.length-1].text+=le.textContent,Y[Y.length-1].elements.push({node:le,bgcolor:de,before:xe.before,after:xe.after})}else"br"===le.localName&&0!==Y.length&&(Y[Y.length-1].br=!0);else for(var Ce=le.firstChild;Ce;)Ce.nodeType===Node.ELEMENT_NODE&&(F(j,Ce,Y,de),"ruby"===Ce.localName||"rtc"===Ce.localName?Y.length>0&&Y[Y.length-1].rbc.push(Ce):"span"===Ce.localName&&Ce.style[ee]&&"none"!==Ce.style[ee]&&Y.length>0&&Y[Y.length-1].te.push(Ce)),Ce=Ce.nextSibling}}function D(j,le,Y,ve){"none"!==ve.style&&(le.style[ee]="auto"===ve.style?"filled":ve.style+" "+ve.symbol,"before"===ve.position||"after"===ve.position)&&(le.style[ae]="tb"===j.bpd?"before"===ve.position?"left over":"left under":"rl"===j.bpd?"before"===ve.position?"right under":"left under":"before"===ve.position?"left under":"right under")}function T(j,le){this.qname=j,this.map=le}n.render=function(j,le,Y,ve,de,Se,xe,Ge,ge){var Ce=ve||le.clientHeight,Le=de||le.clientWidth;if(null!==j.aspectRatio){var fe=Ce*j.aspectRatio;fe>Le?Ce=Math.round(Le/j.aspectRatio):Le=fe}var we=document.createElement("div");we.style.position="relative",we.style.width=Le+"px",we.style.height=Ce+"px",we.style.margin="auto",we.style.top=0,we.style.bottom=0,we.style.left=0,we.style.right=0,we.style.zIndex=0;var Te={h:Ce,w:Le,regionH:null,regionW:null,imgResolver:Y,displayForcedOnlyMode:Se||!1,isd:j,errorHandler:xe,previousISDState:Ge,enableRollUp:ge||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(le.appendChild(we),"contents"in j)for(var De=0;De<j.contents.length;De++)_(Te,we,j.contents[De],j);return Te.currentISDState};for(var C=[new T("http://www.w3.org/ns/ttml#styling backgroundColor",function(j,le,Y,ve){0!==ve[3]&&(le.style.backgroundColor="rgba("+ve[0].toString()+","+ve[1].toString()+","+ve[2].toString()+","+(ve[3]/255).toString()+")")}),new T("http://www.w3.org/ns/ttml#styling color",function(j,le,Y,ve){le.style.color="rgba("+ve[0].toString()+","+ve[1].toString()+","+ve[2].toString()+","+(ve[3]/255).toString()+")"}),new T("http://www.w3.org/ns/ttml#styling direction",function(j,le,Y,ve){le.style.direction=ve}),new T("http://www.w3.org/ns/ttml#styling display",function(j,le,Y,ve){}),new T("http://www.w3.org/ns/ttml#styling displayAlign",function(j,le,Y,ve){le.style.display="flex",le.style.flexDirection="column","before"===ve?le.style.justifyContent="flex-start":"center"===ve?le.style.justifyContent="center":"after"===ve&&(le.style.justifyContent="flex-end")}),new T("http://www.w3.org/ns/ttml#styling extent",function(j,le,Y,ve){j.regionH=ve.h.toUsedLength(j.w,j.h),j.regionW=ve.w.toUsedLength(j.w,j.h);var de=0,Se=0,xe=Y.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];xe&&(de=xe[0].toUsedLength(j.w,j.h)+xe[2].toUsedLength(j.w,j.h),Se=xe[1].toUsedLength(j.w,j.h)+xe[3].toUsedLength(j.w,j.h)),le.style.height=j.regionH-de+"px",le.style.width=j.regionW-Se+"px"}),new T("http://www.w3.org/ns/ttml#styling fontFamily",function(j,le,Y,ve){for(var de=[],Se=0;Se<ve.length;Se++)"monospaceSerif"===ve[Se]?(de.push("Courier New"),de.push('"Liberation Mono"'),de.push("Courier"),de.push("monospace")):"proportionalSansSerif"===ve[Se]?(de.push("Arial"),de.push("Helvetica"),de.push('"Liberation Sans"'),de.push("sans-serif")):"monospace"===ve[Se]?de.push("monospace"):"sansSerif"===ve[Se]?de.push("sans-serif"):"serif"===ve[Se]?de.push("serif"):"monospaceSansSerif"===ve[Se]?(de.push("Consolas"),de.push("monospace")):de.push("proportionalSerif"===ve[Se]?"serif":ve[Se]);if(de.length>0){for(var xe=[de[0]],Ge=1;Ge<de.length;Ge++)-1==xe.indexOf(de[Ge])&&xe.push(de[Ge]);de=xe}le.style.fontFamily=de.join(",")}),new T("http://www.w3.org/ns/ttml#styling shear",function(j,le,Y,ve){if(0!==ve){var de=-.9*ve;le.style.transform="tb"===j.bpd?"skewX("+de+"deg)":"skewY("+de+"deg)"}}),new T("http://www.w3.org/ns/ttml#styling fontSize",function(j,le,Y,ve){le.style.fontSize=ve.toUsedLength(j.w,j.h)+"px"}),new T("http://www.w3.org/ns/ttml#styling fontStyle",function(j,le,Y,ve){le.style.fontStyle=ve}),new T("http://www.w3.org/ns/ttml#styling fontWeight",function(j,le,Y,ve){le.style.fontWeight=ve}),new T("http://www.w3.org/ns/ttml#styling lineHeight",function(j,le,Y,ve){le.style.lineHeight="normal"===ve?"normal":ve.toUsedLength(j.w,j.h)+"px"}),new T("http://www.w3.org/ns/ttml#styling opacity",function(j,le,Y,ve){le.style.opacity=ve}),new T("http://www.w3.org/ns/ttml#styling origin",function(j,le,Y,ve){le.style.top=ve.h.toUsedLength(j.w,j.h)+"px",le.style.left=ve.w.toUsedLength(j.w,j.h)+"px"}),new T("http://www.w3.org/ns/ttml#styling overflow",function(j,le,Y,ve){le.style.overflow=ve}),new T("http://www.w3.org/ns/ttml#styling padding",function(j,le,Y,ve){var de=[];de[0]=ve[0].toUsedLength(j.w,j.h)+"px",de[1]=ve[3].toUsedLength(j.w,j.h)+"px",de[2]=ve[2].toUsedLength(j.w,j.h)+"px",de[3]=ve[1].toUsedLength(j.w,j.h)+"px",le.style.padding=de.join(" ")}),new T("http://www.w3.org/ns/ttml#styling position",function(j,le,Y,ve){le.style.top=ve.h.toUsedLength(j.w,j.h)+"px",le.style.left=ve.w.toUsedLength(j.w,j.h)+"px"}),new T("http://www.w3.org/ns/ttml#styling rubyAlign",function(j,le,Y,ve){le.style.rubyAlign="spaceAround"===ve?"space-around":"center"}),new T("http://www.w3.org/ns/ttml#styling rubyPosition",function(j,le,Y,ve){"before"!==ve&&"after"!==ve||(le.parentElement.style[Z]=G?ve:"tb"===j.bpd||"rl"===j.bpd?"before"===ve?"over":"under":"before"===ve?"under":"over")}),new T("http://www.w3.org/ns/ttml#styling showBackground",null),new T("http://www.w3.org/ns/ttml#styling textAlign",function(j,le,Y,ve){le.style.textAlign="start"===ve?"rl"===j.ipd?"right":"left":"end"===ve?"rl"===j.ipd?"left":"right":ve}),new T("http://www.w3.org/ns/ttml#styling textDecoration",function(j,le,Y,ve){le.style.textDecoration=ve.join(" ").replace("lineThrough","line-through")}),new T("http://www.w3.org/ns/ttml#styling textOutline",function(j,le,Y,ve){}),new T("http://www.w3.org/ns/ttml#styling textShadow",function(j,le,Y,ve){var de=Y.styleAttrs[A.byName.textOutline.qname];if("none"===ve&&"none"===de)le.style.textShadow="";else{var Se=[];if("none"!==de){var xe="rgba("+de.color[0].toString()+","+de.color[1].toString()+","+de.color[2].toString()+","+(de.color[3]/255).toString()+")";Se.push("1px 1px 1px "+xe),Se.push("-1px 1px 1px "+xe),Se.push("1px -1px 1px "+xe),Se.push("-1px -1px 1px "+xe)}if("none"!==ve)for(var Ge=0;Ge<ve.length;Ge++)Se.push(ve[Ge].x_off.toUsedLength(j.w,j.h)+"px "+ve[Ge].y_off.toUsedLength(j.w,j.h)+"px "+ve[Ge].b_radius.toUsedLength(j.w,j.h)+"px rgba("+ve[Ge].color[0].toString()+","+ve[Ge].color[1].toString()+","+ve[Ge].color[2].toString()+","+(ve[Ge].color[3]/255).toString()+")");le.style.textShadow=Se.join(",")}}),new T("http://www.w3.org/ns/ttml#styling textCombine",function(j,le,Y,ve){le.style.textCombineUpright=ve}),new T("http://www.w3.org/ns/ttml#styling textEmphasis",function(j,le,Y,ve){}),new T("http://www.w3.org/ns/ttml#styling unicodeBidi",function(j,le,Y,ve){le.style.unicodeBidi="bidiOverride"===ve?"bidi-override":ve}),new T("http://www.w3.org/ns/ttml#styling visibility",function(j,le,Y,ve){le.style.visibility=ve}),new T("http://www.w3.org/ns/ttml#styling wrapOption",function(j,le,Y,ve){le.style.whiteSpace="wrap"===ve?"preserve"===Y.space?"pre-wrap":"normal":"preserve"===Y.space?"pre":"noWrap"}),new T("http://www.w3.org/ns/ttml#styling writingMode",function(j,le,Y,ve){"lrtb"===ve||"lr"===ve||"rltb"===ve||"rl"===ve?le.style.writingMode="horizontal-tb":"tblr"===ve?le.style.writingMode="vertical-lr":("tbrl"===ve||"tb"===ve)&&(le.style.writingMode="vertical-rl")}),new T("http://www.w3.org/ns/ttml#styling zIndex",function(j,le,Y,ve){le.style.zIndex=ve}),new T("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(j,le,Y,ve){j.displayForcedOnlyMode&&!1===ve&&(le.style.visibility="hidden")})],O={},M=0;M<C.length;M++)O[C[M].qname]=C[M];var G="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Z=G?"webkitRubyPosition":"rubyPosition",ee="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(v,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(et,v,e){!function(n,E,A,_){n.generateISD=function(F,R,D){var O,T=new u(F),C={},M={},G=F.head.styling.initials[A.byName.showBackground.qname],Z=F.head.styling.initials[A.byName.backgroundColor.qname];for(var ee in F.head.layout.regions)if(F.head.layout.regions.hasOwnProperty(ee)){var ae=F.head.layout.regions[ee],Ae=ae.styleAttrs[A.byName.showBackground.qname]||G;M[ae.id]=("always"===Ae||void 0===Ae)&&void 0!==(ae.styleAttrs[A.byName.backgroundColor.qname]||Z)&&!(R<ae.begin||R>=ae.end)}for(var Y in F.body&&F.body.regionID&&(M[F.body.regionID]=!0),O=null!==F.body?function le(de,Se){if(Se.contents){var Ge={};for(var ge in Se)Se.hasOwnProperty(ge)&&(Ge[ge]=Se[ge]);return Ge.contents=[],Se.contents.filter(function xe(Ce){return!(de<Ce.begin||de>=Ce.end)}).forEach(function(Ce){var Le=le(de,Ce);Le.regionID&&(M[Le.regionID]=!0),null!==Le&&Ge.contents.push(Le)}),Ge}return Se}(R,F.body):null,void 0!==M[""]&&(M[""]=!0),M)if(M[Y]){var ve=w(F,R,F.head.layout.regions[Y],O,null,"",F.head.layout.regions[Y],D,C);null!==ve&&T.contents.push(ve.element)}return T};var I=[A.byName.color.qname,A.byName.textCombine.qname,A.byName.textDecoration.qname,A.byName.textEmphasis.qname,A.byName.textOutline.qname,A.byName.textShadow.qname];function w(F,R,D,T,C,O,M,G,Z){if(R<M.begin||R>=M.end)return null;var ee="regionID"in M&&""!==M.regionID?M.regionID:O;if(null!==C&&ee!==D.id&&(!("contents"in M)||"contents"in M&&0===M.contents.length||""!==ee))return null;var ae=new m(M);if("sets"in M)for(var Ae=0;Ae<M.sets.length;Ae++)R<M.sets[Ae].begin||R>=M.sets[Ae].end||(ae.styleAttrs[M.sets[Ae].qname]=M.sets[Ae].value);var j={};for(var le in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(le)&&(j[le]=!0,"region"===ae.kind&&le===A.byName.writingMode.qname&&!(A.byName.direction.qname in ae.styleAttrs))){var Y=ae.styleAttrs[le];"lrtb"===Y||"lr"===Y?ae.styleAttrs[A.byName.direction.qname]="ltr":("rltb"===Y||"rl"===Y)&&(ae.styleAttrs[A.byName.direction.qname]="rtl")}if(null!==C)for(var ve=0;ve<A.all.length;ve++){var de=A.all[ve];if(de.qname===A.byName.textDecoration.qname){var Se=C.styleAttrs[de.qname],xe=ae.styleAttrs[de.qname],Ge=[];void 0===xe?Ge=Se:-1===xe.indexOf("none")?((-1===xe.indexOf("noUnderline")&&-1!==Se.indexOf("underline")||-1!==xe.indexOf("underline"))&&Ge.push("underline"),(-1===xe.indexOf("noLineThrough")&&-1!==Se.indexOf("lineThrough")||-1!==xe.indexOf("lineThrough"))&&Ge.push("lineThrough"),(-1===xe.indexOf("noOverline")&&-1!==Se.indexOf("overline")||-1!==xe.indexOf("overline"))&&Ge.push("overline")):Ge.push("none"),ae.styleAttrs[de.qname]=Ge}else if(de.qname!==A.byName.fontSize.qname||de.qname in ae.styleAttrs||"span"!==ae.kind||"textContainer"!==ae.styleAttrs[A.byName.ruby.qname])if(de.qname!==A.byName.fontSize.qname||de.qname in ae.styleAttrs||"span"!==ae.kind||"text"!==ae.styleAttrs[A.byName.ruby.qname])de.inherit&&de.qname in C.styleAttrs&&!(de.qname in ae.styleAttrs)&&(ae.styleAttrs[de.qname]=C.styleAttrs[de.qname]);else{var Ce=C.styleAttrs[A.byName.fontSize.qname];ae.styleAttrs[de.qname]="textContainer"===C.styleAttrs[A.byName.ruby.qname]?Ce:new _.ComputedLength(.5*Ce.rw,.5*Ce.rh)}else{var ge=C.styleAttrs[A.byName.fontSize.qname];ae.styleAttrs[de.qname]=new _.ComputedLength(.5*ge.rw,.5*ge.rh)}}for(var Le=0;Le<A.all.length;Le++){var fe=A.all[Le];if(!(fe.qname in ae.styleAttrs||fe.qname===A.byName.position.qname&&A.byName.origin.qname in ae.styleAttrs||fe.qname===A.byName.origin.qname&&A.byName.position.qname in ae.styleAttrs)){var we=F.head.styling.initials[fe.qname]||fe.initial;if(null!==we&&("region"===ae.kind||!1===fe.inherit&&null!==we)){var Te=fe.parse(we);null!==Te?(ae.styleAttrs[fe.qname]=Te,j[fe.qname]=!0):P(G,"Invalid initial value for '"+fe.qname+"' on element '"+ae.kind)}}}for(var De=0;De<A.all.length;De++){var Ue=A.all[De];if(Ue.qname in j&&null!==Ue.compute){var lt=Ue.compute(F,C,ae,ae.styleAttrs[Ue.qname],Z);null!==lt?ae.styleAttrs[Ue.qname]=lt:(ae.styleAttrs[Ue.qname]=Ue.compute(F,C,ae,Ue.parse(Ue.initial),Z),P(G,"Style '"+Ue.qname+"' on element '"+ae.kind+"' cannot be computed"))}}if("none"===ae.styleAttrs[A.byName.display.qname])return null;var He=null;null===C?He=null===T?[]:[T]:"contents"in M&&(He=M.contents);for(var be=0;null!==He&&be<He.length;be++){var _e=w(F,R,D,T,ae,ee,He[be],G,Z);null!==_e&&ae.contents.push(_e.element)}for(var K in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(K)){var oe=!1;if("span"===ae.kind){var pe=ae.styleAttrs[A.byName.ruby.qname];(oe=("container"===pe||"textContainer"===pe||"baseContainer"===pe)&&-1!==I.indexOf(K))||(oe="container"!==pe&&K===A.byName.rubyAlign.qname),oe||(oe=!("textContainer"===pe||"text"===pe)&&K===A.byName.rubyPosition.qname)}if(!oe){var re=A.byQName[K];"applies"in re&&(oe=-1===re.applies.indexOf(ae.kind))}oe&&delete ae.styleAttrs[K]}var Q=ae.styleAttrs[A.byName.ruby.qname];if("p"===ae.kind||"span"===ae.kind&&("textContainer"===Q||"text"===Q)){var X=[];o(ae,X),function g(F){function R(M){return"br"===M.kind||/[\r\n\t ]$/.test(M.text)}function D(M){return"br"===M.kind||"preserve"===M.space&&/^[\r\n]/.test(M.text)}for(var T,C=0;C<F.length;)if("br"!==(T=F[C]).kind&&"preserve"!==T.space){var O=T.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(O)&&(0===C||R(F[C-1]))&&(O=O.substring(1)),T.text=O,0===O.length?F.splice(C,1):C++}else C++;for(C=0;C<F.length;C++)"br"!==(T=F[C]).kind&&"preserve"!==T.space?/[ ]$/.test(T.text)&&(C===F.length-1||D(F[C+1]))&&(T.text=T.text.slice(0,-1)):C++}(X),d(ae)}return"div"===ae.kind&&A.byName.backgroundImage.qname in ae.styleAttrs||"br"===ae.kind||"image"===ae.kind||"contents"in ae&&ae.contents.length>0||"span"===ae.kind&&null!==ae.text||"region"===ae.kind&&"always"===ae.styleAttrs[A.byName.showBackground.qname]?{region_id:ee,element:ae}:null}function o(F,R){if("contents"in F)for(var D=0;D<F.contents.length;D++){var T=F.contents[D],C=T.styleAttrs[A.byName.ruby.qname];"span"===T.kind&&("textContainer"===C||"text"===C)||("contents"in T?o(T,R):("span"===T.kind&&0!==T.text.length||"br"===T.kind)&&R.push(T))}}function d(F){if("br"===F.kind)return!1;if("text"in F)return 0===F.text.length;if("contents"in F){for(var R=F.contents.length;R--;)d(F.contents[R])&&F.contents.splice(R,1);return 0===F.contents.length}}function u(F){this.contents=[],this.aspectRatio=F.aspectRatio,this.lang=F.lang}function m(F){for(var R in this.kind=F.kind||"region",this.lang=F.lang,F.id&&(this.id=F.id),this.styleAttrs={},F.styleAttrs)F.styleAttrs.hasOwnProperty(R)&&(this.styleAttrs[R]=F.styleAttrs[R]);"src"in F&&(this.src=F.src),"type"in F&&(this.type=F.type),"text"in F?this.text=F.text:("region"===this.kind||"contents"in F)&&(this.contents=[]),"space"in F&&(this.space=F.space)}function P(F,R){if(F&&F.error&&F.error(R))throw R}}(v,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(et,v,e){v.generateISD=e(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,v.fromXML=e(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,v.renderHTML=e(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(et,v,e){var n;(n=v).ns_tt="http://www.w3.org/ns/ttml",n.ns_tts="http://www.w3.org/ns/ttml#styling",n.ns_ttp="http://www.w3.org/ns/ttml#parameter",n.ns_xml="http://www.w3.org/XML/1998/namespace",n.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",n.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",n.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",n.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(et,v,e){!function(n,E,A){function _(g,o,d,u,m,y,k,P){this.name=o,this.ns=g,this.qname=g+" "+o,this.inherit=m,this.animatable=y,this.initial=d,this.applies=u,this.parse=k,this.compute=P}for(var I in n.all=[new _(E.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,A.parseColor,null),new _(E.ns_tts,"color","white",["span"],!0,!0,A.parseColor,null),new _(E.ns_tts,"direction","ltr",["p","span"],!0,!0,function(g){return g},null),new _(E.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(g){return g},null),new _(E.ns_tts,"displayAlign","before",["region"],!1,!0,function(g){return g},null),new _(E.ns_tts,"extent","auto",["tt","region"],!1,!0,function(g){if("auto"===g)return g;var o=g.split(" ");if(2!==o.length)return null;var d=A.parseLength(o[0]),u=A.parseLength(o[1]);return u&&d?{h:u,w:d}:null},function(g,o,d,u,m){var y,k;if("auto"===u)y=new A.ComputedLength(0,1);else if(null===(y=A.toComputedLength(u.h.value,u.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===u)k=new A.ComputedLength(1,0);else if(null===(k=A.toComputedLength(u.w.value,u.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:y,w:k}}),new _(E.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(g){for(var o=g.split(","),d=[],u=0;u<o.length;u++)"'"!==o[u].charAt(0)&&'"'!==o[u].charAt(0)&&"default"===o[u]?d.push("monospaceSerif"):d.push(o[u]);return d},null),new _(E.ns_tts,"shear","0%",["p"],!0,!0,A.parseLength,function(g,o,d,u){return"%"!==u.unit?null:Math.abs(u.value)>100?100*Math.sign(u.value):u.value}),new _(E.ns_tts,"fontSize","1c",["span","p"],!0,!0,A.parseLength,function(g,o,d,u,m){return A.toComputedLength(u.value,u.unit,null!==o?o.styleAttrs[n.byName.fontSize.qname]:g.cellLength.h,null!==o?o.styleAttrs[n.byName.fontSize.qname]:g.cellLength.h,g.cellLength.h,g.pxLength.h)}),new _(E.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(g){return g},null),new _(E.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(g){return g},null),new _(E.ns_tts,"lineHeight","normal",["p"],!0,!0,function(g){return"normal"===g?g:A.parseLength(g)},function(g,o,d,u,m){var y;if("normal"===u)y=u;else if(null===(y=A.toComputedLength(u.value,u.unit,d.styleAttrs[n.byName.fontSize.qname],d.styleAttrs[n.byName.fontSize.qname],g.cellLength.h,g.pxLength.h)))return null;return y}),new _(E.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new _(E.ns_tts,"origin","auto",["region"],!1,!0,function(g){if("auto"===g)return g;var o=g.split(" ");if(2!==o.length)return null;var d=A.parseLength(o[0]),u=A.parseLength(o[1]);return u&&d?{h:u,w:d}:null},function(g,o,d,u,m){var y,k;if("auto"===u)y=new A.ComputedLength(0,0);else if(null===(y=A.toComputedLength(u.h.value,u.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===u)k=new A.ComputedLength(0,0);else if(null===(k=A.toComputedLength(u.w.value,u.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:y,w:k}}),new _(E.ns_tts,"overflow","hidden",["region"],!1,!0,function(g){return g},null),new _(E.ns_tts,"padding","0px",["region"],!1,!0,function(g){var o=g.split(" ");if(o.length>4)return null;for(var d=[],u=0;u<o.length;u++){var m=A.parseLength(o[u]);if(!m)return null;d.push(m)}return d},function(g,o,d,u,m){var y;if(1===u.length)y=[u[0],u[0],u[0],u[0]];else if(2===u.length)y=[u[0],u[1],u[0],u[1]];else if(3===u.length)y=[u[0],u[1],u[2],u[1]];else{if(4!==u.length)return null;y=[u[0],u[1],u[2],u[3]]}var k=d.styleAttrs[n.byName.writingMode.qname];if("lrtb"===k||"lr"===k)y=[y[0],y[3],y[2],y[1]];else if("rltb"===k||"rl"===k)y=[y[0],y[1],y[2],y[3]];else if("tblr"===k)y=[y[3],y[0],y[1],y[2]];else{if("tbrl"!==k&&"tb"!==k)return null;y=[y[3],y[2],y[1],y[0]]}for(var P=[],B=0;B<y.length;B++)if(0===y[B].value)P[B]=new A.ComputedLength(0,0);else if(P[B]=A.toComputedLength(y[B].value,y[B].unit,d.styleAttrs[n.byName.fontSize.qname],0===B||2===B?d.styleAttrs[n.byName.extent.qname].h:d.styleAttrs[n.byName.extent.qname].w,0===B||2===B?g.cellLength.h:g.cellLength.w,0===B||2===B?g.pxLength.h:g.pxLength.w),null===P[B])return null;return P}),new _(E.ns_tts,"position","top left",["region"],!1,!0,function(g){return A.parsePosition(g)},function(g,o,d,u){var m,y;return null===(m=A.toComputedLength(u.v.offset.value,u.v.offset.unit,null,new A.ComputedLength(-d.styleAttrs[n.byName.extent.qname].h.rw,g.dimensions.h.rh-d.styleAttrs[n.byName.extent.qname].h.rh),null,g.pxLength.h))||("bottom"===u.v.edge&&(m=new A.ComputedLength(-m.rw-d.styleAttrs[n.byName.extent.qname].h.rw,g.dimensions.h.rh-m.rh-d.styleAttrs[n.byName.extent.qname].h.rh)),y=A.toComputedLength(u.h.offset.value,u.h.offset.unit,null,new A.ComputedLength(g.dimensions.w.rw-d.styleAttrs[n.byName.extent.qname].w.rw,-d.styleAttrs[n.byName.extent.qname].w.rh),null,g.pxLength.w),null===m)?null:("right"===u.h.edge&&(y=new A.ComputedLength(g.dimensions.w.rw-y.rw-d.styleAttrs[n.byName.extent.qname].w.rw,-y.rh-d.styleAttrs[n.byName.extent.qname].w.rh)),{h:m,w:y})}),new _(E.ns_tts,"ruby","none",["span"],!1,!0,function(g){return g},null),new _(E.ns_tts,"rubyAlign","center",["span"],!0,!0,function(g){return"center"===g||"spaceAround"===g?g:null},null),new _(E.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(g){return g},null),new _(E.ns_tts,"rubyReserve","none",["p"],!0,!0,function(g){var o=g.split(" "),d=[null,null];if(0===o.length||o.length>2)return null;if("none"!==o[0]&&"both"!==o[0]&&"after"!==o[0]&&"before"!==o[0]&&"outside"!==o[0])return null;if(d[0]=o[0],2===o.length&&"none"!==o[0]){var u=A.parseLength(o[1]);if(!u)return null;d[1]=u}return d},function(g,o,d,u,m){if("none"===u[0])return u;var y;return null===(y=null===u[1]?new A.ComputedLength(.5*d.styleAttrs[n.byName.fontSize.qname].rw,.5*d.styleAttrs[n.byName.fontSize.qname].rh):A.toComputedLength(u[1].value,u[1].unit,d.styleAttrs[n.byName.fontSize.qname],d.styleAttrs[n.byName.fontSize.qname],g.cellLength.h,g.pxLength.h))?null:[u[0],y]}),new _(E.ns_tts,"showBackground","always",["region"],!1,!0,function(g){return g},null),new _(E.ns_tts,"textAlign","start",["p"],!0,!0,function(g){return g},function(g,o,d,u,m){return"left"===u?"start":"right"===u?"end":u}),new _(E.ns_tts,"textCombine","none",["span"],!0,!0,function(g){return"none"===g||"all"===g?g:null},null),new _(E.ns_tts,"textDecoration","none",["span"],!0,!0,function(g){return g.split(" ")},null),new _(E.ns_tts,"textEmphasis","none",["span"],!0,!0,function(g){for(var o=g.split(" "),d={style:null,symbol:null,color:null,position:null},u=0;u<o.length;u++)if("none"===o[u]||"auto"===o[u])d.style=o[u];else if("filled"===o[u]||"open"===o[u])d.style=o[u];else if("circle"===o[u]||"dot"===o[u]||"sesame"===o[u])d.symbol=o[u];else if("current"===o[u])d.color=o[u];else if("outside"===o[u]||"before"===o[u]||"after"===o[u])d.position=o[u];else if(d.color=A.parseColor(o[u]),null===d.color)return null;return null==d.style&&null==d.symbol?d.style="auto":(d.symbol=d.symbol||"circle",d.style=d.style||"filled"),d.position=d.position||"outside",d.color=d.color||"current",d},null),new _(E.ns_tts,"textOutline","none",["span"],!0,!0,function(g){if("none"===g)return g;var o={},d=g.split(" ");if(0===d.length||d.length>2)return null;var u=A.parseColor(d[0]);if(o.color=u,null!==u&&d.shift(),1!==d.length)return null;var m=A.parseLength(d[0]);return m?(o.thickness=m,o):null},function(g,o,d,u,m){if("none"===u)return u;var y={};return y.color=null===u.color?d.styleAttrs[n.byName.color.qname]:u.color,y.thickness=A.toComputedLength(u.thickness.value,u.thickness.unit,d.styleAttrs[n.byName.fontSize.qname],d.styleAttrs[n.byName.fontSize.qname],g.cellLength.h,g.pxLength.h),null===y.thickness?null:y}),new _(E.ns_tts,"textShadow","none",["span"],!0,!0,A.parseTextShadow,function(g,o,d,u){if("none"===u)return u;for(var m=[],y=0;y<u.length;y++){var k={};if(k.x_off=A.toComputedLength(u[y][0].value,u[y][0].unit,null,d.styleAttrs[n.byName.fontSize.qname],null,g.pxLength.w),null===k.x_off||(k.y_off=A.toComputedLength(u[y][1].value,u[y][1].unit,null,d.styleAttrs[n.byName.fontSize.qname],null,g.pxLength.h),null===k.y_off))return null;if(null===u[y][2])k.b_radius=0;else if(k.b_radius=A.toComputedLength(u[y][2].value,u[y][2].unit,null,d.styleAttrs[n.byName.fontSize.qname],null,g.pxLength.h),null===k.b_radius)return null;k.color=null===u[y][3]?d.styleAttrs[n.byName.color.qname]:u[y][3],m.push(k)}return m}),new _(E.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(g){return g},null),new _(E.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(g){return g},null),new _(E.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(g){return g},null),new _(E.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(g){return g},null),new _(E.ns_tts,"zIndex","auto",["region"],!1,!0,function(g){var o;return"auto"===g?o=g:(o=parseInt(g),isNaN(o)&&(o=null)),o},null),new _(E.ns_ebutts,"linePadding","0c",["p"],!0,!1,A.parseLength,function(g,o,d,u,m){return A.toComputedLength(u.value,u.unit,null,null,g.cellLength.w,null)}),new _(E.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(g){return g},null),new _(E.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(g){return g},null),new _(E.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(g){return"true"===g},null),new _(E.ns_itts,"fillLineGap","false",["p"],!0,!0,function(g){return"true"===g},null)],n.byQName={},n.all)n.byQName[n.all[I].qname]=n.all[I];for(var w in n.byName={},n.all)n.byName[n.all[w].name]=n.all[w]}(v,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(et,v,e){!function(n){var E=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,A=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,_=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,I={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};n.parseColor=function(g){var o,d=null,u=I[g.toLowerCase()];return void 0!==u?d=u:null!==(o=E.exec(g))?d=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),void 0!==o[4]?parseInt(o[4],16):255]:null!==(o=A.exec(g))?d=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),255]:null!==(o=_.exec(g))&&(d=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseInt(o[4])]),d};var w=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;n.parseLength=function(g){var o,d=null;return null!==(o=w.exec(g))&&(d={value:parseFloat(o[1]),unit:o[2]}),d},n.parseTextShadow=function(g){for(var o=g.match(/([^\(,\)]|\([^\)]+\))+/g),d=[],u=0;u<o.length;u++){var m=o[u].split(" ");if(1===m.length&&"none"===m[0])return"none";if(m.length>1&&m.length<5){var y=[null,null,null,null],k=n.parseLength(m.shift());if(null===k||(y[0]=k,null===(k=n.parseLength(m.shift()))))return null;if(y[1]=k,0===m.length){d.push(y);continue}if(null!==(k=n.parseLength(m[0]))&&(y[2]=k,m.shift()),0===m.length){d.push(y);continue}var P=n.parseColor(m[0]);if(null===P)return null;y[3]=P,d.push(y)}}return d},n.parsePosition=function(g){var o=g.split(" "),d=function(F){return"center"===F||"left"===F||"top"===F||"bottom"===F||"right"===F};if(o.length>4)return null;for(var u=0;u<o.length;u++)if(!d(o[u])){var m=n.parseLength(o[u]);if(null===m)return null;o[u]=m}for(var y={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},k=0;k<o.length;){var P=o[k++];if(d(P)){var B={value:0,unit:"%"};2!==o.length&&k<o.length&&!d(o[k])&&(B=o[k++]),"right"===P?(y.h.edge=P,y.h.offset=B):"bottom"===P?(y.v.edge=P,y.v.offset=B):"left"===P?y.h.offset=B:"top"===P&&(y.v.offset=B)}else{if(1!==o.length&&2!==o.length)return null;1===k?y.h.offset=P:y.v.offset=P}}return y},n.ComputedLength=function(g,o){this.rw=g,this.rh=o},n.ComputedLength.prototype.toUsedLength=function(g,o){return g*this.rw+o*this.rh},n.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},n.toComputedLength=function(g,o,d,u,m,y){return"%"===o&&u?new n.ComputedLength(u.rw*g/100,u.rh*g/100):"em"===o&&d?new n.ComputedLength(d.rw*g,d.rh*g):"c"===o&&m?new n.ComputedLength(g*m.rw,g*m.rh):"px"===o&&y?new n.ComputedLength(g*y.rw,g*y.rh):"rh"===o?new n.ComputedLength(0,g/100):"rw"===o?new n.ComputedLength(g/100,0):null}}(v)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(et,v){et.exports="function"==typeof Object.create?function(n,E){E&&(n.super_=E,n.prototype=Object.create(E.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:function(n,E){if(E){n.super_=E;var A=function(){};A.prototype=E.prototype,n.prototype=new A,n.prototype.constructor=n}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=function n(E){var A="string"==typeof E?E.charCodeAt(0):E;return A>=97&&A<=122||A>=65&&A<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),E=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js");et.exports=function A(_){return n(_)||E(_)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=function n(E){var A="string"==typeof E?E.charCodeAt(0):E;return A>=48&&A<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,v){var e={}.toString;et.exports=Array.isArray||function(n){return"[object Array]"==e.call(n)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,v,e){(function(n){function E(w,g){for(var o=0,d=w.length-1;d>=0;d--){var u=w[d];"."===u?w.splice(d,1):".."===u?(w.splice(d,1),o++):o&&(w.splice(d,1),o--)}if(g)for(;o--;o)w.unshift("..");return w}function _(w,g){if(w.filter)return w.filter(g);for(var o=[],d=0;d<w.length;d++)g(w[d],d,w)&&o.push(w[d]);return o}v.resolve=function(){for(var w="",g=!1,o=arguments.length-1;o>=-1&&!g;o--){var d=o>=0?arguments[o]:n.cwd();if("string"!=typeof d)throw new TypeError("Arguments to path.resolve must be strings");d&&(w=d+"/"+w,g="/"===d.charAt(0))}return(g?"/":"")+(w=E(_(w.split("/"),function(u){return!!u}),!g).join("/"))||"."},v.normalize=function(w){var g=v.isAbsolute(w),o="/"===I(w,-1);return!(w=E(_(w.split("/"),function(d){return!!d}),!g).join("/"))&&!g&&(w="."),w&&o&&(w+="/"),(g?"/":"")+w},v.isAbsolute=function(w){return"/"===w.charAt(0)},v.join=function(){var w=Array.prototype.slice.call(arguments,0);return v.normalize(_(w,function(g,o){if("string"!=typeof g)throw new TypeError("Arguments to path.join must be strings");return g}).join("/"))},v.relative=function(w,g){function o(B){for(var F=0;F<B.length&&""===B[F];F++);for(var R=B.length-1;R>=0&&""===B[R];R--);return F>R?[]:B.slice(F,R-F+1)}w=v.resolve(w).substr(1),g=v.resolve(g).substr(1);for(var d=o(w.split("/")),u=o(g.split("/")),m=Math.min(d.length,u.length),y=m,k=0;k<m;k++)if(d[k]!==u[k]){y=k;break}var P=[];for(k=y;k<d.length;k++)P.push("..");return(P=P.concat(u.slice(y))).join("/")},v.sep="/",v.delimiter=":",v.dirname=function(w){if("string"!=typeof w&&(w+=""),0===w.length)return".";for(var g=w.charCodeAt(0),o=47===g,d=-1,u=!0,m=w.length-1;m>=1;--m)if(47===(g=w.charCodeAt(m))){if(!u){d=m;break}}else u=!1;return-1===d?o?"/":".":o&&1===d?"/":w.slice(0,d)},v.basename=function(w,g){var o=function A(w){"string"!=typeof w&&(w+="");var u,g=0,o=-1,d=!0;for(u=w.length-1;u>=0;--u)if(47===w.charCodeAt(u)){if(!d){g=u+1;break}}else-1===o&&(d=!1,o=u+1);return-1===o?"":w.slice(g,o)}(w);return g&&o.substr(-1*g.length)===g&&(o=o.substr(0,o.length-g.length)),o},v.extname=function(w){"string"!=typeof w&&(w+="");for(var g=-1,o=0,d=-1,u=!0,m=0,y=w.length-1;y>=0;--y){var k=w.charCodeAt(y);if(47!==k)-1===d&&(u=!1,d=y+1),46===k?-1===g?g=y:1!==m&&(m=1):-1!==g&&(m=-1);else if(!u){o=y+1;break}}return-1===g||-1===d||0===m||1===m&&g===d-1&&g===o+1?"":w.slice(g,d)};var I=function(w,g,o){return w.substr(g,o)}}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,v,e){"use strict";(function(n){et.exports=typeof n>"u"||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?{nextTick:function E(A,_,I,w){if("function"!=typeof A)throw new TypeError('"callback" argument must be a function');var o,d,g=arguments.length;switch(g){case 0:case 1:return n.nextTick(A);case 2:return n.nextTick(function(){A.call(null,_)});case 3:return n.nextTick(function(){A.call(null,_,I)});case 4:return n.nextTick(function(){A.call(null,_,I,w)});default:for(o=new Array(g-1),d=0;d<o.length;)o[d++]=arguments[d];return n.nextTick(function(){A.apply(null,o)})}}}:n}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(et,v){var n,E,e=et.exports={};function A(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function I(B){if(n===setTimeout)return setTimeout(B,0);if((n===A||!n)&&setTimeout)return n=setTimeout,setTimeout(B,0);try{return n(B,0)}catch{try{return n.call(null,B,0)}catch{return n.call(this,B,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:A}catch{n=A}try{E="function"==typeof clearTimeout?clearTimeout:_}catch{E=_}}();var d,g=[],o=!1,u=-1;function m(){!o||!d||(o=!1,d.length?g=d.concat(g):u=-1,g.length&&y())}function y(){if(!o){var B=I(m);o=!0;for(var F=g.length;F;){for(d=g,g=[];++u<F;)d&&d[u].run();u=-1,F=g.length}d=null,o=!1,function w(B){if(E===clearTimeout)return clearTimeout(B);if((E===_||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(B);try{return E(B)}catch{try{return E.call(null,B)}catch{return E.call(this,B)}}}(B)}}function k(B,F){this.fun=B,this.array=F}function P(){}e.nextTick=function(B){var F=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)F[R-1]=arguments[R];g.push(new k(B,F)),1===g.length&&!o&&I(y)},k.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=P,e.addListener=P,e.once=P,e.off=P,e.removeListener=P,e.removeAllListeners=P,e.emit=P,e.prependListener=P,e.prependOnceListener=P,e.listeners=function(B){return[]},e.binding=function(B){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(B){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(et,v,e){et.exports=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),E=Object.keys||function(y){var k=[];for(var P in y)k.push(P);return k};et.exports=d;var A=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));A.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var _=e(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),I=e(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");A.inherits(d,_);for(var w=E(I.prototype),g=0;g<w.length;g++){var o=w[g];d.prototype[o]||(d.prototype[o]=I.prototype[o])}function d(y){if(!(this instanceof d))return new d(y);_.call(this,y),I.call(this,y),y&&!1===y.readable&&(this.readable=!1),y&&!1===y.writable&&(this.writable=!1),this.allowHalfOpen=!0,y&&!1===y.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||n.nextTick(m,this)}function m(y){y.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),d.prototype._destroy=function(y,k){this.push(null),this.end(),n.nextTick(k,y)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=A;var n=e(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),E=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function A(_){if(!(this instanceof A))return new A(_);n.call(this,_)}E.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(A,n),A.prototype._transform=function(_,I,w){w(null,_)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,v,e){"use strict";(function(n,E){var A=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");et.exports=M;var I,_=e(
/*! isarray */
"./node_modules/isarray/index.js");M.ReadableState=O,e(
/*! events */
"./node_modules/events/events.js");var g=function(_e,K){return _e.listeners(K).length},o=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),d=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,u=n.Uint8Array||function(){};var k=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));k.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var P=e(
/*! util */
0),B=void 0;B=P&&P.debuglog?P.debuglog("stream"):function(){};var D,F=e(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),R=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");k.inherits(M,o);var T=["error","close","destroy","pause","resume"];function O(_e,K){var oe=K instanceof(I=I||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(_e=_e||{}).objectMode,oe&&(this.objectMode=this.objectMode||!!_e.readableObjectMode);var pe=_e.highWaterMark,re=_e.readableHighWaterMark;this.highWaterMark=pe||0===pe?pe:oe&&(re||0===re)?re:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_e.encoding&&(D||(D=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new D(_e.encoding),this.encoding=_e.encoding)}function M(_e){if(I=I||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof M))return new M(_e);this._readableState=new O(_e,this),this.readable=!0,_e&&("function"==typeof _e.read&&(this._read=_e.read),"function"==typeof _e.destroy&&(this._destroy=_e.destroy)),o.call(this)}function G(_e,K,oe,pe,re){var X,Q=_e._readableState;return null===K?(Q.reading=!1,function Y(_e,K){if(!K.ended){if(K.decoder){var oe=K.decoder.end();oe&&oe.length&&(K.buffer.push(oe),K.length+=K.objectMode?1:oe.length)}K.ended=!0,ve(_e)}}(_e,Q)):(re||(X=function ee(_e,K){var oe;return!function y(_e){return d.isBuffer(_e)||_e instanceof u}(K)&&"string"!=typeof K&&void 0!==K&&!_e.objectMode&&(oe=new TypeError("Invalid non-string/buffer chunk")),oe}(Q,K)),X?_e.emit("error",X):Q.objectMode||K&&K.length>0?("string"!=typeof K&&!Q.objectMode&&Object.getPrototypeOf(K)!==d.prototype&&(K=function m(_e){return d.from(_e)}(K)),pe?Q.endEmitted?_e.emit("error",new Error("stream.unshift() after end event")):Z(_e,Q,K,!0):Q.ended?_e.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!oe?(K=Q.decoder.write(K),Q.objectMode||0!==K.length?Z(_e,Q,K,!1):Se(_e,Q)):Z(_e,Q,K,!1))):pe||(Q.reading=!1)),function ae(_e){return!_e.ended&&(_e.needReadable||_e.length<_e.highWaterMark||0===_e.length)}(Q)}function Z(_e,K,oe,pe){K.flowing&&0===K.length&&!K.sync?(_e.emit("data",oe),_e.read(0)):(K.length+=K.objectMode?1:oe.length,pe?K.buffer.unshift(oe):K.buffer.push(oe),K.needReadable&&ve(_e)),Se(_e,K)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(_e){this._readableState&&(this._readableState.destroyed=_e)}}),M.prototype.destroy=R.destroy,M.prototype._undestroy=R.undestroy,M.prototype._destroy=function(_e,K){this.push(null),K(_e)},M.prototype.push=function(_e,K){var pe,oe=this._readableState;return oe.objectMode?pe=!0:"string"==typeof _e&&((K=K||oe.defaultEncoding)!==oe.encoding&&(_e=d.from(_e,K),K=""),pe=!0),G(this,_e,K,!1,pe)},M.prototype.unshift=function(_e){return G(this,_e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(_e){return D||(D=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new D(_e),this._readableState.encoding=_e,this};var Ae=8388608;function le(_e,K){return _e<=0||0===K.length&&K.ended?0:K.objectMode?1:_e!=_e?K.flowing&&K.length?K.buffer.head.data.length:K.length:(_e>K.highWaterMark&&(K.highWaterMark=function j(_e){return _e>=Ae?_e=Ae:(_e--,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e++),_e}(_e)),_e<=K.length?_e:K.ended?K.length:(K.needReadable=!0,0))}function ve(_e){var K=_e._readableState;K.needReadable=!1,K.emittedReadable||(B("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?A.nextTick(de,_e):de(_e))}function de(_e){B("emit readable"),_e.emit("readable"),fe(_e)}function Se(_e,K){K.readingMore||(K.readingMore=!0,A.nextTick(xe,_e,K))}function xe(_e,K){for(var oe=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(B("maybeReadMore read 0"),_e.read(0),oe!==K.length);)oe=K.length;K.readingMore=!1}function ge(_e){B("readable nexttick read 0"),_e.read(0)}function Le(_e,K){K.reading||(B("resume read 0"),_e.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,_e.emit("resume"),fe(_e),K.flowing&&!K.reading&&_e.read(0)}function fe(_e){var K=_e._readableState;for(B("flow",K.flowing);K.flowing&&null!==_e.read(););}function we(_e,K){return 0===K.length?null:(K.objectMode?oe=K.buffer.shift():!_e||_e>=K.length?(oe=K.decoder?K.buffer.join(""):1===K.buffer.length?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):oe=function Te(_e,K,oe){var pe;return _e<K.head.data.length?(pe=K.head.data.slice(0,_e),K.head.data=K.head.data.slice(_e)):pe=_e===K.head.data.length?K.shift():oe?function De(_e,K){var oe=K.head,pe=1,re=oe.data;for(_e-=re.length;oe=oe.next;){var Q=oe.data,X=_e>Q.length?Q.length:_e;if(re+=X===Q.length?Q:Q.slice(0,_e),0==(_e-=X)){X===Q.length?(++pe,K.head=oe.next?oe.next:K.tail=null):(K.head=oe,oe.data=Q.slice(X));break}++pe}return K.length-=pe,re}(_e,K):function Ue(_e,K){var oe=d.allocUnsafe(_e),pe=K.head,re=1;for(pe.data.copy(oe),_e-=pe.data.length;pe=pe.next;){var Q=pe.data,X=_e>Q.length?Q.length:_e;if(Q.copy(oe,oe.length-_e,0,X),0==(_e-=X)){X===Q.length?(++re,K.head=pe.next?pe.next:K.tail=null):(K.head=pe,pe.data=Q.slice(X));break}++re}return K.length-=re,oe}(_e,K),pe}(_e,K.buffer,K.decoder),oe);var oe}function lt(_e){var K=_e._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,A.nextTick(He,K,_e))}function He(_e,K){!_e.endEmitted&&0===_e.length&&(_e.endEmitted=!0,K.readable=!1,K.emit("end"))}function be(_e,K){for(var oe=0,pe=_e.length;oe<pe;oe++)if(_e[oe]===K)return oe;return-1}M.prototype.read=function(_e){B("read",_e),_e=parseInt(_e,10);var K=this._readableState,oe=_e;if(0!==_e&&(K.emittedReadable=!1),0===_e&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return B("read: emitReadable",K.length,K.ended),0===K.length&&K.ended?lt(this):ve(this),null;if(0===(_e=le(_e,K))&&K.ended)return 0===K.length&&lt(this),null;var re,pe=K.needReadable;return B("need readable",pe),(0===K.length||K.length-_e<K.highWaterMark)&&B("length less than watermark",pe=!0),K.ended||K.reading?B("reading or ended",pe=!1):pe&&(B("do read"),K.reading=!0,K.sync=!0,0===K.length&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(_e=le(oe,K))),null===(re=_e>0?we(_e,K):null)?(K.needReadable=!0,_e=0):K.length-=_e,0===K.length&&(K.ended||(K.needReadable=!0),oe!==_e&&K.ended&&lt(this)),null!==re&&this.emit("data",re),re},M.prototype._read=function(_e){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(_e,K){var oe=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=_e;break;case 1:pe.pipes=[pe.pipes,_e];break;default:pe.pipes.push(_e)}pe.pipesCount+=1,B("pipe count=%d opts=%j",pe.pipesCount,K);var Q=K&&!1===K.end||_e===E.stdout||_e===E.stderr?qe:$;function X(Xe,ut){B("onunpipe"),Xe===oe&&ut&&!1===ut.hasUnpiped&&(ut.hasUnpiped=!0,function q(){B("cleanup"),_e.removeListener("close",Ne),_e.removeListener("finish",tt),_e.removeListener("drain",ne),_e.removeListener("error",ye),_e.removeListener("unpipe",X),oe.removeListener("end",$),oe.removeListener("end",qe),oe.removeListener("data",Ee),J=!0,pe.awaitDrain&&(!_e._writableState||_e._writableState.needDrain)&&ne()}())}function $(){B("onend"),_e.end()}pe.endEmitted?A.nextTick(Q):oe.once("end",Q),_e.on("unpipe",X);var ne=function Ge(_e){return function(){var K=_e._readableState;B("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,0===K.awaitDrain&&g(_e,"data")&&(K.flowing=!0,fe(_e))}}(oe);_e.on("drain",ne);var J=!1;var me=!1;function Ee(Xe){B("ondata"),me=!1,!1===_e.write(Xe)&&!me&&((1===pe.pipesCount&&pe.pipes===_e||pe.pipesCount>1&&-1!==be(pe.pipes,_e))&&!J&&(B("false write response, pause",oe._readableState.awaitDrain),oe._readableState.awaitDrain++,me=!0),oe.pause())}function ye(Xe){B("onerror",Xe),qe(),_e.removeListener("error",ye),0===g(_e,"error")&&_e.emit("error",Xe)}function Ne(){_e.removeListener("finish",tt),qe()}function tt(){B("onfinish"),_e.removeListener("close",Ne),qe()}function qe(){B("unpipe"),oe.unpipe(_e)}return oe.on("data",Ee),function C(_e,K,oe){if("function"==typeof _e.prependListener)return _e.prependListener(K,oe);_e._events&&_e._events[K]?_(_e._events[K])?_e._events[K].unshift(oe):_e._events[K]=[oe,_e._events[K]]:_e.on(K,oe)}(_e,"error",ye),_e.once("close",Ne),_e.once("finish",tt),_e.emit("pipe",oe),pe.flowing||(B("pipe resume"),oe.resume()),_e},M.prototype.unpipe=function(_e){var K=this._readableState,oe={hasUnpiped:!1};if(0===K.pipesCount)return this;if(1===K.pipesCount)return _e&&_e!==K.pipes||(_e||(_e=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,_e&&_e.emit("unpipe",this,oe)),this;if(!_e){var pe=K.pipes,re=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Q=0;Q<re;Q++)pe[Q].emit("unpipe",this,oe);return this}var X=be(K.pipes,_e);return-1===X||(K.pipes.splice(X,1),K.pipesCount-=1,1===K.pipesCount&&(K.pipes=K.pipes[0]),_e.emit("unpipe",this,oe)),this},M.prototype.addListener=M.prototype.on=function(_e,K){var oe=o.prototype.on.call(this,_e,K);if("data"===_e)!1!==this._readableState.flowing&&this.resume();else if("readable"===_e){var pe=this._readableState;!pe.endEmitted&&!pe.readableListening&&(pe.readableListening=pe.needReadable=!0,pe.emittedReadable=!1,pe.reading?pe.length&&ve(this):A.nextTick(ge,this))}return oe},M.prototype.resume=function(){var _e=this._readableState;return _e.flowing||(B("resume"),_e.flowing=!0,function Ce(_e,K){K.resumeScheduled||(K.resumeScheduled=!0,A.nextTick(Le,_e,K))}(this,_e)),this},M.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function(_e){var K=this,oe=this._readableState,pe=!1;for(var re in _e.on("end",function(){if(B("wrapped end"),oe.decoder&&!oe.ended){var X=oe.decoder.end();X&&X.length&&K.push(X)}K.push(null)}),_e.on("data",function(X){B("wrapped data"),oe.decoder&&(X=oe.decoder.write(X)),oe.objectMode&&null==X||!(oe.objectMode||X&&X.length)||K.push(X)||(pe=!0,_e.pause())}),_e)void 0===this[re]&&"function"==typeof _e[re]&&(this[re]=function(X){return function(){return _e[X].apply(_e,arguments)}}(re));for(var Q=0;Q<T.length;Q++)_e.on(T[Q],this.emit.bind(this,T[Q]));return this._read=function(X){B("wrapped _read",X),pe&&(pe=!1,_e.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=we}).call(this,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(et,v,e){"use strict";et.exports=_;var n=e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),E=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function A(g,o){var d=this._transformState;d.transforming=!1;var u=d.writecb;if(!u)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,null!=o&&this.push(o),u(g);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function _(g){if(!(this instanceof _))return new _(g);n.call(this,g),this._transformState={afterTransform:A.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&("function"==typeof g.transform&&(this._transform=g.transform),"function"==typeof g.flush&&(this._flush=g.flush)),this.on("prefinish",I)}function I(){var g=this;"function"==typeof this._flush?this._flush(function(o,d){w(g,o,d)}):w(this,null,null)}function w(g,o,d){if(o)return g.emit("error",o);if(null!=d&&g.push(d),g._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(g._transformState.transforming)throw new Error("Calling transform done when still transforming");return g.push(null)}E.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(_,n),_.prototype.push=function(g,o){return this._transformState.needTransform=!1,n.prototype.push.call(this,g,o)},_.prototype._transform=function(g,o,d){throw new Error("_transform() is not implemented")},_.prototype._write=function(g,o,d){var u=this._transformState;if(u.writecb=d,u.writechunk=g,u.writeencoding=o,!u.transforming){var m=this._readableState;(u.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},_.prototype._read=function(g){var o=this._transformState;null!==o.writechunk&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},_.prototype._destroy=function(g,o){var d=this;n.prototype._destroy.call(this,g,function(u){o(u),d.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,v,e){"use strict";(function(n,E,A){var _=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function w(Le){var fe=this;this.next=null,this.entry=null,this.finish=function(){!function Ce(Le,fe,we){var Te=Le.entry;for(Le.entry=null;Te;){var De=Te.callback;fe.pendingcb--,De(we),Te=Te.next}fe.corkedRequestsFree?fe.corkedRequestsFree.next=Le:fe.corkedRequestsFree=Le}(fe,Le)}}et.exports=C;var o,g=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?E:_.nextTick;C.WritableState=D;var d=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));d.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var u={deprecate:e(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},m=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),y=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,k=A.Uint8Array||function(){};var T,F=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function R(){}function D(Le,fe){o=o||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var we=fe instanceof o;this.objectMode=!!(Le=Le||{}).objectMode,we&&(this.objectMode=this.objectMode||!!Le.writableObjectMode);var Te=Le.highWaterMark,De=Le.writableHighWaterMark;this.highWaterMark=Te||0===Te?Te:we&&(De||0===De)?De:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Le.decodeStrings),this.defaultEncoding=Le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(He){!function j(Le,fe){var we=Le._writableState,Te=we.sync,De=we.writecb;if(function Ae(Le){Le.writing=!1,Le.writecb=null,Le.length-=Le.writelen,Le.writelen=0}(we),fe)!function ae(Le,fe,we,Te,De){--fe.pendingcb,we?(_.nextTick(De,Te),_.nextTick(Ge,Le,fe),Le._writableState.errorEmitted=!0,Le.emit("error",Te)):(De(Te),Le._writableState.errorEmitted=!0,Le.emit("error",Te),Ge(Le,fe))}(Le,we,Te,fe,De);else{var Ue=de(we);!Ue&&!we.corked&&!we.bufferProcessing&&we.bufferedRequest&&ve(Le,we),Te?g(le,Le,we,Ue,De):le(Le,we,Ue,De)}}(fe,He)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function C(Le){if(o=o||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(T.call(C,this)||this instanceof o))return new C(Le);this._writableState=new D(Le,this),this.writable=!0,Le&&("function"==typeof Le.write&&(this._write=Le.write),"function"==typeof Le.writev&&(this._writev=Le.writev),"function"==typeof Le.destroy&&(this._destroy=Le.destroy),"function"==typeof Le.final&&(this._final=Le.final)),m.call(this)}function Z(Le,fe,we,Te,De,Ue){if(!we){var lt=function G(Le,fe,we){return!Le.objectMode&&!1!==Le.decodeStrings&&"string"==typeof fe&&(fe=y.from(fe,we)),fe}(fe,Te,De);Te!==lt&&(we=!0,De="buffer",Te=lt)}var He=fe.objectMode?1:Te.length;fe.length+=He;var be=fe.length<fe.highWaterMark;if(be||(fe.needDrain=!0),fe.writing||fe.corked){var _e=fe.lastBufferedRequest;fe.lastBufferedRequest={chunk:Te,encoding:De,isBuf:we,callback:Ue,next:null},_e?_e.next=fe.lastBufferedRequest:fe.bufferedRequest=fe.lastBufferedRequest,fe.bufferedRequestCount+=1}else ee(Le,fe,!1,He,Te,De,Ue);return be}function ee(Le,fe,we,Te,De,Ue,lt){fe.writelen=Te,fe.writecb=lt,fe.writing=!0,fe.sync=!0,we?Le._writev(De,fe.onwrite):Le._write(De,Ue,fe.onwrite),fe.sync=!1}function le(Le,fe,we,Te){we||function Y(Le,fe){0===fe.length&&fe.needDrain&&(fe.needDrain=!1,Le.emit("drain"))}(Le,fe),fe.pendingcb--,Te(),Ge(Le,fe)}function ve(Le,fe){fe.bufferProcessing=!0;var we=fe.bufferedRequest;if(Le._writev&&we&&we.next){var De=new Array(fe.bufferedRequestCount),Ue=fe.corkedRequestsFree;Ue.entry=we;for(var lt=0,He=!0;we;)De[lt]=we,we.isBuf||(He=!1),we=we.next,lt+=1;De.allBuffers=He,ee(Le,fe,!0,fe.length,De,"",Ue.finish),fe.pendingcb++,fe.lastBufferedRequest=null,Ue.next?(fe.corkedRequestsFree=Ue.next,Ue.next=null):fe.corkedRequestsFree=new w(fe),fe.bufferedRequestCount=0}else{for(;we;){var be=we.chunk;if(ee(Le,fe,!1,fe.objectMode?1:be.length,be,we.encoding,we.callback),we=we.next,fe.bufferedRequestCount--,fe.writing)break}null===we&&(fe.lastBufferedRequest=null)}fe.bufferedRequest=we,fe.bufferProcessing=!1}function de(Le){return Le.ending&&0===Le.length&&null===Le.bufferedRequest&&!Le.finished&&!Le.writing}function Se(Le,fe){Le._final(function(we){fe.pendingcb--,we&&Le.emit("error",we),fe.prefinished=!0,Le.emit("prefinish"),Ge(Le,fe)})}function Ge(Le,fe){var we=de(fe);return we&&(function xe(Le,fe){!fe.prefinished&&!fe.finalCalled&&("function"==typeof Le._final?(fe.pendingcb++,fe.finalCalled=!0,_.nextTick(Se,Le,fe)):(fe.prefinished=!0,Le.emit("prefinish")))}(Le,fe),0===fe.pendingcb&&(fe.finished=!0,Le.emit("finish"))),we}d.inherits(C,m),D.prototype.getBuffer=function(){for(var fe=this.bufferedRequest,we=[];fe;)we.push(fe),fe=fe.next;return we},function(){try{Object.defineProperty(D.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(Le){return!!T.call(this,Le)||this===C&&Le&&Le._writableState instanceof D}})):T=function(Le){return Le instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(Le,fe,we){var Te=this._writableState,De=!1,Ue=!Te.objectMode&&function B(Le){return y.isBuffer(Le)||Le instanceof k}(Le);return Ue&&!y.isBuffer(Le)&&(Le=function P(Le){return y.from(Le)}(Le)),"function"==typeof fe&&(we=fe,fe=null),Ue?fe="buffer":fe||(fe=Te.defaultEncoding),"function"!=typeof we&&(we=R),Te.ended?function O(Le,fe){var we=new Error("write after end");Le.emit("error",we),_.nextTick(fe,we)}(this,we):(Ue||function M(Le,fe,we,Te){var De=!0,Ue=!1;return null===we?Ue=new TypeError("May not write null values to stream"):"string"!=typeof we&&void 0!==we&&!fe.objectMode&&(Ue=new TypeError("Invalid non-string/buffer chunk")),Ue&&(Le.emit("error",Ue),_.nextTick(Te,Ue),De=!1),De}(this,Te,Le,we))&&(Te.pendingcb++,De=Z(this,Te,Ue,Le,fe,we)),De},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Le=this._writableState;Le.corked&&(Le.corked--,!Le.writing&&!Le.corked&&!Le.finished&&!Le.bufferProcessing&&Le.bufferedRequest&&ve(this,Le))},C.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=fe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((fe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+fe);return this._writableState.defaultEncoding=fe,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Le,fe,we){we(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(Le,fe,we){var Te=this._writableState;"function"==typeof Le?(we=Le,Le=null,fe=null):"function"==typeof fe&&(we=fe,fe=null),null!=Le&&this.write(Le,fe),Te.corked&&(Te.corked=1,this.uncork()),!Te.ending&&!Te.finished&&function ge(Le,fe,we){fe.ending=!0,Ge(Le,fe),we&&(fe.finished?_.nextTick(we):Le.once("finish",we)),fe.ended=!0,Le.writable=!1}(this,Te,we)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Le){this._writableState&&(this._writableState.destroyed=Le)}}),C.prototype.destroy=F.destroy,C.prototype._undestroy=F.undestroy,C.prototype._destroy=function(Le,fe){this.end(),fe(Le)}}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(et,v,e){"use strict";var E=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,A=e(
/*! util */
1);function _(I,w,g){I.copy(w,g)}et.exports=function(){function I(){(function n(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")})(this,I),this.head=null,this.tail=null,this.length=0}return I.prototype.push=function(g){var o={data:g,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},I.prototype.unshift=function(g){var o={data:g,next:this.head};0===this.length&&(this.tail=o),this.head=o,++this.length},I.prototype.shift=function(){if(0!==this.length){var g=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,g}},I.prototype.clear=function(){this.head=this.tail=null,this.length=0},I.prototype.join=function(g){if(0===this.length)return"";for(var o=this.head,d=""+o.data;o=o.next;)d+=g+o.data;return d},I.prototype.concat=function(g){if(0===this.length)return E.alloc(0);if(1===this.length)return this.head.data;for(var o=E.allocUnsafe(g>>>0),d=this.head,u=0;d;)_(d.data,o,u),u+=d.data.length,d=d.next;return o},I}(),A&&A.inspect&&A.inspect.custom&&(et.exports.prototype[A.inspect.custom]=function(){var I=A.inspect({length:this.length});return this.constructor.name+" "+I})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function _(I,w){I.emit("error",w)}et.exports={destroy:function E(I,w){var g=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(w?w(I):I&&(!this._writableState||!this._writableState.errorEmitted)&&n.nextTick(_,this,I),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(I||null,function(u){!w&&u?(n.nextTick(_,g,u),g._writableState&&(g._writableState.errorEmitted=!0)):w&&w(u)}),this)},undestroy:function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(et,v,e){et.exports=e(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(et,v,e){var n=e(
/*! buffer */
"./node_modules/buffer/index.js"),E=n.Buffer;function A(I,w){for(var g in I)w[g]=I[g]}function _(I,w,g){return E(I,w,g)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?et.exports=n:(A(n,v),v.Buffer=_),A(E,_),_.from=function(I,w,g){if("number"==typeof I)throw new TypeError("Argument must not be a number");return E(I,w,g)},_.alloc=function(I,w,g){if("number"!=typeof I)throw new TypeError("Argument must be a number");var o=E(I);return void 0!==w?"string"==typeof g?o.fill(w,g):o.fill(w):o.fill(0),o},_.allocUnsafe=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return E(I)},_.allocUnsafeSlow=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return n.SlowBuffer(I)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(et,v,e){et.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,v,e){(v=et.exports=e(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=v,v.Readable=v,v.Writable=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),v.Duplex=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),v.Transform=e(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),v.PassThrough=e(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(et,v,e){et.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,v,e){et.exports=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(et,v,e){var n=e(
/*! buffer */
"./node_modules/buffer/index.js"),E=n.Buffer;function A(I,w){for(var g in I)w[g]=I[g]}function _(I,w,g){return E(I,w,g)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?et.exports=n:(A(n,v),v.Buffer=_),_.prototype=Object.create(E.prototype),A(E,_),_.from=function(I,w,g){if("number"==typeof I)throw new TypeError("Argument must not be a number");return E(I,w,g)},_.alloc=function(I,w,g){if("number"!=typeof I)throw new TypeError("Argument must be a number");var o=E(I);return void 0!==w?"string"==typeof g?o.fill(w,g):o.fill(w):o.fill(0),o},_.allocUnsafe=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return E(I)},_.allocUnsafeSlow=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return n.SlowBuffer(I)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(et,v,e){(function(n){!function(E){E.parser=function(K,oe){return new _(K,oe)},E.SAXParser=_,E.SAXStream=m,E.createStream=function u(K,oe){return new m(K,oe)},E.MAX_BUFFER_LENGTH=65536;var o,A=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function _(K,oe){if(!(this instanceof _))return new _(K,oe);var pe=this;(function w(K){for(var oe=0,pe=A.length;oe<pe;oe++)K[A[oe]]=""})(pe),pe.q=pe.c="",pe.bufferCheckPosition=E.MAX_BUFFER_LENGTH,pe.opt=oe||{},pe.opt.lowercase=pe.opt.lowercase||pe.opt.lowercasetags,pe.looseCase=pe.opt.lowercase?"toLowerCase":"toUpperCase",pe.tags=[],pe.closed=pe.closedRoot=pe.sawRoot=!1,pe.tag=pe.error=null,pe.strict=!!K,pe.noscript=!(!K&&!pe.opt.noscript),pe.state=Y.BEGIN,pe.strictEntities=pe.opt.strictEntities,pe.ENTITIES=Object.create(pe.strictEntities?E.XML_ENTITIES:E.ENTITIES),pe.attribList=[],pe.opt.xmlns&&(pe.ns=Object.create(O)),pe.trackPosition=!1!==pe.opt.position,pe.trackPosition&&(pe.position=pe.line=pe.column=0),de(pe,"onready")}E.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(K){function oe(){}return oe.prototype=K,new oe}),Object.keys||(Object.keys=function(K){var oe=[];for(var pe in K)K.hasOwnProperty(pe)&&oe.push(pe);return oe}),_.prototype={end:function(){Ce(this)},write:function _e(K){var oe=this;if(this.error)throw this.error;if(oe.closed)return ge(oe,"Cannot write after close. Assign an onready handler.");if(null===K)return Ce(oe);"object"==typeof K&&(K=K.toString());for(var pe=0,re="";re=be(K,pe++),oe.c=re,re;)switch(oe.trackPosition&&(oe.position++,"\n"===re?(oe.line++,oe.column=0):oe.column++),oe.state){case Y.BEGIN:if(oe.state=Y.BEGIN_WHITESPACE,"\ufeff"===re)continue;He(oe,re);continue;case Y.BEGIN_WHITESPACE:He(oe,re);continue;case Y.TEXT:if(oe.sawRoot&&!oe.closedRoot){for(var Q=pe-1;re&&"<"!==re&&"&"!==re;)(re=be(K,pe++))&&oe.trackPosition&&(oe.position++,"\n"===re?(oe.line++,oe.column=0):oe.column++);oe.textNode+=K.substring(Q,pe-1)}"<"!==re||oe.sawRoot&&oe.closedRoot&&!oe.strict?(le(y,re)&&(!oe.sawRoot||oe.closedRoot)&&Le(oe,"Text data outside of root node."),"&"===re?oe.state=Y.TEXT_ENTITY:oe.textNode+=re):(oe.state=Y.OPEN_WAKA,oe.startTagPosition=oe.position);continue;case Y.SCRIPT:"<"===re?oe.state=Y.SCRIPT_ENDING:oe.script+=re;continue;case Y.SCRIPT_ENDING:"/"===re?oe.state=Y.CLOSE_TAG:(oe.script+="<"+re,oe.state=Y.SCRIPT);continue;case Y.OPEN_WAKA:"!"===re?(oe.state=Y.SGML_DECL,oe.sgmlDecl=""):j(y,re)||(j(M,re)?(oe.state=Y.OPEN_TAG,oe.tagName=re):"/"===re?(oe.state=Y.CLOSE_TAG,oe.tagName=""):"?"===re?(oe.state=Y.PROC_INST,oe.procInstName=oe.procInstBody=""):(Le(oe,"Unencoded <"),oe.startTagPosition+1<oe.position&&(re=new Array(oe.position-oe.startTagPosition).join(" ")+re),oe.textNode+="<"+re,oe.state=Y.TEXT));continue;case Y.SGML_DECL:(oe.sgmlDecl+re).toUpperCase()===R?(Se(oe,"onopencdata"),oe.state=Y.CDATA,oe.sgmlDecl="",oe.cdata=""):oe.sgmlDecl+re==="--"?(oe.state=Y.COMMENT,oe.comment="",oe.sgmlDecl=""):(oe.sgmlDecl+re).toUpperCase()===D?(oe.state=Y.DOCTYPE,(oe.doctype||oe.sawRoot)&&Le(oe,"Inappropriately located doctype declaration"),oe.doctype="",oe.sgmlDecl=""):">"===re?(Se(oe,"onsgmldeclaration",oe.sgmlDecl),oe.sgmlDecl="",oe.state=Y.TEXT):(j(B,re)&&(oe.state=Y.SGML_DECL_QUOTED),oe.sgmlDecl+=re);continue;case Y.SGML_DECL_QUOTED:re===oe.q&&(oe.state=Y.SGML_DECL,oe.q=""),oe.sgmlDecl+=re;continue;case Y.DOCTYPE:">"===re?(oe.state=Y.TEXT,Se(oe,"ondoctype",oe.doctype),oe.doctype=!0):(oe.doctype+=re,"["===re?oe.state=Y.DOCTYPE_DTD:j(B,re)&&(oe.state=Y.DOCTYPE_QUOTED,oe.q=re));continue;case Y.DOCTYPE_QUOTED:oe.doctype+=re,re===oe.q&&(oe.q="",oe.state=Y.DOCTYPE);continue;case Y.DOCTYPE_DTD:oe.doctype+=re,"]"===re?oe.state=Y.DOCTYPE:j(B,re)&&(oe.state=Y.DOCTYPE_DTD_QUOTED,oe.q=re);continue;case Y.DOCTYPE_DTD_QUOTED:oe.doctype+=re,re===oe.q&&(oe.state=Y.DOCTYPE_DTD,oe.q="");continue;case Y.COMMENT:"-"===re?oe.state=Y.COMMENT_ENDING:oe.comment+=re;continue;case Y.COMMENT_ENDING:"-"===re?(oe.state=Y.COMMENT_ENDED,oe.comment=Ge(oe.opt,oe.comment),oe.comment&&Se(oe,"oncomment",oe.comment),oe.comment=""):(oe.comment+="-"+re,oe.state=Y.COMMENT);continue;case Y.COMMENT_ENDED:">"!==re?(Le(oe,"Malformed comment"),oe.comment+="--"+re,oe.state=Y.COMMENT):oe.state=Y.TEXT;continue;case Y.CDATA:"]"===re?oe.state=Y.CDATA_ENDING:oe.cdata+=re;continue;case Y.CDATA_ENDING:"]"===re?oe.state=Y.CDATA_ENDING_2:(oe.cdata+="]"+re,oe.state=Y.CDATA);continue;case Y.CDATA_ENDING_2:">"===re?(oe.cdata&&Se(oe,"oncdata",oe.cdata),Se(oe,"onclosecdata"),oe.cdata="",oe.state=Y.TEXT):"]"===re?oe.cdata+="]":(oe.cdata+="]]"+re,oe.state=Y.CDATA);continue;case Y.PROC_INST:"?"===re?oe.state=Y.PROC_INST_ENDING:j(y,re)?oe.state=Y.PROC_INST_BODY:oe.procInstName+=re;continue;case Y.PROC_INST_BODY:if(!oe.procInstBody&&j(y,re))continue;"?"===re?oe.state=Y.PROC_INST_ENDING:oe.procInstBody+=re;continue;case Y.PROC_INST_ENDING:">"===re?(Se(oe,"onprocessinginstruction",{name:oe.procInstName,body:oe.procInstBody}),oe.procInstName=oe.procInstBody="",oe.state=Y.TEXT):(oe.procInstBody+="?"+re,oe.state=Y.PROC_INST_BODY);continue;case Y.OPEN_TAG:j(G,re)?oe.tagName+=re:(fe(oe),">"===re?De(oe):"/"===re?oe.state=Y.OPEN_TAG_SLASH:(le(y,re)&&Le(oe,"Invalid character in tag name"),oe.state=Y.ATTRIB));continue;case Y.OPEN_TAG_SLASH:">"===re?(De(oe,!0),Ue(oe)):(Le(oe,"Forward-slash in opening tag not followed by >"),oe.state=Y.ATTRIB);continue;case Y.ATTRIB:if(j(y,re))continue;">"===re?De(oe):"/"===re?oe.state=Y.OPEN_TAG_SLASH:j(M,re)?(oe.attribName=re,oe.attribValue="",oe.state=Y.ATTRIB_NAME):Le(oe,"Invalid attribute name");continue;case Y.ATTRIB_NAME:"="===re?oe.state=Y.ATTRIB_VALUE:">"===re?(Le(oe,"Attribute without value"),oe.attribValue=oe.attribName,Te(oe),De(oe)):j(y,re)?oe.state=Y.ATTRIB_NAME_SAW_WHITE:j(G,re)?oe.attribName+=re:Le(oe,"Invalid attribute name");continue;case Y.ATTRIB_NAME_SAW_WHITE:if("="===re)oe.state=Y.ATTRIB_VALUE;else{if(j(y,re))continue;Le(oe,"Attribute without value"),oe.tag.attributes[oe.attribName]="",oe.attribValue="",Se(oe,"onattribute",{name:oe.attribName,value:""}),oe.attribName="",">"===re?De(oe):j(M,re)?(oe.attribName=re,oe.state=Y.ATTRIB_NAME):(Le(oe,"Invalid attribute name"),oe.state=Y.ATTRIB)}continue;case Y.ATTRIB_VALUE:if(j(y,re))continue;j(B,re)?(oe.q=re,oe.state=Y.ATTRIB_VALUE_QUOTED):(Le(oe,"Unquoted attribute value"),oe.state=Y.ATTRIB_VALUE_UNQUOTED,oe.attribValue=re);continue;case Y.ATTRIB_VALUE_QUOTED:if(re!==oe.q){"&"===re?oe.state=Y.ATTRIB_VALUE_ENTITY_Q:oe.attribValue+=re;continue}Te(oe),oe.q="",oe.state=Y.ATTRIB_VALUE_CLOSED;continue;case Y.ATTRIB_VALUE_CLOSED:j(y,re)?oe.state=Y.ATTRIB:">"===re?De(oe):"/"===re?oe.state=Y.OPEN_TAG_SLASH:j(M,re)?(Le(oe,"No whitespace between attributes"),oe.attribName=re,oe.attribValue="",oe.state=Y.ATTRIB_NAME):Le(oe,"Invalid attribute name");continue;case Y.ATTRIB_VALUE_UNQUOTED:if(le(F,re)){"&"===re?oe.state=Y.ATTRIB_VALUE_ENTITY_U:oe.attribValue+=re;continue}Te(oe),">"===re?De(oe):oe.state=Y.ATTRIB;continue;case Y.CLOSE_TAG:if(oe.tagName)">"===re?Ue(oe):j(G,re)?oe.tagName+=re:oe.script?(oe.script+="</"+oe.tagName,oe.tagName="",oe.state=Y.SCRIPT):(le(y,re)&&Le(oe,"Invalid tagname in closing tag"),oe.state=Y.CLOSE_TAG_SAW_WHITE);else{if(j(y,re))continue;le(M,re)?oe.script?(oe.script+="</"+re,oe.state=Y.SCRIPT):Le(oe,"Invalid tagname in closing tag."):oe.tagName=re}continue;case Y.CLOSE_TAG_SAW_WHITE:if(j(y,re))continue;">"===re?Ue(oe):Le(oe,"Invalid characters in closing tag");continue;case Y.TEXT_ENTITY:case Y.ATTRIB_VALUE_ENTITY_Q:case Y.ATTRIB_VALUE_ENTITY_U:var $,ne;switch(oe.state){case Y.TEXT_ENTITY:$=Y.TEXT,ne="textNode";break;case Y.ATTRIB_VALUE_ENTITY_Q:$=Y.ATTRIB_VALUE_QUOTED,ne="attribValue";break;case Y.ATTRIB_VALUE_ENTITY_U:$=Y.ATTRIB_VALUE_UNQUOTED,ne="attribValue"}";"===re?(oe[ne]+=lt(oe),oe.entity="",oe.state=$):j(oe.entity.length?ee:Z,re)?oe.entity+=re:(Le(oe,"Invalid character in entity name"),oe[ne]+="&"+oe.entity+re,oe.entity="",oe.state=$);continue;default:throw new Error(oe,"Unknown state: "+oe.state)}return oe.position>=oe.bufferCheckPosition&&function I(K){for(var oe=Math.max(E.MAX_BUFFER_LENGTH,10),pe=0,re=0,Q=A.length;re<Q;re++){var X=K[A[re]].length;if(X>oe)switch(A[re]){case"textNode":xe(K);break;case"cdata":Se(K,"oncdata",K.cdata),K.cdata="";break;case"script":Se(K,"onscript",K.script),K.script="";break;default:ge(K,"Max buffer length exceeded: "+A[re])}pe=Math.max(pe,X)}K.bufferCheckPosition=E.MAX_BUFFER_LENGTH-pe+K.position}(oe),oe},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function g(K){xe(K),""!==K.cdata&&(Se(K,"oncdata",K.cdata),K.cdata=""),""!==K.script&&(Se(K,"onscript",K.script),K.script="")}(this)}};try{o=e(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{o=function(){}}var d=E.EVENTS.filter(function(K){return"error"!==K&&"end"!==K});function m(K,oe){if(!(this instanceof m))return new m(K,oe);o.apply(this),this._parser=new _(K,oe),this.writable=!0,this.readable=!0;var pe=this;this._parser.onend=function(){pe.emit("end")},this._parser.onerror=function(re){pe.emit("error",re),pe._parser.error=null},this._decoder=null,d.forEach(function(re){Object.defineProperty(pe,"on"+re,{get:function(){return pe._parser["on"+re]},set:function(Q){if(!Q)return pe.removeAllListeners(re),pe._parser["on"+re]=Q,Q;pe.on(re,Q)},enumerable:!0,configurable:!1})})}(m.prototype=Object.create(o.prototype,{constructor:{value:m}})).write=function(K){if("function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(K)){if(!this._decoder){var oe=e(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new oe("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},m.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},m.prototype.on=function(K,oe){var pe=this;return!pe._parser["on"+K]&&-1!==d.indexOf(K)&&(pe._parser["on"+K]=function(){var re=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);re.splice(0,0,K),pe.emit.apply(pe,re)}),o.prototype.on.call(pe,K,oe)};var y="\r\n\t ",k="0124356789",P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",B="'\"",F=y+">",R="[CDATA[",D="DOCTYPE",T="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",O={xml:T,xmlns:C};y=ae(y),k=ae(k),P=ae(P);var M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,G=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ae(K){return K.split("").reduce(function(oe,pe){return oe[pe]=!0,oe},{})}function j(K,oe){return function Ae(K){return"[object RegExp]"===Object.prototype.toString.call(K)}(K)?!!oe.match(K):K[oe]}function le(K,oe){return!j(K,oe)}B=ae(B),F=ae(F);var K,oe,pe,Y=0;for(var ve in E.STATE={BEGIN:Y++,BEGIN_WHITESPACE:Y++,TEXT:Y++,TEXT_ENTITY:Y++,OPEN_WAKA:Y++,SGML_DECL:Y++,SGML_DECL_QUOTED:Y++,DOCTYPE:Y++,DOCTYPE_QUOTED:Y++,DOCTYPE_DTD:Y++,DOCTYPE_DTD_QUOTED:Y++,COMMENT_STARTING:Y++,COMMENT:Y++,COMMENT_ENDING:Y++,COMMENT_ENDED:Y++,CDATA:Y++,CDATA_ENDING:Y++,CDATA_ENDING_2:Y++,PROC_INST:Y++,PROC_INST_BODY:Y++,PROC_INST_ENDING:Y++,OPEN_TAG:Y++,OPEN_TAG_SLASH:Y++,ATTRIB:Y++,ATTRIB_NAME:Y++,ATTRIB_NAME_SAW_WHITE:Y++,ATTRIB_VALUE:Y++,ATTRIB_VALUE_QUOTED:Y++,ATTRIB_VALUE_CLOSED:Y++,ATTRIB_VALUE_UNQUOTED:Y++,ATTRIB_VALUE_ENTITY_Q:Y++,ATTRIB_VALUE_ENTITY_U:Y++,CLOSE_TAG:Y++,CLOSE_TAG_SAW_WHITE:Y++,SCRIPT:Y++,SCRIPT_ENDING:Y++},E.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},E.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(E.ENTITIES).forEach(function(K){var oe=E.ENTITIES[K],pe="number"==typeof oe?String.fromCharCode(oe):oe;E.ENTITIES[K]=pe}),E.STATE)E.STATE[E.STATE[ve]]=ve;function de(K,oe,pe){K[oe]&&K[oe](pe)}function Se(K,oe,pe){K.textNode&&xe(K),de(K,oe,pe)}function xe(K){K.textNode=Ge(K.opt,K.textNode),K.textNode&&de(K,"ontext",K.textNode),K.textNode=""}function Ge(K,oe){return K.trim&&(oe=oe.trim()),K.normalize&&(oe=oe.replace(/\s+/g," ")),oe}function ge(K,oe){return xe(K),K.trackPosition&&(oe+="\nLine: "+K.line+"\nColumn: "+K.column+"\nChar: "+K.c),oe=new Error(oe),K.error=oe,de(K,"onerror",oe),K}function Ce(K){return K.sawRoot&&!K.closedRoot&&Le(K,"Unclosed root tag"),K.state!==Y.BEGIN&&K.state!==Y.BEGIN_WHITESPACE&&K.state!==Y.TEXT&&ge(K,"Unexpected end"),xe(K),K.c="",K.closed=!0,de(K,"onend"),_.call(K,K.strict,K.opt),K}function Le(K,oe){if("object"!=typeof K||!(K instanceof _))throw new Error("bad call to strictFail");K.strict&&ge(K,oe)}function fe(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var oe=K.tags[K.tags.length-1]||K,pe=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(pe.ns=oe.ns),K.attribList.length=0,Se(K,"onopentagstart",pe)}function we(K,oe){var re=K.indexOf(":")<0?["",K]:K.split(":"),Q=re[0],X=re[1];return oe&&"xmlns"===K&&(Q="xmlns",X=""),{prefix:Q,local:X}}function Te(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),-1!==K.attribList.indexOf(K.attribName)||K.tag.attributes.hasOwnProperty(K.attribName))K.attribName=K.attribValue="";else{if(K.opt.xmlns){var oe=we(K.attribName,!0),re=oe.local;if("xmlns"===oe.prefix)if("xml"===re&&K.attribValue!==T)Le(K,"xml: prefix must be bound to "+T+"\nActual: "+K.attribValue);else if("xmlns"===re&&K.attribValue!==C)Le(K,"xmlns: prefix must be bound to "+C+"\nActual: "+K.attribValue);else{var Q=K.tag,X=K.tags[K.tags.length-1]||K;Q.ns===X.ns&&(Q.ns=Object.create(X.ns)),Q.ns[re]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,Se(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}}function De(K,oe){if(K.opt.xmlns){var pe=K.tag,re=we(K.tagName);pe.prefix=re.prefix,pe.local=re.local,pe.uri=pe.ns[re.prefix]||"",pe.prefix&&!pe.uri&&(Le(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),pe.uri=re.prefix),pe.ns&&(K.tags[K.tags.length-1]||K).ns!==pe.ns&&Object.keys(pe.ns).forEach(function(qe){Se(K,"onopennamespace",{prefix:qe,uri:pe.ns[qe]})});for(var X=0,$=K.attribList.length;X<$;X++){var ne=K.attribList[X],J=ne[0],q=ne[1],me=we(J,!0),Ee=me.prefix,Ne=""===Ee?"":pe.ns[Ee]||"",tt={name:J,value:q,prefix:Ee,local:me.local,uri:Ne};Ee&&"xmlns"!==Ee&&!Ne&&(Le(K,"Unbound namespace prefix: "+JSON.stringify(Ee)),tt.uri=Ee),K.tag.attributes[J]=tt,Se(K,"onattribute",tt)}K.attribList.length=0}K.tag.isSelfClosing=!!oe,K.sawRoot=!0,K.tags.push(K.tag),Se(K,"onopentag",K.tag),oe||(K.state=K.noscript||"script"!==K.tagName.toLowerCase()?Y.TEXT:Y.SCRIPT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function Ue(K){if(!K.tagName)return Le(K,"Weird empty close tag."),K.textNode+="</>",void(K.state=Y.TEXT);if(K.script){if("script"!==K.tagName)return K.script+="</"+K.tagName+">",K.tagName="",void(K.state=Y.SCRIPT);Se(K,"onscript",K.script),K.script=""}var oe=K.tags.length,pe=K.tagName;K.strict||(pe=pe[K.looseCase]());for(var re=pe;oe--&&K.tags[oe].name!==re;)Le(K,"Unexpected close tag");if(oe<0)return Le(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",void(K.state=Y.TEXT);K.tagName=pe;for(var X=K.tags.length;X-- >oe;){var $=K.tag=K.tags.pop();K.tagName=K.tag.name,Se(K,"onclosetag",K.tagName);var ne={};for(var J in $.ns)ne[J]=$.ns[J];K.opt.xmlns&&$.ns!==(K.tags[K.tags.length-1]||K).ns&&Object.keys($.ns).forEach(function(me){Se(K,"onclosenamespace",{prefix:me,uri:$.ns[me]})})}0===oe&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=Y.TEXT}function lt(K){var re,oe=K.entity,pe=oe.toLowerCase(),Q="";return K.ENTITIES[oe]?K.ENTITIES[oe]:K.ENTITIES[pe]?K.ENTITIES[pe]:("#"===(oe=pe).charAt(0)&&("x"===oe.charAt(1)?(oe=oe.slice(2),Q=(re=parseInt(oe,16)).toString(16)):(oe=oe.slice(1),Q=(re=parseInt(oe,10)).toString(10))),oe=oe.replace(/^0+/,""),Q.toLowerCase()!==oe?(Le(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint(re))}function He(K,oe){"<"===oe?(K.state=Y.OPEN_WAKA,K.startTagPosition=K.position):le(y,oe)&&(Le(K,"Non-whitespace before first tag."),K.textNode=oe,K.state=Y.TEXT)}function be(K,oe){var pe="";return oe<K.length&&(pe=K.charAt(oe)),pe}Y=E.STATE,String.fromCodePoint||(K=String.fromCharCode,oe=Math.floor,pe=function(){var Q=[],ne=-1,J=arguments.length;if(!J)return"";for(var q="";++ne<J;){var me=Number(arguments[ne]);if(!isFinite(me)||me<0||me>1114111||oe(me)!==me)throw RangeError("Invalid code point: "+me);me<=65535?Q.push(me):Q.push(55296+((me-=65536)>>10),me%1024+56320),(ne+1===J||Q.length>16384)&&(q+=K.apply(null,Q),Q.length=0)}return q},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:pe,configurable:!0,writable:!0}):String.fromCodePoint=pe)}(v)}).call(this,e(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(et,v,e){(function(n,E){!function(A,_){"use strict";if(!A.setImmediate){var d,I=1,w={},g=!1,o=A.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(A);C=C&&C.setTimeout?C:A,"[object process]"==={}.toString.call(A.process)?function P(){d=function(O){E.nextTick(function(){k(O)})}}():function B(){if(A.postMessage&&!A.importScripts){var O=!0,M=A.onmessage;return A.onmessage=function(){O=!1},A.postMessage("","*"),A.onmessage=M,O}}()?function F(){var O="setImmediate$"+Math.random()+"$",M=function(G){G.source===A&&"string"==typeof G.data&&0===G.data.indexOf(O)&&k(+G.data.slice(O.length))};A.addEventListener?A.addEventListener("message",M,!1):A.attachEvent("onmessage",M),d=function(G){A.postMessage(O+G,"*")}}():A.MessageChannel?function R(){var O=new MessageChannel;O.port1.onmessage=function(M){k(M.data)},d=function(M){O.port2.postMessage(M)}}():o&&"onreadystatechange"in o.createElement("script")?function D(){var O=o.documentElement;d=function(M){var G=o.createElement("script");G.onreadystatechange=function(){k(M),G.onreadystatechange=null,O.removeChild(G),G=null},O.appendChild(G)}}():function T(){d=function(O){setTimeout(k,0,O)}}(),C.setImmediate=function u(O){"function"!=typeof O&&(O=new Function(""+O));for(var M=new Array(arguments.length-1),G=0;G<M.length;G++)M[G]=arguments[G+1];return w[I]={callback:O,args:M},d(I),I++},C.clearImmediate=m}function m(O){delete w[O]}function k(O){if(g)setTimeout(k,0,O);else{var M=w[O];if(M){g=!0;try{!function y(O){var M=O.callback,G=O.args;switch(G.length){case 0:M();break;case 1:M(G[0]);break;case 2:M(G[0],G[1]);break;case 3:M(G[0],G[1],G[2]);break;default:M.apply(_,G)}}(M)}finally{m(O),g=!1}}}}}(typeof self>"u"?typeof n>"u"?this:n:self)}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,v,e){et.exports=A;var n=e(
/*! events */
"./node_modules/events/events.js").EventEmitter;function A(){n.call(this)}e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(A,n),A.Readable=e(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),A.Writable=e(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),A.Duplex=e(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),A.Transform=e(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),A.PassThrough=e(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),A.Stream=A,A.prototype.pipe=function(_,I){var w=this;function g(P){_.writable&&!1===_.write(P)&&w.pause&&w.pause()}function o(){w.readable&&w.resume&&w.resume()}w.on("data",g),_.on("drain",o),!_._isStdio&&(!I||!1!==I.end)&&(w.on("end",u),w.on("close",m));var d=!1;function u(){d||(d=!0,_.end())}function m(){d||(d=!0,"function"==typeof _.destroy&&_.destroy())}function y(P){if(k(),0===n.listenerCount(this,"error"))throw P}function k(){w.removeListener("data",g),_.removeListener("drain",o),w.removeListener("end",u),w.removeListener("close",m),w.removeListener("error",y),_.removeListener("error",y),w.removeListener("end",k),w.removeListener("close",k),_.removeListener("close",k)}return w.on("error",y),_.on("error",y),w.on("end",k),w.on("close",k),_.on("close",k),_.emit("pipe",w),_}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(et,v,e){"use strict";var n=e(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,E=n.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function I(D){var T;switch(this.encoding=function _(D){var T=function A(D){if(!D)return"utf8";for(var T;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(T)return;D=(""+D).toLowerCase(),T=!0}}(D);if("string"!=typeof T&&(n.isEncoding===E||!E(D)))throw new Error("Unknown encoding: "+D);return T||D}(D),this.encoding){case"utf16le":this.text=y,this.end=k,T=4;break;case"utf8":this.fillLast=d,T=4;break;case"base64":this.text=P,this.end=B,T=3;break;default:return this.write=F,void(this.end=R)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(T)}function w(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:D>>6==2?-1:-2}function d(D){var T=this.lastTotal-this.lastNeed,C=function o(D,T,C){if(128!=(192&T[0]))return D.lastNeed=0,"\ufffd";if(D.lastNeed>1&&T.length>1){if(128!=(192&T[1]))return D.lastNeed=1,"\ufffd";if(D.lastNeed>2&&T.length>2&&128!=(192&T[2]))return D.lastNeed=2,"\ufffd"}}(this,D);return void 0!==C?C:this.lastNeed<=D.length?(D.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,T,0,D.length),void(this.lastNeed-=D.length))}function y(D,T){if((D.length-T)%2==0){var C=D.toString("utf16le",T);if(C){var O=C.charCodeAt(C.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",T,D.length-1)}function k(D){var T=D&&D.length?this.write(D):"";return this.lastNeed?T+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):T}function P(D,T){var C=(D.length-T)%3;return 0===C?D.toString("base64",T):(this.lastNeed=3-C,this.lastTotal=3,1===C?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",T,D.length-C))}function B(D){var T=D&&D.length?this.write(D):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function F(D){return D.toString(this.encoding)}function R(D){return D&&D.length?this.write(D):""}v.StringDecoder=I,I.prototype.write=function(D){if(0===D.length)return"";var T,C;if(this.lastNeed){if(void 0===(T=this.fillLast(D)))return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<D.length?T?T+this.text(D,C):this.text(D,C):T||""},I.prototype.end=function m(D){var T=D&&D.length?this.write(D):"";return this.lastNeed?T+"\ufffd":T},I.prototype.text=function u(D,T){var C=function g(D,T,C){var O=T.length-1;if(O<C)return 0;var M=w(T[O]);return M>=0?(M>0&&(D.lastNeed=M-1),M):--O<C||-2===M?0:(M=w(T[O]))>=0?(M>0&&(D.lastNeed=M-2),M):--O<C||-2===M?0:(M=w(T[O]))>=0?(M>0&&(2===M?M=0:D.lastNeed=M-3),M):0}(this,D,T);if(!this.lastNeed)return D.toString("utf8",T);this.lastTotal=C;var O=D.length-(C-this.lastNeed);return D.copy(this.lastChar,0,O),D.toString("utf8",T,O)},I.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(et,v,e){(function(n){var E=typeof n<"u"&&n||typeof self<"u"&&self||window,A=Function.prototype.apply;function _(I,w){this._id=I,this._clearFn=w}v.setTimeout=function(){return new _(A.call(setTimeout,E,arguments),clearTimeout)},v.setInterval=function(){return new _(A.call(setInterval,E,arguments),clearInterval)},v.clearTimeout=v.clearInterval=function(I){I&&I.close()},_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(E,this._id)},v.enroll=function(I,w){clearTimeout(I._idleTimeoutId),I._idleTimeout=w},v.unenroll=function(I){clearTimeout(I._idleTimeoutId),I._idleTimeout=-1},v._unrefActive=v.active=function(I){clearTimeout(I._idleTimeoutId);var w=I._idleTimeout;w>=0&&(I._idleTimeoutId=setTimeout(function(){I._onTimeout&&I._onTimeout()},w))},e(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),v.setImmediate=typeof self<"u"&&self.setImmediate||typeof n<"u"&&n.setImmediate||this&&this.setImmediate,v.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof n<"u"&&n.clearImmediate||this&&this.clearImmediate}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(et,v,e){var n;!function(E,A){"use strict";var g="function",o="undefined",d="object",u="string",y="model",k="name",P="type",B="vendor",F="version",R="architecture",D="console",T="mobile",C="tablet",O="smarttv",M="wearable",G="embedded",ee="Amazon",ae="Apple",j="BlackBerry",le="Browser",Y="Chrome",de="Firefox",Se="Google",ge="Microsoft",Ce="Motorola",Le="Opera",fe="Samsung",Te="Sony",De="Xiaomi",Ue="Zebra",lt="Facebook",be=function(Ee){for(var ye={},Ne=0;Ne<Ee.length;Ne++)ye[Ee[Ne].toUpperCase()]=Ee[Ne];return ye},_e=function(Ee,ye){return typeof Ee===u&&-1!==K(ye).indexOf(K(Ee))},K=function(Ee){return Ee.toLowerCase()},pe=function(Ee,ye){if(typeof Ee===u)return Ee=Ee.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ye===o?Ee:Ee.substring(0,350)},re=function(Ee,ye){for(var tt,qe,Xe,ut,ze,ht,Ne=0;Ne<ye.length&&!ze;){var vt=ye[Ne],ce=ye[Ne+1];for(tt=qe=0;tt<vt.length&&!ze;)if(ze=vt[tt++].exec(Ee))for(Xe=0;Xe<ce.length;Xe++)ht=ze[++qe],typeof(ut=ce[Xe])===d&&ut.length>0?2===ut.length?this[ut[0]]=typeof ut[1]==g?ut[1].call(this,ht):ut[1]:3===ut.length?this[ut[0]]=typeof ut[1]!==g||ut[1].exec&&ut[1].test?ht?ht.replace(ut[1],ut[2]):A:ht?ut[1].call(this,ht,ut[2]):A:4===ut.length&&(this[ut[0]]=ht?ut[3].call(this,ht.replace(ut[1],ut[2])):A):this[ut]=ht||A;Ne+=2}},Q=function(Ee,ye){for(var Ne in ye)if(typeof ye[Ne]===d&&ye[Ne].length>0){for(var tt=0;tt<ye[Ne].length;tt++)if(_e(ye[Ne][tt],Ee))return"?"===Ne?A:Ne}else if(_e(ye[Ne],Ee))return"?"===Ne?A:Ne;return Ee},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[F,[k,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[F,[k,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[k,F],[/opios[\/ ]+([\w\.]+)/i],[F,[k,Le+" Mini"]],[/\bopr\/([\w\.]+)/i],[F,[k,Le]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[k,F],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[F,[k,"UC"+le]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[F,[k,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[F,[k,"WeChat"]],[/konqueror\/([\w\.]+)/i],[F,[k,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[F,[k,"IE"]],[/yabrowser\/([\w\.]+)/i],[F,[k,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[k,/(.+)/,"$1 Secure "+le],F],[/\bfocus\/([\w\.]+)/i],[F,[k,de+" Focus"]],[/\bopt\/([\w\.]+)/i],[F,[k,Le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[F,[k,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[F,[k,"Dolphin"]],[/coast\/([\w\.]+)/i],[F,[k,Le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[F,[k,"MIUI "+le]],[/fxios\/([-\w\.]+)/i],[F,[k,de]],[/\bqihu|(qi?ho?o?|360)browser/i],[[k,"360 "+le]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[k,/(.+)/,"$1 "+le],F],[/(comodo_dragon)\/([\w\.]+)/i],[[k,/_/g," "],F],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[k,F],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[k],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[k,lt],F],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[k,F],[/\bgsa\/([\w\.]+) .*safari\//i],[F,[k,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[F,[k,Y+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[k,Y+" WebView"],F],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[F,[k,"Android "+le]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[k,F],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[F,[k,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[F,k],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[k,[F,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[k,F],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[k,"Netscape"],F],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[F,[k,de+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[k,F]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[R,"amd64"]],[/(ia32(?=;))/i],[[R,K]],[/((?:i[346]|x)86)[;\)]/i],[[R,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[R,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[R,"armhf"]],[/windows (ce|mobile); ppc;/i],[[R,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[R,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[R,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[R,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[B,fe],[P,C]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[y,[B,fe],[P,T]],[/\((ip(?:hone|od)[\w ]*);/i],[y,[B,ae],[P,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[B,ae],[P,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[y,[B,"Huawei"],[P,C]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[B,"Huawei"],[P,T]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[y,/_/g," "],[B,De],[P,T]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[y,/_/g," "],[B,De],[P,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[B,"OPPO"],[P,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[B,"Vivo"],[P,T]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[y,[B,"Realme"],[P,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[B,Ce],[P,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[B,Ce],[P,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[B,"LG"],[P,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[B,"LG"],[P,T]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[y,[B,"Lenovo"],[P,C]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[y,/_/g," "],[B,"Nokia"],[P,T]],[/(pixel c)\b/i],[y,[B,Se],[P,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[B,Se],[P,T]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[B,Te],[P,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[B,Te],[P,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[B,"OnePlus"],[P,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[B,ee],[P,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[B,ee],[P,T]],[/(playbook);[-\w\),; ]+(rim)/i],[y,B,[P,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[B,j],[P,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[B,"ASUS"],[P,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[B,"ASUS"],[P,T]],[/(nexus 9)/i],[y,[B,"HTC"],[P,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[B,[y,/_/g," "],[P,T]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[B,"Acer"],[P,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[B,"Meizu"],[P,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[B,"Sharp"],[P,T]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[B,y,[P,T]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[B,y,[P,C]],[/(surface duo)/i],[y,[B,ge],[P,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[B,"Fairphone"],[P,T]],[/(u304aa)/i],[y,[B,"AT&T"],[P,T]],[/\bsie-(\w*)/i],[y,[B,"Siemens"],[P,T]],[/\b(rct\w+) b/i],[y,[B,"RCA"],[P,C]],[/\b(venue[\d ]{2,7}) b/i],[y,[B,"Dell"],[P,C]],[/\b(q(?:mv|ta)\w+) b/i],[y,[B,"Verizon"],[P,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[y,[B,"Barnes & Noble"],[P,C]],[/\b(tm\d{3}\w+) b/i],[y,[B,"NuVision"],[P,C]],[/\b(k88) b/i],[y,[B,"ZTE"],[P,C]],[/\b(nx\d{3}j) b/i],[y,[B,"ZTE"],[P,T]],[/\b(gen\d{3}) b.+49h/i],[y,[B,"Swiss"],[P,T]],[/\b(zur\d{3}) b/i],[y,[B,"Swiss"],[P,C]],[/\b((zeki)?tb.*\b) b/i],[y,[B,"Zeki"],[P,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[B,"Dragon Touch"],y,[P,C]],[/\b(ns-?\w{0,9}) b/i],[y,[B,"Insignia"],[P,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[y,[B,"NextBook"],[P,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[B,"Voice"],y,[P,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[B,"LvTel"],y,[P,T]],[/\b(ph-1) /i],[y,[B,"Essential"],[P,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[y,[B,"Envizen"],[P,C]],[/\b(trio[-\w\. ]+) b/i],[y,[B,"MachSpeed"],[P,C]],[/\btu_(1491) b/i],[y,[B,"Rotor"],[P,C]],[/(shield[\w ]+) b/i],[y,[B,"Nvidia"],[P,C]],[/(sprint) (\w+)/i],[B,y,[P,T]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[B,ge],[P,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[B,Ue],[P,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[B,Ue],[P,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[B,y,[P,D]],[/droid.+; (shield) bui/i],[y,[B,"Nvidia"],[P,D]],[/(playstation [345portablevi]+)/i],[y,[B,Te],[P,D]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[B,ge],[P,D]],[/smart-tv.+(samsung)/i],[B,[P,O]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[B,fe],[P,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[B,"LG"],[P,O]],[/(apple) ?tv/i],[B,[y,ae+" TV"],[P,O]],[/crkey/i],[[y,Y+"cast"],[B,Se],[P,O]],[/droid.+aft(\w)( bui|\))/i],[y,[B,ee],[P,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[B,"Sharp"],[P,O]],[/(bravia[\w ]+)( bui|\))/i],[y,[B,Te],[P,O]],[/(mitv-\w{5}) bui/i],[y,[B,De],[P,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[B,pe],[y,pe],[P,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[P,O]],[/((pebble))app/i],[B,y,[P,M]],[/droid.+; (glass) \d/i],[y,[B,Se],[P,M]],[/droid.+; (wt63?0{2,3})\)/i],[y,[B,Ue],[P,M]],[/(quest( 2)?)/i],[y,[B,lt],[P,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[B,[P,G]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[y,[P,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[y,[P,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[P,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[P,T]],[/(android[-\w\. ]{0,9});.+buil/i],[y,[B,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[F,[k,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[F,[k,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[k,F],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[F,k]],os:[[/microsoft (windows) (vista|xp)/i],[k,F],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[k,[F,Q,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[k,"Windows"],[F,Q,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[F,/_/g,"."],[k,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[k,"Mac OS"],[F,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[F,k],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[k,F],[/\(bb(10);/i],[F,[k,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[F,[k,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[F,[k,de+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[F,[k,"webOS"]],[/crkey\/([\d\.]+)/i],[F,[k,Y+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[k,"Chromium OS"],F],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[k,F],[/(sunos) ?([\w\.\d]*)/i],[[k,"Solaris"],F],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[k,F]]},J=function(Ee,ye){if(typeof Ee===d&&(ye=Ee,Ee=A),!(this instanceof J))return new J(Ee,ye).getResult();var Ne=Ee||(typeof E!==o&&E.navigator&&E.navigator.userAgent?E.navigator.userAgent:""),tt=ye?function(Ee,ye){var Ne={};for(var tt in Ee)Ne[tt]=ye[tt]&&ye[tt].length%2==0?ye[tt].concat(Ee[tt]):Ee[tt];return Ne}(ne,ye):ne;return this.getBrowser=function(){var qe={};return qe[k]=A,qe[F]=A,re.call(qe,Ne,tt.browser),qe.major=function(Ee){return typeof Ee===u?Ee.replace(/[^\d\.]/g,"").split(".")[0]:A}(qe.version),qe},this.getCPU=function(){var qe={};return qe[R]=A,re.call(qe,Ne,tt.cpu),qe},this.getDevice=function(){var qe={};return qe[B]=A,qe[y]=A,qe[P]=A,re.call(qe,Ne,tt.device),qe},this.getEngine=function(){var qe={};return qe[k]=A,qe[F]=A,re.call(qe,Ne,tt.engine),qe},this.getOS=function(){var qe={};return qe[k]=A,qe[F]=A,re.call(qe,Ne,tt.os),qe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ne},this.setUA=function(qe){return Ne=typeof qe===u&&qe.length>350?pe(qe,350):qe,this},this.setUA(Ne),this};J.VERSION="1.0.32",J.BROWSER=be([k,F,"major"]),J.CPU=be([R]),J.DEVICE=be([y,B,P,D,T,O,C,M,G]),J.ENGINE=J.OS=be([k,F]),typeof v!==o?(typeof et!==o&&et.exports&&(v=et.exports=J),v.UAParser=J):e(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(n=function(){return J}.call(v,e,v,et))!==A&&(et.exports=n):typeof E!==o&&(E.UAParser=J);var q=typeof E!==o&&(E.jQuery||E.Zepto);if(q&&!q.ua){var me=new J;q.ua=me.getResult(),q.ua.get=function(){return me.getUA()},q.ua.set=function(Ee){me.setUA(Ee);var ye=me.getResult();for(var Ne in ye)q.ua[Ne]=ye[Ne]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(et,v,e){(function(n){function A(_){try{if(!n.localStorage)return!1}catch{return!1}var I=n.localStorage[_];return null!=I&&"true"===String(I).toLowerCase()}et.exports=function E(_,I){if(A("noDeprecation"))return _;var w=!1;return function g(){if(!w){if(A("throwDeprecation"))throw new Error(I);A("traceDeprecation")?console.trace(I):console.warn(I),w=!0}return _.apply(this,arguments)}}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(et,v){(function(e){et.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(et,v){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}et.exports=e},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./EventBus */
"./src/core/EventBus.js"),E=e(
/*! ./events/Events */
"./src/core/events/Events.js"),A=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),I=1,w=2,g=3,o=4,d=5;function u(y){y=y||{};var R,D,T,C,k=this.context,P=Object(n.default)(k).getInstance(),B=y.settings,F=[];function M(de){return de&&de.bind?de.bind(window.console):window.console.log.bind(window.console)}function ae(){for(var de=arguments.length,Se=new Array(de),xe=0;xe<de;xe++)Se[xe]=arguments[xe];ve.apply(void 0,[I,this].concat(Se))}function Ae(){for(var de=arguments.length,Se=new Array(de),xe=0;xe<de;xe++)Se[xe]=arguments[xe];ve.apply(void 0,[w,this].concat(Se))}function j(){for(var de=arguments.length,Se=new Array(de),xe=0;xe<de;xe++)Se[xe]=arguments[xe];ve.apply(void 0,[g,this].concat(Se))}function le(){for(var de=arguments.length,Se=new Array(de),xe=0;xe<de;xe++)Se[xe]=arguments[xe];ve.apply(void 0,[o,this].concat(Se))}function Y(){for(var de=arguments.length,Se=new Array(de),xe=0;xe<de;xe++)Se[xe]=arguments[xe];ve.apply(void 0,[d,this].concat(Se))}function ve(de,Se){var xe="",Ge=null;D&&(Ge=(new Date).getTime(),xe+="["+(Ge-C)+"]"),T&&Se&&Se.getClassName&&(xe+="["+Se.getClassName()+"]",Se.getType&&(xe+="["+Se.getType()+"]")),xe.length>0&&(xe+=" ");for(var ge=arguments.length,Ce=new Array(ge>2?ge-2:0),Le=2;Le<ge;Le++)Ce[Le-2]=arguments[Le];Array.apply(null,Ce).forEach(function(fe){xe+=fe+" "}),F[de]&&B.get().debug.logLevel>=de&&F[de](xe),B&&B.get().debug.dispatchEvent&&P.trigger(E.default.LOG,{message:xe,level:de})}return R={getLogger:function G(de){return{fatal:ae.bind(de),error:Ae.bind(de),warn:j.bind(de),info:le.bind(de),debug:Y.bind(de)}},setLogTimestampVisible:function Z(de){D=de},setCalleeNameVisible:function ee(de){T=de}},function O(){D=!0,T=!0,C=(new Date).getTime(),typeof window<"u"&&window.console&&(F[I]=M(window.console.error),F[w]=M(window.console.error),F[g]=M(window.console.warn),F[o]=M(window.console.info),F[d]=M(window.console.debug))}(),R}u.__dashjs_factory_name="Debug";var m=A.default.getSingletonFactory(u);m.LOG_LEVEL_NONE=0,m.LOG_LEVEL_FATAL=I,m.LOG_LEVEL_ERROR=w,m.LOG_LEVEL_WARNING=g,m.LOG_LEVEL_INFO=o,m.LOG_LEVEL_DEBUG=d,A.default.updateSingletonFactory(u.__dashjs_factory_name,m),v.default=m},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function I(){var g={};function m(P,B,F){var R=-1;return g[P]&&g[P].some(function(D,T){if(D&&D.callback===B&&(!F||F===D.scope))return R=T,!0}),R}return{on:function o(P,B,F){var R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!P)throw new Error("event type cannot be null or undefined");if(!B||"function"!=typeof B)throw new Error("listener must be a function: "+B);var D=R.priority||0;if(!(m(P,B,F)>=0)){g[P]=g[P]||[];var T={callback:B,scope:F,priority:D};F&&F.getStreamId&&(T.streamId=F.getStreamId()),F&&F.getType&&(T.mediaType=F.getType()),R&&R.mode&&(T.mode=R.mode),g[P].some(function(O,M){if(O&&D>O.priority)return g[P].splice(M,0,T),!0})||g[P].push(T)}},off:function d(P,B,F){if(P&&B&&g[P]){var R=m(P,B,F);R<0||(g[P][R]=null)}},trigger:function u(P){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(P&&g[P]){if((B=B||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");B.type=P,F.streamId&&(B.streamId=F.streamId),F.mediaType&&(B.mediaType=F.mediaType),g[P].filter(function(R){return!(!R||F.streamId&&R.streamId&&R.streamId!==F.streamId||F.mediaType&&R.mediaType&&R.mediaType!==F.mediaType||F.mode&&R.mode&&R.mode!==F.mode||!R.mode&&F.mode&&F.mode===E.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(R){return R&&R.callback.call(R.scope,B)})}},reset:function y(){g={}}}}I.__dashjs_factory_name="EventBus";var w=n.default.getSingletonFactory(I);w.EVENT_PRIORITY_LOW=0,w.EVENT_PRIORITY_HIGH=5e3,n.default.updateSingletonFactory(I.__dashjs_factory_name,w),v.default=w},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=function(){var E,A=[],_={},I={};function g(T,C){for(var O in A){var M=A[O];if(M.context===T&&M.name===C)return M.instance}return null}function u(T,C){return C[T]}function m(T,C,O){T in O&&(O[T]=C)}function D(T,C,O){var M,G=T.__dashjs_factory_name,Z=C[G];if(Z){var ee=Z.instance;if(!Z.override)return ee.apply({context:C,factory:E},O);for(var ae in M=T.apply({context:C},O),ee=ee.apply({context:C,factory:E,parent:M},O))M.hasOwnProperty(ae)&&(M[ae]=ee[ae])}else M=T.apply({context:C},O);return M.getClassName=function(){return G},M}return E={extend:function w(T,C,O,M){!M[T]&&C&&(M[T]={instance:C,override:O})},getSingletonInstance:g,setSingletonInstance:function o(T,C,O){for(var M in A){var G=A[M];if(G.context===T&&G.name===C)return void(A[M].instance=O)}A.push({name:C,context:T,instance:O})},deleteSingletonInstances:function d(T){A=A.filter(function(C){return C.context!==T})},getSingletonFactory:function R(T){var C=u(T.__dashjs_factory_name,_);return C||(C=function(M){var G;return void 0===M&&(M={}),{getInstance:function(){return G||(G=g(M,T.__dashjs_factory_name)),G||(G=D(T,M,arguments),A.push({name:T.__dashjs_factory_name,context:M,instance:G})),G}}},_[T.__dashjs_factory_name]=C),C},getSingletonFactoryByName:function F(T){return u(T,_)},updateSingletonFactory:function B(T,C){m(T,C,_)},getClassFactory:function P(T){var C=u(T.__dashjs_factory_name,I);return C||(C=function(M){return void 0===M&&(M={}),{create:function(){return D(T,M,arguments)}}},I[T.__dashjs_factory_name]=C),C},getClassFactoryByName:function k(T){return u(T,I)},updateClassFactory:function y(T,C){m(T,C,I)}}}();v.default=n},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./Utils.js */
"./src/core/Utils.js"),A=e(
/*! ../core/Debug */
"./src/core/Debug.js"),_=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=e(
/*! ./EventBus */
"./src/core/EventBus.js"),g=e(
/*! ./events/Events */
"./src/core/events/Events.js");function o(P){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(P)}function d(P,B,F){return(B=function u(P){var B=function m(P,B){if("object"!==o(P)||null===P)return P;var F=P[Symbol.toPrimitive];if(void 0!==F){var R=F.call(P,B||"default");if("object"!==o(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===B?String:Number)(P)}(P,"string");return"symbol"===o(B)?B:String(B)}(B))in P?Object.defineProperty(P,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[B]=F,P}function y(){var P,B,R=this.context,D=Object(w.default)(R).getInstance(),T={"streaming.delay.liveDelay":g.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":g.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":g.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":g.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":g.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},C={debug:{logLevel:A.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:_.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:_.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:_.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:_.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(P={},d(P,I.HTTPRequest.MPD_TYPE,500),d(P,I.HTTPRequest.XLINK_EXPANSION_TYPE,500),d(P,I.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),d(P,I.HTTPRequest.INIT_SEGMENT_TYPE,1e3),d(P,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),d(P,I.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),d(P,I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),d(P,I.HTTPRequest.LICENSE,1e3),d(P,I.HTTPRequest.OTHER_TYPE,1e3),d(P,"lowLatencyReductionFactor",10),P),retryAttempts:(B={},d(B,I.HTTPRequest.MPD_TYPE,3),d(B,I.HTTPRequest.XLINK_EXPANSION_TYPE,1),d(B,I.HTTPRequest.MEDIA_SEGMENT_TYPE,3),d(B,I.HTTPRequest.INIT_SEGMENT_TYPE,3),d(B,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),d(B,I.HTTPRequest.INDEX_SEGMENT_TYPE,3),d(B,I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),d(B,I.HTTPRequest.LICENSE,3),d(B,I.HTTPRequest.OTHER_TYPE,3),d(B,"lowLatencyMultiplyFactor",5),B),abr:{movingAverageMethod:_.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:_.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:_.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:_.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},O=E.default.clone(C);function M(ae,Ae,j){for(var le in ae)ae.hasOwnProperty(le)&&(Ae.hasOwnProperty(le)?"object"!==o(ae[le])||ae[le]instanceof Array||null===ae[le]?(Ae[le]=E.default.clone(ae[le]),T[j+le]&&D.trigger(T[j+le])):M(ae[le],Ae[le],j.slice()+le+"."):console.error("Settings parameter "+j+le+" is not supported"))}return{get:function G(){return O},update:function Z(ae){"object"===o(ae)&&M(ae,O,"")},reset:function ee(){O=E.default.clone(C)}}}y.__dashjs_factory_name="Settings";var k=n.default.getSingletonFactory(y);v.default=k},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),E=e.n(n),A=e(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function I(y){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(y)}function g(y,k){for(var P=0;P<k.length;P++){var B=k[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(y,d(B.key),B)}}function d(y){var k=function u(y,k){if("object"!==I(y)||null===y)return y;var P=y[Symbol.toPrimitive];if(void 0!==P){var B=P.call(y,k||"default");if("object"!==I(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===k?String:Number)(y)}(y,"string");return"symbol"===I(k)?k:String(k)}var m=function(){function y(){!function w(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}(this,y)}return function o(y,k,P){return k&&g(y.prototype,k),P&&g(y,P),Object.defineProperty(y,"prototype",{writable:!1}),y}(y,null,[{key:"mixin",value:function(P,B,F){var R,D={};if(P)for(var T in B)B.hasOwnProperty(T)&&(R=B[T],(!(T in P)||P[T]!==R&&(!(T in D)||D[T]!==R))&&(P[T]="object"===I(P[T])&&null!==P[T]?y.mixin(P[T],R,F):F(R)));return P}},{key:"clone",value:function(P){if(!P||"object"!==I(P))return P;var B;if(P instanceof Array){B=[];for(var F=0,R=P.length;F<R;++F)F in P&&B.push(y.clone(P[F]))}else B={};return y.mixin(B,P,y.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(P,B){try{if(!B||0===B.length)return P;var F=new URL(P);return B.forEach(function(R){R.key&&R.value&&F.searchParams.set(R.key,R.value)}),F.href}catch{return P}}},{key:"parseHttpHeaders",value:function(P){var B={};if(!P)return B;for(var F=P.trim().split("\r\n"),R=0,D=F.length;R<D;R++){var T=F[R],C=T.indexOf(": ");C>0&&(B[T.substring(0,C)]=T.substring(C+2))}return B}},{key:"generateUuid",value:function(){var P=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){var R=(P+16*Math.random())%16|0;return P=Math.floor(P/16),("x"==F?R:3&R|8).toString(16)})}},{key:"generateHashCode",value:function(P){var B=0;if(0===P.length)return B;for(var F=0;F<P.length;F++)B=(B<<5)-B+P.charCodeAt(F),B|=0;return B}},{key:"getRelativeUrl",value:function(P,B){try{var F=new URL(P),R=new URL(B);if(F.protocol=R.protocol,F.origin!==R.origin)return B;var D=E.a.relative(F.pathname.substr(0,F.pathname.lastIndexOf("/")),R.pathname.substr(0,R.pathname.lastIndexOf("/"))),T=0===D.length?1:0;return D+=R.pathname.substr(R.pathname.lastIndexOf("/")+T,R.pathname.length-1),R.pathname.length<D.length?R.pathname:D}catch{return B}}},{key:"parseUserAgent",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var B=null===P&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(A.UAParser)(B)}catch{return{}}}}]),y}();v.default=m},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(et,v,e){"use strict";e.r(v),e.d(v,"getVersionString",function(){return E});var n="4.5.2";function E(){return n}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(et,v,e){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}e.r(v);var F=new(function(R){o(T,R);var D=u(T);function T(){var C;return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(C=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,C.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,C.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,C.SEGMENT_BASE_LOADER_ERROR_CODE=15,C.TIME_SYNC_FAILED_ERROR_CODE=16,C.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,C.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,C.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,C.APPEND_ERROR_CODE=20,C.REMOVE_ERROR_CODE=21,C.DATA_UPDATE_FAILED_ERROR_CODE=22,C.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,C.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,C.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,C.DOWNLOAD_ERROR_ID_SIDX_CODE=26,C.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,C.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,C.DOWNLOAD_ERROR_ID_XLINK_CODE=29,C.MANIFEST_ERROR_ID_PARSE_CODE=31,C.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,C.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,C.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,C.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,C.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",C.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",C.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",C.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",C.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",C.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",C.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",C.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",C.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",C.APPEND_ERROR_MESSAGE="chunk is not defined",C.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",C.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",C.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",C.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",C.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",C.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",C}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(e(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));v.default=F},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(){!function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o)}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"extend",value:function(u,m){if(u){var y=!!m&&m.override,k=!!m&&m.publicOnly;for(var P in u)!u.hasOwnProperty(P)||this[P]&&!y||k&&-1===u[P].indexOf("public_")||(this[P]=u[P])}}}]),o}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(F)}function A(F,R){for(var D=0;D<R.length;D++){var T=R[D];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,I(T.key),T)}}function I(F){var R=function w(F,R){if("object"!==E(F)||null===F)return F;var D=F[Symbol.toPrimitive];if(void 0!==D){var T=D.call(F,R||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(F)}(F,"string");return"symbol"===E(R)?R:String(R)}function o(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(R&&R.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),R&&d(F,R)}function d(F,R){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,C){return T.__proto__=C,T})(F,R)}function u(F){var R=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,T=P(F);if(R){var O=P(this).constructor;C=Reflect.construct(T,arguments,O)}else C=T.apply(this,arguments);return function m(F,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function y(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F)}(this,C)}}function P(F){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}v.default=function(F){o(D,F);var R=u(D);function D(){var T;return function g(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")}(this,D),(T=R.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",T.BUFFERING_COMPLETED="bufferingCompleted",T.BUFFER_CLEARED="bufferCleared",T.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",T.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",T.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",T.CURRENT_TRACK_CHANGED="currentTrackChanged",T.DATA_UPDATE_COMPLETED="dataUpdateCompleted",T.INBAND_EVENTS="inbandEvents",T.INITIAL_STREAM_SWITCH="initialStreamSwitch",T.INIT_FRAGMENT_LOADED="initFragmentLoaded",T.INIT_FRAGMENT_NEEDED="initFragmentNeeded",T.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",T.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",T.LOADING_COMPLETED="loadingCompleted",T.LOADING_PROGRESS="loadingProgress",T.LOADING_DATA_PROGRESS="loadingDataProgress",T.LOADING_ABANDONED="loadingAborted",T.MANIFEST_UPDATED="manifestUpdated",T.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",T.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",T.QUOTA_EXCEEDED="quotaExceeded",T.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",T.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",T.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",T.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",T.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",T.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",T.SOURCE_BUFFER_ERROR="sourceBufferError",T.STREAMS_COMPOSED="streamsComposed",T.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",T.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",T.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",T.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",T.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",T.URL_RESOLUTION_FAILED="urlResolutionFailed",T.VIDEO_CHUNK_RECEIVED="videoChunkReceived",T.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",T.XLINK_ELEMENT_LOADED="xlinkElementLoaded",T.XLINK_READY="xlinkReady",T.SEEK_TARGET="seekTarget",T.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",T.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",T.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",T.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",T.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",T}return function _(F,R,D){return R&&A(F.prototype,R),D&&A(F,D),Object.defineProperty(F,"prototype",{writable:!1}),F}(D)}(n.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(et,v,e){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}e.r(v);var B=function(R){o(T,R);var D=u(T);function T(){return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),D.apply(this,arguments)}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(e(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),F=new B;v.default=F},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(){!function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o)}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"extend",value:function(u,m){if(u){var y=!!m&&m.override,k=!!m&&m.publicOnly;for(var P in u)!u.hasOwnProperty(P)||this[P]&&!y||k&&-1===u[P].indexOf("public_")||(this[P]=u[P])}}}]),o}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=e(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),A=e(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),_=e(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),I=e(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),w=e(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),g=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),o=e(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),d=e(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),u=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),m=e.n(u);function y(){var k,P,B,F,R,D,T,C=this.context;function ae(Fe){return P.getRolesForAdaptation(Fe).filter(function(ke){return ke.value===n.default.MAIN})[0]}function Ae(Fe,ke,it){var ot=P.getAdaptationsForType(F[0].mpd.manifest,Fe,ke);if(!ot||0===ot.length)return null;if(ot.length>1&&it){var ft=Y(it,ke);if(R[it.id]&&R[it.id][ke])for(var mt=0,Et=ot.length;mt<Et;mt++)if(j(R[it.id][ke],ft[mt]))return ot[mt];for(var Qt=0,fn=ot.length;Qt<fn;Qt++)if(ae(ot[Qt]))return ot[Qt]}return ot[0]}function j(Fe,ke){if(!Fe||!ke)return!1;var it=Fe.id===ke.id,ot=Fe.codec===ke.codec,ft=Fe.viewpoint===ke.viewpoint,mt=Fe.lang===ke.lang,Et=Fe.roles.toString()===ke.roles.toString(),Qt=Fe.accessibility.toString()===ke.accessibility.toString(),fn=Fe.audioChannelConfiguration.toString()===ke.audioChannelConfiguration.toString();return it&&ot&&ft&&mt&&Et&&Qt&&fn}function le(Fe,ke,it,ot,ft,mt){var fn,Jt,pn,Tn,Dn,Et=[];if(!ot||0===ot.length)return[];var Fn=P.getAdaptationsForPeriod(ke);for(pn=0,Dn=ot.length;pn<Dn;pn++)if(fn=Ve(Fn[Jt=P.getIndexForAdaptation(ot[pn],Fe,it.index)]),mt){var Kn=fn.accessibility.length;for(Tn=0;Tn<Kn;Tn++)if(fn){var dn=fn.accessibility[Tn];if(0===dn.indexOf("cea-608:")){var un=dn.substring(8).split(";");if("CC"===un[0].substring(0,2))for(Tn=0;Tn<un.length;Tn++)fn||(fn=Ve.call(this,Fn[Jt])),yt(fn,un[Tn].substring(0,3),un[Tn].substring(4)),Et.push(fn),fn=null;else for(Tn=0;Tn<un.length;Tn++)fn||(fn=Ve.call(this,Fn[Jt])),yt(fn,"CC"+(Tn+1),un[Tn]),Et.push(fn),fn=null}else 0===dn.indexOf("cea-608")&&(yt(fn,D.CC1,"eng"),Et.push(fn),fn=null)}}else ft===D.IMAGE?(Bt(fn),Et.push(fn),fn=null):fn&&Et.push(fn);return Et}function Y(Fe,ke,it){var ot=F,ft=it,mt=[];if(ft)cn(),ot=_e(ft);else{if(!(F.length>0))return mt;ft=F[0].mpd.manifest}var Et=ce(Fe,ot),Qt=P.getAdaptationsForType(ft,Fe?Fe.index:null,ke);return mt=le(ft,Et,Fe,Qt,ke),ke===D.TEXT&&(Qt=P.getAdaptationsForType(ft,Fe?Fe.index:null,D.VIDEO),mt=mt.concat(le(ft,Et,Fe,Qt,ke,!0))),mt}function _e(Fe){var ke=K(Fe);return P.getRegularPeriods(ke)}function K(Fe){var ke=ht(Fe);return P.getMpd(ke)}function Xe(){F=[],R={}}function ht(Fe){return Fe||(F.length>0?F[0].mpd.manifest:null)}function vt(Fe){try{var ke=ce(Fe.streamInfo,F),it=P.getAdaptationsForPeriod(ke);return Fe&&Fe.streamInfo&&void 0!==Fe.streamInfo.id&&it?it[Fe.index]:null}catch{return null}}function ce(Fe,ke){for(var it=ke.length,ot=0;ot<it;ot++){var ft=ke[ot];if(Fe&&Fe.id===ft.id)return ft}return null}function Ve(Fe){if(!Fe)return null;var ot,ke=new A.default,it=Fe.period.mpd.manifest.Period_asArray[Fe.period.index].AdaptationSet_asArray[Fe.index];if(ke.id=Fe.id,ke.index=Fe.index,ke.type=Fe.type,ke.streamInfo=zt(Fe.period),ke.representationCount=P.getRepresentationCount(it),ke.labels=P.getLabelsForAdaptation(it),ke.lang=P.getLanguageForAdaptation(it),ot=P.getViewpointForAdaptation(it),ke.viewpoint=ot?ot.value:void 0,ke.accessibility=P.getAccessibilityForAdaptation(it).map(function(Et){var Qt=Et.value,fn=Qt;return Et.schemeIdUri&&Et.schemeIdUri.search("cea-608")>=0&&typeof T<"u"&&(fn=Qt?"cea-608:"+Qt:"cea-608",ke.embeddedCaptions=!0),fn}),ke.audioChannelConfiguration=P.getAudioChannelConfigurationForAdaptation(it).map(function(Et){return Et.value}),0===ke.audioChannelConfiguration.length&&Array.isArray(it.Representation_asArray)&&it.Representation_asArray.length>0&&(ke.audioChannelConfiguration=P.getAudioChannelConfigurationForRepresentation(it.Representation_asArray[0]).map(function(Et){return Et.value})),ke.roles=P.getRolesForAdaptation(it).map(function(Et){return Et.value}),ke.codec=P.getCodec(it),ke.mimeType=P.getMimeType(it),ke.contentProtection=P.getContentProtectionData(it),ke.bitrateList=P.getBitrateListForAdaptation(it),ke.selectionPriority=P.getSelectionPriority(it),ke.contentProtection){var ft=ke.contentProtection.map(function(Et){return P.getKID(Et)}).filter(function(Et){return null!==Et});if(ft.length){var mt=ft[0];ke.contentProtection.forEach(function(Et){Et.keyId=mt})}}return ke.isText=P.getIsText(it),ke.supplementalProperties=P.getSupplementalProperties(it),ke.isFragmented=P.getIsFragmented(it),ke.isEmbedded=!1,ke}function yt(Fe,ke,it){Fe.id=ke,Fe.index=100+parseInt(ke.substring(2,3)),Fe.type=D.TEXT,Fe.codec="cea-608-in-SEI",Fe.isEmbedded=!0,Fe.isFragmented=!1,Fe.lang=m()(it),Fe.roles=["caption"]}function Bt(Fe){Fe.type=D.IMAGE}function zt(Fe){var ke=new _.default;return ke.id=Fe.id,ke.index=Fe.index,ke.start=Fe.start,ke.duration=Fe.duration,ke.manifestInfo=function Yt(Fe){var ke=new I.default;return ke.dvrWindowSize=Fe.timeShiftBufferDepth,ke.loadedTime=Fe.manifest.loadedTime,ke.availableFrom=Fe.availabilityStartTime,ke.minBufferTime=Fe.manifest.minBufferTime,ke.maxFragmentDuration=Fe.maxSegmentDuration,ke.duration=P.getDuration(Fe.manifest),ke.isDynamic=P.getIsDynamic(Fe.manifest),ke.serviceDescriptions=P.getServiceDescriptions(Fe.manifest),ke.protocol=Fe.manifest.protocol,ke}(Fe.mpd),ke.isLast=1===Fe.mpd.manifest.Period_asArray.length||Math.abs(ke.start+ke.duration-ke.manifestInfo.duration)<1,ke}function cn(){if(!D)throw new Error("setConfig function has to be called previously")}function nn(Fe){return F.length>0?F[0].mpd.manifest.Period_asArray[Fe]:null}function gt(Fe,ke,it){var ft,mt,Et,Qt,fn;if(Fe)for(ft=Fe.AdaptationSet_asArray,Qt=0;Qt<ft.length;Qt+=1)for(Et=ft[Qt].Representation_asArray,fn=0;fn<Et.length;fn+=1)if(ke===(mt=Et[fn]).id)return it?fn:mt;return null}return k={getBandwidthForRepresentation:function Ee(Fe,ke){var it;return(it=gt(nn(ke),Fe))?it.bandwidth:null},getIndexForRepresentation:function ye(Fe,ke){return function Mt(Fe,ke){var it=gt(Fe,ke,!0);return null!==it?it:-1}(nn(ke),Fe)},getMaxIndexForBufferType:function Ne(Fe,ke){return function Qe(Fe,ke){var it,ot,ft,mt;if(!Fe||!ke)return-1;for(ot=Fe.AdaptationSet_asArray,mt=0;mt<ot.length;mt+=1)if(ft=(it=ot[mt]).Representation_asArray,P.getIsTypeOf(it,ke))return ft.length;return-1}(nn(ke),Fe)},convertRepresentationToRepresentationInfo:function Z(Fe){if(Fe){var ke=new E.default,ot=P.getRepresentationFor(Fe.index,Fe.adaptation.period.mpd.manifest.Period_asArray[Fe.adaptation.period.index].AdaptationSet_asArray[Fe.adaptation.index]);return ke.id=Fe.id,ke.quality=Fe.index,ke.bandwidth=P.getBandwidth(ot),ke.fragmentDuration=Fe.segmentDuration||(Fe.segments&&Fe.segments.length>0?Fe.segments[0].duration:NaN),ke.MSETimeOffset=Fe.MSETimeOffset,ke.mediaInfo=Ve(Fe.adaptation),ke}return null},getStreamsInfo:function de(Fe,ke){var it=[],ot=F;if(Fe&&(cn(),ot=_e(Fe)),ot.length>0){(!ke||ke>ot.length)&&(ke=ot.length);for(var ft=0;ft<ke;ft++)it.push(zt(ot[ft]))}return it},getMediaInfoForType:function ee(Fe,ke){if(0===F.length||!Fe)return null;var it=ce(Fe,F);if(!it)return null;var ot=P.getAdaptationsForPeriod(it),ft=Ae(Fe.index,ke,Fe);return ft?Ve(ot[P.getIndexForAdaptation(ft,F[0].mpd.manifest,Fe.index)]):null},getAllMediaInfoForType:Y,getAdaptationForType:Ae,getRealAdaptation:function Se(Fe,ke){var it,ot,ft=ce(Fe,F);return it=ke?ke.id:null,F.length>0&&ft&&(ot=it?P.getAdaptationForId(it,F[0].mpd.manifest,ft.index):P.getAdaptationForIndex(ke?ke.index:null,F[0].mpd.manifest,ft.index)),ot},getProducerReferenceTimes:function xe(Fe,ke){var it,ot,ft=ce(Fe,F);return it=ke?ke.id:null,F.length>0&&ft&&(ot=it?P.getAdaptationForId(it,F[0].mpd.manifest,ft.index):P.getAdaptationForIndex(ke?ke.index:null,F[0].mpd.manifest,ft.index)),ot?P.getProducerReferenceTimesForAdaptation(ot):[]},getRealPeriodByIndex:function ge(Fe){return P.getRealPeriodForIndex(Fe,F[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ge(Fe){try{return P.getEssentialPropertiesForRepresentation(Fe)}catch{return[]}},getVoRepresentations:function Ce(Fe){var it=vt(Fe);return P.getRepresentationsForAdaptation(it)},getEventsFor:function fe(Fe,ke,it){var ot=[];if(F.length>0){var ft=F[0].mpd.manifest;if(Fe instanceof _.default){var mt=ce(Fe,F);ot=P.getEventsForPeriod(mt)}else if(Fe instanceof A.default){var Et=ce(it,F);ot=P.getEventStreamForAdaptationSet(ft,vt(Fe),Et)}else if(Fe instanceof E.default){var Qt=ce(it,F);ot=P.getEventStreamForRepresentation(ft,ke,Qt)}}return ot},getEvent:function Le(Fe,ke,it,ot){try{if(!Fe||!ke||isNaN(it)||!ot)return null;var ft=Fe.scheme_id_uri,mt=Fe.value;if(!ke[ft+"/"+mt])return null;var Dn,Et=new w.default,Qt=Fe.timescale||1,fn=ot.adaptation.period.start,Jt=ke[ft+"/"+mt],pn=isNaN(ot.presentationTimeOffset)?isNaN(Jt.presentationTimeOffset)?0:Jt.presentationTimeOffset:ot.presentationTimeOffset,Tn=Fe.presentation_time_delta/Qt;Dn=0===Fe.version?fn+it-pn+Tn:fn-pn+Tn;var Fn=Fe.event_duration/Qt,Kn=Fe.id,dn=Fe.message_data;return Et.eventStream=Jt,Et.eventStream.value=mt,Et.eventStream.timescale=Qt,Et.duration=Fn,Et.id=Kn,Et.calculatedPresentationTime=Dn,Et.messageData=dn,Et.presentationTimeDelta=Tn,Et}catch{return null}},getMpd:K,setConfig:function G(Fe){Fe&&(Fe.constants&&(D=Fe.constants),Fe.cea608parser&&(T=Fe.cea608parser),Fe.errHandler&&P.setConfig({errHandler:Fe.errHandler}),Fe.BASE64&&P.setConfig({BASE64:Fe.BASE64}))},updatePeriods:function ve(Fe){if(!Fe)return null;cn(),F=_e(Fe)},getIsTextTrack:function Te(Fe){return P.getIsText(Fe)},getUTCTimingSources:function De(){var Fe=ht();return P.getUTCTimingSources(Fe)},getSuggestedPresentationDelay:function Ue(){return P.getSuggestedPresentationDelay(F.length>0?F[0].mpd:null)},getAvailabilityStartTime:function lt(Fe){var ke=K(Fe);return P.getAvailabilityStartTime(ke)},getIsTypeOf:function qe(Fe,ke){return P.getIsTypeOf(Fe,ke)},getIsDynamic:function He(Fe){var ke=ht(Fe);return P.getIsDynamic(ke)},getDuration:function be(Fe){var ke=ht(Fe);return P.getDuration(ke)},getRegularPeriods:_e,getContentSteering:function oe(Fe){return P.getContentSteering(Fe)},getLocation:function pe(Fe){return P.getLocation(Fe)},getPatchLocation:function X(Fe){var ke=P.getPatchLocation(Fe),it=P.getPublishTime(Fe);if(!ke||!it)return null;if(ke.hasOwnProperty("ttl")&&it){var ot=1e3*parseFloat(ke.ttl);if(it.getTime()+ot<=(new Date).getTime())return null}return ke.__text},getManifestUpdatePeriod:function re(Fe){return P.getManifestUpdatePeriod(Fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Q(Fe){return P.getPublishTime(Fe)},getIsDVB:function $(Fe){return P.hasProfile(Fe,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function ne(Fe){return B.getIsPatch(Fe)},getBaseURLsFromElement:function J(Fe){return P.getBaseURLsFromElement(Fe)},getRepresentationSortFunction:function q(){return P.getRepresentationSortFunction()},getCodec:function me(Fe,ke,it){return P.getCodec(Fe,ke,it)},getPeriodById:function tt(Fe){if(!Fe||0===F.length)return null;var ke=F.filter(function(it){return it.id===Fe});return ke&&ke.length>0?ke[0]:null},setCurrentMediaInfo:function we(Fe,ke,it){R[Fe]=R[Fe]||{},R[Fe][ke]=R[Fe][ke]||{},R[Fe][ke]=it},isPatchValid:function ut(Fe,ke){var it=P.getId(Fe),ot=B.getMpdId(ke),ft=P.getPublishTime(Fe),mt=B.getPublishTime(ke),Et=B.getOriginalPublishTime(ke);return!!(it&&ot&&it==ot&&ft&&Et&&ft.getTime()==Et.getTime()&&mt&&ft.getTime()<mt.getTime())},applyPatchToManifest:function ze(Fe,ke){B.getPatchOperations(ke).forEach(function(it){var ot=it.getMpdTarget(Fe);if(null!==ot){var ft=ot.name,mt=ot.target,Et=ot.leaf;if(it.xpath.findsAttribute()){switch(it.action){case"add":case"replace":mt[ft]=it.value;break;case"remove":delete mt[ft]}return}var Qt=(mt[ft+"_asArray"]||[]).indexOf(Et),fn="prepend"===it.position||"before"===it.position;if(("remove"===it.action||"replace"===it.action)&&(delete mt[ft],-1!=Qt)){var Jt=mt[ft+"_asArray"];Jt.splice(Qt,1),Jt.length>1?mt[ft]=Jt:1==Jt.length?mt[ft]=Jt[0]:delete mt[ft+"_asArray"]}("add"===it.action||"replace"===it.action)&&Object.keys(it.value).forEach(function(pn){var Tn=it.value[pn],Dn=mt[pn+"_asArray"]||[];0===Dn.length&&mt[pn]&&Dn.push(mt[pn]),0===Dn.length?Dn=Tn:Dn.splice.apply(Dn,[pn==ft&&-1!=Qt?Qt+(fn?0:1)+("replace"==it.action?-1:0):fn?0:Dn.length,0].concat(Tn)),mt[pn+"_asArray"]=Dn,mt[pn]=1==Dn.length?Dn[0]:Dn})}})},areMediaInfosEqual:j,reset:Xe},function M(){P=Object(o.default)(C).getInstance(),B=Object(d.default)(C).getInstance(),Xe()}(),k}y.__dashjs_factory_name="DashAdapter",v.default=g.default.getSingletonFactory(y)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),E=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),I=e(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),w=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function d(u){var T,C,O,M,G,m=(u=u||{}).eventBus,y=u.debug,k=u.urlUtils,P=u.type,B=u.streamInfo,F=u.segmentsController,R=u.timelineConverter,D=u.baseURLController;function Ae(){return P}function le(){O=null}function ve(De,Ue,lt){var be,_e,He=D.resolve(lt.path);return He&&Ue!==He.url&&k.isRelative(Ue)?(be=He.url,_e=He.serviceLocation,Ue&&(be=k.resolve(Ue,be))):be=Ue,!k.isRelative(be)&&(De.url=be,De.serviceLocation=_e,!0)}function xe(De,Ue){if(null==Ue)return null;var lt=new n.default,He=Ue.representation,be=He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index].Representation_asArray[He.index].bandwidth,_e=Ue.media;return _e=Object(I.replaceTokenForTemplate)(_e,"Number",Ue.replacementNumber),_e=Object(I.replaceTokenForTemplate)(_e,"Time",Ue.replacementTime),_e=Object(I.replaceTokenForTemplate)(_e,"Bandwidth",be),_e=Object(I.replaceIDForTemplate)(_e,He.id),_e=Object(I.unescapeDollarsInTemplate)(_e),lt.mediaType=Ae(),lt.type=E.HTTPRequest.MEDIA_SEGMENT_TYPE,lt.range=Ue.mediaRange,lt.startTime=Ue.presentationStartTime,lt.mediaStartTime=Ue.mediaStartTime,lt.duration=Ue.duration,lt.timescale=He.timescale,lt.availabilityStartTime=Ue.availabilityStartTime,lt.availabilityEndTime=Ue.availabilityEndTime,lt.availabilityTimeComplete=He.availabilityTimeComplete,lt.wallStartTime=Ue.wallStartTime,lt.quality=He.index,lt.index=Ue.index,lt.mediaInfo=De,lt.adaptationIndex=He.adaptation.index,lt.representationId=He.id,ve(lt,_e,He)?lt:void 0}function ge(De,Ue,lt){var He=null;if(!Ue||!Ue.segmentInfoType)return He;var be=F.getSegmentByTime(Ue,lt);return be&&(O=be,C.debug("Index for time "+lt+" is "+be.index),He=xe(De,be)),He}function Te(){C.debug("Dynamic stream complete"),G=!0}return T={initialize:function ee(De){M=De,G=!1,F.initialize(De)},getStreamId:function ae(){return B.id},getType:Ae,getStreamInfo:function j(){return B},getInitRequest:function de(De,Ue){return Ue?function Se(De,Ue,lt){var He=new n.default,be=Ue.adaptation.period,_e=be.start;if(He.mediaType=lt,He.type=E.HTTPRequest.INIT_SEGMENT_TYPE,He.range=Ue.range,He.availabilityStartTime=R.calcAvailabilityStartTimeFromPresentationTime(_e,Ue,M),He.availabilityEndTime=R.calcAvailabilityEndTimeFromPresentationTime(_e+be.duration,Ue,M),He.quality=Ue.index,He.mediaInfo=De,He.representationId=Ue.id,ve(He,Ue.initialization,Ue))return He.url=Object(I.replaceTokenForTemplate)(He.url,"Bandwidth",Ue.bandwidth),He}(De,Ue,Ae()):null},getSegmentRequestForTime:ge,getCurrentIndex:function we(){return O?O.index:-1},getNextSegmentRequest:function Le(De,Ue){var lt=null;if(!Ue||!Ue.segmentInfoType)return null;var He=O?O.index+1:0,be=F.getSegmentByIndex(Ue,He,O?O.mediaStartTime:-1);if(be)lt=xe(De,be),O=be;else{if(M&&!G)return C.debug(Ae()+" No segment found at index: "+He+". Wait for next loop"),null;G=!0}return lt},isLastSegmentRequested:function Ge(De,Ue){if(!De||!O)return!1;if(G)return!0;if(!isFinite(De.adaptation.period.duration)||O.presentationStartTime+O.duration>Ue)return!1;if(De.mediaFinishedInformation&&!isNaN(De.mediaFinishedInformation.numberOfSegments)&&!isNaN(O.index)&&O.index>=De.mediaFinishedInformation.numberOfSegments-1){if(!M||De.segmentInfoType===w.default.SEGMENT_TEMPLATE)return!0;if(M&&De.segmentInfoType===w.default.SEGMENT_LIST&&De.adaptation.period.nextPeriodId)return!0}return!!(M&&De.adaptation.period.nextPeriodId&&De.segmentInfoType===w.default.SEGMENT_TIMELINE&&De.mediaFinishedInformation&&!isNaN(De.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&O&&!isNaN(O.mediaStartTime)&&!isNaN(O.duration)&&O.mediaStartTime+O.duration>=De.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function Y(){le(),m.off(_.default.DYNAMIC_TO_STATIC,Te,T)},getNextSegmentRequestIdempotent:function Ce(De,Ue){var be=F.getSegmentByIndex(Ue,O?O.index+1:0,O?O.mediaStartTime:-1);return be?xe(De,be):null},getValidTimeAheadOfTargetTime:function fe(De,Ue,lt,He){try{if(isNaN(De)||!Ue||!lt)return NaN;if(De<0&&(De=0),isNaN(He)&&(He=.5),ge(Ue,lt,De))return De;if(lt.adaptation.period.start+lt.adaptation.period.duration<De)return NaN;for(var be=isFinite(lt.adaptation.period.duration)?lt.adaptation.period.start+lt.adaptation.period.duration:De+30,_e=Math.min(De+He,be),K=NaN,oe=null;_e<=be;){var pe=null;if(_e<=be&&(pe=ge(Ue,lt,_e)),pe){K=_e,oe=pe;break}_e+=He}if(oe){var re=oe.startTime+oe.duration;return De>oe.startTime&&re-De>He?De:!isNaN(oe.startTime)&&De<oe.startTime&&K>oe.startTime?oe.startTime+.001:Math.min(re-He,K)}return K}catch{return NaN}}},function Z(){C=y.getLogger(T),le(),m.on(_.default.DYNAMIC_TO_STATIC,Te,T)}(),T}d.__dashjs_factory_name="DashHandler",v.default=A.default.getClassFactory(d)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=e(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),w=e(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),g=e(
/*! ../core/Utils */
"./src/core/Utils.js"),o=e(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function d(u){var y,k,P,B,m=this.context,F=(u=u||{}).metricsModel;function ae(pe){var re=F.getMetricsFor(pe,!0);if(!re)return null;var $,Q=re.HttpList,X=null;if(!Q||Q.length<=0)return null;for($=Q.length-1;$>=0;){if(Q[$].responsecode){X=Q[$];break}$--}return X}function Ae(pe){var re=F.getMetricsFor(pe,!0);return re&&re.HttpList?re.HttpList:[]}function le(pe,re){if(!pe)return null;var Q=pe[re];return Q&&0!==Q.length?Q[Q.length-1]:null}return y={getCurrentRepresentationSwitch:function T(pe){return le(F.getMetricsFor(pe,!0),_.default.TRACK_SWITCH)},getCurrentBufferState:function O(pe){return le(F.getMetricsFor(pe,!0),_.default.BUFFER_STATE)},getCurrentBufferLevel:function M(pe){var Q=le(F.getMetricsFor(pe,!0),_.default.BUFFER_LEVEL);return Q?I.default.round10(Q.level/1e3,-3):0},getCurrentHttpRequest:ae,getHttpRequests:Ae,getCurrentDroppedFrames:function Y(){return le(F.getMetricsFor(n.default.VIDEO,!0),_.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function de(pe){return le(F.getMetricsFor(pe,!0),_.default.SCHEDULING_INFO)},getCurrentDVRInfo:function we(pe){return le(pe?F.getMetricsFor(pe,!0):F.getMetricsFor(n.default.VIDEO,!0)||F.getMetricsFor(n.default.AUDIO,!0),_.default.DVR_INFO)},getCurrentManifestUpdate:function xe(){return le(F.getMetricsFor(n.default.STREAM),_.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Ue(pe,re){if(!re)return null;var Q={},X=ae(pe);X&&(Q=g.default.parseHttpHeaders(X._responseHeaders));var $=Q[re.toLowerCase()];return void 0===$?null:$},getLatestMPDRequestHeaderValueByID:function De(pe){if(!pe)return null;var Q,X,$,re={};for($=(Q=Ae(n.default.STREAM)).length-1;$>=0;$--)if((X=Q[$]).type===E.HTTPRequest.MPD_TYPE){re=g.default.parseHttpHeaders(X._responseHeaders);break}var ne=re[pe.toLowerCase()];return void 0===ne?null:ne},addRepresentationSwitch:function C(pe,re,Q,X,$){F.addRepresentationSwitch(pe,re,Q,X,$)},addDVRInfo:function Te(pe,re,Q,X){F.addDVRInfo(pe,re,Q,X)},updateManifestUpdateInfo:function Ge(pe){var re=this.getCurrentManifestUpdate();F.updateManifestUpdateInfo(re,pe)},addManifestUpdateStreamInfo:function ge(pe){if(pe){var re=this.getCurrentManifestUpdate();F.addManifestUpdateStreamInfo(re,pe.id,pe.index,pe.start,pe.duration)}},addManifestUpdateRepresentationInfo:function fe(pe,re){if(pe){var Q=this.getCurrentManifestUpdate();F.addManifestUpdateRepresentationInfo(Q,pe.id,pe.index,pe.streamIndex,re,pe.presentationTimeOffset,pe.startNumber,pe.fragmentInfoType)}},addManifestUpdate:function Ce(pe){F.addManifestUpdate(n.default.STREAM,pe.type,pe.requestStartDate,pe.requestEndDate)},addHttpRequest:function Le(pe,re,Q,X,$){F.addHttpRequest(pe.mediaType,null,pe.type,pe.url,pe.quality,re,pe.serviceLocation||null,pe.range||null,pe.requestStartDate,pe.firstByteDate,pe.requestEndDate,Q,pe.duration,X,$,pe.fileLoaderType)},addSchedulingInfo:function Se(pe,re){F.addSchedulingInfo(pe.mediaType,new Date,pe.type,pe.startTime,pe.availabilityStartTime,pe.duration,pe.quality,pe.range,re)},addRequestsQueue:function j(pe,re,Q){F.addRequestsQueue(pe,re,Q)},addBufferLevel:function G(pe,re,Q){F.addBufferLevel(pe,re,Q)},addBufferState:function Z(pe,re,Q){F.addBufferState(pe,re,Q)},addDroppedFrames:function ve(pe){F.addDroppedFrames(n.default.VIDEO,pe)},addPlayList:function lt(){B&&(F.addPlayList(B),B=null)},addDVBErrors:function oe(pe){F.addDVBErrors(pe)},createPlaylistMetrics:function He(pe,re){(B=new o.PlayList).start=new Date,B.mstart=pe,B.starttype=re},createPlaylistTraceMetrics:function be(pe,re,Q){!0===k&&(k=!1,(P=new o.PlayListTrace).representationid=pe,P.start=new Date,P.mstart=re,P.playbackspeed=null!==Q?Q.toString():null)},updatePlayListTraceMetrics:function _e(pe){if(P)for(var re in P)P[re]=pe[re]},pushPlayListTraceMetrics:function K(pe,re){if(!1===k&&B&&P&&P.start){var Q=P.start,X=pe.getTime()-Q.getTime();P.duration=X,P.stopreason=re,B.trace.push(P),k=!0}},clearAllCurrentMetrics:function ee(){F.clearAllCurrentMetrics()}},function R(){F=F||Object(w.default)(m).getInstance({settings:u.settings}),function D(){k=!0,P=null,B=null}()}(),y}d.__dashjs_factory_name="DashMetrics",v.default=A.default.getSingletonFactory(d)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),E=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),I=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function w(){var o,d,u,m,y,k,P,B,F,R,D,T,C,g=this.context;function ee(de,Se,xe,Ge){var ge=null,Ce=de?C.resolve(de.path):null,Le=Ge||{init:!0,url:Ce?Ce.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:Se};d.debug("Start searching for initialization.");var fe=ve(Le);B.load({request:fe,success:function(Ue){if(Le.bytesLoaded=Le.range.end,!(ge=m.findInitRange(Ue)))return Le.range.end=Le.bytesLoaded+Le.bytesToLoad,ee(de,Se,xe,Le);de.range=ge,xe(de)},error:function(){xe(de)}}),d.debug("Perform init search: "+Le.url)}function Ae(de,Se,xe,Ge,ge,Ce){if(xe&&(void 0===xe.start||void 0===xe.end)){var Le=xe?xe.toString().split("-"):null;xe=Le?{start:parseFloat(Le[0]),end:parseFloat(Le[1])}:null}ge=ge||j;var fe=null,we=null,Te=!!xe,De=de?C.resolve(de.path):null,Ue={init:!1,url:De?De.url:void 0,range:Te?xe:{start:0,end:1500},searching:!Te,bytesLoaded:Ce?Ce.bytesLoaded:0,bytesToLoad:1500,mediaType:Se},lt=ve(Ue);B.load({request:lt,success:function(K){var oe=Ue.bytesToLoad,pe=K.byteLength;if(Ue.bytesLoaded=Ue.range.end-Ue.range.start,fe=m.parse(K),(we=fe.getBox("sidx"))&&we.isComplete){var X,$,Q=we.references;if(null!=Q&&Q.length>0&&(X=1===Q[0].reference_type),X){d.debug("Initiate multiple SIDX load."),Ue.range.end=Ue.range.start+we.size;var ne,J,q,me,ye=[],Ne=0,tt=(we.offset||Ue.range.start)+we.size,qe=function(ut){ut?(ye=ye.concat(ut),++Ne>=J&&(ye.sort(function(ze,ht){return ze.startTime-ht.startTime<0?-1:0}),ge(ye,de,Ge))):ge(null,de,Ge)};for(ne=0,J=Q.length;ne<J;ne++)q=tt,me=tt+Q[ne].referenced_size-1,tt+=Q[ne].referenced_size,Ae(de,Se,{start:q,end:me},Ge,qe,Ue)}else d.debug("Parsing segments from SIDX. representation "+Se+" - id: "+de.id+" for range : "+Ue.range.start+" - "+Ue.range.end),$=function Y(de,Se){for(var we,De,Ue,xe=de.references,Ge=xe.length,ge=de.timescale,Ce=de.earliest_presentation_time,Le=Se.range.start+de.offset+de.first_offset+de.size,fe=[],lt=0;lt<Ge;lt++)De=xe[lt].subsegment_duration,Ue=xe[lt].referenced_size,(we=new n.default).duration=De,we.startTime=Ce,we.timescale=ge,we.mediaRange=Le+"-"+(Le+Ue-1),fe.push(we),Ce+=De,Le+=Ue;return fe}(we,Ue),ge($,de,Ge)}else{if(we)Ue.range.start=we.offset||Ue.range.start,Ue.range.end=Ue.range.start+(we.size||oe);else{if(pe<Ue.bytesLoaded)return void ge(null,de,Ge);var re=fe.getLastBox();re&&re.size?(Ue.range.start=re.offset+re.size,Ue.range.end=Ue.range.start+oe):Ue.range.end+=oe}Ae(de,Se,Ue.range,Ge,null,Ue)}},error:function(){ge(null,de,Ge)}}),d.debug("Perform SIDX load for type ".concat(Se," : ").concat(Ue.url," with range ").concat(Ue.range.start," - ").concat(Ue.range.end))}function j(de,Se,xe){xe({segments:de,representation:Se,error:de?void 0:new E.default(F.SEGMENT_BASE_LOADER_ERROR_CODE,F.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ve(de){if(de.url){var Se=new _.default;return Se.setInfo(de),Se}}return o={setConfig:function G(de){de.baseURLController&&(C=de.baseURLController),de.dashMetrics&&(k=de.dashMetrics),de.mediaPlayerModel&&(P=de.mediaPlayerModel),de.errHandler&&(u=de.errHandler),de.boxParser&&(m=de.boxParser),de.debug&&(d=de.debug.getLogger(o)),de.requestModifier&&(y=de.requestModifier),de.errors&&(F=de.errors),de.urlUtils&&(T=de.urlUtils),de.constants&&(R=de.constants),de.dashConstants&&(D=de.dashConstants)},initialize:function M(){B=Object(I.default)(g).create({errHandler:u,dashMetrics:k,mediaPlayerModel:P,requestModifier:y,boxParser:m,errors:F,urlUtils:T,constants:R,dashConstants:D})},loadInitialization:function Z(de,Se){return new Promise(function(xe){ee(de,Se,xe)})},loadSegments:function ae(de,Se,xe){return new Promise(function(Ge){Ae(de,Se,xe,Ge)})},reset:function le(){B&&(B.abort(),B=null)}}}w.__dashjs_factory_name="SegmentBaseLoader",v.default=A.default.getSingletonFactory(w)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),E=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),I=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),w=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),g=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function o(){var u,m,y,k,P,B,F,R,D,T,d=this.context;function Z(Y,ve,de,Se){var Ge,ge,Ce,Le,fe;for(ge=[],Le=0,fe=(Ge=function G(Y){var Se,xe,ve=[],de=Object(n.default)(d).create({data:Y});for(de.consumeTagAndSize(y.Segment.Cues);de.moreData()&&de.consumeTagAndSize(y.Segment.Cues.CuePoint,!0);){for((Se={}).CueTime=de.parseTag(y.Segment.Cues.CuePoint.CueTime),Se.CueTracks=[];de.moreData()&&de.consumeTag(y.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ge=de.getMatroskaCodedNum(),ge=de.getPos();if((xe={}).Track=de.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===xe.Track)throw new Error("Cue track cannot be 0");xe.ClusterPosition=de.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Se.CueTracks.push(xe),de.setPos(ge+Ge)}if(0===Se.CueTracks.length)throw new Error("Mandatory cuetrack not found");ve.push(Se)}if(0===ve.length)throw new Error("mandatory cuepoint not found");return ve}(Y)).length;Le<fe;Le+=1)(Ce=new _.default).duration=Le<Ge.length-1?Ge[Le+1].CueTime-Ge[Le].CueTime:Se-Ge[Le].CueTime,Ce.startTime=Ge[Le].CueTime,Ce.timescale=1e3,Ce.mediaRange=Ge[Le].CueTracks[0].ClusterPosition+ve+"-"+(Le<Ge.length-1?Ge[Le+1].CueTracks[0].ClusterPosition+ve-1:de-1),ge.push(Ce);return m.debug("Parsed cues: "+ge.length+" cues."),ge}function j(Y){var ve=new I.default;return ve.setInfo(Y),ve}return u={setConfig:function M(Y){if(!(Y.baseURLController&&Y.dashMetrics&&Y.mediaPlayerModel&&Y.errHandler))throw new Error(E.default.MISSING_CONFIG_ERROR);T=Y.baseURLController,B=Y.dashMetrics,F=Y.mediaPlayerModel,k=Y.errHandler,D=Y.errors,m=Y.debug.getLogger(u),P=Y.requestModifier},initialize:function O(){R=Object(w.default)(d).create({errHandler:k,dashMetrics:B,mediaPlayerModel:F,requestModifier:P,errors:D})},loadInitialization:function ae(Y,ve){return new Promise(function(de){var Se=null,xe=Y?T.resolve(Y.path):null,Ge=Y?Y.range.split("-"):null,ge={range:{start:Ge?parseFloat(Ge[0]):null,end:Ge?parseFloat(Ge[1]):null},request:Se,url:xe?xe.url:void 0,init:!0,mediaType:ve};m.info("Start loading initialization."),Se=j(ge),R.load({request:Se,success:function(){de(Y)},error:function(){de(Y)}}),m.debug("Perform init load: "+ge.url)})},loadSegments:function Ae(Y,ve,de){return new Promise(function(Se){var xe=null,Ge=Y?T.resolve(Y.path):null,ge=Ge?Ge.url:void 0;xe=j({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:xe,url:ge,init:!1,mediaType:ve}),m.debug("Parsing ebml header"),R.load({request:xe,success:function(De){!function ee(Y,ve,de,Se){if(Y&&0!==Y.byteLength){var Ge,ge,Ce,Le,xe=Object(n.default)(d).create({data:Y}),fe=de?de.split("-"):null,we=null,Te={url:ve,range:{start:fe?parseFloat(fe[0]):null,end:fe?parseFloat(fe[1]):null},request:we};for(m.debug("Parse EBML header: "+Te.url),xe.skipOverElement(y.EBML),xe.consumeTag(y.Segment),Ce=xe.getMatroskaCodedNum(),Ce+=xe.getPos(),Le=xe.getPos();xe.moreData()&&!xe.consumeTagAndSize(y.Segment.Info,!0);)if(!(xe.skipOverElement(y.Segment.SeekHead,!0)||xe.skipOverElement(y.Segment.Tracks,!0)||xe.skipOverElement(y.Segment.Cues,!0)||xe.skipOverElement(y.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ge;){var De=xe.getMatroskaCodedNum(!0),Ue=xe.getMatroskaCodedNum();De===y.Segment.Info.Duration.tag?Ge=xe[y.Segment.Info.Duration.parse](Ue):xe.setPos(xe.getPos()+Ue)}we=j(Te),R.load({request:we,success:function(_e){ge=Z(_e,Le,Ce,Ge),Se(ge)},error:function(){m.error("Download Error: Cues "+Te.url),Se(null)}}),m.debug("Perform cues load: "+Te.url+" bytes="+Te.range.start+"-"+Te.range.end)}else Se(null)}(De,ge,de,function(Ue){Se({segments:Ue,representation:Y,error:Ue?void 0:new g.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){Se({representation:Y,error:new g.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function le(){R&&(R.abort(),R=null)}},function C(){y={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),u}o.__dashjs_factory_name="WebmSegmentBaseLoader",v.default=A.default.getSingletonFactory(o)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function I(d){var u=function w(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v);var o=new(function(){function d(){(function E(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}return function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),d}());v.default=o},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),_=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),w=e(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),g=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),o=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),d=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),u=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),y=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),k_THROUGHPUT="_DASH_throughput",k_PATHWAY="_DASH_pathway",k_URL="url";function P(){var R,D,T,C,O,M,G,Z,ee,ae,Ae,j,le,Y,ve,B=this.context,F=Object(y.default)(B).getInstance();function Ge(K){K&&K.toStreamInfo&&(C=K.toStreamInfo)}function ge(K){K&&K.request&&K.request.serviceLocation&&(O=K.request.serviceLocation)}function Ce(){var K=Ae.getValue();return ve.getContentSteering(K)}function fe(){return new Promise(function(K){try{var oe=Ce();if(!oe||!oe.serverUrl)return void K();var pe=function we(K){var oe=K.proxyServerUrl?K.proxyServerUrl:K.serverUrl;T&&T.reloadUri&&(oe=F.isRelative(T.reloadUri)?F.resolve(T.reloadUri,K.serverUrl):T.reloadUri);var pe=[];if(C){var re=ve.getIsDynamic(),Q=ve.getAllMediaInfoForType(C,u.default.VIDEO).length>0?u.default.VIDEO:u.default.AUDIO,X=le.getThroughputHistory(),$=X?X.getAverageThroughput(Q,re):NaN;isNaN($)||pe.push({key:k_THROUGHPUT,value:1e3*$})}return O&&pe.push({key:k_PATHWAY,value:O}),K.proxyServerUrl&&K.proxyServerUrl===oe&&K.serverUrl&&pe.push({key:k_URL,value:encodeURI(K.serverUrl)}),m.default.addAditionalQueryParameterToUrl(oe,pe)}(oe),re=new I.default(pe);G.load({request:re,success:function(X){(function Te(K){!K||!K[g.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(K[g.default.CONTENT_STEERING_RESPONSE.VERSION])||((T=new w.default).version=K[g.default.CONTENT_STEERING_RESPONSE.VERSION],K[g.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(K[g.default.CONTENT_STEERING_RESPONSE.TTL])&&(T.ttl=K[g.default.CONTENT_STEERING_RESPONSE.TTL]),K[g.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(T.reloadUri=K[g.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),K[g.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(T.serviceLocationPriority=K[g.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),De())})(X),Y.trigger(o.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:T,url:pe}),K()},error:function(X){(function lt(K){D.warn("Error fetching data from content steering server",K),De()})(X),K(X)}})}catch(Q){K(Q)}})}function De(){T&&T.ttl&&!isNaN(T.ttl)&&(M&&clearTimeout(M),M=setTimeout(function(){fe()},1e3*T.ttl))}function Ue(){M&&clearTimeout(M),M=null}function _e(){T=null,C=null,O=null,Ue()}return R={reset:function be(){_e(),Y.off(o.default.PERIOD_SWITCH_COMPLETED,Ge,R),Y.off(d.default.FRAGMENT_LOADING_STARTED,ge,R)},setConfig:function Se(K){K&&(K.adapter&&(ve=K.adapter),K.errHandler&&(Z=K.errHandler),K.dashMetrics&&(ee=K.dashMetrics),K.mediaPlayerModel&&(ae=K.mediaPlayerModel),K.requestModifier&&(j=K.requestModifier),K.manifestModel&&(Ae=K.manifestModel),K.abrController&&(le=K.abrController),K.eventBus&&(Y=K.eventBus))},loadSteeringData:fe,getCurrentSteeringResponseData:function He(){return T},shouldQueryBeforeStart:function Le(){var K=Ce();return K&&K.queryBeforeStart},getSteeringDataFromManifest:Ce,stopSteeringRequestTimer:Ue,initialize:function xe(){G=Object(A.default)(B).create({errHandler:Z,dashMetrics:ee,mediaPlayerModel:ae,requestModifier:j,errors:_.default}),Y.on(o.default.PERIOD_SWITCH_COMPLETED,Ge,R),Y.on(d.default.FRAGMENT_LOADING_STARTED,ge,R)}},function de(){D=Object(E.default)(B).getInstance().getLogger(R),_e()}(),R}P.__dashjs_factory_name="ContentSteeringController",v.default=n.default.getSingletonFactory(P)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),_=e(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function I(w){var D,T,C,O,M,g=(w=w||{}).eventBus,o=w.events,d=w.abrController,u=w.dashMetrics,m=w.playbackController,y=w.timelineConverter,k=w.type,P=w.streamInfo,B=w.dashConstants,F=w.segmentsController,R=w.isDynamic;function ee(){return k}function ae(){if(!(d&&u&&m&&y))throw new Error(n.default.MISSING_CONFIG_ERROR)}function j(){return C}function le(){return M}function Y(){T=null,C=!0,O=[]}function Se(be){return new Promise(function(_e,K){var oe=be.hasInitialization(),pe=be.hasSegments(),re=[];re.push(F.updateInitData(be,oe)),re.push(F.updateSegmentData(be,pe)),Promise.all(re).then(function(Q){Q[0]&&!Q[0].error&&(be=function Ge(be,_e){return _e&&!_e.error&&_e.representation?_e.representation:be}(be,Q[0])),Q[1]&&!Q[1].error&&(be=function ge(be,_e){if(_e&&!_e.error){var re,Q,X,$,K=_e.segments,oe=[],pe=0;for(re=0,Q=K?K.length:0;re<Q;re++)X=K[re],($=Object(_.getTimeBasedSegment)(y,R,be,X.startTime,X.duration,X.timescale,X.media,X.mediaRange,pe))&&(oe.push($),$=null,pe++);return oe.length>0&&(be.segments=oe),be}}(be,Q[1])),function xe(be){be.mediaFinishedInformation=F.getMediaFinishedInformation(be)}(be),function De(be){if(j()){var oe,_e=u.getCurrentManifestUpdate(),K=!1;if(_e){for(var re=0;re<_e.representationInfo.length;re++)if((oe=_e.representationInfo[re]).index===be.index&&oe.mediaType===ee()){K=!0;break}K||u.addManifestUpdateRepresentationInfo(be,ee())}if(function we(){for(var be=0,_e=O.length;be<_e;be++){var K=O[be].segmentInfoType;if(!O[be].hasInitialization()||(K===B.SEGMENT_BASE||K===B.BASE_URL)&&!O[be].segments)return!1}return!0}()){d.setPlaybackQuality(k,P,function fe(be){return O.indexOf(be)}(M));var Q=u.getCurrentDVRInfo(k);Q&&u.updateManifestUpdateInfo({latency:Q.range.end-m.getTime()}),u.getCurrentRepresentationSwitch(le().adaptation.type)||Ce(),Te()}}}(be),_e()}).catch(function(Q){K(Q)})})}function Ce(){ae();var be=new Date,_e=le(),K=1e3*m.getTime();_e&&u.addRepresentationSwitch(_e.adaptation.type,be,K,_e.id),g.trigger(A.default.REPRESENTATION_SWITCH,{mediaType:k,streamId:P.id,currentRepresentation:_e,numberOfRepresentations:O.length},{streamId:P.id,mediaType:k})}function Le(be){return null==be||be>=O.length?null:O[be]}function Te(be){C=!1,g.trigger(o.DATA_UPDATE_COMPLETED,{data:T,currentRepresentation:M,error:be},{streamId:P.id,mediaType:k})}function lt(be){M=be}function He(be){if(be.newDuration){var _e=le();_e&&_e.adaptation.period&&(_e.adaptation.period.duration=be.newDuration)}}return D={getStreamId:function Z(){return P.id},getType:ee,getData:function Ae(){return T},isUpdating:j,updateData:function de(be,_e,K,oe,pe){if(ae(),C=!0,O=_e,lt(Le(pe)),T=be,K!==n.default.VIDEO&&K!==n.default.AUDIO&&(K!==n.default.TEXT||!oe))return Te(),Promise.resolve();for(var Q=[],X=0,$=O.length;X<$;X++)Q.push(Se(O[X]));return Promise.all(Q)},getCurrentRepresentation:le,getRepresentationForQuality:Le,prepareQualityChange:function Ue(be){lt(Le(be)),Ce()},reset:function ve(){g.off(A.default.MANIFEST_VALIDITY_CHANGED,He,D),Y()}},function G(){Y(),g.on(A.default.MANIFEST_VALIDITY_CHANGED,He,D)}(),D}I.__dashjs_factory_name="RepresentationController",v.default=E.default.getClassFactory(I)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),A=e(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function _(w){var D,T,C,g=this.context,o=(w=w||{}).eventBus,d=w.events,u=w.dashMetrics,m=w.mediaPlayerModel,y=w.errHandler,k=w.baseURLController,P=w.debug,B=w.boxParser,F=w.requestModifier,R=w.errors;function M(Ae){return"webm"===(Ae?Ae.split("/")[1]:"").toLowerCase()}return D={initialize:function G(){T.initialize(),C.initialize()},getSegmentBaseInitSegment:function Z(Ae){return M(Ae.representation.mimeType)?C.loadInitialization(Ae.representation,Ae.mediaType):T.loadInitialization(Ae.representation,Ae.mediaType)},getSegmentList:function ee(Ae){return M(Ae.mimeType)?C.loadSegments(Ae.representation,Ae.mediaType,Ae.representation?Ae.representation.indexRange:null):T.loadSegments(Ae.representation,Ae.mediaType,Ae.representation?Ae.representation.indexRange:null)},reset:function ae(){T.reset(),C.reset()}},function O(){T=Object(E.default)(g).getInstance(),C=Object(A.default)(g).getInstance(),T.setConfig({baseURLController:k,dashMetrics:u,mediaPlayerModel:m,errHandler:y,eventBus:o,events:d,errors:R,debug:P,boxParser:B,requestModifier:F}),C.setConfig({baseURLController:k,dashMetrics:u,mediaPlayerModel:m,errHandler:y,eventBus:o,events:d,errors:R,debug:P,requestModifier:F})}(),D}_.__dashjs_factory_name="SegmentBaseController";var I=n.default.getSingletonFactory(_);v.default=I},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),A=e(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),_=e(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),I=e(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function w(o){var k,P,d=this.context,u=(o=o||{}).dashConstants,m=o.type,y=o.segmentBaseController;function T(G){return G?G.segments?P[u.SEGMENT_BASE]:P[G.segmentInfoType]:null}return k={initialize:function F(G){P[u.SEGMENT_TIMELINE]=Object(E.default)(d).create(o,G),P[u.SEGMENT_TEMPLATE]=Object(A.default)(d).create(o,G),P[u.SEGMENT_LIST]=Object(_.default)(d).create(o,G),P[u.SEGMENT_BASE]=Object(I.default)(d).create(o,G)},updateInitData:function R(G,Z){return Z?Promise.resolve():y.getSegmentBaseInitSegment({representation:G,mediaType:m})},updateSegmentData:function D(G,Z){return Z?Promise.resolve():y.getSegmentList({mimeType:G.mimeType,representation:G,mediaType:m})},getSegmentByIndex:function C(G,Z,ee){var ae=T(G);return ae?ae.getSegmentByIndex(G,Z,ee):null},getSegmentByTime:function O(G,Z){var ee=T(G);return ee?ee.getSegmentByTime(G,Z):null},getMediaFinishedInformation:function M(G){var Z=T(G);return Z?Z.getMediaFinishedInformation(G):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function B(){P={}}(),k}w.__dashjs_factory_name="SegmentsController";var g=n.default.getClassFactory(w);v.default=g},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=[A.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],w_VIDEO="video",w_AUDIO="audio",w_ANY="any",w_ALL="all";function g(){var d,u,m,y,k,o=this.context;function R(){u={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},m=[]}function ae(Y,ve,de){try{u[Y][ve]=de/1e3}catch(Se){y.error(Se)}}return d={getServiceDescriptionSettings:function D(){return u},getProducerReferenceTimeOffsets:function Ae(){return m},calculateProducerReferenceTimeOffsets:function j(Y){try{var ve=[];if(Y&&Y.length>0){var de=[A.default.VIDEO,A.default.AUDIO,A.default.TEXT],Se=k.getAvailabilityStartTime()/1e3;Y.forEach(function(xe){var Ge=de.reduce(function(ge,Ce){return ge.concat(k.getAllMediaInfoForType(xe,Ce))},[]).reduce(function(ge,Ce){return k.getProducerReferenceTimes(xe,Ce).forEach(function(fe){var we=k.getVoRepresentations(Ce);if(we&&we.length>0&&we[0].adaptation&&we[0].segmentInfoType===_.default.SEGMENT_TEMPLATE){var Te=we[0],Ue=new Date(fe[_.default.WALL_CLOCK_TIME]).getTime()/1e3;ge.push({id:fe[_.default.ID],to:Se-(Ue-(fe[_.default.PRESENTATION_TIME]/Te[_.default.TIMESCALE]-Te[_.default.PRESENTATION_TIME_OFFSET]+xe.start))})}}),ge},[]);ve=ve.concat(Ge)})}m=ve}catch(xe){y.error(xe),m=[]}},applyServiceDescription:function T(Y){if(Y&&Y.serviceDescriptions){var ve=Y.serviceDescriptions.filter(function(xe){return I.includes(xe.schemeIdUri)}),de=Y.serviceDescriptions.filter(function(xe){return null==xe.schemeIdUri}),Se=ve.length>0?ve[ve.length-1]:de[de.length-1];Se&&(Se.latency&&Se.latency.target>0&&function C(Y){var ve;if(ve=Y.schemeIdUri===A.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function M(Y){return{liveDelay:Y.latency.target/1e3,maxDrift:!isNaN(Y.latency.max)&&Y.latency.max>Y.latency.target?(Y.latency.max-Y.latency.target+500)/1e3:NaN,referenceId:Y.latency.referenceId||NaN}}(Y):function O(Y){return{liveDelay:Y.latency.target/1e3,maxDrift:!isNaN(Y.latency.max)&&Y.latency.max>Y.latency.target?(Y.latency.max-Y.latency.target+500)/1e3:NaN,referenceId:Y.latency.referenceId||NaN}}(Y),m.length>0){var de=function le(Y){var de,ve=0,Se=m.filter(function(xe){return xe.id===Y.referenceId});return 0===Se.length?(ve=m.length>0?m[0].to:0,de=m[0].id||NaN):(ve=Se[0].to||0,de=Se[0].id||NaN),{to:ve,id:de}}(ve),Se=de.to,xe=de.id;u.liveDelay=ve.liveDelay-Se,u.liveCatchup.maxDrift=ve.maxDrift,y.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(Se," from ProducerReferenceTime element with id ").concat(xe,".\n                Live Delay: ").concat(ve.liveDelay-Se,", Live catchup max drift: ").concat(ve.maxDrift,"\n            "))}else u.liveDelay=ve.liveDelay,u.liveCatchup.maxDrift=ve.maxDrift,y.debug("Found latency properties coming from service description: Live Delay: ".concat(ve.liveDelay,", Live catchup max drift: ").concat(ve.maxDrift))}(Se),Se.playbackRate&&function G(Y){var ve=Y.playbackRate.min?Math.round(1e3*(Y.playbackRate.min-1))/1e3:NaN,de=Y.playbackRate.max?Math.round(1e3*(Y.playbackRate.max-1))/1e3:NaN;u.liveCatchup.playbackRate.min=ve,u.liveCatchup.playbackRate.max=de,y.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ve)),y.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(de))}(Se),Se.operatingBandwidth&&function ee(Y){if(Y&&Y.operatingBandwidth&&Y.operatingBandwidth.mediaType&&Y.operatingBandwidth.mediaType!==w_ALL){var ve={};ve.minBandwidth=Y.operatingBandwidth.min,ve.maxBandwidth=Y.operatingBandwidth.max,ve.targetBandwidth=Y.operatingBandwidth.target;var de=[];Y.operatingBandwidth.mediaType===w_VIDEO||Y.operatingBandwidth.mediaType===w_AUDIO?de.push(Y.operatingBandwidth.mediaType):Y.operatingBandwidth.mediaType===w_ANY&&(de.push(w_AUDIO),de.push(w_VIDEO)),de.forEach(function(Se){isNaN(ve.minBandwidth)||ae("minBitrate",Se,ve.minBandwidth),isNaN(ve.maxBandwidth)||ae("maxBitrate",Se,ve.maxBandwidth),isNaN(ve.targetBandwidth)||ae("initialBitrate",Se,ve.targetBandwidth)})}}(Se))}},reset:function F(){R()},setConfig:function B(Y){Y&&Y.adapter&&(k=Y.adapter)}},function P(){y=Object(E.default)(o).getInstance().getLogger(d),R()}(),d}g.__dashjs_factory_name="ServiceDescriptionController",v.default=n.default.getSingletonFactory(g)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),_=e(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),I=e(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),w=e(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),g=e(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),o=e(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),d=e(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),u=e(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),m=e(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),y=e(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),k=e(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),P=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),B=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),T=e(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function C(j,le){var Y=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!Y){if(Array.isArray(j)||(Y=G(j))||le&&j&&"number"==typeof j.length){Y&&(j=Y);var ve=0,de=function(){};return{s:de,n:function(){return ve>=j.length?{done:!0}:{done:!1,value:j[ve++]}},e:function(Ce){throw Ce},f:de}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ge,Se=!0,xe=!1;return{s:function(){Y=Y.call(j)},n:function(){var Ce=Y.next();return Se=Ce.done,Ce},e:function(Ce){xe=!0,Ge=Ce},f:function(){try{!Se&&null!=Y.return&&Y.return()}finally{if(xe)throw Ge}}}}function O(j){return function ee(j){if(Array.isArray(j))return ae(j)}(j)||function Z(j){if(typeof Symbol<"u"&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||G(j)||function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(j,le){if(j){if("string"==typeof j)return ae(j,le);var Y=Object.prototype.toString.call(j).slice(8,-1);if("Object"===Y&&j.constructor&&(Y=j.constructor.name),"Map"===Y||"Set"===Y)return Array.from(j);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return ae(j,le)}}function ae(j,le){(null==le||le>j.length)&&(le=j.length);for(var Y=0,ve=new Array(le);Y<le;Y++)ve[Y]=j[Y];return ve}function Ae(){var j,le,Y,ve,de=this.context,Se=Object(P.default)(de).getInstance(),xe=Number.isInteger||function(Tt){return"number"==typeof Tt&&isFinite(Tt)&&Math.floor(Tt)===Tt};function ge(Tt,ct){if(!Tt)throw new Error("adaptation is not defined");if(!ct)throw new Error("type is not defined");if(Tt.Representation_asArray&&Tt.Representation_asArray.length){var hn=Yt(Tt.Representation_asArray[0]);if(hn&&hn.length>0&&T.THUMBNAILS_SCHEME_ID_URIS.indexOf(hn[0].schemeIdUri)>=0)return ct===n.default.IMAGE}if(Tt.ContentComponent_asArray&&Tt.ContentComponent_asArray.length>0){if(Tt.ContentComponent_asArray.length>1)return ct===n.default.MUXED;if(Tt.ContentComponent_asArray[0].contentType===ct)return!0}var Ze=ct===n.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ct);if(Tt.Representation_asArray&&Tt.Representation_asArray.length&&Ze.test(Tt.Representation_asArray[0].codecs))return!0;if(Tt.hasOwnProperty(E.default.MIME_TYPE))return Ze.test(Tt.mimeType);if(Tt.Representation_asArray)for(var Kt,Ot=0;Ot<Tt.Representation_asArray.length;Ot++)if((Kt=Tt.Representation_asArray[Ot]).hasOwnProperty(E.default.MIME_TYPE))return Ze.test(Kt.mimeType);return!1}function Ce(Tt){if(!Tt)throw new Error("adaptation is not defined");if(Tt.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||Tt.hasOwnProperty(E.default.SEGMENT_TIMELINE)||Tt.hasOwnProperty(E.default.SEGMENT_LIST)||Tt.hasOwnProperty(E.default.SEGMENT_BASE))return!0;if(Tt.Representation_asArray&&Tt.Representation_asArray.length>0){var ct=Tt.Representation_asArray[0];if(ct.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||ct.hasOwnProperty(E.default.SEGMENT_TIMELINE)||ct.hasOwnProperty(E.default.SEGMENT_LIST)||ct.hasOwnProperty(E.default.SEGMENT_BASE))return!0}return!1}function Le(Tt){return ge(Tt,n.default.AUDIO)}function fe(Tt){return ge(Tt,n.default.VIDEO)}function we(Tt){return ge(Tt,n.default.TEXT)}function Te(Tt){return ge(Tt,n.default.MUXED)}function De(Tt){return ge(Tt,n.default.IMAGE)}function pe(){return function(Tt,ct){return Tt.bandwidth-ct.bandwidth}}function re(Tt){return Tt&&Array.isArray(Tt.Representation_asArray)&&Tt.Representation_asArray.sort(function(Tt,ct){return Tt.bandwidth-ct.bandwidth}),Tt}function Q(Tt,ct){return Tt&&Tt.Period_asArray&&xe(ct)&&Tt.Period_asArray[ct]?Tt.Period_asArray[ct].AdaptationSet_asArray:[]}function X(Tt){return Tt&&Tt.Period_asArray?Tt.Period_asArray:[]}function Xe(Tt){var ct=!1;return Tt&&Tt.hasOwnProperty("type")&&(ct=Tt.type===E.default.DYNAMIC),ct}function Yt(Tt){return Tt&&Tt.EssentialProperty_asArray&&Tt.EssentialProperty_asArray.length?Tt.EssentialProperty_asArray.map(function(ct){return{schemeIdUri:ct.schemeIdUri,value:ct.value}}):null}function gt(Tt){if(!Tt||!Tt.S_asArray)return NaN;var ct=Tt.S_asArray[0],hn=Tt.S_asArray[1];return ct.hasOwnProperty("d")?ct.d:hn.t-ct.t}function Qe(Tt){return Tt.adaptation.period.start-Tt.presentationTimeOffset}function it(Tt,ct){if(!Tt)throw new Error("Period cannot be null or undefined");var hn=I.default.DEFAULT_ID+"_"+ct;return Tt.hasOwnProperty(E.default.ID)&&Tt.id.length>0&&"__proto__"!==Tt.id&&(hn=Tt.id),hn}function Qt(Tt,ct,hn){var bt,Ze=[];if(!Tt)return Ze;for(bt=0;bt<Tt.length;bt++){var Kt=new u.default;if(Kt.timescale=1,Kt.representation=ct,!Tt[bt].hasOwnProperty(n.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Kt.schemeIdUri=Tt[bt].schemeIdUri,Tt[bt].hasOwnProperty(E.default.TIMESCALE)&&(Kt.timescale=Tt[bt].timescale),Tt[bt].hasOwnProperty(E.default.VALUE)&&(Kt.value=Tt[bt].value),Ze.push(Kt),Kt.period=hn}return Ze}function Tn(Tt){var ct=[],Ze=!1;return(Tt.BaseURL_asArray||[Tt.baseUri]).some(function(bt){if(bt){var Kt=new d.default,Ot=bt.__text||bt;return Se.isRelative(Ot)&&(Ze=!0,Tt.baseUri&&(Ot=Se.resolve(Ot,Tt.baseUri))),Kt.url=Ot,Kt.serviceLocation=bt.hasOwnProperty(E.default.SERVICE_LOCATION)&&bt.serviceLocation.length?bt.serviceLocation:Ot,bt.hasOwnProperty(E.default.DVB_PRIORITY)&&(Kt.dvb_priority=bt[E.default.DVB_PRIORITY]),bt.hasOwnProperty(E.default.DVB_WEIGHT)&&(Kt.dvb_weight=bt[E.default.DVB_WEIGHT]),bt.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)&&(Kt.availabilityTimeOffset=bt[E.default.AVAILABILITY_TIME_OFFSET]),bt.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)&&(Kt.availabilityTimeComplete="false"!==bt[E.default.AVAILABILITY_TIME_COMPLETE]),ct.push(Kt),Ze}}),ct}return j={getIsTypeOf:ge,getIsText:we,getIsFragmented:Ce,getProducerReferenceTimesForAdaptation:function Ue(Tt){var ct=Tt&&Tt.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)?Tt[E.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Tt&&Tt.hasOwnProperty(E.default.REPRESENTATION_ASARRAY)?Tt[E.default.REPRESENTATION_ASARRAY]:[]).forEach(function(bt){bt.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)&&ct.push.apply(ct,O(bt[E.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ze=[];return ct.forEach(function(bt){var Kt=new m.default;bt.hasOwnProperty(E.default.ID)&&(Kt[E.default.ID]=bt[E.default.ID],bt.hasOwnProperty(E.default.WALL_CLOCK_TIME)&&(Kt[E.default.WALL_CLOCK_TIME]=bt[E.default.WALL_CLOCK_TIME],bt.hasOwnProperty(E.default.PRESENTATION_TIME)&&(Kt[E.default.PRESENTATION_TIME]=bt[E.default.PRESENTATION_TIME],Ze.push(Kt))))}),Ze},getLanguageForAdaptation:function lt(Tt){var ct="";return Tt&&Tt.hasOwnProperty(E.default.LANG)&&(ct=Tt.lang),ct},getViewpointForAdaptation:function He(Tt){return Tt&&Tt.hasOwnProperty(E.default.VIEWPOINT)?Tt.Viewpoint:null},getRolesForAdaptation:function be(Tt){return Tt&&Tt.hasOwnProperty(E.default.ROLE_ASARRAY)?Tt.Role_asArray:[]},getAccessibilityForAdaptation:function _e(Tt){return Tt&&Tt.hasOwnProperty(E.default.ACCESSIBILITY_ASARRAY)?Tt.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function K(Tt){return Tt&&Tt.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Tt.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function oe(Tt){return Tt&&Tt.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Tt.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function J(Tt,ct,hn){var Ze=Q(ct,hn);return Ze.length>0&&xe(Tt)?Ze[Tt]:null},getIndexForAdaptation:function q(Tt,ct,hn){if(!Tt)return-1;for(var Ze=Q(ct,hn),bt=0;bt<Ze.length;bt++)if(Object(k.default)(de).getInstance().areEqual(Ze[bt],Tt))return bt;return-1},getAdaptationForId:function ne(Tt,ct,hn){var bt,Kt,Ze=Q(ct,hn);for(bt=0,Kt=Ze.length;bt<Kt;bt++)if(Ze[bt].hasOwnProperty(E.default.ID)&&Ze[bt].id===Tt)return Ze[bt];return null},getAdaptationsForType:function me(Tt,ct,hn){var bt,Kt,Ze=Q(Tt,ct),Ot=[];for(bt=0,Kt=Ze.length;bt<Kt;bt++)ge(Ze[bt],hn)&&Ot.push(re(Ze[bt]));return Ot},getRealPeriods:X,getRealPeriodForIndex:function $(Tt,ct){var hn=X(ct);return hn.length>0&&xe(Tt)?hn[Tt]:null},getCodec:function Ee(Tt,ct,hn){var Ze=null;if(Tt&&Tt.Representation_asArray&&Tt.Representation_asArray.length>0){var bt=xe(ct)&&ct>=0&&ct<Tt.Representation_asArray.length?Tt.Representation_asArray[ct]:Tt.Representation_asArray[0];bt&&(Ze=bt.mimeType+';codecs="'+bt.codecs+'"',hn&&void 0!==bt.width&&(Ze+=';width="'+bt.width+'";height="'+bt.height+'"'))}return Ze&&(Ze=Ze.replace(/\sprofiles=[^;]*/g,"")),Ze},getSelectionPriority:function zt(Tt){try{var ct=Tt&&typeof Tt.selectionPriority<"u"?parseInt(Tt.selectionPriority):1;return isNaN(ct)?1:ct}catch{return 1}},getMimeType:function ye(Tt){return Tt&&Tt.Representation_asArray&&Tt.Representation_asArray.length>0?Tt.Representation_asArray[0].mimeType:null},getKID:function Ne(Tt){return Tt&&Tt.hasOwnProperty(E.default.CENC_DEFAULT_KID)?Tt[E.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function tt(Tt){if(!Tt||!Array.isArray(Tt.Label_asArray))return[];for(var ct=[],hn=0;hn<Tt.Label_asArray.length;hn++)ct.push({lang:Tt.Label_asArray[hn].lang,text:Tt.Label_asArray[hn].__text||Tt.Label_asArray[hn]});return ct},getContentProtectionData:function qe(Tt){return Tt&&Tt.hasOwnProperty(E.default.CONTENTPROTECTION_ASARRAY)&&0!==Tt.ContentProtection_asArray.length?Tt.ContentProtection_asArray:null},getIsDynamic:Xe,getId:function ut(Tt){return Tt&&Tt[E.default.ID]||null},hasProfile:function ze(Tt,ct){var hn=!1;return Tt&&Tt.profiles&&Tt.profiles.length>0&&(hn=-1!==Tt.profiles.indexOf(ct)),hn},getDuration:function ht(Tt){return Tt&&Tt.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)?Tt.mediaPresentationDuration:Tt&&"dynamic"==Tt.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function vt(Tt){return Tt&&Tt.bandwidth?Tt.bandwidth:NaN},getManifestUpdatePeriod:function ce(Tt){var ct=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,hn=NaN;return Tt&&Tt.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(hn=Tt.minimumUpdatePeriod),isNaN(hn)?hn:Math.max(hn-ct,1)},getPublishTime:function Ve(Tt){return Tt&&Tt.hasOwnProperty(E.default.PUBLISH_TIME)?new Date(Tt[E.default.PUBLISH_TIME]):null},getRepresentationCount:function yt(Tt){return Tt&&Array.isArray(Tt.Representation_asArray)?Tt.Representation_asArray.length:0},getBitrateListForAdaptation:function Bt(Tt){var ct=re(Tt);return(ct&&Array.isArray(ct.Representation_asArray)?ct.Representation_asArray:[]).map(function(Ze){return{bandwidth:Ze.bandwidth,width:Ze.width||0,height:Ze.height||0,scanType:Ze.scanType||null,id:Ze.id||null}})},getRepresentationFor:function cn(Tt,ct){return ct&&ct.Representation_asArray&&ct.Representation_asArray.length>0&&xe(Tt)?ct.Representation_asArray[Tt]:null},getRepresentationsForAdaptation:function Mt(Tt){var Ze,bt,ct=[],hn=function nn(Tt){if(Tt&&Tt.period&&xe(Tt.period.index)){var ct=Tt.period.mpd.manifest.Period_asArray[Tt.period.index];if(ct&&ct.AdaptationSet_asArray&&xe(Tt.index))return re(ct.AdaptationSet_asArray[Tt.index])}}(Tt);if(hn&&hn.Representation_asArray){if(Tt&&Tt.period&&xe(Tt.period.index)){var Kt=Tn(Tt.period.mpd.manifest);Kt&&(bt=Kt[0])}for(var Ot=0,yn=hn.Representation_asArray.length;Ot<yn;++Ot){var Rt=hn.Representation_asArray[Ot],St=new A.default;if(St.index=Ot,St.adaptation=Tt,Rt.hasOwnProperty(E.default.ID)&&(St.id=Rt.id),Rt.hasOwnProperty(E.default.CODECS)&&(St.codecs=Rt.codecs),Rt.hasOwnProperty(E.default.MIME_TYPE)&&(St.mimeType=Rt[E.default.MIME_TYPE]),Rt.hasOwnProperty(E.default.CODEC_PRIVATE_DATA)&&(St.codecPrivateData=Rt.codecPrivateData),Rt.hasOwnProperty(E.default.BANDWITH)&&(St.bandwidth=Rt.bandwidth),Rt.hasOwnProperty(E.default.WIDTH)&&(St.width=Rt.width),Rt.hasOwnProperty(E.default.HEIGHT)&&(St.height=Rt.height),Rt.hasOwnProperty(E.default.SCAN_TYPE)&&(St.scanType=Rt.scanType),Rt.hasOwnProperty(E.default.MAX_PLAYOUT_RATE)&&(St.maxPlayoutRate=Rt.maxPlayoutRate),Rt.hasOwnProperty(E.default.SEGMENT_BASE)?(Ze=Rt.SegmentBase,St.segmentInfoType=E.default.SEGMENT_BASE):Rt.hasOwnProperty(E.default.SEGMENT_LIST)?St.segmentInfoType=(Ze=Rt.SegmentList).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_LIST:Rt.hasOwnProperty(E.default.SEGMENT_TEMPLATE)?(St.segmentInfoType=(Ze=Rt.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_TEMPLATE,Ze.hasOwnProperty(E.default.INITIALIZATION_MINUS)&&(St.initialization=Ze.initialization.split("$Bandwidth$").join(Rt.bandwidth).split("$RepresentationID$").join(Rt.id))):St.segmentInfoType=E.default.BASE_URL,St.essentialProperties=Yt(Rt),Ze){if(Ze.hasOwnProperty(E.default.INITIALIZATION)){var It=Ze.Initialization;It.hasOwnProperty(E.default.SOURCE_URL)&&(St.initialization=It.sourceURL),It.hasOwnProperty(E.default.RANGE)&&(St.range=It.range)}else we(hn)&&Ce(hn)&&hn.mimeType&&-1===hn.mimeType.indexOf("application/mp4")&&(St.range=0);Ze.hasOwnProperty(E.default.TIMESCALE)&&(St.timescale=Ze.timescale),Ze.hasOwnProperty(E.default.DURATION)?St.segmentDuration=Ze.duration/St.timescale:Rt.hasOwnProperty(E.default.SEGMENT_TEMPLATE)&&(Ze=Rt.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)&&(St.segmentDuration=gt(Ze.SegmentTimeline)/St.timescale),Ze.hasOwnProperty(E.default.MEDIA)&&(St.media=Ze.media),Ze.hasOwnProperty(E.default.START_NUMBER)&&(St.startNumber=Ze.startNumber),Ze.hasOwnProperty(E.default.INDEX_RANGE)&&(St.indexRange=Ze.indexRange),Ze.hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(St.presentationTimeOffset=Ze.presentationTimeOffset/St.timescale),Ze.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)?St.availabilityTimeOffset=Ze.availabilityTimeOffset:bt&&void 0!==bt.availabilityTimeOffset&&(St.availabilityTimeOffset=bt.availabilityTimeOffset),Ze.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)?St.availabilityTimeComplete="false"!==Ze.availabilityTimeComplete:bt&&void 0!==bt.availabilityTimeComplete&&(St.availabilityTimeComplete=bt.availabilityTimeComplete)}St.MSETimeOffset=Qe(St),St.path=[Tt.period.index,Tt.index,Ot],ct.push(St)}}return ct},getAdaptationsForPeriod:function Fe(Tt){var Ze,bt,Kt,ct=Tt&&xe(Tt.index)?Tt.mpd.manifest.Period_asArray[Tt.index]:null,hn=[];if(ct&&ct.AdaptationSet_asArray)for(Kt=0;Kt<ct.AdaptationSet_asArray.length;Kt++)bt=ct.AdaptationSet_asArray[Kt],Ze=new _.default,bt.hasOwnProperty(E.default.ID)&&(Ze.id=bt.id),Ze.index=Kt,Ze.period=Tt,Te(bt)?Ze.type=n.default.MUXED:Le(bt)?Ze.type=n.default.AUDIO:fe(bt)?Ze.type=n.default.VIDEO:we(bt)?Ze.type=n.default.TEXT:De(bt)?Ze.type=n.default.IMAGE:le.warn("Unknown Adaptation stream type"),hn.push(Ze);return hn},getRegularPeriods:function ke(Tt){var yn,Rt,ct=!!Tt&&Xe(Tt.manifest),hn=[],Ze=null,bt=null,Kt=null,Ot=null;for(Rt=0,yn=Tt&&Tt.manifest&&Tt.manifest.Period_asArray?Tt.manifest.Period_asArray.length:0;Rt<yn;Rt++)(bt=Tt.manifest.Period_asArray[Rt]).hasOwnProperty(E.default.START)?(Ot=new I.default).start=bt.start:null!==Ze&&Ze.hasOwnProperty(E.default.DURATION)&&null!==Kt?(Ot=new I.default).start=parseFloat((Kt.start+Kt.duration).toFixed(5)):0===Rt&&!ct&&((Ot=new I.default).start=0),null!==Kt&&isNaN(Kt.duration)&&(null!==Ot?Kt.duration=parseFloat((Ot.start-Kt.start).toFixed(5)):le.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Ot&&(Ot.id=it(bt,Rt),Ot.index=Rt,Ot.mpd=Tt,bt.hasOwnProperty(E.default.DURATION)&&(Ot.duration=bt.duration),Kt&&(Kt.nextPeriodId=Ot.id),hn.push(Ot),Ze=bt,Kt=Ot),bt=null,Ot=null;return 0===hn.length||null!==Kt&&isNaN(Kt.duration)&&(Kt.duration=parseFloat((function mt(Tt){!function ft(){if(!Y||!Y.hasOwnProperty("error"))throw new Error(n.default.MISSING_CONFIG_ERROR)}();var hn,ct=Xe(Tt.mpd.manifest);return Tt.mpd.manifest.mediaPresentationDuration?hn=Tt.mpd.manifest.mediaPresentationDuration:Tt.duration?hn=Tt.duration:ct?hn=Number.POSITIVE_INFINITY:Y.error(new R.default(D.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Tt)),hn}(Kt)-Kt.start).toFixed(5))),hn},getMpd:function ot(Tt){var ct=new w.default;return Tt&&(ct.manifest=Tt,Tt.hasOwnProperty(E.default.AVAILABILITY_START_TIME)?ct.availabilityStartTime=new Date(Tt.availabilityStartTime.getTime()):Tt.loadedTime&&(ct.availabilityStartTime=new Date(Tt.loadedTime.getTime())),Tt.hasOwnProperty(E.default.AVAILABILITY_END_TIME)&&(ct.availabilityEndTime=new Date(Tt.availabilityEndTime.getTime())),Tt.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(ct.minimumUpdatePeriod=Tt.minimumUpdatePeriod),Tt.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)&&(ct.mediaPresentationDuration=Tt.mediaPresentationDuration),Tt.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)&&(ct.suggestedPresentationDelay=Tt.suggestedPresentationDelay),Tt.hasOwnProperty(E.default.TIMESHIFT_BUFFER_DEPTH)&&(ct.timeShiftBufferDepth=Tt.timeShiftBufferDepth),Tt.hasOwnProperty(E.default.MAX_SEGMENT_DURATION)&&(ct.maxSegmentDuration=Tt.maxSegmentDuration),Tt.hasOwnProperty(E.default.PUBLISH_TIME)&&(ct.publishTime=new Date(Tt.publishTime))),ct},getEventsForPeriod:function Et(Tt){var Kt,Ot,ct=Tt&&Tt.mpd&&Tt.mpd.manifest?Tt.mpd.manifest:null,hn=ct?ct.Period_asArray:null,Ze=hn&&Tt&&xe(Tt.index)?hn[Tt.index].EventStream_asArray:null,bt=[];if(Ze)for(Kt=0;Kt<Ze.length;Kt++){var yn=new u.default;if(yn.period=Tt,yn.timescale=1,!Ze[Kt].hasOwnProperty(n.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(yn.schemeIdUri=Ze[Kt][n.default.SCHEME_ID_URI],Ze[Kt].hasOwnProperty(E.default.TIMESCALE)&&(yn.timescale=Ze[Kt][E.default.TIMESCALE]),Ze[Kt].hasOwnProperty(E.default.VALUE)&&(yn.value=Ze[Kt][E.default.VALUE]),Ze[Kt].hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(yn.presentationTimeOffset=Ze[Kt][E.default.PRESENTATION_TIME_OFFSET]),Ot=0;Ze[Kt].Event_asArray&&Ot<Ze[Kt].Event_asArray.length;Ot++){var Rt=Ze[Kt].Event_asArray[Ot],St=new o.default;St.presentationTime=0,St.eventStream=yn,Rt.hasOwnProperty(E.default.PRESENTATION_TIME)&&(St.presentationTime=Rt.presentationTime),St.calculatedPresentationTime=St.presentationTime/yn.timescale+Tt.start-(yn.presentationTimeOffset?yn.presentationTimeOffset/yn.timescale:0),Rt.hasOwnProperty(E.default.DURATION)&&(St.duration=Rt.duration/yn.timescale),St.id=Rt.hasOwnProperty(E.default.ID)?Rt.id:null,St.messageData=Rt.Signal&&Rt.Signal.Binary?ve.decodeArray(Rt.Signal.Binary.toString()):Rt.messageData||Rt.__cdata||Rt.__text,bt.push(St)}}return bt},getEssentialPropertiesForRepresentation:Yt,getEventStreamForAdaptationSet:function fn(Tt,ct,hn){var Ze,bt,Kt;return Tt&&Tt.Period_asArray&&ct&&ct.period&&xe(ct.period.index)&&(bt=Tt.Period_asArray[ct.period.index])&&bt.AdaptationSet_asArray&&xe(ct.index)&&(Kt=bt.AdaptationSet_asArray[ct.index])&&(Ze=Kt.InbandEventStream_asArray),Qt(Ze,null,hn)},getEventStreamForRepresentation:function Jt(Tt,ct,hn){var Ze,bt,Kt,Ot;return Tt&&Tt.Period_asArray&&ct&&ct.adaptation&&ct.adaptation.period&&xe(ct.adaptation.period.index)&&(bt=Tt.Period_asArray[ct.adaptation.period.index])&&bt.AdaptationSet_asArray&&xe(ct.adaptation.index)&&(Kt=bt.AdaptationSet_asArray[ct.adaptation.index])&&Kt.Representation_asArray&&xe(ct.index)&&(Ot=Kt.Representation_asArray[ct.index])&&(Ze=Ot.InbandEventStream_asArray),Qt(Ze,ct,hn)},getUTCTimingSources:function pn(Tt){var ct=Xe(Tt),hn=!!Tt&&Tt.hasOwnProperty(E.default.AVAILABILITY_START_TIME),Ze=Tt?Tt.UTCTiming_asArray:null,bt=[];return(ct||hn)&&Ze&&Ze.forEach(function(Kt){var Ot=new g.default;Kt.hasOwnProperty(n.default.SCHEME_ID_URI)&&(Ot.schemeIdUri=Kt.schemeIdUri,Kt.hasOwnProperty(E.default.VALUE)&&(Ot.value=Kt.value.toString(),bt.push(Ot)))}),bt},getBaseURLsFromElement:Tn,getRepresentationSortFunction:pe,getContentSteering:function Dn(Tt){if(Tt&&Tt.hasOwnProperty(E.default.CONTENT_STEERING_AS_ARRAY)){var ct=Tt[E.default.CONTENT_STEERING_AS_ARRAY][0],hn=new y.default;return hn.serverUrl=ct.__text,ct.hasOwnProperty(E.default.DEFAULT_SERVICE_LOCATION)&&(hn.defaultServiceLocation=ct[E.default.DEFAULT_SERVICE_LOCATION]),ct.hasOwnProperty(E.default.QUERY_BEFORE_START)&&(hn.queryBeforeStart="true"===ct[E.default.QUERY_BEFORE_START].toLowerCase()),ct.hasOwnProperty(E.default.PROXY_SERVER_URL)&&(hn.proxyServerUrl=ct[E.default.PROXY_SERVER_URL]),hn}},getLocation:function Fn(Tt){if(Tt&&Tt.hasOwnProperty(n.default.LOCATION))return Tt.Location=Tt.Location_asArray[0],Tt.Location},getPatchLocation:function Kn(Tt){if(Tt&&Tt.hasOwnProperty(E.default.PATCH_LOCATION))return Tt.PatchLocation=Tt.PatchLocation_asArray[0],Tt.PatchLocation},getSuggestedPresentationDelay:function dn(Tt){return Tt&&Tt.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)?Tt.suggestedPresentationDelay:null},getAvailabilityStartTime:function an(Tt){return Tt&&Tt.hasOwnProperty(E.default.AVAILABILITY_START_TIME)&&null!==Tt.availabilityStartTime?Tt.availabilityStartTime.getTime():null},getServiceDescriptions:function un(Tt){var ct=[];if(Tt&&Tt.hasOwnProperty(E.default.SERVICE_DESCRIPTION)){var Ze,hn=C(Tt.ServiceDescription_asArray);try{for(hn.s();!(Ze=hn.n()).done;){var bt=Ze.value,Kt=null,Ot=null,yn=null,Rt=null,St=null,It=null;for(var Zt in bt)bt.hasOwnProperty(Zt)&&(Zt===E.default.ID?Kt=bt[Zt]:Zt===E.default.SERVICE_DESCRIPTION_SCOPE?Ot=bt[Zt].schemeIdUri:Zt===E.default.SERVICE_DESCRIPTION_LATENCY?yn={target:parseInt(bt[Zt].target),max:parseInt(bt[Zt].max),min:parseInt(bt[Zt].min),referenceId:parseInt(bt[Zt].referenceId)}:Zt===E.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Rt={max:parseFloat(bt[Zt].max),min:parseFloat(bt[Zt].min)}:Zt===E.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?St={mediaType:bt[Zt].mediaType,max:parseInt(bt[Zt].max),min:parseInt(bt[Zt].min),target:parseInt(bt[Zt].target),type:bt[Zt].type,maxQualityDifference:parseInt(bt[Zt].maxQualityDifference)}:Zt===E.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(It={mediaType:bt[Zt].mediaType,max:parseInt(bt[Zt].max),min:parseInt(bt[Zt].min),target:parseInt(bt[Zt].target)}));ct.push({id:Kt,schemeIdUri:Ot,latency:yn,playbackRate:Rt,operatingQuality:St,operatingBandwidth:It})}}catch(gn){hn.e(gn)}finally{hn.f()}}return ct},getSupplementalProperties:function on(Tt){var ct={};if(Tt&&Tt.hasOwnProperty(E.default.SUPPLEMENTAL_PROPERTY)){var Ze,hn=C(Tt.SupplementalProperty_asArray);try{for(hn.s();!(Ze=hn.n()).done;){var bt=Ze.value;bt.hasOwnProperty(n.default.SCHEME_ID_URI)&&bt.hasOwnProperty(E.default.VALUE)&&(ct[bt[n.default.SCHEME_ID_URI]]=bt[E.default.VALUE])}}catch(Kt){hn.e(Kt)}finally{hn.f()}}return ct},setConfig:function ln(Tt){Tt&&(Tt.errHandler&&(Y=Tt.errHandler),Tt.BASE64&&(ve=Tt.BASE64))}},function Ge(){le=Object(F.default)(de).getInstance().getLogger(j)}(),j}Ae.__dashjs_factory_name="DashManifestModel",v.default=B.default.getSingletonFactory(Ae)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),_=e(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),I=e(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function w(){var g,o,d=this.context;return g={getIsPatch:function m(F){return F&&F.hasOwnProperty(n.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function y(F){return F&&F.hasOwnProperty(n.default.PUBLISH_TIME)?new Date(F[n.default.PUBLISH_TIME]):null},getOriginalPublishTime:function k(F){return F&&F.hasOwnProperty(n.default.ORIGINAL_PUBLISH_TIME)?new Date(F[n.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function P(F){return F&&F[n.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function B(F){return F?(F.__children||[]).map(function(R){var D=Object.keys(R)[0];if("add"!==D&&"remove"!==D&&"replace"!==D)return o.warn("Ignoring node of invalid action: ".concat(D)),null;var T=R[D],C=T.sel;if("add"===D&&T.type){if(!T.type.startsWith("@"))return o.warn("Ignoring add action for prefixed namespace declaration: ".concat(T.type,"=").concat(T.__text)),null;C="".concat(C,"/").concat(T.type)}var O=new _.default(C);if(!O.isValid())return o.warn("Ignoring action with invalid selector: ".concat(D," - ").concat(C)),null;var M=null;O.findsAttribute()?M=T.__text||"":"remove"!==D&&(M=T.__children.reduce(function(Z,ee){var ae=Object.keys(ee)[0];return"#text"!==ae&&(Z[ae]=Z[ae]||[],Z[ae].push(ee[ae])),Z},{}));var G=new I.default(D,O,M);return"add"===D&&(G.position=T.pos),G}).filter(function(R){return!!R}):[]}},function u(){o=Object(A.default)(d).getInstance().getLogger(g)}(),g}w.__dashjs_factory_name="PatchManifestModel",v.default=E.default.getSingletonFactory(w)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),A=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),_=e(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),I=e(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),w=e(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),g=e(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),o=e(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),d=e(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),u=e(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function m(y){var B,F,R,D,T,k=this.context,P=(y=y||{}).debug;return B={parse:function G(Z){var ee,ae=window.performance.now();if(!(ee=D.xml_str2json(Z)))throw new Error("parsing the manifest failed");var Ae=window.performance.now();ee.Patch?((ee=ee.Patch).add_asArray&&ee.add_asArray.forEach(function(le){return T.run(le)}),ee.replace_asArray&&ee.replace_asArray.forEach(function(le){return T.run(le)})):T.run(ee=ee.MPD);var j=window.performance.now();return F.info("Parsing complete: ( xml2json: "+(Ae-ae).toPrecision(3)+"ms, objectiron: "+(j-Ae).toPrecision(3)+"ms, total: "+((j-ae)/1e3).toPrecision(3)+"s)"),ee.protocol="DASH",ee},getMatchers:function O(){return R},getIron:function M(){return T}},function C(){F=P.getLogger(B),R=[new I.default,new w.default,new g.default,new o.default,new _.default],D=new A.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:R}),T=Object(E.default)(k).create({adaptationset:new d.default,period:new u.default})}(),B}m.__dashjs_factory_name="DashParser",v.default=n.default.getClassFactory(m)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(d){!function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o);var y;this._name=d,this._merge=(y=d)&&y.length&&y.charAt(0)===y.charAt(0).toUpperCase()}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),o}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function E(d){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,w(y.key),y)}}function w(d){var u=function g(d,u){if("object"!==E(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==E(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===E(u)?u:String(u)}v.default=function(){function d(u,m,y){var k=this;(function A(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this._name=u||"",this._properties=[],this._children=y||[],Array.isArray(m)&&m.forEach(function(P){k._properties.push(new n.default(P))})}return function I(d,u,m){return u&&_(d.prototype,u),m&&_(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),d}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function A(R){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function _(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,w(C.key),C)}}function w(R){var D=function g(R,D){if("object"!==A(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==A(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===A(D)?D:String(D)}function d(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&u(R,D)}function u(R,D){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function m(R){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=B(R);if(D){var M=B(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function y(R,D){if(D&&("object"===A(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function k(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function B(R){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}v.default=function(R){d(T,R);var D=m(T);function T(){!function o(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T);var C=[E.default.PROFILES,E.default.WIDTH,E.default.HEIGHT,E.default.SAR,E.default.FRAMERATE,E.default.AUDIO_SAMPLING_RATE,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.MAXIMUM_SAP_PERIOD,E.default.START_WITH_SAP,E.default.MAX_PLAYOUT_RATE,E.default.CODING_DEPENDENCY,E.default.SCAN_TYPE,E.default.FRAME_PACKING,E.default.AUDIO_CHANNEL_CONFIGURATION,E.default.CONTENT_PROTECTION,E.default.ESSENTIAL_PROPERTY,E.default.SUPPLEMENTAL_PROPERTY,E.default.INBAND_EVENT_STREAM];return D.call(this,E.default.ADAPTATION_SET,C,[new n.default(E.default.REPRESENTATION,C,[new n.default(E.default.SUB_REPRESENTATION,C)])])}return function I(R,D,T){return D&&_(R.prototype,D),T&&_(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(n.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function A(R){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function _(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,w(C.key),C)}}function w(R){var D=function g(R,D){if("object"!==A(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==A(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===A(D)?D:String(D)}function d(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&u(R,D)}function u(R,D){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function m(R){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=B(R);if(D){var M=B(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function y(R,D){if(D&&("object"===A(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function k(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function B(R){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}v.default=function(R){d(T,R);var D=m(T);function T(){!function o(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T);var C=[E.default.SEGMENT_BASE,E.default.SEGMENT_TEMPLATE,E.default.SEGMENT_LIST];return D.call(this,E.default.PERIOD,C,[new n.default(E.default.ADAPTATION_SET,C,[new n.default(E.default.REPRESENTATION,C)])])}return function I(R,D,T){return D&&_(R.prototype,D),T&&_(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(n.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(d,u){(function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._test=d,this._converter=u}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),o}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(C){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(C)}function A(C,O){for(var M=0;M<O.length;M++){var G=O[M];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(C,I(G.key),G)}}function I(C){var O=function w(C,O){if("object"!==E(C)||null===C)return C;var M=C[Symbol.toPrimitive];if(void 0!==M){var G=M.call(C,O||"default");if("object"!==E(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(C)}(C,"string");return"symbol"===E(O)?O:String(O)}function o(C,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),O&&d(C,O)}function d(C,O){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,Z){return G.__proto__=Z,G})(C,O)}function u(C){var O=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,G=P(C);if(O){var ee=P(this).constructor;Z=Reflect.construct(G,arguments,ee)}else Z=G.apply(this,arguments);return function m(C,O){if(O&&("object"===E(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function y(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(this,Z)}}function P(C){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(C)}var D=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;v.default=function(C){o(M,C);var O=u(M);function M(){return function g(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}(this,M),O.call(this,function(G){return D.test(G.value)},function(G){var ee,Z=D.exec(G);if(ee=Date.UTC(parseInt(Z[1],10),parseInt(Z[2],10)-1,parseInt(Z[3],10),parseInt(Z[4],10),parseInt(Z[5],10),Z[6]&&parseInt(Z[6],10)||0,Z[7]&&1e3*parseFloat(Z[7])||0),Z[9]&&Z[10]){var ae=60*parseInt(Z[9],10)+parseInt(Z[10],10);ee+=("+"===Z[8]?-1:1)*ae*60*1e3}return new Date(ee)})}return function _(C,O,M){return O&&A(C.prototype,O),M&&A(C,M),Object.defineProperty(C,"prototype",{writable:!1}),C}(M)}(n.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=e(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function _(Z){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(Z)}function I(Z,ee){for(var ae=0;ae<ee.length;ae++){var Ae=ee[ae];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(Z,g(Ae.key),Ae)}}function g(Z){var ee=function o(Z,ee){if("object"!==_(Z)||null===Z)return Z;var ae=Z[Symbol.toPrimitive];if(void 0!==ae){var Ae=ae.call(Z,ee||"default");if("object"!==_(Ae))return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(Z)}(Z,"string");return"symbol"===_(ee)?ee:String(ee)}function u(Z,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ee&&m(Z,ee)}function m(Z,ee){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ae,j){return Ae.__proto__=j,Ae})(Z,ee)}function y(Z){var ee=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var j,Ae=F(Z);if(ee){var le=F(this).constructor;j=Reflect.construct(Ae,arguments,le)}else j=Ae.apply(this,arguments);return function k(Z,ee){if(ee&&("object"===_(ee)||"function"==typeof ee))return ee;if(void 0!==ee)throw new TypeError("Derived constructors may only return object or undefined");return function P(Z){if(void 0===Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}(Z)}(this,j)}}function F(Z){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(Z)}var R=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;v.default=function(Z){u(ae,Z);var ee=y(ae);function ae(){return function d(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,ae),ee.call(this,function(Ae){for(var j=[A.default.MIN_BUFFER_TIME,A.default.MEDIA_PRESENTATION_DURATION,A.default.MINIMUM_UPDATE_PERIOD,A.default.TIMESHIFT_BUFFER_DEPTH,A.default.MAX_SEGMENT_DURATION,A.default.MAX_SUBSEGMENT_DURATION,A.default.SUGGESTED_PRESENTATION_DELAY,A.default.START,E.default.START_TIME,A.default.DURATION],le=j.length,Y=0;Y<le;Y++)if(Ae.nodeName===j[Y])return R.test(Ae.value);return!1},function(Ae){var j=R.exec(Ae),le=31536e3*parseFloat(j[3]||0)+2592e3*parseFloat(j[5]||0)+86400*parseFloat(j[7]||0)+3600*parseFloat(j[9]||0)+60*parseFloat(j[11]||0)+parseFloat(j[13]||0);return void 0!==j[1]&&(le=-le),le})}return function w(Z,ee,ae){return ee&&I(Z.prototype,ee),ae&&I(Z,ae),Object.defineProperty(Z,"prototype",{writable:!1}),Z}(ae)}(n.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),_=e.n(A);function I(C){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(C)}function w(C,O,M){return(O=d(O))in C?Object.defineProperty(C,O,{value:M,enumerable:!0,configurable:!0,writable:!0}):C[O]=M,C}function g(C,O){for(var M=0;M<O.length;M++){var G=O[M];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(C,d(G.key),G)}}function d(C){var O=function u(C,O){if("object"!==I(C)||null===C)return C;var M=C[Symbol.toPrimitive];if(void 0!==M){var G=M.call(C,O||"default");if("object"!==I(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(C)}(C,"string");return"symbol"===I(O)?O:String(O)}function y(C,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),O&&k(C,O)}function k(C,O){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,Z){return G.__proto__=Z,G})(C,O)}function P(C){var O=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,G=D(C);if(O){var ee=D(this).constructor;Z=Reflect.construct(G,arguments,ee)}else Z=G.apply(this,arguments);return function B(C,O){if(O&&("object"===I(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function F(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(this,Z)}}function D(C){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(C)}v.default=function(C){y(M,C);var O=P(M);function M(){return function m(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}(this,M),O.call(this,function(G,Z){var ee,ae=(w(ee={},E.default.ADAPTATION_SET,[E.default.LANG]),w(ee,E.default.REPRESENTATION,[E.default.LANG]),w(ee,E.default.CONTENT_COMPONENT,[E.default.LANG]),w(ee,E.default.LABEL,[E.default.LANG]),w(ee,E.default.GROUP_LABEL,[E.default.LANG]),ee);if(ae.hasOwnProperty(Z)){var Ae=ae[Z];return void 0!==Ae&&Ae.indexOf(G.name)>=0}return!1},function(G){var Z=_()(G);return void 0!==Z?Z:String(G)})}return function o(C,O,M){return O&&g(C.prototype,O),M&&g(C,M),Object.defineProperty(C,"prototype",{writable:!1}),C}(M)}(n.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}var B=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;v.default=function(R){o(T,R);var D=u(T);function T(){return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),D.call(this,function(C){return B.test(C.value)},function(C){return parseFloat(C)})}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(n.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function A(D){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(D)}function _(D,T,C){return(T=g(T))in D?Object.defineProperty(D,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):D[T]=C,D}function I(D,T){for(var C=0;C<T.length;C++){var O=T[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,g(O.key),O)}}function g(D){var T=function o(D,T){if("object"!==A(D)||null===D)return D;var C=D[Symbol.toPrimitive];if(void 0!==C){var O=C.call(D,T||"default");if("object"!==A(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===T?String:Number)(D)}(D,"string");return"symbol"===A(T)?T:String(T)}function u(D,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(T&&T.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),T&&m(D,T)}function m(D,T){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,M){return O.__proto__=M,O})(D,T)}function y(D){var T=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var M,O=F(D);if(T){var G=F(this).constructor;M=Reflect.construct(O,arguments,G)}else M=O.apply(this,arguments);return function k(D,T){if(T&&("object"===A(T)||"function"==typeof T))return T;if(void 0!==T)throw new TypeError("Derived constructors may only return object or undefined");return function P(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(D)}(this,M)}}function F(D){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(D)}v.default=function(D){u(C,D);var T=y(C);function C(){return function d(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")}(this,C),T.call(this,function(O,M){var G,Z=(_(G={},E.default.MPD,[E.default.ID,E.default.PROFILES]),_(G,E.default.PERIOD,[E.default.ID]),_(G,E.default.BASE_URL,[E.default.SERVICE_LOCATION,E.default.BYTE_RANGE]),_(G,E.default.SEGMENT_BASE,[E.default.INDEX_RANGE]),_(G,E.default.INITIALIZATION,[E.default.RANGE]),_(G,E.default.REPRESENTATION_INDEX,[E.default.RANGE]),_(G,E.default.SEGMENT_LIST,[E.default.INDEX_RANGE]),_(G,E.default.BITSTREAM_SWITCHING,[E.default.RANGE]),_(G,E.default.SEGMENT_URL,[E.default.MEDIA_RANGE,E.default.INDEX_RANGE]),_(G,E.default.SEGMENT_TEMPLATE,[E.default.INDEX_RANGE,E.default.MEDIA,E.default.INDEX,E.default.INITIALIZATION_MINUS,E.default.BITSTREAM_SWITCHING_MINUS]),_(G,E.default.ASSET_IDENTIFIER,[E.default.VALUE,E.default.ID]),_(G,E.default.EVENT_STREAM,[E.default.VALUE]),_(G,E.default.ADAPTATION_SET,[E.default.PROFILES,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.CONTENT_TYPE]),_(G,E.default.FRAME_PACKING,[E.default.VALUE,E.default.ID]),_(G,E.default.AUDIO_CHANNEL_CONFIGURATION,[E.default.VALUE,E.default.ID]),_(G,E.default.CONTENT_PROTECTION,[E.default.VALUE,E.default.ID]),_(G,E.default.ESSENTIAL_PROPERTY,[E.default.VALUE,E.default.ID]),_(G,E.default.SUPPLEMENTAL_PROPERTY,[E.default.VALUE,E.default.ID]),_(G,E.default.INBAND_EVENT_STREAM,[E.default.VALUE,E.default.ID]),_(G,E.default.ACCESSIBILITY,[E.default.VALUE,E.default.ID]),_(G,E.default.ROLE,[E.default.VALUE,E.default.ID]),_(G,E.default.RATING,[E.default.VALUE,E.default.ID]),_(G,E.default.VIEWPOINT,[E.default.VALUE,E.default.ID]),_(G,E.default.CONTENT_COMPONENT,[E.default.CONTENT_TYPE]),_(G,E.default.REPRESENTATION,[E.default.ID,E.default.DEPENDENCY_ID,E.default.MEDIA_STREAM_STRUCTURE_ID]),_(G,E.default.SUBSET,[E.default.ID]),_(G,E.default.METRICS,[E.default.METRICS_MINUS]),_(G,E.default.REPORTING,[E.default.VALUE,E.default.ID]),G);if(Z.hasOwnProperty(M)){var ee=Z[M];return void 0!==ee&&ee.indexOf(O.name)>=0}return!1},function(O){return String(O)})}return function w(D,T,C){return T&&I(D.prototype,T),C&&I(D,C),Object.defineProperty(D,"prototype",{writable:!1}),D}(C)}(n.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(I){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(I)}function A(I){function w(u,m){for(var y in u)m.hasOwnProperty(y)||(m[y]=u[y])}function g(u,m,y){for(var k=0,P=u.length;k<P;++k){var B=u[k];if(m[B.name])if(y[B.name]){if(B.merge){var F=m[B.name],R=y[B.name];"object"===E(F)&&"object"===E(R)?w(F,R):y[B.name]=F+R}}else y[B.name]=m[B.name]}}function o(u,m){for(var y=0,k=u.children.length;y<k;++y){var P=u.children[y],B=m[P.name+"_asArray"];if(B)for(var F=0,R=B.length;F<R;++F){var D=B[F];g(u.properties,m,D),o(P,D)}}}return{run:function d(u){if(null===u||"object"!==E(u))return u;if(u.Period_asArray&&"period"in I)for(var m=I.period,y=u.Period_asArray,k=0,P=y.length;k<P;++k){var B=y[k];if(o(m,B),"adaptationset"in I){var F=B.AdaptationSet_asArray;if(F)for(var R=I.adaptationset,D=0,T=F.length;D<T;++D)o(R,F[D])}}return u}}}A.__dashjs_factory_name="ObjectIron";var _=n.default.getClassFactory(A);v.default=_},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(w,g){var o=(w=w||{}).timelineConverter;function u(){if(!o||!o.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function y(P,B){if(u(),!P)return null;var F=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,R=F.SegmentURL_asArray.length,D=P&&!isNaN(P.startNumber)?P.startNumber:1,T=Math.max(D-1,0),C=Math.max(B-T,0),O=null;if(C<R){var M=F.SegmentURL_asArray[C];(O=Object(A.getIndexBasedSegment)(o,g,P,B))&&(O.replacementTime=(D+B-1)*P.segmentDuration,O.media=M.media?M.media:"",O.mediaRange=M.mediaRange,O.indexRange=M.indexRange)}return O}return{getSegmentByIndex:y,getSegmentByTime:function k(P,B){if(u(),!P)return null;var F=P.segmentDuration;if(isNaN(F))return null;var R=o.calcPeriodRelativeTimeFromMpdRelativeTime(P,B);return y(P,Math.floor(R/F))},getMediaFinishedInformation:function m(P){var B={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return B;var F=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,R=P&&!isNaN(P.startNumber)?P.startNumber:1,D=Math.max(R-1,0);return B.numberOfSegments=D+F.SegmentURL_asArray.length,B}}}_.__dashjs_factory_name="ListSegmentsGetter";var I=n.default.getClassFactory(_);v.default=I},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function I(d){var u=function w(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v),e.d(v,"default",function(){return g});var g=function(){function d(){!function E(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}(this,d)}return function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,null,[{key:"round10",value:function(m,y){return function o(d,u,m){return typeof m>"u"||0==+m?Math[d](u):(m=+m,null===(u=+u)||isNaN(u)||"number"!=typeof m||m%1!=0?NaN:(u=u.toString().split("e"),+((u=(u=Math[d](+(u[0]+"e"+(u[1]?+u[1]-m:-m)))).toString().split("e"))[0]+"e"+(u[1]?+u[1]+m:m))))}("round",m,y)}}]),d}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function A(I){var w=(I=I||{}).timelineConverter;function o(){if(!w||!w.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function u(k,P){if(o(),!k)return null;var F,B=k.segments?k.segments.length:-1;if(P<B&&(F=k.segments[P])&&F.index===P)return F;for(var R=0;R<B;R++)if((F=k.segments[R])&&F.index===P)return F;return null}return{getSegmentByIndex:u,getSegmentByTime:function m(k,P){return o(),u(k,function y(k,P){if(!k)return-1;var D,T,C,O,M,B=k.segments,F=B?B.length:null,R=-1;if(B&&F>0)for(M=0;M<F;M++)if(P+(D=(O=(T=B[M]).duration)/2)>=(C=T.presentationStartTime)&&P-D<C+O){R=T.index;break}return R}(k,P))},getMediaFinishedInformation:function d(k){var P={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!k||!k.segments||(P.numberOfSegments=k.segments.length),P}}}A.__dashjs_factory_name="SegmentBaseGetter";var _=n.default.getClassFactory(A);v.default=_},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(et,v,e){"use strict";e.r(v),e.d(v,"unescapeDollarsInTemplate",function(){return _}),e.d(v,"replaceIDForTemplate",function(){return I}),e.d(v,"replaceTokenForTemplate",function(){return w}),e.d(v,"getIndexBasedSegment",function(){return d}),e.d(v,"getTimeBasedSegment",function(){return u});var n=e(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function E(m,y){for(;m.length<y;)m="0"+m;return m}function _(m){return m&&m.split("$$").join("$")}function I(m,y){if(!y||!m||-1===m.indexOf("$RepresentationID$"))return m;var k=y.toString();return m.split("$RepresentationID$").join(k)}function w(m,y,k){var B,F,R,D,T,C,O=y.length;if(!m)return m;for(;;){if((B=m.indexOf("$"+y))<0||(F=m.indexOf("$",B+O))<0)return m;if((R=m.indexOf("%0",B+O))>B&&R<F)switch(D=m.charAt(F-1),T=parseInt(m.substring(R+2,F-1),10),D){case"d":case"i":case"u":C=E(k.toString(),T);break;case"x":C=E(k.toString(16),T);break;case"X":C=E(k.toString(16),T).toUpperCase();break;case"o":C=E(k.toString(8),T);break;default:return m}else C=k;m=m.substring(0,B)+C+m.substring(F+1)}}function g(m,y,k,P,B,F,R,D){var T=new n.default;return T.representation=m,T.duration=y,T.presentationStartTime=k,T.mediaStartTime=P,T.availabilityStartTime=B.calcAvailabilityStartTimeFromPresentationTime(F,m,R),T.availabilityEndTime=B.calcAvailabilityEndTimeFromPresentationTime(F+y,m,R),T.wallStartTime=B.calcWallTimeForSegment(T,R),T.replacementNumber=function A(m,y){return m.representation.startNumber+y}(T,D),T.index=D,T}function o(m,y,k,P){var B=y.adaptation.period;if(isFinite(B.duration)&&B.start+B.duration<=k.presentationStartTime)return!1;if(P){if("INF"===y.availabilityTimeOffset)return!0;var F=m.getClientReferenceTime();return k.availabilityStartTime.getTime()<=F&&(!isFinite(k.availabilityEndTime)||k.availabilityEndTime.getTime()>=F)}return!0}function d(m,y,k,P){var B,F,R;B=k.segmentDuration,isNaN(B)&&(B=k.adaptation.period.duration),F=parseFloat((k.adaptation.period.start+P*B).toFixed(5)),R=parseFloat((F+B).toFixed(5));var T=g(k,B,F,m.calcMediaTimeFromPresentationTime(F,k),m,R,y,P);return o(m,k,T,y)?T:null}function u(m,y,k,P,B,F,R,D,T,C){var G,ee,O=P/F,M=B/F;return G=m.calcPresentationTimeFromMediaTime(O,k),o(m,k,ee=g(k,M,G,O,m,G+M,y,T),y)?(ee.replacementTime=C||P,R=w(R,"Number",ee.replacementNumber),R=w(R,"Time",ee.replacementTime),ee.media=R,ee.mediaRange=D,ee):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(w,g){var o=(w=w||{}).timelineConverter;function u(){if(!o||!o.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function y(P,B){if(u(),!P)return null;var F=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentTemplate;B=Math.max(B,0);var R=Object(A.getIndexBasedSegment)(o,g,P,B);if(R){R.replacementTime=Math.round((B-1)*P.segmentDuration*P.timescale,10);var D=F.media;D=Object(A.replaceTokenForTemplate)(D,"Number",R.replacementNumber),D=Object(A.replaceTokenForTemplate)(D,"Time",R.replacementTime),R.media=D}return R}return{getSegmentByIndex:y,getSegmentByTime:function k(P,B){if(u(),!P)return null;var F=P.segmentDuration;if(isNaN(F))return null;var R=o.calcPeriodRelativeTimeFromMpdRelativeTime(P,B);return y(P,Math.floor(R/F))},getMediaFinishedInformation:function m(P){var B={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return B;var F=P.segmentDuration;return B.numberOfSegments=isNaN(F)?1:Math.ceil(P.adaptation.period.duration/F),B}}}_.__dashjs_factory_name="TemplateSegmentsGetter";var I=n.default.getClassFactory(_);v.default=I},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=e(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),w=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),g=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),o=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),d=e(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function u(){var P,B,F,R,m=this.context,y=Object(n.default)(m).getInstance(),k=Object(w.default)(m).getInstance();function O(Te){R=Te}function G(Te,De,Ue,lt){var He,be=De.adaptation.period.mpd,_e=be.availabilityStartTime;if(lt)He=Ue&&be.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(_e.getTime()+1e3*(Te+be.timeShiftBufferDepth)):be.availabilityEndTime;else if(Ue){var K=De.availabilityTimeOffset;He=new Date(_e.getTime()+1e3*(Te-K))}else He=_e;return He}function ae(Te,De){return(Te.getTime()-De.mpd.availabilityStartTime.getTime()+1e3*R)/1e3}function Ae(Te,De){return Te+(De.adaptation.period.start-De.presentationTimeOffset)}function Se(Te){var De={start:NaN,end:NaN},Ue=Te[0].getAdapter().getRegularPeriods()[0],lt=ae(new Date,Ue);if(!Te||0===Te.length)return{range:De,now:lt};Te.forEach(function(be){var _e=be.getAdapter(),K=_e.getMediaInfoForType(be.getStreamInfo(),g.default.VIDEO)||_e.getMediaInfoForType(be.getStreamInfo(),g.default.AUDIO),pe=_e.getVoRepresentations(K)[0],re={start:NaN,end:NaN};if(pe)if(pe.segmentInfoType===_.default.SEGMENT_TIMELINE)re=function ge(Te){var oe,pe,re,Q,Ue=B.getRepresentationFor(Te.index,Te.adaptation.period.mpd.manifest.Period_asArray[Te.adaptation.period.index].AdaptationSet_asArray[Te.adaptation.index]),He=Ue.SegmentTemplate.timescale,be=Ue.SegmentTemplate.SegmentTimeline.S_asArray,_e={start:0,end:0},K=0;for(_e.start=Ae(be[0].t/He,Te),re=0,Q=be.length;re<Q;re++)pe=0,(oe=be[re]).hasOwnProperty("r")&&(pe=oe.r),K+=oe.d*(1+pe);return _e.end=Ae((be[0].t+K)/He,Te),_e}(pe);else{var Q=pe.adaptation.period;re.start=Q.start,re.end=Math.max(lt,Q.start+Q.duration)}!isNaN(re.start)&&(isNaN(De.start)||De.start>re.start)&&(De.start=re.start),!isNaN(re.end)&&(isNaN(De.end)||De.end<re.end)&&(De.end=re.end)}),De.end=Math.min(lt,De.end);var He=Ge(Te,De.end,!0);return De.end=isNaN(He)?De.end:He,De.start=Ue&&Ue.mpd&&Ue.mpd.timeShiftBufferDepth&&!isNaN(Ue.mpd.timeShiftBufferDepth)&&!isNaN(De.end)?Math.max(De.end-Ue.mpd.timeShiftBufferDepth,De.start):De.start,De.start=Ge(Te,De.start),{range:De,now:lt}}function xe(Te,De){F=Te-De.end}function Ge(Te,De){var Ue=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var lt=0,He=!1,be=NaN;!He&&lt<Te.length;){var _e=Te[lt].getStreamInfo();_e.start<=De&&(!isFinite(_e.duration)||_e.start+_e.duration>=De)?(be=De,He=!0):!Ue&&_e.start>De&&(isNaN(be)||_e.start<be)?be=_e.start:Ue&&_e.start+_e.duration<De&&(isNaN(be)||_e.start+_e.duration>be)&&(be=_e.start+_e.duration),lt+=1}return be}catch{return De}}function Le(Te){void 0!==Te.offset&&!isNaN(Te.offset)&&O(Te.offset/1e3)}function fe(){R=0,F=0}function we(){y.off(E.default.UPDATE_TIME_SYNC_OFFSET,Le,this),fe()}return P={initialize:function T(){fe(),y.on(E.default.UPDATE_TIME_SYNC_OFFSET,Le,this)},getClientTimeOffset:function C(){return R},setClientTimeOffset:O,getClientReferenceTime:function M(){return Date.now()-1e3*F+1e3*R},calcAvailabilityStartTimeFromPresentationTime:function Z(Te,De,Ue){return G(Te,De,Ue)},calcAvailabilityEndTimeFromPresentationTime:function ee(Te,De,Ue){return G(Te,De,Ue,!0)},calcPresentationTimeFromWallTime:ae,calcPresentationTimeFromMediaTime:Ae,calcPeriodRelativeTimeFromMpdRelativeTime:function Ce(Te,De){return De-Te.adaptation.period.start},calcMediaTimeFromPresentationTime:function j(Te,De){return Te-De.adaptation.period.start+De.presentationTimeOffset},calcWallTimeForSegment:function le(Te,De){var lt,He;return De&&(lt=Te.presentationStartTime+Te.representation.adaptation.period.mpd.suggestedPresentationDelay,He=new Date(Te.availabilityStartTime.getTime()+1e3*lt)),He},calcTimeShiftBufferWindow:function Y(Te,De){if(!De)return function ve(Te){var De={start:NaN,end:NaN},Ue=0,lt=NaN;return Te.forEach(function(He){var be=He.getStreamInfo();Ue+=be.duration,(isNaN(lt)||be.start<lt)&&(lt=be.start)}),De.start=lt,De.end=lt+Ue,De}(Te);if(k.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ue=Se(Te);return xe(Ue.now,Ue.range),Ue.range}return function de(Te){var De={start:NaN,end:NaN};if(!Te||0===Te.length)return De;var Ue=Te[0].getAdapter().getRegularPeriods()[0],lt=ae(new Date,Ue),He=Ue.mpd.timeShiftBufferDepth,be=isNaN(He)?0:lt-He;if(De.start=Ge(Te,be),De.end=!isNaN(De.start)&&lt<De.start?lt:Ge(Te,lt,!0),!isNaN(He)&&De.end<lt-He&&(De.end=NaN),k.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var _e=Se(Te);if(_e.range.end<De.start)return y.trigger(o.default.CONFORMANCE_VIOLATION,{level:d.default.LEVELS.WARNING,event:d.default.EVENTS.INVALID_DVR_WINDOW}),xe(_e.now,_e.range),_e.range}return De}(Te)},reset:we},function D(){B=Object(I.default)(m).getInstance(),we()}(),P}u.__dashjs_factory_name="TimelineConverter",v.default=A.default.getSingletonFactory(u)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(w,g){var o=(w=w||{}).timelineConverter,d=w.dashMetrics;function m(){if(!o)throw new Error(E.default.MISSING_CONFIG_ERROR)}function k(D,T){var ee,ae,Ae,j,le,Y,ve,C=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,M=C.SegmentURL_asArray,G=0,Z=-1;ve=D.timescale;var de=!1;for(Ae=0,j=(ee=C.SegmentTimeline.S_asArray).length;Ae<j&&!de;Ae++)for(Y=0,(ae=ee[Ae]).hasOwnProperty("r")&&(Y=ae.r),ae.hasOwnProperty("t")&&(G=ae.t),Y<0&&(Y=P(D,ee[Ae+1],ae,ve,G/ve)),le=0;le<=Y&&!de;le++)(de=T(G,C,M,ae,ve,++Z,Ae))&&(D.segmentDuration=ae.d/ve),G+=ae.d}function P(D,T,C,O,M){var G;if(T&&T.hasOwnProperty("t"))G=T.t/O;else try{var Z=0;if(isNaN(D.adaptation.period.start)||isNaN(D.adaptation.period.duration)||!isFinite(D.adaptation.period.duration)){var ee=d.getCurrentDVRInfo();Z=isNaN(ee.end)?0:ee.end}else Z=D.adaptation.period.start+D.adaptation.period.duration;G=o.calcMediaTimeFromPresentationTime(Z,D),D.segmentDuration=C.d/O}catch{G=0}return Math.max(Math.ceil((G-M)/(C.d/O))-1,0)}return{getSegmentByIndex:function B(D,T,C){if(m(),!D)return null;var O=null,M=!1;return k(D,function(G,Z,ee,ae,Ae,j,le){if(M||C<0){var Y=Z.media,ve=ae.mediaRange;return ee&&(Y=ee[le].media||"",ve=ee[le].mediaRange),O=Object(A.getTimeBasedSegment)(o,g,D,G,ae.d,Ae,Y,ve,j,ae.tManifest),!0}return G>=C*Ae-.5*ae.d&&(M=!0),!1}),O},getSegmentByTime:function F(D,T){if(m(),!D)return null;void 0===T&&(T=null);var C=null,O=o.calcMediaTimeFromPresentationTime(T,D);return k(D,function(M,G,Z,ee,ae,Ae,j){var le=function R(D){return parseFloat(D.toPrecision(15))}(O*ae);if(le<M+ee.d&&le>=M){var Y=G.media,ve=ee.mediaRange;return Z&&(Y=Z[j].media||"",ve=Z[j].mediaRange),C=Object(A.getTimeBasedSegment)(o,g,D,M,ee.d,ae,Y,ve,Ae,ee.tManifest),!0}return!1}),C},getMediaFinishedInformation:function y(D){if(!D)return 0;var Z,ee,ae,Ae,j,le,Y,O=0,M=0,G=0;for(Y=D.timescale,Ae=(Z=(D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList).SegmentTimeline.S_asArray).length,ae=0;ae<Ae;ae++)for(le=0,(ee=Z[ae]).hasOwnProperty("r")&&(le=ee.r),ee.hasOwnProperty("t")&&(M=(O=ee.t)/Y),le<0&&(le=P(D,Z[ae+1],ee,Y,M)),j=0;j<=le;j++)G++,M=(O+=ee.d)/Y;return{numberOfSegments:G,mediaTimeOfLastSignaledSegment:M}}}}_.__dashjs_factory_name="TimelineSegmentsGetter";var I=n.default.getClassFactory(_);v.default=I},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(u){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(u)}function E(u,m){for(var y=0;y<m.length;y++){var k=m[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(u,_(k.key),k)}}function A(u,m,y){return m&&E(u.prototype,m),y&&E(u,y),Object.defineProperty(u,"prototype",{writable:!1}),u}function _(u){var m=function I(u,m){if("object"!==n(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var k=y.call(u,m||"default");if("object"!==n(k))return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(u)}(u,"string");return"symbol"===n(m)?m:String(m)}e.r(v);var d=A(function u(m,y,k,P){(function w(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=m||"",this.serviceLocation=y||m||"",this.dvb_priority=k||1,this.dvb_weight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});d.DEFAULT_DVB_PRIORITY=1,d.DEFAULT_DVB_WEIGHT=1,v.default=d},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(d){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function I(d){var u=function w(d,u){if("object"!==E(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==E(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===E(u)?u:String(u)}v.default=_(function d(u){(function g(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=u||null,this.type=n.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(d,u,m){(function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.action=d,this.xpath=u,this.value=m,this.position=null}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"getMpdTarget",value:function(u){return this.xpath.getMpdTarget(u,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),o}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v);var g=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});g.DEFAULT_ID="defaultId",v.default=g},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(d){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,w(y.key),y)}}function w(d){var u=function g(d,u){if("object"!==E(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==E(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===E(u)?u:String(u)}v.default=function(){function d(){(function A(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function I(d,u,m){return u&&_(d.prototype,u),m&&_(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==n.default.BASE_URL&&this.segmentInfoType!==n.default.SEGMENT_BASE&&!this.indexRange}}]),d}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(d){var u=this;(function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.valid="/"==d[0],this.path=d.split("/").filter(function(m){return 0!==m.length}).map(function(m){var y={name:m},k=m.indexOf("[");if(-1!=k){y.name=m.substring(0,k);var P=m.substring(k+1,m.length-1);u.valid=u.valid&&-1==P.indexOf("[");var B=P.indexOf("=");-1!=B?(y.attribute={name:P.substring(1,B),value:P.substring(B+1)},-1!=["'",'"'].indexOf(y.attribute.value[0])&&(y.attribute.value=y.attribute.value.substring(1,y.attribute.value.length-1))):y.position=parseInt(P,10)-1}return y})}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(u,m){for(var y=null,k=u,P=1,B="MPD";P<this.path.length&&null!==k;){y=k;var F=this.path[P];if(B=F.name,P!==this.path.length-1||!B.startsWith("@")){var R=y[B+"_asArray"]||[];0===R.length&&y[B]&&R.push(y[B]),F.position?k=R[F.position]||null:F.attribute?function(){var D=F.attribute;k=R.filter(function(T){return T[D.name]==D.value})[0]||null}():k=R[0]||null}P++}return null===k?null:B.startsWith("@")?{name:B.substring(1),leaf:k,target:k}:{name:B,leaf:k,target:m?y:k}}}]),o}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),A=e(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),_=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(g){var P,B,o=this.context,d=(g=g||{}).eventBus,u=g.events,m=g.urlUtils,y=g.errors,k=g.streamId;return P={checkForExistence:function R(O){var M=function(ee){d.trigger(u.CHECK_FOR_EXISTENCE_COMPLETED,{request:O,exists:ee})};if(O){var G=new A.default(O.url);B.load({request:G,success:function(){M(!0)},error:function(){M(!1)}})}else M(!1)},load:function D(O){var M=function(Z,ee){d.trigger(u.LOADING_COMPLETED,{request:O,response:Z||null,error:ee||null,sender:P})};O?B.load({request:O,progress:function(Z){d.trigger(u.LOADING_PROGRESS,{request:O,stream:Z.stream,streamId:k}),Z.data&&d.trigger(u.LOADING_DATA_PROGRESS,{request:O,response:Z.data||null,error:null,sender:P})},success:function(Z){M(Z)},error:function(Z,ee,ae){M(void 0,new _.default(y.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ae,ee))},abort:function(Z){Z&&d.trigger(u.LOADING_ABANDONED,{mediaType:Z.mediaType,request:Z,sender:P})}}):M(void 0,new _.default(y.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,y.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function T(){B&&B.abort()},reset:function C(){B&&(B.abort(),B=null)}},function F(){B=Object(E.default)(o).create({errHandler:g.errHandler,errors:y,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,urlUtils:m,constants:n.default,boxParser:g.boxParser,dashConstants:g.dashConstants,requestTimeout:g.settings.get().streaming.fragmentRequestTimeout})}(),P}w.__dashjs_factory_name="FragmentLoader",v.default=I.default.getClassFactory(w)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),_=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),g=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),o=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),d=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),u=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),y=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=e(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function P(F){var M,G,Z,ee,ae,R=this.context,D=(F=F||{}).debug,T=F.settings,C=Object(d.default)(R).getInstance(),O=Object(I.default)(R).getInstance(),Ae=F.mssHandler,j=F.errHandler;function Y(xe){C.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:xe.manifest})}return M={load:function de(xe){var Ge=new w.default(xe,o.HTTPRequest.MPD_TYPE);Z.load({request:Ge,success:function(Ce,Le,fe){if(ee){var we,Te,De;if(fe&&fe!==xe?(Te=O.parseBaseUrl(fe),we=fe):(O.isRelative(xe)&&(xe=O.resolve(xe,window.location.href)),Te=O.parseBaseUrl(xe)),"No Content"==Le)return void C.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ae&&(ae=function ve(xe){var Ge=null;return xe.indexOf("SmoothStreamingMedia")>-1?(Ae&&(Ge=Ae.createMssParser(),Ae.registerEvents()),Ge):xe.indexOf("MPD")>-1||xe.indexOf("Patch")>-1?Object(k.default)(R).create({debug:D}):Ge}(Ce)),null===ae)return void C.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(m.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,m.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(xe))});ee.setMatchers(ae.getMatchers()),ee.setIron(ae.getIron());try{De=ae.parse(Ce)}catch{return void C.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(m.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,m.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(xe))})}if(De){if(De.url=we||xe,De.originalUrl||(De.originalUrl=De.url),De.hasOwnProperty(n.default.LOCATION)&&(Te=O.parseBaseUrl(De.Location_asArray[0]),G.debug("BaseURI set by Location to: "+Te)),T&&T.get().streaming.enableManifestDurationMismatchFix&&De.mediaPresentationDuration&&De.Period_asArray.length>1){var Ue=De.Period_asArray.reduce(function(lt,He){return lt+He.duration},0);!isNaN(Ue)&&De.mediaPresentationDuration>Ue&&(G.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),De.mediaPresentationDuration=Ue)}De.baseUri=Te,De.loadedTime=new Date,ee.resolveManifestOnLoad(De),C.trigger(u.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Ce})}else C.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(m.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,m.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(xe))})}},error:function(Ce,Le,fe){C.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(m.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,m.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(xe,", ").concat(fe))})}})},reset:function Se(){C.off(u.default.XLINK_READY,Y,M),Ae&&Ae.reset(),ee&&(ee.reset(),ee=null),Z&&(Z.abort(),Z=null)}},function le(){G=D.getLogger(M),C.on(u.default.XLINK_READY,Y,M),Z=Object(_.default)(R).create({errHandler:F.errHandler,dashMetrics:F.dashMetrics,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,urlUtils:O,constants:n.default,dashConstants:E.default,errors:m.default,requestTimeout:F.settings.get().streaming.manifestRequestTimeout}),ee=Object(A.default)(R).create({errHandler:j,dashMetrics:F.dashMetrics,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,settings:F.settings}),ae=null}(),M}P.__dashjs_factory_name="ManifestLoader";var B=y.default.getClassFactory(P);v.default=B},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),_=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=e(
/*! ../core/Debug */
"./src/core/Debug.js"),w=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),o=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function d(){var k,P,B,F,R,D,T,C,O,M,G,Z,u=this.context,m=Object(n.default)(u).getInstance(),y=Object(o.default)(u).getInstance();function le(){B=NaN,T=!1,R=!0,D=!1,ve()}function ve(){null!==F&&(clearTimeout(F),F=null)}function de(Te){ve(),!D&&(isNaN(Te)&&!isNaN(B)&&(Te=1e3*B),isNaN(Te)||(P.debug("Refresh manifest in "+Te+" milliseconds."),F=setTimeout(Ge,Te)))}function Se(){var Te=arguments.length>0&&void 0!==arguments[0]&&arguments[0];T=!0;var De=O.getValue(),Ue=De.url,lt=M.getPatchLocation(De),He=M.getLocation(De);lt&&!Te?Ue=lt:He&&(Ue=He),y.isRelative(Ue)&&(Ue=y.resolve(Ue,De.url)),C.load(Ue)}function xe(Te){if(Te){if(M.getIsPatch(Te)){var De=Te;Te=O.getValue();var Ue=M.isPatchValid(Te,De),lt=Ue;if(Ue){var He=M.getPublishTime(Te);lt=M.applyPatchToManifest(Te,De);var be=M.getPublishTime(Te);lt=He.getTime()!=be.getTime()}if(!lt)return P.debug("Patch provided is invalid, performing full manifest refresh"),void Se(!0);Te.loadedTime=new Date}}else(Te=O.getValue()).loadedTime=new Date;if(O.getValue()&&O.getValue().type===g.default.DYNAMIC&&Te.type===g.default.STATIC)return m.trigger(E.default.DYNAMIC_TO_STATIC),T=!1,void(D=!0);O.setValue(Te);var _e=new Date,K=(_e.getTime()-Te.loadedTime.getTime())/1e3;1e3*(B=M.getManifestUpdatePeriod(Te,K))>2147483647&&(B=2147483.647),m.trigger(E.default.MANIFEST_UPDATED,{manifest:Te}),P.info("Manifest has been refreshed at "+_e+"["+_e.getTime()/1e3+"] "),R||de()}function Ge(){if(!R){if(T)return void de(Z.get().streaming.manifestUpdateRetryInterval);Se()}}function ge(Te){Te.error?Te.error.code===w.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&G.error(Te.error):xe(Te.manifest)}function Ce(){R=!1,de()}function Le(){(R=!Z.get().streaming.scheduling.scheduleWhilePaused)&&ve()}function fe(){T=!1}return k={initialize:function Ae(){le(),m.on(E.default.STREAMS_COMPOSED,fe,this),m.on(A.default.PLAYBACK_STARTED,Ce,this),m.on(A.default.PLAYBACK_PAUSED,Le,this),m.on(E.default.INTERNAL_MANIFEST_LOADED,ge,this)},setManifest:function j(Te){xe(Te)},refreshManifest:Se,getIsUpdating:function we(){return T},setConfig:function ae(Te){Te&&(Te.manifestModel&&(O=Te.manifestModel),Te.adapter&&(M=Te.adapter),Te.manifestLoader&&(C=Te.manifestLoader),Te.errHandler&&(G=Te.errHandler),Te.settings&&(Z=Te.settings))},reset:function Y(){m.off(A.default.PLAYBACK_STARTED,Ce,this),m.off(A.default.PLAYBACK_PAUSED,Le,this),m.off(E.default.STREAMS_COMPOSED,fe,this),m.off(E.default.INTERNAL_MANIFEST_LOADED,ge,this),le()}},function ee(){P=Object(I.default)(u).getInstance().getLogger(k)}(),k}d.__dashjs_factory_name="ManifestUpdater",v.default=_.default.getClassFactory(d)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),E=e.n(n),A=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=e(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),g=e(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),o=e(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),d=e(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),u=e(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),m=e(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),y=e(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),k=e(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),P=e(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),B=e(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),F=e(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),R=e(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),D=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),T=e(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),C=e(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),O=e(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),M=e(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),G=e(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Z=e(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),ee=e(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ae=e(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Ae=e(
/*! ./../core/Debug */
"./src/core/Debug.js"),j=e(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),le=e(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),Y=e(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),ve=e(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),de=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),Se=e(
/*! ../core/Settings */
"./src/core/Settings.js"),xe=e(
/*! ../core/Version */
"./src/core/Version.js"),Ge=e(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),ge=e(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Ce=e(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Le=e(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),fe=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),we=e(
/*! ../../externals/base64 */
"./externals/base64.js"),Te=e.n(we),De=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Ue=e.n(De),lt=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),He=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),be=e(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),_e=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),K=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),oe=e(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),pe=e(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function re(){var tt,qe,Xe,ut,ze,ht,vt,ce,Ve,yt,Bt,zt,Yt,cn,nn,Mt,gt,Qe,Fe,ke,it,ot,ft,mt,Et,Qt,fn,Jt,pn,Tn,Dn,Fn,Kn,dn,an,un,on,X="You must first call initialize() and set a source before calling this method",$="You must first call initialize() and set a valid source and view before calling this method",ne="You must first call attachView() to set the video element before calling this method",q="MediaPlayer not initialized!",me=this.context,Ee=Object(le.default)(me).getInstance(),ye=Object(Se.default)(me).getInstance(),Ne=Object(Ae.default)(me).getInstance({settings:ye});function hn(){Yo(null),Tr(null),ut=null,Yt&&(Yt.reset(),Yt=null),cn&&(cn.reset(),cn=null),Fe&&Fe.reset(),ye.reset(),Mt&&(Mt.reset(),Mt=null)}function bt(){return!!Xe&&!!dn.getElement()}function yn(){return Object(xe.getVersionString)()}function Zt(){if(!vt)throw $;return fn.isPaused()}function Lt(){if(!vt)throw $;return fn.getIsDynamic()}function Ir(An){var dt=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,At=Dn.getCurrentDVRInfo(dt);if(!At)return 0;var at=fn.getOriginalLiveDelay(),Vt=At.range.start+An;return Vt>At.range.end-at&&(Vt=At.range.end-at),Vt}function Do(An){if(!vt)throw $;var dt=ki().currentTime;if(void 0!==An)dt=mt.getTimeRelativeToStreamId(dt,An);else if(fn.getIsDynamic()){var At=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,at=Dn.getCurrentDVRInfo(At);dt=null===at||0===dt?0:Math.max(0,dt-at.range.start)}return dt}function Po(){if(!vt)throw $;var An=ki().duration;if(fn.getIsDynamic()){var dt=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,At=Dn.getCurrentDVRInfo(dt);An=At?At.range.end-At.range.start:0}return An}function br(An){Object(He.checkParameterType)(An,"boolean"),ce=An}function Ur(){Fe.restoreDefaultUTCTimingSources()}function Vn(){return Dn}function ki(){if(!dn.getElement())throw ne;return dn.getElement()}function Tr(An){if(!ze)throw q;dn.setElement(An),An&&(vo(),function pa(){if(!cn){var An=dashjs.MetricsReporting;if("function"==typeof An){var dt=An(me).create();cn=dt.createMetricsReporting({debug:Ne,eventBus:Ee,mediaElement:ki(),adapter:gt,dashMetrics:Dn,mediaPlayerModel:Qe,events:Y.default,constants:A.default,metricsConstants:I.default})}}}(),function $s(){if(!nn){var An=dashjs.MssHandler;"function"==typeof An&&(j.default.extend(An.errors),nn=An(me).create({eventBus:Ee,mediaPlayerModel:Qe,dashMetrics:Dn,manifestModel:Fn,playbackController:fn,streamController:mt,protectionController:Yt,baseURLController:it,errHandler:ke,events:Y.default,constants:A.default,debug:Ne,initSegmentType:fe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Te.a,ISOBoxer:Ue.a,settings:ye}))}}(),mt&&mt.switchToVideoElement()),vt&&Bs(),ar()}function eo(An){if(!ht)throw X;var dt=mt.getActiveStreamInfo();return dt?zt.getTracksFor(An,dt.id):[]}function Yo(An){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!ze)throw q;"string"==typeof An&&an.initialize(An),(null==dt||isNaN(dt))&&(dt=NaN),dt=Math.max(0,dt),Xe=An,(ht||vt)&&Bs(),bt()&&ar(dt)}function zo(){if(!ht)throw X;var An=mt.getActiveStreamInfo();return An?mt.getStreamById(An.id):null}function Bs(){vt=!1,ht=!1,gt.reset(),mt.reset(),Qt.reset(),Tn.reset(),fn.reset(),Jt.reset(),pn.reset(),Ve.reset(),zt.reset(),on.reset(),Yt&&(ye.get().streaming.protection.keepProtectionMediaKeys?Yt.stop():(Yt.reset(),Yt=null,vo())),Et.reset(),Kn.reset()}function Us(){return Object(P.default)(me).create({debug:Ne,errHandler:ke,dashMetrics:Dn,mediaPlayerModel:Qe,requestModifier:Object(D.default)(me).getInstance(),mssHandler:nn,settings:ye})}function vo(){if(Yt)return Yt;var An=dashjs.Protection;if("function"==typeof An){var dt=An(me).create();return Y.default.extend(An.events),ve.default.extend(An.events,{publicOnly:!0}),j.default.extend(An.errors),ot||(ot=Object(F.default)(me).getInstance()),Yt=dt.createProtectionSystem({debug:Ne,errHandler:ke,videoModel:dn,customParametersModel:Fe,capabilities:ot,eventBus:Ee,events:Y.default,BASE64:Te.a,constants:A.default,cmcdModel:Kn,settings:ye})}return null}function Gs(){if(!ze)throw q;if(Mt)return Mt;var An=dashjs.OfflineController;if("function"==typeof An){Y.default.extend(An.events),ve.default.extend(An.events,{publicOnly:!0}),j.default.extend(An.errors);var dt=Us(),At=Object(be.default)(me).create();return At.setConfig({manifestModel:Fn,adapter:gt,manifestLoader:dt,errHandler:ke}),Mt=An(me).create({debug:Ne,manifestUpdater:At,baseURLController:it,manifestLoader:dt,manifestModel:Fn,mediaPlayerModel:Qe,abrController:Ve,playbackController:fn,adapter:gt,errHandler:ke,dashMetrics:Dn,timelineConverter:Bt,segmentBaseController:on,schemeLoaderFactory:yt,eventBus:Ee,events:Y.default,errors:j.default,constants:A.default,settings:ye,dashConstants:_.default,urlUtils:Object(_e.default)(me).getInstance()})}return null}function _r(An){var dt=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,At=Dn.getCurrentDVRInfo(dt);return At?An+(At.manifestInfo.availableFrom.getTime()/1e3+At.range.start):0}function ar(){var An=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Mt&&Mt.resetRecords(),!ht&&Xe&&(ht=!0,qe.info("Streaming Initialized"),function sa(){var An=Us();mt||(mt=Object(g.default)(me).getInstance()),Et||(Et=Object(oe.default)(me).create({errHandler:ke,manifestModel:Fn,adapter:gt,mediaController:zt,videoModel:dn,settings:ye})),ft.setConfig({capabilities:ot,customParametersModel:Fe,adapter:gt,settings:ye,manifestModel:Fn,errHandler:ke}),mt.setConfig({capabilities:ot,capabilitiesFilter:ft,manifestLoader:An,manifestModel:Fn,mediaPlayerModel:Qe,customParametersModel:Fe,protectionController:Yt,textController:Et,adapter:gt,dashMetrics:Dn,errHandler:ke,timelineConverter:Bt,videoModel:dn,playbackController:fn,serviceDescriptionController:Jt,contentSteeringController:pn,abrController:Ve,mediaController:zt,settings:ye,baseURLController:it,uriFragmentModel:an,segmentBaseController:on}),Qt.setConfig({settings:ye,playbackController:fn,streamController:mt,videoModel:dn,timelineConverter:Bt,adapter:gt}),fn.setConfig({streamController:mt,serviceDescriptionController:Jt,dashMetrics:Dn,adapter:gt,videoModel:dn,timelineConverter:Bt,settings:ye}),Tn.setConfig({streamController:mt,playbackController:fn,mediaPlayerModel:Qe,videoModel:dn,settings:ye}),Ve.setConfig({streamController:mt,domStorage:un,mediaPlayerModel:Qe,customParametersModel:Fe,dashMetrics:Dn,adapter:gt,videoModel:dn,settings:ye}),Kn.setConfig({abrController:Ve,dashMetrics:Dn,playbackController:fn}),pn.setConfig({adapter:gt,errHandler:ke,dashMetrics:Dn,mediaPlayerModel:Qe,manifestModel:Fn,abrController:Ve,eventBus:Ee,requestModifier:Object(D.default)(me).getInstance()}),Ve.initialize(),mt.initialize(ce,ut),Et.initialize(),Qt.initialize(),Tn.initialize(),Kn.initialize(),pn.initialize(),on.initialize()}(),"string"==typeof Xe?mt.load(Xe,An):mt.loadWithManifest(Xe,An)),!vt&&bt()&&(vt=!0,qe.info("Playback Initialized"))}return tt={initialize:function ct(An,dt,At){var at=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;ot||(ot=Object(F.default)(me).getInstance()).setConfig({settings:ye}),ke||(ke=Object(B.default)(me).getInstance()),ot.supportsMediaSource()?(ze||(ze=!0,Bt=Object(Le.default)(me).getInstance(),Ve||(Ve=Object(M.default)(me).getInstance()).setConfig({settings:ye}),yt||(yt=Object(G.default)(me).getInstance()),fn||(fn=Object(w.default)(me).getInstance()),zt||(zt=Object(y.default)(me).getInstance()),mt||(mt=Object(g.default)(me).getInstance()),Qt||(Qt=Object(o.default)(me).getInstance()),Tn||(Tn=Object(d.default)(me).getInstance()),Jt||(Jt=Object(u.default)(me).getInstance()),pn||(pn=Object(m.default)(me).getInstance()),ft||(ft=Object(R.default)(me).getInstance()),gt=Object(ge.default)(me).getInstance(),Fn=Object(C.default)(me).getInstance(),Kn=Object(ee.default)(me).getInstance(),Dn=Object(Ce.default)(me).getInstance({settings:ye}),un=Object(ae.default)(me).getInstance({settings:ye}),gt.setConfig({constants:A.default,cea608parser:E.a,errHandler:ke,BASE64:Te.a}),it||(it=Object(k.default)(me).create()),it.setConfig({adapter:gt}),Jt.setConfig({adapter:gt}),on||(on=Object(Ge.default)(me).getInstance({dashMetrics:Dn,mediaPlayerModel:Qe,errHandler:ke,baseURLController:it,events:Y.default,eventBus:Ee,debug:Ne,boxParser:Object(K.default)(me).getInstance(),requestModifier:Object(D.default)(me).getInstance(),errors:j.default})),zt.setConfig({domStorage:un,settings:ye,customParametersModel:Fe}),Qe.setConfig({playbackController:fn,serviceDescriptionController:Jt}),Ur(),br(void 0===At||At),Gs()),An&&Tr(An),dt&&Yo(dt,at),qe.info("[dash.js "+yn()+"] MediaPlayer has been initialized")):ke.error(new lt.default(j.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,j.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Tt(An){An&&(An.capabilities&&(ot=An.capabilities),An.capabilitiesFilter&&(ft=An.capabilitiesFilter),An.streamController&&(mt=An.streamController),An.textController&&(Et=An.textController),An.gapController&&(Qt=An.gapController),An.playbackController&&(fn=An.playbackController),An.serviceDescriptionController&&(Jt=An.serviceDescriptionController),An.contentSteeringController&&(pn=An.contentSteeringController),An.catchupController&&(Tn=An.catchupController),An.mediaPlayerModel&&(Qe=An.mediaPlayerModel),An.customParametersModel&&(Fe=An.customParametersModel),An.abrController&&(Ve=An.abrController),An.schemeLoaderFactory&&(yt=An.schemeLoaderFactory),An.mediaController&&(zt=An.mediaController),An.settings&&(ye=An.settings))},on:function Kt(An,dt,At,at){Ee.on(An,dt,At,at)},off:function Ot(An,dt,At){Ee.off(An,dt,At)},extend:function gr(An,dt,At){de.default.extend(An,dt,At,me)},attachView:Tr,attachSource:Yo,isReady:bt,play:function St(){if(!vt)throw $;(!ce||Zt()&&vt)&&fn.play(!0)},isPaused:Zt,pause:function It(){if(!vt)throw $;fn.pause()},isSeeking:function Hn(){if(!vt)throw $;return fn.isSeeking()},isDynamic:Lt,getLowLatencyModeEnabled:function Sn(){if(!vt)throw $;return fn.getLowLatencyModeEnabled()},seek:function gn(An){if(!vt)throw $;if(Object(He.checkParameterType)(An,"number"),isNaN(An))throw A.default.BAD_ARGUMENT_ERROR;An<0&&(An=0);var dt=fn.getIsDynamic()?Ir(An):An,At=ki();!fn.getIsDynamic()&&At.duration&&(dt=Math.min(At.duration,dt)),fn.seek(dt,!1,!1,!0)},seekToOriginalLive:function Ln(){!vt||!Lt()||fn.seekToOriginalLive()},setPlaybackRate:function Ie(An){ki().playbackRate=An},getPlaybackRate:function Pt(){return ki().playbackRate},setMute:function Dt(An){Object(He.checkParameterType)(An,"boolean"),ki().muted=An},isMuted:function Xt(){return ki().muted},setVolume:function Mn(An){if("number"!=typeof An||isNaN(An)||An<0||An>1)throw A.default.BAD_ARGUMENT_ERROR;ki().volume=An},getVolume:function ai(){return ki().volume},time:Do,duration:Po,timeAsUTC:function _o(){if(!vt)throw $;return Do()<0?NaN:_r(Do())},durationAsUTC:function qo(){if(!vt)throw $;return _r(Po())},getActiveStream:zo,getDVRWindowSize:function Hr(){var An=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,dt=Dn.getCurrentDVRInfo(An);return dt?dt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Ir,getTargetLiveDelay:function Er(){if(!vt)throw $;return fn.getOriginalLiveDelay()},convertToTimeCode:function zs(An){An=Math.max(An,0);var dt=Math.floor(An/3600),At=Math.floor(An%3600/60),at=Math.floor(An%3600%60);return(0===dt?"":dt<10?"0"+dt.toString()+":":dt.toString()+":")+(At<10?"0"+At.toString():At.toString())+":"+(at<10?"0"+at.toString():at.toString())},formatUTC:function ts(An,dt,At){var at=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Vt=new Date(1e3*An),bn=Vt.toLocaleDateString(dt),hi=Vt.toLocaleTimeString(dt,{hour12:At});return at?hi+" "+bn:hi},getVersion:yn,getDebug:function Rt(){return Ne},getBufferLength:function qi(An){var dt=[A.default.VIDEO,A.default.AUDIO,A.default.TEXT];if(An)return-1!==dt.indexOf(An)?Vn().getCurrentBufferLevel(An)||NaN:(qe.warn("getBufferLength requested for invalid type"),NaN);var At=dt.map(function(Vt){return eo(Vt).length>0?Vn().getCurrentBufferLevel(Vt):Number.MAX_VALUE}).reduce(function(Vt,bn){return Math.min(Vt,bn)});return At===Number.MAX_VALUE?NaN:At},getTTMLRenderingDiv:function jr(){return dn?dn.getTTMLRenderingDiv():null},getVideoElement:ki,getSource:function Zr(){if(!Xe)throw"You must first call attachSource() with a valid source before calling this method";return Xe},updateSource:function Ys(An){mt.load(Xe=An)},getCurrentLiveLatency:function Ro(){if(!ze)throw q;return vt?fn.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Fi(An){if(!ht)throw X;return Ve.getTopBitrateInfoFor(An)},setAutoPlay:br,getAutoPlay:function ls(){return ce},getDashMetrics:Vn,getQualityFor:function Ii(An){if(!ht)throw X;if(An===A.default.IMAGE){var dt=zo();if(!dt)return-1;var At=dt.getThumbnailController();return At?At.getCurrentTrackIndex():-1}return Ve.getQualityFor(An)},setQualityFor:function fi(An,dt){var At=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!ht)throw X;if(An===A.default.IMAGE){var at=zo();if(!at)return;var Vt=at.getThumbnailController();Vt&&Vt.setTrackByIndex(dt)}Ve.setPlaybackQuality(An,mt.getActiveStreamInfo(),dt,{forceReplace:At})},updatePortalSize:function ho(){Ve.setElementSize(),Ve.setWindowResizeEventCalled(!0)},enableText:function ri(An){var dt=mt.getActiveStreamInfo();return!(!dt||!Et)&&Et.enableText(dt.id,An)},enableForcedTextStreaming:function Qn(An){return!(!mt.getActiveStreamInfo()||!Et)&&Et.enableForcedTextStreaming(An)},isTextEnabled:function Ri(){var An=mt.getActiveStreamInfo();return!(!An||!Et)&&Et.isTextEnabled(An)},setTextTrack:function Ki(An){if(!vt)throw $;var dt=mt.getActiveStreamInfo();!dt||!Et||Et.setTextTrack(dt.id,An)},getBitrateInfoListFor:function Ms(An){if(!ht)throw X;var dt=zo();return dt?dt.getBitrateListFor(An):[]},getStreamsFromManifest:function zr(An){if(!ht)throw X;return gt.getStreamsInfo(An)},getTracksFor:eo,getTracksForTypeFromManifest:function Xo(An,dt,At){if(!ht)throw X;return(At=At||gt.getStreamsInfo(dt,1)[0])?gt.getAllMediaInfoForType(At,An,dt):[]},getCurrentTrackFor:function Go(An){if(!ht)throw X;var dt=mt.getActiveStreamInfo();return zt.getCurrentTrackFor(An,dt.id)},setInitialMediaSettingsFor:function Xi(An,dt){if(!ze)throw q;zt.setInitialSettings(An,dt)},getInitialMediaSettingsFor:function Ws(An){if(!ze)throw q;return zt.getInitialSettings(An)},setCurrentTrack:function xo(An){if(!ht)throw X;zt.setTrack(An)},addABRCustomRule:function Xr(An,dt,At){Fe.addAbrCustomRule(An,dt,At)},removeABRCustomRule:function Br(An){Fe.removeAbrCustomRule(An)},removeAllABRCustomRule:function No(){Fe.removeAllAbrCustomRule()},getABRCustomRules:function mr(){return Fe.getAbrCustomRules()},getAverageThroughput:function bo(An){var dt=Ve.getThroughputHistory(),At=fn.getIsDynamic();return dt?dt.getAverageThroughput(An,At):0},retrieveManifest:function $i(An,dt){var At=Us(),at=this;Ee.on(Y.default.INTERNAL_MANIFEST_LOADED,function bn(hi){hi.error?dt(null,hi.error):dt(hi.manifest),Ee.off(Y.default.INTERNAL_MANIFEST_LOADED,bn,at),At.reset()},at),an.initialize(An),At.load(An)},addUTCTimingSource:function pi(An,dt){Fe.addUTCTimingSource(An,dt)},removeUTCTimingSource:function Pi(An,dt){Fe.removeUTCTimingSource(An,dt)},clearDefaultUTCTimingSources:function rr(){Fe.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Ur,setXHRWithCredentialsForType:function Mr(An,dt){Fe.setXHRWithCredentialsForType(An,dt)},getXHRWithCredentialsForType:function so(An){return Fe.getXHRWithCredentialsForType(An)},getProtectionController:function pr(){return vo()},attachProtectionController:function Fs(An){Yt=An},setProtectionData:function mo(An){ut=An,mt&&mt.setProtectionData(ut)},registerLicenseRequestFilter:function gs(An){Fe.registerLicenseRequestFilter(An)},registerLicenseResponseFilter:function Pr(An){Fe.registerLicenseResponseFilter(An)},unregisterLicenseRequestFilter:function As(An){Fe.unregisterLicenseRequestFilter(An)},unregisterLicenseResponseFilter:function Rr(An){Fe.unregisterLicenseResponseFilter(An)},registerCustomCapabilitiesFilter:function ps(An){Fe.registerCustomCapabilitiesFilter(An)},unregisterCustomCapabilitiesFilter:function ao(An){Fe.unregisterCustomCapabilitiesFilter(An)},setCustomInitialTrackSelectionFunction:function es(An){Fe.setCustomInitialTrackSelectionFunction(An)},resetCustomInitialTrackSelectionFunction:function Ho(){Fe.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Mo(An){if(!dn.getElement())throw ne;dn.setTTMLRenderingDiv(An)},attachVttRenderingDiv:function Ao(An){if(!dn.getElement())throw ne;dn.setVttRenderingDiv(An)},getCurrentTextTrackIndex:function Ui(){var dt=mt.getActiveStreamInfo();if(dt&&Et)return Et.getCurrentTrackIdx(dt.id)},provideThumbnail:function cs(An,dt){if("function"==typeof dt){if(An<0)return void dt(null);var At=fn.getIsDynamic()?Ir(An):An,at=mt.getStreamForTime(At);if(null===at)return void dt(null);var Vt=at.getThumbnailController();return Vt?Vt.provide(At,dt):void dt(null)}},getDashAdapter:function jo(){return gt},getOfflineController:function _n(){return Gs()},triggerSteeringRequest:function ns(){if(pn)return pn.loadSteeringData()},getCurrentSteeringResponseData:function Zs(){if(pn)return pn.getCurrentSteeringResponseData()},getSettings:function xs(){return ye.get()},updateSettings:function _s(An){ye.update(An)},resetSettings:function vs(){ye.reset()},reset:hn,destroy:function Ze(){hn(),de.default.deleteSingletonInstances(me)}},function ln(){qe=Ne.getLogger(tt),ze=!1,vt=!1,ht=!1,ce=!0,Yt=null,Mt=null,ut=null,gt=null,on=null,Y.default.extend(ve.default),Qe=Object(O.default)(me).getInstance(),Fe=Object(pe.default)(me).getInstance(),dn=Object(Z.default)(me).getInstance(),an=Object(T.default)(me).getInstance()}(),tt}re.__dashjs_factory_name="MediaPlayer";var Q=de.default.getClassFactory(re);Q.events=ve.default,Q.errors=j.default,de.default.updateClassFactory(re.__dashjs_factory_name,Q),v.default=Q},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}e.r(v);var F=new(function(R){o(T,R);var D=u(T);function T(){var C;return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(C=D.call(this)).AST_IN_FUTURE="astInFuture",C.BUFFER_EMPTY="bufferStalled",C.BUFFER_LOADED="bufferLoaded",C.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",C.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",C.DYNAMIC_TO_STATIC="dynamicToStatic",C.ERROR="error",C.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",C.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",C.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",C.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",C.LOG="log",C.MANIFEST_LOADED="manifestLoaded",C.METRICS_CHANGED="metricsChanged",C.METRIC_CHANGED="metricChanged",C.METRIC_ADDED="metricAdded",C.METRIC_UPDATED="metricUpdated",C.PERIOD_SWITCH_STARTED="periodSwitchStarted",C.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",C.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",C.QUALITY_CHANGE_RENDERED="qualityChangeRendered",C.TRACK_CHANGE_RENDERED="trackChangeRendered",C.STREAM_INITIALIZING="streamInitializing",C.STREAM_UPDATED="streamUpdated",C.STREAM_ACTIVATED="streamActivated",C.STREAM_DEACTIVATED="streamDeactivated",C.STREAM_INITIALIZED="streamInitialized",C.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",C.TEXT_TRACKS_ADDED="allTextTracksAdded",C.TEXT_TRACK_ADDED="textTrackAdded",C.TTML_PARSED="ttmlParsed",C.TTML_TO_PARSE="ttmlToParse",C.CAPTION_RENDERED="captionRendered",C.CAPTION_CONTAINER_RESIZE="captionContainerResize",C.CAN_PLAY="canPlay",C.CAN_PLAY_THROUGH="canPlayThrough",C.PLAYBACK_ENDED="playbackEnded",C.PLAYBACK_ERROR="playbackError",C.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",C.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",C.PLAYBACK_LOADED_DATA="playbackLoadedData",C.PLAYBACK_PAUSED="playbackPaused",C.PLAYBACK_PLAYING="playbackPlaying",C.PLAYBACK_PROGRESS="playbackProgress",C.PLAYBACK_RATE_CHANGED="playbackRateChanged",C.PLAYBACK_SEEKED="playbackSeeked",C.PLAYBACK_SEEKING="playbackSeeking",C.PLAYBACK_STALLED="playbackStalled",C.PLAYBACK_STARTED="playbackStarted",C.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",C.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",C.PLAYBACK_WAITING="playbackWaiting",C.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",C.EVENT_MODE_ON_START="eventModeOnStart",C.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",C.CONFORMANCE_VIOLATION="conformanceViolation",C.REPRESENTATION_SWITCH="representationSwitch",C.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",C.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",C}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(e(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));v.default=F},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var _,A=function E(){var d,o="application/dash+xml";function u(k,P,B){if(!k||!/^VIDEO$/i.test(k.nodeName))return null;if(k._dashjs_player)return k._dashjs_player;var F,R=k.id||k.name||"video element";if(!(P=P||[].slice.call(k.querySelectorAll("source")).filter(function(D){return D.type==o})[0])&&k.src)(P=document.createElement("source")).src=k.src;else if(!P&&!k.src)return null;return B=B||{},(F=Object(n.default)(B).create()).initialize(k,P.src,k.autoplay),d||(d=F.getDebug().getLogger()),d.debug("Converted "+R+" to dash.js player and added content: "+P.src),k._dashjs_player=F,F}function y(k){return/^VIDEO$/i.test(k.nodeName)?k:y(k.parentNode)}return{create:u,createAll:function m(k,P){var B=[];k=k||"[data-dashjs-player]";for(var F=(P=P||document).querySelectorAll(k),R=0;R<F.length;R++){var D=u(F[R],null);B.push(D)}for(var T=P.querySelectorAll('source[type="'+o+'"]'),C=0;C<T.length;C++){var M=u(y(T[C]),null);B.push(M)}return B}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?A.createAll():_=window.setInterval(function w(){window.dashjs&&(window.clearInterval(_),A.createAll())},500):window.addEventListener("load",function I(){window.removeEventListener("load",I),A.createAll()})),v.default=A},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../core/Settings */
"./src/core/Settings.js"),w=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),o=e(
/*! ../core/events/Events */
"./src/core/events/Events.js");function y(P){var T,C,O,M,G,Z,B=this.context,F=Object(I.default)(B).getInstance(),R=P.textController,D=P.eventBus,ee=[],ae=[],Ae=!1,j=P.mediaSource,le=null;function de($){return new Promise(function(ne){X(function(){M.changeType&&M.changeType($),ne()})})}function Ge($){return M=R.getTextSourceBuffer($),Promise.resolve()}function ge(){if("function"==typeof M.addEventListener)try{M.addEventListener("updateend",pe,!1),M.addEventListener("error",re,!1),M.addEventListener("abort",re,!1)}catch{Z=setInterval(pe,50)}else Z=setInterval(pe,50)}function fe($){return new Promise(function(ne){M&&F.get().streaming.buffer.useAppendWindow?X(function(){try{if(!M)return void ne();var J=j.duration,q=0;$&&!isNaN($.start)&&!isNaN($.duration)&&isFinite($.duration)&&(J=$.start+$.duration),$&&!isNaN($.start)&&(q=$.start),(M.appendWindowEnd!==J||M.appendWindowStart!==q)&&(M.appendWindowStart=0,M.appendWindowEnd=J+.01,M.appendWindowStart=Math.max(q-.1,0),O.debug("Updated append window for ".concat(G.type,". Set start to ").concat(M.appendWindowStart," and end to ").concat(M.appendWindowEnd))),ne()}catch{O.warn("Failed to set append window"),ne()}}):ne()})}function we($){return new Promise(function(ne){M?X(function(){try{M.timestampOffset!==$&&!isNaN($)&&(M.timestampOffset=$,O.debug("Set MSE timestamp offset to ".concat($))),ne()}catch{ne()}}):ne()})}function _e(){if(!Ae&&ae.length>0){Ae=!0;var $=ae[0];ae.splice(0,1);var ne=function(){Ae=!1,ae.length>0&&_e.call(this),$&&$.data&&$.data.segmentType&&$.data.segmentType!==g.HTTPRequest.INIT_SEGMENT_TYPE&&delete $.data.bytes,$.promise.resolve({chunk:$.data})};try{le=$.request,0===$.data.bytes.byteLength?ne.call(this):(M.appendBuffer?M.appendBuffer($.data.bytes):M.append($.data.bytes,$.data),X(ne.bind(this)))}catch(J){O.fatal('SourceBuffer append failed "'+J+'"'),ae.length>0?_e():Ae=!1,delete $.data.bytes,$.promise.reject({chunk:$.data,error:new E.default(J.code,J.message)})}}}function oe(){ee.length>0&&!M.updating&&(ee.shift()(),oe())}function pe(){M.updating||oe()}function re($){!function Q($,ne){D.trigger($,ne||{},{streamId:G.streamInfo.id,mediaType:C})}(o.default.SOURCE_BUFFER_ERROR,{error:$.target||{},lastRequestAppended:le})}function X($){ee.push($),M.updating||oe()}return T={getType:function Ce(){return C},getAllBufferRanges:function Ue(){try{return M.buffered}catch($){return O.error("getAllBufferRanges exception: "+$.message),null}},getBuffer:function De(){return M},append:function lt($){var ne=this,J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(q,me){$?(ae.push({data:$,promise:{resolve:q,reject:me},request:J}),X(_e.bind(ne))):me({chunk:$,error:new E.default(_.default.APPEND_ERROR_CODE,_.default.APPEND_ERROR_MESSAGE)})})},remove:function be($){return new Promise(function(ne,J){var q=$.start,me=$.end;q>=0&&me>q?X(function(){try{M.remove(q,me),X(function(){ne({from:q,to:me,unintended:!1}),$.resolve&&$.resolve()})}catch(Ee){J({from:q,to:me,unintended:!1,error:new E.default(_.default.REMOVE_ERROR_CODE,_.default.REMOVE_ERROR_MESSAGE)}),$.reject&&$.reject(Ee)}}):ne()})},abort:function K(){return new Promise(function($){try{ae=[],"open"===j.readyState?X(function(){try{M&&M.abort(),$()}catch{$()}}):(M&&M.setTextTrack&&"ended"===j.readyState&&M.abort(),$())}catch{$()}})},reset:function Te(){if(M){try{ee=[],function Le(){try{"function"==typeof M.removeEventListener&&(M.removeEventListener("updateend",pe,!1),M.removeEventListener("error",re,!1),M.removeEventListener("abort",re,!1)),clearInterval(Z)}catch($){O.error($)}}(),Ae=!1,ae=[],(!M.getClassName||"TextSourceBuffer"!==M.getClassName())&&(O.debug("Removing sourcebuffer from media source"),j.removeSourceBuffer(M))}catch{}M=null}le=null},updateTimestampOffset:we,initializeForStreamSwitch:function ve($,ne,J){C=(G=$).type;var q=G.codec;(function Se($){M=$.getBuffer()})(J),ge();var me=[];return me.push(function He(){return new Promise(function($){X(function(){var ne=M.appendWindowStart,J=M.appendWindowEnd;M&&(M.abort(),M.appendWindowStart=ne,M.appendWindowEnd=J),$()})})}()),me.push(fe(G.streamInfo)),me.push(de(q)),ne&&void 0!==ne.MSETimeOffset&&me.push(we(ne.MSETimeOffset)),Promise.all(me)},initializeForFirstUse:function xe($,ne,J){C=(G=ne).type;var q=G.codec;try{if(q.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ge($);M=j.addSourceBuffer(q),ge();var me=[];return me.push(fe(G.streamInfo)),J&&void 0!==J.MSETimeOffset&&me.push(we(J.MSETimeOffset)),Promise.all(me)}catch(Ee){return G.type==w.default.TEXT&&!G.isFragmented||-1!==q.indexOf('codecs="stpp')||-1!==q.indexOf('codecs="vtt')?Ge($):Promise.reject(Ee)}},updateAppendWindow:fe,changeType:de},function Y(){O=Object(n.default)(B).getInstance().getLogger(T)}(),T}y.__dashjs_factory_name="SourceBufferSink";var k=A.default.getClassFactory(y);v.default=k},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),_=e(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),I=e(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),w=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),o=e(
/*! ../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),u=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),k=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=e(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),B=[n.default.VIDEO,n.default.AUDIO,n.default.TEXT,n.default.MUXED,n.default.IMAGE];function F(R){R=R||{};var Le,fe,we,Te,De,Ue,lt,He,be,_e,K,oe,pe,re,Q,X,$,ne,D=this.context,T=Object(w.default)(D).getInstance(),C=Object(k.default)(D).getInstance(),O=R.manifestModel,M=R.mediaPlayerModel,G=R.dashMetrics,Z=R.manifestUpdater,ee=R.adapter,ae=R.timelineConverter,Ae=R.capabilities,j=R.errHandler,le=R.abrController,Y=R.playbackController,ve=R.eventController,de=R.mediaController,Se=R.protectionController,xe=R.textController,Ge=R.videoModel,ge=R.streamInfo,Ce=R.settings;function ze(It,Zt){return new Promise(function(gn,Ln){mt(),_e=!0,pn();var Hn=Ge.getElement();B.forEach(function(Lt){(Lt!==n.default.VIDEO||!Hn||Hn&&/^VIDEO$/i.test(Hn.nodeName))&&function ht(It,Zt){var Lt,gn=ee.getAllMediaInfoForType(ge,It),Ln=[],Hn=null;if(gn&&0!==gn.length){It===n.default.VIDEO&&(lt=!0),It===n.default.AUDIO&&(He=!0);for(var Sn=0,Ie=gn.length;Sn<Ie;Sn++)Hn=gn[Sn],It===n.default.TEXT&&Hn.isEmbedded&&(xe.addEmbeddedTrack(ge,Hn),Ln.push(Hn)),vt(Hn)&&de.addTrack(Hn);if(Ln.length>0&&(de.setInitialMediaSettingsForType(It,ge),xe.addMediaInfosToBuffer(ge,It,Ln)),0!==(gn=gn.filter(function(Dt){return!Dt.isEmbedded})).length){if(It===n.default.IMAGE)return void(oe=Object(I.default)(D).create({streamInfo:ge,adapter:ee,baseURLController:R.baseURLController,timelineConverter:R.timelineConverter,debug:X,eventBus:T,events:g.default,dashConstants:E.default,dashMetrics:R.dashMetrics,segmentBaseController:R.segmentBaseController})).initialize();T.trigger(g.default.STREAM_INITIALIZING,{streamInfo:ge,mediaInfo:Hn}),de.setInitialMediaSettingsForType(It,ge);var Pt=function ce(It,Zt){var gn=It&&It.length>0?It[0]:null,Ln=K.getModel(gn?gn.type:null),Hn=gn?gn.type:null,Lt=gn?gn.mimeType:null,Sn=gn?gn.isFragmented:null,Ie=Object(A.default)(D).create({streamInfo:ge,type:Hn,mimeType:Lt,timelineConverter:ae,adapter:ee,manifestModel:O,mediaPlayerModel:M,fragmentModel:Ln,dashMetrics:R.dashMetrics,baseURLController:R.baseURLController,segmentBaseController:R.segmentBaseController,abrController:le,playbackController:Y,mediaController:de,textController:xe,errHandler:j,settings:Ce,boxParser:Q,segmentBlacklistController:pe});Ie.initialize(Zt,lt,Sn),we.push(Ie);for(var Pt=0;Pt<It.length;Pt++)Ie.addMediaInfo(It[Pt]);return Hn===n.default.TEXT&&xe.addMediaInfosToBuffer(ge,Hn,It,Ln),Ie}(gn,Zt);(Lt=de.getCurrentTrackFor(It,ge.id))&&(le.updateTopQualityIndex(Lt),Pt.selectMediaInfo(It===n.default.TEXT&&Lt.isEmbedded?gn[0]:Lt))}}else fe.info("No "+It+" data.")}(Lt,It)}),function Ve(It){return new Promise(function(Zt){var gn={},Ln=we.map(function(Hn){return Hn.createBufferSinks(It)});Promise.all(Ln).then(function(Hn){Hn.forEach(function(Lt){Lt&&(gn[Lt.getType()]=Lt)}),Zt(gn)}).catch(function(){Zt(gn)})})}(Zt).then(function(Lt){if(_e=!1,0===we.length){var Sn="No streams to play.";j.error(new m.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Sn,O.getValue())),fe.fatal(Sn)}else Tn();xe.createTracks(ge),gn(Lt)}).catch(function(Lt){Ln(Lt)})})}function vt(It){var Zt=It?It.type:null;return Zt===n.default.MUXED?(fe.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),j.error(new m.default(d.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",O.getValue())),!1):!(Zt!==n.default.TEXT&&Zt!==n.default.IMAGE&&It.contentProtection&&!Ae.supportsEncryptedMedia()&&(j.error(new m.default(d.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,d.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function yt(It){for(var Zt=we?we.length:0,Ln=0;Ln<Zt;Ln++){var Hn=we[Ln].getFragmentModel();Hn.abortRequests(),Hn.resetInitialSettings(),we[Ln].reset(false,It)}xe&&xe.deactivateStream(ge),we=[],De=!1,Ue=!1,Ot(!1),gt(!1),T.trigger(g.default.STREAM_DEACTIVATED,{streamInfo:ge})}function Yt(It){yt(It),Te=!1,lt=!1,He=!1,be={},_e=!1,$=!1,ne=[]}function gt(It){$=It}function Qe(){return ge?ge.start:NaN}function Fe(){return ge?ge.id:null}function ke(){return ge}function mt(){if(!Ge||!le)throw new Error(n.default.MISSING_CONFIG_ERROR)}function Qt(It){It.error&&(j.error(It.error),fe.fatal(It.error.message))}function pn(){if(ve){var It=ee.getEventsFor(ge);It&&It.length>0&&ve.addInlineEvents(It,ge.id)}}function Tn(){for(var It=we.length,gn=be.audio||be.video?new m.default(d.default.DATA_UPDATE_FAILED_ERROR_CODE,d.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ln=0;Ln<It;Ln++)if(we[Ln].isUpdating()||_e)return;if(Se){Se.clearMediaInfoArray();for(var Hn=0;Hn<It&&we[Hn];Hn++){var Lt=we[Hn].getType(),Sn=we[Hn].getMediaInfo();if(Lt===n.default.AUDIO||Lt===n.default.VIDEO||Lt===n.default.TEXT&&Sn.isFragmented){var Ie=we[Hn].getMediaInfo();Ie&&Se.initializeForMedia(Ie)}}Se.handleKeySystemFromManifest()}gn?j.error(gn):Te||(Te=!0,Ge.waitForReadyState(n.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){T.trigger(g.default.STREAM_INITIALIZED,{streamInfo:ge})}))}function Fn(){var It=on(),Zt=It.length;if(0!==Zt){for(var gn=0;gn<Zt;gn++)if(!It[gn].isBufferingCompleted()&&(It[gn].getType()===n.default.AUDIO||It[gn].getType()===n.default.VIDEO))return void fe.debug("onBufferingCompleted - One streamProcessor has finished but",It[gn].getType(),"one is not buffering completed");fe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ue=!0,T.trigger(g.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ge},{streamInfo:ge})}else fe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Kn(It){be[It.mediaType]=It.error,Tn()}function dn(It){ve&&ve.addInbandEvents(It.events,ge.id)}function an(It){return It&&It.type?un(It.type):null}function un(It){return It?on().filter(function(gn){return gn.getType()===It})[0]:null}function on(){for(var Zt,gn,It=[],Ln=0;Ln<we.length;Ln++)((Zt=(gn=we[Ln]).getType())===n.default.AUDIO||Zt===n.default.VIDEO||Zt===n.default.TEXT)&&It.push(gn);return It}function Ze(It,Zt){var gn=ke(),Ln=Zt.getStreamInfo();if(!Ln||!gn)return!0;var Hn=ee.getAdaptationForType(Ln.index,It,Ln),Lt=ee.getAdaptationForType(gn.index,It,gn);return Hn&&Lt?!(!bt(Lt)&&bt(Hn)):!Hn&&!Lt}function bt(It){return!!It&&!!(It.ContentProtection||It.Representation&&It.Representation.length>0&&It.Representation[0].ContentProtection)}function Kt(It,Zt){var gn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!It||!It.hasOwnProperty("getStreamInfo"))return!1;var Ln=It.getStreamInfo(),Hn=gn?gn.getStreamInfo():ke();if(!Ln||!Hn)return!1;var Lt=ee.getAdaptationForType(Ln.index,Zt,Ln),Sn=ee.getAdaptationForType(Hn.index,Zt,Hn);if(!Lt||!Sn)return!Lt&&!Sn;var Ie=Lt&&Sn&&Lt.mimeType===Sn.mimeType,Pt=Sn.Representation_asArray.map(function(ai){return ai.codecs}),Dt=Lt.Representation_asArray.map(function(ai){return ai.codecs}),Xt=Dt.some(function(ai){return Pt.indexOf(ai)>-1}),Mn=Dt.some(function(ai){return Pt.some(function(qi){return Ae.codecRootCompatibleWithCodec(qi,ai)})});return Xt||Mn&&Ie}function Ot(It){re=It}function yn(){return re}return Le={initialize:function q(){(function me(){T.on(g.default.BUFFERING_COMPLETED,Fn,Le),T.on(g.default.DATA_UPDATE_COMPLETED,Kn,Le),T.on(g.default.INBAND_EVENTS,dn,Le)})(),function ye(){Se&&(T.on(g.default.KEY_ERROR,Qt,Le),T.on(g.default.SERVER_CERTIFICATE_UPDATED,Qt,Le),T.on(g.default.LICENSE_REQUEST_COMPLETE,Qt,Le),T.on(g.default.KEY_SYSTEM_SELECTED,Qt,Le),T.on(g.default.KEY_SESSION_CREATED,Qt,Le),T.on(g.default.KEY_STATUSES_CHANGED,Qt,Le))}(),xe.initializeForStream(ge),T.trigger(g.default.STREAM_UPDATED,{streamInfo:ge})},getStreamId:function tt(){return ge?ge.id:null},activate:function qe(It,Zt){return new Promise(function(gn,Ln){if(!De)return yn()?(De=!0,T.trigger(g.default.STREAM_ACTIVATED,{streamInfo:ge}),void gn(Zt)):void function Xe(It,Zt){return ze(It,Zt)}(It,Zt).then(function(Hn){De=!0,T.trigger(g.default.STREAM_ACTIVATED,{streamInfo:ge}),gn(Hn)}).catch(function(Hn){Ln(Hn)});gn(Zt)})},deactivate:yt,getIsActive:function Bt(){return De},getDuration:function nn(){return ge?ge.duration:NaN},getStartTime:Qe,getId:Fe,getStreamInfo:ke,getHasAudioTrack:function it(){return He},getHasVideoTrack:function ot(){return lt},startPreloading:function ut(It,Zt){return new Promise(function(gn,Ln){yn()?Ln():(fe.info("[startPreloading] Preloading next stream with id ".concat(Fe())),Ot(!0),ze(It,Zt).then(function(){for(var Hn=0;Hn<we.length&&we[Hn];Hn++)we[Hn].setExplicitBufferingTime(Qe()),we[Hn].getScheduleController().startScheduleTimer();gn()}).catch(function(){Ot(!1),Ln()}))})},getThumbnailController:function ft(){return oe},getBitrateListFor:function Et(It){if(mt(),It===n.default.IMAGE)return oe?oe.getBitrateList():[];var Zt=function Dn(It){for(var Zt=null,gn=0;gn<we.length;gn++)if((Zt=we[gn]).getType()===It)return Zt.getMediaInfo();return null}(It);return le.getBitrateList(Zt)},updateData:function Tt(It){return new Promise(function(Zt){_e=!0,ge=It,ve&&pn();for(var gn=[],Ln=0,Hn=we.length;Ln<Hn;Ln++){var Lt=we[Ln],Sn=Lt.getMediaInfo();gn.push(Lt.updateStreamInfo(ge));var Ie=ee.getAllMediaInfoForType(ge,Lt.getType());if(Ie){Lt.clearMediaInfoArray();for(var Pt=0;Pt<Ie.length;Pt++){var Dt=Ie[Pt];Lt.addMediaInfo(Ie[Pt]),ee.areMediaInfosEqual(Sn,Dt)&&(le.updateTopQualityIndex(Dt),gn.push(Lt.selectMediaInfo(Dt)))}}}Promise.all(gn).then(function(){for(gn=[];ne.length>0;){var Xt=ne.pop(),Mn=Xt.newMediaInfo,ai=an(Xt.oldMediaInfo);if(!ai)return;gn.push(ai.prepareTrackSwitch()),ai.selectMediaInfo(Mn)}return Promise.all(gn)}).then(function(){_e=!1,Tn(),T.trigger(g.default.STREAM_UPDATED,{streamInfo:ge}),Zt()})})},reset:function cn(It){K&&(K.reset(),K=null),le&&ge&&le.clearDataForStream(ge.id),pe&&(pe.reset(),pe=null),Yt(It),ge=null,function Ee(){T.off(g.default.DATA_UPDATE_COMPLETED,Kn,Le),T.off(g.default.BUFFERING_COMPLETED,Fn,Le),T.off(g.default.INBAND_EVENTS,dn,Le)}(),function Ne(){Se&&(T.off(g.default.KEY_ERROR,Qt,Le),T.off(g.default.SERVER_CERTIFICATE_UPDATED,Qt,Le),T.off(g.default.LICENSE_REQUEST_COMPLETE,Qt,Le),T.off(g.default.KEY_SYSTEM_SELECTED,Qt,Le),T.off(g.default.KEY_SESSION_CREATED,Qt,Le),T.off(g.default.KEY_STATUSES_CHANGED,Qt,Le))}()},getProcessors:on,setMediaSource:function zt(It){for(var Zt=0;Zt<we.length;)vt(we[Zt].getMediaInfo())?(we[Zt].setMediaSource(It),Zt++):(we[Zt].reset(),we.splice(Zt,1));if(0===we.length){var gn="No streams to play.";j.error(new m.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,gn+"nostreams",O.getValue())),fe.fatal(gn)}},isMediaCodecCompatible:function ct(It){var Zt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Kt(It,n.default.VIDEO,Zt)&&Kt(It,n.default.AUDIO,Zt)},isProtectionCompatible:function hn(It){return!It||Ze(n.default.VIDEO,It)&&Ze(n.default.AUDIO,It)},getPreloaded:yn,getIsEndedEventSignaled:function Mt(){return $},setIsEndedEventSignaled:gt,getAdapter:function St(){return ee},getHasFinishedBuffering:function Rt(){return Ue},setPreloaded:Ot,startScheduleControllers:function ln(){for(var It=we.length,Zt=0;Zt<It&&we[Zt];Zt++)we[Zt].getScheduleController().startScheduleTimer()},prepareTrackChange:function fn(It){if(De&&ge){Ue=!1;var Zt=It.newMediaInfo,gn=O.getValue();ee.setCurrentMediaInfo(ge.id,Zt.type,Zt);var Ln=an(Zt);if(Ln){var Hn=Y.getTime();fe.info("Stream -  Process track changed at current time "+Hn),gn.refreshManifestOnSwitchTrack?(ne.push(It),Z.getIsUpdating()||(fe.debug("Stream -  Refreshing manifest for switch track"),Z.refreshManifest())):Ln.selectMediaInfo(Zt).then(function(){(Zt.type===n.default.VIDEO||Zt.type===n.default.AUDIO)&&le.updateTopQualityIndex(Zt),Ln.prepareTrackSwitch()})}}},prepareQualityChange:function Jt(It){var Zt=un(It.mediaType);Zt&&Zt.prepareQualityChange(It)}},function J(){try{X=Object(o.default)(D).getInstance(),fe=X.getLogger(Le),Yt(),Q=Object(y.default)(D).getInstance(),pe=Object(P.default)(D).create({updateEventName:g.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.default.SEGMENT_LOCATION_BLACKLIST_ADD}),K=Object(_.default)(D).create({streamInfo:ge,mediaPlayerModel:M,dashMetrics:G,errHandler:j,settings:Ce,boxParser:Q,dashConstants:E.default,urlUtils:C})}catch(It){throw It}}(),Le}F.__dashjs_factory_name="Stream",v.default=u.default.getClassFactory(F)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),_=e(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),I=e(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),w=e(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),g=e(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),o=e(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),d=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),u=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),m=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),y=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),k=e(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),P=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),B=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../core/Debug */
"./src/core/Debug.js"),R=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),T=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),C=e(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),O=e(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),M=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function G(Z){Z=Z||{};var lt,He,be,_e,K,oe,pe,re,Q,X,$,ne,J,ee=this.context,ae=Object(m.default)(ee).getInstance(),Ae=Z.streamInfo,j=Z.type,le=Z.errHandler,Y=Z.mimeType,ve=Z.timelineConverter,de=Z.adapter,Se=Z.manifestModel,xe=Z.mediaPlayerModel,Ge=Z.fragmentModel,ge=Z.abrController,Ce=Z.playbackController,Le=Z.mediaController,fe=Z.textController,we=Z.dashMetrics,Te=Z.settings,De=Z.boxParser,Ue=Z.segmentBlacklistController;function Ee(){return Ae.id}function ye(){return j}function Ne(){return de.getIsTextTrack(re.getData())}function tt(){K=[],_e=null,J=0,Q=!1,X=!1}function ht(Lt){var Sn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Lt.sender){if(Ce.getIsManifestUpdateInProgress())return void zt();if((!Ne()||fe.isTextEnabled())&&oe&&Lt.representationId&&!oe.appendInitSegmentFromCache(Lt.representationId)){var Ie=re.getCurrentRepresentation();if(0===Ie.range)return void vt();var Pt=$?$.getInitRequest(_e,Ie):null;Pt?Ge.executeRequest(Pt):Sn&&(pe.setInitSegmentRequired(!0),zt())}}}function vt(Lt){var Sn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ce.getIsManifestUpdateInProgress()||oe.getIsPruningInProgress())zt();else{var Ie=function Bt(){var Sn,Lt=ct();if(isNaN(J)||ye()===n.default.TEXT&&!fe.isTextEnabled())return null;var Ie=Q;if($){var Pt=re&&Lt?re.getRepresentationForQuality(Lt.quality):null;Sn=Ie?$.getSegmentRequestForTime(_e,Pt,J):$.getNextSegmentRequest(_e,Pt)}return Sn}();Ie?(Q=!1,function ce(Lt){isNaN(Lt.startTime+Lt.duration)||(J=Lt.startTime+Lt.duration),Lt.delayLoadingTime=(new Date).getTime()+pe.getTimeToLoadDelay(),pe.setTimeToLoadDelay(0),function yt(Lt){var Sn=Lt.url;return Lt.range&&(Sn=Sn.concat("_",Lt.range)),Ue.contains(Sn)}(Lt)?(He.warn("Fragment request url ".concat(Lt.url," for stream id ").concat(Ae.id," and media type ").concat(j," is on the ignore list and will be skipped")),zt()):(He.debug("Next fragment request url for stream id ".concat(Ae.id," and media type ").concat(j," is ").concat(Lt.url)),Ge.executeRequest(Lt))}(Ie)):function Ve(Lt){var Ie,Sn=re.getCurrentRepresentation();if(!Te.get().streaming.gaps.enableSeekFix||!Q&&0!==Ce.getTime()||(be?be&&Sn.segmentInfoType===E.default.SEGMENT_TIMELINE&&(Ie=$.getValidTimeAheadOfTargetTime(J,_e,Sn,Te.get().streaming.gaps.threshold)):Ie=$.getValidTimeAheadOfTargetTime(J,_e,Sn,Te.get().streaming.gaps.threshold),isNaN(Ie)||Ie===J)){if($.isLastSegmentRequested(Sn,J)){var Dt=$.getCurrentIndex();return He.debug("Segment requesting for stream ".concat(Ae.id," has finished")),ae.trigger(y.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Dt},{streamId:Ae.id,mediaType:j}),oe.segmentRequestingCompleted(Dt),void pe.clearScheduleTimer()}Lt&&zt()}else Ce.isSeeking()||0===Ce.getTime()?(He.warn("Adjusting playback time ".concat(Ie," because of gap in the manifest. Seeking by ").concat(Ie-J)),Ce.seek(Ie,!1,!1)):(He.warn("Adjusting buffering time ".concat(Ie," because of gap in the manifest. Adjusting time by ").concat(Ie-J)),Ln(Ie),Lt&&zt())}(Sn)}}function zt(){pe.startScheduleTimer(Ce.getLowLatencyModeEnabled()?Te.get().streaming.scheduling.lowLatencyTimeout:Te.get().streaming.scheduling.defaultTimeout)}function Yt(Lt){Lt.error||(pe.setCurrentRepresentation(de.convertRepresentationToRepresentationInfo(Lt.currentRepresentation)),oe.getIsBufferingCompleted()||oe.updateBufferTimestampOffset(Lt.currentRepresentation))}function cn(Lt){we.addBufferState(j,Lt.state,pe.getBufferTarget()),Lt.state===A.default.BUFFER_EMPTY&&!Ce.isSeeking()&&(He.info("Buffer is empty! Stalling!"),we.pushPlayListTraceMetrics(new Date,C.PlayListTrace.REBUFFERING_REASON))}function nn(Lt){Ge.syncExecutedRequestsWithBufferedRange(oe.getBuffer().getAllBufferRanges(),Ae.duration),Lt.quotaExceeded&&Lt.from>Ce.getTime()&&Ln(Lt.from),Lt.hasEnoughSpaceToAppend&&Lt.quotaExceeded&&pe.startScheduleTimer()}function Mt(Lt){if(Lt&&Lt.lastRequestAppended&&Lt.lastRequestAppended.url){var Sn=Lt.lastRequestAppended.url;Lt.lastRequestAppended.range&&(Sn=Sn.concat("_",Lt.lastRequestAppended.range)),He.warn("Blacklisting segment with url ".concat(Sn)),Ue.add(Sn)}}function ke(){It(),X=!1}function it(Lt){He.info("onFragmentLoadingAbandoned request: "+Lt.request.url+" has been aborted"),!Ce.isSeeking()&&!pe.getSwitchStrack()&&!X&&(He.info("onFragmentLoadingAbandoned request: "+Lt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Lt.request&&Lt.request.isInitializationRequest()?pe.setInitSegmentRequired(!0):Ln(Lt.request.startTime+Lt.request.duration/2),pe.startScheduleTimer(0))}function ot(Lt){He.info("OnFragmentLoadingCompleted for stream id "+Ae.id+" and media type "+j+" - Url:",Lt.request?Lt.request.url:"undefined",Lt.request.range?", Range:"+Lt.request.range:""),Ne()&&pe.startScheduleTimer(0),Lt.error&&Lt.request.serviceLocation&&function ft(Lt){He.info("Fragment loading completed with an error"),Lt&&Lt.request&&Lt.request.type&&(Lt.request.type===M.HTTPRequest.INIT_SEGMENT_TYPE?ht({representationId:Lt.request.representationId,sender:{}},!1):Lt.request.type===M.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ln(Lt.request.startTime+Lt.request.duration/2),vt({},!1)))}(Lt)}function mt(){Ln(Ce.getTime()),Tt().startScheduleTimer()}function Et(Lt){var Sn=Lt.currentTrackInfo;if(Sn){var Ie=K.find(function(Pt){return Pt.index===Sn.index&&Pt.lang===Sn.lang});Ie&&Kn(Ie).then(function(){oe.setIsBufferingCompleted(!1),Ln(Ce.getTime()),pe.setInitSegmentRequired(!0),pe.startScheduleTimer()})}}function Qt(Lt){Ln(Lt.quotaExceededTime),pe.clearScheduleTimer()}function Jt(){return oe?oe.getBuffer():null}function Kn(Lt){Lt!==_e&&(!Lt||!_e||Lt.type===_e.type)&&(_e=Lt);var Sn=de.getRealAdaptation(Ae,_e),Ie=de.getVoRepresentations(_e);if(re){var Mn,Pt=re.getData(),Dt=ge.getMaxAllowedIndexFor(j,Ae.id),Xt=ge.getMinAllowedIndexFor(j,Ae.id),qi=null;return null!==Pt&&Pt.id===Sn.id||j===n.default.TEXT?Mn=ge.getQualityFor(j,Ae.id):(qi=ge.getThroughputHistory().getAverageThroughput(j,be)||ge.getInitialBitrateFor(j,Ae.id),Mn=ge.getQualityForBitrate(_e,qi,Ae.id)),void 0!==Xt&&Mn<Xt&&(Mn=Xt),Mn>Dt&&(Mn=Dt),re.updateData(Sn,Ie,j,_e.isFragmented,Mn)}return Promise.resolve()}function Tt(){return pe}function ct(Lt){var Sn;return void 0!==Lt?(Object(u.checkInteger)(Lt),Sn=re?re.getRepresentationForQuality(Lt):null):Sn=re?re.getCurrentRepresentation():null,de.convertRepresentationToRepresentationInfo(Sn)}function hn(){return!!oe&&oe.getIsBufferingCompleted()}function Kt(Lt){var Sn=Lt.chunk,Ie=Sn.bytes,Pt=Sn.quality,Dt=ct(Pt),Xt=re&&Dt?re.getRepresentationForQuality(Dt.quality):null;if(Dt&&Xt){var Mn=de.getEventsFor(Dt.mediaInfo,null,Ae),ai=de.getEventsFor(Dt,Xt,Ae);if(Mn&&Mn.length>0||ai&&ai.length>0){var Hr=function Ot(Lt,Sn,Ie,Pt){try{for(var Dt={},Xt=[],Mn=Ie.concat(Pt),ai=0,qi=Mn.length;ai<qi;ai++)Dt[Mn[ai].schemeIdUri+"/"+Mn[ai].value]=Mn[ai];var Hr=Object(T.default)(ee).getInstance().parse(Lt),Ir=Hr.getBoxes("emsg");if(!Ir||0===Ir.length)return Xt;for(var Er=Hr.getBox("sidx"),Do=!Er||isNaN(Er.earliest_presentation_time)||isNaN(Er.timescale)?Sn&&!isNaN(Sn.mediaStartTime)?Sn.mediaStartTime:0:Er.earliest_presentation_time/Er.timescale,Po=Math.max(Do,0),_o=re.getCurrentRepresentation(),qo=0,Fi=Ir.length;qo<Fi;qo++){var Ii=de.getEvent(Ir[qo],Dt,Po,_o);Ii&&Xt.push(Ii)}return Xt}catch{return[]}}(Ie,Ge.getRequests({state:_.default.FRAGMENT_MODEL_EXECUTED,quality:Pt,index:Sn.index})[0],Mn,ai);ae.trigger(y.default.INBAND_EVENTS,{events:Hr},{streamId:Ae.id})}}}function St(){var Lt=Ce.getTime();Te.get().streaming.buffer.flushBufferAtTrackSwitch&&Ce.seek(Lt+.001,!1,!0),Ln(Lt),oe.setSeekTarget(Lt),pe.startScheduleTimer()}function It(){var Lt=Ce.getTime(),Sn=oe.getContinuousBufferTimeForTargetTime(Lt);Ln(isNaN(Sn)?Lt:Sn),pe.startScheduleTimer()}function gn(Lt){Lt&&!isNaN(Lt.time)&&(Ln(Lt.time),oe.setSeekTarget(Lt.time))}function Ln(Lt){J=Lt,Q=!0}return lt={initialize:function me(Lt,Sn,Ie){ne=Object(O.default)(ee).create({events:y.default,eventBus:ae,streamInfo:Ae,timelineConverter:ve,dashConstants:E.default,segmentBaseController:Z.segmentBaseController,type:j}),($=Object(k.default)(ee).create({streamInfo:Ae,type:j,timelineConverter:ve,dashMetrics:we,mediaPlayerModel:xe,baseURLController:Z.baseURLController,errHandler:le,segmentsController:ne,settings:Te,boxParser:De,events:y.default,eventBus:ae,errors:P.default,debug:Object(F.default)(ee).getInstance(),requestModifier:Object(R.default)(ee).getInstance(),dashConstants:E.default,constants:n.default,urlUtils:Object(D.default)(ee).getInstance()})).initialize(be=Ae.manifestInfo.isDynamic),ge.registerStreamType(j,lt),re=Object(o.default)(ee).create({streamInfo:Ae,type:j,abrController:ge,dashMetrics:we,playbackController:Ce,timelineConverter:ve,dashConstants:E.default,events:y.default,eventBus:ae,errors:P.default,isDynamic:be,segmentsController:ne}),(oe=function Zt(Lt,Sn){return Lt?Lt!==n.default.TEXT||Sn?Object(I.default)(ee).create({streamInfo:Ae,type:Lt,mediaPlayerModel:xe,manifestModel:Se,fragmentModel:Ge,errHandler:le,mediaController:Le,representationController:re,adapter:de,textController:fe,abrController:ge,playbackController:Ce,settings:Te}):Object(w.default)(ee).create({streamInfo:Ae,type:Lt,mimeType:Y,fragmentModel:Ge,textController:fe,errHandler:le,settings:Te}):(le.error(new B.default(P.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,P.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(j,Ie))&&oe.initialize(Lt),(pe=Object(g.default)(ee).create({streamInfo:Ae,type:j,mimeType:Y,adapter:de,dashMetrics:we,mediaPlayerModel:xe,fragmentModel:Ge,abrController:ge,playbackController:Ce,textController:fe,mediaController:Le,bufferController:oe,settings:Te})).initialize(Sn),J=0,Q=!1},getStreamId:Ee,getType:ye,isUpdating:function Xe(){return!!re&&re.isUpdating()},getBufferController:function pn(){return oe},getFragmentModel:function Tn(){return Ge},getScheduleController:Tt,getRepresentationController:function fn(){return re},getRepresentationInfo:ct,getBufferLevel:function Ze(){return oe?oe.getBufferLevel():0},isBufferingCompleted:hn,createBufferSinks:function yn(Lt){var Sn=Jt();return Sn?Promise.resolve(Sn):oe?oe.createBufferSink(_e,Lt):Promise.resolve(null)},updateStreamInfo:function Dn(Lt){return Ae=Lt,hn()?Promise.resolve():oe.updateAppendWindow()},getStreamInfo:function Fn(){return Ae},selectMediaInfo:Kn,clearMediaInfoArray:function an(){K=[]},addMediaInfo:function dn(Lt){-1===K.indexOf(Lt)&&K.push(Lt)},prepareTrackSwitch:function Rt(){return new Promise(function(Lt){He.debug("Preparing track switch for type ".concat(j));var Sn=j===n.default.TEXT||Te.get().streaming.trackSwitchMode[j]===n.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Ce.getTimeToStreamEnd(Ae)>Te.get().streaming.buffer.stallThreshold;if(oe.getIsBufferingCompleted()&&!Sn)return oe.prepareForNonReplacementTrackSwitch(_e.codec).then(function(){ae.trigger(y.default.BUFFERING_COMPLETED,{},{streamId:Ae.id,mediaType:j})}).catch(function(){ae.trigger(y.default.BUFFERING_COMPLETED,{},{streamId:Ae.id,mediaType:j})}),void Lt();pe.clearScheduleTimer(),pe.setSwitchTrack(!0),Sn?(ae.trigger(y.default.BUFFER_REPLACEMENT_STARTED,{mediaType:j,streamId:Ae.id},{mediaType:j,streamId:Ae.id}),Ge.abortRequests(),oe.prepareForReplacementTrackSwitch(_e.codec).then(function(){var Ie=ct();return oe.updateBufferTimestampOffset(Ie)}).then(function(){St(),Lt()}).catch(function(){St(),Lt()})):oe.prepareForNonReplacementTrackSwitch(_e.codec).then(function(){It(),Lt()}).catch(function(){It(),Lt()})})},prepareQualityChange:function gt(Lt){He.debug("Preparing quality switch for type ".concat(j));var Sn=Lt.newQuality;X=!0,pe.clearScheduleTimer();var Ie=ct(Sn);pe.setCurrentRepresentation(Ie),re.prepareQualityChange(Sn),Ge.abortRequests(),oe.updateBufferTimestampOffset(Ie).then(function(){Lt.reason&&Lt.reason.forceReplace?function Qe(){ae.trigger(y.default.BUFFER_REPLACEMENT_STARTED,{mediaType:j,streamId:Ae.id},{mediaType:j,streamId:Ae.id}),oe.prepareForReplacementQualitySwitch().then(function(){St(),X=!1}).catch(function(){St(),X=!1})}():Te.get().streaming.buffer.fastSwitchEnabled?function Fe(Lt){var Sn=Ce.getTime(),Ie=1.5*(isNaN(Lt.fragmentDuration)?1:Lt.fragmentDuration),Pt=Ge.getRequests({state:_.default.FRAGMENT_MODEL_EXECUTED,time:Sn+Ie,threshold:0})[0];if(Pt&&!Ne()){var Dt=oe.getBufferLevel(),Xt=ge.getAbandonmentStateFor(Ae.id,j);Pt.quality<Lt.quality&&Dt>=Ie&&Xt!==A.default.ABANDON_LOAD?(Ln(Sn+Ie),pe.setCheckPlaybackQuality(!1),pe.startScheduleTimer()):ke()}else pe.startScheduleTimer();X=!1}(Ie):ke(),we.pushPlayListTraceMetrics(new Date,C.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),we.createPlaylistTraceMetrics(Ie.id,1e3*Ce.getTime(),Ce.getPlaybackRate())})},getMediaInfo:function un(){return _e},getMediaSource:function on(){return oe.getMediaSource()},setMediaSource:function ln(Lt){oe.setMediaSource(Lt)},getBuffer:Jt,setExplicitBufferingTime:Ln,finalisePlayList:function Hn(Lt,Sn){we.pushPlayListTraceMetrics(Lt,Sn)},probeNextRequest:function bt(){var Lt=ct(),Sn=re&&Lt?re.getRepresentationForQuality(Lt.quality):null;return $.getNextSegmentRequestIdempotent(_e,Sn)},prepareInnerPeriodPlaybackSeeking:function ut(Lt){return new Promise(function(Sn){if(oe.hasBufferAtTime(Lt.seekTime))return oe.pruneBuffer(),void Sn();pe.clearScheduleTimer(),Ge.abortRequests(),oe.prepareForPlaybackSeek().then(function(){var Pt=oe.getAllRangesWithSafetyFactor(Lt.seekTime);return oe.clearBuffers(Pt)}).then(function(){var Pt=oe.getContinuousBufferTimeForTargetTime(Lt.seekTime);if(!isNaN(Pt)&&!isNaN(Ae.duration)&&isFinite(Ae.duration)&&Pt>=Ae.start+Ae.duration)oe.setIsBufferingCompleted(!0),Sn();else{var Dt=isNaN(Pt)?Lt.seekTime:Pt;Ln(Dt),oe.setSeekTarget(Dt);var Xt=[];Xt.push(oe.updateAppendWindow());var Mn=ct();Xt.push(oe.updateBufferTimestampOffset(Mn)),Promise.all(Xt).then(function(){pe.setInitSegmentRequired(!0),pe.setCheckPlaybackQuality(!1),pe.startScheduleTimer(),Sn()})}}).catch(function(Pt){He.error(Pt)})})},prepareOuterPeriodPlaybackSeeking:function ze(){return new Promise(function(Lt,Sn){try{pe.clearScheduleTimer(),Ge.abortRequests(),oe.prepareForPlaybackSeek().then(function(){return oe.pruneAllSafely()}).then(function(){Lt()})}catch(Ie){Sn(Ie)}})},reset:function qe(Lt,Sn){$&&$.reset(),oe&&(oe.reset(Lt,Sn),oe=null),pe&&(pe.reset(),pe=null),re&&(re.reset(),re=null),ne&&(ne=null),ge&&ge.unRegisterStreamType(Ee(),j),ae.off(y.default.DATA_UPDATE_COMPLETED,Yt,lt),ae.off(y.default.INIT_FRAGMENT_NEEDED,ht,lt),ae.off(y.default.MEDIA_FRAGMENT_NEEDED,vt,lt),ae.off(y.default.MEDIA_FRAGMENT_LOADED,Kt,lt),ae.off(y.default.BUFFER_LEVEL_STATE_CHANGED,cn,lt),ae.off(y.default.BUFFER_CLEARED,nn,lt),ae.off(y.default.SEEK_TARGET,gn,lt),ae.off(y.default.FRAGMENT_LOADING_ABANDONED,it,lt),ae.off(y.default.FRAGMENT_LOADING_COMPLETED,ot,lt),ae.off(y.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,mt,lt),ae.off(y.default.SET_NON_FRAGMENTED_TEXT,Et,lt),ae.off(y.default.QUOTA_EXCEEDED,Qt,lt),ae.off(y.default.SOURCE_BUFFER_ERROR,Mt,lt),tt(),j=null,Ae=null}},function q(){He=Object(F.default)(ee).getInstance().getLogger(lt),tt(),ae.on(y.default.DATA_UPDATE_COMPLETED,Yt,lt,{priority:m.default.EVENT_PRIORITY_HIGH}),ae.on(y.default.INIT_FRAGMENT_NEEDED,ht,lt),ae.on(y.default.MEDIA_FRAGMENT_NEEDED,vt,lt),ae.on(y.default.MEDIA_FRAGMENT_LOADED,Kt,lt),ae.on(y.default.BUFFER_LEVEL_STATE_CHANGED,cn,lt),ae.on(y.default.BUFFER_CLEARED,nn,lt),ae.on(y.default.SEEK_TARGET,gn,lt),ae.on(y.default.FRAGMENT_LOADING_ABANDONED,it,lt),ae.on(y.default.FRAGMENT_LOADING_COMPLETED,ot,lt),ae.on(y.default.QUOTA_EXCEEDED,Qt,lt),ae.on(y.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,mt,lt),ae.on(y.default.SET_NON_FRAGMENTED_TEXT,Et,lt),ae.on(y.default.SOURCE_BUFFER_ERROR,Mt,lt)}(),lt}G.__dashjs_factory_name="StreamProcessor",v.default=d.default.getClassFactory(G)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),A=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),_=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),I=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),o=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function d(u){u=u||{};var y=this.context,k=Object(I.default)(y).getInstance(),P=Object(E.default)(y).create({errHandler:u.errHandler,dashMetrics:u.dashMetrics,mediaPlayerModel:u.mediaPlayerModel,requestModifier:u.requestModifier,errors:o.default});return{load:function F(D,T,C){var O=function(Z,ee){T.resolved=!0,T.resolvedContent=Z||null,k.trigger(w.default.XLINK_ELEMENT_LOADED,{element:T,resolveObject:C,error:Z||ee?null:new n.default(o.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,o.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+D)})};if("urn:mpeg:dash:resolve-to-zero:2013"===D)O(null,!0);else{var M=new _.default(D,A.HTTPRequest.XLINK_EXPANSION_TYPE);P.load({request:M,success:function(Z){O(Z)},error:function(){O(null)}})}},reset:function R(){P&&(P.abort(),P=null)}}}d.__dashjs_factory_name="XlinkLoader",v.default=g.default.getClassFactory(d)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v),v.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function I(d){var u=function w(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v);var o=new(function(){function d(){(function E(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}return function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),d}());v.default=o},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function I(d){var u=function w(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v);var o=new(function(){function d(){(function E(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}return function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),d}());v.default=o},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function I(d){var u=function w(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v);var o=new(function(){function d(){(function E(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}return function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),d}());v.default=o},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),E=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),_=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),I=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),o=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),u=e(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),m=e(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),y=e(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),k=e(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),B=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),R=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function O(){var ae,Ae,j,le,Y,ve,de,Se,xe,Ge,ge,Ce,Le,fe,we,Te,De,Ue,lt,He,be,_e,K,oe,pe,re,G=this.context,Z=Object(P.default)(G).getInstance(),ee=Object(w.default)(G).getInstance();function q(){Y={},ve={},Se={},de={},lt={},_e={},K={},oe={},void 0===Ge&&(Ge=!1),He&&He.reset(),Ue=void 0,He=void 0,be=void 0,clearTimeout(xe),xe=null}function Ne(Jt){var pn=Jt.request.mediaType,Tn=Jt.streamId;if(pn&&Tn&&de[Tn]&&re.get().streaming.abr.autoSwitchBitrate[pn]){var Dn=de[Tn][pn];if(Dn){var Fn=Object(d.default)(G).create({abrController:ae,streamProcessor:Dn,currentRequest:Jt.request,useBufferOccupancyABR:_e[pn],useL2AABR:K[pn],useLoLPABR:oe[pn],videoModel:fe}),Kn=j.shouldAbandonFragment(Fn,Tn);Kn.quality>u.default.NO_CHANGE&&Dn.getFragmentModel().getRequests({state:I.default.FRAGMENT_MODEL_LOADING,index:Jt.request.index})[0]&&(Se[Tn][pn].state=A.default.ABANDON_LOAD,lt[Tn][pn].reset(),lt[Tn][pn].push({oldValue:Yt(pn,Tn),newValue:Kn.quality,confidence:1,reason:Kn.reason}),cn(pn,le.getActiveStreamInfo(),Kn.quality,Kn.reason),clearTimeout(xe),xe=setTimeout(function(){Se[Tn][pn].state=A.default.ALLOW_LOAD,xe=null},re.get().streaming.abandonLoadTimeout))}}}function tt(Jt){Jt.mediaType===E.default.VIDEO&&(void 0!==Ue&&He.push(Jt.streamId,Ue,fe.getPlaybackQuality()),Ue=Jt.newQuality)}function qe(Jt){Jt.metric===A.default.HTTP_REQUEST&&Jt.value&&Jt.value.type===B.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Jt.mediaType===E.default.AUDIO||Jt.mediaType===E.default.VIDEO)&&be.push(Jt.mediaType,Jt.value,re.get().streaming.abr.useDeadTimeLatency),Jt.metric===A.default.BUFFER_LEVEL&&(Jt.mediaType===E.default.AUDIO||Jt.mediaType===E.default.VIDEO)&&function ke(Jt,pn){re.get().streaming.abr.ABRStrategy===E.default.ABR_STRATEGY_DYNAMIC&&function it(Jt,pn){try{var Tn=we.getStableBufferTime(),Kn=_e[Jt],dn=pn>(Kn?.5*Tn:Tn);_e[Jt]=dn,dn!==Kn&&Ae.info(dn?"["+Jt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+pn.toFixed(3)+").":"["+Jt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+pn.toFixed(3)+").")}catch(an){Ae.error(an)}}(Jt,pn)}(Jt.mediaType,.001*Jt.value.level)}function Xe(Jt,pn){try{return Y[pn]=Y[pn]||{},Y[pn].hasOwnProperty(Jt)||(Y[pn][Jt]=0),function Ve(Jt,pn,Tn){if(pn!==E.default.VIDEO||!re.get().streaming.abr.limitBitrateByPortal||!de[Tn]||!de[Tn][pn])return Jt;Ge||Qt();var Dn=de[Tn][pn].getStreamInfo(),Fn=Le.getAdaptationForType(Dn.index,pn,Dn).Representation_asArray,Kn=Jt;if(ge>0&&Ce>0){for(;Kn>0&&Fn[Kn]&&ge<Fn[Kn].width&&ge-Fn[Kn-1].width<Fn[Kn].width-ge;)Kn-=1;for(;Kn<Fn.length-1&&Fn[Kn].width===Fn[Kn+1].width;)Kn+=1}return Kn}(function ce(Jt,pn,Tn){var Dn=Y[Tn][pn],Fn=re.get().streaming.abr.maxRepresentationRatio[pn];return isNaN(Fn)||Fn>=1||Fn<0?Jt:Math.min(Jt,Math.round(Dn*Fn))}(function vt(Jt,pn){var Tn=Y[pn][Jt],Dn=Tn;if(!de[pn]||!de[pn][Jt])return Dn;var Fn=ut(Jt,pn);void 0!==Fn&&(Dn=Math.max(Tn,Fn));var Kn=function ze(Jt,pn){try{var Tn=we.getAbrBitrateParameter("maxBitrate",Jt);return Tn>-1?Qe(de[pn][Jt].getMediaInfo(),Tn,pn):void 0}catch{return}}(Jt,pn);return void 0!==Kn&&(Dn=Math.min(Dn,Kn)),Dn}(Jt,pn),Jt,pn),Jt,pn)}catch{return}}function ut(Jt,pn){try{return function ht(Jt,pn){try{var Tn=we.getAbrBitrateParameter("minBitrate",Jt);if(Tn>-1){var Dn=de[pn][Jt].getMediaInfo(),Fn=Fe(Dn),Kn=Qe(Dn,Tn,pn);return Fn[Kn]&&Kn<Fn.length-1&&Fn[Kn].bitrate<1e3*Tn&&Kn++,Kn}return}catch{return}}(Jt,pn)}catch{return}}function Yt(Jt){var pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return pn||(pn=le.getActiveStreamInfo().id),Jt&&de[pn]&&de[pn][Jt]&&pn?(ve[pn]=ve[pn]||{},ve[pn].hasOwnProperty(Jt)||(ve[pn][Jt]=0),ve[pn][Jt]):0}catch{return 0}}function cn(Jt,pn,Tn){var Dn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(pn&&pn.id&&Jt){var Fn=pn.id,Kn=Yt(Jt,Fn);Object(F.checkInteger)(Tn);var dn=Xe(Jt,Fn);Tn!==Kn&&Tn>=0&&Tn<=dn&&Mt(Jt,Kn,Tn,dn,Dn,Fn)}}function Mt(Jt,pn,Tn,Dn,Fn,Kn){if(Jt&&de[Kn]&&de[Kn][Jt]){var dn=de[Kn][Jt].getStreamInfo(),an=dn&&dn.manifestInfo&&dn.manifestInfo.isDynamic,un=pe.getCurrentBufferLevel(Jt);Ae.info("Stream ID: "+Kn+" ["+Jt+"] switch from "+pn+" to "+Tn+"/"+Dn+" (buffer: "+un+") "+(Fn?JSON.stringify(Fn):".")),ve[Kn]=ve[Kn]||{},ve[Kn][Jt]=Tn;var on=function gt(Jt,pn,Tn){if(pn&&de&&de[Jt]&&de[Jt][pn]){var Dn=Fe(de[Jt][pn].getMediaInfo());return Dn[Tn]?Dn[Tn]:null}return null}(Kn,Jt,Tn);ee.trigger(g.default.QUALITY_CHANGE_REQUESTED,{oldQuality:pn,newQuality:Tn,reason:Fn,streamInfo:dn,bitrateInfo:on,maxIdx:Dn,mediaType:Jt},{streamId:dn.id,mediaType:Jt});var ln=be.getAverageThroughput(Jt,an);isNaN(ln)||De.setSavedBitrateSettings(Jt,ln)}}function Qe(Jt,pn,Tn){var Dn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Fn=Jt&&Jt.type?de[Tn][Jt.type].getRepresentationInfo():null;if(re.get().streaming.abr.useDeadTimeLatency&&Dn&&Fn&&Fn.fragmentDuration){var Kn=Fn.fragmentDuration;if((Dn/=1e3)>Kn)return 0;pn*=1-Dn/Kn}for(var an=Fe(Jt),un=an.length-1;un>=0;un--)if(1e3*pn>=an[un].bitrate)return un;return 0}function Fe(Jt){var pn=[];if(!Jt||!Jt.bitrateList)return pn;for(var Fn,Tn=Jt.bitrateList,Dn=Jt.type,Kn=0,dn=Tn.length;Kn<dn;Kn++)(Fn=new _.default).mediaType=Dn,Fn.qualityIndex=Kn,Fn.bitrate=Tn[Kn].bandwidth,Fn.width=Tn[Kn].width,Fn.height=Tn[Kn].height,Fn.scanType=Tn[Kn].scanType,pn.push(Fn);return pn}function Qt(){if(fe){var pn=re.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;ge=fe.getClientWidth()*pn,Ce=fe.getClientHeight()*pn}}return ae={initialize:function X(){He=Object(y.default)(G).create(),be=Object(k.default)(G).create({settings:re}),(j=Object(n.default)(G).create({dashMetrics:pe,customParametersModel:Te,mediaPlayerModel:we,settings:re})).initialize(),ee.on(R.default.QUALITY_CHANGE_RENDERED,tt,ae),ee.on(R.default.METRIC_ADDED,qe,ae),ee.on(g.default.LOADING_PROGRESS,Ne,ae)},isPlayingAtTopQuality:function mt(Jt){var pn=Jt?Jt.id:null,Tn=Yt(E.default.AUDIO,pn),Dn=Yt(E.default.VIDEO,pn);return Tn===Xe(E.default.AUDIO,pn)&&Dn===Xe(E.default.VIDEO,pn)},updateTopQualityIndex:function ft(Jt){var pn=Jt.type,Tn=Jt.streamInfo.id,Dn=Jt.representationCount-1;return Y[Tn]=Y[Tn]||{},Y[Tn][pn]=Dn,Dn},clearDataForStream:function fn(Jt){He&&He.clearForStream(Jt),de[Jt]&&delete de[Jt],lt[Jt]&&delete lt[Jt],Se[Jt]&&delete Se[Jt]},getThroughputHistory:function ot(){return be},getBitrateList:Fe,getQualityForBitrate:Qe,getTopBitrateInfoFor:function yt(Jt){var pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(pn||(pn=le.getActiveStreamInfo().id),Jt&&de&&de[pn]&&de[pn][Jt]){var Tn=Xe(Jt,pn),Dn=Fe(de[pn][Jt].getMediaInfo());return Dn[Tn]?Dn[Tn]:null}return null},getMinAllowedIndexFor:ut,getMaxAllowedIndexFor:Xe,getInitialBitrateFor:function Bt(Jt,pn){if(function ye(){if(!De||!De.hasOwnProperty("getSavedBitrateSettings"))throw new Error(E.default.MISSING_CONFIG_ERROR)}(),Jt===E.default.TEXT)return NaN;var Tn=De.getSavedBitrateSettings(Jt),Dn=we.getAbrBitrateParameter("initialBitrate",Jt),Fn=re.get().streaming.abr.initialRepresentationRatio[Jt];if(-1===Dn)if(Fn>-1){var Kn=de[pn][Jt].getStreamInfo(),dn=Le.getAdaptationForType(Kn.index,Jt,Kn).Representation_asArray;Dn=Array.isArray(dn)?dn[Math.max(Math.round(dn.length*Fn)-1,0)].bandwidth/1e3:0}else Dn=isNaN(Tn)?Jt===E.default.VIDEO?1e3:100:Tn;return Dn},getQualityFor:Yt,getAbandonmentStateFor:function nn(Jt,pn){return Se[Jt]&&Se[Jt][pn]?Se[Jt][pn].state:null},setPlaybackQuality:cn,checkPlaybackQuality:function zt(Jt,pn){try{if(!(Jt&&de&&de[pn]&&de[pn][Jt]))return!1;if(He){var Tn=fe.getPlaybackQuality();Tn&&He.push(pn,Ue,Tn)}if(!re.get().streaming.abr.autoSwitchBitrate[Jt])return!1;var Dn=Yt(Jt,pn),Fn=Object(d.default)(G).create({abrController:ae,switchHistory:lt[pn][Jt],droppedFramesHistory:He,streamProcessor:de[pn][Jt],currentValue:Dn,useBufferOccupancyABR:_e[Jt],useL2AABR:K[Jt],useLoLPABR:oe[Jt],videoModel:fe}),Kn=ut(Jt,pn),dn=Xe(Jt,pn),an=j.getMaxQuality(Fn),un=an.quality;return void 0!==Kn&&(un>u.default.NO_CHANGE?un:Dn)<Kn&&(un=Kn),un>dn&&(un=dn),lt[pn][Jt].push({oldValue:Dn,newValue:un}),un>u.default.NO_CHANGE&&un!==Dn&&(Se[pn][Jt].state===A.default.ALLOW_LOAD||un<Dn)&&(Mt(Jt,Dn,un,dn,an.reason,pn),!0)}catch{return!1}},setElementSize:Qt,setWindowResizeEventCalled:function Et(Jt){Ge=Jt},registerStreamType:function $(Jt,pn){var Tn=pn.getStreamInfo().id;de[Tn]||(de[Tn]={}),lt[Tn]||(lt[Tn]={}),Se[Tn]||(Se[Tn]={}),lt[Tn][Jt]=Object(m.default)(G).create(),de[Tn][Jt]=pn,Se[Tn][Jt]={},Se[Tn][Jt].state=A.default.ALLOW_LOAD,function ne(Jt){var pn=re.get().streaming.abr.ABRStrategy;pn===E.default.ABR_STRATEGY_L2A?(_e[Jt]=!1,oe[Jt]=!1,K[Jt]=!0):pn===E.default.ABR_STRATEGY_LoLP?(_e[Jt]=!1,oe[Jt]=!0,K[Jt]=!1):pn===E.default.ABR_STRATEGY_BOLA?(_e[Jt]=!0,oe[Jt]=!1,K[Jt]=!1):pn===E.default.ABR_STRATEGY_THROUGHPUT?(_e[Jt]=!1,oe[Jt]=!1,K[Jt]=!1):pn===E.default.ABR_STRATEGY_DYNAMIC&&(_e[Jt]=!(!_e||!_e[Jt])&&_e[Jt],oe[Jt]=!1,K[Jt]=!1)}(Jt),Jt===E.default.VIDEO&&Qt()},unRegisterStreamType:function J(Jt,pn){try{de[Jt]&&de[Jt][pn]&&delete de[Jt][pn],lt[Jt]&&lt[Jt][pn]&&delete lt[Jt][pn],Se[Jt]&&Se[Jt][pn]&&delete Se[Jt][pn]}catch{}},setConfig:function Ee(Jt){Jt&&(Jt.streamController&&(le=Jt.streamController),Jt.domStorage&&(De=Jt.domStorage),Jt.mediaPlayerModel&&(we=Jt.mediaPlayerModel),Jt.customParametersModel&&(Te=Jt.customParametersModel),Jt.dashMetrics&&(pe=Jt.dashMetrics),Jt.adapter&&(Le=Jt.adapter),Jt.videoModel&&(fe=Jt.videoModel),Jt.settings&&(re=Jt.settings))},reset:function me(){q(),ee.off(g.default.LOADING_PROGRESS,Ne,ae),ee.off(R.default.QUALITY_CHANGE_RENDERED,tt,ae),ee.off(R.default.METRIC_ADDED,qe,ae),j&&j.reset()}},function Q(){Ae=Z.getLogger(ae),q()}(),ae}O.__dashjs_factory_name="AbrController";var M=o.default.getSingletonFactory(O);M.QUALITY_DEFAULT=0,o.default.updateSingletonFactory(O.__dashjs_factory_name,M),v.default=M},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),E=e(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),A=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),_=e(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),I=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function o(){var d,u,P,B,m=this.context,y=Object(w.default)(m).getInstance(),k=Object(A.default)(m).getInstance();function F(G){P.invalidateSelectedIndexes(G.entry)}return d={reset:function O(){P.reset(),B.reset()},initialize:function M(G){P.setConfig({adapter:u}),function T(G){P.update(G),B.chooseSelector(u.getIsDVB(G))}(G)},resolve:function C(G){var ee=P.getForPath(G).reduce(function(ae,Ae){var j=B.select(Ae);return j?(k.isRelative(j.url)?ae.url=k.resolve(j.url,ae.url):(ae.url=j.url,ae.serviceLocation=j.serviceLocation),ae.availabilityTimeOffset=j.availabilityTimeOffset,ae.availabilityTimeComplete=j.availabilityTimeComplete,ae):new _.default},new _.default);if(!k.isRelative(ee.url))return ee},setConfig:function D(G){G.baseURLTreeModel&&(P=G.baseURLTreeModel),G.baseURLSelector&&(B=G.baseURLSelector),G.adapter&&(u=G.adapter)}},function R(){P=Object(n.default)(m).create(),B=Object(E.default)(m).create(),y.on(g.default.SERVICE_LOCATION_BLACKLIST_CHANGED,F,d)}(),d}o.__dashjs_factory_name="BaseURLController",v.default=I.default.getClassFactory(o)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function A(_){_=_||{};var I,w=[],g=Object(E.default)(this.context).getInstance(),o=_.updateEventName,d=_.addBlacklistEventName;function m(B){-1===w.indexOf(B)&&(w.push(B),g.trigger(o,{entry:B}))}function y(B){m(B.entry)}return I={add:m,contains:function u(B){return!!(w.length&&B&&B.length)&&-1!==w.indexOf(B)},reset:function P(){w=[]}},function k(){d&&g.on(d,y,I)}(),I}A.__dashjs_factory_name="BlackListController",v.default=n.default.getClassFactory(A)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),_=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),I=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),o=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),u=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),y=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),B=.01,R="BufferController";function D(T){T=T||{};var de,Se,xe,Ge,ge,Ce,Le,fe,we,Te,De,Ue,lt,He,be,_e,K,oe,C=this.context,O=Object(I.default)(C).getInstance(),M=T.errHandler,G=T.fragmentModel,Z=T.representationController,ee=T.adapter,ae=T.textController,Ae=T.abrController,j=T.playbackController,le=T.streamInfo,Y=T.type,ve=T.settings;function ne(St){Ce=St}function J(St){return ee.convertRepresentationToRepresentationInfo(Z.getRepresentationForQuality(St))}function Ee(St){ve.get().streaming.cacheInitSegments&&(Se.info("Init fragment finished loading saving to",Y+"'s init cache"),be.save(St.chunk)),Se.debug("Append Init fragment",Y," with representationId:",St.chunk.representationId," and quality:",St.chunk.quality,", data size:",St.chunk.bytes.byteLength),tt(St.chunk)}function Ne(St){tt(St.chunk,St.request)}function tt(St){we.append(St,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Zt){Xe(Zt)}).catch(function(Zt){Xe(Zt)}),St.mediaInfo.type===n.default.VIDEO&&Ot(w.default.VIDEO_CHUNK_RECEIVED,{chunk:St})}function qe(St){if(St&&St.length>0)for(var It=0,Zt=St.length;It<Zt;It++)Se.debug("Buffered range: "+St.start(It)+" - "+St.end(It)+", currentTime = ",j.getTime())}function Xe(St){if(St.error)return 22===St.error.code&&function ze(){if(He=!0,ge=.8*hn(),Se.warn("Quota exceeded, Critical Buffer: "+ge),ge>0){var St=Math.max(.2*ge,1),It=ge-St,Zt=Math.min(ve.get().streaming.buffer.bufferTimeAtTopQuality,.9*It),gn=Math.min(ve.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*It),Ln={streaming:{buffer:{bufferToKeep:parseFloat(St.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Zt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(gn.toFixed(5))}}};ve.update(Ln)}}(),void((22===St.error.code||!bt())&&(Se.warn("Clearing playback buffer to overcome quota exceed situation"),Ot(w.default.QUOTA_EXCEEDED,{criticalBufferLevel:ge,quotaExceededTime:St.chunk.start}),Qt(Et())));if(we&&(ke(),He=!1,(De=St.chunk)&&De.endFragment)){De&&!isNaN(De.index)&&(Le=Math.max(De.index,Le),it());var It=we.getAllBufferRanges();De.segmentType===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&(qe(It),cn(),function ut(){if(!isNaN(oe)){if(Y!==n.default.AUDIO&&Y!==n.default.VIDEO)return void(oe=NaN);var St=j.getTime(),It=Qe(St,0),Zt=Qe(oe,0);if(It&&Zt&&It.start===Zt.start)return void(oe=NaN);var gn=Z.getCurrentRepresentation().segmentDuration,Ln=Qe(oe,gn);Ln&&(ve.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(St-oe)>gn?oe<=Ln.end&&j.seek(Math.max(oe,Ln.start),!1,!0):St<Ln.start&&j.seek(Ln.start,!1,!0))}}()),De&&Ot(w.default.BYTES_APPENDED_END_FRAGMENT,{quality:De.quality,startTime:De.start,index:De.index,bufferedRanges:It,segmentType:De.segmentType,mediaType:Y})}}function yt(){return new Promise(function(St,It){var Zt=Bt();if(!Zt||0===Zt.length)return cn(),void St();Qt(Zt).then(function(){St()}).catch(function(gn){It(gn)})})}function Bt(St){var It=[],Zt=we.getAllBufferRanges();if(!Zt||0===Zt.length)return It;if(!St&&0!==St||isNaN(St))It.push({start:Zt.start(0),end:Zt.end(Zt.length-1)+.5});else{var gn=function zt(St,It){var Zt=ve.get().streaming.buffer.bufferToKeep,gn=It.start(0);if(St-gn>Zt){var Hn=Math.max(0,St-Zt),Lt=G.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:St,threshold:B})[0];if(Lt&&(Hn=Math.min(Lt.startTime,Hn)),Hn>0)return{start:gn,end:Hn}}return null}(St,Zt),Ln=function Yt(St,It){var Zt=It.end(It.length-1)+.5,gn=Ze(St),Hn=le.manifestInfo.duration>=ve.get().streaming.buffer.longFormContentDurationThreshold?ve.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ve.get().streaming.buffer.bufferTimeAtTopQuality,Lt=isNaN(gn)?St:Math.min(gn,St+Hn);if(Lt>=It.end(It.length-1))return null;var Sn=G.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:St,threshold:B})[0];if(Sn&&(Lt=Math.max(Sn.startTime+Sn.duration,Lt)),ve.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Pt=0;Pt<It.length;Pt++)if(It.start(Pt)<=St&&St<=It.end(Pt)&&It.start(Pt)<=Lt&&Lt<=It.end(Pt)){var Dt=Lt;Lt=Pt+1<It.length?It.start(Pt+1):It.end(Pt)+1,Se.debug("Buffered range ["+It.start(Pt)+", "+It.end(Pt)+"] overlaps with targetTime "+St+" and range to be pruned ["+Dt+", "+Zt+"], using ["+Lt+", "+Zt+"] instead"+(Lt<Zt?"":" (no actual pruning)"));break}return Lt<It.end(It.length-1)?{start:Lt,end:Zt}:null}(St,Zt);gn&&It.push(gn),Ln&&It.push(Ln)}return It}function cn(){(!K||Y===n.default.TEXT&&ae.isTextEnabled())&&ke()}function nn(){ot()}function Mt(){ot(),oe=NaN}function Qe(St,It){var Ie,Pt,Zt=we.getAllBufferRanges(),gn=0,Ln=0,Hn=null,Lt=null,Sn=0,Dt=isNaN(It)?.15:It;if(null!=Zt){for(Pt=0,Ie=Zt.length;Pt<Ie;Pt++)if(gn=Zt.start(Pt),Ln=Zt.end(Pt),null===Hn)Sn=Math.abs(gn-St),(St>=gn&&St<Ln||Sn<=Dt)&&(Hn=gn,Lt=Ln);else{if(!((Sn=gn-Lt)<=Dt))break;Lt=Ln}if(null!==Hn)return{start:Hn,end:Lt}}return null}function ke(){if(j){var St=ve.get().streaming.gaps.jumpGaps&&!isNaN(ve.get().streaming.gaps.smallGapLimit)?ve.get().streaming.gaps.smallGapLimit:NaN;Ge=Math.max(function Fe(St,It){var Zt;return ve.get().streaming.gaps.jumpGaps&&(It=ve.get().streaming.gaps.smallGapLimit),null===(Zt=Qe(St,It))?0:Zt.end-St}(j.getTime()||0,St),0),Ot(w.default.BUFFER_LEVEL_UPDATED,{mediaType:Y,bufferLevel:Ge}),ot()}}function it(){var St=Le>=fe-1,It=j.getTimeToStreamEnd(le)-Ge<1e-5;(St||It)&&!xe&&(Tt(!0),Se.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(le.id," and type ").concat(Y)))}function ot(){Y!==n.default.AUDIO&&Y!==n.default.VIDEO||((!j.getLowLatencyModeEnabled()&&Ge<ve.get().streaming.buffer.stallThreshold||0===Ge)&&!xe?ft(E.default.BUFFER_EMPTY):(xe||Ge>=ve.get().streaming.buffer.stallThreshold||j.getLowLatencyModeEnabled()&&Ge>0)&&ft(E.default.BUFFER_LOADED))}function ft(St){Te===St||St===E.default.BUFFER_EMPTY&&0===j.getTime()||Y===n.default.TEXT&&!ae.isTextEnabled()||(Te=St,Ot(w.default.BUFFER_LEVEL_STATE_CHANGED,{state:St}),Ot(St===E.default.BUFFER_LOADED?w.default.BUFFER_LOADED:w.default.BUFFER_EMPTY),Se.debug(St===E.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function mt(){!we||Y===n.default.TEXT||xe||Qt(Et())}function Et(){var St=[],It=we.getAllBufferRanges();if(!It||0===It.length)return St;var Zt=j.getTime(),gn=Math.max(0,Zt-ve.get().streaming.buffer.bufferToKeep),Ln=G.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:Zt,threshold:B})[0];if(Ln)gn=Math.min(Ln.startTime,gn);else if(0===Zt&&j.getIsDynamic())return[];if(It.start(0)<=gn){for(var Hn={start:0,end:gn},Lt=0;Lt<It.length&&It.end(Lt)<=gn;Lt++)Hn.end=It.end(Lt);Hn.start<Hn.end&&St.push(Hn)}return St}function Qt(St){return new Promise(function(It,Zt){if(St&&we&&0!==St.length){var gn=[];St.forEach(function(Ln){gn.push(function fn(St){return new Promise(function(It,Zt){St.resolve=It,St.reject=Zt,_e.push(St)})}(Ln))}),lt||Jt(),Promise.all(gn).then(function(){It()}).catch(function(Ln){Zt(Ln)})}else It()})}function Jt(){try{if(0===_e.length||!we)return Se.debug("Nothing to prune, halt pruning"),_e=[],void(lt=!1);var St=we.getBuffer();if(!St||!St.buffered||0===St.buffered.length)return Se.debug("SourceBuffer is empty (or does not exist), halt pruning"),_e=[],void(lt=!1);var It=_e.shift();Se.debug("".concat(Y,": Removing buffer from: ").concat(It.start," to ").concat(It.end)),lt=!0,j.getTime()<It.end&&Tt(!1),we.remove(It).then(function(gn){pn(gn)}).catch(function(gn){pn(gn)})}catch{lt=!1}}function pn(St){Se.debug("onRemoved buffer from:",St.from,"to",St.to),qe(we.getAllBufferRanges()),0===_e.length&&(lt=!1,ke()),St.unintended&&(Se.warn("Detected unintended removal from:",St.from,"to",St.to,"setting streamprocessor time to",St.from),Ot(w.default.SEEK_TARGET,{time:St.from})),lt?Jt():(K?K=!1:ke(),Ot(w.default.BUFFER_CLEARED,{from:St.from,to:St.to,unintended:St.unintended,hasEnoughSpaceToAppend:bt(),quotaExceeded:He}))}function Tn(St){return new Promise(function(It){St&&void 0!==St.MSETimeOffset&&we&&we.updateTimestampOffset?we.updateTimestampOffset(St.MSETimeOffset).then(function(){It()}).catch(function(){It()}):It()})}function Dn(){return we&&!xe?we.updateAppendWindow(le):Promise.resolve()}function Kn(){++Ue*(ve.get().streaming.wallclockTimeUpdateInterval/1e3)>=ve.get().streaming.buffer.bufferPruningInterval&&(Ue=0,mt())}function dn(){ot()}function Tt(St){xe!==St&&((xe=St)?Ot(w.default.BUFFERING_COMPLETED):fe=Number.POSITIVE_INFINITY)}function hn(){try{var Zt,gn,St=we.getAllBufferRanges(),It=0;if(!St)return It;for(gn=0,Zt=St.length;gn<Zt;gn++)It+=St.end(gn)-St.start(gn);return It}catch{return 0}}function Ze(St){try{var It=St,Zt=we.getAllBufferRanges();if(!Zt||0===Zt.length)return NaN;for(var gn=0;It===St&&gn<Zt.length;){var Ln=Zt.start(gn),Hn=Zt.end(gn);It>=Ln&&It<=Hn&&(It=Hn),gn+=1}return It===St?NaN:It}catch{}}function bt(){var St=hn();return isNaN(St)||St<ge}function Ot(St,It){O.trigger(St,It||{},{streamId:le.id,mediaType:Y})}function yn(St,It){if(ge=Number.POSITIVE_INFINITY,Te=void 0,fe=Number.POSITIVE_INFINITY,Le=0,De=null,xe=!1,lt=!1,He=!1,Ge=0,Ue=0,_e=[],oe=NaN,we){var Zt=we;we=null,!St&&!It&&Zt.abort().then(function(){Zt.reset(It),Zt=null})}K=!1}return de={initialize:function re(St){ne(St),O.on(w.default.INIT_FRAGMENT_LOADED,Ee,de),O.on(w.default.MEDIA_FRAGMENT_LOADED,Ne,de),O.on(w.default.WALLCLOCK_TIME_UPDATED,Kn,de),O.on(k.default.PLAYBACK_PLAYING,Mt,de),O.on(k.default.PLAYBACK_PROGRESS,cn,de),O.on(k.default.PLAYBACK_TIME_UPDATED,cn,de),O.on(k.default.PLAYBACK_RATE_CHANGED,dn,de),O.on(k.default.PLAYBACK_STALLED,nn,de)},getStreamId:function Q(){return le.id},getType:function X(){return Y},getBufferControllerType:function $(){return R},createBufferSink:function q(St){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Zt,gn){if(be&&St&&Ce){var Ln=Ae.getQualityFor(Y,le.id);we=Object(_.default)(C).create({mediaSource:Ce,textController:ae,eventBus:O}),function me(St,It,Zt){var gn=J(Zt);return It&&It[Y]&&(Y===n.default.VIDEO||Y===n.default.AUDIO)?we.initializeForStreamSwitch(St,gn,It[Y]):we.initializeForFirstUse(le,St,gn)}(St,It,Ln).then(function(){return Tn(J(Ln))}).then(function(){Zt(we)}).catch(function(Hn){Se.fatal("Caught error on create SourceBuffer: "+Hn),M.error(new u.default(m.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,m.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Y)),gn(Hn)})}else Zt(null)})},getBuffer:function an(){return we},getBufferLevel:function un(){return Ge},getRangeAt:Qe,hasBufferAtTime:function gt(St){try{var It=we.getAllBufferRanges();if(!It||0===It.length)return!1;for(var Zt=0;Zt<It.length;){var gn=It.start(Zt),Ln=It.end(Zt);if(St>=gn&&St<=Ln)return!0;Zt+=1}return!1}catch(Hn){return Se.error(Hn),!1}},pruneBuffer:mt,setMediaSource:ne,getMediaSource:function on(){return Ce},appendInitSegmentFromCache:function ye(St){var It=be.extract(le.id,St);return!!It&&(Se.info("Append Init fragment",Y," with representationId:",It.representationId," and quality:",It.quality,", data size:",It.bytes.byteLength),tt(It),!0)},getIsBufferingCompleted:function ln(){return xe},setIsBufferingCompleted:Tt,getIsPruningInProgress:function ct(){return lt},reset:function Rt(St,It){O.off(w.default.INIT_FRAGMENT_LOADED,Ee,this),O.off(w.default.MEDIA_FRAGMENT_LOADED,Ne,this),O.off(w.default.WALLCLOCK_TIME_UPDATED,Kn,this),O.off(k.default.PLAYBACK_PLAYING,Mt,this),O.off(k.default.PLAYBACK_PROGRESS,cn,this),O.off(k.default.PLAYBACK_TIME_UPDATED,cn,this),O.off(k.default.PLAYBACK_RATE_CHANGED,dn,this),O.off(k.default.PLAYBACK_STALLED,nn,this),yn(St,It)},prepareForPlaybackSeek:function ht(){return xe&&Tt(!1),we.abort()},prepareForReplacementTrackSwitch:function vt(St){return new Promise(function(It,Zt){we.abort().then(function(){return Dn()}).then(function(){return ve.get().streaming.buffer.useChangeTypeForTrackSwitch?we.changeType(St):Promise.resolve()}).then(function(){return yt()}).then(function(){Tt(!1),It()}).catch(function(gn){Zt(gn)})})},prepareForNonReplacementTrackSwitch:function Ve(St){return new Promise(function(It,Zt){Dn().then(function(){return ve.get().streaming.buffer.useChangeTypeForTrackSwitch?we.changeType(St):Promise.resolve()}).then(function(){It()}).catch(function(gn){Zt(gn)})})},prepareForReplacementQualitySwitch:function ce(){return new Promise(function(St,It){we.abort().then(function(){return Dn()}).then(function(){return yt()}).then(function(){Tt(!1),St()}).catch(function(Zt){It(Zt)})})},updateAppendWindow:Dn,getAllRangesWithSafetyFactor:Bt,getContinuousBufferTimeForTargetTime:Ze,clearBuffers:Qt,pruneAllSafely:yt,updateBufferTimestampOffset:Tn,setSeekTarget:function Kt(St){oe=St},segmentRequestingCompleted:function Fn(St){isNaN(St)||(fe=St,it())}},function pe(){Se=Object(o.default)(C).getInstance().getLogger(de),be=Object(d.default)(C).getInstance(),yn()}(),de}D.__dashjs_factory_name=R,v.default=g.default.getClassFactory(D)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),o=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function d(){var y,k,P,B,F,R,D,T,C,O,u=this.context,m=Object(A.default)(u).getInstance();function j(){k=!1;var Ue=o.default.parseUserAgent();P=Ue&&Ue.browser&&Ue.browser.name&&"safari"===Ue.browser.name.toLowerCase()}function le(){k=!1}function Y(Ue){if(Ue.streamId===R.getActiveStreamInfo().id&&C){var lt=D.getLiveDelay();D.getBufferLevel()>lt/2&&(C=!1)}}function ve(Ue){Ue.streamId===R.getActiveStreamInfo().id&&(C=Ue.state===g.default.BUFFER_EMPTY)}function de(){T.getCatchupModeEnabled()||B.setPlaybackRate(1)}function Se(){D.getIsDynamic()&&T.getCatchupModeEnabled()&&(T.getCatchupPlaybackRates().max>0||T.getCatchupPlaybackRates().min<0)&&!D.isPaused()&&!D.isSeeking()&&function ge(){try{return!(!D.getTime()>0||k)&&(Ce()===_.default.LIVE_CATCHUP_MODE_LOLP?function fe(Ue,lt){try{return Math.abs(Ge())>0||Ue<lt}catch{return!1}}(D.getBufferLevel(),F.get().streaming.liveCatchup.playbackBufferMin):function Le(){try{return Math.abs(Ge())>0}catch{return!1}}())}catch{return!1}}()&&function xe(){if(!k&&B){var Ue,lt=B.getPlaybackRate(),He=T.getCatchupPlaybackRates(),be=D.getBufferLevel(),_e=Ge(),K=T.getCatchupMaxDrift();if(!isNaN(K)&&K>0&&_e>K)O.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),k=!0,D.seekToCurrentLive(!0,!1);else{var oe=D.getCurrentLiveLatency(),pe=D.getLiveDelay();Ue=Ce()===_.default.LIVE_CATCHUP_MODE_LOLP?function Te(Ue,lt,He,be,_e){var K;if(_e<be){var oe=Math.abs(Ue.min),Q=2*oe/(1+Math.pow(Math.E,-5*(_e-be)));O.debug("[LoL+ playback control_buffer-based] bufferLevel: "+_e+", newRate: "+(K=1-oe+Q))}else{var X=Ue.max,$=.02;K=Math.abs(lt-He)<=$*He?1:1-X+2*X/(1+Math.pow(Math.E,-5*(lt-He))),O.debug("[LoL+ playback control_latency-based] latency: "+lt+", newRate: "+K)}return K}(He,oe,pe,F.get().streaming.liveCatchup.playbackBufferMin,be):function we(Ue,lt,He,be){if(C)return 1;var _e=lt-He,K=_e<0?Math.abs(Ue.min):Ue.max,re=1-K+2*K/(1+Math.pow(Math.E,-5*_e));return D.getPlaybackStalled()&&be<=He/2&&_e>0&&(re=1),re}(He,oe,pe,be);var Q=P?.25:.02/(.5/He.max);Ue&&Math.abs(lt-Ue)>=Q&&(O.debug("[CatchupController]: Setting playback rate to ".concat(Ue)),B.setPlaybackRate(Ue))}}}()}function Ge(){return D.getCurrentLiveLatency()-D.getLiveDelay()}function Ce(){var Ue=F.get().streaming.liveCatchup.playbackBufferMin;return F.get().streaming.liveCatchup.mode!==_.default.LIVE_CATCHUP_MODE_LOLP||null===Ue||isNaN(Ue)?_.default.LIVE_CATCHUP_MODE_DEFAULT:_.default.LIVE_CATCHUP_MODE_LOLP}function De(){T.getCatchupPlaybackRates(!0)}return y={reset:function Ae(){(function ee(){m.off(I.default.BUFFER_LEVEL_UPDATED,Y,y),m.off(I.default.BUFFER_LEVEL_STATE_CHANGED,ve,y),m.off(I.default.PLAYBACK_PROGRESS,Se,y),m.off(I.default.PLAYBACK_TIME_UPDATED,Se,y),m.off(I.default.PLAYBACK_SEEKED,Se,y),m.off(w.default.SETTING_UPDATED_CATCHUP_ENABLED,de,y),m.off(w.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,De,y),m.off(w.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,De,y),m.off(I.default.STREAM_INITIALIZED,De,y)})(),j(),B.setPlaybackRate(1,!0)},setConfig:function G(Ue){Ue&&(Ue.settings&&(F=Ue.settings),Ue.videoModel&&(B=Ue.videoModel),Ue.streamController&&(R=Ue.streamController),Ue.playbackController&&(D=Ue.playbackController),Ue.mediaPlayerModel&&(T=Ue.mediaPlayerModel))},initialize:function M(){(function Z(){m.on(I.default.BUFFER_LEVEL_UPDATED,Y,y),m.on(I.default.BUFFER_LEVEL_STATE_CHANGED,ve,y),m.on(I.default.PLAYBACK_PROGRESS,Se,y),m.on(I.default.PLAYBACK_TIME_UPDATED,Se,y),m.on(I.default.PLAYBACK_SEEKED,le,y),m.on(w.default.SETTING_UPDATED_CATCHUP_ENABLED,de,y),m.on(w.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,De,y),m.on(w.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,De,y),m.on(I.default.STREAM_INITIALIZED,De,y)})(),De()}},function ae(){O=Object(E.default)(u).getInstance().getLogger(y),j()}(),y}d.__dashjs_factory_name="CatchupController",v.default=n.default.getSingletonFactory(d)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),I=e(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function w(){var B,F,R,D,T,C,O,M,G,Z,ee,g="urn:mpeg:dash:event:2012",o=1,d="urn:mpeg:dash:event:callback:2015",u=1,m=300,y={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},k=this.context,P=Object(A.default)(k).getInstance();function Ae(){if(!O||!M)throw new Error("setConfig function has to be called previously")}function j(){ee=!1,R={},D={},T=null,Z=!1,C=Date.now()/1e3}function le(){try{null!==T&&ee&&(clearInterval(T),T=null,ee=!1,function Le(){try{fe(D),fe(R)}catch(re){F.error(re)}}())}catch(re){throw re}}function ve(){try{if(!Z){Z=!0;var re=M.getTime(),Q=re-C;Q=C>0?Math.max(0,Q):0,de(D,Q,re),de(R,Q,re),Se(D),Se(R),C=re,Z=!1}}catch(X){Z=!1,F.error(X)}}function de(re,Q,X){try{we(re,function(J){if(void 0!==J){var q=isNaN(J.duration)?0:J.duration;J.calculatedPresentationTime<=X&&J.calculatedPresentationTime+Q+q>=X?Ue(J,_.default.EVENT_MODE_ON_START):(Te(X,q+Q,J.calculatedPresentationTime)||function De(re){try{return re.calculatedPresentationTime>re.eventStream.period.start+re.eventStream.period.duration}catch(X){return F.error(X),!1}}(J))&&(F.debug("Removing event ".concat(J.id," from period ").concat(J.eventStream.period.id," as it is expired or invalid")),function lt(re,Q){try{var X=Q.eventStream.schemeIdUri,$=Q.eventStream.period.id,ne=Q.eventStream.value,J=Q.id;re[$][X]=re[$][X].filter(function(q){return ne&&q.eventStream.value&&q.eventStream.value!==ne||q.id!==J}),0===re[$][X].length&&delete re[$][X]}catch(q){F.error(q)}}(re,J))}})}catch(ne){F.error(ne)}}function Se(re){try{for(var Q in re)re.hasOwnProperty(Q)&&0===Object.keys(re[Q]).length&&delete re[Q]}catch(X){F.error(X)}}function ge(re,Q){var X=arguments.length>2&&void 0!==arguments[2]&&arguments[2],$=re.eventStream.schemeIdUri,ne=re.eventStream.value,J=re.id,q=y.DISCARDED;Q[$]||(Q[$]=[]);var me=Q[$].findIndex(function(ye){return(!ne||ye.eventStream.value&&ye.eventStream.value===ne)&&ye.id===J});if(-1===me)Q[$].push(re),re.triggeredReceivedEvent=!1,re.triggeredStartEvent=!1,q=y.ADDED;else if(X){var Ee=Q[$][me];re.triggeredReceivedEvent=Ee.triggeredReceivedEvent,re.triggeredStartEvent=Ee.triggeredStartEvent,Q[$][me]=re,q=y.UPDATED}return q}function Ce(re){try{re.eventStream.value==o&&P.trigger(_.default.MANIFEST_VALIDITY_CHANGED,{id:re.id,validUntil:re.calculatedPresentationTime,newDuration:4294967295==re.calculatedPresentationTime?NaN:re.calculatedPresentationTime+re.duration,newManifestValidAfter:NaN},{mode:_.default.EVENT_MODE_ON_START})}catch($){F.error($)}}function fe(re){try{var Q=M.getTime();we(re,function(ne){var J=ne.eventStream&&ne.eventStream.period&&!isNaN(ne.eventStream.period.duration)?ne.eventStream.period.duration:NaN,q=ne.eventStream&&ne.eventStream.period&&!isNaN(ne.eventStream.period.start)?ne.eventStream.period.start:NaN;isNaN(J)||isNaN(q)||Math.abs(ne.calculatedPresentationTime-Q)<m&&Ue(ne,_.default.EVENT_MODE_ON_START)})}catch($){F.error($)}}function we(re,Q){try{if(re)for(var X=Object.keys(re),$=0;$<X.length;$++)for(var ne=re[X[$]],J=Object.keys(ne),q=0;q<J.length;q++)ne[J[q]].forEach(function(Ee){void 0!==Ee&&Q(Ee)})}catch(Ee){F.error(Ee)}}function Te(re,Q,X){try{return re-Q>X}catch($){return F.error($),!1}}function Ue(re,Q){try{var X=M.getTime(),$=re.id;if(Q===_.default.EVENT_MODE_ON_RECEIVE&&!re.triggeredReceivedEvent)return F.debug("Received event ".concat($)),re.triggeredReceivedEvent=!0,void P.trigger(re.eventStream.schemeIdUri,{event:re},{mode:Q});re.triggeredStartEvent||(re.eventStream.schemeIdUri===g&&re.eventStream.value==o?(0!==re.duration||0!==re.presentationTimeDelta)&&(F.debug("Starting manifest refresh event ".concat($," at ").concat(X)),function He(){try{Ae(),O.refreshManifest()}catch(re){F.error(re)}}()):re.eventStream.schemeIdUri===d&&re.eventStream.value==u?(F.debug("Starting callback event ".concat($," at ").concat(X)),function be(re){try{Object(I.default)(k).create({}).load({method:"get",url:re,request:{responseType:"arraybuffer"}})}catch(X){F.error(X)}}(re.messageData)):(F.debug("Starting event ".concat($," from period ").concat(re.eventStream.period.id," at ").concat(X)),P.trigger(re.eventStream.schemeIdUri,{event:re},{mode:Q})),re.triggeredStartEvent=!0)}catch(ne){F.error(ne)}}return B={addInlineEvents:function xe(re,Q){try{if(Ae(),R[Q]||(R[Q]={}),re)for(var X=0;X<re.length;X++){var $=re[X];if(!Te(M.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)){var q=ge($,R[Q],!0);q===y.ADDED?(F.debug("Added inline event with id ".concat($.id," from period ").concat(Q)),Ue($,_.default.EVENT_MODE_ON_RECEIVE)):q===y.UPDATED&&F.debug("Updated inline event with id ".concat($.id," from period ").concat(Q))}}}catch(me){throw me}},addInbandEvents:function Ge(re,Q){try{Ae(),D[Q]||(D[Q]={});for(var X=0;X<re.length;X++){var $=re[X];Te(M.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)||(ge($,D[Q],!1)===y.ADDED?($.eventStream.schemeIdUri===g&&Ce($),F.debug("Added inband event with id ".concat($.id," from period ").concat(Q)),Ue($,_.default.EVENT_MODE_ON_RECEIVE)):F.debug("Inband event with scheme_id_uri ".concat($.eventStream.schemeIdUri,", value ").concat($.eventStream.value,", period id ").concat(Q," and event id ").concat($.id," was ignored because it has been added before.")))}ve()}catch(me){throw me}},getInbandEvents:function oe(){return D},getInlineEvents:function K(){return R},start:function Y(){try{Ae(),F.debug("Start Event Controller");var re=G.get().streaming.eventControllerRefreshDelay;!ee&&!isNaN(re)&&(ee=!0,T=setInterval(ve,re))}catch(Q){throw Q}},setConfig:function _e(re){try{if(!re)return;re.manifestUpdater&&(O=re.manifestUpdater),re.playbackController&&(M=re.playbackController),re.settings&&(G=re.settings)}catch(Q){throw Q}},reset:function pe(){le(),j()}},function ae(){F=Object(E.default)(k).getInstance().getLogger(B),j()}(),B}w.__dashjs_factory_name="EventController",v.default=n.default.getSingletonFactory(w)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),A=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),_=e(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),I=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),o=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),d=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),u=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function y(k){k=k||{};var O,M,G,P=this.context,B=Object(w.default)(P).getInstance(),F=k.errHandler,R=k.mediaPlayerModel,D=k.dashMetrics,T=Object(m.default)(P).getInstance(),C=k.streamInfo;function ee(){return C.id}function Ae(){for(var ve in G)G[ve].reset();G={}}function Y(ve){if(ve.sender){var de=ve.request,Se=ve.response,xe=de.isInitializationRequest(),Ge=de.mediaInfo.streamInfo;if(ve.error&&(de.mediaType===n.default.AUDIO||de.mediaType===n.default.VIDEO||de.mediaType===n.default.TEXT&&de.mediaInfo.isFragmented)&&B.trigger(g.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:ve.request.serviceLocation}),!Se||!Ge)return void M.warn("No "+de.mediaType+" bytes to push or stream is inactive.");var ge=function le(ve,de,Se,xe){var Ge=new E.default;return Ge.streamId=Se,Ge.mediaInfo=de.mediaInfo,Ge.segmentType=de.type,Ge.start=de.startTime,Ge.duration=de.duration,Ge.end=Ge.start+Ge.duration,Ge.bytes=ve,Ge.index=de.index,Ge.quality=de.quality,Ge.representationId=de.representationId,Ge.endFragment=xe,Ge}(Se,de,C.id,ve.type!==g.default.FRAGMENT_LOADING_PROGRESS);B.trigger(xe?g.default.INIT_FRAGMENT_LOADED:g.default.MEDIA_FRAGMENT_LOADED,{chunk:ge,request:de},{streamId:Ge.id,mediaType:de.mediaType})}}return O={getStreamId:ee,getModel:function ae(ve){var de=G[ve];return de||(de=Object(A.default)(P).create({streamInfo:C,type:ve,dashMetrics:D,fragmentLoader:Object(_.default)(P).create({dashMetrics:D,mediaPlayerModel:R,errHandler:F,requestModifier:Object(I.default)(P).getInstance(),settings:k.settings,boxParser:k.boxParser,eventBus:B,events:g.default,errors:d.default,dashConstants:k.dashConstants,urlUtils:k.urlUtils,streamId:ee()}),debug:T,eventBus:B,events:g.default}),G[ve]=de),de},reset:function j(){B.off(o.default.FRAGMENT_LOADING_COMPLETED,Y,this),B.off(o.default.FRAGMENT_LOADING_PROGRESS,Y,this),Ae()}},function Z(){M=T.getLogger(O),Ae(),B.on(o.default.FRAGMENT_LOADING_COMPLETED,Y,O),B.on(o.default.FRAGMENT_LOADING_PROGRESS,Y,O)}(),O}y.__dashjs_factory_name="FragmentController",v.default=u.default.getClassFactory(y)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function d(){var y,k,P,B,F,R,D,T,C,O,M,G,u=this.context,m=Object(_.default)(u).getInstance();function ae(){(function Te(){G.debug("Stopping the gap controller"),F&&(clearInterval(F),F=null)})(),function Y(){m.off(A.default.WALLCLOCK_TIME_UPDATED,Ge,this),m.off(A.default.INITIAL_STREAM_SWITCH,xe,this),m.off(A.default.PLAYBACK_SEEKING,ve,this),m.off(A.default.BUFFER_REPLACEMENT_STARTED,de,y),m.off(A.default.TRACK_CHANGE_RENDERED,Se,y)}(),function Ae(){F=null,R=NaN,B=0,O=null,M={}}()}function ve(){O&&(clearTimeout(O),O=null)}function de(Ue){try{if(Ue.streamId!==T.getActiveStreamInfo().id||Ue.mediaType!==I.default.VIDEO&&Ue.mediaType!==I.default.AUDIO)return;Ue.streamId===T.getActiveStreamInfo().id&&(M[Ue.mediaType]=!0)}catch(lt){G.error(lt)}}function Se(Ue){!Ue||!Ue.mediaType||(M[Ue.mediaType]=!1)}function xe(){F||function we(){try{F||(G.debug("Starting the gap controller"),F=setInterval(function(){ge()&&De(D.getTime())},100))}catch{}}()}function Ge(){if(ge(P.get().streaming.gaps.enableSeekFix)&&++B>=10){var Ue=D.getTime();k===Ue?De(Ue,!0):(k=Ue,R=NaN),B=0}}function ge(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!T.getActiveStream())return!1;var lt=Object.keys(M).some(function(be){return M[be]}),He=!!Ue&&function Ce(){var Ue=T.getActiveStream(),lt=parseFloat((Ue.getStartTime()+Ue.getDuration()).toFixed(5));return D.getTime()+P.get().streaming.gaps.threshold>=lt}();return!lt&&P.get().streaming.gaps.jumpGaps&&T.getActiveStreamProcessors().length>0&&(!D.isSeeking()||He)&&!D.isPaused()&&!T.getIsStreamSwitchInProgress()&&!T.getHasMediaOrInitialisationError()}function De(Ue){var pe,lt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],He=P.get().streaming.gaps.enableStallFix,be=P.get().streaming.gaps.stallSeek,_e=P.get().streaming.gaps.smallGapLimit,K=P.get().streaming.gaps.jumpLargeGaps,oe=C.getBufferRange(),re=NaN,Q=!1;if(pe=function Le(Ue,lt){try{if(!Ue||Ue.length<=1&&lt>0)return NaN;for(var He=NaN,be=0;isNaN(He)&&be<Ue.length;){var _e=be>0?Ue.end(be-1):0;lt<Ue.start(be)&&_e-lt<P.get().streaming.gaps.threshold&&(He=be),be+=1}return He}catch{return null}}(oe,Ue),!isNaN(pe)){var X=oe.start(pe),$=X-Ue;$>0&&($<=_e||K)&&(re=X)}var ne=D.getTimeToStreamEnd();if(isNaN(re)&&lt&&isFinite(ne)&&!isNaN(ne)&&ne<_e&&(re=parseFloat(D.getStreamEndTime().toFixed(5)),Q=!0),He&&isNaN(re)&&lt&&isNaN(pe)&&function fe(Ue,lt){for(var He=0,be=Ue.length;He<be;He++)if(lt>=Ue.start(He)&&lt<=Ue.end(He))return!0;return!1}(oe,Ue)&&(0===be?(G.warn("Toggle play pause to break stall"),C.pause(),C.play()):(G.warn("Jumping ".concat(be,"s to break stall")),re=Ue+be)),re>0&&R!==re&&re>Ue&&!O){var J=re-Ue;if(Q){var q=T.getStreamForTime(re),me=q&&!!q.getPreloaded();G.warn("Jumping to end of stream because of gap from ".concat(Ue," to ").concat(re,". Gap duration: ").concat(J)),D.seek(re,!0,me)}else{var Ee=D.getIsDynamic(),ye=pe>0?oe.end(pe-1):Ue,Ne=Ee?1e3*Math.max(0,J-.1):0;O=window.setTimeout(function(){D.seek(re,!0,!0),G.warn("Jumping gap occuring in period ".concat(T.getActiveStream().getStreamId()," starting at ").concat(ye," and ending at ").concat(re,". Jumping by: ").concat(re-ye)),O=null},Ne)}R=re}}return y={reset:ae,setConfig:function j(Ue){Ue&&(Ue.settings&&(P=Ue.settings),Ue.playbackController&&(D=Ue.playbackController),Ue.streamController&&(T=Ue.streamController),Ue.videoModel&&(C=Ue.videoModel))},initialize:function Z(){!function le(){m.on(A.default.WALLCLOCK_TIME_UPDATED,Ge,this),m.on(A.default.INITIAL_STREAM_SWITCH,xe,this),m.on(A.default.PLAYBACK_SEEKING,ve,this),m.on(A.default.BUFFER_REPLACEMENT_STARTED,de,y),m.on(A.default.TRACK_CHANGE_RENDERED,Se,y)}()}},function ee(){G=Object(E.default)(u).getInstance().getLogger(y),ae()}(),y}d.__dashjs_factory_name="GapController",v.default=n.default.getSingletonFactory(d)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),g=e.n(w),o=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function u(){var P,B,F,R,D,T,C,O,y=this.context,k=Object(A.default)(y).getInstance();function ee(q,me){return q&&F[me]&&F[me][q]?F[me][q].list:[]}function ae(q,me){return q&&F[me]&&F[me][q]?F[me][q].current:null}function j(q){var me=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(q&&q.streamInfo){var Ee=q.type,Ne=q.streamInfo.id,tt=ae(Ee,Ne);if(F[Ne]&&F[Ne][Ee]&&(F[Ne][Ee].current=q,F[Ne][Ee].current&&(Ee!==n.default.TEXT&&!Se(q,tt)||Ee===n.default.TEXT&&q.isFragmented)&&k.trigger(E.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:tt,newMediaInfo:q,switchMode:R.get().streaming.trackSwitchMode[Ee]},{streamId:Ne}),!me)){var qe=function ge(q){var me={lang:q.lang,viewpoint:q.viewpoint,roles:q.roles,accessibility:q.accessibility,audioChannelConfiguration:q.audioChannelConfiguration};return me.lang||me.viewpoint||me.role&&me.role.length>0||me.accessibility&&me.accessibility.length>0||me.audioChannelConfiguration&&me.audioChannelConfiguration.length>0?me:null}(q);if(!qe||!F[Ne][Ee].storeLastSettings)return;qe.roles&&(qe.role=qe.roles[0],delete qe.roles),qe.accessibility&&(qe.accessibility=qe.accessibility[0]),qe.audioChannelConfiguration&&(qe.audioChannelConfiguration=qe.audioChannelConfiguration[0]),T[Ee]=qe,O.setSavedMediaSettings(Ee,qe)}}}function le(q,me){!q||!me||(D[q]=me)}function Y(q){return q?D[q]:null}function Se(q,me){if(!q&&!me)return!0;if(!q||!me)return!1;var Ee=q.id===me.id,ye=q.viewpoint===me.viewpoint,Ne=q.lang===me.lang,tt=q.codec===me.codec,qe=q.roles.toString()===me.roles.toString(),Xe=q.accessibility.toString()===me.accessibility.toString(),ut=q.audioChannelConfiguration.toString()===me.audioChannelConfiguration.toString();return Ee&&tt&&ye&&Ne&&qe&&Xe&&ut}function Ge(){F={},T={},function He(){D={audio:null,video:null,text:null}}()}function Ce(q,me,Ee){var ye=[];return q.forEach(function(Ne){me(Ee,Ne)&&ye.push(Ne)}),0!==ye.length?ye:q}function Le(q,me){return!q.lang||q.lang instanceof RegExp?me.lang.match(q.lang):""!==me.lang&&Object(o.extendedFilter)(me.lang,g()(q.lang)).length>0}function fe(q,me){return null==q.index||me.index===q.index}function we(q,me){return!q.viewpoint||q.viewpoint===me.viewpoint}function Te(q,me){var Ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!q.role||!!me.roles.filter(function(Ne){return Ne===q.role})[0]||me.type===n.default.AUDIO&&Ee}function De(q,me){return q.accessibility?!!me.accessibility.filter(function(ye){return ye===q.accessibility})[0]:!me.accessibility.length}function Ue(q,me){return!q.audioChannelConfiguration||!!me.audioChannelConfiguration.filter(function(ye){return ye===q.audioChannelConfiguration})[0]}function _e(q){var ye,me=0,Ee=[];return q.forEach(function(Ne){(ye=Math.max.apply(Math,Ne.bitrateList.map(function(tt){return tt.bandwidth})))>me?(me=ye,Ee=[Ne]):ye===me&&Ee.push(Ne)}),Ee}function K(q){var ye,me=1/0,Ee=[];return q.forEach(function(Ne){var tt=Ne.bitrateList.reduce(function(qe,Xe){var ut=Math.max(1,Xe.width*Xe.height);return qe+Xe.bandwidth/ut},0);(ye=tt/Ne.bitrateList.length)<me?(me=ye,Ee=[Ne]):ye===me&&Ee.push(Ne)}),Ee}function oe(q){var ye,me=0,Ee=[];return q.forEach(function(Ne){(ye=Ne.representationCount)>me?(me=ye,Ee=[Ne]):ye===me&&Ee.push(Ne)}),Ee}function pe(q,me){if(q===n.default.TEXT)return me[0];var ye,Ee=R.get().streaming.selectionModeForInitialTrack,Ne=C.getCustomInitialTrackSelectionFunction();if(Ne&&"function"==typeof Ne)ye=Ne(me);else switch(Ee){case n.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ye=function re(q){var me=function be(q){var me=0,Ee=[];return q.forEach(function(ye){isNaN(ye.selectionPriority)||(ye.selectionPriority>me?(me=ye.selectionPriority,Ee=[ye]):ye.selectionPriority===me&&Ee.push(ye))}),Ee}(q);return me.length>1&&(me=_e(me)),me.length>1&&(me=oe(me)),me}(me);break;case n.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ye=function Q(q){var me=_e(q);return me.length>1&&(me=oe(me)),me}(me);break;case n.default.TRACK_SELECTION_MODE_FIRST_TRACK:ye=X(me);break;case n.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ye=function $(q){var me=K(q);return me.length>1&&(me=_e(me)),me}(me);break;case n.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ye=function ne(q){var me=oe(q);return me.length>1&&(me=_e(q)),me}(me);break;default:B.warn("Track selection mode ".concat(Ee," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ye=X(me)}return ye.length>0?ye[0]:me[0]}function X(q){return q[0]}return P={setInitialMediaSettingsForType:function G(q,me){var Ee=T[q]||Y(q),ye=ee(q,me.id),Ne=[];Ee||le(q,Ee=O.getSavedMediaSettings(q)),ye&&0!==ye.length&&(Ee&&(Ne=Ce(Ne=Array.from(ye),Le,Ee),Ne=Ce(Ne,fe,Ee),Ne=Ce(Ne,we,Ee),q===n.default.AUDIO&&T[q]||(Ne=Ce(Ne,Te,Ee)),Ne=Ce(Ne,De,Ee),Ne=Ce(Ne,Ue,Ee)),0===Ne.length?j(pe(q,ye),!0):j(Ne.length>1?pe(q,Ne):Ne[0]))},addTrack:function Z(q){if(q){var me=q.type;if(function de(q){return q===n.default.AUDIO||q===n.default.VIDEO||q===n.default.TEXT||q===n.default.IMAGE}(me)){var Ee=q.streamInfo.id;F[Ee]||(F[Ee]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ye=F[Ee][me].list,Ne=0,tt=ye.length;Ne<tt;++Ne)if(Se(ye[Ne],q))return;ye.push(q)}}},getTracksFor:ee,getCurrentTrackFor:ae,isCurrentTrack:function Ae(q){if(!q)return!1;var me=q.type,Ee=q.streamInfo.id;return F[Ee]&&F[Ee][me]&&Se(F[Ee][me].current,q)},setTrack:j,selectInitialTrack:pe,setInitialSettings:le,getInitialSettings:Y,getTracksWithHighestBitrate:_e,getTracksWithHighestEfficiency:K,getTracksWithWidestRange:oe,isTracksEqual:Se,matchSettings:function lt(q,me){var Ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ye=!1;if(q.lang){if(q.lang instanceof RegExp)ye=me.lang.match(q.lang);else if(""!==me.lang){var Ne=g()(q.lang);Ne&&(ye=Object(o.extendedFilter)(me.lang,Ne).length>0)}}else ye=!0;var tt=null==q.index||me.index===q.index,qe=!q.viewpoint||q.viewpoint===me.viewpoint,Xe=!q.role||!!me.roles.filter(function(ht){return ht===q.role})[0],ut=!q.accessibility||!!me.accessibility.filter(function(ht){return ht===q.accessibility})[0],ze=!q.audioChannelConfiguration||!!me.audioChannelConfiguration.filter(function(ht){return ht===q.audioChannelConfiguration})[0];return ye&&tt&&qe&&(Xe||me.type===n.default.AUDIO&&Ee)&&ut&&ze}catch(ht){return!1}},matchSettingsLang:Le,matchSettingsIndex:fe,matchSettingsViewPoint:we,matchSettingsRole:Te,matchSettingsAccessibility:De,matchSettingsAudioChannelConfig:Ue,saveTextSettingsDisabled:function ve(){O.setSavedMediaSettings(n.default.TEXT,null)},setConfig:function xe(q){q&&(q.domStorage&&(O=q.domStorage),q.settings&&(R=q.settings),q.customParametersModel&&(C=q.customParametersModel))},reset:Ge},function M(){B=Object(I.default)(y).getInstance().getLogger(P),Ge()}(),P}u.__dashjs_factory_name="MediaController";var m=_.default.getSingletonFactory(u);_.default.updateSingletonFactory(u.__dashjs_factory_name,m),v.default=m},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(){var _,I,w,g=this.context;return _={createMediaSource:function d(){var F="WebKitMediaSource"in window;return"MediaSource"in window?I=new MediaSource:F&&(I=new WebKitMediaSource),I},attachMediaSource:function u(F){var R=window.URL.createObjectURL(I);return F.setSource(R),R},detachMediaSource:function m(F){F.setSource(null)},setDuration:function y(F){!I||"open"!==I.readyState||null===F&&isNaN(F)||I.duration!==F&&(function B(F){for(var R=F.sourceBuffers,D=0;D<R.length;D++)if(R[D].updating)return!0;return!1}(I)?setTimeout(y.bind(null,F),50):(w.info("Set MediaSource duration:"+F),I.duration=F))},setSeekable:function k(F,R){I&&"function"==typeof I.setLiveSeekableRange&&"function"==typeof I.clearLiveSeekableRange&&"open"===I.readyState&&F>=0&&F<R&&(I.clearLiveSeekableRange(),I.setLiveSeekableRange(F,R))},signalEndOfStream:function P(F){if(F&&"open"===F.readyState){for(var R=F.sourceBuffers,D=0;D<R.length;D++)if(R[D].updating||0===R[D].buffered.length)return;w.info("call to mediaSource endOfStream"),F.endOfStream()}}},function o(){w=Object(E.default)(g).getInstance().getLogger(_)}(),_}A.__dashjs_factory_name="MediaSourceController",v.default=n.default.getSingletonFactory(A)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),g=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function d(){var y,k,P,B,F,R,D,T,C,O,M,G,Z,ee,ae,Ae,le,Y,ve,de,Se,xe,Ge,u=this.context,m=Object(E.default)(u).getInstance();function Ce(){lt(),ee=!1,O=0,M=0,Ae=0,Se=!1,le=!1,xe=!1,Y=NaN,D&&(m.off(A.default.DATA_UPDATE_COMPLETED,Ve,y),m.off(A.default.LOADING_PROGRESS,Fn,y),m.off(A.default.MANIFEST_UPDATED,on,y),m.off(A.default.STREAMS_COMPOSED,ln,y),m.off(w.default.PLAYBACK_ENDED,Qt,y),m.off(w.default.STREAM_INITIALIZING,dn,y),m.off(w.default.REPRESENTATION_SWITCH,an,y),m.off(w.default.BUFFER_LEVEL_STATE_CHANGED,zt,y),ce(),function hn(){D.removeEventListener("canplay",yt),D.removeEventListener("canplaythrough",Bt),D.removeEventListener("play",Yt),D.removeEventListener("waiting",cn),D.removeEventListener("playing",nn),D.removeEventListener("pause",Mt),D.removeEventListener("error",fn),D.removeEventListener("seeking",gt),D.removeEventListener("seeked",Qe),D.removeEventListener("timeupdate",Fe),D.removeEventListener("progress",ke),D.removeEventListener("ratechange",it),D.removeEventListener("loadedmetadata",ot),D.removeEventListener("loadeddata",ft),D.removeEventListener("stalled",Kn),D.removeEventListener("ended",mt),D.removeEventListener("volumechange",Et)}()),C=null,D=null,G=null,Z=null}function Te(){return parseFloat((De(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-pe()).toFixed(5))}function De(Ze){var bt=Ze||G;return bt.start+bt.duration}function Ue(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];G&&D&&D.getElement()?(Ze&&Z&&oe(pe()),D.play()):ee=!0}function lt(){G&&D&&D.pause()}function He(Ze){var bt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Kt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ot=arguments.length>3&&void 0!==arguments[3]&&arguments[3];G&&D&&Ze!==(isNaN(Y)?D.getTime():Y)&&((ve=!0===Kt)||(Y=Ze),k.info("Requesting seek to time: "+Ze+(ve?" (internal)":"")),Z&&Ot&&oe(Ze),D.setCurrentTime(Ze,bt))}function K(){if(G&&D&&Z){var Ze=P&&P.hasVideoTrack()?n.default.VIDEO:n.default.AUDIO,bt=F.getCurrentDVRInfo(Ze);return bt&&bt.range?bt.range.end:0}}function oe(Ze){var bt=new Date(T.getClientReferenceTime()),Kt=R.getRegularPeriods()[0],Ot=T.calcPresentationTimeFromWallTime(bt,Kt);O=Ot-Ze}function pe(){return G&&D?D.getTime():null}function re(){return G&&D?D.isPaused():null}function Q(){return G&&D?D.isSeeking():null}function X(){return G&&D?D.isStalled():null}function $(){return G&&D?D.getPlaybackRate():null}function J(){return G&&D?D.getEnded():null}function q(){return Z}function ze(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!re()&&Z&&0!==D.getReadyState()&&!Q()&&!Se){Ze||(Ze=P.hasVideoTrack()?n.default.VIDEO:n.default.AUDIO);var bt=pe(),Kt=function ht(Ze,bt){var Kt=F.getCurrentDVRInfo(bt),Ot=Kt?Kt.range:null;return Ot?Ze>Ot.end?Math.max(Ot.end-O,Ot.start):Ze>0&&Ze+.25<Ot.start&&Math.abs(Ze-Ot.start)<31536e4?le?Math.max(Ot.end-O,Ot.start):Ot.start:Ze:NaN}(bt,Ze);!isNaN(Kt)&&Kt!==bt&&!Q()&&(X()||de||1===D.getReadyState())&&(k.debug("UpdateCurrentTime: Seek to actual time: ".concat(Kt," from currentTime: ").concat(bt)),He(Kt,!1,!1))}}function vt(){null===C&&(C=setInterval(function(){!function Jt(){m.trigger(A.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Z,time:new Date}),q()&&(P.addDVRMetric(),re()?function pn(){var Ze=Date.now();(!ae||Ze>ae+500)&&(ae=Ze,Fe())}():ze())}()},Ge.get().streaming.wallclockTimeUpdateInterval))}function ce(){clearInterval(C),C=null}function Ve(Ze){var bt=R.convertRepresentationToRepresentationInfo(Ze.currentRepresentation),Kt=bt?bt.mediaInfo.streamInfo:null;null===Kt||G.id!==Kt.id||(G=Kt)}function yt(){m.trigger(A.default.CAN_PLAY)}function Bt(){m.trigger(A.default.CAN_PLAY_THROUGH)}function zt(Ze){Ze.streamId===P.getActiveStreamInfo().id&&(de=Ze.state===g.default.BUFFER_EMPTY,Ge.get().streaming.buffer.setStallState&&D.setStallState(Ze.mediaType,Ze.state===g.default.BUFFER_EMPTY))}function Yt(){k.info("Native video element event: play"),ze(),vt(),m.trigger(A.default.PLAYBACK_STARTED,{startTime:pe()})}function cn(){k.info("Native video element event: waiting"),m.trigger(A.default.PLAYBACK_WAITING,{playingTime:pe()})}function nn(){k.info("Native video element event: playing"),ve=!1,m.trigger(A.default.PLAYBACK_PLAYING,{playingTime:pe()})}function Mt(){k.info("Native video element event: pause"),m.trigger(A.default.PLAYBACK_PAUSED,{ended:J()})}function gt(){if(!ve){var Ze=pe();!isNaN(Y)&&Y!==Ze&&(Ze=Y),Y=NaN,k.info("Seeking to: "+Ze),vt(),m.trigger(A.default.PLAYBACK_SEEKING,{seekTime:Ze,streamId:G.id})}}function Qe(){k.info("Native video element event: seeked"),ve=!1,m.trigger(A.default.PLAYBACK_SEEKED)}function Fe(){G&&m.trigger(A.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Te(),time:pe(),streamId:G.id})}function ke(){m.trigger(A.default.PLAYBACK_PROGRESS,{streamId:G.id})}function it(){var Ze=$();k.info("Native video element event: ratechange: ",Ze),m.trigger(A.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ze})}function ot(){k.info("Native video element event: loadedmetadata"),m.trigger(A.default.PLAYBACK_METADATA_LOADED),vt()}function ft(){k.info("Native video element event: loadeddata"),m.trigger(A.default.PLAYBACK_LOADED_DATA)}function mt(){k.info("Native video element event: ended"),lt(),ce();var Ze=P?P.getActiveStreamInfo():null;Ze&&m.trigger(A.default.PLAYBACK_ENDED,{isLast:Ze.isLast})}function Et(){m.trigger(A.default.PLAYBACK_VOLUME_CHANGED)}function Qt(Ze){if(C&&Ze.isLast){k.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var bt=Ze.seekTime?Ze.seekTime:De();D.setCurrentTime(bt),lt(),ce()}}function fn(Ze){m.trigger(A.default.PLAYBACK_ERROR,{error:(Ze.target||Ze.srcElement).error})}function Fn(Ze){if(!1===Ze.stream&&le&&!isNaN(Ze.request.duration)){var bt=1.2*Ze.request.duration;bt>O&&(k.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",bt.toFixed(2)),O=bt,M=bt)}}function Kn(Ze){m.trigger(A.default.PLAYBACK_STALLED,{e:Ze})}function dn(Ze){!function Tt(Ze){Ze&&Ze.supplementalProperties&&"true"===Ze.supplementalProperties[n.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(k.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),le=!0)}(Ze.mediaInfo)}function an(Ze){var bt=P.getActiveStreamInfo();!Ze||!bt||!Ze.currentRepresentation||!Ze.streamId||Ze.streamId!==bt.id||!Ze.mediaType||Ze.mediaType!==n.default.VIDEO&&Ze.mediaType!==n.default.AUDIO||(le=!Ze.currentRepresentation.availabilityTimeComplete)&&!xe&&(xe=!0)}function on(){Se=!0}function ln(){Se=!1}return y={initialize:function Le(Ze,bt){G=Ze,!0!==bt&&function fe(){(function ct(){D.addEventListener("canplay",yt),D.addEventListener("canplaythrough",Bt),D.addEventListener("play",Yt),D.addEventListener("waiting",cn),D.addEventListener("playing",nn),D.addEventListener("pause",Mt),D.addEventListener("error",fn),D.addEventListener("seeking",gt),D.addEventListener("seeked",Qe),D.addEventListener("timeupdate",Fe),D.addEventListener("progress",ke),D.addEventListener("ratechange",it),D.addEventListener("loadedmetadata",ot),D.addEventListener("loadeddata",ft),D.addEventListener("stalled",Kn),D.addEventListener("ended",mt),D.addEventListener("volumechange",Et)})(),Z=G.manifestInfo.isDynamic,de=!1,ve=!1,m.on(A.default.DATA_UPDATE_COMPLETED,Ve,y),m.on(A.default.LOADING_PROGRESS,Fn,y),m.on(A.default.MANIFEST_UPDATED,on,y),m.on(A.default.STREAMS_COMPOSED,ln,y),m.on(w.default.PLAYBACK_ENDED,Qt,y,{priority:E.default.EVENT_PRIORITY_HIGH}),m.on(w.default.STREAM_INITIALIZING,dn,y),m.on(w.default.REPRESENTATION_SWITCH,an,y),m.on(w.default.BUFFER_LEVEL_STATE_CHANGED,zt,y),ee&&(ee=!1,Ue())}()},setConfig:function ut(Ze){Ze&&(Ze.streamController&&(P=Ze.streamController),Ze.serviceDescriptionController&&(B=Ze.serviceDescriptionController),Ze.dashMetrics&&(F=Ze.dashMetrics),Ze.adapter&&(R=Ze.adapter),Ze.videoModel&&(D=Ze.videoModel),Ze.timelineConverter&&(T=Ze.timelineConverter),Ze.settings&&(Ge=Ze.settings))},getTimeToStreamEnd:Te,getBufferLevel:function Tn(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,bt=null;return P.getActiveStreamProcessors().forEach(function(Kt){if(!Ze||0===Ze.length||-1===Ze.indexOf(Kt.getType())){var Ot=Kt.getBufferLevel();bt=null===bt?Ot:Math.min(bt,Ot)}}),bt},getPlaybackStalled:function we(){return de},getTime:pe,getLowLatencyModeEnabled:function Dn(){return le},getInitialCatchupModeActivated:function un(){return xe},getIsManifestUpdateInProgress:function Ee(){return Se},getPlaybackRate:$,getPlayedRanges:function ne(){return G&&D?D.getPlayedRanges():null},getEnded:J,getIsDynamic:q,getStreamController:function me(){return P},computeAndSetLiveDelay:function Xe(Ze,bt){var Kt,Ot,yn,It=!isNaN(Ze)&&isFinite(Ze)?Ze:NaN,Zt=R.getSuggestedPresentationDelay(),gn=B.getServiceDescriptionSettings();return Kt=isNaN(Ge.get().streaming.delay.liveDelay)?null===Ge.get().streaming.delay.liveDelayFragmentCount||isNaN(Ge.get().streaming.delay.liveDelayFragmentCount)||isNaN(It)?gn&&!isNaN(gn.liveDelay)&&gn.liveDelay>0?gn.liveDelay:!0===Ge.get().streaming.delay.useSuggestedPresentationDelay&&null!==Zt&&!isNaN(Zt)&&Zt>0?Zt:isNaN(It)?bt&&!isNaN(bt.minBufferTime)?4*bt.minBufferTime:4*G.manifestInfo.minBufferTime:4*It:It*Ge.get().streaming.delay.liveDelayFragmentCount:Ge.get().streaming.delay.liveDelay,null!==(yn=R.getAvailabilityStartTime())&&(Ae=yn),Ot=bt&&bt.dvrWindowSize>0?Math.min(Kt,bt.dvrWindowSize):Kt,O=Ot,M=Ot,Ot},getLiveDelay:function Ne(){return O},getOriginalLiveDelay:function tt(){return M},getCurrentLiveLatency:function qe(){if(!Z||isNaN(Ae))return NaN;var Ze=pe();if(isNaN(Ze)||0===Ze)return 0;var bt=(new Date).getTime()+1e3*T.getClientTimeOffset();return Math.max(((bt-Ae-1e3*Ze)/1e3).toFixed(3),0)},play:Ue,isPaused:re,isStalled:X,pause:lt,isSeeking:Q,getStreamEndTime:De,seek:He,seekToOriginalLive:function be(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],bt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Kt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ot=K();0!==Ot&&He(Ot-(O=M),Ze,bt,Kt)},seekToCurrentLive:function _e(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],bt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Kt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ot=K();0!==Ot&&He(Ot-O,Ze,bt,Kt)},reset:Ce,updateCurrentTime:ze,getAvailabilityStartTime:function ye(){return Ae}},function ge(){k=Object(I.default)(u).getInstance().getLogger(y),Ce()}(),y}d.__dashjs_factory_name="PlaybackController",v.default=_.default.getSingletonFactory(d)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),o=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function d(u){u=u||{};var M,G,Z,ee,ae,Ae,j,le,Y,ve,de,Se,xe,m=this.context,y=Object(A.default)(m).getInstance(),k=u.dashMetrics,P=u.mediaPlayerModel,B=u.fragmentModel,F=u.abrController,R=u.playbackController,D=u.textController,T=u.type,C=u.bufferController,O=u.settings;function we(ht){if(!C.getIsBufferingCompleted()){Te();var vt=isNaN(ht)?0:ht;Ae=setTimeout(Ue,vt)}}function Te(){Ae&&(clearTimeout(Ae),Ae=null)}function Ue(){try{if(function He(){try{return T===n.default.TEXT&&!D.isTextEnabled()||R.isPaused()&&(!R.getStreamController().getInitialPlayback()||!R.getStreamController().getAutoPlay())&&!O.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Te();if(function be(){try{return ee&&(isNaN(ve)||de||function De(){var vt=F.getMaxAllowedIndexFor(T,G.id);return!(!isNaN(Y)&&Y==vt||(Z.info("Top quality "+T+" index has changed from "+Y+" to "+vt),Y=vt,0))}()||function _e(){return!T||!ee||k.getCurrentBufferLevel(T)<K()}())}catch{return!1}}()){var ht=!1;xe&&(ht=F.checkPlaybackQuality(T,G.id)),ht||function lt(){Se||ee.quality!==ve||de?(de?(Z.debug("Switch track for "+T+", representation id = "+ee.id),de=!1):Z.debug("Quality has changed, get init request for representationid = "+ee.id),y.trigger(_.default.INIT_FRAGMENT_NEEDED,{representationId:ee.id,sender:M},{streamId:G.id,mediaType:T}),xe=!1,Se=!1):(Z.debug("Media segment needed for ".concat(T," and stream id ").concat(G.id)),y.trigger(_.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:G.id,mediaType:T}),xe=!0)}()}else we(R.getLowLatencyModeEnabled()?O.get().streaming.scheduling.lowLatencyTimeout:O.get().streaming.scheduling.defaultTimeout)}catch{we(R.getLowLatencyModeEnabled()?O.get().streaming.scheduling.lowLatencyTimeout:O.get().streaming.scheduling.defaultTimeout)}}function K(){var ht=NaN;return!T||!ee||(ht=T===n.default.TEXT?function oe(){try{if(D.isTextEnabled()){if(isNaN(ee.fragmentDuration)){var ht=k.getCurrentSchedulingInfo(g.default.SCHEDULING_INFO);return ht?ht.duration:0}return ee.fragmentDuration}return 0}catch{return 0}}():T===n.default.AUDIO&&j?function pe(){try{var ht=k.getCurrentBufferLevel(n.default.VIDEO);return isNaN(ee.fragmentDuration)?ht+1:Math.max(ht+1,ee.fragmentDuration)}catch{return 0}}():function re(){try{var ht=ee.mediaInfo.streamInfo;return F.isPlayingAtTopQuality(ht)?ht.manifestInfo.duration>=O.get().streaming.buffer.longFormContentDurationThreshold?O.get().streaming.buffer.bufferTimeAtTopQualityLongForm:O.get().streaming.buffer.bufferTimeAtTopQuality:P.getStableBufferTime()}catch{return P.getStableBufferTime()}}()),ht}function $(){ne(!0)}function ne(ht){if(R&&B){var vt=B.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:R.getTime(),threshold:0})[0];vt&&R.getTime()>=vt.startTime&&((!le.mediaInfo||vt.mediaInfo.type===le.mediaInfo.type&&vt.mediaInfo.id!==le.mediaInfo.id)&&ht&&y.trigger(_.default.TRACK_CHANGE_RENDERED,{mediaType:T,oldMediaInfo:le.mediaInfo,newMediaInfo:vt.mediaInfo,streamId:G.id}),(vt.quality!==le.quality||vt.adaptationIndex!==le.adaptationIndex)&&ht&&(Z.debug("Quality change rendered for streamId ".concat(G.id," and type ").concat(T)),y.trigger(_.default.QUALITY_CHANGE_RENDERED,{mediaType:T,oldQuality:le.quality,newQuality:vt.quality,streamId:G.id})),le={mediaInfo:vt.mediaInfo,quality:vt.quality,adaptationIndex:vt.adaptationIndex})}}function J(ht){Z.debug("Appended bytes for ".concat(ht.mediaType," and stream id ").concat(G.id)),(isNaN(ht.index)||isNaN(ve))&&(ve=ht.quality,Z.info("["+T+"] lastInitializedRepresentationInfo changed to "+ht.quality)),we(0)}function q(){B.abortRequests(),Te()}function me(){O.get().streaming.scheduling.scheduleWhilePaused||we()}function Ee(ht){k.updatePlayListTraceMetrics({playbackspeed:ht.playbackRate.toString()})}function Xe(){xe=!0,ae=0,ve=NaN,le={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},Y=NaN,de=!1,Se=!1}return M={initialize:function ge(ht){j=ht,y.on(_.default.BYTES_APPENDED_END_FRAGMENT,J,M),y.on(_.default.URL_RESOLUTION_FAILED,q,M),y.on(o.default.PLAYBACK_STARTED,me,M),y.on(o.default.PLAYBACK_RATE_CHANGED,Ee,M),y.on(o.default.PLAYBACK_TIME_UPDATED,$,M)},getType:function Ce(){return T},getStreamId:function Le(){return G.id},setCurrentRepresentation:function fe(ht){ee=ht},setTimeToLoadDelay:function ye(ht){ae=ht},getTimeToLoadDelay:function Ne(){return ae},setSwitchTrack:function Q(ht){de=ht},getSwitchStrack:function X(){return de},startScheduleTimer:we,clearScheduleTimer:Te,reset:function ut(){y.off(_.default.BYTES_APPENDED_END_FRAGMENT,J,M),y.off(_.default.URL_RESOLUTION_FAILED,q,M),y.off(o.default.PLAYBACK_STARTED,me,M),y.off(o.default.PLAYBACK_RATE_CHANGED,Ee,M),y.off(o.default.PLAYBACK_TIME_UPDATED,$,M),Te(),ne(!1),Xe(),G=null},getBufferTarget:K,getPlaybackController:function ze(){return R},setCheckPlaybackQuality:function tt(ht){xe=ht},setInitSegmentRequired:function qe(ht){Se=ht}},function Ge(){Z=Object(w.default)(m).getInstance().getLogger(M),Xe(),G=u.streamInfo}(),M}d.__dashjs_factory_name="ScheduleController",v.default=I.default.getClassFactory(d)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=e(
/*! ../Stream */
"./src/streaming/Stream.js"),_=e(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),I=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),o=e(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),d=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),u=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),m=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),y=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),k=e(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),P=e(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),B=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),R=e(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),D=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function T(j){return function G(j){if(Array.isArray(j))return Z(j)}(j)||function M(j){if(typeof Symbol<"u"&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||function O(j,le){if(j){if("string"==typeof j)return Z(j,le);var Y=Object.prototype.toString.call(j).slice(8,-1);if("Object"===Y&&j.constructor&&(Y=j.constructor.name),"Map"===Y||"Set"===Y)return Array.from(j);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return Z(j,le)}}(j)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(j,le){(null==le||le>j.length)&&(le=j.length);for(var Y=0,ve=new Array(le);Y<le;Y++)ve[Y]=j[Y];return ve}function Ae(){var Y,ve,de,Se,xe,Ge,ge,Ce,Le,fe,we,Te,De,Ue,lt,He,be,_e,K,oe,pe,re,Q,X,$,ne,J,q,me,Ee,ye,Ne,tt,qe,Xe,ut,ze,ht,vt,ce,Ve,yt,Bt,zt,Yt,cn,nn,Mt,gt,j=this.context,le=Object(I.default)(j).getInstance();function ot(){if(!(Ge&&Ge.hasOwnProperty("load")&&re&&re.hasOwnProperty("initialize")&&re.hasOwnProperty("reset")&&re.hasOwnProperty("getClientTimeOffset")&&ge&&pe&&Le&&qe))throw new Error(n.default.MISSING_CONFIG_ERROR)}function Qt(){!function Jt(){try{var _n=Ce.getStreamsInfo();if(!X&&0===_n.length)throw new Error("There are no periods in the MPD");X&&_n.length>0&&Le.updateManifestUpdateInfo({currentTime:qe.getTime(),buffered:tt.getBufferRange(),presentationStartTime:_n[0].start,clientTimeOffset:re.getClientTimeOffset()}),Q.length>0&&function Po(_n){0!==_n.length?Q=Q.filter(function(Vn){var Qn=_n.filter(function(Ri){return Ri.id===Vn.getId()}).length>0||Vn.getId()===X.getId();return Qn||(ve.debug("Removing stream ".concat(Vn.getId())),Vn.reset(!0)),Qn}):ve.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(_n);for(var Vn=[],ri=0,Qn=_n.length;ri<Qn;ri++){var Ri=_n[ri];Vn.push(pn(Ri)),Le.addManifestUpdateStreamInfo(Ri)}Promise.all(Vn).then(function(){return Yt.get().streaming.applyContentSteering&&!X&&Te.shouldQueryBeforeStart()?Te.loadSteeringData():Promise.resolve()}).then(function(){X||Tn(_n),le.trigger(w.default.STREAMS_COMPOSED),gn()}).catch(function(Ki){throw Ki})}catch(Ki){pe.error(new B.default(F.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ki.message+" nostreamscomposed",ge.getValue())),ye=!0,bo()}}()}function fn(){cn=!0}function pn(_n){var Vn=mr(_n.id);return Vn?Vn.updateData(_n):(Vn=Object(A.default)(j).create({manifestModel:ge,mediaPlayerModel:ut,dashMetrics:Le,manifestUpdater:xe,adapter:Ce,timelineConverter:re,capabilities:de,capabilitiesFilter:Se,errHandler:pe,baseURLController:De,segmentBaseController:Ue,textController:ne,abrController:He,playbackController:qe,eventController:_e,mediaController:be,protectionController:$,videoModel:tt,streamInfo:_n,settings:Yt}),Q.push(Vn),Vn.initialize(),Promise.resolve())}function Tn(_n){bt();var Vn=Le.getCurrentDVRInfo().range;if(Vn.end<Vn.start){nn&&clearTimeout(nn);var ri=Math.min(1e3*(-1*(Vn.end-Vn.start)+2),2147483647);return ve.debug("Waiting for ".concat(ri," ms before playback can start")),le.trigger(w.default.AST_IN_FUTURE,{delay:ri}),void(nn=setTimeout(function(){Tn(_n)},ri))}Yt.get().streaming.applyProducerReferenceTime&&Xe.calculateProducerReferenceTimeOffsets(_n);var Qn=_n[0].manifestInfo;if(Yt.get().streaming.applyServiceDescription&&Xe.applyServiceDescription(Qn),Ce.getIsDynamic()){var Ri=_o(_n,Qn);qe.computeAndSetLiveDelay(Ri,Qn)}var Ki=function Hr(){var _n;if(Ce.getIsDynamic()){var ri=Le.getCurrentDVRInfo();_n=(ri&&ri.range?ri.range.end:0)-qe.getOriginalLiveDelay();var Ri=ri?ri.range:null;if(Ri){if(isNaN(Mt)&&-1===Mt.toString().indexOf("posix:")){var Ui=Ir(!0);isNaN(Ui)||(ve.info("Start time from URI parameters: ".concat(Ui)),_n=Math.min(_n,Ui))}else{ve.info("Start time provided by the app: ".concat(Mt));var Ki=Er(!0,Mt);isNaN(Ki)||(_n=Math.min(_n,Ki))}var ki=Yt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;_n=Math.max(_n,Ri.start+ki)}}else if(_n=so()[0].getStreamInfo().start,isNaN(Mt)){var Ao=Ir(!1);isNaN(Ao)||(ve.info("Start time from URI parameters: ".concat(Ao)),_n=Math.max(_n,Ao))}else{ve.info("Start time provided by the app: ".concat(Mt));var Mo=Er(!1,Mt);isNaN(Mo)||(_n=Math.max(_n,Mo))}return _n}(),Ui=Ze(Ki),ki=null!==Ui?Ui:Q[0];le.trigger(w.default.INITIAL_STREAM_SWITCH,{startTime:Ki}),Dn(ki,null,Ki),function Ln(){Ve||(Ve=setInterval(function(){!me&&qe.getTimeToStreamEnd()<=0&&!qe.isSeeking()&&le.trigger(w.default.PLAYBACK_ENDED,{isLast:Xr().isLast})},200))}()}function Dn(_n,Vn,ri){try{if(me||!_n||Vn===_n&&_n.getIsActive())return;me=!0,le.trigger(w.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Vn?Vn.getStreamInfo():null,toStreamInfo:_n.getStreamInfo()});var Qn=!1;X=_n,Vn&&(Qn=ct(_n,Vn),Vn.deactivate(Qn)),ri=isNaN(ri)?!Qn&&Vn?_n.getStreamInfo().start:NaN:ri,ve.info("Switch to stream ".concat(_n.getId(),". Seektime is ").concat(ri,", current playback time is ").concat(qe.getTime(),". Seamless period switch is set to ").concat(Qn)),Bt=Bt.filter(function(Ri){return Ri.getId()!==X.getId()}),qe.initialize(Xr(),!!Vn),tt.getElement()&&Fn(ri,Qn)}catch{me=!1}}function Fn(_n,Vn){var ri;function Qn(){if(Ne&&"open"===Ne.readyState){ve.debug("MediaSource is open!"),window.URL.revokeObjectURL(ri),Ne.removeEventListener("sourceopen",Qn),Ne.removeEventListener("webkitsourceopen",Qn),Xt();var Ki=Le.getCurrentDVRInfo();fe.setSeekable(Ki.range.start,Ki.range.end),Kn(_n,Vn)}}function Ri(){Ne.addEventListener("sourceopen",Qn,!1),Ne.addEventListener("webkitsourceopen",Qn,!1),ri=fe.attachMediaSource(tt),ve.debug("MediaSource attached to element.  Waiting on open...")}Ne?Vn?Kn(_n,Vn):(fe.detachMediaSource(tt),Ri()):(Ne=fe.createMediaSource(),Ri())}function Kn(_n,Vn){X.activate(Ne,Vn?yt:void 0,_n).then(function(ri){if(ri){var Qn=Object.keys(ri);Qn.length>0&&ri[Qn[0]].getBuffer().changeType&&(zt=!0),yt=ri}isNaN(_n)||(le.trigger(w.default.SEEK_TARGET,{time:_n},{streamId:X.getId()}),qe.seek(_n,!1,!0),X.startScheduleControllers()),me=!1,le.trigger(w.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Xr()})})}function dn(_n){var ri=Ze(_n.seekTime);ri&&ri!==X?ri&&ri!==X&&(an(),function ln(_n,Vn){var ri=_n&&!isNaN(_n.seekTime)?_n.seekTime:NaN,Ri=X.getProcessors().map(function(Ki){return Ki.prepareOuterPeriodPlaybackSeeking(_n)});Promise.all(Ri).then(function(){Dn(Vn,X,ri)}).catch(function(Ki){pe.error(Ki)})}(_n,ri)):(an(),function on(_n){X.getProcessors().forEach(function(ri){return ri.prepareInnerPeriodPlaybackSeeking(_n)}),ho(o.PlayListTrace.USER_REQUEST_STOP_REASON)}(_n)),br(o.PlayList.SEEK_START_REASON)}function an(){un()}function un(){Bt&&Bt.length>0&&(Bt.forEach(function(_n){_n.deactivate(!0)}),Bt=[])}function Tt(_n){_n.newMediaInfo.streamInfo.id===X.getId()&&(un(),X.prepareTrackChange(_n))}function ct(_n,Vn){try{return Yt.get().streaming.buffer.reuseExistingSourceBuffers&&(Vn.isProtectionCompatible(_n)||cn)&&(zt||Vn.isMediaCodecCompatible(_n,Vn))}catch{return!1}}function hn(_n){var Vn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ne&&!_n.getPreloaded()&&ct(_n,Vn)&&_n.startPreloading(Ne,yt).then(function(){Bt.push(_n)})}function Ze(_n){if(isNaN(_n))return null;for(var Vn=Q.length,ri=0;ri<Vn;ri++){var Qn=Q[ri];if(_n<parseFloat((Qn.getStartTime()+Qn.getDuration()).toFixed(5)))return Qn}return null}function bt(){try{var _n=Ce.getIsDynamic(),ri=Ce.getStreamsInfo()[0].manifestInfo,Qn=qe.getTime(),Ri=re.calcTimeShiftBufferWindow(Q,_n),Ki=Sn();if(typeof Ri.start>"u"||typeof Ri.end>"u")return;Ki&&0!==Ki.length?Ki.forEach(function(Ui){Le.addDVRInfo(Ui.getType(),Qn,ri,Ri)}):Le.addDVRInfo(n.default.VIDEO,Qn,ri,Ri)}catch{}}function Kt(_n){if(vt&&q){var Vn=ut.getInitialBufferLevel(),ri=[n.default.TEXT];(isNaN(Vn)||Vn<=qe.getBufferLevel(ri)||Ce.getIsDynamic()&&Vn>qe.getLiveDelay())&&(vt=!1,br(o.PlayList.INITIAL_PLAYOUT_START_REASON),qe.play())}_n&&_n.mediaType&&Le.addBufferLevel(_n.mediaType,new Date,1e3*_n.bufferLevel)}function Ot(_n){_n.streamInfo.id===X.getId()&&_n.reason&&_n.reason.forceReplace&&un(),mr(_n.streamInfo.id).prepareQualityChange(_n)}function yn(){if(Ce.getIsDynamic()&&0!==qe.getOriginalLiveDelay()&&X){var _n=Ce.getStreamsInfo();if(_n.length>0){var Vn=_n[0].manifestInfo,ri=_o(_n,Vn);qe.computeAndSetLiveDelay(ri,Vn)}}}function Rt(){if(Fi()){var _n=tt.getPlaybackQuality();_n&&Le.addDroppedFrames(_n)}}function St(){ve.debug("[onPlaybackStarted]"),!vt&&ht&&br(o.PlayList.RESUME_FROM_PAUSE_START_REASON),vt&&(vt=!1),ce&&(ce=!1,Yt.get().streaming.applyContentSteering&&!Te.shouldQueryBeforeStart()&&Te.loadSteeringData()),ht=!1}function It(_n){ve.debug("[onPlaybackPaused]"),_n.ended||(ht=!0,ho(o.PlayListTrace.USER_REQUEST_STOP_REASON))}function Zt(_n){ve.debug("Stream with id ".concat(_n.streamInfo.id," finished buffering")),Ne&&_n.streamInfo.isLast?(ve.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),fe.signalEndOfStream(Ne)):gn()}function gn(){if(X&&X.getHasFinishedBuffering())for(var _n=function Dt(){var _n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var Vn=_n||X||null;if(Vn){var ri=Vn.getStreamInfo();return Q.filter(function(Qn){var Ri=Qn.getStreamInfo();return Ri.start>ri.start&&ri.id!==Ri.id})}}catch{return[]}}(X),Vn=0;Vn<_n.length;){var ri=_n[Vn],Qn=0===Vn?X:_n[Vn-1];!ri.getPreloaded()&&Qn.getHasFinishedBuffering()&&Ne&&hn(ri,Qn),Vn+=1}}function Hn(){Ve&&(clearInterval(Ve),Ve=null)}function Sn(){return X?X.getProcessors():[]}function Ie(_n){if(X&&!X.getIsEndedEventSignaled()){X.setIsEndedEventSignaled(!0);var Vn=function Pt(){var Vn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||X||null;if(!Vn)return null;for(var ri=Vn.getStreamInfo(),Qn=ri.start,Ri=0,Ki=-1,Ui=NaN;Ri<Q.length;){var Tr=Q[Ri].getStreamInfo(),jr=Tr.start-Qn;jr>0&&(isNaN(Ui)||jr<Ui)&&ri.id!==Tr.id&&(Ui=jr,Ki=Ri),Ri+=1}return Ki>=0?Q[Ki]:null}();Vn?(ve.debug("StreamController onEnded, found next stream with id ".concat(Vn.getStreamInfo().id,". Switching from ").concat(X.getStreamInfo().id," to ").concat(Vn.getStreamInfo().id)),Dn(Vn,X,NaN)):(ve.debug("StreamController no next stream found"),X.setIsEndedEventSignaled(!1)),ho(Vn?o.PlayListTrace.END_OF_PERIOD_STOP_REASON:o.PlayListTrace.END_OF_CONTENT_STOP_REASON)}_n&&_n.isLast&&(Hn(),Te.stopSteeringRequestTimer())}function Xt(_n){var Vn=_n||Xr().manifestInfo.duration;fe.setDuration(Vn)}function Ir(_n){var Vn=lt.getURIFragmentData();if(!Vn||!Vn.t)return NaN;var Qn=so()[0].getStreamInfo().start;return Vn.t=Vn.t.split(",")[0],Do(_n,Vn.t,Qn)}function Er(_n,Vn){var ri=0;return _n||(ri=so()[0].getStreamInfo().start),Do(_n,Vn,ri)}function Do(_n,Vn,ri){var Qn=Ce.getRegularPeriods()[0],Ri=Vn.toString(),Ki=-1!==Ri.indexOf("posix:")?"now"===Ri.substring(6)?Date.now()/1e3:parseFloat(Ri.substring(6)):NaN;return _n&&!isNaN(Ki)?re.calcPresentationTimeFromWallTime(new Date(1e3*Ki),Qn):parseFloat(Ri)+ri}function _o(_n,Vn){try{var ri=NaN;if(Vn&&!isNaN(Vn.maxFragmentDuration)&&isFinite(Vn.maxFragmentDuration))return Vn.maxFragmentDuration;if(_n&&1===_n.length){var Qn=_n[0],Ki=[n.default.VIDEO,n.default.AUDIO,n.default.TEXT].reduce(function(Ui,ki){var Tr=Ce.getMediaInfoForType(Qn,ki);return Tr&&!1!==Tr.isFragmented&&Ui.push(Tr),Ui},[]).reduce(function(Ui,ki){var Tr=Ce.getVoRepresentations(ki);return Tr&&Tr.length>0&&Tr.forEach(function(jr){jr&&Ui.push(jr)}),Ui},[]).reduce(function(Ui,ki){var Tr=Ce.convertRepresentationToRepresentationInfo(ki);return Tr&&Tr.fragmentDuration&&!isNaN(Tr.fragmentDuration)&&Ui.push(Tr.fragmentDuration),Ui},[]);ri=Math.max.apply(Math,T(Ki))}return isFinite(ri)?ri:NaN}catch{return NaN}}function qo(_n){if(_n.error)ye=!0,bo();else{ve.info("Manifest updated... updating data system wide.");var Vn=_n.manifest;Ce.updatePeriods(Vn);var ri=Ce.getUTCTimingSources();Ce.getIsDynamic()&&(!ri||0===ri.length)&&le.trigger(y.default.CONFORMANCE_VIOLATION,{level:D.default.LEVELS.WARNING,event:D.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Qn=Ce.getIsDynamic()?ri.concat(ze.getUTCTimingSources()):ri,Ri=oe.isHTTPS(_n.manifest.url);Qn.forEach(function(Ki){Ki.value.replace(/.*?:\/\//g,"")===Yt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Ki.value=Ki.value.replace(Ri?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Ri?"https://":"http://"),ve.debug("Matching default timing source protocol to manifest protocol: ",Ki.value))}),Se.filterUnsupportedFeatures(Vn).then(function(){De.initialize(Vn),we.attemptSync(Qn,Ce.getIsDynamic())})}}function Fi(){return!!X&&X.getHasVideoTrack()}function Ii(){return!!X&&X.getHasAudioTrack()}function ho(_n,Vn){Vn=Vn||new Date,Sn().forEach(function(ri){ri.finalisePlayList(Vn,_n)}),Le.addPlayList()}function br(_n){Le.createPlaylistMetrics(1e3*qe.getTime(),_n)}function ls(_n){if(_n.error){var Vn="";switch(_n.error.code){case 1:Vn="MEDIA_ERR_ABORTED";break;case 2:Vn="MEDIA_ERR_NETWORK";break;case 3:Vn="MEDIA_ERR_DECODE",gt.counts.mediaErrorDecode+=1;break;case 4:Vn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Vn="MEDIA_ERR_ENCRYPTED";break;default:Vn="UNKNOWN"}if("MEDIA_ERR_DECODE"===Vn&&Yt.get().errors.recoverAttempts.mediaErrorDecode>=gt.counts.mediaErrorDecode)return void function Ro(){ve.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var _n=qe.getTime();X.deactivate(!1),ve.warn("MediaSource has been resetted. Resuming playback from time ".concat(_n)),Fn(_n,!1)}();Ee=!0,_n.error.message&&(Vn+=" ("+_n.error.message+")"),_n.error.msExtendedCode&&(Vn+=" (0x"+(_n.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),ve.fatal("Video Element Error: "+Vn),_n.error&&ve.fatal(_n.error),pe.error(new B.default(_n.error.code,Vn)),bo()}}function Xr(){return X?X.getStreamInfo():null}function mr(_n){for(var Vn=0,ri=Q.length;Vn<ri;Vn++)if(Q[Vn].getId()===_n)return Q[Vn];return null}function pi(_n){isNaN(_n.newDuration)||Xt(_n.newDuration)}function Ur(){Q=[],Mt=NaN,$=null,me=!1,X=null,Ee=!1,ye=!1,vt=!0,ce=!0,ht=!1,q=!0,Ve=null,cn=!1,zt=!1,Bt=[],nn=null,gt={counts:{mediaErrorDecode:0}}}function bo(){ot(),we.reset(),ho(Ee||ye?o.PlayListTrace.FAILURE_STOP_REASON:o.PlayListTrace.USER_REQUEST_STOP_REASON);for(var _n=0,Vn=Q?Q.length:0;_n<Vn;_n++)Q[_n].reset(Ee);(function it(){le.off(y.default.PLAYBACK_TIME_UPDATED,Rt,Y),le.off(y.default.PLAYBACK_SEEKING,dn,Y),le.off(y.default.PLAYBACK_ERROR,ls,Y),le.off(y.default.PLAYBACK_STARTED,St,Y),le.off(y.default.PLAYBACK_PAUSED,It,Y),le.off(y.default.PLAYBACK_ENDED,Ie,Y),le.off(y.default.METRIC_ADDED,Mr,Y),le.off(y.default.MANIFEST_VALIDITY_CHANGED,pi,Y),le.off(y.default.BUFFER_LEVEL_UPDATED,Kt,Y),le.off(y.default.QUALITY_CHANGE_REQUESTED,Ot,Y),w.default.KEY_SESSION_UPDATED&&le.off(w.default.KEY_SESSION_UPDATED,fn,Y),le.off(w.default.MANIFEST_UPDATED,qo,Y),le.off(w.default.STREAM_BUFFERING_COMPLETED,Zt,Y),le.off(w.default.TIME_SYNCHRONIZATION_COMPLETED,Qt,Y),le.off(w.default.CURRENT_TRACK_CHANGED,Tt,Y),le.off(w.default.SETTING_UPDATED_LIVE_DELAY,yn,Y),le.off(w.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,yn,Y)})(),De.reset(),xe.reset(),_e.reset(),Le.clearAllCurrentMetrics(),ge.setValue(null),Ge.reset(),re.reset(),K.reset(),Ne&&(fe.detachMediaSource(tt),Ne=null),tt=null,$&&($=null,J=null,ge.getValue()&&le.trigger(w.default.PROTECTION_DESTROYED,{data:ge.getValue().url})),Hn(),le.trigger(w.default.STREAM_TEARDOWN_COMPLETE),Ur()}function Mr(_n){if(_n.metric===E.default.DVR_INFO){var Vn=Ii()?n.default.AUDIO:n.default.VIDEO;_n.mediaType===Vn&&fe.setSeekable(_n.value.range.start,_n.value.range.end)}}function so(){return Q}return Y={initialize:function Fe(_n,Vn){ot(),q=_n,J=Vn,re.initialize(),(xe=Object(_.default)(j).create()).setConfig({manifestModel:ge,adapter:Ce,manifestLoader:Ge,errHandler:pe,settings:Yt}),xe.initialize(),(_e=Object(R.default)(j).getInstance()).setConfig({manifestUpdater:xe,playbackController:qe,settings:Yt}),_e.start(),we.setConfig({dashMetrics:Le,baseURLController:De,errHandler:pe,settings:Yt}),we.initialize(),$&&(le.trigger(w.default.PROTECTION_CREATED,{controller:$}),$.setMediaElement(tt.getElement()),J&&$.setProtectionData(J)),function ke(){le.on(y.default.PLAYBACK_TIME_UPDATED,Rt,Y),le.on(y.default.PLAYBACK_SEEKING,dn,Y),le.on(y.default.PLAYBACK_ERROR,ls,Y),le.on(y.default.PLAYBACK_STARTED,St,Y),le.on(y.default.PLAYBACK_PAUSED,It,Y),le.on(y.default.PLAYBACK_ENDED,Ie,Y),le.on(y.default.METRIC_ADDED,Mr,Y),le.on(y.default.MANIFEST_VALIDITY_CHANGED,pi,Y),le.on(y.default.BUFFER_LEVEL_UPDATED,Kt,Y),le.on(y.default.QUALITY_CHANGE_REQUESTED,Ot,Y),w.default.KEY_SESSION_UPDATED&&le.on(w.default.KEY_SESSION_UPDATED,fn,Y),le.on(w.default.MANIFEST_UPDATED,qo,Y),le.on(w.default.STREAM_BUFFERING_COMPLETED,Zt,Y),le.on(w.default.TIME_SYNCHRONIZATION_COMPLETED,Qt,Y),le.on(w.default.CURRENT_TRACK_CHANGED,Tt,Y),le.on(w.default.SETTING_UPDATED_LIVE_DELAY,yn,Y),le.on(w.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,yn,Y)}()},getActiveStreamInfo:Xr,addDVRMetric:bt,hasVideoTrack:Fi,hasAudioTrack:Ii,getStreamById:mr,getStreamForTime:Ze,getTimeRelativeToStreamId:function Lt(_n,Vn){for(var ri=null,Qn=0,Ri=0,Ki=null,Ui=0;Ui<Q.length;Ui++){if(Ri=(ri=Q[Ui]).getStartTime(),Ki=ri.getDuration(),Number.isFinite(Ri)&&(Qn=Ri),ri.getId()===Vn)return _n-Qn;Number.isFinite(Ki)&&(Qn+=Ki)}return null},load:function mt(_n){var Vn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;ot(),Mt=Vn,Ge.load(_n)},loadWithManifest:function Et(_n){var Vn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function ft(){if(!xe||!xe.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Mt=Vn,xe.setManifest(_n)},getActiveStreamProcessors:Sn,setConfig:function Pi(_n){_n&&(_n.capabilities&&(de=_n.capabilities),_n.capabilitiesFilter&&(Se=_n.capabilitiesFilter),_n.manifestLoader&&(Ge=_n.manifestLoader),_n.manifestModel&&(ge=_n.manifestModel),_n.mediaPlayerModel&&(ut=_n.mediaPlayerModel),_n.customParametersModel&&(ze=_n.customParametersModel),_n.protectionController&&($=_n.protectionController),_n.adapter&&(Ce=_n.adapter),_n.dashMetrics&&(Le=_n.dashMetrics),_n.errHandler&&(pe=_n.errHandler),_n.timelineConverter&&(re=_n.timelineConverter),_n.videoModel&&(tt=_n.videoModel),_n.playbackController&&(qe=_n.playbackController),_n.serviceDescriptionController&&(Xe=_n.serviceDescriptionController),_n.contentSteeringController&&(Te=_n.contentSteeringController),_n.textController&&(ne=_n.textController),_n.abrController&&(He=_n.abrController),_n.mediaController&&(be=_n.mediaController),_n.settings&&(Yt=_n.settings),_n.baseURLController&&(De=_n.baseURLController),_n.uriFragmentModel&&(lt=_n.uriFragmentModel),_n.segmentBaseController&&(Ue=_n.segmentBaseController))},setProtectionData:function rr(_n){J=_n,$&&$.setProtectionData(J)},getIsStreamSwitchInProgress:function Br(){return me},switchToVideoElement:function fi(_n){X&&(qe.initialize(Xr()),Fn(_n,!1))},getHasMediaOrInitialisationError:function No(){return Ee||ye},getStreams:so,getActiveStream:function Mn(){return X},getInitialPlayback:function ai(){return vt},getAutoPlay:function qi(){return q},reset:bo},function Qe(){ve=Object(d.default)(j).getInstance().getLogger(Y),we=Object(k.default)(j).getInstance(),fe=Object(P.default)(j).getInstance(),K=Object(u.default)(j).getInstance(),oe=Object(m.default)(j).getInstance(),Ur()}(),Y}Ae.__dashjs_factory_name="StreamController",v.default=g.default.getSingletonFactory(Ae)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),I=e(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),w=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),o=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function R(){var M,G,Z,ee,ae,Ae,j,le,Y,ve,de,Se,xe,Ge,ge,Ce,T=this.context,C=Object(A.default)(T).getInstance(),O=Object(o.default)(T).getInstance();function we(){le=[],Y=[],ve=null,de=null,xe=null,Se=NaN,Z=!1,ee=!1,Ge=ae.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ue(){!ae.get().streaming.utcSynchronization.enabled||Z||ee||!xe||!xe.value||!xe.schemeIdUri||isNaN(Se)||isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)||de&&(Date.now()-de)/1e3<30||(le=[],ee=!0,lt(isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)?2:ae.get().streaming.utcSynchronization.backgroundAttempts))}function lt(qe){try{if(qe<=0)return void ye();var Xe=Date.now();Ae[xe.schemeIdUri](xe.value,function(ut){var ze=Date.now(),ht=be(Xe,ze,ut);le.push(ht),lt(qe-1)},function(){ye()})}catch{ye()}}function He(){var Xe=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!Y||0===Y.length||Xe>=Y.length)K();else{var ut=Y[Xe];if(ut)if(Ae.hasOwnProperty(ut.schemeIdUri)){var ze=(new Date).getTime();Ae[ut.schemeIdUri](ut.value,function(ht){var vt=(new Date).getTime(),ce=be(ze,vt,ht);xe=ut,K(ce)},function(){He(Xe+1)})}else He(Xe+1);else K()}}function be(qe,Xe,ut){return ut-(Xe-(Xe-qe)/2)}function K(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Xe=isNaN(qe);Xe&&ae.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function q(){var qe=j.getLatestMPDRequestHeaderValueByID("Date"),Xe=null!==qe?new Date(qe).getTime():Number.NaN;isNaN(Xe)?me(!0):me(!1,Xe-Date.now())}():me(Xe,qe)}function pe(qe){var Xe=Date.parse(qe);return isNaN(Xe)&&(Xe=function oe(qe){var vt,ce,Ve=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(qe);return vt=Date.UTC(parseInt(Ve[1],10),parseInt(Ve[2],10)-1,parseInt(Ve[3],10),parseInt(Ve[4],10),parseInt(Ve[5],10),Ve[6]&&(parseInt(Ve[6],10)||0),Ve[7]&&1e3*parseFloat(Ve[7])||0),Ve[9]&&Ve[10]&&(ce=60*parseInt(Ve[9],10)+parseInt(Ve[10],10),vt+=("+"===Ve[8]?-1:1)*ce*60*1e3),new Date(vt).getTime()}(qe)),Xe}function re(qe){return Date.parse(qe)}function Q(qe){return Date.parse(qe)}function X(qe,Xe,ut){ut()}function $(qe,Xe,ut){var ze=pe(qe);isNaN(ze)?ut():Xe(ze)}function ne(qe,Xe,ut,ze,ht){var vt,ce,Ve=!1,yt=new XMLHttpRequest,Bt=ht?E.HTTPRequest.HEAD:E.HTTPRequest.GET,zt=Xe.match(/\S+/g);if(Xe=zt.shift(),vt=function(){Ve||(Ve=!0,zt.length?ne(qe,zt.join(" "),ut,ze,ht):ze())},ce=function(){var nn,Mt;200===yt.status&&(nn=ht?yt.getResponseHeader("Date"):yt.response,Mt=qe(nn),isNaN(Mt)||(ut(Mt),Ve=!0))},O.isRelative(Xe)){var Yt=Ce.resolve();Yt&&(Xe=O.resolve(Xe,Yt.url))}yt.open(Bt,Xe),yt.timeout=5e3,yt.onload=ce,yt.onloadend=vt,yt.send()}function J(qe,Xe,ut){ne(Q,qe,Xe,ut,!0)}function me(qe,Xe){if(!isNaN(Se)&&!isNaN(Xe)&&!qe&&function Ee(qe){try{var ce,Xe=Ne(qe),ut=isNaN(Ge)?30:Ge,ze=isNaN(ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ht=isNaN(ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,vt=isNaN(ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Xe?(ce=Math.min(ut*ze,ht),G.debug("Increasing timeBetweenSyncAttempts to ".concat(ce))):(ce=Math.max(ut/ze,vt),G.debug("Decreasing timeBetweenSyncAttempts to ".concat(ce))),Ge=ce}catch{}}(Xe),!qe&&!isNaN(Xe)){ve=Date.now(),Z=!1;var ut=isNaN(Se);Se=Xe,ut&&Ue(),G.debug("Completed UTC sync. Setting client - server offset to ".concat(Xe))}qe&&(xe=null,Z=!1,ge.error(new n.default(I.default.TIME_SYNC_FAILED_ERROR_CODE,I.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),C.trigger(_.default.UPDATE_TIME_SYNC_OFFSET,{offset:Xe}),C.trigger(_.default.TIME_SYNCHRONIZATION_COMPLETED)}function ye(){if(le&&0!==le.length){var qe=le.reduce(function(Xe,ut){return Xe+ut},0)/le.length;Ne(qe)?G.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(G.debug("Completed background UTC sync. Setting client - server offset to ".concat(qe)),C.trigger(_.default.UPDATE_TIME_SYNC_OFFSET,{offset:Se=qe})),ee=!1,de=Date.now()}}function Ne(qe){try{if(isNaN(Se))return!0;var Xe=ae.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ae.get().streaming.utcSynchronization.maximumAllowedDrift)?ae.get().streaming.utcSynchronization.maximumAllowedDrift:100;return qe>=Se-Xe&&qe<=Se+Xe}catch{return!0}}return M={initialize:function Te(){we(),Ae={"urn:mpeg:dash:utc:http-head:2014":J,"urn:mpeg:dash:utc:http-xsdate:2014":ne.bind(null,pe),"urn:mpeg:dash:utc:http-iso:2014":ne.bind(null,re),"urn:mpeg:dash:utc:direct:2014":$,"urn:mpeg:dash:utc:http-head:2012":J,"urn:mpeg:dash:utc:http-xsdate:2012":ne.bind(null,pe),"urn:mpeg:dash:utc:http-iso:2012":ne.bind(null,re),"urn:mpeg:dash:utc:direct:2012":$,"urn:mpeg:dash:utc:http-ntp:2014":X,"urn:mpeg:dash:utc:ntp:2014":X,"urn:mpeg:dash:utc:sntp:2014":X}},attemptSync:function De(qe,Xe){if(Y=qe,!Z){if(!function _e(qe){try{if(!qe||!ae.get().streaming.utcSynchronization.enabled)return!1;var Xe=isNaN(Ge)?30:Ge;return!(ve&&Xe&&!isNaN(Xe))||(Date.now()-ve)/1e3>=Xe}catch{return!0}}(Xe))return void C.trigger(_.default.TIME_SYNCHRONIZATION_COMPLETED);Z=!0,He()}},setConfig:function fe(qe){qe&&(qe.dashMetrics&&(j=qe.dashMetrics),qe.baseURLController&&(Ce=qe.baseURLController),qe.errHandler&&(ge=qe.errHandler),qe.settings&&(ae=qe.settings))},reset:function tt(){we(),C.off(_.default.ATTEMPT_BACKGROUND_SYNC,Ue,M)}},function Le(){G=Object(g.default)(T).getInstance().getLogger(M),C.on(_.default.ATTEMPT_BACKGROUND_SYNC,Ue,M)}(),M}R.__dashjs_factory_name="TimeSyncController";var D=w.default.getSingletonFactory(R);D.HTTP_TIMEOUT_MS=5e3,w.default.updateSingletonFactory(R.__dashjs_factory_name,D),v.default=D},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),w=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),g=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),o="onLoad";function m(y){y=y||{};var F,R,D,T,C,O,k=this.context,P=Object(E.default)(k).getInstance(),B=Object(w.default)(k).getInstance();function Ae(Ge,ge,Ce){var fe,we,Le={};Le.elements=Ge,Le.type=ge,Le.resolveType=Ce,0===Le.elements.length&&le(Le);for(var Te=0;Te<Le.elements.length;Te++)we=B.isHTTPURL((fe=Le.elements[Te]).url)?fe.url:fe.originalContent.BaseURL+fe.url,O.load(we,fe,Le)}function j(Ge){var ge,Ce,we="";if(Ce=Ge.resolveObject,(ge=Ge.element).resolvedContent){var Te=0;0===ge.resolvedContent.indexOf("<?xml")&&(Te=ge.resolvedContent.indexOf("?>")+2),we=ge.resolvedContent.substr(0,Te)+"<response>"+ge.resolvedContent.substr(Te)+"</response>",ge.resolvedContent=C.xml_str2json(we)}(function Se(Ge){var ge;for(ge=0;ge<Ge.elements.length;ge++)if(!1===Ge.elements[ge].resolved)return!1;return!0})(Ce)&&le(Ce)}function le(Ge){var Ce,Le,ge=[];if(function ve(Ge){var Ce,Le,we,Te,De,ge=[];for(we=Ge.elements.length-1;we>=0;we--){if(Le=(Ce=Ge.elements[we]).type+"_asArray",Ce.resolvedContent){if(Ce.resolvedContent)for(Te=0;Te<Ce.resolvedContent[Le].length;Te++)ge.push(Ce.resolvedContent[Le][Te])}else delete Ce.originalContent["xlink:actuate"],delete Ce.originalContent["xlink:href"],ge.push(Ce.originalContent);for(Ce.parentElement[Le].splice(Ce.index,1),De=0;De<ge.length;De++)Ce.parentElement[Le].splice(Ce.index+De,0,ge[De]);ge=[]}Ge.elements.length>0&&D.run(T)}(Ge),"onActuate"===Ge.resolveType&&P.trigger(A.default.XLINK_READY,{manifest:T}),Ge.resolveType===o)switch(Ge.type){case g.default.PERIOD:for(Ce=0;Ce<T[g.default.PERIOD+"_asArray"].length;Ce++)(Le=T[g.default.PERIOD+"_asArray"][Ce]).hasOwnProperty(g.default.ADAPTATION_SET+"_asArray")&&(ge=ge.concat(Y(Le[g.default.ADAPTATION_SET+"_asArray"],Le,g.default.ADAPTATION_SET,o))),Le.hasOwnProperty(g.default.EVENT_STREAM+"_asArray")&&(ge=ge.concat(Y(Le[g.default.EVENT_STREAM+"_asArray"],Le,g.default.EVENT_STREAM,o)));Ae(ge,g.default.ADAPTATION_SET,o);break;case g.default.ADAPTATION_SET:P.trigger(A.default.XLINK_READY,{manifest:T})}}function Y(Ge,ge,Ce,Le){var we,Te,De,fe=[];for(Te=Ge.length-1;Te>=0;Te--)(we=Ge[Te]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===we["xlink:href"]&&Ge.splice(Te,1);for(Te=0;Te<Ge.length;Te++)(we=Ge[Te]).hasOwnProperty("xlink:href")&&we.hasOwnProperty("xlink:actuate")&&we["xlink:actuate"]===Le&&(De=de(we["xlink:href"],ge,Ce,Te,Le,we),fe.push(De));return fe}function de(Ge,ge,Ce,Le,fe,we){return{url:Ge,parentElement:ge,type:Ce,index:Le,resolveType:fe,originalContent:we,resolvedContent:null,resolved:!1}}return F={resolveManifestOnLoad:function ee(Ge){C=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:R}),(T=Ge).Period_asArray?Ae(Y(T.Period_asArray,T,g.default.PERIOD,o),g.default.PERIOD,o):P.trigger(A.default.XLINK_READY,{manifest:T})},setMatchers:function G(Ge){Ge&&(R=Ge)},setIron:function Z(Ge){Ge&&(D=Ge)},reset:function ae(){P.off(A.default.XLINK_ELEMENT_LOADED,j,F),O&&(O.reset(),O=null)}},function M(){P.on(A.default.XLINK_ELEMENT_LOADED,j,F),O=Object(n.default)(k).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,settings:y.settings})}(),F}m.__dashjs_factory_name="XlinkController",v.default=_.default.getClassFactory(m)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),E=e(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),A=e(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),_=e(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),I=e(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function w(){var o=this.context;return{createMetricsReporting:function m(P){return Object(n.default)(o).getInstance({eventBus:P.eventBus,dashMetrics:P.dashMetrics,metricsConstants:P.metricsConstants,events:P.events}).initialise(),Object(A.default)(o).create(P)},getReportingFactory:function y(){return Object(I.default)(o).getInstance()},getMetricsHandlerFactory:function k(){return Object(_.default)(o).getInstance()}}}w.__dashjs_factory_name="MetricsReporting";var g=dashjs.FactoryMaker.getClassFactory(w);g.events=E.default,dashjs.FactoryMaker.updateClassFactory(w.__dashjs_factory_name,g),v.default=g},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}e.r(v);var F=new(function(R){o(T,R);var D=u(T);function T(){var C;return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(C=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",C.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",C.CMCD_DATA_GENERATED="cmcdDataGenerated",C}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));v.default=F},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),E=e(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),A=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function _(I){var w,g={},o=this.context,d=(I=I||{}).eventBus,u=I.events;function m(B){if(!B.error){var F=Object.keys(g);Object(E.default)(o).getInstance({adapter:I.adapter,constants:I.constants}).getMetrics(B.manifest).forEach(function(D){var T=JSON.stringify(D);if(g.hasOwnProperty(T))F.splice(T,1);else try{var C=Object(n.default)(o).create(I);C.initialize(D),g[T]=C}catch{}}),F.forEach(function(D){g[D].reset(),delete g[D]}),d.trigger(A.default.METRICS_INITIALISATION_COMPLETE)}}function y(){Object.keys(g).forEach(function(B){g[B].reset()}),g={}}return w={reset:function P(){d.off(u.MANIFEST_UPDATED,m,w),d.off(u.STREAM_TEARDOWN_COMPLETE,y,w)}},function k(){d.on(u.MANIFEST_UPDATED,m,w),d.on(u.STREAM_TEARDOWN_COMPLETE,y,w)}(),w}_.__dashjs_factory_name="MetricsCollectionController",v.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),E=e(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),A=e(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function _(I){I=I||{};var w,g,o,u=this.context;function y(){w&&w.reset(),g&&g.reset(),o&&o.reset()}return{initialize:function m(k){try{(o=Object(n.default)(u).create({mediaElement:I.mediaElement})).initialize(k.Range),(g=Object(E.default)(u).create({debug:I.debug,metricsConstants:I.metricsConstants,mediaPlayerModel:I.mediaPlayerModel})).initialize(k.Reporting,o),(w=Object(A.default)(u).create({debug:I.debug,eventBus:I.eventBus,metricsConstants:I.metricsConstants,events:I.events})).initialize(k.metrics,g)}catch(P){throw y(),P}},reset:y}}_.__dashjs_factory_name="MetricsController",v.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function E(A){var I,_=[],w=this.context,g=(A=A||{}).eventBus,o=A.events,d=Object(n.default)(w).getInstance({debug:A.debug,eventBus:A.eventBus,metricsConstants:A.metricsConstants});function u(k){_.forEach(function(P){P.handleNewMetric(k.metric,k.value,k.mediaType)})}return I={initialize:function m(k,P){k.split(",").forEach(function(B,F,R){var D;if(-1!==B.indexOf("(")&&-1===B.indexOf(")")){var T=R[F+1];T&&-1===T.indexOf("(")&&-1!==T.indexOf(")")&&(B+=","+T,delete R[F+1])}(D=d.create(B,P))&&_.push(D)}),g.on(o.METRIC_ADDED,u,I),g.on(o.METRIC_UPDATED,u,I)},reset:function y(){g.off(o.METRIC_ADDED,u,I),g.off(o.METRIC_UPDATED,u,I),_.forEach(function(k){return k.reset()}),_=[]}}}E.__dashjs_factory_name="MetricsHandlersController",v.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function E(A){var w,g,_=!1,I=this.context,o=(A=A||{}).mediaElement;return w={initialize:function d(k){k&&k.length&&(k.forEach(function(P){var B=P.starttime;g.add(B,B+P.duration)}),_=!!k[0]._useWallClockTime)},reset:function u(){g.clear()},isEnabled:function y(){var P,k=g.length;if(!k)return!0;P=_?(new Date).getTime()/1e3:o.currentTime;for(var B=0;B<k;B+=1){var F=g.start(B),R=g.end(B);if(F<=P&&P<R)return!0}return!1}},function m(){g=Object(n.default)(I).create()}(),w}E.__dashjs_factory_name="RangeController",v.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function E(A){var _=[],w=Object(n.default)(this.context).getInstance(A);return{initialize:function g(u,m){u.some(function(y){var k=w.create(y,m);if(k)return _.push(k),!0})},reset:function o(){_.forEach(function(u){return u.reset()}),_=[]},report:function d(u,m){_.forEach(function(y){return y.report(u,m)})}}}E.__dashjs_factory_name="ReportingController",v.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),E=e(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),A=e(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),_=e(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function I(w){var g,o=(w=w||{}).debug?w.debug.getLogger(g):{},d=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,u=this.context,m={BufferLevel:n.default,DVBErrors:E.default,HttpList:A.default,PlayList:_.default,RepSwitchList:_.default,TcpList:_.default};return{create:function y(B,F){var D,R=B.match(d);if(R){try{(D=m[R[1]](u).create({eventBus:w.eventBus,metricsConstants:w.metricsConstants})).initialize(R[1],F,R[3],R[5])}catch(T){D=null,o.error("MetricsHandlerFactory: Could not create handler for type ".concat(R[1]," with args ").concat(R[3],", ").concat(R[5]," (").concat(T.message,")"))}return D}},register:function k(B,F){m[B]=F},unregister:function P(B){delete m[B]}}}I.__dashjs_factory_name="MetricsHandlerFactory",v.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(A){A=A||{};var I,w,g,o,d,u=this.context,m=Object(n.default)(u).getInstance(),y=[],k=A.metricsConstants;function B(){var T=function P(){try{return Object.keys(y).map(function(T){return y[T]}).reduce(function(T,C){return T.level<C.level?T:C})}catch{return}}();T&&d!==T.t&&(d=T.t,I.report(g,T))}return{initialize:function F(T,C,O){C&&(w=m.validateN(O),I=C,g=m.reconstructFullMetricName(T,O),o=setInterval(B,w))},reset:function R(){clearInterval(o),o=null,w=0,I=null,d=null},handleNewMetric:function D(T,C,O){T===k.BUFFER_LEVEL&&(y[O]=C)}}}E.__dashjs_factory_name="BufferLevelHandler",v.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");v.default=dashjs.FactoryMaker.getClassFactory(function E(A){var I,w=(A=A||{}).eventBus,g=A.metricsConstants;function o(){w.off(n.default.METRICS_INITIALISATION_COMPLETE,o,this),w.trigger(n.default.BECAME_REPORTING_PLAYER)}return{initialize:function d(y,k){k&&(I=k,w.on(n.default.METRICS_INITIALISATION_COMPLETE,o,this))},reset:function u(){I=null},handleNewMetric:function m(y,k){y===g.DVB_ERRORS&&I&&I.report(y,k)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(){var A,_;return{initialize:function I(o,d){A=o,_=d},reset:function w(){_=null,A=void 0},handleNewMetric:function g(o,d){o===A&&_&&_.report(A,d)}}}e.r(v),n.__dashjs_factory_name="GenericMetricHandler",v.default=dashjs.FactoryMaker.getClassFactory(n)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(A){A=A||{};var I,w,g,o,d,u=[],m=Object(n.default)(this.context).getInstance(),y=A.metricsConstants;function k(){u.length&&I&&I.report(o,u),u=[]}return{initialize:function P(R,D,T,C){D&&(w=m.validateN(T),I=D,C&&C.length&&(g=C),o=m.reconstructFullMetricName(R,T,C),d=setInterval(k,w))},reset:function B(){clearInterval(d),d=null,w=null,g=null,u=[],I=null},handleNewMetric:function F(R,D){R===y.HTTP_REQUEST&&(!g||g===D.type)&&u.push(D)}}}E.__dashjs_factory_name="HttpListHandler",v.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function E(A){var w,_={"urn:dvb:dash:reporting:2014":n.default},I=this.context,g=(A=A||{}).debug?A.debug.getLogger(w):{},o=A.metricsConstants,d=A.mediaPlayerModel||{};return{create:function u(k,P){var B;try{(B=_[k.schemeIdUri](I).create({metricsConstants:o,mediaPlayerModel:d})).initialize(k,P)}catch(F){B=null,g.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(k.schemeIdUri," (").concat(F.message,")"))}return B},register:function m(k,P){_[k]=P},unregister:function y(k){delete _[k]}}}E.__dashjs_factory_name="ReportingFactory",v.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),E=e(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),A=e(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function _(I){var w,o,d,u,m,y,k,P,g=this.context,R=[],D=(I=I||{}).metricsConstants;function G(){m=!1,y=!1,k=null,P=null}return w={report:function O(ee,ae){Array.isArray(ae)||(ae=[ae]),y&&P.isEnabled()&&ae.forEach(function(Ae){var j=o.serialise(Ae);ee!==D.DVB_ERRORS&&(j="metricname=".concat(ee,"&").concat(j)),function C(ee,ae,Ae){var j=new XMLHttpRequest;j.withCredentials=d.getXHRWithCredentialsForType(D.HTTP_REQUEST_DVB_REPORTING_TYPE);var le=function(){var ve=R.indexOf(j);-1!==ve&&(R.splice(ve,1),j.status>=200&&j.status<300?ae&&ae():Ae&&Ae())};R.push(j);try{j.open("GET",ee),j.onloadend=le,j.onerror=le,j.send()}catch{j.onerror()}}(j="".concat(k,"?").concat(j),null,function(){y=!1})})},initialize:function M(ee,ae){var Ae;if(P=ae,!(k=ee.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");m||((Ae=ee.dvb_probability)&&(1e3===Ae||Ae/1e3>=u.random())&&(y=!0),m=!0)},reset:function Z(){G()}},function T(){o=Object(n.default)(g).getInstance(),u=Object(E.default)(g).getInstance(),d=Object(A.default)(g).getInstance(),G()}(),w}_.__dashjs_factory_name="DVBReporting",v.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),E=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function A(_){var I,w,g=(_=_||{}).eventBus,o=_.dashMetrics,d=_.metricsConstants,u=_.events;function m(C){var O=new n.default;if(w){for(var M in C)C.hasOwnProperty(M)&&(O[M]=C[M]);O.mpdurl||(O.mpdurl=w.originalUrl||w.url),O.terror||(O.terror=new Date),o.addDVBErrors(O)}}function y(C){C.error||(w=C.manifest)}function k(C){m({errorcode:n.default.BASE_URL_CHANGED,servicelocation:C.entry})}function P(){m({errorcode:n.default.BECAME_REPORTER})}function F(C){C.metric===d.HTTP_REQUEST&&function B(C){(0===C.responsecode||null==C.responsecode||C.responsecode>=400||C.responsecode<100||C.responsecode>=600)&&m({errorcode:C.responsecode||n.default.CONNECTION_ERROR,url:C.url,terror:C.tresponse,servicelocation:C._serviceLocation})}(C.value)}function R(C){var M;switch(C.error?C.error.code:0){case MediaError.MEDIA_ERR_NETWORK:M=n.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:M=n.default.CORRUPT_MEDIA_OTHER;break;default:return}m({errorcode:M})}return I={initialise:function D(){g.on(u.MANIFEST_UPDATED,y,I),g.on(u.SERVICE_LOCATION_BLACKLIST_CHANGED,k,I),g.on(u.METRIC_ADDED,F,I),g.on(u.METRIC_UPDATED,F,I),g.on(u.PLAYBACK_ERROR,R,I),g.on(E.default.BECAME_REPORTING_PLAYER,P,I)},reset:function T(){g.off(u.MANIFEST_UPDATED,y,I),g.off(u.SERVICE_LOCATION_BLACKLIST_CHANGED,k,I),g.off(u.METRIC_ADDED,F,I),g.off(u.METRIC_UPDATED,F,I),g.off(u.PLAYBACK_ERROR,R,I),g.off(E.default.BECAME_REPORTING_PLAYER,P,I)}}}A.__dashjs_factory_name="DVBErrorsTranslator",v.default=dashjs.FactoryMaker.getSingletonFactory(A)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(){return{reconstructFullMetricName:function(A,_,I){var w=A;return _&&(w+="("+_,I&&I.length&&(w+=","+I),w+=")"),w},validateN:function(A){if(!A)throw new Error("missing n");if(isNaN(A))throw new Error("n is NaN");if(A<0)throw new Error("n must be positive");return A}}}e.r(v),n.__dashjs_factory_name="HandlerHelpers",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),E=e(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),A=e(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function _(I){var g=(I=I||{}).adapter,o=I.constants;return{getMetrics:function u(m){var y=[];return m&&m.Metrics_asArray&&m.Metrics_asArray.forEach(function(k){var P=new n.default,B=g.getIsDynamic(m);k.hasOwnProperty("metrics")&&(P.metrics=k.metrics,k.Range_asArray&&k.Range_asArray.forEach(function(F){var R=new E.default;R.starttime=function d(m,y,k){var P,B,F=0;return y?F=g.getAvailabilityStartTime(m)/1e3:(P=g.getRegularPeriods(m)).length&&(F=P[0].start),B=F,k&&k.hasOwnProperty(o.START_TIME)&&(B+=k.starttime),B}(m,B,F),R.duration=F.hasOwnProperty("duration")?F.duration:g.getDuration(m),R._useWallClockTime=B,P.Range.push(R)}),k.Reporting_asArray&&(k.Reporting_asArray.forEach(function(F){var R=new A.default;F.hasOwnProperty(o.SCHEME_ID_URI)&&(R.schemeIdUri=F.schemeIdUri,F.hasOwnProperty("value")&&(R.value=F.value),F.hasOwnProperty(o.DVB_REPORTING_URL)&&(R.dvb_reportingUrl=F[o.DVB_REPORTING_URL]),F.hasOwnProperty(o.DVB_PROBABILITY)&&(R.dvb_probability=F[o.DVB_PROBABILITY]),P.Reporting.push(R))}),y.push(P)))}),y}}}_.__dashjs_factory_name="ManifestParsing",v.default=dashjs.FactoryMaker.getSingletonFactory(_)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(){return{serialise:function E(A){var w,g,_=[],I=[];for(w in A)if(A.hasOwnProperty(w)&&0!==w.indexOf("_")){if(null==(g=A[w])&&(g=""),Array.isArray(g)){if(!g.length)continue;I=[],g.forEach(function(o){var d="Object"!==Object.prototype.toString.call(o).slice(8,-1);I.push(d?o:E(o))}),g=I.map(encodeURIComponent).join(",")}else"string"==typeof g?g=encodeURIComponent(g):g instanceof Date?g=g.toISOString():"number"==typeof g&&(g=Math.round(g));_.push(w+"="+g)}return _.join("&")}}}e.r(v),n.__dashjs_factory_name="MetricSerialiser",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(){var w,g,o,E=window.crypto||window.msCrypto,A=Uint32Array,_=Math.pow(2,8*A.BYTES_PER_ELEMENT)-1,I=10;function d(){E&&(w||(w=new A(I)),E.getRandomValues(w),g=0)}return o={random:function u(m,y){var k;return m||(m=0),y||(y=1),E?(g===w.length&&d(),k=w[g]/_,g+=1):k=Math.random(),k*(y-m)+m}},d(),o}e.r(v),n.__dashjs_factory_name="RNG",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v);var g=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});g.SSL_CONNECTION_FAILED_PREFIX="SSL",g.DNS_RESOLUTION_FAILED="C00",g.HOST_UNREACHABLE="C01",g.CONNECTION_REFUSED="C02",g.CONNECTION_ERROR="C03",g.CORRUPT_MEDIA_ISOBMFF="M00",g.CORRUPT_MEDIA_OTHER="M01",g.BASE_URL_CHANGED="F00",g.BECAME_REPORTER="S00",v.default=g},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function E(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,_(y.key),y)}}function A(d,u,m){return u&&E(d.prototype,u),m&&E(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var u=function I(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v);v.default=A(function d(){(function w(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(y){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(y)}function _(y,k){for(var P=0;P<k.length;P++){var B=k[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(y,w(B.key),B)}}function I(y,k,P){return k&&_(y.prototype,k),P&&_(y,P),Object.defineProperty(y,"prototype",{writable:!1}),y}function w(y){var k=function g(y,k){if("object"!==A(y)||null===y)return y;var P=y[Symbol.toPrimitive];if(void 0!==P){var B=P.call(y,k||"default");if("object"!==A(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===k?String:Number)(y)}(y,"string");return"symbol"===A(k)?k:String(k)}var d=NaN,u=I(function y(k,P){(function o(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")})(this,y),this.data={baseUrls:k||null,selectedIdx:P||d},this.children=[]});function m(){var y,k,P,B=this.context,F=Object(n.default)(B).getInstance();function C(Ae,j,le){var Y=P.getBaseURLsFromElement(le);Ae[j]?F.areEqual(Y,Ae[j].data.baseUrls)||(Ae[j].data.baseUrls=Y,Ae[j].data.selectedIdx=d):Ae[j]=new u(Y)}function O(Ae){!function T(){if(!P||!P.hasOwnProperty("getBaseURLsFromElement")||!P.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var j=P.getBaseURLsFromElement(Ae);F.areEqual(j,k.data.baseUrls)||(k.data.baseUrls=j,k.data.selectedIdx=d),Ae&&Ae.Period_asArray&&Ae.Period_asArray.forEach(function(le,Y){C(k.children,Y,le),le.AdaptationSet_asArray&&le.AdaptationSet_asArray.forEach(function(ve,de){C(k.children[Y].children,de,ve),ve.Representation_asArray&&ve.Representation_asArray.sort(P.getRepresentationSortFunction()).forEach(function(Se,xe){C(k.children[Y].children[de].children,xe,Se)})})})}function M(Ae,j){var le=j||k;Ae(le.data),le.children&&le.children.forEach(function(Y){return M(Ae,Y)})}function ee(){k=new u}return y={reset:ee,update:function Z(Ae){O(Ae)},getForPath:function ae(Ae){var j=k,le=[j.data];return Ae&&Ae.forEach(function(Y){(j=j.children[Y])&&le.push(j.data)}),le.filter(function(Y){return Y.baseUrls.length})},invalidateSelectedIndexes:function G(Ae){M(function(j){isNaN(j.selectedIdx)||Ae===j.baseUrls[j.selectedIdx].serviceLocation&&(j.selectedIdx=d)})},setConfig:function D(Ae){Ae.adapter&&(P=Ae.adapter)}},function R(){ee()}(),y}m.__dashjs_factory_name="BaseURLTreeModel",v.default=E.default.getClassFactory(m)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=e(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),o=e(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),d=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function u(C,O){var M=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!M){if(Array.isArray(C)||(M=function m(C,O){if(C){if("string"==typeof C)return y(C,O);var M=Object.prototype.toString.call(C).slice(8,-1);if("Object"===M&&C.constructor&&(M=C.constructor.name),"Map"===M||"Set"===M)return Array.from(C);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return y(C,O)}}(C))||O&&C&&"number"==typeof C.length){M&&(C=M);var G=0,Z=function(){};return{s:Z,n:function(){return G>=C.length?{done:!0}:{done:!1,value:C[G++]}},e:function(le){throw le},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ae,ee=!0,ae=!1;return{s:function(){M=M.call(C)},n:function(){var le=M.next();return ee=le.done,le},e:function(le){ae=!0,Ae=le},f:function(){try{!ee&&null!=M.return&&M.return()}finally{if(ae)throw Ae}}}}function y(C,O){(null==O||O>C.length)&&(O=C.length);for(var M=0,G=new Array(O);M<O;M++)G[M]=C[M];return G}var B_MANIFEST="m",B_AUDIO="a",B_VIDEO="v",B_INIT="i",B_CAPTION="c",B_ISOBMFF_TEXT_TRACK="tt",B_ENCRYPTION_KEY="k",B_OTHER="o",F_DASH="d",F_MSS="s",R_VOD="v",R_LIVE="l";function T(){var C,O,M,G,Z,ee,ae,Ae,j,le,Y=this.context,ve=Object(n.default)(Y).getInstance(),de=Object(I.default)(Y).getInstance();function ge(){M={pr:1,nor:null,st:null,sf:null,sid:"".concat(d.default.generateUuid()),cid:null},j={},Ae={},le={},Le()}function Ce(){Le()}function Le(){if(ee){var ze=ee.getStreamController();if(ze&&"function"==typeof ze.getActiveStream){var ht=ze.getActiveStream();ht&&(ae=ht.getProcessors())}}}function Te(ze,ht){var Ve,vt={},ce=u(ht);try{for(ce.s();!(Ve=ce.n()).done;){var yt=Ve.value;ze[yt]&&(vt[yt]=ze[yt])}}catch(Bt){ce.e(Bt)}finally{ce.f()}return vt}function Ue(ze){var ht=de.get().streaming.cmcd.enabledKeys;return ze.filter(function(vt){return ht.includes(vt)})}function lt(ze){try{return ze.type===g.HTTPRequest.MPD_TYPE?function be(){var ze=re();return ze.ot=B_MANIFEST,ze}():ze.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE?(function K(ze){le.hasOwnProperty(ze)||(le[ze]=!1),Ae.hasOwnProperty(ze)||(Ae[ze]=!1),j.hasOwnProperty(ze)||(j[ze]=!1)}(ze.mediaType),function _e(ze){var nn,ht=re(),vt=function Q(ze){try{return parseInt(ze.mediaInfo.bitrateList[ze.quality].bandwidth/1e3)}catch{return null}}(ze),ce=function $(ze){try{return isNaN(ze.duration)?null:Math.round(1e3*ze.duration)}catch{return null}}(ze),Ve=function ne(ze){try{return 100*parseInt(G.getThroughputHistory().getSafeAverageThroughput(ze)/100)}catch{return null}}(ze.mediaType),yt=function J(ze){try{var ht=M.pr,vt=Z.getCurrentBufferLevel(ze);return isNaN(ht)||isNaN(vt)?null:100*parseInt(vt/ht*10)}catch{return null}}(ze.mediaType),Bt=q(ze.mediaType),zt=function X(ze){try{var ht=G.getTopBitrateInfoFor(ze);return Math.round(ht.bitrate/1e3)}catch{return null}}(ze.mediaType),Yt=M.pr,cn=function qe(ze){if(ae&&0!==ae.length){var vt,ht=u(ae);try{for(ht.s();!(vt=ht.n()).done;){var ce=vt.value;if(ce.getType()===ze)return ce.probeNextRequest()}}catch(Ve){ht.e(Ve)}finally{ht.f()}}}(ze.mediaType);ze.mediaType===w.default.VIDEO&&(nn=B_VIDEO),ze.mediaType===w.default.AUDIO&&(nn=B_AUDIO),ze.mediaType===w.default.TEXT&&(nn="application/mp4"===ze.mediaInfo.mimeType?B_ISOBMFF_TEXT_TRACK:B_CAPTION);var Mt=de.get().streaming.cmcd.rtp;return Mt||(Mt=function Xe(ze){var ht=ee.getPlaybackRate();ht||(ht=1);var vt=ze.quality,Ve=ze.mediaInfo,yt=ze.duration,Bt=q(ze.mediaType);0===Bt&&(Bt=500);var nn=Ve.bitrateList[vt].bandwidth*yt/1e3/(Bt/ht/1e3),Mt=de.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(de.get().streaming.cmcd.rtpSafetyFactor)?de.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(nn*Mt/100)+1)}(ze)),ht.rtp=Mt,cn&&(ze.url!==cn.url?ht.nor=encodeURIComponent(d.default.getRelativeUrl(ze.url,cn.url)):cn.range&&(ht.nrr=cn.range)),vt&&(ht.br=vt),nn&&(ht.ot=nn),isNaN(ce)||(ht.d=ce),isNaN(Ve)||(ht.mtp=Ve),isNaN(yt)||(ht.dl=yt),isNaN(Bt)||(ht.bl=Bt),isNaN(zt)||(ht.tb=zt),!isNaN(Yt)&&1!==Yt&&(ht.pr=Yt),j[ze.mediaType]&&(ht.bs=!0,j[ze.mediaType]=!1),(Ae[ze.mediaType]||!le[ze.mediaType])&&(ht.su=!0,Ae[ze.mediaType]=!1,le[ze.mediaType]=!0),ht}(ze)):ze.type===g.HTTPRequest.INIT_SEGMENT_TYPE?function oe(){var ze=re();return ze.ot=B_INIT,ze.su=!0,ze}():ze.type===g.HTTPRequest.OTHER_TYPE||ze.type===g.HTTPRequest.XLINK_EXPANSION_TYPE?function pe(){var ze=re();return ze.ot=B_OTHER,ze}():ze.type===g.HTTPRequest.LICENSE?function He(ze){var ht=re();return ht.ot=B_ENCRYPTION_KEY,ht}():null}catch{return null}}function re(){var ze={},ht=de.get().streaming.cmcd.cid?de.get().streaming.cmcd.cid:M.cid;return ze.v=1,ze.sid=de.get().streaming.cmcd.sid?de.get().streaming.cmcd.sid:M.sid,ze.sid="".concat(ze.sid),ht&&(ze.cid="".concat(ht)),!isNaN(M.pr)&&1!==M.pr&&null!==M.pr&&(ze.pr=M.pr),M.st&&(ze.st=M.st),M.sf&&(ze.sf=M.sf),ze}function q(ze){try{var ht=Z.getCurrentBufferLevel(ze);return isNaN(ht)?null:100*parseInt(10*ht)}catch{return null}}function me(ze){try{M.pr=ze.playbackRate}catch{}}function Ee(ze){try{var ht=C.getIsDynamic(ze.data),ce=ze.protocol&&"MSS"===ze.protocol?F_MSS:F_DASH;M.st="".concat(ht?R_LIVE:R_VOD),M.sf="".concat(ce)}catch{}}function ye(ze){try{ze.state&&ze.mediaType&&ze.state===E.default.BUFFER_EMPTY&&(j[ze.mediaType]||(j[ze.mediaType]=!0),Ae[ze.mediaType]||(Ae[ze.mediaType]=!0))}catch{}}function Ne(){for(var ze in j)j.hasOwnProperty(ze)&&(j[ze]=!0);for(var ht in Ae)Ae.hasOwnProperty(ht)&&(Ae[ht]=!0)}function tt(ze){try{if(!ze)return null;var ht=Object.keys(ze).sort(function(Ve,yt){return Ve.localeCompare(yt)}),vt=ht.length,ce=ht.reduce(function(Ve,yt,Bt){return"v"===yt&&1===ze[yt]||(Ve+="string"==typeof ze[yt]&&"ot"!==yt&&"sf"!==yt&&"st"!==yt?"".concat(yt,"=").concat(JSON.stringify(ze[yt])):"".concat(yt,"=").concat(ze[yt]),Bt<vt-1&&(Ve+=",")),Ve},"");return(ce=ce.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return O={getQueryParameter:function fe(ze){try{if(de.get().streaming.cmcd&&de.get().streaming.cmcd.enabled){var ht=lt(ze),ce=tt(function we(ze){try{var ht=de.get().streaming.cmcd.enabledKeys;return Object.keys(ze).filter(function(vt){return ht.includes(vt)}).reduce(function(vt,ce){return vt[ce]=ze[ce],vt},{})}catch{return ze}}(ht));return ve.trigger(A.default.CMCD_DATA_GENERATED,{url:ze.url,mediaType:ze.mediaType,cmcdData:ht,cmcdString:ce}),{key:"CMCD",value:ce}}return null}catch{return null}},getHeaderParameters:function De(ze){try{if(de.get().streaming.cmcd&&de.get().streaming.cmcd.enabled){var ht=lt(ze),vt=Te(ht,Ue(["br","d","ot","tb"])),ce=Te(ht,Ue(["bl","dl","mtp","nor","nrr","su"])),Ve=Te(ht,Ue(["bs","rtp"])),yt=Te(ht,Ue(["cid","pr","sf","sid","st","v"])),Bt={"CMCD-Object":tt(vt),"CMCD-Request":tt(ce),"CMCD-Status":tt(Ve),"CMCD-Session":tt(yt)};return ve.trigger(A.default.CMCD_DATA_GENERATED,{url:ze.url,mediaType:ze.mediaType,cmcdData:ht,headers:Bt}),Bt}return null}catch{return null}},setConfig:function Ge(ze){ze&&(ze.abrController&&(G=ze.abrController),ze.dashMetrics&&(Z=ze.dashMetrics),ze.playbackController&&(ee=ze.playbackController))},reset:function ut(){ve.off(E.default.PLAYBACK_RATE_CHANGED,me,this),ve.off(E.default.MANIFEST_LOADED,Ee,this),ve.off(E.default.BUFFER_LEVEL_STATE_CHANGED,ye,O),ve.off(E.default.PLAYBACK_SEEKED,Ne,O),ge()},initialize:function xe(){ve.on(E.default.PLAYBACK_RATE_CHANGED,me,O),ve.on(E.default.MANIFEST_LOADED,Ee,O),ve.on(E.default.BUFFER_LEVEL_STATE_CHANGED,ye,O),ve.on(E.default.PLAYBACK_SEEKED,Ne,O),ve.on(E.default.PERIOD_SWITCH_COMPLETED,Ce,O)}},function Se(){C=Object(o.default)(Y).getInstance(),ge()}(),O}T.__dashjs_factory_name="CmcdModel",v.default=_.default.getSingletonFactory(T)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),_=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),I=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),w=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function o(){var d,u,m,y,k,P,B,F,R=this.context,D=Object(A.default)(R).getInstance();function C(){y=[],k=[],P=[],F=[],B=null,u=[]}function Ge(K,oe){var pe=-1;K.some(function(re,Q){if(re===oe)return pe=Q,!0}),!(pe<0)&&K.splice(pe,1)}function ge(K){var oe;for(oe=0;oe<F.length;oe++)if(F[oe].rulename===K)return oe;return-1}function Te(K,oe){Ue(K,oe);var pe=new n.default;pe.schemeIdUri=K,pe.value=oe,u.push(pe)}function Ue(K,oe){Object(_.checkParameterType)(K,"string"),Object(_.checkParameterType)(oe,"string"),u.forEach(function(pe,re){pe.schemeIdUri===K&&pe.value===oe&&u.splice(re,1)})}return d={getCustomInitialTrackSelectionFunction:function ee(){return B},setCustomInitialTrackSelectionFunction:function G(K){B=K},resetCustomInitialTrackSelectionFunction:function Z(){B=null},getLicenseResponseFilters:function Ae(){return k},getLicenseRequestFilters:function ae(){return y},getCustomCapabilitiesFilters:function de(){return P},registerCustomCapabilitiesFilter:function Se(K){P.push(K)},registerLicenseResponseFilter:function le(K){k.push(K)},registerLicenseRequestFilter:function j(K){y.push(K)},unregisterCustomCapabilitiesFilter:function xe(K){Ge(P,K)},unregisterLicenseResponseFilter:function ve(K){Ge(k,K)},unregisterLicenseRequestFilter:function Y(K){Ge(y,K)},addAbrCustomRule:function Ce(K,oe,pe){if("string"!=typeof K||K!==I.default.ABANDON_FRAGMENT_RULES&&K!==I.default.QUALITY_SWITCH_RULES||"string"!=typeof oe)throw w.default.BAD_ARGUMENT_ERROR;var re=ge(oe);-1===re?F.push({type:K,rulename:oe,rule:pe}):(F[re].type=K,F[re].rule=pe)},removeAllAbrCustomRule:function fe(){F=[]},removeAbrCustomRule:function Le(K){if(K){var oe=ge(K);-1!==oe&&F.splice(oe,1)}else F=[]},getAbrCustomRules:function we(){return F},addUTCTimingSource:Te,removeUTCTimingSource:Ue,getUTCTimingSources:function De(){return u},clearDefaultUTCTimingSources:function lt(){u=[]},restoreDefaultUTCTimingSources:function He(){var K=D.get().streaming.utcSynchronization.defaultTimingSource;Te(K.scheme,K.value)},setXHRWithCredentialsForType:function be(K,oe){K?m[K]=!!oe:Object.keys(m).forEach(function(pe){be(pe,oe)})},getXHRWithCredentialsForType:function _e(K){var oe=m[K];return void 0===oe?m.default:oe},setConfig:function M(){},reset:function O(){C()}},function T(){m={default:false},C()}(),d}o.__dashjs_factory_name="CustomParametersModel",v.default=E.default.getSingletonFactory(o)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),A="loading",_="executed",w="failed";function g(d){var R,D,T,C,u=(d=d||{}).eventBus,m=d.events,y=d.dashMetrics,k=d.fragmentLoader,P=d.debug,B=d.streamInfo,F=d.type;function Z(He){var Q;return!!He&&(Q=!1,T.some(function(X){if(function(re,Q){return!isNaN(re.index)&&re.startTime===Q.startTime&&re.adaptationIndex===Q.adaptationIndex&&re.type===Q.type}(He,X)||function(re,Q){return isNaN(re.index)&&isNaN(Q.index)&&re.quality===Q.quality}(He,X)||function(re,Q){return re.action===E.default.ACTION_COMPLETE&&re.action===Q.action}(He,X))return Q=!0}),Q)}function Ae(He){return isNaN(He.duration)?.25:Math.min(He.duration/8,.5)}function j(He){T=T.filter(function(be){var _e=Ae(be);return isNaN(be.startTime)||void 0!==He&&be.startTime>=He-_e})}function Y(He,be){be<=He+.5||(T=T.filter(function(_e){var K=Ae(_e);return isNaN(_e.startTime)||_e.startTime>=be-K||isNaN(_e.duration)||_e.startTime+_e.duration<=He+K}))}function Ge(He,be,_e){for(var oe=He.length-1;oe>=0;oe--){var pe=He[oe],re=pe.startTime,Q=re+pe.duration;if(_e=isNaN(_e)?Ae(pe):_e,!isNaN(re)&&!isNaN(Q)&&be+_e>=re&&be-_e<Q||isNaN(re)&&isNaN(be))return pe}return null}function Le(He,be){y.addSchedulingInfo(He,be),y.addRequestsQueue(He.mediaType,C,T)}function fe(He){He.sender===k&&(C.splice(C.indexOf(He.request),1),He.response&&!He.error&&T.push(He.request),Le(He.request,He.error?w:_),u.trigger(m.FRAGMENT_LOADING_COMPLETED,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:B.id,mediaType:F}))}function we(He){He.sender===k&&u.trigger(m.FRAGMENT_LOADING_PROGRESS,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:B.id,mediaType:F})}function Te(He){He.sender===k&&u.trigger(m.FRAGMENT_LOADING_ABANDONED,{request:He.request},{streamId:B.id,mediaType:F})}function De(){T=[],C=[]}return R={getStreamId:function M(){return B.id},getType:function G(){return F},getRequests:function ae(He){var _e=[];return(He?He.state instanceof Array?He.state:[He.state]:[]).forEach(function(K){var oe=function Ce(He){var be;switch(He){case A:be=C;break;case _:be=T;break;default:be=[]}return be}(K);_e=_e.concat(function ge(He,be){return be.hasOwnProperty("time")?[Ge(He,be.time,be.threshold)]:He.filter(function(_e){for(var K in be)if("state"!==K&&be.hasOwnProperty(K)&&_e[K]!=be[K])return!1;return!0})}(oe,He))}),_e},isFragmentLoaded:Z,isFragmentLoadedOrPending:function ee(He){var K,be=!1,_e=0;if(!(be=Z(He)))for(_e=0;_e<C.length;_e++)He.url===(K=C[_e]).url&&He.startTime===K.startTime&&(be=!0);return be},removeExecutedRequestsBeforeTime:j,removeExecutedRequestsAfterTime:function le(He){T=T.filter(function(be){return isNaN(be.startTime)||void 0!==He&&be.startTime<He})},syncExecutedRequestsWithBufferedRange:function ve(He,be){if(He&&0!==He.length){for(var _e=0,K=0,oe=He.length;K<oe;K++)Y(_e,He.start(K)),_e=He.end(K);be>0&&Y(_e,be)}else j()},abortRequests:function de(){D.debug("abort requests"),k.abort(),C=[]},executeRequest:function Se(He){He.action===E.default.ACTION_DOWNLOAD?(Le(He,A),C.push(He),function xe(He){u.trigger(m.FRAGMENT_LOADING_STARTED,{request:He},{streamId:B.id,mediaType:F}),k.load(He)}(He)):D.warn("Unknown request action.")},reset:function Ue(){u.off(m.LOADING_COMPLETED,fe,this),u.off(m.LOADING_DATA_PROGRESS,we,this),u.off(m.LOADING_ABANDONED,Te,this),k&&k.reset(),De()},resetInitialSettings:De,addExecutedRequest:function lt(He){T.push(He)}},function O(){D=P.getLogger(R),De(),u.on(m.LOADING_COMPLETED,fe,R),u.on(m.LOADING_DATA_PROGRESS,we,R),u.on(m.LOADING_ABANDONED,Te,R)}(),R}g.__dashjs_factory_name="FragmentModel";var o=n.default.getClassFactory(g);o.FRAGMENT_MODEL_LOADING=A,o.FRAGMENT_MODEL_EXECUTED=_,o.FRAGMENT_MODEL_CANCELED="canceled",o.FRAGMENT_MODEL_FAILED=w,n.default.updateClassFactory(g.__dashjs_factory_name,o),v.default=o},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(){var u,m,d=this.context,y={};function k(){m=Object(n.default)(d).getInstance().getLogger(u)}function P(T){for(var C={},O=0,M=0,G=0,Z=0,ee=T.length,ae=0;ae<ee;++ae)O+=T[ae].chunkDownloadTimeRelativeMS,M+=T[ae].bufferLevel,G+=T[ae].chunkDownloadTimeRelativeMS*T[ae].bufferLevel,Z+=T[ae].chunkDownloadTimeRelativeMS*T[ae].chunkDownloadTimeRelativeMS;return C.m=(G-O*M/ee)/(Z-O*O/ee),C.b=M/ee-C.m*O/ee,function(Ae){return C.m*Ae+C.b}}function B(T){var O,C=!0,M=T.reduce(function(G,Z){return G+Z.bufferLevelAtSegmentEnd},0)/T.length;return T.forEach(function(G){Math.abs(G.bufferLevelAtSegmentEnd/G.bufferLevelAtSegmentStart)<.95&&(C=!1),G.bufferLevelAtSegmentEnd/M<.8&&(C=!1),O?O>G.bitrate&&(C=!1):O=G.bitrate}),C}return u={setup:k,addMeasurement:function D(T,C,O,M,G){T&&T.mediaType&&!y[T.mediaType]&&(y[T.mediaType]=[]);var Z=T.mediaInfo.bitrateList.find(function(ee){return ee.id===T.representationId});y[T.mediaType].push({index:T.index,repId:T.representationId,mediaType:T.mediaType,requestTimeMS:M,adjustedAvailabilityStartTimeMS:T.availabilityStartTime.getTime(),segDurationMS:1e3*T.duration,chunksDurationMS:O.reduce(function(ee,ae){return ee+ae.chunkDownloadDurationMS},0),segmentBytes:O.reduce(function(ee,ae){return ee+ae.chunkBytes},0),bitrate:Z&&Z.bandwidth,bitrateList:T.mediaInfo.bitrateList,chunkMeasurements:O,fetchDownloadDurationMS:C,throughputCapacityDelayMS:G,getEstimatedBufferLevel:P(O.slice(1))}),y[T.mediaType].length>10&&y[T.mediaType].shift()},getThroughputCapacityDelayMS:function R(T,C){var O=y[T.mediaType]&&y[T.mediaType].slice(-3);return!O||O.length<3||!B(O)?0:C/4>250?250:C/4},getEstimatedDownloadDurationMS:function F(T){var C=y[T.mediaType].slice(-1).pop(),O=y[T.mediaType].slice(-3),M=C.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;C.bufferLevelAtSegmentStart=C.getEstimatedBufferLevel(M/2),C.bufferLevelAtSegmentEnd=C.getEstimatedBufferLevel(M);var G=B(O),Z=G?.6:.8;if(C.isBufferStable&&1.05*C.segDurationMS<C.fetchDownloadDurationMS)return C.fetchDownloadDurationMS;if(!G||C.segDurationMS<C.fetchDownloadDurationMS||C.adjustedAvailabilityStartTimeMS<=C.requestTimeMS+C.throughputCapacityDelayMS-C.segDurationMS)return.8*C.fetchDownloadDurationMS;for(var ee=C.requestTimeMS+C.throughputCapacityDelayMS-C.adjustedAvailabilityStartTimeMS,ae=0,Ae=0,j=0,le=0;le<C.chunkMeasurements.length;le++){var Y=C.chunkMeasurements[le];if(ee<Ae+Y.chunkDownloadDurationMS)break;Ae+=Y.chunkDownloadDurationMS,ae+=Y.chunkBytes,j++}if(ee<0&&m.warn("request time was before adjusted availibitly start time"),ae&&Ae&&j>.2*C.chunkMeasurements.length){var de=C.segmentBytes/(ae/Ae);return C.fetchDownloadDurationMS<de?C.fetchDownloadDurationMS*Z:de*Z}var Se=C.bitrate;return C.bitrateList.some(function(xe){if(xe.bandwidth>C.bitrate)return Se=xe.bandwidth,!0}),Se===C.bitrate?C.fetchDownloadDurationMS*Z:Z*C.segmentBytes*8*1e3/Se}},k(),u}A.__dashjs_factory_name="LowLatencyThroughputModel",v.default=E.default.getSingletonFactory(A)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(){var o,I=this.context,w=Object(n.default)(I).getInstance();return{getValue:function d(){return o},setValue:function u(m){o=m,m&&w.trigger(E.default.MANIFEST_LOADED,{data:m})}}}_.__dashjs_factory_name="ManifestModel",v.default=A.default.getSingletonFactory(_)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),m=-.5;function k(){var P,B,F,R,D=this.context,T=Object(A.default)(D).getInstance();function M(Se,xe){return isNaN(Se)?0:Se>0?(xe&&B.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):Se<m?(xe&&B.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(m,": ").concat(-50,"% playback speed.")),m):Se}function G(Se,xe){return isNaN(Se)?0:Se<0?(xe&&B.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):Se>1?(xe&&B.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):Se}function le(){var Se=T.get().streaming.buffer.stableBufferTime>0?T.get().streaming.buffer.stableBufferTime:T.get().streaming.buffer.fastSwitchEnabled?20:12,xe=F.getLiveDelay();return!isNaN(xe)&&xe>0?Math.min(Se,xe):Se}return P={getCatchupMaxDrift:function Z(){if(!isNaN(T.get().streaming.liveCatchup.maxDrift)&&T.get().streaming.liveCatchup.maxDrift>0)return T.get().streaming.liveCatchup.maxDrift;var Se=R.getServiceDescriptionSettings();return Se&&Se.liveCatchup&&!isNaN(Se.liveCatchup.maxDrift)&&Se.liveCatchup.maxDrift>0?Se.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ae(){return null!==T.get().streaming.liveCatchup.enabled?T.get().streaming.liveCatchup.enabled:F.getInitialCatchupModeActivated()},getStableBufferTime:le,getInitialBufferLevel:function j(){var Se=T.get().streaming.buffer.initialBufferLevel;return isNaN(Se)||Se<0?0:Math.min(le(),Se)},getRetryAttemptsForType:function Y(Se){var xe=isNaN(T.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:T.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return F.getLowLatencyModeEnabled()?T.get().streaming.retryAttempts[Se]*xe:T.get().streaming.retryAttempts[Se]},getRetryIntervalsForType:function ve(Se){var xe=isNaN(T.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:T.get().streaming.retryIntervals.lowLatencyReductionFactor;return F.getLowLatencyModeEnabled()?T.get().streaming.retryIntervals[Se]/xe:T.get().streaming.retryIntervals[Se]},getCatchupPlaybackRates:function ee(Se){var xe=T.get().streaming.liveCatchup.playbackRate;if(!isNaN(xe.min)||!isNaN(xe.max))return{min:M(xe.min,Se),max:G(xe.max,Se)};var Ge=R.getServiceDescriptionSettings();if(Ge&&Ge.liveCatchup&&(!isNaN(Ge.liveCatchup.playbackRate.min)||!isNaN(Ge.liveCatchup.playbackRate.max))){var ge=Ge.liveCatchup.playbackRate;return{min:M(ge.min,Se),max:G(ge.max,Se)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Ae(Se,xe){try{var Ge=T.get().streaming.abr[Se][xe];if(!isNaN(Ge)&&-1!==Ge)return Ge;var ge=R.getServiceDescriptionSettings();return ge&&ge[Se]&&!isNaN(ge[Se][xe])?ge[Se][xe]:-1}catch{return-1}},setConfig:function O(Se){Se.playbackController&&(F=Se.playbackController),Se.serviceDescriptionController&&(R=Se.serviceDescriptionController)},reset:function de(){}},function C(){B=Object(n.default)(D).getInstance().getLogger(P)}(),P}k.__dashjs_factory_name="MediaPlayerModel",v.default=E.default.getSingletonFactory(k)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=e(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),_=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=e(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),w=e(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),g=e(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),o=e(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),d=e(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),u=e(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),m=e(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),k=e(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),B=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function F(R){var O,M,D=(R=R||{}).settings,T=this.context,C=Object(y.default)(T).getInstance();function Z(){C.trigger(P.default.METRICS_CHANGED)}function ee(K){C.trigger(P.default.METRIC_CHANGED,{mediaType:K}),Z()}function ae(K,oe,pe){C.trigger(P.default.METRIC_UPDATED,{mediaType:K,metric:oe,value:pe}),ee(K)}function Ae(K,oe,pe){C.trigger(P.default.METRIC_ADDED,{mediaType:K,metric:oe,value:pe}),ee(K)}function Y(K,oe){var pe=null;return K&&(M.hasOwnProperty(K)?pe=M[K]:oe||(pe=new A.default,M[K]=pe)),pe}function ve(K,oe,pe){var re=Y(K);null!==re&&(re[oe].push(pe),re[oe].length>D.get().streaming.metrics.maxListDepth&&re[oe].shift())}function Ge(K,oe,pe){ve(K,oe,pe),Ae(K,oe,pe)}return O={clearCurrentMetricsForType:function j(K){delete M[K],ee(K)},clearAllCurrentMetrics:function le(){M={},Z()},getMetricsFor:Y,addHttpRequest:function Se(K,oe,pe,re,Q,X,$,ne,J,q,me,Ee,ye,Ne,tt,qe){var Xe=new _.HTTPRequest;X&&X!==re&&(Se(K,null,pe,re,Q,null,null,ne,J,null,null,null,ye,null,null,qe),Xe.actualurl=X),Xe.tcpid=oe,Xe.type=pe,Xe.url=re,Xe.range=ne,Xe.trequest=J,Xe.tresponse=q,Xe.responsecode=Ee,Xe._tfinish=me,Xe._stream=K,Xe._mediaduration=ye,Xe._quality=Q,Xe._responseHeaders=Ne,Xe._serviceLocation=$,Xe._fileLoaderType=qe,tt?tt.forEach(function(ut){!function de(K,oe,pe,re){var Q=new _.HTTPRequestTrace;return Q.s=oe,Q.d=pe,Q.b=re,K.trace.push(Q),K.interval||(K.interval=0),K.interval+=pe,Q}(Xe,ut.s,ut.d,ut.b)}):(delete Xe.interval,delete Xe.trace),Ge(K,E.default.HTTP_REQUEST,Xe)},addRepresentationSwitch:function xe(K,oe,pe,re,Q){var X=new I.default;X.t=oe,X.mt=pe,X.to=re,Q?X.lto=Q:delete X.lto,Ge(K,E.default.TRACK_SWITCH,X)},addBufferLevel:function ge(K,oe,pe){var re=new w.default;re.t=oe,re.level=pe,Ge(K,E.default.BUFFER_LEVEL,re)},addBufferState:function Ce(K,oe,pe){var re=new g.default;re.target=pe,re.state=oe,Ge(K,E.default.BUFFER_STATE,re)},addDVRInfo:function Le(K,oe,pe,re){var Q=new o.default;Q.time=oe,Q.range=re,Q.manifestInfo=pe,Ge(K,E.default.DVR_INFO,Q)},addDroppedFrames:function fe(K,oe){var pe=new d.default,re=Y(K).DroppedFrames;oe&&(pe.time=oe.creationTime,pe.droppedFrames=oe.droppedVideoFrames,!(re.length>0&&re[re.length-1]==pe)&&Ge(K,E.default.DROPPED_FRAMES,pe))},addSchedulingInfo:function we(K,oe,pe,re,Q,X,$,ne,J){var q=new m.default;q.mediaType=K,q.t=oe,q.type=pe,q.startTime=re,q.availabilityStartTime=Q,q.duration=X,q.quality=$,q.range=ne,q.state=J,Ge(K,E.default.SCHEDULING_INFO,q)},addRequestsQueue:function Te(K,oe,pe){var re=new k.default;re.loadingRequests=oe,re.executedRequests=pe,Y(K).RequestsQueue=re,Ae(K,E.default.REQUESTS_QUEUE,re)},addManifestUpdate:function De(K,oe,pe,re,Q,X,$,ne,J,q){var me=new u.ManifestUpdate;me.mediaType=K,me.type=oe,me.requestTime=pe,me.fetchTime=re,me.availabilityStartTime=Q,me.presentationStartTime=X,me.clientTimeOffset=$,me.currentTime=ne,me.buffered=J,me.latency=q,ve(n.default.STREAM,E.default.MANIFEST_UPDATE,me),Ae(K,E.default.MANIFEST_UPDATE,me)},updateManifestUpdateInfo:function Ue(K,oe){if(K){for(var pe in oe)K[pe]=oe[pe];ae(K.mediaType,E.default.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function lt(K,oe,pe,re,Q){if(K){var X=new u.ManifestUpdateStreamInfo;X.id=oe,X.index=pe,X.start=re,X.duration=Q,K.streamInfo.push(X),ae(K.mediaType,E.default.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function He(K,oe,pe,re,Q,X,$,ne){if(K&&K.representationInfo){var J=new u.ManifestUpdateRepresentationInfo;J.id=oe,J.index=pe,J.streamIndex=re,J.mediaType=Q,J.startNumber=$,J.fragmentInfoType=ne,J.presentationTimeOffset=X,K.representationInfo.push(J),ae(K.mediaType,E.default.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function be(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(oe){oe.hasOwnProperty("subreplevel")&&!oe.subreplevel&&delete oe.subreplevel}):delete K.trace,Ge(n.default.STREAM,E.default.PLAY_LIST,K)},addDVBErrors:function _e(K){Ge(n.default.STREAM,E.default.DVB_ERRORS,K)}},function G(){M={}}(),O}F.__dashjs_factory_name="MetricsModel",v.default=B.default.getSingletonFactory(F)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(){var I;return{initialize:function w(o){if(I=new n.default,!o)return null;var d=o.indexOf("#");if(-1!==d)for(var u=o.substr(d+1).split("&"),m=0,y=u.length;m<y;++m){var k=u[m],P=k.indexOf("=");if(-1!==P){var B=k.substring(0,P);I.hasOwnProperty(B)&&(I[B]=k.substr(P+1))}}},getURIFragmentData:function g(){return I}}}A.__dashjs_factory_name="URIFragmentModel",v.default=E.default.getSingletonFactory(A)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=new Map([[I.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[I.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[I.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[I.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function g(){var o,d,u,m,y,k,P,F=this.context,R=Object(E.default)(F).getInstance(),D=[];function M(){u&&(u.playbackRate=P||1,u.removeEventListener("canplay",M))}function Ge(){return D.length>0}function fe(){if(u&&Ge()&&0===u.playbackRate){var ze=document.createEvent("Event");ze.initEvent("waiting",!0,!1),u.dispatchEvent(ze)}}function oe(ze,ht){u&&u.addEventListener(ze,ht)}function pe(ze,ht){u&&u.removeEventListener(ze,ht)}function re(){return u?u.readyState:NaN}function Q(){return u?u.buffered:null}function ye(ze,ht,vt,ce,Ve){if(u)for(var yt=0;yt<u.textTracks.length;yt++)if(u.textTracks[yt].kind===ze&&(!ht||u.textTracks[yt].label==ht)&&u.textTracks[yt].language===vt&&u.textTracks[yt].isTTML===ce&&u.textTracks[yt].isEmbedded===Ve)return u.textTracks[yt];return null}function Xe(ze,ht){ze===I.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||re()>=ze?ht():function ut(ze,ht){oe(ze,function ce(){pe(ze,ce),ht(ze)})}(w.get(ze),ht)}return o={initialize:function C(){R.on(A.default.PLAYBACK_PLAYING,fe,this)},setCurrentTime:function Z(ze,ht){m=ze,Xe(I.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(u){if(u.currentTime===m)return void(m=NaN);try{m=ht?function ee(ze){var ht=Q(),vt=ze,ce=9999999999;if(ht)for(var Ve=0;Ve<ht.length;Ve++){var yt=ht.start(Ve),Bt=ht.end(Ve),zt=Math.abs(yt-ze),Yt=Math.abs(Bt-ze);if(ze>=yt&&ze<=Bt)return ze;zt<ce&&(ce=zt,vt=yt),Yt<ce&&(ce=Yt,vt=Bt)}return vt}(m):m,u.currentTime=m,m=NaN}catch(vt){0===u.readyState&&vt.code===vt.INVALID_STATE_ERR&&setTimeout(function(){u.currentTime=m,m=NaN},400)}}})},play:function Te(){if(u){u.autoplay=!0;var ze=u.play();ze&&ze.catch&&typeof Promise<"u"&&ze.catch(function(ht){"NotAllowedError"===ht.name&&R.trigger(A.default.PLAYBACK_NOT_ALLOWED),d.warn("Caught pending play exception - continuing (".concat(ht,")"))})}},isPaused:function De(){return u?u.paused:null},pause:function Ue(){u&&(u.pause(),u.autoplay=!1)},isStalled:Ge,isSeeking:function lt(){return u?u.seeking||!isNaN(m):null},getTime:function He(){return u?isNaN(m)?u.currentTime:m:null},getPlaybackRate:function be(){return u?u.playbackRate:null},setPlaybackRate:function G(ze){u&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&u.readyState<=2&&ze>0?u.addEventListener("canplay",M):u.playbackRate=ze)},getPlayedRanges:function _e(){return u?u.played:null},getEnded:function K(){return u?u.ended:null},setStallState:function xe(ze,ht){!function Le(ze,ht){ht?function ge(ze){null===ze||!u||u.seeking||-1!==D.indexOf(ze)||D.push(ze)}(ze):function Ce(ze){var ht=D.indexOf(ze);null!==ze&&-1!==ht&&D.splice(ht,1)}(ze)}(ze,ht)},getElement:function ae(){return u},setElement:function Ae(ze){if(!(null==ze||ze&&/^(VIDEO|AUDIO)$/i.test(ze.nodeName)))throw"element is not video or audio DOM type!";(u=ze)&&(u.preload="auto")},setSource:function j(ze){u&&(ze?u.src=ze:(u.removeAttribute("src"),u.load()))},getSource:function le(){return u?u.src:null},getTTMLRenderingDiv:function Y(){return y},setTTMLRenderingDiv:function de(ze){(y=ze).style.position="absolute",y.style.display="flex",y.style.overflow="hidden",y.style.pointerEvents="none",y.style.top=0,y.style.left=0},getVttRenderingDiv:function ve(){return k},setVttRenderingDiv:function Se(ze){k=ze},getPlaybackQuality:function we(){if(!u)return null;var ze="webkitDroppedFrameCount"in u&&"webkitDecodedFrameCount"in u,vt=null;return"getVideoPlaybackQuality"in u?vt=u.getVideoPlaybackQuality():ze&&(vt={droppedVideoFrames:u.webkitDroppedFrameCount,totalVideoFrames:u.webkitDroppedFrameCount+u.webkitDecodedFrameCount,creationTime:new Date}),vt},addEventListener:oe,removeEventListener:pe,getReadyState:re,getBufferRange:Q,getClientWidth:function X(){return u?u.clientWidth:NaN},getClientHeight:function $(){return u?u.clientHeight:NaN},getTextTracks:function Ee(){return u?u.textTracks:[]},getTextTrack:ye,addTextTrack:function Ne(ze,ht,vt,ce,Ve){if(!u)return null;var yt=ye(ze,ht,vt,ce,Ve);return yt||((yt=u.addTextTrack(ze,ht,vt)).isEmbedded=Ve,yt.isTTML=ce),yt},appendChild:function tt(ze){u&&(u.appendChild(ze),void 0!==ze.isTTML&&(u.textTracks[u.textTracks.length-1].isTTML=ze.isTTML,u.textTracks[u.textTracks.length-1].isEmbedded=ze.isEmbedded))},removeChild:function qe(ze){u&&u.removeChild(ze)},getVideoWidth:function ne(){return u?u.videoWidth:NaN},getVideoHeight:function J(){return u?u.videoHeight:NaN},getVideoRelativeOffsetTop:function q(){var ze=u.parentNode.host||u.parentNode;return ze?u.getBoundingClientRect().top-ze.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function me(){var ze=u.parentNode.host||u.parentNode;return ze?u.getBoundingClientRect().left-ze.getBoundingClientRect().left:NaN},waitForReadyState:Xe,reset:function O(){R.off(A.default.PLAYBACK_PLAYING,fe,this)}},function T(){d=Object(_.default)(F).getInstance().getLogger(o),m=NaN}(),o}g.__dashjs_factory_name="VideoModel",v.default=n.default.getSingletonFactory(g)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function I(P,B){return function o(P){if(Array.isArray(P))return P}(P)||function g(P,B){var F=null==P?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(null!=F){var R,D,T,C,O=[],M=!0,G=!1;try{if(T=(F=F.call(P)).next,0===B){if(Object(F)!==F)return;M=!1}else for(;!(M=(R=T.call(F)).done)&&(O.push(R.value),O.length!==B);M=!0);}catch(Z){G=!0,D=Z}finally{try{if(!M&&null!=F.return&&(C=F.return(),Object(C)!==C))return}finally{if(G)throw D}}return O}}(P,B)||u(P,B)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(P,B){if(P){if("string"==typeof P)return m(P,B);var F=Object.prototype.toString.call(P).slice(8,-1);if("Object"===F&&P.constructor&&(F=P.constructor.name),"Map"===F||"Set"===F)return Array.from(P);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return m(P,B)}}function m(P,B){(null==B||B>P.length)&&(B=P.length);for(var F=0,R=new Array(B);F<B;F++)R[F]=P[F];return R}function y(P){var O,B=this.context,F=(P=P||{}).requestModifier,R=P.lowLatencyThroughputModel,D=P.boxParser,T=Object(E.default)(B).getInstance();function Z(Y){var ge,ve=new Date,de=Y.request,Se=new Headers;if(de.range&&Se.append("Range","bytes="+de.range),Y.headers)for(var xe in Y.headers){var Ge=Y.headers[xe];Ge&&Se.append(xe,Ge)}de.requestStartDate||(de.requestStartDate=ve),F&&F.modifyRequestHeader&&F.modifyRequestHeader({setRequestHeader:function(De,Ue){Se.append(De,Ue)}},{url:Y.url}),"function"==typeof window.AbortController&&(ge=new AbortController,Y.abortController=ge,ge.signal.onabort=Y.onabort);var Ce={method:Y.method,headers:Se,credentials:Y.withCredentials?"include":void 0,signal:ge?ge.signal:void 0},Le=T.get().streaming.abr.fetchThroughputCalculationMode,fe=Date.now(),we=0;new Promise(function(Te){if(Le===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&R&&(we=R.getThroughputCapacityDelayMS(de,1e3*O.getCurrentBufferLevel(de.mediaType))))return setTimeout(Te,we);Te()}).then(function(){var Te=Date.now();fetch(Y.url,Ce).then(function(De){Y.response||(Y.response={}),Y.response.status=De.status,Y.response.statusText=De.statusText,Y.response.responseURL=De.url,De.ok||Y.onerror();var He,Ue="",lt=function d(P,B){var F=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!F){if(Array.isArray(P)||(F=u(P))||B&&P&&"number"==typeof P.length){F&&(P=F);var R=0,D=function(){};return{s:D,n:function(){return R>=P.length?{done:!0}:{done:!1,value:P[R++]}},e:function(G){throw G},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,T=!0,C=!1;return{s:function(){F=F.call(P)},n:function(){var G=F.next();return T=G.done,G},e:function(G){C=!0,O=G},f:function(){try{!T&&null!=F.return&&F.return()}finally{if(C)throw O}}}}(De.headers.keys());try{for(lt.s();!(He=lt.n()).done;){var be=He.value;Ue+=be+": "+De.headers.get(be)+"\r\n"}}catch(Xe){lt.e(Xe)}finally{lt.f()}if(Y.response.responseHeaders=Ue,!De.body)return De.arrayBuffer().then(function(Xe){Y.response.response=Xe,Y.progress({loaded:Xe.byteLength,total:Xe.byteLength,stream:!1}),Y.onload(),Y.onend()});var ze,ht,_e=parseInt(De.headers.get("Content-Length"),10),K=0,oe=!1,pe=new Uint8Array,re=0;if(Le===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&R){var X=Te,$=0,J=I(De.body.tee(),2),me=J[1];ze=J[0].getReader(),ht=[],ze.read().then(function vt(ce){var Ve=ce.value,yt=ce.done;if($=Date.now(),Ve&&Ve.length){var Bt=$-X,zt=Ve.length;ht.push({chunkDownloadTimeRelativeMS:$-Te,chunkDownloadDurationMS:Bt,chunkBytes:zt,kbps:Math.round(8*zt/(Bt/1e3)),bufferLevel:O.getCurrentBufferLevel(de.mediaType)})}if(yt){var Yt=$-Te,cn=ht.reduce(function(nn,Mt){return nn+Mt.chunkBytes},0);return R.addMeasurement(de,Yt,ht,fe,we,Ue),void Y.progress({loaded:cn,total:cn,lengthComputable:!0,time:R.getEstimatedDownloadDurationMS(de),stream:!0})}return X=Date.now(),ze.read().then(vt)}),Y.reader=me.getReader()}else Y.reader=De.body.getReader();var Ee=[],ye=[],Ne=[],tt=!0;ee(Y,function Xe(ut){var ze=ut.value;if(ut.done){if(pe){if(Le!==A.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var vt=null,ce=null;Le===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(vt=function le(Y,ve){try{var de,Se;de=Y.filter(function(Te,De){return De<Y.length-1}),Se=ve.filter(function(Te,De){return De<ve.length-1});var xe=[];if(de.length>1){for(var Ge=0,ge=0,Ce=0;Ce<de.length;Ce++)if(de[Ce]&&Se[Ce]){var Le=Se[Ce].ts-de[Ce].ts;if(Le>1)xe.push(8*Se[Ce].bytes/Le);else{0===ge&&(ge=de[Ce].ts);var fe=Se[Ce].ts-ge;fe>1?(xe.push(8*Ge/fe),Ge=0,ge=0):Ge+=Se[Ce].bytes}}if(xe.length>0)return xe.reduce(function(Te,De){return Te+De},0)/xe.length}return null}catch{return null}}(ye,Ne))&&(ce=8*K/vt):Le===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(ce=j(Ee,K)),Y.progress({loaded:K,total:isNaN(_e)?K:_e,lengthComputable:!0,time:ce,stream:!0})}Y.response.response=pe.buffer}return Y.onload(),void Y.onend()}if(ze&&ze.length>0){pe=function ae(Y,ve){if(0===Y.length)return ve;var de=new Uint8Array(Y.length+ve.length);return de.set(Y),de.set(ve,Y.length),de}(pe,ze),K+=ze.length,Ee.push({ts:Date.now(),bytes:ze.length}),Le===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&tt&&D.findLastTopIsoBoxCompleted(["moof"],pe,re).found&&(tt=!1,ye.push({ts:performance.now(),bytes:ze.length}));var yt=D.findLastTopIsoBoxCompleted(["moov","mdat"],pe,re);if(yt.found){var zt,Bt=yt.lastCompletedOffset+yt.size;Le===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!tt&&(tt=!0,Ne.push({ts:performance.now(),bytes:pe.length})),Bt===pe.length?(zt=pe,pe=new Uint8Array):(zt=new Uint8Array(pe.subarray(0,Bt)),pe=pe.subarray(Bt)),Y.progress({data:zt.buffer,lengthComputable:!1,noTrace:!0}),re=0}else re=yt.lastCompletedOffset,oe||(Y.progress({lengthComputable:!1,noTrace:!0}),oe=!0)}ee(Y,Xe)})}).catch(function(De){Y.onerror&&Y.onerror(De)})})}function ee(Y,ve){Y.reader.read().then(ve).catch(function(de){Y.onerror&&200===Y.response.status&&Y.onerror(de)})}function j(Y,ve){try{if((Y=Y.filter(function(xe){return xe.bytes>ve/4/Y.length})).length>1){var de=0,Se=(Y[Y.length-1].ts-Y[0].ts)/Y.length;return Y.forEach(function(xe,Ge){var ge=Y[Ge+1];if(ge){var Ce=ge.ts-xe.ts;de+=Ce<Se?Ce:0}}),de}return null}catch{return null}}return{load:function G(Y){F&&F.modifyRequest?Object(_.modifyRequest)(Y,F).then(function(){return Z(Y)}):Z(Y)},abort:function Ae(Y){if(Y.abortController)Y.abortController.abort();else if(Y.reader)try{Y.reader.cancel(),Y.onabort()}catch{}},calculateDownloadedTime:j,setup:function M(Y){O=Y.dashMetrics}}}y.__dashjs_factory_name="FetchLoader";var k=n.default.getClassFactory(y);v.default=k},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),E=e(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),A=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=e(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),g=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),o=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),u=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),k=e(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),P=e(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function B(O){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function F(O,M,G){return(M=function R(O){var M=function D(O,M){if("object"!==B(O)||null===O)return O;var G=O[Symbol.toPrimitive];if(void 0!==G){var Z=G.call(O,M||"default");if("object"!==B(Z))return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===B(M)?M:String(M)}(M))in O?Object.defineProperty(O,M,{value:G,enumerable:!0,configurable:!0,writable:!0}):O[M]=G,O}function T(O){var de,Se,xe,Ge,ge,Ce,Le,fe,we,M=this.context,G=(O=O||{}).errHandler,Z=O.dashMetrics,ee=O.mediaPlayerModel,ae=O.requestModifier,Ae=O.boxParser,j=O.errors,le=O.requestTimeout||0,Y=Object(d.default)(M).getInstance(),ve=Object(m.default)(M).getInstance();function De(be,_e){var J,K=be.request,oe=[],pe=!0,re=!0,Q=new Date,X=Q,$=0,ne=null;if(!ae||!Z||!G)throw new Error("config object is not correct or missing");var qe,q=function(zt){if(re=!1,K.requestStartDate=Q,K.requestEndDate=new Date,K.firstByteDate=K.firstByteDate||Q,K.fileLoaderType=ne,!K.checkExistenceOnly){var Yt=J.response?J.response.responseURL:null,cn=J.response?J.response.status:null,nn=J.response&&J.response.getAllResponseHeaders?J.response.getAllResponseHeaders():J.response?J.response.responseHeaders:[];Z.addHttpRequest(K,Yt,cn,nn,zt?oe:null),K.type===A.HTTPRequest.MPD_TYPE&&Z.addManifestUpdate(K)}},me=function(){if(-1!==Se.indexOf(J)&&(Se.splice(Se.indexOf(J),1),re))if(q(!1),_e>0){try{ve.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&K.type===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&ee.getRetryAttemptsForType(A.HTTPRequest.MEDIA_SEGMENT_TYPE)===_e&&Y.trigger(u.default.ATTEMPT_BACKGROUND_SYNC)}catch{}_e--;var Yt={config:be};Ge.push(Yt),Yt.timeout=setTimeout(function(){-1!==Ge.indexOf(Yt)&&(Ge.splice(Ge.indexOf(Yt),1),De(be,_e))},ee.getRetryIntervalsForType(K.type))}else{if(K.type===A.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;G.error(new I.default(ge[K.type],K.url+" is not available",{request:K,response:J.response})),be.error&&be.error(K,"error",J.response.statusText),be.complete&&be.complete(K,J.response.statusText)}};K.hasOwnProperty("availabilityTimeComplete")&&!1===K.availabilityTimeComplete&&window.fetch&&"arraybuffer"===K.responseType&&K.type===A.HTTPRequest.MEDIA_SEGMENT_TYPE?((qe=Object(E.default)(M).create({requestModifier:ae,lowLatencyThroughputModel:fe,boxParser:Ae})).setup({dashMetrics:Z}),ne=y.default.FILE_LOADER_TYPES.FETCH):(qe=Object(n.default)(M).create({requestModifier:ae}),ne=y.default.FILE_LOADER_TYPES.XHR);var Xe=null,ut=ae.modifyRequestURL?ae.modifyRequestURL(K.url):K.url;if(ve.get().streaming.cmcd&&ve.get().streaming.cmcd.enabled){var ze=ve.get().streaming.cmcd.mode;if(ze===y.default.CMCD_MODE_QUERY){var ht=function Ue(be){try{var _e=[],K=Ce.getQueryParameter(be);return K&&_e.push(K),_e}catch{return[]}}(K);ut=g.default.addAditionalQueryParameterToUrl(ut,ht)}else ze===y.default.CMCD_MODE_HEADER&&(Xe=Ce.getHeaderParameters(K))}K.url=ut;var vt=K.checkExistenceOnly?A.HTTPRequest.HEAD:A.HTTPRequest.GET,ce=Le.getXHRWithCredentialsForType(K.type);J={url:ut,method:vt,withCredentials:ce,request:K,onload:function(){J.response.status>=200&&J.response.status<=299&&(q(!0),be.success&&be.success(J.response.response,J.response.statusText,J.response.responseURL),be.complete&&be.complete(K,J.response.statusText))},onend:me,onerror:me,progress:function(zt){var Yt=new Date;pe&&(pe=!1,(!zt.lengthComputable||zt.lengthComputable&&zt.total!==zt.loaded)&&(K.firstByteDate=Yt)),zt.lengthComputable&&(K.bytesLoaded=zt.loaded,K.bytesTotal=zt.total),zt.noTrace||(oe.push({s:X,d:zt.time?zt.time:Yt.getTime()-X.getTime(),b:[zt.loaded?zt.loaded-$:0]}),X=Yt,$=zt.loaded),be.progress&&zt&&be.progress(zt)},onabort:function(){be.abort&&be.abort(K)},ontimeout:function(zt){var Yt;Yt=zt.lengthComputable?"Request timeout: loaded: "+zt.loaded+", out of: "+zt.total+" : "+(zt.loaded/zt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",we.warn(Yt)},loader:qe,timeout:le,headers:Xe};var Ve=(new Date).getTime();if(isNaN(K.delayLoadingTime)||Ve>=K.delayLoadingTime)Se.push(J),qe.load(J);else{var yt={httpRequest:J};xe.push(yt),yt.delayTimeout=setTimeout(function(){if(-1!==xe.indexOf(yt)){xe.splice(xe.indexOf(yt),1);try{X=Q=new Date,Se.push(yt.httpRequest),qe.load(yt.httpRequest)}catch{yt.httpRequest.onerror()}}},K.delayLoadingTime-Ve)}}return de={load:function lt(be){be.request?De(be,ee.getRetryAttemptsForType(be.request.type)):be.error&&be.error(be.request,"error")},abort:function He(){Ge.forEach(function(be){clearTimeout(be.timeout),be.config.request&&be.config.abort&&be.config.abort(be.config.request)}),Ge=[],xe.forEach(function(be){return clearTimeout(be.delayTimeout)}),xe=[],Se.forEach(function(be){be.request.type!==A.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(be.onloadend=be.onerror=be.onprogress=void 0,be.loader.abort(be))}),Se=[]}},function Te(){var be;we=Object(o.default)(M).getInstance().getLogger(de),Se=[],xe=[],Ge=[],Ce=Object(w.default)(M).getInstance(),fe=Object(k.default)(M).getInstance(),Le=Object(P.default)(M).getInstance(),F(be={},A.HTTPRequest.MPD_TYPE,j.DOWNLOAD_ERROR_ID_MANIFEST_CODE),F(be,A.HTTPRequest.XLINK_EXPANSION_TYPE,j.DOWNLOAD_ERROR_ID_XLINK_CODE),F(be,A.HTTPRequest.INIT_SEGMENT_TYPE,j.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),F(be,A.HTTPRequest.MEDIA_SEGMENT_TYPE,j.DOWNLOAD_ERROR_ID_CONTENT_CODE),F(be,A.HTTPRequest.INDEX_SEGMENT_TYPE,j.DOWNLOAD_ERROR_ID_CONTENT_CODE),F(be,A.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,j.DOWNLOAD_ERROR_ID_CONTENT_CODE),F(be,A.HTTPRequest.OTHER_TYPE,j.DOWNLOAD_ERROR_ID_CONTENT_CODE),ge=be}(),de}T.__dashjs_factory_name="HTTPLoader";var C=_.default.getClassFactory(T);v.default=C},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function A(){var w;function d(){w={}}function m(){d()}return function y(){m()}(),{getLoader:function u(k){for(var P in w)if(w.hasOwnProperty(P)&&k.startsWith(P))return w[P];return E.default},registerLoader:function g(k,P){w[k]=P},unregisterLoader:function o(k){w[k]&&delete w[k]},unregisterAllLoader:d,reset:m}}A.__dashjs_factory_name="SchemeLoaderFactory";var _=n.default.getSingletonFactory(A);v.default=_},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function A(I){I=I||{};var o,d,w=this.context;return o=Object(E.default)(w).getInstance(),{load:function u(y){if(!d){var k=o.getLoader(y&&y.request?y.request.url:null);d=k(w).create({errHandler:I.errHandler,mediaPlayerModel:I.mediaPlayerModel,requestModifier:I.requestModifier,dashMetrics:I.dashMetrics,boxParser:I.boxParser?I.boxParser:null,constants:I.constants?I.constants:null,dashConstants:I.dashConstants?I.dashConstants:null,urlUtils:I.urlUtils?I.urlUtils:null,requestTimeout:isNaN(I.requestTimeout)?0:I.requestTimeout,errors:I.errors})}d.load(y)},abort:function m(){d&&d.abort()}}}A.__dashjs_factory_name="URLLoader";var _=n.default.getClassFactory(A);v.default=_},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function A(I){var w=(I=I||{}).requestModifier;function d(m){var y=new Date,k=m.request,P=new XMLHttpRequest;if(P.open(m.method,m.url,!0),k.responseType&&(P.responseType=k.responseType),k.range&&P.setRequestHeader("Range","bytes="+k.range),k.requestStartDate||(k.requestStartDate=y),w&&w.modifyRequestHeader&&(P=w.modifyRequestHeader(P,{url:m.url})),m.headers)for(var B in m.headers){var F=m.headers[B];F&&P.setRequestHeader(B,F)}P.withCredentials=m.withCredentials,P.onload=m.onload,P.onloadend=m.onend,P.onerror=m.onerror,P.onprogress=m.progress,P.onabort=m.onabort,P.ontimeout=m.ontimeout,P.timeout=m.timeout,P.send(),m.response=P}return{load:function o(m){w&&w.modifyRequest?Object(E.modifyRequest)(m,w).then(function(){return d(m)}):d(m)},abort:function u(m){var y=m.response;y.onloadend=y.onerror=y.onprogress=void 0,y.abort()}}}A.__dashjs_factory_name="XHRLoader";var _=n.default.getClassFactory(A);v.default=_},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function I(d){var u=function w(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}e.r(v);var g={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};v.default=function(){function d(){!function E(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}(this,d)}return function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,null,[{key:"findCencContentProtection",value:function(m){for(var y=null,k=0;k<m.length;++k){var P=m[k];"urn:mpeg:dash:mp4protection:2011"===P.schemeIdUri.toLowerCase()&&("cenc"===P.value.toLowerCase()||"cbcs"===P.value.toLowerCase())&&(y=P)}return y}},{key:"getPSSHData",value:function(m){var y=8,k=new DataView(m),P=k.getUint8(y);return y+=20,P>0&&(y+=4+16*k.getUint32(y)),m.slice(y+=4)}},{key:"getPSSHForKeySystem",value:function(m,y){var k=d.parsePSSHList(y);return m&&k.hasOwnProperty(m.uuid.toLowerCase())?k[m.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(m,y){return"pssh"in m?(m.pssh.__text=m.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),y.decodeArray(m.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(m){if(null==m)return[];for(var y=new DataView(m.buffer||m),P={},B=0;;){var R,D=void 0,T=void 0,C=B;if(B>=y.buffer.byteLength)break;if(R=B+y.getUint32(B),1886614376===y.getUint32(B+=4))if(0===(D=y.getUint8(B+=4))||1===D){B++,B+=3,T="";var O=void 0,M=void 0;for(O=0;O<4;O++)T+=1===(M=y.getUint8(B+O).toString(16)).length?"0"+M:M;for(B+=4,T+="-",O=0;O<2;O++)T+=1===(M=y.getUint8(B+O).toString(16)).length?"0"+M:M;for(B+=2,T+="-",O=0;O<2;O++)T+=1===(M=y.getUint8(B+O).toString(16)).length?"0"+M:M;for(B+=2,T+="-",O=0;O<2;O++)T+=1===(M=y.getUint8(B+O).toString(16)).length?"0"+M:M;for(B+=2,T+="-",O=0;O<6;O++)T+=1===(M=y.getUint8(B+O).toString(16)).length?"0"+M:M;B+=6,B+=4,P[T=T.toLowerCase()]=y.buffer.slice(C,R),B=R}else B=R;else B=R}return P}},{key:"getLicenseServerUrlFromMediaInfo",value:function(m,y){try{if(!m||0===m.length)return null;for(var k=0,P=null;k<m.length&&!P;){var B=m[k];if(B&&B.contentProtection&&B.contentProtection.length>0){var F=B.contentProtection.filter(function(G){return G.schemeIdUri&&G.schemeIdUri===y});if(F&&F.length>0)for(var R=0;R<F.length&&!P;){for(var D=F[R],T=0;T<g.attributes.length&&!P;){for(var C=0,O=g.attributes[T];C<g.prefixes.length&&!P;)D[O]&&D[O].__prefix&&D[O].__prefix===g.prefixes[C]&&D[O].__text&&(P=D[O].__text),C+=1;T+=1}R+=1}}k+=1}return P}catch{return null}}}]),d}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),E=e(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),A=e(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),_=e(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),I=e(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),w=e(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),g=e(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),o=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],d=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function u(){var y,k=this.context;function F(R,D){for(var T=0;T<D.length;T++){var C=D[T];if("function"==typeof R[C[Object.keys(C)[0]]])return C}return null}return y={createProtectionSystem:function P(R){var D=null,T=Object(E.default)(k).getInstance();T.setConfig({debug:R.debug,BASE64:R.BASE64,settings:R.settings}),T.initialize();var C=function B(R){var D=R.debug,T=D.getLogger(y),C=R.eventBus,O=R.errHandler,M=R.videoModel?R.videoModel.getElement():null;return M&&void 0===M.onencrypted||M&&void 0===M.mediaKeys?F(M,d)?(T.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(w.default)(k).create({debug:D,eventBus:C,events:R.events,api:F(M,d)})):F(M,o)?(T.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(g.default)(k).create({debug:D,eventBus:C,errHandler:O,events:R.events,api:F(M,o)})):(T.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(T.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(I.default)(k).create({debug:D,eventBus:C,events:R.events}))}(R);return!D&&C&&(D=Object(n.default)(k).create({protectionModel:C,protectionKeyController:T,eventBus:R.eventBus,debug:R.debug,events:R.events,BASE64:R.BASE64,constants:R.constants,cmcdModel:R.cmcdModel,customParametersModel:R.customParametersModel,settings:R.settings}),R.capabilities.setEncryptedMediaSupported(!0)),D}}}u.__dashjs_factory_name="Protection";var m=dashjs.FactoryMaker.getClassFactory(u);m.events=A.default,m.errors=_.default,dashjs.FactoryMaker.updateClassFactory(u.__dashjs_factory_name,m),v.default=m},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}e.r(v);var F=new(function(R){o(T,R);var D=u(T);function T(){var C;return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(C=D.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",C.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",C.KEY_ADDED="public_keyAdded",C.KEY_ERROR="public_keyError",C.KEY_MESSAGE="public_keyMessage",C.KEY_SESSION_CLOSED="public_keySessionClosed",C.KEY_SESSION_CREATED="public_keySessionCreated",C.KEY_SESSION_REMOVED="public_keySessionRemoved",C.KEY_STATUSES_CHANGED="public_keyStatusesChanged",C.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",C.KEY_SYSTEM_SELECTED="public_keySystemSelected",C.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",C.LICENSE_REQUEST_SENDING="public_licenseRequestSending",C.NEED_KEY="needkey",C.PROTECTION_CREATED="public_protectioncreated",C.PROTECTION_DESTROYED="public_protectiondestroyed",C.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",C.TEARDOWN_COMPLETE="protectionTeardownComplete",C.VIDEO_ELEMENT_SELECTED="videoElementSelected",C.KEY_SESSION_UPDATED="public_keySessionUpdated",C}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));v.default=F},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),A=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),_=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),I=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=e(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),g=e(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),o=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),d=e(
/*! ../../../core/Utils */
"./src/core/Utils.js"),u=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(T){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(T)}function D(T){var ve,de,Se,xe,Ge,ge,Ce,Le,fe,we,Te,C=(T=T||{}).protectionKeyController,O=T.protectionModel,M=T.eventBus,G=T.events,Z=T.debug,ee=T.BASE64,ae=T.constants,Ae=[],j=T.cmcdModel,le=T.settings,Y=T.customParametersModel;function Ue(){if(!(M&&M.hasOwnProperty("on")&&C&&C.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function _e(ke,it){Le||fe?Le&&oe():function K(ke,it){if(!fe){fe=!0;var Et,ot=[];ke=ke.sort(function(Qt,fn){return(Ge&&Ge[Qt.ks.systemString]&&Ge[Qt.ks.systemString].priority>=0?Ge[Qt.ks.systemString].priority:ke.length)-(Ge&&Ge[fn.ks.systemString]&&Ge[fn.ks.systemString].priority>=0?Ge[fn.ks.systemString].priority:ke.length)});for(var ft=0;ft<ke.length;ft++){var mt=ht(ke[ft]);ot.push({ks:ke[ft].ks,configs:[mt],protData:ke[ft].protData})}O.requestKeySystemAccess(ot).then(function(Qt){return de.info("DRM: KeySystem Access Granted for system string ("+((Et=Qt.data).mksa&&Et.mksa.selectedSystemString?Et.mksa.selectedSystemString:Et.keySystem.systemString)+")!  Selecting key system..."),O.selectKeySystem(Et)}).then(function(Qt){if(Le=Qt,fe=!1,O){M.trigger(G.KEY_SYSTEM_SELECTED,{data:Et});var fn=X(Le);fn&&fn.serverCertificate&&fn.serverCertificate.length>0&&O.setServerCertificate(ee.decodeArray(fn.serverCertificate).buffer),oe()}}).catch(function(Qt){Le=null,fe=!1,it||M.trigger(G.KEY_SYSTEM_SELECTED,{data:null,error:new I.default(_.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,_.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Qt.error)})})}}(ke,it)}function oe(){for(var ke,it=0;it<Se.length;it++)for(ke=0;ke<Se[it].length;ke++)if(Le===Se[it][ke].ks){pe(Se[it][ke]);break}Se=[]}function pe(ke){if(C.isClearKey(Le)&&ke.protData&&ke.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(ke.protData.clearkeys).length){var it={kids:Object.keys(ke.protData.clearkeys)};ke.initData=(new TextEncoder).encode(JSON.stringify(it))}ke.sessionId?re(ke):null!==ke.initData&&Q(ke)}function re(ke){Ue(),O.loadKeySession(ke)}function Q(ke){var it=n.default.getPSSHForKeySystem(Le,ke?ke.initData:null);if(it){if(function J(ke){if(!ke)return!1;try{for(var it=O.getSessions(),ot=0;ot<it.length;ot++)if(it[ot].getKeyId()===ke)return!0;return!1}catch{return!1}}(ke.keyId)||q(it))return;try{ke.initData=it,O.createKeySession(ke)}catch(ot){M.trigger(G.KEY_SESSION_CREATED,{data:null,error:new I.default(_.default.KEY_SESSION_CREATED_ERROR_CODE,_.default.KEY_SESSION_CREATED_ERROR_MESSAGE+ot.message)})}}else ke&&ke.initData?O.createKeySession(ke):M.trigger(G.KEY_SESSION_CREATED,{data:null,error:new I.default(_.default.KEY_SESSION_CREATED_ERROR_CODE,_.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Le?Le.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function X(ke){if(ke){var it=ke.systemString;if(Ge)return it in Ge?Ge[it]:null}return null}function q(ke){if(!ke)return!1;try{for(var it=O.getAllInitData(),ot=0;ot<it.length;ot++)if(C.initDataEquals(ke,it[ot]))return de.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ne(ke){Ue(),ke?(O.setMediaElement(ke),M.on(G.NEED_KEY,gt,ve)):null===ke&&(O.setMediaElement(ke),M.off(G.NEED_KEY,gt,ve))}function ht(ke){var it=ke.protData,ot=[],ft=[],mt=it&&it.audioRobustness&&it.audioRobustness.length>0?it.audioRobustness:Ce,Et=it&&it.videoRobustness&&it.videoRobustness.length>0?it.videoRobustness:Ce,Qt=ke.sessionType,fn=it&&it.distinctiveIdentifier?it.distinctiveIdentifier:"optional",Jt=it&&it.persistentState?it.persistentState:"temporary"===Qt?"optional":"required";return xe.forEach(function(pn){pn.type===ae.AUDIO?ot.push(new E.default(pn.codec,mt)):pn.type===ae.VIDEO&&ft.push(new E.default(pn.codec,Et))}),new A.default(ot,ft,fn,Jt,[Qt])}function vt(ke){ke.error?M.trigger(G.KEY_STATUSES_CHANGED,{data:null,error:ke.error}):de.debug("DRM: key status = "+ke.status)}function ce(ke){de.debug("DRM: onKeyMessage");var it=ke.data;M.trigger(G.KEY_MESSAGE,{data:it});var ot=it.messageType?it.messageType:"license-request",ft=it.message,mt=it.sessionToken,Et=X(Le),Qt=C.getLicenseServerModelInstance(Le,Et,ot),fn={sessionToken:mt,messageType:ot};if(ft&&0!==ft.byteLength){if(!Qt)return de.debug("DRM: License server request not required for this message (type = "+ke.data.messageType+").  Session ID = "+mt.getSessionId()),void Ve(fn);if(C.isClearKey(Le)){var Jt=C.processClearKeyLicenseRequest(Le,Et,ft);if(Jt&&Jt.keyPairs&&Jt.keyPairs.length>0)return de.debug("DRM: ClearKey license request handled by application!"),Ve(fn),void O.updateKeySession(mt,Jt)}!function yt(ke,it,ot){var ft=ke.sessionToken,mt=ke.messageType?ke.messageType:"license-request",Et={sessionToken:ft,messageType:mt},Qt=Le?Le.systemString:null,fn=function Yt(ke,it,ot,ft,mt){var Et=null,Qt=ft.message;if(ke&&ke.serverURL){var fn=ke.serverURL;"string"==typeof fn&&""!==fn?Et=fn:"object"===y(fn)&&fn.hasOwnProperty(it)&&(Et=fn[it])}else if(ke&&ke.laURL&&""!==ke.laURL)Et=ke.laURL;else if(!(Et=n.default.getLicenseServerUrlFromMediaInfo(xe,Le.schemeIdURI))&&!C.isClearKey(Le)){var Jt=n.default.getPSSHData(ot.initData);(Et=Le.getLicenseServerURLFromInitData(Jt))||(Et=ft.laURL)}return mt.getServerURLFromMessage(Et,Qt,it)}(ot,mt,ft,ke,it);if(fn){var Jt={},pn=!1;ot&&cn(Jt,ot.httpRequestHeaders);var Tn=ke.message;cn(Jt,Le.getRequestHeadersFromMessage(Tn)),Object.keys(Jt).forEach(function(bt){"authorization"===bt.toLowerCase()&&(pn=!0)}),ot&&"boolean"==typeof ot.withCredentials&&(pn=ot.withCredentials);var Fn=function(Kt){if(O)if(Kt.status>=200&&Kt.status<=299){var Ot=d.default.parseHttpHeaders(Kt.getAllResponseHeaders?Kt.getAllResponseHeaders():null),yn=new g.default(Kt.responseURL,Ot,Kt.response);Mt(Y.getLicenseResponseFilters(),yn).then(function(){var St=it.getLicenseMessage(yn.data,Qt,mt);null!==St?(Ve(Et),O.updateKeySession(ft,St)):nn(Kt,Et,Qt,mt,it)})}else nn(Kt,Et,Qt,mt,it)},Kn=function(Kt){Ve(Et,new I.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Qt+' update, XHR aborted. status is "'+Kt.statusText+'" ('+Kt.status+"), readyState is "+Kt.readyState))},dn=function(Kt){Ve(Et,new I.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Qt+' update, XHR error. status is "'+Kt.statusText+'" ('+Kt.status+"), readyState is "+Kt.readyState))},an=Le.getLicenseRequestFromMessage(Tn),un=it.getHTTPMethod(mt),on=it.getResponseType(Qt,mt),ln=ot&&!isNaN(ot.httpTimeout)?ot.httpTimeout:8e3,Tt=ft.getSessionId()||null,ct=new w.default(fn,un,on,Jt,pn,mt,Tt,an),hn=isNaN(le.get().streaming.retryAttempts[o.HTTPRequest.LICENSE])?3:le.get().streaming.retryAttempts[o.HTTPRequest.LICENSE];Mt(Y.getLicenseRequestFilters(),ct).then(function(){Bt(ct,hn,ln,Fn,Kn,dn)})}else Ve(Et,new I.default(_.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(it,Qt,Et)}else Ve(fn,new I.default(_.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ve(ke,it){M.trigger(G.LICENSE_REQUEST_COMPLETE,{data:ke,error:it})}function Bt(ke,it,ot,ft,mt,Et){var Qt=new XMLHttpRequest;if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===u.default.CMCD_MODE_QUERY){var Jt=j.getQueryParameter({url:ke.url,type:o.HTTPRequest.LICENSE});Jt&&(ke.url=d.default.addAditionalQueryParameterToUrl(ke.url,[Jt]))}for(var pn in Qt.open(ke.method,ke.url,!0),Qt.responseType=ke.responseType,Qt.withCredentials=ke.withCredentials,ot>0&&(Qt.timeout=ot),ke.headers)Qt.setRequestHeader(pn,ke.headers[pn]);if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===u.default.CMCD_MODE_HEADER){var Dn=j.getHeaderParameters({url:ke.url,type:o.HTTPRequest.LICENSE});if(Dn)for(var Fn in Dn){var Kn=Dn[Fn];Kn&&Qt.setRequestHeader(Fn,Kn)}}var dn=function(){it--;var un=isNaN(le.get().streaming.retryIntervals[o.HTTPRequest.LICENSE])?1e3:le.get().streaming.retryIntervals[o.HTTPRequest.LICENSE];Te=setTimeout(function(){Bt(ke,it,ot,ft,mt,Et)},un)};Qt.onload=function(){we=null,this.status>=200&&this.status<=299||it<=0?ft(this):(de.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+it),dn())},Qt.ontimeout=Qt.onerror=function(){we=null,it<=0?Et(this):(de.warn("License request network request failed . Retrying it... Pending retries: "+it),dn())},Qt.onabort=function(){mt(this)},M.trigger(G.LICENSE_REQUEST_SENDING,{url:ke.url,headers:ke.headers,payload:ke.data,sessionId:ke.sessionId}),we=Qt,Qt.send(ke.data)}function zt(){we&&(we.onloadend=we.onerror=we.onprogress=void 0,we.abort(),we=null),Te&&(clearTimeout(Te),Te=null)}function cn(ke,it){if(it)for(var ot in it)ke[ot]=it[ot]}function nn(ke,it,ot,ft,mt){var Et="NONE",Qt=null;ke.response&&(Et=mt.getErrorResponse(ke.response,ot,ft),Qt={serverResponse:ke.response||null,responseCode:ke.status||null,responseText:ke.statusText||null}),Ve(it,new I.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ot+' update, XHR complete. status is "'+ke.statusText+'" ('+ke.status+"), readyState is "+ke.readyState+".  Response is "+Et,Qt))}function Mt(ke,it){return ke?ke.reduce(function(ot,ft){return ot.then(function(){return ft(it)})},Promise.resolve()):Promise.resolve()}function gt(ke,it){if(!le.get().streaming.protection.ignoreEmeEncryptedEvent){if(de.debug("DRM: onNeedKey"),"cenc"!==ke.key.initDataType)return void de.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+ke.key.initDataType);if(0===xe.length&&(de.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(it=typeof it>"u"?1:it+1)<5))return void Ae.push(setTimeout(function(){gt(ke,it)},500));var ot=ke.key.initData;if(ArrayBuffer.isView(ot)&&(ot=ot.buffer),Le){var ft=n.default.getPSSHForKeySystem(Le,ot);if(ft&&q(ft))return}de.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(ot)));var mt=C.getSupportedKeySystemsFromSegmentPssh(ot,Ge,ge);if(0===mt.length)return void de.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function be(ke){Se.push(ke),_e(ke,!1)}(mt)}}return ve={initializeForMedia:function lt(ke){if(!ke)throw new Error("mediaInfo can not be null or undefined");Ue(),xe.push(ke)},clearMediaInfoArray:function $(){xe=[]},handleKeySystemFromManifest:function He(){if(xe&&0!==xe.length){var ke=[];xe.forEach(function(it){var ot=C.getSupportedKeySystemsFromContentProtection(it.contentProtection,Ge,ge);ot.length>0&&(0===ke.length&&(ke=ot),Se.push(ot))}),ke&&ke.length>0&&_e(ke,!0)}},createKeySession:Q,loadKeySession:re,removeKeySession:function me(ke){Ue(),O.removeKeySession(ke)},closeKeySession:function Ee(ke){Ue(),O.closeKeySession(ke)},setServerCertificate:function ye(ke){Ue(),O.setServerCertificate(ke)},setMediaElement:Ne,setSessionType:function tt(ke){ge=ke},setRobustnessLevel:function qe(ke){Ce=ke},setProtectionData:function Xe(ke){Ge=ke,C.setProtectionData(ke)},getSupportedKeySystemsFromContentProtection:function ne(ke){return Ue(),C.getSupportedKeySystemsFromContentProtection(ke,Ge,ge)},getKeySystems:function Qe(){return C?C.getKeySystems():[]},setKeySystems:function Fe(ke){C&&C.setKeySystems(ke)},stop:function ut(){zt(),O&&O.stop()},reset:function ze(){M.off(G.INTERNAL_KEY_MESSAGE,ce,ve),M.off(G.INTERNAL_KEY_STATUS_CHANGED,vt,ve),Ue(),zt(),Ne(null),Le=null,fe=!1,O&&(O.reset(),O=null),Ae.forEach(function(ke){return clearTimeout(ke)}),Ae=[],xe=[],Se=[]}},function De(){de=Z.getLogger(ve),Se=[],xe=[],ge="temporary",Ce="",we=null,Te=null,M.on(G.INTERNAL_KEY_MESSAGE,ce,ve),M.on(G.INTERNAL_KEY_STATUS_CHANGED,vt,ve)}(),ve}D.__dashjs_factory_name="ProtectionController",v.default=m.default.getClassFactory(D)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),A=e(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),_=e(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),I=e(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),w=e(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),g=e(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),o=e(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),d=e(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),u=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function m(){var k,P,B,F,R,D,T,C,y=this.context;function Se(ge,Ce){return Ce&&ge in Ce?Ce[ge]:null}function xe(ge,Ce){return ge&&ge.sessionId?ge.sessionId:Ce&&Ce.sessionId?Ce.sessionId:null}function Ge(ge,Ce){return ge&&ge.sessionType?ge.sessionType:Ce}return k={initialize:function M(){var ge;F=[],ge=Object(I.default)(y).getInstance({BASE64:R,settings:D}),F.push(ge),ge=Object(_.default)(y).getInstance({BASE64:R}),F.push(ge),ge=Object(E.default)(y).getInstance({BASE64:R}),F.push(ge),T=ge,ge=Object(A.default)(y).getInstance({BASE64:R,debug:P}),F.push(ge),C=ge},setProtectionData:function de(ge){for(var Le=0;Le<F.length;Le++){var fe=F[Le];fe.hasOwnProperty("init")&&fe.init((Te=fe.systemString,De=void 0,De=null,ge&&(De=Te in ge?ge[Te]:null),De))}var Te,De},isClearKey:function ae(ge){return ge===T||ge===C},initDataEquals:function Ae(ge,Ce){if(ge.byteLength===Ce.byteLength){for(var Le=new Uint8Array(ge),fe=new Uint8Array(Ce),we=0;we<Le.length;we++)if(Le[we]!==fe[we])return!1;return!0}return!1},getKeySystems:function G(){return F},setKeySystems:function Z(ge){F=ge},getKeySystemBySystemString:function ee(ge){for(var Ce=0;Ce<F.length;Ce++)if(F[Ce].systemString===ge)return F[Ce];return null},getSupportedKeySystemsFromContentProtection:function j(ge,Ce,Le){var fe,we,Te,De,Ue=[];if(ge){var lt=n.default.findCencContentProtection(ge);for(Te=0;Te<F.length;++Te){var He=Se((we=F[Te]).systemString,Ce);for(De=0;De<ge.length;++De)if((fe=ge[De]).schemeIdUri.toLowerCase()===we.schemeIdURI){var be=we.getInitData(fe,lt);Ue.push({ks:F[Te],keyId:fe.keyId,initData:be,protData:He,cdmData:we.getCDMData(He?He.cdmData:null),sessionId:xe(He,fe),sessionType:Ge(He,Le)})}}}return Ue},getSupportedKeySystemsFromSegmentPssh:function le(ge,Ce,Le){for(var Te,fe=[],we=n.default.parsePSSHList(ge),Ue=0;Ue<F.length;++Ue){var lt=Se((Te=F[Ue]).systemString,Ce);Te.uuid in we&&fe.push({ks:Te,initData:we[Te.uuid],protData:lt,cdmData:Te.getCDMData(lt?lt.cdmData:null),sessionId:xe(lt),sessionType:Ge(lt,Le)})}return fe},getLicenseServerModelInstance:function Y(ge,Ce,Le){if("license-release"===Le||"individualization-request"===Le)return null;var fe=null;return Ce&&Ce.hasOwnProperty("drmtoday")?fe=Object(w.default)(y).getInstance({BASE64:R}):ge.systemString===u.default.WIDEVINE_KEYSTEM_STRING?fe=Object(o.default)(y).getInstance():ge.systemString===u.default.PLAYREADY_KEYSTEM_STRING?fe=Object(g.default)(y).getInstance():ge.systemString===u.default.CLEARKEY_KEYSTEM_STRING&&(fe=Object(d.default)(y).getInstance()),fe},processClearKeyLicenseRequest:function ve(ge,Ce,Le){try{return ge.getClearKeysFromProtectionData(Ce,Le)}catch{return B.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function O(ge){ge&&(ge.debug&&(B=(P=ge.debug).getLogger(k)),ge.BASE64&&(R=ge.BASE64),ge.settings&&(D=ge.settings))}}}m.__dashjs_factory_name="ProtectionKeyController",v.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),A=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),_=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="e2719d58-a985-b3c9-781a-b030af78d30e",w=_.default.CLEARKEY_KEYSTEM_STRING,g="urn:uuid:"+I;function o(d){var m=(d=d||{}).BASE64;function P(T){try{var C=T.replace(/-/g,"");return(C=btoa(C.match(/\w{2}/g).map(function(O){return String.fromCharCode(parseInt(O,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:I,schemeIdURI:g,systemString:w,getInitData:function k(T,C){try{var O=A.default.parseInitDataFromContentProtection(T,m);if(!O&&C){var G={kids:[P(C["cenc:default_KID"])]};O=(new TextEncoder).encode(JSON.stringify(G))}return O}catch{return null}},getRequestHeadersFromMessage:function B(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function F(T){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))))},getLicenseServerURLFromInitData:function R(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function y(T,C){var O=null;if(T){for(var M=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(C))),G=[],Z=0;Z<M.kids.length;Z++){var ee=M.kids[Z],ae=T.clearkeys&&T.clearkeys.hasOwnProperty(ee)?T.clearkeys[ee]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");G.push(new n.default(ee,ae))}O=new E.default(G)}return O}}}o.__dashjs_factory_name="KeySystemClearKey",v.default=dashjs.FactoryMaker.getSingletonFactory(o)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),A="9a04f079-9840-4286-ab92-e65be0885f95",_=E.default.PLAYREADY_KEYSTEM_STRING,I="urn:uuid:"+A;function g(o){var u="utf-16",m=(o=o||{}).BASE64,y=o.settings;function k(){if(!m||!m.hasOwnProperty("decodeArray")||!m.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:A,schemeIdURI:I,systemString:_,getInitData:function R(C){var ee,ae,Ae,j,le,O=new Uint8Array([112,115,115,104,0,0,0,0]),M=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),G=0,Z=null;if(k(),!C)return null;if("pssh"in C)return n.default.parseInitDataFromContentProtection(C,m);if("pro"in C)Z=m.decodeArray(C.pro.__text);else{if(!("prheader"in C))return null;Z=m.decodeArray(C.prheader.__text)}return ae=4+O.length+M.length+4+(ee=Z.length),Ae=new ArrayBuffer(ae),j=new Uint8Array(Ae),(le=new DataView(Ae)).setUint32(G,ae),j.set(O,G+=4),j.set(M,G+=O.length),le.setUint32(G+=M.length,ee),j.set(Z,G+=4),G+=ee,j.buffer},getRequestHeadersFromMessage:function P(C){var O,M,G={},Z=new DOMParser;if(y&&y.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===u&&C&&C.byteLength%2==1)return G["Content-Type"]="text/xml; charset=utf-8",G;var ee="utf-16"===u?new Uint16Array(C):new Uint8Array(C);O=String.fromCharCode.apply(null,ee);for(var ae=(M=Z.parseFromString(O,"application/xml")).getElementsByTagName("name"),Ae=M.getElementsByTagName("value"),j=0;j<ae.length;j++)G[ae[j].childNodes[0].nodeValue]=Ae[j].childNodes[0].nodeValue;return G.hasOwnProperty("Content")&&(G["Content-Type"]=G.Content,delete G.Content),G.hasOwnProperty("Content-Type")||(G["Content-Type"]="text/xml; charset=utf-8"),G},getLicenseRequestFromMessage:function B(C){var O=null,M=new DOMParser;if(y&&y.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===u&&C&&C.byteLength%2==1)return C;var G="utf-16"===u?new Uint16Array(C):new Uint8Array(C);k();var Z=String.fromCharCode.apply(null,G),ee=M.parseFromString(Z,"application/xml");if(!ee.getElementsByTagName("PlayReadyKeyMessage")[0])return C;var ae=ee.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ae&&(O=m.decode(ae)),O},getLicenseServerURLFromInitData:function F(C){if(C)for(var O=new DataView(C),M=O.getUint16(4,!0),G=6,Z=new DOMParser,ee=0;ee<M;ee++){var ae=O.getUint16(G,!0),Ae=O.getUint16(G+=2,!0);if(G+=2,1===ae){var j=C.slice(G,G+Ae),le=String.fromCharCode.apply(null,new Uint16Array(j)),Y=Z.parseFromString(le,"application/xml");if(Y.getElementsByTagName("LA_URL")[0]){var ve=Y.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ve)return ve}if(Y.getElementsByTagName("LUI_URL")[0]){var de=Y.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(de)return de}}else G+=Ae}return null},getCDMData:function T(C){var O,M,G,Z;if(k(),!C)return null;for(O=[],Z=0;Z<C.length;++Z)O.push(C.charCodeAt(Z)),O.push(0);for(O=String.fromCharCode.apply(null,O),O=m.encode(O),M='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",O),G=[],Z=0;Z<M.length;++Z)G.push(M.charCodeAt(Z)),G.push(0);return new Uint8Array(G).buffer},setPlayReadyMessageFormat:function D(C){if("utf-8"!==C&&"utf-16"!==C)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');u=C}}}g.__dashjs_factory_name="KeySystemPlayReady",v.default=dashjs.FactoryMaker.getSingletonFactory(g)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),A=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),_=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",w=_.default.CLEARKEY_KEYSTEM_STRING,g="urn:uuid:"+I;function o(d){var u,m=d.BASE64,y=d.debug.getLogger(u);return{uuid:I,schemeIdURI:g,systemString:w,getInitData:function P(T){return A.default.parseInitDataFromContentProtection(T,m)},getRequestHeadersFromMessage:function B(){return null},getLicenseRequestFromMessage:function F(T){return new Uint8Array(T)},getLicenseServerURLFromInitData:function R(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function k(T,C){var O=null;if(T){for(var M=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(C))),G=[],Z=0;Z<M.kids.length;Z++){var ee=M.kids[Z],ae=T.clearkeys&&T.clearkeys.hasOwnProperty(ee)?T.clearkeys[ee]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");G.push(new n.default(ee,ae))}O=new E.default(G),y.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return O}}}o.__dashjs_factory_name="KeySystemW3CClearKey",v.default=dashjs.FactoryMaker.getSingletonFactory(o)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),A="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",_=E.default.WIDEVINE_KEYSTEM_STRING,I="urn:uuid:"+A;function w(g){var d=(g=g||{}).BASE64;return{uuid:A,schemeIdURI:I,systemString:_,getInitData:function u(B){return n.default.parseInitDataFromContentProtection(B,d)},getRequestHeadersFromMessage:function m(){return null},getLicenseRequestFromMessage:function y(B){return new Uint8Array(B)},getLicenseServerURLFromInitData:function k(){return null},getCDMData:function P(){return null}}}w.__dashjs_factory_name="KeySystemWidevine",v.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,I(C.key),C)}}function I(R){var D=function w(R,D){if("object"!==E(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==E(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function o(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&d(R,D)}function d(R,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function u(R){var D=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=P(R);if(D){var M=P(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function m(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function y(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}e.r(v);var F=new(function(R){o(T,R);var D=u(T);function T(){var C;return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(C=D.call(this)).MEDIA_KEYERR_CODE=100,C.MEDIA_KEYERR_UNKNOWN_CODE=101,C.MEDIA_KEYERR_CLIENT_CODE=102,C.MEDIA_KEYERR_SERVICE_CODE=103,C.MEDIA_KEYERR_OUTPUT_CODE=104,C.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,C.MEDIA_KEYERR_DOMAIN_CODE=106,C.MEDIA_KEY_MESSAGE_ERROR_CODE=107,C.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,C.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,C.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,C.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,C.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,C.KEY_SESSION_CREATED_ERROR_CODE=113,C.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,C.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",C.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",C.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",C.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",C.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",C.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",C.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",C.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",C.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",C.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",C.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",C.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",C.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",C.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",C}return function _(R,D,T){return D&&A(R.prototype,D),T&&A(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(e(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));v.default=F},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),A=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),I=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),w=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),g=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function o(d){var F,R,D,T,C,O,M,G,Z,u=this.context,m=(d=d||{}).eventBus,y=d.events,k=d.debug,P=d.api,B=d.errHandler;function ae(){D&&we();for(var Te=0;Te<M.length;Te++)xe(M[Te]);m.trigger(y.TEARDOWN_COMPLETE)}function xe(Te){try{D[P.cancelKeyRequest](T.systemString,Te.sessionId)}catch(De){m.trigger(y.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Te.sessionId+") "+De.message})}}function fe(Te,De){if(!De||!Te)return null;for(var Ue=Te.length,lt=0;lt<Ue;lt++)if(Te[lt].sessionId==De)return Te[lt];return null}function we(){D.removeEventListener(P.keyerror,Z),D.removeEventListener(P.needkey,Z),D.removeEventListener(P.keymessage,Z),D.removeEventListener(P.keyadded,Z)}return F={getAllInitData:function Ae(){for(var Te=[],De=0;De<O.length;De++)Te.push(O[De].initData);for(var Ue=0;Ue<M.length;Ue++)Te.push(M[Ue].initData);return Te},getSessions:function j(){return M.concat(O)},requestKeySystemAccess:function le(Te){return new Promise(function(De,Ue){var lt=D;lt||(lt=document.createElement("video"));for(var He=!1,be=0;be<Te.length;be++)for(var _e=Te[be].ks.systemString,K=Te[be].configs,pe=null,re=0;re<K.length;re++){var Q=K[re].videoCapabilities;if(Q&&0!==Q.length){pe=[];for(var X=0;X<Q.length;X++)""!==lt.canPlayType(Q[X].contentType,_e)&&pe.push(Q[X])}if(pe&&(!pe||0!==pe.length)){He=!0;var $=new I.default(null,pe),ne=C.getKeySystemBySystemString(_e),J=new w.default(ne,$);m.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),De({data:J});break}}if(!He){var q="Key system access denied! -- No valid audio/video content configurations detected!";m.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),Ue({error:q})}})},selectKeySystem:function Y(Te){return T=Te.keySystem,Promise.resolve(T)},setMediaElement:function ve(Te){if(D!==Te){if(D){we();for(var De=0;De<M.length;De++)xe(M[De]);M=[]}(D=Te)&&(D.addEventListener(P.keyerror,Z),D.addEventListener(P.needkey,Z),D.addEventListener(P.keymessage,Z),D.addEventListener(P.keyadded,Z),m.trigger(y.VIDEO_ELEMENT_SELECTED))}},createKeySession:function de(Te){if(!T)throw new Error("Can not create sessions until you have selected a key system");if(G||0===M.length){var De={sessionId:null,keyId:Te.keyId,initData:Te.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return O.push(De),D[P.generateKeyRequest](T.systemString,new Uint8Array(Te.initData)),De}throw new Error("Multiple sessions not allowed!")},updateKeySession:function Se(Te,De){var Ue=Te.sessionId;if(C.isClearKey(T))for(var lt=0;lt<De.keyPairs.length;lt++)D[P.addKey](T.systemString,De.keyPairs[lt].key,De.keyPairs[lt].keyID,Ue);else D[P.addKey](T.systemString,new Uint8Array(De),new Uint8Array(Te.initData),Ue);m.trigger(y.KEY_SESSION_UPDATED)},closeKeySession:xe,setServerCertificate:function Ge(){},loadKeySession:function ge(){},removeKeySession:function Ce(){},stop:ae,reset:ae},function ee(){R=k.getLogger(F),D=null,T=null,O=[],M=[],C=Object(n.default)(u).getInstance(),Z=function Le(){return{handleEvent:function(De){var Ue=null;switch(De.type){case P.needkey:var lt=ArrayBuffer.isView(De.initData)?De.initData.buffer:De.initData;m.trigger(y.NEED_KEY,{key:new E.default(lt,"cenc")});break;case P.keyerror:if((Ue=fe(M,De.sessionId))||(Ue=fe(O,De.sessionId)),Ue){var He=g.default.MEDIA_KEYERR_CODE,be="";switch(De.errorCode.code){case 1:He=g.default.MEDIA_KEYERR_UNKNOWN_CODE,be+="MEDIA_KEYERR_UNKNOWN - "+g.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:He=g.default.MEDIA_KEYERR_CLIENT_CODE,be+="MEDIA_KEYERR_CLIENT - "+g.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:He=g.default.MEDIA_KEYERR_SERVICE_CODE,be+="MEDIA_KEYERR_SERVICE - "+g.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:He=g.default.MEDIA_KEYERR_OUTPUT_CODE,be+="MEDIA_KEYERR_OUTPUT - "+g.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:He=g.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,be+="MEDIA_KEYERR_HARDWARECHANGE - "+g.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:He=g.default.MEDIA_KEYERR_DOMAIN_CODE,be+="MEDIA_KEYERR_DOMAIN - "+g.default.MEDIA_KEYERR_DOMAIN_MESSAGE}m.trigger(y.KEY_ERROR,{error:new A.default(He,be+="  System Code = "+De.systemCode,Ue)})}else R.error("No session token found for key error");break;case P.keyadded:(Ue=fe(M,De.sessionId))||(Ue=fe(O,De.sessionId)),Ue?(R.debug("DRM: Key added."),m.trigger(y.KEY_ADDED,{data:Ue})):R.debug("No session token found for key added");break;case P.keymessage:if((G=null!=De.sessionId)?!(Ue=fe(M,De.sessionId))&&O.length>0&&(Ue=O.shift(),M.push(Ue),Ue.sessionId=De.sessionId,m.trigger(y.KEY_SESSION_CREATED,{data:Ue})):O.length>0&&(Ue=O.shift(),M.push(Ue),0!==O.length&&B.error(new A.default(g.default.MEDIA_KEY_MESSAGE_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ue){var _e=ArrayBuffer.isView(De.message)?De.message.buffer:De.message;Ue.keyMessage=_e,m.trigger(y.INTERNAL_KEY_MESSAGE,{data:new _.default(Ue,_e,De.defaultURL)})}else R.warn("No session token found for key message")}}}}()}(),F}o.__dashjs_factory_name="ProtectionModel_01b",v.default=dashjs.FactoryMaker.getClassFactory(o)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),A=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),_=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),w=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),g=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),o={};function d(u){var B,F,R,D,T,C,O,M,m=this.context,y=(u=u||{}).eventBus,k=u.events,P=u.debug;function le(He,be,_e,K){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var oe="Insecure origins are not allowed";return y.trigger(k.KEY_SYSTEM_ACCESS_COMPLETE,{error:oe}),void K({error:oe})}var Q=He[be].ks,X=Q.systemString;(function Y(He,be){return new Promise(function(_e,K){ve(He,be,0,_e,K)})})((He[be].protData&&He[be].protData.systemStringPriority?He[be].protData.systemStringPriority:null)||(o[X]?o[X]:[X]),He[be].configs).then(function(ne){var J="function"==typeof ne.getConfiguration?ne.getConfiguration():null,q=new w.default(Q,J);q.mksa=ne,y.trigger(k.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),_e({data:q})}).catch(function(ne){if(be+1<He.length)le(He,be+1,_e,K);else{var J="Key system access denied! ";y.trigger(k.KEY_SYSTEM_ACCESS_COMPLETE,{error:J+ne.message}),K({error:J+ne.message})}})}function ve(He,be,_e,K,oe){var pe=He[_e];F.debug("Requesting key system access for system string ".concat(pe)),navigator.requestMediaKeySystemAccess(pe,be).then(function(re){re.selectedSystemString=pe,K(re)}).catch(function(re){_e+1<He.length?ve(He,be,_e+1,K,oe):oe(re)})}function we(He){var be=He.session;return be.removeEventListener("keystatuseschange",He),be.removeEventListener("message",He),be.close()}function De(He){for(var be=0;be<C.length;be++)if(C[be]===He){C.splice(be,1);break}}function Ue(He){var be,_e;return He&&He.length>0&&(He[0]&&("string"==typeof He[0]?be=He[0]:_e=He[0]),He[1]&&("string"==typeof He[1]?be=He[1]:_e=He[1])),{status:be,keyId:_e}}function lt(He,be){var _e={session:He,keyId:be.keyId,initData:be.initData,sessionId:be.sessionId,sessionType:be.sessionType,handleEvent:function(oe){switch(oe.type){case"keystatuseschange":y.trigger(k.KEY_STATUSES_CHANGED,{data:this}),oe.target.keyStatuses.forEach(function(){var re=Ue(arguments);y.trigger(k.INTERNAL_KEY_STATUS_CHANGED,"expired"===re.status?{error:new _.default(A.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,A.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:re)});break;case"message":var pe=ArrayBuffer.isView(oe.message)?oe.message.buffer:oe.message;y.trigger(k.INTERNAL_KEY_MESSAGE,{data:new I.default(this,pe,void 0,oe.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return He.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return He.expiration},getKeyStatuses:function(){return He.keyStatuses},getUsable:function(){var oe=!1;return He.keyStatuses.forEach(function(){"usable"===Ue(arguments).status&&(oe=!0)}),oe}};return He.addEventListener("keystatuseschange",_e),He.addEventListener("message",_e),He.closed.then(function(){De(_e),F.debug("DRM: Session closed.  SessionID = "+_e.getSessionId()),y.trigger(k.KEY_SESSION_CLOSED,{data:_e.getSessionId()})}),C.push(_e),_e}return B={getAllInitData:function ae(){for(var He=[],be=0;be<C.length;be++)C[be].initData&&He.push(C[be].initData);return He},getSessions:function Ae(){return C},requestKeySystemAccess:function j(He){return new Promise(function(be,_e){le(He,0,be,_e)})},selectKeySystem:function de(He){return new Promise(function(be,_e){He.mksa.createMediaKeys().then(function(K){return R=He.keySystem,T=K,D?D.setMediaKeys(T):Promise.resolve()}).then(function(){be(R)}).catch(function(){_e({error:"Error selecting keys system ("+He.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function Se(He){D!==He&&(D&&(D.removeEventListener("encrypted",O),D.setMediaKeys&&D.setMediaKeys(null)),(D=He)&&(D.addEventListener("encrypted",O),D.setMediaKeys&&T&&D.setMediaKeys(T)))},setServerCertificate:function xe(He){if(!R||!T)throw new Error("Can not set server certificate until you have selected a key system");T.setServerCertificate(He).then(function(){F.info("DRM: License server certificate successfully updated."),y.trigger(k.SERVER_CERTIFICATE_UPDATED)}).catch(function(be){y.trigger(k.SERVER_CERTIFICATE_UPDATED,{error:new _.default(A.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,A.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+be.name)})})},createKeySession:function Ge(He){if(!R||!T)throw new Error("Can not create sessions until you have selected a key system");var be=T.createSession(He.sessionType),_e=lt(be,He);be.generateRequest(R.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(He.initData||He.protData&&He.protData.clearkeys)?g.default.INITIALIZATION_DATA_TYPE_KEYIDS:g.default.INITIALIZATION_DATA_TYPE_CENC,He.initData).then(function(){F.debug("DRM: Session created.  SessionID = "+_e.getSessionId()),y.trigger(k.KEY_SESSION_CREATED,{data:_e})}).catch(function(oe){De(_e),y.trigger(k.KEY_SESSION_CREATED,{data:null,error:new _.default(A.default.KEY_SESSION_CREATED_ERROR_CODE,A.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+oe.name)})})},updateKeySession:function ge(He,be){var _e=He.session;M.isClearKey(R)&&(be=be.toJWK()),_e.update(be).then(function(){y.trigger(k.KEY_SESSION_UPDATED)}).catch(function(K){y.trigger(k.KEY_ERROR,{error:new _.default(A.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+K.name,He)})})},loadKeySession:function Ce(He){if(!R||!T)throw new Error("Can not load sessions until you have selected a key system");for(var be=He.sessionId,_e=0;_e<C.length;_e++)if(be===C[_e].sessionId)return void F.warn("DRM: Ignoring session ID because we have already seen it!");var K=T.createSession(He.sessionType),oe=lt(K,He);K.load(be).then(function(pe){pe?(F.debug("DRM: Session loaded.  SessionID = "+oe.getSessionId()),y.trigger(k.KEY_SESSION_CREATED,{data:oe})):(De(oe),y.trigger(k.KEY_SESSION_CREATED,{data:null,error:new _.default(A.default.KEY_SESSION_CREATED_ERROR_CODE,A.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+be+")")}))}).catch(function(pe){De(oe),y.trigger(k.KEY_SESSION_CREATED,{data:null,error:new _.default(A.default.KEY_SESSION_CREATED_ERROR_CODE,A.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+be+")! "+pe.name)})})},removeKeySession:function Le(He){He.session.remove().then(function(){F.debug("DRM: Session removed.  SessionID = "+He.getSessionId()),y.trigger(k.KEY_SESSION_REMOVED,{data:He.getSessionId()})},function(_e){y.trigger(k.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+He.getSessionId()+"). "+_e.name})})},closeKeySession:function fe(He){we(He).catch(function(be){De(He),y.trigger(k.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+He.getSessionId()+") "+be.name})})},stop:function ee(){for(var He,be=0;be<C.length;be++)(He=C[be]).getUsable()||we(He).catch(function(){De(He)})},reset:function Z(){var be,He=C.length;0!==He?function(){for(var _e=function(pe){De(pe),0===C.length&&(D?(D.removeEventListener("encrypted",O),D.setMediaKeys(null).then(function(){y.trigger(k.TEARDOWN_COMPLETE)})):y.trigger(k.TEARDOWN_COMPLETE))},K=0;K<He;K++)!function(oe){be.session.closed.then(function(){_e(oe)}),we(be).catch(function(){_e(oe)})}(be=C[K])}():y.trigger(k.TEARDOWN_COMPLETE)}},function G(){F=P.getLogger(B),R=null,D=null,T=null,C=[],M=Object(n.default)(m).getInstance(),O=function Te(){return{handleEvent:function(be){if("encrypted"===be.type&&be.initData){var _e=ArrayBuffer.isView(be.initData)?be.initData.buffer:be.initData;y.trigger(k.NEED_KEY,{key:new E.default(_e,be.initDataType)})}}}}()}(),B}o[g.default.PLAYREADY_KEYSTEM_STRING]=[g.default.PLAYREADY_KEYSTEM_STRING,g.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],o[g.default.WIDEVINE_KEYSTEM_STRING]=[g.default.WIDEVINE_KEYSTEM_STRING],o[g.default.CLEARKEY_KEYSTEM_STRING]=[g.default.CLEARKEY_KEYSTEM_STRING],d.__dashjs_factory_name="ProtectionModel_21Jan2015",v.default=dashjs.FactoryMaker.getClassFactory(d)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),A=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),I=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),w=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),g=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function o(d){var B,F,R,D,T,C,O,M,G,u=this.context,m=(d=d||{}).eventBus,y=d.events,k=d.debug,P=d.api;function ee(){try{for(var we=0;we<O.length;we++)Se(O[we]);R&&R.removeEventListener(P.needkey,M),m.trigger(y.TEARDOWN_COMPLETE)}catch(Te){m.trigger(y.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Te.message})}}function Se(we){var Te=we.session;Te.removeEventListener(P.error,we),Te.removeEventListener(P.message,we),Te.removeEventListener(P.ready,we),Te.removeEventListener(P.close,we);for(var De=0;De<O.length;De++)if(O[De]===we){O.splice(De,1);break}Te[P.release]()}function Le(){var we=null,Te=function(){R.removeEventListener("loadedmetadata",we),R[P.setMediaKeys](T),m.trigger(y.VIDEO_ELEMENT_SELECTED)};R.readyState>=1?Te():(we=Te.bind(this),R.addEventListener("loadedmetadata",we))}return B={getAllInitData:function ae(){for(var we=[],Te=0;Te<O.length;Te++)we.push(O[Te].initData);return we},getSessions:function Ae(){return O},requestKeySystemAccess:function j(we){return new Promise(function(Te,De){for(var Ue=!1,lt=0;lt<we.length;lt++)for(var He=we[lt].ks.systemString,be=we[lt].configs,_e=null,K=null,oe=0;oe<be.length;oe++){var pe=be[oe].audioCapabilities,re=be[oe].videoCapabilities;if(pe&&0!==pe.length){_e=[];for(var Q=0;Q<pe.length;Q++)window[P.MediaKeys].isTypeSupported(He,pe[Q].contentType)&&_e.push(pe[Q])}if(re&&0!==re.length){K=[];for(var X=0;X<re.length;X++)window[P.MediaKeys].isTypeSupported(He,re[X].contentType)&&K.push(re[X])}if(!(!_e&&!K||_e&&0===_e.length||K&&0===K.length)){Ue=!0;var $=new w.default(_e,K),ne=G.getKeySystemBySystemString(He),J=new g.default(ne,$);m.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Te({data:J});break}}if(!Ue){var q="Key system access denied! -- No valid audio/video content configurations detected!";m.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),De({error:q})}})},selectKeySystem:function le(we){return new Promise(function(Te,De){try{T=we.mediaKeys=new window[P.MediaKeys](we.keySystem.systemString),D=we.keySystem,C=we,R&&Le(),Te(D)}catch{De({error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function Y(we){R!==we&&(R&&R.removeEventListener(P.needkey,M),(R=we)&&(R.addEventListener(P.needkey,M),T&&Le()))},createKeySession:function ve(we){if(!D||!T||!C)throw new Error("Can not create sessions until you have selected a key system");var Te=null;if(C.ksConfiguration.videoCapabilities&&C.ksConfiguration.videoCapabilities.length>0&&(Te=C.ksConfiguration.videoCapabilities[0]),null===Te&&C.ksConfiguration.audioCapabilities&&C.ksConfiguration.audioCapabilities.length>0&&(Te=C.ksConfiguration.audioCapabilities[0]),null===Te)throw new Error("Can not create sessions for unknown content types.");var Ue=T.createSession(Te.contentType,new Uint8Array(we.initData),we.cdmData?new Uint8Array(we.cdmData):null),lt=function fe(we,Te){return{session:we,keyId:Te.keyId,initData:Te.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Ue){switch(Ue.type){case P.error:m.trigger(y.KEY_ERROR,{error:new A.default(_.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case P.message:var He=ArrayBuffer.isView(Ue.message)?Ue.message.buffer:Ue.message;m.trigger(y.INTERNAL_KEY_MESSAGE,{data:new I.default(this,He,Ue.destinationURL)});break;case P.ready:F.debug("DRM: Key added."),m.trigger(y.KEY_ADDED);break;case P.close:F.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),m.trigger(y.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ue,we);Ue.addEventListener(P.error,lt),Ue.addEventListener(P.message,lt),Ue.addEventListener(P.ready,lt),Ue.addEventListener(P.close,lt),O.push(lt),F.debug("DRM: Session created.  SessionID = "+lt.getSessionId()),m.trigger(y.KEY_SESSION_CREATED,{data:lt})},updateKeySession:function de(we,Te){var De=we.session;G.isClearKey(D)?De.update(new Uint8Array(Te.toJWK())):De.update(new Uint8Array(Te)),m.trigger(y.KEY_SESSION_UPDATED)},closeKeySession:Se,setServerCertificate:function xe(){},loadKeySession:function Ge(){},removeKeySession:function ge(){},stop:ee,reset:ee},function Z(){F=k.getLogger(B),R=null,D=null,T=null,C=null,O=[],G=Object(n.default)(u).getInstance(),M=function Ce(){return{handleEvent:function(Te){if(Te.type===P.needkey&&Te.initData){var De=ArrayBuffer.isView(Te.initData)?Te.initData.buffer:Te.initData;m.trigger(y.NEED_KEY,{key:new E.default(De,"cenc")})}}}}()}(),B}o.__dashjs_factory_name="ProtectionModel_3Feb2014",v.default=dashjs.FactoryMaker.getClassFactory(o)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function A(){return{getServerURLFromMessage:function I(u){return u},getHTTPMethod:function w(){return"POST"},getResponseType:function g(){return"json"},getLicenseMessage:function o(u){if(!u.hasOwnProperty("keys"))return null;for(var m=[],y=0;y<u.keys.length;y++){var k=u.keys[y],P=k.kid.replace(/=/g,""),B=k.k.replace(/=/g,"");m.push(new n.default(P,B))}return new E.default(m)},getErrorResponse:function d(u){return String.fromCharCode.apply(null,new Uint8Array(u))}}}A.__dashjs_factory_name="ClearKey",v.default=dashjs.FactoryMaker.getSingletonFactory(A)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function E(A){var _=(A=A||{}).BASE64,I={};return I[n.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(P){return _.decodeArray(P.license)},getErrorResponse:function(P){return P}},I[n.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(P){return P},getErrorResponse:function(P){return String.fromCharCode.apply(null,new Uint8Array(P))}},{getServerURLFromMessage:function o(k){return k},getHTTPMethod:function d(){return"POST"},getResponseType:function u(k){return I[k].responseType},getLicenseMessage:function m(k,P){return function g(){if(!_||!_.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),I[P].getLicenseMessage(k)},getErrorResponse:function y(k,P){return I[P].getErrorResponse(k)}}}E.__dashjs_factory_name="DRMToday",v.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(){var A="http://schemas.xmlsoap.org/soap/envelope/";function _(y){var k=String.fromCharCode.apply(null,new Uint8Array(y));return decodeURIComponent(escape(k))}function I(y){if(window.DOMParser){var k=_(y),B=(new window.DOMParser).parseFromString(k,"text/xml"),F=B?B.getElementsByTagNameNS(A,"Envelope")[0]:null,R=F?F.getElementsByTagNameNS(A,"Body")[0]:null;if(R&&R.getElementsByTagNameNS(A,"Fault")[0])return null}return y}function w(y){var k="",P="",B="",F=-1,R=-1;if(window.DOMParser){var D=_(y),C=(new window.DOMParser).parseFromString(D,"text/xml"),O=C?C.getElementsByTagNameNS(A,"Envelope")[0]:null,M=O?O.getElementsByTagNameNS(A,"Body")[0]:null,G=M?M.getElementsByTagNameNS(A,"Fault")[0]:null,Z=G?G.getElementsByTagName("detail")[0]:null,ee=Z?Z.getElementsByTagName("Exception")[0]:null,ae=null;if(null===G)return D;k=(ae=G.getElementsByTagName("faultstring")[0].firstChild)?ae.nodeValue:null,null!==ee&&(P=(ae=ee.getElementsByTagName("StatusCode")[0])?ae.firstChild.nodeValue:null,F=(B=(ae=ee.getElementsByTagName("Message")[0])?ae.firstChild.nodeValue:null)?B.lastIndexOf("[")+1:-1,R=B?B.indexOf("]"):-1,B=B?B.substring(F,R):"")}var Ae="code: ".concat(P,", name: ").concat(k);return B&&(Ae+=", message: ".concat(B)),Ae}return{getServerURLFromMessage:function g(y){return y},getHTTPMethod:function o(){return"POST"},getResponseType:function d(){return"arraybuffer"},getLicenseMessage:function u(y){return I.call(this,y)},getErrorResponse:function m(y){return w.call(this,y)}}}e.r(v),n.__dashjs_factory_name="PlayReady",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(){return{getServerURLFromMessage:function A(o){return o},getHTTPMethod:function _(){return"POST"},getResponseType:function I(){return"arraybuffer"},getLicenseMessage:function w(o){return o},getErrorResponse:function g(o){return String.fromCharCode.apply(null,new Uint8Array(o))}}}e.r(v),n.__dashjs_factory_name="Widevine",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(d,u){if(function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),u&&"persistent"!==u&&"temporary"!==u)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=d,this.type=u}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"toJWK",value:function(){var u,m=this.keyPairs.length,y={keys:[]};for(u=0;u<m;u++)y.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[u].keyID,k:this.keyPairs[u].key});this.type&&(y.type=this.type);var P=JSON.stringify(y),B=P.length,F=new ArrayBuffer(B),R=new Uint8Array(F);for(u=0;u<B;u++)R[u]=P.charCodeAt(u);return F}}]),o}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u,m,y){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.sessionToken=d,this.message=u,this.defaultURL=m,this.messageType=y||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.keyID=d,this.key=u})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.keySystem=d,this.ksConfiguration=u})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u,m,y,k){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.initDataTypes=["cenc"],d&&d.length&&(this.audioCapabilities=d),u&&u.length&&(this.videoCapabilities=u),this.distinctiveIdentifier=m,this.persistentState=y,this.sessionTypes=k})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u,m,y,k,P,B,F){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=d,this.method=u,this.responseType=m,this.headers=y,this.withCredentials=k,this.messageType=P,this.sessionId=B,this.data=F})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u,m){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=d,this.headers=u,this.data=m})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.contentType=d,this.robustness=u})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.initData=d,this.initDataType=u})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var _={},I={},w={};return{push:function g(m,y,k){if(y){_[m]||(_[m]=[],I[m]=0,w[m]=0);var P=k&&k.droppedVideoFrames?k.droppedVideoFrames:0,B=k&&k.totalVideoFrames?k.totalVideoFrames:0,F=P-I[m];I[m]=P;var R=B-w[m];w[m]=B;var D=_[m];isNaN(y)||(D[y]?(D[y].droppedVideoFrames+=F,D[y].totalVideoFrames+=R):D[y]={droppedVideoFrames:F,totalVideoFrames:R})}},getFrameHistory:function o(m){return _[m]},clearForStream:function d(m){try{delete _[m],delete I[m],delete w[m]}catch{}},reset:function u(){_={},I={},w={}}}}E.__dashjs_factory_name="DroppedFramesHistory";var A=n.default.getClassFactory(E);v.default=A},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(A){var I=(A=A||{}).abrController,w=A.switchHistory,g=A.droppedFramesHistory,o=A.currentRequest,d=A.useBufferOccupancyABR,u=A.useL2AABR,m=A.useLoLPABR,y=A.streamProcessor?A.streamProcessor.getScheduleController():null,k=A.streamProcessor?A.streamProcessor.getRepresentationInfo():null,P=A.videoModel?A.videoModel:null;function R(){return k?k.mediaInfo:null}return{getMediaType:function B(){var j=R();return j?j.type:null},getMediaInfo:R,getDroppedFramesHistory:function G(){return g},getCurrentRequest:function Z(){return o},getSwitchHistory:function O(){return w},getStreamInfo:function F(){var j=R();return j?j.streamInfo:null},getScheduleController:function T(){return y},getAbrController:function C(){return I},getRepresentationInfo:function D(){return k},useBufferOccupancyABR:function ee(){return d},useL2AABR:function ae(){return u},useLoLPABR:function Ae(){return m},getVideoModel:function M(){return P}}}E.__dashjs_factory_name="RulesContext",v.default=n.default.getClassFactory(E)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A={DEFAULT:.5,STRONG:1,WEAK:0};function _(w,g,o){return{quality:void 0===w?-1:w,reason:void 0===g?null:g,priority:function k(P){var B=A.DEFAULT;return(P===A.DEFAULT||P===A.STRONG||P===A.WEAK)&&(B=P),B}(o)}}_.__dashjs_factory_name="SwitchRequest";var I=n.default.getClassFactory(_);I.NO_CHANGE=-1,I.PRIORITY=A,n.default.updateClassFactory(_.__dashjs_factory_name,I),v.default=I},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function _(){var w=[],g=[];return{push:function o(m){m.newValue===E.default.NO_CHANGE&&(m.newValue=m.oldValue),w[m.oldValue]||(w[m.oldValue]={noDrops:0,drops:0,dropSize:0});var y=m.newValue-m.oldValue,k=y<0?1:0,P=k?-y:0,B=k?0:1;if(w[m.oldValue].drops+=k,w[m.oldValue].dropSize+=P,w[m.oldValue].noDrops+=B,g.push({idx:m.oldValue,noDrop:B,drop:k,dropSize:P}),g.length>8){var F=g.shift();w[F.idx].drops-=F.drop,w[F.idx].dropSize-=F.dropSize,w[F.idx].noDrops-=F.noDrop}},getSwitchRequests:function d(){return w},reset:function u(){w=[],g=[]}}}_.__dashjs_factory_name="SwitchRequestHistory";var I=n.default.getClassFactory(_);v.default=I},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(_){var F,R,D,T,C,w=3,g=4,o=4,d=1.3,u=1.3,B=(_=_||{}).settings;function Z(ge,Ce,Le,fe){var we=Math.pow(.5,Le/fe.fast);ge.fastEstimate=(1-we)*Ce+we*ge.fastEstimate;var Te=Math.pow(.5,Le/fe.slow);ge.slowEstimate=(1-Te)*Ce+Te*ge.slowEstimate,ge.totalWeight+=Le}function ae(ge,Ce,Le){return B.get().streaming.abr.movingAverageMethod!==n.default.MOVING_AVERAGE_SLIDING_WINDOW?function j(ge,Ce){var Le=ge?C.throughputHalfLife:C.latencyHalfLife,fe=ge?D[Ce]:T[Ce];if(!fe||fe.totalWeight<=0)return NaN;var we=fe.fastEstimate/(1-Math.pow(.5,fe.totalWeight/Le.fast)),Te=fe.slowEstimate/(1-Math.pow(.5,fe.totalWeight/Le.slow));return ge?Math.min(we,Te):Math.max(we,Te)}(ge,Ce):function Ae(ge,Ce,Le){var fe=function ee(ge,Ce,Le){var fe,we;if(ge?(fe=F[Ce],we=Le?w:g):(fe=R[Ce],we=o),fe){if(we>=fe.length)we=fe.length;else if(ge)for(var Te=1;Te<we;++Te){var De=fe[fe.length-Te]/fe[fe.length-Te-1];if((De>=u||De<=1/d)&&(we+=1)===fe.length)break}}else we=0;return we}(ge,Ce,Le),Te=(ge?F:R)[Ce];return 0!==fe&&Te&&0!==Te.length?(Te=Te.slice(-fe)).reduce(function(De,Ue){return De+Ue})/Te.length:NaN}(ge,Ce,Le)}function le(ge,Ce){return ae(!0,ge,Ce)}function de(ge){F[ge]=F[ge]||[],R[ge]=R[ge]||[],D[ge]=D[ge]||{fastEstimate:0,slowEstimate:0,totalWeight:0},T[ge]=T[ge]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function xe(){F={},R={},D={},T={}}var Ge={push:function G(ge,Ce,Le){if(Ce.trace&&Ce.trace.length){var De,fe=Ce.tresponse.getTime()-Ce.trequest.getTime()||1,we=Ce._tfinish.getTime()-Ce.tresponse.getTime()||1,Te=Ce.trace.reduce(function(lt,He){return lt+He.b[0]},0),Ue=0;if(0!==(De=Ce._fileLoaderType&&Ce._fileLoaderType===n.default.FILE_LOADER_TYPES.FETCH?Ce.trace.reduce(function(lt,He){return lt+He.d},0):Le?we:fe+we)&&(Ue=Math.round(8*Te/De)),de(ge),function M(ge,Ce,Le){return ge===n.default.VIDEO?Le<B.get().streaming.cacheLoadThresholds[n.default.VIDEO]:ge===n.default.AUDIO?Le<B.get().streaming.cacheLoadThresholds[n.default.AUDIO]:void 0}(ge,0,we)){if(F[ge].length>0&&!F[ge].hasCachedEntries)return;F[ge].hasCachedEntries=!0}else F[ge]&&F[ge].hasCachedEntries&&function Se(ge){delete F[ge],delete R[ge],delete D[ge],delete T[ge],de(ge)}(ge);F[ge].push(Ue),F[ge].length>20&&F[ge].shift(),R[ge].push(fe),R[ge].length>20&&R[ge].shift(),Z(D[ge],Ue,.001*we,C.throughputHalfLife),Z(T[ge],fe,1,C.latencyHalfLife)}},getAverageThroughput:le,getSafeAverageThroughput:function Y(ge,Ce){var Le=le(ge,Ce);return isNaN(Le)||(Le*=B.get().streaming.abr.bandwidthSafetyFactor),Le},getAverageLatency:function ve(ge){return ae(!1,ge)},reset:xe};return function O(){C={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},xe()}(),Ge}A.__dashjs_factory_name="ThroughputHistory",v.default=E.default.getClassFactory(A)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),E=e(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),A=e(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),_=e(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),I=e(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),w=e(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),g=e(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),o=e(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),d=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),u=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),m=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),y="qualitySwitchRules",k="abandonFragmentRules";function P(F){var G,Z,R=this.context,D=(F=F||{}).mediaPlayerModel,T=F.customParametersModel,C=F.dashMetrics,O=F.settings;function ae(de){return de.filter(function(Se){return Se.quality>u.default.NO_CHANGE})}function Ae(de){var Ge,ge,Ce,Le,fe,Se={},xe=null;if(0!==de.length){for(Se[u.default.PRIORITY.STRONG]={quality:u.default.NO_CHANGE,reason:null},Se[u.default.PRIORITY.WEAK]={quality:u.default.NO_CHANGE,reason:null},Se[u.default.PRIORITY.DEFAULT]={quality:u.default.NO_CHANGE,reason:null},Ge=0,ge=de.length;Ge<ge;Ge+=1)(Ce=de[Ge]).quality!==u.default.NO_CHANGE&&(Se[Ce.priority].quality===u.default.NO_CHANGE||Se[Ce.priority].quality>Ce.quality)&&(Se[Ce.priority].quality=Ce.quality,Se[Ce.priority].reason=Ce.reason||null);return Se[u.default.PRIORITY.WEAK].quality!==u.default.NO_CHANGE&&(xe=Se[u.default.PRIORITY.WEAK]),Se[u.default.PRIORITY.DEFAULT].quality!==u.default.NO_CHANGE&&(xe=Se[u.default.PRIORITY.DEFAULT]),Se[u.default.PRIORITY.STRONG].quality!==u.default.NO_CHANGE&&(xe=Se[u.default.PRIORITY.STRONG]),xe&&(Le=xe.quality,fe=xe.reason),Object(u.default)(R).create(Le,fe)}}return{initialize:function ee(){G=[],Z=[],O.get().streaming.abr.useDefaultABRRules&&(O.get().streaming.abr.ABRStrategy===m.default.ABR_STRATEGY_L2A?G.push(Object(g.default)(R).create({dashMetrics:C,settings:O})):O.get().streaming.abr.ABRStrategy===m.default.ABR_STRATEGY_LoLP?G.push(Object(o.default)(R).create({dashMetrics:C})):(G.push(Object(w.default)(R).create({dashMetrics:C,mediaPlayerModel:D,settings:O})),G.push(Object(n.default)(R).create({dashMetrics:C})),O.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&G.push(Object(E.default)(R).create({dashMetrics:C,settings:O})),O.get().streaming.abr.additionalAbrRules.switchHistoryRule&&G.push(Object(I.default)(R).create()),O.get().streaming.abr.additionalAbrRules.droppedFramesRule&&G.push(Object(_.default)(R).create()),O.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Z.push(Object(A.default)(R).create({dashMetrics:C,mediaPlayerModel:D,settings:O})))),T.getAbrCustomRules().forEach(function(Se){Se.type===y&&G.push(Se.rule(R).create()),Se.type===k&&Z.push(Se.rule(R).create())})},reset:function Y(){[G,Z].forEach(function(de){de&&de.length&&de.forEach(function(Se){return Se.reset&&Se.reset()})}),G=[],Z=[]},getMaxQuality:function j(de){return Ae(ae(G.map(function(ge){return ge.getMaxIndex(de)})))||Object(u.default)(R).create()},getMinSwitchRequest:Ae,shouldAbandonFragment:function le(de,Se){return Ae(ae(Z.map(function(Ce){return Ce.shouldAbandon(de,Se)})))||Object(u.default)(R).create()},getQualitySwitchRules:function ve(){return G}}}P.__dashjs_factory_name="ABRRulesCollection";var B=d.default.getClassFactory(P);B.QUALITY_SWITCH_RULES=y,B.ABANDON_FRAGMENT_RULES=k,d.default.updateSingletonFactory(P.__dashjs_factory_name,B),v.default=B},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),E=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function _(I){var k,P,B,F,R,d=this.context,u=(I=I||{}).mediaPlayerModel,m=I.dashMetrics,y=I.settings;function M(){B={},F={},R=[]}return k={shouldAbandon:function O(G){var Z=Object(n.default)(d).create(n.default.NO_CHANGE,{name:_.__dashjs_factory_name});if(!(G&&G.hasOwnProperty("getMediaInfo")&&G.hasOwnProperty("getMediaType")&&G.hasOwnProperty("getCurrentRequest")&&G.hasOwnProperty("getRepresentationInfo")&&G.hasOwnProperty("getAbrController")))return Z;var ee=G.getMediaInfo(),ae=G.getMediaType(),Ae=G.getStreamInfo(),j=Ae?Ae.id:null,le=G.getCurrentRequest();if(!isNaN(le.index)){!function T(G,Z){B[G]=B[G]||{},B[G][Z]=B[G][Z]||{}}(ae,le.index);var Y=u.getStableBufferTime();if(m.getCurrentBufferLevel(ae)>Y)return Z;var de=B[ae][le.index];if(null===de||null===le.firstByteDate||F.hasOwnProperty(de.id))return Z;if(void 0===de.firstByteTime&&(R[ae]=[],de.firstByteTime=le.firstByteDate.getTime(),de.segmentDuration=le.duration,de.bytesTotal=le.bytesTotal,de.id=le.index),de.bytesLoaded=le.bytesLoaded,de.elapsedTime=(new Date).getTime()-de.firstByteTime,de.bytesLoaded>0&&de.elapsedTime>0&&function C(G,Z){R[G]=R[G]||[],R[G].push(Z)}(ae,Math.round(8*de.bytesLoaded/de.elapsedTime)),R[ae].length>=5&&de.elapsedTime>500&&de.bytesLoaded<de.bytesTotal){var Se=R[ae].reduce(function(Te,De){return Te+De},0);if(de.measuredBandwidthInKbps=Math.round(Se/R[ae].length),de.estimatedTimeOfDownload=+(8*de.bytesTotal/de.measuredBandwidthInKbps/1e3).toFixed(2),de.estimatedTimeOfDownload<1.8*de.segmentDuration||0===G.getRepresentationInfo().quality)return Z;if(!F.hasOwnProperty(de.id)){var xe=G.getAbrController(),Ge=de.bytesTotal-de.bytesLoaded,ge=xe.getBitrateList(ee),Ce=xe.getQualityForBitrate(ee,de.measuredBandwidthInKbps*y.get().streaming.abr.bandwidthSafetyFactor,j),Le=xe.getMinAllowedIndexFor(ae,j),fe=void 0!==Le?Math.max(Le,Ce):Ce;Ge>de.bytesTotal*ge[fe].bitrate/ge[xe.getQualityFor(ae,j)].bitrate&&(Z.quality=fe,Z.reason.throughput=de.measuredBandwidthInKbps,Z.reason.fragmentID=de.id,F[de.id]=de,P.debug("["+ae+"] frag id",de.id," is asking to abandon and switch to quality to ",fe," measured bandwidth was",de.measuredBandwidthInKbps),delete B[ae][de.id])}}else de.bytesLoaded===de.bytesTotal&&delete B[ae][de.id]}return Z},reset:M},function D(){P=Object(A.default)(d).getInstance().getLogger(k),M()}(),k}_.__dashjs_factory_name="AbandonRequestsRule",v.default=E.default.getClassFactory(_)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),o=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),d=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),k=10;function F(R){var M,G,Z,D=this.context,T=(R=R||{}).dashMetrics,C=R.mediaPlayerModel,O=Object(I.default)(D).getInstance();function Ae(be,_e,K){var oe=K.reduce(function(X,$,ne){return $>K[X]?ne:X},0);if(0===oe)return null;var pe=Math.max(be,k+2*_e.length),re=(K[oe]-1)/(pe/k-1);return{gp:re,Vp:k/re}}function j(be){var _e={},oe=be.getMediaInfo().bitrateList.map(function(X){return X.bandwidth}),pe=function ae(be){return be.map(function(_e){return Math.log(_e)})}(oe);pe=pe.map(function(X){return X-pe[0]+1});var re=C.getStableBufferTime(),Q=Ae(re,oe,pe);return Q?(_e.state=1,_e.bitrates=oe,_e.utilities=pe,_e.stableBufferTime=re,_e.Vp=Q.Vp,_e.gp=Q.gp,_e.lastQuality=0,le(_e)):_e.state=0,_e}function le(be){be.placeholderBuffer=0,be.mostAdvancedSegmentStart=NaN,be.lastSegmentWasReplacement=!1,be.lastSegmentStart=NaN,be.lastSegmentDurationS=NaN,be.lastSegmentRequestTimeMs=NaN,be.lastSegmentFinishTimeMs=NaN}function Y(be,_e){var K=C.getStableBufferTime();if(be.stableBufferTime!==K){var oe=Ae(K,be.bitrates,be.utilities);if(oe.Vp!==be.Vp||oe.gp!==be.gp){var pe=T.getCurrentBufferLevel(_e),re=pe+be.placeholderBuffer;re-=k,re*=oe.Vp/be.Vp,re+=k,be.stableBufferTime=K,be.Vp=oe.Vp,be.gp=oe.gp,be.placeholderBuffer=Math.max(0,re-pe)}}}function Se(be,_e){return be.Vp*(be.utilities[_e]+be.gp)}function xe(be,_e){for(var K=be.bitrates[_e],oe=be.utilities[_e],pe=0,re=_e-1;re>=0;--re)if(be.utilities[re]<be.utilities[_e]){var Q=be.bitrates[re];pe=Math.max(pe,be.Vp*(be.gp+(K*be.utilities[re]-Q*oe)/(K-Q)))}return pe}function ge(be){var K=be.mediaType===d.default.AUDIO?[d.default.AUDIO]:Z;for(var oe in K)Z.hasOwnProperty(oe)&&2===Z[oe].state&&(Z[oe].placeholderBuffer=0)}function Ce(){for(var be in Z)if(Z.hasOwnProperty(be)){var _e=Z[be];0!==_e.state&&(_e.state=1,le(_e))}}function Le(be){if(be&&be.chunk&&be.chunk.mediaInfo){var _e=Z[be.chunk.mediaInfo.type];if(_e&&0!==_e.state){var K=be.chunk.start;isNaN(_e.mostAdvancedSegmentStart)||K>_e.mostAdvancedSegmentStart?(_e.mostAdvancedSegmentStart=K,_e.lastSegmentWasReplacement=!1):_e.lastSegmentWasReplacement=!0,_e.lastSegmentStart=K,_e.lastSegmentDurationS=be.chunk.duration,_e.lastQuality=be.chunk.quality,we(_e,be.chunk.mediaInfo.type)}}}function fe(be){if(be&&be.metric===n.default.HTTP_REQUEST&&be.value&&be.value.type===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&be.value.trace&&be.value.trace.length){var _e=Z[be.mediaType];_e&&0!==_e.state&&(_e.lastSegmentRequestTimeMs=be.value.trequest.getTime(),_e.lastSegmentFinishTimeMs=be.value._tfinish.getTime(),we(_e,be.mediaType))}}function we(be,_e){if(!isNaN(be.lastSegmentStart)&&!isNaN(be.lastSegmentRequestTimeMs)&&!isNaN(be.placeholderBuffer)){if(be.placeholderBuffer*=.99,!isNaN(be.lastSegmentFinishTimeMs)){var oe=T.getCurrentBufferLevel(_e)+.001*(be.lastSegmentFinishTimeMs-be.lastSegmentRequestTimeMs),pe=Se(be,be.lastQuality),re=Math.max(0,pe-oe);be.placeholderBuffer=Math.min(re,be.placeholderBuffer)}be.lastSegmentWasReplacement&&!isNaN(be.lastSegmentDurationS)&&(be.placeholderBuffer+=be.lastSegmentDurationS),be.lastSegmentStart=NaN,be.lastSegmentRequestTimeMs=NaN}}function Te(be){if(be){var _e=Z[be.mediaType];_e&&0!==_e.state&&(_e.abrQuality=be.newQuality)}}function De(be){if(be){var _e=Z[be.mediaType];if(_e&&0!==_e.state){var oe,K=T.getCurrentBufferLevel(be.mediaType);oe=_e.abrQuality>0?xe(_e,_e.abrQuality):k;var pe=Math.max(0,oe-K);_e.placeholderBuffer=Math.min(_e.placeholderBuffer,pe)}}}function lt(){Z={}}return M={getMaxIndex:function Ue(be){var _e=Object(E.default)(D).create();if(!(be&&be.hasOwnProperty("getMediaInfo")&&be.hasOwnProperty("getMediaType")&&be.hasOwnProperty("getScheduleController")&&be.hasOwnProperty("getStreamInfo")&&be.hasOwnProperty("getAbrController")&&be.hasOwnProperty("useBufferOccupancyABR")))return _e;var K=be.getMediaInfo(),oe=be.getMediaType(),pe=be.getScheduleController(),re=be.getStreamInfo(),Q=be.getAbrController(),X=Q.getThroughputHistory(),$=re?re.id:null,ne=re&&re.manifestInfo&&re.manifestInfo.isDynamic,J=be.useBufferOccupancyABR();if(_e.reason=_e.reason||{},!J)return _e;pe.setTimeToLoadDelay(0);var q=function ve(be){var _e=be.getMediaType(),K=Z[_e];return K?0!==K.state&&Y(K,_e):(K=j(be),Z[_e]=K),K}(be);if(0===q.state)return _e;var tt,me=T.getCurrentBufferLevel(oe),Ee=X.getAverageThroughput(oe,ne),ye=X.getSafeAverageThroughput(oe,ne),Ne=X.getAverageLatency(oe);if(_e.reason.state=q.state,_e.reason.throughput=Ee,_e.reason.latency=Ne,isNaN(Ee))return _e;switch(q.state){case 1:tt=Q.getQualityForBitrate(K,ye,$,Ne),_e.quality=tt,_e.reason.throughput=ye,q.placeholderBuffer=Math.max(0,xe(q,tt)-me),q.lastQuality=tt,!isNaN(q.lastSegmentDurationS)&&me>=q.lastSegmentDurationS&&(q.state=2);break;case 2:(function Ge(be,_e){var K=Date.now();isNaN(be.lastSegmentFinishTimeMs)?isNaN(be.lastCallTimeMs)||(be.placeholderBuffer+=Math.max(0,.001*(K-be.lastCallTimeMs))):be.placeholderBuffer+=Math.max(0,.001*(K-be.lastSegmentFinishTimeMs)),be.lastCallTimeMs=K,be.lastSegmentStart=NaN,be.lastSegmentRequestTimeMs=NaN,be.lastSegmentFinishTimeMs=NaN,Y(be,_e)})(q,oe),tt=function de(be,_e){for(var K=be.bitrates.length,oe=NaN,pe=NaN,re=0;re<K;++re){var Q=(be.Vp*(be.utilities[re]+be.gp)-_e)/be.bitrates[re];(isNaN(pe)||Q>=pe)&&(pe=Q,oe=re)}return oe}(q,me+q.placeholderBuffer);var qe=Q.getQualityForBitrate(K,ye,$,Ne);tt>q.lastQuality&&tt>qe&&(tt=Math.max(qe,q.lastQuality));var Xe=Math.max(0,me+q.placeholderBuffer-Se(q,tt));Xe<=q.placeholderBuffer?(q.placeholderBuffer-=Xe,Xe=0):(Xe-=q.placeholderBuffer,q.placeholderBuffer=0,tt<Q.getMaxAllowedIndexFor(oe,$)?pe.setTimeToLoadDelay(1e3*Xe):Xe=0),_e.quality=tt,_e.reason.throughput=Ee,_e.reason.latency=Ne,_e.reason.bufferLevel=me,_e.reason.placeholderBuffer=q.placeholderBuffer,_e.reason.delay=Xe,q.lastQuality=tt;break;default:G.debug("BOLA ABR rule invoked in bad state."),_e.quality=Q.getQualityForBitrate(K,ye,$,Ne),_e.reason.state=q.state,_e.reason.throughput=ye,_e.reason.latency=Ne,q.state=1,le(q)}return _e},reset:function He(){lt(),O.off(o.default.BUFFER_EMPTY,ge,M),O.off(o.default.PLAYBACK_SEEKING,Ce,M),O.off(o.default.METRIC_ADDED,fe,M),O.off(o.default.QUALITY_CHANGE_REQUESTED,Te,M),O.off(o.default.FRAGMENT_LOADING_ABANDONED,De,M),O.off(w.default.MEDIA_FRAGMENT_LOADED,Le,M)}},function ee(){G=Object(g.default)(D).getInstance().getLogger(M),lt(),O.on(o.default.BUFFER_EMPTY,ge,M),O.on(o.default.PLAYBACK_SEEKING,Ce,M),O.on(o.default.METRIC_ADDED,fe,M),O.on(o.default.QUALITY_CHANGE_REQUESTED,Te,M),O.on(o.default.FRAGMENT_LOADING_ABANDONED,De,M),O.on(w.default.MEDIA_FRAGMENT_LOADED,Le,M)}(),M}F.__dashjs_factory_name="BolaRule",v.default=A.default.getClassFactory(F)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function _(){var w,g,I=this.context;return w={getMaxIndex:function m(y){var k=Object(E.default)(I).create();if(!y||!y.hasOwnProperty("getDroppedFramesHistory"))return k;var P=y.getDroppedFramesHistory(),B=y.getStreamInfo().id;if(P){var F=P.getFrameHistory(B);if(!F||0===F.length)return k;for(var R=0,D=0,T=E.default.NO_CHANGE,C=1;C<F.length;C++)if(F[C]&&(R=F[C].droppedVideoFrames,(D=F[C].totalVideoFrames)>375&&R/D>.15)){g.debug("index: "+(T=C-1)+" Dropped Frames: "+R+" Total Frames: "+D);break}return Object(E.default)(I).create(T,{droppedFrames:R})}return k}},function u(){g=Object(A.default)(I).getInstance().getLogger(w)}(),w}_.__dashjs_factory_name="DroppedFramesRule",v.default=n.default.getClassFactory(_)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),I=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),o=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function d(u){u=u||{};var F,R,D,y=2,k=this.context,P=Object(n.default)(k).getInstance(),B=u.dashMetrics;function G(){(D={})[w.default.VIDEO]={ignoreCount:y},D[w.default.AUDIO]={ignoreCount:y}}function Z(){G()}function ee(Ae){!isNaN(Ae.startTime)&&(Ae.mediaType===w.default.AUDIO||Ae.mediaType===w.default.VIDEO)&&D[Ae.mediaType].ignoreCount>0&&D[Ae.mediaType].ignoreCount--}return F={getMaxIndex:function O(Ae){var j=Object(I.default)(k).create();if(!Ae||!Ae.hasOwnProperty("getMediaType"))return j;!function C(){if(!B||!B.hasOwnProperty("getCurrentBufferLevel")||!B.hasOwnProperty("getCurrentBufferState"))throw new Error(w.default.MISSING_CONFIG_ERROR)}();var le=Ae.getMediaType(),Y=B.getCurrentBufferState(le),de=Ae.getRepresentationInfo().fragmentDuration,Se=Ae.getStreamInfo(),xe=Se?Se.id:null,Ge=Ae.getScheduleController(),ge=Se&&Se.manifestInfo&&Se.manifestInfo.isDynamic;if(function M(Ae,j){return!Ae&&D[j].ignoreCount>0}(Ge.getPlaybackController().getLowLatencyModeEnabled(),le)||!de)return j;if(Y&&Y.state===g.default.BUFFER_EMPTY)R.debug("["+le+"] Switch to index 0; buffer is empty."),j.quality=0,j.reason="InsufficientBufferRule: Buffer is empty";else{var fe=Ae.getMediaInfo(),we=Ae.getAbrController(),Te=we.getThroughputHistory(),De=B.getCurrentBufferLevel(le),Ue=Te.getAverageThroughput(le,ge),lt=Te.getAverageLatency(le);j.quality=we.getQualityForBitrate(fe,Ue*(De/de)*.5,xe,lt),j.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return j},reset:function ae(){G(),P.off(o.default.PLAYBACK_SEEKING,Z,F),P.off(E.default.BYTES_APPENDED_END_FRAGMENT,ee,F)}},function T(){R=Object(_.default)(k).getInstance().getLogger(F),G(),P.on(o.default.PLAYBACK_SEEKING,Z,F),P.on(E.default.BYTES_APPENDED_END_FRAGMENT,ee,F)}(),F}d.__dashjs_factory_name="InsufficientBufferRule",v.default=A.default.getClassFactory(d)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),o=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function y(k){var R,D,T,C,P=this.context,B=(k=k||{}).dashMetrics,F=Object(I.default)(P).getInstance();function M(ge){var Ce={},Le=ge.getMediaInfo(),fe=Le.bitrateList.map(function(we){return we.bandwidth/1e3});return Ce.state=1,Ce.bitrates=fe,Ce.lastQuality=0,function G(ge){!ge||!ge.type||(T[ge.type]={},T[ge.type].w=[],T[ge.type].prev_w=[],T[ge.type].Q=0,T[ge.type].segment_request_start_s=0,T[ge.type].segment_download_finish_s=0,T[ge.type].B_target=1.5)}(Le),Z(Ce),Ce}function Z(ge){ge.placeholderBuffer=0,ge.mostAdvancedSegmentStart=NaN,ge.lastSegmentWasReplacement=!1,ge.lastSegmentStart=NaN,ge.lastSegmentDurationS=NaN,ge.lastSegmentRequestTimeMs=NaN,ge.lastSegmentFinishTimeMs=NaN}function ae(){for(var ge in D)if(D.hasOwnProperty(ge)){var Ce=D[ge];0!==Ce.state&&(Ce.state=1,Z(Ce))}}function Ae(ge){if(ge&&ge.chunk&&ge.chunk.mediaInfo){var Ce=D[ge.chunk.mediaInfo.type],Le=T[ge.chunk.mediaInfo.type];if(Ce&&0!==Ce.state){var fe=ge.chunk.start;isNaN(Ce.mostAdvancedSegmentStart)||fe>Ce.mostAdvancedSegmentStart?(Ce.mostAdvancedSegmentStart=fe,Ce.lastSegmentWasReplacement=!1):Ce.lastSegmentWasReplacement=!0,Ce.lastSegmentStart=fe,Ce.lastSegmentDurationS=ge.chunk.duration,Ce.lastQuality=ge.chunk.quality,le(Ce,Le)}}}function j(ge){if(ge&&ge.metric===n.default.HTTP_REQUEST&&ge.value&&ge.value.type===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&ge.value.trace&&ge.value.trace.length){var Ce=D[ge.mediaType],Le=T[ge.mediaType];Ce&&0!==Ce.state&&(Ce.lastSegmentRequestTimeMs=ge.value.trequest.getTime(),Ce.lastSegmentFinishTimeMs=ge.value._tfinish.getTime(),le(Ce,Le))}}function le(ge,Ce){!isNaN(ge.lastSegmentStart)&&!isNaN(ge.lastSegmentRequestTimeMs)&&(Ce.segment_request_start_s=.001*ge.lastSegmentRequestTimeMs,Ce.segment_download_finish_s=.001*ge.lastSegmentFinishTimeMs,ge.lastSegmentStart=NaN,ge.lastSegmentRequestTimeMs=NaN)}function Y(ge){if(ge&&ge.mediaType){var Ce=D[ge.mediaType];Ce&&0!==Ce.state&&(Ce.abrQuality=ge.newQuality)}}function ve(ge,Ce){if(ge.length!==Ce.length)return-1;for(var Le=0,fe=0;fe<ge.length;fe++)Le+=ge[fe]*Ce[fe];return Le}function xe(){D={},T={}}return R={getMaxIndex:function Se(ge){var q,Ce=Object(E.default)(P).create(),fe=Math.pow(4,.99),we=Math.max(Math.pow(4,1),fe*Math.sqrt(4)),Te=ge.getMediaInfo(),De=ge.getMediaType(),Ue=Te.bitrateList.map(function(Bt){return Bt.bandwidth}),lt=Ue.length,He=ge.getScheduleController(),be=ge.getStreamInfo(),_e=ge.getAbrController(),K=_e.getThroughputHistory(),oe=be&&be.manifestInfo&&be.manifestInfo.isDynamic,pe=ge.useL2AABR(),re=B.getCurrentBufferLevel(De,!0),Q=K.getSafeAverageThroughput(De,oe),X=K.getAverageThroughput(De,oe),ne=K.getAverageLatency(De),me=ge.getVideoModel().getPlaybackRate();if(!(ge&&ge.hasOwnProperty("getMediaInfo")&&ge.hasOwnProperty("getMediaType")&&ge.hasOwnProperty("getScheduleController")&&ge.hasOwnProperty("getStreamInfo")&&ge.hasOwnProperty("getAbrController")&&ge.hasOwnProperty("useL2AABR")&&(Ce.reason=Ce.reason||{},pe&&De!==o.default.AUDIO)))return Ce;He.setTimeToLoadDelay(0);var Ee=function ee(ge){var Ce=ge.getMediaType(),Le=D[Ce];return Le||(Le=M(ge),D[Ce]=Le),Le}(ge);if(0===Ee.state)return Ce;var ye=T[De];if(!ye||(Ce.reason.state=Ee.state,Ce.reason.throughput=X,Ce.reason.latency=ne,isNaN(X)))return Ce;switch(Ee.state){case 1:if(q=_e.getQualityForBitrate(Te,Q,be.id,ne),Ce.quality=q,Ce.reason.throughput=Q,Ee.lastQuality=q,!isNaN(Ee.lastSegmentDurationS)&&re>=ye.B_target){Ee.state=2,ye.Q=fe;for(var Ne=0;Ne<lt;++Ne)ye.prev_w[Ne]=Ne===Ee.lastQuality?1:0}break;case 2:var tt=[],qe=B.getCurrentHttpRequest(De).trace.reduce(function(Bt,zt){return Bt+zt.d},0),Xe=B.getCurrentHttpRequest(De).trace.reduce(function(Bt,zt){return Bt+zt.b[0]},0),ut=Math.round(8*Xe/qe);ut<1&&(ut=1);for(var ze=Ee.lastSegmentDurationS,ht=1,vt=0;vt<lt;++vt)Ue[vt]=Ue[vt]/1e3,me*Ue[vt]>ut&&(ht=-1),ye.w[vt]=ye.prev_w[vt]+ht*(ze/(2*we))*((ye.Q+fe)*(me*Ue[vt]/ut));ye.w=function de(ge){for(var Ce=ge.length,Le=!1,fe=[],we=0;we<Ce;++we)fe[we]=ge[we];for(var Te=ge.sort(function(_e,K){return K-_e}),De=0,Ue=0,lt=[],He=0;He<Ce-1;++He)if((Ue=((De+=Te[He])-1)/(He+1))>=Te[He+1]){Le=!0;break}Le||(Ue=(De+Te[Ce-1]-1)/Ce);for(var be=0;be<Ce;++be)lt[be]=Math.max(fe[be]-Ue,0);return lt}(ye.w);for(var ce=0;ce<lt;++ce)tt[ce]=ye.w[ce]-ye.prev_w[ce],ye.prev_w[ce]=ye.w[ce];ye.Q=Math.max(0,ye.Q-ze+ze*me*((ve(Ue,ye.prev_w)+ve(Ue,tt))/ut));for(var Ve=[],yt=0;yt<lt;++yt)Ve[yt]=Math.abs(Ue[yt]-ve(ye.w,Ue));(q=Ve.indexOf(Math.min.apply(Math,Ve)))>Ee.lastQuality&&Ue[Ee.lastQuality+1]<=ut&&(q=Ee.lastQuality+1),Ue[q]>=ut&&(ye.Q=2*Math.max(fe,ye.Q)),Ce.quality=q,Ce.reason.throughput=X,Ce.reason.latency=ne,Ce.reason.bufferLevel=re,Ee.lastQuality=Ce.quality;break;default:C.debug("L2A ABR rule invoked in bad state."),Ce.quality=_e.getQualityForBitrate(Te,Q,be.id,ne),Ce.reason.state=Ee.state,Ce.reason.throughput=Q,Ce.reason.latency=ne,Ee.state=1,Z(Ee)}return Ce},reset:function Ge(){xe(),F.off(w.default.PLAYBACK_SEEKING,ae,R),F.off(w.default.MEDIA_FRAGMENT_LOADED,Ae,R),F.off(w.default.METRIC_ADDED,j,R),F.off(w.default.QUALITY_CHANGE_REQUESTED,Y,R)}},function O(){C=Object(g.default)(P).getInstance().getLogger(R),xe(),F.on(w.default.PLAYBACK_SEEKING,ae,R),F.on(w.default.MEDIA_FRAGMENT_LOADED,Ae,R),F.on(w.default.METRIC_ADDED,j,R),F.on(w.default.QUALITY_CHANGE_REQUESTED,Y,R)}(),R}y.__dashjs_factory_name="L2ARule",v.default=A.default.getClassFactory(y)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function _(){var w,g,I=this.context;return w={getMaxIndex:function m(y){for(var k=y?y.getSwitchHistory():null,P=k?k.getSwitchRequests():[],B=0,F=0,R=0,D=Object(A.default)(I).create(),T=0;T<P.length;T++)if(void 0!==P[T]&&(R+=P[T].dropSize,(B+=P[T].drops)+(F+=P[T].noDrops)>=6&&B/F>.075)){D.quality=T>0&&P[T].drops>0?T-1:T,D.reason={index:D.quality,drops:B,noDrops:F,dropSize:R},g.debug("Switch history rule index: "+D.quality+" samples: "+(B+F)+" drops: "+B);break}return D}},function u(){g=Object(E.default)(I).getInstance().getLogger(w)}(),w}_.__dashjs_factory_name="SwitchHistoryRule",v.default=n.default.getClassFactory(_)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function I(w){var g=this.context,o=(w=w||{}).dashMetrics;return{getMaxIndex:function y(P){var B=Object(E.default)(g).create();if(!(P&&P.hasOwnProperty("getMediaInfo")&&P.hasOwnProperty("getMediaType")&&P.hasOwnProperty("useBufferOccupancyABR")&&P.hasOwnProperty("getAbrController")&&P.hasOwnProperty("getScheduleController")))return B;!function m(){if(!o||!o.hasOwnProperty("getCurrentBufferState"))throw new Error(A.default.MISSING_CONFIG_ERROR)}();var F=P.getMediaInfo(),R=P.getMediaType(),D=o.getCurrentBufferState(R),T=P.getScheduleController(),C=P.getAbrController(),O=P.getStreamInfo(),M=O?O.id:null,G=O&&O.manifestInfo?O.manifestInfo.isDynamic:null,Z=C.getThroughputHistory(),ee=Z.getSafeAverageThroughput(R,G),ae=Z.getAverageLatency(R),Ae=P.useBufferOccupancyABR();return isNaN(ee)||!D||Ae||C.getAbandonmentStateFor(M,R)!==_.default.ABANDON_LOAD&&(D.state===_.default.BUFFER_LOADED||G)&&(B.quality=C.getQualityForBitrate(F,ee,M,ae),T.setTimeToLoadDelay(0),B.reason={throughput:ee,latency:ae}),B},reset:function k(){}}}I.__dashjs_factory_name="ThroughputRule",v.default=n.default.getClassFactory(I)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),A_MANUAL="manual_weight_selection",A_RANDOM="random_weight_selection",A_DYNAMIC="dynamic_weight_selection";function _(){var w,g,o,d,u,m,y,k,P,I=this.context;function R(){o=null,d=1,u=100,m=0,y=null,k=null,P=A_DYNAMIC}function D(){var Se=0;if(o)for(var xe=0;xe<o.length;xe++){var Ge=o[xe];Ge.state.throughput>Se&&(Se=Ge.state.throughput)}return Se}function C(Se,xe,Ge){var ge=Se.map(function(Le,fe){return Ge[fe]*Math.pow(Le-xe[fe],2)}).reduce(function(Le,fe){return Le+fe});return(ge<0?-1:1)*Math.sqrt(Math.abs(ge))}function O(Se,xe){return C([Se.state.throughput,Se.state.latency,Se.state.rebuffer,Se.state.switch],[xe.state.throughput,xe.state.latency,xe.state.rebuffer,xe.state.switch],[1,1,1,1])}function M(Se,xe,Ge){for(var ge=0;ge<xe.length;ge++){var Ce=xe[ge],fe=O(Ce,Se);G(Ce,Ge,Math.exp(-1*Math.pow(fe,2)/(2*Math.pow(.1,2))))}}function G(Se,xe,Ge){var ge=Se.state,Ce=[.01,.01,.01,.01];ge.throughput=ge.throughput+(xe[0]-ge.throughput)*Ce[0]*Ge,ge.latency=ge.latency+(xe[1]-ge.latency)*Ce[1]*Ge,ge.rebuffer=ge.rebuffer+(xe[2]-ge.rebuffer)*Ce[2]*Ge,ge.switch=ge.switch+(xe[3]-ge.switch)*Ce[3]*Ge}return w={getNextQuality:function ee(Se,xe,Ge,ge,Ce,Le,fe){var we=Ge,Te=ge,De=xe,Ue=function Y(Se){if(!o){o=[];var xe=Se.bitrateList,Ge=[];m=xe[0].bandwidth,xe.forEach(function(Le){Ge.push(Le.bandwidth),Le.bandwidth<m&&(m=Le.bandwidth)}),d=function T(Se){var xe=Se.map(function(Ge){return Math.pow(Ge,2)}).reduce(function(Ge,ge){return Ge+ge});return Math.sqrt(xe)}(Ge);for(var ge=0;ge<xe.length;ge++)o.push({qualityIndex:ge,bitrate:xe[ge].bandwidth,state:{throughput:xe[ge].bandwidth/d,latency:0,rebuffer:0,switch:0}});k=function de(Se){var xe=[],Ge=function ve(Se){for(var xe=[],Ge=0;Ge<Se;Ge++){var ge=[Math.random()*D(),Math.random(),Math.random(),Math.random()];xe.push(ge)}return xe}(Math.pow(Se.length,2));xe.push(Ge[0]);for(var ge=[1,1,1,1],Ce=1;Ce<Se.length;Ce++){for(var Le=null,fe=null,we=0;we<Ge.length;we++){for(var Te=Ge[we],De=null,Ue=0;Ue<xe.length;Ue++){var lt=C(Te,xe[Ue],ge);(null===De||lt<De)&&(De=lt)}(null===fe||De>fe)&&(Le=Te,fe=De)}xe.push(Le)}for(var He=null,be=null,_e=0;_e<xe.length;_e++){for(var K=0,oe=0;oe<xe.length;oe++)_e!==oe&&(K+=C(xe[_e],xe[oe],ge));(null===He||K>He)&&(He=K,be=_e)}var pe=[];for(pe.push(xe[be]),xe.splice(be,1);xe.length>0;){for(var re=null,Q=null,X=0;X<xe.length;X++){var $=C(pe[0],xe[X],ge);(null===re||$<re)&&(re=$,Q=X)}pe.push(xe[Q]),xe.splice(Q,1)}return pe}(o)}return o}(Se),lt=xe/d;lt>1&&(lt=D()),Ge/=u,g.debug("getNextQuality called throughput:".concat(lt," latency:").concat(Ge," bufferSize:").concat(ge," currentQualityIndex:").concat(Le," playbackRate:").concat(Ce));var oe=Ue[Le],pe=oe.bitrate*fe.getSegmentDuration()/De,re=Math.max(0,pe-Te);if(Te-pe<fe.getMinBuffer())return g.debug("Buffer is low for bitrate= ".concat(oe.bitrate," downloadTime=").concat(pe," currentBuffer=").concat(Te," rebuffer=").concat(re)),function Z(Se,xe){var Ge=0,ge=Se;if(o)for(var Ce=0;Ce<o.length;Ce++){var Le=o[Ce];Le.bitrate<Se.bitrate&&Le.bitrate>Ge&&xe>Le.bitrate&&(Ge=Le.bitrate,ge=Le)}return ge}(oe,De).qualityIndex;switch(P){case A_MANUAL:!function ae(){y=[.4,.4,.4,.4]}();break;case A_RANDOM:!function Ae(Se){y=function le(Se,xe){for(var Ge=[],ge=Math.sqrt(2/Se),Ce=0;Ce<xe;Ce++)Ge.push(Math.random()*ge);return y=Ge}(Se.length,4)}(Ue);break;default:!function j(Se,xe,Ge,ge,Ce,Le,fe){y||(y=k[k.length-1]);var we=Se.findWeightVector(xe,Ge,ge,Ce,Le,fe);null!==we&&-1!==we&&(y=we)}(fe,Ue,we,Te,re,De,Ce)}for(var Q=null,X=null,$=null,ne=0;ne<Ue.length;ne++){var J=Ue[ne],q=J.state,me=[q.throughput,q.latency,q.rebuffer,q.switch],Ee=y.slice(),ye=fe.getNextBufferWithBitrate(J.bitrate,Te,De),Ne=ye<fe.getMinBuffer();Ne&&g.debug("Buffer is low for bitrate=".concat(J.bitrate," downloadTime=").concat(pe," currentBuffer=").concat(Te," nextBuffer=").concat(ye)),(J.bitrate>xe-1e4||Ne)&&J.bitrate!==m&&(Ee[0]=100);var tt=C(me,[lt,0,0,0],Ee);(null===Q||tt<Q)&&(Q=tt,X=J.qualityIndex,$=J)}var qe=Math.abs(oe.bitrate-$.bitrate)/d;return M(oe,Ue,[lt,Ge,re,qe]),M($,Ue,[lt,0,0,qe]),X},reset:function F(){R()}},function B(){g=Object(E.default)(I).getInstance().getLogger(w),R()}(),w}_.__dashjs_factory_name="LearningAbrController",v.default=n.default.getClassFactory(_)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function A(){var _,I,w,g,o;function u(){I=null,w=null,g=null,o=null}function y(D,T,C,O){var M=new E.default;return M.type=D,M.weights.bitrateReward=T||1,M.weights.bitrateSwitchPenalty=1,M.weights.rebufferPenalty=C||1e3,M.weights.latencyPenalty=[],M.weights.latencyPenalty.push({threshold:1.1,penalty:.05*O}),M.weights.latencyPenalty.push({threshold:1e8,penalty:.1*C}),M.weights.playbackSpeedPenalty=O||200,M}function P(D,T,C,O,M){M.bitrateWSum+=M.weights.bitrateReward*D,M.lastBitrate&&(M.bitrateSwitchWSum+=M.weights.bitrateSwitchPenalty*Math.abs(D-M.lastBitrate)),M.lastBitrate=D,M.rebufferWSum+=M.weights.rebufferPenalty*T;for(var G=0;G<M.weights.latencyPenalty.length;G++){var Z=M.weights.latencyPenalty[G];if(C<=Z.threshold){M.latencyWSum+=Z.penalty*C;break}}M.playbackSpeedWSum+=M.weights.playbackSpeedPenalty*Math.abs(1-O),M.totalQoe=M.bitrateWSum-M.bitrateSwitchWSum-M.rebufferWSum-M.latencyWSum-M.playbackSpeedWSum}return _={setupPerSegmentQoe:function m(D,T,C){I=y("segment",D,T,C),w=D,g=T,o=C},logSegmentMetrics:function k(D,T,C,O){I&&P(D,T,C,O,I)},getPerSegmentQoe:function B(){return I},calculateSingleUseQoe:function F(D,T,C,O){var M=null;return w&&g&&o&&(M=y("segment",w,g,o)),M?(P(D,T,C,O,M),M.totalQoe):0},reset:function R(){u()}},function d(){u()}(),_}A.__dashjs_factory_name="LoLpQoeEvaluator",v.default=n.default.getClassFactory(A)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),_=e(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),I=e(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=e(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=e(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),o=e(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function m(y){var B,F,R,D,k=(y=y||{}).dashMetrics,P=this.context;return F={getMaxIndex:function C(G){try{var Z=Object(I.default)(P).create(),ee=G.getMediaInfo().type,ae=G.getAbrController(),Ae=G.getStreamInfo(),j=ae.getQualityFor(ee,Ae.id),le=G.getMediaInfo(),Y=k.getCurrentBufferState(ee),ve=G.getScheduleController(),de=k.getCurrentBufferLevel(ee,!0),Se=Ae&&Ae.manifestInfo?Ae.manifestInfo.isDynamic:null,xe=ve.getPlaybackController(),Ge=xe.getCurrentLiveLatency();if(!G.useLoLPABR()||ee===o.default.AUDIO)return Z;Ge||(Ge=0);var ge=xe.getPlaybackRate(),Le=ae.getThroughputHistory().getSafeAverageThroughput(ee,Se);if(B.debug("Throughput ".concat(Math.round(Le)," kbps")),isNaN(Le)||!Y||ae.getAbandonmentStateFor(Ae.id,ee)===w.default.ABANDON_LOAD)return Z;for(var fe=le.bitrateList,we=G.getRepresentationInfo().fragmentDuration,Te=fe[0].bandwidth/1e3,De=fe[fe.length-1].bandwidth/1e3,Ue=0;Ue<fe.length;Ue++){var lt=fe[Ue].bandwidth/1e3;lt>De?De=lt:lt<Te&&(Te=lt)}var be=fe[j].bandwidth/1e3,_e=k.getCurrentHttpRequest(ee,!0),K=(_e.tresponse.getTime()-_e.trequest.getTime())/1e3,oe=K>we?K-we:0;D.setupPerSegmentQoe(we,De,Te),D.logSegmentMetrics(be,oe,Ge,ge);var pe=Object(g.default)(P).create({targetLatency:1.5,bufferMin:.3,segmentDuration:we,qoeEvaluator:D});return Z.quality=R.getNextQuality(le,1e3*Le,Ge,de,ge,j,pe),Z.reason={throughput:Le,latency:Ge},Z.priority=I.default.PRIORITY.STRONG,ve.setTimeToLoadDelay(0),Z.quality!==j&&console.log("[TgcLearningRule]["+ee+"] requesting switch to index: ",Z.quality,"Average throughput",Math.round(Le),"kbps"),Z}catch(re){throw re}},reset:function M(){!function O(){R.reset(),D.reset()}()}},function T(){B=Object(n.default)(P).getInstance().getLogger(F),R=Object(A.default)(P).create(),D=Object(_.default)(P).create()}(),F}m.__dashjs_factory_name="LoLPRule",v.default=E.default.getClassFactory(m)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(A){var o,m,y,_=A.targetLatency,I=A.bufferMin,w=A.segmentDuration,g=A.qoeEvaluator;function T(){return w}function O(M,G){var Z=T();return G>Z?M-Z:M+Z-G}return o={getMinBuffer:function D(){return I},getSegmentDuration:T,getNextBufferWithBitrate:function C(M,G,Z){return O(G,M*w/Z)},getNextBuffer:O,findWeightVector:function B(M,G,Z,ee,ae,Ae){var j=null,le=null,Y=null,ve=Math.abs(G-y);return M.forEach(function(de){m.forEach(function(Se){var xe_latency=Se[1],xe_buffer=Se[2],Ge=de.bitrate*w/ae,ge=O(Z,Ge),Ce=Math.max(1e-5,Ge-ge),Te=g.calculateSingleUseQoe(de.bitrate,(0===xe_buffer?10:1/xe_buffer)*Ce,(0===xe_latency?10:1/xe_latency)*de.state.latency,Ae);(null===j||Te>j)&&function F(M,G,Z){return!(M>_+Z)&&G>=I}(G,ge,ve)&&(j=Te,le=Se,Y=de.bitrate)})}),null===le&&null===Y&&(le=-1),y=G,le}},function k(){!function P(){m=function R(M,G){return function ae(Ae,j,le){if(le===j)return Ae;for(var Y=Ae.length,ve=0;ve<Y;ve++)for(var de=Ae.shift(),Se=0;Se<M.length;Se++)Ae.push(de.concat(M[Se]));return ae(Ae,j,le+1)}(M.map(function(ae){return[ae]}),G,1)}([.2,.4,.6,.8,1],4),y=0}()}(),o}E.__dashjs_factory_name="LoLpWeightSelector",v.default=n.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var A=0;function I(y){for(var k="",P=0;P<y.length;++P)k+=y[P].uchar;return k.length-k.replace(/^\s+/,"").length}function w(y){return"left: "+3.125*y.x+"%; top: "+6.66*y.y1+"%; width: "+(100-3.125*y.x)+"%; height: "+6.66*Math.max(y.y2-1-y.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function g(y){return"red"===y?"rgb(255, 0, 0)":"green"===y?"rgb(0, 255, 0)":"blue"===y?"rgb(0, 0, 255)":"cyan"===y?"rgb(0, 255, 255)":"magenta"===y?"rgb(255, 0, 255)":"yellow"===y?"rgb(255, 255, 0)":"white"===y?"rgb(255, 255, 255)":"black"===y?"rgb(0, 0, 0)":y}function o(y,k){var P=y.videoHeight/15;return k?"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(k.foreground?g(k.foreground):"rgb(255, 255, 255)")+"; font-style: "+(k.italics?"italic":"normal")+"; text-decoration: "+(k.underline?"underline":"none")+"; white-space: pre; background-color: "+(k.background?g(k.background):"transparent")+";":"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function d(y){return y.replace(/^\s+/g,"")}function u(y){return y.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function m(y,k,P,B){var ee,ae,F=null,D=!1,T=-1,C={start:k,end:P,spans:[]},O="style_cea608_white_black",M={},G={},Z=[];for(ee=0;ee<15;++ee){var Ae=B.rows[ee],j="",le=null;if(!1===Ae.isEmpty()){var Y=I(Ae.chars);null===F&&(F={x:Y,y1:ee,y2:ee+1,p:[]}),Y!==T&&D&&(F.p.push(C),C={start:k,end:P,spans:[]},F.y2=ee,F.name="region_"+F.x+"_"+F.y1+"_"+F.y2,!1===M.hasOwnProperty(F.name)?(Z.push(F),M[F.name]=F):M[F.name].p.contat(F.p),F={x:Y,y1:ee,y2:ee+1,p:[]});for(var ve=0;ve<Ae.chars.length;++ve){var de=Ae.chars[ve],Se=de.penState;if(null===le||!Se.equals(le)){j.trim().length>0&&(C.spans.push({name:O,line:j,row:ee}),j="");var xe="style_cea608_"+Se.foreground+"_"+Se.background;Se.underline&&(xe+="_underline"),Se.italics&&(xe+="_italics"),G.hasOwnProperty(xe)||(G[xe]=JSON.parse(JSON.stringify(Se))),le=Se,O=xe}j+=de.uchar}j.trim().length>0&&C.spans.push({name:O,line:j,row:ee}),D=!0,T=Y}else D=!1,T=-1,F&&(F.p.push(C),C={start:k,end:P,spans:[]},F.y2=ee,F.name="region_"+F.x+"_"+F.y1+"_"+F.y2,!1===M.hasOwnProperty(F.name)?(Z.push(F),M[F.name]=F):M[F.name].p.contat(F.p),F=null)}F&&(F.p.push(C),F.y2=ee+1,F.name="region_"+F.x+"_"+F.y1+"_"+F.y2,!1===M.hasOwnProperty(F.name)?(Z.push(F),M[F.name]=F):M[F.name].p.contat(F.p),F=null);var Ge=[];for(ee=0;ee<Z.length;++ee){var ge=Z[ee],Ce="sub_cea608_"+A++,Le=document.createElement("div");Le.id=Ce;var fe=w(ge);Le.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+fe;var we=document.createElement("div");we.className="paragraph bodyStyle",we.style.cssText=o(y);var Te=document.createElement("div");Te.className="cueUniWrapper",Te.style.cssText="unicode-bidi: normal; direction: ltr;";for(var De=0;De<ge.p.length;++De){var Ue=ge.p[De],lt=0;for(ae=0;ae<Ue.spans.length;++ae){var He=Ue.spans[ae];if(He.line.length>0){if(0!==ae&&lt!=He.row){var be=document.createElement("br");be.className="lineBreak",Te.appendChild(be)}var _e=!1;lt===He.row&&(_e=!0),lt=He.row;var K=G[He.name],oe=document.createElement("span");oe.className="spanPadding "+He.name+" customSpanColor",oe.style.cssText=o(y,K),oe.textContent=0!==ae&&_e?ae===Ue.spans.length-1?u(He.line):He.line:Ue.spans.length>1&&ae<Ue.spans.length-1&&He.row===Ue.spans[ae+1].row?d(He.line):He.line.trim(),Te.appendChild(oe)}}}we.appendChild(Te),Le.appendChild(we);var pe={bodyStyle:["%",90]};for(var re in G)G.hasOwnProperty(re)&&(pe[re]=["%",90]);Ge.push({type:"html",start:k,end:P,cueHTMLElement:Le,cueID:Ce,cellResolution:[32,15],isFromCEA608:!0,fontSize:pe,lineHeight:{},linePadding:{}})}return Ge}}}E.__dashjs_factory_name="EmbeddedTextHtmlRender",v.default=n.default.getSingletonFactory(E)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),I=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),w=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),g=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),o="NotFragmentedTextBufferController";function d(u){u=u||{};var R,D,T,C,O,M,m=this.context,y=Object(n.default)(m).getInstance(),k=u.textController,P=u.errHandler,B=u.streamInfo,F=u.type;function Y(X){C=X}function Ge(X){D!==X&&(D=X)&&function Q(X,$){y.trigger(X,$||{},{streamId:B.id,mediaType:F})}(E.default.BUFFERING_COMPLETED)}function Le(X){!X.chunk.bytes||D||(M.save(X.chunk),O.append(X.chunk),Ge(!0))}return R={initialize:function ee(X){Y(X)},getStreamId:function Ae(){return B.id},getType:function j(){return F},getBufferControllerType:function Z(){return o},createBufferSink:function ae(X){return new Promise(function($,ne){try{(O=Object(I.default)(m).create({mediaSource:C,textController:k,eventBus:y})).initializeForFirstUse(B,X),T||(O.getBuffer()&&"function"==typeof O.getBuffer().initialize&&O.getBuffer().initialize(),T=!0),$(O)}catch(J){P.error(new w.default(g.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,g.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+F)),ne(J)}})},getBuffer:function le(){return O},getBufferLevel:function Se(){return 0},getRangeAt:function fe(){return null},pruneBuffer:function lt(){},hasBufferAtTime:function we(){return!0},getAllRangesWithSafetyFactor:function Te(){return[]},getContinuousBufferTimeForTargetTime:function De(){return Number.POSITIVE_INFINITY},setMediaSource:Y,getMediaSource:function ve(){return C},appendInitSegmentFromCache:function Ce(X){return null!==M.extract(B.id,X)},getIsBufferingCompleted:function xe(){return D},setIsBufferingCompleted:Ge,getIsPruningInProgress:function de(){return!1},reset:function ge(X){y.off(E.default.INIT_FRAGMENT_LOADED,Le,R),!X&&O&&(O.abort(),O.reset(),O=null)},clearBuffers:function Ue(){return Promise.resolve()},prepareForPlaybackSeek:function be(){return Promise.resolve()},prepareForReplacementTrackSwitch:function _e(){return D=!1,Promise.resolve()},setSeekTarget:function oe(){},updateAppendWindow:function K(){return Promise.resolve()},pruneAllSafely:function re(){return Promise.resolve()},updateBufferTimestampOffset:function He(){return Promise.resolve()},segmentRequestingCompleted:function pe(){}},function G(){T=!1,C=null,D=!1,M=Object(_.default)(m).getInstance(),y.on(E.default.INIT_FRAGMENT_LOADED,Le,R)}(),R}d.__dashjs_factory_name=o,v.default=A.default.getClassFactory(d)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),_=e(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),I=e(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),w=e(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),g=e(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),o=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),u=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function y(k){var O,M,G,Z,ee,ae,Ae,j,le,Y,ve,de,P=this.context,B=k.adapter,F=k.errHandler,R=k.manifestModel,D=k.mediaController,T=k.videoModel,C=k.settings;function Te($){var ne=$.tracks,J=$.index,q=$.streamId;if(!1===C.get().streaming.text.defaultEnabled&&!He()||de)_e(q,-1);else{var Ee=D.getCurrentTrackFor(n.default.TEXT,q);if(Ee){var ye={lang:Ee.lang,role:Ee.roles[0],index:Ee.index,codec:Ee.codec,accessibility:Ee.accessibility[0]};ne.some(function(Ne,tt){if(D.matchSettings(ye,Ne))return _e(q,tt),J=tt,!0})}le=!1}M[q].lastEnabledIndex=J,j.trigger(u.default.TEXT_TRACKS_ADDED,{enabled:He(),index:J,tracks:ne,streamId:q}),ve=!0}function De($){try{var ne=$.streamId;if(!Z[ne]||isNaN($.time))return;Z[ne].manualCueProcessing($.time)}catch{}}function Ue($){try{var ne=$.streamId;if(!Z[ne])return;Z[ne].disableManualTracks()}catch{}}function He(){var $=!0;return le&&!Y&&($=!1),$}function _e($,ne){(le=-1===ne)&&D&&D.saveTextSettingsDisabled();var J=pe($);if(J!==ne&&Z[$]){Z[$].disableManualTracks(),Z[$].setModeForTrackIdx(J,n.default.TEXT_HIDDEN),Z[$].setCurrentTrackIdx(ne),Z[$].setModeForTrackIdx(ne,n.default.TEXT_SHOWING);var q=Z[$].getCurrentTrackInfo();q&&q.isFragmented&&!q.isEmbedded?function K($,ne,J){if(G[$])for(var me=G[$].getConfig().fragmentedTracks,Ee=0;Ee<me.length;Ee++){var ye=me[Ee];if(ne.lang===ye.lang&&(ye.id?ne.id===ye.id:ne.index===ye.index)){var Ne=D.getCurrentTrackFor(n.default.TEXT,$);(ye.id?Ne.id!==ye.id:Ne.index!==ye.index)?(Z[$].deleteCuesFromTrackIdx(J),G[$].setCurrentFragmentedTrackIdx(Ee)):-1===J&&j.trigger(d.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:$,mediaType:n.default.TEXT})}}}($,q,J):q&&!q.isFragmented&&function oe($,ne){j.trigger(d.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ne},{streamId:$,mediaType:n.default.TEXT})}($,q),D.setTrack(q)}}function pe($){return Z[$].getCurrentTrackIdx()}function Q(){G={},Z={},M={},le=!0,ve=!1,de=!1}return O={deactivateStream:function re($){if($){var ne=$.id;G[ne]&&G[ne].resetMediaInfos(),Z[ne]&&Z[ne].deleteAllTextTracks()}},initialize:function xe(){j.on(d.default.TEXT_TRACKS_QUEUE_INITIALIZED,Te,O),C.get().streaming.text.webvtt.customRenderingEnabled&&(j.on(d.default.PLAYBACK_TIME_UPDATED,De,O),j.on(d.default.PLAYBACK_SEEKING,Ue,O))},initializeForStream:function Ge($){var ne=$.id,J=Object(_.default)(P).create({videoModel:T,settings:C,streamInfo:$});J.initialize(),Z[ne]=J;var q=Object(A.default)(P).create({errHandler:F,adapter:B,manifestModel:R,mediaController:D,videoModel:T,textTracks:J,vttParser:ee,vttCustomRenderingParser:ae,ttmlParser:Ae,streamInfo:$,settings:C});q.initialize(),G[ne]=q,M[ne]={},M[ne].lastEnabledIndex=-1},createTracks:function ge($){var ne=$.id;Z[ne]&&Z[ne].createTracks()},getTextSourceBuffer:function Le($){var ne=$.id;if(G&&G[ne])return G[ne]},getAllTracksAreDisabled:function fe(){return le},addEmbeddedTrack:function we($,ne){var J=$.id;G[J]&&G[J].addEmbeddedTrack(ne)},enableText:function lt($,ne){Object(m.checkParameterType)(ne,"boolean"),He()!==ne&&(ne&&_e($,M[$].lastEnabledIndex),ne||(M[$].lastEnabledIndex=pe($),ve?_e($,-1):de=!0))},isTextEnabled:He,setTextTrack:_e,getCurrentTrackIdx:pe,enableForcedTextStreaming:function be($){Object(m.checkParameterType)($,"boolean"),Y=$},addMediaInfosToBuffer:function Ce($,ne,J){var me=$.id;G[me]&&G[me].addMediaInfos(ne,J,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function X(){Q(),j.off(d.default.TEXT_TRACKS_QUEUE_INITIALIZED,Te,O),C.get().streaming.text.webvtt.customRenderingEnabled&&(j.off(d.default.PLAYBACK_TIME_UPDATED,De,O),j.off(d.default.PLAYBACK_SEEKING,Ue,O)),Object.keys(G).forEach(function($){G[$].resetEmbedded(),G[$].reset()})}},function Se(){Y=!1,ve=!1,de=!1,ee=Object(I.default)(P).getInstance(),ae=Object(w.default)(P).getInstance(),Ae=Object(g.default)(P).getInstance(),j=Object(o.default)(P).getInstance(),Q()}(),O}y.__dashjs_factory_name="TextController",v.default=E.default.getClassFactory(y)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),_=e(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),I=e(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),w=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),o=e(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),d=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),u=e.n(d),m=e(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),y=e.n(m),k=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),B=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function R(D){var de,Se,xe,Ge,ge,Ce,Le,fe,we,Te,De,Ue,lt,He,be,_e,T=D.errHandler,C=D.manifestModel,O=D.mediaController,M=D.videoModel,G=D.textTracks,Z=D.vttParser,ee=D.vttCustomRenderingParser,ae=D.ttmlParser,Ae=D.streamInfo,j=D.settings,le=this.context,Y=Object(k.default)(le).getInstance(),ve=!1;function re(){(function pe(){Ce=null,fe=NaN,we=[],Te=null,Le=!1})(),ge=[],Ge=null}function $(Fe){var ke=new A.default;for(var ot in Fe)ke[ot]=Fe[ot];ke.labels=Fe.labels,ke.defaultTrack=function cn(Fe){var ke=!1;return Ue.length>1&&Fe.isEmbedded?ke=Fe.id&&Fe.id===n.default.CC1:1===Ue.length?Fe.id&&"string"==typeof Fe.id&&"CC"===Fe.id.substring(0,2)&&(ke=!0):0===Ue.length&&(ke=Fe.index===ge[0].index),ke}(Fe),ke.isFragmented=Fe.isFragmented,ke.isEmbedded=!!Fe.isEmbedded,ke.isTTML=function qe(Fe){return Fe.codec&&Fe.codec.search(n.default.STPP)>=0||Fe.mimeType&&Fe.mimeType.search(n.default.TTML)>=0}(Fe),ke.kind=function Xe(Fe,ke){var it=Fe.roles&&Fe.roles.length>0?ke[Fe.roles[0]]:ke.caption;return it===ke.caption||it===ke.subtitle?it:ke.caption}(Fe,{subtitle:"subtitles",caption:"captions"}),G.addTextTrack(ke)}function q(Fe){var ke=Fe.chunk;ke.mediaInfo.embeddedCaptions&&ut(ke.bytes,ke)}function tt(Fe){De=Fe}function ut(Fe,ke){var it=ke.mediaInfo,ot=it.type,mt=it.codec||it.mimeType;mt?-1!==it.codec.indexOf("application/mp4")?function ze(Fe,ke,it){var ot;if("InitializationSegment"===ke.segmentType)Le=!0,fe=xe.getMediaTimescaleFromMoov(Fe);else{if(!Le)return;(ot=xe.getSamplesInfo(Fe).sampleList).length>0&&(Te=ot[0].cts-ke.start*fe),it.search(n.default.STPP)>=0?function ht(Fe,ke,it){var ot,ft;for(Ge=null!==Ge?Ge:nn(it),ot=0;ot<ke.length;ot++){var mt=ke[ot],Et=mt.cts,Qt=Yt(),fn=Qt+Et/fe;de.buffered.add(fn,fn+mt.duration/fe);var pn=new DataView(Fe,mt.offset,mt.subSizes[0]),Tn=u.a.Utils.dataViewToString(pn,n.default.UTF8),Dn=[],Fn=mt.offset+mt.subSizes[0];for(ft=1;ft<mt.subSizes.length;ft++){var Kn=new Uint8Array(Fe,Fn,mt.subSizes[ft]),dn=String.fromCharCode.apply(null,Kn);Dn.push(dn),Fn+=mt.subSizes[ft]}try{var an=C.getValue(),on=Ge.parse(Tn,an.ttmlTimeIsRelative?Et/fe:0,Et/fe,(Et+mt.duration)/fe,Dn);G.addCaptions(De,Qt,on)}catch(ln){Ce.removeExecutedRequestsBeforeTime(),this.remove(),Se.error("TTML parser error: "+ln.message)}}}(Fe,ot,it):function vt(Fe,ke){var it,ot,ft,mt=[];for(it=0;it<ke.length;it++){var Et=ke[it];Et.cts-=Te;var fn=Yt()+Et.cts/fe;de.buffered.add(fn,fn+Et.duration/fe);var pn=Fe.slice(Et.offset,Et.offset+Et.size),Tn=u.a.parseBuffer(pn);for(ot=0;ot<Tn.boxes.length;ot++){var Dn=Tn.boxes[ot];if(Se.debug("VTT box1: "+Dn.type),"vtte"!==Dn.type&&"vttc"===Dn.type)for(Se.debug("VTT vttc boxes.length = "+Dn.boxes.length),ft=0;ft<Dn.boxes.length;ft++){var Fn=Dn.boxes[ft];if(Se.debug("VTT box2: "+Fn.type),"payl"===Fn.type){var Kn=Fn.cue_text;Se.debug("VTT cue_text = "+Kn);var dn=Et.cts/fe,an=(Et.cts+Et.duration)/fe;mt.push({start:dn,end:an,data:Kn,styles:{}}),Se.debug("VTT "+dn+"-"+an+" : "+Kn)}}}}mt.length>0&&G.addCaptions(De,0,mt)}(Fe,ot)}}(Fe,ke,mt):ot===n.default.VIDEO?function Ve(Fe,ke){var it,ot;if(ke.segmentType===E.HTTPRequest.INIT_SEGMENT_TYPE)0===lt&&(lt=xe.getMediaTimescaleFromMoov(Fe));else if(ke.segmentType===E.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===lt)return void Se.warn("CEA-608: No timescale for embeddedTextTrack yet");var ft=(ot=xe.getSamplesInfo(Fe)).lastSequenceNumber;if(!be[0]&&!be[1]&&function yt(){for(var Fe,ke=0;ke<Ue.length;ke++){if(-1===(Fe=G.getTrackIdxForId(Ue[ke].id)))return void Se.warn("CEA-608: data before track is ready.");var it=Bt(Fe);be[ke]=new y.a.Cea608Parser(ke+1,{newCue:it},null)}}(),lt){if(null!==He&&ft!==He+ot.numSequences)for(it=0;it<be.length;it++)be[it]&&be[it].reset();for(var mt=function zt(Fe,ke){if(0===ke.length)return null;for(var it={splits:[],fields:[[],[]]},ot=new DataView(Fe),ft=0;ft<ke.length;ft++)for(var mt=ke[ft],Et=y.a.findCea608Nalus(ot,mt.offset,mt.size),Qt=null,fn=0,Jt=0;Jt<Et.length;Jt++)for(var pn=y.a.extractCea608DataFromRange(ot,Et[Jt]),Tn=0;Tn<2;Tn++)if(pn[Tn].length>0){mt.cts!==Qt?fn=0:fn+=1;var Dn=Yt();it.fields[Tn].push([mt.cts+Dn*lt,pn[Tn],fn]),Qt=mt.cts}return it.fields.forEach(function(Kn){Kn.sort(function(dn,an){return dn[0]===an[0]?dn[2]-an[2]:dn[0]-an[0]})}),it}(Fe,ot.sampleList),Et=0;Et<be.length;Et++){var Qt=mt.fields[Et],fn=be[Et];if(fn)for(it=0;it<Qt.length;it++)fn.addData(Qt[it][0]/lt,Qt[it][1])}He=ft}}}(Fe,ke):function ce(Fe,ke,it){var ot,ft,mt=new DataView(Fe,0,Fe.byteLength);ft=u.a.Utils.dataViewToString(mt,n.default.UTF8);try{ot=nn(it).parse(ft,0),G.addCaptions(G.getCurrentTrackIdx(),0,ot),de.buffered&&de.buffered.add(ke.start,ke.end)}catch(Et){T.error(new B.default(F.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,F.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+Et.message,ft))}}(Fe,ke,mt):Se.error("No text type defined")}function Bt(Fe){return function ke(it,ot,ft){var mt;(mt=M.getTTMLRenderingDiv()?_e.createHTMLCaptionsFromScreen(M.getElement(),it,ot,ft):[{start:it,end:ot,data:ft.getDisplayText(),styles:{}}])&&G.addCaptions(Fe,0,mt)}}function Yt(){return isNaN(de.timestampOffset)?0:de.timestampOffset}function nn(Fe){var ke;return Fe.search(n.default.VTT)>=0?ke=j.get().streaming.text.webvtt.customRenderingEnabled&&ee?ee:Z:(Fe.search(n.default.TTML)>=0||Fe.search(n.default.STPP)>=0)&&(ke=ae),ke}function gt(Fe){Ue.forEach(function(ke){var it=G.getTrackIdxForId(ke.id);it>=0&&G.deleteCuesFromTrackIdx(it,Fe.from,Fe.to)})}return de={initialize:function Q(){ve||function me(){Ue=[],De=null,lt=0,be=[],He=null,ve=!0,_e=Object(o.default)(le).getInstance(),Y.on(P.default.VIDEO_CHUNK_RECEIVED,q,de),Y.on(P.default.BUFFER_CLEARED,gt,de)}()},addMediaInfos:function X(Fe,ke,it){if(ge=ge.concat(ke),Fe===n.default.TEXT&&ke[0].isFragmented&&!ke[0].isEmbedded){Ce=it,de.buffered=Object(I.default)(le).create(),we=O.getTracksFor(n.default.TEXT,Ae.id).filter(function(Et){return Et.isFragmented});for(var ot=O.getCurrentTrackFor(n.default.TEXT,Ae.id),ft=0;ft<we.length;ft++)if(we[ft]===ot){tt(ft);break}}for(var mt=0;mt<ke.length;mt++)$(ke[mt])},resetMediaInfos:function Qe(){ge=[]},getStreamId:function oe(){return Ae.id},append:ut,abort:function ne(){},addEmbeddedTrack:function ye(Fe){if(ve&&Fe)if(Fe.id===n.default.CC1||Fe.id===n.default.CC3){for(var ke=0;ke<Ue.length;ke++)if(Ue[ke].id===Fe.id)return;Ue.push(Fe)}else Se.warn("Embedded track "+Fe.id+" not supported!")},resetEmbedded:function Ee(){Y.off(P.default.VIDEO_CHUNK_RECEIVED,q,de),Y.off(P.default.BUFFER_CLEARED,gt,de),G&&G.deleteAllTextTracks(),ve=!1,Ue=[],be=[null,null],He=null},getConfig:function Ne(){return{fragmentModel:Ce,fragmentedTracks:we,videoModel:M}},setCurrentFragmentedTrackIdx:tt,remove:function Mt(Fe,ke){void 0===Fe&&Fe===ke&&(Fe=de.buffered.start(0),ke=de.buffered.end(de.buffered.length-1)),de.buffered.remove(Fe,ke),G.deleteCuesFromTrackIdx(De,Fe,ke)},reset:function J(){re(),ge=[],xe=null}},function K(){Se=Object(g.default)(le).getInstance().getLogger(de),xe=Object(_.default)(le).getInstance(),re()}(),de}R.__dashjs_factory_name="TextSourceBuffer",v.default=w.default.getClassFactory(R)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),I=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function d(k,P){var B=typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(!B){if(Array.isArray(k)||(B=function u(k,P){if(k){if("string"==typeof k)return m(k,P);var B=Object.prototype.toString.call(k).slice(8,-1);if("Object"===B&&k.constructor&&(B=k.constructor.name),"Map"===B||"Set"===B)return Array.from(k);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return m(k,P)}}(k))||P&&k&&"number"==typeof k.length){B&&(k=B);var F=0,R=function(){};return{s:R,n:function(){return F>=k.length?{done:!0}:{done:!1,value:k[F++]}},e:function(M){throw M},f:R}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,D=!0,T=!1;return{s:function(){B=B.call(k)},n:function(){var M=B.next();return D=M.done,M},e:function(M){T=!0,C=M},f:function(){try{!D&&null!=B.return&&B.return()}finally{if(T)throw C}}}}function m(k,P){(null==P||P>k.length)&&(P=k.length);for(var B=0,F=new Array(P);B<P;B++)F[B]=k[B];return F}function y(k){var T,C,O,M,G,Z,ee,ae,Ae,j,le,Y,ve,de,Se,xe,Ge,ge,P=this.context,B=Object(E.default)(P).getInstance(),F=k.videoModel,R=k.streamInfo,D=k.settings;function we(ce){return F.addTextTrack(ce.kind,void 0!==ce.id?ce.id:ce.lang,ce.lang,ce.isTTML,ce.isEmbedded)}function Ue(ce,Ve,yt,Bt,zt,Yt){var Mt=0,gt=0;ce/Ve>yt/Bt?Mt=(gt=Ve)/Bt*yt:gt=(Mt=ce)/yt*Bt;var Qe,Fe,ke=0,it=0;return Mt/gt>zt?(it=gt,ke=gt*zt):(ke=Mt,it=Mt/zt),Qe=(ce-ke)/2,Fe=(Ve-it)/2,Yt?{x:Qe+.1*ke,y:Fe+.1*it,w:.8*ke,h:.8*it}:{x:Qe,y:Fe,w:ke,h:it}}function lt(ce,Ve){var yt=F.getClientWidth(),Bt=F.getClientHeight(),zt=F.getVideoWidth(),Yt=F.getVideoHeight(),cn=F.getVideoRelativeOffsetTop(),nn=F.getVideoRelativeOffsetLeft();if(0!==zt&&0!==Yt){var Mt=zt/Yt,gt=!1;ce.isFromCEA608&&(Mt=3.5/3,gt=!0);var Qe=Ue.call(this,yt,Bt,zt,Yt,Mt,gt),Fe=Qe.w,ke=Qe.h,it=Qe.x,ot=Qe.y;if(Fe!=Ae||ke!=j||it!=ee||ot!=ae||Ve){if(ee=it+nn,ae=ot+cn,Ae=Fe,j=ke,le){var ft=le.style;ft&&(ft.left=ee+"px",ft.top=ae+"px",ft.width=Ae+"px",ft.height=j+"px",ft.zIndex=de&&document[de]||Se?Ge:null,B.trigger(_.default.CAPTION_CONTAINER_RESIZE))}var mt=ce.activeCues;if(mt)for(var Et=mt.length,Qt=0;Qt<Et;++Qt){var fn=mt[Qt];fn.scaleCue(fn)}}}}function He(ce){var Bt,zt,Yt,cn,nn;if(ce.cellResolution){var Mt=[Ae/ce.cellResolution[0],j/ce.cellResolution[1]];if(ce.linePadding)for(Bt in ce.linePadding)if(ce.linePadding.hasOwnProperty(Bt)){zt=(ce.linePadding[Bt]*Mt[0]).toString();for(var Qe=document.getElementsByClassName("spanPadding"),Fe=0;Fe<Qe.length;Fe++)Qe[Fe].style.cssText=Qe[Fe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+zt),Qe[Fe].style.cssText=Qe[Fe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+zt)}if(ce.fontSize){for(Bt in ce.fontSize)if(ce.fontSize.hasOwnProperty(Bt)){"%"===ce.fontSize[Bt][0]?Yt=ce.fontSize[Bt][1]/100:"c"===ce.fontSize[Bt][0]&&(Yt=ce.fontSize[Bt][1]),zt=(Yt*Mt[1]).toString(),nn="defaultFontSize"!==Bt?document.getElementsByClassName(Bt):document.getElementsByClassName("paragraph");for(var ke=0;ke<nn.length;ke++)nn[ke].style.cssText=nn[ke].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+zt)}if(ce.lineHeight)for(Bt in ce.lineHeight)if(ce.lineHeight.hasOwnProperty(Bt)){"%"===ce.lineHeight[Bt][0]?cn=ce.lineHeight[Bt][1]/100:"c"===ce.fontSize[Bt][0]&&(cn=ce.lineHeight[Bt][1]),zt=(cn*Mt[1]).toString(),nn=document.getElementsByClassName(Bt);for(var it=0;it<nn.length;it++)nn[it].style.cssText=nn[it].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+zt)}}}if(ce.isd){var ot=document.getElementById(ce.cueID);ot&&le.removeChild(ot),be(ce)}}function be(ce){if(le){var Ve=document.createElement("div");le.appendChild(Ve),xe=Object(g.renderHTML)(ce.isd,Ve,function(yt){var Bt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,zt=/^#(.*)$/;if(Bt.test(yt)){var Yt=Bt.exec(yt),cn=parseInt(Yt[4],10)-1;return"data:image/png;base64,"+btoa(ce.images[cn])}if(zt.test(yt)){var gt=zt.exec(yt);return"data:image/png;base64,"+ce.embeddedImages[gt[1]]}return null},le.clientHeight,le.clientWidth,!1,function(yt){C.info("renderCaption :",yt)},xe,!0),Ve.id=ce.cueID,B.trigger(_.default.CAPTION_RENDERED,{captionDiv:Ve,currentTrackIdx:Z})}}function _e(ce,Ve,yt){var Bt=X(ce);if(Bt&&Array.isArray(yt)&&0!==yt.length)for(var zt=0;zt<yt.length;zt++){var Yt=void 0,cn=yt[zt];Bt.cellResolution=cn.cellResolution,Bt.isFromCEA608=cn.isFromCEA608,!isNaN(cn.start)&&!isNaN(cn.end)&&(Yt="html"===cn.type&&le?K(cn,Ve,Bt):cn.data?oe(cn,Ve,Bt):null);try{Yt?me(Bt,Yt)||(D.get().streaming.text.webvtt.customRenderingEnabled?(Bt.manualCueList||(Bt.manualCueList=[]),Bt.manualCueList.push(Yt)):Bt.addCue(Yt)):C.error("impossible to display subtitles.")}catch(nn){throw ye(Bt),Bt.addCue(Yt),nn}}}function K(ce,Ve,yt){var Bt=this,zt=new O(ce.start+Ve,ce.end+Ve,"");return zt.cueHTMLElement=ce.cueHTMLElement,zt.isd=ce.isd,zt.images=ce.images,zt.embeddedImages=ce.embeddedImages,zt.cueID=ce.cueID,zt.scaleCue=He.bind(Bt),zt.cellResolution=ce.cellResolution,zt.lineHeight=ce.lineHeight,zt.linePadding=ce.linePadding,zt.fontSize=ce.fontSize,le.style.left=ee+"px",le.style.top=ae+"px",le.style.width=Ae+"px",le.style.height=j+"px",zt.onenter=function(){yt.mode===n.default.TEXT_SHOWING&&(this.isd?(be(this),C.debug("Cue enter id:"+this.cueID)):(le.appendChild(this.cueHTMLElement),He.call(Bt,this),B.trigger(_.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Z})))},zt.onexit=function(){if(le)for(var Yt=le.childNodes,cn=0;cn<Yt.length;++cn)Yt[cn].id===this.cueID&&(C.debug("Cue exit id:"+Yt[cn].id),le.removeChild(Yt[cn]),--cn)},zt}function oe(ce,Ve,yt){var Bt=new O(ce.start-Ve,ce.end-Ve,ce.data);if(Bt.cueID="".concat(Bt.startTime,"_").concat(Bt.endTime),Bt.isActive=!1,ce.styles)try{void 0!==ce.styles.align&&"align"in Bt&&(Bt.align=ce.styles.align),void 0!==ce.styles.line&&"line"in Bt&&(Bt.line=ce.styles.line),void 0!==ce.styles.position&&"position"in Bt&&(Bt.position=ce.styles.position),void 0!==ce.styles.size&&"size"in Bt&&(Bt.size=ce.styles.size)}catch(zt){C.error(zt)}return Bt.onenter=function(){yt.mode===n.default.TEXT_SHOWING&&B.trigger(_.default.CAPTION_RENDERED,{currentTrackIdx:Z})},Bt}function Q(){var Bt,Ve=[],yt=d(F.getTextTracks());try{for(yt.s();!(Bt=yt.n()).done;){var zt=Bt.value;zt.manualMode===n.default.TEXT_SHOWING&&Ve.push(zt)}}catch(Yt){yt.e(Yt)}finally{yt.f()}return Ve}function X(ce){return ce>=0&&M[ce]?F.getTextTrack(M[ce].kind,M[ce].id,M[ce].lang,M[ce].isTTML,M[ce].isEmbedded):null}function J(ce){var Ve=this;if(ce!==Z){var yt=X(Z=ce);q.call(this,yt),ve&&(clearInterval(ve),ve=null),yt&&"html"===yt.renderingType&&(lt.call(this,yt,!0),window.ResizeObserver?(ge=new window.ResizeObserver(function(){lt.call(Ve,yt,!0)})).observe(F.getElement()):ve=setInterval(lt.bind(this,yt),500))}}function q(ce){ze.call(this),ce&&"html"===ce.renderingType?Xe.call(this):ut.call(this)}function me(ce,Ve){if(!ce.cues)return!1;for(var yt=0;yt<ce.cues.length;yt++)if(ce.cues[yt].startTime===Ve.startTime&&ce.cues[yt].endTime===Ve.endTime)return!0;return!1}function Ee(ce,Ve,yt){var Bt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Ve)||(Bt?ce.startTime:ce.endTime)>=Ve)&&(isNaN(yt)||(Bt?ce.endTime:ce.startTime)<=yt)}function ye(ce,Ve,yt){var Bt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(ce.cues)for(var zt=ce.cues,cn=zt.length-1;cn>=0;cn--)Ee(zt[cn],Ve,yt,Bt)&&(zt[cn].onexit&&zt[cn].onexit(),ce.removeCue(zt[cn]))}function Xe(){var ce=document.getElementById("native-cue-style");if(!ce){(ce=document.createElement("style")).id="native-cue-style",document.head.appendChild(ce);var Ve=ce.sheet,yt=F.getElement();try{yt&&Ve.insertRule(yt.id?"#"+yt.id+"::cue {background: transparent}":0!==yt.classList.length?"."+yt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(Bt){C.info(""+Bt.message)}}}function ut(){var ce=document.getElementById("native-cue-style");ce&&document.head.removeChild(ce)}function ze(){if(le)for(;le.firstChild;)le.removeChild(le.firstChild)}return T={initialize:function Le(){typeof window>"u"||typeof navigator>"u"||(O=window.VTTCue||window.TextTrackCue,M=[],G=[],Z=-1,ee=0,ae=0,Ae=0,j=0,le=null,Y=null,ve=null,Se=!1,Ge=2147483647,xe=null,void 0!==document.fullscreenElement?de="fullscreenElement":void 0!==document.webkitIsFullScreen?de="webkitIsFullScreen":document.msFullscreenElement?de="msFullscreenElement":document.mozFullScreen&&(de="mozFullScreen"))},getStreamId:function fe(){return R.id},addTextTrack:function Te(ce){M.push(ce)},addCaptions:_e,createTracks:function De(){M.sort(function(nn,Mt){return nn.index-Mt.index}),le=F.getTTMLRenderingDiv(),Y=F.getVttRenderingDiv();for(var ce=-1,Ve=0;Ve<M.length;Ve++){var yt=we(M[Ve]);G.push(yt),M[Ve].defaultTrack&&(yt.default=!0,ce=Ve);var Bt=X(Ve);Bt&&(Bt.mode=n.default.TEXT_SHOWING,Bt.renderingType=le&&(M[Ve].isTTML||M[Ve].isEmbedded)?"html":"default"),_e(Ve,0,M[Ve].captionData),B.trigger(_.default.TEXT_TRACK_ADDED)}if(J.call(this,ce),ce>=0){B.on(_.default.PLAYBACK_METADATA_LOADED,function nn(){var Mt=X(ce);Mt&&"html"===Mt.renderingType&&lt.call(this,Mt,!0),B.off(_.default.PLAYBACK_METADATA_LOADED,nn,this)},this);for(var Yt=0;Yt<M.length;Yt++){var cn=X(Yt);cn&&(cn.mode=Yt===ce?n.default.TEXT_SHOWING:n.default.TEXT_HIDDEN,cn.manualMode=Yt===ce?n.default.TEXT_SHOWING:n.default.TEXT_HIDDEN)}}B.trigger(A.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Z,tracks:M,streamId:R.id})},getCurrentTrackIdx:function $(){return Z},setCurrentTrackIdx:J,getTrackIdxForId:function ne(ce){for(var Ve=-1,yt=0;yt<M.length;yt++)if(M[yt].id===ce){Ve=yt;break}return Ve},getCurrentTrackInfo:function vt(){return M[Z]},setModeForTrackIdx:function ht(ce,Ve){var yt=X(ce);yt&&yt.mode!==Ve&&(yt.mode=Ve),yt&&yt.manualMode!==Ve&&(yt.manualMode=Ve)},deleteCuesFromTrackIdx:function Ne(ce,Ve,yt){var Bt=X(ce);Bt&&ye(Bt,Ve,yt)},deleteAllTextTracks:function tt(){for(var ce=G?G.length:0,Ve=0;Ve<ce;Ve++){var yt=X(Ve);yt&&ye.call(this,yt,R.start,R.start+R.duration,!1)}G=[],M=[],ve&&(clearInterval(ve),ve=null),ge&&F&&(ge.unobserve(F.getElement()),ge=null),Z=-1,ze.call(this)},deleteTextTrack:function qe(ce){F.removeChild(G[ce]),G.splice(ce,1)},manualCueProcessing:function pe(ce){var Ve=Q();if(Ve&&Ve.length>0){var Bt=Ve[0].manualCueList;Bt&&Bt.length>0&&Bt.forEach(function(zt){if(zt.startTime<=ce&&zt.endTime>=ce&&!zt.isActive)zt.isActive=!0,WebVTT.processCues(window,[zt],Y,zt.cueID);else if(zt.isActive&&(zt.startTime>ce||zt.endTime<ce)&&(zt.isActive=!1,Y))for(var Yt=Y.childNodes,cn=0;cn<Yt.length;++cn)Yt[cn].id===zt.cueID&&(Y.removeChild(Yt[cn]),--cn)})}},disableManualTracks:function re(){var ce=Q();if(ce&&ce.length>0){var yt=ce[0].manualCueList;yt&&yt.length>0&&yt.forEach(function(Bt){if(Bt.isActive&&(Bt.isActive=!1,Y))for(var zt=Y.childNodes,Yt=0;Yt<zt.length;++Yt)zt[Yt].id===Bt.cueID&&(Y.removeChild(zt[Yt]),--Yt)})}}},function Ce(){C=Object(w.default)(P).getInstance().getLogger(T)}(),T}y.__dashjs_factory_name="TextTracks",v.default=I.default.getClassFactory(y)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),_=e(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),I=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),w=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function g(o){var m,y,d=this.context,u=o.streamInfo;function D(M){y.setTrackByIndex(M)}function O(){y&&y.reset()}return m={getStreamId:function B(){return u.id},initialize:function P(){y.addTracks();var M=y.getTracks();M&&M.length>0&&D(0)},provide:function F(M,G){if("function"==typeof G){var ae,Z=y.getCurrentTrack();if(!Z||Z.segmentDuration<=0||null==M)return void G(null);(ae=y.getThumbnailRequestForTime(M))&&(Z.segmentDuration=ae.duration);var Ae=Math.floor(M%Z.segmentDuration*Z.tilesHor*Z.tilesVert/Z.segmentDuration),j=new A.default;if(j.width=Math.floor(Z.widthPerTile),j.height=Math.floor(Z.heightPerTile),j.x=Math.floor(Ae%Z.tilesHor)*Z.widthPerTile,j.y=Math.floor(Ae/Z.tilesHor)*Z.heightPerTile,"readThumbnail"in Z)return Z.readThumbnail(M,function(Y){j.url=Y,G(j)});if(ae)j.url=ae.url,Z.segmentDuration=NaN;else{var le=Math.floor(M/Z.segmentDuration);j.url=function R(M,G){var Z=G+M.startNumber,ee=Object(w.replaceTokenForTemplate)(M.templateUrl,"Number",Z);return ee=Object(w.replaceTokenForTemplate)(ee,"Time",(Z-1)*M.segmentDuration*M.timescale),ee=Object(w.replaceTokenForTemplate)(ee,"Bandwidth",M.bandwidth),Object(w.unescapeDollarsInTemplate)(ee)}(Z,le)}G(j)}},setTrackByIndex:D,getCurrentTrackIndex:function T(){return y.getCurrentTrackIndex()},getBitrateList:function C(){var M=y.getTracks(),G=0;return M.map(function(Z){var ee=new I.default;return ee.mediaType=E.default.IMAGE,ee.qualityIndex=G++,ee.bitrate=Z.bitrate,ee.width=Z.width,ee.height=Z.height,ee})},reset:O},function k(){O(),y=Object(_.default)(d).create({streamInfo:u,adapter:o.adapter,baseURLController:o.baseURLController,timelineConverter:o.timelineConverter,debug:o.debug,eventBus:o.eventBus,events:o.events,dashConstants:o.dashConstants,dashMetrics:o.dashMetrics,segmentBaseController:o.segmentBaseController})}(),m}g.__dashjs_factory_name="ThumbnailController",v.default=n.default.getClassFactory(g)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(et,v,e){"use strict";e.r(v),e.d(v,"THUMBNAILS_SCHEME_ID_URIS",function(){return m});var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),I=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),g=e(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),o=e(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),d=e(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),u=e(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),m=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function y(k){var Z,ee,ae,Ae,j,le,Y,ve,P=this.context,B=k.adapter,F=k.baseURLController,R=k.streamInfo,D=k.timelineConverter,T=k.debug,C=k.eventBus,O=k.events,M=k.dashConstants,G=Object(I.default)(P).getInstance();function xe(lt,He){var be=new _.default;be.id=lt.id,be.bitrate=lt.bandwidth,be.width=lt.width,be.height=lt.height,be.tilesHor=1,be.tilesVert=1,lt.essentialProperties&&lt.essentialProperties.forEach(function(_e){if(m.indexOf(_e.schemeIdUri)>=0&&_e.value){var K=_e.value.split("x");2===K.length&&!isNaN(K[0])&&!isNaN(K[1])&&(be.tilesHor=parseInt(K[0],10),be.tilesVert=parseInt(K[1],10))}}),He?le.updateSegmentData(lt).then(function(_e){!function Ge(lt,He,be){var _e=[],K=function ge(lt,He){var K,oe,pe,re,be=[],_e=0;for(K=0,oe=lt.segments.length;K<oe;K++)pe=lt.segments[K],(re=Object(w.getTimeBasedSegment)(D,B.getIsDynamic(),He,pe.startTime,pe.duration,pe.timescale,pe.media,pe.mediaRange,_e))&&(be.push(re),re=null,_e++);return be}(be,He);He.segments=K,lt.segmentDuration=He.segments[0].duration,lt.readThumbnail=function(oe,pe){var re=null;_e.some(function(Q){if(Q.start<=oe&&Q.end>oe)return re=Q.url,!0}),re?pe(re):He.segments.some(function(Q){if(Q.mediaStartTime<=oe&&Q.mediaStartTime+Q.duration>oe){var X=F.resolve(He.path);return Y.load({method:"get",url:X.url,request:{range:Q.mediaRange,responseType:"arraybuffer"},onload:function(ne){var J=ve.getSamplesInfo(ne.target.response),q=new Blob([ne.target.response.slice(J.sampleList[0].offset,J.sampleList[0].offset+J.sampleList[0].size)],{type:"image/jpeg"}),me=window.URL.createObjectURL(q);_e.push({start:Q.mediaStartTime,end:Q.mediaStartTime+Q.duration,url:me}),pe&&pe(me)}}),!0}})}}(be,lt,_e)}):(be.startNumber=lt.startNumber,be.segmentDuration=lt.segmentDuration,be.timescale=lt.timescale,be.templateUrl=function Ce(lt){var He=G.isRelative(lt.media)?G.resolve(lt.media,F.resolve(lt.path).url):lt.media;return He?Object(w.replaceIDForTemplate)(He,lt.id):""}(lt)),be.tilesHor>0&&be.tilesVert>0&&(be.widthPerTile=be.width/be.tilesHor,be.heightPerTile=be.height/be.tilesVert,ee.push(be))}function Ue(){ee=[],Ae=-1,j=null}return Z={getTracks:function Le(){return ee},addTracks:function Se(){if(R&&B&&(j=B.getMediaInfoForType(R,n.default.IMAGE))){var lt=B.getVoRepresentations(j);lt&&lt.length>0&&lt.forEach(function(He){(He.segmentInfoType===E.default.SEGMENT_TEMPLATE&&He.segmentDuration>0&&He.media||He.segmentInfoType===E.default.SEGMENT_TIMELINE)&&xe(He),He.segmentInfoType===E.default.SEGMENT_BASE&&xe(He,!0)}),ee.length>0&&ee.sort(function(He,be){return He.bitrate-be.bitrate})}},reset:Ue,setTrackByIndex:function Te(lt){!ee||0===ee.length||(lt>=ee.length&&(lt=ee.length-1),Ae=lt)},getCurrentTrack:function we(){return Ae<0?null:ee[Ae]},getCurrentTrackIndex:function fe(){return Ae},getThumbnailRequestForTime:function De(lt){for(var He,be=B.getVoRepresentations(j),_e=0;_e<be.length;_e++)if(ee[Ae].id===be[_e].id){He=be[_e];break}return ae.getSegmentRequestForTime(j,He,lt)}},function de(){Ue(),Y=Object(o.default)(P).create({}),ve=Object(g.default)(P).getInstance(),le=Object(u.default)(P).create({events:O,eventBus:C,streamInfo:R,timelineConverter:D,dashConstants:M,dashMetrics:k.dashMetrics,segmentBaseController:k.segmentBaseController,type:n.default.IMAGE}),(ae=Object(d.default)(P).create({streamInfo:R,type:n.default.IMAGE,timelineConverter:D,segmentsController:le,baseURLController:F,debug:T,eventBus:C,events:O,dashConstants:M,urlUtils:G})).initialize(!!B&&B.getIsDynamic())}(),Z}y.__dashjs_factory_name="ThumbnailTracks",v.default=A.default.getClassFactory(y)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),E=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),I=e(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),w=e(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),o=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),d=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),u=e(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),m=e(
/*! ../../core/Settings */
"./src/core/Settings.js");function y(){var F,R,D,T,C,O,k=this.context,P=Object(E.default)(k).getInstance(),B=Object(m.default)(k).getInstance();function ae(){R.reset()}return F={chooseSelector:function Z(Ae){Object(d.checkParameterType)(Ae,"boolean"),O=Ae?T:D},select:function ee(Ae){if(Ae){if(B.get().streaming.applyContentSteering){var j=C.selectBaseUrlIndex(Ae);!isNaN(j)&&-1!==j&&(Ae.selectedIdx=j)}if(!isNaN(Ae.selectedIdx))return Ae.baseUrls[Ae.selectedIdx];var le=O.select(Ae.baseUrls);return le?(Ae.selectedIdx=Ae.baseUrls.indexOf(le),le):(P.trigger(A.default.URL_RESOLUTION_FAILED,{error:new o.default(n.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,n.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(O===D&&ae()))}},reset:ae,setConfig:function G(Ae){Ae.selector&&(O=Ae.selector),Ae.contentSteeringSelector&&(C=Ae.contentSteeringSelector)}},function M(){R=Object(_.default)(k).create({updateEventName:A.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:A.default.SERVICE_LOCATION_BLACKLIST_ADD}),D=Object(w.default)(k).create({blacklistController:R}),T=Object(I.default)(k).create({blacklistController:R}),(C=Object(u.default)(k).create()).setConfig({blacklistController:R}),O=D}(),F}y.__dashjs_factory_name="BaseURLSelector",v.default=g.default.getClassFactory(y)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=e(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),I=e.n(_),w=e(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function g(){var o,d,u=this.context;function y(C){if(!C)return null;void 0===C.fileStart&&(C.fileStart=0);var O=I.a.parseBuffer(C),M=Object(E.default)(u).create();return M.setData(O),M}function F(C,O){return C[O+3]>>>0|C[O+2]<<8>>>0|C[O+1]<<16>>>0|C[O]<<24>>>0}function R(C,O){return String.fromCharCode(C[O++])+String.fromCharCode(C[O++])+String.fromCharCode(C[O++])+String.fromCharCode(C[O])}return d={parse:y,findLastTopIsoBoxCompleted:function k(C,O,M){if(void 0===M&&(M=0),!O||M+8>=O.byteLength)return new w.default(0,!1);for(var Z,G=O instanceof ArrayBuffer?new Uint8Array(O):O,ee=0;M<G.byteLength;){var ae=F(G,M),Ae=R(G,M+4);if(0===ae)break;M+ae<=G.byteLength&&(C.indexOf(Ae)>=0?Z=new w.default(M,!0,ae):ee=M+ae),M+=ae}return Z||new w.default(ee,!1)},getMediaTimescaleFromMoov:function B(C){var O=y(C),M=O?O.getBox("mdhd"):void 0;return M?M.timescale:NaN},getSamplesInfo:function P(C){if(!C||0===C.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Z,ae,Ae,j,le,Y,ve,de,Se,xe,Ge,ge,Ce,Le,fe,we,O=y(C),M=O.getBoxes("moof"),G=O.getBoxes("mfhd");fe=O.getBoxes("moof").length,Le=G[G.length-1].sequence_number,ae=0,le=[];var Te=-1,De=-1;for(xe=0;xe<M.length;xe++){var Ue=M[xe],lt=Ue.getChildBoxes("traf");for(de=0;de<lt.length;de++){var He=lt[de],be=He.getChildBox("tfhd"),_e=He.getChildBox("tfdt");j=_e.baseMediaDecodeTime;var K=He.getChildBoxes("trun"),oe=He.getChildBoxes("subs");for(Se=0;Se<K.length;Se++){var pe=K[Se];for(ae=pe.sample_count,Ce=(be.base_data_offset||0)+(pe.data_offset||0),ve=0;ve<ae;ve++){var re={dts:j,cts:j+(void 0!==(Y=pe.samples[ve]).sample_composition_time_offset?Y.sample_composition_time_offset:0),duration:Z=void 0!==Y.sample_duration?Y.sample_duration:be.default_sample_duration,offset:Ue.offset+Ce,size:Ae=void 0!==Y.sample_size?Y.sample_size:be.default_sample_size,subSizes:[Ae]};if(oe)for(Ge=0;Ge<oe.length;Ge++){var Q=oe[Ge];if(Te<Q.entry_count-1&&ve>De&&(Te++,De+=Q.entries[Te].sample_delta),ve==De){re.subSizes=[];var X=Q.entries[Te];for(ge=0;ge<X.subsample_count;ge++)re.subSizes.push(X.subsamples[ge].subsample_size)}}le.push(re),Ce+=Ae,j+=Z}}we=j-_e.baseMediaDecodeTime}}return{sampleList:le,lastSequenceNumber:Le,totalDuration:we,numSequences:fe}},findInitRange:function D(C){var O=null,Z=y(C);if(!Z)return O;var ee=Z.getBox("ftyp"),ae=Z.getBox("moov");return o.debug("Searching for initialization."),ae&&ae.isComplete&&o.debug("Found the initialization.  Range: "+(O=(ee?ee.offset:ae.offset)+"-"+(ae.offset+ae.size-1))),O},parsePayload:function T(C,O,M){if(void 0===M&&(M=0),!O||M+8>=O.byteLength)return new w.default(0,!1);for(var Z,G=O instanceof ArrayBuffer?new Uint8Array(O):O,ee=0;M<G.byteLength;){var ae=F(G,M),Ae=R(G,M+4);if(0===ae)break;M+ae<=G.byteLength&&(C.indexOf(Ae)>=0?Z=new w.default(M,!0,ae,Ae):ee=M+ae),M+=ae}return Z||new w.default(ee,!1)}},function m(){o=Object(n.default)(u).getInstance().getLogger(d)}(),d}g.__dashjs_factory_name="BoxParser",v.default=A.default.getSingletonFactory(g)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(et,v,e){"use strict";e.r(v),e.d(v,"supportsMediaSource",function(){return I});var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function I(){var g="WebKitMediaSource"in window,o="MediaSource"in window;return g||o}function w(){var g,o,d;return g={setConfig:function m(C){C&&C.settings&&(o=C.settings)},supportsMediaSource:I,supportsEncryptedMedia:function y(){return d},supportsCodec:function P(C,O){return O!==A.default.AUDIO&&O!==A.default.VIDEO?Promise.resolve(!0):function B(C,O){return o.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(C.codec&&O===A.default.AUDIO||O===A.default.VIDEO&&C.codec&&C.width&&C.height&&C.bitrate&&C.framerate)}(C,O)?function R(C,O){return new Promise(function(M){if(C&&C.codec){var G={type:"media-source"};G[O]={},G[O].contentType=C.codec,G[O].width=C.width,G[O].height=C.height,G[O].bitrate=parseInt(C.bitrate),G[O].framerate=parseFloat(C.framerate),navigator.mediaCapabilities.decodingInfo(G).then(function(Z){M(Z.supported)}).catch(function(){M(!1)})}else M(!1)})}(C,O):function F(C){return new Promise(function(O){if(C&&C.codec){var M=C.codec;C.width&&C.height&&(M+=';width="'+C.width+'";height="'+C.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(M)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(M)?O(!0):O(!1)}else O(!1)})}(C)},setEncryptedMediaSupported:function k(C){d=C},supportsEssentialProperty:function D(C){try{return-1!==E.THUMBNAILS_SCHEME_ID_URIS.indexOf(C.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function T(C,O){for(var Z,M=C.split(".")[0],G=0===O.indexOf(M),ee=0;ee<_.length;ee++)if(_[ee].codec===M){Z=_[ee];break}return Z?G||Z.compatibleCodecs.some(function(ae){return 0===O.indexOf(ae)}):G}},function u(){d=!1}(),g}w.__dashjs_factory_name="Capabilities",v.default=n.default.getSingletonFactory(w)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function w(){var d,u,m,y,k,P,g=this.context,o=Object(_.default)(g).getInstance();function D(ae,Ae){if(!Ae||!Ae.Period_asArray||0===Ae.Period_asArray.length)return Promise.resolve();var j=[];return Ae.Period_asArray.forEach(function(le){j.push(function T(ae,Ae){return new Promise(function(j){if(ae&&ae.AdaptationSet_asArray&&0!==ae.AdaptationSet_asArray.length){var le=[];ae.AdaptationSet_asArray.forEach(function(Y){u.getIsTypeOf(Y,Ae)&&le.push(function C(ae,Ae){return new Promise(function(j){if(ae.Representation_asArray&&0!==ae.Representation_asArray.length){var le=[],Y=[];ae.Representation_asArray.forEach(function(ve,de){var Se=u.getCodec(ae,de,!1),xe=function O(ae,Ae,j){switch(ae){case A.default.VIDEO:return function M(ae,Ae){return{codec:Ae,width:ae.width||null,height:ae.height||null,framerate:ae.frameRate||null,bitrate:ae.bandwidth||null}}(Ae,j);case A.default.AUDIO:return function G(ae,Ae){return{codec:Ae,bitrate:ae.bandwidth||null,samplerate:ae.audioSamplingRate||null}}(Ae,j);default:return null}}(Ae,ve,Se);Y.push(xe),le.push(m.supportsCodec(xe,Ae))}),Promise.all(le).then(function(ve){ae.Representation_asArray=ae.Representation_asArray.filter(function(de,Se){return ve[Se]||P.debug("[Stream] Codec ".concat(Y[Se].codec," not supported ")),ve[Se]}),j()}).catch(function(){j()})}else j()})}(Y,Ae))}),Promise.all(le).then(function(){ae.AdaptationSet_asArray=ae.AdaptationSet_asArray.filter(function(Y){var ve=Y.Representation_asArray&&Y.Representation_asArray.length>0;return ve||(o.trigger(I.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Y}),P.warn("AdaptationSet has been removed because of no supported Representation")),ve}),j()}).catch(function(){j()})}else j()})}(le,ae))}),Promise.all(j)}return d={setConfig:function F(ae){ae&&(ae.adapter&&(u=ae.adapter),ae.capabilities&&(m=ae.capabilities),ae.settings&&(y=ae.settings),ae.customParametersModel&&(k=ae.customParametersModel))},filterUnsupportedFeatures:function R(ae){return new Promise(function(Ae){var j=[];j.push(D(A.default.VIDEO,ae)),j.push(D(A.default.AUDIO,ae)),Promise.all(j).then(function(){y.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Z(ae){!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Ae){Ae.AdaptationSet_asArray=Ae.AdaptationSet_asArray.filter(function(j){return!j.Representation_asArray||0===j.Representation_asArray.length||(j.Representation_asArray=j.Representation_asArray.filter(function(le){var Y=u.getEssentialPropertiesForRepresentation(le);if(Y&&Y.length>0)for(var ve=0;ve<Y.length;){if(!m.supportsEssentialProperty(Y[ve]))return P.debug("[Stream] EssentialProperty not supported: "+Y[ve].schemeIdUri),!1;ve+=1}return!0}),j.Representation_asArray&&j.Representation_asArray.length>0)})})}(ae),function ee(ae){var Ae=k.getCustomCapabilitiesFilters();!Ae||0===Ae.length||!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(j){j.AdaptationSet_asArray=j.AdaptationSet_asArray.filter(function(le){return!le.Representation_asArray||0===le.Representation_asArray.length||(le.Representation_asArray=le.Representation_asArray.filter(function(Y){return!Ae.some(function(ve){return!ve(Y)})}),le.Representation_asArray&&le.Representation_asArray.length>0)})})}(ae),Ae()}).catch(function(){Ae()})})}},function B(){P=Object(E.default)(g).getInstance().getLogger(d)}(),d}w.__dashjs_factory_name="CapabilitiesFilter",v.default=n.default.getSingletonFactory(w)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(){return{customTimeRangeArray:[],length:0,add:function w(y,k){var P=0;for(P=0;P<this.customTimeRangeArray.length&&y>this.customTimeRangeArray[P].start;P++);for(this.customTimeRangeArray.splice(P,0,{start:y,end:k}),P=0;P<this.customTimeRangeArray.length-1;P++)this.mergeRanges(P,P+1)&&P--;this.length=this.customTimeRangeArray.length},clear:function g(){this.customTimeRangeArray=[],this.length=0},remove:function o(y,k){for(var P=0;P<this.customTimeRangeArray.length;P++)if(y<=this.customTimeRangeArray[P].start&&k>=this.customTimeRangeArray[P].end)this.customTimeRangeArray.splice(P,1),P--;else{if(y>this.customTimeRangeArray[P].start&&k<this.customTimeRangeArray[P].end){this.customTimeRangeArray.splice(P+1,0,{start:k,end:this.customTimeRangeArray[P].end}),this.customTimeRangeArray[P].end=y;break}y>this.customTimeRangeArray[P].start&&y<this.customTimeRangeArray[P].end?this.customTimeRangeArray[P].end=y:k>this.customTimeRangeArray[P].start&&k<this.customTimeRangeArray[P].end&&(this.customTimeRangeArray[P].start=k)}this.length=this.customTimeRangeArray.length},mergeRanges:function d(y,k){var P=this.customTimeRangeArray[y],B=this.customTimeRangeArray[k];return P.start<=B.start&&B.start<=P.end&&P.end<=B.end?(P.end=B.end,this.customTimeRangeArray.splice(k,1),!0):B.start<=P.start&&P.start<=B.end&&B.end<=P.end?(P.start=B.start,this.customTimeRangeArray.splice(k,1),!0):B.start<=P.start&&P.start<=B.end&&P.end<=B.end?(this.customTimeRangeArray.splice(y,1),!0):P.start<=B.start&&B.start<=P.end&&B.end<=P.end&&(this.customTimeRangeArray.splice(k,1),!0)},start:function u(y){return Object(E.checkInteger)(y),y>=this.customTimeRangeArray.length||y<0?NaN:this.customTimeRangeArray[y].start},end:function m(y){return Object(E.checkInteger)(y),y>=this.customTimeRangeArray.length||y<0?NaN:this.customTimeRangeArray[y].end}}}A.__dashjs_factory_name="CustomTimeRanges",v.default=n.default.getClassFactory(A)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],I="dashjs_?_bitrate",w="dashjs_?_settings",g="localStorage",d="lastBitrate",u="lastMediaSettings";function m(k){var F,R,D,P=this.context,B=(k=k||{}).settings;function C(le){if(void 0!==D)return D;D=!1;var de;try{typeof window<"u"&&(de=window[le])}catch(Se){return R.warn("DOMStorage access denied: "+Se.message),D}if(!de||le!==g&&"sessionStorage"!==le)return D;try{de.setItem("1","1"),de.removeItem("1"),D=!0}catch(Se){R.warn("DOMStorage is supported, but cannot be used: "+Se.message)}return D}function M(){return 6e5*Math.round((new Date).getTime()/6e5)}function G(le,Y){return C(le)&&B.get().streaming[Y+"CachingInfo"].enabled}function Z(){if(!B)throw new Error(A.default.MISSING_CONFIG_ERROR)}return F={getSavedBitrateSettings:function ae(le){if(Z(),!B.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var Y=NaN;if(G(g,d)){var ve=I.replace(/\?/,le);try{var de=JSON.parse(localStorage.getItem(ve))||{},Se=(new Date).getTime()-parseInt(de.timestamp,10)>=B.get().streaming.lastBitrateCachingInfo.ttl||!1,xe=parseFloat(de.bitrate);isNaN(xe)||Se?Se&&localStorage.removeItem(ve):(Y=xe,R.debug("Last saved bitrate for "+le+" was "+xe))}catch{return null}}return Y},setSavedBitrateSettings:function j(le,Y){if(G(g,d)&&Y){var ve=I.replace(/\?/,le);try{localStorage.setItem(ve,JSON.stringify({bitrate:Y.toFixed(3),timestamp:M()}))}catch(de){R.error(de.message)}}},getSavedMediaSettings:function ee(le){if(Z(),!B.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var Y=null;if(G(g,u)){var ve=w.replace(/\?/,le);try{var de=JSON.parse(localStorage.getItem(ve))||{},Se=(new Date).getTime()-parseInt(de.timestamp,10)>=B.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;Y=de.settings,Se&&(localStorage.removeItem(ve),Y=null)}catch{return null}}return Y},setSavedMediaSettings:function Ae(le,Y){if(G(g,u)){var ve=w.replace(/\?/,le);try{localStorage.setItem(ve,JSON.stringify({settings:Y,timestamp:M()}))}catch(de){R.error(de.message)}}}},function T(){R=Object(E.default)(P).getInstance().getLogger(F),function O(){C(g)&&_.forEach(function(le){var Y=localStorage.getItem(le.oldKey);if(Y){localStorage.removeItem(le.oldKey);try{localStorage.setItem(le.newKey,Y)}catch(ve){R.error(ve.message)}}})}()}(),F}m.__dashjs_factory_name="DOMStorage";var y=n.default.getSingletonFactory(m);v.default=y},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var A,_=/^[a-z][a-z0-9+\-_.]*:/i,I=/^https?:\/\//i,w=/^https:\/\//i,g=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,o=function(G,Z){try{return new window.URL(G,Z).toString()}catch{return G}},d=function(G,Z){var ee=m;if(!Z||!B(G))return G;F(G)&&(ee=y),R(G)&&(ee=P);var ae=ee(Z),Ae="/"!==ae.charAt(ae.length-1)&&"/"!==G.charAt(0)?"/":"";return[ae,G].join(Ae)};function m(M){var G=M.indexOf("/"),Z=M.lastIndexOf("/");return-1!==G?Z===G+1?M:(-1!==M.indexOf("?")&&(M=M.substring(0,M.indexOf("?"))),M.substring(0,Z+1)):""}function y(M){var G=M.match(g);return G?G[1]:""}function P(M){var G=M.match(_);return G?G[0]:""}function B(M){return!_.test(M)}function F(M){return B(M)&&"/"===M.charAt(0)}function R(M){return 0===M.indexOf("//")}return function u(){try{new window.URL("x","http://y"),A=o}catch{}finally{A=A||d}}(),{parseBaseUrl:m,parseOrigin:y,parseScheme:P,isRelative:B,isPathAbsolute:F,isSchemeRelative:R,isHTTPURL:function D(M){return I.test(M)},isHTTPS:function T(M){return w.test(M)},removeHostname:function k(M){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(M)[2].substring(1)},resolve:function C(M,G){return A(M,G)}}}E.__dashjs_factory_name="DefaultURLUtils",v.default=n.default.getSingletonFactory(E)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(A){A=A||{};var _,I=new DataView(A.data),w=0;function d(R,D){var T=!0,C=0;if(void 0===D&&(D=!1),R.tag>16777215?(I.getUint32(w)!==R.tag&&(T=!1),C=4):R.tag>65535?(256*I.getUint16(w)+I.getUint8(w+2)!==R.tag&&(T=!1),C=3):R.tag>255?(I.getUint16(w)!==R.tag&&(T=!1),C=2):(I.getUint8(w)!==R.tag&&(T=!1),C=1),!T&&R.required&&!D)throw new Error("required tag not found");return T&&(w+=C),T}function k(R){var D=1,T=128,O=-1,M=0,G=I.getUint8(w),Z=0;for(Z=0;Z<8;Z+=1){if((G&T)===T){M=void 0===R?G&~T:G,O=Z;break}T>>=1}for(Z=0;Z<O;Z+=1,D+=1)M=M<<8|255&I.getUint8(w+D);return w+=D,M}return _={getPos:function g(){return w},setPos:function o(R){w=R},consumeTag:d,consumeTagAndSize:function u(R,D){var T=d(R,D);return T&&k(),T},parseTag:function m(R){var D;return d(R),D=k(),_[R.parse](D)},skipOverElement:function y(R,D){var C,T=d(R,D);return T&&(C=k(),w+=C),T},getMatroskaCodedNum:k,getMatroskaFloat:function P(R){var D;switch(R){case 4:D=I.getFloat32(w),w+=4;break;case 8:D=I.getFloat64(w),w+=8}return D},getMatroskaUint:function B(R){for(var D=0,T=0;T<R;T+=1)D<<=8,D|=255&I.getUint8(w+T);return w+=R,D},moreData:function F(){return w<I.byteLength}}}E.__dashjs_factory_name="EBMLParser",v.default=n.default.getClassFactory(E)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(){var w=this.context,g=Object(n.default)(w).getInstance();return{error:function o(d){g.trigger(E.default.ERROR,{error:d})}}}_.__dashjs_factory_name="ErrorHandler",v.default=A.default.getSingletonFactory(_)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var A={};return{save:function _(o){var d=o.streamId,u=o.representationId;A[d]=A[d]||{},A[d][u]=o},extract:function I(o,d){return A&&A[o]&&A[o][d]?A[o][d]:null},reset:function w(){A={}}}}E.__dashjs_factory_name="InitCache",v.default=n.default.getSingletonFactory(E)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),E=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(){var I;function g(m){var y=[];if(!m||!I||"function"!=typeof I.fetchAll)return y;for(var P,k=I.fetchAll(m),B=0,F=k.length;B<F;B++)(P=u(k[B]))&&y.push(P);return y}function u(m){if(!m)return null;var y=new n.default(m);return m.hasOwnProperty("_incomplete")&&(y.isComplete=!m._incomplete),y}return{getBox:function w(m){return m&&I&&I.boxes&&0!==I.boxes.length&&"function"==typeof I.fetch?u(I.fetch(m)):null},getBoxes:g,setData:function o(m){I=m},getLastBox:function d(){if(!I||!I.boxes||!I.boxes.length)return null;var y=g(I.boxes[I.boxes.length-1].type);return y.length>0?y[y.length-1]:null}}}A.__dashjs_factory_name="IsoFile",v.default=E.default.getClassFactory(A)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),A=e.n(E);function _(){return{areEqual:function w(g,o){return A()(g,o)}}}_.__dashjs_factory_name="ObjectUtils",v.default=n.default.getSingletonFactory(_)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(et,v,e){"use strict";e.r(v),e.d(v,"modifyRequest",function(){return E});var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(_,I){var w={url:_.url,method:_.method,headers:Object.assign({},_.headers),credentials:_.withCredentials?"include":void 0};return Promise.resolve(I.modifyRequest(w)).then(function(){return Object.assign(_,w,{withCredentials:"include"===w.credentials})})}function A(){return{modifyRequest:null,modifyRequestURL:function I(g){return g},modifyRequestHeader:function w(g,o){return g}}}A.__dashjs_factory_name="RequestModifier",v.default=n.default.getSingletonFactory(A)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(et,v,e){"use strict";e.r(v),e.d(v,"checkParameterType",function(){return A}),e.d(v,"checkInteger",function(){return _}),e.d(v,"checkRange",function(){return I}),e.d(v,"checkIsVideoOrAudioType",function(){return w});var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function E(g){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(g)}function A(g,o){if(E(g)!==o)throw n.default.BAD_ARGUMENT_ERROR}function _(g){if(null===g||isNaN(g)||g%1!=0)throw n.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function I(g,o,d){if(g<o||g>d)throw n.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function w(g){if("string"!=typeof g||g!==n.default.AUDIO&&g!==n.default.VIDEO)throw n.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),g=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),o=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function d(){var y,k,u=this.context,m=Object(A.default)(u).getInstance(),P=0;function F(){var D="cue_TTML_"+P;return P++,D}return y={parse:function R(D,T,C,O,M){var ee,ae,Ae,G="",Z=[],j={},le={},Y="",ve="",de={onOpenTag:function(Ce,Le,fe){if(fe[" imagetype"]&&!fe[" imageType"]&&(m.trigger(g.default.CONFORMANCE_VIOLATION,{level:o.default.LEVELS.ERROR,event:o.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),fe[" imageType"]=fe[" imagetype"]),"image"===Le&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Ce||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Ce)){if(!fe[" imageType"]||"PNG"!==fe[" imageType"].value)return void k.warn("smpte-tt imageType != PNG. Discarded");Y=fe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Y&&(le[Y]=ve.trim()),ve="",Y=""},onText:function(Ce){Y&&(ve+=Ce)}};if(!D)throw G="no ttml data to parse",new Error(G);j.data=D,m.trigger(_.default.TTML_TO_PARSE,j);var Se=Object(I.fromXML)(j.data,function(ge){G=ge},de);m.trigger(_.default.TTML_PARSED,{ttmlString:j.data,ttmlDoc:Se});var xe=Se.getMediaTimeEvents();for(Ae=0;Ae<xe.length;Ae++){var Ge=Object(I.generateISD)(Se,xe[Ae],function(ge){G=ge});Ge.contents.some(function(ge){return ge.contents.length})&&(ee=xe[Ae]+T<C?C:xe[Ae]+T)<(ae=xe[Ae+1]+T>O?O:xe[Ae+1]+T)&&Z.push({start:ee,end:ae,type:"html",cueID:F(),isd:Ge,images:M,embeddedImages:le})}if(""!==G)throw k.error(G),new Error(G);return Z}},function B(){k=Object(E.default)(u).getInstance().getLogger(y)}(),y}d.__dashjs_factory_name="TTMLParser",v.default=n.default.getSingletonFactory(d)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function A(){var w,g=[],o=this.context;function y(G,Z,ee){var ae=function d(G){var Z;for(Z=0;Z<g.length;Z++)if(g[Z].regex.test(G))return g[Z].utils;return w}(ee||Z);return ae&&"function"==typeof ae[G]?ae[G](Z,ee):w[G](Z,ee)}return function u(){w=Object(E.default)(o).getInstance()}(),{registerUrlRegex:function m(G,Z){g.push({regex:G,utils:Z})},parseBaseUrl:function k(G){return y("parseBaseUrl",G)},parseOrigin:function P(G){return y("parseOrigin",G)},parseScheme:function F(G){return y("parseScheme",G)},isRelative:function R(G){return y("isRelative",G)},isPathAbsolute:function D(G){return y("isPathAbsolute",G)},isSchemeRelative:function T(G){return y("isSchemeRelative",G)},isHTTPURL:function C(G){return y("isHTTPURL",G)},isHTTPS:function O(G){return y("isHTTPS",G)},removeHostname:function B(G){return y("removeHostname",G)},resolve:function M(G,Z){return y("resolve",G,Z)}}}A.__dashjs_factory_name="URLUtils";var _=n.default.getSingletonFactory(A);v.default=_},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function _(){var w,g,o,d,u,m,I=this.context;function P(D){var T=D.split(":"),C=T.length-1;return D=60*parseInt(T[C-1],10)+parseFloat(T[C]),2===C&&(D+=3600*parseInt(T[0],10)),D}function B(D){var T=D.split(d),C=T[1].split(m);return C.shift(),T[1]=C[0],C.shift(),{cuePoints:T,styles:F(C)}}function F(D){var T={};return D.forEach(function(C){if(C.split(/:/).length>1){var O=C.split(/:/)[1];O&&-1!=O.search(/%/)&&(O=parseInt(O.replace(/%/,""),10)),(C.match(/align/)||C.match(/A/))&&(T.align=O),(C.match(/line/)||C.match(/L/))&&(T.line=O),(C.match(/position/)||C.match(/P/))&&(T.position=O),(C.match(/size/)||C.match(/S/))&&(T.size=O)}}),T}function R(D,T){for(var G,C=T,O="",M="";""!==D[C]&&C<D.length;)C++;if((G=C-T)>1)for(var Z=0;Z<G;Z++){if((M=D[T+Z]).match(d)){O="";break}O+=M,Z!==G-1&&(O+="\n")}else(M=D[T]).match(d)||(O=M);return O}return w={parse:function k(D){var C,O,T=[];if(!D)return T;C=(D=D.split(o)).length,O=-1;for(var M=0;M<C;M++){var G=D[M];if(G.length>0&&"WEBVTT"!==G&&G.match(d)){var Z=B(G),ee=Z.cuePoints,ae=Z.styles,Ae=R(D,M+1),j=P(ee[0].replace(u,"")),le=P(ee[1].replace(u,""));!isNaN(j)&&!isNaN(le)&&j>=O&&le>j?""!==Ae?(O=j,T.push({start:j,end:le,data:Ae,styles:ae})):g.error("Skipping cue due to empty/malformed cue text"):g.error("Skipping cue due to incorrect cue timing")}}return T}},function y(){g=Object(E.default)(I).getInstance().getLogger(w),o=/(?:\r\n|\r|\n)/gm,d=/-->/,u=/(^[\s]+|[\s]+$)/g,m=/\s\b/g}(),w}_.__dashjs_factory_name="VTTParser",v.default=n.default.getSingletonFactory(_)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var A,_;return A={parse:function w(g){var o=[];return _.oncue=function(d){d.start=d.startTime,d.end=d.endTime,d.data=d.text,d.styles={align:d.align,line:d.line,position:d.position,size:d.size},o.push(d)},_.parse(g),o}},function I(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(_=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),A}E.__dashjs_factory_name="VttCustomRenderingParser",v.default=n.default.getSingletonFactory(E)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(A){var I=(A=A||{}).blacklistController;return{select:function w(g){var d,o=0;return g&&g.some(function(u,m){return o=m,!I.contains(u.serviceLocation)})&&(d=g[o]),d}}}E.__dashjs_factory_name="BasicSelector",v.default=n.default.getClassFactory(E)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=e(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function A(){var I,w,g,_=this.context;function m(){for(var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],P=0,B=NaN,F=function(){var T=y[P],C=k.findIndex(function(O){return O.serviceLocation&&O.serviceLocation===T});if(-1!==C&&!g.contains(k[C].serviceLocation))return B=C,"break";P+=1};P<y.length&&"break"!==F(););return B}return I={selectBaseUrlIndex:function u(y){var k=NaN;if(isNaN(y.selectedIdx)){var P=w.getSteeringDataFromManifest();P&&P.defaultServiceLocation&&(k=m([P.defaultServiceLocation],y.baseUrls))}var B=w.getCurrentSteeringResponseData();return y.baseUrls&&y.baseUrls.length&&B&&B.serviceLocationPriority&&B.serviceLocationPriority.length&&(k=m(B.serviceLocationPriority,y.baseUrls)),k},setConfig:function d(y){y.blacklistController&&(g=y.blacklistController),y.contentSteeringController&&(w=y.contentSteeringController)}},function o(){w=Object(E.default)(_).getInstance()}(),I}A.__dashjs_factory_name="ContentSteeringSelector",v.default=n.default.getClassFactory(A)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(A){var I=(A=A||{}).blacklistController;return{select:function o(d){return d&&function g(d){var B,F,y=0,k=[],P=0;if((F=d.sort(function(D,T){var C=D.dvb_priority-T.dvb_priority;return isNaN(C)?0:C}).filter(function(D,T,C){return!T||C[0].dvb_priority&&D.dvb_priority&&C[0].dvb_priority===D.dvb_priority})).length)return F.length>1&&(F.forEach(function(R){k.push(y+=R.dvb_weight)}),B=Math.floor(Math.random()*(y-1)),k.every(function(R,D){return P=D,!(B<R)})),F[P]}(function w(d){var u=[];return d.filter(function(P){return!I.contains(P.serviceLocation)||(P.dvb_priority&&u.push(P.dvb_priority),!1)}).filter(function(P){return!(u.length&&P.dvb_priority&&-1!==u.indexOf(P.dvb_priority))})}(d))}}}E.__dashjs_factory_name="DVBSelector",v.default=n.default.getClassFactory(E)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u,m){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.code=d||null,this.message=u||null,this.data=m||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(d){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,w(y.key),y)}}function w(d){var u=function g(d,u){if("object"!==E(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==E(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===E(u)?u:String(u)}var o=function(){function d(u){(function A(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.action=d.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=u||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function I(d,u,m){return u&&_(d.prototype,u),m&&_(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===n.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(m){this.type=m&&m.init?n.HTTPRequest.INIT_SEGMENT_TYPE:n.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=m&&m.url?m.url:null,this.range=m&&m.range?m.range.start+"-"+m.range.end:null,this.mediaType=m&&m.mediaType?m.mediaType:null}}]),d}();o.ACTION_DOWNLOAD="download",o.ACTION_COMPLETE="complete",v.default=o},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(F)}function A(F,R){for(var D=0;D<R.length;D++){var T=R[D];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,I(T.key),T)}}function I(F){var R=function w(F,R){if("object"!==E(F)||null===F)return F;var D=F[Symbol.toPrimitive];if(void 0!==D){var T=D.call(F,R||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(F)}(F,"string");return"symbol"===E(R)?R:String(R)}function o(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(R&&R.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),R&&d(F,R)}function d(F,R){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,C){return T.__proto__=C,T})(F,R)}function u(F){var R=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,T=P(F);if(R){var O=P(this).constructor;C=Reflect.construct(T,arguments,O)}else C=T.apply(this,arguments);return function m(F,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function y(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F)}(this,C)}}function P(F){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}v.default=function(F){o(D,F);var R=u(D);function D(T){var C;return function g(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")}(this,D),(C=R.call(this,T)).checkForExistenceOnly=!0,C}return function _(F,R,D){return R&&A(F.prototype,R),D&&A(F,D),Object.defineProperty(F,"prototype",{writable:!1}),F}(D)}(n.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function A(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,I(m.key),m)}}function I(o){var d=function w(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=function(){function o(d){if(function E(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),this.offset=d._offset,this.type=d.type,this.size=d.size,this.boxes=[],d.boxes)for(var u=0;u<d.boxes.length;u++)this.boxes.push(new o(d.boxes[u]));switch(this.isComplete=!0,d.type){case"sidx":if(this.timescale=d.timescale,this.earliest_presentation_time=d.earliest_presentation_time,this.first_offset=d.first_offset,this.references=d.references,d.references){this.references=[];for(var m=0;m<d.references.length;m++)this.references.push({reference_type:d.references[m].reference_type,referenced_size:d.references[m].referenced_size,subsegment_duration:d.references[m].subsegment_duration})}break;case"emsg":this.id=d.id,this.version=1===d.version?1:0,this.value=d.value,this.timescale=d.timescale,this.scheme_id_uri=d.scheme_id_uri,this.presentation_time_delta=1===d.version?d.presentation_time:d.presentation_time_delta,this.event_duration=d.event_duration,this.message_data=d.message_data;break;case"mdhd":this.timescale=d.timescale;break;case"mfhd":this.sequence_number=d.sequence_number;break;case"subs":this.entry_count=d.entry_count,this.entries=d.entries;break;case"tfhd":this.base_data_offset=d.base_data_offset,this.sample_description_index=d.sample_description_index,this.default_sample_duration=d.default_sample_duration,this.default_sample_size=d.default_sample_size,this.default_sample_flags=d.default_sample_flags,this.flags=d.flags;break;case"tfdt":this.version=d.version,this.baseMediaDecodeTime=d.baseMediaDecodeTime,this.flags=d.flags;break;case"trun":if(this.sample_count=d.sample_count,this.first_sample_flags=d.first_sample_flags,this.data_offset=d.data_offset,this.flags=d.flags,this.samples=d.samples,d.samples){this.samples=[];for(var k=0,P=d.samples.length;k<P;k++)this.samples.push({sample_size:d.samples[k].sample_size,sample_duration:d.samples[k].sample_duration,sample_composition_time_offset:d.samples[k].sample_composition_time_offset})}}}return function _(o,d,u){return d&&A(o.prototype,d),u&&A(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"getChildBox",value:function(u){for(var m=0;m<this.boxes.length;m++)if(this.boxes[m].type===u)return this.boxes[m]}},{key:"getChildBoxes",value:function(u){for(var m=[],y=0;y<this.boxes.length;y++)this.boxes[y].type===u&&m.push(this.boxes[y]);return m}}]),o}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(d,u,m){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.lastCompletedOffset=d,this.found=u,this.size=m})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function A(R){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function _(R,D){for(var T=0;T<D.length;T++){var C=D[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,w(C.key),C)}}function w(R){var D=function g(R,D){if("object"!==A(R)||null===R)return R;var T=R[Symbol.toPrimitive];if(void 0!==T){var C=T.call(R,D||"default");if("object"!==A(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===A(D)?D:String(D)}function d(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&u(R,D)}function u(R,D){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,O){return C.__proto__=O,C})(R,D)}function m(R){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,C=B(R);if(D){var M=B(this).constructor;O=Reflect.construct(C,arguments,M)}else O=C.apply(this,arguments);return function y(R,D){if(D&&("object"===A(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function k(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,O)}}function B(R){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(R)}v.default=function(R){d(T,R);var D=m(T);function T(C,O){var M;return function o(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(M=D.call(this)).url=C||null,M.type=O||null,M.mediaType=n.default.STREAM,M.responseType="",M}return function I(R,D,T){return D&&_(R.prototype,D),T&&_(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}(T)}(E.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(F)}function A(F,R){for(var D=0;D<R.length;D++){var T=R[D];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,I(T.key),T)}}function I(F){var R=function w(F,R){if("object"!==E(F)||null===F)return F;var D=F[Symbol.toPrimitive];if(void 0!==D){var T=D.call(F,R||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(F)}(F,"string");return"symbol"===E(R)?R:String(R)}function o(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(R&&R.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),R&&d(F,R)}function d(F,R){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,C){return T.__proto__=C,T})(F,R)}function u(F){var R=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,T=P(F);if(R){var O=P(this).constructor;C=Reflect.construct(T,arguments,O)}else C=T.apply(this,arguments);return function m(F,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function y(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F)}(this,C)}}function P(F){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}v.default=function(F){o(D,F);var R=u(D);function D(){var T;return function g(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")}(this,D),(T=R.call(this)).captionData=null,T.label=null,T.defaultTrack=!1,T.kind=null,T.isFragmented=!1,T.isEmbedded=!1,T.isTTML=null,T}return function _(F,R,D){return R&&A(F.prototype,R),D&&A(F,D),Object.defineProperty(F,"prototype",{writable:!1}),F}(D)}(n.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function E(d){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function A(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,I(y.key),y)}}function _(d,u,m){return u&&A(d.prototype,u),m&&A(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function I(d){var u=function w(d,u){if("object"!==E(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==E(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===E(u)?u:String(u)}v.default=_(function d(){(function g(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.target=null,this.state=n.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function E(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,_(y.key),y)}}function A(d,u,m){return u&&E(d.prototype,u),m&&E(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var u=function I(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}function w(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}e.r(v),e.d(v,"HTTPRequest",function(){return g}),e.d(v,"HTTPRequestTrace",function(){return o});var g=A(function d(){w(this,d),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),o=A(function d(){w(this,d),this.s=null,this.d=null,this.b=[]});g.GET="GET",g.HEAD="HEAD",g.MPD_TYPE="MPD",g.XLINK_EXPANSION_TYPE="XLinkExpansion",g.INIT_SEGMENT_TYPE="InitializationSegment",g.INDEX_SEGMENT_TYPE="IndexSegment",g.MEDIA_SEGMENT_TYPE="MediaSegment",g.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",g.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",g.DVB_REPORTING_TYPE="DVBReporting",g.LICENSE="license",g.CONTENT_STEERING_TYPE="ContentSteering",g.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(et,v,e){"use strict";function n(u){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(u)}function E(u,m){for(var y=0;y<m.length;y++){var k=m[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(u,_(k.key),k)}}function A(u,m,y){return m&&E(u.prototype,m),y&&E(u,y),Object.defineProperty(u,"prototype",{writable:!1}),u}function _(u){var m=function I(u,m){if("object"!==n(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var k=y.call(u,m||"default");if("object"!==n(k))return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(u)}(u,"string");return"symbol"===n(m)?m:String(m)}function w(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}e.r(v),e.d(v,"ManifestUpdate",function(){return g}),e.d(v,"ManifestUpdateStreamInfo",function(){return o}),e.d(v,"ManifestUpdateRepresentationInfo",function(){return d});var g=A(function u(){w(this,u),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),o=A(function u(){w(this,u),this.id=null,this.index=null,this.start=null,this.duration=null}),d=A(function u(){w(this,u),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(et,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function E(d,u){for(var m=0;m<u.length;m++){var y=u[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,_(y.key),y)}}function A(d,u,m){return u&&E(d.prototype,u),m&&E(d,m),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var u=function I(d,u){if("object"!==n(d)||null===d)return d;var m=d[Symbol.toPrimitive];if(void 0!==m){var y=m.call(d,u||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(d)}(d,"string");return"symbol"===n(u)?u:String(u)}function w(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}e.r(v),e.d(v,"PlayList",function(){return g}),e.d(v,"PlayListTrace",function(){return o});var g=A(function d(){w(this,d),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});g.INITIAL_PLAYOUT_START_REASON="initial_playout",g.SEEK_START_REASON="seek",g.RESUME_FROM_PAUSE_START_REASON="resume",g.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=A(function d(){w(this,d),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,v,e){"use strict";function n(o){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function E(o,d){for(var u=0;u<d.length;u++){var m=d[u];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(o,_(m.key),m)}}function A(o,d,u){return d&&E(o.prototype,d),u&&E(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o}function _(o){var d=function I(o,d){if("object"!==n(o)||null===o)return o;var u=o[Symbol.toPrimitive];if(void 0!==u){var m=u.call(o,d||"default");if("object"!==n(m))return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(o)}(o,"string");return"symbol"===n(d)?d:String(d)}e.r(v),v.default=A(function o(){(function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,v){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,v){}}).default},4440:(Bn,et,v)=>{var e;!function(){"use strict";var n="object"==typeof window?window:{},E=!n.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;E&&(n=global);var y,k,A=!n.HI_BASE64_NO_COMMON_JS&&Bn.exports,_=v.amdO,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),w={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},o=function(D){var T,C,O,M,G=[],Z=0,ee=D.length;"="===D.charAt(ee-2)?ee-=2:"="===D.charAt(ee-1)&&(ee-=1);for(var ae=0,Ae=ee>>2<<2;ae<Ae;)T=w[D.charAt(ae++)],C=w[D.charAt(ae++)],O=w[D.charAt(ae++)],M=w[D.charAt(ae++)],G[Z++]=255&(T<<2|C>>>4),G[Z++]=255&(C<<4|O>>>2),G[Z++]=255&(O<<6|M);var j=ee-Ae;return 2===j?(T=w[D.charAt(ae++)],C=w[D.charAt(ae++)],G[Z++]=255&(T<<2|C>>>4)):3===j&&(T=w[D.charAt(ae++)],C=w[D.charAt(ae++)],O=w[D.charAt(ae++)],G[Z++]=255&(T<<2|C>>>4),G[Z++]=255&(C<<4|O>>>2)),G},d=function(D){for(var T,C,O,M="",G=D.length,Z=0,ee=3*parseInt(G/3);Z<ee;)T=D[Z++],C=D[Z++],O=D[Z++],M+=I[T>>>2]+I[63&(T<<4|C>>>4)]+I[63&(C<<2|O>>>6)]+I[63&O];var ae=G-ee;return 1===ae?M+=I[(T=D[Z])>>>2]+I[T<<4&63]+"==":2===ae&&(T=D[Z++],M+=I[T>>>2]+I[63&(T<<4|(C=D[Z])>>>4)]+I[C<<2&63]+"="),M},u=n.btoa,m=n.atob;if(E){var P=v(9007).lW;u=function(D){return new P(D,"ascii").toString("base64")},d=y=function(D){return new P(D).toString("base64")},m=function(D){return new P(D,"base64").toString("ascii")},k=function(D){return new P(D,"base64").toString()}}else u?(y=function(D){for(var T="",C=0;C<D.length;C++){var O=D.charCodeAt(C);O<128?T+=String.fromCharCode(O):O<2048?T+=String.fromCharCode(192|O>>6)+String.fromCharCode(128|63&O):O<55296||O>=57344?T+=String.fromCharCode(224|O>>12)+String.fromCharCode(128|O>>6&63)+String.fromCharCode(128|63&O):(O=65536+((1023&O)<<10|1023&D.charCodeAt(++C)),T+=String.fromCharCode(240|O>>18)+String.fromCharCode(128|O>>12&63)+String.fromCharCode(128|O>>6&63)+String.fromCharCode(128|63&O))}return u(T)},k=function(D){var T=m(D.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(T))return T;for(var Z,ee,C="",O=0,M=T.length,G=0;O<M;)if((Z=T.charCodeAt(O++))<=127)C+=String.fromCharCode(Z);else{if(Z>191&&Z<=223)ee=31&Z,G=1;else if(Z<=239)ee=15&Z,G=2;else{if(!(Z<=247))throw"not a UTF-8 string";ee=7&Z,G=3}for(var ae=0;ae<G;++ae){if((Z=T.charCodeAt(O++))<128||Z>191)throw"not a UTF-8 string";ee<<=6,ee+=63&Z}if(ee>=55296&&ee<=57343||ee>1114111)throw"not a UTF-8 string";ee<=65535?C+=String.fromCharCode(ee):(ee-=65536,C+=String.fromCharCode(55296+(ee>>10)),C+=String.fromCharCode(56320+(1023&ee)))}return C}):(u=function(D){for(var T,C,O,M="",G=D.length,Z=0,ee=3*parseInt(G/3);Z<ee;)T=D.charCodeAt(Z++),C=D.charCodeAt(Z++),O=D.charCodeAt(Z++),M+=I[T>>>2]+I[63&(T<<4|C>>>4)]+I[63&(C<<2|O>>>6)]+I[63&O];var ae=G-ee;return 1===ae?(T=D.charCodeAt(Z),M+=I[T>>>2]+I[T<<4&63]+"=="):2===ae&&(T=D.charCodeAt(Z++),C=D.charCodeAt(Z),M+=I[T>>>2]+I[63&(T<<4|C>>>4)]+I[C<<2&63]+"="),M},y=function(D){for(var T,C,O,M="",G=function(D){for(var T=[],C=0;C<D.length;C++){var O=D.charCodeAt(C);O<128?T[T.length]=O:O<2048?(T[T.length]=192|O>>6,T[T.length]=128|63&O):O<55296||O>=57344?(T[T.length]=224|O>>12,T[T.length]=128|O>>6&63,T[T.length]=128|63&O):(O=65536+((1023&O)<<10|1023&D.charCodeAt(++C)),T[T.length]=240|O>>18,T[T.length]=128|O>>12&63,T[T.length]=128|O>>6&63,T[T.length]=128|63&O)}return T}(D),Z=G.length,ee=0,ae=3*parseInt(Z/3);ee<ae;)T=G[ee++],C=G[ee++],O=G[ee++],M+=I[T>>>2]+I[63&(T<<4|C>>>4)]+I[63&(C<<2|O>>>6)]+I[63&O];var Ae=Z-ae;return 1===Ae?M+=I[(T=G[ee])>>>2]+I[T<<4&63]+"==":2===Ae&&(T=G[ee++],M+=I[T>>>2]+I[63&(T<<4|(C=G[ee])>>>4)]+I[C<<2&63]+"="),M},m=function(D){var T,C,O,M,G="",Z=D.length;"="===D.charAt(Z-2)?Z-=2:"="===D.charAt(Z-1)&&(Z-=1);for(var ee=0,ae=Z>>2<<2;ee<ae;)T=w[D.charAt(ee++)],C=w[D.charAt(ee++)],O=w[D.charAt(ee++)],M=w[D.charAt(ee++)],G+=String.fromCharCode(255&(T<<2|C>>>4))+String.fromCharCode(255&(C<<4|O>>>2))+String.fromCharCode(255&(O<<6|M));var Ae=Z-ae;return 2===Ae?(T=w[D.charAt(ee++)],C=w[D.charAt(ee++)],G+=String.fromCharCode(255&(T<<2|C>>>4))):3===Ae&&(T=w[D.charAt(ee++)],C=w[D.charAt(ee++)],O=w[D.charAt(ee++)],G+=String.fromCharCode(255&(T<<2|C>>>4))+String.fromCharCode(255&(C<<4|O>>>2))),G},k=function(D){for(var Z,ee,T="",C=o(D),O=C.length,M=0,G=0;M<O;)if((Z=C[M++])<=127)T+=String.fromCharCode(Z);else{if(Z>191&&Z<=223)ee=31&Z,G=1;else if(Z<=239)ee=15&Z,G=2;else{if(!(Z<=247))throw"not a UTF-8 string";ee=7&Z,G=3}for(var ae=0;ae<G;++ae){if((Z=C[M++])<128||Z>191)throw"not a UTF-8 string";ee<<=6,ee+=63&Z}if(ee>=55296&&ee<=57343||ee>1114111)throw"not a UTF-8 string";ee<=65535?T+=String.fromCharCode(ee):(ee-=65536,T+=String.fromCharCode(55296+(ee>>10)),T+=String.fromCharCode(56320+(1023&ee)))}return T});var F=function(D,T){return T?m(D):k(D)},R={encode:function(D,T){var C="string"!=typeof D;return C&&D.constructor===n.ArrayBuffer&&(D=new Uint8Array(D)),C?d(D):!T&&/[^\x00-\x7F]/.test(D)?y(D):u(D)},decode:F,atob:m,btoa:u};F.bytes=o,F.string=F,A?Bn.exports=R:(n.base64=R,_&&void 0!==(e=function(){return R}.call(R,v,R,Bn))&&(Bn.exports=e))}()},2601:(Bn,et)=>{et.read=function(v,e,n,E,A){var _,I,w=8*A-E-1,g=(1<<w)-1,o=g>>1,d=-7,u=n?A-1:0,m=n?-1:1,y=v[e+u];for(u+=m,_=y&(1<<-d)-1,y>>=-d,d+=w;d>0;_=256*_+v[e+u],u+=m,d-=8);for(I=_&(1<<-d)-1,_>>=-d,d+=E;d>0;I=256*I+v[e+u],u+=m,d-=8);if(0===_)_=1-o;else{if(_===g)return I?NaN:1/0*(y?-1:1);I+=Math.pow(2,E),_-=o}return(y?-1:1)*I*Math.pow(2,_-E)},et.write=function(v,e,n,E,A,_){var I,w,g,o=8*_-A-1,d=(1<<o)-1,u=d>>1,m=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,y=E?0:_-1,k=E?1:-1,P=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(w=isNaN(e)?1:0,I=d):(I=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-I))<1&&(I--,g*=2),(e+=I+u>=1?m/g:m*Math.pow(2,1-u))*g>=2&&(I++,g/=2),I+u>=d?(w=0,I=d):I+u>=1?(w=(e*g-1)*Math.pow(2,A),I+=u):(w=e*Math.pow(2,u-1)*Math.pow(2,A),I=0));A>=8;v[n+y]=255&w,y+=k,w/=256,A-=8);for(I=I<<A|w,o+=A;o>0;v[n+y]=255&I,y+=k,I/=256,o-=8);v[n+y-k]|=128*P}},5619:(Bn,et,v)=>{"use strict";v.d(et,{X:()=>n});var e=v(8645);class n extends e.x{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const _=super._subscribe(A);return!_.closed&&A.next(this._value),_}getValue(){const{hasError:A,thrownError:_,_value:I}=this;if(A)throw _;return this._throwIfClosed(),I}next(A){super.next(this._value=A)}}},5592:(Bn,et,v)=>{"use strict";v.d(et,{y:()=>g});var e=v(305),n=v(7394),E=v(4850),A=v(8407),_=v(2653),I=v(4674),w=v(1441);let g=(()=>{class m{constructor(k){k&&(this._subscribe=k)}lift(k){const P=new m;return P.source=this,P.operator=k,P}subscribe(k,P,B){const F=function u(m){return m&&m instanceof e.Lv||function d(m){return m&&(0,I.m)(m.next)&&(0,I.m)(m.error)&&(0,I.m)(m.complete)}(m)&&(0,n.Nn)(m)}(k)?k:new e.Hp(k,P,B);return(0,w.x)(()=>{const{operator:R,source:D}=this;F.add(R?R.call(F,D):D?this._subscribe(F):this._trySubscribe(F))}),F}_trySubscribe(k){try{return this._subscribe(k)}catch(P){k.error(P)}}forEach(k,P){return new(P=o(P))((B,F)=>{const R=new e.Hp({next:D=>{try{k(D)}catch(T){F(T),R.unsubscribe()}},error:F,complete:B});this.subscribe(R)})}_subscribe(k){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(k)}[E.L](){return this}pipe(...k){return(0,A.U)(k)(this)}toPromise(k){return new(k=o(k))((P,B)=>{let F;this.subscribe(R=>F=R,R=>B(R),()=>P(F))})}}return m.create=y=>new m(y),m})();function o(m){var y;return null!==(y=m??_.config.Promise)&&void 0!==y?y:Promise}},8645:(Bn,et,v)=>{"use strict";v.d(et,{x:()=>w});var e=v(5592),n=v(7394);const A=(0,v(2306).d)(o=>function(){o(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=v(9039),I=v(1441);let w=(()=>{class o extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(u){const m=new g(this,this);return m.operator=u,m}_throwIfClosed(){if(this.closed)throw new A}next(u){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const m of this.currentObservers)m.next(u)}})}error(u){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=u;const{observers:m}=this;for(;m.length;)m.shift().error(u)}})}complete(){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:u}=this;for(;u.length;)u.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var u;return(null===(u=this.observers)||void 0===u?void 0:u.length)>0}_trySubscribe(u){return this._throwIfClosed(),super._trySubscribe(u)}_subscribe(u){return this._throwIfClosed(),this._checkFinalizedStatuses(u),this._innerSubscribe(u)}_innerSubscribe(u){const{hasError:m,isStopped:y,observers:k}=this;return m||y?n.Lc:(this.currentObservers=null,k.push(u),new n.w0(()=>{this.currentObservers=null,(0,_.P)(k,u)}))}_checkFinalizedStatuses(u){const{hasError:m,thrownError:y,isStopped:k}=this;m?u.error(y):k&&u.complete()}asObservable(){const u=new e.y;return u.source=this,u}}return o.create=(d,u)=>new g(d,u),o})();class g extends w{constructor(d,u){super(),this.destination=d,this.source=u}next(d){var u,m;null===(m=null===(u=this.destination)||void 0===u?void 0:u.next)||void 0===m||m.call(u,d)}error(d){var u,m;null===(m=null===(u=this.destination)||void 0===u?void 0:u.error)||void 0===m||m.call(u,d)}complete(){var d,u;null===(u=null===(d=this.destination)||void 0===d?void 0:d.complete)||void 0===u||u.call(d)}_subscribe(d){var u,m;return null!==(m=null===(u=this.source)||void 0===u?void 0:u.subscribe(d))&&void 0!==m?m:n.Lc}}},305:(Bn,et,v)=>{"use strict";v.d(et,{Hp:()=>B,Lv:()=>m});var e=v(4674),n=v(7394),E=v(2653),A=v(3894),_=v(2420);const I=o("C",void 0,void 0);function o(C,O,M){return{kind:C,value:O,error:M}}var d=v(7599),u=v(1441);class m extends n.w0{constructor(O){super(),this.isStopped=!1,O?(this.destination=O,(0,n.Nn)(O)&&O.add(this)):this.destination=T}static create(O,M,G){return new B(O,M,G)}next(O){this.isStopped?D(function g(C){return o("N",C,void 0)}(O),this):this._next(O)}error(O){this.isStopped?D(function w(C){return o("E",void 0,C)}(O),this):(this.isStopped=!0,this._error(O))}complete(){this.isStopped?D(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(O){this.destination.next(O)}_error(O){try{this.destination.error(O)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const y=Function.prototype.bind;function k(C,O){return y.call(C,O)}class P{constructor(O){this.partialObserver=O}next(O){const{partialObserver:M}=this;if(M.next)try{M.next(O)}catch(G){F(G)}}error(O){const{partialObserver:M}=this;if(M.error)try{M.error(O)}catch(G){F(G)}else F(O)}complete(){const{partialObserver:O}=this;if(O.complete)try{O.complete()}catch(M){F(M)}}}class B extends m{constructor(O,M,G){let Z;if(super(),(0,e.m)(O)||!O)Z={next:O??void 0,error:M??void 0,complete:G??void 0};else{let ee;this&&E.config.useDeprecatedNextContext?(ee=Object.create(O),ee.unsubscribe=()=>this.unsubscribe(),Z={next:O.next&&k(O.next,ee),error:O.error&&k(O.error,ee),complete:O.complete&&k(O.complete,ee)}):Z=O}this.destination=new P(Z)}}function F(C){E.config.useDeprecatedSynchronousErrorHandling?(0,u.O)(C):(0,A.h)(C)}function D(C,O){const{onStoppedNotification:M}=E.config;M&&d.z.setTimeout(()=>M(C,O))}const T={closed:!0,next:_.Z,error:function R(C){throw C},complete:_.Z}},7394:(Bn,et,v)=>{"use strict";v.d(et,{Lc:()=>I,w0:()=>_,Nn:()=>w});var e=v(4674);const E=(0,v(2306).d)(o=>function(u){o(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((m,y)=>`${y+1}) ${m.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u});var A=v(9039);class _{constructor(d){this.initialTeardown=d,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let d;if(!this.closed){this.closed=!0;const{_parentage:u}=this;if(u)if(this._parentage=null,Array.isArray(u))for(const k of u)k.remove(this);else u.remove(this);const{initialTeardown:m}=this;if((0,e.m)(m))try{m()}catch(k){d=k instanceof E?k.errors:[k]}const{_finalizers:y}=this;if(y){this._finalizers=null;for(const k of y)try{g(k)}catch(P){d=d??[],P instanceof E?d=[...d,...P.errors]:d.push(P)}}if(d)throw new E(d)}}add(d){var u;if(d&&d!==this)if(this.closed)g(d);else{if(d instanceof _){if(d.closed||d._hasParent(this))return;d._addParent(this)}(this._finalizers=null!==(u=this._finalizers)&&void 0!==u?u:[]).push(d)}}_hasParent(d){const{_parentage:u}=this;return u===d||Array.isArray(u)&&u.includes(d)}_addParent(d){const{_parentage:u}=this;this._parentage=Array.isArray(u)?(u.push(d),u):u?[u,d]:d}_removeParent(d){const{_parentage:u}=this;u===d?this._parentage=null:Array.isArray(u)&&(0,A.P)(u,d)}remove(d){const{_finalizers:u}=this;u&&(0,A.P)(u,d),d instanceof _&&d._removeParent(this)}}_.EMPTY=(()=>{const o=new _;return o.closed=!0,o})();const I=_.EMPTY;function w(o){return o instanceof _||o&&"closed"in o&&(0,e.m)(o.remove)&&(0,e.m)(o.add)&&(0,e.m)(o.unsubscribe)}function g(o){(0,e.m)(o)?o():o.unsubscribe()}},2653:(Bn,et,v)=>{"use strict";v.d(et,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Bn,et,v)=>{"use strict";v.d(et,{c:()=>I});var e=v(5592),n=v(7394),E=v(6196),A=v(8251),_=v(9360);class I extends e.y{constructor(g,o){super(),this.source=g,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,(0,_.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new n.w0;const o=this.getSubject();g.add(this.source.subscribe((0,A.x)(o,void 0,()=>{this._teardown(),o.complete()},d=>{this._teardown(),o.error(d)},()=>this._teardown()))),g.closed&&(this._connection=null,g=n.w0.EMPTY)}return g}refCount(){return(0,E.x)()(this)}}},2572:(Bn,et,v)=>{"use strict";v.d(et,{a:()=>d});var e=v(5592),n=v(7453),E=v(2459),A=v(2737),_=v(7400),I=v(9940),w=v(2714),g=v(8251),o=v(7103);function d(...y){const k=(0,I.yG)(y),P=(0,I.jO)(y),{args:B,keys:F}=(0,n.D)(y);if(0===B.length)return(0,E.D)([],k);const R=new e.y(function u(y,k,P=A.y){return B=>{m(k,()=>{const{length:F}=y,R=new Array(F);let D=F,T=F;for(let C=0;C<F;C++)m(k,()=>{const O=(0,E.D)(y[C],k);let M=!1;O.subscribe((0,g.x)(B,G=>{R[C]=G,M||(M=!0,T--),T||B.next(P(R.slice()))},()=>{--D||B.complete()}))},B)},B)}}(B,k,F?D=>(0,w.n)(F,D):A.y));return P?R.pipe((0,_.Z)(P)):R}function m(y,k,P){y?(0,o.f)(P,y,k):k()}},5211:(Bn,et,v)=>{"use strict";v.d(et,{z:()=>_});var e=v(7537),E=v(9940),A=v(2459);function _(...I){return function n(){return(0,e.J)(1)}()((0,A.D)(I,(0,E.yG)(I)))}},4911:(Bn,et,v)=>{"use strict";v.d(et,{P:()=>E});var e=v(5592),n=v(4829);function E(A){return new e.y(_=>{(0,n.Xf)(A()).subscribe(_)})}},6232:(Bn,et,v)=>{"use strict";v.d(et,{E:()=>n});const n=new(v(5592).y)(_=>_.complete())},2459:(Bn,et,v)=>{"use strict";v.d(et,{D:()=>O});var e=v(4829),n=v(3093),E=v(5137),I=v(5592),g=v(4971),o=v(4674),d=v(7103);function m(M,G){if(!M)throw new Error("Iterable cannot be null");return new I.y(Z=>{(0,d.f)(Z,G,()=>{const ee=M[Symbol.asyncIterator]();(0,d.f)(Z,G,()=>{ee.next().then(ae=>{ae.done?Z.complete():Z.next(ae.value)})},0,!0)})})}var y=v(8382),k=v(4026),P=v(4266),B=v(3664),F=v(5726),R=v(9853),D=v(541);function O(M,G){return G?function C(M,G){if(null!=M){if((0,y.c)(M))return function A(M,G){return(0,e.Xf)(M).pipe((0,E.R)(G),(0,n.Q)(G))}(M,G);if((0,P.z)(M))return function w(M,G){return new I.y(Z=>{let ee=0;return G.schedule(function(){ee===M.length?Z.complete():(Z.next(M[ee++]),Z.closed||this.schedule())})})}(M,G);if((0,k.t)(M))return function _(M,G){return(0,e.Xf)(M).pipe((0,E.R)(G),(0,n.Q)(G))}(M,G);if((0,F.D)(M))return m(M,G);if((0,B.T)(M))return function u(M,G){return new I.y(Z=>{let ee;return(0,d.f)(Z,G,()=>{ee=M[g.h](),(0,d.f)(Z,G,()=>{let ae,Ae;try{({value:ae,done:Ae}=ee.next())}catch(j){return void Z.error(j)}Ae?Z.complete():Z.next(ae)},0,!0)}),()=>(0,o.m)(ee?.return)&&ee.return()})}(M,G);if((0,D.L)(M))return function T(M,G){return m((0,D.Q)(M),G)}(M,G)}throw(0,R.z)(M)}(M,G):(0,e.Xf)(M)}},2438:(Bn,et,v)=>{"use strict";v.d(et,{R:()=>d});var e=v(4829),n=v(5592),E=v(1631),A=v(4266),_=v(4674),I=v(7400);const w=["addListener","removeListener"],g=["addEventListener","removeEventListener"],o=["on","off"];function d(P,B,F,R){if((0,_.m)(F)&&(R=F,F=void 0),R)return d(P,B,F).pipe((0,I.Z)(R));const[D,T]=function k(P){return(0,_.m)(P.addEventListener)&&(0,_.m)(P.removeEventListener)}(P)?g.map(C=>O=>P[C](B,O,F)):function m(P){return(0,_.m)(P.addListener)&&(0,_.m)(P.removeListener)}(P)?w.map(u(P,B)):function y(P){return(0,_.m)(P.on)&&(0,_.m)(P.off)}(P)?o.map(u(P,B)):[];if(!D&&(0,A.z)(P))return(0,E.z)(C=>d(C,B,F))((0,e.Xf)(P));if(!D)throw new TypeError("Invalid event target");return new n.y(C=>{const O=(...M)=>C.next(1<M.length?M:M[0]);return D(O),()=>T(O)})}function u(P,B){return F=>R=>P[F](B,R)}},4829:(Bn,et,v)=>{"use strict";v.d(et,{Xf:()=>y});var e=v(7582),n=v(4266),E=v(4026),A=v(5592),_=v(8382),I=v(5726),w=v(9853),g=v(3664),o=v(541),d=v(4674),u=v(3894),m=v(4850);function y(C){if(C instanceof A.y)return C;if(null!=C){if((0,_.c)(C))return function k(C){return new A.y(O=>{const M=C[m.L]();if((0,d.m)(M.subscribe))return M.subscribe(O);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(C);if((0,n.z)(C))return function P(C){return new A.y(O=>{for(let M=0;M<C.length&&!O.closed;M++)O.next(C[M]);O.complete()})}(C);if((0,E.t)(C))return function B(C){return new A.y(O=>{C.then(M=>{O.closed||(O.next(M),O.complete())},M=>O.error(M)).then(null,u.h)})}(C);if((0,I.D)(C))return R(C);if((0,g.T)(C))return function F(C){return new A.y(O=>{for(const M of C)if(O.next(M),O.closed)return;O.complete()})}(C);if((0,o.L)(C))return function D(C){return R((0,o.Q)(C))}(C)}throw(0,w.z)(C)}function R(C){return new A.y(O=>{(function T(C,O){var M,G,Z,ee;return(0,e.mG)(this,void 0,void 0,function*(){try{for(M=(0,e.KL)(C);!(G=yield M.next()).done;)if(O.next(G.value),O.closed)return}catch(ae){Z={error:ae}}finally{try{G&&!G.done&&(ee=M.return)&&(yield ee.call(M))}finally{if(Z)throw Z.error}}O.complete()})})(C,O).catch(M=>O.error(M))})}},3019:(Bn,et,v)=>{"use strict";v.d(et,{T:()=>I});var e=v(7537),n=v(4829),E=v(6232),A=v(9940),_=v(2459);function I(...w){const g=(0,A.yG)(w),o=(0,A._6)(w,1/0),d=w;return d.length?1===d.length?(0,n.Xf)(d[0]):(0,e.J)(o)((0,_.D)(d,g)):E.E}},2096:(Bn,et,v)=>{"use strict";v.d(et,{of:()=>E});var e=v(9940),n=v(2459);function E(...A){const _=(0,e.yG)(A);return(0,n.D)(A,_)}},4825:(Bn,et,v)=>{"use strict";v.d(et,{H:()=>_});var e=v(5592),n=v(6321),E=v(671);function _(I=0,w,g=n.P){let o=-1;return null!=w&&((0,E.K)(w)?g=w:o=w),new e.y(d=>{let u=function A(I){return I instanceof Date&&!isNaN(I)}(I)?+I-g.now():I;u<0&&(u=0);let m=0;return g.schedule(function(){d.closed||(d.next(m++),0<=o?this.schedule(void 0,o):d.complete())},u)})}},8251:(Bn,et,v)=>{"use strict";v.d(et,{x:()=>n});var e=v(305);function n(A,_,I,w,g){return new E(A,_,I,w,g)}class E extends e.Lv{constructor(_,I,w,g,o,d){super(_),this.onFinalize=o,this.shouldUnsubscribe=d,this._next=I?function(u){try{I(u)}catch(m){_.error(m)}}:super._next,this._error=g?function(u){try{g(u)}catch(m){_.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=w?function(){try{w()}catch(u){_.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:I}=this;super.unsubscribe(),!I&&(null===(_=this.onFinalize)||void 0===_||_.call(this))}}}},6328:(Bn,et,v)=>{"use strict";v.d(et,{b:()=>E});var e=v(1631),n=v(4674);function E(A,_){return(0,n.m)(_)?(0,e.z)(A,_,1):(0,e.z)(A,1)}},3620:(Bn,et,v)=>{"use strict";v.d(et,{b:()=>A});var e=v(6321),n=v(9360),E=v(8251);function A(_,I=e.z){return(0,n.e)((w,g)=>{let o=null,d=null,u=null;const m=()=>{if(o){o.unsubscribe(),o=null;const k=d;d=null,g.next(k)}};function y(){const k=u+_,P=I.now();if(P<k)return o=this.schedule(void 0,k-P),void g.add(o);m()}w.subscribe((0,E.x)(g,k=>{d=k,u=I.now(),o||(o=I.schedule(y,_),g.add(o))},()=>{m(),g.complete()},void 0,()=>{d=o=null}))})}},3572:(Bn,et,v)=>{"use strict";v.d(et,{d:()=>E});var e=v(9360),n=v(8251);function E(A){return(0,e.e)((_,I)=>{let w=!1;_.subscribe((0,n.x)(I,g=>{w=!0,I.next(g)},()=>{w||I.next(A),I.complete()}))})}},3997:(Bn,et,v)=>{"use strict";v.d(et,{x:()=>A});var e=v(2737),n=v(9360),E=v(8251);function A(I,w=e.y){return I=I??_,(0,n.e)((g,o)=>{let d,u=!0;g.subscribe((0,E.x)(o,m=>{const y=w(m);(u||!I(d,y))&&(u=!1,d=y,o.next(m))}))})}function _(I,w){return I===w}},2181:(Bn,et,v)=>{"use strict";v.d(et,{h:()=>E});var e=v(9360),n=v(8251);function E(A,_){return(0,e.e)((I,w)=>{let g=0;I.subscribe((0,n.x)(w,o=>A.call(_,o,g++)&&w.next(o)))})}},4716:(Bn,et,v)=>{"use strict";v.d(et,{x:()=>n});var e=v(9360);function n(E){return(0,e.e)((A,_)=>{try{A.subscribe(_)}finally{_.add(E)}})}},1374:(Bn,et,v)=>{"use strict";v.d(et,{P:()=>w});var e=v(6973),n=v(2181),E=v(8180),A=v(3572),_=v(3026),I=v(2737);function w(g,o){const d=arguments.length>=2;return u=>u.pipe(g?(0,n.h)((m,y)=>g(m,y,u)):I.y,(0,E.q)(1),d?(0,A.d)(o):(0,_.T)(()=>new e.K))}},7398:(Bn,et,v)=>{"use strict";v.d(et,{U:()=>E});var e=v(9360),n=v(8251);function E(A,_){return(0,e.e)((I,w)=>{let g=0;I.subscribe((0,n.x)(w,o=>{w.next(A.call(_,o,g++))}))})}},975:(Bn,et,v)=>{"use strict";v.d(et,{h:()=>n});var e=v(7398);function n(E){return(0,e.U)(()=>E)}},7537:(Bn,et,v)=>{"use strict";v.d(et,{J:()=>E});var e=v(1631),n=v(2737);function E(A=1/0){return(0,e.z)(n.y,A)}},1631:(Bn,et,v)=>{"use strict";v.d(et,{z:()=>g});var e=v(7398),n=v(4829),E=v(9360),A=v(7103),_=v(8251),w=v(4674);function g(o,d,u=1/0){return(0,w.m)(d)?g((m,y)=>(0,e.U)((k,P)=>d(m,k,y,P))((0,n.Xf)(o(m,y))),u):("number"==typeof d&&(u=d),(0,E.e)((m,y)=>function I(o,d,u,m,y,k,P,B){const F=[];let R=0,D=0,T=!1;const C=()=>{T&&!F.length&&!R&&d.complete()},O=G=>R<m?M(G):F.push(G),M=G=>{k&&d.next(G),R++;let Z=!1;(0,n.Xf)(u(G,D++)).subscribe((0,_.x)(d,ee=>{y?.(ee),k?O(ee):d.next(ee)},()=>{Z=!0},void 0,()=>{if(Z)try{for(R--;F.length&&R<m;){const ee=F.shift();P?(0,A.f)(d,P,()=>M(ee)):M(ee)}C()}catch(ee){d.error(ee)}}))};return o.subscribe((0,_.x)(d,O,()=>{T=!0,C()})),()=>{B?.()}}(m,y,o,u)))}},3093:(Bn,et,v)=>{"use strict";v.d(et,{Q:()=>A});var e=v(7103),n=v(9360),E=v(8251);function A(_,I=0){return(0,n.e)((w,g)=>{w.subscribe((0,E.x)(g,o=>(0,e.f)(g,_,()=>g.next(o),I),()=>(0,e.f)(g,_,()=>g.complete(),I),o=>(0,e.f)(g,_,()=>g.error(o),I)))})}},6196:(Bn,et,v)=>{"use strict";v.d(et,{x:()=>E});var e=v(9360),n=v(8251);function E(){return(0,e.e)((A,_)=>{let I=null;A._refCount++;const w=(0,n.x)(_,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(I=null);const g=A._connection,o=I;I=null,g&&(!o||g===o)&&g.unsubscribe(),_.unsubscribe()});A.subscribe(w),w.closed||(I=A.connect())})}},3020:(Bn,et,v)=>{"use strict";v.d(et,{B:()=>_});var e=v(4829),n=v(8645),E=v(305),A=v(9360);function _(w={}){const{connector:g=(()=>new n.x),resetOnError:o=!0,resetOnComplete:d=!0,resetOnRefCountZero:u=!0}=w;return m=>{let y,k,P,B=0,F=!1,R=!1;const D=()=>{k?.unsubscribe(),k=void 0},T=()=>{D(),y=P=void 0,F=R=!1},C=()=>{const O=y;T(),O?.unsubscribe()};return(0,A.e)((O,M)=>{B++,!R&&!F&&D();const G=P=P??g();M.add(()=>{B--,0===B&&!R&&!F&&(k=I(C,u))}),G.subscribe(M),!y&&B>0&&(y=new E.Hp({next:Z=>G.next(Z),error:Z=>{R=!0,D(),k=I(T,o,Z),G.error(Z)},complete:()=>{F=!0,D(),k=I(T,d),G.complete()}}),(0,e.Xf)(O).subscribe(y))})(m)}}function I(w,g,...o){if(!0===g)return void w();if(!1===g)return;const d=new E.Hp({next:()=>{d.unsubscribe(),w()}});return(0,e.Xf)(g(...o)).subscribe(d)}},940:(Bn,et,v)=>{"use strict";v.d(et,{d:()=>_});var e=v(8645),n=v(4552);class E extends e.x{constructor(w=1/0,g=1/0,o=n.l){super(),this._bufferSize=w,this._windowTime=g,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=g===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,g)}next(w){const{isStopped:g,_buffer:o,_infiniteTimeWindow:d,_timestampProvider:u,_windowTime:m}=this;g||(o.push(w),!d&&o.push(u.now()+m)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const g=this._innerSubscribe(w),{_infiniteTimeWindow:o,_buffer:d}=this,u=d.slice();for(let m=0;m<u.length&&!w.closed;m+=o?1:2)w.next(u[m]);return this._checkFinalizedStatuses(w),g}_trimBuffer(){const{_bufferSize:w,_timestampProvider:g,_buffer:o,_infiniteTimeWindow:d}=this,u=(d?1:2)*w;if(w<1/0&&u<o.length&&o.splice(0,o.length-u),!d){const m=g.now();let y=0;for(let k=1;k<o.length&&o[k]<=m;k+=2)y=k;y&&o.splice(0,y+1)}}}var A=v(3020);function _(I,w,g){let o,d=!1;return I&&"object"==typeof I?({bufferSize:o=1/0,windowTime:w=1/0,refCount:d=!1,scheduler:g}=I):o=I??1/0,(0,A.B)({connector:()=>new E(o,w,g),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}},836:(Bn,et,v)=>{"use strict";v.d(et,{T:()=>n});var e=v(2181);function n(E){return(0,e.h)((A,_)=>E<=_)}},7921:(Bn,et,v)=>{"use strict";v.d(et,{O:()=>A});var e=v(5211),n=v(9940),E=v(9360);function A(..._){const I=(0,n.yG)(_);return(0,E.e)((w,g)=>{(I?(0,e.z)(_,w,I):(0,e.z)(_,w)).subscribe(g)})}},5137:(Bn,et,v)=>{"use strict";v.d(et,{R:()=>n});var e=v(9360);function n(E,A=0){return(0,e.e)((_,I)=>{I.add(E.schedule(()=>_.subscribe(I),A))})}},4664:(Bn,et,v)=>{"use strict";v.d(et,{w:()=>A});var e=v(4829),n=v(9360),E=v(8251);function A(_,I){return(0,n.e)((w,g)=>{let o=null,d=0,u=!1;const m=()=>u&&!o&&g.complete();w.subscribe((0,E.x)(g,y=>{o?.unsubscribe();let k=0;const P=d++;(0,e.Xf)(_(y,P)).subscribe(o=(0,E.x)(g,B=>g.next(I?I(y,B,P,k++):B),()=>{o=null,m()}))},()=>{u=!0,m()}))})}},8180:(Bn,et,v)=>{"use strict";v.d(et,{q:()=>A});var e=v(6232),n=v(9360),E=v(8251);function A(_){return _<=0?()=>e.E:(0,n.e)((I,w)=>{let g=0;I.subscribe((0,E.x)(w,o=>{++g<=_&&(w.next(o),_<=g&&w.complete())}))})}},9773:(Bn,et,v)=>{"use strict";v.d(et,{R:()=>_});var e=v(9360),n=v(8251),E=v(4829),A=v(2420);function _(I){return(0,e.e)((w,g)=>{(0,E.Xf)(I).subscribe((0,n.x)(g,()=>g.complete(),A.Z)),!g.closed&&w.subscribe(g)})}},9397:(Bn,et,v)=>{"use strict";v.d(et,{b:()=>_});var e=v(4674),n=v(9360),E=v(8251),A=v(2737);function _(I,w,g){const o=(0,e.m)(I)||w||g?{next:I,error:w,complete:g}:I;return o?(0,n.e)((d,u)=>{var m;null===(m=o.subscribe)||void 0===m||m.call(o);let y=!0;d.subscribe((0,E.x)(u,k=>{var P;null===(P=o.next)||void 0===P||P.call(o,k),u.next(k)},()=>{var k;y=!1,null===(k=o.complete)||void 0===k||k.call(o),u.complete()},k=>{var P;y=!1,null===(P=o.error)||void 0===P||P.call(o,k),u.error(k)},()=>{var k,P;y&&(null===(k=o.unsubscribe)||void 0===k||k.call(o)),null===(P=o.finalize)||void 0===P||P.call(o)}))}):A.y}},3026:(Bn,et,v)=>{"use strict";v.d(et,{T:()=>A});var e=v(6973),n=v(9360),E=v(8251);function A(I=_){return(0,n.e)((w,g)=>{let o=!1;w.subscribe((0,E.x)(g,d=>{o=!0,g.next(d)},()=>o?g.complete():g.error(I())))})}function _(){return new e.K}},1954:(Bn,et,v)=>{"use strict";v.d(et,{o:()=>_});var e=v(7394);class n extends e.w0{constructor(w,g){super()}schedule(w,g=0){return this}}const E={setInterval(I,w,...g){const{delegate:o}=E;return o?.setInterval?o.setInterval(I,w,...g):setInterval(I,w,...g)},clearInterval(I){const{delegate:w}=E;return(w?.clearInterval||clearInterval)(I)},delegate:void 0};var A=v(9039);class _ extends n{constructor(w,g){super(w,g),this.scheduler=w,this.work=g,this.pending=!1}schedule(w,g=0){var o;if(this.closed)return this;this.state=w;const d=this.id,u=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(u,d,g)),this.pending=!0,this.delay=g,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(u,this.id,g),this}requestAsyncId(w,g,o=0){return E.setInterval(w.flush.bind(w,this),o)}recycleAsyncId(w,g,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return g;null!=g&&E.clearInterval(g)}execute(w,g){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(w,g);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(w,g){let d,o=!1;try{this.work(w)}catch(u){o=!0,d=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),d}unsubscribe(){if(!this.closed){const{id:w,scheduler:g}=this,{actions:o}=g;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.P)(o,this),null!=w&&(this.id=this.recycleAsyncId(g,w,null)),this.delay=null,super.unsubscribe()}}}},2631:(Bn,et,v)=>{"use strict";v.d(et,{v:()=>E});var e=v(4552);class n{constructor(_,I=n.now){this.schedulerActionCtor=_,this.now=I}schedule(_,I=0,w){return new this.schedulerActionCtor(this,_).schedule(w,I)}}n.now=e.l.now;class E extends n{constructor(_,I=n.now){super(_,I),this.actions=[],this._active=!1}flush(_){const{actions:I}=this;if(this._active)return void I.push(_);let w;this._active=!0;do{if(w=_.execute(_.state,_.delay))break}while(_=I.shift());if(this._active=!1,w){for(;_=I.shift();)_.unsubscribe();throw w}}}},6321:(Bn,et,v)=>{"use strict";v.d(et,{P:()=>A,z:()=>E});var e=v(1954);const E=new(v(2631).v)(e.o),A=E},4552:(Bn,et,v)=>{"use strict";v.d(et,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7599:(Bn,et,v)=>{"use strict";v.d(et,{z:()=>e});const e={setTimeout(n,E,...A){const{delegate:_}=e;return _?.setTimeout?_.setTimeout(n,E,...A):setTimeout(n,E,...A)},clearTimeout(n){const{delegate:E}=e;return(E?.clearTimeout||clearTimeout)(n)},delegate:void 0}},4971:(Bn,et,v)=>{"use strict";v.d(et,{h:()=>n});const n=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Bn,et,v)=>{"use strict";v.d(et,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Bn,et,v)=>{"use strict";v.d(et,{K:()=>n});const n=(0,v(2306).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Bn,et,v)=>{"use strict";v.d(et,{_6:()=>I,jO:()=>A,yG:()=>_});var e=v(4674),n=v(671);function E(w){return w[w.length-1]}function A(w){return(0,e.m)(E(w))?w.pop():void 0}function _(w){return(0,n.K)(E(w))?w.pop():void 0}function I(w,g){return"number"==typeof E(w)?w.pop():g}},7453:(Bn,et,v)=>{"use strict";v.d(et,{D:()=>_});const{isArray:e}=Array,{getPrototypeOf:n,prototype:E,keys:A}=Object;function _(w){if(1===w.length){const g=w[0];if(e(g))return{args:g,keys:null};if(function I(w){return w&&"object"==typeof w&&n(w)===E}(g)){const o=A(g);return{args:o.map(d=>g[d]),keys:o}}}return{args:w,keys:null}}},9039:(Bn,et,v)=>{"use strict";function e(n,E){if(n){const A=n.indexOf(E);0<=A&&n.splice(A,1)}}v.d(et,{P:()=>e})},2306:(Bn,et,v)=>{"use strict";function e(n){const A=n(_=>{Error.call(_),_.stack=(new Error).stack});return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}v.d(et,{d:()=>e})},2714:(Bn,et,v)=>{"use strict";function e(n,E){return n.reduce((A,_,I)=>(A[_]=E[I],A),{})}v.d(et,{n:()=>e})},1441:(Bn,et,v)=>{"use strict";v.d(et,{O:()=>A,x:()=>E});var e=v(2653);let n=null;function E(_){if(e.config.useDeprecatedSynchronousErrorHandling){const I=!n;if(I&&(n={errorThrown:!1,error:null}),_(),I){const{errorThrown:w,error:g}=n;if(n=null,w)throw g}}else _()}function A(_){e.config.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=_)}},7103:(Bn,et,v)=>{"use strict";function e(n,E,A,_=0,I=!1){const w=E.schedule(function(){A(),I?n.add(this.schedule(null,_)):this.unsubscribe()},_);if(n.add(w),!I)return w}v.d(et,{f:()=>e})},2737:(Bn,et,v)=>{"use strict";function e(n){return n}v.d(et,{y:()=>e})},4266:(Bn,et,v)=>{"use strict";v.d(et,{z:()=>e});const e=n=>n&&"number"==typeof n.length&&"function"!=typeof n},5726:(Bn,et,v)=>{"use strict";v.d(et,{D:()=>n});var e=v(4674);function n(E){return Symbol.asyncIterator&&(0,e.m)(E?.[Symbol.asyncIterator])}},4674:(Bn,et,v)=>{"use strict";function e(n){return"function"==typeof n}v.d(et,{m:()=>e})},8382:(Bn,et,v)=>{"use strict";v.d(et,{c:()=>E});var e=v(4850),n=v(4674);function E(A){return(0,n.m)(A[e.L])}},3664:(Bn,et,v)=>{"use strict";v.d(et,{T:()=>E});var e=v(4971),n=v(4674);function E(A){return(0,n.m)(A?.[e.h])}},2664:(Bn,et,v)=>{"use strict";v.d(et,{b:()=>E});var e=v(5592),n=v(4674);function E(A){return!!A&&(A instanceof e.y||(0,n.m)(A.lift)&&(0,n.m)(A.subscribe))}},4026:(Bn,et,v)=>{"use strict";v.d(et,{t:()=>n});var e=v(4674);function n(E){return(0,e.m)(E?.then)}},541:(Bn,et,v)=>{"use strict";v.d(et,{L:()=>A,Q:()=>E});var e=v(7582),n=v(4674);function E(_){return(0,e.FC)(this,arguments,function*(){const w=_.getReader();try{for(;;){const{value:g,done:o}=yield(0,e.qq)(w.read());if(o)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(g)}}finally{w.releaseLock()}})}function A(_){return(0,n.m)(_?.getReader)}},671:(Bn,et,v)=>{"use strict";v.d(et,{K:()=>n});var e=v(4674);function n(E){return E&&(0,e.m)(E.schedule)}},9360:(Bn,et,v)=>{"use strict";v.d(et,{A:()=>n,e:()=>E});var e=v(4674);function n(A){return(0,e.m)(A?.lift)}function E(A){return _=>{if(n(_))return _.lift(function(I){try{return A(I,this)}catch(w){this.error(w)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Bn,et,v)=>{"use strict";v.d(et,{Z:()=>A});var e=v(7398);const{isArray:n}=Array;function A(_){return(0,e.U)(I=>function E(_,I){return n(I)?_(...I):_(I)}(_,I))}},2420:(Bn,et,v)=>{"use strict";function e(){}v.d(et,{Z:()=>e})},8407:(Bn,et,v)=>{"use strict";v.d(et,{U:()=>E,z:()=>n});var e=v(2737);function n(...A){return E(A)}function E(A){return 0===A.length?e.y:1===A.length?A[0]:function(I){return A.reduce((w,g)=>g(w),I)}}},3894:(Bn,et,v)=>{"use strict";v.d(et,{h:()=>E});var e=v(2653),n=v(7599);function E(A){n.z.setTimeout(()=>{const{onUnhandledError:_}=e.config;if(!_)throw A;_(A)})}},9853:(Bn,et,v)=>{"use strict";function e(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}v.d(et,{z:()=>e})},2372:(Bn,et,v)=>{"use strict";v.d(et,{Z:()=>m});var e,n=new Uint8Array(16);function E(){if(!e&&!(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var w=[],g=0;g<256;++g)w.push((g+256).toString(16).substr(1));const d=function o(y){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=(w[y[k+0]]+w[y[k+1]]+w[y[k+2]]+w[y[k+3]]+"-"+w[y[k+4]]+w[y[k+5]]+"-"+w[y[k+6]]+w[y[k+7]]+"-"+w[y[k+8]]+w[y[k+9]]+"-"+w[y[k+10]]+w[y[k+11]]+w[y[k+12]]+w[y[k+13]]+w[y[k+14]]+w[y[k+15]]).toLowerCase();if(!function _(y){return"string"==typeof y&&A.test(y)}(P))throw TypeError("Stringified UUID is invalid");return P},m=function u(y,k,P){var B=(y=y||{}).random||(y.rng||E)();if(B[6]=15&B[6]|64,B[8]=63&B[8]|128,k){P=P||0;for(var F=0;F<16;++F)k[P+F]=B[F];return k}return d(B)}},6825:(Bn,et,v)=>{"use strict";v.d(et,{F4:()=>d,IO:()=>P,LC:()=>n,SB:()=>o,X$:()=>A,ZE:()=>R,ZN:()=>F,_j:()=>e,eR:()=>u,jt:()=>_,k1:()=>D,l3:()=>E,oB:()=>g,pV:()=>y,ru:()=>I,vP:()=>w});class e{}class n{}const E="*";function A(T,C){return{type:7,name:T,definitions:C,options:{}}}function _(T,C=null){return{type:4,styles:C,timings:T}}function I(T,C=null){return{type:3,steps:T,options:C}}function w(T,C=null){return{type:2,steps:T,options:C}}function g(T){return{type:6,styles:T,offset:null}}function o(T,C,O){return{type:0,name:T,styles:C,options:O}}function d(T){return{type:5,steps:T}}function u(T,C,O=null){return{type:1,expr:T,animation:C,options:O}}function y(T=null){return{type:9,options:T}}function P(T,C,O=null){return{type:11,selector:T,animation:C,options:O}}class F{constructor(C=0,O=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=C+O}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}onStart(C){this._originalOnStartFns.push(C),this._onStartFns.push(C)}onDone(C){this._originalOnDoneFns.push(C),this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(C=>C()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(C){this._position=this.totalTime?C*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(C){const O="start"==C?this._onStartFns:this._onDoneFns;O.forEach(M=>M()),O.length=0}}class R{constructor(C){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=C;let O=0,M=0,G=0;const Z=this.players.length;0==Z?queueMicrotask(()=>this._onFinish()):this.players.forEach(ee=>{ee.onDone(()=>{++O==Z&&this._onFinish()}),ee.onDestroy(()=>{++M==Z&&this._onDestroy()}),ee.onStart(()=>{++G==Z&&this._onStart()})}),this.totalTime=this.players.reduce((ee,ae)=>Math.max(ee,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this.players.forEach(C=>C.init())}onStart(C){this._onStartFns.push(C)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(C=>C()),this._onStartFns=[])}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(C=>C.play())}pause(){this.players.forEach(C=>C.pause())}restart(){this.players.forEach(C=>C.restart())}finish(){this._onFinish(),this.players.forEach(C=>C.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(C=>C.destroy()),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}reset(){this.players.forEach(C=>C.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(C){const O=C*this.totalTime;this.players.forEach(M=>{const G=M.totalTime?Math.min(1,O/M.totalTime):1;M.setPosition(G)})}getPosition(){const C=this.players.reduce((O,M)=>null===O||M.totalTime>O.totalTime?M:O,null);return null!=C?C.getPosition():0}beforeDestroy(){this.players.forEach(C=>{C.beforeDestroy&&C.beforeDestroy()})}triggerCallback(C){const O="start"==C?this._onStartFns:this._onDoneFns;O.forEach(M=>M()),O.length=0}}const D="!"},4300:(Bn,et,v)=>{"use strict";v.d(et,{$s:()=>Ae,Kd:()=>ze,X6:()=>ne,Zf:()=>C,iD:()=>O,ic:()=>xe,kH:()=>yt,mK:()=>oe,qV:()=>K,qm:()=>cn,rt:()=>nn,s1:()=>ve,tE:()=>Ve,yG:()=>J});var e=v(6814),n=v(5879),E=v(2831),A=v(8645),_=v(7394),I=v(5619),w=v(2096),g=v(6028),o=v(9397),d=v(3620),u=v(2181),m=v(7398),y=v(8180),k=v(836),P=v(3997),B=v(9773),F=v(2495),R=v(7131),D=v(1088);const T=" ";function C(Mt,gt,Qe){const Fe=M(Mt,gt);Fe.some(ke=>ke.trim()==Qe.trim())||(Fe.push(Qe.trim()),Mt.setAttribute(gt,Fe.join(T)))}function O(Mt,gt,Qe){const ke=M(Mt,gt).filter(it=>it!=Qe.trim());ke.length?Mt.setAttribute(gt,ke.join(T)):Mt.removeAttribute(gt)}function M(Mt,gt){return(Mt.getAttribute(gt)||"").match(/\S+/g)||[]}const Z="cdk-describedby-message",ee="cdk-describedby-host";let ae=0,Ae=(()=>{class Mt{constructor(Qe,Fe){this._platform=Fe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ae++,this._document=Qe,this._id=(0,n.f3M)(n.AFp)+"-"+ae++}describe(Qe,Fe,ke){if(!this._canBeDescribed(Qe,Fe))return;const it=j(Fe,ke);"string"!=typeof Fe?(le(Fe,this._id),this._messageRegistry.set(it,{messageElement:Fe,referenceCount:0})):this._messageRegistry.has(it)||this._createMessageElement(Fe,ke),this._isElementDescribedByMessage(Qe,it)||this._addMessageReference(Qe,it)}removeDescription(Qe,Fe,ke){if(!Fe||!this._isElementNode(Qe))return;const it=j(Fe,ke);if(this._isElementDescribedByMessage(Qe,it)&&this._removeMessageReference(Qe,it),"string"==typeof Fe){const ot=this._messageRegistry.get(it);ot&&0===ot.referenceCount&&this._deleteMessageElement(it)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Qe=this._document.querySelectorAll(`[${ee}="${this._id}"]`);for(let Fe=0;Fe<Qe.length;Fe++)this._removeCdkDescribedByReferenceIds(Qe[Fe]),Qe[Fe].removeAttribute(ee);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Qe,Fe){const ke=this._document.createElement("div");le(ke,this._id),ke.textContent=Qe,Fe&&ke.setAttribute("role",Fe),this._createMessagesContainer(),this._messagesContainer.appendChild(ke),this._messageRegistry.set(j(Qe,Fe),{messageElement:ke,referenceCount:0})}_deleteMessageElement(Qe){this._messageRegistry.get(Qe)?.messageElement?.remove(),this._messageRegistry.delete(Qe)}_createMessagesContainer(){if(this._messagesContainer)return;const Qe="cdk-describedby-message-container",Fe=this._document.querySelectorAll(`.${Qe}[platform="server"]`);for(let it=0;it<Fe.length;it++)Fe[it].remove();const ke=this._document.createElement("div");ke.style.visibility="hidden",ke.classList.add(Qe),ke.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ke.setAttribute("platform","server"),this._document.body.appendChild(ke),this._messagesContainer=ke}_removeCdkDescribedByReferenceIds(Qe){const Fe=M(Qe,"aria-describedby").filter(ke=>0!=ke.indexOf(Z));Qe.setAttribute("aria-describedby",Fe.join(" "))}_addMessageReference(Qe,Fe){const ke=this._messageRegistry.get(Fe);C(Qe,"aria-describedby",ke.messageElement.id),Qe.setAttribute(ee,this._id),ke.referenceCount++}_removeMessageReference(Qe,Fe){const ke=this._messageRegistry.get(Fe);ke.referenceCount--,O(Qe,"aria-describedby",ke.messageElement.id),Qe.removeAttribute(ee)}_isElementDescribedByMessage(Qe,Fe){const ke=M(Qe,"aria-describedby"),it=this._messageRegistry.get(Fe),ot=it&&it.messageElement.id;return!!ot&&-1!=ke.indexOf(ot)}_canBeDescribed(Qe,Fe){if(!this._isElementNode(Qe))return!1;if(Fe&&"object"==typeof Fe)return!0;const ke=null==Fe?"":`${Fe}`.trim(),it=Qe.getAttribute("aria-label");return!(!ke||it&&it.trim()===ke)}_isElementNode(Qe){return Qe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(e.K0),n.LFG(E.t4))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();function j(Mt,gt){return"string"==typeof Mt?`${gt||""}/${Mt}`:Mt}function le(Mt,gt){Mt.id||(Mt.id=`${Z}-${gt}-${ae++}`)}class Y{constructor(gt){this._items=gt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new A.x,this._typeaheadSubscription=_.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Qe=>Qe.disabled,this._pressedLetters=[],this.tabOut=new A.x,this.change=new A.x,gt instanceof n.n_E&&(this._itemChangesSubscription=gt.changes.subscribe(Qe=>{if(this._activeItem){const ke=Qe.toArray().indexOf(this._activeItem);ke>-1&&ke!==this._activeItemIndex&&(this._activeItemIndex=ke)}}))}skipPredicate(gt){return this._skipPredicateFn=gt,this}withWrap(gt=!0){return this._wrap=gt,this}withVerticalOrientation(gt=!0){return this._vertical=gt,this}withHorizontalOrientation(gt){return this._horizontal=gt,this}withAllowedModifierKeys(gt){return this._allowedModifierKeys=gt,this}withTypeAhead(gt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,o.b)(Qe=>this._pressedLetters.push(Qe)),(0,d.b)(gt),(0,u.h)(()=>this._pressedLetters.length>0),(0,m.U)(()=>this._pressedLetters.join(""))).subscribe(Qe=>{const Fe=this._getItemsArray();for(let ke=1;ke<Fe.length+1;ke++){const it=(this._activeItemIndex+ke)%Fe.length,ot=Fe[it];if(!this._skipPredicateFn(ot)&&0===ot.getLabel().toUpperCase().trim().indexOf(Qe)){this.setActiveItem(it);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(gt=!0){return this._homeAndEnd=gt,this}withPageUpDown(gt=!0,Qe=10){return this._pageUpAndDown={enabled:gt,delta:Qe},this}setActiveItem(gt){const Qe=this._activeItem;this.updateActiveItem(gt),this._activeItem!==Qe&&this.change.next(this._activeItemIndex)}onKeydown(gt){const Qe=gt.keyCode,ke=["altKey","ctrlKey","metaKey","shiftKey"].every(it=>!gt[it]||this._allowedModifierKeys.indexOf(it)>-1);switch(Qe){case g.Mf:return void this.tabOut.next();case g.JH:if(this._vertical&&ke){this.setNextItemActive();break}return;case g.LH:if(this._vertical&&ke){this.setPreviousItemActive();break}return;case g.SV:if(this._horizontal&&ke){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case g.oh:if(this._horizontal&&ke){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case g.Sd:if(this._homeAndEnd&&ke){this.setFirstItemActive();break}return;case g.uR:if(this._homeAndEnd&&ke){this.setLastItemActive();break}return;case g.Ku:if(this._pageUpAndDown.enabled&&ke){const it=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(it>0?it:0,1);break}return;case g.VM:if(this._pageUpAndDown.enabled&&ke){const it=this._activeItemIndex+this._pageUpAndDown.delta,ot=this._getItemsArray().length;this._setActiveItemByIndex(it<ot?it:ot-1,-1);break}return;default:return void((ke||(0,g.Vb)(gt,"shiftKey"))&&(gt.key&&1===gt.key.length?this._letterKeyStream.next(gt.key.toLocaleUpperCase()):(Qe>=g.A&&Qe<=g.Z||Qe>=g.xE&&Qe<=g.aO)&&this._letterKeyStream.next(String.fromCharCode(Qe))))}this._pressedLetters=[],gt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(gt){const Qe=this._getItemsArray(),Fe="number"==typeof gt?gt:Qe.indexOf(gt);this._activeItem=Qe[Fe]??null,this._activeItemIndex=Fe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(gt){this._wrap?this._setActiveInWrapMode(gt):this._setActiveInDefaultMode(gt)}_setActiveInWrapMode(gt){const Qe=this._getItemsArray();for(let Fe=1;Fe<=Qe.length;Fe++){const ke=(this._activeItemIndex+gt*Fe+Qe.length)%Qe.length;if(!this._skipPredicateFn(Qe[ke]))return void this.setActiveItem(ke)}}_setActiveInDefaultMode(gt){this._setActiveItemByIndex(this._activeItemIndex+gt,gt)}_setActiveItemByIndex(gt,Qe){const Fe=this._getItemsArray();if(Fe[gt]){for(;this._skipPredicateFn(Fe[gt]);)if(!Fe[gt+=Qe])return;this.setActiveItem(gt)}}_getItemsArray(){return this._items instanceof n.n_E?this._items.toArray():this._items}}class ve extends Y{setActiveItem(gt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(gt),this.activeItem&&this.activeItem.setActiveStyles()}}let xe=(()=>{class Mt{constructor(Qe){this._platform=Qe}isDisabled(Qe){return Qe.hasAttribute("disabled")}isVisible(Qe){return function ge(Mt){return!!(Mt.offsetWidth||Mt.offsetHeight||"function"==typeof Mt.getClientRects&&Mt.getClientRects().length)}(Qe)&&"visible"===getComputedStyle(Qe).visibility}isTabbable(Qe){if(!this._platform.isBrowser)return!1;const Fe=function Ge(Mt){try{return Mt.frameElement}catch{return null}}(function be(Mt){return Mt.ownerDocument&&Mt.ownerDocument.defaultView||window}(Qe));if(Fe&&(-1===Ue(Fe)||!this.isVisible(Fe)))return!1;let ke=Qe.nodeName.toLowerCase(),it=Ue(Qe);return Qe.hasAttribute("contenteditable")?-1!==it:!("iframe"===ke||"object"===ke||this._platform.WEBKIT&&this._platform.IOS&&!function lt(Mt){let gt=Mt.nodeName.toLowerCase(),Qe="input"===gt&&Mt.type;return"text"===Qe||"password"===Qe||"select"===gt||"textarea"===gt}(Qe))&&("audio"===ke?!!Qe.hasAttribute("controls")&&-1!==it:"video"===ke?-1!==it&&(null!==it||this._platform.FIREFOX||Qe.hasAttribute("controls")):Qe.tabIndex>=0)}isFocusable(Qe,Fe){return function He(Mt){return!function Le(Mt){return function we(Mt){return"input"==Mt.nodeName.toLowerCase()}(Mt)&&"hidden"==Mt.type}(Mt)&&(function Ce(Mt){let gt=Mt.nodeName.toLowerCase();return"input"===gt||"select"===gt||"button"===gt||"textarea"===gt}(Mt)||function fe(Mt){return function Te(Mt){return"a"==Mt.nodeName.toLowerCase()}(Mt)&&Mt.hasAttribute("href")}(Mt)||Mt.hasAttribute("contenteditable")||De(Mt))}(Qe)&&!this.isDisabled(Qe)&&(Fe?.ignoreVisibility||this.isVisible(Qe))}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(E.t4))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();function De(Mt){if(!Mt.hasAttribute("tabindex")||void 0===Mt.tabIndex)return!1;let gt=Mt.getAttribute("tabindex");return!(!gt||isNaN(parseInt(gt,10)))}function Ue(Mt){if(!De(Mt))return null;const gt=parseInt(Mt.getAttribute("tabindex")||"",10);return isNaN(gt)?-1:gt}class _e{get enabled(){return this._enabled}set enabled(gt){this._enabled=gt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(gt,this._startAnchor),this._toggleAnchorTabIndex(gt,this._endAnchor))}constructor(gt,Qe,Fe,ke,it=!1){this._element=gt,this._checker=Qe,this._ngZone=Fe,this._document=ke,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,it||this.attachAnchors()}destroy(){const gt=this._startAnchor,Qe=this._endAnchor;gt&&(gt.removeEventListener("focus",this.startAnchorListener),gt.remove()),Qe&&(Qe.removeEventListener("focus",this.endAnchorListener),Qe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(gt){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusInitialElement(gt)))})}focusFirstTabbableElementWhenReady(gt){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusFirstTabbableElement(gt)))})}focusLastTabbableElementWhenReady(gt){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusLastTabbableElement(gt)))})}_getRegionBoundary(gt){const Qe=this._element.querySelectorAll(`[cdk-focus-region-${gt}], [cdkFocusRegion${gt}], [cdk-focus-${gt}]`);return"start"==gt?Qe.length?Qe[0]:this._getFirstTabbableElement(this._element):Qe.length?Qe[Qe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(gt){const Qe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Qe){if(!this._checker.isFocusable(Qe)){const Fe=this._getFirstTabbableElement(Qe);return Fe?.focus(gt),!!Fe}return Qe.focus(gt),!0}return this.focusFirstTabbableElement(gt)}focusFirstTabbableElement(gt){const Qe=this._getRegionBoundary("start");return Qe&&Qe.focus(gt),!!Qe}focusLastTabbableElement(gt){const Qe=this._getRegionBoundary("end");return Qe&&Qe.focus(gt),!!Qe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(gt){if(this._checker.isFocusable(gt)&&this._checker.isTabbable(gt))return gt;const Qe=gt.children;for(let Fe=0;Fe<Qe.length;Fe++){const ke=Qe[Fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Qe[Fe]):null;if(ke)return ke}return null}_getLastTabbableElement(gt){if(this._checker.isFocusable(gt)&&this._checker.isTabbable(gt))return gt;const Qe=gt.children;for(let Fe=Qe.length-1;Fe>=0;Fe--){const ke=Qe[Fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Qe[Fe]):null;if(ke)return ke}return null}_createAnchor(){const gt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,gt),gt.classList.add("cdk-visually-hidden"),gt.classList.add("cdk-focus-trap-anchor"),gt.setAttribute("aria-hidden","true"),gt}_toggleAnchorTabIndex(gt,Qe){gt?Qe.setAttribute("tabindex","0"):Qe.removeAttribute("tabindex")}toggleAnchors(gt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(gt,this._startAnchor),this._toggleAnchorTabIndex(gt,this._endAnchor))}_executeOnStable(gt){this._ngZone.isStable?gt():this._ngZone.onStable.pipe((0,y.q)(1)).subscribe(gt)}}let K=(()=>{class Mt{constructor(Qe,Fe,ke){this._checker=Qe,this._ngZone=Fe,this._document=ke}create(Qe,Fe=!1){return new _e(Qe,this._checker,this._ngZone,this._document,Fe)}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(xe),n.LFG(n.R0b),n.LFG(e.K0))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})(),oe=(()=>{class Mt{get enabled(){return this.focusTrap.enabled}set enabled(Qe){this.focusTrap.enabled=(0,F.Ig)(Qe)}get autoCapture(){return this._autoCapture}set autoCapture(Qe){this._autoCapture=(0,F.Ig)(Qe)}constructor(Qe,Fe,ke){this._elementRef=Qe,this._focusTrapFactory=Fe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Qe){const Fe=Qe.autoCapture;Fe&&!Fe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,E.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.Y36(n.SBq),n.Y36(K),n.Y36(e.K0))};static#t=this.\u0275dir=n.lG2({type:Mt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[n.TTD]})}return Mt})();function ne(Mt){return 0===Mt.buttons||0===Mt.offsetX&&0===Mt.offsetY}function J(Mt){const gt=Mt.touches&&Mt.touches[0]||Mt.changedTouches&&Mt.changedTouches[0];return!(!gt||-1!==gt.identifier||null!=gt.radiusX&&1!==gt.radiusX||null!=gt.radiusY&&1!==gt.radiusY)}const q=new n.OlP("cdk-input-modality-detector-options"),me={ignoreKeys:[g.zL,g.jx,g.b2,g.MW,g.JU]},ye=(0,E.i$)({passive:!0,capture:!0});let Ne=(()=>{class Mt{get mostRecentModality(){return this._modality.value}constructor(Qe,Fe,ke,it){this._platform=Qe,this._mostRecentTarget=null,this._modality=new I.X(null),this._lastTouchMs=0,this._onKeydown=ot=>{this._options?.ignoreKeys?.some(ft=>ft===ot.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(ot))},this._onMousedown=ot=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ne(ot)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(ot))},this._onTouchstart=ot=>{J(ot)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(ot))},this._options={...me,...it},this.modalityDetected=this._modality.pipe((0,k.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,P.x)()),Qe.isBrowser&&Fe.runOutsideAngular(()=>{ke.addEventListener("keydown",this._onKeydown,ye),ke.addEventListener("mousedown",this._onMousedown,ye),ke.addEventListener("touchstart",this._onTouchstart,ye)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ye),document.removeEventListener("mousedown",this._onMousedown,ye),document.removeEventListener("touchstart",this._onTouchstart,ye))}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(E.t4),n.LFG(n.R0b),n.LFG(e.K0),n.LFG(q,8))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();const tt=new n.OlP("liveAnnouncerElement",{providedIn:"root",factory:function qe(){return null}}),Xe=new n.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ut=0,ze=(()=>{class Mt{constructor(Qe,Fe,ke,it){this._ngZone=Fe,this._defaultOptions=it,this._document=ke,this._liveElement=Qe||this._createLiveElement()}announce(Qe,...Fe){const ke=this._defaultOptions;let it,ot;return 1===Fe.length&&"number"==typeof Fe[0]?ot=Fe[0]:[it,ot]=Fe,this.clear(),clearTimeout(this._previousTimeout),it||(it=ke&&ke.politeness?ke.politeness:"polite"),null==ot&&ke&&(ot=ke.duration),this._liveElement.setAttribute("aria-live",it),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ft=>this._currentResolve=ft)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Qe,"number"==typeof ot&&(this._previousTimeout=setTimeout(()=>this.clear(),ot)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Qe="cdk-live-announcer-element",Fe=this._document.getElementsByClassName(Qe),ke=this._document.createElement("div");for(let it=0;it<Fe.length;it++)Fe[it].remove();return ke.classList.add(Qe),ke.classList.add("cdk-visually-hidden"),ke.setAttribute("aria-atomic","true"),ke.setAttribute("aria-live","polite"),ke.id="cdk-live-announcer-"+ut++,this._document.body.appendChild(ke),ke}_exposeAnnouncerToModals(Qe){const Fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ke=0;ke<Fe.length;ke++){const it=Fe[ke],ot=it.getAttribute("aria-owns");ot?-1===ot.indexOf(Qe)&&it.setAttribute("aria-owns",ot+" "+Qe):it.setAttribute("aria-owns",Qe)}}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(tt,8),n.LFG(n.R0b),n.LFG(e.K0),n.LFG(Xe,8))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();const vt=new n.OlP("cdk-focus-monitor-default-options"),ce=(0,E.i$)({passive:!0,capture:!0});let Ve=(()=>{class Mt{constructor(Qe,Fe,ke,it,ot){this._ngZone=Qe,this._platform=Fe,this._inputModalityDetector=ke,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new A.x,this._rootNodeFocusAndBlurListener=ft=>{for(let Et=(0,E.sA)(ft);Et;Et=Et.parentElement)"focus"===ft.type?this._onFocus(ft,Et):this._onBlur(ft,Et)},this._document=it,this._detectionMode=ot?.detectionMode||0}monitor(Qe,Fe=!1){const ke=(0,F.fI)(Qe);if(!this._platform.isBrowser||1!==ke.nodeType)return(0,w.of)();const it=(0,E.kV)(ke)||this._getDocument(),ot=this._elementInfo.get(ke);if(ot)return Fe&&(ot.checkChildren=!0),ot.subject;const ft={checkChildren:Fe,subject:new A.x,rootNode:it};return this._elementInfo.set(ke,ft),this._registerGlobalListeners(ft),ft.subject}stopMonitoring(Qe){const Fe=(0,F.fI)(Qe),ke=this._elementInfo.get(Fe);ke&&(ke.subject.complete(),this._setClasses(Fe),this._elementInfo.delete(Fe),this._removeGlobalListeners(ke))}focusVia(Qe,Fe,ke){const it=(0,F.fI)(Qe);it===this._getDocument().activeElement?this._getClosestElementsInfo(it).forEach(([ft,mt])=>this._originChanged(ft,Fe,mt)):(this._setOrigin(Fe),"function"==typeof it.focus&&it.focus(ke))}ngOnDestroy(){this._elementInfo.forEach((Qe,Fe)=>this.stopMonitoring(Fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Qe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Qe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Qe&&this._isLastInteractionFromInputLabel(Qe)?"mouse":"program"}_shouldBeAttributedToTouch(Qe){return 1===this._detectionMode||!!Qe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Qe,Fe){Qe.classList.toggle("cdk-focused",!!Fe),Qe.classList.toggle("cdk-touch-focused","touch"===Fe),Qe.classList.toggle("cdk-keyboard-focused","keyboard"===Fe),Qe.classList.toggle("cdk-mouse-focused","mouse"===Fe),Qe.classList.toggle("cdk-program-focused","program"===Fe)}_setOrigin(Qe,Fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Qe,this._originFromTouchInteraction="touch"===Qe&&Fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Qe,Fe){const ke=this._elementInfo.get(Fe),it=(0,E.sA)(Qe);!ke||!ke.checkChildren&&Fe!==it||this._originChanged(Fe,this._getFocusOrigin(it),ke)}_onBlur(Qe,Fe){const ke=this._elementInfo.get(Fe);!ke||ke.checkChildren&&Qe.relatedTarget instanceof Node&&Fe.contains(Qe.relatedTarget)||(this._setClasses(Fe),this._emitOrigin(ke,null))}_emitOrigin(Qe,Fe){Qe.subject.observers.length&&this._ngZone.run(()=>Qe.subject.next(Fe))}_registerGlobalListeners(Qe){if(!this._platform.isBrowser)return;const Fe=Qe.rootNode,ke=this._rootNodeFocusListenerCount.get(Fe)||0;ke||this._ngZone.runOutsideAngular(()=>{Fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,ce),Fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,ce)}),this._rootNodeFocusListenerCount.set(Fe,ke+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,B.R)(this._stopInputModalityDetector)).subscribe(it=>{this._setOrigin(it,!0)}))}_removeGlobalListeners(Qe){const Fe=Qe.rootNode;if(this._rootNodeFocusListenerCount.has(Fe)){const ke=this._rootNodeFocusListenerCount.get(Fe);ke>1?this._rootNodeFocusListenerCount.set(Fe,ke-1):(Fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ce),Fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ce),this._rootNodeFocusListenerCount.delete(Fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Qe,Fe,ke){this._setClasses(Qe,Fe),this._emitOrigin(ke,Fe),this._lastFocusOrigin=Fe}_getClosestElementsInfo(Qe){const Fe=[];return this._elementInfo.forEach((ke,it)=>{(it===Qe||ke.checkChildren&&it.contains(Qe))&&Fe.push([it,ke])}),Fe}_isLastInteractionFromInputLabel(Qe){const{_mostRecentTarget:Fe,mostRecentModality:ke}=this._inputModalityDetector;if("mouse"!==ke||!Fe||Fe===Qe||"INPUT"!==Qe.nodeName&&"TEXTAREA"!==Qe.nodeName||Qe.disabled)return!1;const it=Qe.labels;if(it)for(let ot=0;ot<it.length;ot++)if(it[ot].contains(Fe))return!0;return!1}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(n.R0b),n.LFG(E.t4),n.LFG(Ne),n.LFG(e.K0,8),n.LFG(vt,8))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})(),yt=(()=>{class Mt{constructor(Qe,Fe){this._elementRef=Qe,this._focusMonitor=Fe,this._focusOrigin=null,this.cdkFocusChange=new n.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Qe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Qe,1===Qe.nodeType&&Qe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Fe=>{this._focusOrigin=Fe,this.cdkFocusChange.emit(Fe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.Y36(n.SBq),n.Y36(Ve))};static#t=this.\u0275dir=n.lG2({type:Mt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return Mt})();const Bt="cdk-high-contrast-black-on-white",zt="cdk-high-contrast-white-on-black",Yt="cdk-high-contrast-active";let cn=(()=>{class Mt{constructor(Qe,Fe){this._platform=Qe,this._document=Fe,this._breakpointSubscription=(0,n.f3M)(D.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Qe=this._document.createElement("div");Qe.style.backgroundColor="rgb(1,2,3)",Qe.style.position="absolute",this._document.body.appendChild(Qe);const Fe=this._document.defaultView||window,ke=Fe&&Fe.getComputedStyle?Fe.getComputedStyle(Qe):null,it=(ke&&ke.backgroundColor||"").replace(/ /g,"");switch(Qe.remove(),it){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Qe=this._document.body.classList;Qe.remove(Yt,Bt,zt),this._hasCheckedHighContrastMode=!0;const Fe=this.getHighContrastMode();1===Fe?Qe.add(Yt,Bt):2===Fe&&Qe.add(Yt,zt)}}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(E.t4),n.LFG(e.K0))};static#t=this.\u0275prov=n.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})(),nn=(()=>{class Mt{constructor(Qe){Qe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(n.LFG(cn))};static#t=this.\u0275mod=n.oAB({type:Mt});static#n=this.\u0275inj=n.cJS({imports:[R.Q8]})}return Mt})()},9388:(Bn,et,v)=>{"use strict";v.d(et,{Is:()=>w,vT:()=>o});var e=v(5879),n=v(6814);const E=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function A(){return(0,e.f3M)(n.K0)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let w=(()=>{class d{constructor(m){this.value="ltr",this.change=new e.vpe,m&&(this.value=function I(d){const u=d?.toLowerCase()||"";return"auto"===u&&typeof navigator<"u"&&navigator?.language?_.test(navigator.language)?"rtl":"ltr":"rtl"===u?"rtl":"ltr"}((m.body?m.body.dir:null)||(m.documentElement?m.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(y){return new(y||d)(e.LFG(E,8))};static#t=this.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),o=(()=>{class d{static#e=this.\u0275fac=function(y){return new(y||d)};static#t=this.\u0275mod=e.oAB({type:d});static#n=this.\u0275inj=e.cJS({})}return d})()},2495:(Bn,et,v)=>{"use strict";v.d(et,{Eq:()=>_,HM:()=>I,Ig:()=>n,du:()=>g,fI:()=>w,su:()=>E,t6:()=>A});var e=v(5879);function n(o){return null!=o&&"false"!=`${o}`}function E(o,d=0){return A(o)?Number(o):d}function A(o){return!isNaN(parseFloat(o))&&!isNaN(Number(o))}function _(o){return Array.isArray(o)?o:[o]}function I(o){return null==o?"":"string"==typeof o?o:`${o}px`}function w(o){return o instanceof e.SBq?o.nativeElement:o}function g(o,d=/\s+/){const u=[];if(null!=o){const m=Array.isArray(o)?o:`${o}`.split(d);for(const y of m){const k=`${y}`.trim();k&&u.push(k)}}return u}},8337:(Bn,et,v)=>{"use strict";v.d(et,{Ov:()=>o,Z9:()=>_,eX:()=>g,k:()=>m,o2:()=>A,yy:()=>w});var e=v(3168),n=v(8645),E=v(5879);class A{}function _(y){return y&&"function"==typeof y.connect&&!(y instanceof e.c)}class w{applyChanges(k,P,B,F,R){k.forEachOperation((D,T,C)=>{let O,M;if(null==D.previousIndex){const G=B(D,T,C);O=P.createEmbeddedView(G.templateRef,G.context,G.index),M=1}else null==C?(P.remove(T),M=3):(O=P.get(T),P.move(O,C),M=2);R&&R({context:O?.context,operation:M,record:D})})}detach(){}}class g{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(k,P,B,F,R){k.forEachOperation((D,T,C)=>{let O,M;null==D.previousIndex?(O=this._insertView(()=>B(D,T,C),C,P,F(D)),M=O?1:0):null==C?(this._detachAndCacheView(T,P),M=3):(O=this._moveView(T,C,P,F(D)),M=2),R&&R({context:O?.context,operation:M,record:D})})}detach(){for(const k of this._viewCache)k.destroy();this._viewCache=[]}_insertView(k,P,B,F){const R=this._insertViewFromCache(P,B);if(R)return void(R.context.$implicit=F);const D=k();return B.createEmbeddedView(D.templateRef,D.context,D.index)}_detachAndCacheView(k,P){const B=P.detach(k);this._maybeCacheView(B,P)}_moveView(k,P,B,F){const R=B.get(k);return B.move(R,P),R.context.$implicit=F,R}_maybeCacheView(k,P){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(k);else{const B=P.indexOf(k);-1===B?k.destroy():P.remove(B)}}_insertViewFromCache(k,P){const B=this._viewCache.pop();return B&&P.insert(B,k),B||null}}class o{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(k=!1,P,B=!0,F){this._multiple=k,this._emitChanges=B,this.compareWith=F,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new n.x,P&&P.length&&(k?P.forEach(R=>this._markSelected(R)):this._markSelected(P[0]),this._selectedToEmit.length=0)}select(...k){this._verifyValueAssignment(k),k.forEach(B=>this._markSelected(B));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}deselect(...k){this._verifyValueAssignment(k),k.forEach(B=>this._unmarkSelected(B));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}setSelection(...k){this._verifyValueAssignment(k);const P=this.selected,B=new Set(k);k.forEach(R=>this._markSelected(R)),P.filter(R=>!B.has(R)).forEach(R=>this._unmarkSelected(R));const F=this._hasQueuedChanges();return this._emitChangeEvent(),F}toggle(k){return this.isSelected(k)?this.deselect(k):this.select(k)}clear(k=!0){this._unmarkAll();const P=this._hasQueuedChanges();return k&&this._emitChangeEvent(),P}isSelected(k){return this._selection.has(this._getConcreteValue(k))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(k){this._multiple&&this.selected&&this._selected.sort(k)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(k){k=this._getConcreteValue(k),this.isSelected(k)||(this._multiple||this._unmarkAll(),this.isSelected(k)||this._selection.add(k),this._emitChanges&&this._selectedToEmit.push(k))}_unmarkSelected(k){k=this._getConcreteValue(k),this.isSelected(k)&&(this._selection.delete(k),this._emitChanges&&this._deselectedToEmit.push(k))}_unmarkAll(){this.isEmpty()||this._selection.forEach(k=>this._unmarkSelected(k))}_verifyValueAssignment(k){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(k){if(this.compareWith){for(let P of this._selection)if(this.compareWith(k,P))return P;return k}return k}}const m=new E.OlP("_ViewRepeater")},6028:(Bn,et,v)=>{"use strict";v.d(et,{A:()=>Le,JH:()=>T,JU:()=>I,K5:()=>_,Ku:()=>y,LH:()=>R,L_:()=>m,MW:()=>Xe,Mf:()=>E,SV:()=>D,Sd:()=>B,VM:()=>k,Vb:()=>Dt,Z:()=>qe,aO:()=>Se,b2:()=>Pt,hY:()=>u,jx:()=>w,oh:()=>F,uR:()=>P,xE:()=>Z,zL:()=>g});const E=9,_=13,I=16,w=17,g=18,u=27,m=32,y=33,k=34,P=35,B=36,F=37,R=38,D=39,T=40,Z=48,Se=57,Le=65,qe=90,Xe=91,Pt=224;function Dt(Xt,...Mn){return Mn.length?Mn.some(ai=>Xt[ai]):Xt.altKey||Xt.shiftKey||Xt.ctrlKey||Xt.metaKey}},1088:(Bn,et,v)=>{"use strict";v.d(et,{Yg:()=>T,u3:()=>O});var e=v(5879),n=v(2495),E=v(8645),A=v(2572),_=v(5211),I=v(5592),w=v(8180),g=v(836),o=v(3620),d=v(7398),u=v(7921),m=v(9773),y=v(2831);const P=new Set;let B,F=(()=>{class M{constructor(Z,ee){this._platform=Z,this._nonce=ee,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D}matchMedia(Z){return(this._platform.WEBKIT||this._platform.BLINK)&&function R(M,G){if(!P.has(M))try{B||(B=document.createElement("style"),G&&(B.nonce=G),B.setAttribute("type","text/css"),document.head.appendChild(B)),B.sheet&&(B.sheet.insertRule(`@media ${M} {body{ }}`,0),P.add(M))}catch(Z){console.error(Z)}}(Z,this._nonce),this._matchMedia(Z)}static#e=this.\u0275fac=function(ee){return new(ee||M)(e.LFG(y.t4),e.LFG(e.Ojb,8))};static#t=this.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function D(M){return{matches:"all"===M||""===M,media:M,addListener:()=>{},removeListener:()=>{}}}let T=(()=>{class M{constructor(Z,ee){this._mediaMatcher=Z,this._zone=ee,this._queries=new Map,this._destroySubject=new E.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Z){return C((0,n.Eq)(Z)).some(ae=>this._registerQuery(ae).mql.matches)}observe(Z){const ae=C((0,n.Eq)(Z)).map(j=>this._registerQuery(j).observable);let Ae=(0,A.a)(ae);return Ae=(0,_.z)(Ae.pipe((0,w.q)(1)),Ae.pipe((0,g.T)(1),(0,o.b)(0))),Ae.pipe((0,d.U)(j=>{const le={matches:!1,breakpoints:{}};return j.forEach(({matches:Y,query:ve})=>{le.matches=le.matches||Y,le.breakpoints[ve]=Y}),le}))}_registerQuery(Z){if(this._queries.has(Z))return this._queries.get(Z);const ee=this._mediaMatcher.matchMedia(Z),Ae={observable:new I.y(j=>{const le=Y=>this._zone.run(()=>j.next(Y));return ee.addListener(le),()=>{ee.removeListener(le)}}).pipe((0,u.O)(ee),(0,d.U)(({matches:j})=>({query:Z,matches:j})),(0,m.R)(this._destroySubject)),mql:ee};return this._queries.set(Z,Ae),Ae}static#e=this.\u0275fac=function(ee){return new(ee||M)(e.LFG(F),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function C(M){return M.map(G=>G.split(",")).reduce((G,Z)=>G.concat(Z)).map(G=>G.trim())}const O={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Bn,et,v)=>{"use strict";v.d(et,{Q8:()=>_});var e=v(5879);let n=(()=>{class I{create(g){return typeof MutationObserver>"u"?null:new MutationObserver(g)}static#e=this.\u0275fac=function(o){return new(o||I)};static#t=this.\u0275prov=e.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),_=(()=>{class I{static#e=this.\u0275fac=function(o){return new(o||I)};static#t=this.\u0275mod=e.oAB({type:I});static#n=this.\u0275inj=e.cJS({providers:[n]})}return I})()},3651:(Bn,et,v)=>{"use strict";v.d(et,{pI:()=>X,xu:()=>Q,_G:()=>fe,aV:()=>oe,X_:()=>ae,Xj:()=>Ge,U8:()=>J,Iu:()=>ge});var e=v(799),n=v(6814),E=v(5879),A=v(2495),_=v(2831),I=v(2181),w=v(8180),g=v(9773),o=v(9360),d=v(8251),m=v(9388),y=v(8484),k=v(8645),P=v(7394),B=v(3019),F=v(6028);const R=(0,_.Mq)();class D{constructor(Ee,ye){this._viewportRuler=Ee,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ye}attach(){}enable(){if(this._canBeEnabled()){const Ee=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ee.style.left||"",this._previousHTMLStyles.top=Ee.style.top||"",Ee.style.left=(0,A.HM)(-this._previousScrollPosition.left),Ee.style.top=(0,A.HM)(-this._previousScrollPosition.top),Ee.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ee=this._document.documentElement,Ne=Ee.style,tt=this._document.body.style,qe=Ne.scrollBehavior||"",Xe=tt.scrollBehavior||"";this._isEnabled=!1,Ne.left=this._previousHTMLStyles.left,Ne.top=this._previousHTMLStyles.top,Ee.classList.remove("cdk-global-scrollblock"),R&&(Ne.scrollBehavior=tt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),R&&(Ne.scrollBehavior=qe,tt.scrollBehavior=Xe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ye=this._document.body,Ne=this._viewportRuler.getViewportSize();return ye.scrollHeight>Ne.height||ye.scrollWidth>Ne.width}}class C{constructor(Ee,ye,Ne,tt){this._scrollDispatcher=Ee,this._ngZone=ye,this._viewportRuler=Ne,this._config=tt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ee){this._overlayRef=Ee}enable(){if(this._scrollSubscription)return;const Ee=this._scrollDispatcher.scrolled(0).pipe((0,I.h)(ye=>!ye||!this._overlayRef.overlayElement.contains(ye.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ee.subscribe(()=>{const ye=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ye-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ee.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class O{enable(){}disable(){}attach(){}}function M(me,Ee){return Ee.some(ye=>me.bottom<ye.top||me.top>ye.bottom||me.right<ye.left||me.left>ye.right)}function G(me,Ee){return Ee.some(ye=>me.top<ye.top||me.bottom>ye.bottom||me.left<ye.left||me.right>ye.right)}class Z{constructor(Ee,ye,Ne,tt){this._scrollDispatcher=Ee,this._viewportRuler=ye,this._ngZone=Ne,this._config=tt,this._scrollSubscription=null}attach(Ee){this._overlayRef=Ee}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ye=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ne,height:tt}=this._viewportRuler.getViewportSize();M(ye,[{width:Ne,height:tt,bottom:tt,right:Ne,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ee=(()=>{class me{constructor(ye,Ne,tt,qe){this._scrollDispatcher=ye,this._viewportRuler=Ne,this._ngZone=tt,this.noop=()=>new O,this.close=Xe=>new C(this._scrollDispatcher,this._ngZone,this._viewportRuler,Xe),this.block=()=>new D(this._viewportRuler,this._document),this.reposition=Xe=>new Z(this._scrollDispatcher,this._viewportRuler,this._ngZone,Xe),this._document=qe}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(e.mF),E.LFG(e.rL),E.LFG(E.R0b),E.LFG(n.K0))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();class ae{constructor(Ee){if(this.scrollStrategy=new O,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ee){const ye=Object.keys(Ee);for(const Ne of ye)void 0!==Ee[Ne]&&(this[Ne]=Ee[Ne])}}}class le{constructor(Ee,ye){this.connectionPair=Ee,this.scrollableViewProperties=ye}}let de=(()=>{class me{constructor(ye){this._attachedOverlays=[],this._document=ye}ngOnDestroy(){this.detach()}add(ye){this.remove(ye),this._attachedOverlays.push(ye)}remove(ye){const Ne=this._attachedOverlays.indexOf(ye);Ne>-1&&this._attachedOverlays.splice(Ne,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(n.K0))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),Se=(()=>{class me extends de{constructor(ye,Ne){super(ye),this._ngZone=Ne,this._keydownListener=tt=>{const qe=this._attachedOverlays;for(let Xe=qe.length-1;Xe>-1;Xe--)if(qe[Xe]._keydownEvents.observers.length>0){const ut=qe[Xe]._keydownEvents;this._ngZone?this._ngZone.run(()=>ut.next(tt)):ut.next(tt);break}}}add(ye){super.add(ye),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(n.K0),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),xe=(()=>{class me extends de{constructor(ye,Ne,tt){super(ye),this._platform=Ne,this._ngZone=tt,this._cursorStyleIsSet=!1,this._pointerDownListener=qe=>{this._pointerDownEventTarget=(0,_.sA)(qe)},this._clickListener=qe=>{const Xe=(0,_.sA)(qe),ut="click"===qe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Xe;this._pointerDownEventTarget=null;const ze=this._attachedOverlays.slice();for(let ht=ze.length-1;ht>-1;ht--){const vt=ze[ht];if(vt._outsidePointerEvents.observers.length<1||!vt.hasAttached())continue;if(vt.overlayElement.contains(Xe)||vt.overlayElement.contains(ut))break;const ce=vt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ce.next(qe)):ce.next(qe)}}}add(ye){if(super.add(ye),!this._isAttached){const Ne=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ne)):this._addEventListeners(Ne),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ne.style.cursor,Ne.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ye=this._document.body;ye.removeEventListener("pointerdown",this._pointerDownListener,!0),ye.removeEventListener("click",this._clickListener,!0),ye.removeEventListener("auxclick",this._clickListener,!0),ye.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ye.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ye){ye.addEventListener("pointerdown",this._pointerDownListener,!0),ye.addEventListener("click",this._clickListener,!0),ye.addEventListener("auxclick",this._clickListener,!0),ye.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(n.K0),E.LFG(_.t4),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),Ge=(()=>{class me{constructor(ye,Ne){this._platform=Ne,this._document=ye}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ye="cdk-overlay-container";if(this._platform.isBrowser||(0,_.Oy)()){const tt=this._document.querySelectorAll(`.${ye}[platform="server"], .${ye}[platform="test"]`);for(let qe=0;qe<tt.length;qe++)tt[qe].remove()}const Ne=this._document.createElement("div");Ne.classList.add(ye),(0,_.Oy)()?Ne.setAttribute("platform","test"):this._platform.isBrowser||Ne.setAttribute("platform","server"),this._document.body.appendChild(Ne),this._containerElement=Ne}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(n.K0),E.LFG(_.t4))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();class ge{constructor(Ee,ye,Ne,tt,qe,Xe,ut,ze,ht,vt=!1){this._portalOutlet=Ee,this._host=ye,this._pane=Ne,this._config=tt,this._ngZone=qe,this._keyboardDispatcher=Xe,this._document=ut,this._location=ze,this._outsideClickDispatcher=ht,this._animationsDisabled=vt,this._backdropElement=null,this._backdropClick=new k.x,this._attachments=new k.x,this._detachments=new k.x,this._locationChanges=P.w0.EMPTY,this._backdropClickHandler=ce=>this._backdropClick.next(ce),this._backdropTransitionendHandler=ce=>{this._disposeBackdrop(ce.target)},this._keydownEvents=new k.x,this._outsidePointerEvents=new k.x,tt.scrollStrategy&&(this._scrollStrategy=tt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=tt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ee){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ye=this._portalOutlet.attach(Ee);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,w.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ye?.onDestroy&&ye.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ye}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ee=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ee}dispose(){const Ee=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ee&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ee){Ee!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ee,this.hasAttached()&&(Ee.attach(this),this.updatePosition()))}updateSize(Ee){this._config={...this._config,...Ee},this._updateElementSize()}setDirection(Ee){this._config={...this._config,direction:Ee},this._updateElementDirection()}addPanelClass(Ee){this._pane&&this._toggleClasses(this._pane,Ee,!0)}removePanelClass(Ee){this._pane&&this._toggleClasses(this._pane,Ee,!1)}getDirection(){const Ee=this._config.direction;return Ee?"string"==typeof Ee?Ee:Ee.value:"ltr"}updateScrollStrategy(Ee){Ee!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ee,this.hasAttached()&&(Ee.attach(this),Ee.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ee=this._pane.style;Ee.width=(0,A.HM)(this._config.width),Ee.height=(0,A.HM)(this._config.height),Ee.minWidth=(0,A.HM)(this._config.minWidth),Ee.minHeight=(0,A.HM)(this._config.minHeight),Ee.maxWidth=(0,A.HM)(this._config.maxWidth),Ee.maxHeight=(0,A.HM)(this._config.maxHeight)}_togglePointerEvents(Ee){this._pane.style.pointerEvents=Ee?"":"none"}_attachBackdrop(){const Ee="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ee)})}):this._backdropElement.classList.add(Ee)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ee=this._backdropElement;if(Ee){if(this._animationsDisabled)return void this._disposeBackdrop(Ee);Ee.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ee.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ee.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ee)},500))}}_toggleClasses(Ee,ye,Ne){const tt=(0,A.Eq)(ye||[]).filter(qe=>!!qe);tt.length&&(Ne?Ee.classList.add(...tt):Ee.classList.remove(...tt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Ee=this._ngZone.onStable.pipe((0,g.R)((0,B.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ee.unsubscribe())})})}_disposeScrollStrategy(){const Ee=this._scrollStrategy;Ee&&(Ee.disable(),Ee.detach&&Ee.detach())}_disposeBackdrop(Ee){Ee&&(Ee.removeEventListener("click",this._backdropClickHandler),Ee.removeEventListener("transitionend",this._backdropTransitionendHandler),Ee.remove(),this._backdropElement===Ee&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ce="cdk-overlay-connected-position-bounding-box",Le=/([A-Za-z%]+)$/;class fe{get positions(){return this._preferredPositions}constructor(Ee,ye,Ne,tt,qe){this._viewportRuler=ye,this._document=Ne,this._platform=tt,this._overlayContainer=qe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k.x,this._resizeSubscription=P.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ee)}attach(Ee){this._validatePositions(),Ee.hostElement.classList.add(Ce),this._overlayRef=Ee,this._boundingBox=Ee.hostElement,this._pane=Ee.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ee=this._originRect,ye=this._overlayRect,Ne=this._viewportRect,tt=this._containerRect,qe=[];let Xe;for(let ut of this._preferredPositions){let ze=this._getOriginPoint(Ee,tt,ut),ht=this._getOverlayPoint(ze,ye,ut),vt=this._getOverlayFit(ht,ye,Ne,ut);if(vt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ut,ze);this._canFitWithFlexibleDimensions(vt,ht,Ne)?qe.push({position:ut,origin:ze,overlayRect:ye,boundingBoxRect:this._calculateBoundingBoxRect(ze,ut)}):(!Xe||Xe.overlayFit.visibleArea<vt.visibleArea)&&(Xe={overlayFit:vt,overlayPoint:ht,originPoint:ze,position:ut,overlayRect:ye})}if(qe.length){let ut=null,ze=-1;for(const ht of qe){const vt=ht.boundingBoxRect.width*ht.boundingBoxRect.height*(ht.position.weight||1);vt>ze&&(ze=vt,ut=ht)}return this._isPushed=!1,void this._applyPosition(ut.position,ut.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Xe.position,Xe.originPoint);this._applyPosition(Xe.position,Xe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&we(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ce),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ee=this._lastPosition;if(Ee){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ye=this._getOriginPoint(this._originRect,this._containerRect,Ee);this._applyPosition(Ee,ye)}else this.apply()}withScrollableContainers(Ee){return this._scrollables=Ee,this}withPositions(Ee){return this._preferredPositions=Ee,-1===Ee.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ee){return this._viewportMargin=Ee,this}withFlexibleDimensions(Ee=!0){return this._hasFlexibleDimensions=Ee,this}withGrowAfterOpen(Ee=!0){return this._growAfterOpen=Ee,this}withPush(Ee=!0){return this._canPush=Ee,this}withLockedPosition(Ee=!0){return this._positionLocked=Ee,this}setOrigin(Ee){return this._origin=Ee,this}withDefaultOffsetX(Ee){return this._offsetX=Ee,this}withDefaultOffsetY(Ee){return this._offsetY=Ee,this}withTransformOriginOn(Ee){return this._transformOriginSelector=Ee,this}_getOriginPoint(Ee,ye,Ne){let tt,qe;if("center"==Ne.originX)tt=Ee.left+Ee.width/2;else{const Xe=this._isRtl()?Ee.right:Ee.left,ut=this._isRtl()?Ee.left:Ee.right;tt="start"==Ne.originX?Xe:ut}return ye.left<0&&(tt-=ye.left),qe="center"==Ne.originY?Ee.top+Ee.height/2:"top"==Ne.originY?Ee.top:Ee.bottom,ye.top<0&&(qe-=ye.top),{x:tt,y:qe}}_getOverlayPoint(Ee,ye,Ne){let tt,qe;return tt="center"==Ne.overlayX?-ye.width/2:"start"===Ne.overlayX?this._isRtl()?-ye.width:0:this._isRtl()?0:-ye.width,qe="center"==Ne.overlayY?-ye.height/2:"top"==Ne.overlayY?0:-ye.height,{x:Ee.x+tt,y:Ee.y+qe}}_getOverlayFit(Ee,ye,Ne,tt){const qe=De(ye);let{x:Xe,y:ut}=Ee,ze=this._getOffset(tt,"x"),ht=this._getOffset(tt,"y");ze&&(Xe+=ze),ht&&(ut+=ht);let Ve=0-ut,yt=ut+qe.height-Ne.height,Bt=this._subtractOverflows(qe.width,0-Xe,Xe+qe.width-Ne.width),zt=this._subtractOverflows(qe.height,Ve,yt),Yt=Bt*zt;return{visibleArea:Yt,isCompletelyWithinViewport:qe.width*qe.height===Yt,fitsInViewportVertically:zt===qe.height,fitsInViewportHorizontally:Bt==qe.width}}_canFitWithFlexibleDimensions(Ee,ye,Ne){if(this._hasFlexibleDimensions){const tt=Ne.bottom-ye.y,qe=Ne.right-ye.x,Xe=Te(this._overlayRef.getConfig().minHeight),ut=Te(this._overlayRef.getConfig().minWidth);return(Ee.fitsInViewportVertically||null!=Xe&&Xe<=tt)&&(Ee.fitsInViewportHorizontally||null!=ut&&ut<=qe)}return!1}_pushOverlayOnScreen(Ee,ye,Ne){if(this._previousPushAmount&&this._positionLocked)return{x:Ee.x+this._previousPushAmount.x,y:Ee.y+this._previousPushAmount.y};const tt=De(ye),qe=this._viewportRect,Xe=Math.max(Ee.x+tt.width-qe.width,0),ut=Math.max(Ee.y+tt.height-qe.height,0),ze=Math.max(qe.top-Ne.top-Ee.y,0),ht=Math.max(qe.left-Ne.left-Ee.x,0);let vt=0,ce=0;return vt=tt.width<=qe.width?ht||-Xe:Ee.x<this._viewportMargin?qe.left-Ne.left-Ee.x:0,ce=tt.height<=qe.height?ze||-ut:Ee.y<this._viewportMargin?qe.top-Ne.top-Ee.y:0,this._previousPushAmount={x:vt,y:ce},{x:Ee.x+vt,y:Ee.y+ce}}_applyPosition(Ee,ye){if(this._setTransformOrigin(Ee),this._setOverlayElementStyles(ye,Ee),this._setBoundingBoxStyles(ye,Ee),Ee.panelClass&&this._addPanelClasses(Ee.panelClass),this._lastPosition=Ee,this._positionChanges.observers.length){const Ne=this._getScrollVisibility(),tt=new le(Ee,Ne);this._positionChanges.next(tt)}this._isInitialRender=!1}_setTransformOrigin(Ee){if(!this._transformOriginSelector)return;const ye=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ne,tt=Ee.overlayY;Ne="center"===Ee.overlayX?"center":this._isRtl()?"start"===Ee.overlayX?"right":"left":"start"===Ee.overlayX?"left":"right";for(let qe=0;qe<ye.length;qe++)ye[qe].style.transformOrigin=`${Ne} ${tt}`}_calculateBoundingBoxRect(Ee,ye){const Ne=this._viewportRect,tt=this._isRtl();let qe,Xe,ut,vt,ce,Ve;if("top"===ye.overlayY)Xe=Ee.y,qe=Ne.height-Xe+this._viewportMargin;else if("bottom"===ye.overlayY)ut=Ne.height-Ee.y+2*this._viewportMargin,qe=Ne.height-ut+this._viewportMargin;else{const yt=Math.min(Ne.bottom-Ee.y+Ne.top,Ee.y),Bt=this._lastBoundingBoxSize.height;qe=2*yt,Xe=Ee.y-yt,qe>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(Xe=Ee.y-Bt/2)}if("end"===ye.overlayX&&!tt||"start"===ye.overlayX&&tt)Ve=Ne.width-Ee.x+this._viewportMargin,vt=Ee.x-this._viewportMargin;else if("start"===ye.overlayX&&!tt||"end"===ye.overlayX&&tt)ce=Ee.x,vt=Ne.right-Ee.x;else{const yt=Math.min(Ne.right-Ee.x+Ne.left,Ee.x),Bt=this._lastBoundingBoxSize.width;vt=2*yt,ce=Ee.x-yt,vt>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(ce=Ee.x-Bt/2)}return{top:Xe,left:ce,bottom:ut,right:Ve,width:vt,height:qe}}_setBoundingBoxStyles(Ee,ye){const Ne=this._calculateBoundingBoxRect(Ee,ye);!this._isInitialRender&&!this._growAfterOpen&&(Ne.height=Math.min(Ne.height,this._lastBoundingBoxSize.height),Ne.width=Math.min(Ne.width,this._lastBoundingBoxSize.width));const tt={};if(this._hasExactPosition())tt.top=tt.left="0",tt.bottom=tt.right=tt.maxHeight=tt.maxWidth="",tt.width=tt.height="100%";else{const qe=this._overlayRef.getConfig().maxHeight,Xe=this._overlayRef.getConfig().maxWidth;tt.height=(0,A.HM)(Ne.height),tt.top=(0,A.HM)(Ne.top),tt.bottom=(0,A.HM)(Ne.bottom),tt.width=(0,A.HM)(Ne.width),tt.left=(0,A.HM)(Ne.left),tt.right=(0,A.HM)(Ne.right),tt.alignItems="center"===ye.overlayX?"center":"end"===ye.overlayX?"flex-end":"flex-start",tt.justifyContent="center"===ye.overlayY?"center":"bottom"===ye.overlayY?"flex-end":"flex-start",qe&&(tt.maxHeight=(0,A.HM)(qe)),Xe&&(tt.maxWidth=(0,A.HM)(Xe))}this._lastBoundingBoxSize=Ne,we(this._boundingBox.style,tt)}_resetBoundingBoxStyles(){we(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){we(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ee,ye){const Ne={},tt=this._hasExactPosition(),qe=this._hasFlexibleDimensions,Xe=this._overlayRef.getConfig();if(tt){const vt=this._viewportRuler.getViewportScrollPosition();we(Ne,this._getExactOverlayY(ye,Ee,vt)),we(Ne,this._getExactOverlayX(ye,Ee,vt))}else Ne.position="static";let ut="",ze=this._getOffset(ye,"x"),ht=this._getOffset(ye,"y");ze&&(ut+=`translateX(${ze}px) `),ht&&(ut+=`translateY(${ht}px)`),Ne.transform=ut.trim(),Xe.maxHeight&&(tt?Ne.maxHeight=(0,A.HM)(Xe.maxHeight):qe&&(Ne.maxHeight="")),Xe.maxWidth&&(tt?Ne.maxWidth=(0,A.HM)(Xe.maxWidth):qe&&(Ne.maxWidth="")),we(this._pane.style,Ne)}_getExactOverlayY(Ee,ye,Ne){let tt={top:"",bottom:""},qe=this._getOverlayPoint(ye,this._overlayRect,Ee);return this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,Ne)),"bottom"===Ee.overlayY?tt.bottom=this._document.documentElement.clientHeight-(qe.y+this._overlayRect.height)+"px":tt.top=(0,A.HM)(qe.y),tt}_getExactOverlayX(Ee,ye,Ne){let Xe,tt={left:"",right:""},qe=this._getOverlayPoint(ye,this._overlayRect,Ee);return this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,Ne)),Xe=this._isRtl()?"end"===Ee.overlayX?"left":"right":"end"===Ee.overlayX?"right":"left","right"===Xe?tt.right=this._document.documentElement.clientWidth-(qe.x+this._overlayRect.width)+"px":tt.left=(0,A.HM)(qe.x),tt}_getScrollVisibility(){const Ee=this._getOriginRect(),ye=this._pane.getBoundingClientRect(),Ne=this._scrollables.map(tt=>tt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:G(Ee,Ne),isOriginOutsideView:M(Ee,Ne),isOverlayClipped:G(ye,Ne),isOverlayOutsideView:M(ye,Ne)}}_subtractOverflows(Ee,...ye){return ye.reduce((Ne,tt)=>Ne-Math.max(tt,0),Ee)}_getNarrowedViewportRect(){const Ee=this._document.documentElement.clientWidth,ye=this._document.documentElement.clientHeight,Ne=this._viewportRuler.getViewportScrollPosition();return{top:Ne.top+this._viewportMargin,left:Ne.left+this._viewportMargin,right:Ne.left+Ee-this._viewportMargin,bottom:Ne.top+ye-this._viewportMargin,width:Ee-2*this._viewportMargin,height:ye-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ee,ye){return"x"===ye?null==Ee.offsetX?this._offsetX:Ee.offsetX:null==Ee.offsetY?this._offsetY:Ee.offsetY}_validatePositions(){}_addPanelClasses(Ee){this._pane&&(0,A.Eq)(Ee).forEach(ye=>{""!==ye&&-1===this._appliedPanelClasses.indexOf(ye)&&(this._appliedPanelClasses.push(ye),this._pane.classList.add(ye))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ee=>{this._pane.classList.remove(Ee)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ee=this._origin;if(Ee instanceof E.SBq)return Ee.nativeElement.getBoundingClientRect();if(Ee instanceof Element)return Ee.getBoundingClientRect();const ye=Ee.width||0,Ne=Ee.height||0;return{top:Ee.y,bottom:Ee.y+Ne,left:Ee.x,right:Ee.x+ye,height:Ne,width:ye}}}function we(me,Ee){for(let ye in Ee)Ee.hasOwnProperty(ye)&&(me[ye]=Ee[ye]);return me}function Te(me){if("number"!=typeof me&&null!=me){const[Ee,ye]=me.split(Le);return ye&&"px"!==ye?null:parseFloat(Ee)}return me||null}function De(me){return{top:Math.floor(me.top),right:Math.floor(me.right),bottom:Math.floor(me.bottom),left:Math.floor(me.left),width:Math.floor(me.width),height:Math.floor(me.height)}}const He="cdk-global-overlay-wrapper";class be{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ee){const ye=Ee.getConfig();this._overlayRef=Ee,this._width&&!ye.width&&Ee.updateSize({width:this._width}),this._height&&!ye.height&&Ee.updateSize({height:this._height}),Ee.hostElement.classList.add(He),this._isDisposed=!1}top(Ee=""){return this._bottomOffset="",this._topOffset=Ee,this._alignItems="flex-start",this}left(Ee=""){return this._xOffset=Ee,this._xPosition="left",this}bottom(Ee=""){return this._topOffset="",this._bottomOffset=Ee,this._alignItems="flex-end",this}right(Ee=""){return this._xOffset=Ee,this._xPosition="right",this}start(Ee=""){return this._xOffset=Ee,this._xPosition="start",this}end(Ee=""){return this._xOffset=Ee,this._xPosition="end",this}width(Ee=""){return this._overlayRef?this._overlayRef.updateSize({width:Ee}):this._width=Ee,this}height(Ee=""){return this._overlayRef?this._overlayRef.updateSize({height:Ee}):this._height=Ee,this}centerHorizontally(Ee=""){return this.left(Ee),this._xPosition="center",this}centerVertically(Ee=""){return this.top(Ee),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ee=this._overlayRef.overlayElement.style,ye=this._overlayRef.hostElement.style,Ne=this._overlayRef.getConfig(),{width:tt,height:qe,maxWidth:Xe,maxHeight:ut}=Ne,ze=!("100%"!==tt&&"100vw"!==tt||Xe&&"100%"!==Xe&&"100vw"!==Xe),ht=!("100%"!==qe&&"100vh"!==qe||ut&&"100%"!==ut&&"100vh"!==ut),vt=this._xPosition,ce=this._xOffset,Ve="rtl"===this._overlayRef.getConfig().direction;let yt="",Bt="",zt="";ze?zt="flex-start":"center"===vt?(zt="center",Ve?Bt=ce:yt=ce):Ve?"left"===vt||"end"===vt?(zt="flex-end",yt=ce):("right"===vt||"start"===vt)&&(zt="flex-start",Bt=ce):"left"===vt||"start"===vt?(zt="flex-start",yt=ce):("right"===vt||"end"===vt)&&(zt="flex-end",Bt=ce),Ee.position=this._cssPosition,Ee.marginLeft=ze?"0":yt,Ee.marginTop=ht?"0":this._topOffset,Ee.marginBottom=this._bottomOffset,Ee.marginRight=ze?"0":Bt,ye.justifyContent=zt,ye.alignItems=ht?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ee=this._overlayRef.overlayElement.style,ye=this._overlayRef.hostElement,Ne=ye.style;ye.classList.remove(He),Ne.justifyContent=Ne.alignItems=Ee.marginTop=Ee.marginBottom=Ee.marginLeft=Ee.marginRight=Ee.position="",this._overlayRef=null,this._isDisposed=!0}}let _e=(()=>{class me{constructor(ye,Ne,tt,qe){this._viewportRuler=ye,this._document=Ne,this._platform=tt,this._overlayContainer=qe}global(){return new be}flexibleConnectedTo(ye){return new fe(ye,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(e.rL),E.LFG(n.K0),E.LFG(_.t4),E.LFG(Ge))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),K=0,oe=(()=>{class me{constructor(ye,Ne,tt,qe,Xe,ut,ze,ht,vt,ce,Ve,yt){this.scrollStrategies=ye,this._overlayContainer=Ne,this._componentFactoryResolver=tt,this._positionBuilder=qe,this._keyboardDispatcher=Xe,this._injector=ut,this._ngZone=ze,this._document=ht,this._directionality=vt,this._location=ce,this._outsideClickDispatcher=Ve,this._animationsModuleType=yt}create(ye){const Ne=this._createHostElement(),tt=this._createPaneElement(Ne),qe=this._createPortalOutlet(tt),Xe=new ae(ye);return Xe.direction=Xe.direction||this._directionality.value,new ge(qe,Ne,tt,Xe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ye){const Ne=this._document.createElement("div");return Ne.id="cdk-overlay-"+K++,Ne.classList.add("cdk-overlay-pane"),ye.appendChild(Ne),Ne}_createHostElement(){const ye=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ye),ye}_createPortalOutlet(ye){return this._appRef||(this._appRef=this._injector.get(E.z2F)),new y.u0(ye,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.LFG(ee),E.LFG(Ge),E.LFG(E._Vd),E.LFG(_e),E.LFG(Se),E.LFG(E.zs3),E.LFG(E.R0b),E.LFG(n.K0),E.LFG(m.Is),E.LFG(n.Ye),E.LFG(xe),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();const pe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],re=new E.OlP("cdk-connected-overlay-scroll-strategy");let Q=(()=>{class me{constructor(ye){this.elementRef=ye}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:me,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return me})(),X=(()=>{class me{get offsetX(){return this._offsetX}set offsetX(ye){this._offsetX=ye,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ye){this._offsetY=ye,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ye){this._hasBackdrop=(0,A.Ig)(ye)}get lockPosition(){return this._lockPosition}set lockPosition(ye){this._lockPosition=(0,A.Ig)(ye)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(ye){this._flexibleDimensions=(0,A.Ig)(ye)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(ye){this._growAfterOpen=(0,A.Ig)(ye)}get push(){return this._push}set push(ye){this._push=(0,A.Ig)(ye)}constructor(ye,Ne,tt,qe,Xe){this._overlay=ye,this._dir=Xe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=P.w0.EMPTY,this._attachSubscription=P.w0.EMPTY,this._detachSubscription=P.w0.EMPTY,this._positionSubscription=P.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new E.vpe,this.positionChange=new E.vpe,this.attach=new E.vpe,this.detach=new E.vpe,this.overlayKeydown=new E.vpe,this.overlayOutsideClick=new E.vpe,this._templatePortal=new y.UE(Ne,tt),this._scrollStrategyFactory=qe,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ye){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ye.origin&&this.open&&this._position.apply()),ye.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=pe);const ye=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ye.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ye.detachments().subscribe(()=>this.detach.emit()),ye.keydownEvents().subscribe(Ne=>{this.overlayKeydown.next(Ne),Ne.keyCode===F.hY&&!this.disableClose&&!(0,F.Vb)(Ne)&&(Ne.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ne=>{this.overlayOutsideClick.next(Ne)})}_buildConfig(){const ye=this._position=this.positionStrategy||this._createPositionStrategy(),Ne=new ae({direction:this._dir,positionStrategy:ye,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ne.width=this.width),(this.height||0===this.height)&&(Ne.height=this.height),(this.minWidth||0===this.minWidth)&&(Ne.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ne.minHeight=this.minHeight),this.backdropClass&&(Ne.backdropClass=this.backdropClass),this.panelClass&&(Ne.panelClass=this.panelClass),Ne}_updatePositionStrategy(ye){const Ne=this.positions.map(tt=>({originX:tt.originX,originY:tt.originY,overlayX:tt.overlayX,overlayY:tt.overlayY,offsetX:tt.offsetX||this.offsetX,offsetY:tt.offsetY||this.offsetY,panelClass:tt.panelClass||void 0}));return ye.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ne).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ye=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(ye),ye}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Q?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ye=>{this.backdropClick.emit(ye)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function u(me,Ee=!1){return(0,o.e)((ye,Ne)=>{let tt=0;ye.subscribe((0,d.x)(Ne,qe=>{const Xe=me(qe,tt++);(Xe||Ee)&&Ne.next(qe),!Xe&&Ne.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ye=>{this.positionChange.emit(ye),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ne){return new(Ne||me)(E.Y36(oe),E.Y36(E.Rgc),E.Y36(E.s_b),E.Y36(re),E.Y36(m.Is,8))};static#t=this.\u0275dir=E.lG2({type:me,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[E.TTD]})}return me})();const ne={provide:re,deps:[oe],useFactory:function $(me){return()=>me.scrollStrategies.reposition()}};let J=(()=>{class me{static#e=this.\u0275fac=function(Ne){return new(Ne||me)};static#t=this.\u0275mod=E.oAB({type:me});static#n=this.\u0275inj=E.cJS({providers:[oe,ne],imports:[m.vT,y.eL,e.Cl,e.Cl]})}return me})()},2831:(Bn,et,v)=>{"use strict";v.d(et,{Mq:()=>k,Oy:()=>C,ht:()=>D,i$:()=>u,kV:()=>R,qK:()=>g,sA:()=>T,t4:()=>A});var e=v(5879),n=v(6814);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let I,A=(()=>{class O{constructor(G){this._platformId=G,this.isBrowser=this._platformId?(0,n.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Z){return new(Z||O)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})();const w=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function g(){if(I)return I;if("object"!=typeof document||!document)return I=new Set(w),I;let O=document.createElement("input");return I=new Set(w.filter(M=>(O.setAttribute("type",M),O.type===M))),I}let o,y,B;function u(O){return function d(){if(null==o&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>o=!0}))}finally{o=o||!1}return o}()?O:!!O.capture}function k(){if(null==y){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return y=!1,y;if("scrollBehavior"in document.documentElement.style)y=!0;else{const O=Element.prototype.scrollTo;y=!!O&&!/\{\s*\[native code\]\s*\}/.test(O.toString())}}return y}function R(O){if(function F(){if(null==B){const O=typeof document<"u"?document.head:null;B=!(!O||!O.createShadowRoot&&!O.attachShadow)}return B}()){const M=O.getRootNode?O.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&M instanceof ShadowRoot)return M}return null}function D(){let O=typeof document<"u"&&document?document.activeElement:null;for(;O&&O.shadowRoot;){const M=O.shadowRoot.activeElement;if(M===O)break;O=M}return O}function T(O){return O.composedPath?O.composedPath()[0]:O.target}function C(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Bn,et,v)=>{"use strict";v.d(et,{C5:()=>d,Pl:()=>D,UE:()=>u,eL:()=>C,en:()=>y,u0:()=>P});var e=v(5879),n=v(6814);class o{attach(G){return this._attachedHost=G,G.attach(this)}detach(){let G=this._attachedHost;null!=G&&(this._attachedHost=null,G.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(G){this._attachedHost=G}}class d extends o{constructor(G,Z,ee,ae,Ae){super(),this.component=G,this.viewContainerRef=Z,this.injector=ee,this.componentFactoryResolver=ae,this.projectableNodes=Ae}}class u extends o{constructor(G,Z,ee,ae){super(),this.templateRef=G,this.viewContainerRef=Z,this.context=ee,this.injector=ae}get origin(){return this.templateRef.elementRef}attach(G,Z=this.context){return this.context=Z,super.attach(G)}detach(){return this.context=void 0,super.detach()}}class m extends o{constructor(G){super(),this.element=G instanceof e.SBq?G.nativeElement:G}}class y{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(G){return G instanceof d?(this._attachedPortal=G,this.attachComponentPortal(G)):G instanceof u?(this._attachedPortal=G,this.attachTemplatePortal(G)):this.attachDomPortal&&G instanceof m?(this._attachedPortal=G,this.attachDomPortal(G)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(G){this._disposeFn=G}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class P extends y{constructor(G,Z,ee,ae,Ae){super(),this.outletElement=G,this._componentFactoryResolver=Z,this._appRef=ee,this._defaultInjector=ae,this.attachDomPortal=j=>{const le=j.element,Y=this._document.createComment("dom-portal");le.parentNode.insertBefore(Y,le),this.outletElement.appendChild(le),this._attachedPortal=j,super.setDisposeFn(()=>{Y.parentNode&&Y.parentNode.replaceChild(le,Y)})},this._document=Ae}attachComponentPortal(G){const ee=(G.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(G.component);let ae;return G.viewContainerRef?(ae=G.viewContainerRef.createComponent(ee,G.viewContainerRef.length,G.injector||G.viewContainerRef.injector,G.projectableNodes||void 0),this.setDisposeFn(()=>ae.destroy())):(ae=ee.create(G.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=G,ae}attachTemplatePortal(G){let Z=G.viewContainerRef,ee=Z.createEmbeddedView(G.templateRef,G.context,{injector:G.injector});return ee.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),ee.detectChanges(),this.setDisposeFn(()=>{let ae=Z.indexOf(ee);-1!==ae&&Z.remove(ae)}),this._attachedPortal=G,ee}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(G){return G.hostView.rootNodes[0]}}let D=(()=>{class M extends y{constructor(Z,ee,ae){super(),this._componentFactoryResolver=Z,this._viewContainerRef=ee,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=Ae=>{const j=Ae.element,le=this._document.createComment("dom-portal");Ae.setAttachedHost(this),j.parentNode.insertBefore(le,j),this._getRootNode().appendChild(j),this._attachedPortal=Ae,super.setDisposeFn(()=>{le.parentNode&&le.parentNode.replaceChild(j,le)})},this._document=ae}get portal(){return this._attachedPortal}set portal(Z){this.hasAttached()&&!Z&&!this._isInitialized||(this.hasAttached()&&super.detach(),Z&&super.attach(Z),this._attachedPortal=Z||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Z){Z.setAttachedHost(this);const ee=null!=Z.viewContainerRef?Z.viewContainerRef:this._viewContainerRef,Ae=(Z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Z.component),j=ee.createComponent(Ae,ee.length,Z.injector||ee.injector,Z.projectableNodes||void 0);return ee!==this._viewContainerRef&&this._getRootNode().appendChild(j.hostView.rootNodes[0]),super.setDisposeFn(()=>j.destroy()),this._attachedPortal=Z,this._attachedRef=j,this.attached.emit(j),j}attachTemplatePortal(Z){Z.setAttachedHost(this);const ee=this._viewContainerRef.createEmbeddedView(Z.templateRef,Z.context,{injector:Z.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Z,this._attachedRef=ee,this.attached.emit(ee),ee}_getRootNode(){const Z=this._viewContainerRef.element.nativeElement;return Z.nodeType===Z.ELEMENT_NODE?Z:Z.parentNode}static#e=this.\u0275fac=function(ee){return new(ee||M)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(n.K0))};static#t=this.\u0275dir=e.lG2({type:M,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]})}return M})(),C=(()=>{class M{static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275mod=e.oAB({type:M});static#n=this.\u0275inj=e.cJS({})}return M})()},799:(Bn,et,v)=>{"use strict";v.d(et,{ZD:()=>me,mF:()=>He,Cl:()=>Ee,rL:()=>K});var e=v(2495),n=v(5879),E=v(8645),A=v(2096),_=v(5592),I=v(2438),w=v(1954),g=v(7394);const o={schedule(ye){let Ne=requestAnimationFrame,tt=cancelAnimationFrame;const{delegate:qe}=o;qe&&(Ne=qe.requestAnimationFrame,tt=qe.cancelAnimationFrame);const Xe=Ne(ut=>{tt=void 0,ye(ut)});return new g.w0(()=>tt?.(Xe))},requestAnimationFrame(...ye){const{delegate:Ne}=o;return(Ne?.requestAnimationFrame||requestAnimationFrame)(...ye)},cancelAnimationFrame(...ye){const{delegate:Ne}=o;return(Ne?.cancelAnimationFrame||cancelAnimationFrame)(...ye)},delegate:void 0};var u=v(2631);new class m extends u.v{flush(Ne){this._active=!0;const tt=this._scheduled;this._scheduled=void 0;const{actions:qe}=this;let Xe;Ne=Ne||qe.shift();do{if(Xe=Ne.execute(Ne.state,Ne.delay))break}while((Ne=qe[0])&&Ne.id===tt&&qe.shift());if(this._active=!1,Xe){for(;(Ne=qe[0])&&Ne.id===tt&&qe.shift();)Ne.unsubscribe();throw Xe}}}(class d extends w.o{constructor(Ne,tt){super(Ne,tt),this.scheduler=Ne,this.work=tt}requestAsyncId(Ne,tt,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Ne,tt,qe):(Ne.actions.push(this),Ne._scheduled||(Ne._scheduled=o.requestAnimationFrame(()=>Ne.flush(void 0))))}recycleAsyncId(Ne,tt,qe=0){var Xe;if(null!=qe?qe>0:this.delay>0)return super.recycleAsyncId(Ne,tt,qe);const{actions:ut}=Ne;null!=tt&&(null===(Xe=ut[ut.length-1])||void 0===Xe?void 0:Xe.id)!==tt&&(o.cancelAnimationFrame(tt),Ne._scheduled=void 0)}});let B,P=1;const F={};function R(ye){return ye in F&&(delete F[ye],!0)}const D={setImmediate(ye){const Ne=P++;return F[Ne]=!0,B||(B=Promise.resolve()),B.then(()=>R(Ne)&&ye()),Ne},clearImmediate(ye){R(ye)}},{setImmediate:C,clearImmediate:O}=D,M={setImmediate(...ye){const{delegate:Ne}=M;return(Ne?.setImmediate||C)(...ye)},clearImmediate(ye){const{delegate:Ne}=M;return(Ne?.clearImmediate||O)(ye)},delegate:void 0};new class Z extends u.v{flush(Ne){this._active=!0;const tt=this._scheduled;this._scheduled=void 0;const{actions:qe}=this;let Xe;Ne=Ne||qe.shift();do{if(Xe=Ne.execute(Ne.state,Ne.delay))break}while((Ne=qe[0])&&Ne.id===tt&&qe.shift());if(this._active=!1,Xe){for(;(Ne=qe[0])&&Ne.id===tt&&qe.shift();)Ne.unsubscribe();throw Xe}}}(class G extends w.o{constructor(Ne,tt){super(Ne,tt),this.scheduler=Ne,this.work=tt}requestAsyncId(Ne,tt,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Ne,tt,qe):(Ne.actions.push(this),Ne._scheduled||(Ne._scheduled=M.setImmediate(Ne.flush.bind(Ne,void 0))))}recycleAsyncId(Ne,tt,qe=0){var Xe;if(null!=qe?qe>0:this.delay>0)return super.recycleAsyncId(Ne,tt,qe);const{actions:ut}=Ne;null!=tt&&(null===(Xe=ut[ut.length-1])||void 0===Xe?void 0:Xe.id)!==tt&&(M.clearImmediate(tt),Ne._scheduled===tt&&(Ne._scheduled=void 0))}});var Ae=v(6321),j=v(9360),le=v(4829),Y=v(8251),de=v(4825);function Se(ye,Ne=Ae.z){return function ve(ye){return(0,j.e)((Ne,tt)=>{let qe=!1,Xe=null,ut=null,ze=!1;const ht=()=>{if(ut?.unsubscribe(),ut=null,qe){qe=!1;const ce=Xe;Xe=null,tt.next(ce)}ze&&tt.complete()},vt=()=>{ut=null,ze&&tt.complete()};Ne.subscribe((0,Y.x)(tt,ce=>{qe=!0,Xe=ce,ut||(0,le.Xf)(ye(ce)).subscribe(ut=(0,Y.x)(tt,ht,vt))},()=>{ze=!0,(!qe||!ut||ut.closed)&&tt.complete()}))})}(()=>(0,de.H)(ye,Ne))}var xe=v(2181),Ge=v(2831),ge=v(6814),Ce=v(9388);let He=(()=>{class ye{constructor(tt,qe,Xe){this._ngZone=tt,this._platform=qe,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Xe}register(tt){this.scrollContainers.has(tt)||this.scrollContainers.set(tt,tt.elementScrolled().subscribe(()=>this._scrolled.next(tt)))}deregister(tt){const qe=this.scrollContainers.get(tt);qe&&(qe.unsubscribe(),this.scrollContainers.delete(tt))}scrolled(tt=20){return this._platform.isBrowser?new _.y(qe=>{this._globalSubscription||this._addGlobalListener();const Xe=tt>0?this._scrolled.pipe(Se(tt)).subscribe(qe):this._scrolled.subscribe(qe);return this._scrolledCount++,()=>{Xe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,A.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((tt,qe)=>this.deregister(qe)),this._scrolled.complete()}ancestorScrolled(tt,qe){const Xe=this.getAncestorScrollContainers(tt);return this.scrolled(qe).pipe((0,xe.h)(ut=>!ut||Xe.indexOf(ut)>-1))}getAncestorScrollContainers(tt){const qe=[];return this.scrollContainers.forEach((Xe,ut)=>{this._scrollableContainsElement(ut,tt)&&qe.push(ut)}),qe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(tt,qe){let Xe=(0,e.fI)(qe),ut=tt.getElementRef().nativeElement;do{if(Xe==ut)return!0}while(Xe=Xe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const tt=this._getWindow();return(0,I.R)(tt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(qe){return new(qe||ye)(n.LFG(n.R0b),n.LFG(Ge.t4),n.LFG(ge.K0,8))};static#t=this.\u0275prov=n.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),K=(()=>{class ye{constructor(tt,qe,Xe){this._platform=tt,this._change=new E.x,this._changeListener=ut=>{this._change.next(ut)},this._document=Xe,qe.runOutsideAngular(()=>{if(tt.isBrowser){const ut=this._getWindow();ut.addEventListener("resize",this._changeListener),ut.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const tt=this._getWindow();tt.removeEventListener("resize",this._changeListener),tt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const tt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),tt}getViewportRect(){const tt=this.getViewportScrollPosition(),{width:qe,height:Xe}=this.getViewportSize();return{top:tt.top,left:tt.left,bottom:tt.top+Xe,right:tt.left+qe,height:Xe,width:qe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const tt=this._document,qe=this._getWindow(),Xe=tt.documentElement,ut=Xe.getBoundingClientRect();return{top:-ut.top||tt.body.scrollTop||qe.scrollY||Xe.scrollTop||0,left:-ut.left||tt.body.scrollLeft||qe.scrollX||Xe.scrollLeft||0}}change(tt=20){return tt>0?this._change.pipe(Se(tt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const tt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:tt.innerWidth,height:tt.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(qe){return new(qe||ye)(n.LFG(Ge.t4),n.LFG(n.R0b),n.LFG(ge.K0,8))};static#t=this.\u0275prov=n.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),me=(()=>{class ye{static#e=this.\u0275fac=function(qe){return new(qe||ye)};static#t=this.\u0275mod=n.oAB({type:ye});static#n=this.\u0275inj=n.cJS({})}return ye})(),Ee=(()=>{class ye{static#e=this.\u0275fac=function(qe){return new(qe||ye)};static#t=this.\u0275mod=n.oAB({type:ye});static#n=this.\u0275inj=n.cJS({imports:[Ce.vT,me,Ce.vT,me]})}return ye})()},6814:(Bn,et,v)=>{"use strict";v.d(et,{Do:()=>B,ED:()=>Hr,EM:()=>ps,HT:()=>A,JF:()=>Pr,K0:()=>I,Mn:()=>ve,Mx:()=>Rt,NF:()=>Xo,O5:()=>Pt,Ov:()=>ls,PM:()=>Go,RF:()=>ai,S$:()=>y,Tn:()=>ee,UT:()=>de,V_:()=>g,Ye:()=>F,ax:()=>Lt,b0:()=>P,bD:()=>Ao,ez:()=>Mo,mk:()=>Zt,mr:()=>k,n9:()=>qi,p6:()=>Ne,q:()=>E,sg:()=>Lt,tP:()=>_o,uU:()=>rr,w_:()=>_,x:()=>Z});var e=v(5879);let n=null;function E(){return n}function A(Ke){n||(n=Ke)}class _{}const I=new e.OlP("DocumentToken");let w=(()=>{class Ke{historyGo(pt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:function(){return(0,e.f3M)(o)},providedIn:"platform"})}return Ke})();const g=new e.OlP("Location Initialized");let o=(()=>{class Ke extends w{constructor(){super(),this._doc=(0,e.f3M)(I),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(pt){const Ft=E().getGlobalEventTarget(this._doc,"window");return Ft.addEventListener("popstate",pt,!1),()=>Ft.removeEventListener("popstate",pt)}onHashChange(pt){const Ft=E().getGlobalEventTarget(this._doc,"window");return Ft.addEventListener("hashchange",pt,!1),()=>Ft.removeEventListener("hashchange",pt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(pt){this._location.pathname=pt}pushState(pt,Ft,vn){this._history.pushState(pt,Ft,vn)}replaceState(pt,Ft,vn){this._history.replaceState(pt,Ft,vn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(pt=0){this._history.go(pt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:function(){return new Ke},providedIn:"platform"})}return Ke})();function d(Ke,jt){if(0==Ke.length)return jt;if(0==jt.length)return Ke;let pt=0;return Ke.endsWith("/")&&pt++,jt.startsWith("/")&&pt++,2==pt?Ke+jt.substring(1):1==pt?Ke+jt:Ke+"/"+jt}function u(Ke){const jt=Ke.match(/#|\?|$/),pt=jt&&jt.index||Ke.length;return Ke.slice(0,pt-("/"===Ke[pt-1]?1:0))+Ke.slice(pt)}function m(Ke){return Ke&&"?"!==Ke[0]?"?"+Ke:Ke}let y=(()=>{class Ke{historyGo(pt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:function(){return(0,e.f3M)(P)},providedIn:"root"})}return Ke})();const k=new e.OlP("appBaseHref");let P=(()=>{class Ke extends y{constructor(pt,Ft){super(),this._platformLocation=pt,this._removeListenerFns=[],this._baseHref=Ft??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(I).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pt){this._removeListenerFns.push(this._platformLocation.onPopState(pt),this._platformLocation.onHashChange(pt))}getBaseHref(){return this._baseHref}prepareExternalUrl(pt){return d(this._baseHref,pt)}path(pt=!1){const Ft=this._platformLocation.pathname+m(this._platformLocation.search),vn=this._platformLocation.hash;return vn&&pt?`${Ft}${vn}`:Ft}pushState(pt,Ft,vn,Gn){const Jn=this.prepareExternalUrl(vn+m(Gn));this._platformLocation.pushState(pt,Ft,Jn)}replaceState(pt,Ft,vn,Gn){const Jn=this.prepareExternalUrl(vn+m(Gn));this._platformLocation.replaceState(pt,Ft,Jn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(pt=0){this._platformLocation.historyGo?.(pt)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.LFG(w),e.LFG(k,8))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),B=(()=>{class Ke extends y{constructor(pt,Ft){super(),this._platformLocation=pt,this._baseHref="",this._removeListenerFns=[],null!=Ft&&(this._baseHref=Ft)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pt){this._removeListenerFns.push(this._platformLocation.onPopState(pt),this._platformLocation.onHashChange(pt))}getBaseHref(){return this._baseHref}path(pt=!1){let Ft=this._platformLocation.hash;return null==Ft&&(Ft="#"),Ft.length>0?Ft.substring(1):Ft}prepareExternalUrl(pt){const Ft=d(this._baseHref,pt);return Ft.length>0?"#"+Ft:Ft}pushState(pt,Ft,vn,Gn){let Jn=this.prepareExternalUrl(vn+m(Gn));0==Jn.length&&(Jn=this._platformLocation.pathname),this._platformLocation.pushState(pt,Ft,Jn)}replaceState(pt,Ft,vn,Gn){let Jn=this.prepareExternalUrl(vn+m(Gn));0==Jn.length&&(Jn=this._platformLocation.pathname),this._platformLocation.replaceState(pt,Ft,Jn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(pt=0){this._platformLocation.historyGo?.(pt)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.LFG(w),e.LFG(k,8))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac})}return Ke})(),F=(()=>{class Ke{constructor(pt){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=pt;const Ft=this._locationStrategy.getBaseHref();this._basePath=function C(Ke){if(new RegExp("^(https?:)?//").test(Ke)){const[,pt]=Ke.split(/\/\/[^\/]+/);return pt}return Ke}(u(T(Ft))),this._locationStrategy.onPopState(vn=>{this._subject.emit({url:this.path(!0),pop:!0,state:vn.state,type:vn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(pt=!1){return this.normalize(this._locationStrategy.path(pt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(pt,Ft=""){return this.path()==this.normalize(pt+m(Ft))}normalize(pt){return Ke.stripTrailingSlash(function D(Ke,jt){if(!Ke||!jt.startsWith(Ke))return jt;const pt=jt.substring(Ke.length);return""===pt||["/",";","?","#"].includes(pt[0])?pt:jt}(this._basePath,T(pt)))}prepareExternalUrl(pt){return pt&&"/"!==pt[0]&&(pt="/"+pt),this._locationStrategy.prepareExternalUrl(pt)}go(pt,Ft="",vn=null){this._locationStrategy.pushState(vn,"",pt,Ft),this._notifyUrlChangeListeners(this.prepareExternalUrl(pt+m(Ft)),vn)}replaceState(pt,Ft="",vn=null){this._locationStrategy.replaceState(vn,"",pt,Ft),this._notifyUrlChangeListeners(this.prepareExternalUrl(pt+m(Ft)),vn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(pt=0){this._locationStrategy.historyGo?.(pt)}onUrlChange(pt){return this._urlChangeListeners.push(pt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ft=>{this._notifyUrlChangeListeners(Ft.url,Ft.state)})),()=>{const Ft=this._urlChangeListeners.indexOf(pt);this._urlChangeListeners.splice(Ft,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(pt="",Ft){this._urlChangeListeners.forEach(vn=>vn(pt,Ft))}subscribe(pt,Ft,vn){return this._subject.subscribe({next:pt,error:Ft,complete:vn})}static#e=this.normalizeQueryParams=m;static#t=this.joinWithSlash=d;static#n=this.stripTrailingSlash=u;static#i=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.LFG(y))};static#r=this.\u0275prov=e.Yz7({token:Ke,factory:function(){return function R(){return new F((0,e.LFG)(y))}()},providedIn:"root"})}return Ke})();function T(Ke){return Ke.replace(/\/index.html$/,"")}var Z=function(Ke){return Ke[Ke.Format=0]="Format",Ke[Ke.Standalone=1]="Standalone",Ke}(Z||{}),ee=function(Ke){return Ke[Ke.Narrow=0]="Narrow",Ke[Ke.Abbreviated=1]="Abbreviated",Ke[Ke.Wide=2]="Wide",Ke[Ke.Short=3]="Short",Ke}(ee||{}),ae=function(Ke){return Ke[Ke.Short=0]="Short",Ke[Ke.Medium=1]="Medium",Ke[Ke.Long=2]="Long",Ke[Ke.Full=3]="Full",Ke}(ae||{}),Ae=function(Ke){return Ke[Ke.Decimal=0]="Decimal",Ke[Ke.Group=1]="Group",Ke[Ke.List=2]="List",Ke[Ke.PercentSign=3]="PercentSign",Ke[Ke.PlusSign=4]="PlusSign",Ke[Ke.MinusSign=5]="MinusSign",Ke[Ke.Exponential=6]="Exponential",Ke[Ke.SuperscriptingExponent=7]="SuperscriptingExponent",Ke[Ke.PerMille=8]="PerMille",Ke[Ke.Infinity=9]="Infinity",Ke[Ke.NaN=10]="NaN",Ke[Ke.TimeSeparator=11]="TimeSeparator",Ke[Ke.CurrencyDecimal=12]="CurrencyDecimal",Ke[Ke.CurrencyGroup=13]="CurrencyGroup",Ke}(Ae||{});function ve(Ke,jt,pt){const Ft=(0,e.cg1)(Ke),Gn=pe([Ft[e.wAp.DaysFormat],Ft[e.wAp.DaysStandalone]],jt);return pe(Gn,pt)}function de(Ke,jt,pt){const Ft=(0,e.cg1)(Ke),Gn=pe([Ft[e.wAp.MonthsFormat],Ft[e.wAp.MonthsStandalone]],jt);return pe(Gn,pt)}function ge(Ke,jt){return pe((0,e.cg1)(Ke)[e.wAp.DateFormat],jt)}function Ce(Ke,jt){return pe((0,e.cg1)(Ke)[e.wAp.TimeFormat],jt)}function Le(Ke,jt){return pe((0,e.cg1)(Ke)[e.wAp.DateTimeFormat],jt)}function fe(Ke,jt){const pt=(0,e.cg1)(Ke),Ft=pt[e.wAp.NumberSymbols][jt];if(typeof Ft>"u"){if(jt===Ae.CurrencyDecimal)return pt[e.wAp.NumberSymbols][Ae.Decimal];if(jt===Ae.CurrencyGroup)return pt[e.wAp.NumberSymbols][Ae.Group]}return Ft}function be(Ke){if(!Ke[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ke[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pe(Ke,jt){for(let pt=jt;pt>-1;pt--)if(typeof Ke[pt]<"u")return Ke[pt];throw new Error("Locale data API: locale data undefined")}function re(Ke){const[jt,pt]=Ke.split(":");return{hours:+jt,minutes:+pt}}const ne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,J={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var me=function(Ke){return Ke[Ke.Short=0]="Short",Ke[Ke.ShortGMT=1]="ShortGMT",Ke[Ke.Long=2]="Long",Ke[Ke.Extended=3]="Extended",Ke}(me||{}),Ee=function(Ke){return Ke[Ke.FullYear=0]="FullYear",Ke[Ke.Month=1]="Month",Ke[Ke.Date=2]="Date",Ke[Ke.Hours=3]="Hours",Ke[Ke.Minutes=4]="Minutes",Ke[Ke.Seconds=5]="Seconds",Ke[Ke.FractionalSeconds=6]="FractionalSeconds",Ke[Ke.Day=7]="Day",Ke}(Ee||{}),ye=function(Ke){return Ke[Ke.DayPeriods=0]="DayPeriods",Ke[Ke.Days=1]="Days",Ke[Ke.Months=2]="Months",Ke[Ke.Eras=3]="Eras",Ke}(ye||{});function Ne(Ke,jt,pt,Ft){let vn=function ot(Ke){if(mt(Ke))return Ke;if("number"==typeof Ke&&!isNaN(Ke))return new Date(Ke);if("string"==typeof Ke){if(Ke=Ke.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ke)){const[vn,Gn=1,Jn=1]=Ke.split("-").map(_i=>+_i);return tt(vn,Gn-1,Jn)}const pt=parseFloat(Ke);if(!isNaN(Ke-pt))return new Date(pt);let Ft;if(Ft=Ke.match(ne))return function ft(Ke){const jt=new Date(0);let pt=0,Ft=0;const vn=Ke[8]?jt.setUTCFullYear:jt.setFullYear,Gn=Ke[8]?jt.setUTCHours:jt.setHours;Ke[9]&&(pt=Number(Ke[9]+Ke[10]),Ft=Number(Ke[9]+Ke[11])),vn.call(jt,Number(Ke[1]),Number(Ke[2])-1,Number(Ke[3]));const Jn=Number(Ke[4]||0)-pt,_i=Number(Ke[5]||0)-Ft,tr=Number(Ke[6]||0),er=Math.floor(1e3*parseFloat("0."+(Ke[7]||0)));return Gn.call(jt,Jn,_i,tr,er),jt}(Ft)}const jt=new Date(Ke);if(!mt(jt))throw new Error(`Unable to convert "${Ke}" into a date`);return jt}(Ke);jt=qe(pt,jt)||jt;let _i,Jn=[];for(;jt;){if(_i=q.exec(jt),!_i){Jn.push(jt);break}{Jn=Jn.concat(_i.slice(1));const Wi=Jn.pop();if(!Wi)break;jt=Wi}}let tr=vn.getTimezoneOffset();Ft&&(tr=Fe(Ft,tr),vn=function it(Ke,jt,pt){const Ft=pt?-1:1,vn=Ke.getTimezoneOffset();return function ke(Ke,jt){return(Ke=new Date(Ke.getTime())).setMinutes(Ke.getMinutes()+jt),Ke}(Ke,Ft*(Fe(jt,vn)-vn))}(vn,Ft,!0));let er="";return Jn.forEach(Wi=>{const Ji=function Qe(Ke){if(gt[Ke])return gt[Ke];let jt;switch(Ke){case"G":case"GG":case"GGG":jt=ce(ye.Eras,ee.Abbreviated);break;case"GGGG":jt=ce(ye.Eras,ee.Wide);break;case"GGGGG":jt=ce(ye.Eras,ee.Narrow);break;case"y":jt=ht(Ee.FullYear,1,0,!1,!0);break;case"yy":jt=ht(Ee.FullYear,2,0,!0,!0);break;case"yyy":jt=ht(Ee.FullYear,3,0,!1,!0);break;case"yyyy":jt=ht(Ee.FullYear,4,0,!1,!0);break;case"Y":jt=Mt(1);break;case"YY":jt=Mt(2,!0);break;case"YYY":jt=Mt(3);break;case"YYYY":jt=Mt(4);break;case"M":case"L":jt=ht(Ee.Month,1,1);break;case"MM":case"LL":jt=ht(Ee.Month,2,1);break;case"MMM":jt=ce(ye.Months,ee.Abbreviated);break;case"MMMM":jt=ce(ye.Months,ee.Wide);break;case"MMMMM":jt=ce(ye.Months,ee.Narrow);break;case"LLL":jt=ce(ye.Months,ee.Abbreviated,Z.Standalone);break;case"LLLL":jt=ce(ye.Months,ee.Wide,Z.Standalone);break;case"LLLLL":jt=ce(ye.Months,ee.Narrow,Z.Standalone);break;case"w":jt=nn(1);break;case"ww":jt=nn(2);break;case"W":jt=nn(1,!0);break;case"d":jt=ht(Ee.Date,1);break;case"dd":jt=ht(Ee.Date,2);break;case"c":case"cc":jt=ht(Ee.Day,1);break;case"ccc":jt=ce(ye.Days,ee.Abbreviated,Z.Standalone);break;case"cccc":jt=ce(ye.Days,ee.Wide,Z.Standalone);break;case"ccccc":jt=ce(ye.Days,ee.Narrow,Z.Standalone);break;case"cccccc":jt=ce(ye.Days,ee.Short,Z.Standalone);break;case"E":case"EE":case"EEE":jt=ce(ye.Days,ee.Abbreviated);break;case"EEEE":jt=ce(ye.Days,ee.Wide);break;case"EEEEE":jt=ce(ye.Days,ee.Narrow);break;case"EEEEEE":jt=ce(ye.Days,ee.Short);break;case"a":case"aa":case"aaa":jt=ce(ye.DayPeriods,ee.Abbreviated);break;case"aaaa":jt=ce(ye.DayPeriods,ee.Wide);break;case"aaaaa":jt=ce(ye.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":jt=ce(ye.DayPeriods,ee.Abbreviated,Z.Standalone,!0);break;case"bbbb":jt=ce(ye.DayPeriods,ee.Wide,Z.Standalone,!0);break;case"bbbbb":jt=ce(ye.DayPeriods,ee.Narrow,Z.Standalone,!0);break;case"B":case"BB":case"BBB":jt=ce(ye.DayPeriods,ee.Abbreviated,Z.Format,!0);break;case"BBBB":jt=ce(ye.DayPeriods,ee.Wide,Z.Format,!0);break;case"BBBBB":jt=ce(ye.DayPeriods,ee.Narrow,Z.Format,!0);break;case"h":jt=ht(Ee.Hours,1,-12);break;case"hh":jt=ht(Ee.Hours,2,-12);break;case"H":jt=ht(Ee.Hours,1);break;case"HH":jt=ht(Ee.Hours,2);break;case"m":jt=ht(Ee.Minutes,1);break;case"mm":jt=ht(Ee.Minutes,2);break;case"s":jt=ht(Ee.Seconds,1);break;case"ss":jt=ht(Ee.Seconds,2);break;case"S":jt=ht(Ee.FractionalSeconds,1);break;case"SS":jt=ht(Ee.FractionalSeconds,2);break;case"SSS":jt=ht(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":jt=yt(me.Short);break;case"ZZZZZ":jt=yt(me.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":jt=yt(me.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":jt=yt(me.Long);break;default:return null}return gt[Ke]=jt,jt}(Wi);er+=Ji?Ji(vn,pt,tr):"''"===Wi?"'":Wi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),er}function tt(Ke,jt,pt){const Ft=new Date(0);return Ft.setFullYear(Ke,jt,pt),Ft.setHours(0,0,0),Ft}function qe(Ke,jt){const pt=function le(Ke){return(0,e.cg1)(Ke)[e.wAp.LocaleId]}(Ke);if(J[pt]=J[pt]||{},J[pt][jt])return J[pt][jt];let Ft="";switch(jt){case"shortDate":Ft=ge(Ke,ae.Short);break;case"mediumDate":Ft=ge(Ke,ae.Medium);break;case"longDate":Ft=ge(Ke,ae.Long);break;case"fullDate":Ft=ge(Ke,ae.Full);break;case"shortTime":Ft=Ce(Ke,ae.Short);break;case"mediumTime":Ft=Ce(Ke,ae.Medium);break;case"longTime":Ft=Ce(Ke,ae.Long);break;case"fullTime":Ft=Ce(Ke,ae.Full);break;case"short":const vn=qe(Ke,"shortTime"),Gn=qe(Ke,"shortDate");Ft=Xe(Le(Ke,ae.Short),[vn,Gn]);break;case"medium":const Jn=qe(Ke,"mediumTime"),_i=qe(Ke,"mediumDate");Ft=Xe(Le(Ke,ae.Medium),[Jn,_i]);break;case"long":const tr=qe(Ke,"longTime"),er=qe(Ke,"longDate");Ft=Xe(Le(Ke,ae.Long),[tr,er]);break;case"full":const Wi=qe(Ke,"fullTime"),Ji=qe(Ke,"fullDate");Ft=Xe(Le(Ke,ae.Full),[Wi,Ji])}return Ft&&(J[pt][jt]=Ft),Ft}function Xe(Ke,jt){return jt&&(Ke=Ke.replace(/\{([^}]+)}/g,function(pt,Ft){return null!=jt&&Ft in jt?jt[Ft]:pt})),Ke}function ut(Ke,jt,pt="-",Ft,vn){let Gn="";(Ke<0||vn&&Ke<=0)&&(vn?Ke=1-Ke:(Ke=-Ke,Gn=pt));let Jn=String(Ke);for(;Jn.length<jt;)Jn="0"+Jn;return Ft&&(Jn=Jn.slice(Jn.length-jt)),Gn+Jn}function ht(Ke,jt,pt=0,Ft=!1,vn=!1){return function(Gn,Jn){let _i=function vt(Ke,jt){switch(Ke){case Ee.FullYear:return jt.getFullYear();case Ee.Month:return jt.getMonth();case Ee.Date:return jt.getDate();case Ee.Hours:return jt.getHours();case Ee.Minutes:return jt.getMinutes();case Ee.Seconds:return jt.getSeconds();case Ee.FractionalSeconds:return jt.getMilliseconds();case Ee.Day:return jt.getDay();default:throw new Error(`Unknown DateType value "${Ke}".`)}}(Ke,Gn);if((pt>0||_i>-pt)&&(_i+=pt),Ke===Ee.Hours)0===_i&&-12===pt&&(_i=12);else if(Ke===Ee.FractionalSeconds)return function ze(Ke,jt){return ut(Ke,3).substring(0,jt)}(_i,jt);const tr=fe(Jn,Ae.MinusSign);return ut(_i,jt,tr,Ft,vn)}}function ce(Ke,jt,pt=Z.Format,Ft=!1){return function(vn,Gn){return function Ve(Ke,jt,pt,Ft,vn,Gn){switch(pt){case ye.Months:return de(jt,vn,Ft)[Ke.getMonth()];case ye.Days:return ve(jt,vn,Ft)[Ke.getDay()];case ye.DayPeriods:const Jn=Ke.getHours(),_i=Ke.getMinutes();if(Gn){const er=function _e(Ke){const jt=(0,e.cg1)(Ke);return be(jt),(jt[e.wAp.ExtraData][2]||[]).map(Ft=>"string"==typeof Ft?re(Ft):[re(Ft[0]),re(Ft[1])])}(jt),Wi=function K(Ke,jt,pt){const Ft=(0,e.cg1)(Ke);be(Ft);const Gn=pe([Ft[e.wAp.ExtraData][0],Ft[e.wAp.ExtraData][1]],jt)||[];return pe(Gn,pt)||[]}(jt,vn,Ft),Ji=er.findIndex(Vr=>{if(Array.isArray(Vr)){const[or,Or]=Vr,ko=Jn>=or.hours&&_i>=or.minutes,xi=Jn<Or.hours||Jn===Or.hours&&_i<Or.minutes;if(or.hours<Or.hours){if(ko&&xi)return!0}else if(ko||xi)return!0}else if(Vr.hours===Jn&&Vr.minutes===_i)return!0;return!1});if(-1!==Ji)return Wi[Ji]}return function Y(Ke,jt,pt){const Ft=(0,e.cg1)(Ke),Gn=pe([Ft[e.wAp.DayPeriodsFormat],Ft[e.wAp.DayPeriodsStandalone]],jt);return pe(Gn,pt)}(jt,vn,Ft)[Jn<12?0:1];case ye.Eras:return function Se(Ke,jt){return pe((0,e.cg1)(Ke)[e.wAp.Eras],jt)}(jt,Ft)[Ke.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${pt}`)}}(vn,Gn,Ke,jt,pt,Ft)}}function yt(Ke){return function(jt,pt,Ft){const vn=-1*Ft,Gn=fe(pt,Ae.MinusSign),Jn=vn>0?Math.floor(vn/60):Math.ceil(vn/60);switch(Ke){case me.Short:return(vn>=0?"+":"")+ut(Jn,2,Gn)+ut(Math.abs(vn%60),2,Gn);case me.ShortGMT:return"GMT"+(vn>=0?"+":"")+ut(Jn,1,Gn);case me.Long:return"GMT"+(vn>=0?"+":"")+ut(Jn,2,Gn)+":"+ut(Math.abs(vn%60),2,Gn);case me.Extended:return 0===Ft?"Z":(vn>=0?"+":"")+ut(Jn,2,Gn)+":"+ut(Math.abs(vn%60),2,Gn);default:throw new Error(`Unknown zone width "${Ke}"`)}}}const Bt=0,zt=4;function cn(Ke){return tt(Ke.getFullYear(),Ke.getMonth(),Ke.getDate()+(zt-Ke.getDay()))}function nn(Ke,jt=!1){return function(pt,Ft){let vn;if(jt){const Gn=new Date(pt.getFullYear(),pt.getMonth(),1).getDay()-1,Jn=pt.getDate();vn=1+Math.floor((Jn+Gn)/7)}else{const Gn=cn(pt),Jn=function Yt(Ke){const jt=tt(Ke,Bt,1).getDay();return tt(Ke,0,1+(jt<=zt?zt:zt+7)-jt)}(Gn.getFullYear()),_i=Gn.getTime()-Jn.getTime();vn=1+Math.round(_i/6048e5)}return ut(vn,Ke,fe(Ft,Ae.MinusSign))}}function Mt(Ke,jt=!1){return function(pt,Ft){return ut(cn(pt).getFullYear(),Ke,fe(Ft,Ae.MinusSign),jt)}}const gt={};function Fe(Ke,jt){Ke=Ke.replace(/:/g,"");const pt=Date.parse("Jan 01, 1970 00:00:00 "+Ke)/6e4;return isNaN(pt)?jt:pt}function mt(Ke){return Ke instanceof Date&&!isNaN(Ke.valueOf())}function Rt(Ke,jt){jt=encodeURIComponent(jt);for(const pt of Ke.split(";")){const Ft=pt.indexOf("="),[vn,Gn]=-1==Ft?[pt,""]:[pt.slice(0,Ft),pt.slice(Ft+1)];if(vn.trim()===jt)return decodeURIComponent(Gn)}return null}const St=/\s+/,It=[];let Zt=(()=>{class Ke{constructor(pt,Ft,vn,Gn){this._iterableDiffers=pt,this._keyValueDiffers=Ft,this._ngEl=vn,this._renderer=Gn,this.initialClasses=It,this.stateMap=new Map}set klass(pt){this.initialClasses=null!=pt?pt.trim().split(St):It}set ngClass(pt){this.rawClass="string"==typeof pt?pt.trim().split(St):pt}ngDoCheck(){for(const Ft of this.initialClasses)this._updateState(Ft,!0);const pt=this.rawClass;if(Array.isArray(pt)||pt instanceof Set)for(const Ft of pt)this._updateState(Ft,!0);else if(null!=pt)for(const Ft of Object.keys(pt))this._updateState(Ft,!!pt[Ft]);this._applyStateDiff()}_updateState(pt,Ft){const vn=this.stateMap.get(pt);void 0!==vn?(vn.enabled!==Ft&&(vn.changed=!0,vn.enabled=Ft),vn.touched=!0):this.stateMap.set(pt,{enabled:Ft,changed:!0,touched:!0})}_applyStateDiff(){for(const pt of this.stateMap){const Ft=pt[0],vn=pt[1];vn.changed?(this._toggleClass(Ft,vn.enabled),vn.changed=!1):vn.touched||(vn.enabled&&this._toggleClass(Ft,!1),this.stateMap.delete(Ft)),vn.touched=!1}}_toggleClass(pt,Ft){(pt=pt.trim()).length>0&&pt.split(St).forEach(vn=>{Ft?this._renderer.addClass(this._ngEl.nativeElement,vn):this._renderer.removeClass(this._ngEl.nativeElement,vn)})}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return Ke})();class Hn{constructor(jt,pt,Ft,vn){this.$implicit=jt,this.ngForOf=pt,this.index=Ft,this.count=vn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lt=(()=>{class Ke{set ngForOf(pt){this._ngForOf=pt,this._ngForOfDirty=!0}set ngForTrackBy(pt){this._trackByFn=pt}get ngForTrackBy(){return this._trackByFn}constructor(pt,Ft,vn){this._viewContainer=pt,this._template=Ft,this._differs=vn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(pt){pt&&(this._template=pt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const pt=this._ngForOf;!this._differ&&pt&&(this._differ=this._differs.find(pt).create(this.ngForTrackBy))}if(this._differ){const pt=this._differ.diff(this._ngForOf);pt&&this._applyChanges(pt)}}_applyChanges(pt){const Ft=this._viewContainer;pt.forEachOperation((vn,Gn,Jn)=>{if(null==vn.previousIndex)Ft.createEmbeddedView(this._template,new Hn(vn.item,this._ngForOf,-1,-1),null===Jn?void 0:Jn);else if(null==Jn)Ft.remove(null===Gn?void 0:Gn);else if(null!==Gn){const _i=Ft.get(Gn);Ft.move(_i,Jn),Sn(_i,vn)}});for(let vn=0,Gn=Ft.length;vn<Gn;vn++){const _i=Ft.get(vn).context;_i.index=vn,_i.count=Gn,_i.ngForOf=this._ngForOf}pt.forEachIdentityChange(vn=>{Sn(Ft.get(vn.currentIndex),vn)})}static ngTemplateContextGuard(pt,Ft){return!0}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ke})();function Sn(Ke,jt){Ke.context.$implicit=jt.item}let Pt=(()=>{class Ke{constructor(pt,Ft){this._viewContainer=pt,this._context=new Dt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ft}set ngIf(pt){this._context.$implicit=this._context.ngIf=pt,this._updateView()}set ngIfThen(pt){Xt("ngIfThen",pt),this._thenTemplateRef=pt,this._thenViewRef=null,this._updateView()}set ngIfElse(pt){Xt("ngIfElse",pt),this._elseTemplateRef=pt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(pt,Ft){return!0}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ke})();class Dt{constructor(){this.$implicit=null,this.ngIf=null}}function Xt(Ke,jt){if(jt&&!jt.createEmbeddedView)throw new Error(`${Ke} must be a TemplateRef, but received '${(0,e.AaK)(jt)}'.`)}class Mn{constructor(jt,pt){this._viewContainerRef=jt,this._templateRef=pt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(jt){jt&&!this._created?this.create():!jt&&this._created&&this.destroy()}}let ai=(()=>{class Ke{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(pt){this._ngSwitch=pt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(pt){this._defaultViews.push(pt)}_matchCase(pt){const Ft=pt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ft,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ft}_updateDefaultCases(pt){if(this._defaultViews.length>0&&pt!==this._defaultUsed){this._defaultUsed=pt;for(const Ft of this._defaultViews)Ft.enforceState(pt)}}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return Ke})(),qi=(()=>{class Ke{constructor(pt,Ft,vn){this.ngSwitch=vn,vn._addCase(),this._view=new Mn(pt,Ft)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(ai,9))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return Ke})(),Hr=(()=>{class Ke{constructor(pt,Ft,vn){vn._addDefault(new Mn(pt,Ft))}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(ai,9))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return Ke})(),_o=(()=>{class Ke{constructor(pt){this._viewContainerRef=pt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(pt){if(pt.ngTemplateOutlet||pt.ngTemplateOutletInjector){const Ft=this._viewContainerRef;if(this._viewRef&&Ft.remove(Ft.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:vn,ngTemplateOutletContext:Gn,ngTemplateOutletInjector:Jn}=this;this._viewRef=Ft.createEmbeddedView(vn,Gn,Jn?{injector:Jn}:void 0)}else this._viewRef=null}else this._viewRef&&pt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}return Ke})();function Fi(Ke,jt){return new e.vHH(2100,!1)}class Ii{createSubscription(jt,pt){return(0,e.rg0)(()=>jt.subscribe({next:pt,error:Ft=>{throw Ft}}))}dispose(jt){(0,e.rg0)(()=>jt.unsubscribe())}}class fi{createSubscription(jt,pt){return jt.then(pt,Ft=>{throw Ft})}dispose(jt){}}const ho=new fi,br=new Ii;let ls=(()=>{class Ke{constructor(pt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=pt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(pt){return this._obj?pt!==this._obj?(this._dispose(),this.transform(pt)):this._latestValue:(pt&&this._subscribe(pt),this._latestValue)}_subscribe(pt){this._obj=pt,this._strategy=this._selectStrategy(pt),this._subscription=this._strategy.createSubscription(pt,Ft=>this._updateLatestValue(pt,Ft))}_selectStrategy(pt){if((0,e.QGY)(pt))return ho;if((0,e.F4k)(pt))return br;throw Fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(pt,Ft){pt===this._obj&&(this._latestValue=Ft,this._ref.markForCheck())}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.sBO,16))};static#t=this.\u0275pipe=e.Yjl({name:"async",type:Ke,pure:!1,standalone:!0})}return Ke})();const pi=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pi=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let rr=(()=>{class Ke{constructor(pt,Ft,vn){this.locale=pt,this.defaultTimezone=Ft,this.defaultOptions=vn}transform(pt,Ft,vn,Gn){if(null==pt||""===pt||pt!=pt)return null;try{return Ne(pt,Ft??this.defaultOptions?.dateFormat??"mediumDate",Gn||this.locale,vn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Jn){throw Fi()}}static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)(e.Y36(e.soG,16),e.Y36(pi,24),e.Y36(Pi,24))};static#t=this.\u0275pipe=e.Yjl({name:"date",type:Ke,pure:!0,standalone:!0})}return Ke})(),Mo=(()=>{class Ke{static#e=this.\u0275fac=function(Ft){return new(Ft||Ke)};static#t=this.\u0275mod=e.oAB({type:Ke});static#n=this.\u0275inj=e.cJS({})}return Ke})();const Ao="browser",Ms="server";function Xo(Ke){return Ke===Ao}function Go(Ke){return Ke===Ms}let ps=(()=>{class Ke{static#e=this.\u0275prov=(0,e.Yz7)({token:Ke,providedIn:"root",factory:()=>new ao((0,e.LFG)(I),window)})}return Ke})();class ao{constructor(jt,pt){this.document=jt,this.window=pt,this.offset=()=>[0,0]}setOffset(jt){this.offset=Array.isArray(jt)?()=>jt:jt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(jt){this.supportsScrolling()&&this.window.scrollTo(jt[0],jt[1])}scrollToAnchor(jt){if(!this.supportsScrolling())return;const pt=function Ho(Ke,jt){const pt=Ke.getElementById(jt)||Ke.getElementsByName(jt)[0];if(pt)return pt;if("function"==typeof Ke.createTreeWalker&&Ke.body&&"function"==typeof Ke.body.attachShadow){const Ft=Ke.createTreeWalker(Ke.body,NodeFilter.SHOW_ELEMENT);let vn=Ft.currentNode;for(;vn;){const Gn=vn.shadowRoot;if(Gn){const Jn=Gn.getElementById(jt)||Gn.querySelector(`[name="${jt}"]`);if(Jn)return Jn}vn=Ft.nextNode()}}return null}(this.document,jt);pt&&(this.scrollToElement(pt),pt.focus())}setHistoryScrollRestoration(jt){if(this.supportScrollRestoration()){const pt=this.window.history;pt&&pt.scrollRestoration&&(pt.scrollRestoration=jt)}}scrollToElement(jt){const pt=jt.getBoundingClientRect(),Ft=pt.left+this.window.pageXOffset,vn=pt.top+this.window.pageYOffset,Gn=this.offset();this.window.scrollTo(Ft-Gn[0],vn-Gn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const jt=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!jt||!jt.writable&&!jt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function es(Ke){return Object.getOwnPropertyDescriptor(Ke,"scrollRestoration")}class Pr{}},9862:(Bn,et,v)=>{"use strict";v.d(et,{JF:()=>Et,WM:()=>y,eN:()=>Ge});var e=v(5879),n=v(2096),E=v(2459),A=v(5592),_=v(6328),I=v(2181),w=v(7398),g=v(4716),o=v(4664),d=v(6814);class u{}class m{}class y{constructor(an){this.normalizedNames=new Map,this.lazyUpdate=null,an?"string"==typeof an?this.lazyInit=()=>{this.headers=new Map,an.split("\n").forEach(un=>{const on=un.indexOf(":");if(on>0){const ln=un.slice(0,on),Tt=ln.toLowerCase(),ct=un.slice(on+1).trim();this.maybeSetNormalizedName(ln,Tt),this.headers.has(Tt)?this.headers.get(Tt).push(ct):this.headers.set(Tt,[ct])}})}:typeof Headers<"u"&&an instanceof Headers?(this.headers=new Map,an.forEach((un,on)=>{this.setHeaderEntries(on,un)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(an).forEach(([un,on])=>{this.setHeaderEntries(un,on)})}:this.headers=new Map}has(an){return this.init(),this.headers.has(an.toLowerCase())}get(an){this.init();const un=this.headers.get(an.toLowerCase());return un&&un.length>0?un[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(an){return this.init(),this.headers.get(an.toLowerCase())||null}append(an,un){return this.clone({name:an,value:un,op:"a"})}set(an,un){return this.clone({name:an,value:un,op:"s"})}delete(an,un){return this.clone({name:an,value:un,op:"d"})}maybeSetNormalizedName(an,un){this.normalizedNames.has(un)||this.normalizedNames.set(un,an)}init(){this.lazyInit&&(this.lazyInit instanceof y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(an=>this.applyUpdate(an)),this.lazyUpdate=null))}copyFrom(an){an.init(),Array.from(an.headers.keys()).forEach(un=>{this.headers.set(un,an.headers.get(un)),this.normalizedNames.set(un,an.normalizedNames.get(un))})}clone(an){const un=new y;return un.lazyInit=this.lazyInit&&this.lazyInit instanceof y?this.lazyInit:this,un.lazyUpdate=(this.lazyUpdate||[]).concat([an]),un}applyUpdate(an){const un=an.name.toLowerCase();switch(an.op){case"a":case"s":let on=an.value;if("string"==typeof on&&(on=[on]),0===on.length)return;this.maybeSetNormalizedName(an.name,un);const ln=("a"===an.op?this.headers.get(un):void 0)||[];ln.push(...on),this.headers.set(un,ln);break;case"d":const Tt=an.value;if(Tt){let ct=this.headers.get(un);if(!ct)return;ct=ct.filter(hn=>-1===Tt.indexOf(hn)),0===ct.length?(this.headers.delete(un),this.normalizedNames.delete(un)):this.headers.set(un,ct)}else this.headers.delete(un),this.normalizedNames.delete(un)}}setHeaderEntries(an,un){const on=(Array.isArray(un)?un:[un]).map(Tt=>Tt.toString()),ln=an.toLowerCase();this.headers.set(ln,on),this.maybeSetNormalizedName(an,ln)}forEach(an){this.init(),Array.from(this.normalizedNames.keys()).forEach(un=>an(this.normalizedNames.get(un),this.headers.get(un)))}}class P{encodeKey(an){return D(an)}encodeValue(an){return D(an)}decodeKey(an){return decodeURIComponent(an)}decodeValue(an){return decodeURIComponent(an)}}const F=/%(\d[a-f0-9])/gi,R={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D(dn){return encodeURIComponent(dn).replace(F,(an,un)=>R[un]??an)}function T(dn){return`${dn}`}class C{constructor(an={}){if(this.updates=null,this.cloneFrom=null,this.encoder=an.encoder||new P,an.fromString){if(an.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B(dn,an){const un=new Map;return dn.length>0&&dn.replace(/^\?/,"").split("&").forEach(ln=>{const Tt=ln.indexOf("="),[ct,hn]=-1==Tt?[an.decodeKey(ln),""]:[an.decodeKey(ln.slice(0,Tt)),an.decodeValue(ln.slice(Tt+1))],Ze=un.get(ct)||[];Ze.push(hn),un.set(ct,Ze)}),un}(an.fromString,this.encoder)}else an.fromObject?(this.map=new Map,Object.keys(an.fromObject).forEach(un=>{const on=an.fromObject[un],ln=Array.isArray(on)?on.map(T):[T(on)];this.map.set(un,ln)})):this.map=null}has(an){return this.init(),this.map.has(an)}get(an){this.init();const un=this.map.get(an);return un?un[0]:null}getAll(an){return this.init(),this.map.get(an)||null}keys(){return this.init(),Array.from(this.map.keys())}append(an,un){return this.clone({param:an,value:un,op:"a"})}appendAll(an){const un=[];return Object.keys(an).forEach(on=>{const ln=an[on];Array.isArray(ln)?ln.forEach(Tt=>{un.push({param:on,value:Tt,op:"a"})}):un.push({param:on,value:ln,op:"a"})}),this.clone(un)}set(an,un){return this.clone({param:an,value:un,op:"s"})}delete(an,un){return this.clone({param:an,value:un,op:"d"})}toString(){return this.init(),this.keys().map(an=>{const un=this.encoder.encodeKey(an);return this.map.get(an).map(on=>un+"="+this.encoder.encodeValue(on)).join("&")}).filter(an=>""!==an).join("&")}clone(an){const un=new C({encoder:this.encoder});return un.cloneFrom=this.cloneFrom||this,un.updates=(this.updates||[]).concat(an),un}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(an=>this.map.set(an,this.cloneFrom.map.get(an))),this.updates.forEach(an=>{switch(an.op){case"a":case"s":const un=("a"===an.op?this.map.get(an.param):void 0)||[];un.push(T(an.value)),this.map.set(an.param,un);break;case"d":if(void 0===an.value){this.map.delete(an.param);break}{let on=this.map.get(an.param)||[];const ln=on.indexOf(T(an.value));-1!==ln&&on.splice(ln,1),on.length>0?this.map.set(an.param,on):this.map.delete(an.param)}}}),this.cloneFrom=this.updates=null)}}class M{constructor(){this.map=new Map}set(an,un){return this.map.set(an,un),this}get(an){return this.map.has(an)||this.map.set(an,an.defaultValue()),this.map.get(an)}delete(an){return this.map.delete(an),this}has(an){return this.map.has(an)}keys(){return this.map.keys()}}function Z(dn){return typeof ArrayBuffer<"u"&&dn instanceof ArrayBuffer}function ee(dn){return typeof Blob<"u"&&dn instanceof Blob}function ae(dn){return typeof FormData<"u"&&dn instanceof FormData}class j{constructor(an,un,on,ln){let Tt;if(this.url=un,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=an.toUpperCase(),function G(dn){switch(dn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ln?(this.body=void 0!==on?on:null,Tt=ln):Tt=on,Tt&&(this.reportProgress=!!Tt.reportProgress,this.withCredentials=!!Tt.withCredentials,Tt.responseType&&(this.responseType=Tt.responseType),Tt.headers&&(this.headers=Tt.headers),Tt.context&&(this.context=Tt.context),Tt.params&&(this.params=Tt.params)),this.headers||(this.headers=new y),this.context||(this.context=new M),this.params){const ct=this.params.toString();if(0===ct.length)this.urlWithParams=un;else{const hn=un.indexOf("?");this.urlWithParams=un+(-1===hn?"?":hn<un.length-1?"&":"")+ct}}else this.params=new C,this.urlWithParams=un}serializeBody(){return null===this.body?null:Z(this.body)||ee(this.body)||ae(this.body)||function Ae(dn){return typeof URLSearchParams<"u"&&dn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof C?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ae(this.body)?null:ee(this.body)?this.body.type||null:Z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(an={}){const un=an.method||this.method,on=an.url||this.url,ln=an.responseType||this.responseType,Tt=void 0!==an.body?an.body:this.body,ct=void 0!==an.withCredentials?an.withCredentials:this.withCredentials,hn=void 0!==an.reportProgress?an.reportProgress:this.reportProgress;let Ze=an.headers||this.headers,bt=an.params||this.params;const Kt=an.context??this.context;return void 0!==an.setHeaders&&(Ze=Object.keys(an.setHeaders).reduce((Ot,yn)=>Ot.set(yn,an.setHeaders[yn]),Ze)),an.setParams&&(bt=Object.keys(an.setParams).reduce((Ot,yn)=>Ot.set(yn,an.setParams[yn]),bt)),new j(un,on,Tt,{params:bt,headers:Ze,context:Kt,reportProgress:hn,responseType:ln,withCredentials:ct})}}var le=function(dn){return dn[dn.Sent=0]="Sent",dn[dn.UploadProgress=1]="UploadProgress",dn[dn.ResponseHeader=2]="ResponseHeader",dn[dn.DownloadProgress=3]="DownloadProgress",dn[dn.Response=4]="Response",dn[dn.User=5]="User",dn}(le||{});class Y{constructor(an,un=200,on="OK"){this.headers=an.headers||new y,this.status=void 0!==an.status?an.status:un,this.statusText=an.statusText||on,this.url=an.url||null,this.ok=this.status>=200&&this.status<300}}class ve extends Y{constructor(an={}){super(an),this.type=le.ResponseHeader}clone(an={}){return new ve({headers:an.headers||this.headers,status:void 0!==an.status?an.status:this.status,statusText:an.statusText||this.statusText,url:an.url||this.url||void 0})}}class de extends Y{constructor(an={}){super(an),this.type=le.Response,this.body=void 0!==an.body?an.body:null}clone(an={}){return new de({body:void 0!==an.body?an.body:this.body,headers:an.headers||this.headers,status:void 0!==an.status?an.status:this.status,statusText:an.statusText||this.statusText,url:an.url||this.url||void 0})}}class Se extends Y{constructor(an){super(an,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${an.url||"(unknown url)"}`:`Http failure response for ${an.url||"(unknown url)"}: ${an.status} ${an.statusText}`,this.error=an.error||null}}function xe(dn,an){return{body:an,headers:dn.headers,context:dn.context,observe:dn.observe,params:dn.params,reportProgress:dn.reportProgress,responseType:dn.responseType,withCredentials:dn.withCredentials}}let Ge=(()=>{class dn{constructor(un){this.handler=un}request(un,on,ln={}){let Tt;if(un instanceof j)Tt=un;else{let Ze,bt;Ze=ln.headers instanceof y?ln.headers:new y(ln.headers),ln.params&&(bt=ln.params instanceof C?ln.params:new C({fromObject:ln.params})),Tt=new j(un,on,void 0!==ln.body?ln.body:null,{headers:Ze,context:ln.context,params:bt,reportProgress:ln.reportProgress,responseType:ln.responseType||"json",withCredentials:ln.withCredentials})}const ct=(0,n.of)(Tt).pipe((0,_.b)(Ze=>this.handler.handle(Ze)));if(un instanceof j||"events"===ln.observe)return ct;const hn=ct.pipe((0,I.h)(Ze=>Ze instanceof de));switch(ln.observe||"body"){case"body":switch(Tt.responseType){case"arraybuffer":return hn.pipe((0,w.U)(Ze=>{if(null!==Ze.body&&!(Ze.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ze.body}));case"blob":return hn.pipe((0,w.U)(Ze=>{if(null!==Ze.body&&!(Ze.body instanceof Blob))throw new Error("Response is not a Blob.");return Ze.body}));case"text":return hn.pipe((0,w.U)(Ze=>{if(null!==Ze.body&&"string"!=typeof Ze.body)throw new Error("Response is not a string.");return Ze.body}));default:return hn.pipe((0,w.U)(Ze=>Ze.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${ln.observe}}`)}}delete(un,on={}){return this.request("DELETE",un,on)}get(un,on={}){return this.request("GET",un,on)}head(un,on={}){return this.request("HEAD",un,on)}jsonp(un,on){return this.request("JSONP",un,{params:(new C).append(on,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(un,on={}){return this.request("OPTIONS",un,on)}patch(un,on,ln={}){return this.request("PATCH",un,xe(ln,on))}post(un,on,ln={}){return this.request("POST",un,xe(ln,on))}put(un,on,ln={}){return this.request("PUT",un,xe(ln,on))}static#e=this.\u0275fac=function(on){return new(on||dn)(e.LFG(u))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();function Ue(dn,an){return an(dn)}function lt(dn,an){return(un,on)=>an.intercept(un,{handle:ln=>dn(ln,on)})}const be=new e.OlP(""),_e=new e.OlP(""),K=new e.OlP("");function oe(){let dn=null;return(an,un)=>{null===dn&&(dn=((0,e.f3M)(be,{optional:!0})??[]).reduceRight(lt,Ue));const on=(0,e.f3M)(e.HDt),ln=on.add();return dn(an,un).pipe((0,g.x)(()=>on.remove(ln)))}}let pe=(()=>{class dn extends u{constructor(un,on){super(),this.backend=un,this.injector=on,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(un){if(null===this.chain){const ln=Array.from(new Set([...this.injector.get(_e),...this.injector.get(K,[])]));this.chain=ln.reduceRight((Tt,ct)=>function He(dn,an,un){return(on,ln)=>un.runInContext(()=>an(on,Tt=>dn(Tt,ln)))}(Tt,ct,this.injector),Ue)}const on=this.pendingTasks.add();return this.chain(un,ln=>this.backend.handle(ln)).pipe((0,g.x)(()=>this.pendingTasks.remove(on)))}static#e=this.\u0275fac=function(on){return new(on||dn)(e.LFG(m),e.LFG(e.lqb))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();const tt=/^\)\]\}',?\n/;let Xe=(()=>{class dn{constructor(un){this.xhrFactory=un}handle(un){if("JSONP"===un.method)throw new e.vHH(-2800,!1);const on=this.xhrFactory;return(on.\u0275loadImpl?(0,E.D)(on.\u0275loadImpl()):(0,n.of)(null)).pipe((0,o.w)(()=>new A.y(Tt=>{const ct=on.build();if(ct.open(un.method,un.urlWithParams),un.withCredentials&&(ct.withCredentials=!0),un.headers.forEach((It,Zt)=>ct.setRequestHeader(It,Zt.join(","))),un.headers.has("Accept")||ct.setRequestHeader("Accept","application/json, text/plain, */*"),!un.headers.has("Content-Type")){const It=un.detectContentTypeHeader();null!==It&&ct.setRequestHeader("Content-Type",It)}if(un.responseType){const It=un.responseType.toLowerCase();ct.responseType="json"!==It?It:"text"}const hn=un.serializeBody();let Ze=null;const bt=()=>{if(null!==Ze)return Ze;const It=ct.statusText||"OK",Zt=new y(ct.getAllResponseHeaders()),gn=function qe(dn){return"responseURL"in dn&&dn.responseURL?dn.responseURL:/^X-Request-URL:/m.test(dn.getAllResponseHeaders())?dn.getResponseHeader("X-Request-URL"):null}(ct)||un.url;return Ze=new ve({headers:Zt,status:ct.status,statusText:It,url:gn}),Ze},Kt=()=>{let{headers:It,status:Zt,statusText:gn,url:Ln}=bt(),Hn=null;204!==Zt&&(Hn=typeof ct.response>"u"?ct.responseText:ct.response),0===Zt&&(Zt=Hn?200:0);let Lt=Zt>=200&&Zt<300;if("json"===un.responseType&&"string"==typeof Hn){const Sn=Hn;Hn=Hn.replace(tt,"");try{Hn=""!==Hn?JSON.parse(Hn):null}catch(Ie){Hn=Sn,Lt&&(Lt=!1,Hn={error:Ie,text:Hn})}}Lt?(Tt.next(new de({body:Hn,headers:It,status:Zt,statusText:gn,url:Ln||void 0})),Tt.complete()):Tt.error(new Se({error:Hn,headers:It,status:Zt,statusText:gn,url:Ln||void 0}))},Ot=It=>{const{url:Zt}=bt(),gn=new Se({error:It,status:ct.status||0,statusText:ct.statusText||"Unknown Error",url:Zt||void 0});Tt.error(gn)};let yn=!1;const Rt=It=>{yn||(Tt.next(bt()),yn=!0);let Zt={type:le.DownloadProgress,loaded:It.loaded};It.lengthComputable&&(Zt.total=It.total),"text"===un.responseType&&ct.responseText&&(Zt.partialText=ct.responseText),Tt.next(Zt)},St=It=>{let Zt={type:le.UploadProgress,loaded:It.loaded};It.lengthComputable&&(Zt.total=It.total),Tt.next(Zt)};return ct.addEventListener("load",Kt),ct.addEventListener("error",Ot),ct.addEventListener("timeout",Ot),ct.addEventListener("abort",Ot),un.reportProgress&&(ct.addEventListener("progress",Rt),null!==hn&&ct.upload&&ct.upload.addEventListener("progress",St)),ct.send(hn),Tt.next({type:le.Sent}),()=>{ct.removeEventListener("error",Ot),ct.removeEventListener("abort",Ot),ct.removeEventListener("load",Kt),ct.removeEventListener("timeout",Ot),un.reportProgress&&(ct.removeEventListener("progress",Rt),null!==hn&&ct.upload&&ct.upload.removeEventListener("progress",St)),ct.readyState!==ct.DONE&&ct.abort()}})))}static#e=this.\u0275fac=function(on){return new(on||dn)(e.LFG(d.JF))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();const ut=new e.OlP("XSRF_ENABLED"),ht=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ce=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ve{}let yt=(()=>{class dn{constructor(un,on,ln){this.doc=un,this.platform=on,this.cookieName=ln,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const un=this.doc.cookie||"";return un!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(un,this.cookieName),this.lastCookieString=un),this.lastToken}static#e=this.\u0275fac=function(on){return new(on||dn)(e.LFG(d.K0),e.LFG(e.Lbi),e.LFG(ht))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();function Bt(dn,an){const un=dn.url.toLowerCase();if(!(0,e.f3M)(ut)||"GET"===dn.method||"HEAD"===dn.method||un.startsWith("http://")||un.startsWith("https://"))return an(dn);const on=(0,e.f3M)(Ve).getToken(),ln=(0,e.f3M)(ce);return null!=on&&!dn.headers.has(ln)&&(dn=dn.clone({headers:dn.headers.set(ln,on)})),an(dn)}var Yt=function(dn){return dn[dn.Interceptors=0]="Interceptors",dn[dn.LegacyInterceptors=1]="LegacyInterceptors",dn[dn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dn[dn.NoXsrfProtection=3]="NoXsrfProtection",dn[dn.JsonpSupport=4]="JsonpSupport",dn[dn.RequestsMadeViaParent=5]="RequestsMadeViaParent",dn[dn.Fetch=6]="Fetch",dn}(Yt||{});function nn(...dn){const an=[Ge,Xe,pe,{provide:u,useExisting:pe},{provide:m,useExisting:Xe},{provide:_e,useValue:Bt,multi:!0},{provide:ut,useValue:!0},{provide:Ve,useClass:yt}];for(const un of dn)an.push(...un.\u0275providers);return(0,e.MR2)(an)}const gt=new e.OlP("LEGACY_INTERCEPTOR_FN");function Qe(){return function cn(dn,an){return{\u0275kind:dn,\u0275providers:an}}(Yt.LegacyInterceptors,[{provide:gt,useFactory:oe},{provide:_e,useExisting:gt,multi:!0}])}let Et=(()=>{class dn{static#e=this.\u0275fac=function(on){return new(on||dn)};static#t=this.\u0275mod=e.oAB({type:dn});static#n=this.\u0275inj=e.cJS({providers:[nn(Qe())]})}return dn})()},5879:(Bn,et,v)=>{"use strict";v.d(et,{$8M:()=>Kc,$WT:()=>ho,$Z:()=>rd,AFp:()=>eg,ALo:()=>lE,AaK:()=>m,AsE:()=>l,BQk:()=>ju,CHM:()=>ya,CRH:()=>CE,DdM:()=>Xb,EJc:()=>BC,EiD:()=>pu,EpF:()=>Vu,F$t:()=>p_,F4k:()=>Vh,FYo:()=>Lm,FiY:()=>Cs,G48:()=>lD,Gf:()=>TE,GfV:()=>cg,GkF:()=>fp,Gpc:()=>P,Gre:()=>$e,HDt:()=>zE,Hsn:()=>g_,Ikx:()=>sr,JOm:()=>Jc,JVY:()=>lr,JZr:()=>T,Jf7:()=>mg,KtG:()=>rs,L6k:()=>ji,LAX:()=>hr,LFG:()=>Qe,LMc:()=>kD,LSH:()=>_u,Lbi:()=>Mm,Lck:()=>xS,MAs:()=>Xd,MGl:()=>Kh,MMx:()=>Wb,MR2:()=>df,NdJ:()=>mp,O4$:()=>rt,Ojb:()=>fv,OlP:()=>Kr,Oqu:()=>i,P3R:()=>bd,PXZ:()=>XC,Q6J:()=>Af,QGY:()=>If,QbO:()=>uv,Qsj:()=>xv,R0b:()=>pl,RDi:()=>rh,Rgc:()=>Rp,SBq:()=>Cu,SDv:()=>Ub,Sil:()=>HC,Suo:()=>SE,TTD:()=>xa,TgZ:()=>tc,Tol:()=>x_,Udp:()=>Tp,VKq:()=>eE,VuI:()=>ND,W1O:()=>xE,WFA:()=>pp,WLB:()=>tE,X6Q:()=>aD,XFs:()=>me,Xpm:()=>ai,Xq5:()=>zg,Xts:()=>Vd,Y36:()=>Au,YKP:()=>Vb,YNc:()=>s_,Yjl:()=>qo,Yz7:()=>be,Z0I:()=>pe,ZZ4:()=>Ly,_Bn:()=>jb,_UZ:()=>up,_Vd:()=>hf,_c5:()=>CD,_uU:()=>F_,aQg:()=>ky,c2e:()=>YE,cJS:()=>K,cg1:()=>ja,d8E:()=>fo,dDg:()=>$C,dqk:()=>Xe,eBb:()=>xr,eFA:()=>aT,eJc:()=>yy,ekj:()=>Sp,eoX:()=>iT,f3M:()=>ke,g9A:()=>tg,h0i:()=>Jh,hGG:()=>DD,hYB:()=>_p,hij:()=>t,iGM:()=>EE,ifc:()=>pn,ip1:()=>WE,jDz:()=>Yb,kEZ:()=>nE,kL8:()=>zh,kcU:()=>Je,lG2:()=>_o,lcZ:()=>cE,lnq:()=>h,lqb:()=>Kd,lri:()=>tT,mCW:()=>Uo,n5z:()=>Kl,n_E:()=>V_,oAB:()=>Er,oJD:()=>lf,oxw:()=>m_,pB0:()=>Co,q3G:()=>td,q4F:()=>dg,qFp:()=>FD,qLn:()=>Du,qOj:()=>Gg,qZA:()=>xf,qzn:()=>Ei,rWj:()=>nT,rg0:()=>Pc,s9C:()=>gp,sBO:()=>cD,s_b:()=>W_,soG:()=>z_,tb:()=>Iy,tp0:()=>Rs,uIk:()=>Sf,vHH:()=>C,vpe:()=>Id,wAp:()=>Zh,xi3:()=>dE,xp6:()=>Tg,ynx:()=>Hu,z2F:()=>Xh,z3N:()=>li,zSh:()=>Jp,zW0:()=>Vg,zs3:()=>Ed});var e=v(8645),n=v(7394),E=v(5619),A=v(5592),_=v(3019),I=v(2096),w=v(3020),g=v(4664),o=v(3997);function d(r){for(let c in r)if(r[c]===d)return c;throw Error("Could not find renamed property on target object.")}function u(r,c){for(const f in c)c.hasOwnProperty(f)&&!r.hasOwnProperty(f)&&(r[f]=c[f])}function m(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(m).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const c=r.toString();if(null==c)return""+c;const f=c.indexOf("\n");return-1===f?c:c.substring(0,f)}function y(r,c){return null==r||""===r?null===c?"":c:null==c||""===c?r:r+" "+c}const k=d({__forward_ref__:d});function P(r){return r.__forward_ref__=P,r.toString=function(){return m(this())},r}function B(r){return F(r)?r():r}function F(r){return"function"==typeof r&&r.hasOwnProperty(k)&&r.__forward_ref__===P}function R(r){return r&&!!r.\u0275providers}const T="https://g.co/ng/security#xss";class C extends Error{constructor(c,f){super(function O(r,c){return`NG0${Math.abs(r)}${c?": "+c:""}`}(c,f)),this.code=c}}function M(r){return"string"==typeof r?r:null==r?"":String(r)}function Ae(r,c){throw new C(-201,!1)}function De(r,c,f,S){throw new Error(`ASSERTION ERROR: ${r}`+(null==S?"":` [Expected=> ${f} ${S} ${c} <=Actual]`))}function be(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function K(r){return{providers:r.providers||[],imports:r.imports||[]}}function oe(r){return re(r,$)||re(r,J)}function pe(r){return null!==oe(r)}function re(r,c){return r.hasOwnProperty(c)?r[c]:null}function X(r){return r&&(r.hasOwnProperty(ne)||r.hasOwnProperty(q))?r[ne]:null}const $=d({\u0275prov:d}),ne=d({\u0275inj:d}),J=d({ngInjectableDef:d}),q=d({ngInjectorDef:d});var me=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(me||{});let Ee;function Ne(r){const c=Ee;return Ee=r,c}function tt(r,c,f){const S=oe(r);return S&&"root"==S.providedIn?void 0===S.value?S.value=S.factory():S.value:f&me.Optional?null:void 0!==c?c:void Ae(m(r))}const Xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vt={},ce="__NG_DI_FLAG__",Ve="ngTempTokenPath",Bt=/\n/gm,Yt="__source";let cn;function Mt(r){const c=cn;return cn=r,c}function gt(r,c=me.Default){if(void 0===cn)throw new C(-203,!1);return null===cn?tt(r,void 0,c):cn.get(r,c&me.Optional?null:void 0,c)}function Qe(r,c=me.Default){return(function ye(){return Ee}()||gt)(B(r),c)}function ke(r,c=me.Default){return Qe(r,it(c))}function it(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ot(r){const c=[];for(let f=0;f<r.length;f++){const S=B(r[f]);if(Array.isArray(S)){if(0===S.length)throw new C(900,!1);let L,W=me.Default;for(let ue=0;ue<S.length;ue++){const Be=S[ue],nt=mt(Be);"number"==typeof nt?-1===nt?L=Be.token:W|=nt:L=Be}c.push(Qe(L,W))}else c.push(Qe(S))}return c}function ft(r,c){return r[ce]=c,r.prototype[ce]=c,r}function mt(r){return r[ce]}function fn(r){return{toString:r}.toString()}var Jt=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Jt||{}),pn=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(pn||{});const Tn={},Dn=[],Fn=d({\u0275cmp:d}),Kn=d({\u0275dir:d}),dn=d({\u0275pipe:d}),an=d({\u0275mod:d}),un=d({\u0275fac:d}),on=d({__NG_ELEMENT_ID__:d}),ln=d({__NG_ENV_ID__:d});function Tt(r,c,f){let S=r.length;for(;;){const L=r.indexOf(c,f);if(-1===L)return L;if(0===L||r.charCodeAt(L-1)<=32){const W=c.length;if(L+W===S||r.charCodeAt(L+W)<=32)return L}f=L+1}}function ct(r,c,f){let S=0;for(;S<f.length;){const L=f[S];if("number"==typeof L){if(0!==L)break;S++;const W=f[S++],ue=f[S++],Be=f[S++];r.setAttribute(c,ue,Be,W)}else{const W=L,ue=f[++S];Ze(W)?r.setProperty(c,W,ue):r.setAttribute(c,W,ue),S++}}return S}function hn(r){return 3===r||4===r||6===r}function Ze(r){return 64===r.charCodeAt(0)}function bt(r,c){if(null!==c&&0!==c.length)if(null===r||0===r.length)r=c.slice();else{let f=-1;for(let S=0;S<c.length;S++){const L=c[S];"number"==typeof L?f=L:0===f||Kt(r,f,L,null,-1===f||2===f?c[++S]:null)}}return r}function Kt(r,c,f,S,L){let W=0,ue=r.length;if(-1===c)ue=-1;else for(;W<r.length;){const Be=r[W++];if("number"==typeof Be){if(Be===c){ue=-1;break}if(Be>c){ue=W-1;break}}}for(;W<r.length;){const Be=r[W];if("number"==typeof Be)break;if(Be===f){if(null===S)return void(null!==L&&(r[W+1]=L));if(S===r[W+1])return void(r[W+2]=L)}W++,null!==S&&W++,null!==L&&W++}-1!==ue&&(r.splice(ue,0,c),W=ue+1),r.splice(W++,0,f),null!==S&&r.splice(W++,0,S),null!==L&&r.splice(W++,0,L)}const Ot="ng-template";function yn(r,c,f){let S=0,L=!0;for(;S<r.length;){let W=r[S++];if("string"==typeof W&&L){const ue=r[S++];if(f&&"class"===W&&-1!==Tt(ue.toLowerCase(),c,0))return!0}else{if(1===W){for(;S<r.length&&"string"==typeof(W=r[S++]);)if(W.toLowerCase()===c)return!0;return!1}"number"==typeof W&&(L=!1)}}return!1}function Rt(r){return 4===r.type&&r.value!==Ot}function St(r,c,f){return c===(4!==r.type||f?r.value:Ot)}function It(r,c,f){let S=4;const L=r.attrs||[],W=function Lt(r){for(let c=0;c<r.length;c++)if(hn(r[c]))return c;return r.length}(L);let ue=!1;for(let Be=0;Be<c.length;Be++){const nt=c[Be];if("number"!=typeof nt){if(!ue)if(4&S){if(S=2|1&S,""!==nt&&!St(r,nt,f)||""===nt&&1===c.length){if(Zt(S))return!1;ue=!0}}else{const wt=8&S?nt:c[++Be];if(8&S&&null!==r.attrs){if(!yn(r.attrs,wt,f)){if(Zt(S))return!1;ue=!0}continue}const mn=gn(8&S?"class":nt,L,Rt(r),f);if(-1===mn){if(Zt(S))return!1;ue=!0;continue}if(""!==wt){let wn;wn=mn>W?"":L[mn+1].toLowerCase();const Un=8&S?wn:null;if(Un&&-1!==Tt(Un,wt,0)||2&S&&wt!==wn){if(Zt(S))return!1;ue=!0}}}}else{if(!ue&&!Zt(S)&&!Zt(nt))return!1;if(ue&&Zt(nt))continue;ue=!1,S=nt|1&S}}return Zt(S)||ue}function Zt(r){return 0==(1&r)}function gn(r,c,f,S){if(null===c)return-1;let L=0;if(S||!f){let W=!1;for(;L<c.length;){const ue=c[L];if(ue===r)return L;if(3===ue||6===ue)W=!0;else{if(1===ue||2===ue){let Be=c[++L];for(;"string"==typeof Be;)Be=c[++L];continue}if(4===ue)break;if(0===ue){L+=4;continue}}L+=W?1:2}return-1}return function Sn(r,c){let f=r.indexOf(4);if(f>-1)for(f++;f<r.length;){const S=r[f];if("number"==typeof S)return-1;if(S===c)return f;f++}return-1}(c,r)}function Ln(r,c,f=!1){for(let S=0;S<c.length;S++)if(It(r,c[S],f))return!0;return!1}function Ie(r,c){e:for(let f=0;f<c.length;f++){const S=c[f];if(r.length===S.length){for(let L=0;L<r.length;L++)if(r[L]!==S[L])continue e;return!0}}return!1}function Pt(r,c){return r?":not("+c.trim()+")":c}function Dt(r){let c=r[0],f=1,S=2,L="",W=!1;for(;f<r.length;){let ue=r[f];if("string"==typeof ue)if(2&S){const Be=r[++f];L+="["+ue+(Be.length>0?'="'+Be+'"':"")+"]"}else 8&S?L+="."+ue:4&S&&(L+=" "+ue);else""!==L&&!Zt(ue)&&(c+=Pt(W,L),L=""),S=ue,W=W||!Zt(S);f++}return""!==L&&(c+=Pt(W,L)),c}function ai(r){return fn(()=>{const c=ls(r),f={...c,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||pn.Emulated,styles:r.styles||Dn,_:null,schemas:r.schemas||null,tView:null,id:""};Ro(f);const S=r.dependencies;return f.directiveDefs=Xr(S,!1),f.pipeDefs=Xr(S,!0),f.id=function No(r){let c=0;const f=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const L of f)c=Math.imul(31,c)+L.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(f),f})}function Hr(r){return Fi(r)||Ii(r)}function Ir(r){return null!==r}function Er(r){return fn(()=>({type:r.type,bootstrap:r.bootstrap||Dn,declarations:r.declarations||Dn,imports:r.imports||Dn,exports:r.exports||Dn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Po(r,c){if(null==r)return Tn;const f={};for(const S in r)if(r.hasOwnProperty(S)){let L=r[S],W=L;Array.isArray(L)&&(W=L[1],L=L[0]),f[L]=S,c&&(c[L]=W)}return f}function _o(r){return fn(()=>{const c=ls(r);return Ro(c),c})}function qo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Fi(r){return r[Fn]||null}function Ii(r){return r[Kn]||null}function fi(r){return r[dn]||null}function ho(r){const c=Fi(r)||Ii(r)||fi(r);return null!==c&&c.standalone}function br(r,c){const f=r[an]||null;if(!f&&!0===c)throw new Error(`Type ${m(r)} does not have '\u0275mod' property.`);return f}function ls(r){const c={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:r.inputs||Tn,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Dn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Po(r.inputs,c),outputs:Po(r.outputs)}}function Ro(r){r.features?.forEach(c=>c(r))}function Xr(r,c){if(!r)return null;const f=c?fi:Hr;return()=>("function"==typeof r?r():r).map(S=>f(S)).filter(Ir)}const mr=0,pi=1,Pi=2,rr=3,Ur=4,bo=5,Mr=6,so=7,_n=8,Vn=9,ri=10,Qn=11,Ri=12,Ki=13,Ui=14,ki=15,Tr=16,jr=17,Mo=18,Ao=19,Ms=20,zr=21,eo=22,Xo=23,Go=24,Xi=25,xo=1,ps=2,ao=7,Ho=9,Pr=11;function Rr(r){return Array.isArray(r)&&"object"==typeof r[xo]}function pr(r){return Array.isArray(r)&&!0===r[xo]}function Fs(r){return 0!=(4&r.flags)}function mo(r){return r.componentOffset>-1}function cs(r){return 1==(1&r.flags)}function $i(r){return!!r.template}function Zr(r){return 0!=(512&r[Pi])}function dt(r,c){return r.hasOwnProperty(un)?r[un]:null}let Gi=Xe.WeakRef??class hi{constructor(c){this.ref=c}deref(){return this.ref}},ds=0,lo=null,Is=!1;function Ar(r){const c=lo;return lo=r,c}class Vo{constructor(){this.id=ds++,this.ref=function Lo(r){return new Gi(r)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[c,f]of this.producers){const S=f.producerNode.deref();if(null!=S&&f.atTrackingVersion===this.trackingVersion){if(S.producerPollStatus(f.seenValueVersion))return!0}else this.producers.delete(c),S?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const c=Is;Is=!0;try{for(const[f,S]of this.consumers){const L=S.consumerNode.deref();null!=L&&L.trackingVersion===S.atTrackingVersion?L.onConsumerDependencyMayHaveChanged():(this.consumers.delete(f),L?.producers.delete(this.id))}}finally{Is=c}}producerAccessed(){if(Is)throw new Error("");if(null===lo)return;let c=lo.producers.get(this.id);void 0===c?(c={consumerNode:lo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:lo.trackingVersion},lo.producers.set(this.id,c),this.consumers.set(lo.id,c)):(c.seenValueVersion=this.valueVersion,c.atTrackingVersion=lo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==lo?.consumerAllowSignalWrites}producerPollStatus(c){return this.valueVersion!==c||(this.onProducerUpdateValueVersion(),this.valueVersion!==c)}}let Wa=null;function Pc(r){const c=Ar(null);try{return r()}finally{Ar(c)}}const va=()=>{};class Ll extends Vo{constructor(c,f,S){super(),this.watch=c,this.schedule=f,this.dirty=!1,this.cleanupFn=va,this.registerOnCleanup=L=>{this.cleanupFn=L},this.consumerAllowSignalWrites=S}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const c=Ar(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=va,this.watch(this.registerOnCleanup)}finally{Ar(c)}}cleanup(){this.cleanupFn()}}class aa{constructor(c,f,S){this.previousValue=c,this.currentValue=f,this.firstChange=S}isFirstChange(){return this.firstChange}}function xa(){return ys}function ys(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ya),kl}function kl(){const r=Ia(this),c=r?.current;if(c){const f=r.previous;if(f===Tn)r.previous=c;else for(let S in c)f[S]=c[S];r.current=null,this.ngOnChanges(c)}}function Ya(r,c,f,S){const L=this.declaredInputs[f],W=Ia(r)||function Fl(r,c){return r[za]=c}(r,{previous:Tn,current:null}),ue=W.current||(W.current={}),Be=W.previous,nt=Be[L];ue[L]=new aa(nt&&nt.currentValue,c,Be===Tn),r[S]=c}xa.ngInherit=!0;const za="__ngSimpleChanges__";function Ia(r){return r[za]||null}const bs=function(r,c,f){},Ja="svg";function wr(r){for(;Array.isArray(r);)r=r[mr];return r}function Ke(r,c){return wr(c[r])}function jt(r,c){return wr(c[r.index])}function Ft(r,c){return r.data[c]}function vn(r,c){return r[c]}function Gn(r,c){const f=c[r];return Rr(f)?f:f[mr]}function er(r,c){return null==c?null:r[c]}function Wi(r){r[jr]=0}function Ji(r){1024&r[Pi]||(r[Pi]|=1024,or(r,1))}function Vr(r){1024&r[Pi]&&(r[Pi]&=-1025,or(r,-1))}function or(r,c){let f=r[rr];if(null===f)return;f[bo]+=c;let S=f;for(f=f[rr];null!==f&&(1===c&&1===S[bo]||-1===c&&0===S[bo]);)f[bo]+=c,S=f,f=f[rr]}const xi={lFrame:sc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qs(){return xi.bindingsEnabled}function $r(){return null!==xi.skipHydrationRootTNode}function ii(){return xi.lFrame.lView}function nr(){return xi.lFrame.tView}function ya(r){return xi.lFrame.contextLView=r,r[_n]}function rs(r){return xi.lFrame.contextLView=null,r}function Sr(){let r=ad();for(;null!==r&&64===r.type;)r=r.parent;return r}function ad(){return xi.lFrame.currentTNode}function qa(){const r=xi.lFrame,c=r.currentTNode;return r.isParent?c:c.parent}function Fo(r,c){const f=xi.lFrame;f.currentTNode=r,f.isParent=c}function bl(){return xi.lFrame.isParent}function io(){xi.lFrame.isParent=!1}function Jr(){const r=xi.lFrame;let c=r.bindingRootIndex;return-1===c&&(c=r.bindingRootIndex=r.tView.bindingStartIndex),c}function Es(){return xi.lFrame.bindingIndex}function Lr(){return xi.lFrame.bindingIndex++}function Ts(r){const c=xi.lFrame,f=c.bindingIndex;return c.bindingIndex=c.bindingIndex+r,f}function Ul(r){xi.lFrame.inI18n=r}function Tl(r,c){const f=xi.lFrame;f.bindingIndex=f.bindingRootIndex=r,oc(c)}function oc(r){xi.lFrame.currentDirectiveIndex=r}function ba(r){const c=xi.lFrame.currentDirectiveIndex;return-1===c?null:r[c]}function Oa(){return xi.lFrame.currentQueryIndex}function qs(r){xi.lFrame.currentQueryIndex=r}function tl(r){const c=r[pi];return 2===c.type?c.declTNode:1===c.type?r[Mr]:null}function ws(r,c,f){if(f&me.SkipSelf){let L=c,W=r;for(;!(L=L.parent,null!==L||f&me.Host||(L=tl(W),null===L||(W=W[Ui],10&L.type))););if(null===L)return!1;c=L,r=W}const S=xi.lFrame=Rc();return S.currentTNode=c,S.lView=r,!0}function Gl(r){const c=Rc(),f=r[pi];xi.lFrame=c,c.currentTNode=f.firstChild,c.lView=r,c.tView=f,c.contextLView=r,c.bindingIndex=f.bindingStartIndex,c.inI18n=!1}function Rc(){const r=xi.lFrame,c=null===r?null:r.child;return null===c?sc(r):c}function sc(r){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=c),c}function ld(){const r=xi.lFrame;return xi.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Nc=ld;function Pa(){const r=ld();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function $o(){return xi.lFrame.selectedIndex}function Yr(r){xi.lFrame.selectedIndex=r}function Pe(){const r=xi.lFrame;return Ft(r.tView,r.selectedIndex)}function rt(){xi.lFrame.currentNamespace=Ja}function Je(){!function Nt(){xi.lFrame.currentNamespace=null}()}let en=!0;function Rn(){return en}function ni(r){en=r}function Li(r,c){for(let f=c.directiveStart,S=c.directiveEnd;f<S;f++){const W=r.data[f].type.prototype,{ngAfterContentInit:ue,ngAfterContentChecked:Be,ngAfterViewInit:nt,ngAfterViewChecked:wt,ngOnDestroy:$t}=W;ue&&(r.contentHooks??=[]).push(-f,ue),Be&&((r.contentHooks??=[]).push(f,Be),(r.contentCheckHooks??=[]).push(f,Be)),nt&&(r.viewHooks??=[]).push(-f,nt),wt&&((r.viewHooks??=[]).push(f,wt),(r.viewCheckHooks??=[]).push(f,wt)),null!=$t&&(r.destroyHooks??=[]).push(f,$t)}}function fr(r,c,f){Ss(r,c,3,f)}function Bo(r,c,f,S){(3&r[Pi])===f&&Ss(r,c,f,S)}function ca(r,c){let f=r[Pi];(3&f)===c&&(f&=8191,f+=1,r[Pi]=f)}function Ss(r,c,f,S){const W=S??-1,ue=c.length-1;let Be=0;for(let nt=void 0!==S?65535&r[jr]:0;nt<ue;nt++)if("number"==typeof c[nt+1]){if(Be=c[nt],null!=S&&Be>=S)break}else c[nt]<0&&(r[jr]+=65536),(Be<W||-1==W)&&(wo(r,f,c,nt),r[jr]=(4294901760&r[jr])+nt+2),nt++}function Xs(r,c){bs(4,r,c);const f=Ar(null);try{c.call(r)}finally{Ar(f),bs(5,r,c)}}function wo(r,c,f,S){const L=f[S]<0,W=f[S+1],Be=r[L?-f[S]:f[S]];L?r[Pi]>>13<r[jr]>>16&&(3&r[Pi])===c&&(r[Pi]+=8192,Xs(Be,W)):Xs(Be,W)}const To=-1;class nl{constructor(c,f,S){this.factory=c,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=S}}function lc(r){return r!==To}function Jo(r){return 32767&r}function Ra(r,c){let f=function kc(r){return r>>16}(r),S=c;for(;f>0;)S=S[Ui],f--;return S}let Os=!0;function Na(r){const c=Os;return Os=r,c}const os=255,ta=5;let Pd=0;const Ps={};function il(r,c){const f=Cl(r,c);if(-1!==f)return f;const S=c[pi];S.firstCreatePass&&(r.injectorIndex=c.length,La(S.data,r),La(c,null),La(S.blueprint,null));const L=da(r,c),W=r.injectorIndex;if(lc(L)){const ue=Jo(L),Be=Ra(L,c),nt=Be[pi].data;for(let wt=0;wt<8;wt++)c[W+wt]=Be[ue+wt]|nt[ue+wt]}return c[W+8]=L,W}function La(r,c){r.push(0,0,0,0,0,0,0,0,c)}function Cl(r,c){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===c[r.injectorIndex+8]?-1:r.injectorIndex}function da(r,c){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let f=0,S=null,L=c;for(;null!==L;){if(S=dc(L),null===S)return To;if(f++,L=L[Ui],-1!==S.injectorIndex)return S.injectorIndex|f<<16}return To}function Bc(r,c,f){!function Rd(r,c,f){let S;"string"==typeof f?S=f.charCodeAt(0)||0:f.hasOwnProperty(on)&&(S=f[on]),null==S&&(S=f[on]=Pd++);const L=S&os;c.data[r+(L>>ta)]|=1<<L}(r,c,f)}function Dl(r,c,f){if(f&me.Optional||void 0!==r)return r;Ae()}function Hl(r,c,f,S){if(f&me.Optional&&void 0===S&&(S=null),!(f&(me.Self|me.Host))){const L=r[Vn],W=Ne(void 0);try{return L?L.get(c,S,f&me.Optional):tt(c,S,f&me.Optional)}finally{Ne(W)}}return Dl(S,0,f)}function Uc(r,c,f,S=me.Default,L){if(null!==r){if(2048&c[Pi]&&!(S&me.Self)){const ue=function Vc(r,c,f,S,L){let W=r,ue=c;for(;null!==W&&null!==ue&&2048&ue[Pi]&&!(512&ue[Pi]);){const Be=Gc(W,ue,f,S|me.Self,Ps);if(Be!==Ps)return Be;let nt=W.parent;if(!nt){const wt=ue[Ms];if(wt){const $t=wt.get(f,Ps,S);if($t!==Ps)return $t}nt=dc(ue),ue=ue[Ui]}W=nt}return L}(r,c,f,S,Ps);if(ue!==Ps)return ue}const W=Gc(r,c,f,S,Ps);if(W!==Ps)return W}return Hl(c,f,S,L)}function Gc(r,c,f,S,L){const W=function cc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const c=r.hasOwnProperty(on)?r[on]:void 0;return"number"==typeof c?c>=0?c&os:jc:c}(f);if("function"==typeof W){if(!ws(c,r,S))return S&me.Host?Dl(L,0,S):Hl(c,f,S,L);try{const ue=W(S);if(null!=ue||S&me.Optional)return ue;Ae()}finally{Nc()}}else if("number"==typeof W){let ue=null,Be=Cl(r,c),nt=To,wt=S&me.Host?c[ki][Mr]:null;for((-1===Be||S&me.SkipSelf)&&(nt=-1===Be?da(r,c):c[Be+8],nt!==To&&Ml(S,!1)?(ue=c[pi],Be=Jo(nt),c=Ra(nt,c)):Be=-1);-1!==Be;){const $t=c[pi];if(Vl(W,Be,$t.data)){const mn=Hc(Be,c,f,ue,S,wt);if(mn!==Ps)return mn}nt=c[Be+8],nt!==To&&Ml(S,c[pi].data[Be+8]===wt)&&Vl(W,Be,c)?(ue=$t,Be=Jo(nt),c=Ra(nt,c)):Be=-1}}return L}function Hc(r,c,f,S,L,W){const ue=c[pi],Be=ue.data[r+8],$t=jl(Be,ue,f,null==S?mo(Be)&&Os:S!=ue&&0!=(3&Be.type),L&me.Host&&W===Be);return null!==$t?rl(c,ue,$t,Be):Ps}function jl(r,c,f,S,L){const W=r.providerIndexes,ue=c.data,Be=1048575&W,nt=r.directiveStart,$t=W>>20,wn=L?Be+$t:r.directiveEnd;for(let Un=S?Be:Be+$t;Un<wn;Un++){const ti=ue[Un];if(Un<nt&&f===ti||Un>=nt&&ti.type===f)return Un}if(L){const Un=ue[nt];if(Un&&$i(Un)&&Un.type===f)return nt}return null}function rl(r,c,f,S){let L=r[f];const W=c.data;if(function Ea(r){return r instanceof nl}(L)){const ue=L;ue.resolving&&function Z(r,c){const f=c?`. Dependency path: ${c.join(" > ")} > ${r}`:"";throw new C(-200,`Circular dependency in DI detected for ${r}${f}`)}(function G(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():M(r)}(W[f]));const Be=Na(ue.canSeeViewProviders);ue.resolving=!0;const nt=ue.injectImpl?Ne(ue.injectImpl):null;ws(r,S,me.Default);try{L=r[f]=ue.factory(void 0,W,r,S),c.firstCreatePass&&f>=S.directiveStart&&function wi(r,c,f){const{ngOnChanges:S,ngOnInit:L,ngDoCheck:W}=c.type.prototype;if(S){const ue=ys(c);(f.preOrderHooks??=[]).push(r,ue),(f.preOrderCheckHooks??=[]).push(r,ue)}L&&(f.preOrderHooks??=[]).push(0-r,L),W&&((f.preOrderHooks??=[]).push(r,W),(f.preOrderCheckHooks??=[]).push(r,W))}(f,W[f],c)}finally{null!==nt&&Ne(nt),Na(Be),ue.resolving=!1,Nc()}}return L}function Vl(r,c,f){return!!(f[c+(r>>ta)]&1<<r)}function Ml(r,c){return!(r&me.Self||r&me.Host&&c)}class ol{constructor(c,f){this._tNode=c,this._lView=f}get(c,f,S){return Uc(this._tNode,this._lView,c,it(S),f)}}function jc(){return new ol(Sr(),ii())}function Kl(r){return fn(()=>{const c=r.prototype.constructor,f=c[un]||Wl(c),S=Object.prototype;let L=Object.getPrototypeOf(r.prototype).constructor;for(;L&&L!==S;){const W=L[un]||Wl(L);if(W&&W!==f)return W;L=Object.getPrototypeOf(L)}return W=>new W})}function Wl(r){return F(r)?()=>{const c=Wl(B(r));return c&&c()}:dt(r)}function dc(r){const c=r[pi],f=c.type;return 2===f?c.declTNode:1===f?r[Mr]:null}function Kc(r){return function tu(r,c){if("class"===c)return r.classes;if("style"===c)return r.styles;const f=r.attrs;if(f){const S=f.length;let L=0;for(;L<S;){const W=f[L];if(hn(W))break;if(0===W)L+=2;else if("number"==typeof W)for(L++;L<S&&"string"==typeof f[L];)L++;else{if(W===c)return f[L+1];L+=2}}}return null}(Sr(),r)}const ka="__parameters__";function sl(r,c,f){return fn(()=>{const S=function Al(r){return function(...f){if(r){const S=r(...f);for(const L in S)this[L]=S[L]}}}(c);function L(...W){if(this instanceof L)return S.apply(this,W),this;const ue=new L(...W);return Be.annotation=ue,Be;function Be(nt,wt,$t){const mn=nt.hasOwnProperty(ka)?nt[ka]:Object.defineProperty(nt,ka,{value:[]})[ka];for(;mn.length<=$t;)mn.push(null);return(mn[$t]=mn[$t]||[]).push(ue),nt}}return f&&(L.prototype=Object.create(f.prototype)),L.prototype.ngMetadataName=r,L.annotationCls=L,L})}function So(r,c){r.forEach(f=>Array.isArray(f)?So(f,c):c(f))}function ro(r,c,f){c>=r.length?r.push(f):r.splice(c,0,f)}function Zl(r,c){return c>=r.length-1?r.pop():r.splice(c,1)[0]}function al(r,c){const f=[];for(let S=0;S<r;S++)f.push(c);return f}function st(r,c,f){let S=sn(r,c);return S>=0?r[1|S]=f:(S=~S,function iu(r,c,f,S){let L=r.length;if(L==c)r.push(f,S);else if(1===L)r.push(S,r[0]),r[0]=f;else{for(L--,r.push(r[L-1],r[L]);L>c;)r[L]=r[L-2],L--;r[c]=f,r[c+1]=S}}(r,S,c,f)),S}function kt(r,c){const f=sn(r,c);if(f>=0)return r[1|f]}function sn(r,c){return function Nn(r,c,f){let S=0,L=r.length>>f;for(;L!==S;){const W=S+(L-S>>1),ue=r[W<<f];if(c===ue)return W<<f;ue>c?L=W:S=W+1}return~(L<<f)}(r,c,1)}const Cs=ft(sl("Optional"),8),Rs=ft(sl("SkipSelf"),4);function vc(r){return 128==(128&r.flags)}var Jc=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Jc||{});const tm=/^>|^->|<!--|-->|--!>|<!-$/g,vd=/(<|>)/,nm="\u200b$1\u200b";const Fd=new Map;let Lp=0;const cu="__ngContext__";function Ns(r,c){Rr(c)?(r[cu]=c[Ao],function im(r){Fd.set(r[Ao],r)}(c)):r[cu]=c}let Wf;function yc(r,c){return Wf(r,c)}function ql(r){const c=r[rr];return pr(c)?c[rr]:c}function Qu(r){return uu(r[Ri])}function lm(r){return uu(r[Ur])}function uu(r){for(;null!==r&&!pr(r);)r=r[Ur];return r}function Qc(r,c,f,S,L){if(null!=S){let W,ue=!1;pr(S)?W=S:Rr(S)&&(ue=!0,S=S[mr]);const Be=wr(S);0===r&&null!==f?null==L?jp(c,f,Be):Xl(c,f,Be,L||null,!0):1===r&&null!==f?Xl(c,f,Be,L||null,!0):2===r?function tf(r,c,f){const S=Qf(r,c);S&&function mm(r,c,f,S){r.removeChild(c,f,S)}(r,S,c,f)}(c,Be,ue):3===r&&c.destroyNode(Be),null!=W&&function zp(r,c,f,S,L){const W=f[ao];W!==wr(f)&&Qc(c,r,S,W,L);for(let Be=Pr;Be<f.length;Be++){const nt=f[Be];bc(nt[pi],nt,r,c,S,W)}}(c,r,W,f,L)}}function Bd(r,c){return r.createText(c)}function Ud(r,c){return r.createComment(function Bf(r){return r.replace(tm,c=>c.replace(vd,nm))}(c))}function Il(r,c,f){return r.createElement(c,f)}function Jf(r,c){const f=r[Ho],S=f.indexOf(c);Vr(c),f.splice(S,1)}function yd(r,c){if(r.length<=Pr)return;const f=Pr+c,S=r[f];if(S){const L=S[Tr];null!==L&&L!==r&&Jf(L,S),c>0&&(r[f-1][Ur]=S[Ur]);const W=Zl(r,Pr+c);!function Zf(r,c){bc(r,c,c[Qn],2,null,null),c[mr]=null,c[Mr]=null}(S[pi],S);const ue=W[Mo];null!==ue&&ue.detachView(W[pi]),S[rr]=null,S[Ur]=null,S[Pi]&=-129}return S}function qc(r,c){if(!(256&c[Pi])){const f=c[Qn];c[Xo]?.destroy(),c[Go]?.destroy(),f.destroyNode&&bc(r,c,f,3,null,null),function Hp(r){let c=r[Ri];if(!c)return qu(r[pi],r);for(;c;){let f=null;if(Rr(c))f=c[Ri];else{const S=c[Pr];S&&(f=S)}if(!f){for(;c&&!c[Ur]&&c!==r;)Rr(c)&&qu(c[pi],c),c=c[rr];null===c&&(c=r),Rr(c)&&qu(c[pi],c),f=c&&c[Ur]}c=f}}(c)}}function qu(r,c){if(!(256&c[Pi])){c[Pi]&=-129,c[Pi]|=256,function um(r,c){let f;if(null!=r&&null!=(f=r.destroyHooks))for(let S=0;S<f.length;S+=2){const L=c[f[S]];if(!(L instanceof nl)){const W=f[S+1];if(Array.isArray(W))for(let ue=0;ue<W.length;ue+=2){const Be=L[W[ue]],nt=W[ue+1];bs(4,Be,nt);try{nt.call(Be)}finally{bs(5,Be,nt)}}else{bs(4,L,W);try{W.call(L)}finally{bs(5,L,W)}}}}}(r,c),function Xu(r,c){const f=r.cleanup,S=c[so];if(null!==f)for(let W=0;W<f.length-1;W+=2)if("string"==typeof f[W]){const ue=f[W+3];ue>=0?S[ue]():S[-ue].unsubscribe(),W+=2}else f[W].call(S[f[W+1]]);null!==S&&(c[so]=null);const L=c[zr];if(null!==L){c[zr]=null;for(let W=0;W<L.length;W++)(0,L[W])()}}(r,c),1===c[pi].type&&c[Qn].destroy();const f=c[Tr];if(null!==f&&pr(c[rr])){f!==c[rr]&&Jf(f,c);const S=c[Mo];null!==S&&S.detachView(r)}!function Gf(r){Fd.delete(r[Ao])}(c)}}function fm(r,c,f){return hm(r,c.parent,f)}function hm(r,c,f){let S=c;for(;null!==S&&40&S.type;)S=(c=S).parent;if(null===S)return f[mr];{const{componentOffset:L}=S;if(L>-1){const{encapsulation:W}=r.data[S.directiveStart+L];if(W===pn.None||W===pn.Emulated)return null}return jt(S,f)}}function Xl(r,c,f,S,L){r.insertBefore(c,f,S,L)}function jp(r,c,f){r.appendChild(c,f)}function Vp(r,c,f,S,L){null!==S?Xl(r,c,f,S,L):jp(r,c,f)}function Qf(r,c){return r.parentNode(c)}function Kp(r,c,f){return pm(r,c,f)}function Wp(r,c,f){return 40&r.type?jt(r,f):null}let gm,hu,Gd,Re,pm=Wp;function Yp(r,c){pm=r,gm=c}function qf(r,c,f,S){const L=fm(r,S,c),W=c[Qn],Be=Kp(S.parent||c[Mr],S,c);if(null!=L)if(Array.isArray(f))for(let nt=0;nt<f.length;nt++)Vp(W,L,f[nt],Be,!1);else Vp(W,L,f,Be,!1);void 0!==gm&&gm(W,S,c,f,L)}function dl(r,c){if(null!==c){const f=c.type;if(3&f)return jt(c,r);if(4&f)return ef(-1,r[c.index]);if(8&f){const S=c.child;if(null!==S)return dl(r,S);{const L=r[c.index];return pr(L)?ef(-1,L):wr(L)}}if(32&f)return yc(c,r)()||wr(r[c.index]);{const S=fu(r,c);return null!==S?Array.isArray(S)?S[0]:dl(ql(r[ki]),S):dl(r,c.next)}}return null}function fu(r,c){return null!==c?r[ki][Mr].projection[c.projection]:null}function ef(r,c){const f=Pr+r+1;if(f<c.length){const S=c[f],L=S[pi].firstChild;if(null!==L)return dl(S,L)}return c[ao]}function Xf(r,c,f,S,L,W,ue){for(;null!=f;){const Be=S[f.index],nt=f.type;if(ue&&0===c&&(Be&&Ns(wr(Be),S),f.flags|=2),32!=(32&f.flags))if(8&nt)Xf(r,c,f.child,S,L,W,!1),Qc(c,r,L,Be,W);else if(32&nt){const wt=yc(f,S);let $t;for(;$t=wt();)Qc(c,r,L,$t,W);Qc(c,r,L,Be,W)}else 16&nt?_m(r,c,S,f,L,W):Qc(c,r,L,Be,W);f=ue?f.projectionNext:f.next}}function bc(r,c,f,S,L,W){Xf(f,S,r.firstChild,c,L,W,!1)}function _m(r,c,f,S,L,W){const ue=f[ki],nt=ue[Mr].projection[S.projection];if(Array.isArray(nt))for(let wt=0;wt<nt.length;wt++)Qc(c,r,L,nt[wt],W);else{let wt=nt;const $t=ue[rr];vc(S)&&(wt.flags|=128),Xf(r,c,wt,$t,L,W,!0)}}function vm(r,c,f){""===f?r.removeAttribute(c,"class"):r.setAttribute(c,"class",f)}function ym(r,c,f){const{mergedAttrs:S,classes:L,styles:W}=f;null!==S&&ct(r,c,S),null!==L&&vm(r,c,L),null!==W&&function th(r,c,f){r.setAttribute(c,"style",f)}(r,c,W)}function Qo(r){return function nh(){if(void 0===hu&&(hu=null,Xe.trustedTypes))try{hu=Xe.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return hu}()?.createHTML(r)||r}function rh(r){Gd=r}function U(){if(void 0!==Gd)return Gd;if(typeof document<"u")return document;throw new C(210,!1)}function x(){if(void 0===Re&&(Re=null,Xe.trustedTypes))try{Re=Xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Re}function V(r){return x()?.createHTML(r)||r}function _t(r){return x()?.createScriptURL(r)||r}class Ht{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${T})`}}class Cn extends Ht{getTypeName(){return"HTML"}}class In extends Ht{getTypeName(){return"Style"}}class jn extends Ht{getTypeName(){return"Script"}}class Wn extends Ht{getTypeName(){return"URL"}}class Si extends Ht{getTypeName(){return"ResourceURL"}}function li(r){return r instanceof Ht?r.changingThisBreaksApplicationSecurity:r}function Ei(r,c){const f=function Dr(r){return r instanceof Ht&&r.getTypeName()||null}(r);if(null!=f&&f!==c){if("ResourceURL"===f&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${f} (see ${T})`)}return f===c}function lr(r){return new Cn(r)}function ji(r){return new In(r)}function xr(r){return new jn(r)}function hr(r){return new Wn(r)}function Co(r){return new Si(r)}function cr(r){const c=new Qr(r);return function po(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch{return!1}}()?new kr(c):c}class kr{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const f=(new window.DOMParser).parseFromString(Qo(c),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(c):(f.removeChild(f.firstChild),f)}catch{return null}}}class Qr{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const f=this.inertDocument.createElement("template");return f.innerHTML=Qo(c),f}}const uo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uo(r){return(r=String(r)).match(uo)?r:"unsafe:"+r}function oo(r){const c={};for(const f of r.split(","))c[f]=!0;return c}function as(...r){const c={};for(const f of r)for(const S in f)f.hasOwnProperty(S)&&(c[S]=!0);return c}const Ba=oo("area,br,col,hr,img,wbr"),Ks=oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ul=oo("rp,rt"),Tc=as(Ba,as(Ks,oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),as(ul,oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),as(ul,Ks)),fl=oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xc=as(fl,oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ec=oo("script,style,template");class ed{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let f=c.firstChild,S=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?S=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,S&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let L=this.checkClobberedElement(f,f.nextSibling);if(L){f=L;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(c){const f=c.nodeName.toLowerCase();if(!Tc.hasOwnProperty(f))return this.sanitizedSomething=!0,!ec.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const S=c.attributes;for(let L=0;L<S.length;L++){const W=S.item(L),ue=W.name,Be=ue.toLowerCase();if(!Xc.hasOwnProperty(Be)){this.sanitizedSomething=!0;continue}let nt=W.value;fl[Be]&&(nt=Uo(nt)),this.buf.push(" ",ue,'="',jd(nt),'"')}return this.buf.push(">"),!0}endElement(c){const f=c.nodeName.toLowerCase();Tc.hasOwnProperty(f)&&!Ba.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(c){this.buf.push(jd(c))}checkClobberedElement(c,f){if(f&&(c.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return f}}const Sc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hd=/([^\#-~ |!])/g;function jd(r){return r.replace(/&/g,"&amp;").replace(Sc,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Hd,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wl;function pu(r,c){let f=null;try{wl=wl||cr(r);let S=c?String(c):"";f=wl.getInertBodyElement(S);let L=5,W=S;do{if(0===L)throw new Error("Failed to sanitize html because the input is unstable");L--,S=W,W=f.innerHTML,f=wl.getInertBodyElement(S)}while(S!==W);return Qo((new ed).sanitizeChildren(sf(f)||f))}finally{if(f){const S=sf(f)||f;for(;S.firstChild;)S.removeChild(S.firstChild)}}}function sf(r){return"content"in r&&function af(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var td=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(td||{});function lf(r){const c=Cc();return c?V(c.sanitize(td.HTML,r)||""):Ei(r,"HTML")?V(li(r)):pu(U(),M(r))}function _u(r){const c=Cc();return c?c.sanitize(td.URL,r)||"":Ei(r,"URL")?li(r):Uo(M(r))}function vu(r){const c=Cc();if(c)return _t(c.sanitize(td.RESOURCE_URL,r)||"");if(Ei(r,"ResourceURL"))return _t(li(r));throw new C(904,!1)}function bd(r,c,f){return function nd(r,c){return"src"===c&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===c&&("base"===r||"link"===r)?vu:_u}(c,f)(r)}function Cc(){const r=ii();return r&&r[ri].sanitizer}class Kr{constructor(c,f){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=be({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vd=new Kr("ENVIRONMENT_INITIALIZER"),cf=new Kr("INJECTOR",-1),lh=new Kr("INJECTOR_DEF_TYPES");class tv{get(c,f=vt){if(f===vt){const S=new Error(`NullInjectorError: No provider for ${m(c)}!`);throw S.name="NullInjectorError",S}return f}}function df(r){return{\u0275providers:r}}function Uy(...r){return{\u0275providers:nv(0,r),\u0275fromNgModule:!0}}function nv(r,...c){const f=[],S=new Set;let L;return So(c,W=>{const ue=W;ch(ue,f,[],S)&&(L||=[],L.push(ue))}),void 0!==L&&$p(L,f),f}function $p(r,c){for(let f=0;f<r.length;f++){const{providers:L}=r[f];dh(L,W=>{c.push(W)})}}function ch(r,c,f,S){if(!(r=B(r)))return!1;let L=null,W=X(r);const ue=!W&&Fi(r);if(W||ue){if(ue&&!ue.standalone)return!1;L=r}else{const nt=r.ngModule;if(W=X(nt),!W)return!1;L=nt}const Be=S.has(L);if(ue){if(Be)return!1;if(S.add(L),ue.dependencies){const nt="function"==typeof ue.dependencies?ue.dependencies():ue.dependencies;for(const wt of nt)ch(wt,c,f,S)}}else{if(!W)return!1;{if(null!=W.imports&&!Be){let wt;S.add(L);try{So(W.imports,$t=>{ch($t,c,f,S)&&(wt||=[],wt.push($t))})}finally{}void 0!==wt&&$p(wt,c)}if(!Be){const wt=dt(L)||(()=>new L);c.push({provide:L,useFactory:wt,deps:Dn},{provide:lh,useValue:L,multi:!0},{provide:Vd,useValue:()=>Qe(L),multi:!0})}const nt=W.providers;null==nt||Be||dh(nt,$t=>{c.push($t)})}}return L!==r&&void 0!==r.providers}function dh(r,c){for(let f of r)R(f)&&(f=f.\u0275providers),Array.isArray(f)?dh(f,c):c(f)}const Sm=d({provide:String,useValue:d});function uh(r){return null!==r&&"object"==typeof r&&Sm in r}function bu(r){return"function"==typeof r}const Jp=new Kr("Set Injector scope."),hh={},ov={};let Qp;function Cm(){return void 0===Qp&&(Qp=new tv),Qp}class Kd{}class qp extends Kd{get destroyed(){return this._destroyed}constructor(c,f,S,L){super(),this.parent=f,this.source=S,this.scopes=L,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dm(c,ue=>this.processProvider(ue)),this.records.set(cf,Eu(void 0,this)),L.has("environment")&&this.records.set(Kd,Eu(void 0,this));const W=this.records.get(Jp);null!=W&&"string"==typeof W.value&&this.scopes.add(W.value),this.injectorDefTypes=new Set(this.get(lh.multi,Dn,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of c)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const f=Mt(this),S=Ne(void 0);try{return c()}finally{Mt(f),Ne(S)}}get(c,f=vt,S=me.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(ln))return c[ln](this);S=it(S);const L=Mt(this),W=Ne(void 0);try{if(!(S&me.SkipSelf)){let Be=this.records.get(c);if(void 0===Be){const nt=function cv(r){return"function"==typeof r||"object"==typeof r&&r instanceof Kr}(c)&&oe(c);Be=nt&&this.injectableDefInScope(nt)?Eu(Xp(c),hh):null,this.records.set(c,Be)}if(null!=Be)return this.hydrate(c,Be)}return(S&me.Self?Cm():this.parent).get(c,f=S&me.Optional&&f===vt?null:f)}catch(ue){if("NullInjectorError"===ue.name){if((ue[Ve]=ue[Ve]||[]).unshift(m(c)),L)throw ue;return function Et(r,c,f,S){const L=r[Ve];throw c[Yt]&&L.unshift(c[Yt]),r.message=function Qt(r,c,f,S=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let L=m(c);if(Array.isArray(c))L=c.map(m).join(" -> ");else if("object"==typeof c){let W=[];for(let ue in c)if(c.hasOwnProperty(ue)){let Be=c[ue];W.push(ue+":"+("string"==typeof Be?JSON.stringify(Be):m(Be)))}L=`{${W.join(", ")}}`}return`${f}${S?"("+S+")":""}[${L}]: ${r.replace(Bt,"\n  ")}`}("\n"+r.message,L,f,S),r.ngTokenPath=L,r[Ve]=null,r}(ue,c,"R3InjectorError",this.source)}throw ue}finally{Ne(W),Mt(L)}}resolveInjectorInitializers(){const c=Mt(this),f=Ne(void 0);try{const S=this.get(Vd.multi,Dn,me.Self);for(const L of S)L()}finally{Mt(c),Ne(f)}}toString(){const c=[],f=this.records;for(const S of f.keys())c.push(m(S));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(c){let f=bu(c=B(c))?c:B(c&&c.provide);const S=function jy(r){return uh(r)?Eu(void 0,r.useValue):Eu(sv(r),hh)}(c);if(bu(c)||!0!==c.multi)this.records.get(f);else{let L=this.records.get(f);L||(L=Eu(void 0,hh,!0),L.factory=()=>ot(L.multi),this.records.set(f,L)),f=c,L.multi.push(c)}this.records.set(f,S)}hydrate(c,f){return f.value===hh&&(f.value=ov,f.value=f.factory()),"object"==typeof f.value&&f.value&&function lv(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(c){if(!c.providedIn)return!1;const f=B(c.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(c){const f=this._onDestroyHooks.indexOf(c);-1!==f&&this._onDestroyHooks.splice(f,1)}}function Xp(r){const c=oe(r),f=null!==c?c.factory:dt(r);if(null!==f)return f;if(r instanceof Kr)throw new C(204,!1);if(r instanceof Function)return function Hy(r){const c=r.length;if(c>0)throw al(c,"?"),new C(204,!1);const f=function Q(r){return r&&(r[$]||r[J])||null}(r);return null!==f?()=>f.factory(r):()=>new r}(r);throw new C(204,!1)}function sv(r,c,f){let S;if(bu(r)){const L=B(r);return dt(L)||Xp(L)}if(uh(r))S=()=>B(r.useValue);else if(function fh(r){return!(!r||!r.useFactory)}(r))S=()=>r.useFactory(...ot(r.deps||[]));else if(function iv(r){return!(!r||!r.useExisting)}(r))S=()=>Qe(B(r.useExisting));else{const L=B(r&&(r.useClass||r.provide));if(!function av(r){return!!r.deps}(r))return dt(L)||Xp(L);S=()=>new L(...ot(r.deps))}return S}function Eu(r,c,f=!1){return{factory:r,value:c,multi:f?[]:void 0}}function Dm(r,c){for(const f of r)Array.isArray(f)?Dm(f,c):f&&R(f)?Dm(f.\u0275providers,c):c(f)}const eg=new Kr("AppId",{providedIn:"root",factory:()=>dv}),dv="ng",tg=new Kr("Platform Initializer"),Mm=new Kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uv=new Kr("AnimationModuleType"),fv=new Kr("CSP nonce",{providedIn:"root",factory:()=>U().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rg=(r,c)=>null;function Wd(r,c){return rg(r,c)}class Tv{}class ag{}class Dv{resolveComponentFactory(c){throw function Sv(r){const c=Error(`No component factory found for ${m(r)}.`);return c.ngComponent=r,c}(c)}}let hf=(()=>{class r{static#e=this.NULL=new Dv}return r})();function Mv(){return Yd(Sr(),ii())}function Yd(r,c){return new Cu(jt(r,c))}let Cu=(()=>{class r{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=Mv}return r})();function Av(r){return r instanceof Cu?r.nativeElement:r}class Lm{}let xv=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Iv(){const r=ii(),f=Gn(Sr().index,r);return(Rr(f)?f:r)[Qn]}()}return r})(),wv=(()=>{class r{static#e=this.\u0275prov=be({token:r,providedIn:"root",factory:()=>null})}return r})();class cg{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const dg=new cg("16.1.7"),bh={};function mf(r){for(;r;){r[Pi]|=64;const c=ql(r);if(Zr(r)&&!c)return r;r=c}return null}function km(r){return r.ngOriginalError}class Du{constructor(){this._console=console}handleError(c){const f=this._findOriginalError(c);this._console.error("ERROR",c),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(c){let f=c&&km(c);for(;f&&km(f);)f=km(f);return f||null}}const fg=new Kr("",{providedIn:"root",factory:()=>!1});function mg(r){return r.ownerDocument.defaultView}function id(r){return r instanceof Function?r():r}class vg extends Vo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(c){this._lView=c}onConsumerDependencyMayHaveChanged(){mf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(c,f,S){const L=Ar(this);this.trackingVersion++;try{c(f,S)}finally{Ar(L)}}destroy(){this.trackingVersion++}}let Th=null;function yg(){return Th??=new vg,Th}function bg(r,c){return r[c]??yg()}function Eg(r,c){const f=yg();f.hasReadASignal&&(r[c]=Th,f.lView=r,Th=new vg)}const dr={};function Tg(r){Sg(nr(),ii(),$o()+r,!1)}function Sg(r,c,f,S){if(!S)if(3==(3&c[Pi])){const W=r.preOrderCheckHooks;null!==W&&fr(c,W,f)}else{const W=r.preOrderHooks;null!==W&&Bo(c,W,0,f)}Yr(f)}function Ag(r,c=null,f=null,S){const L=Hv(r,c,f,S);return L.resolveInjectorInitializers(),L}function Hv(r,c=null,f=null,S,L=new Set){const W=[f||Dn,Uy(r)];return S=S||("object"==typeof r?void 0:m(r)),new qp(W,c||Cm(),S||null,L)}let Ed=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=vt;static#t=this.NULL=new tv;static create(f,S){if(Array.isArray(f))return Ag({name:""},S,f,"");{const L=f.name??"";return Ag({name:L},f.parent,f.providers,L)}}static#n=this.\u0275prov=be({token:r,providedIn:"any",factory:()=>Qe(cf)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function Au(r,c=me.Default){const f=ii();return null===f?Qe(r,c):Uc(Sr(),f,B(r),c)}function rd(){throw new Error("invalid")}function xu(r,c,f,S,L,W,ue,Be,nt,wt,$t){const mn=c.blueprint.slice();return mn[mr]=L,mn[Pi]=140|S,(null!==wt||r&&2048&r[Pi])&&(mn[Pi]|=2048),Wi(mn),mn[rr]=mn[Ui]=r,mn[_n]=f,mn[ri]=ue||r&&r[ri],mn[Qn]=Be||r&&r[Qn],mn[Vn]=nt||r&&r[Vn]||null,mn[Mr]=W,mn[Ao]=function kp(){return Lp++}(),mn[eo]=$t,mn[Ms]=wt,mn[ki]=2==c.type?r[ki]:mn,mn}function Td(r,c,f,S,L){let W=r.data[c];if(null===W)W=pf(r,c,f,S,L),function Eo(){return xi.lFrame.inI18n}()&&(W.flags|=32);else if(64&W.type){W.type=f,W.value=S,W.attrs=L;const ue=qa();W.injectorIndex=null===ue?-1:ue.injectorIndex}return Fo(W,!0),W}function pf(r,c,f,S,L){const W=ad(),ue=bl(),nt=r.data[c]=function jm(r,c,f,S,L,W){let ue=c?c.injectorIndex:-1,Be=0;return $r()&&(Be|=128),{type:f,index:S,insertBeforeIndex:null,injectorIndex:ue,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Be,providerIndexes:0,value:L,attrs:W,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ue?W:W&&W.parent,f,c,S,L);return null===r.firstChild&&(r.firstChild=nt),null!==W&&(ue?null==W.child&&null!==nt.parent&&(W.child=nt):null===W.next&&(W.next=nt,nt.prev=W)),nt}function ra(r,c,f,S){if(0===f)return-1;const L=c.length;for(let W=0;W<f;W++)c.push(S),r.blueprint.push(S),r.data.push(null);return L}function Bm(r,c,f,S,L){const W=bg(c,Xo),ue=$o(),Be=2&S;try{if(Yr(-1),Be&&c.length>Xi&&Sg(r,c,Xi,!1),bs(Be?2:0,L),Be)W.runInContext(f,S,L);else{const wt=Ar(null);try{f(S,L)}finally{Ar(wt)}}}finally{Be&&null===c[Xo]&&Eg(c,Xo),Yr(ue),bs(Be?3:1,L)}}function Um(r,c,f){if(Fs(c)){const S=Ar(null);try{const W=c.directiveEnd;for(let ue=c.directiveStart;ue<W;ue++){const Be=r.data[ue];Be.contentQueries&&Be.contentQueries(1,f[ue],ue)}}finally{Ar(S)}}}function gf(r,c,f){Qs()&&(function Yv(r,c,f,S){const L=f.directiveStart,W=f.directiveEnd;mo(f)&&function Zv(r,c,f){const S=jt(c,r),L=Sd(f);let ue=16;f.signals?ue=4096:f.onPush&&(ue=64);const Be=wh(r,xu(r,L,null,ue,S,c,null,r[ri].rendererFactory.createRenderer(S,f),null,null,null));r[c.index]=Be}(c,f,r.data[L+f.componentOffset]),r.firstCreatePass||il(f,c),Ns(S,c);const ue=f.initialInputs;for(let Be=L;Be<W;Be++){const nt=r.data[Be],wt=rl(c,r,Be,f);Ns(wt,c),null!==ue&&yf(0,Be-L,wt,nt,0,ue),$i(nt)&&(Gn(f.index,c)[_n]=rl(c,r,Be,f))}}(r,c,f,jt(f,c)),64==(64&f.flags)&&Iu(r,c,f))}function Gm(r,c,f=jt){const S=c.localNames;if(null!==S){let L=c.index+1;for(let W=0;W<S.length;W+=2){const ue=S[W+1],Be=-1===ue?f(c,r):r[ue];r[L++]=Be}}}function Sd(r){const c=r.tView;return null===c||c.incompleteFirstPass?r.tView=Sh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):c}function Sh(r,c,f,S,L,W,ue,Be,nt,wt,$t){const mn=Xi+S,wn=mn+L,Un=function jv(r,c){const f=[];for(let S=0;S<c;S++)f.push(S<r?null:dr);return f}(mn,wn),ti="function"==typeof wt?wt():wt;return Un[pi]={type:r,blueprint:Un,template:f,queries:null,viewQuery:Be,declTNode:c,data:Un.slice().fill(null,mn),bindingStartIndex:mn,expandoStartIndex:wn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof W?W():W,pipeRegistry:"function"==typeof ue?ue():ue,firstChild:null,schemas:nt,consts:ti,incompleteFirstPass:!1,ssrId:$t}}let Hm=r=>null;function Og(r,c,f,S){for(let L in r)if(r.hasOwnProperty(L)){f=null===f?{}:f;const W=r[L];null===S?Vm(f,c,L,W):S.hasOwnProperty(L)&&Vm(f,c,S[L],W)}return f}function Vm(r,c,f,S){r.hasOwnProperty(f)?r[f].push(c,S):r[f]=[c,S]}function fa(r,c,f,S,L,W,ue,Be){const nt=jt(c,f);let $t,wt=c.inputs;!Be&&null!=wt&&($t=wt[S])?(Rg(r,f,$t,S,L),mo(c)&&function Ch(r,c){const f=Gn(c,r);16&f[Pi]||(f[Pi]|=64)}(f,c.index)):3&c.type&&(S=function Km(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(S),L=null!=ue?ue(L,c.value||"",S):L,W.setProperty(nt,S,L))}function _f(r,c,f,S){if(Qs()){const L=null===S?null:{"":-1},W=function zv(r,c){const f=r.directiveRegistry;let S=null,L=null;if(f)for(let W=0;W<f.length;W++){const ue=f[W];if(Ln(c,ue.selectors,!1))if(S||(S=[]),$i(ue))if(null!==ue.findHostDirectiveDefs){const Be=[];L=L||new Map,ue.findHostDirectiveDefs(ue,Be,L),S.unshift(...Be,ue),Ah(r,c,Be.length)}else S.unshift(ue),Ah(r,c,0);else L=L||new Map,ue.findHostDirectiveDefs?.(ue,S,L),S.push(ue)}return null===S?null:[S,L]}(r,f);let ue,Be;null===W?ue=Be=null:[ue,Be]=W,null!==ue&&Dc(r,c,f,ue,L,Be),L&&function Cd(r,c,f){if(c){const S=r.localNames=[];for(let L=0;L<c.length;L+=2){const W=f[c[L+1]];if(null==W)throw new C(-301,!1);S.push(c[L],W)}}}(f,S,L)}f.mergedAttrs=bt(f.mergedAttrs,f.attrs)}function Dc(r,c,f,S,L,W){for(let wt=0;wt<S.length;wt++)Bc(il(f,c),r,S[wt].type);!function zd(r,c,f){r.flags|=1,r.directiveStart=c,r.directiveEnd=c+f,r.providerIndexes=c}(f,r.data.length,S.length);for(let wt=0;wt<S.length;wt++){const $t=S[wt];$t.providersResolver&&$t.providersResolver($t)}let ue=!1,Be=!1,nt=ra(r,c,S.length,null);for(let wt=0;wt<S.length;wt++){const $t=S[wt];f.mergedAttrs=bt(f.mergedAttrs,$t.hostAttrs),vf(r,f,c,nt,$t),Mc(nt,$t,L),null!==$t.contentQueries&&(f.flags|=4),(null!==$t.hostBindings||null!==$t.hostAttrs||0!==$t.hostVars)&&(f.flags|=64);const mn=$t.type.prototype;!ue&&(mn.ngOnChanges||mn.ngOnInit||mn.ngDoCheck)&&((r.preOrderHooks??=[]).push(f.index),ue=!0),!Be&&(mn.ngOnChanges||mn.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(f.index),Be=!0),nt++}!function Kv(r,c,f){const L=c.directiveEnd,W=r.data,ue=c.attrs,Be=[];let nt=null,wt=null;for(let $t=c.directiveStart;$t<L;$t++){const mn=W[$t],wn=f?f.get(mn):null,ti=wn?wn.outputs:null;nt=Og(mn.inputs,$t,nt,wn?wn.inputs:null),wt=Og(mn.outputs,$t,wt,ti);const ui=null===nt||null===ue||Rt(c)?null:$v(nt,$t,ue);Be.push(ui)}null!==nt&&(nt.hasOwnProperty("class")&&(c.flags|=8),nt.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=Be,c.inputs=nt,c.outputs=wt}(r,f,W)}function Iu(r,c,f){const S=f.directiveStart,L=f.directiveEnd,W=f.index,ue=function el(){return xi.lFrame.currentDirectiveIndex}();try{Yr(W);for(let Be=S;Be<L;Be++){const nt=r.data[Be],wt=c[Be];oc(Be),(null!==nt.hostBindings||0!==nt.hostVars||null!==nt.hostAttrs)&&Pg(nt,wt)}}finally{Yr(-1),oc(ue)}}function Pg(r,c){null!==r.hostBindings&&r.hostBindings(1,c)}function Ah(r,c,f){c.componentOffset=f,(r.components??=[]).push(c.index)}function Mc(r,c,f){if(f){if(c.exportAs)for(let S=0;S<c.exportAs.length;S++)f[c.exportAs[S]]=r;$i(c)&&(f[""]=r)}}function vf(r,c,f,S,L){r.data[S]=L;const W=L.factory||(L.factory=dt(L.type)),ue=new nl(W,$i(L),Au);r.blueprint[S]=ue,f[S]=ue,function Wm(r,c,f,S,L){const W=L.hostBindings;if(W){let ue=r.hostBindingOpCodes;null===ue&&(ue=r.hostBindingOpCodes=[]);const Be=~c.index;(function Mh(r){let c=r.length;for(;c>0;){const f=r[--c];if("number"==typeof f&&f<0)return f}return 0})(ue)!=Be&&ue.push(Be),ue.push(f,S,W)}}(r,c,S,ra(r,f,L.hostVars,dr),L)}function Ol(r,c,f,S,L,W){const ue=jt(r,c);!function xh(r,c,f,S,L,W,ue){if(null==W)r.removeAttribute(c,L,f);else{const Be=null==ue?M(W):ue(W,S||"",L);r.setAttribute(c,L,Be,f)}}(c[Qn],ue,W,r.value,f,S,L)}function yf(r,c,f,S,L,W){const ue=W[c];if(null!==ue)for(let Be=0;Be<ue.length;)bf(S,f,ue[Be++],ue[Be++],ue[Be++])}function bf(r,c,f,S,L){const W=Ar(null);try{const ue=r.inputTransforms;null!==ue&&ue.hasOwnProperty(S)&&(L=ue[S].call(c,L)),null!==r.setInput?r.setInput(c,L,f,S):c[S]=L}finally{Ar(W)}}function $v(r,c,f){let S=null,L=0;for(;L<f.length;){const W=f[L];if(0!==W)if(5!==W){if("number"==typeof W)break;if(r.hasOwnProperty(W)){null===S&&(S=[]);const ue=r[W];for(let Be=0;Be<ue.length;Be+=2)if(ue[Be]===c){S.push(W,ue[Be+1],f[L+1]);break}}L+=2}else L+=2;else L+=4}return S}function Ih(r,c,f,S){return[r,!0,!1,c,null,0,S,f,null,null,null]}function Jv(r,c){const f=r.contentQueries;if(null!==f)for(let S=0;S<f.length;S+=2){const W=f[S+1];if(-1!==W){const ue=r.data[W];qs(f[S]),ue.contentQueries(2,c[W],W)}}}function wh(r,c){return r[Ri]?r[Ki][Ur]=c:r[Ri]=c,r[Ki]=c,c}function Ym(r,c,f){qs(0);const S=Ar(null);try{c(r,f)}finally{Ar(S)}}function zm(r){return r[so]||(r[so]=[])}function Qv(r){return r.cleanup||(r.cleanup=[])}function qv(r,c,f){return(null===r||$i(r))&&(f=function Hs(r){for(;Array.isArray(r);){if("object"==typeof r[xo])return r;r=r[mr]}return null}(f[c.index])),f[Qn]}function Xv(r,c){const f=r[Vn],S=f?f.get(Du,null):null;S&&S.handleError(c)}function Rg(r,c,f,S,L){for(let W=0;W<f.length;){const ue=f[W++],Be=f[W++];bf(r.data[ue],c[ue],S,Be,L)}}function Dd(r,c,f){const S=Ke(c,r);!function zf(r,c,f){r.setValue(c,f)}(r[Qn],S,f)}function tb(r,c){const f=Gn(c,r),S=f[pi];!function Oh(r,c){for(let f=c.length;f<r.blueprint.length;f++)c.push(r.blueprint[f])}(S,f);const L=f[mr];null!==L&&null===f[eo]&&(f[eo]=Wd(L,f[Vn])),Zm(S,f,f[_n])}function Zm(r,c,f){Gl(c);try{const S=r.viewQuery;null!==S&&Ym(1,S,f);const L=r.template;null!==L&&Bm(r,c,L,1,f),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Jv(r,c),r.staticViewQueries&&Ym(2,r.viewQuery,f);const W=r.components;null!==W&&function e0(r,c){for(let f=0;f<c.length;f++)tb(r,c[f])}(c,W)}catch(S){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),S}finally{c[Pi]&=-5,Pa()}}let Jm=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(f,S,L){const W=typeof Zone>"u"?null:Zone.current,ue=new Ll(f,wt=>{this.all.has(wt)&&this.queue.set(wt,W)},L);let Be;this.all.add(ue),ue.notify();const nt=()=>{ue.cleanup(),Be?.(),this.all.delete(ue),this.queue.delete(ue)};return Be=S?.onDestroy(nt),{destroy:nt}}flush(){if(0!==this.queue.size)for(const[f,S]of this.queue)this.queue.delete(f),S?S.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=be({token:r,providedIn:"root",factory:()=>new r})}return r})();function Rh(r,c,f){let S=f?r.styles:null,L=f?r.classes:null,W=0;if(null!==c)for(let ue=0;ue<c.length;ue++){const Be=c[ue];"number"==typeof Be?W=Be:1==W?L=y(L,Be):2==W&&(S=y(S,Be+": "+c[++ue]+";"))}f?r.styles=S:r.stylesWithoutHost=S,f?r.classes=L:r.classesWithoutHost=L}function Zd(r,c,f,S,L=!1){for(;null!==f;){const W=c[f.index];if(null!==W&&S.push(wr(W)),pr(W)){for(let Be=Pr;Be<W.length;Be++){const nt=W[Be],wt=nt[pi].firstChild;null!==wt&&Zd(nt[pi],nt,wt,S)}W[ao]!==W[mr]&&S.push(W[ao])}const ue=f.type;if(8&ue)Zd(r,c,f.child,S);else if(32&ue){const Be=yc(f,c);let nt;for(;nt=Be();)S.push(nt)}else if(16&ue){const Be=fu(c,f);if(Array.isArray(Be))S.push(...Be);else{const nt=ql(c[ki]);Zd(nt[pi],nt,Be,S,!0)}}f=L?f.projectionNext:f.next}return S}function Ef(r,c,f,S=!0){const L=c[ri].rendererFactory;L.begin&&L.begin();try{Lg(r,c,r.template,f)}catch(ue){throw S&&Xv(c,ue),ue}finally{L.end&&L.end(),c[ri].effectManager?.flush()}}function Lg(r,c,f,S){const L=c[Pi];if(256!=(256&L)){c[ri].effectManager?.flush(),Gl(c);try{Wi(c),function Xa(r){return xi.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==f&&Bm(r,c,f,2,S);const ue=3==(3&L);if(ue){const wt=r.preOrderCheckHooks;null!==wt&&fr(c,wt,null)}else{const wt=r.preOrderHooks;null!==wt&&Bo(c,wt,0,null),ca(c,0)}if(function r0(r){for(let c=Qu(r);null!==c;c=lm(c)){if(!c[ps])continue;const f=c[Ho];for(let S=0;S<f.length;S++){Ji(f[S])}}}(c),kg(c,2),null!==r.contentQueries&&Jv(r,c),ue){const wt=r.contentCheckHooks;null!==wt&&fr(c,wt)}else{const wt=r.contentHooks;null!==wt&&Bo(c,wt,1),ca(c,1)}!function xg(r,c){const f=r.hostBindingOpCodes;if(null===f)return;const S=bg(c,Go);try{for(let L=0;L<f.length;L++){const W=f[L];if(W<0)Yr(~W);else{const ue=W,Be=f[++L],nt=f[++L];Tl(Be,ue),S.runInContext(nt,2,c[ue])}}}finally{null===c[Go]&&Eg(c,Go),Yr(-1)}}(r,c);const Be=r.components;null!==Be&&Nh(c,Be,0);const nt=r.viewQuery;if(null!==nt&&Ym(2,nt,S),ue){const wt=r.viewCheckHooks;null!==wt&&fr(c,wt)}else{const wt=r.viewHooks;null!==wt&&Bo(c,wt,2),ca(c,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),c[Pi]&=-73,Vr(c)}finally{Pa()}}}function kg(r,c){for(let f=Qu(r);null!==f;f=lm(f))for(let S=Pr;S<f.length;S++)Md(f[S],c)}function o0(r,c,f){Md(Gn(c,r),f)}function Md(r,c){if(!function _i(r){return 128==(128&r[Pi])}(r))return;const f=r[pi];if(80&r[Pi]&&0===c||1024&r[Pi]||2===c)Lg(f,r,f.template,r[_n]);else if(r[bo]>0){kg(r,1);const L=r[pi].components;null!==L&&Nh(r,L,1)}}function Nh(r,c,f){for(let S=0;S<c.length;S++)o0(r,c[S],f)}class $d{get rootNodes(){const c=this._lView,f=c[pi];return Zd(f,c,f.firstChild,[])}constructor(c,f){this._lView=c,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(c){this._lView[_n]=c}get destroyed(){return 256==(256&this._lView[Pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[rr];if(pr(c)){const f=c[8],S=f?f.indexOf(this):-1;S>-1&&(yd(c,S),Zl(f,S))}this._attachedToViewContainer=!1}qc(this._lView[pi],this._lView)}onDestroy(c){!function Or(r,c){if(256==(256&r[Pi]))throw new C(911,!1);null===r[zr]&&(r[zr]=[]),r[zr].push(c)}(this._lView,c)}markForCheck(){mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pi]&=-129}reattach(){this._lView[Pi]|=128}detectChanges(){Ef(this._lView[pi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gp(r,c){bc(r,c,c[Qn],2,null,null)}(this._lView[pi],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=c}}class Lh extends $d{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Ef(c[pi],c,c[_n],!1)}checkNoChanges(){}get context(){return null}}class Fg extends hf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const f=Fi(c);return new Tf(f,this.ngModule)}}function Bg(r){const c=[];for(let f in r)r.hasOwnProperty(f)&&c.push({propName:r[f],templateName:f});return c}class a0{constructor(c,f){this.injector=c,this.parentInjector=f}get(c,f,S){S=it(S);const L=this.injector.get(c,bh,S);return L!==bh||f===bh?L:this.parentInjector.get(c,f,S)}}class Tf extends ag{get inputs(){const c=this.componentDef,f=c.inputTransforms,S=Bg(c.inputs);if(null!==f)for(const L of S)f.hasOwnProperty(L.propName)&&(L.transform=f[L.propName]);return S}get outputs(){return Bg(this.componentDef.outputs)}constructor(c,f){super(),this.componentDef=c,this.ngModule=f,this.componentType=c.type,this.selector=function Xt(r){return r.map(Dt).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!f}create(c,f,S,L){let W=(L=L||this.ngModule)instanceof Kd?L:L?.injector;W&&null!==this.componentDef.getStandaloneInjector&&(W=this.componentDef.getStandaloneInjector(W)||W);const ue=W?new a0(c,W):c,Be=ue.get(Lm,null);if(null===Be)throw new C(407,!1);const $t={rendererFactory:Be,sanitizer:ue.get(wv,null),effectManager:ue.get(Jm,null)},mn=Be.createRenderer(null,this.componentDef),wn=this.componentDef.selectors[0][0]||"div",Un=S?function Xy(r,c,f,S){const W=S.get(fg,!1)||f===pn.ShadowDom,ue=r.selectRootElement(c,W);return function Vv(r){Hm(r)}(ue),ue}(mn,S,this.componentDef.encapsulation,ue):Il(mn,wn,function s0(r){const c=r.toLowerCase();return"svg"===c?Ja:"math"===c?"math":null}(wn)),Ai=this.componentDef.signals?4608:this.componentDef.onPush?576:528,zi=Sh(0,null,null,1,0,null,null,null,null,null,null),oi=xu(null,zi,null,Ai,null,null,$t,mn,ue,null,null);let ur,Wr;Gl(oi);try{const qr=this.componentDef;let Va,q_=null;qr.findHostDirectiveDefs?(Va=[],q_=new Map,qr.findHostDirectiveDefs(qr,Va,q_),Va.push(qr)):Va=[qr];const BD=function kh(r,c){const f=r[pi],S=Xi;return r[S]=c,Td(f,S,2,"#host",null)}(oi,Un),UD=function qm(r,c,f,S,L,W,ue){const Be=L[pi];!function Fh(r,c,f,S){for(const L of r)c.mergedAttrs=bt(c.mergedAttrs,L.hostAttrs);null!==c.mergedAttrs&&(Rh(c,c.mergedAttrs,!0),null!==f&&ym(S,f,c))}(S,r,c,ue);let nt=null;null!==c&&(nt=Wd(c,L[Vn]));const wt=W.rendererFactory.createRenderer(c,f);let $t=16;f.signals?$t=4096:f.onPush&&($t=64);const mn=xu(L,Sd(f),null,$t,L[r.index],r,W,wt,null,null,nt);return Be.firstCreatePass&&Ah(Be,r,S.length-1),wh(L,mn),L[r.index]=mn}(BD,Un,qr,Va,oi,$t,mn);Wr=Ft(zi,Xi),Un&&function Ug(r,c,f,S){if(S)ct(r,f,["ng-version",dg.full]);else{const{attrs:L,classes:W}=function Mn(r){const c=[],f=[];let S=1,L=2;for(;S<r.length;){let W=r[S];if("string"==typeof W)2===L?""!==W&&c.push(W,r[++S]):8===L&&f.push(W);else{if(!Zt(L))break;L=W}S++}return{attrs:c,classes:f}}(c.selectors[0]);L&&ct(r,f,L),W&&W.length>0&&vm(r,f,W.join(" "))}}(mn,qr,Un,S),void 0!==f&&function c0(r,c,f){const S=r.projection=[];for(let L=0;L<c.length;L++){const W=f[L];S.push(null!=W?Array.from(W):null)}}(Wr,this.ngContentSelectors,f),ur=function l0(r,c,f,S,L,W){const ue=Sr(),Be=L[pi],nt=jt(ue,L);Dc(Be,L,ue,f,null,S);for(let $t=0;$t<f.length;$t++)Ns(rl(L,Be,ue.directiveStart+$t,ue),L);Iu(Be,L,ue),nt&&Ns(nt,L);const wt=rl(L,Be,ue.directiveStart+ue.componentOffset,ue);if(r[_n]=L[_n]=wt,null!==W)for(const $t of W)$t(wt,c);return Um(Be,ue,r),wt}(UD,qr,Va,q_,oi,[rb]),Zm(zi,oi,null)}finally{Pa()}return new Qm(this.componentType,ur,Yd(Wr,oi),oi,Wr)}}class Qm extends Tv{constructor(c,f,S,L,W){super(),this.location=S,this._rootLView=L,this._tNode=W,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new Lh(L),this.componentType=c}setInput(c,f){const S=this._tNode.inputs;let L;if(null!==S&&(L=S[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),f))return;const W=this._rootLView;Rg(W[pi],W,L,c,f),this.previousInputValues.set(c,f),mf(Gn(this._tNode.index,W))}}get injector(){return new ol(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function rb(){const r=Sr();Li(ii()[pi],r)}function Gg(r){let c=function Bh(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),f=!0;const S=[r];for(;c;){let L;if($i(r))L=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new C(903,!1);L=c.\u0275dir}if(L){if(f){S.push(L);const ue=r;ue.inputs=Uh(r.inputs),ue.inputTransforms=Uh(r.inputTransforms),ue.declaredInputs=Uh(r.declaredInputs),ue.outputs=Uh(r.outputs);const Be=L.hostBindings;Be&&jg(r,Be);const nt=L.viewQuery,wt=L.contentQueries;if(nt&&Hg(r,nt),wt&&Xm(r,wt),u(r.inputs,L.inputs),u(r.declaredInputs,L.declaredInputs),u(r.outputs,L.outputs),null!==L.inputTransforms&&(null===ue.inputTransforms&&(ue.inputTransforms={}),u(ue.inputTransforms,L.inputTransforms)),$i(L)&&L.data.animation){const $t=r.data;$t.animation=($t.animation||[]).concat(L.data.animation)}}const W=L.features;if(W)for(let ue=0;ue<W.length;ue++){const Be=W[ue];Be&&Be.ngInherit&&Be(r),Be===Gg&&(f=!1)}}c=Object.getPrototypeOf(c)}!function d0(r){let c=0,f=null;for(let S=r.length-1;S>=0;S--){const L=r[S];L.hostVars=c+=L.hostVars,L.hostAttrs=bt(L.hostAttrs,f=bt(f,L.hostAttrs))}}(S)}function Uh(r){return r===Tn?{}:r===Dn?[]:r}function Hg(r,c){const f=r.viewQuery;r.viewQuery=f?(S,L)=>{c(S,L),f(S,L)}:c}function Xm(r,c){const f=r.contentQueries;r.contentQueries=f?(S,L,W)=>{c(S,L,W),f(S,L,W)}:c}function jg(r,c){const f=r.hostBindings;r.hostBindings=f?(S,L)=>{c(S,L),f(S,L)}:c}function Vg(r){return c=>{c.findHostDirectiveDefs=Kg,c.hostDirectives=(Array.isArray(r)?r:r()).map(f=>"function"==typeof f?{directive:B(f),inputs:Tn,outputs:Tn}:{directive:B(f.directive),inputs:Wg(f.inputs),outputs:Wg(f.outputs)})}}function Kg(r,c,f){if(null!==r.hostDirectives)for(const S of r.hostDirectives){const L=Ii(S.directive);h0(L.declaredInputs,S.inputs),Kg(L,c,f),f.set(L,S),c.push(L)}}function Wg(r){if(void 0===r||0===r.length)return Tn;const c={};for(let f=0;f<r.length;f+=2)c[r[f]]=r[f+1];return c}function h0(r,c){for(const f in c)c.hasOwnProperty(f)&&(r[c[f]]=r[f])}function zg(r){const c=r.inputConfig,f={};for(const S in c)if(c.hasOwnProperty(S)){const L=c[S];Array.isArray(L)&&L[2]&&(f[S]=L[2])}r.inputTransforms=f}function Gh(r){return!!tp(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function tp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ac(r,c,f){return r[c]=f}function ha(r,c,f){return!Object.is(r[c],f)&&(r[c]=f,!0)}function oa(r,c,f,S){const L=ha(r,c,f);return ha(r,c+1,S)||L}function Ou(r,c,f,S,L){const W=oa(r,c,f,S);return ha(r,c+2,L)||W}function Sf(r,c,f,S){const L=ii();return ha(L,Lr(),c)&&(nr(),Ol(Pe(),L,r,c,f,S)),Sf}function Ru(r,c,f,S){return ha(r,Lr(),f)?c+M(f)+S:dr}function Ad(r,c,f,S,L,W){const Be=oa(r,Es(),f,L);return Ts(2),Be?c+M(f)+S+M(L)+W:dr}function s_(r,c,f,S,L,W,ue,Be){const nt=ii(),wt=nr(),$t=r+Xi,mn=wt.firstCreatePass?function A0(r,c,f,S,L,W,ue,Be,nt){const wt=c.consts,$t=Td(c,r,4,ue||null,er(wt,Be));_f(c,f,$t,er(wt,nt)),Li(c,$t);const mn=$t.tView=Sh(2,$t,S,L,W,c.directiveRegistry,c.pipeRegistry,null,c.schemas,wt,null);return null!==c.queries&&(c.queries.template(c,$t),mn.queries=c.queries.embeddedTView($t)),$t}($t,wt,nt,c,f,S,L,W,ue):wt.data[$t];Fo(mn,!1);const wn=a_(wt,nt,mn,r);Rn()&&qf(wt,nt,wn,mn),Ns(wn,nt),wh(nt,nt[$t]=Ih(wn,nt,wn,mn)),cs(mn)&&gf(wt,nt,mn),null!=ue&&Gm(nt,mn,Be)}let a_=function l_(r,c,f,S){return ni(!0),c[Qn].createComment("")};function Xd(r){return vn(function wa(){return xi.lFrame.contextLView}(),Xi+r)}function Af(r,c,f){const S=ii();return ha(S,Lr(),c)&&fa(nr(),Pe(),S,r,c,S[Qn],f,!1),Af}function Uu(r,c,f,S,L){const ue=L?"class":"style";Rg(r,f,c.inputs[ue],ue,S)}function tc(r,c,f,S){const L=ii(),W=nr(),ue=Xi+r,Be=L[Qn],nt=W.firstCreatePass?function Gu(r,c,f,S,L,W){const ue=c.consts,nt=Td(c,r,2,S,er(ue,L));return _f(c,f,nt,er(ue,W)),null!==nt.attrs&&Rh(nt,nt.attrs,!1),null!==nt.mergedAttrs&&Rh(nt,nt.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,nt),nt}(ue,W,L,c,f,S):W.data[ue],wt=c_(W,L,nt,Be,c,r);L[ue]=wt;const $t=cs(nt);return Fo(nt,!0),ym(Be,wt,nt),32!=(32&nt.flags)&&Rn()&&qf(W,L,wt,nt),0===function co(){return xi.lFrame.elementDepthCount}()&&Ns(wt,L),function Io(){xi.lFrame.elementDepthCount++}(),$t&&(gf(W,L,nt),Um(W,nt,L)),null!==S&&Gm(L,nt),tc}function xf(){let r=Sr();bl()?io():(r=r.parent,Fo(r,!1));const c=r;(function ic(r){return xi.skipHydrationRootTNode===r})(c)&&function Qa(){xi.skipHydrationRootTNode=null}(),function Ko(){xi.lFrame.elementDepthCount--}();const f=nr();return f.firstCreatePass&&(Li(f,r),Fs(r)&&f.queries.elementEnd(r)),null!=c.classesWithoutHost&&function wd(r){return 0!=(8&r.flags)}(c)&&Uu(f,c,ii(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function ea(r){return 0!=(16&r.flags)}(c)&&Uu(f,c,ii(),c.stylesWithoutHost,!1),xf}function up(r,c,f,S){return tc(r,c,f,S),xf(),up}let c_=(r,c,f,S,L,W)=>(ni(!0),Il(S,L,function tn(){return xi.lFrame.currentNamespace}()));function Hu(r,c,f){const S=ii(),L=nr(),W=r+Xi,ue=L.firstCreatePass?function P0(r,c,f,S,L){const W=c.consts,ue=er(W,S),Be=Td(c,r,8,"ng-container",ue);return null!==ue&&Rh(Be,ue,!0),_f(c,f,Be,er(W,L)),null!==c.queries&&c.queries.elementStart(c,Be),Be}(W,L,S,c,f):L.data[W];Fo(ue,!0);const Be=hp(L,S,ue,r);return S[W]=Be,Rn()&&qf(L,S,Be,ue),Ns(Be,S),cs(ue)&&(gf(L,S,ue),Um(L,ue,S)),null!=f&&Gm(S,ue),Hu}function ju(){let r=Sr();const c=nr();return bl()?io():(r=r.parent,Fo(r,!1)),c.firstCreatePass&&(Li(c,r),Fs(r)&&c.queries.elementEnd(r)),ju}function fp(r,c,f){return Hu(r,c,f),ju(),fp}let hp=(r,c,f,S)=>(ni(!0),Ud(c[Qn],""));function Vu(){return ii()}function If(r){return!!r&&"function"==typeof r.then}function Vh(r){return!!r&&"function"==typeof r.subscribe}function mp(r,c,f,S){const L=ii(),W=nr(),ue=Sr();return u_(W,L,L[Qn],ue,r,c,S),mp}function pp(r,c){const f=Sr(),S=ii(),L=nr();return u_(L,S,qv(ba(L.data),f,S),f,r,c),pp}function u_(r,c,f,S,L,W,ue){const Be=cs(S),wt=r.firstCreatePass&&Qv(r),$t=c[_n],mn=zm(c);let wn=!0;if(3&S.type||ue){const ui=jt(S,c),Ai=ue?ue(ui):ui,zi=mn.length,oi=ue?Wr=>ue(wr(Wr[S.index])):S.index;let ur=null;if(!ue&&Be&&(ur=function N0(r,c,f,S){const L=r.cleanup;if(null!=L)for(let W=0;W<L.length-1;W+=2){const ue=L[W];if(ue===f&&L[W+1]===S){const Be=c[so],nt=L[W+2];return Be.length>nt?Be[nt]:null}"string"==typeof ue&&(W+=2)}return null}(r,c,L,S.index)),null!==ur)(ur.__ngLastListenerFn__||ur).__ngNextListenerFn__=W,ur.__ngLastListenerFn__=W,wn=!1;else{W=h_(S,c,$t,W,!1);const Wr=f.listen(Ai,L,W);mn.push(W,Wr),wt&&wt.push(L,oi,zi,zi+1)}}else W=h_(S,c,$t,W,!1);const Un=S.outputs;let ti;if(wn&&null!==Un&&(ti=Un[L])){const ui=ti.length;if(ui)for(let Ai=0;Ai<ui;Ai+=2){const qr=c[ti[Ai]][ti[Ai+1]].subscribe(W),Va=mn.length;mn.push(W,qr),wt&&wt.push(L,S.index,Va,-(Va+1))}}}function f_(r,c,f,S){try{return bs(6,c,f),!1!==f(S)}catch(L){return Xv(r,L),!1}finally{bs(7,c,f)}}function h_(r,c,f,S,L){return function W(ue){if(ue===Function)return S;mf(r.componentOffset>-1?Gn(r.index,c):c);let nt=f_(c,f,S,ue),wt=W.__ngNextListenerFn__;for(;wt;)nt=f_(c,f,wt,ue)&&nt,wt=wt.__ngNextListenerFn__;return L&&!1===nt&&ue.preventDefault(),nt}}function m_(r=1){return function Lc(r){return(xi.lFrame.contextLView=function cd(r,c){for(;r>0;)c=c[Ui],r--;return c}(r,xi.lFrame.contextLView))[_n]}(r)}function L0(r,c){let f=null;const S=function Hn(r){const c=r.attrs;if(null!=c){const f=c.indexOf(5);if(!(1&f))return c[f+1]}return null}(r);for(let L=0;L<c.length;L++){const W=c[L];if("*"!==W){if(null===S?Ln(r,W,!0):Ie(S,W))return L}else f=L}return f}function p_(r){const c=ii()[ki][Mr];if(!c.projection){const S=c.projection=al(r?r.length:1,null),L=S.slice();let W=c.child;for(;null!==W;){const ue=r?L0(W,r):0;null!==ue&&(L[ue]?L[ue].projectionNext=W:S[ue]=W,L[ue]=W),W=W.next}}}function g_(r,c=0,f){const S=ii(),L=nr(),W=Td(L,Xi+r,16,null,f||null);null===W.projection&&(W.projection=c),io(),(!S[eo]||$r())&&32!=(32&W.flags)&&function eh(r,c,f){_m(c[Qn],0,c,f,fm(r,f,c),Kp(f.parent||c[Mr],f,c))}(L,S,W)}function gp(r,c,f){return Kh(r,"",c,"",f),gp}function Kh(r,c,f,S,L){const W=ii(),ue=Ru(W,c,f,S);return ue!==dr&&fa(nr(),Pe(),W,r,ue,W[Qn],L,!1),Kh}function _p(r,c,f,S,L,W,ue){const Be=ii(),nt=Ad(Be,c,f,S,L,W);return nt!==dr&&fa(nr(),Pe(),Be,r,nt,Be[Qn],ue,!1),_p}function Wh(r,c){return r<<17|c<<2}function xd(r){return r>>17&32767}function bp(r){return 2|r}function eu(r){return(131068&r)>>2}function Of(r,c){return-131069&r|c<<2}function Ep(r){return 1|r}function E_(r,c,f,S,L){const W=r[f+1],ue=null===c;let Be=S?xd(W):eu(W),nt=!1;for(;0!==Be&&(!1===nt||ue);){const $t=r[Be+1];H0(r[Be],c)&&(nt=!0,r[Be+1]=S?Ep($t):bp($t)),Be=S?xd($t):eu($t)}nt&&(r[f+1]=S?bp(W):Ep(W))}function H0(r,c){return null===r||null==c||(Array.isArray(r)?r[1]:r)===c||!(!Array.isArray(r)||"string"!=typeof c)&&sn(r,c)>=0}const Ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function T_(r){return r.substring(Ls.key,Ls.keyEnd)}function S_(r,c){const f=Ls.textEnd;return f===c?-1:(c=Ls.keyEnd=function W0(r,c,f){for(;c<f&&r.charCodeAt(c)>32;)c++;return c}(r,Ls.key=c,f),Ku(r,c,f))}function Ku(r,c,f){for(;c<f&&r.charCodeAt(c)<=32;)c++;return c}function Tp(r,c,f){return Ma(r,c,f,!1),Tp}function Sp(r,c){return Ma(r,c,null,!0),Sp}function x_(r){nc(q0,wc,r,!0)}function wc(r,c){for(let f=function V0(r){return function D_(r){Ls.key=0,Ls.keyEnd=0,Ls.value=0,Ls.valueEnd=0,Ls.textEnd=r.length}(r),S_(r,Ku(r,0,Ls.textEnd))}(c);f>=0;f=S_(c,f))st(r,T_(c),!0)}function Ma(r,c,f,S){const L=ii(),W=nr(),ue=Ts(2);W.firstUpdatePass&&w_(W,r,ue,S),c!==dr&&ha(L,ue,c)&&N_(W,W.data[$o()],L,L[Qn],r,L[ue+1]=function ey(r,c){return null==r||""===r||("string"==typeof c?r+=c:"object"==typeof r&&(r=m(li(r)))),r}(c,f),S,ue)}function nc(r,c,f,S){const L=nr(),W=Ts(2);L.firstUpdatePass&&w_(L,null,W,S);const ue=ii();if(f!==dr&&ha(ue,W,f)){const Be=L.data[$o()];if(k_(Be,S)&&!I_(L,W)){let nt=S?Be.classesWithoutHost:Be.stylesWithoutHost;null!==nt&&(f=y(nt,f||"")),Uu(L,Be,ue,f,S)}else!function X0(r,c,f,S,L,W,ue,Be){L===dr&&(L=Dn);let nt=0,wt=0,$t=0<L.length?L[0]:null,mn=0<W.length?W[0]:null;for(;null!==$t||null!==mn;){const wn=nt<L.length?L[nt+1]:void 0,Un=wt<W.length?W[wt+1]:void 0;let ui,ti=null;$t===mn?(nt+=2,wt+=2,wn!==Un&&(ti=mn,ui=Un)):null===mn||null!==$t&&$t<mn?(nt+=2,ti=$t):(wt+=2,ti=mn,ui=Un),null!==ti&&N_(r,c,f,S,ti,ui,ue,Be),$t=nt<L.length?L[nt]:null,mn=wt<W.length?W[wt]:null}}(L,Be,ue,ue[Qn],ue[W+1],ue[W+1]=function Q0(r,c,f){if(null==f||""===f)return Dn;const S=[],L=li(f);if(Array.isArray(L))for(let W=0;W<L.length;W++)r(S,L[W],!0);else if("object"==typeof L)for(const W in L)L.hasOwnProperty(W)&&r(S,W,L[W]);else"string"==typeof L&&c(S,L);return S}(r,c,f),S,W)}}function I_(r,c){return c>=r.expandoStartIndex}function w_(r,c,f,S){const L=r.data;if(null===L[f+1]){const W=L[$o()],ue=I_(r,f);k_(W,S)&&null===c&&!ue&&(c=!1),c=function $0(r,c,f,S){const L=ba(r);let W=S?c.residualClasses:c.residualStyles;if(null===L)0===(S?c.classBindings:c.styleBindings)&&(f=Pf(f=Cp(null,r,c,f,S),c.attrs,S),W=null);else{const ue=c.directiveStylingLast;if(-1===ue||r[ue]!==L)if(f=Cp(L,r,c,f,S),null===W){let nt=function O_(r,c,f){const S=f?c.classBindings:c.styleBindings;if(0!==eu(S))return r[xd(S)]}(r,c,S);void 0!==nt&&Array.isArray(nt)&&(nt=Cp(null,r,c,nt[1],S),nt=Pf(nt,c.attrs,S),function P_(r,c,f,S){r[xd(f?c.classBindings:c.styleBindings)]=S}(r,c,S,nt))}else W=function J0(r,c,f){let S;const L=c.directiveEnd;for(let W=1+c.directiveStylingLast;W<L;W++)S=Pf(S,r[W].hostAttrs,f);return Pf(S,c.attrs,f)}(r,c,S)}return void 0!==W&&(S?c.residualClasses=W:c.residualStyles=W),f}(L,W,c,S),function U0(r,c,f,S,L,W){let ue=W?c.classBindings:c.styleBindings,Be=xd(ue),nt=eu(ue);r[S]=f;let $t,wt=!1;if(Array.isArray(f)?($t=f[1],(null===$t||sn(f,$t)>0)&&(wt=!0)):$t=f,L)if(0!==nt){const wn=xd(r[Be+1]);r[S+1]=Wh(wn,Be),0!==wn&&(r[wn+1]=Of(r[wn+1],S)),r[Be+1]=function F0(r,c){return 131071&r|c<<17}(r[Be+1],S)}else r[S+1]=Wh(Be,0),0!==Be&&(r[Be+1]=Of(r[Be+1],S)),Be=S;else r[S+1]=Wh(nt,0),0===Be?Be=S:r[nt+1]=Of(r[nt+1],S),nt=S;wt&&(r[S+1]=bp(r[S+1])),E_(r,$t,S,!0),E_(r,$t,S,!1),function G0(r,c,f,S,L){const W=L?r.residualClasses:r.residualStyles;null!=W&&"string"==typeof c&&sn(W,c)>=0&&(f[S+1]=Ep(f[S+1]))}(c,$t,r,S,W),ue=Wh(Be,nt),W?c.classBindings=ue:c.styleBindings=ue}(L,W,c,f,ue,S)}}function Cp(r,c,f,S,L){let W=null;const ue=f.directiveEnd;let Be=f.directiveStylingLast;for(-1===Be?Be=f.directiveStart:Be++;Be<ue&&(W=c[Be],S=Pf(S,W.hostAttrs,L),W!==r);)Be++;return null!==r&&(f.directiveStylingLast=Be),S}function Pf(r,c,f){const S=f?1:2;let L=-1;if(null!==c)for(let W=0;W<c.length;W++){const ue=c[W];"number"==typeof ue?L=ue:L===S&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),st(r,ue,!!f||c[++W]))}return void 0===r?null:r}function q0(r,c,f){const S=String(c);""!==S&&!S.includes(" ")&&st(r,S,f)}function N_(r,c,f,S,L,W,ue,Be){if(!(3&c.type))return;const nt=r.data,wt=nt[Be+1],$t=function B0(r){return 1==(1&r)}(wt)?L_(nt,c,f,L,eu(wt),ue):void 0;Yh($t)||(Yh(W)||function k0(r){return 2==(2&r)}(wt)&&(W=L_(nt,null,f,L,Be,ue)),function Zp(r,c,f,S,L){if(c)L?r.addClass(f,S):r.removeClass(f,S);else{let W=-1===S.indexOf("-")?void 0:Jc.DashCase;null==L?r.removeStyle(f,S,W):("string"==typeof L&&L.endsWith("!important")&&(L=L.slice(0,-10),W|=Jc.Important),r.setStyle(f,S,L,W))}}(S,ue,Ke($o(),f),L,W))}function L_(r,c,f,S,L,W){const ue=null===c;let Be;for(;L>0;){const nt=r[L],wt=Array.isArray(nt),$t=wt?nt[1]:nt,mn=null===$t;let wn=f[L+1];wn===dr&&(wn=mn?Dn:void 0);let Un=mn?kt(wn,S):$t===S?wn:void 0;if(wt&&!Yh(Un)&&(Un=kt(nt,S)),Yh(Un)&&(Be=Un,ue))return Be;const ti=r[L+1];L=ue?xd(ti):eu(ti)}if(null!==c){let nt=W?c.residualClasses:c.residualStyles;null!=nt&&(Be=kt(nt,S))}return Be}function Yh(r){return void 0!==r}function k_(r,c){return 0!=(r.flags&(c?8:16))}function F_(r,c=""){const f=ii(),S=nr(),L=r+Xi,W=S.firstCreatePass?Td(S,L,1,c,null):S.data[L],ue=B_(S,f,W,c,r);f[L]=ue,Rn()&&qf(S,f,ue,W),Fo(W,!1)}let B_=(r,c,f,S,L)=>(ni(!0),Bd(c[Qn],S));function i(r){return t("",r,""),i}function t(r,c,f){const S=ii(),L=Ru(S,r,c,f);return L!==dr&&Dd(S,$o(),L),t}function l(r,c,f,S,L){const W=ii(),ue=Ad(W,r,c,f,S,L);return ue!==dr&&Dd(W,$o(),ue),l}function h(r,c,f,S,L,W,ue){const Be=ii(),nt=function Nu(r,c,f,S,L,W,ue,Be){const wt=Ou(r,Es(),f,L,ue);return Ts(3),wt?c+M(f)+S+M(L)+W+M(ue)+Be:dr}(Be,r,c,f,S,L,W,ue);return nt!==dr&&Dd(Be,$o(),nt),h}function $e(r,c,f){nc(st,wc,Ru(ii(),r,c,f),!0)}function sr(r,c,f){const S=ii();return ha(S,Lr(),c)&&fa(nr(),Pe(),S,r,c,S[Qn],f,!0),sr}function fo(r,c,f){const S=ii();if(ha(S,Lr(),c)){const W=nr(),ue=Pe();fa(W,ue,S,r,c,qv(ba(W.data),ue,S),f,!0)}return fo}const yr=void 0;var Ha=["en",[["a","p"],["AM","PM"],yr],[["AM","PM"],yr,yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yr,"{1} 'at' {0}",yr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ga(r){const f=Math.floor(Math.abs(r)),S=r.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===S?1:5}];let go={};function ja(r){const c=function OT(r){return r.toLowerCase().replace(/_/g,"-")}(r);let f=mb(c);if(f)return f;const S=c.split("-")[0];if(f=mb(S),f)return f;if("en"===S)return Ha;throw new C(701,!1)}function zh(r){return ja(r)[Zh.PluralCase]}function mb(r){return r in go||(go[r]=Xe.ng&&Xe.ng.common&&Xe.ng.common.locales&&Xe.ng.common.locales[r]),go[r]}var Zh=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Zh||{});const $h="en-US",U_={marker:"element"},G_={marker:"ICU"};var Rl=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Rl||{});let pb=$h;function gb(r){(function Te(r,c){null==r&&De(c,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(pb=r.toLowerCase().replace(/_/g,"-"))}function _b(r,c,f){const S=c.insertBeforeIndex,L=Array.isArray(S)?S[0]:S;return null===L?Wp(r,0,f):wr(f[L])}function vb(r,c,f,S,L){const W=c.insertBeforeIndex;if(Array.isArray(W)){let ue=S,Be=null;if(3&c.type||(Be=ue,ue=L),null!==ue&&-1===c.componentOffset)for(let nt=1;nt<W.length;nt++)Xl(r,ue,f[W[nt]],Be,!1)}}function yb(r,c){if(r.push(c),r.length>1)for(let f=r.length-2;f>=0;f--){const S=r[f];bb(S)||kT(S,c)&&null===FT(S)&&BT(S,c.index)}}function bb(r){return!(64&r.type)}function kT(r,c){return bb(c)||r.index>c.index}function FT(r){const c=r.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function BT(r,c){const f=r.insertBeforeIndex;Array.isArray(f)?f[0]=c:(Yp(_b,vb),r.insertBeforeIndex=c)}function HT(r,c,f){const S=pf(r,f,64,null,null);return yb(c,S),S}function ZT(){const r=[];let f,S,c=-1;function W(Be,nt){c=0;const wt=function H_(r,c){const f=c[r.currentCaseLViewIndex];return null===f?f:f<0?~f:f}(Be,nt);S=null!==wt?Be.remove[wt]:Dn}function ue(){if(c<S.length){const Be=S[c++];return Be>0?f[Be]:(r.push(c,S),W(f[pi].data[~Be],f),ue())}return 0===r.length?null:(S=r.pop(),c=r.pop(),ue())}return function L(Be,nt){for(f=nt;r.length;)r.pop();return W(Be.value,nt),ue}}const j_=/\ufffd(\d+):?\d*\ufffd/gi,JT=/\ufffd(\d+)\ufffd/,Ib=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ip="\ufffd",QT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,XT=/\uE500/g;function wb(r,c,f,S,L,W,ue){const Be=ra(r,S,1,null);let nt=Be<<Rl.SHIFT,wt=qa();c===wt&&(wt=null),null===wt&&(nt|=Rl.APPEND_EAGERLY),ue&&(nt|=Rl.COMMENT,function am(r){void 0===Wf&&(Wf=r())}(ZT)),L.push(nt,null===W?"":W);const $t=pf(r,Be,ue?32:1,null===W?"":W,null);yb(f,$t);const mn=$t.index;return Fo($t,!1),null!==wt&&c!==wt&&function GT(r,c){let f=r.insertBeforeIndex;null===f?(Yp(_b,vb),f=r.insertBeforeIndex=[null,c]):(function de(r,c,f){r!=c&&De(f,r,c,"==")}(Array.isArray(f),!0,"Expecting array here"),f.push(c))}(wt,mn),$t}function nS(r,c,f,S,L,W,ue){const Be=ue.match(j_),nt=wb(r,c,f,W,S,Be?null:ue,!1);Be&&wp(L,ue,nt.index,null,0,null)}function wp(r,c,f,S,L,W){const ue=r.length,Be=ue+1;r.push(null,null);const nt=ue+2,wt=c.split(j_);let $t=0;for(let mn=0;mn<wt.length;mn++){const wn=wt[mn];if(1&mn){const Un=L+parseInt(wn,10);r.push(-1-Un),$t|=Ob(Un)}else""!==wn&&r.push(wn)}return r.push(f<<2|(S?1:0)),S&&r.push(S,W),r[ue]=$t,r[Be]=r.length-nt,$t}function Ob(r){return 1<<Math.min(r,31)}function Pb(r){let c,W,f="",S=0,L=!1;for(;null!==(c=QT.exec(r));)L?c[0]===`${Ip}/*${W}${Ip}`&&(S=c.index,L=!1):(f+=r.substring(S,c.index+c[0].length),W=c[1],L=!0);return f+=r.slice(S),f}function Rb(r,c,f,S,L,W){let ue=0;const Be={type:L.type,currentCaseLViewIndex:ra(r,c,1,null),anchorIdx:W,cases:[],create:[],remove:[],update:[]};(function dS(r,c,f){r.push(Ob(c.mainBinding),2,-1-c.mainBinding,f<<2|2)})(f,L,W),function UT(r,c,f){const S=r.data[c];null===S?r.data[c]=f:S.value=f}(r,W,Be);const nt=L.values;for(let wt=0;wt<nt.length;wt++){const $t=nt[wt],mn=[];for(let wn=0;wn<$t.length;wn++){const Un=$t[wn];if("string"!=typeof Un){const ti=mn.push(Un)-1;$t[wn]=`\x3c!--\ufffd${ti}\ufffd--\x3e`}}ue=lS(r,Be,c,f,S,L.cases[wt],$t.join(""),mn)|ue}ue&&function uS(r,c,f){r.push(c,1,f<<2|3)}(f,ue,W)}function aS(r){const c=[],f=[];let S=1,L=0;const W=ny(r=r.replace(Ib,function(ue,Be,nt){return S="select"===nt?0:1,L=parseInt(Be.slice(1),10),""}));for(let ue=0;ue<W.length;){let Be=W[ue++].trim();1===S&&(Be=Be.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Be.length&&c.push(Be);const nt=ny(W[ue++]);c.length>f.length&&f.push(nt)}return{type:S,mainBinding:L,cases:c,values:f}}function ny(r){if(!r)return[];let c=0;const f=[],S=[],L=/[{}]/g;let W;for(L.lastIndex=0;W=L.exec(r);){const Be=W.index;if("}"==W[0]){if(f.pop(),0==f.length){const nt=r.substring(c,Be);Ib.test(nt)?S.push(aS(nt)):S.push(nt),c=Be+1}}else{if(0==f.length){const nt=r.substring(c,Be);S.push(nt),c=Be+1}f.push("{")}}const ue=r.substring(c);return S.push(ue),S}function lS(r,c,f,S,L,W,ue,Be){const nt=[],wt=[],$t=[];c.cases.push(W),c.create.push(nt),c.remove.push(wt),c.update.push($t);const wn=cr(U()).getInertBodyElement(ue),Un=sf(wn)||wn;return Un?Nb(r,c,f,S,nt,wt,$t,Un,L,Be,0):0}function Nb(r,c,f,S,L,W,ue,Be,nt,wt,$t){let mn=0,wn=Be.firstChild;for(;wn;){const Un=ra(r,f,1,null);switch(wn.nodeType){case Node.ELEMENT_NODE:const ti=wn,ui=ti.tagName.toLowerCase();if(Tc.hasOwnProperty(ui)){iy(L,U_,ui,nt,Un),r.data[Un]=ui;const ur=ti.attributes;for(let Wr=0;Wr<ur.length;Wr++){const qr=ur.item(Wr),Va=qr.name.toLowerCase();qr.value.match(j_)?Xc.hasOwnProperty(Va)&&wp(ue,qr.value,Un,qr.name,0,fl[Va]?Uo:null):fS(L,Un,qr)}mn=Nb(r,c,f,S,L,W,ue,wn,Un,wt,$t+1)|mn,Lb(W,Un,$t)}break;case Node.TEXT_NODE:const Ai=wn.textContent||"",zi=Ai.match(j_);iy(L,null,zi?"":Ai,nt,Un),Lb(W,Un,$t),zi&&(mn=wp(ue,Ai,Un,null,0,null)|mn);break;case Node.COMMENT_NODE:const oi=JT.exec(wn.textContent||"");if(oi){const Wr=wt[parseInt(oi[1],10)];iy(L,G_,"",nt,Un),Rb(r,f,S,nt,Wr,Un),cS(W,Un,$t)}}wn=wn.nextSibling}return mn}function Lb(r,c,f){0===f&&r.push(c)}function cS(r,c,f){0===f&&(r.push(~c),r.push(c))}function iy(r,c,f,S,L){null!==c&&r.push(c),r.push(f,L,function jT(r,c,f){return r|c<<17|f<<1}(0,S,L))}function fS(r,c,f){r.push(c<<1|1,f.name,f.value)}function Fb(r,c,f=-1){const S=nr(),L=ii(),W=Xi+r,ue=er(S.consts,c),Be=qa();S.firstCreatePass&&function tS(r,c,f,S,L,W){const ue=qa(),Be=[],nt=[],wt=[[]];L=function sS(r,c){if(function oS(r){return-1===r}(c))return Pb(r);{const f=r.indexOf(`:${c}${Ip}`)+2+c.toString().length,S=r.search(new RegExp(`${Ip}\\/\\*\\d+:${c}${Ip}`));return Pb(r.substring(f,S))}}(L,W);const $t=function eS(r){return r.replace(XT," ")}(L).split(qT);for(let mn=0;mn<$t.length;mn++){let wn=$t[mn];if(1&mn){const Un=47===wn.charCodeAt(0),ui=(wn.charCodeAt(Un?1:0),Xi+Number.parseInt(wn.substring(Un?2:1)));if(Un)wt.shift(),Fo(qa(),!1);else{const Ai=HT(r,wt[0],ui);wt.unshift([]),Fo(Ai,!0)}}else{const Un=ny(wn);for(let ti=0;ti<Un.length;ti++){let ui=Un[ti];if(1&ti){const Ai=ui;if("object"!=typeof Ai)throw new Error(`Unable to parse ICU expression in "${L}" message.`);Rb(r,f,nt,c,Ai,wb(r,ue,wt[0],f,Be,"",!0).index)}else""!==ui&&nS(r,ue,wt[0],Be,nt,f,ui)}}}r.data[S]={create:Be,update:nt}}(S,null===Be?0:Be.index,L,W,ue,f),2===S.type?L[ki][Pi]|=32:L[Pi]|=32;const nt=S.data[W],$t=hm(S,Be===L[Mr]?null:Be,L);(function WT(r,c,f,S){const L=r[Qn];for(let W=0;W<c.length;W++){const ue=c[W++],Be=c[W],wt=(ue&Rl.APPEND_EAGERLY)===Rl.APPEND_EAGERLY,$t=ue>>>Rl.SHIFT;let mn=r[$t];null===mn&&(mn=r[$t]=(ue&Rl.COMMENT)===Rl.COMMENT?L.createComment(Be):Bd(L,Be)),wt&&null!==f&&Xl(L,f,mn,S,!1)}})(L,nt.create,$t,Be&&8&Be.type?L[Be.index]:null),Ul(!0)}function Ub(r,c,f){Fb(r,c,f),function Bb(){Ul(!1)}()}function ry(r,c,f,S,L){if(r=B(r),Array.isArray(r))for(let W=0;W<r.length;W++)ry(r[W],c,f,S,L);else{const W=nr(),ue=ii();let Be=bu(r)?r:B(r.provide),nt=sv(r);const wt=Sr(),$t=1048575&wt.providerIndexes,mn=wt.directiveStart,wn=wt.providerIndexes>>20;if(bu(r)||!r.multi){const Un=new nl(nt,L,Au),ti=sy(Be,c,L?$t:$t+wn,mn);-1===ti?(Bc(il(wt,ue),W,Be),oy(W,r,c.length),c.push(Be),wt.directiveStart++,wt.directiveEnd++,L&&(wt.providerIndexes+=1048576),f.push(Un),ue.push(Un)):(f[ti]=Un,ue[ti]=Un)}else{const Un=sy(Be,c,$t+wn,mn),ti=sy(Be,c,$t,$t+wn),Ai=ti>=0&&f[ti];if(L&&!Ai||!L&&!(Un>=0&&f[Un])){Bc(il(wt,ue),W,Be);const zi=function AS(r,c,f,S,L){const W=new nl(r,f,Au);return W.multi=[],W.index=c,W.componentProviders=0,Hb(W,L,S&&!f),W}(L?MS:DS,f.length,L,S,nt);!L&&Ai&&(f[ti].providerFactory=zi),oy(W,r,c.length,0),c.push(Be),wt.directiveStart++,wt.directiveEnd++,L&&(wt.providerIndexes+=1048576),f.push(zi),ue.push(zi)}else oy(W,r,Un>-1?Un:ti,Hb(f[L?ti:Un],nt,!L&&S));!L&&S&&Ai&&f[ti].componentProviders++}}}function oy(r,c,f,S){const L=bu(c),W=function rv(r){return!!r.useClass}(c);if(L||W){const nt=(W?B(c.useClass):c).prototype.ngOnDestroy;if(nt){const wt=r.destroyHooks||(r.destroyHooks=[]);if(!L&&c.multi){const $t=wt.indexOf(f);-1===$t?wt.push(f,[S,nt]):wt[$t+1].push(S,nt)}else wt.push(f,nt)}}}function Hb(r,c,f){return f&&r.componentProviders++,r.multi.push(c)-1}function sy(r,c,f,S){for(let L=f;L<S;L++)if(c[L]===r)return L;return-1}function DS(r,c,f,S){return ay(this.multi,[])}function MS(r,c,f,S){const L=this.multi;let W;if(this.providerFactory){const ue=this.providerFactory.componentProviders,Be=rl(f,f[pi],this.providerFactory.index,S);W=Be.slice(0,ue),ay(L,W);for(let nt=ue;nt<Be.length;nt++)W.push(Be[nt])}else W=[],ay(L,W);return W}function ay(r,c){for(let f=0;f<r.length;f++)c.push((0,r[f])());return c}function jb(r,c=[]){return f=>{f.providersResolver=(S,L)=>function CS(r,c,f){const S=nr();if(S.firstCreatePass){const L=$i(r);ry(f,S.data,S.blueprint,L,!0),ry(c,S.data,S.blueprint,L,!1)}}(S,L?L(r):r,c)}}class Jh{}class Vb{}function xS(r,c){return new ly(r,c??null,[])}class ly extends Jh{constructor(c,f,S){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fg(this);const L=br(c);this._bootstrapComponents=id(L.bootstrap),this._r3Injector=Hv(c,f,[{provide:Jh,useValue:this},{provide:hf,useValue:this.componentFactoryResolver},...S],m(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class cy extends Vb{constructor(c){super(),this.moduleType=c}create(c){return new ly(this.moduleType,c,[])}}class Kb extends Jh{constructor(c){super(),this.componentFactoryResolver=new Fg(this),this.instance=null;const f=new qp([...c.providers,{provide:Jh,useValue:this},{provide:hf,useValue:this.componentFactoryResolver}],c.parent||Cm(),c.debugName,new Set(["environment"]));this.injector=f,c.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Wb(r,c,f=null){return new Kb({providers:r,parent:c,debugName:f,runEnvironmentInitializers:!0}).injector}let wS=(()=>{class r{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const S=nv(0,f.type),L=S.length>0?Wb([S],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,L)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=be({token:r,providedIn:"environment",factory:()=>new r(Qe(Kd))})}return r})();function Yb(r){r.getStandaloneInjector=c=>c.get(wS).getOrCreateStandaloneInjector(r)}function Xb(r,c,f){const S=Jr()+r,L=ii();return L[S]===dr?Ac(L,S,f?c.call(f):c()):function wu(r,c){return r[c]}(L,S)}function eE(r,c,f,S){return iE(ii(),Jr(),r,c,f,S)}function tE(r,c,f,S,L){return rE(ii(),Jr(),r,c,f,S,L)}function nE(r,c,f,S,L,W){return function oE(r,c,f,S,L,W,ue,Be){const nt=c+f;return Ou(r,nt,L,W,ue)?Ac(r,nt+3,Be?S.call(Be,L,W,ue):S(L,W,ue)):Op(r,nt+3)}(ii(),Jr(),r,c,f,S,L,W)}function Op(r,c){const f=r[c];return f===dr?void 0:f}function iE(r,c,f,S,L,W){const ue=c+f;return ha(r,ue,L)?Ac(r,ue+1,W?S.call(W,L):S(L)):Op(r,ue+1)}function rE(r,c,f,S,L,W,ue){const Be=c+f;return oa(r,Be,L,W)?Ac(r,Be+2,ue?S.call(ue,L,W):S(L,W)):Op(r,Be+2)}function lE(r,c){const f=nr();let S;const L=r+Xi;f.firstCreatePass?(S=function WS(r,c){if(c)for(let f=c.length-1;f>=0;f--){const S=c[f];if(r===S.name)return S}}(c,f.pipeRegistry),f.data[L]=S,S.onDestroy&&(f.destroyHooks??=[]).push(L,S.onDestroy)):S=f.data[L];const W=S.factory||(S.factory=dt(S.type)),ue=Ne(Au);try{const Be=Na(!1),nt=W();return Na(Be),function w0(r,c,f,S){f>=r.data.length&&(r.data[f]=null,r.blueprint[f]=null),c[f]=S}(f,ii(),L,nt),nt}finally{Ne(ue)}}function cE(r,c,f){const S=r+Xi,L=ii(),W=vn(L,S);return Pp(L,S)?iE(L,Jr(),c,W.transform,f,W):W.transform(f)}function dE(r,c,f,S){const L=r+Xi,W=ii(),ue=vn(W,L);return Pp(W,L)?rE(W,Jr(),c,ue.transform,f,S,ue):ue.transform(f,S)}function Pp(r,c){return r[pi].data[c].pure}function uy(r){return c=>{setTimeout(r,void 0,c)}}const Id=class $S extends e.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,f,S){let L=c,W=f||(()=>null),ue=S;if(c&&"object"==typeof c){const nt=c;L=nt.next?.bind(nt),W=nt.error?.bind(nt),ue=nt.complete?.bind(nt)}this.__isAsync&&(W=uy(W),L&&(L=uy(L)),ue&&(ue=uy(ue)));const Be=super.subscribe({next:L,error:W,complete:ue});return c instanceof n.w0&&c.add(Be),Be}};function JS(){return this._results[Symbol.iterator]()}class V_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Id)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=V_.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=JS)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,f){return this._results.reduce(c,f)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,f){const S=this;S.dirty=!1;const L=function Vs(r){return r.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function js(r,c,f){if(r.length!==c.length)return!1;for(let S=0;S<r.length;S++){let L=r[S],W=c[S];if(f&&(L=f(L),W=f(W)),W!==L)return!1}return!0}(S._results,L,f))&&(S._results=L,S.length=L.length,S.last=L[this.length-1],S.first=L[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Rp=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=XS}return r})();const QS=Rp,qS=class extends QS{constructor(c,f,S){super(),this._declarationLView=c,this._declarationTContainer=f,this.elementRef=S}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,f){return this.createEmbeddedViewImpl(c,f,null)}createEmbeddedViewImpl(c,f,S){const ue=this._declarationTContainer.tView,Be=xu(this._declarationLView,ue,c,4096&this._declarationLView[Pi]?4096:16,null,ue.declTNode,null,null,null,f||null,S||null);Be[Tr]=this._declarationLView[this._declarationTContainer.index];const wt=this._declarationLView[Mo];return null!==wt&&(Be[Mo]=wt.createEmbeddedView(ue)),Zm(ue,Be,c),new $d(Be)}};function XS(){return K_(Sr(),ii())}function K_(r,c){return 4&r.type?new qS(c,r,Yd(r,c)):null}let W_=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=sC}return r})();function sC(){return gE(Sr(),ii())}const aC=W_,mE=class extends aC{constructor(c,f,S){super(),this._lContainer=c,this._hostTNode=f,this._hostLView=S}get element(){return Yd(this._hostTNode,this._hostLView)}get injector(){return new ol(this._hostTNode,this._hostLView)}get parentInjector(){const c=da(this._hostTNode,this._hostLView);if(lc(c)){const f=Ra(c,this._hostLView),S=Jo(c);return new ol(f[pi].data[S+8],f)}return new ol(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const f=pE(this._lContainer);return null!==f&&f[c]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(c,f,S){let L,W;"number"==typeof S?L=S:null!=S&&(L=S.index,W=S.injector);const Be=c.createEmbeddedViewImpl(f||{},W,null);return this.insertImpl(Be,L,false),Be}createComponent(c,f,S,L,W){const ue=c&&!function uc(r){return"function"==typeof r}(c);let Be;if(ue)Be=f;else{const ui=f||{};Be=ui.index,S=ui.injector,L=ui.projectableNodes,W=ui.environmentInjector||ui.ngModuleRef}const nt=ue?c:new Tf(Fi(c)),wt=S||this.parentInjector;if(!W&&null==nt.ngModule){const Ai=(ue?wt:this.parentInjector).get(Kd,null);Ai&&(W=Ai)}Fi(nt.componentType??{});const Un=nt.create(wt,L,null,W);return this.insertImpl(Un.hostView,Be,false),Un}insert(c,f){return this.insertImpl(c,f,!1)}insertImpl(c,f,S){const L=c._lView,W=L[pi];if(function tr(r){return pr(r[rr])}(L)){const nt=this.indexOf(c);if(-1!==nt)this.detach(nt);else{const wt=L[rr],$t=new mE(wt,wt[Mr],wt[rr]);$t.detach($t.indexOf(c))}}const ue=this._adjustIndex(f),Be=this._lContainer;if(function dm(r,c,f,S){const L=Pr+S,W=f.length;S>0&&(f[L-1][Ur]=c),S<W-Pr?(c[Ur]=f[L],ro(f,Pr+S,c)):(f.push(c),c[Ur]=null),c[rr]=f;const ue=c[Tr];null!==ue&&f!==ue&&function $f(r,c){const f=r[Ho];c[ki]!==c[rr][rr][ki]&&(r[ps]=!0),null===f?r[Ho]=[c]:f.push(c)}(ue,c);const Be=c[Mo];null!==Be&&Be.insertView(r),c[Pi]|=128}(W,L,Be,ue),!S){const nt=ef(ue,Be),wt=L[Qn],$t=Qf(wt,Be[ao]);null!==$t&&function cm(r,c,f,S,L,W){S[mr]=L,S[Mr]=c,bc(r,S,f,1,L,W)}(W,Be[Mr],wt,L,$t,nt)}return c.attachToViewContainerRef(),ro(hy(Be),ue,c),c}move(c,f){return this.insert(c,f)}indexOf(c){const f=pE(this._lContainer);return null!==f?f.indexOf(c):-1}remove(c){const f=this._adjustIndex(c,-1),S=yd(this._lContainer,f);S&&(Zl(hy(this._lContainer),f),qc(S[pi],S))}detach(c){const f=this._adjustIndex(c,-1),S=yd(this._lContainer,f);return S&&null!=Zl(hy(this._lContainer),f)?new $d(S):null}_adjustIndex(c,f=0){return c??this.length+f}};function pE(r){return r[8]}function hy(r){return r[8]||(r[8]=[])}function gE(r,c){let f;const S=c[r.index];return pr(S)?f=S:(f=Ih(S,c,null,r),c[r.index]=f,wh(c,f)),_E(f,c,r,S),new mE(f,r,c)}let _E=function vE(r,c,f,S){if(r[ao])return;let L;L=8&f.type?wr(S):function lC(r,c){const f=r[Qn],S=f.createComment(""),L=jt(c,r);return Xl(f,Qf(f,L),S,function ev(r,c){return r.nextSibling(c)}(f,L),!1),S}(c,f),r[ao]=L};class my{constructor(c){this.queryList=c,this.matches=null}clone(){return new my(this.queryList)}setDirty(){this.queryList.setDirty()}}class py{constructor(c=[]){this.queries=c}createEmbeddedView(c){const f=c.queries;if(null!==f){const S=null!==c.contentQueries?c.contentQueries[0]:f.length,L=[];for(let W=0;W<S;W++){const ue=f.getByIndex(W);L.push(this.queries[ue.indexInDeclarationView].clone())}return new py(L)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let f=0;f<this.queries.length;f++)null!==AE(c,f).matches&&this.queries[f].setDirty()}}class yE{constructor(c,f,S=null){this.predicate=c,this.flags=f,this.read=S}}class gy{constructor(c=[]){this.queries=c}elementStart(c,f){for(let S=0;S<this.queries.length;S++)this.queries[S].elementStart(c,f)}elementEnd(c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(c)}embeddedTView(c){let f=null;for(let S=0;S<this.length;S++){const L=null!==f?f.length:0,W=this.getByIndex(S).embeddedTView(c,L);W&&(W.indexInDeclarationView=S,null!==f?f.push(W):f=[W])}return null!==f?new gy(f):null}template(c,f){for(let S=0;S<this.queries.length;S++)this.queries[S].template(c,f)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class _y{constructor(c,f=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(c,f){this.isApplyingToNode(f)&&this.matchTNode(c,f)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,f){this.elementStart(c,f)}embeddedTView(c,f){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,f),new _y(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let S=c.parent;for(;null!==S&&8&S.type&&S.index!==f;)S=S.parent;return f===(null!==S?S.index:-1)}return this._appliesToNextNode}matchTNode(c,f){const S=this.metadata.predicate;if(Array.isArray(S))for(let L=0;L<S.length;L++){const W=S[L];this.matchTNodeWithReadOption(c,f,uC(f,W)),this.matchTNodeWithReadOption(c,f,jl(f,c,W,!1,!1))}else S===Rp?4&f.type&&this.matchTNodeWithReadOption(c,f,-1):this.matchTNodeWithReadOption(c,f,jl(f,c,S,!1,!1))}matchTNodeWithReadOption(c,f,S){if(null!==S){const L=this.metadata.read;if(null!==L)if(L===Cu||L===W_||L===Rp&&4&f.type)this.addMatch(f.index,-2);else{const W=jl(f,c,L,!1,!1);null!==W&&this.addMatch(f.index,W)}else this.addMatch(f.index,S)}}addMatch(c,f){null===this.matches?this.matches=[c,f]:this.matches.push(c,f)}}function uC(r,c){const f=r.localNames;if(null!==f)for(let S=0;S<f.length;S+=2)if(f[S]===c)return f[S+1];return null}function hC(r,c,f,S){return-1===f?function fC(r,c){return 11&r.type?Yd(r,c):4&r.type?K_(r,c):null}(c,r):-2===f?function mC(r,c,f){return f===Cu?Yd(c,r):f===Rp?K_(c,r):f===W_?gE(c,r):void 0}(r,c,S):rl(r,r[pi],f,c)}function bE(r,c,f,S){const L=c[Mo].queries[S];if(null===L.matches){const W=r.data,ue=f.matches,Be=[];for(let nt=0;nt<ue.length;nt+=2){const wt=ue[nt];Be.push(wt<0?null:hC(c,W[wt],ue[nt+1],f.metadata.read))}L.matches=Be}return L.matches}function vy(r,c,f,S){const L=r.queries.getByIndex(f),W=L.matches;if(null!==W){const ue=bE(r,c,L,f);for(let Be=0;Be<W.length;Be+=2){const nt=W[Be];if(nt>0)S.push(ue[Be/2]);else{const wt=W[Be+1],$t=c[-nt];for(let mn=Pr;mn<$t.length;mn++){const wn=$t[mn];wn[Tr]===wn[rr]&&vy(wn[pi],wn,wt,S)}if(null!==$t[Ho]){const mn=$t[Ho];for(let wn=0;wn<mn.length;wn++){const Un=mn[wn];vy(Un[pi],Un,wt,S)}}}}}return S}function EE(r){const c=ii(),f=nr(),S=Oa();qs(S+1);const L=AE(f,S);if(r.dirty&&function Jn(r){return 4==(4&r[Pi])}(c)===(2==(2&L.metadata.flags))){if(null===L.matches)r.reset([]);else{const W=L.crossesNgTemplate?vy(f,c,S,[]):bE(f,c,L,S);r.reset(W,Av),r.notifyOnChanges()}return!0}return!1}function TE(r,c,f){const S=nr();S.firstCreatePass&&(ME(S,new yE(r,c,f),-1),2==(2&c)&&(S.staticViewQueries=!0)),DE(S,ii(),c)}function SE(r,c,f,S){const L=nr();if(L.firstCreatePass){const W=Sr();ME(L,new yE(c,f,S),W.index),function gC(r,c){const f=r.contentQueries||(r.contentQueries=[]);c!==(f.length?f[f.length-1]:-1)&&f.push(r.queries.length-1,c)}(L,r),2==(2&f)&&(L.staticContentQueries=!0)}DE(L,ii(),f)}function CE(){return function pC(r,c){return r[Mo].queries[c].queryList}(ii(),Oa())}function DE(r,c,f){const S=new V_(4==(4&f));(function wg(r,c,f,S){const L=zm(c);L.push(f),r.firstCreatePass&&Qv(r).push(S,L.length-1)})(r,c,S,S.destroy),null===c[Mo]&&(c[Mo]=new py),c[Mo].queries.push(new my(S))}function ME(r,c,f){null===r.queries&&(r.queries=new gy),r.queries.track(new _y(c,f))}function AE(r,c){return r.queries.getByIndex(c)}function xE(r,c){return K_(r,c)}function yy(r){return!!br(r)}const WE=new Kr("Application Initializer");let Cy=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,S)=>{this.resolve=f,this.reject=S}),this.appInits=ke(WE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const L of this.appInits){const W=L();if(If(W))f.push(W);else if(Vh(W)){const ue=new Promise((Be,nt)=>{W.subscribe({complete:Be,error:nt})});f.push(ue)}}const S=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{S()}).catch(L=>{this.reject(L)}),0===f.length&&S(),this.initialized=!0}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),YE=(()=>{class r{log(f){console.log(f)}warn(f){console.warn(f)}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const z_=new Kr("LocaleId",{providedIn:"root",factory:()=>ke(z_,me.Optional|me.SkipSelf)||function FC(){return typeof $localize<"u"&&$localize.locale||$h}()}),BC=new Kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let zE=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new E.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class GC{constructor(c,f){this.ngModuleFactory=c,this.componentFactories=f}}let HC=(()=>{class r{compileModuleSync(f){return new cy(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const S=this.compileModuleSync(f),W=id(br(f).declarations).reduce((ue,Be)=>{const nt=Fi(Be);return nt&&ue.push(new Tf(nt)),ue},[]);return new GC(S,W)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function JE(...r){}class pl{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:S=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Id(!1),this.onMicrotaskEmpty=new Id(!1),this.onStable=new Id(!1),this.onError=new Id(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const L=this;L._nesting=0,L._outer=L._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(L._inner=L._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(L._inner=L._inner.fork(Zone.longStackTraceZoneSpec)),L.shouldCoalesceEventChangeDetection=!S&&f,L.shouldCoalesceRunChangeDetection=S,L.lastRequestAnimationFrameId=-1,L.nativeRequestAnimationFrame=function KC(){const r="function"==typeof Xe.requestAnimationFrame;let c=Xe[r?"requestAnimationFrame":"setTimeout"],f=Xe[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&f){const S=c[Zone.__symbol__("OriginalDelegate")];S&&(c=S);const L=f[Zone.__symbol__("OriginalDelegate")];L&&(f=L)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function zC(r){const c=()=>{!function YC(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Xe,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,My(r),r.isCheckStableRunning=!0,Dy(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),My(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,S,L,W,ue,Be)=>{try{return QE(r),f.invokeTask(L,W,ue,Be)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===W.type||r.shouldCoalesceRunChangeDetection)&&c(),qE(r)}},onInvoke:(f,S,L,W,ue,Be,nt)=>{try{return QE(r),f.invoke(L,W,ue,Be,nt)}finally{r.shouldCoalesceRunChangeDetection&&c(),qE(r)}},onHasTask:(f,S,L,W)=>{f.hasTask(L,W),S===L&&("microTask"==W.change?(r._hasPendingMicrotasks=W.microTask,My(r),Dy(r)):"macroTask"==W.change&&(r.hasPendingMacrotasks=W.macroTask))},onHandleError:(f,S,L,W)=>(f.handleError(L,W),r.runOutsideAngular(()=>r.onError.emit(W)),!1)})}(L)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pl.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(pl.isInAngularZone())throw new C(909,!1)}run(c,f,S){return this._inner.run(c,f,S)}runTask(c,f,S,L){const W=this._inner,ue=W.scheduleEventTask("NgZoneEvent: "+L,c,WC,JE,JE);try{return W.runTask(ue,f,S)}finally{W.cancelTask(ue)}}runGuarded(c,f,S){return this._inner.runGuarded(c,f,S)}runOutsideAngular(c){return this._outer.run(c)}}const WC={};function Dy(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function My(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function QE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function qE(r){r._nesting--,Dy(r)}class ZC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Id,this.onMicrotaskEmpty=new Id,this.onStable=new Id,this.onError=new Id}run(c,f,S){return c.apply(f,S)}runGuarded(c,f,S){return c.apply(f,S)}runOutsideAngular(c){return c()}runTask(c,f,S,L){return c.apply(f,S)}}const XE=new Kr("",{providedIn:"root",factory:eT});function eT(){const r=ke(pl);let c=!0;const f=new A.y(L=>{c=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{L.next(c),L.complete()})}),S=new A.y(L=>{let W;r.runOutsideAngular(()=>{W=r.onStable.subscribe(()=>{pl.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(c=!0,L.next(!0))})})});const ue=r.onUnstable.subscribe(()=>{pl.assertInAngularZone(),c&&(c=!1,r.runOutsideAngular(()=>{L.next(!1)}))});return()=>{W.unsubscribe(),ue.unsubscribe()}});return(0,_.T)(f,S.pipe((0,w.B)()))}const tT=new Kr(""),nT=new Kr("");let Ay,$C=(()=>{class r{constructor(f,S,L){this._ngZone=f,this.registry=S,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ay||(function JC(r){Ay=r}(L),L.addToWindow(S)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pl.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(S=>!S.updateCb||!S.updateCb(f)||(clearTimeout(S.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,S,L){let W=-1;S&&S>0&&(W=setTimeout(()=>{this._callbacks=this._callbacks.filter(ue=>ue.timeoutId!==W),f(this._didWork,this.getPendingTasks())},S)),this._callbacks.push({doneCb:f,timeoutId:W,updateCb:L})}whenStable(f,S,L){if(L&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,S,L),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,S,L){return[]}static#e=this.\u0275fac=function(S){return new(S||r)(Qe(pl),Qe(iT),Qe(nT))};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac})}return r})(),iT=(()=>{class r{constructor(){this._applications=new Map}registerApplication(f,S){this._applications.set(f,S)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,S=!0){return Ay?.findTestabilityInTree(this,f,S)??null}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Wu=null;const rT=new Kr("AllowMultipleToken"),xy=new Kr("PlatformDestroyListeners"),Iy=new Kr("appBootstrapListener");class XC{constructor(c,f){this.name=c,this.token=f}}function aT(r,c,f=[]){const S=`Platform: ${c}`,L=new Kr(S);return(W=[])=>{let ue=wy();if(!ue||ue.injector.get(rT,!1)){const Be=[...f,...W,{provide:L,useValue:!0}];r?r(Be):function eD(r){if(Wu&&!Wu.get(rT,!1))throw new C(400,!1);(function oT(){!function Nl(r){Wa=r}(()=>{throw new C(600,!1)})})(),Wu=r;const c=r.get(cT);(function sT(r){r.get(tg,null)?.forEach(f=>f())})(r)}(function lT(r=[],c){return Ed.create({name:c,providers:[{provide:Jp,useValue:"platform"},{provide:xy,useValue:new Set([()=>Wu=null])},...r]})}(Be,S))}return function nD(r){const c=wy();if(!c)throw new C(401,!1);return c}()}}function wy(){return Wu?.get(cT)??null}let cT=(()=>{class r{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,S){const L=function iD(r="zone.js",c){return"noop"===r?new ZC:"zone.js"===r?new pl(c):r}(S?.ngZone,function dT(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:S?.ngZoneEventCoalescing,runCoalescing:S?.ngZoneRunCoalescing}));return L.run(()=>{const W=function IS(r,c,f){return new ly(r,c,f)}(f.moduleType,this.injector,function pT(r){return[{provide:pl,useFactory:r},{provide:Vd,multi:!0,useFactory:()=>{const c=ke(oD,{optional:!0});return()=>c.initialize()}},{provide:mT,useFactory:rD},{provide:XE,useFactory:eT}]}(()=>L)),ue=W.injector.get(Du,null);return L.runOutsideAngular(()=>{const Be=L.onError.subscribe({next:nt=>{ue.handleError(nt)}});W.onDestroy(()=>{Z_(this._modules,W),Be.unsubscribe()})}),function uT(r,c,f){try{const S=f();return If(S)?S.catch(L=>{throw c.runOutsideAngular(()=>r.handleError(L)),L}):S}catch(S){throw c.runOutsideAngular(()=>r.handleError(S)),S}}(ue,L,()=>{const Be=W.injector.get(Cy);return Be.runInitializers(),Be.donePromise.then(()=>(gb(W.injector.get(z_,$h)||$h),this._moduleDoBootstrap(W),W))})})}bootstrapModule(f,S=[]){const L=fT({},S);return function QC(r,c,f){const S=new cy(f);return Promise.resolve(S)}(0,0,f).then(W=>this.bootstrapModuleFactory(W,L))}_moduleDoBootstrap(f){const S=f.injector.get(Xh);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(L=>S.bootstrap(L));else{if(!f.instance.ngDoBootstrap)throw new C(-403,!1);f.instance.ngDoBootstrap(S)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(S=>S.destroy()),this._destroyListeners.forEach(S=>S());const f=this._injector.get(xy,null);f&&(f.forEach(S=>S()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(S){return new(S||r)(Qe(Ed))};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function fT(r,c){return Array.isArray(c)?c.reduce(fT,r):{...r,...c}}let Xh=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(mT),this.zoneIsStable=ke(XE),this.componentTypes=[],this.components=[],this.isStable=ke(zE).hasPendingTasks.pipe((0,g.w)(f=>f?(0,I.of)(!1):this.zoneIsStable),(0,o.x)(),(0,w.B)()),this._injector=ke(Kd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,S){const L=f instanceof ag;if(!this._injector.get(Cy).done)throw!L&&ho(f),new C(405,!1);let ue;ue=L?f:this._injector.get(hf).resolveComponentFactory(f),this.componentTypes.push(ue.componentType);const Be=function qC(r){return r.isBoundToModule}(ue)?void 0:this._injector.get(Jh),wt=ue.create(Ed.NULL,[],S||ue.selector,Be),$t=wt.location.nativeElement,mn=wt.injector.get(tT,null);return mn?.registerApplication($t),wt.onDestroy(()=>{this.detachView(wt.hostView),Z_(this.components,wt),mn?.unregisterApplication($t)}),this._loadComponent(wt),wt}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const S=f;this._views.push(S),S.attachToAppRef(this)}detachView(f){const S=f;Z_(this._views,S),S.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const S=this._injector.get(Iy,[]);S.push(...this._bootstrapListeners),S.forEach(L=>L(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>Z_(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new C(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Z_(r,c){const f=r.indexOf(c);f>-1&&r.splice(f,1)}const mT=new Kr("",{providedIn:"root",factory:()=>ke(Du).handleError.bind(void 0)});function rD(){const r=ke(pl),c=ke(Du);return f=>r.runOutsideAngular(()=>c.handleError(f))}let oD=(()=>{class r{constructor(){this.zone=ke(pl),this.applicationRef=ke(Xh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){return new(S||r)};static#t=this.\u0275prov=be({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function aD(){return!1}function lD(){}let cD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=dD}return r})();function dD(r){return function uD(r,c,f){if(mo(r)&&!f){const S=Gn(r.index,c);return new $d(S,S)}return 47&r.type?new $d(c[ki],c):null}(Sr(),ii(),16==(16&r))}class yT{constructor(){}supports(c){return Gh(c)}create(c){return new _D(c)}}const gD=(r,c)=>c;class _D{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||gD}forEachItem(c){let f;for(f=this._itHead;null!==f;f=f._next)c(f)}forEachOperation(c){let f=this._itHead,S=this._removalsHead,L=0,W=null;for(;f||S;){const ue=!S||f&&f.currentIndex<ET(S,L,W)?f:S,Be=ET(ue,L,W),nt=ue.currentIndex;if(ue===S)L--,S=S._nextRemoved;else if(f=f._next,null==ue.previousIndex)L++;else{W||(W=[]);const wt=Be-L,$t=nt-L;if(wt!=$t){for(let wn=0;wn<wt;wn++){const Un=wn<W.length?W[wn]:W[wn]=0,ti=Un+wn;$t<=ti&&ti<wt&&(W[wn]=Un+1)}W[ue.previousIndex]=$t-wt}}Be!==nt&&c(ue,Be,nt)}}forEachPreviousItem(c){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)c(f)}forEachAddedItem(c){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)c(f)}forEachMovedItem(c){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)c(f)}forEachRemovedItem(c){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)c(f)}forEachIdentityChange(c){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)c(f)}diff(c){if(null==c&&(c=[]),!Gh(c))throw new C(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let L,W,ue,f=this._itHead,S=!1;if(Array.isArray(c)){this.length=c.length;for(let Be=0;Be<this.length;Be++)W=c[Be],ue=this._trackByFn(Be,W),null!==f&&Object.is(f.trackById,ue)?(S&&(f=this._verifyReinsertion(f,W,ue,Be)),Object.is(f.item,W)||this._addIdentityChange(f,W)):(f=this._mismatch(f,W,ue,Be),S=!0),f=f._next}else L=0,function g0(r,c){if(Array.isArray(r))for(let f=0;f<r.length;f++)c(r[f]);else{const f=r[Symbol.iterator]();let S;for(;!(S=f.next()).done;)c(S.value)}}(c,Be=>{ue=this._trackByFn(L,Be),null!==f&&Object.is(f.trackById,ue)?(S&&(f=this._verifyReinsertion(f,Be,ue,L)),Object.is(f.item,Be)||this._addIdentityChange(f,Be)):(f=this._mismatch(f,Be,ue,L),S=!0),f=f._next,L++}),this.length=L;return this._truncate(f),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,f,S,L){let W;return null===c?W=this._itTail:(W=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(S,null))?(Object.is(c.item,f)||this._addIdentityChange(c,f),this._reinsertAfter(c,W,L)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(S,L))?(Object.is(c.item,f)||this._addIdentityChange(c,f),this._moveAfter(c,W,L)):c=this._addAfter(new vD(f,S),W,L),c}_verifyReinsertion(c,f,S,L){let W=null===this._unlinkedRecords?null:this._unlinkedRecords.get(S,null);return null!==W?c=this._reinsertAfter(W,c._prev,L):c.currentIndex!=L&&(c.currentIndex=L,this._addToMoves(c,L)),c}_truncate(c){for(;null!==c;){const f=c._next;this._addToRemovals(this._unlink(c)),c=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,f,S){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const L=c._prevRemoved,W=c._nextRemoved;return null===L?this._removalsHead=W:L._nextRemoved=W,null===W?this._removalsTail=L:W._prevRemoved=L,this._insertAfter(c,f,S),this._addToMoves(c,S),c}_moveAfter(c,f,S){return this._unlink(c),this._insertAfter(c,f,S),this._addToMoves(c,S),c}_addAfter(c,f,S){return this._insertAfter(c,f,S),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,f,S){const L=null===f?this._itHead:f._next;return c._next=L,c._prev=f,null===L?this._itTail=c:L._prev=c,null===f?this._itHead=c:f._next=c,null===this._linkedRecords&&(this._linkedRecords=new bT),this._linkedRecords.put(c),c.currentIndex=S,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const f=c._prev,S=c._next;return null===f?this._itHead=S:f._next=S,null===S?this._itTail=f:S._prev=f,c}_addToMoves(c,f){return c.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bT),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,f){return c.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class vD{constructor(c,f){this.item=c,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yD{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,f){let S;for(S=this._head;null!==S;S=S._nextDup)if((null===f||f<=S.currentIndex)&&Object.is(S.trackById,c))return S;return null}remove(c){const f=c._prevDup,S=c._nextDup;return null===f?this._head=S:f._nextDup=S,null===S?this._tail=f:S._prevDup=f,null===this._head}}class bT{constructor(){this.map=new Map}put(c){const f=c.trackById;let S=this.map.get(f);S||(S=new yD,this.map.set(f,S)),S.add(c)}get(c,f){const L=this.map.get(c);return L?L.get(c,f):null}remove(c){const f=c.trackById;return this.map.get(f).remove(c)&&this.map.delete(f),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ET(r,c,f){const S=r.previousIndex;if(null===S)return S;let L=0;return f&&S<f.length&&(L=f[S]),S+c+L}class TT{constructor(){}supports(c){return c instanceof Map||tp(c)}create(){return new bD}}class bD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let f;for(f=this._mapHead;null!==f;f=f._next)c(f)}forEachPreviousItem(c){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)c(f)}forEachChangedItem(c){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)c(f)}forEachAddedItem(c){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)c(f)}forEachRemovedItem(c){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)c(f)}diff(c){if(c){if(!(c instanceof Map||tp(c)))throw new C(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(c,(S,L)=>{if(f&&f.key===L)this._maybeAddToChanges(f,S),this._appendAfter=f,f=f._next;else{const W=this._getOrCreateRecordForKey(L,S);f=this._insertBeforeOrAppend(f,W)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let S=f;null!==S;S=S._nextRemoved)S===this._mapHead&&(this._mapHead=null),this._records.delete(S.key),S._nextRemoved=S._next,S.previousValue=S.currentValue,S.currentValue=null,S._prev=null,S._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,f){if(c){const S=c._prev;return f._next=c,f._prev=S,c._prev=f,S&&(S._next=f),c===this._mapHead&&(this._mapHead=f),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(c,f){if(this._records.has(c)){const L=this._records.get(c);this._maybeAddToChanges(L,f);const W=L._prev,ue=L._next;return W&&(W._next=ue),ue&&(ue._prev=W),L._next=null,L._prev=null,L}const S=new ED(c);return this._records.set(c,S),S.currentValue=f,this._addToAdditions(S),S}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,f){Object.is(f,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=f,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,f){c instanceof Map?c.forEach(f):Object.keys(c).forEach(S=>f(c[S],S))}}class ED{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ST(){return new Ly([new yT])}let Ly=(()=>{class r{static#e=this.\u0275prov=be({token:r,providedIn:"root",factory:ST});constructor(f){this.factories=f}static create(f,S){if(null!=S){const L=S.factories.slice();f=f.concat(L)}return new r(f)}static extend(f){return{provide:r,useFactory:S=>r.create(f,S||ST()),deps:[[r,new Rs,new Cs]]}}find(f){const S=this.factories.find(L=>L.supports(f));if(null!=S)return S;throw new C(901,!1)}}return r})();function CT(){return new ky([new TT])}let ky=(()=>{class r{static#e=this.\u0275prov=be({token:r,providedIn:"root",factory:CT});constructor(f){this.factories=f}static create(f,S){if(S){const L=S.factories.slice();f=f.concat(L)}return new r(f)}static extend(f){return{provide:r,useFactory:S=>r.create(f,S||CT()),deps:[[r,new Rs,new Cs]]}}find(f){const S=this.factories.find(L=>L.supports(f));if(S)return S;throw new C(901,!1)}}return r})();const CD=aT(null,"core",[]);let DD=(()=>{class r{constructor(f){}static#e=this.\u0275fac=function(S){return new(S||r)(Qe(Xh))};static#t=this.\u0275mod=Er({type:r});static#n=this.\u0275inj=K({})}return r})();function ND(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function kD(r,c){const f=Fi(r),S=c.elementInjector||Cm();return new Tf(f).create(S,c.projectableNodes,c.hostElement,c.environmentInjector)}function FD(r){const c=Fi(r);if(!c)return null;const f=new Tf(c);return{get selector(){return f.selector},get type(){return f.componentType},get inputs(){return f.inputs},get outputs(){return f.outputs},get ngContentSelectors(){return f.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},95:(Bn,et,v)=>{"use strict";v.d(et,{Zs:()=>Zr,Fj:()=>C,qu:()=>pa,NI:()=>Er,u:()=>Ao,sg:()=>Ri,u5:()=>ar,Cf:()=>G,JU:()=>P,a5:()=>ne,JJ:()=>Ee,JL:()=>ye,F:()=>qi,On:()=>Xr,YN:()=>Go,wV:()=>mr,UX:()=>An,EJ:()=>Xo,kI:()=>ae,_Y:()=>Br,Kr:()=>es});var e=v(5879),n=v(6814),E=v(2459),A=v(5592),_=v(7453),I=v(4829),w=v(9940),g=v(8251),o=v(7400),d=v(2714),m=v(7398);let y=(()=>{class dt{constructor(at,Vt){this._renderer=at,this._elementRef=Vt,this.onChange=bn=>{},this.onTouched=()=>{}}setProperty(at,Vt){this._renderer.setProperty(this._elementRef.nativeElement,at,Vt)}registerOnTouched(at){this.onTouched=at}registerOnChange(at){this.onChange=at}setDisabledState(at){this.setProperty("disabled",at)}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt})}return dt})(),k=(()=>{class dt extends y{static#e=this.\u0275fac=function(){let at;return function(bn){return(at||(at=e.n5z(dt)))(bn||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,features:[e.qOj]})}return dt})();const P=new e.OlP("NgValueAccessor"),R={provide:P,useExisting:(0,e.Gpc)(()=>C),multi:!0},T=new e.OlP("CompositionEventMode");let C=(()=>{class dt extends y{constructor(at,Vt,bn){super(at,Vt),this._compositionMode=bn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const dt=(0,n.q)()?(0,n.q)().getUserAgent():"";return/android (\d+)/.test(dt.toLowerCase())}())}writeValue(at){this.setProperty("value",at??"")}_handleInput(at){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(at)}_compositionStart(){this._composing=!0}_compositionEnd(at){this._composing=!1,this._compositionMode&&this.onChange(at)}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(T,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Vt,bn){1&Vt&&e.NdJ("input",function(Gi){return bn._handleInput(Gi.target.value)})("blur",function(){return bn.onTouched()})("compositionstart",function(){return bn._compositionStart()})("compositionend",function(Gi){return bn._compositionEnd(Gi.target.value)})},features:[e._Bn([R]),e.qOj]})}return dt})();function O(dt){return null==dt||("string"==typeof dt||Array.isArray(dt))&&0===dt.length}function M(dt){return null!=dt&&"number"==typeof dt.length}const G=new e.OlP("NgValidators"),Z=new e.OlP("NgAsyncValidators"),ee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(At){return function Ae(dt){return At=>{if(O(At.value)||O(dt))return null;const at=parseFloat(At.value);return!isNaN(at)&&at<dt?{min:{min:dt,actual:At.value}}:null}}(At)}static max(At){return function j(dt){return At=>{if(O(At.value)||O(dt))return null;const at=parseFloat(At.value);return!isNaN(at)&&at>dt?{max:{max:dt,actual:At.value}}:null}}(At)}static required(At){return le(At)}static requiredTrue(At){return Y(At)}static email(At){return function ve(dt){return O(dt.value)||ee.test(dt.value)?null:{email:!0}}(At)}static minLength(At){return function de(dt){return At=>O(At.value)||!M(At.value)?null:At.value.length<dt?{minlength:{requiredLength:dt,actualLength:At.value.length}}:null}(At)}static maxLength(At){return function Se(dt){return At=>M(At.value)&&At.value.length>dt?{maxlength:{requiredLength:dt,actualLength:At.value.length}}:null}(At)}static pattern(At){return function xe(dt){if(!dt)return Ge;let At,at;return"string"==typeof dt?(at="","^"!==dt.charAt(0)&&(at+="^"),at+=dt,"$"!==dt.charAt(dt.length-1)&&(at+="$"),At=new RegExp(at)):(at=dt.toString(),At=dt),Vt=>{if(O(Vt.value))return null;const bn=Vt.value;return At.test(bn)?null:{pattern:{requiredPattern:at,actualValue:bn}}}}(At)}static nullValidator(At){return null}static compose(At){return De(At)}static composeAsync(At){return lt(At)}}function le(dt){return O(dt.value)?{required:!0}:null}function Y(dt){return!0===dt.value?null:{required:!0}}function Ge(dt){return null}function ge(dt){return null!=dt}function Ce(dt){return(0,e.QGY)(dt)?(0,E.D)(dt):dt}function Le(dt){let At={};return dt.forEach(at=>{At=null!=at?{...At,...at}:At}),0===Object.keys(At).length?null:At}function fe(dt,At){return At.map(at=>at(dt))}function Te(dt){return dt.map(At=>function we(dt){return!dt.validate}(At)?At:at=>At.validate(at))}function De(dt){if(!dt)return null;const At=dt.filter(ge);return 0==At.length?null:function(at){return Le(fe(at,At))}}function Ue(dt){return null!=dt?De(Te(dt)):null}function lt(dt){if(!dt)return null;const At=dt.filter(ge);return 0==At.length?null:function(at){return function u(...dt){const At=(0,w.jO)(dt),{args:at,keys:Vt}=(0,_.D)(dt),bn=new A.y(hi=>{const{length:Gi}=at;if(!Gi)return void hi.complete();const Lo=new Array(Gi);let Zo=Gi,ds=Gi;for(let lo=0;lo<Gi;lo++){let Is=!1;(0,I.Xf)(at[lo]).subscribe((0,g.x)(hi,Ar=>{Is||(Is=!0,ds--),Lo[lo]=Ar},()=>Zo--,void 0,()=>{(!Zo||!Is)&&(ds||hi.next(Vt?(0,d.n)(Vt,Lo):Lo),hi.complete())}))}});return At?bn.pipe((0,o.Z)(At)):bn}(fe(at,At).map(Ce)).pipe((0,m.U)(Le))}}function He(dt){return null!=dt?lt(Te(dt)):null}function be(dt,At){return null===dt?[At]:Array.isArray(dt)?[...dt,At]:[dt,At]}function _e(dt){return dt._rawValidators}function K(dt){return dt._rawAsyncValidators}function oe(dt){return dt?Array.isArray(dt)?dt:[dt]:[]}function pe(dt,At){return Array.isArray(dt)?dt.includes(At):dt===At}function re(dt,At){const at=oe(At);return oe(dt).forEach(bn=>{pe(at,bn)||at.push(bn)}),at}function Q(dt,At){return oe(At).filter(at=>!pe(dt,at))}class X{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(At){this._rawValidators=At||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(At){this._rawAsyncValidators=At||[],this._composedAsyncValidatorFn=He(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(At){this._onDestroyCallbacks.push(At)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(At=>At()),this._onDestroyCallbacks=[]}reset(At=void 0){this.control&&this.control.reset(At)}hasError(At,at){return!!this.control&&this.control.hasError(At,at)}getError(At,at){return this.control?this.control.getError(At,at):null}}class $ extends X{get formDirective(){return null}get path(){return null}}class ne extends X{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J{constructor(At){this._cd=At}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ee=(()=>{class dt extends J{constructor(at){super(at)}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(ne,2))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Vt,bn){2&Vt&&e.ekj("ng-untouched",bn.isUntouched)("ng-touched",bn.isTouched)("ng-pristine",bn.isPristine)("ng-dirty",bn.isDirty)("ng-valid",bn.isValid)("ng-invalid",bn.isInvalid)("ng-pending",bn.isPending)},features:[e.qOj]})}return dt})(),ye=(()=>{class dt extends J{constructor(at){super(at)}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36($,10))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Vt,bn){2&Vt&&e.ekj("ng-untouched",bn.isUntouched)("ng-touched",bn.isTouched)("ng-pristine",bn.isPristine)("ng-dirty",bn.isDirty)("ng-valid",bn.isValid)("ng-invalid",bn.isInvalid)("ng-pending",bn.isPending)("ng-submitted",bn.isSubmitted)},features:[e.qOj]})}return dt})();const gt="VALID",Qe="INVALID",Fe="PENDING",ke="DISABLED";function it(dt){return(Et(dt)?dt.validators:dt)||null}function ft(dt,At){return(Et(At)?At.asyncValidators:dt)||null}function Et(dt){return null!=dt&&!Array.isArray(dt)&&"object"==typeof dt}function Qt(dt,At,at){const Vt=dt.controls;if(!(At?Object.keys(Vt):Vt).length)throw new e.vHH(1e3,"");if(!Vt[at])throw new e.vHH(1001,"")}function fn(dt,At,at){dt._forEachChild((Vt,bn)=>{if(void 0===at[bn])throw new e.vHH(1002,"")})}class Jt{constructor(At,at){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(At),this._assignAsyncValidators(at)}get validator(){return this._composedValidatorFn}set validator(At){this._rawValidators=this._composedValidatorFn=At}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(At){this._rawAsyncValidators=this._composedAsyncValidatorFn=At}get parent(){return this._parent}get valid(){return this.status===gt}get invalid(){return this.status===Qe}get pending(){return this.status==Fe}get disabled(){return this.status===ke}get enabled(){return this.status!==ke}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(At){this._assignValidators(At)}setAsyncValidators(At){this._assignAsyncValidators(At)}addValidators(At){this.setValidators(re(At,this._rawValidators))}addAsyncValidators(At){this.setAsyncValidators(re(At,this._rawAsyncValidators))}removeValidators(At){this.setValidators(Q(At,this._rawValidators))}removeAsyncValidators(At){this.setAsyncValidators(Q(At,this._rawAsyncValidators))}hasValidator(At){return pe(this._rawValidators,At)}hasAsyncValidator(At){return pe(this._rawAsyncValidators,At)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(At={}){this.touched=!0,this._parent&&!At.onlySelf&&this._parent.markAsTouched(At)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(At=>At.markAllAsTouched())}markAsUntouched(At={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(at=>{at.markAsUntouched({onlySelf:!0})}),this._parent&&!At.onlySelf&&this._parent._updateTouched(At)}markAsDirty(At={}){this.pristine=!1,this._parent&&!At.onlySelf&&this._parent.markAsDirty(At)}markAsPristine(At={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(at=>{at.markAsPristine({onlySelf:!0})}),this._parent&&!At.onlySelf&&this._parent._updatePristine(At)}markAsPending(At={}){this.status=Fe,!1!==At.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!At.onlySelf&&this._parent.markAsPending(At)}disable(At={}){const at=this._parentMarkedDirty(At.onlySelf);this.status=ke,this.errors=null,this._forEachChild(Vt=>{Vt.disable({...At,onlySelf:!0})}),this._updateValue(),!1!==At.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...At,skipPristineCheck:at}),this._onDisabledChange.forEach(Vt=>Vt(!0))}enable(At={}){const at=this._parentMarkedDirty(At.onlySelf);this.status=gt,this._forEachChild(Vt=>{Vt.enable({...At,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:At.emitEvent}),this._updateAncestors({...At,skipPristineCheck:at}),this._onDisabledChange.forEach(Vt=>Vt(!1))}_updateAncestors(At){this._parent&&!At.onlySelf&&(this._parent.updateValueAndValidity(At),At.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(At){this._parent=At}getRawValue(){return this.value}updateValueAndValidity(At={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gt||this.status===Fe)&&this._runAsyncValidator(At.emitEvent)),!1!==At.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!At.onlySelf&&this._parent.updateValueAndValidity(At)}_updateTreeValidity(At={emitEvent:!0}){this._forEachChild(at=>at._updateTreeValidity(At)),this.updateValueAndValidity({onlySelf:!0,emitEvent:At.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ke:gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(At){if(this.asyncValidator){this.status=Fe,this._hasOwnPendingAsyncValidator=!0;const at=Ce(this.asyncValidator(this));this._asyncValidationSubscription=at.subscribe(Vt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Vt,{emitEvent:At})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(At,at={}){this.errors=At,this._updateControlsErrors(!1!==at.emitEvent)}get(At){let at=At;return null==at||(Array.isArray(at)||(at=at.split(".")),0===at.length)?null:at.reduce((Vt,bn)=>Vt&&Vt._find(bn),this)}getError(At,at){const Vt=at?this.get(at):this;return Vt&&Vt.errors?Vt.errors[At]:null}hasError(At,at){return!!this.getError(At,at)}get root(){let At=this;for(;At._parent;)At=At._parent;return At}_updateControlsErrors(At){this.status=this._calculateStatus(),At&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(At)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?ke:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fe)?Fe:this._anyControlsHaveStatus(Qe)?Qe:gt}_anyControlsHaveStatus(At){return this._anyControls(at=>at.status===At)}_anyControlsDirty(){return this._anyControls(At=>At.dirty)}_anyControlsTouched(){return this._anyControls(At=>At.touched)}_updatePristine(At={}){this.pristine=!this._anyControlsDirty(),this._parent&&!At.onlySelf&&this._parent._updatePristine(At)}_updateTouched(At={}){this.touched=this._anyControlsTouched(),this._parent&&!At.onlySelf&&this._parent._updateTouched(At)}_registerOnCollectionChange(At){this._onCollectionChange=At}_setUpdateStrategy(At){Et(At)&&null!=At.updateOn&&(this._updateOn=At.updateOn)}_parentMarkedDirty(At){return!At&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(At){return null}_assignValidators(At){this._rawValidators=Array.isArray(At)?At.slice():At,this._composedValidatorFn=function ot(dt){return Array.isArray(dt)?Ue(dt):dt||null}(this._rawValidators)}_assignAsyncValidators(At){this._rawAsyncValidators=Array.isArray(At)?At.slice():At,this._composedAsyncValidatorFn=function mt(dt){return Array.isArray(dt)?He(dt):dt||null}(this._rawAsyncValidators)}}class pn extends Jt{constructor(At,at,Vt){super(it(at),ft(Vt,at)),this.controls=At,this._initObservables(),this._setUpdateStrategy(at),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(At,at){return this.controls[At]?this.controls[At]:(this.controls[At]=at,at.setParent(this),at._registerOnCollectionChange(this._onCollectionChange),at)}addControl(At,at,Vt={}){this.registerControl(At,at),this.updateValueAndValidity({emitEvent:Vt.emitEvent}),this._onCollectionChange()}removeControl(At,at={}){this.controls[At]&&this.controls[At]._registerOnCollectionChange(()=>{}),delete this.controls[At],this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}setControl(At,at,Vt={}){this.controls[At]&&this.controls[At]._registerOnCollectionChange(()=>{}),delete this.controls[At],at&&this.registerControl(At,at),this.updateValueAndValidity({emitEvent:Vt.emitEvent}),this._onCollectionChange()}contains(At){return this.controls.hasOwnProperty(At)&&this.controls[At].enabled}setValue(At,at={}){fn(this,0,At),Object.keys(At).forEach(Vt=>{Qt(this,!0,Vt),this.controls[Vt].setValue(At[Vt],{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at)}patchValue(At,at={}){null!=At&&(Object.keys(At).forEach(Vt=>{const bn=this.controls[Vt];bn&&bn.patchValue(At[Vt],{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at))}reset(At={},at={}){this._forEachChild((Vt,bn)=>{Vt.reset(At[bn],{onlySelf:!0,emitEvent:at.emitEvent})}),this._updatePristine(at),this._updateTouched(at),this.updateValueAndValidity(at)}getRawValue(){return this._reduceChildren({},(At,at,Vt)=>(At[Vt]=at.getRawValue(),At))}_syncPendingControls(){let At=this._reduceChildren(!1,(at,Vt)=>!!Vt._syncPendingControls()||at);return At&&this.updateValueAndValidity({onlySelf:!0}),At}_forEachChild(At){Object.keys(this.controls).forEach(at=>{const Vt=this.controls[at];Vt&&At(Vt,at)})}_setUpControls(){this._forEachChild(At=>{At.setParent(this),At._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(At){for(const[at,Vt]of Object.entries(this.controls))if(this.contains(at)&&At(Vt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(at,Vt,bn)=>((Vt.enabled||this.disabled)&&(at[bn]=Vt.value),at))}_reduceChildren(At,at){let Vt=At;return this._forEachChild((bn,hi)=>{Vt=at(Vt,bn,hi)}),Vt}_allControlsDisabled(){for(const At of Object.keys(this.controls))if(this.controls[At].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(At){return this.controls.hasOwnProperty(At)?this.controls[At]:null}}class Fn extends pn{}const dn=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>an}),an="always";function un(dt,At){return[...At.path,dt]}function on(dt,At,at=an){hn(dt,At),At.valueAccessor.writeValue(dt.value),(dt.disabled||"always"===at)&&At.valueAccessor.setDisabledState?.(dt.disabled),function bt(dt,At){At.valueAccessor.registerOnChange(at=>{dt._pendingValue=at,dt._pendingChange=!0,dt._pendingDirty=!0,"change"===dt.updateOn&&Ot(dt,At)})}(dt,At),function yn(dt,At){const at=(Vt,bn)=>{At.valueAccessor.writeValue(Vt),bn&&At.viewToModelUpdate(Vt)};dt.registerOnChange(at),At._registerOnDestroy(()=>{dt._unregisterOnChange(at)})}(dt,At),function Kt(dt,At){At.valueAccessor.registerOnTouched(()=>{dt._pendingTouched=!0,"blur"===dt.updateOn&&dt._pendingChange&&Ot(dt,At),"submit"!==dt.updateOn&&dt.markAsTouched()})}(dt,At),function ct(dt,At){if(At.valueAccessor.setDisabledState){const at=Vt=>{At.valueAccessor.setDisabledState(Vt)};dt.registerOnDisabledChange(at),At._registerOnDestroy(()=>{dt._unregisterOnDisabledChange(at)})}}(dt,At)}function ln(dt,At,at=!0){const Vt=()=>{};At.valueAccessor&&(At.valueAccessor.registerOnChange(Vt),At.valueAccessor.registerOnTouched(Vt)),Ze(dt,At),dt&&(At._invokeOnDestroyCallbacks(),dt._registerOnCollectionChange(()=>{}))}function Tt(dt,At){dt.forEach(at=>{at.registerOnValidatorChange&&at.registerOnValidatorChange(At)})}function hn(dt,At){const at=_e(dt);null!==At.validator?dt.setValidators(be(at,At.validator)):"function"==typeof at&&dt.setValidators([at]);const Vt=K(dt);null!==At.asyncValidator?dt.setAsyncValidators(be(Vt,At.asyncValidator)):"function"==typeof Vt&&dt.setAsyncValidators([Vt]);const bn=()=>dt.updateValueAndValidity();Tt(At._rawValidators,bn),Tt(At._rawAsyncValidators,bn)}function Ze(dt,At){let at=!1;if(null!==dt){if(null!==At.validator){const bn=_e(dt);if(Array.isArray(bn)&&bn.length>0){const hi=bn.filter(Gi=>Gi!==At.validator);hi.length!==bn.length&&(at=!0,dt.setValidators(hi))}}if(null!==At.asyncValidator){const bn=K(dt);if(Array.isArray(bn)&&bn.length>0){const hi=bn.filter(Gi=>Gi!==At.asyncValidator);hi.length!==bn.length&&(at=!0,dt.setAsyncValidators(hi))}}}const Vt=()=>{};return Tt(At._rawValidators,Vt),Tt(At._rawAsyncValidators,Vt),at}function Ot(dt,At){dt._pendingDirty&&dt.markAsDirty(),dt.setValue(dt._pendingValue,{emitModelToViewChange:!1}),At.viewToModelUpdate(dt._pendingValue),dt._pendingChange=!1}function Rt(dt,At){hn(dt,At)}function Lt(dt,At){if(!dt.hasOwnProperty("model"))return!1;const at=dt.model;return!!at.isFirstChange()||!Object.is(At,at.currentValue)}function Ie(dt,At){dt._syncPendingControls(),At.forEach(at=>{const Vt=at.control;"submit"===Vt.updateOn&&Vt._pendingChange&&(at.viewToModelUpdate(Vt._pendingValue),Vt._pendingChange=!1)})}function Pt(dt,At){if(!At)return null;let at,Vt,bn;return Array.isArray(At),At.forEach(hi=>{hi.constructor===C?at=hi:function Sn(dt){return Object.getPrototypeOf(dt.constructor)===k}(hi)?Vt=hi:bn=hi}),bn||Vt||at||null}const Mn={provide:$,useExisting:(0,e.Gpc)(()=>qi)},ai=(()=>Promise.resolve())();let qi=(()=>{class dt extends ${constructor(at,Vt,bn){super(),this.callSetDisabledState=bn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new pn({},Ue(at),He(Vt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(at){ai.then(()=>{const Vt=this._findContainer(at.path);at.control=Vt.registerControl(at.name,at.control),on(at.control,at,this.callSetDisabledState),at.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(at)})}getControl(at){return this.form.get(at.path)}removeControl(at){ai.then(()=>{const Vt=this._findContainer(at.path);Vt&&Vt.removeControl(at.name),this._directives.delete(at)})}addFormGroup(at){ai.then(()=>{const Vt=this._findContainer(at.path),bn=new pn({});Rt(bn,at),Vt.registerControl(at.name,bn),bn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(at){ai.then(()=>{const Vt=this._findContainer(at.path);Vt&&Vt.removeControl(at.name)})}getFormGroup(at){return this.form.get(at.path)}updateModel(at,Vt){ai.then(()=>{this.form.get(at.path).setValue(Vt)})}setValue(at){this.control.setValue(at)}onSubmit(at){return this.submitted=!0,Ie(this.form,this._directives),this.ngSubmit.emit(at),"dialog"===at?.target?.method}onReset(){this.resetForm()}resetForm(at=void 0){this.form.reset(at),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(at){return at.pop(),at.length?this.form.get(at):this.form}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(G,10),e.Y36(Z,10),e.Y36(dn,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Vt,bn){1&Vt&&e.NdJ("submit",function(Gi){return bn.onSubmit(Gi)})("reset",function(){return bn.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Mn]),e.qOj]})}return dt})();function Hr(dt,At){const at=dt.indexOf(At);at>-1&&dt.splice(at,1)}function Ir(dt){return"object"==typeof dt&&null!==dt&&2===Object.keys(dt).length&&"value"in dt&&"disabled"in dt}const Er=class extends Jt{constructor(At=null,at,Vt){super(it(at),ft(Vt,at)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(At),this._setUpdateStrategy(at),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Et(at)&&(at.nonNullable||at.initialValueIsDefault)&&(this.defaultValue=Ir(At)?At.value:At)}setValue(At,at={}){this.value=this._pendingValue=At,this._onChange.length&&!1!==at.emitModelToViewChange&&this._onChange.forEach(Vt=>Vt(this.value,!1!==at.emitViewToModelChange)),this.updateValueAndValidity(at)}patchValue(At,at={}){this.setValue(At,at)}reset(At=this.defaultValue,at={}){this._applyFormState(At),this.markAsPristine(at),this.markAsUntouched(at),this.setValue(this.value,at),this._pendingChange=!1}_updateValue(){}_anyControls(At){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(At){this._onChange.push(At)}_unregisterOnChange(At){Hr(this._onChange,At)}registerOnDisabledChange(At){this._onDisabledChange.push(At)}_unregisterOnDisabledChange(At){Hr(this._onDisabledChange,At)}_forEachChild(At){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(At){Ir(At)?(this.value=this._pendingValue=At.value,At.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=At}},ls={provide:ne,useExisting:(0,e.Gpc)(()=>Xr)},Ro=(()=>Promise.resolve())();let Xr=(()=>{class dt extends ne{constructor(at,Vt,bn,hi,Gi,Lo){super(),this._changeDetectorRef=Gi,this.callSetDisabledState=Lo,this.control=new Er,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=at,this._setValidators(Vt),this._setAsyncValidators(bn),this.valueAccessor=Pt(0,hi)}ngOnChanges(at){if(this._checkForErrors(),!this._registered||"name"in at){if(this._registered&&(this._checkName(),this.formDirective)){const Vt=at.name.previousValue;this.formDirective.removeControl({name:Vt,path:this._getPath(Vt)})}this._setUpControl()}"isDisabled"in at&&this._updateDisabled(at),Lt(at,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){on(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(at){Ro.then(()=>{this.control.setValue(at,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(at){const Vt=at.isDisabled.currentValue,bn=0!==Vt&&(0,e.VuI)(Vt);Ro.then(()=>{bn&&!this.control.disabled?this.control.disable():!bn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(at){return this._parent?un(at,this._parent):[at]}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36($,9),e.Y36(G,10),e.Y36(Z,10),e.Y36(P,10),e.Y36(e.sBO,8),e.Y36(dn,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([ls]),e.qOj,e.TTD]})}return dt})(),Br=(()=>{class dt{static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return dt})();const No={provide:P,useExisting:(0,e.Gpc)(()=>mr),multi:!0};let mr=(()=>{class dt extends k{writeValue(at){this.setProperty("value",at??"")}registerOnChange(at){this.onChange=Vt=>{at(""==Vt?null:parseFloat(Vt))}}static#e=this.\u0275fac=function(){let at;return function(bn){return(at||(at=e.n5z(dt)))(bn||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Vt,bn){1&Vt&&e.NdJ("input",function(Gi){return bn.onChange(Gi.target.value)})("blur",function(){return bn.onTouched()})},features:[e._Bn([No]),e.qOj]})}return dt})(),rr=(()=>{class dt{static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275mod=e.oAB({type:dt});static#n=this.\u0275inj=e.cJS({})}return dt})();const _n=new e.OlP("NgModelWithFormControlWarning"),Qn={provide:$,useExisting:(0,e.Gpc)(()=>Ri)};let Ri=(()=>{class dt extends ${constructor(at,Vt,bn){super(),this.callSetDisabledState=bn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(at),this._setAsyncValidators(Vt)}ngOnChanges(at){this._checkFormPresent(),at.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(at){const Vt=this.form.get(at.path);return on(Vt,at,this.callSetDisabledState),Vt.updateValueAndValidity({emitEvent:!1}),this.directives.push(at),Vt}getControl(at){return this.form.get(at.path)}removeControl(at){ln(at.control||null,at,!1),function Dt(dt,At){const at=dt.indexOf(At);at>-1&&dt.splice(at,1)}(this.directives,at)}addFormGroup(at){this._setUpFormContainer(at)}removeFormGroup(at){this._cleanUpFormContainer(at)}getFormGroup(at){return this.form.get(at.path)}addFormArray(at){this._setUpFormContainer(at)}removeFormArray(at){this._cleanUpFormContainer(at)}getFormArray(at){return this.form.get(at.path)}updateModel(at,Vt){this.form.get(at.path).setValue(Vt)}onSubmit(at){return this.submitted=!0,Ie(this.form,this.directives),this.ngSubmit.emit(at),"dialog"===at?.target?.method}onReset(){this.resetForm()}resetForm(at=void 0){this.form.reset(at),this.submitted=!1}_updateDomValue(){this.directives.forEach(at=>{const Vt=at.control,bn=this.form.get(at.path);Vt!==bn&&(ln(Vt||null,at),(dt=>dt instanceof Er)(bn)&&(on(bn,at,this.callSetDisabledState),at.control=bn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(at){const Vt=this.form.get(at.path);Rt(Vt,at),Vt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(at){if(this.form){const Vt=this.form.get(at.path);Vt&&function St(dt,At){return Ze(dt,At)}(Vt,at)&&Vt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hn(this.form,this),this._oldForm&&Ze(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(G,10),e.Y36(Z,10),e.Y36(dn,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","formGroup",""]],hostBindings:function(Vt,bn){1&Vt&&e.NdJ("submit",function(Gi){return bn.onSubmit(Gi)})("reset",function(){return bn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Qn]),e.qOj,e.TTD]})}return dt})();const Mo={provide:ne,useExisting:(0,e.Gpc)(()=>Ao)};let Ao=(()=>{class dt extends ne{set isDisabled(at){}static#e=this._ngModelWarningSentOnce=!1;constructor(at,Vt,bn,hi,Gi){super(),this._ngModelWarningConfig=Gi,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=at,this._setValidators(Vt),this._setAsyncValidators(bn),this.valueAccessor=Pt(0,hi)}ngOnChanges(at){this._added||this._setUpControl(),Lt(at,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}get path(){return un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36($,13),e.Y36(G,10),e.Y36(Z,10),e.Y36(P,10),e.Y36(_n,8))};static#n=this.\u0275dir=e.lG2({type:dt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Mo]),e.qOj,e.TTD]})}return dt})();const Ms={provide:P,useExisting:(0,e.Gpc)(()=>Xo),multi:!0};function zr(dt,At){return null==dt?`${At}`:(At&&"object"==typeof At&&(At="Object"),`${dt}: ${At}`.slice(0,50))}let Xo=(()=>{class dt extends k{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(at){this._compareWith=at}writeValue(at){this.value=at;const bn=zr(this._getOptionId(at),at);this.setProperty("value",bn)}registerOnChange(at){this.onChange=Vt=>{this.value=this._getOptionValue(Vt),at(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(at){for(const Vt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Vt),at))return Vt;return null}_getOptionValue(at){const Vt=function eo(dt){return dt.split(":")[0]}(at);return this._optionMap.has(Vt)?this._optionMap.get(Vt):at}static#e=this.\u0275fac=function(){let at;return function(bn){return(at||(at=e.n5z(dt)))(bn||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Vt,bn){1&Vt&&e.NdJ("change",function(Gi){return bn.onChange(Gi.target.value)})("blur",function(){return bn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Ms]),e.qOj]})}return dt})(),Go=(()=>{class dt{constructor(at,Vt,bn){this._element=at,this._renderer=Vt,this._select=bn,this._select&&(this.id=this._select._registerOption())}set ngValue(at){null!=this._select&&(this._select._optionMap.set(this.id,at),this._setElementValue(zr(this.id,at)),this._select.writeValue(this._select.value))}set value(at){this._setElementValue(at),this._select&&this._select.writeValue(this._select.value)}_setElementValue(at){this._renderer.setProperty(this._element.nativeElement,"value",at)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Xo,9))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return dt})();const Xi={provide:P,useExisting:(0,e.Gpc)(()=>ao),multi:!0};function Ws(dt,At){return null==dt?`${At}`:("string"==typeof At&&(At=`'${At}'`),At&&"object"==typeof At&&(At="Object"),`${dt}: ${At}`.slice(0,50))}let ao=(()=>{class dt extends k{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(at){this._compareWith=at}writeValue(at){let Vt;if(this.value=at,Array.isArray(at)){const bn=at.map(hi=>this._getOptionId(hi));Vt=(hi,Gi)=>{hi._setSelected(bn.indexOf(Gi.toString())>-1)}}else Vt=(bn,hi)=>{bn._setSelected(!1)};this._optionMap.forEach(Vt)}registerOnChange(at){this.onChange=Vt=>{const bn=[],hi=Vt.selectedOptions;if(void 0!==hi){const Gi=hi;for(let Lo=0;Lo<Gi.length;Lo++){const ds=this._getOptionValue(Gi[Lo].value);bn.push(ds)}}else{const Gi=Vt.options;for(let Lo=0;Lo<Gi.length;Lo++){const Zo=Gi[Lo];if(Zo.selected){const ds=this._getOptionValue(Zo.value);bn.push(ds)}}}this.value=bn,at(bn)}}_registerOption(at){const Vt=(this._idCounter++).toString();return this._optionMap.set(Vt,at),Vt}_getOptionId(at){for(const Vt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Vt)._value,at))return Vt;return null}_getOptionValue(at){const Vt=function xo(dt){return dt.split(":")[0]}(at);return this._optionMap.has(Vt)?this._optionMap.get(Vt)._value:at}static#e=this.\u0275fac=function(){let at;return function(bn){return(at||(at=e.n5z(dt)))(bn||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Vt,bn){1&Vt&&e.NdJ("change",function(Gi){return bn.onChange(Gi.target)})("blur",function(){return bn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Xi]),e.qOj]})}return dt})(),es=(()=>{class dt{constructor(at,Vt,bn){this._element=at,this._renderer=Vt,this._select=bn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(at){null!=this._select&&(this._value=at,this._setElementValue(Ws(this.id,at)),this._select.writeValue(this._select.value))}set value(at){this._select?(this._value=at,this._setElementValue(Ws(this.id,at)),this._select.writeValue(this._select.value)):this._setElementValue(at)}_setElementValue(at){this._renderer.setProperty(this._element.nativeElement,"value",at)}_setSelected(at){this._renderer.setProperty(this._element.nativeElement,"selected",at)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ao,9))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return dt})(),Pr=(()=>{class dt{constructor(){this._validator=Ge}ngOnChanges(at){if(this.inputName in at){const Vt=this.normalizeInput(at[this.inputName].currentValue);this._enabled=this.enabled(Vt),this._validator=this._enabled?this.createValidator(Vt):Ge,this._onChange&&this._onChange()}}validate(at){return this._validator(at)}registerOnValidatorChange(at){this._onChange=at}enabled(at){return null!=at}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275dir=e.lG2({type:dt,features:[e.TTD]})}return dt})();const mo={provide:G,useExisting:(0,e.Gpc)(()=>$i),multi:!0},cs={provide:G,useExisting:(0,e.Gpc)(()=>Zr),multi:!0};let $i=(()=>{class dt extends Pr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=at=>le}enabled(at){return at}static#e=this.\u0275fac=function(){let at;return function(bn){return(at||(at=e.n5z(dt)))(bn||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Vt,bn){2&Vt&&e.uIk("required",bn._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([mo]),e.qOj]})}return dt})(),Zr=(()=>{class dt extends $i{constructor(){super(...arguments),this.createValidator=at=>Y}static#e=this.\u0275fac=function(){let at;return function(bn){return(at||(at=e.n5z(dt)))(bn||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Vt,bn){2&Vt&&e.uIk("required",bn._enabled?"":null)},features:[e._Bn([cs]),e.qOj]})}return dt})(),Zs=(()=>{class dt{static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275mod=e.oAB({type:dt});static#n=this.\u0275inj=e.cJS({imports:[rr]})}return dt})();class Bs extends Jt{constructor(At,at,Vt){super(it(at),ft(Vt,at)),this.controls=At,this._initObservables(),this._setUpdateStrategy(at),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(At){return this.controls[this._adjustIndex(At)]}push(At,at={}){this.controls.push(At),this._registerControl(At),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}insert(At,at,Vt={}){this.controls.splice(At,0,at),this._registerControl(at),this.updateValueAndValidity({emitEvent:Vt.emitEvent})}removeAt(At,at={}){let Vt=this._adjustIndex(At);Vt<0&&(Vt=0),this.controls[Vt]&&this.controls[Vt]._registerOnCollectionChange(()=>{}),this.controls.splice(Vt,1),this.updateValueAndValidity({emitEvent:at.emitEvent})}setControl(At,at,Vt={}){let bn=this._adjustIndex(At);bn<0&&(bn=0),this.controls[bn]&&this.controls[bn]._registerOnCollectionChange(()=>{}),this.controls.splice(bn,1),at&&(this.controls.splice(bn,0,at),this._registerControl(at)),this.updateValueAndValidity({emitEvent:Vt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(At,at={}){fn(this,0,At),At.forEach((Vt,bn)=>{Qt(this,!1,bn),this.at(bn).setValue(Vt,{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at)}patchValue(At,at={}){null!=At&&(At.forEach((Vt,bn)=>{this.at(bn)&&this.at(bn).patchValue(Vt,{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at))}reset(At=[],at={}){this._forEachChild((Vt,bn)=>{Vt.reset(At[bn],{onlySelf:!0,emitEvent:at.emitEvent})}),this._updatePristine(at),this._updateTouched(at),this.updateValueAndValidity(at)}getRawValue(){return this.controls.map(At=>At.getRawValue())}clear(At={}){this.controls.length<1||(this._forEachChild(at=>at._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:At.emitEvent}))}_adjustIndex(At){return At<0?At+this.length:At}_syncPendingControls(){let At=this.controls.reduce((at,Vt)=>!!Vt._syncPendingControls()||at,!1);return At&&this.updateValueAndValidity({onlySelf:!0}),At}_forEachChild(At){this.controls.forEach((at,Vt)=>{At(at,Vt)})}_updateValue(){this.value=this.controls.filter(At=>At.enabled||this.disabled).map(At=>At.value)}_anyControls(At){return this.controls.some(at=>at.enabled&&At(at))}_setUpControls(){this._forEachChild(At=>this._registerControl(At))}_allControlsDisabled(){for(const At of this.controls)if(At.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(At){At.setParent(this),At._registerOnCollectionChange(this._onCollectionChange)}_find(At){return this.at(At)??null}}function vo(dt){return!!dt&&(void 0!==dt.asyncValidators||void 0!==dt.validators||void 0!==dt.updateOn)}let pa=(()=>{class dt{constructor(){this.useNonNullable=!1}get nonNullable(){const at=new dt;return at.useNonNullable=!0,at}group(at,Vt=null){const bn=this._reduceControls(at);let hi={};return vo(Vt)?hi=Vt:null!==Vt&&(hi.validators=Vt.validator,hi.asyncValidators=Vt.asyncValidator),new pn(bn,hi)}record(at,Vt=null){const bn=this._reduceControls(at);return new Fn(bn,Vt)}control(at,Vt,bn){let hi={};return this.useNonNullable?(vo(Vt)?hi=Vt:(hi.validators=Vt,hi.asyncValidators=bn),new Er(at,{...hi,nonNullable:!0})):new Er(at,Vt,bn)}array(at,Vt,bn){const hi=at.map(Gi=>this._createControl(Gi));return new Bs(hi,Vt,bn)}_reduceControls(at){const Vt={};return Object.keys(at).forEach(bn=>{Vt[bn]=this._createControl(at[bn])}),Vt}_createControl(at){return at instanceof Er||at instanceof Jt?at:Array.isArray(at)?this.control(at[0],at.length>1?at[1]:null,at.length>2?at[2]:null):this.control(at)}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275prov=e.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),ar=(()=>{class dt{static withConfig(at){return{ngModule:dt,providers:[{provide:dn,useValue:at.callSetDisabledState??an}]}}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275mod=e.oAB({type:dt});static#n=this.\u0275inj=e.cJS({imports:[Zs]})}return dt})(),An=(()=>{class dt{static withConfig(at){return{ngModule:dt,providers:[{provide:_n,useValue:at.warnOnNgModelWithFormControl??"always"},{provide:dn,useValue:at.callSetDisabledState??an}]}}static#e=this.\u0275fac=function(Vt){return new(Vt||dt)};static#t=this.\u0275mod=e.oAB({type:dt});static#n=this.\u0275inj=e.cJS({imports:[Zs]})}return dt})()},2296:(Bn,et,v)=>{"use strict";v.d(et,{RK:()=>fe,lW:()=>le,ot:()=>Te});var e=v(2831),n=v(5879),E=v(4300),A=v(3680),_=v(6814);const I=["mat-button",""],w=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],g=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],k=["mat-icon-button",""],P=["*"],F={capture:!0},R=["focus","click","mouseenter","touchstart"],D="mat-button-ripple-uninitialized";let T=(()=>{class De{constructor(){this._document=(0,n.f3M)(_.K0,{optional:!0}),this._animationMode=(0,n.f3M)(n.QbO,{optional:!0}),this._globalRippleOptions=(0,n.f3M)(A.Y2,{optional:!0}),this._platform=(0,n.f3M)(e.t4),this._ngZone=(0,n.f3M)(n.R0b),this._onInteraction=lt=>{if(lt.target===this._document)return;const be=lt.target.closest(`[${D}]`);be&&(be.removeAttribute(D),this._appendRipple(be))},this._ngZone.runOutsideAngular(()=>{for(const lt of R)this._document?.addEventListener(lt,this._onInteraction,F)})}ngOnDestroy(){for(const lt of R)this._document?.removeEventListener(lt,this._onInteraction,F)}_appendRipple(lt){if(!this._document)return;const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const be=new C(lt,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);be.rippleConfig.centered=lt.hasAttribute("mat-icon-button"),new A.IR(be,this._ngZone,He,this._platform).setupTriggerEvents(lt),lt.append(He)}_createMatRipple(lt){if(!this._document)return;lt.querySelector(".mat-mdc-button-ripple")?.remove(),lt.removeAttribute(D);const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const be=new A.wG(new n.SBq(He),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return be._isInitialized=!0,be.trigger=lt,lt.append(He),be}static#e=this.\u0275fac=function(He){return new(He||De)};static#t=this.\u0275prov=n.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();class C{constructor(Ue,lt,He){this._button=Ue,this._globalRippleOptions=lt,this._setRippleConfig(lt,He)}_setRippleConfig(Ue,lt){this.rippleConfig=Ue||{},"NoopAnimations"===lt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const G=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Z=(0,A.pj)((0,A.Id)((0,A.Kr)(class{constructor(De){this._elementRef=De}})));let ee=(()=>{class De extends Z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(lt){this._ripple=lt}constructor(lt,He,be,_e){super(lt),this._platform=He,this._ngZone=be,this._animationMode=_e,this._focusMonitor=(0,n.f3M)(E.tE),this._rippleLoader=(0,n.f3M)(T),this._isFab=!1;const K=lt.nativeElement.classList;for(const oe of G)this._hasHostAttributes(oe.selector)&&oe.mdcClasses.forEach(pe=>{K.add(pe)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(lt="program",He){lt?this._focusMonitor.focusVia(this._elementRef.nativeElement,lt,He):this._elementRef.nativeElement.focus(He)}_hasHostAttributes(...lt){return lt.some(He=>this._elementRef.nativeElement.hasAttribute(He))}static#e=this.\u0275fac=function(He){n.$Z()};static#t=this.\u0275dir=n.lG2({type:De,features:[n.qOj,n.TTD]})}return De})(),le=(()=>{class De extends ee{constructor(lt,He,be,_e){super(lt,He,be,_e)}static#e=this.\u0275fac=function(He){return new(He||De)(n.Y36(n.SBq),n.Y36(e.t4),n.Y36(n.R0b),n.Y36(n.QbO,8))};static#t=this.\u0275cmp=n.Xpm({type:De,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,be){2&He&&(n.uIk("disabled",be.disabled||null),n.ekj("_mat-animation-noopable","NoopAnimations"===be._animationMode)("mat-unthemed",!be.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.qOj],attrs:I,ngContentSelectors:g,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,be){1&He&&(n.F$t(w),n._UZ(0,"span",0),n.Hsn(1),n.TgZ(2,"span",1),n.Hsn(3,1),n.qZA(),n.Hsn(4,2),n._UZ(5,"span",2)(6,"span",3)),2&He&&n.ekj("mdc-button__ripple",!be._isFab)("mdc-fab__ripple",be._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return De})(),fe=(()=>{class De extends ee{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(lt,He,be,_e){super(lt,He,be,_e)}static#e=this.\u0275fac=function(He){return new(He||De)(n.Y36(n.SBq),n.Y36(e.t4),n.Y36(n.R0b),n.Y36(n.QbO,8))};static#t=this.\u0275cmp=n.Xpm({type:De,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,be){2&He&&(n.uIk("disabled",be.disabled||null),n.ekj("_mat-animation-noopable","NoopAnimations"===be._animationMode)("mat-unthemed",!be.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.qOj],attrs:k,ngContentSelectors:P,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,be){1&He&&(n.F$t(),n._UZ(0,"span",0),n.Hsn(1),n._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return De})(),Te=(()=>{class De{static#e=this.\u0275fac=function(He){return new(He||De)};static#t=this.\u0275mod=n.oAB({type:De});static#n=this.\u0275inj=n.cJS({imports:[A.BQ,A.si,A.BQ]})}return De})()},5986:(Bn,et,v)=>{"use strict";v.d(et,{oG:()=>B,p9:()=>T});var e=v(5879),n=v(95),E=v(3680),A=v(2495);const _=["input"],I=["label"],w=["*"],g=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:o});function o(){return{color:"accent",clickAction:"check-indeterminate"}}const d={provide:n.JU,useExisting:(0,e.Gpc)(()=>B),multi:!0};class u{}let m=0;const y=o(),k=(0,E.sb)((0,E.pj)((0,E.Kr)((0,E.Id)(class{constructor(C){this._elementRef=C}}))));let P=(()=>{class C extends k{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(M){this._required=(0,A.Ig)(M)}constructor(M,G,Z,ee,ae,Ae,j){super(G),this._changeDetectorRef=Z,this._ngZone=ee,this._animationMode=Ae,this._options=j,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||y,this.color=this.defaultColor=this._options.color||y.color,this.tabIndex=parseInt(ae)||0,this.id=this._uniqueId=`${M}${++m}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(M){const G=(0,A.Ig)(M);G!=this.checked&&(this._checked=G,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(M){const G=(0,A.Ig)(M);G!==this.disabled&&(this._disabled=G,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(M){const G=M!=this._indeterminate;this._indeterminate=(0,A.Ig)(M),G&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(M){this.checked=!!M}registerOnChange(M){this._controlValueAccessorChangeFn=M}registerOnTouched(M){this._onTouched=M}setDisabledState(M){this.disabled=M}_transitionCheckState(M){let G=this._currentCheckState,Z=this._getAnimationTargetElement();if(G!==M&&Z&&(this._currentAnimationClass&&Z.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(G,M),this._currentCheckState=M,this._currentAnimationClass.length>0)){Z.classList.add(this._currentAnimationClass);const ee=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Z.classList.remove(ee)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const M=this._options?.clickAction;this.disabled||"noop"===M?!this.disabled&&"noop"===M&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==M&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(M){M.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(M,G){if("NoopAnimations"===this._animationMode)return"";switch(M){case 0:if(1===G)return this._animationClasses.uncheckedToChecked;if(3==G)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===G?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===G?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===G?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(M){const G=this._inputElement;G&&(G.nativeElement.indeterminate=M)}static#e=this.\u0275fac=function(G){e.$Z()};static#t=this.\u0275dir=e.lG2({type:C,viewQuery:function(G,Z){if(1&G&&(e.Gf(_,5),e.Gf(I,5),e.Gf(E.wG,5)),2&G){let ee;e.iGM(ee=e.CRH())&&(Z._inputElement=ee.first),e.iGM(ee=e.CRH())&&(Z._labelElement=ee.first),e.iGM(ee=e.CRH())&&(Z.ripple=ee.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]})}return C})(),B=(()=>{class C extends P{constructor(M,G,Z,ee,ae,Ae){super("mat-mdc-checkbox-",M,G,Z,ee,ae,Ae),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(M){const G=new u;return G.source=this,G.checked=M,G}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(M){M.target&&this._labelElement.nativeElement.contains(M.target)&&M.stopPropagation()}static#e=this.\u0275fac=function(G){return new(G||C)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(g,8))};static#t=this.\u0275cmp=e.Xpm({type:C,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(G,Z){2&G&&(e.Ikx("id",Z.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mdc-checkbox--disabled",Z.disabled)("mat-mdc-checkbox-disabled",Z.disabled)("mat-mdc-checkbox-checked",Z.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([d]),e.qOj],ngContentSelectors:w,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(G,Z){if(1&G&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(ae){return Z._preventBubblingFromLabel(ae)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return Z._onTouchTargetClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return Z._onBlur()})("click",function(){return Z._onInputClick()})("change",function(ae){return Z._onInteractionEvent(ae)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&G){const ee=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==Z.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",Z.checked),e.Q6J("checked",Z.checked)("indeterminate",Z.indeterminate)("disabled",Z.disabled)("id",Z.inputId)("required",Z.required)("tabIndex",Z.tabIndex),e.uIk("aria-label",Z.ariaLabel||null)("aria-labelledby",Z.ariaLabelledby)("aria-describedby",Z.ariaDescribedby)("name",Z.name)("value",Z.value),e.xp6(7),e.Q6J("matRippleTrigger",ee)("matRippleDisabled",Z.disableRipple||Z.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",Z.inputId)}},dependencies:[E.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return C})(),D=(()=>{class C{static#e=this.\u0275fac=function(G){return new(G||C)};static#t=this.\u0275mod=e.oAB({type:C});static#n=this.\u0275inj=e.cJS({})}return C})(),T=(()=>{class C{static#e=this.\u0275fac=function(G){return new(G||C)};static#t=this.\u0275mod=e.oAB({type:C});static#n=this.\u0275inj=e.cJS({imports:[E.BQ,E.si,D,E.BQ,D]})}return C})()},3680:(Bn,et,v)=>{"use strict";v.d(et,{yN:()=>T,mZ:()=>C,_A:()=>Ge,rD:()=>lt,sG:()=>ge,K7:()=>vt,HF:()=>Xe,Y2:()=>Ee,BQ:()=>G,XK:()=>De,ey:()=>zt,Ng:()=>nn,wG:()=>ye,si:()=>Ne,IR:()=>q,CB:()=>Yt,jH:()=>cn,pj:()=>j,Kr:()=>le,Id:()=>Ae,FD:()=>ve,dB:()=>de,sb:()=>Y});var e=v(5879),n=v(4300),E=v(9388),_=v(6814),I=v(2831),w=v(2495),g=v(5592),o=v(8645),d=v(6028);const y=["text"];function k(Mt,gt){if(1&Mt&&e._UZ(0,"mat-pseudo-checkbox",6),2&Mt){const Qe=e.oxw();e.Q6J("disabled",Qe.disabled)("state",Qe.selected?"checked":"unchecked")}}function P(Mt,gt){if(1&Mt&&e._UZ(0,"mat-pseudo-checkbox",7),2&Mt){const Qe=e.oxw();e.Q6J("disabled",Qe.disabled)}}function B(Mt,gt){if(1&Mt&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&Mt){const Qe=e.oxw();e.xp6(1),e.hij("(",Qe.group.label,")")}}const F=[[["mat-icon"]],"*"],R=["mat-icon","*"];let T=(()=>{class Mt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Mt})(),C=(()=>{class Mt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Mt})();const M=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function O(){return!0}});let G=(()=>{class Mt{constructor(Qe,Fe,ke){this._sanityChecks=Fe,this._document=ke,this._hasDoneGlobalChecks=!1,Qe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Qe){return!(0,I.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Qe])}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(e.LFG(n.qm),e.LFG(M,8),e.LFG(_.K0))};static#t=this.\u0275mod=e.oAB({type:Mt});static#n=this.\u0275inj=e.cJS({imports:[E.vT,E.vT]})}return Mt})();function Ae(Mt){return class extends Mt{get disabled(){return this._disabled}set disabled(gt){this._disabled=(0,w.Ig)(gt)}constructor(...gt){super(...gt),this._disabled=!1}}}function j(Mt,gt){return class extends Mt{get color(){return this._color}set color(Qe){const Fe=Qe||this.defaultColor;Fe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Fe&&this._elementRef.nativeElement.classList.add(`mat-${Fe}`),this._color=Fe)}constructor(...Qe){super(...Qe),this.defaultColor=gt,this.color=gt}}}function le(Mt){return class extends Mt{get disableRipple(){return this._disableRipple}set disableRipple(gt){this._disableRipple=(0,w.Ig)(gt)}constructor(...gt){super(...gt),this._disableRipple=!1}}}function Y(Mt,gt=0){return class extends Mt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Qe){this._tabIndex=null!=Qe?(0,w.su)(Qe):this.defaultTabIndex}constructor(...Qe){super(...Qe),this._tabIndex=gt,this.defaultTabIndex=gt}}}function ve(Mt){return class extends Mt{updateErrorState(){const gt=this.errorState,it=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);it!==gt&&(this.errorState=it,this.stateChanges.next())}constructor(...gt){super(...gt),this.errorState=!1}}}function de(Mt){return class extends Mt{constructor(...gt){super(...gt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new g.y(Qe=>{this._isInitialized?this._notifySubscriber(Qe):this._pendingSubscribers.push(Qe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(gt){gt.next(),gt.complete()}}}const Se=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function xe(){return(0,e.f3M)(e.soG)}});class Ge{constructor(){this._localeChanges=new o.x,this.localeChanges=this._localeChanges}getValidDateOrNull(gt){return this.isDateInstance(gt)&&this.isValid(gt)?gt:null}deserialize(gt){return null==gt||this.isDateInstance(gt)&&this.isValid(gt)?gt:this.invalid()}setLocale(gt){this.locale=gt,this._localeChanges.next()}compareDate(gt,Qe){return this.getYear(gt)-this.getYear(Qe)||this.getMonth(gt)-this.getMonth(Qe)||this.getDate(gt)-this.getDate(Qe)}sameDate(gt,Qe){if(gt&&Qe){let Fe=this.isValid(gt),ke=this.isValid(Qe);return Fe&&ke?!this.compareDate(gt,Qe):Fe==ke}return gt==Qe}clampDate(gt,Qe,Fe){return Qe&&this.compareDate(gt,Qe)<0?Qe:Fe&&this.compareDate(gt,Fe)>0?Fe:gt}}const ge=new e.OlP("mat-date-formats"),Ce=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Le(Mt,gt){const Qe=Array(Mt);for(let Fe=0;Fe<Mt;Fe++)Qe[Fe]=gt(Fe);return Qe}let fe=(()=>{class Mt extends Ge{constructor(Qe,Fe){super(),this.useUtcForDisplay=!1,super.setLocale(Qe)}getYear(Qe){return Qe.getFullYear()}getMonth(Qe){return Qe.getMonth()}getDate(Qe){return Qe.getDate()}getDayOfWeek(Qe){return Qe.getDay()}getMonthNames(Qe){const Fe=new Intl.DateTimeFormat(this.locale,{month:Qe,timeZone:"utc"});return Le(12,ke=>this._format(Fe,new Date(2017,ke,1)))}getDateNames(){const Qe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Le(31,Fe=>this._format(Qe,new Date(2017,0,Fe+1)))}getDayOfWeekNames(Qe){const Fe=new Intl.DateTimeFormat(this.locale,{weekday:Qe,timeZone:"utc"});return Le(7,ke=>this._format(Fe,new Date(2017,0,ke+1)))}getYearName(Qe){const Fe=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Fe,Qe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Qe){return this.getDate(this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+1,0))}clone(Qe){return new Date(Qe.getTime())}createDate(Qe,Fe,ke){let it=this._createDateWithOverflow(Qe,Fe,ke);return it.getMonth(),it}today(){return new Date}parse(Qe,Fe){return"number"==typeof Qe?new Date(Qe):Qe?new Date(Date.parse(Qe)):null}format(Qe,Fe){if(!this.isValid(Qe))throw Error("NativeDateAdapter: Cannot format invalid date.");const ke=new Intl.DateTimeFormat(this.locale,{...Fe,timeZone:"utc"});return this._format(ke,Qe)}addCalendarYears(Qe,Fe){return this.addCalendarMonths(Qe,12*Fe)}addCalendarMonths(Qe,Fe){let ke=this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+Fe,this.getDate(Qe));return this.getMonth(ke)!=((this.getMonth(Qe)+Fe)%12+12)%12&&(ke=this._createDateWithOverflow(this.getYear(ke),this.getMonth(ke),0)),ke}addCalendarDays(Qe,Fe){return this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe),this.getDate(Qe)+Fe)}toIso8601(Qe){return[Qe.getUTCFullYear(),this._2digit(Qe.getUTCMonth()+1),this._2digit(Qe.getUTCDate())].join("-")}deserialize(Qe){if("string"==typeof Qe){if(!Qe)return null;if(Ce.test(Qe)){let Fe=new Date(Qe);if(this.isValid(Fe))return Fe}}return super.deserialize(Qe)}isDateInstance(Qe){return Qe instanceof Date}isValid(Qe){return!isNaN(Qe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Qe,Fe,ke){const it=new Date;return it.setFullYear(Qe,Fe,ke),it.setHours(0,0,0,0),it}_2digit(Qe){return("00"+Qe).slice(-2)}_format(Qe,Fe){const ke=new Date;return ke.setUTCFullYear(Fe.getFullYear(),Fe.getMonth(),Fe.getDate()),ke.setUTCHours(Fe.getHours(),Fe.getMinutes(),Fe.getSeconds(),Fe.getMilliseconds()),Qe.format(ke)}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(e.LFG(Se,8),e.LFG(I.t4))};static#t=this.\u0275prov=e.Yz7({token:Mt,factory:Mt.\u0275fac})}return Mt})();const we={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Te=(()=>{class Mt{static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)};static#t=this.\u0275mod=e.oAB({type:Mt});static#n=this.\u0275inj=e.cJS({providers:[{provide:Ge,useClass:fe}]})}return Mt})(),De=(()=>{class Mt{static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)};static#t=this.\u0275mod=e.oAB({type:Mt});static#n=this.\u0275inj=e.cJS({providers:[{provide:ge,useValue:we}],imports:[Te]})}return Mt})(),lt=(()=>{class Mt{isErrorState(Qe,Fe){return!!(Qe&&Qe.invalid&&(Qe.touched||Fe&&Fe.submitted))}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)};static#t=this.\u0275prov=e.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}return Mt})();class oe{constructor(gt,Qe,Fe,ke=!1){this._renderer=gt,this.element=Qe,this.config=Fe,this._animationForciblyDisabledThroughCss=ke,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pe=(0,I.i$)({passive:!0,capture:!0});class re{constructor(){this._events=new Map,this._delegateEventHandler=gt=>{const Qe=(0,I.sA)(gt);Qe&&this._events.get(gt.type)?.forEach((Fe,ke)=>{(ke===Qe||ke.contains(Qe))&&Fe.forEach(it=>it.handleEvent(gt))})}}addHandler(gt,Qe,Fe,ke){const it=this._events.get(Qe);if(it){const ot=it.get(Fe);ot?ot.add(ke):it.set(Fe,new Set([ke]))}else this._events.set(Qe,new Map([[Fe,new Set([ke])]])),gt.runOutsideAngular(()=>{document.addEventListener(Qe,this._delegateEventHandler,pe)})}removeHandler(gt,Qe,Fe){const ke=this._events.get(gt);if(!ke)return;const it=ke.get(Qe);it&&(it.delete(Fe),0===it.size&&ke.delete(Qe),0===ke.size&&(this._events.delete(gt),document.removeEventListener(gt,this._delegateEventHandler,pe)))}}const Q={enterDuration:225,exitDuration:150},$=(0,I.i$)({passive:!0,capture:!0}),ne=["mousedown","touchstart"],J=["mouseup","mouseleave","touchend","touchcancel"];class q{static#e=this._eventManager=new re;constructor(gt,Qe,Fe,ke){this._target=gt,this._ngZone=Qe,this._platform=ke,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ke.isBrowser&&(this._containerElement=(0,w.fI)(Fe))}fadeInRipple(gt,Qe,Fe={}){const ke=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),it={...Q,...Fe.animation};Fe.centered&&(gt=ke.left+ke.width/2,Qe=ke.top+ke.height/2);const ot=Fe.radius||function me(Mt,gt,Qe){const Fe=Math.max(Math.abs(Mt-Qe.left),Math.abs(Mt-Qe.right)),ke=Math.max(Math.abs(gt-Qe.top),Math.abs(gt-Qe.bottom));return Math.sqrt(Fe*Fe+ke*ke)}(gt,Qe,ke),ft=gt-ke.left,mt=Qe-ke.top,Et=it.enterDuration,Qt=document.createElement("div");Qt.classList.add("mat-ripple-element"),Qt.style.left=ft-ot+"px",Qt.style.top=mt-ot+"px",Qt.style.height=2*ot+"px",Qt.style.width=2*ot+"px",null!=Fe.color&&(Qt.style.backgroundColor=Fe.color),Qt.style.transitionDuration=`${Et}ms`,this._containerElement.appendChild(Qt);const fn=window.getComputedStyle(Qt),pn=fn.transitionDuration,Tn="none"===fn.transitionProperty||"0s"===pn||"0s, 0s"===pn||0===ke.width&&0===ke.height,Dn=new oe(this,Qt,Fe,Tn);Qt.style.transform="scale3d(1, 1, 1)",Dn.state=0,Fe.persistent||(this._mostRecentTransientRipple=Dn);let Fn=null;return!Tn&&(Et||it.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Kn=()=>this._finishRippleTransition(Dn),dn=()=>this._destroyRipple(Dn);Qt.addEventListener("transitionend",Kn),Qt.addEventListener("transitioncancel",dn),Fn={onTransitionEnd:Kn,onTransitionCancel:dn}}),this._activeRipples.set(Dn,Fn),(Tn||!Et)&&this._finishRippleTransition(Dn),Dn}fadeOutRipple(gt){if(2===gt.state||3===gt.state)return;const Qe=gt.element,Fe={...Q,...gt.config.animation};Qe.style.transitionDuration=`${Fe.exitDuration}ms`,Qe.style.opacity="0",gt.state=2,(gt._animationForciblyDisabledThroughCss||!Fe.exitDuration)&&this._finishRippleTransition(gt)}fadeOutAll(){this._getActiveRipples().forEach(gt=>gt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(gt=>{gt.config.persistent||gt.fadeOut()})}setupTriggerEvents(gt){const Qe=(0,w.fI)(gt);!this._platform.isBrowser||!Qe||Qe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Qe,ne.forEach(Fe=>{q._eventManager.addHandler(this._ngZone,Fe,Qe,this)}))}handleEvent(gt){"mousedown"===gt.type?this._onMousedown(gt):"touchstart"===gt.type?this._onTouchStart(gt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{J.forEach(Qe=>{this._triggerElement.addEventListener(Qe,this,$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(gt){0===gt.state?this._startFadeOutTransition(gt):2===gt.state&&this._destroyRipple(gt)}_startFadeOutTransition(gt){const Qe=gt===this._mostRecentTransientRipple,{persistent:Fe}=gt.config;gt.state=1,!Fe&&(!Qe||!this._isPointerDown)&&gt.fadeOut()}_destroyRipple(gt){const Qe=this._activeRipples.get(gt)??null;this._activeRipples.delete(gt),this._activeRipples.size||(this._containerRect=null),gt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),gt.state=3,null!==Qe&&(gt.element.removeEventListener("transitionend",Qe.onTransitionEnd),gt.element.removeEventListener("transitioncancel",Qe.onTransitionCancel)),gt.element.remove()}_onMousedown(gt){const Qe=(0,n.X6)(gt),Fe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Qe&&!Fe&&(this._isPointerDown=!0,this.fadeInRipple(gt.clientX,gt.clientY,this._target.rippleConfig))}_onTouchStart(gt){if(!this._target.rippleDisabled&&!(0,n.yG)(gt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Qe=gt.changedTouches;if(Qe)for(let Fe=0;Fe<Qe.length;Fe++)this.fadeInRipple(Qe[Fe].clientX,Qe[Fe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(gt=>{!gt.config.persistent&&(1===gt.state||gt.config.terminateOnPointerUp&&0===gt.state)&&gt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const gt=this._triggerElement;gt&&(ne.forEach(Qe=>q._eventManager.removeHandler(Qe,gt,this)),this._pointerUpEventsRegistered&&J.forEach(Qe=>gt.removeEventListener(Qe,this,$)))}}const Ee=new e.OlP("mat-ripple-global-options");let ye=(()=>{class Mt{get disabled(){return this._disabled}set disabled(Qe){Qe&&this.fadeOutAllNonPersistent(),this._disabled=Qe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Qe){this._trigger=Qe,this._setupTriggerEventsIfEnabled()}constructor(Qe,Fe,ke,it,ot){this._elementRef=Qe,this._animationMode=ot,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=it||{},this._rippleRenderer=new q(this,Fe,Qe,ke)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Qe,Fe=0,ke){return"number"==typeof Qe?this._rippleRenderer.fadeInRipple(Qe,Fe,{...this.rippleConfig,...ke}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Qe})}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(I.t4),e.Y36(Ee,8),e.Y36(e.QbO,8))};static#t=this.\u0275dir=e.lG2({type:Mt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Fe,ke){2&Fe&&e.ekj("mat-ripple-unbounded",ke.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return Mt})(),Ne=(()=>{class Mt{static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)};static#t=this.\u0275mod=e.oAB({type:Mt});static#n=this.\u0275inj=e.cJS({imports:[G,G]})}return Mt})(),tt=(()=>{class Mt{constructor(Qe){this._animationMode=Qe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:Mt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Fe,ke){2&Fe&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ke.state)("mat-pseudo-checkbox-checked","checked"===ke.state)("mat-pseudo-checkbox-disabled",ke.disabled)("mat-pseudo-checkbox-minimal","minimal"===ke.appearance)("mat-pseudo-checkbox-full","full"===ke.appearance)("_mat-animation-noopable","NoopAnimations"===ke._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(Fe,ke){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Mt})(),qe=(()=>{class Mt{static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)};static#t=this.\u0275mod=e.oAB({type:Mt});static#n=this.\u0275inj=e.cJS({imports:[G]})}return Mt})();const Xe=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),vt=new e.OlP("MatOptgroup");let Ve=0;class yt{constructor(gt,Qe=!1){this.source=gt,this.isUserInput=Qe}}let Bt=(()=>{class Mt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Qe){this._disabled=(0,w.Ig)(Qe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Qe,Fe,ke,it){this._element=Qe,this._changeDetectorRef=Fe,this._parent=ke,this.group=it,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ve++,this.onSelectionChange=new e.vpe,this._stateChanges=new o.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Qe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}deselect(Qe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}focus(Qe,Fe){const ke=this._getHostElement();"function"==typeof ke.focus&&ke.focus(Fe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Qe){(Qe.keyCode===d.K5||Qe.keyCode===d.L_)&&!(0,d.Vb)(Qe)&&(this._selectViaInteraction(),Qe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Qe=this.viewValue;Qe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Qe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Qe=!1){this.onSelectionChange.emit(new yt(this,Qe))}static#e=this.\u0275fac=function(Fe){e.$Z()};static#t=this.\u0275dir=e.lG2({type:Mt,viewQuery:function(Fe,ke){if(1&Fe&&e.Gf(y,7),2&Fe){let it;e.iGM(it=e.CRH())&&(ke._text=it.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return Mt})(),zt=(()=>{class Mt extends Bt{constructor(Qe,Fe,ke,it){super(Qe,Fe,ke,it)}static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Xe,8),e.Y36(vt,8))};static#t=this.\u0275cmp=e.Xpm({type:Mt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Fe,ke){1&Fe&&e.NdJ("click",function(){return ke._selectViaInteraction()})("keydown",function(ot){return ke._handleKeydown(ot)}),2&Fe&&(e.Ikx("id",ke.id),e.uIk("aria-selected",ke.selected)("aria-disabled",ke.disabled.toString()),e.ekj("mdc-list-item--selected",ke.selected)("mat-mdc-option-multiple",ke.multiple)("mat-mdc-option-active",ke.active)("mdc-list-item--disabled",ke.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:R,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(Fe,ke){1&Fe&&(e.F$t(F),e.YNc(0,k,1,2,"mat-pseudo-checkbox",0),e.Hsn(1),e.TgZ(2,"span",1,2),e.Hsn(4,1),e.qZA(),e.YNc(5,P,1,1,"mat-pseudo-checkbox",3),e.YNc(6,B,2,1,"span",4),e._UZ(7,"div",5)),2&Fe&&(e.Q6J("ngIf",ke.multiple),e.xp6(5),e.Q6J("ngIf",!ke.multiple&&ke.selected&&!ke.hideSingleSelectionIndicator),e.xp6(1),e.Q6J("ngIf",ke.group&&ke.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",ke._getHostElement())("matRippleDisabled",ke.disabled||ke.disableRipple))},dependencies:[ye,_.O5,tt],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Mt})();function Yt(Mt,gt,Qe){if(Qe.length){let Fe=gt.toArray(),ke=Qe.toArray(),it=0;for(let ot=0;ot<Mt+1;ot++)Fe[ot].group&&Fe[ot].group===ke[it]&&it++;return it}return 0}function cn(Mt,gt,Qe,Fe){return Mt<Qe?Mt:Mt+gt>Qe+Fe?Math.max(0,Mt-Fe+gt):Qe}let nn=(()=>{class Mt{static#e=this.\u0275fac=function(Fe){return new(Fe||Mt)};static#t=this.\u0275mod=e.oAB({type:Mt});static#n=this.\u0275inj=e.cJS({imports:[Ne,_.ez,G,qe]})}return Mt})()},8034:(Bn,et,v)=>{"use strict";v.d(et,{FA:()=>Hn,Mq:()=>Jt,hl:()=>dn,nW:()=>un});var e=v(4300),n=v(3651),E=v(8484),A=v(6814),_=v(5879),I=v(2296),w=v(799),g=v(3680),o=v(8645),d=v(7394),u=v(3019),m=v(2096),y=v(6028),k=v(9388),P=v(2831),B=v(8180),F=v(7921),R=v(2181),D=v(2495),T=v(6825),C=v(95),O=v(4170),M=v(2032);const G=["mat-calendar-body",""];function Z(Lt,Sn){if(1&Lt&&(_.TgZ(0,"tr",3)(1,"td",4),_._uU(2),_.qZA()()),2&Lt){const Ie=_.oxw();_.xp6(1),_.Udp("padding-top",Ie._cellPadding)("padding-bottom",Ie._cellPadding),_.uIk("colspan",Ie.numCols),_.xp6(1),_.hij(" ",Ie.label," ")}}function ee(Lt,Sn){if(1&Lt&&(_.TgZ(0,"td",4),_._uU(1),_.qZA()),2&Lt){const Ie=_.oxw(2);_.Udp("padding-top",Ie._cellPadding)("padding-bottom",Ie._cellPadding),_.uIk("colspan",Ie._firstRowOffset),_.xp6(1),_.hij(" ",Ie._firstRowOffset>=Ie.labelMinRequiredCells?Ie.label:""," ")}}function ae(Lt,Sn){if(1&Lt){const Ie=_.EpF();_.TgZ(0,"td",8)(1,"button",9),_.NdJ("click",function(Dt){const Mn=_.CHM(Ie).$implicit,ai=_.oxw(2);return _.KtG(ai._cellClicked(Mn,Dt))})("focus",function(Dt){const Mn=_.CHM(Ie).$implicit,ai=_.oxw(2);return _.KtG(ai._emitActiveDateChange(Mn,Dt))}),_.TgZ(2,"span",10),_._uU(3),_.qZA(),_._UZ(4,"span",11),_.qZA()()}if(2&Lt){const Ie=Sn.$implicit,Pt=Sn.index,Dt=_.oxw().index,Xt=_.oxw();_.Udp("width",Xt._cellWidth)("padding-top",Xt._cellPadding)("padding-bottom",Xt._cellPadding),_.uIk("data-mat-row",Dt)("data-mat-col",Pt),_.xp6(1),_.ekj("mat-calendar-body-disabled",!Ie.enabled)("mat-calendar-body-active",Xt._isActiveCell(Dt,Pt))("mat-calendar-body-range-start",Xt._isRangeStart(Ie.compareValue))("mat-calendar-body-range-end",Xt._isRangeEnd(Ie.compareValue))("mat-calendar-body-in-range",Xt._isInRange(Ie.compareValue))("mat-calendar-body-comparison-bridge-start",Xt._isComparisonBridgeStart(Ie.compareValue,Dt,Pt))("mat-calendar-body-comparison-bridge-end",Xt._isComparisonBridgeEnd(Ie.compareValue,Dt,Pt))("mat-calendar-body-comparison-start",Xt._isComparisonStart(Ie.compareValue))("mat-calendar-body-comparison-end",Xt._isComparisonEnd(Ie.compareValue))("mat-calendar-body-in-comparison-range",Xt._isInComparisonRange(Ie.compareValue))("mat-calendar-body-preview-start",Xt._isPreviewStart(Ie.compareValue))("mat-calendar-body-preview-end",Xt._isPreviewEnd(Ie.compareValue))("mat-calendar-body-in-preview",Xt._isInPreview(Ie.compareValue)),_.Q6J("ngClass",Ie.cssClasses)("tabindex",Xt._isActiveCell(Dt,Pt)?0:-1),_.uIk("aria-label",Ie.ariaLabel)("aria-disabled",!Ie.enabled||null)("aria-pressed",Xt._isSelected(Ie.compareValue))("aria-current",Xt.todayValue===Ie.compareValue?"date":null)("aria-describedby",Xt._getDescribedby(Ie.compareValue)),_.xp6(1),_.ekj("mat-calendar-body-selected",Xt._isSelected(Ie.compareValue))("mat-calendar-body-comparison-identical",Xt._isComparisonIdentical(Ie.compareValue))("mat-calendar-body-today",Xt.todayValue===Ie.compareValue),_.xp6(1),_.hij(" ",Ie.displayValue," ")}}function Ae(Lt,Sn){if(1&Lt&&(_.TgZ(0,"tr",5),_.YNc(1,ee,2,6,"td",6),_.YNc(2,ae,5,48,"td",7),_.qZA()),2&Lt){const Ie=Sn.$implicit,Pt=Sn.index,Dt=_.oxw();_.xp6(1),_.Q6J("ngIf",0===Pt&&Dt._firstRowOffset),_.xp6(1),_.Q6J("ngForOf",Ie)}}function j(Lt,Sn){if(1&Lt&&(_.TgZ(0,"th",5)(1,"span",6),_._uU(2),_.qZA(),_.TgZ(3,"span",7),_._uU(4),_.qZA()()),2&Lt){const Ie=Sn.$implicit;_.xp6(2),_.Oqu(Ie.long),_.xp6(2),_.Oqu(Ie.narrow)}}const le=["*"];function Y(Lt,Sn){}function ve(Lt,Sn){if(1&Lt){const Ie=_.EpF();_.TgZ(0,"mat-month-view",5),_.NdJ("activeDateChange",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt.activeDate=Dt)})("_userSelection",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._dateSelected(Dt))})("dragStarted",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._dragStarted(Dt))})("dragEnded",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._dragEnded(Dt))}),_.qZA()}if(2&Lt){const Ie=_.oxw();_.Q6J("activeDate",Ie.activeDate)("selected",Ie.selected)("dateFilter",Ie.dateFilter)("maxDate",Ie.maxDate)("minDate",Ie.minDate)("dateClass",Ie.dateClass)("comparisonStart",Ie.comparisonStart)("comparisonEnd",Ie.comparisonEnd)("startDateAccessibleName",Ie.startDateAccessibleName)("endDateAccessibleName",Ie.endDateAccessibleName)("activeDrag",Ie._activeDrag)}}function de(Lt,Sn){if(1&Lt){const Ie=_.EpF();_.TgZ(0,"mat-year-view",6),_.NdJ("activeDateChange",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt.activeDate=Dt)})("monthSelected",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._monthSelectedInYearView(Dt))})("selectedChange",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._goToDateInView(Dt,"month"))}),_.qZA()}if(2&Lt){const Ie=_.oxw();_.Q6J("activeDate",Ie.activeDate)("selected",Ie.selected)("dateFilter",Ie.dateFilter)("maxDate",Ie.maxDate)("minDate",Ie.minDate)("dateClass",Ie.dateClass)}}function Se(Lt,Sn){if(1&Lt){const Ie=_.EpF();_.TgZ(0,"mat-multi-year-view",7),_.NdJ("activeDateChange",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt.activeDate=Dt)})("yearSelected",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._yearSelectedInMultiYearView(Dt))})("selectedChange",function(Dt){_.CHM(Ie);const Xt=_.oxw();return _.KtG(Xt._goToDateInView(Dt,"year"))}),_.qZA()}if(2&Lt){const Ie=_.oxw();_.Q6J("activeDate",Ie.activeDate)("selected",Ie.selected)("dateFilter",Ie.dateFilter)("maxDate",Ie.maxDate)("minDate",Ie.minDate)("dateClass",Ie.dateClass)}}function xe(Lt,Sn){}const Ge=["button"];function ge(Lt,Sn){1&Lt&&(_.O4$(),_.TgZ(0,"svg",3),_._UZ(1,"path",4),_.qZA())}const Ce=[[["","matDatepickerToggleIcon",""]]],Le=["[matDatepickerToggleIcon]"];let Ue=(()=>{class Lt{constructor(){this.changes=new o.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Ie,Pt){return`${Ie} \u2013 ${Pt}`}formatYearRangeLabel(Ie,Pt){return`${Ie} to ${Pt}`}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)};static#t=this.\u0275prov=_.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"})}return Lt})();class lt{constructor(Sn,Ie,Pt,Dt,Xt={},Mn=Sn,ai){this.value=Sn,this.displayValue=Ie,this.ariaLabel=Pt,this.enabled=Dt,this.cssClasses=Xt,this.compareValue=Mn,this.rawValue=ai}}let He=1;const be=(0,P.i$)({passive:!1,capture:!0}),_e=(0,P.i$)({passive:!0,capture:!0}),K=(0,P.i$)({passive:!0});let oe=(()=>{class Lt{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Ie,Pt){this._elementRef=Ie,this._ngZone=Pt,this._platform=(0,_.f3M)(P.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new _.vpe,this.previewChange=new _.vpe,this.activeDateChange=new _.vpe,this.dragStarted=new _.vpe,this.dragEnded=new _.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=Dt=>{if(this._skipNextFocus&&"focus"===Dt.type)this._skipNextFocus=!1;else if(Dt.target&&this.isRange){const Xt=this._getCellFromElement(Dt.target);Xt&&this._ngZone.run(()=>this.previewChange.emit({value:Xt.enabled?Xt:null,event:Dt}))}},this._touchmoveHandler=Dt=>{if(!this.isRange)return;const Xt=ne(Dt),Mn=Xt?this._getCellFromElement(Xt):null;Xt!==Dt.target&&(this._didDragSinceMouseDown=!0),re(Dt.target)&&Dt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Mn?.enabled?Mn:null,event:Dt}))},this._leaveHandler=Dt=>{null!==this.previewEnd&&this.isRange&&("blur"!==Dt.type&&(this._didDragSinceMouseDown=!0),Dt.target&&this._getCellFromElement(Dt.target)&&(!Dt.relatedTarget||!this._getCellFromElement(Dt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Dt})))},this._mousedownHandler=Dt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const Xt=Dt.target&&this._getCellFromElement(Dt.target);!Xt||!this._isInRange(Xt.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:Xt.rawValue,event:Dt})})},this._mouseupHandler=Dt=>{if(!this.isRange)return;const Xt=re(Dt.target);Xt?Xt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Mn=this._getCellFromElement(Xt);this.dragEnded.emit({value:Mn?.rawValue??null,event:Dt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:Dt})})},this._touchendHandler=Dt=>{const Xt=ne(Dt);Xt&&this._mouseupHandler({target:Xt})},this._id="mat-calendar-body-"+He++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Pt.runOutsideAngular(()=>{const Dt=Ie.nativeElement;Dt.addEventListener("touchmove",this._touchmoveHandler,be),Dt.addEventListener("mouseenter",this._enterHandler,_e),Dt.addEventListener("focus",this._enterHandler,_e),Dt.addEventListener("mouseleave",this._leaveHandler,_e),Dt.addEventListener("blur",this._leaveHandler,_e),Dt.addEventListener("mousedown",this._mousedownHandler,K),Dt.addEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Ie,Pt){this._didDragSinceMouseDown||Ie.enabled&&this.selectedValueChange.emit({value:Ie.value,event:Pt})}_emitActiveDateChange(Ie,Pt){Ie.enabled&&this.activeDateChange.emit({value:Ie.value,event:Pt})}_isSelected(Ie){return this.startValue===Ie||this.endValue===Ie}ngOnChanges(Ie){const Pt=Ie.numCols,{rows:Dt,numCols:Xt}=this;(Ie.rows||Pt)&&(this._firstRowOffset=Dt&&Dt.length&&Dt[0].length?Xt-Dt[0].length:0),(Ie.cellAspectRatio||Pt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Xt+"%"),(Pt||!this._cellWidth)&&(this._cellWidth=100/Xt+"%")}ngOnDestroy(){const Ie=this._elementRef.nativeElement;Ie.removeEventListener("touchmove",this._touchmoveHandler,be),Ie.removeEventListener("mouseenter",this._enterHandler,_e),Ie.removeEventListener("focus",this._enterHandler,_e),Ie.removeEventListener("mouseleave",this._leaveHandler,_e),Ie.removeEventListener("blur",this._leaveHandler,_e),Ie.removeEventListener("mousedown",this._mousedownHandler,K),Ie.removeEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Ie,Pt){let Dt=Ie*this.numCols+Pt;return Ie&&(Dt-=this._firstRowOffset),Dt==this.activeCell}_focusActiveCell(Ie=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,B.q)(1)).subscribe(()=>{setTimeout(()=>{const Pt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Pt&&(Ie||(this._skipNextFocus=!0),Pt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Ie){return Q(Ie,this.startValue,this.endValue)}_isRangeEnd(Ie){return X(Ie,this.startValue,this.endValue)}_isInRange(Ie){return $(Ie,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Ie){return Q(Ie,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Ie,Pt,Dt){if(!this._isComparisonStart(Ie)||this._isRangeStart(Ie)||!this._isInRange(Ie))return!1;let Xt=this.rows[Pt][Dt-1];if(!Xt){const Mn=this.rows[Pt-1];Xt=Mn&&Mn[Mn.length-1]}return Xt&&!this._isRangeEnd(Xt.compareValue)}_isComparisonBridgeEnd(Ie,Pt,Dt){if(!this._isComparisonEnd(Ie)||this._isRangeEnd(Ie)||!this._isInRange(Ie))return!1;let Xt=this.rows[Pt][Dt+1];if(!Xt){const Mn=this.rows[Pt+1];Xt=Mn&&Mn[0]}return Xt&&!this._isRangeStart(Xt.compareValue)}_isComparisonEnd(Ie){return X(Ie,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Ie){return $(Ie,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Ie){return this.comparisonStart===this.comparisonEnd&&Ie===this.comparisonStart}_isPreviewStart(Ie){return Q(Ie,this.previewStart,this.previewEnd)}_isPreviewEnd(Ie){return X(Ie,this.previewStart,this.previewEnd)}_isInPreview(Ie){return $(Ie,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Ie){return this.isRange?this.startValue===Ie&&this.endValue===Ie?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Ie?this._startDateLabelId:this.endValue===Ie?this._endDateLabelId:null:null}_getCellFromElement(Ie){const Pt=re(Ie);if(Pt){const Dt=Pt.getAttribute("data-mat-row"),Xt=Pt.getAttribute("data-mat-col");if(Dt&&Xt)return this.rows[parseInt(Dt)][parseInt(Xt)]}return null}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.SBq),_.Y36(_.R0b))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[_.TTD],attrs:G,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Pt,Dt){1&Pt&&(_.YNc(0,Z,3,6,"tr",0),_.YNc(1,Ae,3,2,"tr",1),_.TgZ(2,"label",2),_._uU(3),_.qZA(),_.TgZ(4,"label",2),_._uU(5),_.qZA()),2&Pt&&(_.Q6J("ngIf",Dt._firstRowOffset<Dt.labelMinRequiredCells),_.xp6(1),_.Q6J("ngForOf",Dt.rows),_.xp6(1),_.Q6J("id",Dt._startDateLabelId),_.xp6(1),_.hij(" ",Dt.startDateAccessibleName,"\n"),_.xp6(1),_.Q6J("id",Dt._endDateLabelId),_.xp6(1),_.hij(" ",Dt.endDateAccessibleName,"\n"))},dependencies:[A.mk,A.sg,A.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Lt})();function pe(Lt){return"TD"===Lt?.nodeName}function re(Lt){let Sn;return pe(Lt)?Sn=Lt:pe(Lt.parentNode)?Sn=Lt.parentNode:pe(Lt.parentNode?.parentNode)&&(Sn=Lt.parentNode.parentNode),null!=Sn?.getAttribute("data-mat-row")?Sn:null}function Q(Lt,Sn,Ie){return null!==Ie&&Sn!==Ie&&Lt<Ie&&Lt===Sn}function X(Lt,Sn,Ie){return null!==Sn&&Sn!==Ie&&Lt>=Sn&&Lt===Ie}function $(Lt,Sn,Ie,Pt){return Pt&&null!==Sn&&null!==Ie&&Sn!==Ie&&Lt>=Sn&&Lt<=Ie}function ne(Lt){const Sn=Lt.changedTouches[0];return document.elementFromPoint(Sn.clientX,Sn.clientY)}class J{constructor(Sn,Ie){this.start=Sn,this.end=Ie}}let q=(()=>{class Lt{constructor(Ie,Pt){this.selection=Ie,this._adapter=Pt,this._selectionChanged=new o.x,this.selectionChanged=this._selectionChanged,this.selection=Ie}updateSelection(Ie,Pt){const Dt=this.selection;this.selection=Ie,this._selectionChanged.next({selection:Ie,source:Pt,oldValue:Dt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Ie){return this._adapter.isDateInstance(Ie)&&this._adapter.isValid(Ie)}static#e=this.\u0275fac=function(Pt){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:Lt,factory:Lt.\u0275fac})}return Lt})(),me=(()=>{class Lt extends q{constructor(Ie){super(null,Ie)}add(Ie){super.updateSelection(Ie,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Ie=new Lt(this._adapter);return Ie.updateSelection(this.selection,this),Ie}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.LFG(g._A))};static#t=this.\u0275prov=_.Yz7({token:Lt,factory:Lt.\u0275fac})}return Lt})();const Ne={provide:q,deps:[[new _.FiY,new _.tp0,q],g._A],useFactory:function ye(Lt,Sn){return Lt||new me(Sn)}},Xe=new _.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let ce=(()=>{class Lt{get activeDate(){return this._activeDate}set activeDate(Ie){const Pt=this._activeDate,Dt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Dt,this.minDate,this.maxDate),this._hasSameMonthAndYear(Pt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Ie){this._selected=Ie instanceof J?Ie:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Ie){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get maxDate(){return this._maxDate}set maxDate(Ie){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}constructor(Ie,Pt,Dt,Xt,Mn){this._changeDetectorRef=Ie,this._dateFormats=Pt,this._dateAdapter=Dt,this._dir=Xt,this._rangeStrategy=Mn,this._rerenderSubscription=d.w0.EMPTY,this.activeDrag=null,this.selectedChange=new _.vpe,this._userSelection=new _.vpe,this.dragStarted=new _.vpe,this.dragEnded=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,F.O)(null)).subscribe(()=>this._init())}ngOnChanges(Ie){const Pt=Ie.comparisonStart||Ie.comparisonEnd;Pt&&!Pt.firstChange&&this._setRanges(this.selected),Ie.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Ie){const Pt=Ie.value,Dt=this._getDateFromDayOfMonth(Pt);let Xt,Mn;this._selected instanceof J?(Xt=this._getDateInCurrentMonth(this._selected.start),Mn=this._getDateInCurrentMonth(this._selected.end)):Xt=Mn=this._getDateInCurrentMonth(this._selected),(Xt!==Pt||Mn!==Pt)&&this.selectedChange.emit(Dt),this._userSelection.emit({value:Dt,event:Ie.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Ie){const Dt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Ie.value),this._dateAdapter.compareDate(Dt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Ie){const Pt=this._activeDate,Dt=this._isRtl();switch(Ie.keyCode){case y.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Dt?1:-1);break;case y.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Dt?-1:1);break;case y.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case y.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case y.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case y.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case y.Ku:this.activeDate=Ie.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case y.VM:this.activeDate=Ie.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case y.K5:case y.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Ie.preventDefault());case y.hY:return void(null!=this._previewEnd&&!(0,y.Vb)(Ie)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Ie}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Ie})),Ie.preventDefault(),Ie.stopPropagation()));default:return}this._dateAdapter.compareDate(Pt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ie.preventDefault()}_handleCalendarBodyKeyup(Ie){(Ie.keyCode===y.L_||Ie.keyCode===y.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Ie}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Ie=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Ie)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Ie){this._matCalendarBody._focusActiveCell(Ie)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Ie,value:Pt}){if(this._rangeStrategy){const Dt=Pt?Pt.rawValue:null,Xt=this._rangeStrategy.createPreview(Dt,this.selected,Ie);if(this._previewStart=this._getCellCompareValue(Xt.start),this._previewEnd=this._getCellCompareValue(Xt.end),this.activeDrag&&Dt){const Mn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,Dt,Ie);Mn&&(this._previewStart=this._getCellCompareValue(Mn.start),this._previewEnd=this._getCellCompareValue(Mn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Ie){if(this.activeDrag)if(Ie.value){const Pt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Ie.value,Ie.event);this.dragEnded.emit({value:Pt??null,event:Ie.event})}else this.dragEnded.emit({value:null,event:Ie.event})}_getDateFromDayOfMonth(Ie){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Ie)}_initWeekdays(){const Ie=this._dateAdapter.getFirstDayOfWeek(),Pt=this._dateAdapter.getDayOfWeekNames("narrow");let Xt=this._dateAdapter.getDayOfWeekNames("long").map((Mn,ai)=>({long:Mn,narrow:Pt[ai]}));this._weekdays=Xt.slice(Ie).concat(Xt.slice(0,Ie))}_createWeekCells(){const Ie=this._dateAdapter.getNumDaysInMonth(this.activeDate),Pt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Dt=0,Xt=this._firstWeekOffset;Dt<Ie;Dt++,Xt++){7==Xt&&(this._weeks.push([]),Xt=0);const Mn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Dt+1),ai=this._shouldEnableDate(Mn),qi=this._dateAdapter.format(Mn,this._dateFormats.display.dateA11yLabel),Hr=this.dateClass?this.dateClass(Mn,"month"):void 0;this._weeks[this._weeks.length-1].push(new lt(Dt+1,Pt[Dt],qi,ai,Hr,this._getCellCompareValue(Mn),Mn))}}_shouldEnableDate(Ie){return!!Ie&&(!this.minDate||this._dateAdapter.compareDate(Ie,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Ie,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Ie))}_getDateInCurrentMonth(Ie){return Ie&&this._hasSameMonthAndYear(Ie,this.activeDate)?this._dateAdapter.getDate(Ie):null}_hasSameMonthAndYear(Ie,Pt){return!(!Ie||!Pt||this._dateAdapter.getMonth(Ie)!=this._dateAdapter.getMonth(Pt)||this._dateAdapter.getYear(Ie)!=this._dateAdapter.getYear(Pt))}_getCellCompareValue(Ie){if(Ie){const Pt=this._dateAdapter.getYear(Ie),Dt=this._dateAdapter.getMonth(Ie),Xt=this._dateAdapter.getDate(Ie);return new Date(Pt,Dt,Xt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Ie){Ie instanceof J?(this._rangeStart=this._getCellCompareValue(Ie.start),this._rangeEnd=this._getCellCompareValue(Ie.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Ie),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Ie){return!this.dateFilter||this.dateFilter(Ie)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.sBO),_.Y36(g.sG,8),_.Y36(g._A,8),_.Y36(k.Is,8),_.Y36(Xe,8))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-month-view"]],viewQuery:function(Pt,Dt){if(1&Pt&&_.Gf(oe,5),2&Pt){let Xt;_.iGM(Xt=_.CRH())&&(Dt._matCalendarBody=Xt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[_.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(Pt,Dt){1&Pt&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_.YNc(3,j,5,2,"th",2),_.qZA(),_.TgZ(4,"tr"),_._UZ(5,"th",3),_.qZA()(),_.TgZ(6,"tbody",4),_.NdJ("selectedValueChange",function(Mn){return Dt._dateSelected(Mn)})("activeDateChange",function(Mn){return Dt._updateActiveDate(Mn)})("previewChange",function(Mn){return Dt._previewChanged(Mn)})("dragStarted",function(Mn){return Dt.dragStarted.emit(Mn)})("dragEnded",function(Mn){return Dt._dragEnded(Mn)})("keyup",function(Mn){return Dt._handleCalendarBodyKeyup(Mn)})("keydown",function(Mn){return Dt._handleCalendarBodyKeydown(Mn)}),_.qZA()()),2&Pt&&(_.xp6(3),_.Q6J("ngForOf",Dt._weekdays),_.xp6(3),_.Q6J("label",Dt._monthLabel)("rows",Dt._weeks)("todayValue",Dt._todayDate)("startValue",Dt._rangeStart)("endValue",Dt._rangeEnd)("comparisonStart",Dt._comparisonRangeStart)("comparisonEnd",Dt._comparisonRangeEnd)("previewStart",Dt._previewStart)("previewEnd",Dt._previewEnd)("isRange",Dt._isRange)("labelMinRequiredCells",3)("activeCell",Dt._dateAdapter.getDate(Dt.activeDate)-1)("startDateAccessibleName",Dt.startDateAccessibleName)("endDateAccessibleName",Dt.endDateAccessibleName))},dependencies:[A.sg,oe],encapsulation:2,changeDetection:0})}return Lt})();const Ve=24;let Bt=(()=>{class Lt{get activeDate(){return this._activeDate}set activeDate(Ie){let Pt=this._activeDate;const Dt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Dt,this.minDate,this.maxDate),zt(this._dateAdapter,Pt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Ie){this._selected=Ie instanceof J?Ie:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie)),this._setSelectedYear(Ie)}get minDate(){return this._minDate}set minDate(Ie){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get maxDate(){return this._maxDate}set maxDate(Ie){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}constructor(Ie,Pt,Dt){this._changeDetectorRef=Ie,this._dateAdapter=Pt,this._dir=Dt,this._rerenderSubscription=d.w0.EMPTY,this.selectedChange=new _.vpe,this.yearSelected=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,F.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Pt=this._dateAdapter.getYear(this._activeDate)-Yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Dt=0,Xt=[];Dt<Ve;Dt++)Xt.push(Pt+Dt),4==Xt.length&&(this._years.push(Xt.map(Mn=>this._createCellForYear(Mn))),Xt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Ie){const Pt=Ie.value,Dt=this._dateAdapter.createDate(Pt,0,1),Xt=this._getDateFromYear(Pt);this.yearSelected.emit(Dt),this.selectedChange.emit(Xt)}_updateActiveDate(Ie){const Dt=this._activeDate;this.activeDate=this._getDateFromYear(Ie.value),this._dateAdapter.compareDate(Dt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ie){const Pt=this._activeDate,Dt=this._isRtl();switch(Ie.keyCode){case y.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Dt?1:-1);break;case y.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Dt?-1:1);break;case y.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case y.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case y.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case y.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ve-Yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case y.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ie.altKey?10*-Ve:-Ve);break;case y.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ie.altKey?10*Ve:Ve);break;case y.K5:case y.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Ie.preventDefault()}_handleCalendarBodyKeyup(Ie){(Ie.keyCode===y.L_||Ie.keyCode===y.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Ie}),this._selectionKeyPressed=!1)}_getActiveCell(){return Yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Ie){const Pt=this._dateAdapter.getMonth(this.activeDate),Dt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Ie,Pt,1));return this._dateAdapter.createDate(Ie,Pt,Math.min(this._dateAdapter.getDate(this.activeDate),Dt))}_createCellForYear(Ie){const Pt=this._dateAdapter.createDate(Ie,0,1),Dt=this._dateAdapter.getYearName(Pt),Xt=this.dateClass?this.dateClass(Pt,"multi-year"):void 0;return new lt(Ie,Dt,Dt,this._shouldEnableYear(Ie),Xt)}_shouldEnableYear(Ie){if(null==Ie||this.maxDate&&Ie>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Ie<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Dt=this._dateAdapter.createDate(Ie,0,1);this._dateAdapter.getYear(Dt)==Ie;Dt=this._dateAdapter.addCalendarDays(Dt,1))if(this.dateFilter(Dt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Ie){if(this._selectedYear=null,Ie instanceof J){const Pt=Ie.start||Ie.end;Pt&&(this._selectedYear=this._dateAdapter.getYear(Pt))}else Ie&&(this._selectedYear=this._dateAdapter.getYear(Ie))}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.sBO),_.Y36(g._A,8),_.Y36(k.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-multi-year-view"]],viewQuery:function(Pt,Dt){if(1&Pt&&_.Gf(oe,5),2&Pt){let Xt;_.iGM(Xt=_.CRH())&&(Dt._matCalendarBody=Xt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Pt,Dt){1&Pt&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_._UZ(3,"th",2),_.qZA()(),_.TgZ(4,"tbody",3),_.NdJ("selectedValueChange",function(Mn){return Dt._yearSelected(Mn)})("activeDateChange",function(Mn){return Dt._updateActiveDate(Mn)})("keyup",function(Mn){return Dt._handleCalendarBodyKeyup(Mn)})("keydown",function(Mn){return Dt._handleCalendarBodyKeydown(Mn)}),_.qZA()()),2&Pt&&(_.xp6(4),_.Q6J("rows",Dt._years)("todayValue",Dt._todayYear)("startValue",Dt._selectedYear)("endValue",Dt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Dt._getActiveCell()))},dependencies:[oe],encapsulation:2,changeDetection:0})}return Lt})();function zt(Lt,Sn,Ie,Pt,Dt){const Xt=Lt.getYear(Sn),Mn=Lt.getYear(Ie),ai=cn(Lt,Pt,Dt);return Math.floor((Xt-ai)/Ve)===Math.floor((Mn-ai)/Ve)}function Yt(Lt,Sn,Ie,Pt){return function nn(Lt,Sn){return(Lt%Sn+Sn)%Sn}(Lt.getYear(Sn)-cn(Lt,Ie,Pt),Ve)}function cn(Lt,Sn,Ie){let Pt=0;return Ie?Pt=Lt.getYear(Ie)-Ve+1:Sn&&(Pt=Lt.getYear(Sn)),Pt}let Mt=(()=>{class Lt{get activeDate(){return this._activeDate}set activeDate(Ie){let Pt=this._activeDate;const Dt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Dt,this.minDate,this.maxDate),this._dateAdapter.getYear(Pt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Ie){this._selected=Ie instanceof J?Ie:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie)),this._setSelectedMonth(Ie)}get minDate(){return this._minDate}set minDate(Ie){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get maxDate(){return this._maxDate}set maxDate(Ie){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}constructor(Ie,Pt,Dt,Xt){this._changeDetectorRef=Ie,this._dateFormats=Pt,this._dateAdapter=Dt,this._dir=Xt,this._rerenderSubscription=d.w0.EMPTY,this.selectedChange=new _.vpe,this.monthSelected=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,F.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Ie){const Pt=Ie.value,Dt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Pt,1);this.monthSelected.emit(Dt);const Xt=this._getDateFromMonth(Pt);this.selectedChange.emit(Xt)}_updateActiveDate(Ie){const Dt=this._activeDate;this.activeDate=this._getDateFromMonth(Ie.value),this._dateAdapter.compareDate(Dt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ie){const Pt=this._activeDate,Dt=this._isRtl();switch(Ie.keyCode){case y.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Dt?1:-1);break;case y.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Dt?-1:1);break;case y.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case y.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case y.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case y.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case y.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ie.altKey?-10:-1);break;case y.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ie.altKey?10:1);break;case y.K5:case y.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Pt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ie.preventDefault()}_handleCalendarBodyKeyup(Ie){(Ie.keyCode===y.L_||Ie.keyCode===y.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Ie}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Ie=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Pt=>Pt.map(Dt=>this._createCellForMonth(Dt,Ie[Dt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Ie){return Ie&&this._dateAdapter.getYear(Ie)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Ie):null}_getDateFromMonth(Ie){const Pt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ie,1),Dt=this._dateAdapter.getNumDaysInMonth(Pt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ie,Math.min(this._dateAdapter.getDate(this.activeDate),Dt))}_createCellForMonth(Ie,Pt){const Dt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ie,1),Xt=this._dateAdapter.format(Dt,this._dateFormats.display.monthYearA11yLabel),Mn=this.dateClass?this.dateClass(Dt,"year"):void 0;return new lt(Ie,Pt.toLocaleUpperCase(),Xt,this._shouldEnableMonth(Ie),Mn)}_shouldEnableMonth(Ie){const Pt=this._dateAdapter.getYear(this.activeDate);if(null==Ie||this._isYearAndMonthAfterMaxDate(Pt,Ie)||this._isYearAndMonthBeforeMinDate(Pt,Ie))return!1;if(!this.dateFilter)return!0;for(let Xt=this._dateAdapter.createDate(Pt,Ie,1);this._dateAdapter.getMonth(Xt)==Ie;Xt=this._dateAdapter.addCalendarDays(Xt,1))if(this.dateFilter(Xt))return!0;return!1}_isYearAndMonthAfterMaxDate(Ie,Pt){if(this.maxDate){const Dt=this._dateAdapter.getYear(this.maxDate),Xt=this._dateAdapter.getMonth(this.maxDate);return Ie>Dt||Ie===Dt&&Pt>Xt}return!1}_isYearAndMonthBeforeMinDate(Ie,Pt){if(this.minDate){const Dt=this._dateAdapter.getYear(this.minDate),Xt=this._dateAdapter.getMonth(this.minDate);return Ie<Dt||Ie===Dt&&Pt<Xt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Ie){this._selectedMonth=Ie instanceof J?this._getMonthInCurrentYear(Ie.start)||this._getMonthInCurrentYear(Ie.end):this._getMonthInCurrentYear(Ie)}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.sBO),_.Y36(g.sG,8),_.Y36(g._A,8),_.Y36(k.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-year-view"]],viewQuery:function(Pt,Dt){if(1&Pt&&_.Gf(oe,5),2&Pt){let Xt;_.iGM(Xt=_.CRH())&&(Dt._matCalendarBody=Xt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Pt,Dt){1&Pt&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_._UZ(3,"th",2),_.qZA()(),_.TgZ(4,"tbody",3),_.NdJ("selectedValueChange",function(Mn){return Dt._monthSelected(Mn)})("activeDateChange",function(Mn){return Dt._updateActiveDate(Mn)})("keyup",function(Mn){return Dt._handleCalendarBodyKeyup(Mn)})("keydown",function(Mn){return Dt._handleCalendarBodyKeydown(Mn)}),_.qZA()()),2&Pt&&(_.xp6(4),_.Q6J("label",Dt._yearLabel)("rows",Dt._months)("todayValue",Dt._todayMonth)("startValue",Dt._selectedMonth)("endValue",Dt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Dt._dateAdapter.getMonth(Dt.activeDate)))},dependencies:[oe],encapsulation:2,changeDetection:0})}return Lt})(),gt=1,Qe=(()=>{class Lt{constructor(Ie,Pt,Dt,Xt,Mn){this._intl=Ie,this.calendar=Pt,this._dateAdapter=Dt,this._dateFormats=Xt,this._id="mat-calendar-header-"+gt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Mn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ve)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ve)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Ie,Pt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Ie)==this._dateAdapter.getYear(Pt)&&this._dateAdapter.getMonth(Ie)==this._dateAdapter.getMonth(Pt):"year"==this.calendar.currentView?this._dateAdapter.getYear(Ie)==this._dateAdapter.getYear(Pt):zt(this._dateAdapter,Ie,Pt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Pt=this._dateAdapter.getYear(this.calendar.activeDate)-Yt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Dt=Pt+Ve-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Pt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(Dt,0,1))]}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(Ue),_.Y36((0,_.Gpc)(()=>Fe)),_.Y36(g._A,8),_.Y36(g.sG,8),_.Y36(_.sBO))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:le,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(Pt,Dt){1&Pt&&(_.F$t(),_.TgZ(0,"div",0)(1,"div",1)(2,"button",2),_.NdJ("click",function(){return Dt.currentPeriodClicked()}),_.TgZ(3,"span",3),_._uU(4),_.qZA(),_.O4$(),_.TgZ(5,"svg",4),_._UZ(6,"polygon",5),_.qZA()(),_.kcU(),_._UZ(7,"div",6),_.Hsn(8),_.TgZ(9,"button",7),_.NdJ("click",function(){return Dt.previousClicked()}),_.qZA(),_.TgZ(10,"button",8),_.NdJ("click",function(){return Dt.nextClicked()}),_.qZA()()(),_.TgZ(11,"label",9),_._uU(12),_.qZA()),2&Pt&&(_.xp6(2),_.uIk("aria-label",Dt.periodButtonLabel)("aria-describedby",Dt._periodButtonLabelId),_.xp6(2),_.Oqu(Dt.periodButtonText),_.xp6(1),_.ekj("mat-calendar-invert","month"!==Dt.calendar.currentView),_.xp6(4),_.Q6J("disabled",!Dt.previousEnabled()),_.uIk("aria-label",Dt.prevButtonLabel),_.xp6(1),_.Q6J("disabled",!Dt.nextEnabled()),_.uIk("aria-label",Dt.nextButtonLabel),_.xp6(1),_.Q6J("id",Dt._periodButtonLabelId),_.xp6(1),_.Oqu(Dt.periodButtonDescription))},dependencies:[I.lW,I.RK],encapsulation:2,changeDetection:0})}return Lt})(),Fe=(()=>{class Lt{get startAt(){return this._startAt}set startAt(Ie){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get selected(){return this._selected}set selected(Ie){this._selected=Ie instanceof J?Ie:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get minDate(){return this._minDate}set minDate(Ie){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get maxDate(){return this._maxDate}set maxDate(Ie){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get activeDate(){return this._clampedActiveDate}set activeDate(Ie){this._clampedActiveDate=this._dateAdapter.clampDate(Ie,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Ie){const Pt=this._currentView!==Ie?Ie:null;this._currentView=Ie,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Pt&&this.viewChanged.emit(Pt)}constructor(Ie,Pt,Dt,Xt){this._dateAdapter=Pt,this._dateFormats=Dt,this._changeDetectorRef=Xt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new _.vpe,this.yearSelected=new _.vpe,this.monthSelected=new _.vpe,this.viewChanged=new _.vpe(!0),this._userSelection=new _.vpe,this._userDragDrop=new _.vpe,this._activeDrag=null,this.stateChanges=new o.x,this._intlChanges=Ie.changes.subscribe(()=>{Xt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new E.C5(this.headerComponent||Qe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Ie){const Pt=Ie.minDate&&!this._dateAdapter.sameDate(Ie.minDate.previousValue,Ie.minDate.currentValue)?Ie.minDate:void 0,Dt=Ie.maxDate&&!this._dateAdapter.sameDate(Ie.maxDate.previousValue,Ie.maxDate.currentValue)?Ie.maxDate:void 0,Xt=Pt||Dt||Ie.dateFilter;if(Xt&&!Xt.firstChange){const Mn=this._getCurrentViewComponent();Mn&&(this._changeDetectorRef.detectChanges(),Mn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Ie){const Pt=Ie.value;(this.selected instanceof J||Pt&&!this._dateAdapter.sameDate(Pt,this.selected))&&this.selectedChange.emit(Pt),this._userSelection.emit(Ie)}_yearSelectedInMultiYearView(Ie){this.yearSelected.emit(Ie)}_monthSelectedInYearView(Ie){this.monthSelected.emit(Ie)}_goToDateInView(Ie,Pt){this.activeDate=Ie,this.currentView=Pt}_dragStarted(Ie){this._activeDrag=Ie}_dragEnded(Ie){this._activeDrag&&(Ie.value&&this._userDragDrop.emit(Ie),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(Ue),_.Y36(g._A,8),_.Y36(g.sG,8),_.Y36(_.sBO))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-calendar"]],viewQuery:function(Pt,Dt){if(1&Pt&&(_.Gf(ce,5),_.Gf(Mt,5),_.Gf(Bt,5)),2&Pt){let Xt;_.iGM(Xt=_.CRH())&&(Dt.monthView=Xt.first),_.iGM(Xt=_.CRH())&&(Dt.yearView=Xt.first),_.iGM(Xt=_.CRH())&&(Dt.multiYearView=Xt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[_._Bn([Ne]),_.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(Pt,Dt){1&Pt&&(_.YNc(0,Y,0,0,"ng-template",0),_.TgZ(1,"div",1),_.YNc(2,ve,1,11,"mat-month-view",2),_.YNc(3,de,1,6,"mat-year-view",3),_.YNc(4,Se,1,6,"mat-multi-year-view",4),_.qZA()),2&Pt&&(_.Q6J("cdkPortalOutlet",Dt._calendarHeaderPortal),_.xp6(1),_.Q6J("ngSwitch",Dt.currentView),_.xp6(1),_.Q6J("ngSwitchCase","month"),_.xp6(1),_.Q6J("ngSwitchCase","year"),_.xp6(1),_.Q6J("ngSwitchCase","multi-year"))},dependencies:[A.RF,A.n9,e.kH,E.Pl,ce,Mt,Bt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Lt})();const ke={transformPanel:(0,T.X$)("transformPanel",[(0,T.eR)("void => enter-dropdown",(0,T.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,T.F4)([(0,T.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,T.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,T.eR)("void => enter-dialog",(0,T.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,T.F4)([(0,T.oB)({opacity:0,transform:"scale(0.7)"}),(0,T.oB)({transform:"none",opacity:1})]))),(0,T.eR)("* => void",(0,T.jt)("100ms linear",(0,T.oB)({opacity:0})))]),fadeInCalendar:(0,T.X$)("fadeInCalendar",[(0,T.SB)("void",(0,T.oB)({opacity:0})),(0,T.SB)("enter",(0,T.oB)({opacity:1})),(0,T.eR)("void => *",(0,T.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let it=0;const ot=new _.OlP("mat-datepicker-scroll-strategy"),mt={provide:ot,deps:[n.aV],useFactory:function ft(Lt){return()=>Lt.scrollStrategies.reposition()}},Et=(0,g.pj)(class{constructor(Lt){this._elementRef=Lt}});let Qt=(()=>{class Lt extends Et{constructor(Ie,Pt,Dt,Xt,Mn,ai){super(Ie),this._changeDetectorRef=Pt,this._globalModel=Dt,this._dateAdapter=Xt,this._rangeSelectionStrategy=Mn,this._subscriptions=new d.w0,this._animationDone=new o.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=ai.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Ie){const Pt=this._model.selection,Dt=Ie.value,Xt=Pt instanceof J;if(Xt&&this._rangeSelectionStrategy){const Mn=this._rangeSelectionStrategy.selectionFinished(Dt,Pt,Ie.event);this._model.updateSelection(Mn,this)}else Dt&&(Xt||!this._dateAdapter.sameDate(Dt,Pt))&&this._model.add(Dt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Ie){this._model.updateSelection(Ie.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Ie){this._isAnimating="start"===Ie.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Ie,Pt){this._model=Ie?this._globalModel.clone():this._globalModel,this._actionsPortal=Ie,Pt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(q),_.Y36(g._A),_.Y36(Xe,8),_.Y36(Ue))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-datepicker-content"]],viewQuery:function(Pt,Dt){if(1&Pt&&_.Gf(Fe,5),2&Pt){let Xt;_.iGM(Xt=_.CRH())&&(Dt._calendar=Xt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(Pt,Dt){1&Pt&&_.WFA("@transformPanel.start",function(Mn){return Dt._handleAnimationEvent(Mn)})("@transformPanel.done",function(Mn){return Dt._handleAnimationEvent(Mn)}),2&Pt&&(_.d8E("@transformPanel",Dt._animationState),_.ekj("mat-datepicker-content-touch",Dt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[_.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(Pt,Dt){if(1&Pt&&(_.TgZ(0,"div",0)(1,"mat-calendar",1),_.NdJ("yearSelected",function(Mn){return Dt.datepicker._selectYear(Mn)})("monthSelected",function(Mn){return Dt.datepicker._selectMonth(Mn)})("viewChanged",function(Mn){return Dt.datepicker._viewChanged(Mn)})("_userSelection",function(Mn){return Dt._handleUserSelection(Mn)})("_userDragDrop",function(Mn){return Dt._handleUserDragDrop(Mn)}),_.qZA(),_.YNc(2,xe,0,0,"ng-template",2),_.TgZ(3,"button",3),_.NdJ("focus",function(){return Dt._closeButtonFocused=!0})("blur",function(){return Dt._closeButtonFocused=!1})("click",function(){return Dt.datepicker.close()}),_._uU(4),_.qZA()()),2&Pt){let Xt;_.ekj("mat-datepicker-content-container-with-custom-header",Dt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Dt._actionsPortal),_.uIk("aria-modal",!0)("aria-labelledby",null!==(Xt=Dt._dialogLabelId)&&void 0!==Xt?Xt:void 0),_.xp6(1),_.Q6J("id",Dt.datepicker.id)("ngClass",Dt.datepicker.panelClass)("startAt",Dt.datepicker.startAt)("startView",Dt.datepicker.startView)("minDate",Dt.datepicker._getMinDate())("maxDate",Dt.datepicker._getMaxDate())("dateFilter",Dt.datepicker._getDateFilter())("headerComponent",Dt.datepicker.calendarHeaderComponent)("selected",Dt._getSelected())("dateClass",Dt.datepicker.dateClass)("comparisonStart",Dt.comparisonStart)("comparisonEnd",Dt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Dt.startDateAccessibleName)("endDateAccessibleName",Dt.endDateAccessibleName),_.xp6(1),_.Q6J("cdkPortalOutlet",Dt._actionsPortal),_.xp6(1),_.ekj("cdk-visually-hidden",!Dt._closeButtonFocused),_.Q6J("color",Dt.color||"primary"),_.xp6(1),_.Oqu(Dt._closeButtonText)}},dependencies:[A.mk,I.lW,e.mK,E.Pl,Fe],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ke.transformPanel,ke.fadeInCalendar]},changeDetection:0})}return Lt})(),fn=(()=>{class Lt{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Ie){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Ie){this._color=Ie}get touchUi(){return this._touchUi}set touchUi(Ie){this._touchUi=(0,D.Ig)(Ie)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Ie){const Pt=(0,D.Ig)(Ie);Pt!==this._disabled&&(this._disabled=Pt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Ie){this._restoreFocus=(0,D.Ig)(Ie)}get panelClass(){return this._panelClass}set panelClass(Ie){this._panelClass=(0,D.du)(Ie)}get opened(){return this._opened}set opened(Ie){(0,D.Ig)(Ie)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Ie,Pt,Dt,Xt,Mn,ai,qi){this._overlay=Ie,this._ngZone=Pt,this._viewContainerRef=Dt,this._dateAdapter=Mn,this._dir=ai,this._model=qi,this._inputStateChanges=d.w0.EMPTY,this._document=(0,_.f3M)(A.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new _.vpe,this.monthSelected=new _.vpe,this.viewChanged=new _.vpe(!0),this.openedStream=new _.vpe,this.closedStream=new _.vpe,this._opened=!1,this.id="mat-datepicker-"+it++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new o.x,this._scrollStrategy=Xt}ngOnChanges(Ie){const Pt=Ie.xPosition||Ie.yPosition;if(Pt&&!Pt.firstChange&&this._overlayRef){const Dt=this._overlayRef.getConfig().positionStrategy;Dt instanceof n._G&&(this._setConnectedPositions(Dt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Ie){this._model.add(Ie)}_selectYear(Ie){this.yearSelected.emit(Ie)}_selectMonth(Ie){this.monthSelected.emit(Ie)}_viewChanged(Ie){this.viewChanged.emit(Ie)}registerInput(Ie){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Ie,this._inputStateChanges=Ie.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Ie){this._actionsPortal=Ie,this._componentRef?.instance._assignActions(Ie,!0)}removeActions(Ie){Ie===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,P.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Ie=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Pt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Dt,location:Xt}=this._componentRef;Dt._startExitAnimation(),Dt._animationDone.pipe((0,B.q)(1)).subscribe(()=>{const Mn=this._document.activeElement;Ie&&(!Mn||Mn===this._document.activeElement||Xt.nativeElement.contains(Mn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Ie?setTimeout(Pt):Pt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Ie){Ie.datepicker=this,Ie.color=this.color,Ie._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Ie._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Ie=this.touchUi,Pt=new E.C5(Qt,this._viewContainerRef),Dt=this._overlayRef=this._overlay.create(new n.X_({positionStrategy:Ie?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Ie?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Ie?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Ie?"dialog":"popup")}));this._getCloseStream(Dt).subscribe(Xt=>{Xt&&Xt.preventDefault(),this.close()}),Dt.keydownEvents().subscribe(Xt=>{const Mn=Xt.keyCode;(Mn===y.LH||Mn===y.JH||Mn===y.oh||Mn===y.SV||Mn===y.Ku||Mn===y.VM)&&Xt.preventDefault()}),this._componentRef=Dt.attach(Pt),this._forwardContentValues(this._componentRef.instance),Ie||this._ngZone.onStable.pipe((0,B.q)(1)).subscribe(()=>Dt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Ie=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Ie)}_setConnectedPositions(Ie){const Pt="end"===this.xPosition?"end":"start",Dt="start"===Pt?"end":"start",Xt="above"===this.yPosition?"bottom":"top",Mn="top"===Xt?"bottom":"top";return Ie.withPositions([{originX:Pt,originY:Mn,overlayX:Pt,overlayY:Xt},{originX:Pt,originY:Xt,overlayX:Pt,overlayY:Mn},{originX:Dt,originY:Mn,overlayX:Dt,overlayY:Xt},{originX:Dt,originY:Xt,overlayX:Dt,overlayY:Mn}])}_getCloseStream(Ie){const Pt=["ctrlKey","shiftKey","metaKey"];return(0,u.T)(Ie.backdropClick(),Ie.detachments(),Ie.keydownEvents().pipe((0,R.h)(Dt=>Dt.keyCode===y.hY&&!(0,y.Vb)(Dt)||this.datepickerInput&&(0,y.Vb)(Dt,"altKey")&&Dt.keyCode===y.LH&&Pt.every(Xt=>!(0,y.Vb)(Dt,Xt)))))}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(n.aV),_.Y36(_.R0b),_.Y36(_.s_b),_.Y36(ot),_.Y36(g._A,8),_.Y36(k.Is,8),_.Y36(q))};static#t=this.\u0275dir=_.lG2({type:Lt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[_.TTD]})}return Lt})(),Jt=(()=>{class Lt extends fn{static#e=this.\u0275fac=function(){let Ie;return function(Dt){return(Ie||(Ie=_.n5z(Lt)))(Dt||Lt)}}();static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[_._Bn([Ne,{provide:fn,useExisting:Lt}]),_.qOj],decls:0,vars:0,template:function(Pt,Dt){},encapsulation:2,changeDetection:0})}return Lt})();class pn{constructor(Sn,Ie){this.target=Sn,this.targetElement=Ie,this.value=this.target.value}}let Tn=(()=>{class Lt{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Ie){this._assignValueProgrammatically(Ie)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Ie){const Pt=(0,D.Ig)(Ie),Dt=this._elementRef.nativeElement;this._disabled!==Pt&&(this._disabled=Pt,this.stateChanges.next(void 0)),Pt&&this._isInitialized&&Dt.blur&&Dt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Ie){this._model=Ie,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Pt=>{if(this._shouldHandleChangeEvent(Pt)){const Dt=this._getValueFromModel(Pt.selection);this._lastValueValid=this._isValidValue(Dt),this._cvaOnChange(Dt),this._onTouched(),this._formatValue(Dt),this.dateInput.emit(new pn(this,this._elementRef.nativeElement)),this.dateChange.emit(new pn(this,this._elementRef.nativeElement))}})}constructor(Ie,Pt,Dt){this._elementRef=Ie,this._dateAdapter=Pt,this._dateFormats=Dt,this.dateChange=new _.vpe,this.dateInput=new _.vpe,this.stateChanges=new o.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=d.w0.EMPTY,this._localeSubscription=d.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Xt=>{const Mn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Xt.value));return!Mn||this._matchesFilter(Mn)?null:{matDatepickerFilter:!0}},this._minValidator=Xt=>{const Mn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Xt.value)),ai=this._getMinDate();return!ai||!Mn||this._dateAdapter.compareDate(ai,Mn)<=0?null:{matDatepickerMin:{min:ai,actual:Mn}}},this._maxValidator=Xt=>{const Mn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Xt.value)),ai=this._getMaxDate();return!ai||!Mn||this._dateAdapter.compareDate(ai,Mn)>=0?null:{matDatepickerMax:{max:ai,actual:Mn}}},this._lastValueValid=!1,this._localeSubscription=Pt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Ie){(function Dn(Lt,Sn){const Ie=Object.keys(Lt);for(let Pt of Ie){const{previousValue:Dt,currentValue:Xt}=Lt[Pt];if(!Sn.isDateInstance(Dt)||!Sn.isDateInstance(Xt))return!0;if(!Sn.sameDate(Dt,Xt))return!0}return!1})(Ie,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Ie){this._validatorOnChange=Ie}validate(Ie){return this._validator?this._validator(Ie):null}writeValue(Ie){this._assignValueProgrammatically(Ie)}registerOnChange(Ie){this._cvaOnChange=Ie}registerOnTouched(Ie){this._onTouched=Ie}setDisabledState(Ie){this.disabled=Ie}_onKeydown(Ie){(0,y.Vb)(Ie,"altKey")&&Ie.keyCode===y.JH&&["ctrlKey","shiftKey","metaKey"].every(Xt=>!(0,y.Vb)(Ie,Xt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Ie.preventDefault())}_onInput(Ie){const Pt=this._lastValueValid;let Dt=this._dateAdapter.parse(Ie,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Dt),Dt=this._dateAdapter.getValidDateOrNull(Dt);const Xt=!this._dateAdapter.sameDate(Dt,this.value);!Dt||Xt?this._cvaOnChange(Dt):(Ie&&!this.value&&this._cvaOnChange(Dt),Pt!==this._lastValueValid&&this._validatorOnChange()),Xt&&(this._assignValue(Dt),this.dateInput.emit(new pn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new pn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Ie){this._elementRef.nativeElement.value=null!=Ie?this._dateAdapter.format(Ie,this._dateFormats.display.dateInput):""}_assignValue(Ie){this._model?(this._assignValueToModel(Ie),this._pendingValue=null):this._pendingValue=Ie}_isValidValue(Ie){return!Ie||this._dateAdapter.isValid(Ie)}_parentDisabled(){return!1}_assignValueProgrammatically(Ie){Ie=this._dateAdapter.deserialize(Ie),this._lastValueValid=this._isValidValue(Ie),Ie=this._dateAdapter.getValidDateOrNull(Ie),this._assignValue(Ie),this._formatValue(Ie)}_matchesFilter(Ie){const Pt=this._getDateFilter();return!Pt||Pt(Ie)}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.SBq),_.Y36(g._A,8),_.Y36(g.sG,8))};static#t=this.\u0275dir=_.lG2({type:Lt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[_.TTD]})}return Lt})();const Fn={provide:C.JU,useExisting:(0,_.Gpc)(()=>dn),multi:!0},Kn={provide:C.Cf,useExisting:(0,_.Gpc)(()=>dn),multi:!0};let dn=(()=>{class Lt extends Tn{set matDatepicker(Ie){Ie&&(this._datepicker=Ie,this._closedSubscription=Ie.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Ie.registerInput(this)))}get min(){return this._min}set min(Ie){const Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie));this._dateAdapter.sameDate(Pt,this._min)||(this._min=Pt,this._validatorOnChange())}get max(){return this._max}set max(Ie){const Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ie));this._dateAdapter.sameDate(Pt,this._max)||(this._max=Pt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Ie){const Pt=this._matchesFilter(this.value);this._dateFilter=Ie,this._matchesFilter(this.value)!==Pt&&this._validatorOnChange()}constructor(Ie,Pt,Dt,Xt){super(Ie,Pt,Dt),this._formField=Xt,this._closedSubscription=d.w0.EMPTY,this._validator=C.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Ie){return Ie}_assignValueToModel(Ie){this._model&&this._model.updateSelection(Ie,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Ie){return Ie.source!==this}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(_.SBq),_.Y36(g._A,8),_.Y36(g.sG,8),_.Y36(O.G_,8))};static#t=this.\u0275dir=_.lG2({type:Lt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Pt,Dt){1&Pt&&_.NdJ("input",function(Mn){return Dt._onInput(Mn.target.value)})("change",function(){return Dt._onChange()})("blur",function(){return Dt._onBlur()})("keydown",function(Mn){return Dt._onKeydown(Mn)}),2&Pt&&(_.Ikx("disabled",Dt.disabled),_.uIk("aria-haspopup",Dt._datepicker?"dialog":null)("aria-owns",(null==Dt._datepicker?null:Dt._datepicker.opened)&&Dt._datepicker.id||null)("min",Dt.min?Dt._dateAdapter.toIso8601(Dt.min):null)("max",Dt.max?Dt._dateAdapter.toIso8601(Dt.max):null)("data-mat-calendar",Dt._datepicker?Dt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[_._Bn([Fn,Kn,{provide:M.Jk,useExisting:Lt}]),_.qOj]})}return Lt})(),an=(()=>{class Lt{static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)};static#t=this.\u0275dir=_.lG2({type:Lt,selectors:[["","matDatepickerToggleIcon",""]]})}return Lt})(),un=(()=>{class Lt{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Ie){this._disabled=(0,D.Ig)(Ie)}constructor(Ie,Pt,Dt){this._intl=Ie,this._changeDetectorRef=Pt,this._stateChanges=d.w0.EMPTY;const Xt=Number(Dt);this.tabIndex=Xt||0===Xt?Xt:null}ngOnChanges(Ie){Ie.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Ie){this.datepicker&&!this.disabled&&(this.datepicker.open(),Ie.stopPropagation())}_watchStateChanges(){const Ie=this.datepicker?this.datepicker.stateChanges:(0,m.of)(),Pt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,m.of)(),Dt=this.datepicker?(0,u.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,m.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,u.T)(this._intl.changes,Ie,Pt,Dt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)(_.Y36(Ue),_.Y36(_.sBO),_.$8M("tabindex"))};static#t=this.\u0275cmp=_.Xpm({type:Lt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Pt,Dt,Xt){if(1&Pt&&_.Suo(Xt,an,5),2&Pt){let Mn;_.iGM(Mn=_.CRH())&&(Dt._customIcon=Mn.first)}},viewQuery:function(Pt,Dt){if(1&Pt&&_.Gf(Ge,5),2&Pt){let Xt;_.iGM(Xt=_.CRH())&&(Dt._button=Xt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Pt,Dt){1&Pt&&_.NdJ("click",function(Mn){return Dt._open(Mn)}),2&Pt&&(_.uIk("tabindex",null)("data-mat-calendar",Dt.datepicker?Dt.datepicker.id:null),_.ekj("mat-datepicker-toggle-active",Dt.datepicker&&Dt.datepicker.opened)("mat-accent",Dt.datepicker&&"accent"===Dt.datepicker.color)("mat-warn",Dt.datepicker&&"warn"===Dt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[_.TTD],ngContentSelectors:Le,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Pt,Dt){1&Pt&&(_.F$t(Ce),_.TgZ(0,"button",0,1),_.YNc(2,ge,2,0,"svg",2),_.Hsn(3),_.qZA()),2&Pt&&(_.Q6J("disabled",Dt.disabled)("disableRipple",Dt.disableRipple),_.uIk("aria-haspopup",Dt.datepicker?"dialog":null)("aria-label",Dt.ariaLabel||Dt._intl.openCalendarLabel)("tabindex",Dt.disabled?-1:Dt.tabIndex),_.xp6(2),_.Q6J("ngIf",!Dt._customIcon))},dependencies:[A.O5,I.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Lt})(),Hn=(()=>{class Lt{static#e=this.\u0275fac=function(Pt){return new(Pt||Lt)};static#t=this.\u0275mod=_.oAB({type:Lt});static#n=this.\u0275inj=_.cJS({providers:[Ue,mt],imports:[A.ez,I.ot,n.U8,e.rt,E.eL,g.BQ,w.ZD]})}return Lt})()},7700:(Bn,et,v)=>{"use strict";v.d(et,{WI:()=>He,uw:()=>X,H8:()=>me,vA:()=>Se,xY:()=>q,Is:()=>ye,so:()=>Ue,uh:()=>J});var e=v(3651),n=v(6814),E=v(5879),A=v(4300),_=v(2831),I=v(8484),w=v(6028),g=v(8645),o=v(4911),d=v(2096),u=v(9388),m=v(7921);function y(qe,Xe){}class k{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let B=(()=>{class qe extends I.en{constructor(ut,ze,ht,vt,ce,Ve,yt,Bt){super(),this._elementRef=ut,this._focusTrapFactory=ze,this._config=vt,this._interactivityChecker=ce,this._ngZone=Ve,this._overlayRef=yt,this._focusMonitor=Bt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=zt=>{this._portalOutlet.hasAttached();const Yt=this._portalOutlet.attachDomPortal(zt);return this._contentAttached(),Yt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=ht}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ut){this._portalOutlet.hasAttached();const ze=this._portalOutlet.attachComponentPortal(ut);return this._contentAttached(),ze}attachTemplatePortal(ut){this._portalOutlet.hasAttached();const ze=this._portalOutlet.attachTemplatePortal(ut);return this._contentAttached(),ze}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ut,ze){this._interactivityChecker.isFocusable(ut)||(ut.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ht=()=>{ut.removeEventListener("blur",ht),ut.removeEventListener("mousedown",ht),ut.removeAttribute("tabindex")};ut.addEventListener("blur",ht),ut.addEventListener("mousedown",ht)})),ut.focus(ze)}_focusByCssSelector(ut,ze){let ht=this._elementRef.nativeElement.querySelector(ut);ht&&this._forceFocus(ht,ze)}_trapFocus(){const ut=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ut.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(ze=>{ze||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ut=this._config.restoreFocus;let ze=null;if("string"==typeof ut?ze=this._document.querySelector(ut):"boolean"==typeof ut?ze=ut?this._elementFocusedBeforeDialogWasOpened:null:ut&&(ze=ut),this._config.restoreFocus&&ze&&"function"==typeof ze.focus){const ht=(0,_.ht)(),vt=this._elementRef.nativeElement;(!ht||ht===this._document.body||ht===vt||vt.contains(ht))&&(this._focusMonitor?(this._focusMonitor.focusVia(ze,this._closeInteractionType),this._closeInteractionType=null):ze.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ut=this._elementRef.nativeElement,ze=(0,_.ht)();return ut===ze||ut.contains(ze)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,_.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ze){return new(ze||qe)(E.Y36(E.SBq),E.Y36(A.qV),E.Y36(n.K0,8),E.Y36(k),E.Y36(A.ic),E.Y36(E.R0b),E.Y36(e.Iu),E.Y36(A.tE))};static#t=this.\u0275cmp=E.Xpm({type:qe,selectors:[["cdk-dialog-container"]],viewQuery:function(ze,ht){if(1&ze&&E.Gf(I.Pl,7),2&ze){let vt;E.iGM(vt=E.CRH())&&(ht._portalOutlet=vt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ze,ht){2&ze&&E.uIk("id",ht._config.id||null)("role",ht._config.role)("aria-modal",ht._config.ariaModal)("aria-labelledby",ht._config.ariaLabel?null:ht._ariaLabelledBy)("aria-label",ht._config.ariaLabel)("aria-describedby",ht._config.ariaDescribedBy||null)},features:[E.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ze,ht){1&ze&&E.YNc(0,y,0,0,"ng-template",0)},dependencies:[I.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return qe})();class F{constructor(Xe,ut){this.overlayRef=Xe,this.config=ut,this.closed=new g.x,this.disableClose=ut.disableClose,this.backdropClick=Xe.backdropClick(),this.keydownEvents=Xe.keydownEvents(),this.outsidePointerEvents=Xe.outsidePointerEvents(),this.id=ut.id,this.keydownEvents.subscribe(ze=>{ze.keyCode===w.hY&&!this.disableClose&&!(0,w.Vb)(ze)&&(ze.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Xe.detachments().subscribe(()=>{!1!==ut.closeOnOverlayDetachments&&this.close()})}close(Xe,ut){if(this.containerInstance){const ze=this.closed;this.containerInstance._closeInteractionType=ut?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ze.next(Xe),ze.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Xe="",ut=""){return this.overlayRef.updateSize({width:Xe,height:ut}),this}addPanelClass(Xe){return this.overlayRef.addPanelClass(Xe),this}removePanelClass(Xe){return this.overlayRef.removePanelClass(Xe),this}}const R=new E.OlP("DialogScrollStrategy"),D=new E.OlP("DialogData"),T=new E.OlP("DefaultDialogConfig"),O={provide:R,deps:[e.aV],useFactory:function C(qe){return()=>qe.scrollStrategies.block()}};let M=0,G=(()=>{class qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ut,ze,ht,vt,ce,Ve){this._overlay=ut,this._injector=ze,this._defaultOptions=ht,this._parentDialog=vt,this._overlayContainer=ce,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new g.x,this._afterOpenedAtThisLevel=new g.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,o.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,m.O)(void 0))),this._scrollStrategy=Ve}open(ut,ze){(ze={...this._defaultOptions||new k,...ze}).id=ze.id||"cdk-dialog-"+M++,ze.id&&this.getDialogById(ze.id);const vt=this._getOverlayConfig(ze),ce=this._overlay.create(vt),Ve=new F(ce,ze),yt=this._attachContainer(ce,Ve,ze);return Ve.containerInstance=yt,this._attachDialogContent(ut,Ve,yt,ze),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ve),Ve.closed.subscribe(()=>this._removeOpenDialog(Ve,!0)),this.afterOpened.next(Ve),Ve}closeAll(){Z(this.openDialogs,ut=>ut.close())}getDialogById(ut){return this.openDialogs.find(ze=>ze.id===ut)}ngOnDestroy(){Z(this._openDialogsAtThisLevel,ut=>{!1===ut.config.closeOnDestroy&&this._removeOpenDialog(ut,!1)}),Z(this._openDialogsAtThisLevel,ut=>ut.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ut){const ze=new e.X_({positionStrategy:ut.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ut.scrollStrategy||this._scrollStrategy(),panelClass:ut.panelClass,hasBackdrop:ut.hasBackdrop,direction:ut.direction,minWidth:ut.minWidth,minHeight:ut.minHeight,maxWidth:ut.maxWidth,maxHeight:ut.maxHeight,width:ut.width,height:ut.height,disposeOnNavigation:ut.closeOnNavigation});return ut.backdropClass&&(ze.backdropClass=ut.backdropClass),ze}_attachContainer(ut,ze,ht){const vt=ht.injector||ht.viewContainerRef?.injector,ce=[{provide:k,useValue:ht},{provide:F,useValue:ze},{provide:e.Iu,useValue:ut}];let Ve;ht.container?"function"==typeof ht.container?Ve=ht.container:(Ve=ht.container.type,ce.push(...ht.container.providers(ht))):Ve=B;const yt=new I.C5(Ve,ht.viewContainerRef,E.zs3.create({parent:vt||this._injector,providers:ce}),ht.componentFactoryResolver);return ut.attach(yt).instance}_attachDialogContent(ut,ze,ht,vt){if(ut instanceof E.Rgc){const ce=this._createInjector(vt,ze,ht,void 0);let Ve={$implicit:vt.data,dialogRef:ze};vt.templateContext&&(Ve={...Ve,..."function"==typeof vt.templateContext?vt.templateContext():vt.templateContext}),ht.attachTemplatePortal(new I.UE(ut,null,Ve,ce))}else{const ce=this._createInjector(vt,ze,ht,this._injector),Ve=ht.attachComponentPortal(new I.C5(ut,vt.viewContainerRef,ce,vt.componentFactoryResolver));ze.componentInstance=Ve.instance}}_createInjector(ut,ze,ht,vt){const ce=ut.injector||ut.viewContainerRef?.injector,Ve=[{provide:D,useValue:ut.data},{provide:F,useValue:ze}];return ut.providers&&("function"==typeof ut.providers?Ve.push(...ut.providers(ze,ut,ht)):Ve.push(...ut.providers)),ut.direction&&(!ce||!ce.get(u.Is,null,{optional:!0}))&&Ve.push({provide:u.Is,useValue:{value:ut.direction,change:(0,d.of)()}}),E.zs3.create({parent:ce||vt,providers:Ve})}_removeOpenDialog(ut,ze){const ht=this.openDialogs.indexOf(ut);ht>-1&&(this.openDialogs.splice(ht,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((vt,ce)=>{vt?ce.setAttribute("aria-hidden",vt):ce.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ze&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ut=this._overlayContainer.getContainerElement();if(ut.parentElement){const ze=ut.parentElement.children;for(let ht=ze.length-1;ht>-1;ht--){const vt=ze[ht];vt!==ut&&"SCRIPT"!==vt.nodeName&&"STYLE"!==vt.nodeName&&!vt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(vt,vt.getAttribute("aria-hidden")),vt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ut=this._parentDialog;return ut?ut._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ze){return new(ze||qe)(E.LFG(e.aV),E.LFG(E.zs3),E.LFG(T,8),E.LFG(qe,12),E.LFG(e.Xj),E.LFG(R))};static#t=this.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac})}return qe})();function Z(qe,Xe){let ut=qe.length;for(;ut--;)Xe(qe[ut])}let ee=(()=>{class qe{static#e=this.\u0275fac=function(ze){return new(ze||qe)};static#t=this.\u0275mod=E.oAB({type:qe});static#n=this.\u0275inj=E.cJS({providers:[G,O],imports:[e.U8,I.eL,A.rt,I.eL]})}return qe})();var ae=v(2495),Ae=v(3019),j=v(2181),le=v(8180),Y=v(3680);function de(qe,Xe){}v(6825);class Se{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const xe="mdc-dialog--open",Ge="mdc-dialog--opening",ge="mdc-dialog--closing";let fe=(()=>{class qe extends B{constructor(ut,ze,ht,vt,ce,Ve,yt,Bt){super(ut,ze,ht,vt,ce,Ve,yt,Bt),this._animationStateChanged=new E.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ut){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ut})}static#e=this.\u0275fac=function(ze){return new(ze||qe)(E.Y36(E.SBq),E.Y36(A.qV),E.Y36(n.K0,8),E.Y36(Se),E.Y36(A.ic),E.Y36(E.R0b),E.Y36(e.Iu),E.Y36(A.tE))};static#t=this.\u0275cmp=E.Xpm({type:qe,selectors:[["ng-component"]],features:[E.qOj],decls:0,vars:0,template:function(ze,ht){},encapsulation:2})}return qe})();const we="--mat-dialog-transition-duration";function Te(qe){return null==qe?null:"number"==typeof qe?qe:qe.endsWith("ms")?(0,ae.su)(qe.substring(0,qe.length-2)):qe.endsWith("s")?1e3*(0,ae.su)(qe.substring(0,qe.length-1)):"0"===qe?0:null}let De=(()=>{class qe extends fe{constructor(ut,ze,ht,vt,ce,Ve,yt,Bt,zt){super(ut,ze,ht,vt,ce,Ve,yt,zt),this._animationMode=Bt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Te(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Te(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ge,xe)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(xe),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(xe),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ge)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ge,ge)}_waitForAnimationToComplete(ut,ze){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ze,ut)}_requestAnimationFrame(ut){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ut):ut()})}static#e=this.\u0275fac=function(ze){return new(ze||qe)(E.Y36(E.SBq),E.Y36(A.qV),E.Y36(n.K0,8),E.Y36(Se),E.Y36(A.ic),E.Y36(E.R0b),E.Y36(e.Iu),E.Y36(E.QbO,8),E.Y36(A.tE))};static#t=this.\u0275cmp=E.Xpm({type:qe,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(ze,ht){2&ze&&(E.Ikx("id",ht._config.id),E.uIk("aria-modal",ht._config.ariaModal)("role",ht._config.role)("aria-labelledby",ht._config.ariaLabel?null:ht._ariaLabelledBy)("aria-label",ht._config.ariaLabel)("aria-describedby",ht._config.ariaDescribedBy||null),E.ekj("_mat-animation-noopable",!ht._animationsEnabled))},features:[E.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ze,ht){1&ze&&(E.TgZ(0,"div",0)(1,"div",1),E.YNc(2,de,0,0,"ng-template",2),E.qZA()())},dependencies:[I.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return qe})();class Ue{constructor(Xe,ut,ze){this._ref=Xe,this._containerInstance=ze,this._afterOpened=new g.x,this._beforeClosed=new g.x,this._state=0,this.disableClose=ut.disableClose,this.id=Xe.id,ze._animationStateChanged.pipe((0,j.h)(ht=>"opened"===ht.state),(0,le.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ze._animationStateChanged.pipe((0,j.h)(ht=>"closed"===ht.state),(0,le.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Xe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ae.T)(this.backdropClick(),this.keydownEvents().pipe((0,j.h)(ht=>ht.keyCode===w.hY&&!this.disableClose&&!(0,w.Vb)(ht)))).subscribe(ht=>{this.disableClose||(ht.preventDefault(),function lt(qe,Xe,ut){qe._closeInteractionType=Xe,qe.close(ut)}(this,"keydown"===ht.type?"keyboard":"mouse"))})}close(Xe){this._result=Xe,this._containerInstance._animationStateChanged.pipe((0,j.h)(ut=>"closing"===ut.state),(0,le.q)(1)).subscribe(ut=>{this._beforeClosed.next(Xe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ut.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Xe){let ut=this._ref.config.positionStrategy;return Xe&&(Xe.left||Xe.right)?Xe.left?ut.left(Xe.left):ut.right(Xe.right):ut.centerHorizontally(),Xe&&(Xe.top||Xe.bottom)?Xe.top?ut.top(Xe.top):ut.bottom(Xe.bottom):ut.centerVertically(),this._ref.updatePosition(),this}updateSize(Xe="",ut=""){return this._ref.updateSize(Xe,ut),this}addPanelClass(Xe){return this._ref.addPanelClass(Xe),this}removePanelClass(Xe){return this._ref.removePanelClass(Xe),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const He=new E.OlP("MatMdcDialogData"),be=new E.OlP("mat-mdc-dialog-default-options"),_e=new E.OlP("mat-mdc-dialog-scroll-strategy"),oe={provide:_e,deps:[e.aV],useFactory:function K(qe){return()=>qe.scrollStrategies.block()}};let re=0,Q=(()=>{class qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ut=this._parentDialog;return ut?ut._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ut,ze,ht,vt,ce,Ve,yt,Bt,zt,Yt){this._overlay=ut,this._defaultOptions=ht,this._parentDialog=vt,this._dialogRefConstructor=yt,this._dialogContainerType=Bt,this._dialogDataToken=zt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new g.x,this._afterOpenedAtThisLevel=new g.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Se,this.afterAllClosed=(0,o.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,m.O)(void 0))),this._scrollStrategy=Ve,this._dialog=ze.get(G)}open(ut,ze){let ht;(ze={...this._defaultOptions||new Se,...ze}).id=ze.id||`${this._idPrefix}${re++}`,ze.scrollStrategy=ze.scrollStrategy||this._scrollStrategy();const vt=this._dialog.open(ut,{...ze,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ze},{provide:k,useValue:ze}]},templateContext:()=>({dialogRef:ht}),providers:(ce,Ve,yt)=>(ht=new this._dialogRefConstructor(ce,ze,yt),ht.updatePosition(ze?.position),[{provide:this._dialogContainerType,useValue:yt},{provide:this._dialogDataToken,useValue:Ve.data},{provide:this._dialogRefConstructor,useValue:ht}])});return ht.componentInstance=vt.componentInstance,this.openDialogs.push(ht),this.afterOpened.next(ht),ht.afterClosed().subscribe(()=>{const ce=this.openDialogs.indexOf(ht);ce>-1&&(this.openDialogs.splice(ce,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ht}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ut){return this.openDialogs.find(ze=>ze.id===ut)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ut){let ze=ut.length;for(;ze--;)ut[ze].close()}static#e=this.\u0275fac=function(ze){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac})}return qe})(),X=(()=>{class qe extends Q{constructor(ut,ze,ht,vt,ce,Ve,yt,Bt){super(ut,ze,vt,Ve,yt,ce,Ue,De,He,Bt),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(ze){return new(ze||qe)(E.LFG(e.aV),E.LFG(E.zs3),E.LFG(n.Ye,8),E.LFG(be,8),E.LFG(_e),E.LFG(qe,12),E.LFG(e.Xj),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:qe,factory:qe.\u0275fac})}return qe})(),$=0,J=(()=>{class qe{constructor(ut,ze,ht){this._dialogRef=ut,this._elementRef=ze,this._dialog=ht,this.id="mat-mdc-dialog-title-"+$++}ngOnInit(){this._dialogRef||(this._dialogRef=function Ee(qe,Xe){let ut=qe.nativeElement.parentElement;for(;ut&&!ut.classList.contains("mat-mdc-dialog-container");)ut=ut.parentElement;return ut?Xe.find(ze=>ze.id===ut.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ut=this._dialogRef._containerInstance;ut&&!ut._ariaLabelledBy&&(ut._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(ze){return new(ze||qe)(E.Y36(Ue,8),E.Y36(E.SBq),E.Y36(X))};static#t=this.\u0275dir=E.lG2({type:qe,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ze,ht){2&ze&&E.Ikx("id",ht.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return qe})(),q=(()=>{class qe{static#e=this.\u0275fac=function(ze){return new(ze||qe)};static#t=this.\u0275dir=E.lG2({type:qe,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return qe})(),me=(()=>{class qe{constructor(){this.align="start"}static#e=this.\u0275fac=function(ze){return new(ze||qe)};static#t=this.\u0275dir=E.lG2({type:qe,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(ze,ht){2&ze&&E.ekj("mat-mdc-dialog-actions-align-center","center"===ht.align)("mat-mdc-dialog-actions-align-end","end"===ht.align)},inputs:{align:"align"}})}return qe})(),ye=(()=>{class qe{static#e=this.\u0275fac=function(ze){return new(ze||qe)};static#t=this.\u0275mod=E.oAB({type:qe});static#n=this.\u0275inj=E.cJS({providers:[X,oe],imports:[ee,e.U8,I.eL,Y.BQ,Y.BQ]})}return qe})()},4170:(Bn,et,v)=>{"use strict";v.d(et,{G_:()=>ut,TO:()=>be,KE:()=>Bt,Eo:()=>Ne,lN:()=>zt,bx:()=>K,hX:()=>Ue,R9:()=>Q});var e=v(5879),n=v(9388),E=v(2831),A=v(7394),_=v(8645),I=v(3019),w=v(9773),g=v(5592),o=v(2181),d=v(940);class m{constructor(cn){this._box=cn,this._destroyed=new _.x,this._resizeSubject=new _.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(nn=>this._resizeSubject.next(nn)))}observe(cn){return this._elementObservables.has(cn)||this._elementObservables.set(cn,new g.y(nn=>{const Mt=this._resizeSubject.subscribe(nn);return this._resizeObserver?.observe(cn,{box:this._box}),()=>{this._resizeObserver?.unobserve(cn),Mt.unsubscribe(),this._elementObservables.delete(cn)}}).pipe((0,o.h)(nn=>nn.some(Mt=>Mt.target===cn)),(0,d.d)({bufferSize:1,refCount:!0}),(0,w.R)(this._destroyed))),this._elementObservables.get(cn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let y=(()=>{class Yt{constructor(){this._observers=new Map,this._ngZone=(0,e.f3M)(e.R0b)}ngOnDestroy(){for(const[,nn]of this._observers)nn.destroy();this._observers.clear()}observe(nn,Mt){const gt=Mt?.box||"content-box";return this._observers.has(gt)||this._observers.set(gt,new m(gt)),this._observers.get(gt).observe(nn)}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)};static#t=this.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}return Yt})();var k=v(2495),P=v(6825),B=v(6814),F=v(7131),R=v(3680);const D=["notch"],T=["matFormFieldNotchedOutline",""],C=["*"],O=["textField"],M=["iconPrefixContainer"],G=["textPrefixContainer"];function Z(Yt,cn){1&Yt&&e._UZ(0,"span",19)}function ee(Yt,cn){if(1&Yt&&(e.TgZ(0,"label",17),e.Hsn(1,1),e.YNc(2,Z,1,0,"span",18),e.qZA()),2&Yt){const nn=e.oxw(2);e.Q6J("floating",nn._shouldLabelFloat())("monitorResize",nn._hasOutline())("id",nn._labelId),e.uIk("for",nn._control.id),e.xp6(2),e.Q6J("ngIf",!nn.hideRequiredMarker&&nn._control.required)}}function ae(Yt,cn){if(1&Yt&&e.YNc(0,ee,3,5,"label",16),2&Yt){const nn=e.oxw();e.Q6J("ngIf",nn._hasFloatingLabel())}}function Ae(Yt,cn){1&Yt&&e._UZ(0,"div",20)}function j(Yt,cn){}function le(Yt,cn){if(1&Yt&&e.YNc(0,j,0,0,"ng-template",22),2&Yt){e.oxw(2);const nn=e.MAs(1);e.Q6J("ngTemplateOutlet",nn)}}function Y(Yt,cn){if(1&Yt&&(e.TgZ(0,"div",21),e.YNc(1,le,1,1,"ng-template",9),e.qZA()),2&Yt){const nn=e.oxw();e.Q6J("matFormFieldNotchedOutlineOpen",nn._shouldLabelFloat()),e.xp6(1),e.Q6J("ngIf",!nn._forceDisplayInfixLabel())}}function ve(Yt,cn){1&Yt&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.qZA())}function de(Yt,cn){1&Yt&&(e.TgZ(0,"div",25,26),e.Hsn(2,3),e.qZA())}function Se(Yt,cn){}function xe(Yt,cn){if(1&Yt&&e.YNc(0,Se,0,0,"ng-template",22),2&Yt){e.oxw();const nn=e.MAs(1);e.Q6J("ngTemplateOutlet",nn)}}function Ge(Yt,cn){1&Yt&&(e.TgZ(0,"div",27),e.Hsn(1,4),e.qZA())}function ge(Yt,cn){1&Yt&&(e.TgZ(0,"div",28),e.Hsn(1,5),e.qZA())}function Ce(Yt,cn){1&Yt&&e._UZ(0,"div",29)}function Le(Yt,cn){if(1&Yt&&(e.TgZ(0,"div",30),e.Hsn(1,6),e.qZA()),2&Yt){const nn=e.oxw();e.Q6J("@transitionMessages",nn._subscriptAnimationState)}}function fe(Yt,cn){if(1&Yt&&(e.TgZ(0,"mat-hint",34),e._uU(1),e.qZA()),2&Yt){const nn=e.oxw(2);e.Q6J("id",nn._hintLabelId),e.xp6(1),e.Oqu(nn.hintLabel)}}function we(Yt,cn){if(1&Yt&&(e.TgZ(0,"div",31),e.YNc(1,fe,2,2,"mat-hint",32),e.Hsn(2,7),e._UZ(3,"div",33),e.Hsn(4,8),e.qZA()),2&Yt){const nn=e.oxw();e.Q6J("@transitionMessages",nn._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",nn.hintLabel)}}const Te=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],De=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ue=(()=>{class Yt{static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)};static#t=this.\u0275dir=e.lG2({type:Yt,selectors:[["mat-label"]]})}return Yt})(),lt=0;const He=new e.OlP("MatError");let be=(()=>{class Yt{constructor(nn,Mt){this.id="mat-mdc-error-"+lt++,nn||Mt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)(e.$8M("aria-live"),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Yt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Mt,gt){2&Mt&&e.Ikx("id",gt.id)},inputs:{id:"id"},features:[e._Bn([{provide:He,useExisting:Yt}])]})}return Yt})(),_e=0,K=(()=>{class Yt{constructor(){this.align="start",this.id="mat-mdc-hint-"+_e++}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)};static#t=this.\u0275dir=e.lG2({type:Yt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Mt,gt){2&Mt&&(e.Ikx("id",gt.id),e.uIk("align",null),e.ekj("mat-mdc-form-field-hint-end","end"===gt.align))},inputs:{align:"align",id:"id"}})}return Yt})();const oe=new e.OlP("MatPrefix"),re=new e.OlP("MatSuffix");let Q=(()=>{class Yt{constructor(){this._isText=!1}set _isTextSelector(nn){this._isText=!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)};static#t=this.\u0275dir=e.lG2({type:Yt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[e._Bn([{provide:re,useExisting:Yt}])]})}return Yt})();const X=new e.OlP("FloatingLabelParent");let $=(()=>{class Yt{get floating(){return this._floating}set floating(nn){this._floating=nn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(nn){this._monitorResize=nn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(nn){this._elementRef=nn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.f3M)(y),this._ngZone=(0,e.f3M)(e.R0b),this._parent=(0,e.f3M)(X),this._resizeSubscription=new A.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ne(Yt){if(null!==Yt.offsetParent)return Yt.scrollWidth;const nn=Yt.cloneNode(!0);nn.style.setProperty("position","absolute"),nn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(nn);const Mt=nn.scrollWidth;return nn.remove(),Mt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Yt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Mt,gt){2&Mt&&e.ekj("mdc-floating-label--float-above",gt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Yt})();const J="mdc-line-ripple--active",q="mdc-line-ripple--deactivating";let me=(()=>{class Yt{constructor(nn,Mt){this._elementRef=nn,this._handleTransitionEnd=gt=>{const Qe=this._elementRef.nativeElement.classList,Fe=Qe.contains(q);"opacity"===gt.propertyName&&Fe&&Qe.remove(J,q)},Mt.runOutsideAngular(()=>{nn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const nn=this._elementRef.nativeElement.classList;nn.remove(q),nn.add(J)}deactivate(){this._elementRef.nativeElement.classList.add(q)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:Yt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Yt})(),Ee=(()=>{class Yt{constructor(nn,Mt){this._elementRef=nn,this._ngZone=Mt,this.open=!1}ngAfterViewInit(){const nn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");nn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(nn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>nn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(nn){this._notch.nativeElement.style.width=this.open&&nn?`calc(${nn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Yt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Mt,gt){if(1&Mt&&e.Gf(D,5),2&Mt){let Qe;e.iGM(Qe=e.CRH())&&(gt._notch=Qe.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Mt,gt){2&Mt&&e.ekj("mdc-notched-outline--notched",gt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:T,ngContentSelectors:C,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(Mt,gt){1&Mt&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1,2),e.Hsn(3),e.qZA(),e._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Yt})();const ye={transitionMessages:(0,P.X$)("transitionMessages",[(0,P.SB)("enter",(0,P.oB)({opacity:1,transform:"translateY(0%)"})),(0,P.eR)("void => enter",[(0,P.oB)({opacity:0,transform:"translateY(-5px)"}),(0,P.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ne=(()=>{class Yt{static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)};static#t=this.\u0275dir=e.lG2({type:Yt})}return Yt})();const ut=new e.OlP("MatFormField"),ze=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ht=0,Bt=(()=>{class Yt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(nn){this._hideRequiredMarker=(0,k.Ig)(nn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(nn){nn!==this._floatLabel&&(this._floatLabel=nn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(nn){const Mt=this._appearance;this._appearance=nn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Mt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(nn){this._subscriptSizing=nn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(nn){this._hintLabel=nn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(nn){this._explicitFormFieldControl=nn}constructor(nn,Mt,gt,Qe,Fe,ke,it,ot){this._elementRef=nn,this._changeDetectorRef=Mt,this._ngZone=gt,this._dir=Qe,this._platform=Fe,this._defaults=ke,this._animationMode=it,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ht++,this._hintLabelId="mat-mdc-hint-"+ht++,this._subscriptAnimationState="",this._destroyed=new _.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,ke&&(ke.appearance&&(this.appearance=ke.appearance),this._hideRequiredMarker=!!ke?.hideRequiredMarker,ke.color&&(this.color=ke.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const nn=this._control;nn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${nn.controlType}`),nn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),nn.ngControl&&nn.ngControl.valueChanges&&nn.ngControl.valueChanges.pipe((0,w.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(nn=>!nn._isText),this._hasTextPrefix=!!this._prefixChildren.find(nn=>nn._isText),this._hasIconSuffix=!!this._suffixChildren.find(nn=>!nn._isText),this._hasTextSuffix=!!this._suffixChildren.find(nn=>nn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,I.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,w.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,w.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(nn){const Mt=this._control?this._control.ngControl:null;return Mt&&Mt[nn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let nn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&nn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Mt=this._hintChildren?this._hintChildren.find(Qe=>"start"===Qe.align):null,gt=this._hintChildren?this._hintChildren.find(Qe=>"end"===Qe.align):null;Mt?nn.push(Mt.id):this._hintLabel&&nn.push(this._hintLabelId),gt&&nn.push(gt.id)}else this._errorChildren&&nn.push(...this._errorChildren.map(Mt=>Mt.id));this._control.setDescribedByIds(nn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const nn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(nn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Mt=this._iconPrefixContainer?.nativeElement,gt=this._textPrefixContainer?.nativeElement,Qe=Mt?.getBoundingClientRect().width??0,Fe=gt?.getBoundingClientRect().width??0;nn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Qe+Fe}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const nn=this._elementRef.nativeElement;if(nn.getRootNode){const Mt=nn.getRootNode();return Mt&&Mt!==nn}return document.documentElement.contains(nn)}static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(n.Is),e.Y36(E.t4),e.Y36(ze,8),e.Y36(e.QbO,8),e.Y36(B.K0))};static#t=this.\u0275cmp=e.Xpm({type:Yt,selectors:[["mat-form-field"]],contentQueries:function(Mt,gt,Qe){if(1&Mt&&(e.Suo(Qe,Ue,5),e.Suo(Qe,Ue,7),e.Suo(Qe,Ne,5),e.Suo(Qe,oe,5),e.Suo(Qe,re,5),e.Suo(Qe,He,5),e.Suo(Qe,K,5)),2&Mt){let Fe;e.iGM(Fe=e.CRH())&&(gt._labelChildNonStatic=Fe.first),e.iGM(Fe=e.CRH())&&(gt._labelChildStatic=Fe.first),e.iGM(Fe=e.CRH())&&(gt._formFieldControl=Fe.first),e.iGM(Fe=e.CRH())&&(gt._prefixChildren=Fe),e.iGM(Fe=e.CRH())&&(gt._suffixChildren=Fe),e.iGM(Fe=e.CRH())&&(gt._errorChildren=Fe),e.iGM(Fe=e.CRH())&&(gt._hintChildren=Fe)}},viewQuery:function(Mt,gt){if(1&Mt&&(e.Gf(O,5),e.Gf(M,5),e.Gf(G,5),e.Gf($,5),e.Gf(Ee,5),e.Gf(me,5)),2&Mt){let Qe;e.iGM(Qe=e.CRH())&&(gt._textField=Qe.first),e.iGM(Qe=e.CRH())&&(gt._iconPrefixContainer=Qe.first),e.iGM(Qe=e.CRH())&&(gt._textPrefixContainer=Qe.first),e.iGM(Qe=e.CRH())&&(gt._floatingLabel=Qe.first),e.iGM(Qe=e.CRH())&&(gt._notchedOutline=Qe.first),e.iGM(Qe=e.CRH())&&(gt._lineRipple=Qe.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Mt,gt){2&Mt&&e.ekj("mat-mdc-form-field-label-always-float",gt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",gt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",gt._hasIconSuffix)("mat-form-field-invalid",gt._control.errorState)("mat-form-field-disabled",gt._control.disabled)("mat-form-field-autofilled",gt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===gt._animationMode)("mat-form-field-appearance-fill","fill"==gt.appearance)("mat-form-field-appearance-outline","outline"==gt.appearance)("mat-form-field-hide-placeholder",gt._hasFloatingLabel()&&!gt._shouldLabelFloat())("mat-focused",gt._control.focused)("mat-primary","accent"!==gt.color&&"warn"!==gt.color)("mat-accent","accent"===gt.color)("mat-warn","warn"===gt.color)("ng-untouched",gt._shouldForward("untouched"))("ng-touched",gt._shouldForward("touched"))("ng-pristine",gt._shouldForward("pristine"))("ng-dirty",gt._shouldForward("dirty"))("ng-valid",gt._shouldForward("valid"))("ng-invalid",gt._shouldForward("invalid"))("ng-pending",gt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:ut,useExisting:Yt},{provide:X,useExisting:Yt}])],ngContentSelectors:De,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Mt,gt){1&Mt&&(e.F$t(Te),e.YNc(0,ae,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.NdJ("click",function(Fe){return gt._control.onContainerClick(Fe)}),e.YNc(4,Ae,1,0,"div",3),e.TgZ(5,"div",4),e.YNc(6,Y,2,2,"div",5),e.YNc(7,ve,3,0,"div",6),e.YNc(8,de,3,0,"div",7),e.TgZ(9,"div",8),e.YNc(10,xe,1,1,"ng-template",9),e.Hsn(11),e.qZA(),e.YNc(12,Ge,2,0,"div",10),e.YNc(13,ge,2,0,"div",11),e.qZA(),e.YNc(14,Ce,1,0,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,Le,2,1,"div",14),e.YNc(17,we,5,2,"div",15),e.qZA()),2&Mt&&(e.xp6(2),e.ekj("mdc-text-field--filled",!gt._hasOutline())("mdc-text-field--outlined",gt._hasOutline())("mdc-text-field--no-label",!gt._hasFloatingLabel())("mdc-text-field--disabled",gt._control.disabled)("mdc-text-field--invalid",gt._control.errorState),e.xp6(2),e.Q6J("ngIf",!gt._hasOutline()&&!gt._control.disabled),e.xp6(2),e.Q6J("ngIf",gt._hasOutline()),e.xp6(1),e.Q6J("ngIf",gt._hasIconPrefix),e.xp6(1),e.Q6J("ngIf",gt._hasTextPrefix),e.xp6(2),e.Q6J("ngIf",!gt._hasOutline()||gt._forceDisplayInfixLabel()),e.xp6(2),e.Q6J("ngIf",gt._hasTextSuffix),e.xp6(1),e.Q6J("ngIf",gt._hasIconSuffix),e.xp6(1),e.Q6J("ngIf",!gt._hasOutline()),e.xp6(1),e.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===gt.subscriptSizing),e.Q6J("ngSwitch",gt._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[B.O5,B.tP,B.RF,B.n9,K,$,Ee,me],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ye.transitionMessages]},changeDetection:0})}return Yt})(),zt=(()=>{class Yt{static#e=this.\u0275fac=function(Mt){return new(Mt||Yt)};static#t=this.\u0275mod=e.oAB({type:Yt});static#n=this.\u0275inj=e.cJS({imports:[R.BQ,B.ez,F.Q8,R.BQ]})}return Yt})()},2032:(Bn,et,v)=>{"use strict";v.d(et,{Jk:()=>P,Nt:()=>D,c:()=>T});var e=v(2495),n=v(2831),E=v(5879),A=v(6232),_=v(8645);const I=(0,n.i$)({passive:!0});let w=(()=>{class C{constructor(M,G){this._platform=M,this._ngZone=G,this._monitoredElements=new Map}monitor(M){if(!this._platform.isBrowser)return A.E;const G=(0,e.fI)(M),Z=this._monitoredElements.get(G);if(Z)return Z.subject;const ee=new _.x,ae="cdk-text-field-autofilled",Ae=j=>{"cdk-text-field-autofill-start"!==j.animationName||G.classList.contains(ae)?"cdk-text-field-autofill-end"===j.animationName&&G.classList.contains(ae)&&(G.classList.remove(ae),this._ngZone.run(()=>ee.next({target:j.target,isAutofilled:!1}))):(G.classList.add(ae),this._ngZone.run(()=>ee.next({target:j.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{G.addEventListener("animationstart",Ae,I),G.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(G,{subject:ee,unlisten:()=>{G.removeEventListener("animationstart",Ae,I)}}),ee}stopMonitoring(M){const G=(0,e.fI)(M),Z=this._monitoredElements.get(G);Z&&(Z.unlisten(),Z.subject.complete(),G.classList.remove("cdk-text-field-autofill-monitored"),G.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(G))}ngOnDestroy(){this._monitoredElements.forEach((M,G)=>this.stopMonitoring(G))}static#e=this.\u0275fac=function(G){return new(G||C)(E.LFG(n.t4),E.LFG(E.R0b))};static#t=this.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),d=(()=>{class C{static#e=this.\u0275fac=function(G){return new(G||C)};static#t=this.\u0275mod=E.oAB({type:C});static#n=this.\u0275inj=E.cJS({})}return C})();var u=v(95),m=v(3680),y=v(4170);const P=new E.OlP("MAT_INPUT_VALUE_ACCESSOR"),B=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let F=0;const R=(0,m.FD)(class{constructor(C,O,M,G){this._defaultErrorStateMatcher=C,this._parentForm=O,this._parentFormGroup=M,this.ngControl=G,this.stateChanges=new _.x}});let D=(()=>{class C extends R{get disabled(){return this._disabled}set disabled(M){this._disabled=(0,e.Ig)(M),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(M){this._id=M||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(u.kI.required)??!1}set required(M){this._required=(0,e.Ig)(M)}get type(){return this._type}set type(M){this._type=M||"text",this._validateType(),!this._isTextarea&&(0,n.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(M){M!==this.value&&(this._inputValueAccessor.value=M,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(M){this._readonly=(0,e.Ig)(M)}constructor(M,G,Z,ee,ae,Ae,j,le,Y,ve){super(Ae,ee,ae,Z),this._elementRef=M,this._platform=G,this._autofillMonitor=le,this._formField=ve,this._uid="mat-input-"+F++,this.focused=!1,this.stateChanges=new _.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(xe=>(0,n.qK)().has(xe)),this._iOSKeyupListener=xe=>{const Ge=xe.target;!Ge.value&&0===Ge.selectionStart&&0===Ge.selectionEnd&&(Ge.setSelectionRange(1,1),Ge.setSelectionRange(0,0))};const de=this._elementRef.nativeElement,Se=de.nodeName.toLowerCase();this._inputValueAccessor=j||de,this._previousNativeValue=this.value,this.id=this.id,G.IOS&&Y.runOutsideAngular(()=>{M.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Se,this._isTextarea="textarea"===Se,this._isInFormField=!!ve,this._isNativeSelect&&(this.controlType=de.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(M=>{this.autofilled=M.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(M){this._elementRef.nativeElement.focus(M)}_focusChanged(M){M!==this.focused&&(this.focused=M,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const M=this._elementRef.nativeElement.value;this._previousNativeValue!==M&&(this._previousNativeValue=M,this.stateChanges.next())}_dirtyCheckPlaceholder(){const M=this._getPlaceholder();if(M!==this._previousPlaceholder){const G=this._elementRef.nativeElement;this._previousPlaceholder=M,M?G.setAttribute("placeholder",M):G.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){B.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let M=this._elementRef.nativeElement.validity;return M&&M.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const M=this._elementRef.nativeElement,G=M.options[0];return this.focused||M.multiple||!this.empty||!!(M.selectedIndex>-1&&G&&G.label)}return this.focused||!this.empty}setDescribedByIds(M){M.length?this._elementRef.nativeElement.setAttribute("aria-describedby",M.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const M=this._elementRef.nativeElement;return this._isNativeSelect&&(M.multiple||M.size>1)}static#e=this.\u0275fac=function(G){return new(G||C)(E.Y36(E.SBq),E.Y36(n.t4),E.Y36(u.a5,10),E.Y36(u.F,8),E.Y36(u.sg,8),E.Y36(m.rD),E.Y36(P,10),E.Y36(w),E.Y36(E.R0b),E.Y36(y.G_,8))};static#t=this.\u0275dir=E.lG2({type:C,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(G,Z){1&G&&E.NdJ("focus",function(){return Z._focusChanged(!0)})("blur",function(){return Z._focusChanged(!1)})("input",function(){return Z._onInput()}),2&G&&(E.Ikx("id",Z.id)("disabled",Z.disabled)("required",Z.required),E.uIk("name",Z.name||null)("readonly",Z.readonly&&!Z._isNativeSelect||null)("aria-invalid",Z.empty&&Z.required?null:Z.errorState)("aria-required",Z.required)("id",Z.id),E.ekj("mat-input-server",Z._isServer)("mat-mdc-form-field-textarea-control",Z._isInFormField&&Z._isTextarea)("mat-mdc-form-field-input-control",Z._isInFormField)("mdc-text-field__input",Z._isInFormField)("mat-mdc-native-select-inline",Z._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[E._Bn([{provide:y.Eo,useExisting:C}]),E.qOj,E.TTD]})}return C})(),T=(()=>{class C{static#e=this.\u0275fac=function(G){return new(G||C)};static#t=this.\u0275mod=E.oAB({type:C});static#n=this.\u0275inj=E.cJS({imports:[m.BQ,y.lN,y.lN,d,m.BQ]})}return C})()},1476:(Bn,et,v)=>{"use strict";v.d(et,{NW:()=>Z,TU:()=>ee,ye:()=>B});var e=v(6814),n=v(5879),E=v(8645),A=v(2296),_=v(8525),I=v(2596),w=v(3680),g=v(2495),o=v(4170);function d(ae,Ae){if(1&ae&&(n.TgZ(0,"mat-option",19),n._uU(1),n.qZA()),2&ae){const j=Ae.$implicit;n.Q6J("value",j),n.xp6(1),n.hij(" ",j," ")}}function u(ae,Ae){if(1&ae){const j=n.EpF();n.TgZ(0,"mat-form-field",16)(1,"mat-select",17),n.NdJ("selectionChange",function(Y){n.CHM(j);const ve=n.oxw(2);return n.KtG(ve._changePageSize(Y.value))}),n.YNc(2,d,2,2,"mat-option",18),n.qZA()()}if(2&ae){const j=n.oxw(2);n.Q6J("appearance",j._formFieldAppearance)("color",j.color),n.xp6(1),n.Q6J("value",j.pageSize)("disabled",j.disabled)("aria-labelledby",j._pageSizeLabelId)("panelClass",j.selectConfig.panelClass||"")("disableOptionCentering",j.selectConfig.disableOptionCentering),n.xp6(1),n.Q6J("ngForOf",j._displayedPageSizeOptions)}}function m(ae,Ae){if(1&ae&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&ae){const j=n.oxw(2);n.xp6(1),n.Oqu(j.pageSize)}}function y(ae,Ae){if(1&ae&&(n.TgZ(0,"div",12)(1,"div",13),n._uU(2),n.qZA(),n.YNc(3,u,3,8,"mat-form-field",14),n.YNc(4,m,2,1,"div",15),n.qZA()),2&ae){const j=n.oxw();n.xp6(1),n.s9C("id",j._pageSizeLabelId),n.xp6(1),n.hij(" ",j._intl.itemsPerPageLabel," "),n.xp6(1),n.Q6J("ngIf",j._displayedPageSizeOptions.length>1),n.xp6(1),n.Q6J("ngIf",j._displayedPageSizeOptions.length<=1)}}function k(ae,Ae){if(1&ae){const j=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(j);const Y=n.oxw();return n.KtG(Y.firstPage())}),n.O4$(),n.TgZ(1,"svg",7),n._UZ(2,"path",22),n.qZA()()}if(2&ae){const j=n.oxw();n.Q6J("matTooltip",j._intl.firstPageLabel)("matTooltipDisabled",j._previousButtonsDisabled())("matTooltipPosition","above")("disabled",j._previousButtonsDisabled()),n.uIk("aria-label",j._intl.firstPageLabel)}}function P(ae,Ae){if(1&ae){const j=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"button",23),n.NdJ("click",function(){n.CHM(j);const Y=n.oxw();return n.KtG(Y.lastPage())}),n.O4$(),n.TgZ(1,"svg",7),n._UZ(2,"path",24),n.qZA()()}if(2&ae){const j=n.oxw();n.Q6J("matTooltip",j._intl.lastPageLabel)("matTooltipDisabled",j._nextButtonsDisabled())("matTooltipPosition","above")("disabled",j._nextButtonsDisabled()),n.uIk("aria-label",j._intl.lastPageLabel)}}let B=(()=>{class ae{constructor(){this.changes=new E.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(j,le,Y)=>{if(0==Y||0==le)return`0 of ${Y}`;const ve=j*le;return`${ve+1} \u2013 ${ve<(Y=Math.max(Y,0))?Math.min(ve+le,Y):ve+le} of ${Y}`}}static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275prov=n.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const R={provide:B,deps:[[new n.FiY,new n.tp0,B]],useFactory:function F(ae){return ae||new B}},C=new n.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),O=(0,w.Id)((0,w.dB)(class{}));let M=(()=>{class ae extends O{get pageIndex(){return this._pageIndex}set pageIndex(j){this._pageIndex=Math.max((0,g.su)(j),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(j){this._length=(0,g.su)(j),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(j){this._pageSize=Math.max((0,g.su)(j),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(j){this._pageSizeOptions=(j||[]).map(le=>(0,g.su)(le)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(j){this._hidePageSize=(0,g.Ig)(j)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(j){this._showFirstLastButtons=(0,g.Ig)(j)}constructor(j,le,Y){if(super(),this._intl=j,this._changeDetectorRef=le,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new n.vpe,this._intlChanges=j.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),Y){const{pageSize:ve,pageSizeOptions:de,hidePageSize:Se,showFirstLastButtons:xe}=Y;null!=ve&&(this._pageSize=ve),null!=de&&(this._pageSizeOptions=de),null!=Se&&(this._hidePageSize=Se),null!=xe&&(this._showFirstLastButtons=xe)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const j=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(j)}previousPage(){if(!this.hasPreviousPage())return;const j=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(j)}firstPage(){if(!this.hasPreviousPage())return;const j=this.pageIndex;this.pageIndex=0,this._emitPageEvent(j)}lastPage(){if(!this.hasNextPage())return;const j=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(j)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const j=this.getNumberOfPages()-1;return this.pageIndex<j&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(j){const Y=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/j)||0,this.pageSize=j,this._emitPageEvent(Y)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((j,le)=>j-le),this._changeDetectorRef.markForCheck())}_emitPageEvent(j){this.page.emit({previousPageIndex:j,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(le){n.$Z()};static#t=this.\u0275dir=n.lG2({type:ae,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[n.qOj]})}return ae})(),G=0,Z=(()=>{class ae extends M{constructor(j,le,Y){super(j,le,Y),this._pageSizeLabelId="mat-paginator-page-size-label-"+G++,this._formFieldAppearance=Y?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(le){return new(le||ae)(n.Y36(B),n.Y36(n.sBO),n.Y36(C,8))};static#t=this.\u0275cmp=n.Xpm({type:ae,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[n.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(le,Y){1&le&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,y,5,4,"div",2),n.TgZ(3,"div",3)(4,"div",4),n._uU(5),n.qZA(),n.YNc(6,k,3,5,"button",5),n.TgZ(7,"button",6),n.NdJ("click",function(){return Y.previousPage()}),n.O4$(),n.TgZ(8,"svg",7),n._UZ(9,"path",8),n.qZA()(),n.kcU(),n.TgZ(10,"button",9),n.NdJ("click",function(){return Y.nextPage()}),n.O4$(),n.TgZ(11,"svg",7),n._UZ(12,"path",10),n.qZA()(),n.YNc(13,P,3,5,"button",11),n.qZA()()()),2&le&&(n.xp6(2),n.Q6J("ngIf",!Y.hidePageSize),n.xp6(3),n.hij(" ",Y._intl.getRangeLabel(Y.pageIndex,Y.pageSize,Y.length)," "),n.xp6(1),n.Q6J("ngIf",Y.showFirstLastButtons),n.xp6(1),n.Q6J("matTooltip",Y._intl.previousPageLabel)("matTooltipDisabled",Y._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Y._previousButtonsDisabled()),n.uIk("aria-label",Y._intl.previousPageLabel),n.xp6(3),n.Q6J("matTooltip",Y._intl.nextPageLabel)("matTooltipDisabled",Y._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Y._nextButtonsDisabled()),n.uIk("aria-label",Y._intl.nextPageLabel),n.xp6(3),n.Q6J("ngIf",Y.showFirstLastButtons))},dependencies:[e.sg,e.O5,A.RK,o.KE,_.gD,w.ey,I.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ae})(),ee=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=n.oAB({type:ae});static#n=this.\u0275inj=n.cJS({providers:[R],imports:[e.ez,A.ot,_.LD,I.AV]})}return ae})()},5940:(Bn,et,v)=>{"use strict";v.d(et,{Cq:()=>k,Ou:()=>m});var e=v(5879),n=v(3680),E=v(2495),A=v(6814);const _=["determinateSpinner"];function I(P,B){if(1&P&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&P){const F=e.oxw();e.uIk("viewBox",F._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",F._strokeCircumference(),"px")("stroke-dashoffset",F._strokeCircumference()/2,"px")("stroke-width",F._circleStrokeWidth(),"%"),e.uIk("r",F._circleRadius())}}const w=(0,n.pj)(class{constructor(P){this._elementRef=P}},"primary"),g=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function o(){return{diameter:d}}}),d=100;let m=(()=>{class P extends w{constructor(F,R,D){super(F),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=d,this._noopAnimations="NoopAnimations"===R&&!!D&&!D._forceAnimations,D&&(D.color&&(this.color=this.defaultColor=D.color),D.diameter&&(this.diameter=D.diameter),D.strokeWidth&&(this.strokeWidth=D.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(F){this._value=Math.max(0,Math.min(100,(0,E.su)(F)))}get diameter(){return this._diameter}set diameter(F){this._diameter=(0,E.su)(F)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(F){this._strokeWidth=(0,E.su)(F)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const F=2*this._circleRadius()+this.strokeWidth;return`0 0 ${F} ${F}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(R){return new(R||P)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(g))};static#t=this.\u0275cmp=e.Xpm({type:P,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(R,D){if(1&R&&e.Gf(_,5),2&R){let T;e.iGM(T=e.CRH())&&(D._determinateCircle=T.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(R,D){2&R&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===D.mode?D.value:null)("mode",D.mode),e.Udp("width",D.diameter,"px")("height",D.diameter,"px")("--mdc-circular-progress-size",D.diameter+"px")("--mdc-circular-progress-active-indicator-width",D.diameter+"px"),e.ekj("_mat-animation-noopable",D._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===D.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(R,D){if(1&R&&(e.YNc(0,I,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&R){const T=e.MAs(1);e.xp6(4),e.uIk("viewBox",D._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",D._strokeCircumference(),"px")("stroke-dashoffset",D._strokeDashOffset(),"px")("stroke-width",D._circleStrokeWidth(),"%"),e.uIk("r",D._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",T),e.xp6(2),e.Q6J("ngTemplateOutlet",T),e.xp6(2),e.Q6J("ngTemplateOutlet",T)}},dependencies:[A.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return P})(),k=(()=>{class P{static#e=this.\u0275fac=function(R){return new(R||P)};static#t=this.\u0275mod=e.oAB({type:P});static#n=this.\u0275inj=e.cJS({imports:[A.ez,n.BQ]})}return P})()},8525:(Bn,et,v)=>{"use strict";v.d(et,{LD:()=>_e,gD:()=>be});var e=v(3651),n=v(6814),E=v(5879),A=v(3680),_=v(4170),I=v(799),w=v(4300),g=v(9388),o=v(2495),d=v(8337),u=v(6028),m=v(95),y=v(8645),k=v(4911),P=v(3019),B=v(7921),F=v(4664),R=v(8180),D=v(2181),T=v(7398),C=v(3997),O=v(9773),M=v(6825);const G=["trigger"],Z=["panel"];function ee(K,oe){if(1&K&&(E.TgZ(0,"span",10),E._uU(1),E.qZA()),2&K){const pe=E.oxw();E.xp6(1),E.Oqu(pe.placeholder)}}function ae(K,oe){if(1&K&&(E.TgZ(0,"span",14),E._uU(1),E.qZA()),2&K){const pe=E.oxw(2);E.xp6(1),E.Oqu(pe.triggerValue)}}function Ae(K,oe){1&K&&E.Hsn(0,0,["*ngSwitchCase","true"])}function j(K,oe){if(1&K&&(E.TgZ(0,"span",11),E.YNc(1,ae,2,1,"span",12),E.YNc(2,Ae,1,0,"ng-content",13),E.qZA()),2&K){const pe=E.oxw();E.Q6J("ngSwitch",!!pe.customTrigger),E.xp6(2),E.Q6J("ngSwitchCase",!0)}}function le(K,oe){if(1&K){const pe=E.EpF();E.O4$(),E.kcU(),E.TgZ(0,"div",15,16),E.NdJ("@transformPanel.done",function(Q){E.CHM(pe);const X=E.oxw();return E.KtG(X._panelDoneAnimatingStream.next(Q.toState))})("keydown",function(Q){E.CHM(pe);const X=E.oxw();return E.KtG(X._handleKeydown(Q))}),E.Hsn(2,1),E.qZA()}if(2&K){const pe=E.oxw();E.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",pe._getPanelTheme(),""),E.Q6J("ngClass",pe.panelClass)("@transformPanel","showing"),E.uIk("id",pe.id+"-panel")("aria-multiselectable",pe.multiple)("aria-label",pe.ariaLabel||null)("aria-labelledby",pe._getPanelAriaLabelledby())}}const Y=[[["mat-select-trigger"]],"*"],ve=["mat-select-trigger","*"],de={transformPanelWrap:(0,M.X$)("transformPanelWrap",[(0,M.eR)("* => void",(0,M.IO)("@transformPanel",[(0,M.pV)()],{optional:!0}))]),transformPanel:(0,M.X$)("transformPanel",[(0,M.SB)("void",(0,M.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,M.eR)("void => showing",(0,M.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,M.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,M.eR)("* => void",(0,M.jt)("100ms linear",(0,M.oB)({opacity:0})))])};let ge=0;const Ce=new E.OlP("mat-select-scroll-strategy"),fe=new E.OlP("MAT_SELECT_CONFIG"),we={provide:Ce,deps:[e.aV],useFactory:function Le(K){return()=>K.scrollStrategies.reposition()}},Te=new E.OlP("MatSelectTrigger");class De{constructor(oe,pe){this.source=oe,this.value=pe}}const Ue=(0,A.Kr)((0,A.sb)((0,A.Id)((0,A.FD)(class{constructor(K,oe,pe,re,Q){this._elementRef=K,this._defaultErrorStateMatcher=oe,this._parentForm=pe,this._parentFormGroup=re,this.ngControl=Q,this.stateChanges=new y.x}}))));let lt=(()=>{class K extends Ue{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(pe){this._placeholder=pe,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(m.kI.required)??!1}set required(pe){this._required=(0,o.Ig)(pe),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(pe){this._multiple=(0,o.Ig)(pe)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(pe){this._disableOptionCentering=(0,o.Ig)(pe)}get compareWith(){return this._compareWith}set compareWith(pe){this._compareWith=pe,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(pe){this._assignValue(pe)&&this._onChange(pe)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(pe){this._typeaheadDebounceInterval=(0,o.su)(pe)}get id(){return this._id}set id(pe){this._id=pe||this._uid,this.stateChanges.next()}constructor(pe,re,Q,X,$,ne,J,q,me,Ee,ye,Ne,tt,qe){super($,X,J,q,Ee),this._viewportRuler=pe,this._changeDetectorRef=re,this._ngZone=Q,this._dir=ne,this._parentFormField=me,this._liveAnnouncer=tt,this._defaultOptions=qe,this._panelOpen=!1,this._compareWith=(Xe,ut)=>Xe===ut,this._uid="mat-select-"+ge++,this._triggerAriaLabelledBy=null,this._destroy=new y.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ge++,this._panelDoneAnimatingStream=new y.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,k.P)(()=>{const Xe=this.options;return Xe?Xe.changes.pipe((0,B.O)(Xe),(0,F.w)(()=>(0,P.T)(...Xe.map(ut=>ut.onSelectionChange)))):this._ngZone.onStable.pipe((0,R.q)(1),(0,F.w)(()=>this.optionSelectionChanges))}),this.openedChange=new E.vpe,this._openedStream=this.openedChange.pipe((0,D.h)(Xe=>Xe),(0,T.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,D.h)(Xe=>!Xe),(0,T.U)(()=>{})),this.selectionChange=new E.vpe,this.valueChange=new E.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=qe?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=qe.typeaheadDebounceInterval),this._scrollStrategyFactory=Ne,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ye)||0,this.id=this.id}ngOnInit(){this._selectionModel=new d.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,C.x)(),(0,O.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,O.R)(this._destroy)).subscribe(pe=>{pe.added.forEach(re=>re.select()),pe.removed.forEach(re=>re.deselect())}),this.options.changes.pipe((0,B.O)(null),(0,O.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const pe=this._getTriggerAriaLabelledby(),re=this.ngControl;if(pe!==this._triggerAriaLabelledBy){const Q=this._elementRef.nativeElement;this._triggerAriaLabelledBy=pe,pe?Q.setAttribute("aria-labelledby",pe):Q.removeAttribute("aria-labelledby")}re&&(this._previousControl!==re.control&&(void 0!==this._previousControl&&null!==re.disabled&&re.disabled!==this.disabled&&(this.disabled=re.disabled),this._previousControl=re.control),this.updateErrorState())}ngOnChanges(pe){(pe.disabled||pe.userAriaDescribedBy)&&this.stateChanges.next(),pe.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const pe=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!pe)return;const re=`${this.id}-panel`;this._trackedModal&&(0,w.iD)(this._trackedModal,"aria-owns",re),(0,w.Zf)(pe,"aria-owns",re),this._trackedModal=pe}_clearFromModal(){this._trackedModal&&((0,w.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(pe){this._assignValue(pe)}registerOnChange(pe){this._onChange=pe}registerOnTouched(pe){this._onTouched=pe}setDisabledState(pe){this.disabled=pe,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const pe=this._selectionModel.selected.map(re=>re.viewValue);return this._isRtl()&&pe.reverse(),pe.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(pe){this.disabled||(this.panelOpen?this._handleOpenKeydown(pe):this._handleClosedKeydown(pe))}_handleClosedKeydown(pe){const re=pe.keyCode,Q=re===u.JH||re===u.LH||re===u.oh||re===u.SV,X=re===u.K5||re===u.L_,$=this._keyManager;if(!$.isTyping()&&X&&!(0,u.Vb)(pe)||(this.multiple||pe.altKey)&&Q)pe.preventDefault(),this.open();else if(!this.multiple){const ne=this.selected;$.onKeydown(pe);const J=this.selected;J&&ne!==J&&this._liveAnnouncer.announce(J.viewValue,1e4)}}_handleOpenKeydown(pe){const re=this._keyManager,Q=pe.keyCode,X=Q===u.JH||Q===u.LH,$=re.isTyping();if(X&&pe.altKey)pe.preventDefault(),this.close();else if($||Q!==u.K5&&Q!==u.L_||!re.activeItem||(0,u.Vb)(pe))if(!$&&this._multiple&&Q===u.A&&pe.ctrlKey){pe.preventDefault();const ne=this.options.some(J=>!J.disabled&&!J.selected);this.options.forEach(J=>{J.disabled||(ne?J.select():J.deselect())})}else{const ne=re.activeItemIndex;re.onKeydown(pe),this._multiple&&X&&pe.shiftKey&&re.activeItem&&re.activeItemIndex!==ne&&re.activeItem._selectViaInteraction()}else pe.preventDefault(),re.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,R.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(pe){if(this.options.forEach(re=>re.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&pe)Array.isArray(pe),pe.forEach(re=>this._selectOptionByValue(re)),this._sortValues();else{const re=this._selectOptionByValue(pe);re?this._keyManager.updateActiveItem(re):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(pe){const re=this.options.find(Q=>{if(this._selectionModel.isSelected(Q))return!1;try{return null!=Q.value&&this._compareWith(Q.value,pe)}catch{return!1}});return re&&this._selectionModel.select(re),re}_assignValue(pe){return!!(pe!==this._value||this._multiple&&Array.isArray(pe))&&(this.options&&this._setSelectionByValue(pe),this._value=pe,!0)}_skipPredicate(pe){return pe.disabled}_initKeyManager(){this._keyManager=new w.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const pe=(0,P.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,O.R)(pe)).subscribe(re=>{this._onSelect(re.source,re.isUserInput),re.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,P.T)(...this.options.map(re=>re._stateChanges)).pipe((0,O.R)(pe)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(pe,re){const Q=this._selectionModel.isSelected(pe);null!=pe.value||this._multiple?(Q!==pe.selected&&(pe.selected?this._selectionModel.select(pe):this._selectionModel.deselect(pe)),re&&this._keyManager.setActiveItem(pe),this.multiple&&(this._sortValues(),re&&this.focus())):(pe.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(pe.value)),Q!==this._selectionModel.isSelected(pe)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const pe=this.options.toArray();this._selectionModel.sort((re,Q)=>this.sortComparator?this.sortComparator(re,Q,pe):pe.indexOf(re)-pe.indexOf(Q)),this.stateChanges.next()}}_propagateChanges(pe){let re=null;re=this.multiple?this.selected.map(Q=>Q.value):this.selected?this.selected.value:pe,this._value=re,this.valueChange.emit(re),this._onChange(re),this.selectionChange.emit(this._getChangeEvent(re)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let pe=-1;for(let re=0;re<this.options.length;re++)if(!this.options.get(re).disabled){pe=re;break}this._keyManager.setActiveItem(pe)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(pe){this._elementRef.nativeElement.focus(pe)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const pe=this._parentFormField?.getLabelId();return this.ariaLabelledby?(pe?pe+" ":"")+this.ariaLabelledby:pe}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const pe=this._parentFormField?.getLabelId();let re=(pe?pe+" ":"")+this._valueId;return this.ariaLabelledby&&(re+=" "+this.ariaLabelledby),re}_panelDoneAnimating(pe){this.openedChange.emit(pe)}setDescribedByIds(pe){pe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",pe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(re){return new(re||K)(E.Y36(I.rL),E.Y36(E.sBO),E.Y36(E.R0b),E.Y36(A.rD),E.Y36(E.SBq),E.Y36(g.Is,8),E.Y36(m.F,8),E.Y36(m.sg,8),E.Y36(_.G_,8),E.Y36(m.a5,10),E.$8M("tabindex"),E.Y36(Ce),E.Y36(w.Kd),E.Y36(fe,8))};static#t=this.\u0275dir=E.lG2({type:K,viewQuery:function(re,Q){if(1&re&&(E.Gf(G,5),E.Gf(Z,5),E.Gf(e.pI,5)),2&re){let X;E.iGM(X=E.CRH())&&(Q.trigger=X.first),E.iGM(X=E.CRH())&&(Q.panel=X.first),E.iGM(X=E.CRH())&&(Q._overlayDir=X.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[E.qOj,E.TTD]})}return K})(),be=(()=>{class K extends lt{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=pe=>!this.panelOpen&&pe.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,O.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(pe){const re=this.options.toArray()[pe];if(re){const Q=this.panel.nativeElement,X=(0,A.CB)(pe,this.options,this.optionGroups),$=re._getHostElement();Q.scrollTop=0===pe&&1===X?0:(0,A.jH)($.offsetTop,$.offsetHeight,Q.scrollTop,Q.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(pe){return new De(this,pe)}_getOverlayWidth(pe){return"auto"===this.panelWidth?(pe instanceof e.xu?pe.elementRef:pe||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(pe){this._hideSingleSelectionIndicator=(0,o.Ig)(pe),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const pe of this.options)pe._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let pe;return function(Q){return(pe||(pe=E.n5z(K)))(Q||K)}}();static#t=this.\u0275cmp=E.Xpm({type:K,selectors:[["mat-select"]],contentQueries:function(re,Q,X){if(1&re&&(E.Suo(X,Te,5),E.Suo(X,A.ey,5),E.Suo(X,A.K7,5)),2&re){let $;E.iGM($=E.CRH())&&(Q.customTrigger=$.first),E.iGM($=E.CRH())&&(Q.options=$),E.iGM($=E.CRH())&&(Q.optionGroups=$)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(re,Q){1&re&&E.NdJ("keydown",function($){return Q._handleKeydown($)})("focus",function(){return Q._onFocus()})("blur",function(){return Q._onBlur()}),2&re&&(E.uIk("id",Q.id)("tabindex",Q.tabIndex)("aria-controls",Q.panelOpen?Q.id+"-panel":null)("aria-expanded",Q.panelOpen)("aria-label",Q.ariaLabel||null)("aria-required",Q.required.toString())("aria-disabled",Q.disabled.toString())("aria-invalid",Q.errorState)("aria-activedescendant",Q._getAriaActiveDescendant()),E.ekj("mat-mdc-select-disabled",Q.disabled)("mat-mdc-select-invalid",Q.errorState)("mat-mdc-select-required",Q.required)("mat-mdc-select-empty",Q.empty)("mat-mdc-select-multiple",Q.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[E._Bn([{provide:_.Eo,useExisting:K},{provide:A.HF,useExisting:K}]),E.qOj],ngContentSelectors:ve,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(re,Q){if(1&re&&(E.F$t(Y),E.TgZ(0,"div",0,1),E.NdJ("click",function(){return Q.toggle()}),E.TgZ(3,"div",2),E.YNc(4,ee,2,1,"span",3),E.YNc(5,j,3,2,"span",4),E.qZA(),E.TgZ(6,"div",5)(7,"div",6),E.O4$(),E.TgZ(8,"svg",7),E._UZ(9,"path",8),E.qZA()()()(),E.YNc(10,le,3,9,"ng-template",9),E.NdJ("backdropClick",function(){return Q.close()})("attach",function(){return Q._onAttached()})("detach",function(){return Q.close()})),2&re){const X=E.MAs(1);E.xp6(3),E.Q6J("ngSwitch",Q.empty),E.uIk("id",Q._valueId),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1),E.xp6(5),E.Q6J("cdkConnectedOverlayPanelClass",Q._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Q._scrollStrategy)("cdkConnectedOverlayOrigin",Q._preferredOverlayOrigin||X)("cdkConnectedOverlayOpen",Q.panelOpen)("cdkConnectedOverlayPositions",Q._positions)("cdkConnectedOverlayWidth",Q._overlayWidth)}},dependencies:[n.mk,n.RF,n.n9,n.ED,e.pI,e.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[de.transformPanel]},changeDetection:0})}return K})(),_e=(()=>{class K{static#e=this.\u0275fac=function(re){return new(re||K)};static#t=this.\u0275mod=E.oAB({type:K});static#n=this.\u0275inj=E.cJS({providers:[we],imports:[n.ez,e.U8,A.Ng,A.BQ,I.ZD,_.lN,A.Ng,A.BQ]})}return K})()},2939:(Bn,et,v)=>{"use strict";v.d(et,{OX:()=>R,ZX:()=>j,qD:()=>D,u_:()=>T,ux:()=>de});var e=v(5879),n=v(8645),E=v(6814),A=v(2296),_=v(6825),I=v(8484),w=v(2831),g=v(8180),o=v(9773),d=v(4300),u=v(1088),m=v(3651),y=v(3680);function k(Se,xe){if(1&Se){const Ge=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(Ge);const Ce=e.oxw();return e.KtG(Ce.action())}),e._uU(2),e.qZA()()}if(2&Se){const Ge=e.oxw();e.xp6(2),e.hij(" ",Ge.data.action," ")}}const P=["label"];function B(Se,xe){}const F=Math.pow(2,31)-1;class R{constructor(xe,Ge){this._overlayRef=Ge,this._afterDismissed=new n.x,this._afterOpened=new n.x,this._onAction=new n.x,this._dismissedByAction=!1,this.containerInstance=xe,xe._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(xe){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(xe,F))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const D=new e.OlP("MatSnackBarData");class T{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let C=(()=>{class Se{static#e=this.\u0275fac=function(ge){return new(ge||Se)};static#t=this.\u0275dir=e.lG2({type:Se,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return Se})(),O=(()=>{class Se{static#e=this.\u0275fac=function(ge){return new(ge||Se)};static#t=this.\u0275dir=e.lG2({type:Se,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return Se})(),M=(()=>{class Se{static#e=this.\u0275fac=function(ge){return new(ge||Se)};static#t=this.\u0275dir=e.lG2({type:Se,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return Se})(),G=(()=>{class Se{constructor(Ge,ge){this.snackBarRef=Ge,this.data=ge}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(ge){return new(ge||Se)(e.Y36(R),e.Y36(D))};static#t=this.\u0275cmp=e.Xpm({type:Se,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(ge,Ce){1&ge&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,k,3,1,"div",1)),2&ge&&(e.xp6(1),e.hij(" ",Ce.data.message,"\n"),e.xp6(1),e.Q6J("ngIf",Ce.hasAction))},dependencies:[E.O5,A.lW,C,O,M],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Se})();const Z={snackBarState:(0,_.X$)("state",[(0,_.SB)("void, hidden",(0,_.oB)({transform:"scale(0.8)",opacity:0})),(0,_.SB)("visible",(0,_.oB)({transform:"scale(1)",opacity:1})),(0,_.eR)("* => visible",(0,_.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,_.eR)("* => void, * => hidden",(0,_.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,_.oB)({opacity:0})))])};let ee=0,ae=(()=>{class Se extends I.en{constructor(Ge,ge,Ce,Le,fe){super(),this._ngZone=Ge,this._elementRef=ge,this._changeDetectorRef=Ce,this._platform=Le,this.snackBarConfig=fe,this._document=(0,e.f3M)(E.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new n.x,this._onExit=new n.x,this._onEnter=new n.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ee++,this.attachDomPortal=we=>{this._assertNotAttached();const Te=this._portalOutlet.attachDomPortal(we);return this._afterPortalAttached(),Te},this._live="assertive"!==fe.politeness||fe.announcementMessage?"off"===fe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ge){this._assertNotAttached();const ge=this._portalOutlet.attachComponentPortal(Ge);return this._afterPortalAttached(),ge}attachTemplatePortal(Ge){this._assertNotAttached();const ge=this._portalOutlet.attachTemplatePortal(Ge);return this._afterPortalAttached(),ge}onAnimationEnd(Ge){const{fromState:ge,toState:Ce}=Ge;if(("void"===Ce&&"void"!==ge||"hidden"===Ce)&&this._completeExit(),"visible"===Ce){const Le=this._onEnter;this._ngZone.run(()=>{Le.next(),Le.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,g.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ge=this._elementRef.nativeElement,ge=this.snackBarConfig.panelClass;ge&&(Array.isArray(ge)?ge.forEach(Ce=>Ge.classList.add(Ce)):Ge.classList.add(ge)),this._exposeToModals()}_exposeToModals(){const Ge=this._liveElementId,ge=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ce=0;Ce<ge.length;Ce++){const Le=ge[Ce],fe=Le.getAttribute("aria-owns");this._trackedModals.add(Le),fe?-1===fe.indexOf(Ge)&&Le.setAttribute("aria-owns",fe+" "+Ge):Le.setAttribute("aria-owns",Ge)}}_clearFromModals(){this._trackedModals.forEach(Ge=>{const ge=Ge.getAttribute("aria-owns");if(ge){const Ce=ge.replace(this._liveElementId,"").trim();Ce.length>0?Ge.setAttribute("aria-owns",Ce):Ge.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ge=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ge=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ge&&ge){let Ce=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ge.contains(document.activeElement)&&(Ce=document.activeElement),Ge.removeAttribute("aria-hidden"),ge.appendChild(Ge),Ce?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(ge){return new(ge||Se)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(w.t4),e.Y36(T))};static#t=this.\u0275dir=e.lG2({type:Se,viewQuery:function(ge,Ce){if(1&ge&&e.Gf(I.Pl,7),2&ge){let Le;e.iGM(Le=e.CRH())&&(Ce._portalOutlet=Le.first)}},features:[e.qOj]})}return Se})(),Ae=(()=>{class Se extends ae{_afterPortalAttached(){super._afterPortalAttached();const Ge=this._label.nativeElement,ge="mdc-snackbar__label";Ge.classList.toggle(ge,!Ge.querySelector(`.${ge}`))}static#e=this.\u0275fac=function(){let Ge;return function(Ce){return(Ge||(Ge=e.n5z(Se)))(Ce||Se)}}();static#t=this.\u0275cmp=e.Xpm({type:Se,selectors:[["mat-snack-bar-container"]],viewQuery:function(ge,Ce){if(1&ge&&e.Gf(P,7),2&ge){let Le;e.iGM(Le=e.CRH())&&(Ce._label=Le.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(ge,Ce){1&ge&&e.WFA("@state.done",function(fe){return Ce.onAnimationEnd(fe)}),2&ge&&e.d8E("@state",Ce._animationState)},features:[e.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ge,Ce){1&ge&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e.YNc(4,B,0,0,"ng-template",4),e.qZA(),e._UZ(5,"div"),e.qZA()()),2&ge&&(e.xp6(5),e.uIk("aria-live",Ce._live)("role",Ce._role)("id",Ce._liveElementId))},dependencies:[I.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Z.snackBarState]}})}return Se})(),j=(()=>{class Se{static#e=this.\u0275fac=function(ge){return new(ge||Se)};static#t=this.\u0275mod=e.oAB({type:Se});static#n=this.\u0275inj=e.cJS({imports:[m.U8,I.eL,E.ez,A.ot,y.BQ,y.BQ]})}return Se})();const Y=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function le(){return new T}});let ve=(()=>{class Se{get _openedSnackBarRef(){const Ge=this._parentSnackBar;return Ge?Ge._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ge){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ge:this._snackBarRefAtThisLevel=Ge}constructor(Ge,ge,Ce,Le,fe,we){this._overlay=Ge,this._live=ge,this._injector=Ce,this._breakpointObserver=Le,this._parentSnackBar=fe,this._defaultConfig=we,this._snackBarRefAtThisLevel=null}openFromComponent(Ge,ge){return this._attach(Ge,ge)}openFromTemplate(Ge,ge){return this._attach(Ge,ge)}open(Ge,ge="",Ce){const Le={...this._defaultConfig,...Ce};return Le.data={message:Ge,action:ge},Le.announcementMessage===Ge&&(Le.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Le)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ge,ge){const Le=e.zs3.create({parent:ge&&ge.viewContainerRef&&ge.viewContainerRef.injector||this._injector,providers:[{provide:T,useValue:ge}]}),fe=new I.C5(this.snackBarContainerComponent,ge.viewContainerRef,Le),we=Ge.attach(fe);return we.instance.snackBarConfig=ge,we.instance}_attach(Ge,ge){const Ce={...new T,...this._defaultConfig,...ge},Le=this._createOverlay(Ce),fe=this._attachSnackBarContainer(Le,Ce),we=new R(fe,Le);if(Ge instanceof e.Rgc){const Te=new I.UE(Ge,null,{$implicit:Ce.data,snackBarRef:we});we.instance=fe.attachTemplatePortal(Te)}else{const Te=this._createInjector(Ce,we),De=new I.C5(Ge,void 0,Te),Ue=fe.attachComponentPortal(De);we.instance=Ue.instance}return this._breakpointObserver.observe(u.u3.HandsetPortrait).pipe((0,o.R)(Le.detachments())).subscribe(Te=>{Le.overlayElement.classList.toggle(this.handsetCssClass,Te.matches)}),Ce.announcementMessage&&fe._onAnnounce.subscribe(()=>{this._live.announce(Ce.announcementMessage,Ce.politeness)}),this._animateSnackBar(we,Ce),this._openedSnackBarRef=we,this._openedSnackBarRef}_animateSnackBar(Ge,ge){Ge.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ge&&(this._openedSnackBarRef=null),ge.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ge.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ge.containerInstance.enter(),ge.duration&&ge.duration>0&&Ge.afterOpened().subscribe(()=>Ge._dismissAfter(ge.duration))}_createOverlay(Ge){const ge=new m.X_;ge.direction=Ge.direction;let Ce=this._overlay.position().global();const Le="rtl"===Ge.direction,fe="left"===Ge.horizontalPosition||"start"===Ge.horizontalPosition&&!Le||"end"===Ge.horizontalPosition&&Le,we=!fe&&"center"!==Ge.horizontalPosition;return fe?Ce.left("0"):we?Ce.right("0"):Ce.centerHorizontally(),"top"===Ge.verticalPosition?Ce.top("0"):Ce.bottom("0"),ge.positionStrategy=Ce,this._overlay.create(ge)}_createInjector(Ge,ge){return e.zs3.create({parent:Ge&&Ge.viewContainerRef&&Ge.viewContainerRef.injector||this._injector,providers:[{provide:R,useValue:ge},{provide:D,useValue:Ge.data}]})}static#e=this.\u0275fac=function(ge){return new(ge||Se)(e.LFG(m.aV),e.LFG(d.Kd),e.LFG(e.zs3),e.LFG(u.Yg),e.LFG(Se,12),e.LFG(Y))};static#t=this.\u0275prov=e.Yz7({token:Se,factory:Se.\u0275fac})}return Se})(),de=(()=>{class Se extends ve{constructor(Ge,ge,Ce,Le,fe,we){super(Ge,ge,Ce,Le,fe,we),this.simpleSnackBarComponent=G,this.snackBarContainerComponent=Ae,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(ge){return new(ge||Se)(e.LFG(m.aV),e.LFG(d.Kd),e.LFG(e.zs3),e.LFG(u.Yg),e.LFG(Se,12),e.LFG(Y))};static#t=this.\u0275prov=e.Yz7({token:Se,factory:Se.\u0275fac,providedIn:j})}return Se})()},3566:(Bn,et,v)=>{"use strict";v.d(et,{JX:()=>Ae,YE:()=>D,nU:()=>ae});var e=v(5879),n=v(4300),E=v(2495),A=v(6028),_=v(3680),I=v(8645),w=v(3019),g=v(6825),o=v(6814);const d=["mat-sort-header",""];function u(j,le){if(1&j){const Y=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(Y);const de=e.oxw();return e.KtG(de._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(Y);const de=e.oxw();return e.KtG(de._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&j){const Y=e.oxw();e.Q6J("@arrowOpacity",Y._getArrowViewState())("@arrowPosition",Y._getArrowViewState())("@allowChildren",Y._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",Y._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",Y._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",Y._getArrowDirectionState())}}const m=["*"],F=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),R=(0,_.dB)((0,_.Id)(class{}));let D=(()=>{class j extends R{get direction(){return this._direction}set direction(Y){this._direction=Y}get disableClear(){return this._disableClear}set disableClear(Y){this._disableClear=(0,E.Ig)(Y)}constructor(Y){super(),this._defaultOptions=Y,this.sortables=new Map,this._stateChanges=new I.x,this.start="asc",this._direction="",this.sortChange=new e.vpe}register(Y){this.sortables.set(Y.id,Y)}deregister(Y){this.sortables.delete(Y.id)}sort(Y){this.active!=Y.id?(this.active=Y.id,this.direction=Y.start?Y.start:this.start):this.direction=this.getNextSortDirection(Y),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(Y){if(!Y)return"";let de=function T(j,le){let Y=["asc","desc"];return"desc"==j&&Y.reverse(),le||Y.push(""),Y}(Y.start||this.start,Y?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),Se=de.indexOf(this.direction)+1;return Se>=de.length&&(Se=0),de[Se]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(ve){return new(ve||j)(e.Y36(F,8))};static#t=this.\u0275dir=e.lG2({type:j,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]})}return j})();const C=_.mZ.ENTERING+" "+_.yN.STANDARD_CURVE,O={indicator:(0,g.X$)("indicator",[(0,g.SB)("active-asc, asc",(0,g.oB)({transform:"translateY(0px)"})),(0,g.SB)("active-desc, desc",(0,g.oB)({transform:"translateY(10px)"})),(0,g.eR)("active-asc <=> active-desc",(0,g.jt)(C))]),leftPointer:(0,g.X$)("leftPointer",[(0,g.SB)("active-asc, asc",(0,g.oB)({transform:"rotate(-45deg)"})),(0,g.SB)("active-desc, desc",(0,g.oB)({transform:"rotate(45deg)"})),(0,g.eR)("active-asc <=> active-desc",(0,g.jt)(C))]),rightPointer:(0,g.X$)("rightPointer",[(0,g.SB)("active-asc, asc",(0,g.oB)({transform:"rotate(45deg)"})),(0,g.SB)("active-desc, desc",(0,g.oB)({transform:"rotate(-45deg)"})),(0,g.eR)("active-asc <=> active-desc",(0,g.jt)(C))]),arrowOpacity:(0,g.X$)("arrowOpacity",[(0,g.SB)("desc-to-active, asc-to-active, active",(0,g.oB)({opacity:1})),(0,g.SB)("desc-to-hint, asc-to-hint, hint",(0,g.oB)({opacity:.54})),(0,g.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,g.oB)({opacity:0})),(0,g.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,g.jt)("0ms")),(0,g.eR)("* <=> *",(0,g.jt)(C))]),arrowPosition:(0,g.X$)("arrowPosition",[(0,g.eR)("* => desc-to-hint, * => desc-to-active",(0,g.jt)(C,(0,g.F4)([(0,g.oB)({transform:"translateY(-25%)"}),(0,g.oB)({transform:"translateY(0)"})]))),(0,g.eR)("* => hint-to-desc, * => active-to-desc",(0,g.jt)(C,(0,g.F4)([(0,g.oB)({transform:"translateY(0)"}),(0,g.oB)({transform:"translateY(25%)"})]))),(0,g.eR)("* => asc-to-hint, * => asc-to-active",(0,g.jt)(C,(0,g.F4)([(0,g.oB)({transform:"translateY(25%)"}),(0,g.oB)({transform:"translateY(0)"})]))),(0,g.eR)("* => hint-to-asc, * => active-to-asc",(0,g.jt)(C,(0,g.F4)([(0,g.oB)({transform:"translateY(0)"}),(0,g.oB)({transform:"translateY(-25%)"})]))),(0,g.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,g.oB)({transform:"translateY(0)"})),(0,g.SB)("hint-to-desc, active-to-desc, desc",(0,g.oB)({transform:"translateY(-25%)"})),(0,g.SB)("hint-to-asc, active-to-asc, asc",(0,g.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,g.X$)("allowChildren",[(0,g.eR)("* <=> *",[(0,g.IO)("@*",(0,g.pV)(),{optional:!0})])])};let M=(()=>{class j{constructor(){this.changes=new I.x}static#e=this.\u0275fac=function(ve){return new(ve||j)};static#t=this.\u0275prov=e.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();const Z={provide:M,deps:[[new e.FiY,new e.tp0,M]],useFactory:function G(j){return j||new M}},ee=(0,_.Id)(class{});let ae=(()=>{class j extends ee{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(Y){this._updateSortActionDescription(Y)}get disableClear(){return this._disableClear}set disableClear(Y){this._disableClear=(0,E.Ig)(Y)}constructor(Y,ve,de,Se,xe,Ge,ge,Ce){super(),this._intl=Y,this._changeDetectorRef=ve,this._sort=de,this._columnDef=Se,this._focusMonitor=xe,this._elementRef=Ge,this._ariaDescriber=ge,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Ce?.arrowPosition&&(this.arrowPosition=Ce?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Y=>{const ve=!!Y;ve!==this._showIndicatorHint&&(this._setIndicatorHintVisible(ve),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(Y){this._isDisabled()&&Y||(this._showIndicatorHint=Y,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(Y){this._viewState=Y||{},this._disableViewStateAnimation&&(this._viewState={toState:Y.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(Y){!this._isDisabled()&&(Y.keyCode===A.L_||Y.keyCode===A.K5)&&(Y.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const Y=this._viewState.fromState;return(Y?`${Y}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(Y){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,Y)),this._sortActionDescription=Y}_handleStateChanges(){this._rerenderSubscription=(0,w.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(ve){return new(ve||j)(e.Y36(M),e.Y36(e.sBO),e.Y36(D,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(n.tE),e.Y36(e.SBq),e.Y36(n.$s,8),e.Y36(F,8))};static#t=this.\u0275cmp=e.Xpm({type:j,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(ve,de){1&ve&&e.NdJ("click",function(){return de._handleClick()})("keydown",function(xe){return de._handleKeydown(xe)})("mouseenter",function(){return de._setIndicatorHintVisible(!0)})("mouseleave",function(){return de._setIndicatorHintVisible(!1)}),2&ve&&(e.uIk("aria-sort",de._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",de._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:d,ngContentSelectors:m,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(ve,de){1&ve&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,u,6,6,"div",2),e.qZA()),2&ve&&(e.ekj("mat-sort-header-sorted",de._isSorted())("mat-sort-header-position-before","before"===de.arrowPosition),e.uIk("tabindex",de._isDisabled()?null:0)("role",de._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",de._renderArrow()))},dependencies:[o.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[O.indicator,O.leftPointer,O.rightPointer,O.arrowOpacity,O.arrowPosition,O.allowChildren]},changeDetection:0})}return j})(),Ae=(()=>{class j{static#e=this.\u0275fac=function(ve){return new(ve||j)};static#t=this.\u0275mod=e.oAB({type:j});static#n=this.\u0275inj=e.cJS({providers:[Z],imports:[o.ez,_.BQ]})}return j})()},5313:(Bn,et,v)=>{"use strict";v.d(et,{ev:()=>Qt,Dz:()=>ke,w1:()=>ft,ge:()=>mt,fO:()=>it,XQ:()=>Tn,as:()=>fn,Ee:()=>Kn,Gk:()=>Fn,nj:()=>pn,BZ:()=>Fe,by:()=>Tt,p0:()=>un});var e=v(5879),n=v(9388),E=v(2495),A=v(8337),_=v(2831),I=v(799),w=v(6814),g=v(8645),o=v(2459),d=v(5619),u=v(2664),m=v(2096),y=v(9773),k=v(8180);const P=[[["caption"]],[["colgroup"],["col"]]],B=["caption","colgroup, col"];function D(ct){return class extends ct{get sticky(){return this._sticky}set sticky(hn){const Ze=this._sticky;this._sticky=(0,E.Ig)(hn),this._hasStickyChanged=Ze!==this._sticky}hasStickyChanged(){const hn=this._hasStickyChanged;return this._hasStickyChanged=!1,hn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...hn){super(...hn),this._sticky=!1,this._hasStickyChanged=!1}}}const T=new e.OlP("CDK_TABLE");let O=(()=>{class ct{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkCellDef",""]]})}return ct})(),M=(()=>{class ct{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkHeaderCellDef",""]]})}return ct})(),G=(()=>{class ct{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkFooterCellDef",""]]})}return ct})();class Z{}const ee=D(Z);let ae=(()=>{class ct extends ee{get name(){return this._name}set name(Ze){this._setNameInput(Ze)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ze){const bt=this._stickyEnd;this._stickyEnd=(0,E.Ig)(Ze),this._hasStickyChanged=bt!==this._stickyEnd}constructor(Ze){super(),this._table=Ze,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ze){Ze&&(this._name=Ze,this.cssClassFriendlyName=Ze.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(T,8))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkColumnDef",""]],contentQueries:function(bt,Kt,Ot){if(1&bt&&(e.Suo(Ot,O,5),e.Suo(Ot,M,5),e.Suo(Ot,G,5)),2&bt){let yn;e.iGM(yn=e.CRH())&&(Kt.cell=yn.first),e.iGM(yn=e.CRH())&&(Kt.headerCell=yn.first),e.iGM(yn=e.CRH())&&(Kt.footerCell=yn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ct}]),e.qOj]})}return ct})();class Ae{constructor(hn,Ze){Ze.nativeElement.classList.add(...hn._columnCssClassName)}}let j=(()=>{class ct extends Ae{constructor(Ze,bt){super(Ze,bt)}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]})}return ct})(),Y=(()=>{class ct extends Ae{constructor(Ze,bt){if(super(Ze,bt),1===Ze._table?._elementRef.nativeElement.nodeType){const Kt=Ze._table._elementRef.nativeElement.getAttribute("role");bt.nativeElement.setAttribute("role","grid"===Kt||"treegrid"===Kt?"gridcell":"cell")}}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]})}return ct})();class ve{constructor(){this.tasks=[],this.endTasks=[]}}const de=new e.OlP("_COALESCED_STYLE_SCHEDULER");let Se=(()=>{class ct{constructor(Ze){this._ngZone=Ze,this._currentSchedule=null,this._destroyed=new g.x}schedule(Ze){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ze)}scheduleEnd(Ze){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ze)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ve,this._getScheduleObservable().pipe((0,y.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ze=this._currentSchedule;this._currentSchedule=new ve;for(const bt of Ze.tasks)bt();for(const bt of Ze.endTasks)bt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,o.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,k.q)(1))}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:ct,factory:ct.\u0275fac})}return ct})(),Ge=(()=>{class ct{constructor(Ze,bt){this.template=Ze,this._differs=bt}ngOnChanges(Ze){if(!this._columnsDiffer){const bt=Ze.columns&&Ze.columns.currentValue||[];this._columnsDiffer=this._differs.find(bt).create(),this._columnsDiffer.diff(bt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ze){return this instanceof Le?Ze.headerCell.template:this instanceof Te?Ze.footerCell.template:Ze.cell.template}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:ct,features:[e.TTD]})}return ct})();class ge extends Ge{}const Ce=D(ge);let Le=(()=>{class ct extends Ce{constructor(Ze,bt,Kt){super(Ze,bt),this._table=Kt}ngOnChanges(Ze){super.ngOnChanges(Ze)}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(T,8))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ct})();class fe extends Ge{}const we=D(fe);let Te=(()=>{class ct extends we{constructor(Ze,bt,Kt){super(Ze,bt),this._table=Kt}ngOnChanges(Ze){super.ngOnChanges(Ze)}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(T,8))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ct})(),De=(()=>{class ct extends Ge{constructor(Ze,bt,Kt){super(Ze,bt),this._table=Kt}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(T,8))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]})}return ct})(),Ue=(()=>{class ct{static#e=this.mostRecentCellOutlet=null;constructor(Ze){this._viewContainer=Ze,ct.mostRecentCellOutlet=this}ngOnDestroy(){ct.mostRecentCellOutlet===this&&(ct.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.s_b))};static#n=this.\u0275dir=e.lG2({type:ct,selectors:[["","cdkCellOutlet",""]]})}return ct})(),lt=(()=>{class ct{static#e=this.\u0275fac=function(bt){return new(bt||ct)};static#t=this.\u0275cmp=e.Xpm({type:ct,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Kt){1&bt&&e.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return ct})(),be=(()=>{class ct{static#e=this.\u0275fac=function(bt){return new(bt||ct)};static#t=this.\u0275cmp=e.Xpm({type:ct,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Kt){1&bt&&e.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return ct})(),_e=(()=>{class ct{constructor(Ze){this.templateRef=Ze,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["ng-template","cdkNoDataRow",""]]})}return ct})();const K=["top","bottom","left","right"];class oe{constructor(hn,Ze,bt,Kt,Ot=!0,yn=!0,Rt){this._isNativeHtmlTable=hn,this._stickCellCss=Ze,this.direction=bt,this._coalescedStyleScheduler=Kt,this._isBrowser=Ot,this._needsPositionStickyOnElement=yn,this._positionListener=Rt,this._cachedCellWidths=[],this._borderCellCss={top:`${Ze}-border-elem-top`,bottom:`${Ze}-border-elem-bottom`,left:`${Ze}-border-elem-left`,right:`${Ze}-border-elem-right`}}clearStickyPositioning(hn,Ze){const bt=[];for(const Kt of hn)if(Kt.nodeType===Kt.ELEMENT_NODE){bt.push(Kt);for(let Ot=0;Ot<Kt.children.length;Ot++)bt.push(Kt.children[Ot])}this._coalescedStyleScheduler.schedule(()=>{for(const Kt of bt)this._removeStickyStyle(Kt,Ze)})}updateStickyColumns(hn,Ze,bt,Kt=!0){if(!hn.length||!this._isBrowser||!Ze.some(Ln=>Ln)&&!bt.some(Ln=>Ln))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Ot=hn[0],yn=Ot.children.length,Rt=this._getCellWidths(Ot,Kt),St=this._getStickyStartColumnPositions(Rt,Ze),It=this._getStickyEndColumnPositions(Rt,bt),Zt=Ze.lastIndexOf(!0),gn=bt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Ln="rtl"===this.direction,Hn=Ln?"right":"left",Lt=Ln?"left":"right";for(const Sn of hn)for(let Ie=0;Ie<yn;Ie++){const Pt=Sn.children[Ie];Ze[Ie]&&this._addStickyStyle(Pt,Hn,St[Ie],Ie===Zt),bt[Ie]&&this._addStickyStyle(Pt,Lt,It[Ie],Ie===gn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Zt?[]:Rt.slice(0,Zt+1).map((Sn,Ie)=>Ze[Ie]?Sn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===gn?[]:Rt.slice(gn).map((Sn,Ie)=>bt[Ie+gn]?Sn:null).reverse()}))})}stickRows(hn,Ze,bt){if(!this._isBrowser)return;const Kt="bottom"===bt?hn.slice().reverse():hn,Ot="bottom"===bt?Ze.slice().reverse():Ze,yn=[],Rt=[],St=[];for(let Zt=0,gn=0;Zt<Kt.length;Zt++){if(!Ot[Zt])continue;yn[Zt]=gn;const Ln=Kt[Zt];St[Zt]=this._isNativeHtmlTable?Array.from(Ln.children):[Ln];const Hn=Ln.getBoundingClientRect().height;gn+=Hn,Rt[Zt]=Hn}const It=Ot.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Zt=0;Zt<Kt.length;Zt++){if(!Ot[Zt])continue;const gn=yn[Zt],Ln=Zt===It;for(const Hn of St[Zt])this._addStickyStyle(Hn,bt,gn,Ln)}"top"===bt?this._positionListener?.stickyHeaderRowsUpdated({sizes:Rt,offsets:yn,elements:St}):this._positionListener?.stickyFooterRowsUpdated({sizes:Rt,offsets:yn,elements:St})})}updateStickyFooterContainer(hn,Ze){if(!this._isNativeHtmlTable)return;const bt=hn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ze.some(Kt=>!Kt)?this._removeStickyStyle(bt,["bottom"]):this._addStickyStyle(bt,"bottom",0,!1)})}_removeStickyStyle(hn,Ze){for(const Kt of Ze)hn.style[Kt]="",hn.classList.remove(this._borderCellCss[Kt]);K.some(Kt=>-1===Ze.indexOf(Kt)&&hn.style[Kt])?hn.style.zIndex=this._getCalculatedZIndex(hn):(hn.style.zIndex="",this._needsPositionStickyOnElement&&(hn.style.position=""),hn.classList.remove(this._stickCellCss))}_addStickyStyle(hn,Ze,bt,Kt){hn.classList.add(this._stickCellCss),Kt&&hn.classList.add(this._borderCellCss[Ze]),hn.style[Ze]=`${bt}px`,hn.style.zIndex=this._getCalculatedZIndex(hn),this._needsPositionStickyOnElement&&(hn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(hn){const Ze={top:100,bottom:10,left:1,right:1};let bt=0;for(const Kt of K)hn.style[Kt]&&(bt+=Ze[Kt]);return bt?`${bt}`:""}_getCellWidths(hn,Ze=!0){if(!Ze&&this._cachedCellWidths.length)return this._cachedCellWidths;const bt=[],Kt=hn.children;for(let Ot=0;Ot<Kt.length;Ot++)bt.push(Kt[Ot].getBoundingClientRect().width);return this._cachedCellWidths=bt,bt}_getStickyStartColumnPositions(hn,Ze){const bt=[];let Kt=0;for(let Ot=0;Ot<hn.length;Ot++)Ze[Ot]&&(bt[Ot]=Kt,Kt+=hn[Ot]);return bt}_getStickyEndColumnPositions(hn,Ze){const bt=[];let Kt=0;for(let Ot=hn.length;Ot>0;Ot--)Ze[Ot]&&(bt[Ot]=Kt,Kt+=hn[Ot]);return bt}}const me=new e.OlP("CDK_SPL");let ye=(()=>{class ct{constructor(Ze,bt){this.viewContainer=Ze,this.elementRef=bt}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","rowOutlet",""]]})}return ct})(),Ne=(()=>{class ct{constructor(Ze,bt){this.viewContainer=Ze,this.elementRef=bt}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","headerRowOutlet",""]]})}return ct})(),tt=(()=>{class ct{constructor(Ze,bt){this.viewContainer=Ze,this.elementRef=bt}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","footerRowOutlet",""]]})}return ct})(),qe=(()=>{class ct{constructor(Ze,bt){this.viewContainer=Ze,this.elementRef=bt}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","noDataRowOutlet",""]]})}return ct})(),ze=(()=>{class ct{get trackBy(){return this._trackByFn}set trackBy(Ze){this._trackByFn=Ze}get dataSource(){return this._dataSource}set dataSource(Ze){this._dataSource!==Ze&&this._switchDataSource(Ze)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ze){this._multiTemplateDataRows=(0,E.Ig)(Ze),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ze){this._fixedLayout=(0,E.Ig)(Ze),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ze,bt,Kt,Ot,yn,Rt,St,It,Zt,gn,Ln,Hn){this._differs=Ze,this._changeDetectorRef=bt,this._elementRef=Kt,this._dir=yn,this._platform=St,this._viewRepeater=It,this._coalescedStyleScheduler=Zt,this._viewportRuler=gn,this._stickyPositioningListener=Ln,this._ngZone=Hn,this._onDestroy=new g.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new d.X({start:0,end:Number.MAX_VALUE}),Ot||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Rt,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ze,bt)=>this.trackBy?this.trackBy(bt.dataIndex,bt.data):bt),this._viewportRuler.change().pipe((0,y.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const bt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||bt,this._forceRecalculateCellWidths=bt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ze=>{Ze.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,A.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ze=this._dataDiffer.diff(this._renderRows);if(!Ze)return this._updateNoDataRow(),void this.contentChanged.next();const bt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ze,bt,(Kt,Ot,yn)=>this._getEmbeddedViewArgs(Kt.item,yn),Kt=>Kt.item.data,Kt=>{1===Kt.operation&&Kt.context&&this._renderCellTemplateForItem(Kt.record.item.rowDef,Kt.context)}),this._updateRowIndexContext(),Ze.forEachIdentityChange(Kt=>{bt.get(Kt.currentIndex).context.$implicit=Kt.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,k.q)(1),(0,y.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ze){this._customColumnDefs.add(Ze)}removeColumnDef(Ze){this._customColumnDefs.delete(Ze)}addRowDef(Ze){this._customRowDefs.add(Ze)}removeRowDef(Ze){this._customRowDefs.delete(Ze)}addHeaderRowDef(Ze){this._customHeaderRowDefs.add(Ze),this._headerRowDefChanged=!0}removeHeaderRowDef(Ze){this._customHeaderRowDefs.delete(Ze),this._headerRowDefChanged=!0}addFooterRowDef(Ze){this._customFooterRowDefs.add(Ze),this._footerRowDefChanged=!0}removeFooterRowDef(Ze){this._customFooterRowDefs.delete(Ze),this._footerRowDefChanged=!0}setNoDataRow(Ze){this._customNoDataRow=Ze}updateStickyHeaderRowStyles(){const Ze=this._getRenderedRows(this._headerRowOutlet),Kt=this._elementRef.nativeElement.querySelector("thead");Kt&&(Kt.style.display=Ze.length?"":"none");const Ot=this._headerRowDefs.map(yn=>yn.sticky);this._stickyStyler.clearStickyPositioning(Ze,["top"]),this._stickyStyler.stickRows(Ze,Ot,"top"),this._headerRowDefs.forEach(yn=>yn.resetStickyChanged())}updateStickyFooterRowStyles(){const Ze=this._getRenderedRows(this._footerRowOutlet),Kt=this._elementRef.nativeElement.querySelector("tfoot");Kt&&(Kt.style.display=Ze.length?"":"none");const Ot=this._footerRowDefs.map(yn=>yn.sticky);this._stickyStyler.clearStickyPositioning(Ze,["bottom"]),this._stickyStyler.stickRows(Ze,Ot,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Ot),this._footerRowDefs.forEach(yn=>yn.resetStickyChanged())}updateStickyColumnStyles(){const Ze=this._getRenderedRows(this._headerRowOutlet),bt=this._getRenderedRows(this._rowOutlet),Kt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ze,...bt,...Kt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ze.forEach((Ot,yn)=>{this._addStickyColumnStyles([Ot],this._headerRowDefs[yn])}),this._rowDefs.forEach(Ot=>{const yn=[];for(let Rt=0;Rt<bt.length;Rt++)this._renderRows[Rt].rowDef===Ot&&yn.push(bt[Rt]);this._addStickyColumnStyles(yn,Ot)}),Kt.forEach((Ot,yn)=>{this._addStickyColumnStyles([Ot],this._footerRowDefs[yn])}),Array.from(this._columnDefsByName.values()).forEach(Ot=>Ot.resetStickyChanged())}_getAllRenderRows(){const Ze=[],bt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Kt=0;Kt<this._data.length;Kt++){let Ot=this._data[Kt];const yn=this._getRenderRowsForData(Ot,Kt,bt.get(Ot));this._cachedRenderRowsMap.has(Ot)||this._cachedRenderRowsMap.set(Ot,new WeakMap);for(let Rt=0;Rt<yn.length;Rt++){let St=yn[Rt];const It=this._cachedRenderRowsMap.get(St.data);It.has(St.rowDef)?It.get(St.rowDef).push(St):It.set(St.rowDef,[St]),Ze.push(St)}}return Ze}_getRenderRowsForData(Ze,bt,Kt){return this._getRowDefs(Ze,bt).map(yn=>{const Rt=Kt&&Kt.has(yn)?Kt.get(yn):[];if(Rt.length){const St=Rt.shift();return St.dataIndex=bt,St}return{data:Ze,rowDef:yn,dataIndex:bt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ht(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(bt=>{this._columnDefsByName.has(bt.name),this._columnDefsByName.set(bt.name,bt)})}_cacheRowDefs(){this._headerRowDefs=ht(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ht(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ht(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ze=this._rowDefs.filter(bt=>!bt.when);this._defaultRowDef=Ze[0]}_renderUpdatedColumns(){const Ze=(yn,Rt)=>yn||!!Rt.getColumnsDiff(),bt=this._rowDefs.reduce(Ze,!1);bt&&this._forceRenderDataRows();const Kt=this._headerRowDefs.reduce(Ze,!1);Kt&&this._forceRenderHeaderRows();const Ot=this._footerRowDefs.reduce(Ze,!1);return Ot&&this._forceRenderFooterRows(),bt||Kt||Ot}_switchDataSource(Ze){this._data=[],(0,A.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ze||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ze}_observeRenderChanges(){if(!this.dataSource)return;let Ze;(0,A.Z9)(this.dataSource)?Ze=this.dataSource.connect(this):(0,u.b)(this.dataSource)?Ze=this.dataSource:Array.isArray(this.dataSource)&&(Ze=(0,m.of)(this.dataSource)),this._renderChangeSubscription=Ze.pipe((0,y.R)(this._onDestroy)).subscribe(bt=>{this._data=bt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ze,bt)=>this._renderRow(this._headerRowOutlet,Ze,bt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ze,bt)=>this._renderRow(this._footerRowOutlet,Ze,bt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ze,bt){const Kt=Array.from(bt.columns||[]).map(Rt=>this._columnDefsByName.get(Rt)),Ot=Kt.map(Rt=>Rt.sticky),yn=Kt.map(Rt=>Rt.stickyEnd);this._stickyStyler.updateStickyColumns(Ze,Ot,yn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ze){const bt=[];for(let Kt=0;Kt<Ze.viewContainer.length;Kt++){const Ot=Ze.viewContainer.get(Kt);bt.push(Ot.rootNodes[0])}return bt}_getRowDefs(Ze,bt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Kt=[];if(this.multiTemplateDataRows)Kt=this._rowDefs.filter(Ot=>!Ot.when||Ot.when(bt,Ze));else{let Ot=this._rowDefs.find(yn=>yn.when&&yn.when(bt,Ze))||this._defaultRowDef;Ot&&Kt.push(Ot)}return Kt}_getEmbeddedViewArgs(Ze,bt){return{templateRef:Ze.rowDef.template,context:{$implicit:Ze.data},index:bt}}_renderRow(Ze,bt,Kt,Ot={}){const yn=Ze.viewContainer.createEmbeddedView(bt.template,Ot,Kt);return this._renderCellTemplateForItem(bt,Ot),yn}_renderCellTemplateForItem(Ze,bt){for(let Kt of this._getCellTemplates(Ze))Ue.mostRecentCellOutlet&&Ue.mostRecentCellOutlet._viewContainer.createEmbeddedView(Kt,bt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ze=this._rowOutlet.viewContainer;for(let bt=0,Kt=Ze.length;bt<Kt;bt++){const yn=Ze.get(bt).context;yn.count=Kt,yn.first=0===bt,yn.last=bt===Kt-1,yn.even=bt%2==0,yn.odd=!yn.even,this.multiTemplateDataRows?(yn.dataIndex=this._renderRows[bt].dataIndex,yn.renderIndex=bt):yn.index=this._renderRows[bt].dataIndex}}_getCellTemplates(Ze){return Ze&&Ze.columns?Array.from(Ze.columns,bt=>{const Kt=this._columnDefsByName.get(bt);return Ze.extractCellTemplate(Kt)}):[]}_applyNativeTableSections(){const Ze=this._document.createDocumentFragment(),bt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Kt of bt){const Ot=this._document.createElement(Kt.tag);Ot.setAttribute("role","rowgroup");for(const yn of Kt.outlets)Ot.appendChild(yn.elementRef.nativeElement);Ze.appendChild(Ot)}this._elementRef.nativeElement.appendChild(Ze)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ze=(bt,Kt)=>bt||Kt.hasStickyChanged();this._headerRowDefs.reduce(Ze,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ze,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ze,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new oe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,m.of)()).pipe((0,y.R)(this._onDestroy)).subscribe(bt=>{this._stickyStyler.direction=bt,this.updateStickyColumnStyles()})}_getOwnDefs(Ze){return Ze.filter(bt=>!bt._table||bt._table===this)}_updateNoDataRow(){const Ze=this._customNoDataRow||this._noDataRow;if(!Ze)return;const bt=0===this._rowOutlet.viewContainer.length;if(bt===this._isShowingNoDataRow)return;const Kt=this._noDataRowOutlet.viewContainer;if(bt){const Ot=Kt.createEmbeddedView(Ze.templateRef),yn=Ot.rootNodes[0];1===Ot.rootNodes.length&&yn?.nodeType===this._document.ELEMENT_NODE&&(yn.setAttribute("role","row"),yn.classList.add(Ze._contentClassName))}else Kt.clear();this._isShowingNoDataRow=bt}static#e=this.\u0275fac=function(bt){return new(bt||ct)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(n.Is,8),e.Y36(w.K0),e.Y36(_.t4),e.Y36(A.k),e.Y36(de),e.Y36(I.rL),e.Y36(me,12),e.Y36(e.R0b,8))};static#t=this.\u0275cmp=e.Xpm({type:ct,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(bt,Kt,Ot){if(1&bt&&(e.Suo(Ot,_e,5),e.Suo(Ot,ae,5),e.Suo(Ot,De,5),e.Suo(Ot,Le,5),e.Suo(Ot,Te,5)),2&bt){let yn;e.iGM(yn=e.CRH())&&(Kt._noDataRow=yn.first),e.iGM(yn=e.CRH())&&(Kt._contentColumnDefs=yn),e.iGM(yn=e.CRH())&&(Kt._contentRowDefs=yn),e.iGM(yn=e.CRH())&&(Kt._contentHeaderRowDefs=yn),e.iGM(yn=e.CRH())&&(Kt._contentFooterRowDefs=yn)}},viewQuery:function(bt,Kt){if(1&bt&&(e.Gf(ye,7),e.Gf(Ne,7),e.Gf(tt,7),e.Gf(qe,7)),2&bt){let Ot;e.iGM(Ot=e.CRH())&&(Kt._rowOutlet=Ot.first),e.iGM(Ot=e.CRH())&&(Kt._headerRowOutlet=Ot.first),e.iGM(Ot=e.CRH())&&(Kt._footerRowOutlet=Ot.first),e.iGM(Ot=e.CRH())&&(Kt._noDataRowOutlet=Ot.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(bt,Kt){2&bt&&e.ekj("cdk-table-fixed-layout",Kt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:T,useExisting:ct},{provide:A.k,useClass:A.yy},{provide:de,useClass:Se},{provide:me,useValue:null}])],ngContentSelectors:B,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(bt,Kt){1&bt&&(e.F$t(P),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ye,Ne,tt,qe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ct})();function ht(ct,hn){return ct.concat(Array.from(hn))}let Ve=(()=>{class ct{static#e=this.\u0275fac=function(bt){return new(bt||ct)};static#t=this.\u0275mod=e.oAB({type:ct});static#n=this.\u0275inj=e.cJS({imports:[I.Cl]})}return ct})();var yt=v(3680),Bt=v(3019),zt=v(2572),Yt=v(7398);const cn=[[["caption"]],[["colgroup"],["col"]]],nn=["caption","colgroup, col"];let Fe=(()=>{class ct extends ze{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275cmp=e.Xpm({type:ct,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(bt,Kt){2&bt&&e.ekj("mdc-table-fixed-layout",Kt.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:ze,useExisting:ct},{provide:T,useExisting:ct},{provide:de,useClass:Se},{provide:A.k,useClass:A.yy},{provide:me,useValue:null}]),e.qOj],ngContentSelectors:nn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(bt,Kt){1&bt&&(e.F$t(cn),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ye,Ne,tt,qe],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ct})(),ke=(()=>{class ct extends O{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:O,useExisting:ct}]),e.qOj]})}return ct})(),it=(()=>{class ct extends M{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:M,useExisting:ct}]),e.qOj]})}return ct})(),ft=(()=>{class ct extends ae{get name(){return this._name}set name(Ze){this._setNameInput(Ze)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:ae,useExisting:ct},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ct}]),e.qOj]})}return ct})(),mt=(()=>{class ct extends j{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.qOj]})}return ct})(),Qt=(()=>{class ct extends Y{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.qOj]})}return ct})(),fn=(()=>{class ct extends Le{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:Le,useExisting:ct}]),e.qOj]})}return ct})(),pn=(()=>{class ct extends De{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:De,useExisting:ct}]),e.qOj]})}return ct})(),Tn=(()=>{class ct extends lt{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275cmp=e.Xpm({type:ct,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:lt,useExisting:ct}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Kt){1&bt&&e.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return ct})(),Fn=(()=>{class ct extends be{static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275cmp=e.Xpm({type:ct,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e._Bn([{provide:be,useExisting:ct}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Kt){1&bt&&e.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return ct})(),Kn=(()=>{class ct extends _e{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let Ze;return function(Kt){return(Ze||(Ze=e.n5z(ct)))(Kt||ct)}}();static#t=this.\u0275dir=e.lG2({type:ct,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:_e,useExisting:ct}]),e.qOj]})}return ct})(),un=(()=>{class ct{static#e=this.\u0275fac=function(bt){return new(bt||ct)};static#t=this.\u0275mod=e.oAB({type:ct});static#n=this.\u0275inj=e.cJS({imports:[yt.BQ,Ve,yt.BQ]})}return ct})();class ln extends A.o2{get data(){return this._data.value}set data(hn){hn=Array.isArray(hn)?hn:[],this._data.next(hn),this._renderChangesSubscription||this._filterData(hn)}get filter(){return this._filter.value}set filter(hn){this._filter.next(hn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(hn){this._sort=hn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(hn){this._paginator=hn,this._updateChangeSubscription()}constructor(hn=[]){super(),this._renderData=new d.X([]),this._filter=new d.X(""),this._internalPageChanges=new g.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ze,bt)=>{const Kt=Ze[bt];if((0,E.t6)(Kt)){const Ot=Number(Kt);return Ot<9007199254740991?Ot:Kt}return Kt},this.sortData=(Ze,bt)=>{const Kt=bt.active,Ot=bt.direction;return Kt&&""!=Ot?Ze.sort((yn,Rt)=>{let St=this.sortingDataAccessor(yn,Kt),It=this.sortingDataAccessor(Rt,Kt);const Zt=typeof St,gn=typeof It;Zt!==gn&&("number"===Zt&&(St+=""),"number"===gn&&(It+=""));let Ln=0;return null!=St&&null!=It?St>It?Ln=1:St<It&&(Ln=-1):null!=St?Ln=1:null!=It&&(Ln=-1),Ln*("asc"==Ot?1:-1)}):Ze},this.filterPredicate=(Ze,bt)=>{const Kt=Object.keys(Ze).reduce((yn,Rt)=>yn+Ze[Rt]+"\u25ec","").toLowerCase(),Ot=bt.trim().toLowerCase();return-1!=Kt.indexOf(Ot)},this._data=new d.X(hn),this._updateChangeSubscription()}_updateChangeSubscription(){const hn=this._sort?(0,Bt.T)(this._sort.sortChange,this._sort.initialized):(0,m.of)(null),Ze=this._paginator?(0,Bt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,m.of)(null),Kt=(0,zt.a)([this._data,this._filter]).pipe((0,Yt.U)(([Rt])=>this._filterData(Rt))),Ot=(0,zt.a)([Kt,hn]).pipe((0,Yt.U)(([Rt])=>this._orderData(Rt))),yn=(0,zt.a)([Ot,Ze]).pipe((0,Yt.U)(([Rt])=>this._pageData(Rt)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=yn.subscribe(Rt=>this._renderData.next(Rt))}_filterData(hn){return this.filteredData=null==this.filter||""===this.filter?hn:hn.filter(Ze=>this.filterPredicate(Ze,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(hn){return this.sort?this.sortData(hn.slice(),this.sort):hn}_pageData(hn){if(!this.paginator)return hn;const Ze=this.paginator.pageIndex*this.paginator.pageSize;return hn.slice(Ze,Ze+this.paginator.pageSize)}_updatePaginator(hn){Promise.resolve().then(()=>{const Ze=this.paginator;if(Ze&&(Ze.length=hn,Ze.pageIndex>0)){const bt=Math.ceil(Ze.length/Ze.pageSize)-1||0,Kt=Math.min(Ze.pageIndex,bt);Kt!==Ze.pageIndex&&(Ze.pageIndex=Kt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Tt extends ln{}},2596:(Bn,et,v)=>{"use strict";v.d(et,{AV:()=>ge,gM:()=>de});var e=v(9773),n=v(8180),E=v(2495),A=v(6028),_=v(5879),I=v(6814),w=v(2831),g=v(4300),o=v(9388),d=v(3651),u=v(799),m=v(8484),y=v(8645),P=(v(6825),v(3680));const B=["tooltip"],D=new _.OlP("mat-tooltip-scroll-strategy"),C={provide:D,deps:[d.aV],useFactory:function T(Ce){return()=>Ce.scrollStrategies.reposition({scrollThrottle:20})}},M=new _.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function O(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Z="tooltip-panel",ee=(0,w.i$)({passive:!0});let ve=(()=>{class Ce{get position(){return this._position}set position(fe){fe!==this._position&&(this._position=fe,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(fe){this._positionAtOrigin=(0,E.Ig)(fe),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(fe){this._disabled=(0,E.Ig)(fe),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(fe){this._showDelay=(0,E.su)(fe)}get hideDelay(){return this._hideDelay}set hideDelay(fe){this._hideDelay=(0,E.su)(fe),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(fe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=fe?String(fe).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(fe){this._tooltipClass=fe,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(fe,we,Te,De,Ue,lt,He,be,_e,K,oe,pe){this._overlay=fe,this._elementRef=we,this._scrollDispatcher=Te,this._viewContainerRef=De,this._ngZone=Ue,this._platform=lt,this._ariaDescriber=He,this._focusMonitor=be,this._dir=K,this._defaultOptions=oe,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new y.x,this._scrollStrategy=_e,this._document=pe,oe&&(this._showDelay=oe.showDelay,this._hideDelay=oe.hideDelay,oe.position&&(this.position=oe.position),oe.positionAtOrigin&&(this.positionAtOrigin=oe.positionAtOrigin),oe.touchGestures&&(this.touchGestures=oe.touchGestures)),K.change.pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.R)(this._destroyed)).subscribe(fe=>{fe?"keyboard"===fe&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const fe=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([we,Te])=>{fe.removeEventListener(we,Te,ee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(fe,this.message,"tooltip"),this._focusMonitor.stopMonitoring(fe)}show(fe=this.showDelay,we){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Te=this._createOverlay(we);this._detach(),this._portal=this._portal||new m.C5(this._tooltipComponent,this._viewContainerRef);const De=this._tooltipInstance=Te.attach(this._portal).instance;De._triggerElement=this._elementRef.nativeElement,De._mouseLeaveHideDelay=this._hideDelay,De.afterHidden().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),De.show(fe)}hide(fe=this.hideDelay){const we=this._tooltipInstance;we&&(we.isVisible()?we.hide(fe):(we._cancelPendingAnimations(),this._detach()))}toggle(fe){this._isTooltipVisible()?this.hide():this.show(void 0,fe)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(fe){if(this._overlayRef){const De=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!fe)&&De._origin instanceof _.SBq)return this._overlayRef;this._detach()}const we=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Te=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&fe||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(we);return Te.positionChanges.pipe((0,e.R)(this._destroyed)).subscribe(De=>{this._updateCurrentPositionClass(De.connectionPair),this._tooltipInstance&&De.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Te,panelClass:`${this._cssClassPrefix}-${Z}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.R)(this._destroyed)).subscribe(De=>{this._isTooltipVisible()&&De.keyCode===A.hY&&!(0,A.Vb)(De)&&(De.preventDefault(),De.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(fe){const we=fe.getConfig().positionStrategy,Te=this._getOrigin(),De=this._getOverlayPosition();we.withPositions([this._addOffset({...Te.main,...De.main}),this._addOffset({...Te.fallback,...De.fallback})])}_addOffset(fe){return fe}_getOrigin(){const fe=!this._dir||"ltr"==this._dir.value,we=this.position;let Te;"above"==we||"below"==we?Te={originX:"center",originY:"above"==we?"top":"bottom"}:"before"==we||"left"==we&&fe||"right"==we&&!fe?Te={originX:"start",originY:"center"}:("after"==we||"right"==we&&fe||"left"==we&&!fe)&&(Te={originX:"end",originY:"center"});const{x:De,y:Ue}=this._invertPosition(Te.originX,Te.originY);return{main:Te,fallback:{originX:De,originY:Ue}}}_getOverlayPosition(){const fe=!this._dir||"ltr"==this._dir.value,we=this.position;let Te;"above"==we?Te={overlayX:"center",overlayY:"bottom"}:"below"==we?Te={overlayX:"center",overlayY:"top"}:"before"==we||"left"==we&&fe||"right"==we&&!fe?Te={overlayX:"end",overlayY:"center"}:("after"==we||"right"==we&&fe||"left"==we&&!fe)&&(Te={overlayX:"start",overlayY:"center"});const{x:De,y:Ue}=this._invertPosition(Te.overlayX,Te.overlayY);return{main:Te,fallback:{overlayX:De,overlayY:Ue}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,n.q)(1),(0,e.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(fe){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=fe,this._tooltipInstance._markForCheck())}_invertPosition(fe,we){return"above"===this.position||"below"===this.position?"top"===we?we="bottom":"bottom"===we&&(we="top"):"end"===fe?fe="start":"start"===fe&&(fe="end"),{x:fe,y:we}}_updateCurrentPositionClass(fe){const{overlayY:we,originX:Te,originY:De}=fe;let Ue;if(Ue="center"===we?this._dir&&"rtl"===this._dir.value?"end"===Te?"left":"right":"start"===Te?"left":"right":"bottom"===we&&"top"===De?"above":"below",Ue!==this._currentPosition){const lt=this._overlayRef;if(lt){const He=`${this._cssClassPrefix}-${Z}-`;lt.removePanelClass(He+this._currentPosition),lt.addPanelClass(He+Ue)}this._currentPosition=Ue}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",fe=>{let we;this._setupPointerExitEventsIfNeeded(),void 0!==fe.x&&void 0!==fe.y&&(we=fe),this.show(void 0,we)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",fe=>{const we=fe.targetTouches?.[0],Te=we?{x:we.clientX,y:we.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Te),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const fe=[];if(this._platformSupportsMouseEvents())fe.push(["mouseleave",we=>{const Te=we.relatedTarget;(!Te||!this._overlayRef?.overlayElement.contains(Te))&&this.hide()}],["wheel",we=>this._wheelListener(we)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const we=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};fe.push(["touchend",we],["touchcancel",we])}this._addListeners(fe),this._passiveListeners.push(...fe)}_addListeners(fe){fe.forEach(([we,Te])=>{this._elementRef.nativeElement.addEventListener(we,Te,ee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(fe){if(this._isTooltipVisible()){const we=this._document.elementFromPoint(fe.clientX,fe.clientY),Te=this._elementRef.nativeElement;we!==Te&&!Te.contains(we)&&this.hide()}}_disableNativeGesturesIfNecessary(){const fe=this.touchGestures;if("off"!==fe){const we=this._elementRef.nativeElement,Te=we.style;("on"===fe||"INPUT"!==we.nodeName&&"TEXTAREA"!==we.nodeName)&&(Te.userSelect=Te.msUserSelect=Te.webkitUserSelect=Te.MozUserSelect="none"),("on"===fe||!we.draggable)&&(Te.webkitUserDrag="none"),Te.touchAction="none",Te.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(we){_.$Z()};static#t=this.\u0275dir=_.lG2({type:Ce,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Ce})(),de=(()=>{class Ce extends ve{constructor(fe,we,Te,De,Ue,lt,He,be,_e,K,oe,pe){super(fe,we,Te,De,Ue,lt,He,be,_e,K,oe,pe),this._tooltipComponent=xe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(fe){const Te=!this._dir||"ltr"==this._dir.value;return"top"===fe.originY?fe.offsetY=-8:"bottom"===fe.originY?fe.offsetY=8:"start"===fe.originX?fe.offsetX=Te?-8:8:"end"===fe.originX&&(fe.offsetX=Te?8:-8),fe}static#e=this.\u0275fac=function(we){return new(we||Ce)(_.Y36(d.aV),_.Y36(_.SBq),_.Y36(u.mF),_.Y36(_.s_b),_.Y36(_.R0b),_.Y36(w.t4),_.Y36(g.$s),_.Y36(g.tE),_.Y36(D),_.Y36(o.Is,8),_.Y36(M,8),_.Y36(I.K0))};static#t=this.\u0275dir=_.lG2({type:Ce,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(we,Te){2&we&&_.ekj("mat-mdc-tooltip-disabled",Te.disabled)},exportAs:["matTooltip"],features:[_.qOj]})}return Ce})(),Se=(()=>{class Ce{constructor(fe,we){this._changeDetectorRef=fe,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new y.x,this._animationsDisabled="NoopAnimations"===we}show(fe){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},fe)}hide(fe){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},fe)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:fe}){(!fe||!this._triggerElement.contains(fe))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:fe}){(fe===this._showAnimation||fe===this._hideAnimation)&&this._finalizeAnimation(fe===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(fe){fe?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(fe){const we=this._tooltip.nativeElement,Te=this._showAnimation,De=this._hideAnimation;if(we.classList.remove(fe?De:Te),we.classList.add(fe?Te:De),this._isVisible=fe,fe&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ue=getComputedStyle(we);("0s"===Ue.getPropertyValue("animation-duration")||"none"===Ue.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}fe&&this._onShow(),this._animationsDisabled&&(we.classList.add("_mat-animation-noopable"),this._finalizeAnimation(fe))}static#e=this.\u0275fac=function(we){return new(we||Ce)(_.Y36(_.sBO),_.Y36(_.QbO,8))};static#t=this.\u0275dir=_.lG2({type:Ce})}return Ce})(),xe=(()=>{class Ce extends Se{constructor(fe,we,Te){super(fe,Te),this._elementRef=we,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const fe=this._elementRef.nativeElement.getBoundingClientRect();return fe.height>24&&fe.width>=200}static#e=this.\u0275fac=function(we){return new(we||Ce)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.QbO,8))};static#t=this.\u0275cmp=_.Xpm({type:Ce,selectors:[["mat-tooltip-component"]],viewQuery:function(we,Te){if(1&we&&_.Gf(B,7),2&we){let De;_.iGM(De=_.CRH())&&(Te._tooltip=De.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(we,Te){1&we&&_.NdJ("mouseleave",function(Ue){return Te._handleMouseLeave(Ue)}),2&we&&_.Udp("zoom",Te.isVisible()?1:null)},features:[_.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(we,Te){1&we&&(_.TgZ(0,"div",0,1),_.NdJ("animationend",function(Ue){return Te._handleAnimationEnd(Ue)}),_.TgZ(2,"div",2),_._uU(3),_.qZA()()),2&we&&(_.ekj("mdc-tooltip--multiline",Te._isMultiline),_.Q6J("ngClass",Te.tooltipClass),_.xp6(3),_.Oqu(Te.message))},dependencies:[I.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Ce})(),ge=(()=>{class Ce{static#e=this.\u0275fac=function(we){return new(we||Ce)};static#t=this.\u0275mod=_.oAB({type:Ce});static#n=this.\u0275inj=_.cJS({providers:[C],imports:[g.rt,I.ez,d.U8,P.BQ,P.BQ,u.ZD]})}return Ce})()},6593:(Bn,et,v)=>{"use strict";v.d(et,{Dx:()=>ne,H7:()=>Bt,b2:()=>pe,q6:()=>be,se:()=>ee});var e=v(5879),n=v(6814);class E extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class A extends E{static makeCurrent(){(0,n.HT)(new A)}onAndCancel(ft,mt,Et){return ft.addEventListener(mt,Et),()=>{ft.removeEventListener(mt,Et)}}dispatchEvent(ft,mt){ft.dispatchEvent(mt)}remove(ft){ft.parentNode&&ft.parentNode.removeChild(ft)}createElement(ft,mt){return(mt=mt||this.getDefaultDocument()).createElement(ft)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ft){return ft.nodeType===Node.ELEMENT_NODE}isShadowRoot(ft){return ft instanceof DocumentFragment}getGlobalEventTarget(ft,mt){return"window"===mt?window:"document"===mt?ft:"body"===mt?ft.body:null}getBaseHref(ft){const mt=function I(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==mt?null:function g(ot){w=w||document.createElement("a"),w.setAttribute("href",ot);const ft=w.pathname;return"/"===ft.charAt(0)?ft:`/${ft}`}(mt)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(ft){return(0,n.Mx)(document.cookie,ft)}}let w,_=null,d=(()=>{class ot{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Et){return new(Et||ot)};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const u=new e.OlP("EventManagerPlugins");let m=(()=>{class ot{constructor(mt,Et){this._zone=Et,this._eventNameToPlugin=new Map,mt.forEach(Qt=>{Qt.manager=this}),this._plugins=mt.slice().reverse()}addEventListener(mt,Et,Qt){return this._findPluginFor(Et).addEventListener(mt,Et,Qt)}getZone(){return this._zone}_findPluginFor(mt){let Et=this._eventNameToPlugin.get(mt);if(Et)return Et;if(Et=this._plugins.find(fn=>fn.supports(mt)),!Et)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(mt,Et),Et}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(u),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();class y{constructor(ft){this._doc=ft}}const k="ng-app-id";let P=(()=>{class ot{constructor(mt,Et,Qt,fn={}){this.doc=mt,this.appId=Et,this.nonce=Qt,this.platformId=fn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,n.PM)(fn),this.resetHostNodes()}addStyles(mt){for(const Et of mt)1===this.changeUsageCount(Et,1)&&this.onStyleAdded(Et)}removeStyles(mt){for(const Et of mt)this.changeUsageCount(Et,-1)<=0&&this.onStyleRemoved(Et)}ngOnDestroy(){const mt=this.styleNodesInDOM;mt&&(mt.forEach(Et=>Et.remove()),mt.clear());for(const Et of this.getAllStyles())this.onStyleRemoved(Et);this.resetHostNodes()}addHost(mt){this.hostNodes.add(mt);for(const Et of this.getAllStyles())this.addStyleToHost(mt,Et)}removeHost(mt){this.hostNodes.delete(mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(mt){for(const Et of this.hostNodes)this.addStyleToHost(Et,mt)}onStyleRemoved(mt){const Et=this.styleRef;Et.get(mt)?.elements?.forEach(Qt=>Qt.remove()),Et.delete(mt)}collectServerRenderedStyles(){const mt=this.doc.head?.querySelectorAll(`style[${k}="${this.appId}"]`);if(mt?.length){const Et=new Map;return mt.forEach(Qt=>{null!=Qt.textContent&&Et.set(Qt.textContent,Qt)}),Et}return null}changeUsageCount(mt,Et){const Qt=this.styleRef;if(Qt.has(mt)){const fn=Qt.get(mt);return fn.usage+=Et,fn.usage}return Qt.set(mt,{usage:Et,elements:[]}),Et}getStyleElement(mt,Et){const Qt=this.styleNodesInDOM,fn=Qt?.get(Et);if(fn?.parentNode===mt)return Qt.delete(Et),fn.removeAttribute(k),fn;{const Jt=this.doc.createElement("style");return this.nonce&&Jt.setAttribute("nonce",this.nonce),Jt.textContent=Et,this.platformIsServer&&Jt.setAttribute(k,this.appId),Jt}}addStyleToHost(mt,Et){const Qt=this.getStyleElement(mt,Et);mt.appendChild(Qt);const fn=this.styleRef,Jt=fn.get(Et)?.elements;Jt?Jt.push(Qt):fn.set(Et,{elements:[Qt],usage:1})}resetHostNodes(){const mt=this.hostNodes;mt.clear(),mt.add(this.doc.head)}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(n.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const B={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},F=/%COMP%/g,R="%COMP%",D=`_nghost-${R}`,T=`_ngcontent-${R}`,O=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Z(ot,ft){return ft.map(mt=>mt.replace(F,ot))}let ee=(()=>{class ot{constructor(mt,Et,Qt,fn,Jt,pn,Tn,Dn=null){this.eventManager=mt,this.sharedStylesHost=Et,this.appId=Qt,this.removeStylesOnCompDestroy=fn,this.doc=Jt,this.platformId=pn,this.ngZone=Tn,this.nonce=Dn,this.rendererByCompId=new Map,this.platformIsServer=(0,n.PM)(pn),this.defaultRenderer=new ae(mt,Jt,Tn,this.platformIsServer)}createRenderer(mt,Et){if(!mt||!Et)return this.defaultRenderer;this.platformIsServer&&Et.encapsulation===e.ifc.ShadowDom&&(Et={...Et,encapsulation:e.ifc.Emulated});const Qt=this.getOrCreateRenderer(mt,Et);return Qt instanceof de?Qt.applyToHost(mt):Qt instanceof ve&&Qt.applyStyles(),Qt}getOrCreateRenderer(mt,Et){const Qt=this.rendererByCompId;let fn=Qt.get(Et.id);if(!fn){const Jt=this.doc,pn=this.ngZone,Tn=this.eventManager,Dn=this.sharedStylesHost,Fn=this.removeStylesOnCompDestroy,Kn=this.platformIsServer;switch(Et.encapsulation){case e.ifc.Emulated:fn=new de(Tn,Dn,Et,this.appId,Fn,Jt,pn,Kn);break;case e.ifc.ShadowDom:return new Y(Tn,Dn,mt,Et,Jt,pn,this.nonce,Kn);default:fn=new ve(Tn,Dn,Et,Fn,Jt,pn,Kn)}Qt.set(Et.id,fn)}return fn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(m),e.LFG(P),e.LFG(e.AFp),e.LFG(O),e.LFG(n.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();class ae{constructor(ft,mt,Et,Qt){this.eventManager=ft,this.doc=mt,this.ngZone=Et,this.platformIsServer=Qt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ft,mt){return mt?this.doc.createElementNS(B[mt]||mt,ft):this.doc.createElement(ft)}createComment(ft){return this.doc.createComment(ft)}createText(ft){return this.doc.createTextNode(ft)}appendChild(ft,mt){(le(ft)?ft.content:ft).appendChild(mt)}insertBefore(ft,mt,Et){ft&&(le(ft)?ft.content:ft).insertBefore(mt,Et)}removeChild(ft,mt){ft&&ft.removeChild(mt)}selectRootElement(ft,mt){let Et="string"==typeof ft?this.doc.querySelector(ft):ft;if(!Et)throw new e.vHH(-5104,!1);return mt||(Et.textContent=""),Et}parentNode(ft){return ft.parentNode}nextSibling(ft){return ft.nextSibling}setAttribute(ft,mt,Et,Qt){if(Qt){mt=Qt+":"+mt;const fn=B[Qt];fn?ft.setAttributeNS(fn,mt,Et):ft.setAttribute(mt,Et)}else ft.setAttribute(mt,Et)}removeAttribute(ft,mt,Et){if(Et){const Qt=B[Et];Qt?ft.removeAttributeNS(Qt,mt):ft.removeAttribute(`${Et}:${mt}`)}else ft.removeAttribute(mt)}addClass(ft,mt){ft.classList.add(mt)}removeClass(ft,mt){ft.classList.remove(mt)}setStyle(ft,mt,Et,Qt){Qt&(e.JOm.DashCase|e.JOm.Important)?ft.style.setProperty(mt,Et,Qt&e.JOm.Important?"important":""):ft.style[mt]=Et}removeStyle(ft,mt,Et){Et&e.JOm.DashCase?ft.style.removeProperty(mt):ft.style[mt]=""}setProperty(ft,mt,Et){ft[mt]=Et}setValue(ft,mt){ft.nodeValue=mt}listen(ft,mt,Et){if("string"==typeof ft&&!(ft=(0,n.q)().getGlobalEventTarget(this.doc,ft)))throw new Error(`Unsupported event target ${ft} for event ${mt}`);return this.eventManager.addEventListener(ft,mt,this.decoratePreventDefault(Et))}decoratePreventDefault(ft){return mt=>{if("__ngUnwrap__"===mt)return ft;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ft(mt)):ft(mt))&&mt.preventDefault()}}}function le(ot){return"TEMPLATE"===ot.tagName&&void 0!==ot.content}class Y extends ae{constructor(ft,mt,Et,Qt,fn,Jt,pn,Tn){super(ft,fn,Jt,Tn),this.sharedStylesHost=mt,this.hostEl=Et,this.shadowRoot=Et.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dn=Z(Qt.id,Qt.styles);for(const Fn of Dn){const Kn=document.createElement("style");pn&&Kn.setAttribute("nonce",pn),Kn.textContent=Fn,this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(ft){return ft===this.hostEl?this.shadowRoot:ft}appendChild(ft,mt){return super.appendChild(this.nodeOrShadowRoot(ft),mt)}insertBefore(ft,mt,Et){return super.insertBefore(this.nodeOrShadowRoot(ft),mt,Et)}removeChild(ft,mt){return super.removeChild(this.nodeOrShadowRoot(ft),mt)}parentNode(ft){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ft)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ve extends ae{constructor(ft,mt,Et,Qt,fn,Jt,pn,Tn){super(ft,fn,Jt,pn),this.sharedStylesHost=mt,this.removeStylesOnCompDestroy=Qt,this.styles=Tn?Z(Tn,Et.styles):Et.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class de extends ve{constructor(ft,mt,Et,Qt,fn,Jt,pn,Tn){const Dn=Qt+"-"+Et.id;super(ft,mt,Et,fn,Jt,pn,Tn,Dn),this.contentAttr=function M(ot){return T.replace(F,ot)}(Dn),this.hostAttr=function G(ot){return D.replace(F,ot)}(Dn)}applyToHost(ft){this.applyStyles(),this.setAttribute(ft,this.hostAttr,"")}createElement(ft,mt){const Et=super.createElement(ft,mt);return super.setAttribute(Et,this.contentAttr,""),Et}}let Se=(()=>{class ot extends y{constructor(mt){super(mt)}supports(mt){return!0}addEventListener(mt,Et,Qt){return mt.addEventListener(Et,Qt,!1),()=>this.removeEventListener(mt,Et,Qt)}removeEventListener(mt,Et,Qt){return mt.removeEventListener(Et,Qt)}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const xe=["alt","control","meta","shift"],Ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={alt:ot=>ot.altKey,control:ot=>ot.ctrlKey,meta:ot=>ot.metaKey,shift:ot=>ot.shiftKey};let Ce=(()=>{class ot extends y{constructor(mt){super(mt)}supports(mt){return null!=ot.parseEventName(mt)}addEventListener(mt,Et,Qt){const fn=ot.parseEventName(Et),Jt=ot.eventCallback(fn.fullKey,Qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(mt,fn.domEventName,Jt))}static parseEventName(mt){const Et=mt.toLowerCase().split("."),Qt=Et.shift();if(0===Et.length||"keydown"!==Qt&&"keyup"!==Qt)return null;const fn=ot._normalizeKey(Et.pop());let Jt="",pn=Et.indexOf("code");if(pn>-1&&(Et.splice(pn,1),Jt="code."),xe.forEach(Dn=>{const Fn=Et.indexOf(Dn);Fn>-1&&(Et.splice(Fn,1),Jt+=Dn+".")}),Jt+=fn,0!=Et.length||0===fn.length)return null;const Tn={};return Tn.domEventName=Qt,Tn.fullKey=Jt,Tn}static matchEventFullKeyCode(mt,Et){let Qt=Ge[mt.key]||mt.key,fn="";return Et.indexOf("code.")>-1&&(Qt=mt.code,fn="code."),!(null==Qt||!Qt)&&(Qt=Qt.toLowerCase()," "===Qt?Qt="space":"."===Qt&&(Qt="dot"),xe.forEach(Jt=>{Jt!==Qt&&(0,ge[Jt])(mt)&&(fn+=Jt+".")}),fn+=Qt,fn===Et)}static eventCallback(mt,Et,Qt){return fn=>{ot.matchEventFullKeyCode(fn,mt)&&Qt.runGuarded(()=>Et(fn))}}static _normalizeKey(mt){return"esc"===mt?"escape":mt}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const be=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:n.bD},{provide:e.g9A,useValue:function De(){A.makeCurrent()},multi:!0},{provide:n.K0,useFactory:function lt(){return(0,e.RDi)(document),document},deps:[]}]),_e=new e.OlP(""),K=[{provide:e.rWj,useClass:class o{addToWindow(ft){e.dqk.getAngularTestability=(Et,Qt=!0)=>{const fn=ft.findTestabilityInTree(Et,Qt);if(null==fn)throw new e.vHH(5103,!1);return fn},e.dqk.getAllAngularTestabilities=()=>ft.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>ft.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(Et=>{const Qt=e.dqk.getAllAngularTestabilities();let fn=Qt.length,Jt=!1;const pn=function(Tn){Jt=Jt||Tn,fn--,0==fn&&Et(Jt)};Qt.forEach(Tn=>{Tn.whenStable(pn)})})}findTestabilityInTree(ft,mt,Et){return null==mt?null:ft.getTestability(mt)??(Et?(0,n.q)().isShadowRoot(mt)?this.findTestabilityInTree(ft,mt.host,!0):this.findTestabilityInTree(ft,mt.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],oe=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Ue(){return new e.qLn},deps:[]},{provide:u,useClass:Se,multi:!0,deps:[n.K0,e.R0b,e.Lbi]},{provide:u,useClass:Ce,multi:!0,deps:[n.K0]},ee,P,m,{provide:e.FYo,useExisting:ee},{provide:n.JF,useClass:d,deps:[]},[]];let pe=(()=>{class ot{constructor(mt){}static withServerTransition(mt){return{ngModule:ot,providers:[{provide:e.AFp,useValue:mt.appId}]}}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(_e,12))};static#t=this.\u0275mod=e.oAB({type:ot});static#n=this.\u0275inj=e.cJS({providers:[...oe,...K],imports:[n.ez,e.hGG]})}return ot})(),ne=(()=>{class ot{constructor(mt){this._doc=mt}getTitle(){return this._doc.title}setTitle(mt){this._doc.title=mt||""}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:function(Et){let Qt=null;return Qt=Et?new Et:function $(){return new ne((0,e.LFG)(n.K0))}(),Qt},providedIn:"root"})}return ot})();typeof window<"u"&&window;let Bt=(()=>{class ot{static#e=this.\u0275fac=function(Et){return new(Et||ot)};static#t=this.\u0275prov=e.Yz7({token:ot,factory:function(Et){let Qt=null;return Qt=Et?new(Et||ot):e.LFG(Yt),Qt},providedIn:"root"})}return ot})(),Yt=(()=>{class ot extends Bt{constructor(mt){super(),this._doc=mt}sanitize(mt,Et){if(null==Et)return null;switch(mt){case e.q3G.NONE:return Et;case e.q3G.HTML:return(0,e.qzn)(Et,"HTML")?(0,e.z3N)(Et):(0,e.EiD)(this._doc,String(Et)).toString();case e.q3G.STYLE:return(0,e.qzn)(Et,"Style")?(0,e.z3N)(Et):Et;case e.q3G.SCRIPT:if((0,e.qzn)(Et,"Script"))return(0,e.z3N)(Et);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(Et,"URL")?(0,e.z3N)(Et):(0,e.mCW)(String(Et));case e.q3G.RESOURCE_URL:if((0,e.qzn)(Et,"ResourceURL"))return(0,e.z3N)(Et);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(mt){return(0,e.JVY)(mt)}bypassSecurityTrustStyle(mt){return(0,e.L6k)(mt)}bypassSecurityTrustScript(mt){return(0,e.eBb)(mt)}bypassSecurityTrustUrl(mt){return(0,e.LAX)(mt)}bypassSecurityTrustResourceUrl(mt){return(0,e.pB0)(mt)}static#e=this.\u0275fac=function(Et){return new(Et||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:function(Et){let Qt=null;return Qt=Et?new Et:function zt(ot){return new Yt(ot.get(n.K0))}(e.LFG(e.zs3)),Qt},providedIn:"root"})}return ot})()},5612:(Bn,et,v)=>{"use strict";v.d(et,{gz:()=>rr,F0:()=>co,rH:()=>Ko,Bz:()=>Oa,lC:()=>Ri});var e=v(5879),n=v(2664),E=v(2459),A=v(2096),_=v(5619),I=v(2572),w=v(6973),g=v(5211),o=v(4911),d=v(8407),u=v(5592),m=v(4674);function y(Pe,rt){const Me=(0,m.m)(Pe)?Pe:()=>Pe,Je=Nt=>Nt.error(Me());return new u.y(rt?Nt=>rt.schedule(Je,0,Nt):Je)}var k=v(6232),P=v(3168),B=v(8645),F=v(6814),R=v(7398),D=v(4664),T=v(8180),C=v(7921),O=v(2181),M=v(1631),G=v(1374),Z=v(6328),ee=v(9397),ae=v(4829),Ae=v(8251),j=v(9360);function le(Pe){return(0,j.e)((rt,Me)=>{let tn,Je=null,Nt=!1;Je=rt.subscribe((0,Ae.x)(Me,void 0,void 0,en=>{tn=(0,ae.Xf)(Pe(en,le(Pe)(rt))),Je?(Je.unsubscribe(),Je=null,tn.subscribe(Me)):Nt=!0})),Nt&&(Je.unsubscribe(),Je=null,tn.subscribe(Me))})}var de=v(3572);function Se(Pe){return Pe<=0?()=>k.E:(0,j.e)((rt,Me)=>{let Je=[];rt.subscribe((0,Ae.x)(Me,Nt=>{Je.push(Nt),Pe<Je.length&&Je.shift()},()=>{for(const Nt of Je)Me.next(Nt);Me.complete()},void 0,()=>{Je=null}))})}var xe=v(3026),Ge=v(2737),Ce=v(975),Le=v(4716),fe=v(6196),we=v(7537),Te=v(6593);const De="primary",Ue=Symbol("RouteTitle");class lt{constructor(rt){this.params=rt||{}}has(rt){return Object.prototype.hasOwnProperty.call(this.params,rt)}get(rt){if(this.has(rt)){const Me=this.params[rt];return Array.isArray(Me)?Me[0]:Me}return null}getAll(rt){if(this.has(rt)){const Me=this.params[rt];return Array.isArray(Me)?Me:[Me]}return[]}get keys(){return Object.keys(this.params)}}function He(Pe){return new lt(Pe)}function be(Pe,rt,Me){const Je=Me.path.split("/");if(Je.length>Pe.length||"full"===Me.pathMatch&&(rt.hasChildren()||Je.length<Pe.length))return null;const Nt={};for(let tn=0;tn<Je.length;tn++){const en=Je[tn],Rn=Pe[tn];if(en.startsWith(":"))Nt[en.substring(1)]=Rn;else if(en!==Rn.path)return null}return{consumed:Pe.slice(0,Je.length),posParams:Nt}}function K(Pe,rt){const Me=Pe?Object.keys(Pe):void 0,Je=rt?Object.keys(rt):void 0;if(!Me||!Je||Me.length!=Je.length)return!1;let Nt;for(let tn=0;tn<Me.length;tn++)if(Nt=Me[tn],!oe(Pe[Nt],rt[Nt]))return!1;return!0}function oe(Pe,rt){if(Array.isArray(Pe)&&Array.isArray(rt)){if(Pe.length!==rt.length)return!1;const Me=[...Pe].sort(),Je=[...rt].sort();return Me.every((Nt,tn)=>Je[tn]===Nt)}return Pe===rt}function pe(Pe){return Pe.length>0?Pe[Pe.length-1]:null}function re(Pe){return(0,n.b)(Pe)?Pe:(0,e.QGY)(Pe)?(0,E.D)(Promise.resolve(Pe)):(0,A.of)(Pe)}const Q={exact:function J(Pe,rt,Me){if(!ut(Pe.segments,rt.segments)||!ye(Pe.segments,rt.segments,Me)||Pe.numberOfChildren!==rt.numberOfChildren)return!1;for(const Je in rt.children)if(!Pe.children[Je]||!J(Pe.children[Je],rt.children[Je],Me))return!1;return!0},subset:me},X={exact:function ne(Pe,rt){return K(Pe,rt)},subset:function q(Pe,rt){return Object.keys(rt).length<=Object.keys(Pe).length&&Object.keys(rt).every(Me=>oe(Pe[Me],rt[Me]))},ignored:()=>!0};function $(Pe,rt,Me){return Q[Me.paths](Pe.root,rt.root,Me.matrixParams)&&X[Me.queryParams](Pe.queryParams,rt.queryParams)&&!("exact"===Me.fragment&&Pe.fragment!==rt.fragment)}function me(Pe,rt,Me){return Ee(Pe,rt,rt.segments,Me)}function Ee(Pe,rt,Me,Je){if(Pe.segments.length>Me.length){const Nt=Pe.segments.slice(0,Me.length);return!(!ut(Nt,Me)||rt.hasChildren()||!ye(Nt,Me,Je))}if(Pe.segments.length===Me.length){if(!ut(Pe.segments,Me)||!ye(Pe.segments,Me,Je))return!1;for(const Nt in rt.children)if(!Pe.children[Nt]||!me(Pe.children[Nt],rt.children[Nt],Je))return!1;return!0}{const Nt=Me.slice(0,Pe.segments.length),tn=Me.slice(Pe.segments.length);return!!(ut(Pe.segments,Nt)&&ye(Pe.segments,Nt,Je)&&Pe.children[De])&&Ee(Pe.children[De],rt,tn,Je)}}function ye(Pe,rt,Me){return rt.every((Je,Nt)=>X[Me](Pe[Nt].parameters,Je.parameters))}class Ne{constructor(rt=new tt([],{}),Me={},Je=null){this.root=rt,this.queryParams=Me,this.fragment=Je}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=He(this.queryParams)),this._queryParamMap}toString(){return ce.serialize(this)}}class tt{constructor(rt,Me){this.segments=rt,this.children=Me,this.parent=null,Object.values(Me).forEach(Je=>Je.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ve(this)}}class qe{constructor(rt,Me){this.path=rt,this.parameters=Me}get parameterMap(){return this._parameterMap||(this._parameterMap=He(this.parameters)),this._parameterMap}toString(){return gt(this)}}function ut(Pe,rt){return Pe.length===rt.length&&Pe.every((Me,Je)=>Me.path===rt[Je].path)}let ht=(()=>{class Pe{static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:function(){return new vt},providedIn:"root"})}return Pe})();class vt{parse(rt){const Me=new Jt(rt);return new Ne(Me.parseRootSegment(),Me.parseQueryParams(),Me.parseFragment())}serialize(rt){const Me=`/${yt(rt.root,!0)}`,Je=function Fe(Pe){const rt=Object.keys(Pe).map(Me=>{const Je=Pe[Me];return Array.isArray(Je)?Je.map(Nt=>`${zt(Me)}=${zt(Nt)}`).join("&"):`${zt(Me)}=${zt(Je)}`}).filter(Me=>!!Me);return rt.length?`?${rt.join("&")}`:""}(rt.queryParams);return`${Me}${Je}${"string"==typeof rt.fragment?`#${function Yt(Pe){return encodeURI(Pe)}(rt.fragment)}`:""}`}}const ce=new vt;function Ve(Pe){return Pe.segments.map(rt=>gt(rt)).join("/")}function yt(Pe,rt){if(!Pe.hasChildren())return Ve(Pe);if(rt){const Me=Pe.children[De]?yt(Pe.children[De],!1):"",Je=[];return Object.entries(Pe.children).forEach(([Nt,tn])=>{Nt!==De&&Je.push(`${Nt}:${yt(tn,!1)}`)}),Je.length>0?`${Me}(${Je.join("//")})`:Me}{const Me=function ze(Pe,rt){let Me=[];return Object.entries(Pe.children).forEach(([Je,Nt])=>{Je===De&&(Me=Me.concat(rt(Nt,Je)))}),Object.entries(Pe.children).forEach(([Je,Nt])=>{Je!==De&&(Me=Me.concat(rt(Nt,Je)))}),Me}(Pe,(Je,Nt)=>Nt===De?[yt(Pe.children[De],!1)]:[`${Nt}:${yt(Je,!1)}`]);return 1===Object.keys(Pe.children).length&&null!=Pe.children[De]?`${Ve(Pe)}/${Me[0]}`:`${Ve(Pe)}/(${Me.join("//")})`}}function Bt(Pe){return encodeURIComponent(Pe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zt(Pe){return Bt(Pe).replace(/%3B/gi,";")}function cn(Pe){return Bt(Pe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nn(Pe){return decodeURIComponent(Pe)}function Mt(Pe){return nn(Pe.replace(/\+/g,"%20"))}function gt(Pe){return`${cn(Pe.path)}${function Qe(Pe){return Object.keys(Pe).map(rt=>`;${cn(rt)}=${cn(Pe[rt])}`).join("")}(Pe.parameters)}`}const ke=/^[^\/()?;#]+/;function it(Pe){const rt=Pe.match(ke);return rt?rt[0]:""}const ot=/^[^\/()?;=#]+/,mt=/^[^=?&#]+/,Qt=/^[^&#]+/;class Jt{constructor(rt){this.url=rt,this.remaining=rt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tt([],{}):new tt([],this.parseChildren())}parseQueryParams(){const rt={};if(this.consumeOptional("?"))do{this.parseQueryParam(rt)}while(this.consumeOptional("&"));return rt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const rt=[];for(this.peekStartsWith("(")||rt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),rt.push(this.parseSegment());let Me={};this.peekStartsWith("/(")&&(this.capture("/"),Me=this.parseParens(!0));let Je={};return this.peekStartsWith("(")&&(Je=this.parseParens(!1)),(rt.length>0||Object.keys(Me).length>0)&&(Je[De]=new tt(rt,Me)),Je}parseSegment(){const rt=it(this.remaining);if(""===rt&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(rt),new qe(nn(rt),this.parseMatrixParams())}parseMatrixParams(){const rt={};for(;this.consumeOptional(";");)this.parseParam(rt);return rt}parseParam(rt){const Me=function ft(Pe){const rt=Pe.match(ot);return rt?rt[0]:""}(this.remaining);if(!Me)return;this.capture(Me);let Je="";if(this.consumeOptional("=")){const Nt=it(this.remaining);Nt&&(Je=Nt,this.capture(Je))}rt[nn(Me)]=nn(Je)}parseQueryParam(rt){const Me=function Et(Pe){const rt=Pe.match(mt);return rt?rt[0]:""}(this.remaining);if(!Me)return;this.capture(Me);let Je="";if(this.consumeOptional("=")){const en=function fn(Pe){const rt=Pe.match(Qt);return rt?rt[0]:""}(this.remaining);en&&(Je=en,this.capture(Je))}const Nt=Mt(Me),tn=Mt(Je);if(rt.hasOwnProperty(Nt)){let en=rt[Nt];Array.isArray(en)||(en=[en],rt[Nt]=en),en.push(tn)}else rt[Nt]=tn}parseParens(rt){const Me={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Je=it(this.remaining),Nt=this.remaining[Je.length];if("/"!==Nt&&")"!==Nt&&";"!==Nt)throw new e.vHH(4010,!1);let tn;Je.indexOf(":")>-1?(tn=Je.slice(0,Je.indexOf(":")),this.capture(tn),this.capture(":")):rt&&(tn=De);const en=this.parseChildren();Me[tn]=1===Object.keys(en).length?en[De]:new tt([],en),this.consumeOptional("//")}return Me}peekStartsWith(rt){return this.remaining.startsWith(rt)}consumeOptional(rt){return!!this.peekStartsWith(rt)&&(this.remaining=this.remaining.substring(rt.length),!0)}capture(rt){if(!this.consumeOptional(rt))throw new e.vHH(4011,!1)}}function pn(Pe){return Pe.segments.length>0?new tt([],{[De]:Pe}):Pe}function Tn(Pe){const rt={};for(const Je of Object.keys(Pe.children)){const tn=Tn(Pe.children[Je]);if(Je===De&&0===tn.segments.length&&tn.hasChildren())for(const[en,Rn]of Object.entries(tn.children))rt[en]=Rn;else(tn.segments.length>0||tn.hasChildren())&&(rt[Je]=tn)}return function Dn(Pe){if(1===Pe.numberOfChildren&&Pe.children[De]){const rt=Pe.children[De];return new tt(Pe.segments.concat(rt.segments),rt.children)}return Pe}(new tt(Pe.segments,rt))}function Fn(Pe){return Pe instanceof Ne}function dn(Pe){let rt;const Nt=pn(function Me(tn){const en={};for(const ni of tn.children){const wi=Me(ni);en[ni.outlet]=wi}const Rn=new tt(tn.url,en);return tn===Pe&&(rt=Rn),Rn}(Pe.root));return rt??Nt}function an(Pe,rt,Me,Je){let Nt=Pe;for(;Nt.parent;)Nt=Nt.parent;if(0===rt.length)return ln(Nt,Nt,Nt,Me,Je);const tn=function hn(Pe){if("string"==typeof Pe[0]&&1===Pe.length&&"/"===Pe[0])return new ct(!0,0,Pe);let rt=0,Me=!1;const Je=Pe.reduce((Nt,tn,en)=>{if("object"==typeof tn&&null!=tn){if(tn.outlets){const Rn={};return Object.entries(tn.outlets).forEach(([ni,wi])=>{Rn[ni]="string"==typeof wi?wi.split("/"):wi}),[...Nt,{outlets:Rn}]}if(tn.segmentPath)return[...Nt,tn.segmentPath]}return"string"!=typeof tn?[...Nt,tn]:0===en?(tn.split("/").forEach((Rn,ni)=>{0==ni&&"."===Rn||(0==ni&&""===Rn?Me=!0:".."===Rn?rt++:""!=Rn&&Nt.push(Rn))}),Nt):[...Nt,tn]},[]);return new ct(Me,rt,Je)}(rt);if(tn.toRoot())return ln(Nt,Nt,new tt([],{}),Me,Je);const en=function bt(Pe,rt,Me){if(Pe.isAbsolute)return new Ze(rt,!0,0);if(!Me)return new Ze(rt,!1,NaN);if(null===Me.parent)return new Ze(Me,!0,0);const Je=un(Pe.commands[0])?0:1;return function Kt(Pe,rt,Me){let Je=Pe,Nt=rt,tn=Me;for(;tn>Nt;){if(tn-=Nt,Je=Je.parent,!Je)throw new e.vHH(4005,!1);Nt=Je.segments.length}return new Ze(Je,!1,Nt-tn)}(Me,Me.segments.length-1+Je,Pe.numberOfDoubleDots)}(tn,Nt,Pe),Rn=en.processChildren?Rt(en.segmentGroup,en.index,tn.commands):yn(en.segmentGroup,en.index,tn.commands);return ln(Nt,en.segmentGroup,Rn,Me,Je)}function un(Pe){return"object"==typeof Pe&&null!=Pe&&!Pe.outlets&&!Pe.segmentPath}function on(Pe){return"object"==typeof Pe&&null!=Pe&&Pe.outlets}function ln(Pe,rt,Me,Je,Nt){let en,tn={};Je&&Object.entries(Je).forEach(([ni,wi])=>{tn[ni]=Array.isArray(wi)?wi.map(Li=>`${Li}`):`${wi}`}),en=Pe===rt?Me:Tt(Pe,rt,Me);const Rn=pn(Tn(en));return new Ne(Rn,tn,Nt)}function Tt(Pe,rt,Me){const Je={};return Object.entries(Pe.children).forEach(([Nt,tn])=>{Je[Nt]=tn===rt?Me:Tt(tn,rt,Me)}),new tt(Pe.segments,Je)}class ct{constructor(rt,Me,Je){if(this.isAbsolute=rt,this.numberOfDoubleDots=Me,this.commands=Je,rt&&Je.length>0&&un(Je[0]))throw new e.vHH(4003,!1);const Nt=Je.find(on);if(Nt&&Nt!==pe(Je))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ze{constructor(rt,Me,Je){this.segmentGroup=rt,this.processChildren=Me,this.index=Je}}function yn(Pe,rt,Me){if(Pe||(Pe=new tt([],{})),0===Pe.segments.length&&Pe.hasChildren())return Rt(Pe,rt,Me);const Je=function St(Pe,rt,Me){let Je=0,Nt=rt;const tn={match:!1,pathIndex:0,commandIndex:0};for(;Nt<Pe.segments.length;){if(Je>=Me.length)return tn;const en=Pe.segments[Nt],Rn=Me[Je];if(on(Rn))break;const ni=`${Rn}`,wi=Je<Me.length-1?Me[Je+1]:null;if(Nt>0&&void 0===ni)break;if(ni&&wi&&"object"==typeof wi&&void 0===wi.outlets){if(!Ln(ni,wi,en))return tn;Je+=2}else{if(!Ln(ni,{},en))return tn;Je++}Nt++}return{match:!0,pathIndex:Nt,commandIndex:Je}}(Pe,rt,Me),Nt=Me.slice(Je.commandIndex);if(Je.match&&Je.pathIndex<Pe.segments.length){const tn=new tt(Pe.segments.slice(0,Je.pathIndex),{});return tn.children[De]=new tt(Pe.segments.slice(Je.pathIndex),Pe.children),Rt(tn,0,Nt)}return Je.match&&0===Nt.length?new tt(Pe.segments,{}):Je.match&&!Pe.hasChildren()?It(Pe,rt,Me):Je.match?Rt(Pe,0,Nt):It(Pe,rt,Me)}function Rt(Pe,rt,Me){if(0===Me.length)return new tt(Pe.segments,{});{const Je=function Ot(Pe){return on(Pe[0])?Pe[0].outlets:{[De]:Pe}}(Me),Nt={};if(!Je[De]&&Pe.children[De]&&1===Pe.numberOfChildren&&0===Pe.children[De].segments.length){const tn=Rt(Pe.children[De],rt,Me);return new tt(Pe.segments,tn.children)}return Object.entries(Je).forEach(([tn,en])=>{"string"==typeof en&&(en=[en]),null!==en&&(Nt[tn]=yn(Pe.children[tn],rt,en))}),Object.entries(Pe.children).forEach(([tn,en])=>{void 0===Je[tn]&&(Nt[tn]=en)}),new tt(Pe.segments,Nt)}}function It(Pe,rt,Me){const Je=Pe.segments.slice(0,rt);let Nt=0;for(;Nt<Me.length;){const tn=Me[Nt];if(on(tn)){const ni=Zt(tn.outlets);return new tt(Je,ni)}if(0===Nt&&un(Me[0])){Je.push(new qe(Pe.segments[rt].path,gn(Me[0]))),Nt++;continue}const en=on(tn)?tn.outlets[De]:`${tn}`,Rn=Nt<Me.length-1?Me[Nt+1]:null;en&&Rn&&un(Rn)?(Je.push(new qe(en,gn(Rn))),Nt+=2):(Je.push(new qe(en,{})),Nt++)}return new tt(Je,{})}function Zt(Pe){const rt={};return Object.entries(Pe).forEach(([Me,Je])=>{"string"==typeof Je&&(Je=[Je]),null!==Je&&(rt[Me]=It(new tt([],{}),0,Je))}),rt}function gn(Pe){const rt={};return Object.entries(Pe).forEach(([Me,Je])=>rt[Me]=`${Je}`),rt}function Ln(Pe,rt,Me){return Pe==Me.path&&K(rt,Me.parameters)}const Hn="imperative";class Lt{constructor(rt,Me){this.id=rt,this.url=Me}}class Sn extends Lt{constructor(rt,Me,Je="imperative",Nt=null){super(rt,Me),this.type=0,this.navigationTrigger=Je,this.restoredState=Nt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ie extends Lt{constructor(rt,Me,Je){super(rt,Me),this.urlAfterRedirects=Je,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pt extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.reason=Je,this.code=Nt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dt extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.reason=Je,this.code=Nt,this.type=16}}class Xt extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.error=Je,this.target=Nt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mn extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.urlAfterRedirects=Je,this.state=Nt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.urlAfterRedirects=Je,this.state=Nt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi extends Lt{constructor(rt,Me,Je,Nt,tn){super(rt,Me),this.urlAfterRedirects=Je,this.state=Nt,this.shouldActivate=tn,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hr extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.urlAfterRedirects=Je,this.state=Nt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends Lt{constructor(rt,Me,Je,Nt){super(rt,Me),this.urlAfterRedirects=Je,this.state=Nt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er{constructor(rt){this.route=rt,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Do{constructor(rt){this.route=rt,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Po{constructor(rt){this.snapshot=rt,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(rt){this.snapshot=rt,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(rt){this.snapshot=rt,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(rt){this.snapshot=rt,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(rt,Me,Je){this.routerEvent=rt,this.position=Me,this.anchor=Je,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new br,this.attachRef=null}}let br=(()=>{class Pe{constructor(){this.contexts=new Map}onChildOutletCreated(Me,Je){const Nt=this.getOrCreateContext(Me);Nt.outlet=Je,this.contexts.set(Me,Nt)}onChildOutletDestroyed(Me){const Je=this.getContext(Me);Je&&(Je.outlet=null,Je.attachRef=null)}onOutletDeactivated(){const Me=this.contexts;return this.contexts=new Map,Me}onOutletReAttached(Me){this.contexts=Me}getOrCreateContext(Me){let Je=this.getContext(Me);return Je||(Je=new ho,this.contexts.set(Me,Je)),Je}getContext(Me){return this.contexts.get(Me)||null}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();class ls{constructor(rt){this._root=rt}get root(){return this._root.value}parent(rt){const Me=this.pathFromRoot(rt);return Me.length>1?Me[Me.length-2]:null}children(rt){const Me=Ro(rt,this._root);return Me?Me.children.map(Je=>Je.value):[]}firstChild(rt){const Me=Ro(rt,this._root);return Me&&Me.children.length>0?Me.children[0].value:null}siblings(rt){const Me=Xr(rt,this._root);return Me.length<2?[]:Me[Me.length-2].children.map(Nt=>Nt.value).filter(Nt=>Nt!==rt)}pathFromRoot(rt){return Xr(rt,this._root).map(Me=>Me.value)}}function Ro(Pe,rt){if(Pe===rt.value)return rt;for(const Me of rt.children){const Je=Ro(Pe,Me);if(Je)return Je}return null}function Xr(Pe,rt){if(Pe===rt.value)return[rt];for(const Me of rt.children){const Je=Xr(Pe,Me);if(Je.length)return Je.unshift(rt),Je}return[]}class Br{constructor(rt,Me){this.value=rt,this.children=Me}toString(){return`TreeNode(${this.value})`}}function No(Pe){const rt={};return Pe&&Pe.children.forEach(Me=>rt[Me.value.outlet]=Me),rt}class mr extends ls{constructor(rt,Me){super(rt),this.snapshot=Me,_n(this,rt)}toString(){return this.snapshot.toString()}}function pi(Pe,rt){const Me=function Pi(Pe,rt){const en=new Mr([],{},{},"",{},De,rt,null,{});return new so("",new Br(en,[]))}(0,rt),Je=new _.X([new qe("",{})]),Nt=new _.X({}),tn=new _.X({}),en=new _.X({}),Rn=new _.X(""),ni=new rr(Je,Nt,en,Rn,tn,De,rt,Me.root);return ni.snapshot=Me.root,new mr(new Br(ni,[]),Me)}class rr{constructor(rt,Me,Je,Nt,tn,en,Rn,ni){this.urlSubject=rt,this.paramsSubject=Me,this.queryParamsSubject=Je,this.fragmentSubject=Nt,this.dataSubject=tn,this.outlet=en,this.component=Rn,this._futureSnapshot=ni,this.title=this.dataSubject?.pipe((0,R.U)(wi=>wi[Ue]))??(0,A.of)(void 0),this.url=rt,this.params=Me,this.queryParams=Je,this.fragment=Nt,this.data=tn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,R.U)(rt=>He(rt)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,R.U)(rt=>He(rt)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ur(Pe,rt="emptyOnly"){const Me=Pe.pathFromRoot;let Je=0;if("always"!==rt)for(Je=Me.length-1;Je>=1;){const Nt=Me[Je],tn=Me[Je-1];if(Nt.routeConfig&&""===Nt.routeConfig.path)Je--;else{if(tn.component)break;Je--}}return function bo(Pe){return Pe.reduce((rt,Me)=>({params:{...rt.params,...Me.params},data:{...rt.data,...Me.data},resolve:{...Me.data,...rt.resolve,...Me.routeConfig?.data,...Me._resolvedData}}),{params:{},data:{},resolve:{}})}(Me.slice(Je))}class Mr{get title(){return this.data?.[Ue]}constructor(rt,Me,Je,Nt,tn,en,Rn,ni,wi){this.url=rt,this.params=Me,this.queryParams=Je,this.fragment=Nt,this.data=tn,this.outlet=en,this.component=Rn,this.routeConfig=ni,this._resolve=wi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=He(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=He(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Je=>Je.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class so extends ls{constructor(rt,Me){super(Me),this.url=rt,_n(this,Me)}toString(){return Vn(this._root)}}function _n(Pe,rt){rt.value._routerState=Pe,rt.children.forEach(Me=>_n(Pe,Me))}function Vn(Pe){const rt=Pe.children.length>0?` { ${Pe.children.map(Vn).join(", ")} } `:"";return`${Pe.value}${rt}`}function ri(Pe){if(Pe.snapshot){const rt=Pe.snapshot,Me=Pe._futureSnapshot;Pe.snapshot=Me,K(rt.queryParams,Me.queryParams)||Pe.queryParamsSubject.next(Me.queryParams),rt.fragment!==Me.fragment&&Pe.fragmentSubject.next(Me.fragment),K(rt.params,Me.params)||Pe.paramsSubject.next(Me.params),function _e(Pe,rt){if(Pe.length!==rt.length)return!1;for(let Me=0;Me<Pe.length;++Me)if(!K(Pe[Me],rt[Me]))return!1;return!0}(rt.url,Me.url)||Pe.urlSubject.next(Me.url),K(rt.data,Me.data)||Pe.dataSubject.next(Me.data)}else Pe.snapshot=Pe._futureSnapshot,Pe.dataSubject.next(Pe._futureSnapshot.data)}function Qn(Pe,rt){const Me=K(Pe.params,rt.params)&&function Xe(Pe,rt){return ut(Pe,rt)&&Pe.every((Me,Je)=>K(Me.parameters,rt[Je].parameters))}(Pe.url,rt.url);return Me&&!(!Pe.parent!=!rt.parent)&&(!Pe.parent||Qn(Pe.parent,rt.parent))}let Ri=(()=>{class Pe{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(br),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Me){if(Me.name){const{firstChange:Je,previousValue:Nt}=Me.name;if(Je)return;this.isTrackedInParentContexts(Nt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Nt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Me){return this.parentContexts.getContext(Me)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Me=this.parentContexts.getContext(this.name);Me?.route&&(Me.attachRef?this.attach(Me.attachRef,Me.route):this.activateWith(Me.route,Me.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const Me=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Me.instance),Me}attach(Me,Je){this.activated=Me,this._activatedRoute=Je,this.location.insert(Me.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Me.instance)}deactivate(){if(this.activated){const Me=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Me)}}activateWith(Me,Je){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=Me;const Nt=this.location,en=Me.snapshot.component,Rn=this.parentContexts.getOrCreateContext(this.name).children,ni=new Ki(Me,Rn,Nt.injector);this.activated=Nt.createComponent(en,{index:Nt.length,injector:ni,environmentInjector:Je??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275dir=e.lG2({type:Pe,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return Pe})();class Ki{constructor(rt,Me,Je){this.route=rt,this.childContexts=Me,this.parent=Je}get(rt,Me){return rt===rr?this.route:rt===br?this.childContexts:this.parent.get(rt,Me)}}const Ui=new e.OlP("");let ki=(()=>{class Pe{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Me){this.unsubscribeFromRouteData(Me),this.subscribeToRouteData(Me)}unsubscribeFromRouteData(Me){this.outletDataSubscriptions.get(Me)?.unsubscribe(),this.outletDataSubscriptions.delete(Me)}subscribeToRouteData(Me){const{activatedRoute:Je}=Me,Nt=(0,I.a)([Je.queryParams,Je.params,Je.data]).pipe((0,D.w)(([tn,en,Rn],ni)=>(Rn={...tn,...en,...Rn},0===ni?(0,A.of)(Rn):Promise.resolve(Rn)))).subscribe(tn=>{if(!Me.isActivated||!Me.activatedComponentRef||Me.activatedRoute!==Je||null===Je.component)return void this.unsubscribeFromRouteData(Me);const en=(0,e.qFp)(Je.component);if(en)for(const{templateName:Rn}of en.inputs)Me.activatedComponentRef.setInput(Rn,tn[Rn]);else this.unsubscribeFromRouteData(Me)});this.outletDataSubscriptions.set(Me,Nt)}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();function jr(Pe,rt,Me){if(Me&&Pe.shouldReuseRoute(rt.value,Me.value.snapshot)){const Je=Me.value;Je._futureSnapshot=rt.value;const Nt=function Mo(Pe,rt,Me){return rt.children.map(Je=>{for(const Nt of Me.children)if(Pe.shouldReuseRoute(Je.value,Nt.value.snapshot))return jr(Pe,Je,Nt);return jr(Pe,Je)})}(Pe,rt,Me);return new Br(Je,Nt)}{if(Pe.shouldAttach(rt.value)){const tn=Pe.retrieve(rt.value);if(null!==tn){const en=tn.route;return en.value._futureSnapshot=rt.value,en.children=rt.children.map(Rn=>jr(Pe,Rn)),en}}const Je=function Ao(Pe){return new rr(new _.X(Pe.url),new _.X(Pe.params),new _.X(Pe.queryParams),new _.X(Pe.fragment),new _.X(Pe.data),Pe.outlet,Pe.component,Pe)}(rt.value),Nt=rt.children.map(tn=>jr(Pe,tn));return new Br(Je,Nt)}}const Ms="ngNavigationCancelingError";function zr(Pe,rt){const{redirectTo:Me,navigationBehaviorOptions:Je}=Fn(rt)?{redirectTo:rt,navigationBehaviorOptions:void 0}:rt,Nt=eo(!1,0,rt);return Nt.url=Me,Nt.navigationBehaviorOptions=Je,Nt}function eo(Pe,rt,Me){const Je=new Error("NavigationCancelingError: "+(Pe||""));return Je[Ms]=!0,Je.cancellationCode=rt,Me&&(Je.url=Me),Je}function Xo(Pe){return Go(Pe)&&Fn(Pe.url)}function Go(Pe){return Pe&&Pe[Ms]}let Xi=(()=>{class Pe{static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275cmp=e.Xpm({type:Pe,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(Je,Nt){1&Je&&e._UZ(0,"router-outlet")},dependencies:[Ri],encapsulation:2})}return Pe})();function Rr(Pe){const rt=Pe.children&&Pe.children.map(Rr),Me=rt?{...Pe,children:rt}:{...Pe};return!Me.component&&!Me.loadComponent&&(rt||Me.loadChildren)&&Me.outlet&&Me.outlet!==De&&(Me.component=Xi),Me}function pr(Pe){return Pe.outlet||De}function mo(Pe){if(!Pe)return null;if(Pe.routeConfig?._injector)return Pe.routeConfig._injector;for(let rt=Pe.parent;rt;rt=rt.parent){const Me=rt.routeConfig;if(Me?._loadedInjector)return Me._loadedInjector;if(Me?._injector)return Me._injector}return null}class Zr{constructor(rt,Me,Je,Nt,tn){this.routeReuseStrategy=rt,this.futureState=Me,this.currState=Je,this.forwardEvent=Nt,this.inputBindingEnabled=tn}activate(rt){const Me=this.futureState._root,Je=this.currState?this.currState._root:null;this.deactivateChildRoutes(Me,Je,rt),ri(this.futureState.root),this.activateChildRoutes(Me,Je,rt)}deactivateChildRoutes(rt,Me,Je){const Nt=No(Me);rt.children.forEach(tn=>{const en=tn.value.outlet;this.deactivateRoutes(tn,Nt[en],Je),delete Nt[en]}),Object.values(Nt).forEach(tn=>{this.deactivateRouteAndItsChildren(tn,Je)})}deactivateRoutes(rt,Me,Je){const Nt=rt.value,tn=Me?Me.value:null;if(Nt===tn)if(Nt.component){const en=Je.getContext(Nt.outlet);en&&this.deactivateChildRoutes(rt,Me,en.children)}else this.deactivateChildRoutes(rt,Me,Je);else tn&&this.deactivateRouteAndItsChildren(Me,Je)}deactivateRouteAndItsChildren(rt,Me){rt.value.component&&this.routeReuseStrategy.shouldDetach(rt.value.snapshot)?this.detachAndStoreRouteSubtree(rt,Me):this.deactivateRouteAndOutlet(rt,Me)}detachAndStoreRouteSubtree(rt,Me){const Je=Me.getContext(rt.value.outlet),Nt=Je&&rt.value.component?Je.children:Me,tn=No(rt);for(const en of Object.keys(tn))this.deactivateRouteAndItsChildren(tn[en],Nt);if(Je&&Je.outlet){const en=Je.outlet.detach(),Rn=Je.children.onOutletDeactivated();this.routeReuseStrategy.store(rt.value.snapshot,{componentRef:en,route:rt,contexts:Rn})}}deactivateRouteAndOutlet(rt,Me){const Je=Me.getContext(rt.value.outlet),Nt=Je&&rt.value.component?Je.children:Me,tn=No(rt);for(const en of Object.keys(tn))this.deactivateRouteAndItsChildren(tn[en],Nt);Je&&(Je.outlet&&(Je.outlet.deactivate(),Je.children.onOutletDeactivated()),Je.attachRef=null,Je.route=null)}activateChildRoutes(rt,Me,Je){const Nt=No(Me);rt.children.forEach(tn=>{this.activateRoutes(tn,Nt[tn.value.outlet],Je),this.forwardEvent(new Fi(tn.value.snapshot))}),rt.children.length&&this.forwardEvent(new _o(rt.value.snapshot))}activateRoutes(rt,Me,Je){const Nt=rt.value,tn=Me?Me.value:null;if(ri(Nt),Nt===tn)if(Nt.component){const en=Je.getOrCreateContext(Nt.outlet);this.activateChildRoutes(rt,Me,en.children)}else this.activateChildRoutes(rt,Me,Je);else if(Nt.component){const en=Je.getOrCreateContext(Nt.outlet);if(this.routeReuseStrategy.shouldAttach(Nt.snapshot)){const Rn=this.routeReuseStrategy.retrieve(Nt.snapshot);this.routeReuseStrategy.store(Nt.snapshot,null),en.children.onOutletReAttached(Rn.contexts),en.attachRef=Rn.componentRef,en.route=Rn.route.value,en.outlet&&en.outlet.attach(Rn.componentRef,Rn.route.value),ri(Rn.route.value),this.activateChildRoutes(rt,null,en.children)}else{const Rn=mo(Nt.snapshot);en.attachRef=null,en.route=Nt,en.injector=Rn,en.outlet&&en.outlet.activateWith(Nt,en.injector),this.activateChildRoutes(rt,null,en.children)}}else this.activateChildRoutes(rt,null,Je)}}class Ys{constructor(rt){this.path=rt,this.route=this.path[this.path.length-1]}}class Yo{constructor(rt,Me){this.component=rt,this.route=Me}}function xs(Pe,rt,Me){const Je=Pe._root;return ts(Je,rt?rt._root:null,Me,[Je.value])}function vs(Pe,rt){const Me=Symbol(),Je=rt.get(Pe,Me);return Je===Me?"function"!=typeof Pe||(0,e.Z0I)(Pe)?rt.get(Pe):Pe:Je}function ts(Pe,rt,Me,Je,Nt={canDeactivateChecks:[],canActivateChecks:[]}){const tn=No(rt);return Pe.children.forEach(en=>{(function zs(Pe,rt,Me,Je,Nt={canDeactivateChecks:[],canActivateChecks:[]}){const tn=Pe.value,en=rt?rt.value:null,Rn=Me?Me.getContext(Pe.value.outlet):null;if(en&&tn.routeConfig===en.routeConfig){const ni=function gr(Pe,rt,Me){if("function"==typeof Me)return Me(Pe,rt);switch(Me){case"pathParamsChange":return!ut(Pe.url,rt.url);case"pathParamsOrQueryParamsChange":return!ut(Pe.url,rt.url)||!K(Pe.queryParams,rt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(Pe,rt)||!K(Pe.queryParams,rt.queryParams);default:return!Qn(Pe,rt)}}(en,tn,tn.routeConfig.runGuardsAndResolvers);ni?Nt.canActivateChecks.push(new Ys(Je)):(tn.data=en.data,tn._resolvedData=en._resolvedData),ts(Pe,rt,tn.component?Rn?Rn.children:null:Me,Je,Nt),ni&&Rn&&Rn.outlet&&Rn.outlet.isActivated&&Nt.canDeactivateChecks.push(new Yo(Rn.outlet.component,en))}else en&&zo(rt,Rn,Nt),Nt.canActivateChecks.push(new Ys(Je)),ts(Pe,null,tn.component?Rn?Rn.children:null:Me,Je,Nt)})(en,tn[en.value.outlet],Me,Je.concat([en.value]),Nt),delete tn[en.value.outlet]}),Object.entries(tn).forEach(([en,Rn])=>zo(Rn,Me.getContext(en),Nt)),Nt}function zo(Pe,rt,Me){const Je=No(Pe),Nt=Pe.value;Object.entries(Je).forEach(([tn,en])=>{zo(en,Nt.component?rt?rt.children.getContext(tn):null:rt,Me)}),Me.canDeactivateChecks.push(new Yo(Nt.component&&rt&&rt.outlet&&rt.outlet.isActivated?rt.outlet.component:null,Nt))}function jo(Pe){return"function"==typeof Pe}function Gs(Pe){return Pe instanceof w.K||"EmptyError"===Pe?.name}const _r=Symbol("INITIAL_VALUE");function ar(){return(0,D.w)(Pe=>(0,I.a)(Pe.map(rt=>rt.pipe((0,T.q)(1),(0,C.O)(_r)))).pipe((0,R.U)(rt=>{for(const Me of rt)if(!0!==Me){if(Me===_r)return _r;if(!1===Me||Me instanceof Ne)return Me}return!0}),(0,O.h)(rt=>rt!==_r),(0,T.q)(1)))}function Zo(Pe){return(0,d.z)((0,ee.b)(rt=>{if(Fn(rt))throw zr(0,rt)}),(0,R.U)(rt=>!0===rt))}class lo{constructor(rt){this.segmentGroup=rt||null}}class Is{constructor(rt){this.urlTree=rt}}function Ar(Pe){return y(new lo(Pe))}function Vo(Pe){return y(new Is(Pe))}class ei{constructor(rt,Me){this.urlSerializer=rt,this.urlTree=Me}noMatchError(rt){return new e.vHH(4002,!1)}lineralizeSegments(rt,Me){let Je=[],Nt=Me.root;for(;;){if(Je=Je.concat(Nt.segments),0===Nt.numberOfChildren)return(0,A.of)(Je);if(Nt.numberOfChildren>1||!Nt.children[De])return y(new e.vHH(4e3,!1));Nt=Nt.children[De]}}applyRedirectCommands(rt,Me,Je){return this.applyRedirectCreateUrlTree(Me,this.urlSerializer.parse(Me),rt,Je)}applyRedirectCreateUrlTree(rt,Me,Je,Nt){const tn=this.createSegmentGroup(rt,Me.root,Je,Nt);return new Ne(tn,this.createQueryParams(Me.queryParams,this.urlTree.queryParams),Me.fragment)}createQueryParams(rt,Me){const Je={};return Object.entries(rt).forEach(([Nt,tn])=>{if("string"==typeof tn&&tn.startsWith(":")){const Rn=tn.substring(1);Je[Nt]=Me[Rn]}else Je[Nt]=tn}),Je}createSegmentGroup(rt,Me,Je,Nt){const tn=this.createSegments(rt,Me.segments,Je,Nt);let en={};return Object.entries(Me.children).forEach(([Rn,ni])=>{en[Rn]=this.createSegmentGroup(rt,ni,Je,Nt)}),new tt(tn,en)}createSegments(rt,Me,Je,Nt){return Me.map(tn=>tn.path.startsWith(":")?this.findPosParam(rt,tn,Nt):this.findOrReturn(tn,Je))}findPosParam(rt,Me,Je){const Nt=Je[Me.path.substring(1)];if(!Nt)throw new e.vHH(4001,!1);return Nt}findOrReturn(rt,Me){let Je=0;for(const Nt of Me){if(Nt.path===rt.path)return Me.splice(Je),Nt;Je++}return rt}}const us={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(Pe,rt,Me,Je,Nt){const tn=Ka(Pe,rt,Me);return tn.matched?(Je=function Ws(Pe,rt){return Pe.providers&&!Pe._injector&&(Pe._injector=(0,e.MMx)(Pe.providers,rt,`Route: ${Pe.path}`)),Pe._injector??rt}(rt,Je),function ds(Pe,rt,Me,Je){const Nt=rt.canMatch;if(!Nt||0===Nt.length)return(0,A.of)(!0);const tn=Nt.map(en=>{const Rn=vs(en,Pe);return re(function vo(Pe){return Pe&&jo(Pe.canMatch)}(Rn)?Rn.canMatch(rt,Me):Pe.runInContext(()=>Rn(rt,Me)))});return(0,A.of)(tn).pipe(ar(),Zo())}(Je,rt,Me).pipe((0,R.U)(en=>!0===en?tn:{...us}))):(0,A.of)(tn)}function Ka(Pe,rt,Me){if(""===rt.path)return"full"===rt.pathMatch&&(Pe.hasChildren()||Me.length>0)?{...us}:{matched:!0,consumedSegments:[],remainingSegments:Me,parameters:{},positionalParamSegments:{}};const Nt=(rt.matcher||be)(Me,Pe,rt);if(!Nt)return{...us};const tn={};Object.entries(Nt.posParams??{}).forEach(([Rn,ni])=>{tn[Rn]=ni.path});const en=Nt.consumed.length>0?{...tn,...Nt.consumed[Nt.consumed.length-1].parameters}:tn;return{matched:!0,consumedSegments:Nt.consumed,remainingSegments:Me.slice(Nt.consumed.length),parameters:en,positionalParamSegments:Nt.posParams??{}}}function Wa(Pe,rt,Me,Je){return Me.length>0&&function gl(Pe,rt,Me){return Me.some(Je=>_l(Pe,rt,Je)&&pr(Je)!==De)}(Pe,Me,Je)?{segmentGroup:new tt(rt,Nl(Je,new tt(Me,Pe.children))),slicedSegments:[]}:0===Me.length&&function Nr(Pe,rt,Me){return Me.some(Je=>_l(Pe,rt,Je))}(Pe,Me,Je)?{segmentGroup:new tt(Pe.segments,Js(Pe,0,Me,Je,Pe.children)),slicedSegments:Me}:{segmentGroup:new tt(Pe.segments,Pe.children),slicedSegments:Me}}function Js(Pe,rt,Me,Je,Nt){const tn={};for(const en of Je)if(_l(Pe,Me,en)&&!Nt[pr(en)]){const Rn=new tt([],{});tn[pr(en)]=Rn}return{...Nt,...tn}}function Nl(Pe,rt){const Me={};Me[De]=rt;for(const Je of Pe)if(""===Je.path&&pr(Je)!==De){const Nt=new tt([],{});Me[pr(Je)]=Nt}return Me}function _l(Pe,rt,Me){return(!(Pe.hasChildren()||rt.length>0)||"full"!==Me.pathMatch)&&""===Me.path}class Ll{constructor(rt,Me,Je,Nt,tn,en,Rn){this.injector=rt,this.configLoader=Me,this.rootComponentType=Je,this.config=Nt,this.urlTree=tn,this.paramsInheritanceStrategy=en,this.urlSerializer=Rn,this.allowRedirects=!0,this.applyRedirects=new ei(this.urlSerializer,this.urlTree)}noMatchError(rt){return new e.vHH(4002,!1)}recognize(){const rt=Wa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,rt,De).pipe(le(Me=>{if(Me instanceof Is)return this.allowRedirects=!1,this.urlTree=Me.urlTree,this.match(Me.urlTree);throw Me instanceof lo?this.noMatchError(Me):Me}),(0,R.U)(Me=>{const Je=new Mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},De,this.rootComponentType,null,{}),Nt=new Br(Je,Me),tn=new so("",Nt),en=function Kn(Pe,rt,Me=null,Je=null){return an(dn(Pe),rt,Me,Je)}(Je,[],this.urlTree.queryParams,this.urlTree.fragment);return en.queryParams=this.urlTree.queryParams,tn.url=this.urlSerializer.serialize(en),this.inheritParamsAndData(tn._root),{state:tn,tree:en}}))}match(rt){return this.processSegmentGroup(this.injector,this.config,rt.root,De).pipe(le(Je=>{throw Je instanceof lo?this.noMatchError(Je):Je}))}inheritParamsAndData(rt){const Me=rt.value,Je=Ur(Me,this.paramsInheritanceStrategy);Me.params=Object.freeze(Je.params),Me.data=Object.freeze(Je.data),rt.children.forEach(Nt=>this.inheritParamsAndData(Nt))}processSegmentGroup(rt,Me,Je,Nt){return 0===Je.segments.length&&Je.hasChildren()?this.processChildren(rt,Me,Je):this.processSegment(rt,Me,Je,Je.segments,Nt,!0)}processChildren(rt,Me,Je){const Nt=[];for(const tn of Object.keys(Je.children))"primary"===tn?Nt.unshift(tn):Nt.push(tn);return(0,E.D)(Nt).pipe((0,Z.b)(tn=>{const en=Je.children[tn],Rn=function Fs(Pe,rt){const Me=Pe.filter(Je=>pr(Je)===rt);return Me.push(...Pe.filter(Je=>pr(Je)!==rt)),Me}(Me,tn);return this.processSegmentGroup(rt,Rn,en,tn)}),function ve(Pe,rt){return(0,j.e)(function Y(Pe,rt,Me,Je,Nt){return(tn,en)=>{let Rn=Me,ni=rt,wi=0;tn.subscribe((0,Ae.x)(en,Li=>{const fr=wi++;ni=Rn?Pe(ni,Li,fr):(Rn=!0,Li),Je&&en.next(ni)},Nt&&(()=>{Rn&&en.next(ni),en.complete()})))}}(Pe,rt,arguments.length>=2,!0))}((tn,en)=>(tn.push(...en),tn)),(0,de.d)(null),function ge(Pe,rt){const Me=arguments.length>=2;return Je=>Je.pipe(Pe?(0,O.h)((Nt,tn)=>Pe(Nt,tn,Je)):Ge.y,Se(1),Me?(0,de.d)(rt):(0,xe.T)(()=>new w.K))}(),(0,M.z)(tn=>{if(null===tn)return Ar(Je);const en=ys(tn);return function aa(Pe){Pe.sort((rt,Me)=>rt.value.outlet===De?-1:Me.value.outlet===De?1:rt.value.outlet.localeCompare(Me.value.outlet))}(en),(0,A.of)(en)}))}processSegment(rt,Me,Je,Nt,tn,en){return(0,E.D)(Me).pipe((0,Z.b)(Rn=>this.processSegmentAgainstRoute(Rn._injector??rt,Me,Rn,Je,Nt,tn,en).pipe(le(ni=>{if(ni instanceof lo)return(0,A.of)(null);throw ni}))),(0,G.P)(Rn=>!!Rn),le(Rn=>{if(Gs(Rn))return function Pc(Pe,rt,Me){return 0===rt.length&&!Pe.children[Me]}(Je,Nt,tn)?(0,A.of)([]):Ar(Je);throw Rn}))}processSegmentAgainstRoute(rt,Me,Je,Nt,tn,en,Rn){return function vl(Pe,rt,Me,Je){return!!(pr(Pe)===Je||Je!==De&&_l(rt,Me,Pe))&&("**"===Pe.path||Ka(rt,Pe,Me).matched)}(Je,Nt,tn,en)?void 0===Je.redirectTo?this.matchSegmentAgainstRoute(rt,Nt,Je,tn,en,Rn):Rn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(rt,Nt,Me,Je,tn,en):Ar(Nt):Ar(Nt)}expandSegmentAgainstRouteUsingRedirect(rt,Me,Je,Nt,tn,en){return"**"===Nt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(rt,Je,Nt,en):this.expandRegularSegmentAgainstRouteUsingRedirect(rt,Me,Je,Nt,tn,en)}expandWildCardWithParamsAgainstRouteUsingRedirect(rt,Me,Je,Nt){const tn=this.applyRedirects.applyRedirectCommands([],Je.redirectTo,{});return Je.redirectTo.startsWith("/")?Vo(tn):this.applyRedirects.lineralizeSegments(Je,tn).pipe((0,M.z)(en=>{const Rn=new tt(en,{});return this.processSegment(rt,Me,Rn,en,Nt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(rt,Me,Je,Nt,tn,en){const{matched:Rn,consumedSegments:ni,remainingSegments:wi,positionalParamSegments:Li}=Ka(Me,Nt,tn);if(!Rn)return Ar(Me);const fr=this.applyRedirects.applyRedirectCommands(ni,Nt.redirectTo,Li);return Nt.redirectTo.startsWith("/")?Vo(fr):this.applyRedirects.lineralizeSegments(Nt,fr).pipe((0,M.z)(Bo=>this.processSegment(rt,Je,Me,Bo.concat(wi),en,!1)))}matchSegmentAgainstRoute(rt,Me,Je,Nt,tn,en){let Rn;if("**"===Je.path){const ni=Nt.length>0?pe(Nt).parameters:{},wi=new Mr(Nt,ni,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ya(Je),pr(Je),Je.component??Je._loadedComponent??null,Je,za(Je));Rn=(0,A.of)({snapshot:wi,consumedSegments:[],remainingSegments:[]}),Me.children={}}else Rn=_a(Me,Je,Nt,rt).pipe((0,R.U)(({matched:ni,consumedSegments:wi,remainingSegments:Li,parameters:fr})=>ni?{snapshot:new Mr(wi,fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ya(Je),pr(Je),Je.component??Je._loadedComponent??null,Je,za(Je)),consumedSegments:wi,remainingSegments:Li}:null));return Rn.pipe((0,D.w)(ni=>null===ni?Ar(Me):this.getChildConfig(rt=Je._injector??rt,Je,Nt).pipe((0,D.w)(({routes:wi})=>{const Li=Je._loadedInjector??rt,{snapshot:fr,consumedSegments:Bo,remainingSegments:ca}=ni,{segmentGroup:Ss,slicedSegments:Xs}=Wa(Me,Bo,ca,wi);if(0===Xs.length&&Ss.hasChildren())return this.processChildren(Li,wi,Ss).pipe((0,R.U)(To=>null===To?null:[new Br(fr,To)]));if(0===wi.length&&0===Xs.length)return(0,A.of)([new Br(fr,[])]);const wo=pr(Je)===tn;return this.processSegment(Li,wi,Ss,Xs,wo?De:tn,!0).pipe((0,R.U)(To=>[new Br(fr,To)]))}))))}getChildConfig(rt,Me,Je){return Me.children?(0,A.of)({routes:Me.children,injector:rt}):Me.loadChildren?void 0!==Me._loadedRoutes?(0,A.of)({routes:Me._loadedRoutes,injector:Me._loadedInjector}):function Lo(Pe,rt,Me,Je){const Nt=rt.canLoad;if(void 0===Nt||0===Nt.length)return(0,A.of)(!0);const tn=Nt.map(en=>{const Rn=vs(en,Pe);return re(function Zs(Pe){return Pe&&jo(Pe.canLoad)}(Rn)?Rn.canLoad(rt,Me):Pe.runInContext(()=>Rn(rt,Me)))});return(0,A.of)(tn).pipe(ar(),Zo())}(rt,Me,Je).pipe((0,M.z)(Nt=>Nt?this.configLoader.loadChildren(rt,Me).pipe((0,ee.b)(tn=>{Me._loadedRoutes=tn.routes,Me._loadedInjector=tn.injector})):function Aa(Pe){return y(eo(!1,3))}())):(0,A.of)({routes:[],injector:rt})}}function xa(Pe){const rt=Pe.value.routeConfig;return rt&&""===rt.path}function ys(Pe){const rt=[],Me=new Set;for(const Je of Pe){if(!xa(Je)){rt.push(Je);continue}const Nt=rt.find(tn=>Je.value.routeConfig===tn.value.routeConfig);void 0!==Nt?(Nt.children.push(...Je.children),Me.add(Nt)):rt.push(Je)}for(const Je of Me){const Nt=ys(Je.children);rt.push(new Br(Je.value,Nt))}return rt.filter(Je=>!Me.has(Je))}function Ya(Pe){return Pe.data||{}}function za(Pe){return Pe.resolve||{}}function fs(Pe){return"string"==typeof Pe.title||null===Pe.title}function wr(Pe){return(0,D.w)(rt=>{const Me=Pe(rt);return Me?(0,E.D)(Me).pipe((0,R.U)(()=>rt)):(0,A.of)(rt)})}const Hs=new e.OlP("ROUTES");let Ke=(()=>{class Pe{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(Me){if(this.componentLoaders.get(Me))return this.componentLoaders.get(Me);if(Me._loadedComponent)return(0,A.of)(Me._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Me);const Je=re(Me.loadComponent()).pipe((0,R.U)(pt),(0,ee.b)(tn=>{this.onLoadEndListener&&this.onLoadEndListener(Me),Me._loadedComponent=tn}),(0,Le.x)(()=>{this.componentLoaders.delete(Me)})),Nt=new P.c(Je,()=>new B.x).pipe((0,fe.x)());return this.componentLoaders.set(Me,Nt),Nt}loadChildren(Me,Je){if(this.childrenLoaders.get(Je))return this.childrenLoaders.get(Je);if(Je._loadedRoutes)return(0,A.of)({routes:Je._loadedRoutes,injector:Je._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Je);const tn=this.loadModuleFactoryOrRoutes(Je.loadChildren).pipe((0,R.U)(Rn=>{this.onLoadEndListener&&this.onLoadEndListener(Je);let ni,wi;return Array.isArray(Rn)?wi=Rn:(ni=Rn.create(Me).injector,wi=ni.get(Hs,[],e.XFs.Self|e.XFs.Optional).flat()),{routes:wi.map(Rr),injector:ni}}),(0,Le.x)(()=>{this.childrenLoaders.delete(Je)})),en=new P.c(tn,()=>new B.x).pipe((0,fe.x)());return this.childrenLoaders.set(Je,en),en}loadModuleFactoryOrRoutes(Me){return re(Me()).pipe((0,R.U)(pt),(0,M.z)(Je=>Je instanceof e.YKP||Array.isArray(Je)?(0,A.of)(Je):(0,E.D)(this.compiler.compileModuleAsync(Je))))}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();function pt(Pe){return function jt(Pe){return Pe&&"object"==typeof Pe&&"default"in Pe}(Pe)?Pe.default:Pe}let Ft=(()=>{class Pe{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new B.x,this.configLoader=(0,e.f3M)(Ke),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(ht),this.rootContexts=(0,e.f3M)(br),this.inputBindingEnabled=null!==(0,e.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,A.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Nt=>this.events.next(new Do(Nt)),this.configLoader.onLoadStartListener=Nt=>this.events.next(new Er(Nt))}complete(){this.transitions?.complete()}handleNavigationRequest(Me){const Je=++this.navigationId;this.transitions?.next({...this.transitions.value,...Me,id:Je})}setupNavigations(Me){return this.transitions=new _.X({id:0,currentUrlTree:Me.currentUrlTree,currentRawUrl:Me.currentUrlTree,extractedUrl:Me.urlHandlingStrategy.extract(Me.currentUrlTree),urlAfterRedirects:Me.urlHandlingStrategy.extract(Me.currentUrlTree),rawUrl:Me.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hn,restoredState:null,currentSnapshot:Me.routerState.snapshot,targetSnapshot:null,currentRouterState:Me.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,O.h)(Je=>0!==Je.id),(0,R.U)(Je=>({...Je,extractedUrl:Me.urlHandlingStrategy.extract(Je.rawUrl)})),(0,D.w)(Je=>{let Nt=!1,tn=!1;return(0,A.of)(Je).pipe((0,ee.b)(en=>{this.currentNavigation={id:en.id,initialUrl:en.rawUrl,extractedUrl:en.extractedUrl,trigger:en.source,extras:en.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,D.w)(en=>{const Rn=Me.browserUrlTree.toString(),ni=!Me.navigated||en.extractedUrl.toString()!==Rn||Rn!==Me.currentUrlTree.toString();if(!ni&&"reload"!==(en.extras.onSameUrlNavigation??Me.onSameUrlNavigation)){const Li="";return this.events.next(new Dt(en.id,Me.serializeUrl(Je.rawUrl),Li,0)),Me.rawUrlTree=en.rawUrl,en.resolve(null),k.E}if(Me.urlHandlingStrategy.shouldProcessUrl(en.rawUrl))return vn(en.source)&&(Me.browserUrlTree=en.extractedUrl),(0,A.of)(en).pipe((0,D.w)(Li=>{const fr=this.transitions?.getValue();return this.events.next(new Sn(Li.id,this.urlSerializer.serialize(Li.extractedUrl),Li.source,Li.restoredState)),fr!==this.transitions?.getValue()?k.E:Promise.resolve(Li)}),function Ia(Pe,rt,Me,Je,Nt,tn){return(0,M.z)(en=>function va(Pe,rt,Me,Je,Nt,tn,en="emptyOnly"){return new Ll(Pe,rt,Me,Je,Nt,en,tn).recognize()}(Pe,rt,Me,Je,en.extractedUrl,Nt,tn).pipe((0,R.U)(({state:Rn,tree:ni})=>({...en,targetSnapshot:Rn,urlAfterRedirects:ni}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Me.config,this.urlSerializer,Me.paramsInheritanceStrategy),(0,ee.b)(Li=>{if(Je.targetSnapshot=Li.targetSnapshot,Je.urlAfterRedirects=Li.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Li.urlAfterRedirects},"eager"===Me.urlUpdateStrategy){if(!Li.extras.skipLocationChange){const Bo=Me.urlHandlingStrategy.merge(Li.urlAfterRedirects,Li.rawUrl);Me.setBrowserUrl(Bo,Li)}Me.browserUrlTree=Li.urlAfterRedirects}const fr=new Mn(Li.id,this.urlSerializer.serialize(Li.extractedUrl),this.urlSerializer.serialize(Li.urlAfterRedirects),Li.targetSnapshot);this.events.next(fr)}));if(ni&&Me.urlHandlingStrategy.shouldProcessUrl(Me.rawUrlTree)){const{id:Li,extractedUrl:fr,source:Bo,restoredState:ca,extras:Ss}=en,Xs=new Sn(Li,this.urlSerializer.serialize(fr),Bo,ca);this.events.next(Xs);const wo=pi(0,this.rootComponentType).snapshot;return Je={...en,targetSnapshot:wo,urlAfterRedirects:fr,extras:{...Ss,skipLocationChange:!1,replaceUrl:!1}},(0,A.of)(Je)}{const Li="";return this.events.next(new Dt(en.id,Me.serializeUrl(Je.extractedUrl),Li,1)),Me.rawUrlTree=en.rawUrl,en.resolve(null),k.E}}),(0,ee.b)(en=>{const Rn=new ai(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects),en.targetSnapshot);this.events.next(Rn)}),(0,R.U)(en=>Je={...en,guards:xs(en.targetSnapshot,en.currentSnapshot,this.rootContexts)}),function An(Pe,rt){return(0,M.z)(Me=>{const{targetSnapshot:Je,currentSnapshot:Nt,guards:{canActivateChecks:tn,canDeactivateChecks:en}}=Me;return 0===en.length&&0===tn.length?(0,A.of)({...Me,guardsResult:!0}):function dt(Pe,rt,Me,Je){return(0,E.D)(Pe).pipe((0,M.z)(Nt=>function Gi(Pe,rt,Me,Je,Nt){const tn=rt&&rt.routeConfig?rt.routeConfig.canDeactivate:null;if(!tn||0===tn.length)return(0,A.of)(!0);const en=tn.map(Rn=>{const ni=mo(rt)??Nt,wi=vs(Rn,ni);return re(function Us(Pe){return Pe&&jo(Pe.canDeactivate)}(wi)?wi.canDeactivate(Pe,rt,Me,Je):ni.runInContext(()=>wi(Pe,rt,Me,Je))).pipe((0,G.P)())});return(0,A.of)(en).pipe(ar())}(Nt.component,Nt.route,Me,rt,Je)),(0,G.P)(Nt=>!0!==Nt,!0))}(en,Je,Nt,Pe).pipe((0,M.z)(Rn=>Rn&&function ns(Pe){return"boolean"==typeof Pe}(Rn)?function At(Pe,rt,Me,Je){return(0,E.D)(rt).pipe((0,Z.b)(Nt=>(0,g.z)(function Vt(Pe,rt){return null!==Pe&&rt&&rt(new Po(Pe)),(0,A.of)(!0)}(Nt.route.parent,Je),function at(Pe,rt){return null!==Pe&&rt&&rt(new qo(Pe)),(0,A.of)(!0)}(Nt.route,Je),function hi(Pe,rt,Me){const Je=rt[rt.length-1],tn=rt.slice(0,rt.length-1).reverse().map(en=>function _s(Pe){const rt=Pe.routeConfig?Pe.routeConfig.canActivateChild:null;return rt&&0!==rt.length?{node:Pe,guards:rt}:null}(en)).filter(en=>null!==en).map(en=>(0,o.P)(()=>{const Rn=en.guards.map(ni=>{const wi=mo(en.node)??Me,Li=vs(ni,wi);return re(function sa(Pe){return Pe&&jo(Pe.canActivateChild)}(Li)?Li.canActivateChild(Je,Pe):wi.runInContext(()=>Li(Je,Pe))).pipe((0,G.P)())});return(0,A.of)(Rn).pipe(ar())}));return(0,A.of)(tn).pipe(ar())}(Pe,Nt.path,Me),function bn(Pe,rt,Me){const Je=rt.routeConfig?rt.routeConfig.canActivate:null;if(!Je||0===Je.length)return(0,A.of)(!0);const Nt=Je.map(tn=>(0,o.P)(()=>{const en=mo(rt)??Me,Rn=vs(tn,en);return re(function Bs(Pe){return Pe&&jo(Pe.canActivate)}(Rn)?Rn.canActivate(rt,Pe):en.runInContext(()=>Rn(rt,Pe))).pipe((0,G.P)())}));return(0,A.of)(Nt).pipe(ar())}(Pe,Nt.route,Me))),(0,G.P)(Nt=>!0!==Nt,!0))}(Je,tn,Pe,rt):(0,A.of)(Rn)),(0,R.U)(Rn=>({...Me,guardsResult:Rn})))})}(this.environmentInjector,en=>this.events.next(en)),(0,ee.b)(en=>{if(Je.guardsResult=en.guardsResult,Fn(en.guardsResult))throw zr(0,en.guardsResult);const Rn=new qi(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects),en.targetSnapshot,!!en.guardsResult);this.events.next(Rn)}),(0,O.h)(en=>!!en.guardsResult||(Me.restoreHistory(en),this.cancelNavigationTransition(en,"",3),!1)),wr(en=>{if(en.guards.canActivateChecks.length)return(0,A.of)(en).pipe((0,ee.b)(Rn=>{const ni=new Hr(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(ni)}),(0,D.w)(Rn=>{let ni=!1;return(0,A.of)(Rn).pipe(function Fl(Pe,rt){return(0,M.z)(Me=>{const{targetSnapshot:Je,guards:{canActivateChecks:Nt}}=Me;if(!Nt.length)return(0,A.of)(Me);let tn=0;return(0,E.D)(Nt).pipe((0,Z.b)(en=>function Za(Pe,rt,Me,Je){const Nt=Pe.routeConfig,tn=Pe._resolve;return void 0!==Nt?.title&&!fs(Nt)&&(tn[Ue]=Nt.title),function $a(Pe,rt,Me,Je){const Nt=function bs(Pe){return[...Object.keys(Pe),...Object.getOwnPropertySymbols(Pe)]}(Pe);if(0===Nt.length)return(0,A.of)({});const tn={};return(0,E.D)(Nt).pipe((0,M.z)(en=>function Ja(Pe,rt,Me,Je){const Nt=mo(rt)??Je,tn=vs(Pe,Nt);return re(tn.resolve?tn.resolve(rt,Me):Nt.runInContext(()=>tn(rt,Me)))}(Pe[en],rt,Me,Je).pipe((0,G.P)(),(0,ee.b)(Rn=>{tn[en]=Rn}))),Se(1),(0,Ce.h)(tn),le(en=>Gs(en)?k.E:y(en)))}(tn,Pe,rt,Je).pipe((0,R.U)(en=>(Pe._resolvedData=en,Pe.data=Ur(Pe,Me).resolve,Nt&&fs(Nt)&&(Pe.data[Ue]=Nt.title),null)))}(en.route,Je,Pe,rt)),(0,ee.b)(()=>tn++),Se(1),(0,M.z)(en=>tn===Nt.length?(0,A.of)(Me):k.E))})}(Me.paramsInheritanceStrategy,this.environmentInjector),(0,ee.b)({next:()=>ni=!0,complete:()=>{ni||(Me.restoreHistory(Rn),this.cancelNavigationTransition(Rn,"",2))}}))}),(0,ee.b)(Rn=>{const ni=new Ir(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(ni)}))}),wr(en=>{const Rn=ni=>{const wi=[];ni.routeConfig?.loadComponent&&!ni.routeConfig._loadedComponent&&wi.push(this.configLoader.loadComponent(ni.routeConfig).pipe((0,ee.b)(Li=>{ni.component=Li}),(0,R.U)(()=>{})));for(const Li of ni.children)wi.push(...Rn(Li));return wi};return(0,I.a)(Rn(en.targetSnapshot.root)).pipe((0,de.d)(),(0,T.q)(1))}),wr(()=>this.afterPreactivation()),(0,R.U)(en=>{const Rn=function Tr(Pe,rt,Me){const Je=jr(Pe,rt._root,Me?Me._root:void 0);return new mr(Je,rt)}(Me.routeReuseStrategy,en.targetSnapshot,en.currentRouterState);return Je={...en,targetRouterState:Rn}}),(0,ee.b)(en=>{Me.currentUrlTree=en.urlAfterRedirects,Me.rawUrlTree=Me.urlHandlingStrategy.merge(en.urlAfterRedirects,en.rawUrl),Me.routerState=en.targetRouterState,"deferred"===Me.urlUpdateStrategy&&(en.extras.skipLocationChange||Me.setBrowserUrl(Me.rawUrlTree,en),Me.browserUrlTree=en.urlAfterRedirects)}),((Pe,rt,Me,Je)=>(0,R.U)(Nt=>(new Zr(rt,Nt.targetRouterState,Nt.currentRouterState,Me,Je).activate(Pe),Nt)))(this.rootContexts,Me.routeReuseStrategy,en=>this.events.next(en),this.inputBindingEnabled),(0,T.q)(1),(0,ee.b)({next:en=>{Nt=!0,this.lastSuccessfulNavigation=this.currentNavigation,Me.navigated=!0,this.events.next(new Ie(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(Me.currentUrlTree))),Me.titleStrategy?.updateTitle(en.targetRouterState.snapshot),en.resolve(!0)},complete:()=>{Nt=!0}}),(0,Le.x)(()=>{Nt||tn||this.cancelNavigationTransition(Je,"",1),this.currentNavigation?.id===Je.id&&(this.currentNavigation=null)}),le(en=>{if(tn=!0,Go(en)){Xo(en)||(Me.navigated=!0,Me.restoreHistory(Je,!0));const Rn=new Pt(Je.id,this.urlSerializer.serialize(Je.extractedUrl),en.message,en.cancellationCode);if(this.events.next(Rn),Xo(en)){const ni=Me.urlHandlingStrategy.merge(en.url,Me.rawUrlTree),wi={skipLocationChange:Je.extras.skipLocationChange,replaceUrl:"eager"===Me.urlUpdateStrategy||vn(Je.source)};Me.scheduleNavigation(ni,Hn,null,wi,{resolve:Je.resolve,reject:Je.reject,promise:Je.promise})}else Je.resolve(!1)}else{Me.restoreHistory(Je,!0);const Rn=new Xt(Je.id,this.urlSerializer.serialize(Je.extractedUrl),en,Je.targetSnapshot??void 0);this.events.next(Rn);try{Je.resolve(Me.errorHandler(en))}catch(ni){Je.reject(ni)}}return k.E}))}))}cancelNavigationTransition(Me,Je,Nt){const tn=new Pt(Me.id,this.urlSerializer.serialize(Me.extractedUrl),Je,Nt);this.events.next(tn),Me.resolve(!1)}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();function vn(Pe){return Pe!==Hn}let Gn=(()=>{class Pe{buildTitle(Me){let Je,Nt=Me.root;for(;void 0!==Nt;)Je=this.getResolvedTitleForRoute(Nt)??Je,Nt=Nt.children.find(tn=>tn.outlet===De);return Je}getResolvedTitleForRoute(Me){return Me.data[Ue]}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:function(){return(0,e.f3M)(Jn)},providedIn:"root"})}return Pe})(),Jn=(()=>{class Pe extends Gn{constructor(Me){super(),this.title=Me}updateTitle(Me){const Je=this.buildTitle(Me);void 0!==Je&&this.title.setTitle(Je)}static#e=this.\u0275fac=function(Je){return new(Je||Pe)(e.LFG(Te.Dx))};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),_i=(()=>{class Pe{static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:function(){return(0,e.f3M)(er)},providedIn:"root"})}return Pe})();class tr{shouldDetach(rt){return!1}store(rt,Me){}shouldAttach(rt){return!1}retrieve(rt){return null}shouldReuseRoute(rt,Me){return rt.routeConfig===Me.routeConfig}}let er=(()=>{class Pe extends tr{static#e=this.\u0275fac=function(){let Me;return function(Nt){return(Me||(Me=e.n5z(Pe)))(Nt||Pe)}}();static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();const Wi=new e.OlP("",{providedIn:"root",factory:()=>({})});let Ji=(()=>{class Pe{static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:function(){return(0,e.f3M)(Vr)},providedIn:"root"})}return Pe})(),Vr=(()=>{class Pe{shouldProcessUrl(Me){return!0}extract(Me){return Me}merge(Me,Je){return Me}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();var or=function(Pe){return Pe[Pe.COMPLETE=0]="COMPLETE",Pe[Pe.FAILED=1]="FAILED",Pe[Pe.REDIRECTING=2]="REDIRECTING",Pe}(or||{});function Or(Pe,rt){Pe.events.pipe((0,O.h)(Me=>Me instanceof Ie||Me instanceof Pt||Me instanceof Xt||Me instanceof Dt),(0,R.U)(Me=>Me instanceof Ie||Me instanceof Dt?or.COMPLETE:Me instanceof Pt&&(0===Me.code||1===Me.code)?or.REDIRECTING:or.FAILED),(0,O.h)(Me=>Me!==or.REDIRECTING),(0,T.q)(1)).subscribe(()=>{rt()})}function ko(Pe){throw Pe}function xi(Pe,rt,Me){return rt.parse("/")}const hs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},is={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{class Pe{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(Wi,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||ko,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(Ji),this.routeReuseStrategy=(0,e.f3M)(_i),this.titleStrategy=(0,e.f3M)(Gn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Hs,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(Ft),this.urlSerializer=(0,e.f3M)(ht),this.location=(0,e.f3M)(F.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ne,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(Me=>{this.lastSuccessfulId=Me.id,this.currentPageId=this.browserPageId??0},Me=>{this.console.warn(`Unhandled Navigation Error: ${Me}`)})}resetRootComponentType(Me){this.routerState.root.component=Me,this.navigationTransitions.rootComponentType=Me}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const Me=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hn,Me)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Me=>{const Je="popstate"===Me.type?"popstate":"hashchange";"popstate"===Je&&setTimeout(()=>{this.navigateToSyncWithBrowser(Me.url,Je,Me.state)},0)}))}navigateToSyncWithBrowser(Me,Je,Nt){const tn={replaceUrl:!0},en=Nt?.navigationId?Nt:null;if(Nt){const ni={...Nt};delete ni.navigationId,delete ni.\u0275routerPageId,0!==Object.keys(ni).length&&(tn.state=ni)}const Rn=this.parseUrl(Me);this.scheduleNavigation(Rn,Je,en,tn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Me){this.config=Me.map(Rr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Me,Je={}){const{relativeTo:Nt,queryParams:tn,fragment:en,queryParamsHandling:Rn,preserveFragment:ni}=Je,wi=ni?this.currentUrlTree.fragment:en;let fr,Li=null;switch(Rn){case"merge":Li={...this.currentUrlTree.queryParams,...tn};break;case"preserve":Li=this.currentUrlTree.queryParams;break;default:Li=tn||null}null!==Li&&(Li=this.removeEmptyProps(Li));try{fr=dn(Nt?Nt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Me[0]||!Me[0].startsWith("/"))&&(Me=[]),fr=this.currentUrlTree.root}return an(fr,Me,Li,wi??null)}navigateByUrl(Me,Je={skipLocationChange:!1}){const Nt=Fn(Me)?Me:this.parseUrl(Me),tn=this.urlHandlingStrategy.merge(Nt,this.rawUrlTree);return this.scheduleNavigation(tn,Hn,null,Je)}navigate(Me,Je={skipLocationChange:!1}){return function Io(Pe){for(let rt=0;rt<Pe.length;rt++)if(null==Pe[rt])throw new e.vHH(4008,!1)}(Me),this.navigateByUrl(this.createUrlTree(Me,Je),Je)}serializeUrl(Me){return this.urlSerializer.serialize(Me)}parseUrl(Me){let Je;try{Je=this.urlSerializer.parse(Me)}catch(Nt){Je=this.malformedUriErrorHandler(Nt,this.urlSerializer,Me)}return Je}isActive(Me,Je){let Nt;if(Nt=!0===Je?{...hs}:!1===Je?{...is}:Je,Fn(Me))return $(this.currentUrlTree,Me,Nt);const tn=this.parseUrl(Me);return $(this.currentUrlTree,tn,Nt)}removeEmptyProps(Me){return Object.keys(Me).reduce((Je,Nt)=>{const tn=Me[Nt];return null!=tn&&(Je[Nt]=tn),Je},{})}scheduleNavigation(Me,Je,Nt,tn,en){if(this.disposed)return Promise.resolve(!1);let Rn,ni,wi;en?(Rn=en.resolve,ni=en.reject,wi=en.promise):wi=new Promise((fr,Bo)=>{Rn=fr,ni=Bo});const Li=this.pendingTasks.add();return Or(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Li))}),this.navigationTransitions.handleNavigationRequest({source:Je,restoredState:Nt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Me,extras:tn,resolve:Rn,reject:ni,promise:wi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wi.catch(fr=>Promise.reject(fr))}setBrowserUrl(Me,Je){const Nt=this.urlSerializer.serialize(Me);if(this.location.isCurrentPathEqualTo(Nt)||Je.extras.replaceUrl){const en={...Je.extras.state,...this.generateNgRouterState(Je.id,this.browserPageId)};this.location.replaceState(Nt,"",en)}else{const tn={...Je.extras.state,...this.generateNgRouterState(Je.id,(this.browserPageId??0)+1)};this.location.go(Nt,"",tn)}}restoreHistory(Me,Je=!1){if("computed"===this.canceledNavigationResolution){const tn=this.currentPageId-(this.browserPageId??this.currentPageId);0!==tn?this.location.historyGo(tn):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===tn&&(this.resetState(Me),this.browserUrlTree=Me.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Je&&this.resetState(Me),this.resetUrlToCurrentUrlTree())}resetState(Me){this.routerState=Me.currentRouterState,this.currentUrlTree=Me.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Me.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Me,Je){return"computed"===this.canceledNavigationResolution?{navigationId:Me,\u0275routerPageId:Je}:{navigationId:Me}}static#e=this.\u0275fac=function(Je){return new(Je||Pe)};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),Ko=(()=>{class Pe{constructor(Me,Je,Nt,tn,en,Rn){this.router=Me,this.route=Je,this.tabIndexAttribute=Nt,this.renderer=tn,this.el=en,this.locationStrategy=Rn,this.href=null,this.commands=null,this.onChanges=new B.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ni=en.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ni||"area"===ni,this.isAnchorElement?this.subscription=Me.events.subscribe(wi=>{wi instanceof Ie&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Me){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Me)}ngOnChanges(Me){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Me){null!=Me?(this.commands=Array.isArray(Me)?Me:[Me],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Me,Je,Nt,tn,en){return!!(null===this.urlTree||this.isAnchorElement&&(0!==Me||Je||Nt||tn||en||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Me=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Me)}applyAttributeValue(Me,Je){const Nt=this.renderer,tn=this.el.nativeElement;null!==Je?Nt.setAttribute(tn,Me,Je):Nt.removeAttribute(tn,Me)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Je){return new(Je||Pe)(e.Y36(co),e.Y36(rr),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(F.S$))};static#t=this.\u0275dir=e.lG2({type:Pe,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Je,Nt){1&Je&&e.NdJ("click",function(en){return Nt.onClick(en.button,en.ctrlKey,en.shiftKey,en.altKey,en.metaKey)}),2&Je&&e.uIk("target",Nt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return Pe})();class ic{}let yl=(()=>{class Pe{constructor(Me,Je,Nt,tn,en){this.router=Me,this.injector=Nt,this.preloadingStrategy=tn,this.loader=en}setUpPreloading(){this.subscription=this.router.events.pipe((0,O.h)(Me=>Me instanceof Ie),(0,Z.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Me,Je){const Nt=[];for(const tn of Je){tn.providers&&!tn._injector&&(tn._injector=(0,e.MMx)(tn.providers,Me,`Route: ${tn.path}`));const en=tn._injector??Me,Rn=tn._loadedInjector??en;(tn.loadChildren&&!tn._loadedRoutes&&void 0===tn.canLoad||tn.loadComponent&&!tn._loadedComponent)&&Nt.push(this.preloadConfig(en,tn)),(tn.children||tn._loadedRoutes)&&Nt.push(this.processRoutes(Rn,tn.children??tn._loadedRoutes))}return(0,E.D)(Nt).pipe((0,we.J)())}preloadConfig(Me,Je){return this.preloadingStrategy.preload(Je,()=>{let Nt;Nt=Je.loadChildren&&void 0===Je.canLoad?this.loader.loadChildren(Me,Je):(0,A.of)(null);const tn=Nt.pipe((0,M.z)(en=>null===en?(0,A.of)(void 0):(Je._loadedRoutes=en.routes,Je._loadedInjector=en.injector,this.processRoutes(en.injector??Me,en.routes))));if(Je.loadComponent&&!Je._loadedComponent){const en=this.loader.loadComponent(Je);return(0,E.D)([tn,en]).pipe((0,we.J)())}return tn})}static#e=this.\u0275fac=function(Je){return new(Je||Pe)(e.LFG(co),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(ic),e.LFG(Ke))};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();const Qa=new e.OlP("");let ii=(()=>{class Pe{constructor(Me,Je,Nt,tn,en={}){this.urlSerializer=Me,this.transitions=Je,this.viewportScroller=Nt,this.zone=tn,this.options=en,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},en.scrollPositionRestoration=en.scrollPositionRestoration||"disabled",en.anchorScrolling=en.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof Sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Me.navigationTrigger,this.restoredId=Me.restoredState?Me.restoredState.navigationId:0):Me instanceof Ie?(this.lastId=Me.id,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.urlAfterRedirects).fragment)):Me instanceof Dt&&0===Me.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof Ii&&(Me.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Me.position):Me.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Me.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Me,Je){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ii(Me,"popstate"===this.lastSource?this.store[this.restoredId]:null,Je))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Je){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();function rs(Pe,rt){return{\u0275kind:Pe,\u0275providers:rt}}function bl(){const Pe=(0,e.f3M)(e.zs3);return rt=>{const Me=Pe.get(e.z2F);if(rt!==Me.components[0])return;const Je=Pe.get(co),Nt=Pe.get(io);1===Pe.get(wa)&&Je.initialNavigation(),Pe.get(Es,null,e.XFs.Optional)?.setUpPreloading(),Pe.get(Qa,null,e.XFs.Optional)?.init(),Je.resetRootComponentType(Me.componentTypes[0]),Nt.closed||(Nt.next(),Nt.complete(),Nt.unsubscribe())}}const io=new e.OlP("",{factory:()=>new B.x}),wa=new e.OlP("",{providedIn:"root",factory:()=>1}),Es=new e.OlP("");function Xa(Pe){return rs(0,[{provide:Es,useExisting:yl},{provide:ic,useExisting:Pe}])}const el=new e.OlP("ROUTER_FORROOT_GUARD"),oc=[F.Ye,{provide:ht,useClass:vt},co,br,{provide:rr,useFactory:function ya(Pe){return Pe.routerState.root},deps:[co]},Ke,[]];function ba(){return new e.PXZ("Router",co)}let Oa=(()=>{class Pe{constructor(Me){}static forRoot(Me,Je){return{ngModule:Pe,providers:[oc,[],{provide:Hs,multi:!0,useValue:Me},{provide:el,useFactory:Gl,deps:[[co,new e.FiY,new e.tp0]]},{provide:Wi,useValue:Je||{}},Je?.useHash?{provide:F.S$,useClass:F.Do}:{provide:F.S$,useClass:F.b0},{provide:Qa,useFactory:()=>{const Pe=(0,e.f3M)(F.EM),rt=(0,e.f3M)(e.R0b),Me=(0,e.f3M)(Wi),Je=(0,e.f3M)(Ft),Nt=(0,e.f3M)(ht);return Me.scrollOffset&&Pe.setOffset(Me.scrollOffset),new ii(Nt,Je,Pe,rt,Me)}},Je?.preloadingStrategy?Xa(Je.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:ba},Je?.initialNavigation?Rc(Je):[],Je?.bindToComponentInputs?rs(8,[ki,{provide:Ui,useExisting:ki}]).\u0275providers:[],[{provide:sc,useFactory:bl},{provide:e.tb,multi:!0,useExisting:sc}]]}}static forChild(Me){return{ngModule:Pe,providers:[{provide:Hs,multi:!0,useValue:Me}]}}static#e=this.\u0275fac=function(Je){return new(Je||Pe)(e.LFG(el,8))};static#t=this.\u0275mod=e.oAB({type:Pe});static#n=this.\u0275inj=e.cJS({})}return Pe})();function Gl(Pe){return"guarded"}function Rc(Pe){return["disabled"===Pe.initialNavigation?rs(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const rt=(0,e.f3M)(co);return()=>{rt.setUpLocationChangeListener()}}},{provide:wa,useValue:2}]).\u0275providers:[],"enabledBlocking"===Pe.initialNavigation?rs(2,[{provide:wa,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:rt=>{const Me=rt.get(F.V_,Promise.resolve());return()=>Me.then(()=>new Promise(Je=>{const Nt=rt.get(co),tn=rt.get(io);Or(Nt,()=>{Je(!0)}),rt.get(Ft).afterPreactivation=()=>(Je(!0),tn.closed?(0,A.of)(void 0):tn),Nt.initialNavigation()}))}}]).\u0275providers:[]]}const sc=new e.OlP("")},3106:(Bn,et,v)=>{"use strict";v.d(et,{Z:()=>P});var e=v(9058),n=v(4537),E=v(534),A=v(7879);class _{constructor(F,R){this._delegate=F,this.firebase=R,(0,E._addComponent)(F,new n.wA("app-compat",()=>this,"PUBLIC")),this.container=F.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this._delegate.automaticDataCollectionEnabled=F}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(F=>{this._delegate.checkDestroyed(),F()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(F,R=E._DEFAULT_ENTRY_NAME){var D;this._delegate.checkDestroyed();const T=this._delegate.container.getProvider(F);return!T.isInitialized()&&"EXPLICIT"===(null===(D=T.getComponent())||void 0===D?void 0:D.instantiationMode)&&T.initialize(),T.getImmediate({identifier:R})}_removeServiceInstance(F,R=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(F).clearInstance(R)}_addComponent(F){(0,E._addComponent)(this._delegate,F)}_addOrOverwriteComponent(F){(0,E._addOrOverwriteComponent)(this._delegate,F)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const w=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),d=function o(){const B=function g(B){const F={},R={__esModule:!0,initializeApp:function C(Z,ee={}){const ae=E.initializeApp(Z,ee);if((0,e.r3)(F,ae.name))return F[ae.name];const Ae=new B(ae,R);return F[ae.name]=Ae,Ae},app:T,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function M(Z){const ee=Z.name,ae=ee.replace("-compat","");if(E._registerComponent(Z)&&"PUBLIC"===Z.type){const Ae=(j=T())=>{if("function"!=typeof j[ae])throw w.create("invalid-app-argument",{appName:ee});return j[ae]()};void 0!==Z.serviceProps&&(0,e.ZB)(Ae,Z.serviceProps),R[ae]=Ae,B.prototype[ae]=function(...j){return this._getService.bind(this,ee).apply(this,Z.multipleInstances?j:[])}}return"PUBLIC"===Z.type?R[ae]:null},removeApp:function D(Z){delete F[Z]},useAsService:function G(Z,ee){return"serverAuth"===ee?null:ee},modularAPIs:E}};function T(Z){if(!(0,e.r3)(F,Z=Z||E._DEFAULT_ENTRY_NAME))throw w.create("no-app",{appName:Z});return F[Z]}return R.default=R,Object.defineProperty(R,"apps",{get:function O(){return Object.keys(F).map(Z=>F[Z])}}),T.App=B,R}(_);return B.INTERNAL=Object.assign(Object.assign({},B.INTERNAL),{createFirebaseNamespace:o,extendNamespace:function F(R){(0,e.ZB)(B,R)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),B}(),u=new A.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const B=self.firebase.SDK_VERSION;B&&B.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const P=d;!function k(B){(0,E.registerVersion)("@firebase/app-compat","0.2.13",B)}()},534:(Bn,et,v)=>{"use strict";v.r(et),v.d(et,{FirebaseError:()=>A.ZR,SDK_VERSION:()=>yt,_DEFAULT_ENTRY_NAME:()=>me,_addComponent:()=>tt,_addOrOverwriteComponent:()=>qe,_apps:()=>ye,_clearComponents:()=>ht,_components:()=>Ne,_getProvider:()=>ut,_registerComponent:()=>Xe,_removeServiceInstance:()=>ze,deleteApp:()=>cn,getApp:()=>zt,getApps:()=>Yt,initializeApp:()=>Bt,onLog:()=>gt,registerVersion:()=>Mt,setLogLevel:()=>Qe});var e=v(5861),n=v(4537),E=v(7879),A=v(9058);const _=(on,ln)=>ln.some(Tt=>on instanceof Tt);let I,w;const d=new WeakMap,u=new WeakMap,m=new WeakMap,y=new WeakMap,k=new WeakMap;let F={get(on,ln,Tt){if(on instanceof IDBTransaction){if("done"===ln)return u.get(on);if("objectStoreNames"===ln)return on.objectStoreNames||m.get(on);if("store"===ln)return Tt.objectStoreNames[1]?void 0:Tt.objectStore(Tt.objectStoreNames[0])}return C(on[ln])},set:(on,ln,Tt)=>(on[ln]=Tt,!0),has:(on,ln)=>on instanceof IDBTransaction&&("done"===ln||"store"===ln)||ln in on};function T(on){return"function"==typeof on?function D(on){return on!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function o(){return w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(on)?function(...ln){return on.apply(O(this),ln),C(d.get(this))}:function(...ln){return C(on.apply(O(this),ln))}:function(ln,...Tt){const ct=on.call(O(this),ln,...Tt);return m.set(ct,ln.sort?ln.sort():[ln]),C(ct)}}(on):(on instanceof IDBTransaction&&function B(on){if(u.has(on))return;const ln=new Promise((Tt,ct)=>{const hn=()=>{on.removeEventListener("complete",Ze),on.removeEventListener("error",bt),on.removeEventListener("abort",bt)},Ze=()=>{Tt(),hn()},bt=()=>{ct(on.error||new DOMException("AbortError","AbortError")),hn()};on.addEventListener("complete",Ze),on.addEventListener("error",bt),on.addEventListener("abort",bt)});u.set(on,ln)}(on),_(on,function g(){return I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(on,F):on)}function C(on){if(on instanceof IDBRequest)return function P(on){const ln=new Promise((Tt,ct)=>{const hn=()=>{on.removeEventListener("success",Ze),on.removeEventListener("error",bt)},Ze=()=>{Tt(C(on.result)),hn()},bt=()=>{ct(on.error),hn()};on.addEventListener("success",Ze),on.addEventListener("error",bt)});return ln.then(Tt=>{Tt instanceof IDBCursor&&d.set(Tt,on)}).catch(()=>{}),k.set(ln,on),ln}(on);if(y.has(on))return y.get(on);const ln=T(on);return ln!==on&&(y.set(on,ln),k.set(ln,on)),ln}const O=on=>k.get(on),Z=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],ae=new Map;function Ae(on,ln){if(!(on instanceof IDBDatabase)||ln in on||"string"!=typeof ln)return;if(ae.get(ln))return ae.get(ln);const Tt=ln.replace(/FromIndex$/,""),ct=ln!==Tt,hn=ee.includes(Tt);if(!(Tt in(ct?IDBIndex:IDBObjectStore).prototype)||!hn&&!Z.includes(Tt))return;const Ze=function(){var bt=(0,e.Z)(function*(Kt,...Ot){const yn=this.transaction(Kt,hn?"readwrite":"readonly");let Rt=yn.store;return ct&&(Rt=Rt.index(Ot.shift())),(yield Promise.all([Rt[Tt](...Ot),hn&&yn.done]))[0]});return function(Ot){return bt.apply(this,arguments)}}();return ae.set(ln,Ze),Ze}!function R(on){F=on(F)}(on=>({...on,get:(ln,Tt,ct)=>Ae(ln,Tt)||on.get(ln,Tt,ct),has:(ln,Tt)=>!!Ae(ln,Tt)||on.has(ln,Tt)}));class j{constructor(ln){this.container=ln}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function le(on){const ln=on.getComponent();return"VERSION"===ln?.type}(Tt)){const ct=Tt.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(Tt=>Tt).join(" ")}}const Y="@firebase/app",de=new E.Yd("@firebase/app"),me="[DEFAULT]",Ee={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ye=new Map,Ne=new Map;function tt(on,ln){try{on.container.addComponent(ln)}catch(Tt){de.debug(`Component ${ln.name} failed to register with FirebaseApp ${on.name}`,Tt)}}function qe(on,ln){on.container.addOrOverwriteComponent(ln)}function Xe(on){const ln=on.name;if(Ne.has(ln))return de.debug(`There were multiple attempts to register component ${ln}.`),!1;Ne.set(ln,on);for(const Tt of ye.values())tt(Tt,on);return!0}function ut(on,ln){const Tt=on.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),on.container.getProvider(ln)}function ze(on,ln,Tt=me){ut(on,ln).clearInstance(Tt)}function ht(){Ne.clear()}const ce=new A.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ve{constructor(ln,Tt,ct){this._isDeleted=!1,this._options=Object.assign({},ln),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new n.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ln){this.checkDestroyed(),this._automaticDataCollectionEnabled=ln}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ln){this._isDeleted=ln}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const yt="9.23.0";function Bt(on,ln={}){let Tt=on;"object"!=typeof ln&&(ln={name:ln});const ct=Object.assign({name:me,automaticDataCollectionEnabled:!1},ln),hn=ct.name;if("string"!=typeof hn||!hn)throw ce.create("bad-app-name",{appName:String(hn)});if(Tt||(Tt=(0,A.aH)()),!Tt)throw ce.create("no-options");const Ze=ye.get(hn);if(Ze){if((0,A.vZ)(Tt,Ze.options)&&(0,A.vZ)(ct,Ze.config))return Ze;throw ce.create("duplicate-app",{appName:hn})}const bt=new n.H0(hn);for(const Ot of Ne.values())bt.addComponent(Ot);const Kt=new Ve(Tt,ct,bt);return ye.set(hn,Kt),Kt}function zt(on=me){const ln=ye.get(on);if(!ln&&on===me&&(0,A.aH)())return Bt();if(!ln)throw ce.create("no-app",{appName:on});return ln}function Yt(){return Array.from(ye.values())}function cn(on){return nn.apply(this,arguments)}function nn(){return(nn=(0,e.Z)(function*(on){const ln=on.name;ye.has(ln)&&(ye.delete(ln),yield Promise.all(on.container.getProviders().map(Tt=>Tt.delete())),on.isDeleted=!0)})).apply(this,arguments)}function Mt(on,ln,Tt){var ct;let hn=null!==(ct=Ee[on])&&void 0!==ct?ct:on;Tt&&(hn+=`-${Tt}`);const Ze=hn.match(/\s|\//),bt=ln.match(/\s|\//);if(Ze||bt){const Kt=[`Unable to register library "${hn}" with version "${ln}":`];return Ze&&Kt.push(`library name "${hn}" contains illegal characters (whitespace or "/")`),Ze&&bt&&Kt.push("and"),bt&&Kt.push(`version name "${ln}" contains illegal characters (whitespace or "/")`),void de.warn(Kt.join(" "))}Xe(new n.wA(`${hn}-version`,()=>({library:hn,version:ln}),"VERSION"))}function gt(on,ln){if(null!==on&&"function"!=typeof on)throw ce.create("invalid-log-argument");(0,E.Am)(on,ln)}function Qe(on){(0,E.Ub)(on)}const Fe="firebase-heartbeat-database",ke=1,it="firebase-heartbeat-store";let ot=null;function ft(){return ot||(ot=function M(on,ln,{blocked:Tt,upgrade:ct,blocking:hn,terminated:Ze}={}){const bt=indexedDB.open(on,ln),Kt=C(bt);return ct&&bt.addEventListener("upgradeneeded",Ot=>{ct(C(bt.result),Ot.oldVersion,Ot.newVersion,C(bt.transaction),Ot)}),Tt&&bt.addEventListener("blocked",Ot=>Tt(Ot.oldVersion,Ot.newVersion,Ot)),Kt.then(Ot=>{Ze&&Ot.addEventListener("close",()=>Ze()),hn&&Ot.addEventListener("versionchange",yn=>hn(yn.oldVersion,yn.newVersion,yn))}).catch(()=>{}),Kt}(Fe,ke,{upgrade:(on,ln)=>{0===ln&&on.createObjectStore(it)}}).catch(on=>{throw ce.create("idb-open",{originalErrorMessage:on.message})})),ot}function Et(){return(Et=(0,e.Z)(function*(on){try{return yield(yield ft()).transaction(it).objectStore(it).get(Jt(on))}catch(ln){if(ln instanceof A.ZR)de.warn(ln.message);else{const Tt=ce.create("idb-get",{originalErrorMessage:ln?.message});de.warn(Tt.message)}}})).apply(this,arguments)}function Qt(on,ln){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.Z)(function*(on,ln){try{const ct=(yield ft()).transaction(it,"readwrite");yield ct.objectStore(it).put(ln,Jt(on)),yield ct.done}catch(Tt){if(Tt instanceof A.ZR)de.warn(Tt.message);else{const ct=ce.create("idb-set",{originalErrorMessage:Tt?.message});de.warn(ct.message)}}})).apply(this,arguments)}function Jt(on){return`${on.name}!${on.options.appId}`}class Dn{constructor(ln){this.container=ln,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new dn(Tt),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var ln=this;return(0,e.Z)(function*(){const ct=ln.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hn=Fn();if(null===ln._heartbeatsCache&&(ln._heartbeatsCache=yield ln._heartbeatsCachePromise),ln._heartbeatsCache.lastSentHeartbeatDate!==hn&&!ln._heartbeatsCache.heartbeats.some(Ze=>Ze.date===hn))return ln._heartbeatsCache.heartbeats.push({date:hn,agent:ct}),ln._heartbeatsCache.heartbeats=ln._heartbeatsCache.heartbeats.filter(Ze=>{const bt=new Date(Ze.date).valueOf();return Date.now()-bt<=2592e6}),ln._storage.overwrite(ln._heartbeatsCache)})()}getHeartbeatsHeader(){var ln=this;return(0,e.Z)(function*(){if(null===ln._heartbeatsCache&&(yield ln._heartbeatsCachePromise),null===ln._heartbeatsCache||0===ln._heartbeatsCache.heartbeats.length)return"";const Tt=Fn(),{heartbeatsToSend:ct,unsentEntries:hn}=function Kn(on,ln=1024){const Tt=[];let ct=on.slice();for(const hn of on){const Ze=Tt.find(bt=>bt.agent===hn.agent);if(Ze){if(Ze.dates.push(hn.date),an(Tt)>ln){Ze.dates.pop();break}}else if(Tt.push({agent:hn.agent,dates:[hn.date]}),an(Tt)>ln){Tt.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:ct}}(ln._heartbeatsCache.heartbeats),Ze=(0,A.L)(JSON.stringify({version:2,heartbeats:ct}));return ln._heartbeatsCache.lastSentHeartbeatDate=Tt,hn.length>0?(ln._heartbeatsCache.heartbeats=hn,yield ln._storage.overwrite(ln._heartbeatsCache)):(ln._heartbeatsCache.heartbeats=[],ln._storage.overwrite(ln._heartbeatsCache)),Ze})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(ln){this.app=ln,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,A.hl)()&&(0,A.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ln=this;return(0,e.Z)(function*(){return(yield ln._canUseIndexedDBPromise)&&(yield function mt(on){return Et.apply(this,arguments)}(ln.app))||{heartbeats:[]}})()}overwrite(ln){var Tt=this;return(0,e.Z)(function*(){var ct;if(yield Tt._canUseIndexedDBPromise){const Ze=yield Tt.read();return Qt(Tt.app,{lastSentHeartbeatDate:null!==(ct=ln.lastSentHeartbeatDate)&&void 0!==ct?ct:Ze.lastSentHeartbeatDate,heartbeats:ln.heartbeats})}})()}add(ln){var Tt=this;return(0,e.Z)(function*(){var ct;if(yield Tt._canUseIndexedDBPromise){const Ze=yield Tt.read();return Qt(Tt.app,{lastSentHeartbeatDate:null!==(ct=ln.lastSentHeartbeatDate)&&void 0!==ct?ct:Ze.lastSentHeartbeatDate,heartbeats:[...Ze.heartbeats,...ln.heartbeats]})}})()}}function an(on){return(0,A.L)(JSON.stringify({version:2,heartbeats:on})).length}!function un(on){Xe(new n.wA("platform-logger",ln=>new j(ln),"PRIVATE")),Xe(new n.wA("heartbeat",ln=>new Dn(ln),"PRIVATE")),Mt(Y,"0.9.13",on),Mt(Y,"0.9.13","esm2017"),Mt("fire-js","")}("")},4537:(Bn,et,v)=>{"use strict";v.d(et,{H0:()=>g,wA:()=>E});var e=v(5861),n=v(9058);class E{constructor(d,u,m){this.name=d,this.instanceFactory=u,this.type=m,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(d){return this.instantiationMode=d,this}setMultipleInstances(d){return this.multipleInstances=d,this}setServiceProps(d){return this.serviceProps=d,this}setInstanceCreatedCallback(d){return this.onInstanceCreated=d,this}}const A="[DEFAULT]";class _{constructor(d,u){this.name=d,this.container=u,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(d){const u=this.normalizeInstanceIdentifier(d);if(!this.instancesDeferred.has(u)){const m=new n.BH;if(this.instancesDeferred.set(u,m),this.isInitialized(u)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:u});y&&m.resolve(y)}catch{}}return this.instancesDeferred.get(u).promise}getImmediate(d){var u;const m=this.normalizeInstanceIdentifier(d?.identifier),y=null!==(u=d?.optional)&&void 0!==u&&u;if(!this.isInitialized(m)&&!this.shouldAutoInitialize()){if(y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:m})}catch(k){if(y)return null;throw k}}getComponent(){return this.component}setComponent(d){if(d.name!==this.name)throw Error(`Mismatching Component ${d.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=d,this.shouldAutoInitialize()){if(function w(o){return"EAGER"===o.instantiationMode}(d))try{this.getOrInitializeService({instanceIdentifier:A})}catch{}for(const[u,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);try{const k=this.getOrInitializeService({instanceIdentifier:y});m.resolve(k)}catch{}}}}clearInstance(d=A){this.instancesDeferred.delete(d),this.instancesOptions.delete(d),this.instances.delete(d)}delete(){var d=this;return(0,e.Z)(function*(){const u=Array.from(d.instances.values());yield Promise.all([...u.filter(m=>"INTERNAL"in m).map(m=>m.INTERNAL.delete()),...u.filter(m=>"_delete"in m).map(m=>m._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(d=A){return this.instances.has(d)}getOptions(d=A){return this.instancesOptions.get(d)||{}}initialize(d={}){const{options:u={}}=d,m=this.normalizeInstanceIdentifier(d.instanceIdentifier);if(this.isInitialized(m))throw Error(`${this.name}(${m}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const y=this.getOrInitializeService({instanceIdentifier:m,options:u});for(const[k,P]of this.instancesDeferred.entries())m===this.normalizeInstanceIdentifier(k)&&P.resolve(y);return y}onInit(d,u){var m;const y=this.normalizeInstanceIdentifier(u),k=null!==(m=this.onInitCallbacks.get(y))&&void 0!==m?m:new Set;k.add(d),this.onInitCallbacks.set(y,k);const P=this.instances.get(y);return P&&d(P,y),()=>{k.delete(d)}}invokeOnInitCallbacks(d,u){const m=this.onInitCallbacks.get(u);if(m)for(const y of m)try{y(d,u)}catch{}}getOrInitializeService({instanceIdentifier:d,options:u={}}){let m=this.instances.get(d);if(!m&&this.component&&(m=this.component.instanceFactory(this.container,{instanceIdentifier:(o=d,o===A?void 0:o),options:u}),this.instances.set(d,m),this.instancesOptions.set(d,u),this.invokeOnInitCallbacks(m,d),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,d,m)}catch{}var o;return m||null}normalizeInstanceIdentifier(d=A){return this.component?this.component.multipleInstances?d:A:d}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class g{constructor(d){this.name=d,this.providers=new Map}addComponent(d){const u=this.getProvider(d.name);if(u.isComponentSet())throw new Error(`Component ${d.name} has already been registered with ${this.name}`);u.setComponent(d)}addOrOverwriteComponent(d){this.getProvider(d.name).isComponentSet()&&this.providers.delete(d.name),this.addComponent(d)}getProvider(d){if(this.providers.has(d))return this.providers.get(d);const u=new _(d,this);return this.providers.set(d,u),u}getProviders(){return Array.from(this.providers.values())}}},7879:(Bn,et,v)=>{"use strict";v.d(et,{Am:()=>o,Ub:()=>g,Yd:()=>w,in:()=>n});const e=[];var n=function(d){return d[d.DEBUG=0]="DEBUG",d[d.VERBOSE=1]="VERBOSE",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.SILENT=5]="SILENT",d}(n||{});const E={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},A=n.INFO,_={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},I=(d,u,...m)=>{if(u<d.logLevel)return;const y=(new Date).toISOString(),k=_[u];if(!k)throw new Error(`Attempted to log a message with an invalid logType (value: ${u})`);console[k](`[${y}]  ${d.name}:`,...m)};class w{constructor(u){this.name=u,this._logLevel=A,this._logHandler=I,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(u){if(!(u in n))throw new TypeError(`Invalid value "${u}" assigned to \`logLevel\``);this._logLevel=u}setLogLevel(u){this._logLevel="string"==typeof u?E[u]:u}get logHandler(){return this._logHandler}set logHandler(u){if("function"!=typeof u)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=u}get userLogHandler(){return this._userLogHandler}set userLogHandler(u){this._userLogHandler=u}debug(...u){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...u),this._logHandler(this,n.DEBUG,...u)}log(...u){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...u),this._logHandler(this,n.VERBOSE,...u)}info(...u){this._userLogHandler&&this._userLogHandler(this,n.INFO,...u),this._logHandler(this,n.INFO,...u)}warn(...u){this._userLogHandler&&this._userLogHandler(this,n.WARN,...u),this._logHandler(this,n.WARN,...u)}error(...u){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...u),this._logHandler(this,n.ERROR,...u)}}function g(d){e.forEach(u=>{u.setLogLevel(d)})}function o(d,u){for(const m of e){let y=null;u&&u.level&&(y=E[u.level]),m.userLogHandler=null===d?null:(k,P,...B)=>{const F=B.map(R=>{if(null==R)return null;if("string"==typeof R)return R;if("number"==typeof R||"boolean"==typeof R)return R.toString();if(R instanceof Error)return R.message;try{return JSON.stringify(R)}catch{return null}}).filter(R=>R).join(" ");P>=(y??k.logLevel)&&d({level:n[P].toLowerCase(),message:F,args:B,type:k.name})}}}},3946:(Bn,et,v)=>{"use strict";v.d(et,{Kz:()=>vr,FF:()=>gc});var e=v(5879),n=v(5592),E=v(6232),A=v(2096),_=v(8645),I=v(2438),w=v(4825),g=v(4829);const{isArray:o}=Array;function d(U){return 1===U.length&&o(U[0])?U[0]:U}var u=v(8251);v(3019);var P=v(9940);function B(...U){const Re=(0,P.jO)(U),x=d(U);return x.length?new n.y(V=>{let he=x.map(()=>[]),_t=x.map(()=>!1);V.add(()=>{he=_t=null});for(let Ht=0;!V.closed&&Ht<x.length;Ht++)(0,g.Xf)(x[Ht]).subscribe((0,u.x)(V,Cn=>{if(he[Ht].push(Cn),he.every(In=>In.length)){const In=he.map(jn=>jn.shift());V.next(Re?Re(...In):In),he.some((jn,Wn)=>!jn.length&&_t[Wn])&&V.complete()}},()=>{_t[Ht]=!0,!he[Ht].length&&V.complete()}));return()=>{he=_t=null}}):E.E}var F=v(5211),D=v(9773),T=v(2181),C=v(8180),O=v(9397),M=v(7398),G=v(9360),Z=v(2737),ee=v(2420);function ae(...U){const Re=(0,P.jO)(U);return(0,G.e)((x,V)=>{const he=U.length,_t=new Array(he);let Ht=U.map(()=>!1),Cn=!1;for(let In=0;In<he;In++)(0,g.Xf)(U[In]).subscribe((0,u.x)(V,jn=>{_t[In]=jn,!Cn&&!Ht[In]&&(Ht[In]=!0,(Cn=Ht.every(Z.y))&&(Ht=null))},ee.Z));x.subscribe((0,u.x)(V,In=>{if(Cn){const jn=[In,..._t];V.next(Re?Re(...jn):jn)}}))})}v(6321),v(975),v(1631);var Se=v(4664),Ce=(v(7921),v(3997),v(836),v(6814));v(95),Math,Math,Math;const jr=["*"],ns=["dialog"];function Jn(U){return"string"==typeof U}function er(U){return null!=U}function ko(U){return(U||document.body).getBoundingClientRect()}const co={animation:!0,transitionTimerDelayMs:5},Io=()=>{},{transitionTimerDelayMs:Ko}=co,Qs=new Map,$r=(U,Re,x,V)=>{let he=V.context||{};const _t=Qs.get(Re);if(_t)switch(V.runningTransition){case"continue":return E.E;case"stop":U.run(()=>_t.transition$.complete()),he=Object.assign(_t.context,he),Qs.delete(Re)}const Ht=x(Re,V.animation,he)||Io;if(!V.animation||"none"===window.getComputedStyle(Re).transitionProperty)return U.run(()=>Ht()),(0,A.of)(void 0).pipe(function xi(U){return Re=>new n.y(x=>Re.subscribe({next:Ht=>U.run(()=>x.next(Ht)),error:Ht=>U.run(()=>x.error(Ht)),complete:()=>U.run(()=>x.complete())}))}(U));const Cn=new _.x,In=new _.x,jn=Cn.pipe(function R(...U){return Re=>(0,F.z)(Re,(0,A.of)(...U))}(!0));Qs.set(Re,{transition$:Cn,complete:()=>{In.next(),In.complete()},context:he});const Wn=function is(U){const{transitionDelay:Re,transitionDuration:x}=window.getComputedStyle(U);return 1e3*(parseFloat(Re)+parseFloat(x))}(Re);return U.runOutsideAngular(()=>{const Si=(0,I.R)(Re,"transitionend").pipe((0,D.R)(jn),(0,T.h)(({target:Ei})=>Ei===Re));(function m(...U){return 1===(U=d(U)).length?(0,g.Xf)(U[0]):new n.y(function y(U){return Re=>{let x=[];for(let V=0;x&&!Re.closed&&V<U.length;V++)x.push((0,g.Xf)(U[V]).subscribe((0,u.x)(Re,he=>{if(x){for(let _t=0;_t<x.length;_t++)_t!==V&&x[_t].unsubscribe();x=null}Re.next(he)})))}}(U))})((0,w.H)(Wn+Ko).pipe((0,D.R)(jn)),Si,In).pipe((0,D.R)(jn)).subscribe(()=>{Qs.delete(Re),U.run(()=>{Ht(),Cn.next(),Cn.complete()})})}),Cn.asObservable()};let yl=(()=>{class U{constructor(){this.animation=co.animation}static#e=this.\u0275fac=function(V){return new(V||U)};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var Cr=function(U){return U[U.Tab=9]="Tab",U[U.Enter=13]="Enter",U[U.Escape=27]="Escape",U[U.Space=32]="Space",U[U.PageUp=33]="PageUp",U[U.PageDown=34]="PageDown",U[U.End=35]="End",U[U.Home=36]="Home",U[U.ArrowLeft=37]="ArrowLeft",U[U.ArrowUp=38]="ArrowUp",U[U.ArrowRight=39]="ArrowRight",U[U.ArrowDown=40]="ArrowDown",U}(Cr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const La=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Cl(U){const Re=Array.from(U.querySelectorAll(La)).filter(x=>-1!==x.tabIndex);return[Re[0],Re[Re.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class di{constructor(Re,x,V){this.nodes=Re,this.viewRef=x,this.componentRef=V}}let Bi=(()=>{class U{constructor(x,V){this._el=x,this._zone=V}ngOnInit(){this._zone.onStable.asObservable().pipe((0,C.q)(1)).subscribe(()=>{$r(this._zone,this._el.nativeElement,(x,V)=>{V&&ko(x),x.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $r(this._zone,this._el.nativeElement,({classList:x})=>x.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(V){return new(V||U)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(V,he){2&V&&(e.Tol("modal-backdrop"+(he.backdropClass?" "+he.backdropClass:"")),e.ekj("show",!he.animation)("fade",he.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(V,he){},encapsulation:2})}return U})();class vr{update(Re){}close(Re){}dismiss(Re){}}const Ds=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Jl=["animation","backdropClass"];class Ld{_applyWindowOptions(Re,x){Ds.forEach(V=>{er(x[V])&&(Re[V]=x[V])})}_applyBackdropOptions(Re,x){Jl.forEach(V=>{er(x[V])&&(Re[V]=x[V])})}update(Re){this._applyWindowOptions(this._windowCmptRef.instance,Re),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,Re)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,D.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,D.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(Re,x,V,he){this._windowCmptRef=Re,this._contentRef=x,this._backdropCmptRef=V,this._beforeDismiss=he,this._closed=new _.x,this._dismissed=new _.x,this._hidden=new _.x,Re.instance.dismissEvent.subscribe(_t=>{this.dismiss(_t)}),this.result=new Promise((_t,Ht)=>{this._resolve=_t,this._reject=Ht}),this.result.then(null,()=>{})}close(Re){this._windowCmptRef&&(this._closed.next(Re),this._resolve(Re),this._removeModalElements())}_dismiss(Re){this._dismissed.next(Re),this._reject(Re),this._removeModalElements()}dismiss(Re){if(this._windowCmptRef)if(this._beforeDismiss){const x=this._beforeDismiss();!function Wi(U){return U&&U.then}(x)?!1!==x&&this._dismiss(Re):x.then(V=>{!1!==V&&this._dismiss(Re)},()=>{})}else this._dismiss(Re)}_removeModalElements(){const Re=this._windowCmptRef.instance.hide(),x=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,A.of)(void 0);Re.subscribe(()=>{const{nativeElement:V}=this._windowCmptRef.location;V.parentNode.removeChild(V),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),x.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:V}=this._backdropCmptRef.location;V.parentNode.removeChild(V),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),B(Re,x).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var md=function(U){return U[U.BACKDROP_CLICK=0]="BACKDROP_CLICK",U[U.ESC=1]="ESC",U}(md||{});let pd=(()=>{class U{constructor(x,V,he){this._document=x,this._elRef=V,this._zone=he,this._closed$=new _.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new _.x,this.hidden=new _.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(x){this.dismissEvent.emit(x)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,C.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:x}=this._elRef,V={animation:this.animation,runningTransition:"stop"},Ht=B($r(this._zone,x,()=>x.classList.remove("show"),V),$r(this._zone,this._dialogEl.nativeElement,()=>{},V));return Ht.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ht}_show(){const x={animation:this.animation,runningTransition:"continue"};B($r(this._zone,this._elRef.nativeElement,(_t,Ht)=>{Ht&&ko(_t),_t.classList.add("show")},x),$r(this._zone,this._dialogEl.nativeElement,()=>{},x)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:x}=this._elRef;this._zone.runOutsideAngular(()=>{(0,I.R)(x,"keydown").pipe((0,D.R)(this._closed$),(0,T.h)(he=>he.which===Cr.Escape)).subscribe(he=>{this.keyboard?requestAnimationFrame(()=>{he.defaultPrevented||this._zone.run(()=>this.dismiss(md.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let V=!1;(0,I.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,D.R)(this._closed$),(0,O.b)(()=>V=!1),(0,Se.w)(()=>(0,I.R)(x,"mouseup").pipe((0,D.R)(this._closed$),(0,C.q)(1))),(0,T.h)(({target:he})=>x===he)).subscribe(()=>{V=!0}),(0,I.R)(x,"click").pipe((0,D.R)(this._closed$)).subscribe(({target:he})=>{x===he&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!V&&this._zone.run(()=>this.dismiss(md.BACKDROP_CLICK))),V=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:x}=this._elRef;if(!x.contains(document.activeElement)){const V=x.querySelector("[ngbAutofocus]"),he=Cl(x)[0];(V||he||x).focus()}}_restoreFocus(){const x=this._document.body,V=this._elWithFocus;let he;he=V&&V.focus&&x.contains(V)?V:x,this._zone.runOutsideAngular(()=>{setTimeout(()=>he.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$r(this._zone,this._elRef.nativeElement,({classList:x})=>(x.add("modal-static"),()=>x.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(V){return new(V||U)(e.Y36(Ce.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-window"]],viewQuery:function(V,he){if(1&V&&e.Gf(ns,7),2&V){let _t;e.iGM(_t=e.CRH())&&(he._dialogEl=_t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(V,he){2&V&&(e.uIk("aria-modal",!0)("aria-labelledby",he.ariaLabelledBy)("aria-describedby",he.ariaDescribedBy),e.Tol("modal d-block"+(he.windowClass?" "+he.windowClass:"")),e.ekj("fade",he.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:jr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(V,he){1&V&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&V&&e.Tol("modal-dialog"+(he.size?" modal-"+he.size:"")+(he.centered?" modal-dialog-centered":"")+he.fullscreenClass+(he.scrollable?" modal-dialog-scrollable":"")+(he.modalDialogClass?" "+he.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return U})(),su=(()=>{class U{constructor(x){this._document=x}hide(){const x=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),V=this._document.body,he=V.style,{overflow:_t,paddingRight:Ht}=he;if(x>0){const Cn=parseFloat(window.getComputedStyle(V).paddingRight);he.paddingRight=`${Cn+x}px`}return he.overflow="hidden",()=>{x>0&&(he.paddingRight=Ht),he.overflow=_t}}static#e=this.\u0275fac=function(V){return new(V||U)(e.LFG(Ce.K0))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),na=(()=>{class U{constructor(x,V,he,_t,Ht,Cn,In){this._applicationRef=x,this._injector=V,this._environmentInjector=he,this._document=_t,this._scrollBar=Ht,this._rendererFactory=Cn,this._ngZone=In,this._activeWindowCmptHasChanged=new _.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const jn=this._windowCmpts[this._windowCmpts.length-1];((U,Re,x,V=!1)=>{U.runOutsideAngular(()=>{const he=(0,I.R)(Re,"focusin").pipe((0,D.R)(x),(0,M.U)(_t=>_t.target));(0,I.R)(Re,"keydown").pipe((0,D.R)(x),(0,T.h)(_t=>_t.which===Cr.Tab),ae(he)).subscribe(([_t,Ht])=>{const[Cn,In]=Cl(Re);(Ht===Cn||Ht===Re)&&_t.shiftKey&&(In.focus(),_t.preventDefault()),Ht===In&&!_t.shiftKey&&(Cn.focus(),_t.preventDefault())}),V&&(0,I.R)(Re,"click").pipe((0,D.R)(x),ae(he),(0,M.U)(_t=>_t[1])).subscribe(_t=>_t.focus())})})(this._ngZone,jn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(jn.location.nativeElement)}})}_restoreScrollBar(){const x=this._scrollBarRestoreFn;x&&(this._scrollBarRestoreFn=null,x())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(x,V,he){const _t=he.container instanceof HTMLElement?he.container:er(he.container)?this._document.querySelector(he.container):this._document.body,Ht=this._rendererFactory.createRenderer(null,null);if(!_t)throw new Error(`The specified modal container "${he.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Cn=new vr,In=(x=he.injector||x).get(e.lqb,null)||this._environmentInjector,jn=this._getContentRef(x,In,V,Cn,he);let Wn=!1!==he.backdrop?this._attachBackdrop(_t):void 0,Si=this._attachWindowComponent(_t,jn.nodes),li=new Ld(Si,jn,Wn,he.beforeDismiss);return this._registerModalRef(li),this._registerWindowCmpt(Si),li.hidden.pipe((0,C.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ht.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Cn.close=Ei=>{li.close(Ei)},Cn.dismiss=Ei=>{li.dismiss(Ei)},Cn.update=Ei=>{li.update(Ei)},li.update(he),1===this._modalRefs.length&&Ht.addClass(this._document.body,"modal-open"),Wn&&Wn.instance&&Wn.changeDetectorRef.detectChanges(),Si.changeDetectorRef.detectChanges(),li}get activeInstances(){return this._activeInstances}dismissAll(x){this._modalRefs.forEach(V=>V.dismiss(x))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(x){let V=(0,e.LMc)(Bi,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(V.hostView),x.appendChild(V.location.nativeElement),V}_attachWindowComponent(x,V){let he=(0,e.LMc)(pd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:V});return this._applicationRef.attachView(he.hostView),x.appendChild(he.location.nativeElement),he}_getContentRef(x,V,he,_t,Ht){return he?he instanceof e.Rgc?this._createFromTemplateRef(he,_t):Jn(he)?this._createFromString(he):this._createFromComponent(x,V,he,_t,Ht):new di([])}_createFromTemplateRef(x,V){const _t=x.createEmbeddedView({$implicit:V,close(Ht){V.close(Ht)},dismiss(Ht){V.dismiss(Ht)}});return this._applicationRef.attachView(_t),new di([_t.rootNodes],_t)}_createFromString(x){const V=this._document.createTextNode(`${x}`);return new di([[V]])}_createFromComponent(x,V,he,_t,Ht){const Cn=e.zs3.create({providers:[{provide:vr,useValue:_t}],parent:x}),In=(0,e.LMc)(he,{environmentInjector:V,elementInjector:Cn}),jn=In.location.nativeElement;return Ht.scrollable&&jn.classList.add("component-host-scrollable"),this._applicationRef.attachView(In.hostView),new di([[jn]],In.hostView,In)}_setAriaHidden(x){const V=x.parentElement;V&&x!==this._document.body&&(Array.from(V.children).forEach(he=>{he!==x&&"SCRIPT"!==he.nodeName&&(this._ariaHiddenValues.set(he,he.getAttribute("aria-hidden")),he.setAttribute("aria-hidden","true"))}),this._setAriaHidden(V))}_revertAriaHidden(){this._ariaHiddenValues.forEach((x,V)=>{x?V.setAttribute("aria-hidden",x):V.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(x){const V=()=>{const he=this._modalRefs.indexOf(x);he>-1&&(this._modalRefs.splice(he,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(x),this._activeInstances.emit(this._modalRefs),x.result.then(V,V)}_registerWindowCmpt(x){this._windowCmpts.push(x),this._activeWindowCmptHasChanged.next(),x.onDestroy(()=>{const V=this._windowCmpts.indexOf(x);V>-1&&(this._windowCmpts.splice(V,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(V){return new(V||U)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(Ce.K0),e.LFG(su),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),pc=(()=>{class U{constructor(x){this._ngbConfig=x,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(x){this._animation=x}static#e=this.\u0275fac=function(V){return new(V||U)(e.LFG(yl))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),gc=(()=>{class U{constructor(x,V,he){this._injector=x,this._modalStack=V,this._config=he}open(x,V={}){const he={...this._config,animation:this._config.animation,...V};return this._modalStack.open(this._injector,x,he)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(x){this._modalStack.dismissAll(x)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(V){return new(V||U)(e.LFG(e.zs3),e.LFG(na),e.LFG(pc))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();new e.OlP("live announcer delay",{providedIn:"root",factory:function bc(){return 100}})},3182:(Bn,et,v)=>{"use strict";v.d(et,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=v(534);(0,e.registerVersion)("firebase","9.23.0","app")},7142:(Bn,et,v)=>{"use strict";v.d(et,{Z:()=>e.Z});var e=v(3106);e.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Bn,et,v)=>{"use strict";function e(E,A,_,I,w,g,o){try{var d=E[g](o),u=d.value}catch(m){return void _(m)}d.done?A(u):Promise.resolve(u).then(I,w)}function n(E){return function(){var A=this,_=arguments;return new Promise(function(I,w){var g=E.apply(A,_);function o(u){e(g,I,w,o,d,"next",u)}function d(u){e(g,I,w,o,d,"throw",u)}o(void 0)})}}v.d(et,{Z:()=>n})},7582:(Bn,et,v)=>{"use strict";function A(de,Se){var xe={};for(var Ge in de)Object.prototype.hasOwnProperty.call(de,Ge)&&Se.indexOf(Ge)<0&&(xe[Ge]=de[Ge]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(Ge=Object.getOwnPropertySymbols(de);ge<Ge.length;ge++)Se.indexOf(Ge[ge])<0&&Object.prototype.propertyIsEnumerable.call(de,Ge[ge])&&(xe[Ge[ge]]=de[Ge[ge]])}return xe}function m(de,Se,xe,Ge){return new(xe||(xe=Promise))(function(Ce,Le){function fe(De){try{Te(Ge.next(De))}catch(Ue){Le(Ue)}}function we(De){try{Te(Ge.throw(De))}catch(Ue){Le(Ue)}}function Te(De){De.done?Ce(De.value):function ge(Ce){return Ce instanceof xe?Ce:new xe(function(Le){Le(Ce)})}(De.value).then(fe,we)}Te((Ge=Ge.apply(de,Se||[])).next())})}function C(de){return this instanceof C?(this.v=de,this):new C(de)}function O(de,Se,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,Ge=xe.apply(de,Se||[]),Ce=[];return ge={},Le("next"),Le("throw"),Le("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function Le(lt){Ge[lt]&&(ge[lt]=function(He){return new Promise(function(be,_e){Ce.push([lt,He,be,_e])>1||fe(lt,He)})})}function fe(lt,He){try{!function we(lt){lt.value instanceof C?Promise.resolve(lt.value.v).then(Te,De):Ue(Ce[0][2],lt)}(Ge[lt](He))}catch(be){Ue(Ce[0][3],be)}}function Te(lt){fe("next",lt)}function De(lt){fe("throw",lt)}function Ue(lt,He){lt(He),Ce.shift(),Ce.length&&fe(Ce[0][0],Ce[0][1])}}function G(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Se=de[Symbol.asyncIterator];return Se?Se.call(de):(de=function B(de){var Se="function"==typeof Symbol&&Symbol.iterator,xe=Se&&de[Se],Ge=0;if(xe)return xe.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Ge>=de.length&&(de=void 0),{value:de&&de[Ge++],done:!de}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),xe={},Ge("next"),Ge("throw"),Ge("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Ge(Ce){xe[Ce]=de[Ce]&&function(Le){return new Promise(function(fe,we){!function ge(Ce,Le,fe,we){Promise.resolve(we).then(function(Te){Ce({value:Te,done:fe})},Le)}(fe,we,(Le=de[Ce](Le)).done,Le.value)})}}}v.d(et,{FC:()=>O,KL:()=>G,_T:()=>A,mG:()=>m,qq:()=>C})}},Bn=>{Bn(Bn.s=486)}]);